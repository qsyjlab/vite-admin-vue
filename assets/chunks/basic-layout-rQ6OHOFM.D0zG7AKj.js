import{u as B,z as T,R as Q,g as ee,x as V,X as fe,B as M,A as g,T as Fe,a as o,m as p,q as u,W as i,b as d,j as X,K as e,C as J,k as C,n as x,Y as G,c as Y,F as H,d as Ae,e as we,L as D,v as _e,f as Re,h as Ee,i as w,M as ce,l as me,_ as Ce,o as ke,p as Te,r as W,P as Oe,s as j,t as De,w as Me,y as ze,D as q,E as O,G as Z,H as Pe,I as ne,J as Ze,S as te,N as ye,O as je,Q as $e,U as ue,V as Se,Z as Le,$ as pe,a0 as ve,a1 as Ne,a2 as se,a3 as Ve}from"./index.CXx_r3g5.js";import{O as qe,P as Ge,G as Ue,Q as Ye,r as He,I as K,q as Ke,x as de,y as Xe,S as Je,T as Qe}from"./theme.lKphzJcC.js";import{i as et}from"./index-0syHYYlV.BfDf4_fj.js";import{u as tt}from"./index-mvWmBSnW.DPNyGc_q.js";import"./framework.CtQlGyLl.js";function at(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}function nt(){return navigator.clipboard&&window.isSecureContext}function lt(r,a){nt()&&navigator.clipboard.writeText(r).then(()=>{var n;(n=a==null?void 0:a.success)==null||n.call(a)}).catch(()=>{var n;(n=a==null?void 0:a.error)==null||n.call(a)})}function it(){const{replace:r,currentRoute:a}=ne();function n(){const{query:c,params:l={},fullPath:s,name:m}=e(a);if(m===ue)return Promise.resolve(!1);const t={...l};return m&&Object.keys(l).length>0?(t._origin_params=JSON.stringify(l??{}),t._redirect_type="name",t.path=String(m)):(t._redirect_type="path",t.path=s),r({name:ue,params:t,query:c}).then(()=>Promise.resolve(!0))}return{reload:n}}function Ie(r){const{getMenus:a}=Pe(),{layoutConfig:n}=Q(ee()),c=ne().currentRoute,l=M(()=>n.value.splitMenu);return{menus:M(()=>{var s,m;const t=a();if(!l.value)return t;const f=r==null?void 0:r.value.type,y=(s=c.value.matched[0])==null?void 0:s.name;return f==="left"?((m=t.find(b=>b.name===y))==null?void 0:m.children)||[]:f==="top"?t.map(b=>({...b,children:[]})):t})}}const ot={};function st(r,a){return o(),p("div",X({class:"layout-container"},r.$attrs),[H(r.$slots,"default")],16)}const dt=B(ot,[["render",st]]),ut=T({__name:"layout-header",props:{fixed:{type:Boolean,default:!0},zIndex:{default:1001},minWidth:{default:1200},height:{default:56},paddingLeft:{default:200},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(r){const a=r,n=M(()=>{const{fixed:c,zIndex:l,height:s,paddingLeft:m,transitionDuration:t,transitionTimingFunction:f}=a;return`position: ${c?"fixed":"static"};z-index: ${l};height: ${s}px;padding-left: ${m}px;transition-duration: ${t}ms;transition-timing-function: ${f};box-sizing: border-box;`});return(c,l)=>(o(),p("div",{class:"layout-header",style:W(n.value)},[H(c.$slots,"default")],4))}}),rt=T({__name:"layout-tabs",props:{fixed:{type:Boolean,default:!0},top:{default:56},zIndex:{default:999},minWidth:{default:0},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(r){const a=r,n=M(()=>{const{fixed:c,top:l,zIndex:s,minWidth:m,height:t,paddingLeft:f,transitionDuration:y,transitionTimingFunction:b}=a;return`position: ${c?"fixed":"static"};top: ${l}px;z-index: ${s};min-width: ${m}px;height: ${t}px;padding-left: ${f}px;transition-duration: ${y}ms;transition-timing-function: ${b};box-sizing: border-box;`});return(c,l)=>(o(),p("div",{class:"layout-tab",style:W(n.value)},[H(c.$slots,"default")],4))}}),ct=T({__name:"layout-sidebar",props:{zIndex:{default:1002},width:{default:200},paddingTop:{default:0},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(r){const a=r,n=M(()=>{const{zIndex:c,width:l,paddingTop:s,transitionDuration:m,transitionTimingFunction:t}=a;return{zIndex:c,transitionTimingFunction:t,transitionDuration:`${m}ms`,width:`${l}px`,paddingTop:`${s}px`}});return(c,l)=>(o(),p("div",{class:"layout-sidebar",style:W(n.value)},[H(c.$slots,"default")],4))}}),mt=T({__name:"layout-main",props:{paddingTop:{default:0},paddingBottom:{default:0},paddingLeft:{default:200},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(r){const a=r,n=M(()=>{const{paddingTop:c,paddingBottom:l,paddingLeft:s,transitionDuration:m,transitionTimingFunction:t}=a;return`padding-top: ${c}px;padding-bottom: ${l}px;padding-left: ${s}px;transition-duration: ${m}ms;transition-timing-function: ${t};`});return(c,l)=>(o(),p("div",{class:"layout-main",style:W(n.value)},[H(c.$slots,"default")],4))}}),ft=T({__name:"layout-footer",props:{fixed:{type:Boolean,default:!0},zIndex:{default:999},minWidth:{default:1200},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(r){const a=r,n=M(()=>{const{zIndex:c,height:l,paddingLeft:s,transitionDuration:m,transitionTimingFunction:t}=a;return` z-index: ${c};;height: ${l}px;padding-left: ${s}px;transition-duration: ${m}ms;transition-timing-function: ${t};box-sizing: border-box;`});return(c,l)=>(o(),p("div",{class:"layout-footer",style:W(n.value)},[H(c.$slots,"default")],4))}}),pt=T({__name:"layout",props:{asideWidth:{default:220},asidePaddingTop:{default:0},headerHeight:{default:48},headerPaddingLeft:{},headerZIndex:{default:1001},tabHeight:{default:32},footerHeight:{},config:{default:()=>({header:!0,tab:!0,aside:!0,main:!0,footer:!0})}},setup(r){const a=r,n=M(()=>({width:a.asideWidth,paddingTop:a.asidePaddingTop})),c=M(()=>({paddingLeft:a.headerPaddingLeft,height:a.headerHeight,zIndex:a.headerZIndex})),l=M(()=>({top:a.config.header?a.headerHeight:0,paddingLeft:a.asideWidth,height:a.tabHeight})),s=M(()=>{let t=0;return a.config.header&&(t+=a.headerHeight),a.config.tab&&(t+=a.tabHeight),{paddingLeft:a.asideWidth,paddingTop:t}}),m=M(()=>({paddingLeft:a.asideWidth,height:a.footerHeight}));return(t,f)=>(o(),x(e(dt),null,{default:d(()=>[t.config.aside?(o(),x(e(ct),Y(X({key:0},n.value)),{default:d(()=>[H(t.$slots,"aside")]),_:3},16)):C("v-if",!0),t.config.header?(o(),x(e(ut),Y(X({key:1},c.value)),{default:d(()=>[H(t.$slots,"header")]),_:3},16)):C("v-if",!0),t.config.tab?(o(),x(e(rt),Y(X({key:2},l.value)),{default:d(()=>[H(t.$slots,"tabs")]),_:3},16)):C("v-if",!0),t.config.main?(o(),x(e(mt),Y(X({key:3},s.value)),{default:d(()=>[H(t.$slots,"default")]),_:3},16)):C("v-if",!0),t.config.footer?(o(),x(e(ft),Y(X({key:4},m.value)),{default:d(()=>[H(t.$slots,"footer")]),_:3},16)):C("v-if",!0)]),_:3}))}}),vt=r=>{const a=J.keepAliveCachePolicy!=="never";return T({name:r,setup(){const n=Ae(),c=we();return()=>D(Ee,{},{default:l=>{if(a){const s=J.keepAliveCachePolicy==="normal"?n.getAliveCache:c.getKeepAliveCache;return D(_e,{},()=>D(Re,{include:s},D(l.Component,{key:l.route.fullPath})))}return D(_e,{},D(l.Component,{key:l.route.fullPath}))}})}})},gt=Symbol();function ht(){return Oe(gt)}function Be(){const r=ht();return{...r,isMobile:M(()=>e(r.isMobile))}}const _t={class:"breadcrumb-item"},yt={key:0,class:"icon"},bt={class:"title"},xt=T({__name:"breadcrumb",setup(r){const a=V([]),n=Se((c,l,s)=>{c.name!==ue&&(a.value=s.filter(m=>m.meta.hideInBreadcrumb!==!0))});return Le(()=>{n()}),(c,l)=>{const s=g("el-breadcrumb-item"),m=g("el-breadcrumb");return o(),x(m,{separator:"/"},{default:d(()=>[(o(!0),p(G,null,te(a.value,t=>(o(),x(s,{key:t.path,to:{name:t.name}},{default:d(()=>{var f;return[u("div",_t,[e(J).defaultLayoutSetting.showBreadCrumbIcon?(o(),p("div",yt,[i(e(q),{icon:t.meta.icon,size:18},null,8,["icon"])])):C("v-if",!0),u("div",bt,j((f=t==null?void 0:t.meta)==null?void 0:f.title),1)])]}),_:2},1032,["to"]))),128))]),_:1})}}}),wt=B(xt,[["__scopeId","data-v-ce7ef8bb"]]),Ct=T({__name:"user-menu",setup(r){const{loginOutSystem:a,userInfo:n}=Ze(),c=ne(),l=()=>{a(),c.push({name:"Login"})};return(s,m)=>{const t=g("el-avatar"),f=g("el-space"),y=g("el-button"),b=g("el-dropdown-item"),P=g("el-dropdown-menu"),I=g("el-dropdown");return o(),x(I,{style:{height:"100%"}},{dropdown:d(()=>[i(P,null,{default:d(()=>[i(b,null,{default:d(()=>[Z("个人首页")]),_:1}),i(b,{onClick:l},{default:d(()=>[Z("退出登录")]),_:1})]),_:1})]),default:d(()=>[i(y,{type:"primary",text:""},{default:d(()=>[i(f,null,{default:d(()=>[i(t,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"})]),_:1}),u("span",null,j(e(n).userName),1)]),_:1})]),_:1})}}}),kt={key:0,class:"icon"},Tt={class:"ellipsis"},Mt={key:0,class:"icon"},zt={class:"ellipsis"},Pt={key:0,class:"icon"},$t={class:"ellipsis"},St={name:"MenuItem"},Lt=T({...St,props:{item:{}},setup(r){const a=n=>{var c,l;return!((c=n.meta)!=null&&c.hideChildrenInMenu)&&!!((l=n.children)!=null&&l.length)};return(n,c)=>{const l=g("el-menu-item"),s=g("menu-item",!0),m=g("el-sub-menu");return a(n.item)?(o(),x(m,{key:1,index:n.item.name},{title:d(()=>{var t,f,y,b;return[(t=n.item.meta)!=null&&t.icon?(o(),p("div",Mt,[i(e(q),{size:18,icon:(f=n.item.meta)==null?void 0:f.icon},null,8,["icon"])])):C("v-if",!0),u("span",zt,j((b=(y=n.item)==null?void 0:y.meta)==null?void 0:b.title),1)]}),default:d(()=>[(o(!0),p(G,null,te(n.item.children,t=>{var f;return o(),p(G,{key:t.name},[(f=t.children)!=null&&f.length?(o(),x(s,{key:1,item:t},null,8,["item"])):(o(),x(l,{key:0,index:t.name,route:{name:t.name}},{title:d(()=>{var y;return[u("span",$t,j((y=t==null?void 0:t.meta)==null?void 0:y.title),1)]}),default:d(()=>{var y,b;return[(y=t.meta)!=null&&y.icon?(o(),p("div",Pt,[i(e(q),{size:18,icon:(b=t.meta)==null?void 0:b.icon},null,8,["icon"])])):C("v-if",!0)]}),_:2},1032,["index","route"]))],64)}),128))]),_:1},8,["index"])):(o(),x(l,{key:0,index:n.item.name,route:{name:n.item.name}},{title:d(()=>{var t,f;return[u("span",Tt,j((f=(t=n.item)==null?void 0:t.meta)==null?void 0:f.title),1)]}),default:d(()=>{var t,f;return[(t=n.item.meta)!=null&&t.icon?(o(),p("div",kt,[i(e(q),{size:18,icon:(f=n.item.meta)==null?void 0:f.icon},null,8,["icon"])])):C("v-if",!0)]}),_:1},8,["index","route"]))}}}),Ht=B(Lt,[["__scopeId","data-v-d74561c6"]]),ge=T({__name:"menu",props:{collapsed:{type:Boolean,default:!1},menus:{default:()=>[]},menuType:{default:"side"},isSplit:{type:Boolean,default:!1}},setup(r){const a=r,{currentRoute:n}=ne(),c=M(()=>{var l;const s=e(n);return a.isSplit&&a.menuType==="top"?(l=s.matched[0])==null?void 0:l.name:s.meta.currentActiveMenu||String(s.name)});return(l,s)=>{const m=g("el-menu");return o(),x(m,{collapse:l.collapsed,"default-active":c.value,"collapse-transition":!1,router:""},{default:d(()=>[(o(!0),p(G,null,te(l.menus,t=>(o(),x(Ht,{key:t.name,item:t},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])}}}),It=["src"],ae=T({__name:"logo",props:{logoWidth:{default:78},showTitle:{type:Boolean,default:!0},height:{default:48},width:{default:220},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(r){const a=r,n=M(()=>{const{width:l,height:s}=a;return{width:`${l}px`,height:`${s}px`}}),c=M(()=>({width:`${a.logoWidth}px`}));return(l,s)=>(o(),p("div",{class:"basic-layout-logo",style:W(n.value)},[u("div",{class:"basic-layout-logo__img",style:W(c.value)},[u("img",{src:e(J).logo,alt:"/"},null,8,It)],4),u("div",{class:"basic-layout-logo__title",style:W({display:l.showTitle?"block":"none"})},j(e(ke).projectTitle),5)],4))}}),Bt=T({__name:"notification",setup(r){const a=V("1");return(n,c)=>{const l=g("el-badge"),s=g("el-tab-pane"),m=g("el-tabs"),t=g("el-popover");return o(),p("div",null,[i(t,{placement:"bottom",width:300,trigger:"click","show-arrow":!1},{reference:d(()=>[i(l,{"is-dot":""},{default:d(()=>[H(n.$slots,"default")]),_:3})]),default:d(()=>[i(m,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=f=>a.value=f)},{default:d(()=>[i(s,{label:"通知",name:"1"}),i(s,{label:"消息",name:"2"}),i(s,{label:"代办",name:"3"})]),_:1},8,["modelValue"])]),_:3})])}}}),Wt={class:"basic-layout-header__wrapper"},Ft={class:"basic-layout-header__left"},At={key:1,class:"horizontal-menu"},Rt={class:"basic-layout-header__right"},Et=T({__name:"basic-header",setup(r){const a=ee(),{toggleSettingDrawer:n}=a,{isFullscreen:c,toggle:l}=De(),{setLayoutConfig:s,layoutConfig:m}=Me(),{isMobile:t,projectConfig:f}=Be(),{menus:y}=Ie(M(()=>({type:"top"})));ze(()=>{c.value=at()});const b=()=>{s("theme",m.value.theme==="light"?"dark":"light")};return(P,I)=>{const v=g("el-button"),L=g("el-tooltip"),_=g("el-space");return o(),p("div",Wt,[u("div",Ft,[H(P.$slots,"logo",{},()=>[e(m).layoutMode===e(w).Top?(o(),x(e(ae),{key:0})):C("v-if",!0)]),C(" 面包屑导航 "),e(m).showBreadCrumb&&!e(t)&&[e(w).Side,e(w).SideMix].includes(e(m).layoutMode)?(o(),x(e(wt),{key:0,style:{"padding-left":"15px"}})):C("v-if",!0),[e(w).Top].includes(e(m).layoutMode)||e(w).TopMix===e(m).layoutMode&&e(m).splitMenu?(o(),p("div",At,[i(e(ge),{menus:e(y),mode:"horizontal","menu-type":"top","is-split":e(m).splitMenu},null,8,["menus","is-split"])])):C("v-if",!0)]),u("div",Rt,[i(_,null,{default:d(()=>[i(L,{effect:"dark",content:"消息通知",placement:"bottom"},{default:d(()=>[i(Bt,null,{default:d(()=>[i(v,{icon:e(qe),circle:""},null,8,["icon"])]),_:1})]),_:1}),i(L,{effect:"dark",content:e(c)?"退出全屏":"全屏",placement:"bottom"},{default:d(()=>[i(v,{icon:e(Ge),circle:"",onClick:e(l)},null,8,["icon","onClick"])]),_:1},8,["content"]),i(L,{effect:"dark",content:e(m).theme==="light"?"切换为暗黑模式":"切换为亮色模式",placement:"bottom"},{default:d(()=>[i(v,{circle:"",onClick:b},{default:d(()=>[e(m).theme==="light"?(o(),x(e(q),{key:0,icon:"svg.sun",size:14})):(o(),x(e(q),{key:1,icon:"svg.moon",size:14}))]),_:1})]),_:1},8,["content"]),e(f).defaultLayoutSetting.showSettingButton?(o(),x(L,{key:0,effect:"dark",content:"页面配置",placement:"bottom"},{default:d(()=>[i(v,{icon:e(Ue),circle:"",onClick:e(n)},null,8,["icon","onClick"])]),_:1})):C("v-if",!0),i(e(Ct))]),_:1})])])}}}),Ot={},Dt=r=>(pe("data-v-4dae3501"),r=r(),ve(),r),Zt={className:"drawer-icon drawer-icon-left-side-mix"},jt=Dt(()=>u("div",{className:"drawer-icon-left-side-mix__side"},null,-1)),Nt=[jt];function Vt(r,a){return o(),p("div",Zt,Nt)}const qt=B(Ot,[["render",Vt],["__scopeId","data-v-4dae3501"]]),Gt={},Ut={className:"drawer-icon drawer-icon-top"};function Yt(r,a){return o(),p("div",Ut)}const Kt=B(Gt,[["render",Yt],["__scopeId","data-v-da6c245b"]]),Xt={},Jt={className:"drawer-icon drawer-icon-side-top"};function Qt(r,a){return o(),p("div",Jt)}const ea=B(Xt,[["render",Qt],["__scopeId","data-v-3c84d965"]]),ta={},aa={className:"drawer-icon drawer-icon-side"};function na(r,a){return o(),p("div",aa)}const la=B(ta,[["render",na],["__scopeId","data-v-b53998a0"]]),ia={},oa={viewBox:"64 64 896 896",focusable:"false","data-icon":"check",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},sa=u("path",{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"},null,-1),da=[sa];function ua(r,a){return o(),p("svg",oa,da)}const ra=B(ia,[["render",ua]]),ca={style:{display:"flex",alignItems:"center",flexWrap:"wrap",cursor:"pointer"}},ma=["onClick"],fa={style:{position:"relative"}},pa={key:0,style:{fontSize:"20px",position:"absolute",right:0,bottom:"-4%",color:"#1677ff",zIndex:1,cursor:"pointer"}},va=T({__name:"check-button-group",props:ye({modelValue:{},options:{}},{modelValue:{},modelModifiers:{}}),emits:ye(["change"],["update:modelValue"]),setup(r,{emit:a}){const n=a,c=je(r,"modelValue"),l=s=>{c.value=s,n("change",s)};return(s,m)=>{const t=g("el-tooltip");return o(),p("div",ca,[(o(!0),p(G,null,te(s.options,(f,y)=>(o(),p("div",{key:y,style:{marginRight:"30px",fontSize:"30px"},onClick:b=>l(f.value)},[i(t,{effect:"dark",content:f.title,style:{position:"relative"}},{default:d(()=>[u("div",fa,[f.value==c.value?(o(),p("div",pa,[i(e(ra))])):C("v-if",!0),(o(),x(Te(f.icon)))])]),_:2},1032,["content"])],8,ma))),128))])}}}),ga={class:"setting-item"},ha={class:"setting-item__label"},_a={class:"setting-item__content"},ya=T({__name:"setting-item",props:{title:{}},setup(r){return(a,n)=>(o(),p("div",ga,[u("div",ha,j(a.title),1),u("div",_a,[H(a.$slots,"default",{},void 0,!0)])]))}}),be=B(ya,[["__scopeId","data-v-e4eaeb19"]]),U=r=>(pe("data-v-b4104ca7"),r=r(),ve(),r),ba={class:"setting"},xa=U(()=>u("div",{class:"setting-title"},"系统布局配置",-1)),wa={class:"setting-body"},Ca={class:"setting-item"},ka=U(()=>u("div",{class:"setting-item__label"},"主题色",-1)),Ta={class:"setting-item__content"},Ma={class:"setting-item is-vertical"},za=U(()=>u("div",{class:"setting-item__label"},"导航模式",-1)),Pa={class:"setting-item__content"},$a={class:"setting-item"},Sa=U(()=>u("div",{class:"setting-item__label"},"折叠菜单",-1)),La={class:"setting-item__content"},Ha={class:"setting-item"},Ia=U(()=>u("div",{class:"setting-item__label"},"是否分割菜单",-1)),Ba={class:"setting-item__content"},Wa={class:"setting-item"},Fa=U(()=>u("div",{class:"setting-item__label"},"菜单展开宽度",-1)),Aa={class:"setting-item__content"},Ra={class:"setting-item"},Ea=U(()=>u("div",{class:"setting-item__label"},"头部高度",-1)),Oa={class:"setting-item__content"},Da={class:"setting-item"},Za=U(()=>u("div",{class:"setting-item__label"},"显示面包屑导航",-1)),ja={class:"setting-item__content"},Na={class:"setting-item"},Va=U(()=>u("div",{class:"setting-item__label"},"标签页高度",-1)),qa={class:"setting-item__content"},Ga={class:"setting-footer"},Ua=T({__name:"setting-draver",setup(r){const{message:a,messageBox:n}=et(),c=ee(),{layoutConfig:l,setLayoutConfig:s,getProjectSetting:m,resetLayoutConfig:t}=Me(),{isOpenSettig:f}=Q(c),y=[{title:"侧边栏布局",value:w.Side,icon:la},{title:"顶部菜单布局",value:w.Top,icon:Kt},{title:"顶部混合菜单",value:w.TopMix,icon:ea},{title:"左侧菜单混合",value:w.SideMix,icon:qt}],b=()=>{lt(JSON.stringify(m(),null,2),{success:()=>{n.confirm("复制成功,请到 src/config/project-setting.ts 中修改配置！","复制成功",{showCancelButton:!1,confirmButtonText:"确认",type:"success"})}})},P=()=>{t(),a.success("重置成功")};return(I,v)=>{const L=g("el-color-picker"),_=g("el-switch"),S=g("el-input-number"),z=g("el-button"),F=g("el-space"),A=g("el-drawer");return o(),x(A,{"model-value":e(f),"with-header":!1,direction:"rtl",size:"370px"},{default:d(()=>[u("div",ba,[xa,u("div",wa,[u("div",Ca,[ka,u("div",Ta,[i(L,{"model-value":e(l).themeColor,onChange:v[0]||(v[0]=h=>e(s)(e(O).THEME_COLOR,h))},null,8,["model-value"])])]),u("div",Ma,[za,u("div",Pa,[i(va,{"model-value":e(l).layoutMode,options:y,onChange:v[1]||(v[1]=h=>e(s)(e(O).LAYOUT_MODE,h))},null,8,["model-value"])])]),u("div",$a,[Sa,u("div",La,[i(_,{"model-value":e(l).collapsed,onChange:v[2]||(v[2]=h=>e(s)(e(O).COLLAPSED,h))},null,8,["model-value"])])]),u("div",Ha,[Ia,u("div",Ba,[i(_,{"model-value":e(l).splitMenu,disabled:e(w).TopMix!==e(l).layoutMode,onChange:v[3]||(v[3]=h=>e(s)(e(O).SPLIT_MENU,h))},null,8,["model-value","disabled"])])]),u("div",Wa,[Fa,u("div",Aa,[i(S,{"model-value":e(l).asideWidth,onChange:v[4]||(v[4]=h=>e(s)(e(O).MENU_WIDTH,h))},null,8,["model-value"])])]),u("div",Ra,[Ea,u("div",Oa,[i(S,{"model-value":e(l).headerHeight,onChange:v[5]||(v[5]=h=>e(s)(e(O).HEADER_HEIGHT,h))},null,8,["model-value"])])]),u("div",Da,[Za,u("div",ja,[i(_,{"model-value":e(l).showBreadCrumb,onChange:v[6]||(v[6]=h=>e(s)(e(O).SHOW_BREAD_CRUMB,h))},null,8,["model-value"])])]),i(be,{title:"标签页显示"},{default:d(()=>[i(_,{"model-value":e(l).showTagPage,onChange:v[7]||(v[7]=h=>e(s)(e(O).SHOW_TAB_PAGE,h))},null,8,["model-value"])]),_:1}),i(be,{title:"显示页脚"},{default:d(()=>[i(_,{"model-value":e(l).showFooter,onChange:v[8]||(v[8]=h=>e(s)(e(O).SHOW_FOOTER,h))},null,8,["model-value"])]),_:1}),u("div",Na,[Va,u("div",qa,[i(S,{"model-value":e(l).tabBarHeight,onChange:v[9]||(v[9]=h=>e(s)(e(O).TAB_BAR_HEIGHT,h))},null,8,["model-value"])])])]),u("div",Ga,[i(F,{style:{width:"100%"},fill:"",direction:"vertical"},{default:d(()=>[i(z,{icon:e(Ye),type:"primary",onClick:b},{default:d(()=>[Z("复制")]),_:1},8,["icon"]),i(z,{icon:e(He),type:"warning",onClick:P},{default:d(()=>[Z("重置")]),_:1},8,["icon"])]),_:1})])])]),_:1},8,["model-value"])}}}),Ya=B(Ua,[["__scopeId","data-v-b4104ca7"]]),Ka={class:"basic-layout-footer__wrapper"},Xa={class:"basic-layout-footer__content"},Ja=T({__name:"footer",setup(r){return(a,n)=>(o(),p("div",Ka,[u("div",Xa,[H(a.$slots,"default",{},()=>[Z(" Copyright 2021 - "+j(new Date().getFullYear())+" by 青衫依旧 ",1)])])]))}}),Qa={class:"basic-layout-tabs__wrapper"},en={class:"tabs-bar-container"},tn={class:"tab-scroll"},an=["onContextmenu"],nn={key:0,class:"icon"},ln={class:"tabs-bar__operate"},on={class:"operate-btn"},sn=T({__name:"tab-page",props:{fontSize:{default:14}},setup(r){const a=V(),n=we(),{reload:c}=it(),{getTabPages:l,getCurrentActivityTabPage:s}=Q(n),{isAffixTab:m,addTabPage:t,goTabPage:f,removeTabPage:y,removeAllTabPage:b,removeOhterTabPages:P,removeLeftAllTabPages:I,removeRightAllTabPages:v}=n,L=$e(),_=V(""),S=V([]),z=k=>{var $,N;const re=k==="operate"?($=s.value)==null?void 0:$.fullPath:_.value,le=l.value.findIndex(R=>R.fullPath===re),E=k==="operate"?!0:((N=s.value)==null?void 0:N.fullPath)===_.value,ie=l.value.filter(R=>m(R)).length,oe=ie===l.value.length;return[{title:"重新加载",command:"reload",onClick:c,disabled:!E,icon:"ep.refresh"},{title:"关闭其他",command:"closeOtherstabs",icon:"ep.close",onClick:()=>{P()},disabled:oe||!E},{title:"关闭左侧",command:"closeLefttabs",onClick:()=>{I()},disabled:!E||le<=ie,icon:()=>D(K,{size:12,style:{transform:"rotate(-90deg)"}},()=>D(de))},{title:"关闭右侧",command:"closeRighttabs",onClick:v,disabled:!E||le===l.value.length-1,icon:()=>D(K,{size:12,style:{transform:"rotate(90deg)"}},()=>D(de))},{title:"关闭全部",command:"closeAlltabs",onClick:b,disabled:oe,icon:"ep.circle-close"}]};ze(()=>{A(),fe(()=>L,k=>{if(k.name===ue)return;const $=k.matched.find(N=>N.name===k.name);t({name:k.name,fullPath:k.fullPath,query:k.query,params:k.params,meta:($==null?void 0:$.meta)||{}})},{deep:!0,immediate:!0})});function F(k,$){k.preventDefault(),_.value=$,a.value.show(k)}function A(){function k(){return Ne.getRoutes().filter($=>$.meta.affixTab)}S.value=[],k().forEach($=>{t({name:$.name,fullPath:$.path,query:{},params:{},meta:$.meta}),S.value.push($.path)})}const h=k=>{if(!k.index)return;const $=l.value[Number(k.index)];f($)},he=k=>{const $=l.value.findIndex(N=>N.fullPath===k);y($)};return(k,$)=>{var N;const re=g("el-tab-pane"),le=g("el-tabs"),E=g("el-dropdown-item"),ie=g("el-dropdown-menu"),oe=g("el-dropdown");return o(),p("div",Qa,[u("div",en,[u("div",tn,[i(le,{"model-value":(N=e(s))==null?void 0:N.fullPath,type:"card",class:"tabs-content",onTabClick:h,onTabRemove:he},{default:d(()=>[(o(!0),p(G,null,te(e(l),R=>(o(),x(re,{key:R.fullPath,name:R.fullPath,closable:!S.value.includes(R.fullPath)},{label:d(()=>[u("div",{class:"tab-item",onContextmenu:We=>F(We,R.fullPath)},[R.meta.icon?(o(),p("span",nn,[i(e(q),{icon:R.meta.icon,size:k.fontSize},null,8,["icon","size"])])):C("v-if",!0),u("span",{style:W({fontSize:`${k.fontSize}px`})},j(R.meta.title),5)],40,an)]),_:2},1032,["name","closable"]))),128))]),_:1},8,["model-value"])]),i(e(tt),{ref_key:"contextRef",ref:a,menus:z("contextmenu"),"item-height":25,"font-size":12,style:{width:"80px","font-size":"12px"}},null,8,["menus"]),u("div",ln,[i(oe,{style:{height:"100%"}},{dropdown:d(()=>[i(ie,{class:"tabs-more"},{default:d(()=>[i(E,{command:"reload",onClick:e(c)},{default:d(()=>[i(e(K),null,{default:d(()=>[i(e(He))]),_:1}),Z(" 重新加载 ")]),_:1},8,["onClick"]),i(E,{command:"closeOtherstabs",onClick:e(P)},{default:d(()=>[i(e(K),null,{default:d(()=>[i(e(Ke))]),_:1}),Z(" 关闭其他 ")]),_:1},8,["onClick"]),i(E,{command:"closeLefttabs",onClick:e(I)},{default:d(()=>[i(e(K),{style:W({transform:"rotate(-90deg)"})},{default:d(()=>[i(e(de))]),_:1},8,["style"]),Z(" 关闭左侧 ")]),_:1},8,["onClick"]),i(E,{command:"closeRighttabs",onClick:e(v)},{default:d(()=>[i(e(K),{style:W({transform:"rotate(90deg)"})},{default:d(()=>[i(e(de))]),_:1},8,["style"]),Z(" 关闭右侧 ")]),_:1},8,["onClick"]),i(E,{command:"closeAlltabs",onClick:e(b)},{default:d(()=>[i(e(K),null,{default:d(()=>[i(e(Xe))]),_:1}),Z(" 关闭全部 ")]),_:1},8,["onClick"])]),_:1})]),default:d(()=>[u("span",on,[C(" <el-icon><ArrowDown /></el-icon> "),i(e(q),{icon:"ep.arrow-down",size:16})])]),_:1})])])])}}}),dn=B(sn,[["__scopeId","data-v-3d62d94e"]]),un=r=>(pe("data-v-56201e4a"),r=r(),ve(),r),rn={class:"basic-layout-aside__wrapper"},cn={class:"scroll-wrapper"},mn={class:"basic-layout-aside__menus"},fn={class:"trigger"},pn=un(()=>u("div",null,null,-1)),vn=T({__name:"sidebar",props:{collapsed:{type:Boolean,default:!1}},setup(r){const a=r,n=ee(),{layoutConfig:c}=Q(n),{menus:l}=Ie(M(()=>({type:"left"})));return(s,m)=>{const t=g("el-scrollbar"),f=g("el-icon"),y=g("el-button");return o(),p("div",rn,[H(s.$slots,"logo",{},void 0,!0),u("div",cn,[i(t,null,{default:d(()=>[u("div",mn,[i(e(ge),{collapsed:a.collapsed,menus:e(l)},null,8,["collapsed","menus"])])]),_:1})]),H(s.$slots,"trigger",{},()=>[u("div",fn,[i(y,{text:"",bg:"",onClick:m[0]||(m[0]=b=>e(n).setLayoutConfig({collapsed:!e(c).collapsed}))},{default:d(()=>[i(f,{size:14},{default:d(()=>[e(c).collapsed?(o(),x(e(Je),{key:1})):(o(),x(e(Qe),{key:0}))]),_:1})]),_:1})])],!0),pn])}}}),xe=B(vn,[["__scopeId","data-v-56201e4a"]]),gn={},hn={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",className:"iconify iconify--ri",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},_n=u("path",{fill:"currentColor",d:"M18 3v2h-1v6l2 3v2h-6v7h-2v-7H5v-2l2-3V5H6V3z"},null,-1),yn=[_n];function bn(r,a){return o(),p("svg",hn,yn)}const xn=B(gn,[["render",bn]]),wn={class:"basic-layout-mix-menu-module",style:{width:"90px"}},Cn=["onClick"],kn={class:"basic-layout-mix-menu-module__line"},Tn={class:"basic-layout-mix-menu-children__content"},Mn=T({__name:"menu",props:{menuWidth:{},headerHeight:{}},setup(r){const a=ee(),{layoutConfig:n}=Q(a),{getMenus:c}=Pe(),l=$e(),s=ne(),m=V(l.name),t=V(!1),f=V([]),y=M(()=>c()),b=Se((_,S,z)=>{const F=z[0];m.value=F.name,f.value=I(),f.value.length===0&&(t.value=!1)});Le(()=>{b()}),fe(t,_=>{a.setShowMixChildrenMenu(_)});const P=_=>{if(_.name){if(t.value=!1,m.value=_.name,f.value=I(),f.value.length===0){t.value=!1,s.push({name:_.name,query:{}});return}t.value=!0}};function I(){const _=y.value.find(F=>F.name===m.value);if(!_)return[];const{children:S=[],meta:z}=_;return z!=null&&z.hideChildrenInMenu&&S!=null&&S.length&&(S==null?void 0:S.length)<=1?[]:S}const v=()=>{n.value.sideMixFixedMenu&&t.value||(t.value=!1)},L=()=>{a.setLayoutConfig({sideMixFixedMenu:!a.layoutConfig.sideMixFixedMenu})};return(_,S)=>(o(),p("div",{class:"basic-layout-mix-menu",tabindex:-1,onBlur:v},[C(""),u("div",wn,[(o(!0),p(G,null,te(y.value,(z,F)=>{var A,h;return o(),p("div",{key:F,class:se(["basic-layout-mix-menu-module__item",z.name===m.value?"is-active":""]),onClick:he=>P(z)},[u("div",{class:se([z.name===m.value?"is-active":"","basic-layout-mix-menu-module__icon"])},[i(e(q),{icon:(A=z.meta)==null?void 0:A.icon,size:20},null,8,["icon"])],2),u("div",{class:se([z.name===m.value?"is-active":"","basic-layout-mix-menu-module__label"])},j((h=z.meta)==null?void 0:h.title),3),Ce(u("div",kn,null,512),[[Ve,z.name===m.value]])],10,Cn)}),128))]),u("div",{class:se(["basic-layout-mix-menu-children",t.value?"is-show":""]),style:W({width:t.value?`${_.menuWidth}px`:"0px"})},[u("div",Tn,[u("div",{class:"basic-layout-mix-menu-children-header",style:W({height:_.headerHeight+"px"})},[u("div",{class:"basic-layout-mix-menu-children-header-icon",style:W({color:"rgba(0, 0, 0, 0.35)"}),onClick:L},[i(xn)],4)],4),i(e(ge),{menus:f.value},null,8,["menus"])])],6)],32))}}),zn=B(Mn,[["__scopeId","data-v-7b895ce6"]]),Pn={class:"mix-sidebar basic-layout-aside__wrapper"},$n=T({__name:"mix-sidebar",setup(r){const{layoutConfig:a}=Q(ee());return(n,c)=>(o(),p("div",Pn,[i(ae,{"show-title":!1,"logo-width":90,height:e(a).headerHeight},null,8,["height"]),i(zn,{"header-height":e(a).headerHeight,"menu-width":e(a).asideWidth},null,8,["header-height","menu-width"])]))}}),Sn={class:"page-container"},Ln={key:0,class:"mobile-menu"},Hn={class:"basic-layout-main__wrapper"},In=T({__name:"basic-layout",setup(r){const a=vt("BasicLayout"),{layoutConfig:n,mixMenuLayoutConfig:c}=Q(ee()),{isMobile:l}=Be(),s=V(!1);fe(l,()=>{n.value.layoutMode&&![w.Top].includes(n.value.layoutMode)&&(s.value=l.value)},{immediate:!0});const m=()=>{s.value=!s.value},t=M(()=>({fontSize:12})),f=M(()=>{const{layoutMode:b,asideWidth:P=220,collapsed:I,headerHeight:v,tabBarHeight:L=0,footerHeight:_}=e(n),S=78,z=90,{sideMixFixedMenu:F}=e(n),{showTagPage:A}=n.value;return{[w.Side]:()=>{const h=l.value?0:I?S:P;return{footerHeight:_,headerHeight:v,tabHeight:A?L:0,asideWidth:h,headerPaddingLeft:h,headerZIndex:1001}},[w.TopMix]:()=>{const h=l.value?0:I?S:P;return{footerHeight:_,headerHeight:v,tabHeight:A?L:0,asideWidth:h,asidePaddingTop:v,headerZIndex:1003,headerPaddingLeft:0}},[w.Top]:()=>({footerHeight:_,tabHeight:A?L:0,asideWidth:0,headerPaddingLeft:0}),[w.SideMix]:()=>{const h=l.value?0:F&&c.value.showChildren?z+P:z;return{footerHeight:_,headerHeight:v,tabHeight:A?L:0,asideWidth:h,headerPaddingLeft:h}}}[b||w.Side]()}),y=M(()=>{const{layoutMode:b,asideWidth:P,collapsed:I,headerHeight:v}=e(n);return{[w.Side]:()=>({height:v,width:P,showTitle:!I}),[w.SideMix]:()=>({}),[w.TopMix]:()=>({}),[w.Top]:()=>({})}[b||w.Side]()});return(b,P)=>{const I=g("el-drawer"),v=g("el-backtop"),L=Fe("watermark");return o(),p(G,null,[u("div",Sn,[i(e(pt),X(f.value,{config:{footer:e(n).showFooter,header:e(J).defaultLayoutSetting.showHeader,tab:e(n).showTagPage,aside:!!f.value.asideWidth,main:!0}}),{aside:d(()=>[e(l)?(o(),p("div",Ln,[i(I,{modelValue:s.value,"onUpdate:modelValue":P[0]||(P[0]=_=>s.value=_),direction:"ltr","with-header":!1,size:e(n).asideWidth||250},{default:d(()=>[i(e(xe),{collapsed:e(n).collapsed},ce({_:2},[e(w).Side===e(n).layoutMode?{name:"logo",fn:d(()=>[i(e(ae),Y(me(y.value)),null,16)]),key:"0"}:void 0]),1032,["collapsed"])]),_:1},8,["modelValue","size"])])):(o(),p(G,{key:1},[e(n).layoutMode&&![e(w).Top,e(w).SideMix].includes(e(n).layoutMode)?(o(),x(e(xe),{key:0,collapsed:e(n).collapsed},ce({_:2},[e(w).Side===e(n).layoutMode?{name:"logo",fn:d(()=>[i(e(ae),Y(me(y.value)),null,16)]),key:"0"}:void 0]),1032,["collapsed"])):C("v-if",!0),e(n).layoutMode&&[e(w).SideMix].includes(e(n).layoutMode)?(o(),x(e($n),{key:1})):C("v-if",!0)],64))]),header:d(()=>[i(e(Et),{onMobileDrawer:m},ce({_:2},[e(w).TopMix===e(n).layoutMode?{name:"logo",fn:d(()=>[i(e(ae),{width:e(n).asideWidth},null,8,["width"])]),key:"0"}:void 0]),1024)]),tabs:d(()=>[i(e(dn),Y(me(t.value)),null,16)]),footer:d(()=>[i(e(Ja))]),default:d(()=>[Ce((o(),p("div",Hn,[(o(),x(Te(e(a))))])),[[L,{content:e(ke).projectTitle}]])]),_:1},16,["config"])]),C(" 回到顶部 "),e(J).defaultLayoutSetting.showBackTop?(o(),x(v,{key:0})):C("v-if",!0),C(" 设置 "),e(J).defaultLayoutSetting.showSettingButton?(o(),x(e(Ya),{key:1})):C("v-if",!0)],64)}}}),En=B(In,[["__scopeId","data-v-3ec464f9"]]);export{En as default};
