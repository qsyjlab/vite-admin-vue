import{d as M,h as V,y as me,k as T,E as g,aK as Le,o,c as v,m as u,J as i,w as d,p as e,aw as re,ay as K,az as ce,F as q,b as x,e as C,ak as _e,K as be,N as G,r as I,aD as N,b8 as Be,Q as W,t as R,l as xe,a as O,G as te,A as ke,b9 as ve,ba as De,n as se,al as Ae}from"./framework.D1sHVKzl.js";import{M as B,c as Q,p as Y,k as w,t as we,u as X,Z as ge,g as We,J as Fe,o as Ce,X as E,a as Ne,E as Me,r as le,U as Oe,Y as Re,b as F,n as Te,q as ue,d as Se,D as Ve}from"./index.B_-AZqtN.js";import{O as $e}from"./tab-page-DyPMOpJn.Ds7hZXIg.js";import{Q as Ee,S as qe,I as Ue,T as Je,B as ze,L as j,C as Ke,D as de,F as Ze,U as je,V as Ge}from"./theme.af-yJUCQ.js";import{i as Xe}from"./index-BoT92Dix.oxBEncJp.js";import{m as Qe}from"./index-CQcoPqzg.DE73Vebg.js";function Ye(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}function et(){return navigator.clipboard&&window.isSecureContext}function tt(f,t){et()&&navigator.clipboard.writeText(f).then(()=>{var n;(n=t==null?void 0:t.success)==null||n.call(t)}).catch(()=>{var n;(n=t==null?void 0:t.error)==null||n.call(t)})}const at="routeStoreKey",nt=Ne(at,{state(){return{keepAliveCache:new Set}},actions:{addAlive(f){this.keepAliveCache.add(f)}},getters:{getAliveCache:f=>Array.from(f.keepAliveCache)}});function lt(){const{replace:f,currentRoute:t}=le();function n(){const{query:c,params:l={},fullPath:s,name:r}=e(t);if(r===ue)return Promise.resolve(!1);const a={...l};return r&&Object.keys(l).length>0?(a._origin_params=JSON.stringify(l??{}),a._redirect_type="name",a.path=String(r)):(a._redirect_type="path",a.path=s),f({name:ue,params:a,query:c}).then(()=>Promise.resolve(!0))}return{reload:n}}function He(f){const{getMenus:t}=Me(),{layoutConfig:n}=Q(Y()),c=le().currentRoute,l=T(()=>n.value.splitMenu);return{menus:T(()=>{var s,r;const a=t();if(!l.value)return a;const p=f==null?void 0:f.value.type,_=(s=c.value.matched[0])==null?void 0:s.name;return p==="left"?((r=a.find(b=>b.name===_))==null?void 0:r.children)||[]:p==="top"?a.map(b=>({...b,children:[]})):a})}}const it={};function ot(f,t){return o(),v("div",G({class:"layout-container"},f.$attrs),[I(f.$slots,"default")],16)}const st=B(it,[["render",ot]]),dt=M({__name:"layout-header",props:{fixed:{type:Boolean,default:!0},zIndex:{default:1001},minWidth:{default:1200},height:{default:56},paddingLeft:{default:200},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(f){const t=f,n=T(()=>{const{fixed:c,zIndex:l,height:s,paddingLeft:r,transitionDuration:a,transitionTimingFunction:p}=t;return`position: ${c?"fixed":"static"};z-index: ${l};height: ${s}px;padding-left: ${r}px;transition-duration: ${a}ms;transition-timing-function: ${p};box-sizing: border-box;`});return(c,l)=>(o(),v("div",{class:"layout-header",style:W(n.value)},[I(c.$slots,"default")],4))}}),ut=M({__name:"layout-tabs",props:{fixed:{type:Boolean,default:!0},top:{default:56},zIndex:{default:999},minWidth:{default:0},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(f){const t=f,n=T(()=>{const{fixed:c,top:l,zIndex:s,minWidth:r,height:a,paddingLeft:p,transitionDuration:_,transitionTimingFunction:b}=t;return`position: ${c?"fixed":"static"};top: ${l}px;z-index: ${s};min-width: ${r}px;height: ${a}px;padding-left: ${p}px;transition-duration: ${_}ms;transition-timing-function: ${b};box-sizing: border-box;`});return(c,l)=>(o(),v("div",{class:"layout-tab",style:W(n.value)},[I(c.$slots,"default")],4))}}),rt=M({__name:"layout-sidebar",props:{zIndex:{default:1002},width:{default:200},paddingTop:{default:0},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(f){const t=f,n=T(()=>{const{zIndex:c,width:l,paddingTop:s,transitionDuration:r,transitionTimingFunction:a}=t;return{zIndex:c,transitionTimingFunction:a,transitionDuration:`${r}ms`,width:`${l}px`,paddingTop:`${s}px`}});return(c,l)=>(o(),v("div",{class:"layout-sidebar",style:W(n.value)},[I(c.$slots,"default")],4))}}),ct=M({__name:"layout-main",props:{paddingTop:{default:0},paddingBottom:{default:0},paddingLeft:{default:200},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(f){const t=f,n=T(()=>{const{paddingTop:c,paddingBottom:l,paddingLeft:s,transitionDuration:r,transitionTimingFunction:a}=t;return`padding-top: ${c}px;padding-bottom: ${l}px;padding-left: ${s}px;transition-duration: ${r}ms;transition-timing-function: ${a};`});return(c,l)=>(o(),v("div",{class:"layout-main",style:W(n.value)},[I(c.$slots,"default")],4))}}),mt=M({__name:"layout-footer",props:{fixed:{type:Boolean,default:!0},zIndex:{default:999},minWidth:{default:1200},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(f){const t=f,n=T(()=>{const{zIndex:c,height:l,paddingLeft:s,transitionDuration:r,transitionTimingFunction:a}=t;return` z-index: ${c};;height: ${l}px;padding-left: ${s}px;transition-duration: ${r}ms;transition-timing-function: ${a};box-sizing: border-box;`});return(c,l)=>(o(),v("div",{class:"layout-footer",style:W(n.value)},[I(c.$slots,"default")],4))}}),ft=M({__name:"layout",props:{asideWidth:{default:220},asidePaddingTop:{default:0},headerHeight:{default:48},headerPaddingLeft:{},headerZIndex:{default:1001},tabHeight:{default:32},footerHeight:{},config:{default:()=>({header:!0,tab:!0,aside:!0,main:!0,footer:!0})}},setup(f){const t=f,n=T(()=>({width:t.asideWidth,paddingTop:t.asidePaddingTop})),c=T(()=>({paddingLeft:t.headerPaddingLeft,height:t.headerHeight,zIndex:t.headerZIndex})),l=T(()=>({top:t.config.header?t.headerHeight:0,paddingLeft:t.asideWidth,height:t.tabHeight})),s=T(()=>{let a=0;return t.config.header&&(a+=t.headerHeight),t.config.tab&&(a+=t.tabHeight),{paddingLeft:t.asideWidth,paddingTop:a}}),r=T(()=>({paddingLeft:t.asideWidth,height:t.footerHeight}));return(a,p)=>(o(),x(e(st),null,{default:d(()=>[a.config.aside?(o(),x(e(rt),K(G({key:0},n.value)),{default:d(()=>[I(a.$slots,"aside")]),_:3},16)):C("v-if",!0),a.config.header?(o(),x(e(dt),K(G({key:1},c.value)),{default:d(()=>[I(a.$slots,"header")]),_:3},16)):C("v-if",!0),a.config.tab?(o(),x(e(ut),K(G({key:2},l.value)),{default:d(()=>[I(a.$slots,"tabs")]),_:3},16)):C("v-if",!0),a.config.main?(o(),x(e(ct),K(G({key:3},s.value)),{default:d(()=>[I(a.$slots,"default")]),_:3},16)):C("v-if",!0),a.config.footer?(o(),x(e(mt),K(G({key:4},r.value)),{default:d(()=>[I(a.$slots,"footer")]),_:3},16)):C("v-if",!0)]),_:3}))}}),pt=f=>{const t=X.keepAliveCachePolicy!=="never";return M({name:f,setup(){const n=nt(),c=$e();return()=>N(We,{},{default:l=>{if(t){const s=X.keepAliveCachePolicy==="normal"?n.getAliveCache:c.getKeepAliveCache;return N(ge,{},()=>N(Be,{include:s},N(l.Component,{key:l.route.fullPath})))}return N(ge,{},N(l.Component,{key:l.route.fullPath}))}})}})},vt=Symbol();function gt(){return Oe(vt)}function Pe(){const f=gt();return{...f,isMobile:T(()=>e(f.isMobile))}}const ht={class:"breadcrumb-item"},yt={key:0,class:"icon"},_t={class:"title"},bt=M({__name:"breadcrumb",setup(f){const t=V([]),n=Se((c,l,s)=>{c.name!==ue&&(t.value=s.filter(r=>r.meta.hideInBreadcrumb!==!0))});return ke(()=>{n()}),(c,l)=>{const s=g("el-breadcrumb-item"),r=g("el-breadcrumb");return o(),x(r,{separator:"/"},{default:d(()=>[(o(!0),v(q,null,te(t.value,a=>(o(),x(s,{key:a.path,to:{name:a.name}},{default:d(()=>{var p;return[u("div",ht,[e(X).defaultLayoutSetting.showBreadCrumbIcon?(o(),v("div",yt,[i(e(E),{icon:a.meta.icon,size:18},null,8,["icon"])])):C("v-if",!0),u("div",_t,R((p=a==null?void 0:a.meta)==null?void 0:p.title),1)])]}),_:2},1032,["to"]))),128))]),_:1})}}}),xt=B(bt,[["__scopeId","data-v-ce7ef8bb"]]),kt=M({__name:"user-menu",setup(f){const{loginOutSystem:t,userInfo:n}=Re(),c=le(),l=()=>{t(),c.push({name:"Login"})};return(s,r)=>{const a=g("el-avatar"),p=g("el-space"),_=g("el-button"),b=g("el-dropdown-item"),z=g("el-dropdown-menu"),L=g("el-dropdown");return o(),x(L,{style:{height:"100%"}},{dropdown:d(()=>[i(z,null,{default:d(()=>[i(b,null,{default:d(()=>r[0]||(r[0]=[O("个人首页")])),_:1}),i(b,{onClick:l},{default:d(()=>r[1]||(r[1]=[O("退出登录")])),_:1})]),_:1})]),default:d(()=>[i(_,{type:"primary",text:""},{default:d(()=>[i(p,null,{default:d(()=>[i(a,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"})]),_:1}),u("span",null,R(e(n).userName),1)]),_:1})]),_:1})}}}),wt={key:0,class:"icon"},Ct={class:"ellipsis"},Mt={key:0,class:"icon"},Tt={class:"ellipsis"},St={key:0,class:"icon"},$t={class:"ellipsis"},zt={name:"MenuItem"},Ht=M({...zt,props:{item:{}},setup(f){const t=n=>{var c,l;return!((c=n.meta)!=null&&c.hideChildrenInMenu)&&!!((l=n.children)!=null&&l.length)};return(n,c)=>{const l=g("el-menu-item"),s=g("menu-item",!0),r=g("el-sub-menu");return t(n.item)?(o(),x(r,{key:1,index:n.item.name},{title:d(()=>{var a,p,_,b;return[(a=n.item.meta)!=null&&a.icon?(o(),v("div",Mt,[i(e(E),{size:18,icon:(p=n.item.meta)==null?void 0:p.icon},null,8,["icon"])])):C("v-if",!0),u("span",Tt,R((b=(_=n.item)==null?void 0:_.meta)==null?void 0:b.title),1)]}),default:d(()=>[(o(!0),v(q,null,te(n.item.children,a=>{var p;return o(),v(q,{key:a.name},[(p=a.children)!=null&&p.length?(o(),x(s,{key:1,item:a},null,8,["item"])):(o(),x(l,{key:0,index:a.name,route:{name:a.name}},{title:d(()=>{var _;return[u("span",$t,R((_=a==null?void 0:a.meta)==null?void 0:_.title),1)]}),default:d(()=>{var _,b;return[(_=a.meta)!=null&&_.icon?(o(),v("div",St,[i(e(E),{size:18,icon:(b=a.meta)==null?void 0:b.icon},null,8,["icon"])])):C("v-if",!0)]}),_:2},1032,["index","route"]))],64)}),128))]),_:1},8,["index"])):(o(),x(l,{key:0,index:n.item.name,route:{name:n.item.name}},{title:d(()=>{var a,p;return[u("span",Ct,R((p=(a=n.item)==null?void 0:a.meta)==null?void 0:p.title),1)]}),default:d(()=>{var a,p;return[(a=n.item.meta)!=null&&a.icon?(o(),v("div",wt,[i(e(E),{size:18,icon:(p=n.item.meta)==null?void 0:p.icon},null,8,["icon"])])):C("v-if",!0)]}),_:1},8,["index","route"]))}}}),Pt=B(Ht,[["__scopeId","data-v-d74561c6"]]),fe=M({__name:"menu",props:{collapsed:{type:Boolean,default:!1},menus:{default:()=>[]},menuType:{default:"side"},isSplit:{type:Boolean,default:!1}},setup(f){const t=f,{currentRoute:n}=le(),c=T(()=>{var l;const s=e(n);return t.isSplit&&t.menuType==="top"?(l=s.matched[0])==null?void 0:l.name:s.meta.currentActiveMenu||String(s.name)});return(l,s)=>{const r=g("el-menu");return o(),x(r,{collapse:l.collapsed,"default-active":c.value,"collapse-transition":!1,router:""},{default:d(()=>[(o(!0),v(q,null,te(l.menus,a=>(o(),x(Pt,{key:a.name,item:a},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])}}}),It=["src"],ne=M({__name:"logo",props:{logoWidth:{default:78},showTitle:{type:Boolean,default:!0},height:{default:48},width:{default:220},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(f){const t=f,n=T(()=>{const{width:l,height:s}=t;return{width:`${l}px`,height:`${s}px`}}),c=T(()=>({width:`${t.logoWidth}px`}));return(l,s)=>(o(),v("div",{class:"basic-layout-logo",style:W(n.value)},[u("div",{class:"basic-layout-logo__img",style:W(c.value)},[u("img",{src:e(X).logo,alt:"/"},null,8,It)],4),u("div",{class:"basic-layout-logo__title",style:W({display:l.showTitle?"block":"none"})},R(e(we).projectTitle),5)],4))}}),Lt=M({__name:"notification",setup(f){const t=V("1");return(n,c)=>{const l=g("el-badge"),s=g("el-tab-pane"),r=g("el-tabs"),a=g("el-popover");return o(),v("div",null,[i(a,{placement:"bottom",width:300,trigger:"click","show-arrow":!1},{reference:d(()=>[i(l,{"is-dot":""},{default:d(()=>[I(n.$slots,"default")]),_:3})]),default:d(()=>[i(r,{modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=p=>t.value=p)},{default:d(()=>[i(s,{label:"通知",name:"1"}),i(s,{label:"消息",name:"2"}),i(s,{label:"代办",name:"3"})]),_:1},8,["modelValue"])]),_:3})])}}}),Bt={class:"basic-layout-header__wrapper"},Dt={class:"basic-layout-header__left"},At={key:1,class:"horizontal-menu"},Wt={class:"basic-layout-header__right"},Ft=M({__name:"basic-header",setup(f){const t=Y(),{toggleSettingDrawer:n}=t,{isFullscreen:c,toggle:l}=Fe(),{setLayoutConfig:s,layoutConfig:r}=Ce(),{isMobile:a,projectConfig:p}=Pe(),{menus:_}=He(T(()=>({type:"top"})));xe(()=>{c.value=Ye()});const b=()=>{s("theme",r.value.theme==="light"?"dark":"light")};return(z,L)=>{const m=g("el-button"),P=g("el-tooltip"),y=g("el-space");return o(),v("div",Bt,[u("div",Dt,[I(z.$slots,"logo",{},()=>[e(r).layoutMode===e(w).Top?(o(),x(e(ne),{key:0})):C("v-if",!0)]),C(" 面包屑导航 "),e(r).showBreadCrumb&&!e(a)&&[e(w).Side,e(w).SideMix].includes(e(r).layoutMode)?(o(),x(e(xt),{key:0,style:{"padding-left":"15px"}})):C("v-if",!0),[e(w).Top].includes(e(r).layoutMode)||e(w).TopMix===e(r).layoutMode&&e(r).splitMenu?(o(),v("div",At,[i(e(fe),{menus:e(_),mode:"horizontal","menu-type":"top","is-split":e(r).splitMenu},null,8,["menus","is-split"])])):C("v-if",!0)]),u("div",Wt,[i(y,null,{default:d(()=>[i(P,{effect:"dark",content:"消息通知",placement:"bottom"},{default:d(()=>[i(Lt,null,{default:d(()=>[i(m,{icon:e(Ee),circle:""},null,8,["icon"])]),_:1})]),_:1}),i(P,{effect:"dark",content:e(c)?"退出全屏":"全屏",placement:"bottom"},{default:d(()=>[i(m,{icon:e(qe),circle:"",onClick:e(l)},null,8,["icon","onClick"])]),_:1},8,["content"]),i(P,{effect:"dark",content:e(r).theme==="light"?"切换为暗黑模式":"切换为亮色模式",placement:"bottom"},{default:d(()=>[i(m,{circle:"",onClick:b},{default:d(()=>[e(r).theme==="light"?(o(),x(e(E),{key:0,icon:"svg.sun",size:14})):(o(),x(e(E),{key:1,icon:"svg.moon",size:14}))]),_:1})]),_:1},8,["content"]),e(p).defaultLayoutSetting.showSettingButton?(o(),x(P,{key:0,effect:"dark",content:"页面配置",placement:"bottom"},{default:d(()=>[i(m,{icon:e(Ue),circle:"",onClick:e(n)},null,8,["icon","onClick"])]),_:1})):C("v-if",!0),i(e(kt))]),_:1})])])}}}),Nt={},Ot={className:"drawer-icon drawer-icon-left-side-mix"};function Rt(f,t){return o(),v("div",Ot,t[0]||(t[0]=[u("div",{className:"drawer-icon-left-side-mix__side"},null,-1)]))}const Vt=B(Nt,[["render",Rt],["__scopeId","data-v-4dae3501"]]),Et={},qt={className:"drawer-icon drawer-icon-top"};function Ut(f,t){return o(),v("div",qt)}const Jt=B(Et,[["render",Ut],["__scopeId","data-v-da6c245b"]]),Kt={},Zt={className:"drawer-icon drawer-icon-side-top"};function jt(f,t){return o(),v("div",Zt)}const Gt=B(Kt,[["render",jt],["__scopeId","data-v-3c84d965"]]),Xt={},Qt={className:"drawer-icon drawer-icon-side"};function Yt(f,t){return o(),v("div",Qt)}const ea=B(Xt,[["render",Yt],["__scopeId","data-v-b53998a0"]]),ta={},aa={viewBox:"64 64 896 896",focusable:"false","data-icon":"check",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"};function na(f,t){return o(),v("svg",aa,t[0]||(t[0]=[u("path",{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"},null,-1)]))}const la=B(ta,[["render",na]]),ia={style:{display:"flex",alignItems:"center",flexWrap:"wrap",cursor:"pointer"}},oa=["onClick"],sa={style:{position:"relative"}},da={key:0,style:{fontSize:"20px",position:"absolute",right:0,bottom:"-4%",color:"#1677ff",zIndex:1,cursor:"pointer"}},ua=M({__name:"check-button-group",props:ve({modelValue:{},options:{}},{modelValue:{},modelModifiers:{}}),emits:ve(["change"],["update:modelValue"]),setup(f,{emit:t}){const n=t,c=De(f,"modelValue"),l=s=>{c.value=s,n("change",s)};return(s,r)=>{const a=g("el-tooltip");return o(),v("div",ia,[(o(!0),v(q,null,te(s.options,(p,_)=>(o(),v("div",{key:_,style:{marginRight:"30px",fontSize:"30px"},onClick:b=>l(p.value)},[i(a,{effect:"dark",content:p.title,style:{position:"relative"}},{default:d(()=>[u("div",sa,[p.value==c.value?(o(),v("div",da,[i(e(la))])):C("v-if",!0),(o(),x(be(p.icon)))])]),_:2},1032,["content"])],8,oa))),128))])}}}),ra={class:"setting-item"},ca={class:"setting-item__label"},ma={class:"setting-item__content"},fa=M({__name:"setting-item",props:{title:{}},setup(f){return(t,n)=>(o(),v("div",ra,[u("div",ca,R(t.title),1),u("div",ma,[I(t.$slots,"default",{},void 0,!0)])]))}}),he=B(fa,[["__scopeId","data-v-e4eaeb19"]]),pa={class:"setting"},va={class:"setting-body"},ga={class:"setting-item"},ha={class:"setting-item__content"},ya={class:"setting-item is-vertical"},_a={class:"setting-item__content"},ba={class:"setting-item"},xa={class:"setting-item__content"},ka={class:"setting-item"},wa={class:"setting-item__content"},Ca={class:"setting-item"},Ma={class:"setting-item__content"},Ta={class:"setting-item"},Sa={class:"setting-item__content"},$a={class:"setting-item"},za={class:"setting-item__content"},Ha={class:"setting-item"},Pa={class:"setting-item__content"},Ia={class:"setting-footer"},La=M({__name:"setting-draver",setup(f){const{message:t,messageBox:n}=Xe(),c=Y(),{layoutConfig:l,setLayoutConfig:s,getProjectSetting:r,resetLayoutConfig:a}=Ce(),{isOpenSettig:p}=Q(c),_=[{title:"侧边栏布局",value:w.Side,icon:ea},{title:"顶部菜单布局",value:w.Top,icon:Jt},{title:"顶部混合菜单",value:w.TopMix,icon:Gt},{title:"左侧菜单混合",value:w.SideMix,icon:Vt}],b=()=>{tt(JSON.stringify(r(),null,2),{success:()=>{n.confirm("复制成功,请到 src/config/project-setting.ts 中修改配置！","复制成功",{showCancelButton:!1,confirmButtonText:"确认",type:"success"})}})},z=()=>{a(),t.success("重置成功")};return(L,m)=>{const P=g("el-color-picker"),y=g("el-switch"),H=g("el-input-number"),$=g("el-button"),D=g("el-space"),A=g("el-drawer");return o(),x(A,{"model-value":e(p),"with-header":!1,direction:"rtl",size:"370px"},{default:d(()=>[u("div",pa,[m[20]||(m[20]=u("div",{class:"setting-title"},"系统布局配置",-1)),u("div",va,[u("div",ga,[m[10]||(m[10]=u("div",{class:"setting-item__label"},"主题色",-1)),u("div",ha,[i(P,{"model-value":e(l).themeColor,onChange:m[0]||(m[0]=h=>e(s)(e(F).THEME_COLOR,h))},null,8,["model-value"])])]),u("div",ya,[m[11]||(m[11]=u("div",{class:"setting-item__label"},"导航模式",-1)),u("div",_a,[i(ua,{"model-value":e(l).layoutMode,options:_,onChange:m[1]||(m[1]=h=>e(s)(e(F).LAYOUT_MODE,h))},null,8,["model-value"])])]),u("div",ba,[m[12]||(m[12]=u("div",{class:"setting-item__label"},"折叠菜单",-1)),u("div",xa,[i(y,{"model-value":e(l).collapsed,onChange:m[2]||(m[2]=h=>e(s)(e(F).COLLAPSED,h))},null,8,["model-value"])])]),u("div",ka,[m[13]||(m[13]=u("div",{class:"setting-item__label"},"是否分割菜单",-1)),u("div",wa,[i(y,{"model-value":e(l).splitMenu,disabled:e(w).TopMix!==e(l).layoutMode,onChange:m[3]||(m[3]=h=>e(s)(e(F).SPLIT_MENU,h))},null,8,["model-value","disabled"])])]),u("div",Ca,[m[14]||(m[14]=u("div",{class:"setting-item__label"},"菜单展开宽度",-1)),u("div",Ma,[i(H,{"model-value":e(l).asideWidth,onChange:m[4]||(m[4]=h=>e(s)(e(F).MENU_WIDTH,h))},null,8,["model-value"])])]),u("div",Ta,[m[15]||(m[15]=u("div",{class:"setting-item__label"},"头部高度",-1)),u("div",Sa,[i(H,{"model-value":e(l).headerHeight,onChange:m[5]||(m[5]=h=>e(s)(e(F).HEADER_HEIGHT,h))},null,8,["model-value"])])]),u("div",$a,[m[16]||(m[16]=u("div",{class:"setting-item__label"},"显示面包屑导航",-1)),u("div",za,[i(y,{"model-value":e(l).showBreadCrumb,onChange:m[6]||(m[6]=h=>e(s)(e(F).SHOW_BREAD_CRUMB,h))},null,8,["model-value"])])]),i(he,{title:"标签页显示"},{default:d(()=>[i(y,{"model-value":e(l).showTagPage,onChange:m[7]||(m[7]=h=>e(s)(e(F).SHOW_TAB_PAGE,h))},null,8,["model-value"])]),_:1}),i(he,{title:"显示页脚"},{default:d(()=>[i(y,{"model-value":e(l).showFooter,onChange:m[8]||(m[8]=h=>e(s)(e(F).SHOW_FOOTER,h))},null,8,["model-value"])]),_:1}),u("div",Ha,[m[17]||(m[17]=u("div",{class:"setting-item__label"},"标签页高度",-1)),u("div",Pa,[i(H,{"model-value":e(l).tabBarHeight,onChange:m[9]||(m[9]=h=>e(s)(e(F).TAB_BAR_HEIGHT,h))},null,8,["model-value"])])])]),u("div",Ia,[i(D,{style:{width:"100%"},fill:"",direction:"vertical"},{default:d(()=>[i($,{icon:e(Je),type:"primary",onClick:b},{default:d(()=>m[18]||(m[18]=[O("复制")])),_:1},8,["icon"]),i($,{icon:e(ze),type:"warning",onClick:z},{default:d(()=>m[19]||(m[19]=[O("重置")])),_:1},8,["icon"])]),_:1})])])]),_:1},8,["model-value"])}}}),Ba=B(La,[["__scopeId","data-v-b4104ca7"]]),Da={class:"basic-layout-footer__wrapper"},Aa={class:"basic-layout-footer__content"},Wa=M({__name:"footer",setup(f){return(t,n)=>(o(),v("div",Da,[u("div",Aa,[I(t.$slots,"default",{},()=>[O(" Copyright 2021 - "+R(new Date().getFullYear())+" by 青衫依旧 ",1)])])]))}}),Fa={class:"basic-layout-tabs__wrapper"},Na={class:"tabs-bar-container"},Oa={class:"tab-scroll"},Ra=["onContextmenu"],Va={key:0,class:"icon"},Ea={class:"tabs-bar__operate"},qa={class:"operate-btn"},Ua=M({__name:"tab-page",props:{fontSize:{default:14}},setup(f){const t=V(),n=$e(),{reload:c}=lt(),{getTabPages:l,getCurrentActivityTabPage:s}=Q(n),{isAffixTab:r,addTabPage:a,goTabPage:p,removeTabPage:_,removeAllTabPage:b,removeOhterTabPages:z,removeLeftAllTabPages:L,removeRightAllTabPages:m}=n,P=Te(),y=V(""),H=V([]),$=S=>{var k;const U=y.value,ie=l.value.findIndex(ae=>ae.fullPath===U),ee=((k=s.value)==null?void 0:k.fullPath)===y.value,J=l.value.filter(ae=>r(ae)).length,oe=J===l.value.length;return[{title:"重新加载",command:"reload",onClick:c,disabled:!ee,icon:"ep.refresh"},{title:"关闭其他",command:"closeOtherstabs",icon:"ep.close",onClick:()=>{z()},disabled:oe||!ee},{title:"关闭左侧",command:"closeLefttabs",onClick:()=>{L()},disabled:!ee||ie<=J,icon:()=>N(j,{size:12,style:{transform:"rotate(-90deg)"}},()=>N(de))},{title:"关闭右侧",command:"closeRighttabs",onClick:m,disabled:!ee||ie===l.value.length-1,icon:()=>N(j,{size:12,style:{transform:"rotate(90deg)"}},()=>N(de))},{title:"关闭全部",command:"closeAlltabs",onClick:b,disabled:oe,icon:"ep.circle-close"}]};xe(()=>{A(),me(()=>P,S=>{if(S.name===ue)return;const k=S.matched.find(U=>U.name===S.name);a({name:S.name,fullPath:S.fullPath,query:S.query,params:S.params,meta:(k==null?void 0:k.meta)||{}})},{deep:!0,immediate:!0})});function D(S,k){S.preventDefault(),y.value=k,t.value.show(S)}function A(){function S(){return Ve.getRoutes().filter(k=>k.meta.affixTab)}H.value=[],S().forEach(k=>{a({name:k.name,fullPath:k.path,query:{},params:{},meta:k.meta}),H.value.push(k.path)})}const h=S=>{if(!S.index)return;const k=l.value[Number(S.index)];p(k)},pe=S=>{const k=l.value.findIndex(U=>U.fullPath===S);_(k)};return(S,k)=>{var U;const ie=g("el-tab-pane"),ee=g("el-tabs"),J=g("el-dropdown-item"),oe=g("el-dropdown-menu"),ae=g("el-dropdown");return o(),v("div",Fa,[u("div",Na,[u("div",Oa,[i(ee,{"model-value":(U=e(s))==null?void 0:U.fullPath,type:"card",class:"tabs-content",onTabClick:h,onTabRemove:pe},{default:d(()=>[(o(!0),v(q,null,te(e(l),Z=>(o(),x(ie,{key:Z.fullPath,name:Z.fullPath,closable:!H.value.includes(Z.fullPath)},{label:d(()=>[u("div",{class:"tab-item",onContextmenu:Ie=>D(Ie,Z.fullPath)},[Z.meta.icon?(o(),v("span",Va,[i(e(E),{icon:Z.meta.icon,size:S.fontSize},null,8,["icon","size"])])):C("v-if",!0),u("span",{style:W({fontSize:`${S.fontSize}px`})},R(Z.meta.title),5)],40,Ra)]),_:2},1032,["name","closable"]))),128))]),_:1},8,["model-value"])]),i(e(Qe),{ref_key:"contextRef",ref:t,menus:$(),"item-height":25,"font-size":12,style:{width:"80px","font-size":"12px"}},null,8,["menus"]),u("div",Ea,[i(ae,{style:{height:"100%"}},{dropdown:d(()=>[i(oe,{class:"tabs-more"},{default:d(()=>[i(J,{command:"reload",onClick:e(c)},{default:d(()=>[i(e(j),null,{default:d(()=>[i(e(ze))]),_:1}),k[0]||(k[0]=O(" 重新加载 "))]),_:1},8,["onClick"]),i(J,{command:"closeOtherstabs",onClick:e(z)},{default:d(()=>[i(e(j),null,{default:d(()=>[i(e(Ke))]),_:1}),k[1]||(k[1]=O(" 关闭其他 "))]),_:1},8,["onClick"]),i(J,{command:"closeLefttabs",onClick:e(L)},{default:d(()=>[i(e(j),{style:{transform:"rotate(-90deg)"}},{default:d(()=>[i(e(de))]),_:1}),k[2]||(k[2]=O(" 关闭左侧 "))]),_:1},8,["onClick"]),i(J,{command:"closeRighttabs",onClick:e(m)},{default:d(()=>[i(e(j),{style:{transform:"rotate(90deg)"}},{default:d(()=>[i(e(de))]),_:1}),k[3]||(k[3]=O(" 关闭右侧 "))]),_:1},8,["onClick"]),i(J,{command:"closeAlltabs",onClick:e(b)},{default:d(()=>[i(e(j),null,{default:d(()=>[i(e(Ze))]),_:1}),k[4]||(k[4]=O(" 关闭全部 "))]),_:1},8,["onClick"])]),_:1})]),default:d(()=>[u("span",qa,[C(" <el-icon><ArrowDown /></el-icon> "),i(e(E),{icon:"ep.arrow-down",size:16})])]),_:1})])])])}}}),Ja=B(Ua,[["__scopeId","data-v-3d62d94e"]]),Ka={class:"basic-layout-aside__wrapper"},Za={class:"scroll-wrapper"},ja={class:"basic-layout-aside__menus"},Ga={class:"trigger"},Xa=M({__name:"sidebar",props:{collapsed:{type:Boolean,default:!1}},setup(f){const t=f,n=Y(),{layoutConfig:c}=Q(n),{menus:l}=He(T(()=>({type:"left"})));return(s,r)=>{const a=g("el-scrollbar"),p=g("el-icon"),_=g("el-button");return o(),v("div",Ka,[I(s.$slots,"logo",{},void 0,!0),u("div",Za,[i(a,null,{default:d(()=>[u("div",ja,[i(e(fe),{collapsed:t.collapsed,menus:e(l)},null,8,["collapsed","menus"])])]),_:1})]),I(s.$slots,"trigger",{},()=>[u("div",Ga,[i(_,{text:"",bg:"",onClick:r[0]||(r[0]=b=>e(n).setLayoutConfig({collapsed:!e(c).collapsed}))},{default:d(()=>[i(p,{size:14},{default:d(()=>[e(c).collapsed?(o(),x(e(je),{key:1})):(o(),x(e(Ge),{key:0}))]),_:1})]),_:1})])],!0),r[1]||(r[1]=u("div",null,null,-1))])}}}),ye=B(Xa,[["__scopeId","data-v-56201e4a"]]),Qa={},Ya={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",className:"iconify iconify--ri",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"};function en(f,t){return o(),v("svg",Ya,t[0]||(t[0]=[u("path",{fill:"currentColor",d:"M18 3v2h-1v6l2 3v2h-6v7h-2v-7H5v-2l2-3V5H6V3z"},null,-1)]))}const tn=B(Qa,[["render",en]]),an={class:"basic-layout-mix-menu-module",style:{width:"90px"}},nn=["onClick"],ln={class:"basic-layout-mix-menu-module__line"},on={class:"basic-layout-mix-menu-children__content"},sn=M({__name:"menu",props:{menuWidth:{},headerHeight:{}},setup(f){const t=Y(),{layoutConfig:n}=Q(t),{getMenus:c}=Me(),l=Te(),s=le(),r=V(l.name),a=V(!1),p=V([]),_=T(()=>c()),b=Se((y,H,$)=>{const D=$[0];r.value=D.name,p.value=L(),p.value.length===0&&(a.value=!1)});ke(()=>{b()}),me(a,y=>{t.setShowMixChildrenMenu(y)});const z=y=>{if(y.name){if(a.value=!1,r.value=y.name,p.value=L(),p.value.length===0){a.value=!1,s.push({name:y.name,query:{}});return}a.value=!0}};function L(){const y=_.value.find(D=>D.name===r.value);if(!y)return[];const{children:H=[],meta:$}=y;return $!=null&&$.hideChildrenInMenu&&H!=null&&H.length&&(H==null?void 0:H.length)<=1?[]:H}const m=()=>{n.value.sideMixFixedMenu&&a.value||(a.value=!1)},P=()=>{t.setLayoutConfig({sideMixFixedMenu:!t.layoutConfig.sideMixFixedMenu})};return(y,H)=>(o(),v("div",{class:"basic-layout-mix-menu",tabindex:-1,onBlur:m},[C(""),u("div",an,[(o(!0),v(q,null,te(_.value,($,D)=>{var A,h;return o(),v("div",{key:D,class:se(["basic-layout-mix-menu-module__item",$.name===r.value?"is-active":""]),onClick:pe=>z($)},[u("div",{class:se([$.name===r.value?"is-active":"","basic-layout-mix-menu-module__icon"])},[i(e(E),{icon:(A=$.meta)==null?void 0:A.icon,size:20},null,8,["icon"])],2),u("div",{class:se([$.name===r.value?"is-active":"","basic-layout-mix-menu-module__label"])},R((h=$.meta)==null?void 0:h.title),3),_e(u("div",ln,null,512),[[Ae,$.name===r.value]])],10,nn)}),128))]),u("div",{class:se(["basic-layout-mix-menu-children",a.value?"is-show":""]),style:W({width:a.value?`${y.menuWidth}px`:"0px"})},[u("div",on,[u("div",{class:"basic-layout-mix-menu-children-header",style:W({height:y.headerHeight+"px"})},[u("div",{class:"basic-layout-mix-menu-children-header-icon",style:{color:"rgba(0, 0, 0, 0.35)"},onClick:P},[i(tn)])],4),i(e(fe),{menus:p.value},null,8,["menus"])])],6)],32))}}),dn=B(sn,[["__scopeId","data-v-7b895ce6"]]),un={class:"mix-sidebar basic-layout-aside__wrapper"},rn=M({__name:"mix-sidebar",setup(f){const{layoutConfig:t}=Q(Y());return(n,c)=>(o(),v("div",un,[i(ne,{"show-title":!1,"logo-width":90,height:e(t).headerHeight},null,8,["height"]),i(dn,{"header-height":e(t).headerHeight,"menu-width":e(t).asideWidth},null,8,["header-height","menu-width"])]))}}),cn={class:"page-container"},mn={key:0,class:"mobile-menu"},fn={class:"basic-layout-main__wrapper"},pn=M({__name:"basic-layout",setup(f){const t=pt("BasicLayout"),{layoutConfig:n,mixMenuLayoutConfig:c}=Q(Y()),{isMobile:l}=Pe(),s=V(!1);me(l,()=>{n.value.layoutMode&&![w.Top].includes(n.value.layoutMode)&&(s.value=l.value)},{immediate:!0});const r=()=>{s.value=!s.value},a=T(()=>({fontSize:12})),p=T(()=>{const{layoutMode:b,asideWidth:z=220,collapsed:L,headerHeight:m,tabBarHeight:P=0,footerHeight:y}=e(n),H=78,$=90,{sideMixFixedMenu:D}=e(n),{showTagPage:A}=n.value;return{[w.Side]:()=>{const h=l.value?0:L?H:z;return{footerHeight:y,headerHeight:m,tabHeight:A?P:0,asideWidth:h,headerPaddingLeft:h,headerZIndex:1001}},[w.TopMix]:()=>{const h=l.value?0:L?H:z;return{footerHeight:y,headerHeight:m,tabHeight:A?P:0,asideWidth:h,asidePaddingTop:m,headerZIndex:1003,headerPaddingLeft:0}},[w.Top]:()=>({footerHeight:y,tabHeight:A?P:0,asideWidth:0,headerPaddingLeft:0}),[w.SideMix]:()=>{const h=l.value?0:D&&c.value.showChildren?$+z:$;return{footerHeight:y,headerHeight:m,tabHeight:A?P:0,asideWidth:h,headerPaddingLeft:h}}}[b||w.Side]()}),_=T(()=>{const{layoutMode:b,asideWidth:z,collapsed:L,headerHeight:m}=e(n);return{[w.Side]:()=>({height:m,width:z,showTitle:!L}),[w.SideMix]:()=>({}),[w.TopMix]:()=>({}),[w.Top]:()=>({})}[b||w.Side]()});return(b,z)=>{const L=g("el-drawer"),m=g("el-backtop"),P=Le("watermark");return o(),v(q,null,[u("div",cn,[i(e(ft),G(p.value,{config:{footer:e(n).showFooter,header:e(X).defaultLayoutSetting.showHeader,tab:e(n).showTagPage,aside:!!p.value.asideWidth,main:!0}}),{aside:d(()=>[e(l)?(o(),v("div",mn,[i(L,{modelValue:s.value,"onUpdate:modelValue":z[0]||(z[0]=y=>s.value=y),direction:"ltr","with-header":!1,size:e(n).asideWidth||250},{default:d(()=>[i(e(ye),{collapsed:e(n).collapsed},re({_:2},[e(w).Side===e(n).layoutMode?{name:"logo",fn:d(()=>[i(e(ne),K(ce(_.value)),null,16)]),key:"0"}:void 0]),1032,["collapsed"])]),_:1},8,["modelValue","size"])])):(o(),v(q,{key:1},[e(n).layoutMode&&![e(w).Top,e(w).SideMix].includes(e(n).layoutMode)?(o(),x(e(ye),{key:0,collapsed:e(n).collapsed},re({_:2},[e(w).Side===e(n).layoutMode?{name:"logo",fn:d(()=>[i(e(ne),K(ce(_.value)),null,16)]),key:"0"}:void 0]),1032,["collapsed"])):C("v-if",!0),e(n).layoutMode&&[e(w).SideMix].includes(e(n).layoutMode)?(o(),x(e(rn),{key:1})):C("v-if",!0)],64))]),header:d(()=>[i(e(Ft),{onMobileDrawer:r},re({_:2},[e(w).TopMix===e(n).layoutMode?{name:"logo",fn:d(()=>[i(e(ne),{width:e(n).asideWidth},null,8,["width"])]),key:"0"}:void 0]),1024)]),tabs:d(()=>[i(e(Ja),K(ce(a.value)),null,16)]),footer:d(()=>[i(e(Wa))]),default:d(()=>[_e((o(),v("div",fn,[(o(),x(be(e(t))))])),[[P,{content:e(we).projectTitle}]])]),_:1},16,["config"])]),C(" 回到顶部 "),e(X).defaultLayoutSetting.showBackTop?(o(),x(m,{key:0})):C("v-if",!0),C(" 设置 "),e(X).defaultLayoutSetting.showSettingButton?(o(),x(e(Ba),{key:1})):C("v-if",!0)],64)}}}),xn=B(pn,[["__scopeId","data-v-3ec464f9"]]);export{xn as default};
