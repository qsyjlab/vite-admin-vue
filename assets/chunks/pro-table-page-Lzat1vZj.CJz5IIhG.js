import{z as A,x as o,y as C,X as v,A as h,a as w,n as E,b as a,W as s,K as u,a5 as K,G as i,a6 as P,a7 as q}from"./index.CXx_r3g5.js";import"./framework.CtQlGyLl.js";import"./theme.lKphzJcC.js";function R(c){return q.request({url:"/mockList",params:c}).then(r=>({data:r.data.data,total:r.data.total}))}const H=A({name:"ProTablePage",__name:"pro-table-page",setup(c){const r=o(!1),p=o([{id:2},{id:3},{id:15}]),d=o(p.value.map(e=>e.id)),m=o();C(()=>{setTimeout(()=>{x.value=_()},0)}),v(r,()=>{console.log("v-model:loading",r)}),v(d,()=>{console.log("selectedKeys",d.value)});const k=[{key:"indexBorder",valueType:"indexBorder",fixed:"left"},{title:"ID",key:"id"},{title:"名称",key:"name",tip:"名称的提示",editable:!0},{title:"进度条",key:"progress",valueType:()=>({type:"progress"})},{title:"函数式返回 enum",key:"fnE",valueType:"enum",tip:"使用函数式 enum",valueEnum:()=>({all:{text:"全部",color:"blue"},open:{text:"未解决",color:"green"},closed:{text:"已解决",color:"red"},processing:{text:"解决中",color:"blue"}})},{title:"图片",key:"imageSrc",valueType:"image",tip:"渲染图片",width:150},{title:"状态",key:"status",valueType:"enum",valueEnum:{all:{text:"全部",color:"blue"},open:{text:"未解决",color:"green"},closed:{text:"已解决",color:"red"},processing:{text:"解决中",color:"blue"}}},{title:"自定义渲染器",key:"customText",valueType:"custom-text"},{title:"自定义渲染器渲染组件",key:"customRenderComponent",valueType:"custom-render-componet"},{title:"操作",key:"operation",width:200,fixed:"right"}],x=o(),g=o(1),b=o({page:1});function T(e){g.value=e}function _(){let e=Array(100).fill(0),t=0;return e=e.map((n,l)=>({id:++t,name:`name-${l}`,age:18,address:`address-${l}`,status:"all",fnE:"open",progress:80,children:[{id:++t,name:`name-${l}`,age:18,address:`address-${l}`,status:"processing"},{id:++t,name:`name-${l}`,age:18,address:`address-${l}`,status:"processing"}]})),e}function $(e){console.log("selection",e)}function z(e,t){console.log("selection, row",e,t)}function S(e){console.log("selectAllHandler",e)}return(e,t)=>{const n=h("el-button"),l=h("pro-table");return w(),E(u(P),null,{default:a(()=>[s(u(K),{header:e.$route.meta.title},{default:a(()=>[s(l,{ref_key:"tableRef",ref:m,"selected-keys":d.value,"onUpdate:selectedKeys":t[1]||(t[1]=y=>d.value=y),"row-key":"id","header-title":"pro table",columns:k,request:u(R),params:b.value,checkable:"","auto-fit-height":"","reserve-selection":!0,pagination:{page:g.value,pageSize:10,pageSizes:[10,20,40],background:!0},"cache-selected-data":p.value,onPageChange:T,onSelect:z,onSelectAll:S,onSelectionChange:$},{headerTitle:a(()=>[i(" 自定义表头 ")]),toolbar:a(()=>[s(n,{type:"primary",onClick:t[0]||(t[0]=y=>{var f;return(f=m.value)==null?void 0:f.doHeight()})},{default:a(()=>[i("新增")]),_:1})]),operation:a(({})=>[s(n,{size:"small",type:"primary"},{default:a(()=>[i("编辑")]),_:1}),s(n,{size:"small",type:"danger"},{default:a(()=>[i("删除")]),_:1}),s(n,{size:"small"},{default:a(()=>[i("查看")]),_:1})]),_:1},8,["selected-keys","request","params","pagination","cache-selected-data"])]),_:1},8,["header"])]),_:1})}}});export{H as default};
