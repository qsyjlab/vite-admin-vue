import{u as f,G as m}from"./index.V9EroKAY.js";import{d as u,D as n,o as d,b as h,w as l,m as v,I as c,h as w,j as b,y,c as _,k}from"./framework.SCZo_iHs.js";import"../app.g2pGqmxW.js";import"./theme.Lm0SghTC.js";function q(r,e,o){return new Promise((a,t)=>{m(r,e,{...o||{}},s=>{s&&t(s),a(r)})})}function i(r,e){const{size:o=30,crossOrigin:a}=e||{};if(e!=null&&e.src){const t=new Image;t.src=(e==null?void 0:e.src)||"",t.width=o,t.height=o,a&&t.setAttribute("crossOrigin",a||"anonymous"),t.onload=()=>{const s=r.getContext("2d"),p=(r.width-o)/2,g=(r.height-o)/2;s==null||s.drawImage(t,p,g,o,o)}}}const x={class:"qrcode"},z=u({__name:"qrcode",props:{version:{},errorLevel:{},margin:{},scale:{},text:{},type:{default:"canvas"},size:{default:160},logo:{}},setup(r){const e=r,o=w();b(()=>{a()}),y(()=>e,()=>{a()},{deep:!0});function a(){o.value&&q(o.value,e.text,{width:e.size,version:e.version,errorCorrectionLevel:e.errorLevel,margin:e.margin,scale:e.scale}).then(t=>{e.logo&&(typeof e.logo=="string"?i(t,{src:e.logo}):i(t,e.logo))})}return(t,s)=>(d(),_("div",x,[k("canvas",{ref_key:"qrcodeRef",ref:o},null,512)]))}}),C=f(z),E=u({__name:"qrcode",setup(r){return(e,o)=>{const a=n("page-card"),t=n("page-wrapper");return d(),h(t,null,{default:l(()=>[c(a,{header:e.$route.meta.title},{default:l(()=>[c(v(C),{text:"https://qsyjlab.club/",logo:{src:"https://api.qsyjlab.club/file/uploads/cover/20220526/628edee1a79a4.jpg",size:60},size:300},null,8,["logo"])]),_:1},8,["header"])]),_:1})}}});export{E as default};
