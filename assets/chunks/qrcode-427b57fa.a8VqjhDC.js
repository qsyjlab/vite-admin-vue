import{r as f,z as m}from"./index.ghQPKumy.js";import{d as u,D as n,o as d,b as h,w as l,I as c,m as v,h as w,j as b,y,c as z,k as _}from"./framework.e2dboEyh.js";import"../app.kf9R8BQv.js";import"./theme.2Uqr2FmO.js";function k(r,o,e){return new Promise((a,t)=>{m(r,o,{...e||{}},s=>{s&&t(s),a(r)})})}function i(r,o){const{size:e=30,crossOrigin:a}=o||{};if(o!=null&&o.src){const t=new Image;t.src=(o==null?void 0:o.src)||"",t.width=e,t.height=e,a&&t.setAttribute("crossOrigin",a||"anonymous"),t.onload=()=>{const s=r.getContext("2d"),p=(r.width-e)/2,g=(r.height-e)/2;s==null||s.drawImage(t,p,g,e,e)}}}const q={class:"qrcode"},x=u({__name:"qrcode",props:{version:{},errorLevel:{},margin:{},scale:{},text:{},type:{default:"canvas"},size:{default:160},logo:{}},setup(r){const o=w(),e=r;b(()=>{a()}),y(()=>e,()=>{a()},{deep:!0});function a(){o.value&&k(o.value,e.text,{width:e.size,version:e.version,errorCorrectionLevel:e.errorLevel,margin:e.margin,scale:e.scale}).then(t=>{e.logo&&(typeof e.logo=="string"?i(t,{src:e.logo}):i(t,e.logo))})}return(t,s)=>(d(),z("div",q,[_("canvas",{ref_key:"qrcodeRef",ref:o},null,512)]))}}),C=f(x),E=u({__name:"qrcode",setup(r){return(o,e)=>{const a=n("page-card"),t=n("page-wrapper");return d(),h(t,null,{default:l(()=>[c(a,{header:o.$route.meta.title},{default:l(()=>[c(v(C),{text:"https://qsyjlab.club/",logo:{src:"https://api.qsyjlab.club/file/uploads/cover/20220526/628edee1a79a4.jpg",size:60},size:300},null,8,["logo"])]),_:1},8,["header"])]),_:1})}}});export{E as default};
