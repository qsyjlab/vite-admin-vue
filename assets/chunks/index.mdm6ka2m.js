import{h as Ao,S as yL,P as kp,ag as Y2,aF as dfe,aE as hfe,m as io,d as Wa,g as No,aH as pfe,aj as jQ,o as Pr,c as Hi,k as Ia,n as bL,O as n5,N as fy,G as mfe,D as ia,b as Wi,w as go,I as Co,F as af,E as H2,av as K2,M as Od,r as xl,ak as tSe,e as oa,$ as nSe,a0 as WQ,a as qf,t as Ch,y as su,J as n_,az as dy,j as r5,af as rSe,al as Th,am as DH,b0 as UQ,aw as R3,b1 as oSe,aN as iSe,aO as ai,at as aSe,Y as uSe,aD as jN,X as vN,b2 as sSe,a3 as qQ,a1 as gfe,a2 as vfe,T as lSe,A as cSe,p as yfe,q as bfe,V as xfe,ad as wfe,b3 as fSe,z as dSe}from"./framework.kGBdJdCt.js";import{E as hSe,a as _fe,b as pSe,f as mSe,c as Sfe,d as gSe,p as vSe,e as ySe,g as bSe,h as xSe,i as wSe,u as _Se,j as SSe,k as CSe,l as TSe,s as MSe,m as kSe,t as DSe,n as ASe,o as ESe,w as OSe,r as ISe,q as RSe,v as Cfe,x as PSe,y as NSe,z as LSe,A as BSe,B as zSe,C as FSe,D as VSe,F as HSe,G as jSe,H as WSe,I as USe}from"../app.4OzQX80d.js";var qSe={},$Se=Object.defineProperty,GSe=(n,e,t)=>e in n?$Se(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S3=(n,e,t)=>(GSe(n,typeof e!="symbol"?e+"":e,t),t);const XSe=["src"],YSe=Wa({__name:"iframe",props:{frameSrc:{type:String,default:""},height:{type:[String,Number],default:"100%"}},setup(n){const e=n,t=Ao(!0),r=Ao(),i=No(()=>(console.log("props",e),{height:`${e.height}`}));function u(){t.value=!1}return(l,f)=>{const h=pfe("loading");return jQ((Pr(),Hi("div",{style:n5(i.value)},[Ia("iframe",{ref_key:"frameRef",ref:r,src:n.frameSrc,class:bL("iframe-page__main"),onLoad:u},null,40,XSe)],4)),[[h,t.value]])}}}),Xf=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},KSe=Xf(YSe,[["__scopeId","data-v-b7b747f1"]]);function vYe(n){const e=window.atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),i=new Uint8Array(r);for(let u=0;u<e.length;u++)i[u]=e.charCodeAt(u);return new Blob([r],{type:t})}function JSe(n){if(n===0)return"0 B";const e=1024,t=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(n)/Math.log(e));return(n/Math.pow(e,r)).toPrecision(3)+" "+t[r]}function yYe(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=async i=>{try{e(i.target.result)}catch(u){t(u)}finally{}},r.readAsArrayBuffer(n)})}function bYe(n,e){if(n&&e){const t=document.createElement("a");t.download=e,t.href=n,t.click(),URL.revokeObjectURL(t.href)}}var ZSe=typeof global=="object"&&global&&global.Object===Object&&global;const Tfe=ZSe;var QSe=typeof self=="object"&&self&&self.Object===Object&&self,eCe=Tfe||QSe||Function("return this")();const vy=eCe;var tCe=vy.Symbol;const hy=tCe;var Mfe=Object.prototype,nCe=Mfe.hasOwnProperty,rCe=Mfe.toString,kP=hy?hy.toStringTag:void 0;function oCe(n){var e=nCe.call(n,kP),t=n[kP];try{n[kP]=void 0;var r=!0}catch{}var i=rCe.call(n);return r&&(e?n[kP]=t:delete n[kP]),i}var iCe=Object.prototype,aCe=iCe.toString;function uCe(n){return aCe.call(n)}var sCe="[object Null]",lCe="[object Undefined]",poe=hy?hy.toStringTag:void 0;function kM(n){return n==null?n===void 0?lCe:sCe:poe&&poe in Object(n)?oCe(n):uCe(n)}function DM(n){return n!=null&&typeof n=="object"}var cCe="[object Symbol]";function $Q(n){return typeof n=="symbol"||DM(n)&&kM(n)==cCe}function kfe(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var fCe=Array.isArray;const AM=fCe;var dCe=1/0,moe=hy?hy.prototype:void 0,goe=moe?moe.toString:void 0;function Dfe(n){if(typeof n=="string")return n;if(AM(n))return kfe(n,Dfe)+"";if($Q(n))return goe?goe.call(n):"";var e=n+"";return e=="0"&&1/n==-dCe?"-0":e}function xL(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function hCe(n){return n}var pCe="[object AsyncFunction]",mCe="[object Function]",gCe="[object GeneratorFunction]",vCe="[object Proxy]";function GQ(n){if(!xL(n))return!1;var e=kM(n);return e==mCe||e==gCe||e==pCe||e==vCe}var yCe=vy["__core-js_shared__"];const NY=yCe;var voe=function(){var n=/[^.]+$/.exec(NY&&NY.keys&&NY.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function bCe(n){return!!voe&&voe in n}var xCe=Function.prototype,wCe=xCe.toString;function EM(n){if(n!=null){try{return wCe.call(n)}catch{}try{return n+""}catch{}}return""}var _Ce=/[\\^$.*+?()[\]{}|]/g,SCe=/^\[object .+?Constructor\]$/,CCe=Function.prototype,TCe=Object.prototype,MCe=CCe.toString,kCe=TCe.hasOwnProperty,DCe=RegExp("^"+MCe.call(kCe).replace(_Ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ACe(n){if(!xL(n)||bCe(n))return!1;var e=GQ(n)?DCe:SCe;return e.test(EM(n))}function ECe(n,e){return n==null?void 0:n[e]}function OM(n,e){var t=ECe(n,e);return ACe(t)?t:void 0}var OCe=OM(vy,"WeakMap");const XJ=OCe;var yoe=Object.create,ICe=function(){function n(){}return function(e){if(!xL(e))return{};if(yoe)return yoe(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const RCe=ICe;function PCe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function NCe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var LCe=800,BCe=16,zCe=Date.now;function FCe(n){var e=0,t=0;return function(){var r=zCe(),i=BCe-(r-t);if(t=r,i>0){if(++e>=LCe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function VCe(n){return function(){return n}}var HCe=function(){try{var n=OM(Object,"defineProperty");return n({},"",{}),n}catch{}}();const AV=HCe;var jCe=AV?function(n,e){return AV(n,"toString",{configurable:!0,enumerable:!1,value:VCe(e),writable:!0})}:hCe;const WCe=jCe;var UCe=FCe(WCe);const qCe=UCe;function $Ce(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var GCe=9007199254740991,XCe=/^(?:0|[1-9]\d*)$/;function YCe(n,e){var t=typeof n;return e=e??GCe,!!e&&(t=="number"||t!="symbol"&&XCe.test(n))&&n>-1&&n%1==0&&n<e}function Afe(n,e,t){e=="__proto__"&&AV?AV(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Efe(n,e){return n===e||n!==n&&e!==e}var KCe=Object.prototype,JCe=KCe.hasOwnProperty;function Ofe(n,e,t){var r=n[e];(!(JCe.call(n,e)&&Efe(r,t))||t===void 0&&!(e in n))&&Afe(n,e,t)}function wL(n,e,t,r){var i=!t;t||(t={});for(var u=-1,l=e.length;++u<l;){var f=e[u],h=r?r(t[f],n[f],f,t,n):void 0;h===void 0&&(h=n[f]),i?Afe(t,f,h):Ofe(t,f,h)}return t}var boe=Math.max;function ZCe(n,e,t){return e=boe(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,u=boe(r.length-e,0),l=Array(u);++i<u;)l[i]=r[e+i];i=-1;for(var f=Array(e+1);++i<e;)f[i]=r[i];return f[e]=t(l),PCe(n,this,f)}}var QCe=9007199254740991;function Ife(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=QCe}function Rfe(n){return n!=null&&Ife(n.length)&&!GQ(n)}var eTe=Object.prototype;function XQ(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||eTe;return n===t}function tTe(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var nTe="[object Arguments]";function xoe(n){return DM(n)&&kM(n)==nTe}var Pfe=Object.prototype,rTe=Pfe.hasOwnProperty,oTe=Pfe.propertyIsEnumerable,iTe=xoe(function(){return arguments}())?xoe:function(n){return DM(n)&&rTe.call(n,"callee")&&!oTe.call(n,"callee")};const Nfe=iTe;function aTe(){return!1}var Lfe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,woe=Lfe&&typeof module=="object"&&module&&!module.nodeType&&module,uTe=woe&&woe.exports===Lfe,_oe=uTe?vy.Buffer:void 0,sTe=_oe?_oe.isBuffer:void 0,lTe=sTe||aTe;const Bfe=lTe;var cTe="[object Arguments]",fTe="[object Array]",dTe="[object Boolean]",hTe="[object Date]",pTe="[object Error]",mTe="[object Function]",gTe="[object Map]",vTe="[object Number]",yTe="[object Object]",bTe="[object RegExp]",xTe="[object Set]",wTe="[object String]",_Te="[object WeakMap]",STe="[object ArrayBuffer]",CTe="[object DataView]",TTe="[object Float32Array]",MTe="[object Float64Array]",kTe="[object Int8Array]",DTe="[object Int16Array]",ATe="[object Int32Array]",ETe="[object Uint8Array]",OTe="[object Uint8ClampedArray]",ITe="[object Uint16Array]",RTe="[object Uint32Array]",ns={};ns[TTe]=ns[MTe]=ns[kTe]=ns[DTe]=ns[ATe]=ns[ETe]=ns[OTe]=ns[ITe]=ns[RTe]=!0;ns[cTe]=ns[fTe]=ns[STe]=ns[dTe]=ns[CTe]=ns[hTe]=ns[pTe]=ns[mTe]=ns[gTe]=ns[vTe]=ns[yTe]=ns[bTe]=ns[xTe]=ns[wTe]=ns[_Te]=!1;function PTe(n){return DM(n)&&Ife(n.length)&&!!ns[kM(n)]}function YQ(n){return function(e){return n(e)}}var zfe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yN=zfe&&typeof module=="object"&&module&&!module.nodeType&&module,NTe=yN&&yN.exports===zfe,LY=NTe&&Tfe.process,LTe=function(){try{var n=yN&&yN.require&&yN.require("util").types;return n||LY&&LY.binding&&LY.binding("util")}catch{}}();const P3=LTe;var Soe=P3&&P3.isTypedArray,BTe=Soe?YQ(Soe):PTe;const zTe=BTe;var FTe=Object.prototype,VTe=FTe.hasOwnProperty;function Ffe(n,e){var t=AM(n),r=!t&&Nfe(n),i=!t&&!r&&Bfe(n),u=!t&&!r&&!i&&zTe(n),l=t||r||i||u,f=l?tTe(n.length,String):[],h=f.length;for(var g in n)(e||VTe.call(n,g))&&!(l&&(g=="length"||i&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||YCe(g,h)))&&f.push(g);return f}function Vfe(n,e){return function(t){return n(e(t))}}var HTe=Vfe(Object.keys,Object);const jTe=HTe;var WTe=Object.prototype,UTe=WTe.hasOwnProperty;function qTe(n){if(!XQ(n))return jTe(n);var e=[];for(var t in Object(n))UTe.call(n,t)&&t!="constructor"&&e.push(t);return e}function KQ(n){return Rfe(n)?Ffe(n):qTe(n)}function $Te(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var GTe=Object.prototype,XTe=GTe.hasOwnProperty;function YTe(n){if(!xL(n))return $Te(n);var e=XQ(n),t=[];for(var r in n)r=="constructor"&&(e||!XTe.call(n,r))||t.push(r);return t}function JQ(n){return Rfe(n)?Ffe(n,!0):YTe(n)}var KTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JTe=/^\w*$/;function ZTe(n,e){if(AM(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||$Q(n)?!0:JTe.test(n)||!KTe.test(n)||e!=null&&n in Object(e)}var QTe=OM(Object,"create");const WN=QTe;function eMe(){this.__data__=WN?WN(null):{},this.size=0}function tMe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var nMe="__lodash_hash_undefined__",rMe=Object.prototype,oMe=rMe.hasOwnProperty;function iMe(n){var e=this.__data__;if(WN){var t=e[n];return t===nMe?void 0:t}return oMe.call(e,n)?e[n]:void 0}var aMe=Object.prototype,uMe=aMe.hasOwnProperty;function sMe(n){var e=this.__data__;return WN?e[n]!==void 0:uMe.call(e,n)}var lMe="__lodash_hash_undefined__";function cMe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=WN&&e===void 0?lMe:e,this}function xM(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}xM.prototype.clear=eMe;xM.prototype.delete=tMe;xM.prototype.get=iMe;xM.prototype.has=sMe;xM.prototype.set=cMe;function fMe(){this.__data__=[],this.size=0}function AH(n,e){for(var t=n.length;t--;)if(Efe(n[t][0],e))return t;return-1}var dMe=Array.prototype,hMe=dMe.splice;function pMe(n){var e=this.__data__,t=AH(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():hMe.call(e,t,1),--this.size,!0}function mMe(n){var e=this.__data__,t=AH(e,n);return t<0?void 0:e[t][1]}function gMe(n){return AH(this.__data__,n)>-1}function vMe(n,e){var t=this.__data__,r=AH(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Bb(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Bb.prototype.clear=fMe;Bb.prototype.delete=pMe;Bb.prototype.get=mMe;Bb.prototype.has=gMe;Bb.prototype.set=vMe;var yMe=OM(vy,"Map");const UN=yMe;function bMe(){this.size=0,this.__data__={hash:new xM,map:new(UN||Bb),string:new xM}}function xMe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function EH(n,e){var t=n.__data__;return xMe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function wMe(n){var e=EH(this,n).delete(n);return this.size-=e?1:0,e}function _Me(n){return EH(this,n).get(n)}function SMe(n){return EH(this,n).has(n)}function CMe(n,e){var t=EH(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function r_(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}r_.prototype.clear=bMe;r_.prototype.delete=wMe;r_.prototype.get=_Me;r_.prototype.has=SMe;r_.prototype.set=CMe;var TMe="Expected a function";function ZQ(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(TMe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],u=t.cache;if(u.has(i))return u.get(i);var l=n.apply(this,r);return t.cache=u.set(i,l)||u,l};return t.cache=new(ZQ.Cache||r_),t}ZQ.Cache=r_;var MMe=500;function kMe(n){var e=ZQ(n,function(r){return t.size===MMe&&t.clear(),r}),t=e.cache;return e}var DMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,AMe=/\\(\\)?/g,EMe=kMe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(DMe,function(t,r,i,u){e.push(i?u.replace(AMe,"$1"):r||t)}),e});const OMe=EMe;function IMe(n){return n==null?"":Dfe(n)}function QQ(n,e){return AM(n)?n:ZTe(n,e)?[n]:OMe(IMe(n))}var RMe=1/0;function Hfe(n){if(typeof n=="string"||$Q(n))return n;var e=n+"";return e=="0"&&1/n==-RMe?"-0":e}function jfe(n,e){e=QQ(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Hfe(e[t++])];return t&&t==r?n:void 0}function PMe(n,e,t){var r=n==null?void 0:jfe(n,e);return r===void 0?t:r}function eee(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Coe=hy?hy.isConcatSpreadable:void 0;function NMe(n){return AM(n)||Nfe(n)||!!(Coe&&n&&n[Coe])}function Wfe(n,e,t,r,i){var u=-1,l=n.length;for(t||(t=NMe),i||(i=[]);++u<l;){var f=n[u];e>0&&t(f)?e>1?Wfe(f,e-1,t,r,i):eee(i,f):r||(i[i.length]=f)}return i}function LMe(n){var e=n==null?0:n.length;return e?Wfe(n,1):[]}function BMe(n){return qCe(ZCe(n,void 0,LMe),n+"")}var zMe=Vfe(Object.getPrototypeOf,Object);const tee=zMe;var FMe="[object Object]",VMe=Function.prototype,HMe=Object.prototype,Ufe=VMe.toString,jMe=HMe.hasOwnProperty,WMe=Ufe.call(Object);function UMe(n){if(!DM(n)||kM(n)!=FMe)return!1;var e=tee(n);if(e===null)return!0;var t=jMe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Ufe.call(t)==WMe}function qMe(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var u=Array(i);++r<i;)u[r]=n[r+e];return u}function $Me(){this.__data__=new Bb,this.size=0}function GMe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function XMe(n){return this.__data__.get(n)}function YMe(n){return this.__data__.has(n)}var KMe=200;function JMe(n,e){var t=this.__data__;if(t instanceof Bb){var r=t.__data__;if(!UN||r.length<KMe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new r_(r)}return t.set(n,e),this.size=t.size,this}function o5(n){var e=this.__data__=new Bb(n);this.size=e.size}o5.prototype.clear=$Me;o5.prototype.delete=GMe;o5.prototype.get=XMe;o5.prototype.has=YMe;o5.prototype.set=JMe;function ZMe(n,e){return n&&wL(e,KQ(e),n)}function QMe(n,e){return n&&wL(e,JQ(e),n)}var qfe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Toe=qfe&&typeof module=="object"&&module&&!module.nodeType&&module,eke=Toe&&Toe.exports===qfe,Moe=eke?vy.Buffer:void 0,koe=Moe?Moe.allocUnsafe:void 0;function tke(n,e){if(e)return n.slice();var t=n.length,r=koe?koe(t):new n.constructor(t);return n.copy(r),r}function nke(n,e){for(var t=-1,r=n==null?0:n.length,i=0,u=[];++t<r;){var l=n[t];e(l,t,n)&&(u[i++]=l)}return u}function $fe(){return[]}var rke=Object.prototype,oke=rke.propertyIsEnumerable,Doe=Object.getOwnPropertySymbols,ike=Doe?function(n){return n==null?[]:(n=Object(n),nke(Doe(n),function(e){return oke.call(n,e)}))}:$fe;const nee=ike;function ake(n,e){return wL(n,nee(n),e)}var uke=Object.getOwnPropertySymbols,ske=uke?function(n){for(var e=[];n;)eee(e,nee(n)),n=tee(n);return e}:$fe;const Gfe=ske;function lke(n,e){return wL(n,Gfe(n),e)}function Xfe(n,e,t){var r=e(n);return AM(n)?r:eee(r,t(n))}function cke(n){return Xfe(n,KQ,nee)}function Yfe(n){return Xfe(n,JQ,Gfe)}var fke=OM(vy,"DataView");const YJ=fke;var dke=OM(vy,"Promise");const KJ=dke;var hke=OM(vy,"Set");const JJ=hke;var Aoe="[object Map]",pke="[object Object]",Eoe="[object Promise]",Ooe="[object Set]",Ioe="[object WeakMap]",Roe="[object DataView]",mke=EM(YJ),gke=EM(UN),vke=EM(KJ),yke=EM(JJ),bke=EM(XJ),YT=kM;(YJ&&YT(new YJ(new ArrayBuffer(1)))!=Roe||UN&&YT(new UN)!=Aoe||KJ&&YT(KJ.resolve())!=Eoe||JJ&&YT(new JJ)!=Ooe||XJ&&YT(new XJ)!=Ioe)&&(YT=function(n){var e=kM(n),t=e==pke?n.constructor:void 0,r=t?EM(t):"";if(r)switch(r){case mke:return Roe;case gke:return Aoe;case vke:return Eoe;case yke:return Ooe;case bke:return Ioe}return e});const ree=YT;var xke=Object.prototype,wke=xke.hasOwnProperty;function _ke(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&wke.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Ske=vy.Uint8Array;const Poe=Ske;function oee(n){var e=new n.constructor(n.byteLength);return new Poe(e).set(new Poe(n)),e}function Cke(n,e){var t=e?oee(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Tke=/\w*$/;function Mke(n){var e=new n.constructor(n.source,Tke.exec(n));return e.lastIndex=n.lastIndex,e}var Noe=hy?hy.prototype:void 0,Loe=Noe?Noe.valueOf:void 0;function kke(n){return Loe?Object(Loe.call(n)):{}}function Dke(n,e){var t=e?oee(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Ake="[object Boolean]",Eke="[object Date]",Oke="[object Map]",Ike="[object Number]",Rke="[object RegExp]",Pke="[object Set]",Nke="[object String]",Lke="[object Symbol]",Bke="[object ArrayBuffer]",zke="[object DataView]",Fke="[object Float32Array]",Vke="[object Float64Array]",Hke="[object Int8Array]",jke="[object Int16Array]",Wke="[object Int32Array]",Uke="[object Uint8Array]",qke="[object Uint8ClampedArray]",$ke="[object Uint16Array]",Gke="[object Uint32Array]";function Xke(n,e,t){var r=n.constructor;switch(e){case Bke:return oee(n);case Ake:case Eke:return new r(+n);case zke:return Cke(n,t);case Fke:case Vke:case Hke:case jke:case Wke:case Uke:case qke:case $ke:case Gke:return Dke(n,t);case Oke:return new r;case Ike:case Nke:return new r(n);case Rke:return Mke(n);case Pke:return new r;case Lke:return kke(n)}}function Yke(n){return typeof n.constructor=="function"&&!XQ(n)?RCe(tee(n)):{}}var Kke="[object Map]";function Jke(n){return DM(n)&&ree(n)==Kke}var Boe=P3&&P3.isMap,Zke=Boe?YQ(Boe):Jke;const Qke=Zke;var eDe="[object Set]";function tDe(n){return DM(n)&&ree(n)==eDe}var zoe=P3&&P3.isSet,nDe=zoe?YQ(zoe):tDe;const rDe=nDe;var oDe=1,iDe=2,aDe=4,Kfe="[object Arguments]",uDe="[object Array]",sDe="[object Boolean]",lDe="[object Date]",cDe="[object Error]",Jfe="[object Function]",fDe="[object GeneratorFunction]",dDe="[object Map]",hDe="[object Number]",Zfe="[object Object]",pDe="[object RegExp]",mDe="[object Set]",gDe="[object String]",vDe="[object Symbol]",yDe="[object WeakMap]",bDe="[object ArrayBuffer]",xDe="[object DataView]",wDe="[object Float32Array]",_De="[object Float64Array]",SDe="[object Int8Array]",CDe="[object Int16Array]",TDe="[object Int32Array]",MDe="[object Uint8Array]",kDe="[object Uint8ClampedArray]",DDe="[object Uint16Array]",ADe="[object Uint32Array]",Fu={};Fu[Kfe]=Fu[uDe]=Fu[bDe]=Fu[xDe]=Fu[sDe]=Fu[lDe]=Fu[wDe]=Fu[_De]=Fu[SDe]=Fu[CDe]=Fu[TDe]=Fu[dDe]=Fu[hDe]=Fu[Zfe]=Fu[pDe]=Fu[mDe]=Fu[gDe]=Fu[vDe]=Fu[MDe]=Fu[kDe]=Fu[DDe]=Fu[ADe]=!0;Fu[cDe]=Fu[Jfe]=Fu[yDe]=!1;function bN(n,e,t,r,i,u){var l,f=e&oDe,h=e&iDe,g=e&aDe;if(t&&(l=i?t(n,r,i,u):t(n)),l!==void 0)return l;if(!xL(n))return n;var y=AM(n);if(y){if(l=_ke(n),!f)return NCe(n,l)}else{var b=ree(n),S=b==Jfe||b==fDe;if(Bfe(n))return tke(n,f);if(b==Zfe||b==Kfe||S&&!i){if(l=h||S?{}:Yke(n),!f)return h?lke(n,QMe(l,n)):ake(n,ZMe(l,n))}else{if(!Fu[b])return i?n:{};l=Xke(n,b,f)}}u||(u=new o5);var _=u.get(n);if(_)return _;u.set(n,l),rDe(n)?n.forEach(function(R){l.add(bN(R,e,t,R,n,u))}):Qke(n)&&n.forEach(function(R,I){l.set(I,bN(R,e,t,I,n,u))});var k=g?h?Yfe:cke:h?JQ:KQ,E=y?void 0:k(n);return $Ce(E||n,function(R,I){E&&(I=R,R=n[I]),Ofe(l,I,bN(R,e,t,I,n,u))}),l}var EDe=1,ODe=4;function qN(n){return bN(n,EDe|ODe)}function IDe(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function RDe(n,e){return e.length<2?n:jfe(n,qMe(e,0,-1))}function PDe(n,e){return e=QQ(e,n),n=RDe(n,e),n==null||delete n[Hfe(IDe(e))]}function NDe(n){return UMe(n)?void 0:n}var LDe=1,BDe=2,zDe=4,FDe=BMe(function(n,e){var t={};if(n==null)return t;var r=!1;e=kfe(e,function(u){return u=QQ(u,n),r||(r=u.length>1),u}),wL(n,Yfe(n),t),r&&(t=bN(t,LDe|BDe|zDe,NDe));for(var i=e.length;i--;)PDe(t,e[i]);return t});const Qfe=FDe,VDe=n=>n!==null&&typeof n=="object",Tb=n=>!!n&&typeof n=="function",Foe=Object.assign,dc=n=>n,cf=(n,e)=>{const t=n;if(t.install=r=>{for(const i of[t,...Object.values(e??{})])r.component(i.name,i)},e)for(const[r,i]of Object.entries(e))t[r]=i;return t};function HDe(n){return VDe(n)?!!(n!=null&&n.setup&&Tb(n.setup)||n!=null&&n.render&&Tb(n.render)):!1}var N3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ede(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function xYe(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var jDe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},tde={},Ep={};let iee;const WDe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ep.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17};Ep.getSymbolTotalCodewords=function(n){return WDe[n]};Ep.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};Ep.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');iee=n};Ep.isKanjiModeEnabled=function(){return typeof iee<"u"};Ep.toSJIS=function(n){return iee(n)};var OH={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},n.from=function(t,r){if(n.isValid(t))return t;try{return e(t)}catch{return r}}})(OH);function nde(){this.buffer=[],this.length=0}nde.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var UDe=nde;function _L(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}_L.prototype.set=function(n,e,t,r){const i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};_L.prototype.get=function(n,e){return this.data[n*this.size+e]};_L.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};_L.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var qDe=_L,rde={};(function(n){const e=Ep.getSymbolSize;n.getRowColCoords=function(t){if(t===1)return[];const r=Math.floor(t/7)+2,i=e(t),u=i===145?26:Math.ceil((i-13)/(2*r-2))*2,l=[i-7];for(let f=1;f<r-1;f++)l[f]=l[f-1]-u;return l.push(6),l.reverse()},n.getPositions=function(t){const r=[],i=n.getRowColCoords(t),u=i.length;for(let l=0;l<u;l++)for(let f=0;f<u;f++)l===0&&f===0||l===0&&f===u-1||l===u-1&&f===0||r.push([i[l],i[f]]);return r}})(rde);var ode={};const $De=Ep.getSymbolSize,Voe=7;ode.getPositions=function(n){const e=$De(n);return[[0,0],[e-Voe,0],[0,e-Voe]]};var ide={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},n.from=function(r){return n.isValid(r)?parseInt(r,10):void 0},n.getPenaltyN1=function(r){const i=r.size;let u=0,l=0,f=0,h=null,g=null;for(let y=0;y<i;y++){l=f=0,h=g=null;for(let b=0;b<i;b++){let S=r.get(y,b);S===h?l++:(l>=5&&(u+=e.N1+(l-5)),h=S,l=1),S=r.get(b,y),S===g?f++:(f>=5&&(u+=e.N1+(f-5)),g=S,f=1)}l>=5&&(u+=e.N1+(l-5)),f>=5&&(u+=e.N1+(f-5))}return u},n.getPenaltyN2=function(r){const i=r.size;let u=0;for(let l=0;l<i-1;l++)for(let f=0;f<i-1;f++){const h=r.get(l,f)+r.get(l,f+1)+r.get(l+1,f)+r.get(l+1,f+1);(h===4||h===0)&&u++}return u*e.N2},n.getPenaltyN3=function(r){const i=r.size;let u=0,l=0,f=0;for(let h=0;h<i;h++){l=f=0;for(let g=0;g<i;g++)l=l<<1&2047|r.get(h,g),g>=10&&(l===1488||l===93)&&u++,f=f<<1&2047|r.get(g,h),g>=10&&(f===1488||f===93)&&u++}return u*e.N3},n.getPenaltyN4=function(r){let i=0;const u=r.data.length;for(let l=0;l<u;l++)i+=r.data[l];return Math.abs(Math.ceil(i*100/u/5)-10)*e.N4};function t(r,i,u){switch(r){case n.Patterns.PATTERN000:return(i+u)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return u%3===0;case n.Patterns.PATTERN011:return(i+u)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(u/3))%2===0;case n.Patterns.PATTERN101:return i*u%2+i*u%3===0;case n.Patterns.PATTERN110:return(i*u%2+i*u%3)%2===0;case n.Patterns.PATTERN111:return(i*u%3+(i+u)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(r,i){const u=i.size;for(let l=0;l<u;l++)for(let f=0;f<u;f++)i.isReserved(f,l)||i.xor(f,l,t(r,f,l))},n.getBestMask=function(r,i){const u=Object.keys(n.Patterns).length;let l=0,f=1/0;for(let h=0;h<u;h++){i(h),n.applyMask(h,r);const g=n.getPenaltyN1(r)+n.getPenaltyN2(r)+n.getPenaltyN3(r)+n.getPenaltyN4(r);n.applyMask(h,r),g<f&&(f=g,l=h)}return l}})(ide);var IH={};const O2=OH,j7=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],W7=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];IH.getBlocksCount=function(n,e){switch(e){case O2.L:return j7[(n-1)*4+0];case O2.M:return j7[(n-1)*4+1];case O2.Q:return j7[(n-1)*4+2];case O2.H:return j7[(n-1)*4+3];default:return}};IH.getTotalCodewordsCount=function(n,e){switch(e){case O2.L:return W7[(n-1)*4+0];case O2.M:return W7[(n-1)*4+1];case O2.Q:return W7[(n-1)*4+2];case O2.H:return W7[(n-1)*4+3];default:return}};var ade={},RH={};const xN=new Uint8Array(512),EV=new Uint8Array(256);(function(){let n=1;for(let e=0;e<255;e++)xN[e]=n,EV[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)xN[e]=xN[e-255]})();RH.log=function(n){if(n<1)throw new Error("log("+n+")");return EV[n]};RH.exp=function(n){return xN[n]};RH.mul=function(n,e){return n===0||e===0?0:xN[EV[n]+EV[e]]};(function(n){const e=RH;n.mul=function(t,r){const i=new Uint8Array(t.length+r.length-1);for(let u=0;u<t.length;u++)for(let l=0;l<r.length;l++)i[u+l]^=e.mul(t[u],r[l]);return i},n.mod=function(t,r){let i=new Uint8Array(t);for(;i.length-r.length>=0;){const u=i[0];for(let f=0;f<r.length;f++)i[f]^=e.mul(r[f],u);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},n.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let i=0;i<t;i++)r=n.mul(r,new Uint8Array([1,e.exp(i)]));return r}})(ade);const ude=ade;function aee(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}aee.prototype.initialize=function(n){this.degree=n,this.genPoly=ude.generateECPolynomial(this.degree)};aee.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(n.length+this.degree);e.set(n);const t=ude.mod(e,this.genPoly),r=this.degree-t.length;if(r>0){const i=new Uint8Array(this.degree);return i.set(t,r),i}return t};var GDe=aee,sde={},o_={},uee={};uee.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40};var yy={};const lde="[0-9]+",XDe="[A-Z $%*+\\-./:]+";let $N="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";$N=$N.replace(/u/g,"\\u");const YDe="(?:(?![A-Z0-9 $%*+\\-./:]|"+$N+`)(?:.|[\r
]))+`;yy.KANJI=new RegExp($N,"g");yy.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");yy.BYTE=new RegExp(YDe,"g");yy.NUMERIC=new RegExp(lde,"g");yy.ALPHANUMERIC=new RegExp(XDe,"g");const KDe=new RegExp("^"+$N+"$"),JDe=new RegExp("^"+lde+"$"),ZDe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");yy.testKanji=function(n){return KDe.test(n)};yy.testNumeric=function(n){return JDe.test(n)};yy.testAlphanumeric=function(n){return ZDe.test(n)};(function(n){const e=uee,t=yy;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(i,u){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?i.ccBits[0]:u<27?i.ccBits[1]:i.ccBits[2]},n.getBestModeForData=function(i){return t.testNumeric(i)?n.NUMERIC:t.testAlphanumeric(i)?n.ALPHANUMERIC:t.testKanji(i)?n.KANJI:n.BYTE},n.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},n.isValid=function(i){return i&&i.bit&&i.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(i,u){if(n.isValid(i))return i;try{return r(i)}catch{return u}}})(o_);(function(n){const e=Ep,t=IH,r=OH,i=o_,u=uee,l=7973,f=e.getBCHDigit(l);function h(S,_,k){for(let E=1;E<=40;E++)if(_<=n.getCapacity(E,k,S))return E}function g(S,_){return i.getCharCountIndicator(S,_)+4}function y(S,_){let k=0;return S.forEach(function(E){const R=g(E.mode,_);k+=R+E.getBitsLength()}),k}function b(S,_){for(let k=1;k<=40;k++)if(y(S,k)<=n.getCapacity(k,_,i.MIXED))return k}n.from=function(S,_){return u.isValid(S)?parseInt(S,10):_},n.getCapacity=function(S,_,k){if(!u.isValid(S))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=i.BYTE);const E=e.getSymbolTotalCodewords(S),R=t.getTotalCodewordsCount(S,_),I=(E-R)*8;if(k===i.MIXED)return I;const z=I-g(k,S);switch(k){case i.NUMERIC:return Math.floor(z/10*3);case i.ALPHANUMERIC:return Math.floor(z/11*2);case i.KANJI:return Math.floor(z/13);case i.BYTE:default:return Math.floor(z/8)}},n.getBestVersionForData=function(S,_){let k;const E=r.from(_,r.M);if(Array.isArray(S)){if(S.length>1)return b(S,E);if(S.length===0)return 1;k=S[0]}else k=S;return h(k.mode,k.getLength(),E)},n.getEncodedBits=function(S){if(!u.isValid(S)||S<7)throw new Error("Invalid QR Code version");let _=S<<12;for(;e.getBCHDigit(_)-f>=0;)_^=l<<e.getBCHDigit(_)-f;return S<<12|_}})(sde);var cde={};const ZJ=Ep,fde=1335,QDe=21522,Hoe=ZJ.getBCHDigit(fde);cde.getEncodedBits=function(n,e){const t=n.bit<<3|e;let r=t<<10;for(;ZJ.getBCHDigit(r)-Hoe>=0;)r^=fde<<ZJ.getBCHDigit(r)-Hoe;return(t<<10|r)^QDe};var dde={};const eAe=o_;function L3(n){this.mode=eAe.NUMERIC,this.data=n.toString()}L3.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)};L3.prototype.getLength=function(){return this.data.length};L3.prototype.getBitsLength=function(){return L3.getBitsLength(this.data.length)};L3.prototype.write=function(n){let e,t,r;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),r=parseInt(t,10),n.put(r,10);const i=this.data.length-e;i>0&&(t=this.data.substr(e),r=parseInt(t,10),n.put(r,i*3+1))};var tAe=L3;const nAe=o_,BY=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function B3(n){this.mode=nAe.ALPHANUMERIC,this.data=n}B3.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)};B3.prototype.getLength=function(){return this.data.length};B3.prototype.getBitsLength=function(){return B3.getBitsLength(this.data.length)};B3.prototype.write=function(n){let e;for(e=0;e+2<=this.data.length;e+=2){let t=BY.indexOf(this.data[e])*45;t+=BY.indexOf(this.data[e+1]),n.put(t,11)}this.data.length%2&&n.put(BY.indexOf(this.data[e]),6)};var rAe=B3,oAe=function(n){for(var e=[],t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);if(i>=55296&&i<=56319&&t>r+1){var u=n.charCodeAt(r+1);u>=56320&&u<=57343&&(i=(i-55296)*1024+u-56320+65536,r+=1)}if(i<128){e.push(i);continue}if(i<2048){e.push(i>>6|192),e.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){e.push(i>>12|224),e.push(i>>6&63|128),e.push(i&63|128);continue}if(i>=65536&&i<=1114111){e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(i&63|128);continue}e.push(239,191,189)}return new Uint8Array(e).buffer};const iAe=oAe,aAe=o_;function z3(n){this.mode=aAe.BYTE,typeof n=="string"&&(n=iAe(n)),this.data=new Uint8Array(n)}z3.getBitsLength=function(n){return n*8};z3.prototype.getLength=function(){return this.data.length};z3.prototype.getBitsLength=function(){return z3.getBitsLength(this.data.length)};z3.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var uAe=z3;const sAe=o_,lAe=Ep;function F3(n){this.mode=sAe.KANJI,this.data=n}F3.getBitsLength=function(n){return n*13};F3.prototype.getLength=function(){return this.data.length};F3.prototype.getBitsLength=function(){return F3.getBitsLength(this.data.length)};F3.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=lAe.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var cAe=F3,hde={exports:{}};(function(n){var e={single_source_shortest_paths:function(t,r,i){var u={},l={};l[r]=0;var f=e.PriorityQueue.make();f.push(r,0);for(var h,g,y,b,S,_,k,E,R;!f.empty();){h=f.pop(),g=h.value,b=h.cost,S=t[g]||{};for(y in S)S.hasOwnProperty(y)&&(_=S[y],k=b+_,E=l[y],R=typeof l[y]>"u",(R||E>k)&&(l[y]=k,f.push(y,k),u[y]=g))}if(typeof i<"u"&&typeof l[i]>"u"){var I=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(I)}return u},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],u=r;u;)i.push(u),t[u],u=t[u];return i.reverse(),i},find_path:function(t,r,i){var u=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(u,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},u;t=t||{};for(u in r)r.hasOwnProperty(u)&&(i[u]=r[u]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(hde);var fAe=hde.exports;(function(n){const e=o_,t=tAe,r=rAe,i=uAe,u=cAe,l=yy,f=Ep,h=fAe;function g(I){return unescape(encodeURIComponent(I)).length}function y(I,z,L){const q=[];let X;for(;(X=I.exec(L))!==null;)q.push({data:X[0],index:X.index,mode:z,length:X[0].length});return q}function b(I){const z=y(l.NUMERIC,e.NUMERIC,I),L=y(l.ALPHANUMERIC,e.ALPHANUMERIC,I);let q,X;return f.isKanjiModeEnabled()?(q=y(l.BYTE,e.BYTE,I),X=y(l.KANJI,e.KANJI,I)):(q=y(l.BYTE_KANJI,e.BYTE,I),X=[]),z.concat(L,q,X).sort(function(Y,ae){return Y.index-ae.index}).map(function(Y){return{data:Y.data,mode:Y.mode,length:Y.length}})}function S(I,z){switch(z){case e.NUMERIC:return t.getBitsLength(I);case e.ALPHANUMERIC:return r.getBitsLength(I);case e.KANJI:return u.getBitsLength(I);case e.BYTE:return i.getBitsLength(I)}}function _(I){return I.reduce(function(z,L){const q=z.length-1>=0?z[z.length-1]:null;return q&&q.mode===L.mode?(z[z.length-1].data+=L.data,z):(z.push(L),z)},[])}function k(I){const z=[];for(let L=0;L<I.length;L++){const q=I[L];switch(q.mode){case e.NUMERIC:z.push([q,{data:q.data,mode:e.ALPHANUMERIC,length:q.length},{data:q.data,mode:e.BYTE,length:q.length}]);break;case e.ALPHANUMERIC:z.push([q,{data:q.data,mode:e.BYTE,length:q.length}]);break;case e.KANJI:z.push([q,{data:q.data,mode:e.BYTE,length:g(q.data)}]);break;case e.BYTE:z.push([{data:q.data,mode:e.BYTE,length:g(q.data)}])}}return z}function E(I,z){const L={},q={start:{}};let X=["start"];for(let Y=0;Y<I.length;Y++){const ae=I[Y],te=[];for(let ie=0;ie<ae.length;ie++){const le=ae[ie],ce=""+Y+ie;te.push(ce),L[ce]={node:le,lastCount:0},q[ce]={};for(let ne=0;ne<X.length;ne++){const Z=X[ne];L[Z]&&L[Z].node.mode===le.mode?(q[Z][ce]=S(L[Z].lastCount+le.length,le.mode)-S(L[Z].lastCount,le.mode),L[Z].lastCount+=le.length):(L[Z]&&(L[Z].lastCount=le.length),q[Z][ce]=S(le.length,le.mode)+4+e.getCharCountIndicator(le.mode,z))}}X=te}for(let Y=0;Y<X.length;Y++)q[X[Y]].end=0;return{map:q,table:L}}function R(I,z){let L;const q=e.getBestModeForData(I);if(L=e.from(z,q),L!==e.BYTE&&L.bit<q.bit)throw new Error('"'+I+'" cannot be encoded with mode '+e.toString(L)+`.
 Suggested mode is: `+e.toString(q));switch(L===e.KANJI&&!f.isKanjiModeEnabled()&&(L=e.BYTE),L){case e.NUMERIC:return new t(I);case e.ALPHANUMERIC:return new r(I);case e.KANJI:return new u(I);case e.BYTE:return new i(I)}}n.fromArray=function(I){return I.reduce(function(z,L){return typeof L=="string"?z.push(R(L,null)):L.data&&z.push(R(L.data,L.mode)),z},[])},n.fromString=function(I,z){const L=b(I,f.isKanjiModeEnabled()),q=k(L),X=E(q,z),Y=h.find_path(X.map,"start","end"),ae=[];for(let te=1;te<Y.length-1;te++)ae.push(X.table[Y[te]].node);return n.fromArray(_(ae))},n.rawSplit=function(I){return n.fromArray(b(I,f.isKanjiModeEnabled()))}})(dde);const PH=Ep,zY=OH,dAe=UDe,hAe=qDe,pAe=rde,mAe=ode,QJ=ide,eZ=IH,gAe=GDe,OV=sde,vAe=cde,yAe=o_,FY=dde;function bAe(n,e){const t=n.size,r=mAe.getPositions(e);for(let i=0;i<r.length;i++){const u=r[i][0],l=r[i][1];for(let f=-1;f<=7;f++)if(!(u+f<=-1||t<=u+f))for(let h=-1;h<=7;h++)l+h<=-1||t<=l+h||(f>=0&&f<=6&&(h===0||h===6)||h>=0&&h<=6&&(f===0||f===6)||f>=2&&f<=4&&h>=2&&h<=4?n.set(u+f,l+h,!0,!0):n.set(u+f,l+h,!1,!0))}}function xAe(n){const e=n.size;for(let t=8;t<e-8;t++){const r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function wAe(n,e){const t=pAe.getPositions(e);for(let r=0;r<t.length;r++){const i=t[r][0],u=t[r][1];for(let l=-2;l<=2;l++)for(let f=-2;f<=2;f++)l===-2||l===2||f===-2||f===2||l===0&&f===0?n.set(i+l,u+f,!0,!0):n.set(i+l,u+f,!1,!0)}}function _Ae(n,e){const t=n.size,r=OV.getEncodedBits(e);let i,u,l;for(let f=0;f<18;f++)i=Math.floor(f/3),u=f%3+t-8-3,l=(r>>f&1)===1,n.set(i,u,l,!0),n.set(u,i,l,!0)}function VY(n,e,t){const r=n.size,i=vAe.getEncodedBits(e,t);let u,l;for(u=0;u<15;u++)l=(i>>u&1)===1,u<6?n.set(u,8,l,!0):u<8?n.set(u+1,8,l,!0):n.set(r-15+u,8,l,!0),u<8?n.set(8,r-u-1,l,!0):u<9?n.set(8,15-u-1+1,l,!0):n.set(8,15-u-1,l,!0);n.set(r-8,8,1,!0)}function SAe(n,e){const t=n.size;let r=-1,i=t-1,u=7,l=0;for(let f=t-1;f>0;f-=2)for(f===6&&f--;;){for(let h=0;h<2;h++)if(!n.isReserved(i,f-h)){let g=!1;l<e.length&&(g=(e[l]>>>u&1)===1),n.set(i,f-h,g),u--,u===-1&&(l++,u=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function CAe(n,e,t){const r=new dAe;t.forEach(function(h){r.put(h.mode.bit,4),r.put(h.getLength(),yAe.getCharCountIndicator(h.mode,n)),h.write(r)});const i=PH.getSymbolTotalCodewords(n),u=eZ.getTotalCodewordsCount(n,e),l=(i-u)*8;for(r.getLengthInBits()+4<=l&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const f=(l-r.getLengthInBits())/8;for(let h=0;h<f;h++)r.put(h%2?17:236,8);return TAe(r,n,e)}function TAe(n,e,t){const r=PH.getSymbolTotalCodewords(e),i=eZ.getTotalCodewordsCount(e,t),u=r-i,l=eZ.getBlocksCount(e,t),f=r%l,h=l-f,g=Math.floor(r/l),y=Math.floor(u/l),b=y+1,S=g-y,_=new gAe(S);let k=0;const E=new Array(l),R=new Array(l);let I=0;const z=new Uint8Array(n.buffer);for(let ae=0;ae<l;ae++){const te=ae<h?y:b;E[ae]=z.slice(k,k+te),R[ae]=_.encode(E[ae]),k+=te,I=Math.max(I,te)}const L=new Uint8Array(r);let q=0,X,Y;for(X=0;X<I;X++)for(Y=0;Y<l;Y++)X<E[Y].length&&(L[q++]=E[Y][X]);for(X=0;X<S;X++)for(Y=0;Y<l;Y++)L[q++]=R[Y][X];return L}function MAe(n,e,t,r){let i;if(Array.isArray(n))i=FY.fromArray(n);else if(typeof n=="string"){let g=e;if(!g){const y=FY.rawSplit(n);g=OV.getBestVersionForData(y,t)}i=FY.fromString(n,g||40)}else throw new Error("Invalid data");const u=OV.getBestVersionForData(i,t);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=u;else if(e<u)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+u+`.
`);const l=CAe(e,t,i),f=PH.getSymbolSize(e),h=new hAe(f);return bAe(h,e),xAe(h),wAe(h,e),VY(h,t,0),e>=7&&_Ae(h,e),SAe(h,l),isNaN(r)&&(r=QJ.getBestMask(h,VY.bind(null,h,t))),QJ.applyMask(r,h),VY(h,t,r),{modules:h,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}tde.create=function(n,e){if(typeof n>"u"||n==="")throw new Error("No input text");let t=zY.M,r,i;return typeof e<"u"&&(t=zY.from(e.errorCorrectionLevel,zY.M),r=OV.from(e.version),i=QJ.from(e.maskPattern),e.toSJISFunc&&PH.setToSJISFunction(e.toSJISFunc)),MAe(n,r,t,i)};var pde={},see={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(u){return[u,u]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(t){t||(t={}),t.color||(t.color={});const r=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,u=t.scale||4;return{width:i,scale:i?4:u,margin:r,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},n.getScale=function(t,r){return r.width&&r.width>=t+r.margin*2?r.width/(t+r.margin*2):r.scale},n.getImageWidth=function(t,r){const i=n.getScale(t,r);return Math.floor((t+r.margin*2)*i)},n.qrToImageData=function(t,r,i){const u=r.modules.size,l=r.modules.data,f=n.getScale(u,i),h=Math.floor((u+i.margin*2)*f),g=i.margin*f,y=[i.color.light,i.color.dark];for(let b=0;b<h;b++)for(let S=0;S<h;S++){let _=(b*h+S)*4,k=i.color.light;if(b>=g&&S>=g&&b<h-g&&S<h-g){const E=Math.floor((b-g)/f),R=Math.floor((S-g)/f);k=y[l[E*u+R]?1:0]}t[_++]=k.r,t[_++]=k.g,t[_++]=k.b,t[_]=k.a}}})(see);(function(n){const e=see;function t(i,u,l){i.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=l,u.width=l,u.style.height=l+"px",u.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(i,u,l){let f=l,h=u;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),u||(h=r()),f=e.getOptions(f);const g=e.getImageWidth(i.modules.size,f),y=h.getContext("2d"),b=y.createImageData(g,g);return e.qrToImageData(b.data,i,f),t(y,h,g),y.putImageData(b,0,0),h},n.renderToDataURL=function(i,u,l){let f=l;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),f||(f={});const h=n.render(i,u,f),g=f.type||"image/png",y=f.rendererOpts||{};return h.toDataURL(g,y.quality)}})(pde);var mde={};const kAe=see;function joe(n,e){const t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function HY(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function DAe(n,e,t){let r="",i=0,u=!1,l=0;for(let f=0;f<n.length;f++){const h=Math.floor(f%e),g=Math.floor(f/e);!h&&!u&&(u=!0),n[f]?(l++,f>0&&h>0&&n[f-1]||(r+=u?HY("M",h+t,.5+g+t):HY("m",i,0),i=0,u=!1),h+1<e&&n[f+1]||(r+=HY("h",l),l=0)):i++}return r}mde.render=function(n,e,t){const r=kAe.getOptions(e),i=n.modules.size,u=n.modules.data,l=i+r.margin*2,f=r.color.light.a?"<path "+joe(r.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+joe(r.color.dark,"stroke")+' d="'+DAe(u,i,r.margin)+'"/>',g='viewBox="0 0 '+l+" "+l+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+g+' shape-rendering="crispEdges">'+f+h+`</svg>
`;return typeof t=="function"&&t(null,y),y};const AAe=jDe,tZ=tde,gde=pde,EAe=mde;function lee(n,e,t,r,i){const u=[].slice.call(arguments,1),l=u.length,f=typeof u[l-1]=="function";if(!f&&!AAe())throw new Error("Callback required as last argument");if(f){if(l<2)throw new Error("Too few arguments provided");l===2?(i=t,t=e,e=r=void 0):l===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(t=e,e=r=void 0):l===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(h,g){try{const y=tZ.create(t,r);h(n(y,e,r))}catch(y){g(y)}})}try{const h=tZ.create(t,r);i(null,n(h,e,r))}catch(h){i(h)}}tZ.create;var wYe=lee.bind(null,gde.render);lee.bind(null,gde.renderToDataURL);lee.bind(null,function(n,e,t){return EAe.render(n,t)});class OAe{constructor(e=window.localStorage,t){S3(this,"localStorage"),S3(this,"prefix"),S3(this,"expire");const{prefix:r}=t;this.localStorage=e,this.prefix=r}set(e,t,r){this.localStorage.setItem(this.getKey(e),this.dataFormatter(t,r))}get(e){const t=this.localStorage.getItem(this.getKey(e));if(!t)return null;try{const r=JSON.parse(t);return this.isExpire(r.expire)?(this.remove(this.getKey(e)),null):r.value}catch{return null}}remove(e){this.localStorage.removeItem(this.getKey(e))}clearAll(){this.localStorage.clear()}dataFormatter(e,t){return JSON.stringify({value:e,expire:t})}isExpire(e){return e?new Date().getTime()<e:!1}getKey(e){return(this.prefix||"")+e}}function IAe(n){const{prefixKey:e,expire:t,storage:r=window.localStorage}=n||{};return new OAe(r,{prefix:e||"",expire:t})}var vde={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(N3,function(){var t=1e3,r=6e4,i=36e5,u="millisecond",l="second",f="minute",h="hour",g="day",y="week",b="month",S="quarter",_="year",k="date",E="Invalid Date",R=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ce){var ze=["th","st","nd","rd"],ke=Ce%100;return"["+Ce+(ze[(ke-20)%10]||ze[ke]||ze[0])+"]"}},L=function(Ce,ze,ke){var _t=String(Ce);return!_t||_t.length>=ze?Ce:""+Array(ze+1-_t.length).join(ke)+Ce},q={s:L,z:function(Ce){var ze=-Ce.utcOffset(),ke=Math.abs(ze),_t=Math.floor(ke/60),tt=ke%60;return(ze<=0?"+":"-")+L(_t,2,"0")+":"+L(tt,2,"0")},m:function Ce(ze,ke){if(ze.date()<ke.date())return-Ce(ke,ze);var _t=12*(ke.year()-ze.year())+(ke.month()-ze.month()),tt=ze.clone().add(_t,b),$=ke-tt<0,Ze=ze.clone().add(_t+($?-1:1),b);return+(-(_t+(ke-tt)/($?tt-Ze:Ze-tt))||0)},a:function(Ce){return Ce<0?Math.ceil(Ce)||0:Math.floor(Ce)},p:function(Ce){return{M:b,y:_,w:y,d:g,D:k,h,m:f,s:l,ms:u,Q:S}[Ce]||String(Ce||"").toLowerCase().replace(/s$/,"")},u:function(Ce){return Ce===void 0}},X="en",Y={};Y[X]=z;var ae="$isDayjsObject",te=function(Ce){return Ce instanceof ne||!(!Ce||!Ce[ae])},ie=function Ce(ze,ke,_t){var tt;if(!ze)return X;if(typeof ze=="string"){var $=ze.toLowerCase();Y[$]&&(tt=$),ke&&(Y[$]=ke,tt=$);var Ze=ze.split("-");if(!tt&&Ze.length>1)return Ce(Ze[0])}else{var $e=ze.name;Y[$e]=ze,tt=$e}return!_t&&tt&&(X=tt),tt||!_t&&X},le=function(Ce,ze){if(te(Ce))return Ce.clone();var ke=typeof ze=="object"?ze:{};return ke.date=Ce,ke.args=arguments,new ne(ke)},ce=q;ce.l=ie,ce.i=te,ce.w=function(Ce,ze){return le(Ce,{locale:ze.$L,utc:ze.$u,x:ze.$x,$offset:ze.$offset})};var ne=function(){function Ce(ke){this.$L=ie(ke.locale,null,!0),this.parse(ke),this.$x=this.$x||ke.x||{},this[ae]=!0}var ze=Ce.prototype;return ze.parse=function(ke){this.$d=function(_t){var tt=_t.date,$=_t.utc;if(tt===null)return new Date(NaN);if(ce.u(tt))return new Date;if(tt instanceof Date)return new Date(tt);if(typeof tt=="string"&&!/Z$/i.test(tt)){var Ze=tt.match(R);if(Ze){var $e=Ze[2]-1||0,mt=(Ze[7]||"0").substring(0,3);return $?new Date(Date.UTC(Ze[1],$e,Ze[3]||1,Ze[4]||0,Ze[5]||0,Ze[6]||0,mt)):new Date(Ze[1],$e,Ze[3]||1,Ze[4]||0,Ze[5]||0,Ze[6]||0,mt)}}return new Date(tt)}(ke),this.init()},ze.init=function(){var ke=this.$d;this.$y=ke.getFullYear(),this.$M=ke.getMonth(),this.$D=ke.getDate(),this.$W=ke.getDay(),this.$H=ke.getHours(),this.$m=ke.getMinutes(),this.$s=ke.getSeconds(),this.$ms=ke.getMilliseconds()},ze.$utils=function(){return ce},ze.isValid=function(){return this.$d.toString()!==E},ze.isSame=function(ke,_t){var tt=le(ke);return this.startOf(_t)<=tt&&tt<=this.endOf(_t)},ze.isAfter=function(ke,_t){return le(ke)<this.startOf(_t)},ze.isBefore=function(ke,_t){return this.endOf(_t)<le(ke)},ze.$g=function(ke,_t,tt){return ce.u(ke)?this[_t]:this.set(tt,ke)},ze.unix=function(){return Math.floor(this.valueOf()/1e3)},ze.valueOf=function(){return this.$d.getTime()},ze.startOf=function(ke,_t){var tt=this,$=!!ce.u(_t)||_t,Ze=ce.p(ke),$e=function(Je,Fe){var St=ce.w(tt.$u?Date.UTC(tt.$y,Fe,Je):new Date(tt.$y,Fe,Je),tt);return $?St:St.endOf(g)},mt=function(Je,Fe){return ce.w(tt.toDate()[Je].apply(tt.toDate("s"),($?[0,0,0,0]:[23,59,59,999]).slice(Fe)),tt)},Qe=this.$W,Et=this.$M,Ot=this.$D,Nt="set"+(this.$u?"UTC":"");switch(Ze){case _:return $?$e(1,0):$e(31,11);case b:return $?$e(1,Et):$e(0,Et+1);case y:var fe=this.$locale().weekStart||0,$t=(Qe<fe?Qe+7:Qe)-fe;return $e($?Ot-$t:Ot+(6-$t),Et);case g:case k:return mt(Nt+"Hours",0);case h:return mt(Nt+"Minutes",1);case f:return mt(Nt+"Seconds",2);case l:return mt(Nt+"Milliseconds",3);default:return this.clone()}},ze.endOf=function(ke){return this.startOf(ke,!1)},ze.$set=function(ke,_t){var tt,$=ce.p(ke),Ze="set"+(this.$u?"UTC":""),$e=(tt={},tt[g]=Ze+"Date",tt[k]=Ze+"Date",tt[b]=Ze+"Month",tt[_]=Ze+"FullYear",tt[h]=Ze+"Hours",tt[f]=Ze+"Minutes",tt[l]=Ze+"Seconds",tt[u]=Ze+"Milliseconds",tt)[$],mt=$===g?this.$D+(_t-this.$W):_t;if($===b||$===_){var Qe=this.clone().set(k,1);Qe.$d[$e](mt),Qe.init(),this.$d=Qe.set(k,Math.min(this.$D,Qe.daysInMonth())).$d}else $e&&this.$d[$e](mt);return this.init(),this},ze.set=function(ke,_t){return this.clone().$set(ke,_t)},ze.get=function(ke){return this[ce.p(ke)]()},ze.add=function(ke,_t){var tt,$=this;ke=Number(ke);var Ze=ce.p(_t),$e=function(Et){var Ot=le($);return ce.w(Ot.date(Ot.date()+Math.round(Et*ke)),$)};if(Ze===b)return this.set(b,this.$M+ke);if(Ze===_)return this.set(_,this.$y+ke);if(Ze===g)return $e(1);if(Ze===y)return $e(7);var mt=(tt={},tt[f]=r,tt[h]=i,tt[l]=t,tt)[Ze]||1,Qe=this.$d.getTime()+ke*mt;return ce.w(Qe,this)},ze.subtract=function(ke,_t){return this.add(-1*ke,_t)},ze.format=function(ke){var _t=this,tt=this.$locale();if(!this.isValid())return tt.invalidDate||E;var $=ke||"YYYY-MM-DDTHH:mm:ssZ",Ze=ce.z(this),$e=this.$H,mt=this.$m,Qe=this.$M,Et=tt.weekdays,Ot=tt.months,Nt=tt.meridiem,fe=function(Fe,St,Ue,Ye){return Fe&&(Fe[St]||Fe(_t,$))||Ue[St].slice(0,Ye)},$t=function(Fe){return ce.s($e%12||12,Fe,"0")},Je=Nt||function(Fe,St,Ue){var Ye=Fe<12?"AM":"PM";return Ue?Ye.toLowerCase():Ye};return $.replace(I,function(Fe,St){return St||function(Ue){switch(Ue){case"YY":return String(_t.$y).slice(-2);case"YYYY":return ce.s(_t.$y,4,"0");case"M":return Qe+1;case"MM":return ce.s(Qe+1,2,"0");case"MMM":return fe(tt.monthsShort,Qe,Ot,3);case"MMMM":return fe(Ot,Qe);case"D":return _t.$D;case"DD":return ce.s(_t.$D,2,"0");case"d":return String(_t.$W);case"dd":return fe(tt.weekdaysMin,_t.$W,Et,2);case"ddd":return fe(tt.weekdaysShort,_t.$W,Et,3);case"dddd":return Et[_t.$W];case"H":return String($e);case"HH":return ce.s($e,2,"0");case"h":return $t(1);case"hh":return $t(2);case"a":return Je($e,mt,!0);case"A":return Je($e,mt,!1);case"m":return String(mt);case"mm":return ce.s(mt,2,"0");case"s":return String(_t.$s);case"ss":return ce.s(_t.$s,2,"0");case"SSS":return ce.s(_t.$ms,3,"0");case"Z":return Ze}return null}(Fe)||Ze.replace(":","")})},ze.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ze.diff=function(ke,_t,tt){var $,Ze=this,$e=ce.p(_t),mt=le(ke),Qe=(mt.utcOffset()-this.utcOffset())*r,Et=this-mt,Ot=function(){return ce.m(Ze,mt)};switch($e){case _:$=Ot()/12;break;case b:$=Ot();break;case S:$=Ot()/3;break;case y:$=(Et-Qe)/6048e5;break;case g:$=(Et-Qe)/864e5;break;case h:$=Et/i;break;case f:$=Et/r;break;case l:$=Et/t;break;default:$=Et}return tt?$:ce.a($)},ze.daysInMonth=function(){return this.endOf(b).$D},ze.$locale=function(){return Y[this.$L]},ze.locale=function(ke,_t){if(!ke)return this.$L;var tt=this.clone(),$=ie(ke,_t,!0);return $&&(tt.$L=$),tt},ze.clone=function(){return ce.w(this.$d,this)},ze.toDate=function(){return new Date(this.valueOf())},ze.toJSON=function(){return this.isValid()?this.toISOString():null},ze.toISOString=function(){return this.$d.toISOString()},ze.toString=function(){return this.$d.toUTCString()},Ce}(),Z=ne.prototype;return le.prototype=Z,[["$ms",u],["$s",l],["$m",f],["$H",h],["$W",g],["$M",b],["$y",_],["$D",k]].forEach(function(Ce){Z[Ce[1]]=function(ze){return this.$g(ze,Ce[0],Ce[1])}}),le.extend=function(Ce,ze){return Ce.$i||(Ce(ze,ne,le),Ce.$i=!0),le},le.locale=ie,le.isDayjs=te,le.unix=function(Ce){return le(1e3*Ce)},le.en=Y[X],le.Ls=Y,le.p={},le})})(vde);var RAe=vde.exports;const _Ye=ede(RAe);function PAe(n,e){return n.map(t=>yde(t,e))}function yde(n,{children:e="children",conversion:t}){const r=Array.isArray(n[e])&&n[e].length>0,i=t(n)||{};return r?{...i,[e]:n[e].map(u=>yde(u,{children:e,conversion:t}))}:{...i}}const NAe={id:"id",children:"children",pid:"pid"},LAe=n=>Object.assign({},NAe,n);function Woe(n,e,t={}){t=LAe(t);const r=t.children;function i(u){return u.map(l=>({...l})).filter(l=>(l[r]=l[r]&&i(l[r]),e(l)||l[r]&&l[r].length))}return i(n)}var BAe="0123456789abcdefghijklmnopqrstuvwxyz";function vb(n){return BAe.charAt(n)}function zAe(n,e){return n&e}function U7(n,e){return n|e}function Uoe(n,e){return n^e}function qoe(n,e){return n&~e}function FAe(n){if(n==0)return-1;var e=0;return n&65535||(n>>=16,e+=16),n&255||(n>>=8,e+=8),n&15||(n>>=4,e+=4),n&3||(n>>=2,e+=2),n&1||++e,e}function VAe(n){for(var e=0;n!=0;)n&=n-1,++e;return e}var h3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bde="=";function IV(n){var e,t,r="";for(e=0;e+3<=n.length;e+=3)t=parseInt(n.substring(e,e+3),16),r+=h3.charAt(t>>6)+h3.charAt(t&63);for(e+1==n.length?(t=parseInt(n.substring(e,e+1),16),r+=h3.charAt(t<<2)):e+2==n.length&&(t=parseInt(n.substring(e,e+2),16),r+=h3.charAt(t>>2)+h3.charAt((t&3)<<4));(r.length&3)>0;)r+=bde;return r}function $oe(n){var e="",t,r=0,i=0;for(t=0;t<n.length&&n.charAt(t)!=bde;++t){var u=h3.indexOf(n.charAt(t));u<0||(r==0?(e+=vb(u>>2),i=u&3,r=1):r==1?(e+=vb(i<<2|u>>4),i=u&15,r=2):r==2?(e+=vb(i),e+=vb(u>>2),i=u&3,r=3):(e+=vb(i<<2|u>>4),e+=vb(u&15),r=0))}return r==1&&(e+=vb(i<<2)),e}var qE,HAe={decode:function(n){var e;if(qE===void 0){var t="0123456789ABCDEF",r=` \f
\r	 \u2028\u2029`;for(qE={},e=0;e<16;++e)qE[t.charAt(e)]=e;for(t=t.toLowerCase(),e=10;e<16;++e)qE[t.charAt(e)]=e;for(e=0;e<r.length;++e)qE[r.charAt(e)]=-1}var i=[],u=0,l=0;for(e=0;e<n.length;++e){var f=n.charAt(e);if(f=="=")break;if(f=qE[f],f!=-1){if(f===void 0)throw new Error("Illegal character at offset "+e);u|=f,++l>=2?(i[i.length]=u,u=0,l=0):u<<=4}}if(l)throw new Error("Hex encoding incomplete: 4 bits missing");return i}},ST,nZ={decode:function(n){var e;if(ST===void 0){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=`= \f
\r	 \u2028\u2029`;for(ST=Object.create(null),e=0;e<64;++e)ST[t.charAt(e)]=e;for(ST["-"]=62,ST._=63,e=0;e<r.length;++e)ST[r.charAt(e)]=-1}var i=[],u=0,l=0;for(e=0;e<n.length;++e){var f=n.charAt(e);if(f=="=")break;if(f=ST[f],f!=-1){if(f===void 0)throw new Error("Illegal character at offset "+e);u|=f,++l>=4?(i[i.length]=u>>16,i[i.length]=u>>8&255,i[i.length]=u&255,u=0,l=0):u<<=6}}switch(l){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=u>>10;break;case 3:i[i.length]=u>>16,i[i.length]=u>>8&255;break}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(n){var e=nZ.re.exec(n);if(e)if(e[1])n=e[1];else if(e[2])n=e[2];else throw new Error("RegExp out of sync");return nZ.decode(n)}},$E=1e13,oN=function(){function n(e){this.buf=[+e||0]}return n.prototype.mulAdd=function(e,t){var r=this.buf,i=r.length,u,l;for(u=0;u<i;++u)l=r[u]*e+t,l<$E?t=0:(t=0|l/$E,l-=t*$E),r[u]=l;t>0&&(r[u]=t)},n.prototype.sub=function(e){var t=this.buf,r=t.length,i,u;for(i=0;i<r;++i)u=t[i]-e,u<0?(u+=$E,e=1):e=0,t[i]=u;for(;t[t.length-1]===0;)t.pop()},n.prototype.toString=function(e){if((e||10)!=10)throw new Error("only base 10 is supported");for(var t=this.buf,r=t[t.length-1].toString(),i=t.length-2;i>=0;--i)r+=($E+t[i]).toString().substring(1);return r},n.prototype.valueOf=function(){for(var e=this.buf,t=0,r=e.length-1;r>=0;--r)t=t*$E+e[r];return t},n.prototype.simplify=function(){var e=this.buf;return e.length==1?e[0]:this},n}(),xde="…",jAe=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,WAe=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function C3(n,e){return n.length>e&&(n=n.substring(0,e)+xde),n}var jY=function(){function n(e,t){this.hexDigits="0123456789ABCDEF",e instanceof n?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=t)}return n.prototype.get=function(e){if(e===void 0&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset ".concat(e," on a stream of length ").concat(this.enc.length));return typeof this.enc=="string"?this.enc.charCodeAt(e):this.enc[e]},n.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(e&15)},n.prototype.hexDump=function(e,t,r){for(var i="",u=e;u<t;++u)if(i+=this.hexByte(this.get(u)),r!==!0)switch(u&15){case 7:i+="  ";break;case 15:i+=`
`;break;default:i+=" "}return i},n.prototype.isASCII=function(e,t){for(var r=e;r<t;++r){var i=this.get(r);if(i<32||i>176)return!1}return!0},n.prototype.parseStringISO=function(e,t){for(var r="",i=e;i<t;++i)r+=String.fromCharCode(this.get(i));return r},n.prototype.parseStringUTF=function(e,t){for(var r="",i=e;i<t;){var u=this.get(i++);u<128?r+=String.fromCharCode(u):u>191&&u<224?r+=String.fromCharCode((u&31)<<6|this.get(i++)&63):r+=String.fromCharCode((u&15)<<12|(this.get(i++)&63)<<6|this.get(i++)&63)}return r},n.prototype.parseStringBMP=function(e,t){for(var r="",i,u,l=e;l<t;)i=this.get(l++),u=this.get(l++),r+=String.fromCharCode(i<<8|u);return r},n.prototype.parseTime=function(e,t,r){var i=this.parseStringISO(e,t),u=(r?jAe:WAe).exec(i);return u?(r&&(u[1]=+u[1],u[1]+=+u[1]<70?2e3:1900),i=u[1]+"-"+u[2]+"-"+u[3]+" "+u[4],u[5]&&(i+=":"+u[5],u[6]&&(i+=":"+u[6],u[7]&&(i+="."+u[7]))),u[8]&&(i+=" UTC",u[8]!="Z"&&(i+=u[8],u[9]&&(i+=":"+u[9]))),i):"Unrecognized time: "+i},n.prototype.parseInteger=function(e,t){for(var r=this.get(e),i=r>127,u=i?255:0,l,f="";r==u&&++e<t;)r=this.get(e);if(l=t-e,l===0)return i?-1:0;if(l>4){for(f=r,l<<=3;!((+f^u)&128);)f=+f<<1,--l;f="("+l+` bit)
`}i&&(r=r-256);for(var h=new oN(r),g=e+1;g<t;++g)h.mulAdd(256,this.get(g));return f+h.toString()},n.prototype.parseBitString=function(e,t,r){for(var i=this.get(e),u=(t-e-1<<3)-i,l="("+u+` bit)
`,f="",h=e+1;h<t;++h){for(var g=this.get(h),y=h==t-1?i:0,b=7;b>=y;--b)f+=g>>b&1?"1":"0";if(f.length>r)return l+C3(f,r)}return l+f},n.prototype.parseOctetString=function(e,t,r){if(this.isASCII(e,t))return C3(this.parseStringISO(e,t),r);var i=t-e,u="("+i+` byte)
`;r/=2,i>r&&(t=e+r);for(var l=e;l<t;++l)u+=this.hexByte(this.get(l));return i>r&&(u+=xde),u},n.prototype.parseOID=function(e,t,r){for(var i="",u=new oN,l=0,f=e;f<t;++f){var h=this.get(f);if(u.mulAdd(128,h&127),l+=7,!(h&128)){if(i==="")if(u=u.simplify(),u instanceof oN)u.sub(80),i="2."+u.toString();else{var g=u<80?u<40?0:1:2;i=g+"."+(u-g*40)}else i+="."+u.toString();if(i.length>r)return C3(i,r);u=new oN,l=0}}return l>0&&(i+=".incomplete"),i},n}(),UAe=function(){function n(e,t,r,i,u){if(!(i instanceof Goe))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=r,this.tag=i,this.sub=u}return n.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},n.prototype.content=function(e){if(this.tag===void 0)return null;e===void 0&&(e=1/0);var t=this.posContent(),r=Math.abs(this.length);if(!this.tag.isUniversal())return this.sub!==null?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+r,e);switch(this.tag.tagNumber){case 1:return this.stream.get(t)===0?"false":"true";case 2:return this.stream.parseInteger(t,t+r);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+r,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+r,e);case 6:return this.stream.parseOID(t,t+r,e);case 16:case 17:return this.sub!==null?"("+this.sub.length+" elem)":"(no elem)";case 12:return C3(this.stream.parseStringUTF(t,t+r),e);case 18:case 19:case 20:case 21:case 22:case 26:return C3(this.stream.parseStringISO(t,t+r),e);case 30:return C3(this.stream.parseStringBMP(t,t+r),e);case 23:case 24:return this.stream.parseTime(t,t+r,this.tag.tagNumber==23)}return null},n.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(this.sub===null?"null":this.sub.length)+"]"},n.prototype.toPrettyString=function(e){e===void 0&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":this.tag.isUniversal()&&(this.tag.tagNumber==3||this.tag.tagNumber==4)&&this.sub!==null&&(t+=" (encapsulates)"),t+=`
`,this.sub!==null){e+="  ";for(var r=0,i=this.sub.length;r<i;++r)t+=this.sub[r].toPrettyString(e)}return t},n.prototype.posStart=function(){return this.stream.pos},n.prototype.posContent=function(){return this.stream.pos+this.header},n.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},n.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},n.decodeLength=function(e){var t=e.get(),r=t&127;if(r==t)return r;if(r>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(r===0)return null;t=0;for(var i=0;i<r;++i)t=t*256+e.get();return t},n.prototype.getHexStringValue=function(){var e=this.toHexString(),t=this.header*2,r=this.length*2;return e.substr(t,r)},n.decode=function(e){var t;e instanceof jY?t=e:t=new jY(e,0);var r=new jY(t),i=new Goe(t),u=n.decodeLength(t),l=t.pos,f=l-r.pos,h=null,g=function(){var b=[];if(u!==null){for(var S=l+u;t.pos<S;)b[b.length]=n.decode(t);if(t.pos!=S)throw new Error("Content size is not correct for container starting at offset "+l)}else try{for(;;){var _=n.decode(t);if(_.tag.isEOC())break;b[b.length]=_}u=l-t.pos}catch(k){throw new Error("Exception while decoding undefined length content: "+k)}return b};if(i.tagConstructed)h=g();else if(i.isUniversal()&&(i.tagNumber==3||i.tagNumber==4))try{if(i.tagNumber==3&&t.get()!=0)throw new Error("BIT STRINGs with unused bits cannot encapsulate.");h=g();for(var y=0;y<h.length;++y)if(h[y].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch{h=null}if(h===null){if(u===null)throw new Error("We can't skip over an invalid tag with undefined length at offset "+l);t.pos=l+Math.abs(u)}return new n(r,f,u,i,h)},n}(),Goe=function(){function n(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=(t&32)!==0,this.tagNumber=t&31,this.tagNumber==31){var r=new oN;do t=e.get(),r.mulAdd(128,t&127);while(t&128);this.tagNumber=r.simplify()}}return n.prototype.isUniversal=function(){return this.tagClass===0},n.prototype.isEOC=function(){return this.tagClass===0&&this.tagNumber===0},n}(),j2,qAe=0xdeadbeefcafe,Xoe=(qAe&16777215)==15715070,kd=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],$Ae=(1<<26)/kd[kd.length-1],ki=function(){function n(e,t,r){e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}return n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,i,u=!1,l="",f=this.t,h=this.DB-f*this.DB%t;if(f-- >0)for(h<this.DB&&(i=this[f]>>h)>0&&(u=!0,l=vb(i));f>=0;)h<t?(i=(this[f]&(1<<h)-1)<<t-h,i|=this[--f]>>(h+=this.DB-t)):(i=this[f]>>(h-=t)&r,h<=0&&(h+=this.DB,--f)),i>0&&(u=!0),u&&(l+=vb(i));return u?l:"0"},n.prototype.negate=function(){var e=Qi();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+q7(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=Qi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var r;return e<256||t.isEven()?r=new Yoe(t):r=new Koe(t),this.exp(e,r)},n.prototype.clone=function(){var e=Qi();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var r=this.DB-e*this.DB%8,i,u=0;if(e-- >0)for(r<this.DB&&(i=this[e]>>r)!=(this.s&this.DM)>>r&&(t[u++]=i|this.s<<this.DB-r);e>=0;)r<8?(i=(this[e]&(1<<r)-1)<<8-r,i|=this[--e]>>(r+=this.DB-8)):(i=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),i&128&&(i|=-256),u==0&&(this.s&128)!=(i&128)&&++u,(u>0||i!=this.s)&&(t[u++]=i);return t},n.prototype.equals=function(e){return this.compareTo(e)==0},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=Qi();return this.bitwiseTo(e,zAe,t),t},n.prototype.or=function(e){var t=Qi();return this.bitwiseTo(e,U7,t),t},n.prototype.xor=function(e){var t=Qi();return this.bitwiseTo(e,Uoe,t),t},n.prototype.andNot=function(e){var t=Qi();return this.bitwiseTo(e,qoe,t),t},n.prototype.not=function(){for(var e=Qi(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=Qi();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=Qi();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+FAe(this[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=VAe(this[r]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<e%this.DB)!=0},n.prototype.setBit=function(e){return this.changeBit(e,U7)},n.prototype.clearBit=function(e){return this.changeBit(e,qoe)},n.prototype.flipBit=function(e){return this.changeBit(e,Uoe)},n.prototype.add=function(e){var t=Qi();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=Qi();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=Qi();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=Qi();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=Qi();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=Qi(),r=Qi();return this.divRemTo(e,t,r),[t,r]},n.prototype.modPow=function(e,t){var r=e.bitLength(),i,u=k2(1),l;if(r<=0)return u;r<18?i=1:r<48?i=3:r<144?i=4:r<768?i=5:i=6,r<8?l=new Yoe(t):t.isEven()?l=new XAe(t):l=new Koe(t);var f=[],h=3,g=i-1,y=(1<<i)-1;if(f[1]=l.convert(this),i>1){var b=Qi();for(l.sqrTo(f[1],b);h<=y;)f[h]=Qi(),l.mulTo(b,f[h-2],f[h]),h+=2}var S=e.t-1,_,k=!0,E=Qi(),R;for(r=q7(e[S])-1;S>=0;){for(r>=g?_=e[S]>>r-g&y:(_=(e[S]&(1<<r+1)-1)<<g-r,S>0&&(_|=e[S-1]>>this.DB+r-g)),h=i;!(_&1);)_>>=1,--h;if((r-=h)<0&&(r+=this.DB,--S),k)f[_].copyTo(u),k=!1;else{for(;h>1;)l.sqrTo(u,E),l.sqrTo(E,u),h-=2;h>0?l.sqrTo(u,E):(R=u,u=E,E=R),l.mulTo(E,f[_],u)}for(;S>=0&&!(e[S]&1<<r);)l.sqrTo(u,E),R=u,u=E,E=R,--r<0&&(r=this.DB-1,--S)}return l.revert(u)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return n.ZERO;for(var r=e.clone(),i=this.clone(),u=k2(1),l=k2(0),f=k2(0),h=k2(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!u.isEven()||!l.isEven())&&(u.addTo(this,u),l.subTo(e,l)),u.rShiftTo(1,u)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);for(;i.isEven();)i.rShiftTo(1,i),t?((!f.isEven()||!h.isEven())&&(f.addTo(this,f),h.subTo(e,h)),f.rShiftTo(1,f)):h.isEven()||h.subTo(e,h),h.rShiftTo(1,h);r.compareTo(i)>=0?(r.subTo(i,r),t&&u.subTo(f,u),l.subTo(h,l)):(i.subTo(r,i),t&&f.subTo(u,f),h.subTo(l,h))}if(i.compareTo(n.ONE)!=0)return n.ZERO;if(h.compareTo(e)>=0)return h.subtract(e);if(h.signum()<0)h.addTo(e,h);else return h;return h.signum()<0?h.add(e):h},n.prototype.pow=function(e){return this.exp(e,new GAe)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var i=t;t=r,r=i}var u=t.getLowestSetBit(),l=r.getLowestSetBit();if(l<0)return t;for(u<l&&(l=u),l>0&&(t.rShiftTo(l,t),r.rShiftTo(l,r));t.signum()>0;)(u=t.getLowestSetBit())>0&&t.rShiftTo(u,t),(u=r.getLowestSetBit())>0&&r.rShiftTo(u,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return l>0&&r.lShiftTo(l,r),r},n.prototype.isProbablePrime=function(e){var t,r=this.abs();if(r.t==1&&r[0]<=kd[kd.length-1]){for(t=0;t<kd.length;++t)if(r[0]==kd[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<kd.length;){for(var i=kd[t],u=t+1;u<kd.length&&i<$Ae;)i*=kd[u++];for(i=r.modInt(i);t<u;)if(i%kd[t++]==0)return!1}return r.millerRabin(e)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var i=e.length,u=!1,l=0;--i>=0;){var f=r==8?+e[i]&255:Zoe(e,i);if(f<0){e.charAt(i)=="-"&&(u=!0);continue}u=!1,l==0?this[this.t++]=f:l+r>this.DB?(this[this.t-1]|=(f&(1<<this.DB-l)-1)<<l,this[this.t++]=f>>this.DB-l):this[this.t-1]|=f<<l,l+=r,l>=this.DB&&(l-=this.DB)}r==8&&+e[0]&128&&(this.s=-1,l>0&&(this[this.t-1]|=(1<<this.DB-l)-1<<l)),this.clamp(),u&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,i=this.DB-r,u=(1<<i)-1,l=Math.floor(e/this.DB),f=this.s<<r&this.DM,h=this.t-1;h>=0;--h)t[h+l+1]=this[h]>>i|f,f=(this[h]&u)<<r;for(var h=l-1;h>=0;--h)t[h]=0;t[l]=f,t.t=this.t+l+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var i=e%this.DB,u=this.DB-i,l=(1<<i)-1;t[0]=this[r]>>i;for(var f=r+1;f<this.t;++f)t[f-r-1]|=(this[f]&l)<<u,t[f-r]=this[f]>>i;i>0&&(t[this.t-r-1]|=(this.s&l)<<u),t.t=this.t-r,t.clamp()},n.prototype.subTo=function(e,t){for(var r=0,i=0,u=Math.min(e.t,this.t);r<u;)i+=this[r]-e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i-=e[r],t[r++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[r++]=this.DV+i:i>0&&(t[r++]=i),t.t=r,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),i=e.abs(),u=r.t;for(t.t=u+i.t;--u>=0;)t[u]=0;for(u=0;u<i.t;++u)t[u+r.t]=r.am(0,i[u],t,u,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var i=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,i,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,r){var i=e.abs();if(!(i.t<=0)){var u=this.abs();if(u.t<i.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Qi());var l=Qi(),f=this.s,h=e.s,g=this.DB-q7(i[i.t-1]);g>0?(i.lShiftTo(g,l),u.lShiftTo(g,r)):(i.copyTo(l),u.copyTo(r));var y=l.t,b=l[y-1];if(b!=0){var S=b*(1<<this.F1)+(y>1?l[y-2]>>this.F2:0),_=this.FV/S,k=(1<<this.F1)/S,E=1<<this.F2,R=r.t,I=R-y,z=t??Qi();for(l.dlShiftTo(I,z),r.compareTo(z)>=0&&(r[r.t++]=1,r.subTo(z,r)),n.ONE.dlShiftTo(y,z),z.subTo(l,l);l.t<y;)l[l.t++]=0;for(;--I>=0;){var L=r[--R]==b?this.DM:Math.floor(r[R]*_+(r[R-1]+E)*k);if((r[R]+=l.am(0,L,r,I,0,y))<L)for(l.dlShiftTo(I,z),r.subTo(z,r);r[R]<--L;)r.subTo(z,r)}t!=null&&(r.drShiftTo(y,t),f!=h&&n.ZERO.subTo(t,t)),r.t=y,r.clamp(),g>0&&r.rShiftTo(g,r),f<0&&n.ZERO.subTo(r,r)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t},n.prototype.isEven=function(){return(this.t>0?this[0]&1:this.s)==0},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var r=Qi(),i=Qi(),u=t.convert(this),l=q7(e)-1;for(u.copyTo(r);--l>=0;)if(t.sqrTo(r,i),(e&1<<l)>0)t.mulTo(i,u,r);else{var f=r;r=i,i=f}return t.revert(r)},n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=k2(r),u=Qi(),l=Qi(),f="";for(this.divRemTo(i,u,l);u.signum()>0;)f=(r+l.intValue()).toString(e).substr(1)+f,u.divRemTo(i,u,l);return l.intValue().toString(e)+f},n.prototype.fromRadix=function(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),u=!1,l=0,f=0,h=0;h<e.length;++h){var g=Zoe(e,h);if(g<0){e.charAt(h)=="-"&&this.signum()==0&&(u=!0);continue}f=t*f+g,++l>=r&&(this.dMultiply(i),this.dAddOffset(f,0),l=0,f=0)}l>0&&(this.dMultiply(Math.pow(t,l)),this.dAddOffset(f,0)),u&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),U7,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var i=[],u=e&7;i.length=(e>>3)+1,t.nextBytes(i),u>0?i[0]&=(1<<u)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(e,t,r){var i,u,l=Math.min(e.t,this.t);for(i=0;i<l;++i)r[i]=t(this[i],e[i]);if(e.t<this.t){for(u=e.s&this.DM,i=l;i<this.t;++i)r[i]=t(this[i],u);r.t=this.t}else{for(u=this.s&this.DM,i=l;i<e.t;++i)r[i]=t(u,e[i]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var r=0,i=0,u=Math.min(e.t,this.t);r<u;)i+=this[r]+e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i+=e[r],t[r++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[r++]=i:i<-1&&(t[r++]=this.DV+i),t.t=r,t.clamp()},n.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(e!=0){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},n.prototype.multiplyLowerTo=function(e,t,r){var i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(var u=r.t-this.t;i<u;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(var u=Math.min(e.t,t);i<u;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},n.prototype.multiplyUpperTo=function(e,t,r){--t;var i=r.t=this.t+e.t-t;for(r.s=0;--i>=0;)r[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)r[this.t+i-t]=this.am(t-i,e[i],r,0,0,this.t+i-t);r.clamp(),r.drShiftTo(1,r)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this[0]%e;else for(var i=this.t-1;i>=0;--i)r=(t*r+this[i])%e;return r},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var i=t.shiftRight(r);e=e+1>>1,e>kd.length&&(e=kd.length);for(var u=Qi(),l=0;l<e;++l){u.fromInt(kd[Math.floor(Math.random()*kd.length)]);var f=u.modPow(i,this);if(f.compareTo(n.ONE)!=0&&f.compareTo(t)!=0){for(var h=1;h++<r&&f.compareTo(t)!=0;)if(f=f.modPowInt(2,this),f.compareTo(n.ONE)==0)return!1;if(f.compareTo(t)!=0)return!1}}return!0},n.prototype.square=function(){var e=Qi();return this.squareTo(e),e},n.prototype.gcda=function(e,t){var r=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(r.compareTo(i)<0){var u=r;r=i,i=u}var l=r.getLowestSetBit(),f=i.getLowestSetBit();if(f<0){t(r);return}l<f&&(f=l),f>0&&(r.rShiftTo(f,r),i.rShiftTo(f,i));var h=function(){(l=r.getLowestSetBit())>0&&r.rShiftTo(l,r),(l=i.getLowestSetBit())>0&&i.rShiftTo(l,i),r.compareTo(i)>=0?(r.subTo(i,r),r.rShiftTo(1,r)):(i.subTo(r,i),i.rShiftTo(1,i)),r.signum()>0?setTimeout(h,0):(f>0&&i.lShiftTo(f,i),setTimeout(function(){t(i)},0))};setTimeout(h,10)},n.prototype.fromNumberAsync=function(e,t,r,i){if(typeof t=="number")if(e<2)this.fromInt(1);else{this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),U7,this),this.isEven()&&this.dAddOffset(1,0);var u=this,l=function(){u.dAddOffset(2,0),u.bitLength()>e&&u.subTo(n.ONE.shiftLeft(e-1),u),u.isProbablePrime(t)?setTimeout(function(){i()},0):setTimeout(l,0)};setTimeout(l,0)}else{var f=[],h=e&7;f.length=(e>>3)+1,t.nextBytes(f),h>0?f[0]&=(1<<h)-1:f[0]=0,this.fromString(f,256)}},n}(),GAe=function(){function n(){}return n.prototype.convert=function(e){return e},n.prototype.revert=function(e){return e},n.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},n.prototype.sqrTo=function(e,t){e.squareTo(t)},n}(),Yoe=function(){function n(e){this.m=e}return n.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},n.prototype.revert=function(e){return e},n.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},n.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},n.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n}(),Koe=function(){function n(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return n.prototype.convert=function(e){var t=Qi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(ki.ZERO)>0&&this.m.subTo(t,t),t},n.prototype.revert=function(e){var t=Qi();return e.copyTo(t),this.reduce(t),t},n.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e[t]&32767,i=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,i,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},n.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},n.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n}(),XAe=function(){function n(e){this.m=e,this.r2=Qi(),this.q3=Qi(),ki.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return n.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Qi();return e.copyTo(t),this.reduce(t),t},n.prototype.revert=function(e){return e},n.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},n.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},n.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n}();function Qi(){return new ki(null)}function Zs(n,e){return new ki(n,e)}var Joe=typeof navigator<"u";Joe&&Xoe&&navigator.appName=="Microsoft Internet Explorer"?(ki.prototype.am=function(n,e,t,r,i,u){for(var l=e&32767,f=e>>15;--u>=0;){var h=this[n]&32767,g=this[n++]>>15,y=f*h+g*l;h=l*h+((y&32767)<<15)+t[r]+(i&1073741823),i=(h>>>30)+(y>>>15)+f*g+(i>>>30),t[r++]=h&1073741823}return i},j2=30):Joe&&Xoe&&navigator.appName!="Netscape"?(ki.prototype.am=function(n,e,t,r,i,u){for(;--u>=0;){var l=e*this[n++]+t[r]+i;i=Math.floor(l/67108864),t[r++]=l&67108863}return i},j2=26):(ki.prototype.am=function(n,e,t,r,i,u){for(var l=e&16383,f=e>>14;--u>=0;){var h=this[n]&16383,g=this[n++]>>14,y=f*h+g*l;h=l*h+((y&16383)<<14)+t[r]+i,i=(h>>28)+(y>>14)+f*g,t[r++]=h&268435455}return i},j2=28);ki.prototype.DB=j2;ki.prototype.DM=(1<<j2)-1;ki.prototype.DV=1<<j2;var cee=52;ki.prototype.FV=Math.pow(2,cee);ki.prototype.F1=cee-j2;ki.prototype.F2=2*j2-cee;var NH=[],i5,Gm;i5=48;for(Gm=0;Gm<=9;++Gm)NH[i5++]=Gm;i5=97;for(Gm=10;Gm<36;++Gm)NH[i5++]=Gm;i5=65;for(Gm=10;Gm<36;++Gm)NH[i5++]=Gm;function Zoe(n,e){var t=NH[n.charCodeAt(e)];return t??-1}function k2(n){var e=Qi();return e.fromInt(n),e}function q7(n){var e=1,t;return(t=n>>>16)!=0&&(n=t,e+=16),(t=n>>8)!=0&&(n=t,e+=8),(t=n>>4)!=0&&(n=t,e+=4),(t=n>>2)!=0&&(n=t,e+=2),(t=n>>1)!=0&&(n=t,e+=1),e}ki.ZERO=k2(0);ki.ONE=k2(1);var YAe=function(){function n(){this.i=0,this.j=0,this.S=[]}return n.prototype.init=function(e){var t,r,i;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[r],this.S[r]=i;this.i=0,this.j=0},n.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},n}();function KAe(){return new YAe}var wde=256,$7,I2=null,xv;if(I2==null){I2=[],xv=0;var G7=void 0;if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){var WY=new Uint32Array(256);for(window.crypto.getRandomValues(WY),G7=0;G7<WY.length;++G7)I2[xv++]=WY[G7]&255}var X7=0,Y7=function(n){if(X7=X7||0,X7>=256||xv>=wde){window.removeEventListener?window.removeEventListener("mousemove",Y7,!1):window.detachEvent&&window.detachEvent("onmousemove",Y7);return}try{var e=n.x+n.y;I2[xv++]=e&255,X7+=1}catch{}};typeof window<"u"&&(window.addEventListener?window.addEventListener("mousemove",Y7,!1):window.attachEvent&&window.attachEvent("onmousemove",Y7))}function JAe(){if($7==null){for($7=KAe();xv<wde;){var n=Math.floor(65536*Math.random());I2[xv++]=n&255}for($7.init(I2),xv=0;xv<I2.length;++xv)I2[xv]=0;xv=0}return $7.next()}var rZ=function(){function n(){}return n.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=JAe()},n}();function ZAe(n,e){if(e<n.length+22)return console.error("Message too long for RSA"),null;for(var t=e-n.length-6,r="",i=0;i<t;i+=2)r+="ff";var u="0001"+r+"00"+n;return Zs(u,16)}function QAe(n,e){if(e<n.length+11)return console.error("Message too long for RSA"),null;for(var t=[],r=n.length-1;r>=0&&e>0;){var i=n.charCodeAt(r--);i<128?t[--e]=i:i>127&&i<2048?(t[--e]=i&63|128,t[--e]=i>>6|192):(t[--e]=i&63|128,t[--e]=i>>6&63|128,t[--e]=i>>12|224)}t[--e]=0;for(var u=new rZ,l=[];e>2;){for(l[0]=0;l[0]==0;)u.nextBytes(l);t[--e]=l[0]}return t[--e]=2,t[--e]=0,new ki(t)}var eEe=function(){function n(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return n.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},n.prototype.doPrivate=function(e){if(this.p==null||this.q==null)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),r=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(r)<0;)t=t.add(this.p);return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},n.prototype.setPublic=function(e,t){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=Zs(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},n.prototype.encrypt=function(e){var t=this.n.bitLength()+7>>3,r=QAe(e,t);if(r==null)return null;var i=this.doPublic(r);if(i==null)return null;for(var u=i.toString(16),l=u.length,f=0;f<t*2-l;f++)u="0"+u;return u},n.prototype.setPrivate=function(e,t,r){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=Zs(e,16),this.e=parseInt(t,16),this.d=Zs(r,16)):console.error("Invalid RSA private key")},n.prototype.setPrivateEx=function(e,t,r,i,u,l,f,h){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=Zs(e,16),this.e=parseInt(t,16),this.d=Zs(r,16),this.p=Zs(i,16),this.q=Zs(u,16),this.dmp1=Zs(l,16),this.dmq1=Zs(f,16),this.coeff=Zs(h,16)):console.error("Invalid RSA private key")},n.prototype.generate=function(e,t){var r=new rZ,i=e>>1;this.e=parseInt(t,16);for(var u=new ki(t,16);;){for(;this.p=new ki(e-i,1,r),!(this.p.subtract(ki.ONE).gcd(u).compareTo(ki.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new ki(i,1,r),!(this.q.subtract(ki.ONE).gcd(u).compareTo(ki.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var l=this.p;this.p=this.q,this.q=l}var f=this.p.subtract(ki.ONE),h=this.q.subtract(ki.ONE),g=f.multiply(h);if(g.gcd(u).compareTo(ki.ONE)==0){this.n=this.p.multiply(this.q),this.d=u.modInverse(g),this.dmp1=this.d.mod(f),this.dmq1=this.d.mod(h),this.coeff=this.q.modInverse(this.p);break}}},n.prototype.decrypt=function(e){var t=Zs(e,16),r=this.doPrivate(t);return r==null?null:tEe(r,this.n.bitLength()+7>>3)},n.prototype.generateAsync=function(e,t,r){var i=new rZ,u=e>>1;this.e=parseInt(t,16);var l=new ki(t,16),f=this,h=function(){var g=function(){if(f.p.compareTo(f.q)<=0){var S=f.p;f.p=f.q,f.q=S}var _=f.p.subtract(ki.ONE),k=f.q.subtract(ki.ONE),E=_.multiply(k);E.gcd(l).compareTo(ki.ONE)==0?(f.n=f.p.multiply(f.q),f.d=l.modInverse(E),f.dmp1=f.d.mod(_),f.dmq1=f.d.mod(k),f.coeff=f.q.modInverse(f.p),setTimeout(function(){r()},0)):setTimeout(h,0)},y=function(){f.q=Qi(),f.q.fromNumberAsync(u,1,i,function(){f.q.subtract(ki.ONE).gcda(l,function(S){S.compareTo(ki.ONE)==0&&f.q.isProbablePrime(10)?setTimeout(g,0):setTimeout(y,0)})})},b=function(){f.p=Qi(),f.p.fromNumberAsync(e-u,1,i,function(){f.p.subtract(ki.ONE).gcda(l,function(S){S.compareTo(ki.ONE)==0&&f.p.isProbablePrime(10)?setTimeout(y,0):setTimeout(b,0)})})};setTimeout(b,0)};setTimeout(h,0)},n.prototype.sign=function(e,t,r){var i=nEe(r),u=i+t(e).toString(),l=ZAe(u,this.n.bitLength()/4);if(l==null)return null;var f=this.doPrivate(l);if(f==null)return null;var h=f.toString(16);return h.length&1?"0"+h:h},n.prototype.verify=function(e,t,r){var i=Zs(t,16),u=this.doPublic(i);if(u==null)return null;var l=u.toString(16).replace(/^1f+00/,""),f=rEe(l);return f==r(e).toString()},n}();function tEe(n,e){for(var t=n.toByteArray(),r=0;r<t.length&&t[r]==0;)++r;if(t.length-r!=e-1||t[r]!=2)return null;for(++r;t[r]!=0;)if(++r>=t.length)return null;for(var i="";++r<t.length;){var u=t[r]&255;u<128?i+=String.fromCharCode(u):u>191&&u<224?(i+=String.fromCharCode((u&31)<<6|t[r+1]&63),++r):(i+=String.fromCharCode((u&15)<<12|(t[r+1]&63)<<6|t[r+2]&63),r+=2)}return i}var eV={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function nEe(n){return eV[n]||""}function rEe(n){for(var e in eV)if(eV.hasOwnProperty(e)){var t=eV[e],r=t.length;if(n.substr(0,r)==t)return n.substr(r)}return n}/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/var _l={};_l.lang={extend:function(n,e,t){if(!e||!n)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,n.prototype=new r,n.prototype.constructor=n,n.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),t){var i;for(i in t)n.prototype[i]=t[i];var u=function(){},l=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(u=function(f,h){for(i=0;i<l.length;i=i+1){var g=l[i],y=h[g];typeof y=="function"&&y!=Object.prototype[g]&&(f[g]=y)}})}catch{}u(n.prototype,t)}}};/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */var Yn={};(typeof Yn.asn1>"u"||!Yn.asn1)&&(Yn.asn1={});Yn.asn1.ASN1Util=new function(){this.integerToByteHex=function(n){var e=n.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(n){var e=n.toString(16);if(e.substr(0,1)!="-")e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var t=e.substr(1),r=t.length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var i="",u=0;u<r;u++)i+="f";var l=new ki(i,16),f=l.xor(n).add(ki.ONE);e=f.toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(n,e){return hextopem(n,e)},this.newObject=function(n){var e=Yn,t=e.asn1,r=t.DERBoolean,i=t.DERInteger,u=t.DERBitString,l=t.DEROctetString,f=t.DERNull,h=t.DERObjectIdentifier,g=t.DEREnumerated,y=t.DERUTF8String,b=t.DERNumericString,S=t.DERPrintableString,_=t.DERTeletexString,k=t.DERIA5String,E=t.DERUTCTime,R=t.DERGeneralizedTime,I=t.DERSequence,z=t.DERSet,L=t.DERTaggedObject,q=t.ASN1Util.newObject,X=Object.keys(n);if(X.length!=1)throw"key of param shall be only one.";var Y=X[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+Y+":")==-1)throw"undefined key: "+Y;if(Y=="bool")return new r(n[Y]);if(Y=="int")return new i(n[Y]);if(Y=="bitstr")return new u(n[Y]);if(Y=="octstr")return new l(n[Y]);if(Y=="null")return new f(n[Y]);if(Y=="oid")return new h(n[Y]);if(Y=="enum")return new g(n[Y]);if(Y=="utf8str")return new y(n[Y]);if(Y=="numstr")return new b(n[Y]);if(Y=="prnstr")return new S(n[Y]);if(Y=="telstr")return new _(n[Y]);if(Y=="ia5str")return new k(n[Y]);if(Y=="utctime")return new E(n[Y]);if(Y=="gentime")return new R(n[Y]);if(Y=="seq"){for(var ae=n[Y],te=[],ie=0;ie<ae.length;ie++){var le=q(ae[ie]);te.push(le)}return new I({array:te})}if(Y=="set"){for(var ae=n[Y],te=[],ie=0;ie<ae.length;ie++){var le=q(ae[ie]);te.push(le)}return new z({array:te})}if(Y=="tag"){var ce=n[Y];if(Object.prototype.toString.call(ce)==="[object Array]"&&ce.length==3){var ne=q(ce[2]);return new L({tag:ce[0],explicit:ce[1],obj:ne})}else{var Z={};if(ce.explicit!==void 0&&(Z.explicit=ce.explicit),ce.tag!==void 0&&(Z.tag=ce.tag),ce.obj===void 0)throw"obj shall be specified for 'tag'.";return Z.obj=q(ce.obj),new L(Z)}}},this.jsonToASN1HEX=function(n){var e=this.newObject(n);return e.getEncodedHex()}};Yn.asn1.ASN1Util.oidHexToInt=function(n){for(var i="",e=parseInt(n.substr(0,2),16),t=Math.floor(e/40),r=e%40,i=t+"."+r,u="",l=2;l<n.length;l+=2){var f=parseInt(n.substr(l,2),16),h=("00000000"+f.toString(2)).slice(-8);if(u=u+h.substr(1,7),h.substr(0,1)=="0"){var g=new ki(u,2);i=i+"."+g.toString(10),u=""}}return i};Yn.asn1.ASN1Util.oidIntToHex=function(n){var e=function(f){var h=f.toString(16);return h.length==1&&(h="0"+h),h},t=function(f){var h="",g=new ki(f,10),y=g.toString(2),b=7-y.length%7;b==7&&(b=0);for(var S="",_=0;_<b;_++)S+="0";y=S+y;for(var _=0;_<y.length-1;_+=7){var k=y.substr(_,7);_!=y.length-7&&(k="1"+k),h+=e(parseInt(k,2))}return h};if(!n.match(/^[0-9.]+$/))throw"malformed oid string: "+n;var r="",i=n.split("."),u=parseInt(i[0])*40+parseInt(i[1]);r+=e(u),i.splice(0,2);for(var l=0;l<i.length;l++)r+=t(i[l]);return r};Yn.asn1.ASN1Object=function(){var n="";this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||this.hV==null)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+n.length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var i=128+r;return i.toString(16)+t},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}};Yn.asn1.DERAbstractString=function(n){Yn.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n=="string"?this.setString(n):typeof n.str<"u"?this.setString(n.str):typeof n.hex<"u"&&this.setStringHex(n.hex))};_l.lang.extend(Yn.asn1.DERAbstractString,Yn.asn1.ASN1Object);Yn.asn1.DERAbstractTime=function(n){Yn.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){utc=e.getTime()+e.getTimezoneOffset()*6e4;var t=new Date(utc);return t},this.formatDate=function(e,t,r){var i=this.zeroPadding,u=this.localDateToUTC(e),l=String(u.getFullYear());t=="utc"&&(l=l.substr(2,2));var f=i(String(u.getMonth()+1),2),h=i(String(u.getDate()),2),g=i(String(u.getHours()),2),y=i(String(u.getMinutes()),2),b=i(String(u.getSeconds()),2),S=l+f+h+g+y+b;if(r===!0){var _=u.getMilliseconds();if(_!=0){var k=i(String(_),3);k=k.replace(/[0]+$/,""),S=S+"."+k}}return S+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,r,i,u,l){var f=new Date(Date.UTC(e,t-1,r,i,u,l,0));this.setByDate(f)},this.getFreshValueHex=function(){return this.hV}};_l.lang.extend(Yn.asn1.DERAbstractTime,Yn.asn1.ASN1Object);Yn.asn1.DERAbstractStructured=function(n){Yn.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,typeof n<"u"&&typeof n.array<"u"&&(this.asn1Array=n.array)};_l.lang.extend(Yn.asn1.DERAbstractStructured,Yn.asn1.ASN1Object);Yn.asn1.DERBoolean=function(){Yn.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"};_l.lang.extend(Yn.asn1.DERBoolean,Yn.asn1.ASN1Object);Yn.asn1.DERInteger=function(n){Yn.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Yn.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new ki(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n.bigint<"u"?this.setByBigInteger(n.bigint):typeof n.int<"u"?this.setByInteger(n.int):typeof n=="number"?this.setByInteger(n):typeof n.hex<"u"&&this.setValueHex(n.hex))};_l.lang.extend(Yn.asn1.DERInteger,Yn.asn1.ASN1Object);Yn.asn1.DERBitString=function(n){if(n!==void 0&&typeof n.obj<"u"){var e=Yn.asn1.ASN1Util.newObject(n.obj);n.hex="00"+e.getEncodedHex()}Yn.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,r){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var i="0"+t;this.hTLV=null,this.isModified=!0,this.hV=i+r},this.setByBinaryString=function(t){t=t.replace(/0+$/,"");var r=8-t.length%8;r==8&&(r=0);for(var i=0;i<=r;i++)t+="0";for(var u="",i=0;i<t.length-1;i+=8){var l=t.substr(i,8),f=parseInt(l,2).toString(16);f.length==1&&(f="0"+f),u+=f}this.hTLV=null,this.isModified=!0,this.hV="0"+r+u},this.setByBooleanArray=function(t){for(var r="",i=0;i<t.length;i++)t[i]==!0?r+="1":r+="0";this.setByBinaryString(r)},this.newFalseArray=function(t){for(var r=new Array(t),i=0;i<t;i++)r[i]=!1;return r},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n=="string"&&n.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(n):typeof n.hex<"u"?this.setHexValueIncludingUnusedBits(n.hex):typeof n.bin<"u"?this.setByBinaryString(n.bin):typeof n.array<"u"&&this.setByBooleanArray(n.array))};_l.lang.extend(Yn.asn1.DERBitString,Yn.asn1.ASN1Object);Yn.asn1.DEROctetString=function(n){if(n!==void 0&&typeof n.obj<"u"){var e=Yn.asn1.ASN1Util.newObject(n.obj);n.hex=e.getEncodedHex()}Yn.asn1.DEROctetString.superclass.constructor.call(this,n),this.hT="04"};_l.lang.extend(Yn.asn1.DEROctetString,Yn.asn1.DERAbstractString);Yn.asn1.DERNull=function(){Yn.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"};_l.lang.extend(Yn.asn1.DERNull,Yn.asn1.ASN1Object);Yn.asn1.DERObjectIdentifier=function(n){var e=function(r){var i=r.toString(16);return i.length==1&&(i="0"+i),i},t=function(r){var i="",u=new ki(r,10),l=u.toString(2),f=7-l.length%7;f==7&&(f=0);for(var h="",g=0;g<f;g++)h+="0";l=h+l;for(var g=0;g<l.length-1;g+=7){var y=l.substr(g,7);g!=l.length-7&&(y="1"+y),i+=e(parseInt(y,2))}return i};Yn.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(r){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueOidString=function(r){if(!r.match(/^[0-9.]+$/))throw"malformed oid string: "+r;var i="",u=r.split("."),l=parseInt(u[0])*40+parseInt(u[1]);i+=e(l),u.splice(0,2);for(var f=0;f<u.length;f++)i+=t(u[f]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(r){var i=Yn.asn1.x509.OID.name2oid(r);if(i!=="")this.setValueOidString(i);else throw"DERObjectIdentifier oidName undefined: "+r},this.getFreshValueHex=function(){return this.hV},n!==void 0&&(typeof n=="string"?n.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(n):this.setValueName(n):n.oid!==void 0?this.setValueOidString(n.oid):n.hex!==void 0?this.setValueHex(n.hex):n.name!==void 0&&this.setValueName(n.name))};_l.lang.extend(Yn.asn1.DERObjectIdentifier,Yn.asn1.ASN1Object);Yn.asn1.DEREnumerated=function(n){Yn.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Yn.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new ki(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n.int<"u"?this.setByInteger(n.int):typeof n=="number"?this.setByInteger(n):typeof n.hex<"u"&&this.setValueHex(n.hex))};_l.lang.extend(Yn.asn1.DEREnumerated,Yn.asn1.ASN1Object);Yn.asn1.DERUTF8String=function(n){Yn.asn1.DERUTF8String.superclass.constructor.call(this,n),this.hT="0c"};_l.lang.extend(Yn.asn1.DERUTF8String,Yn.asn1.DERAbstractString);Yn.asn1.DERNumericString=function(n){Yn.asn1.DERNumericString.superclass.constructor.call(this,n),this.hT="12"};_l.lang.extend(Yn.asn1.DERNumericString,Yn.asn1.DERAbstractString);Yn.asn1.DERPrintableString=function(n){Yn.asn1.DERPrintableString.superclass.constructor.call(this,n),this.hT="13"};_l.lang.extend(Yn.asn1.DERPrintableString,Yn.asn1.DERAbstractString);Yn.asn1.DERTeletexString=function(n){Yn.asn1.DERTeletexString.superclass.constructor.call(this,n),this.hT="14"};_l.lang.extend(Yn.asn1.DERTeletexString,Yn.asn1.DERAbstractString);Yn.asn1.DERIA5String=function(n){Yn.asn1.DERIA5String.superclass.constructor.call(this,n),this.hT="16"};_l.lang.extend(Yn.asn1.DERIA5String,Yn.asn1.DERAbstractString);Yn.asn1.DERUTCTime=function(n){Yn.asn1.DERUTCTime.superclass.constructor.call(this,n),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return typeof this.date>"u"&&typeof this.s>"u"&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},n!==void 0&&(n.str!==void 0?this.setString(n.str):typeof n=="string"&&n.match(/^[0-9]{12}Z$/)?this.setString(n):n.hex!==void 0?this.setStringHex(n.hex):n.date!==void 0&&this.setByDate(n.date))};_l.lang.extend(Yn.asn1.DERUTCTime,Yn.asn1.DERAbstractTime);Yn.asn1.DERGeneralizedTime=function(n){Yn.asn1.DERGeneralizedTime.superclass.constructor.call(this,n),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},n!==void 0&&(n.str!==void 0?this.setString(n.str):typeof n=="string"&&n.match(/^[0-9]{14}Z$/)?this.setString(n):n.hex!==void 0?this.setStringHex(n.hex):n.date!==void 0&&this.setByDate(n.date),n.millis===!0&&(this.withMillis=!0))};_l.lang.extend(Yn.asn1.DERGeneralizedTime,Yn.asn1.DERAbstractTime);Yn.asn1.DERSequence=function(n){Yn.asn1.DERSequence.superclass.constructor.call(this,n),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e+=r.getEncodedHex()}return this.hV=e,this.hV}};_l.lang.extend(Yn.asn1.DERSequence,Yn.asn1.DERAbstractStructured);Yn.asn1.DERSet=function(n){Yn.asn1.DERSet.superclass.constructor.call(this,n),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return this.sortFlag==!0&&e.sort(),this.hV=e.join(""),this.hV},typeof n<"u"&&typeof n.sortflag<"u"&&n.sortflag==!1&&(this.sortFlag=!1)};_l.lang.extend(Yn.asn1.DERSet,Yn.asn1.DERAbstractStructured);Yn.asn1.DERTaggedObject=function(n){Yn.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n.tag<"u"&&(this.hT=n.tag),typeof n.explicit<"u"&&(this.isExplicit=n.explicit),typeof n.obj<"u"&&(this.asn1Object=n.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))};_l.lang.extend(Yn.asn1.DERTaggedObject,Yn.asn1.ASN1Object);var oEe=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(r[u]=i[u])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Qoe=function(n){oEe(e,n);function e(t){var r=n.call(this)||this;return t&&(typeof t=="string"?r.parseKey(t):(e.hasPrivateKeyProperty(t)||e.hasPublicKeyProperty(t))&&r.parsePropertiesFrom(t)),r}return e.prototype.parseKey=function(t){try{var r=0,i=0,u=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,l=u.test(t)?HAe.decode(t):nZ.unarmor(t),f=UAe.decode(l);if(f.sub.length===3&&(f=f.sub[2].sub[0]),f.sub.length===9){r=f.sub[1].getHexStringValue(),this.n=Zs(r,16),i=f.sub[2].getHexStringValue(),this.e=parseInt(i,16);var h=f.sub[3].getHexStringValue();this.d=Zs(h,16);var g=f.sub[4].getHexStringValue();this.p=Zs(g,16);var y=f.sub[5].getHexStringValue();this.q=Zs(y,16);var b=f.sub[6].getHexStringValue();this.dmp1=Zs(b,16);var S=f.sub[7].getHexStringValue();this.dmq1=Zs(S,16);var _=f.sub[8].getHexStringValue();this.coeff=Zs(_,16)}else if(f.sub.length===2)if(f.sub[0].sub){var k=f.sub[1],E=k.sub[0];r=E.sub[0].getHexStringValue(),this.n=Zs(r,16),i=E.sub[1].getHexStringValue(),this.e=parseInt(i,16)}else r=f.sub[0].getHexStringValue(),this.n=Zs(r,16),i=f.sub[1].getHexStringValue(),this.e=parseInt(i,16);else return!1;return!0}catch{return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new Yn.asn1.DERInteger({int:0}),new Yn.asn1.DERInteger({bigint:this.n}),new Yn.asn1.DERInteger({int:this.e}),new Yn.asn1.DERInteger({bigint:this.d}),new Yn.asn1.DERInteger({bigint:this.p}),new Yn.asn1.DERInteger({bigint:this.q}),new Yn.asn1.DERInteger({bigint:this.dmp1}),new Yn.asn1.DERInteger({bigint:this.dmq1}),new Yn.asn1.DERInteger({bigint:this.coeff})]},r=new Yn.asn1.DERSequence(t);return r.getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return IV(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new Yn.asn1.DERSequence({array:[new Yn.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new Yn.asn1.DERNull]}),r=new Yn.asn1.DERSequence({array:[new Yn.asn1.DERInteger({bigint:this.n}),new Yn.asn1.DERInteger({int:this.e})]}),i=new Yn.asn1.DERBitString({hex:"00"+r.getEncodedHex()}),u=new Yn.asn1.DERSequence({array:[t,i]});return u.getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return IV(this.getPublicBaseKey())},e.wordwrap=function(t,r){if(r=r||64,!t)return t;var i="(.{1,"+r+`})( +|$
?)|(.{1,`+r+"})";return t.match(RegExp(i,"g")).join(`
`)},e.prototype.getPrivateKey=function(){var t=`-----BEGIN RSA PRIVATE KEY-----
`;return t+=e.wordwrap(this.getPrivateBaseKeyB64())+`
`,t+="-----END RSA PRIVATE KEY-----",t},e.prototype.getPublicKey=function(){var t=`-----BEGIN PUBLIC KEY-----
`;return t+=e.wordwrap(this.getPublicBaseKeyB64())+`
`,t+="-----END PUBLIC KEY-----",t},e.hasPublicKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(eEe),UY,iEe=typeof process<"u"?(UY=qSe)===null||UY===void 0?void 0:UY.npm_package_version:void 0,aEe=function(){function n(e){e===void 0&&(e={}),e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return n.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new Qoe(e)},n.prototype.setPrivateKey=function(e){this.setKey(e)},n.prototype.setPublicKey=function(e){this.setKey(e)},n.prototype.decrypt=function(e){try{return this.getKey().decrypt($oe(e))}catch{return!1}},n.prototype.encrypt=function(e){try{return IV(this.getKey().encrypt(e))}catch{return!1}},n.prototype.sign=function(e,t,r){try{return IV(this.getKey().sign(e,t,r))}catch{return!1}},n.prototype.verify=function(e,t,r){try{return this.getKey().verify(e,$oe(t),r)}catch{return!1}},n.prototype.getKey=function(e){if(!this.key){if(this.key=new Qoe,e&&{}.toString.call(e)==="[object Function]"){this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);return}this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},n.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},n.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},n.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},n.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},n.version=iEe,n}();const uEe=`-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCOX4coHMfHXcFXKeIND5qym7y
Yhgqcgx68Gw8zCOBCX7eFKu1xtDM9i9fJdX/6tnncnDVclxDpMQueu76z9gaCzma
PcBiW5SBCZtRPuFDdMTsony8bfnKgbgIC3qk8i7wZYK4aGOmBcmnhcO3c1Z5Q00i
g0g+6zaPf/kCYcLa+wIDAQAB
-----END PUBLIC KEY-----
`,sEe=`-----BEGIN PRIVATE KEY-----
MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAMI5fhygcx8ddwVc
p4g0PmrKbvJiGCpyDHrwbDzMI4EJft4Uq7XG0Mz2L18l1f/q2edycNVyXEOkxC56
7vrP2BoLOZo9wGJblIEJm1E+4UN0xOyifLxt+cqBuAgLeqTyLvBlgrhoY6YFyaeF
w7dzVnlDTSKDSD7rNo9/+QJhwtr7AgMBAAECgYAG/PaSpRs/RVog8UJ93hNY2EvB
oNHpxQy556idT2L/o43TA79h3PNqTHlL3RqkCJkqgK2aoHC9ZlJAsd+jWpMV3LnN
iQZdyABLviaS/QH7+KGC673jfHLSZWnldYEIjOxOmw0pnK5SPm+0MMa+2j5XHD63
T7CaK56T9v4Tlr/eEQJBAO1Nq2B2b3gSk2uMyLyQwrOS1NuHTw6zwexd2LS1YU85
iejMTV3U8orOSFsqffchQLm1ixiN74i9xkE47zeOEtUCQQDRhvATzMrldA85fV1Y
TVtXSnXgfhZ7d6pScYpiAg45/XxFJtIyTM8w8feKr9jA6NwxPODDi2ysbtfW9MZt
W/6PAkBhWgnCixPzyHseFiWL5j9Z+BTG8t2mBGy8EUwD5p1DKTHAhX//zIqsEzBv
5iDDL6skBKxJqIDqMiCRRVAuFGT5AkAo0gEz2lItIc9Vg/cLnQaOmxMcCXSX2Vh1
d2lebsgWxCvRzR5mblBvWLTBcEDqVHORpCql7iPd9DpYxpdh9upBAkEAg2hZyga9
wbbksDICMPkQRTZZBFMtNrypuShRZ6aSko+SNFgoUErZLm22A16X55MKa8swF7yL
j5cc+CxpmC4TPw==
-----END PRIVATE KEY-----
`,LH=new aEe;LH.setPublicKey(uEe);LH.setPrivateKey(sEe);function SYe(n){return LH.encrypt(n)||""}function CYe(n){return LH.decrypt(n)}const lEe={key:0,class:"page-card__header"},cEe={class:"card-header"},fEe={class:"page-card__body"},dEe=Wa({name:"PageCard",__name:"page-card",props:{header:{},full:{type:Boolean,default:!0}},setup(n){const e=WQ();return(t,r)=>(Pr(),Hi("div",{class:bL(["page-card",t.full?"is-full":""])},[t.header||io(e).header?(Pr(),Hi("div",lEe,[Ia("div",cEe,[xl(t.$slots,"header",{},()=>[qf(Ch(t.header),1)])])])):oa("v-if",!0),Ia("div",fEe,[xl(t.$slots,"default")])],2))}}),hEe=cf(dEe),pEe=Wa({name:"PageWrapper",__name:"page-wrapper",props:{full:{type:Boolean,default:!0}},setup(n){return(e,t)=>(Pr(),Hi("div",{class:bL(["page-wrapper",e.full?"is-full":""])},[xl(e.$slots,"default",{},void 0,!0)],2))}}),mEe=Xf(pEe,[["__scopeId","data-v-74f1d73a"]]),gEe=cf(mEe),vEe=Wa({__name:"tree",props:{modelValue:{},data:{},treeProps:{},nodeKey:{default:"id"},highlightCurrent:{default:!0},showCheckbox:{default:!0}},emits:["update:model-value","check"],setup(n,{expose:e,emit:t}){const r=t,i=n,u=Ao(),l=Ao();su(()=>i.modelValue,(b,S)=>{JSON.stringify(b)!==JSON.stringify(S)&&(l.value=b,kp(()=>{g()}))},{immediate:!0});const f=()=>{i.showCheckbox||y()},h=()=>{y()};function g(){var b,S;i.showCheckbox?(b=u.value)==null||b.setCheckedKeys(l.value):(S=u.value)==null||S.setCurrentKey(l.value)}function y(){var b,S;i.showCheckbox?l.value=(b=u.value)==null?void 0:b.getCheckedKeys():l.value=(S=u.value)==null?void 0:S.getCurrentKey(),r("update:model-value",l.value)}return e({treeInstance:u.value}),(b,S)=>(Pr(),Hi(af,null,[Co(io(pSe),{ref_key:"treeRef",ref:u,data:b.data,"show-checkbox":b.showCheckbox,"default-expand-all":"","highlight-current":b.highlightCurrent,"node-key":b.nodeKey,props:b.treeProps,onCurrentChange:f,onCheck:h},null,8,["data","show-checkbox","highlight-current","node-key","props"]),oa(` <div class="buttons">
    <el-button @click="getCheckedNodes">get by node</el-button>
    <el-button @click="getCheckedKeys">get by key</el-button>
    <el-button @click="setCheckedNodes">set by node</el-button>
    <el-button @click="setCheckedKeys">set by key</el-button>
    <el-button @click="resetChecked">reset</el-button>
  </div> `)],2112))}}),yEe=cf(vEe),bEe=["href","fill"],xEe=Wa({__name:"svg-icon",props:{prefix:{default:"icon"},name:{},color:{},size:{default:14}},setup(n){const e=n,t=No(()=>`#${e.prefix}-${e.name}`),r=No(()=>{const{size:i}=e;return typeof i=="string"?{width:i,height:i}:{width:`${i}px`,height:`${i}px`}});return(i,u)=>(Pr(),Hi("svg",{"aria-hidden":"true",class:"svg-icon",style:n5(r.value)},[Ia("use",{href:t.value,fill:i.color},null,8,bEe)],4))}}),wEe=Xf(xEe,[["__scopeId","data-v-53134bdf"]]),_Ee=Wa({__name:"ep",props:{icon:{},size:{default:24},color:{}},setup(n){const e=n,t={"home-filled":TSe,stopwatch:MSe,document:kSe,timer:DSe,link:ASe,"arrow-down":ESe,"warning-filled":OSe,refresh:ISe,close:RSe,upload:Cfe,"circle-close":PSe,grid:NSe},r=No(()=>{const{size:i}=e;return typeof i=="string"?{size:i}:{size:`${i}px`}});return(i,u)=>{const l=ia("el-icon");return i.icon&&t[i.icon]?(Pr(),Wi(l,K2(Od({key:0},r.value)),{default:go(()=>[(Pr(),Wi(n_(t[i.icon])))]),_:1},16)):oa("v-if",!0)}}}),SEe={key:3},CEe=Wa({name:"ProIcon",__name:"icon",props:{icon:{},size:{default:24},color:{}},setup(n){const e=n,t=Ao(""),r=Ao("");return su(Ao(e),()=>{var i;if(Tb(e.icon))t.value="vnode",r.value=e.icon;else{const u=(i=e.icon)==null?void 0:i.split(".");t.value=(u==null?void 0:u[0])||"",r.value=(u==null?void 0:u[1])||""}},{immediate:!0}),(i,u)=>(Pr(),Hi(af,null,[oa(" svg 精灵图 "),t.value==="svg"?(Pr(),Wi(wEe,{key:0,name:r.value,size:i.size,color:i.color},null,8,["name","size","color"])):t.value==="ep"?(Pr(),Hi(af,{key:1},[oa(" element-plus "),Co(_Ee,{icon:r.value,size:i.size,color:i.color},null,8,["icon","size","color"])],2112)):t.value==="vnode"&&io(Tb)(i.icon)?(Pr(),Hi(af,{key:2},[oa(" vnode  "),(Pr(),Wi(n_(i.icon())))],2112)):(Pr(),Hi("span",SEe))],2112))}}),TEe={},MEe={viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},kEe=Ia("path",{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 00-11.3 0L403.6 366.3a7.23 7.23 0 005.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z"},null,-1),DEe=[kEe];function AEe(n,e){return Pr(),Hi("svg",MEe,DEe)}const _de=Xf(TEe,[["render",AEe]]),EEe=cf(CEe),OEe={};function IEe(n,e){return Pr(),Wi(lSe,K2(jN(n.$attrs)),{default:go(()=>[xl(n.$slots,"default",{},void 0,!0)]),_:3},16)}const REe=Xf(OEe,[["render",IEe],["__scopeId","data-v-5df5ec83"]]);function PEe(n,e){return Wa({name:n,setup(t,{slots:r}){return()=>dy(REe,e,()=>{var i;return(i=r.default)==null?void 0:i.call(r)})}})}const NEe=cf(PEe("FadeTransition",{name:"fade-transition",mode:"out-in"}));var Sde={exports:{}};(function(n){(function(){var e=function(o){if(o===null)return"null";if(o===void 0)return"undefined";var s=typeof o;return s==="object"&&(Array.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="String")?"string":s},t=function(o){return["undefined","boolean","number","string","function","xml","null"].indexOf(o)!==-1},r=function(o,s){var d=Array.prototype.slice.call(o);return d.sort(s)},i=function(o,s){return u(function(d,m){return o.eq(s(d),s(m))})},u=function(o){return{eq:o}},l=u(function(o,s){return o===s}),f=l,h=function(o){return u(function(s,d){if(s.length!==d.length)return!1;for(var m=s.length,x=0;x<m;x++)if(!o.eq(s[x],d[x]))return!1;return!0})},g=function(o,s){return i(h(o),function(d){return r(d,s)})},y=function(o){return u(function(s,d){var m=Object.keys(s),x=Object.keys(d);if(!g(f).eq(m,x))return!1;for(var T=m.length,O=0;O<T;O++){var B=m[O];if(!o.eq(s[B],d[B]))return!1}return!0})},b=u(function(o,s){if(o===s)return!0;var d=e(o),m=e(s);return d!==m?!1:t(d)?o===s:d==="array"?h(b).eq(o,s):d==="object"?y(b).eq(o,s):!1}),S=function(o){var s=typeof o;return o===null?"null":s==="object"&&(Array.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="String")?"string":s},_=function(o){return function(s){return S(s)===o}},k=function(o){return function(s){return typeof s===o}},E=function(o){return function(s){return o===s}},R=_("string"),I=_("object"),z=_("array"),L=E(null),q=k("boolean"),X=E(void 0),Y=function(o){return o==null},ae=function(o){return!Y(o)},te=k("function"),ie=k("number"),le=function(){},ce=function(o,s){return function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return o(s.apply(null,d))}},ne=function(o,s){return function(d){return o(s(d))}},Z=function(o){return function(){return o}},Ce=function(o){return o},ze=function(o,s){return o===s};function ke(o){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];return function(){for(var m=[],x=0;x<arguments.length;x++)m[x]=arguments[x];var T=s.concat(m);return o.apply(null,T)}}var _t=function(o){return function(s){return!o(s)}},tt=function(o){return function(){throw new Error(o)}},$=function(o){return o()},Ze=function(o){o()},$e=Z(!1),mt=Z(!0),Qe=function(){return Et},Et=function(){var o=function(m){return m()},s=Ce,d={fold:function(m,x){return m()},isSome:$e,isNone:mt,getOr:s,getOrThunk:o,getOrDie:function(m){throw new Error(m||"error: getOrDie called on none.")},getOrNull:Z(null),getOrUndefined:Z(void 0),or:s,orThunk:o,map:Qe,each:le,bind:Qe,exists:$e,forall:mt,filter:function(){return Qe()},toArray:function(){return[]},toString:Z("none()")};return d}(),Ot=function(o){var s=Z(o),d=function(){return x},m=function(T){return T(o)},x={fold:function(T,O){return O(o)},isSome:mt,isNone:$e,getOr:s,getOrThunk:s,getOrDie:s,getOrNull:s,getOrUndefined:s,or:d,orThunk:d,map:function(T){return Ot(T(o))},each:function(T){T(o)},bind:m,exists:m,forall:m,filter:function(T){return T(o)?x:Et},toArray:function(){return[o]},toString:function(){return"some("+o+")"}};return x},Nt=function(o){return o==null?Et:Ot(o)},fe={some:Ot,none:Qe,from:Nt},$t=Array.prototype.slice,Je=Array.prototype.indexOf,Fe=Array.prototype.push,St=function(o,s){return Je.call(o,s)},Ue=function(o,s){var d=St(o,s);return d===-1?fe.none():fe.some(d)},Ye=function(o,s){return St(o,s)>-1},st=function(o,s){for(var d=0,m=o.length;d<m;d++){var x=o[d];if(s(x,d))return!0}return!1},Ft=function(o,s){for(var d=o.length,m=new Array(d),x=0;x<d;x++){var T=o[x];m[x]=s(T,x)}return m},Ct=function(o,s){for(var d=0,m=o.length;d<m;d++){var x=o[d];s(x,d)}},Rt=function(o,s){for(var d=o.length-1;d>=0;d--){var m=o[d];s(m,d)}},ur=function(o,s){for(var d=[],m=[],x=0,T=o.length;x<T;x++){var O=o[x],B=s(O,x)?d:m;B.push(O)}return{pass:d,fail:m}},Xe=function(o,s){for(var d=[],m=0,x=o.length;m<x;m++){var T=o[m];s(T,m)&&d.push(T)}return d},Bt=function(o,s,d){return Rt(o,function(m,x){d=s(d,m,x)}),d},Mn=function(o,s,d){return Ct(o,function(m,x){d=s(d,m,x)}),d},Qt=function(o,s,d){for(var m=0,x=o.length;m<x;m++){var T=o[m];if(s(T,m))return fe.some(T);if(d(T,m))break}return fe.none()},Zn=function(o,s){return Qt(o,s,$e)},pr=function(o,s){for(var d=0,m=o.length;d<m;d++){var x=o[d];if(s(x,d))return fe.some(d)}return fe.none()},ao=function(o){for(var s=[],d=0,m=o.length;d<m;++d){if(!z(o[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+o);Fe.apply(s,o[d])}return s},Mo=function(o,s){return ao(Ft(o,s))},Go=function(o,s){for(var d=0,m=o.length;d<m;++d){var x=o[d];if(s(x,d)!==!0)return!1}return!0},gn=function(o){var s=$t.call(o,0);return s.reverse(),s},vn=function(o,s){return Xe(o,function(d){return!Ye(s,d)})},en=function(o,s){for(var d={},m=0,x=o.length;m<x;m++){var T=o[m];d[String(T)]=s(T,m)}return d},vt=function(o,s){var d=$t.call(o,0);return d.sort(s),d},Tt=function(o,s){return s>=0&&s<o.length?fe.some(o[s]):fe.none()},hn=function(o){return Tt(o,0)},Bn=function(o){return Tt(o,o.length-1)},bn=te(Array.from)?Array.from:function(o){return $t.call(o)},pt=function(o,s){for(var d=0;d<o.length;d++){var m=s(o[d],d);if(m.isSome())return m}return fe.none()},an=Object.keys,On=Object.hasOwnProperty,wn=function(o,s){for(var d=an(o),m=0,x=d.length;m<x;m++){var T=d[m],O=o[T];s(O,T)}},er=function(o,s){return et(o,function(d,m){return{k:m,v:s(d,m)}})},et=function(o,s){var d={};return wn(o,function(m,x){var T=s(m,x);d[T.k]=T.v}),d},jt=function(o){return function(s,d){o[d]=s}},Pt=function(o,s,d,m){var x={};return wn(o,function(T,O){(s(T,O)?d:m)(T,O)}),x},ln=function(o,s){var d={},m={};return Pt(o,s,jt(d),jt(m)),{t:d,f:m}},Kn=function(o,s){var d={};return Pt(o,s,jt(d),le),d},Br=function(o,s){var d=[];return wn(o,function(m,x){d.push(s(m,x))}),d},ei=function(o){return Br(o,Ce)},zr=function(o,s){return Hr(o,s)?fe.from(o[s]):fe.none()},Hr=function(o,s){return On.call(o,s)},ui=function(o,s){return Hr(o,s)&&o[s]!==void 0&&o[s]!==null},Ta=function(o,s,d){return d===void 0&&(d=b),y(d).eq(o,s)},Ui=Array.isArray,Si=function(o){if(Ui(o))return o;for(var s=[],d=0,m=o.length;d<m;d++)s[d]=o[d];return s},Yi=function(o,s,d){var m,x;if(!o)return!1;if(d=d||o,o.length!==void 0){for(m=0,x=o.length;m<x;m++)if(s.call(d,o[m],m,o)===!1)return!1}else for(m in o)if(Hr(o,m)&&s.call(d,o[m],m,o)===!1)return!1;return!0},Ra=function(o,s){var d=[];return Yi(o,function(m,x){d.push(s(m,x,o))}),d},ea=function(o,s){var d=[];return Yi(o,function(m,x){(!s||s(m,x,o))&&d.push(m)}),d},Li=function(o,s){if(o){for(var d=0,m=o.length;d<m;d++)if(o[d]===s)return d}return-1},Pa=function(o,s,d,m){for(var x=X(d)?o[0]:d,T=0;T<o.length;T++)x=s.call(m,x,o[T],T);return x},co=function(o,s,d){var m,x;for(m=0,x=o.length;m<x;m++)if(s.call(d,o[m],m,o))return m;return-1},Na=function(o){return o[o.length-1]},dr=function(){return dr=Object.assign||function(o){for(var s,d=1,m=arguments.length;d<m;d++){s=arguments[d];for(var x in s)Object.prototype.hasOwnProperty.call(s,x)&&(o[x]=s[x])}return o},dr.apply(this,arguments)};function Vu(o,s){var d={};for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&s.indexOf(m)<0&&(d[m]=o[m]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,m=Object.getOwnPropertySymbols(o);x<m.length;x++)s.indexOf(m[x])<0&&Object.prototype.propertyIsEnumerable.call(o,m[x])&&(d[m[x]]=o[m[x]]);return d}function xa(o,s,d){if(d||arguments.length===2)for(var m=0,x=s.length,T;m<x;m++)(T||!(m in s))&&(T||(T=Array.prototype.slice.call(s,0,m)),T[m]=s[m]);return o.concat(T||Array.prototype.slice.call(s))}var Ua=function(o){var s=!1,d;return function(){for(var m=[],x=0;x<arguments.length;x++)m[x]=arguments[x];return s||(s=!0,d=o.apply(null,m)),d}},aa=function(o,s,d,m){var x=o.isiOS()&&/ipad/i.test(d)===!0,T=o.isiOS()&&!x,O=o.isiOS()||o.isAndroid(),B=O||m("(pointer:coarse)"),H=x||!T&&O&&m("(min-device-width:768px)"),Q=T||O&&!H,pe=s.isSafari()&&o.isiOS()&&/safari/i.test(d)===!1,ge=!Q&&!H&&!pe;return{isiPad:Z(x),isiPhone:Z(T),isTablet:Z(H),isPhone:Z(Q),isTouch:Z(B),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:Z(pe),isDesktop:Z(ge)}},Za=function(o,s){for(var d=0;d<o.length;d++){var m=o[d];if(m.test(s))return m}},Hu=function(o,s){var d=Za(o,s);if(!d)return{major:0,minor:0};var m=function(x){return Number(s.replace(d,"$"+x))};return Pe(m(1),m(2))},Qa=function(o,s){var d=String(s).toLowerCase();return o.length===0?ws():Hu(o,d)},ws=function(){return Pe(0,0)},Pe=function(o,s){return{major:o,minor:s}},it={nu:Pe,detect:Qa,unknown:ws},He=function(o,s){return pt(s.brands,function(d){var m=d.brand.toLowerCase();return Zn(o,function(x){var T;return m===((T=x.brand)===null||T===void 0?void 0:T.toLowerCase())}).map(function(x){return{current:x.name,version:it.nu(parseInt(d.version,10),0)}})})},Dt=function(o,s){var d=String(s).toLowerCase();return Zn(o,function(m){return m.search(d)})},Rn=function(o,s){return Dt(o,s).map(function(d){var m=it.detect(d.versionRegexes,s);return{current:d.name,version:m}})},tr=function(o,s){return Dt(o,s).map(function(d){var m=it.detect(d.versionRegexes,s);return{current:d.name,version:m}})},Oe=function(o,s){return o.substring(s)},qe=function(o,s,d){return s===""||o.length>=s.length&&o.substr(d,d+s.length)===s},At=function(o,s){return he(o,s)?Oe(o,s.length):o},Jt=function(o,s){return o.indexOf(s)!==-1},he=function(o,s){return qe(o,s,0)},Me=function(o){return function(s){return s.replace(o,"")}},We=Me(/^\s+|\s+$/g),lt=Me(/^\s+/g),wt=Me(/\s+$/g),kt=function(o){return o.length>0},En=function(o){return!kt(o)},Un=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_r=function(o){return function(s){return Jt(s,o)}},It=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(o){return Jt(o,"edge/")&&Jt(o,"chrome")&&Jt(o,"safari")&&Jt(o,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Un],search:function(o){return Jt(o,"chrome")&&!Jt(o,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(o){return Jt(o,"msie")||Jt(o,"trident")}},{name:"Opera",versionRegexes:[Un,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_r("firefox")},{name:"Safari",versionRegexes:[Un,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(o){return(Jt(o,"safari")||Jt(o,"mobile/"))&&Jt(o,"applewebkit")}}],mr=[{name:"Windows",search:_r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(o){return Jt(o,"iphone")||Jt(o,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_r("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_r("linux"),versionRegexes:[]},{name:"Solaris",search:_r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_r("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_r("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],qr={browsers:Z(It),oses:Z(mr)},Uo="Edge",ta="Chrome",ro="IE",Fs="Opera",_s="Firefox",Ki="Safari",jl=function(){return yu({current:void 0,version:it.unknown()})},yu=function(o){var s=o.current,d=o.version,m=function(x){return function(){return s===x}};return{current:s,version:d,isEdge:m(Uo),isChrome:m(ta),isIE:m(ro),isOpera:m(Fs),isFirefox:m(_s),isSafari:m(Ki)}},Eu={unknown:jl,nu:yu,edge:Z(Uo),chrome:Z(ta),ie:Z(ro),opera:Z(Fs),firefox:Z(_s),safari:Z(Ki)},pi="Windows",Wl="iOS",nl="Android",Sl="Linux",gc="OSX",Ou="Solaris",os="FreeBSD",vc="ChromeOS",ju=function(){return Iu({current:void 0,version:it.unknown()})},Iu=function(o){var s=o.current,d=o.version,m=function(x){return function(){return s===x}};return{current:s,version:d,isWindows:m(pi),isiOS:m(Wl),isAndroid:m(nl),isOSX:m(gc),isLinux:m(Sl),isSolaris:m(Ou),isFreeBSD:m(os),isChromeOS:m(vc)}},we={unknown:ju,nu:Iu,windows:Z(pi),ios:Z(Wl),android:Z(nl),linux:Z(Sl),osx:Z(gc),solaris:Z(Ou),freebsd:Z(os),chromeos:Z(vc)},rt=function(o,s,d){var m=qr.browsers(),x=qr.oses(),T=s.bind(function(H){return He(m,H)}).orThunk(function(){return Rn(m,o)}).fold(Eu.unknown,Eu.nu),O=tr(x,o).fold(we.unknown,we.nu),B=aa(O,T,o,d);return{browser:T,os:O,deviceType:B}},xt={detect:rt},tn=function(o){return window.matchMedia(o).matches},kn=Ua(function(){return xt.detect(navigator.userAgent,fe.from(navigator.userAgentData),tn)}),yr=function(){return kn()},jo=navigator.userAgent,ti=yr(),uo=ti.browser,yi=ti.os,Bi=ti.deviceType,rl=/WebKit/.test(jo)&&!uo.isEdge(),qa="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Vs=jo.indexOf("Windows Phone")!==-1,Cr={opera:uo.isOpera(),webkit:rl,ie:uo.isIE()||uo.isEdge()?uo.version.major:!1,gecko:uo.isFirefox(),mac:yi.isOSX()||yi.isiOS(),iOS:Bi.isiPad()||Bi.isiPhone(),android:yi.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:uo.isIE()?document.documentMode||7:10,fileApi:qa,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!uo.isIE(),desktop:Bi.isDesktop(),windowsPhone:Vs,browser:{current:uo.current,version:uo.version,isChrome:uo.isChrome,isEdge:uo.isEdge,isFirefox:uo.isFirefox,isIE:uo.isIE,isOpera:uo.isOpera,isSafari:uo.isSafari},os:{current:yi.current,version:yi.version,isAndroid:yi.isAndroid,isChromeOS:yi.isChromeOS,isFreeBSD:yi.isFreeBSD,isiOS:yi.isiOS,isLinux:yi.isLinux,isOSX:yi.isOSX,isSolaris:yi.isSolaris,isWindows:yi.isWindows},deviceType:{isDesktop:Bi.isDesktop,isiPad:Bi.isiPad,isiPhone:Bi.isiPhone,isPhone:Bi.isPhone,isTablet:Bi.isTablet,isTouch:Bi.isTouch,isWebView:Bi.isWebView}},Cl=/^\s*|\s*$/g,Yf=function(o){return o==null?"":(""+o).replace(Cl,"")},Oo=function(o,s){return s?s==="array"&&Ui(o)?!0:typeof o===s:o!==void 0},df=function(o,s,d){var m;for(o=o||[],s=s||",",typeof o=="string"&&(o=o.split(s)),d=d||{},m=o.length;m--;)d[o[m]]={};return d},hf=Hr,Nd=function(o,s,d){var m=this,x,T,O,B=0;o=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(o);var H=o[3].match(/(^|\.)(\w+)$/i)[2],Q=m.createNS(o[3].replace(/\.\w+$/,""),d);if(!Q[H]){if(o[2]==="static"){Q[H]=s,this.onCreate&&this.onCreate(o[2],o[3],Q[H]);return}s[H]||(s[H]=function(){},B=1),Q[H]=s[H],m.extend(Q[H].prototype,s),o[5]&&(x=m.resolve(o[5]).prototype,T=o[5].match(/\.(\w+)$/i)[1],O=Q[H],B?Q[H]=function(){return x[T].apply(this,arguments)}:Q[H]=function(){return this.parent=x[T],O.apply(this,arguments)},Q[H].prototype[H]=Q[H],m.each(x,function(pe,ge){Q[H].prototype[ge]=x[ge]}),m.each(s,function(pe,ge){x[ge]?Q[H].prototype[ge]=function(){return this.parent=x[ge],pe.apply(this,arguments)}:ge!==H&&(Q[H].prototype[ge]=pe)})),m.each(s.static,function(pe,ge){Q[H][ge]=pe})}},si=function(o){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];for(var m=0;m<s.length;m++){var x=s[m];for(var T in x)if(Hr(x,T)){var O=x[T];O!==void 0&&(o[T]=O)}}return o},is=function(o,s,d,m){m=m||this,o&&(d&&(o=o[d]),Yi(o,function(x,T){if(s.call(m,x,T,d)===!1)return!1;is(x,s,d,m)}))},Ah=function(o,s){var d,m;for(s=s||window,o=o.split("."),d=0;d<o.length;d++)m=o[d],s[m]||(s[m]={}),s=s[m];return s},Ss=function(o,s){var d,m;for(s=s||window,o=o.split("."),d=0,m=o.length;d<m&&(s=s[o[d]],!!s);d++);return s},ua=function(o,s){return!o||Oo(o,"array")?o:Ra(o.split(s||","),Yf)},Ul=function(o){var s=Cr.cacheSuffix;return s&&(o+=(o.indexOf("?")===-1?"?":"&")+s),o},qt={trim:Yf,isArray:Ui,is:Oo,toArray:Si,makeMap:df,each:Yi,map:Ra,grep:ea,inArray:Li,hasOwn:hf,extend:si,create:Nd,walk:is,createNS:Ah,resolve:Ss,explode:ua,_addCacheSuffix:Ul},yc=function(o,s){var d=s||document,m=d.createElement("div");if(m.innerHTML=o,!m.hasChildNodes()||m.childNodes.length>1)throw console.error("HTML does not have a single root node",o),new Error("HTML must have a single root node");return Tl(m.childNodes[0])},sa=function(o,s){var d=s||document,m=d.createElement(o);return Tl(m)},Kf=function(o,s){var d=s||document,m=d.createTextNode(o);return Tl(m)},Tl=function(o){if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},ue=function(o,s,d){return fe.from(o.dom.elementFromPoint(s,d)).map(Tl)},U={fromHtml:yc,fromTag:sa,fromText:Kf,fromDom:Tl,fromPoint:ue},V=function(o,s){var d=[],m=function(T){return d.push(T),s(T)},x=s(o);do x=x.bind(m);while(x.isSome());return d},ee=function(o,s,d){return(o.compareDocumentPosition(s)&d)!==0},ye=function(o,s){return ee(o,s,Node.DOCUMENT_POSITION_CONTAINED_BY)},Re=8,gt=9,un=11,hr=1,Tr=3,Ln=function(o,s){var d=o.dom;if(d.nodeType!==hr)return!1;var m=d;if(m.matches!==void 0)return m.matches(s);if(m.msMatchesSelector!==void 0)return m.msMatchesSelector(s);if(m.webkitMatchesSelector!==void 0)return m.webkitMatchesSelector(s);if(m.mozMatchesSelector!==void 0)return m.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")},lr=function(o){return o.nodeType!==hr&&o.nodeType!==gt&&o.nodeType!==un||o.childElementCount===0},Kr=function(o,s){var d=s===void 0?document:s.dom;return lr(d)?[]:Ft(d.querySelectorAll(o),U.fromDom)},Jr=function(o,s){var d=s===void 0?document:s.dom;return lr(d)?fe.none():fe.from(d.querySelector(o)).map(U.fromDom)},Vr=function(o,s){return o.dom===s.dom},Ei=function(o,s){var d=o.dom,m=s.dom;return d===m?!1:d.contains(m)},Or=function(o,s){return ye(o.dom,s.dom)},li=function(o,s){return yr().browser.isIE()?Or(o,s):Ei(o,s)};typeof window<"u"||Function("return this;")();var ni=function(o){var s=o.dom.nodeName;return s.toLowerCase()},bu=function(o){return o.dom.nodeType},so=function(o){return function(s){return bu(s)===o}},ql=function(o){return bu(o)===Re||ni(o)==="#comment"},la=so(hr),wa=so(Tr),Wb=so(gt),Wu=so(un),Cy=function(o){return function(s){return la(s)&&ni(s)===o}},pf=function(o){return U.fromDom(o.dom.ownerDocument)},Ur=function(o){return Wb(o)?o:pf(o)},$l=function(o){return U.fromDom(Ur(o).dom.documentElement)},Ma=function(o){return U.fromDom(Ur(o).dom.defaultView)},ka=function(o){return fe.from(o.dom.parentNode).map(U.fromDom)},xu=function(o,s){for(var d=te(s)?s:$e,m=o.dom,x=[];m.parentNode!==null&&m.parentNode!==void 0;){var T=m.parentNode,O=U.fromDom(T);if(x.push(O),d(O)===!0)break;m=T}return x},eu=function(o){var s=function(d){return Xe(d,function(m){return!Vr(o,m)})};return ka(o).map(Hs).map(s).getOr([])},Eh=function(o){return fe.from(o.dom.previousSibling).map(U.fromDom)},bc=function(o){return fe.from(o.dom.nextSibling).map(U.fromDom)},ri=function(o){return gn(V(o,Eh))},Ji=function(o){return V(o,bc)},Hs=function(o){return Ft(o.dom.childNodes,U.fromDom)},Jf=function(o,s){var d=o.dom.childNodes;return fe.from(d[s]).map(U.fromDom)},fu=function(o){return Jf(o,0)},Gl=function(o){return Jf(o,o.dom.childNodes.length-1)},Ub=function(o){return o.dom.childNodes.length},Oh=function(o){var s=o.dom.head;if(s==null)throw new Error("Head is not available yet");return U.fromDom(s)},Oi=function(o){return Wu(o)&&ae(o.dom.host)},Pc=te(Element.prototype.attachShadow)&&te(Node.prototype.getRootNode),Ld=Z(Pc),ol=Pc?function(o){return U.fromDom(o.dom.getRootNode())}:Ur,La=function(o){return Oi(o)?o:Oh(Ur(o))},Bd=function(o){var s=ol(o);return Oi(s)?fe.some(s):fe.none()},Zf=function(o){return U.fromDom(o.dom.host)},Cs=function(o){if(Ld()&&ae(o.target)){var s=U.fromDom(o.target);if(la(s)&&il(s)&&o.composed&&o.composedPath){var d=o.composedPath();if(d)return hn(d)}}return fe.from(o.target)},il=function(o){return ae(o.dom.shadowRoot)},as=function(o,s){var d=ka(o);d.each(function(m){m.dom.insertBefore(s.dom,o.dom)})},Ip=function(o,s){var d=bc(o);d.fold(function(){var m=ka(o);m.each(function(x){wu(x,s)})},function(m){as(m,s)})},Nc=function(o,s){var d=fu(o);d.fold(function(){wu(o,s)},function(m){o.dom.insertBefore(s.dom,m.dom)})},wu=function(o,s){o.dom.appendChild(s.dom)},rg=function(o,s){as(o,s),wu(s,o)},qb=function(o,s){Ct(s,function(d){as(o,d)})},Ih=function(o,s){Ct(s,function(d){wu(o,d)})},Rh=function(o){o.dom.textContent="",Ct(Hs(o),function(s){Ba(s)})},Ba=function(o){var s=o.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Ph=function(o){var s=Hs(o);s.length>0&&qb(o,s),Ba(o)},Nh=function(o){var s=wa(o)?o.dom.parentNode:o.dom;if(s==null||s.ownerDocument===null)return!1;var d=s.ownerDocument;return Bd(U.fromDom(s)).fold(function(){return d.body.contains(s)},ne(Nh,Zf))},Ts=function(o,s){var d=function(m,x){return Ts(o+m,s+x)};return{left:o,top:s,translate:d}},Qf=Ts,Lh=function(o){var s=o.getBoundingClientRect();return Qf(s.left,s.top)},ed=function(o,s){return o!==void 0?o:s!==void 0?s:0},fa=function(o){var s=o.dom.ownerDocument,d=s.body,m=s.defaultView,x=s.documentElement;if(d===o.dom)return Qf(d.offsetLeft,d.offsetTop);var T=ed(m==null?void 0:m.pageYOffset,x.scrollTop),O=ed(m==null?void 0:m.pageXOffset,x.scrollLeft),B=ed(x.clientTop,d.clientTop),H=ed(x.clientLeft,d.clientLeft);return Ml(o).translate(O-H,T-B)},Ml=function(o){var s=o.dom,d=s.ownerDocument,m=d.body;return m===s?Qf(m.offsetLeft,m.offsetTop):Nh(o)?Lh(s):Qf(0,0)},Iv=function(o){var s=o!==void 0?o.dom:document,d=s.body.scrollLeft||s.documentElement.scrollLeft,m=s.body.scrollTop||s.documentElement.scrollTop;return Qf(d,m)},Xl=function(o,s,d){var m=d!==void 0?d.dom:document,x=m.defaultView;x&&x.scrollTo(o,s)},Rv=function(o,s){var d=yr().browser.isSafari();d&&te(o.dom.scrollIntoViewIfNeeded)?o.dom.scrollIntoViewIfNeeded(!1):o.dom.scrollIntoView(s)},$b=function(o){var s=o===void 0?window:o;return yr().browser.isFirefox()?fe.none():fe.from(s.visualViewport)},Ty=function(o,s,d,m){return{x:o,y:s,width:d,height:m,right:o+d,bottom:s+m}},Bh=function(o){var s=o===void 0?window:o,d=s.document,m=Iv(U.fromDom(d));return $b(s).fold(function(){var x=s.document.documentElement,T=x.clientWidth,O=x.clientHeight;return Ty(m.left,m.top,T,O)},function(x){return Ty(Math.max(x.pageLeft,m.left),Math.max(x.pageTop,m.top),x.width,x.height)})},zh=function(o){return function(s){return!!s&&s.nodeType===o}},zd=function(o){return!!o&&!Object.getPrototypeOf(o)},Xr=zh(1),xc=function(o){var s=o.map(function(d){return d.toLowerCase()});return function(d){if(d&&d.nodeName){var m=d.nodeName.toLowerCase();return Ye(s,m)}return!1}},al=function(o,s){var d=s.toLowerCase().split(" ");return function(m){if(Xr(m))for(var x=0;x<d.length;x++){var T=m.ownerDocument.defaultView.getComputedStyle(m,null),O=T?T.getPropertyValue(o):null;if(O===d[x])return!0}return!1}},Ms=function(o){return function(s){return Xr(s)&&s.hasAttribute(o)}},wc=function(o,s){return function(d){return Xr(d)&&d.getAttribute(o)===s}},$a=function(o){return Xr(o)&&o.hasAttribute("data-mce-bogus")},_u=function(o){return Xr(o)&&o.getAttribute("data-mce-bogus")==="all"},tu=function(o){return Xr(o)&&o.tagName==="TABLE"},Fd=function(o){return function(s){return!!(Xr(s)&&(s.contentEditable===o||s.getAttribute("data-mce-contenteditable")===o))}},us=xc(["textarea","input"]),or=zh(3),Fh=zh(8),My=zh(9),fo=zh(11),Ii=xc(["br"]),Pv=xc(["img"]),mf=Fd("true"),ca=Fd("false"),Nv=xc(["td","th"]),kl=xc(["video","audio","object","embed"]),og=function(o,s,d){return d===void 0&&(d=ze),o.exists(function(m){return d(m,s)})},yo=function(o){for(var s=[],d=function(x){s.push(x)},m=0;m<o.length;m++)o[m].each(d);return s},js=function(o,s,d){return o.isSome()&&s.isSome()?fe.some(d(o.getOrDie(),s.getOrDie())):fe.none()},s_=function(o,s,d,m){return o.isSome()&&s.isSome()&&d.isSome()?fe.some(m(o.getOrDie(),s.getOrDie(),d.getOrDie())):fe.none()},l_=function(o,s){return o?fe.some(s):fe.none()},da=function(o){return o.style!==void 0&&te(o.style.getPropertyValue)},Lv=function(o,s,d){if(R(d)||q(d)||ie(d))o.setAttribute(s,d+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",d,":: Element ",o),new Error("Attribute value was not simple")},J=function(o,s,d){Lv(o.dom,s,d)},me=function(o,s){var d=o.dom;wn(s,function(m,x){Lv(d,x,m)})},xe=function(o,s){var d=o.dom.getAttribute(s);return d===null?void 0:d},Ve=function(o,s){return fe.from(xe(o,s))},yt=function(o,s){var d=o.dom;return d&&d.hasAttribute?d.hasAttribute(s):!1},Zt=function(o,s){o.dom.removeAttribute(s)},vr=function(o){return Mn(o.dom.attributes,function(s,d){return s[d.name]=d.value,s},{})},Zr=function(o,s,d){if(!R(d))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",d,":: Element ",o),new Error("CSS value must be a string: "+d);da(o)&&o.style.setProperty(s,d)},Io=function(o,s){var d=o.dom;wn(s,function(m,x){Zr(d,x,m)})},bo=function(o,s){var d=o.dom,m=window.getComputedStyle(d),x=m.getPropertyValue(s);return x===""&&!Nh(o)?zi(d,s):x},zi=function(o,s){return da(o)?o.style.getPropertyValue(s):""},ss=function(o,s){var d=o.dom,m=zi(d,s);return fe.from(m).filter(function(x){return x.length>0})},Da=function(o){var s={},d=o.dom;if(da(d))for(var m=0;m<d.style.length;m++){var x=d.style.item(m);s[x]=d.style[x]}return s},b5=function(o){return o.dom.offsetWidth},NM=yr().browser,LM=function(o){return Zn(o,la)},x5=function(o){return NM.isFirefox()&&ni(o)==="table"?LM(Hs(o)).filter(function(s){return ni(s)==="caption"}).bind(function(s){return LM(Ji(s)).map(function(d){var m=d.dom.offsetTop,x=s.dom.offsetTop,T=s.dom.offsetHeight;return m<=x?-T:0})}).getOr(0):0},td=function(o,s){return o.children&&Ye(o.children,s)},ky=function(o,s,d){var m=0,x=0,T=o.ownerDocument;if(d=d||o,s){if(d===o&&s.getBoundingClientRect&&bo(U.fromDom(o),"position")==="static"){var O=s.getBoundingClientRect();return m=O.left+(T.documentElement.scrollLeft||o.scrollLeft)-T.documentElement.clientLeft,x=O.top+(T.documentElement.scrollTop||o.scrollTop)-T.documentElement.clientTop,{x:m,y:x}}for(var B=s;B&&B!==d&&B.nodeType&&!td(B,d);){var H=B;m+=H.offsetLeft||0,x+=H.offsetTop||0,B=H.offsetParent}for(B=s.parentNode;B&&B!==d&&B.nodeType&&!td(B,d);)m-=B.scrollLeft||0,x-=B.scrollTop||0,B=B.parentNode;x+=x5(U.fromDom(s))}return{x:m,y:x}},Dl={},Bv={exports:Dl};(function(o,s,d,m){(function(x,T){typeof s=="object"&&typeof d<"u"?d.exports=T():typeof o=="function"&&o.amd?o(T):(x=typeof globalThis<"u"?globalThis:x||self,x.EphoxContactWrapper=T())})(this,function(){var x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof N3<"u"?N3:typeof self<"u"?self:{},T={exports:{}};(function(Q){(function(pe){var ge=setTimeout;function ve(){}function Ae(nt,Mt){return function(){nt.apply(Mt,arguments)}}function De(nt){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof nt!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],bt(nt,this)}function Ie(nt,Mt){for(;nt._state===3;)nt=nt._value;if(nt._state===0){nt._deferreds.push(Mt);return}nt._handled=!0,De._immediateFn(function(){var Yt=nt._state===1?Mt.onFulfilled:Mt.onRejected;if(Yt===null){(nt._state===1?Ne:Ke)(Mt.promise,nt._value);return}var Sn;try{Sn=Yt(nt._value)}catch(Dr){Ke(Mt.promise,Dr);return}Ne(Mt.promise,Sn)})}function Ne(nt,Mt){try{if(Mt===nt)throw new TypeError("A promise cannot be resolved with itself.");if(Mt&&(typeof Mt=="object"||typeof Mt=="function")){var Yt=Mt.then;if(Mt instanceof De){nt._state=3,nt._value=Mt,Ge(nt);return}else if(typeof Yt=="function"){bt(Ae(Yt,Mt),nt);return}}nt._state=1,nt._value=Mt,Ge(nt)}catch(Sn){Ke(nt,Sn)}}function Ke(nt,Mt){nt._state=2,nt._value=Mt,Ge(nt)}function Ge(nt){nt._state===2&&nt._deferreds.length===0&&De._immediateFn(function(){nt._handled||De._unhandledRejectionFn(nt._value)});for(var Mt=0,Yt=nt._deferreds.length;Mt<Yt;Mt++)Ie(nt,nt._deferreds[Mt]);nt._deferreds=null}function at(nt,Mt,Yt){this.onFulfilled=typeof nt=="function"?nt:null,this.onRejected=typeof Mt=="function"?Mt:null,this.promise=Yt}function bt(nt,Mt){var Yt=!1;try{nt(function(Sn){Yt||(Yt=!0,Ne(Mt,Sn))},function(Sn){Yt||(Yt=!0,Ke(Mt,Sn))})}catch(Sn){if(Yt)return;Yt=!0,Ke(Mt,Sn)}}De.prototype.catch=function(nt){return this.then(null,nt)},De.prototype.then=function(nt,Mt){var Yt=new this.constructor(ve);return Ie(this,new at(nt,Mt,Yt)),Yt},De.all=function(nt){var Mt=Array.prototype.slice.call(nt);return new De(function(Yt,Sn){if(Mt.length===0)return Yt([]);var Dr=Mt.length;function Qn(jr,An){try{if(An&&(typeof An=="object"||typeof An=="function")){var Jn=An.then;if(typeof Jn=="function"){Jn.call(An,function(Dn){Qn(jr,Dn)},Sn);return}}Mt[jr]=An,--Dr===0&&Yt(Mt)}catch(Dn){Sn(Dn)}}for(var pn=0;pn<Mt.length;pn++)Qn(pn,Mt[pn])})},De.resolve=function(nt){return nt&&typeof nt=="object"&&nt.constructor===De?nt:new De(function(Mt){Mt(nt)})},De.reject=function(nt){return new De(function(Mt,Yt){Yt(nt)})},De.race=function(nt){return new De(function(Mt,Yt){for(var Sn=0,Dr=nt.length;Sn<Dr;Sn++)nt[Sn].then(Mt,Yt)})},De._immediateFn=typeof setImmediate=="function"?function(nt){setImmediate(nt)}:function(nt){ge(nt,0)},De._unhandledRejectionFn=function(nt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",nt)},De._setImmediateFn=function(nt){De._immediateFn=nt},De._setUnhandledRejectionFn=function(nt){De._unhandledRejectionFn=nt},Q.exports?Q.exports=De:pe.Promise||(pe.Promise=De)})(x)})(T);var O=T.exports,B=function(){return typeof window<"u"?window:Function("return this;")()}(),H={boltExport:B.Promise||O};return H})})(void 0,Dl,Bv);var c_=Bv.exports.boltExport,Dy=function(o){var s=fe.none(),d=[],m=function(Q){return Dy(function(pe){x(function(ge){pe(Q(ge))})})},x=function(Q){O()?H(Q):d.push(Q)},T=function(Q){O()||(s=fe.some(Q),B(d),d=[])},O=function(){return s.isSome()},B=function(Q){Ct(Q,H)},H=function(Q){s.each(function(pe){setTimeout(function(){Q(pe)},0)})};return o(T),{get:x,map:m,isReady:O}},Gb=function(o){return Dy(function(s){s(o)})},BM={nu:Dy,pure:Gb},w5=function(o){setTimeout(function(){throw o},0)},nd=function(o){var s=function(H){o().then(H,w5)},d=function(H){return nd(function(){return o().then(H)})},m=function(H){return nd(function(){return o().then(function(Q){return H(Q).toPromise()})})},x=function(H){return nd(function(){return o().then(function(){return H.toPromise()})})},T=function(){return BM.nu(s)},O=function(){var H=null;return nd(function(){return H===null&&(H=o()),H})},B=o;return{map:d,bind:m,anonBind:x,toLazy:T,toCached:O,toPromise:B,get:s}},Ay=function(o){return nd(function(){return new c_(o)})},_5=function(o){return nd(function(){return c_.resolve(o)})},f_={nu:Ay,pure:_5},S5=function(o,s){return s(function(d){var m=[],x=0,T=function(O){return function(B){m[O]=B,x++,x>=o.length&&d(m)}};o.length===0?d([]):Ct(o,function(O,B){O.get(T(B))})})},C5=function(o){return S5(o,f_.nu)},zv=function(o){var s=function(ge){return zv(o)},d=function(ge){return zv(o)},m=function(ge){return zv(ge(o))},x=function(ge){return zv(o)},T=function(ge){ge(o)},O=function(ge){return ge(o)},B=function(ge,ve){return ve(o)},H=function(ge){return ge(o)},Q=function(ge){return ge(o)},pe=function(){return fe.some(o)};return{isValue:mt,isError:$e,getOr:Z(o),getOrThunk:Z(o),getOrDie:Z(o),or:s,orThunk:d,fold:B,map:m,mapError:x,each:T,bind:O,exists:H,forall:Q,toOptional:pe}},Ey=function(o){var s=function(Q){return Q()},d=function(){return tt(String(o))()},m=Ce,x=function(Q){return Q()},T=function(Q){return Ey(o)},O=function(Q){return Ey(Q(o))},B=function(Q){return Ey(o)},H=function(Q,pe){return Q(o)};return{isValue:$e,isError:mt,getOr:Ce,getOrThunk:s,getOrDie:d,or:m,orThunk:x,fold:H,map:T,mapError:O,each:le,bind:B,exists:$e,forall:mt,toOptional:fe.none}},zM=function(o,s){return o.fold(function(){return Ey(s)},zv)},FM={value:zv,error:Ey,fromOption:zM},Yl=function(o){if(!z(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");var s=[],d={};return Ct(o,function(m,x){var T=an(m);if(T.length!==1)throw new Error("one and only one name per case");var O=T[0],B=m[O];if(d[O]!==void 0)throw new Error("duplicate key detected:"+O);if(O==="cata")throw new Error("cannot have a case named cata (sorry)");if(!z(B))throw new Error("case arguments must be an array");s.push(O),d[O]=function(){for(var H=[],Q=0;Q<arguments.length;Q++)H[Q]=arguments[Q];var pe=H.length;if(pe!==B.length)throw new Error("Wrong number of arguments to case "+O+". Expected "+B.length+" ("+B+"), got "+pe);var ge=function(ve){var Ae=an(ve);if(s.length!==Ae.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+Ae.join(","));var De=Go(s,function(Ie){return Ye(Ae,Ie)});if(!De)throw new Error("Not all branches were specified when using match. Specified: "+Ae.join(", ")+`
Required: `+s.join(", "));return ve[O].apply(null,H)};return{fold:function(){for(var ve=[],Ae=0;Ae<arguments.length;Ae++)ve[Ae]=arguments[Ae];if(ve.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+ve.length);var De=ve[x];return De.apply(null,H)},match:ge,log:function(ve){console.log(ve,{constructors:s,constructor:O,params:H})}}}}),d},Sr={generate:Yl};Sr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Vh=function(o){return o.fold(Ce,Ce)};function Oy(o,s,d,m,x){return o(d,m)?fe.some(d):te(x)&&x(d)?fe.none():s(d,m,x)}var Rp=function(o,s,d){for(var m=o.dom,x=te(d)?d:$e;m.parentNode;){m=m.parentNode;var T=U.fromDom(m);if(s(T))return fe.some(T);if(x(T))break}return fe.none()},Fv=function(o,s,d){var m=function(x,T){return T(x)};return Oy(m,Rp,o,s,d)},d_=function(o,s){var d=o.dom;return d.parentNode?gf(U.fromDom(d.parentNode),function(m){return!Vr(o,m)&&s(m)}):fe.none()},gf=function(o,s){var d=function(x){return s(U.fromDom(x))},m=Zn(o.dom.childNodes,d);return m.map(U.fromDom)},ig=function(o,s,d){return Rp(o,function(m){return Ln(m,s)},d)},Vv=function(o,s){return Jr(s,o)},Ga=function(o,s,d){var m=function(x,T){return Ln(x,T)};return Oy(m,ig,o,s,d)},Uu=window.Promise?window.Promise:c_,Iy,Vd=function(o,s){for(var d=window.requestAnimationFrame,m=["ms","moz","webkit"],x=function(O){window.setTimeout(O,0)},T=0;T<m.length&&!d;T++)d=window[m[T]+"RequestAnimationFrame"];d||(d=x),d(o,s)},Ry=function(o,s){return typeof s!="number"&&(s=0),setTimeout(o,s)},Xb=function(o,s){return typeof s!="number"&&(s=1),setInterval(o,s)},Yb=function(o){return clearTimeout(o)},T5=function(o){return clearInterval(o)},Hv=function(o,s){var d,m=function(){for(var x=[],T=0;T<arguments.length;T++)x[T]=arguments[T];clearTimeout(d),d=Ry(function(){o.apply(this,x)},s)};return m.stop=function(){clearTimeout(d)},m},ks={requestAnimationFrame:function(o,s){if(Iy){Iy.then(o);return}Iy=new Uu(function(d){s||(s=document.body),Vd(d,s)}).then(o)},setTimeout:Ry,setInterval:Xb,setEditorTimeout:function(o,s,d){return Ry(function(){o.removed||s()},d)},setEditorInterval:function(o,s,d){var m=Xb(function(){o.removed?clearInterval(m):s()},d);return m},debounce:Hv,throttle:Hv,clearInterval:T5,clearTimeout:Yb},VM=function(o,s){s===void 0&&(s={});var d=0,m={},x=U.fromDom(o),T=Ur(x),O=s.maxLoadTime||5e3,B=function(Ne){s.referrerPolicy=Ne},H=function(Ne){wu(La(x),Ne)},Q=function(Ne){var Ke=La(x);Vv(Ke,"#"+Ne).each(Ba)},pe=function(Ne){return zr(m,Ne).getOrThunk(function(){return{id:"mce-u"+d++,passed:[],failed:[],count:0}})},ge=function(Ne,Ke,Ge){var at,bt=qt._addCacheSuffix(Ne),nt=pe(bt);m[bt]=nt,nt.count++;var Mt=function(An,Jn){for(var Dn=An.length;Dn--;)An[Dn]();nt.status=Jn,nt.passed=[],nt.failed=[],at&&(at.onload=null,at.onerror=null,at=null)},Yt=function(){return Mt(nt.passed,2)},Sn=function(){return Mt(nt.failed,3)},Dr=function(An,Jn){An()||(Date.now()-jr<O?ks.setTimeout(Jn):Sn())},Qn=function(){Dr(function(){for(var An=o.styleSheets,Jn=An.length;Jn--;){var Dn=An[Jn],Hn=Dn.ownerNode;if(Hn&&Hn.id===at.id)return Yt(),!0}return!1},Qn)};if(Ke&&nt.passed.push(Ke),Ge&&nt.failed.push(Ge),nt.status!==1){if(nt.status===2){Yt();return}if(nt.status===3){Sn();return}nt.status=1;var pn=U.fromTag("link",T.dom);me(pn,{rel:"stylesheet",type:"text/css",id:nt.id});var jr=Date.now();s.contentCssCors&&J(pn,"crossOrigin","anonymous"),s.referrerPolicy&&J(pn,"referrerpolicy",s.referrerPolicy),at=pn.dom,at.onload=Qn,at.onerror=Sn,H(pn),J(pn,"href",bt)}},ve=function(Ne){return f_.nu(function(Ke){ge(Ne,ce(Ke,Z(FM.value(Ne))),ce(Ke,Z(FM.error(Ne))))})},Ae=function(Ne,Ke,Ge){C5(Ft(Ne,ve)).get(function(at){var bt=ur(at,function(nt){return nt.isValue()});bt.fail.length>0?Ge(bt.fail.map(Vh)):Ke(bt.pass.map(Vh))})},De=function(Ne){var Ke=qt._addCacheSuffix(Ne);zr(m,Ke).each(function(Ge){var at=--Ge.count;at===0&&(delete m[Ke],Q(Ge.id))})},Ie=function(Ne){Ct(Ne,function(Ke){De(Ke)})};return{load:ge,loadAll:Ae,unload:De,unloadAll:Ie,_setReferrerPolicy:B}},_a=function(){var o=new WeakMap,s=function(d,m){var x=ol(d),T=x.dom;return fe.from(o.get(T)).getOrThunk(function(){var O=VM(T,m);return o.set(T,O),O})};return{forElement:s}},vf=_a(),mi=function(){function o(s,d){this.node=s,this.rootNode=d,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return o.prototype.current=function(){return this.node},o.prototype.next=function(s){return this.node=this.findSibling(this.node,"firstChild","nextSibling",s),this.node},o.prototype.prev=function(s){return this.node=this.findSibling(this.node,"lastChild","previousSibling",s),this.node},o.prototype.prev2=function(s){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",s),this.node},o.prototype.findSibling=function(s,d,m,x){var T,O;if(s){if(!x&&s[d])return s[d];if(s!==this.rootNode){if(T=s[m],T)return T;for(O=s.parentNode;O&&O!==this.rootNode;O=O.parentNode)if(T=O[m],T)return T}}},o.prototype.findPreviousNode=function(s,d,m,x){var T,O,B;if(s){if(T=s[m],this.rootNode&&T===this.rootNode)return;if(T){if(!x){for(B=T[d];B;B=B[d])if(!B[d])return B}return T}if(O=s.parentNode,O&&O!==this.rootNode)return O}},o}(),Pp=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Lc=["td","th"],M5=["thead","tbody","tfoot"],Su=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ul=["h1","h2","h3","h4","h5","h6"],HM=["li","dd","dt"],on=["ul","ol","dl"],Al=["pre","script","textarea","style"],Hh=function(o){var s;return function(d){return s=s||en(o,mt),Hr(s,ni(d))}},Yr=Hh(ul),_c=Hh(Pp),k5=function(o){return ni(o)==="table"},Ws=function(o){return la(o)&&!_c(o)},jv=function(o){return la(o)&&ni(o)==="br"},Hd=Hh(Su),yf=Hh(on),Ds=Hh(HM),oi=Hh(M5),rd=Hh(Lc),ag=Hh(Al),qi=function(o,s,d){return ig(o,s,d).isSome()},Np="\uFEFF",Kl=" ",Jl=function(o){return o===Np},D5=function(o){return o.replace(/\uFEFF/g,"")},dt=Np,sl=Jl,od=D5,Wv=Xr,Sc=or,Ri=function(o){return Sc(o)&&(o=o.parentNode),Wv(o)&&o.hasAttribute("data-mce-caret")},$i=function(o){return Sc(o)&&sl(o.data)},El=function(o){return Ri(o)||$i(o)},jh=function(o){return o.firstChild!==o.lastChild||!Ii(o.firstChild)},h_=function(o,s){var d=o.ownerDocument,m=d.createTextNode(dt),x=o.parentNode;if(s){var T=o.previousSibling;if(Sc(T)){if(El(T))return T;if(Ny(T))return T.splitText(T.data.length-1)}x.insertBefore(m,o)}else{var T=o.nextSibling;if(Sc(T)){if(El(T))return T;if(Py(T))return T.splitText(1),T}o.nextSibling?x.insertBefore(m,o.nextSibling):x.appendChild(m)}return m},Er=function(o){var s=o.container();return or(s)?s.data.charAt(o.offset())===dt||o.isAtStart()&&$i(s.previousSibling):!1},Kb=function(o){var s=o.container();return or(s)?s.data.charAt(o.offset()-1)===dt||o.isAtEnd()&&$i(s.nextSibling):!1},Cc=function(){var o=document.createElement("br");return o.setAttribute("data-mce-bogus","1"),o},jM=function(o,s,d){var m=s.ownerDocument,x=m.createElement(o);x.setAttribute("data-mce-caret",d?"before":"after"),x.setAttribute("data-mce-bogus","all"),x.appendChild(Cc());var T=s.parentNode;return d?T.insertBefore(x,s):s.nextSibling?T.insertBefore(x,s.nextSibling):T.appendChild(x),x},Py=function(o){return Sc(o)&&o.data[0]===dt},Ny=function(o){return Sc(o)&&o.data[o.data.length-1]===dt},p_=function(o){var s=o.getElementsByTagName("br"),d=s[s.length-1];$a(d)&&d.parentNode.removeChild(d)},m_=function(o){return o&&o.hasAttribute("data-mce-caret")?(p_(o),o.removeAttribute("data-mce-caret"),o.removeAttribute("data-mce-bogus"),o.removeAttribute("style"),o.removeAttribute("_moz_abspos"),o):null},jd=function(o){return Ri(o.startContainer)},Wh=mf,A5=ca,g_=Ii,E5=or,WM=xc(["script","style","textarea"]),Ly=xc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Uv=xc(["table"]),UM=El,Wd=function(o){return UM(o)?!1:E5(o)?!WM(o.parentNode):Ly(o)||g_(o)||Uv(o)||v_(o)},qv=function(o){return Xr(o)&&o.getAttribute("unselectable")==="true"},v_=function(o){return qv(o)===!1&&A5(o)},qM=function(o,s){for(o=o.parentNode;o&&o!==s;o=o.parentNode){if(v_(o))return!1;if(Wh(o))return!0}return!0},O5=function(o){return v_(o)?Mn(bn(o.getElementsByTagName("*")),function(s,d){return s||Wh(d)},!1)!==!0:!1},I5=function(o){return Ly(o)||O5(o)},du=function(o,s){return Wd(o)&&qM(o,s)},Ud=/^[ \t\r\n]*$/,bf=function(o){return Ud.test(o)},Lp=function(o,s){var d=U.fromDom(s),m=U.fromDom(o);return qi(m,"pre,code",ke(Vr,d))},$M=function(o,s){return or(o)&&bf(o.data)&&Lp(o,s)===!1},xf=function(o){return Xr(o)&&o.nodeName==="A"&&!o.hasAttribute("href")&&(o.hasAttribute("name")||o.hasAttribute("id"))},ug=function(o,s){return Wd(o)&&$M(o,s)===!1||xf(o)||y_(o)},y_=Ms("data-mce-bookmark"),b_=Ms("data-mce-bogus"),Uh=wc("data-mce-bogus","all"),Bc=function(o,s){var d=0;if(ug(o,o))return!1;var m=o.firstChild;if(!m)return!0;var x=new mi(m,o);do{if(s){if(Uh(m)){m=x.next(!0);continue}if(b_(m)){m=x.next();continue}}if(Ii(m)){d++,m=x.next();continue}if(ug(m,o))return!1;m=x.next()}while(m);return d<=1},ls=function(o,s){return s===void 0&&(s=!0),Bc(o.dom,s)},Jb=function(o){return o.nodeName.toLowerCase()==="span"},x_=function(o,s){return ae(o)&&(ug(o,s)||Ws(U.fromDom(o)))},sg=function(o,s){var d=new mi(o,s).prev(!1),m=new mi(o,s).next(!1),x=X(d)||x_(d,s),T=X(m)||x_(m,s);return x&&T},$v=function(o){return Jb(o)&&o.getAttribute("data-mce-type")==="bookmark"},Gv=function(o,s){return or(o)&&o.data.length>0&&sg(o,s)},R5=function(o){return Xr(o)?o.childNodes.length>0:!1},Xv=function(o){return fo(o)||My(o)},w_=function(o,s,d){var m=d||s;if(Xr(s)&&$v(s))return s;for(var x=s.childNodes,T=x.length-1;T>=0;T--)w_(o,x[T],m);if(Xr(s)){var O=s.childNodes;O.length===1&&$v(O[0])&&s.parentNode.insertBefore(O[0],s)}return!Xv(s)&&!ug(s,m)&&!R5(s)&&!Gv(s,m)&&o.remove(s),s},P5=qt.makeMap,Aa=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bp=/[<>&\"\']/g,__=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,S_={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},zc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},lg=function(o){var s=U.fromTag("div").dom;return s.innerHTML=o,s.textContent||s.innerText||o},zp=function(o,s){var d,m,x,T={};if(o){for(o=o.split(","),s=s||10,d=0;d<o.length;d+=2)m=String.fromCharCode(parseInt(o[d],s)),zc[m]||(x="&"+o[d+1]+";",T[m]=x,T[x]=m);return T}},Qb=zp("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),By=function(o,s){return o.replace(s?Aa:Zb,function(d){return zc[d]||d})},C_=function(o){return(""+o).replace(Bp,function(s){return zc[s]||s})},cg=function(o,s){return o.replace(s?Aa:Zb,function(d){return d.length>1?"&#"+((d.charCodeAt(0)-55296)*1024+(d.charCodeAt(1)-56320)+65536)+";":zc[d]||"&#"+d.charCodeAt(0)+";"})},ex=function(o,s,d){return d=d||Qb,o.replace(s?Aa:Zb,function(m){return zc[m]||d[m]||m})},N5=function(o,s){var d=zp(s)||Qb,m=function(O,B){return O.replace(B?Aa:Zb,function(H){return zc[H]!==void 0?zc[H]:d[H]!==void 0?d[H]:H.length>1?"&#"+((H.charCodeAt(0)-55296)*1024+(H.charCodeAt(1)-56320)+65536)+";":"&#"+H.charCodeAt(0)+";"})},x=function(O,B){return ex(O,B,d)},T=P5(o.replace(/\+/g,","));return T.named&&T.numeric?m:T.named?s?x:ex:T.numeric?cg:By},T_=function(o){return o.replace(__,function(s,d){return d?(d.charAt(0).toLowerCase()==="x"?d=parseInt(d.substr(1),16):d=parseInt(d,10),d>65535?(d-=65536,String.fromCharCode(55296+(d>>10),56320+(d&1023))):S_[d]||String.fromCharCode(d)):Tc[s]||Qb[s]||lg(s)})},Mc={encodeRaw:By,encodeAllRaw:C_,encodeNumeric:cg,encodeNamed:ex,getEncodeFunc:N5,decode:T_},Zl={},Yv={},wf=qt.makeMap,Us=qt.each,tx=qt.extend,qh=qt.explode,GM=qt.inArray,cs=function(o,s){return o=qt.trim(o),o?o.split(s||" "):[]},XM=function(o){var s={},d,m,x,T,O,B,H=function(pe,ge,ve){var Ae,De,Ie,Ne=function(Ge,at){var bt={},nt,Mt;for(nt=0,Mt=Ge.length;nt<Mt;nt++)bt[Ge[nt]]=at||{};return bt};ve=ve||[],ge=ge||"",typeof ve=="string"&&(ve=cs(ve));var Ke=cs(pe);for(Ae=Ke.length;Ae--;)De=cs([d,ge].join(" ")),Ie={attributes:Ne(De),attributesOrder:De,children:Ne(ve,Yv)},s[Ke[Ae]]=Ie},Q=function(pe,ge){var ve,Ae,De,Ie,Ne=cs(pe);ve=Ne.length;for(var Ke=cs(ge);ve--;)for(Ae=s[Ne[ve]],De=0,Ie=Ke.length;De<Ie;De++)Ae.attributes[Ke[De]]={},Ae.attributesOrder.push(Ke[De])};return Zl[o]?Zl[o]:(d="id accesskey class dir lang style tabindex title role",m="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",x="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",o!=="html4"&&(d+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",m+=" article aside details dialog figure main header footer hgroup section nav",x+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),o!=="html5-strict"&&(d+=" xml:lang",B="acronym applet basefont big font strike tt",x=[x,B].join(" "),Us(cs(B),function(pe){H(pe,"",x)}),O="center dir isindex noframes",m=[m,O].join(" "),T=[m,x].join(" "),Us(cs(O),function(pe){H(pe,"",T)})),T=T||[m,x].join(" "),H("html","manifest","head body"),H("head","","base command link meta noscript script style title"),H("title hr noscript br"),H("base","href target"),H("link","href rel media hreflang type sizes hreflang"),H("meta","name http-equiv content charset"),H("style","media type scoped"),H("script","src async defer type charset"),H("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",T),H("address dt dd div caption","",T),H("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",x),H("blockquote","cite",T),H("ol","reversed start type","li"),H("ul","","li"),H("li","value",T),H("dl","","dt dd"),H("a","href target rel media hreflang type",x),H("q","cite",x),H("ins del","cite datetime",T),H("img","src sizes srcset alt usemap ismap width height"),H("iframe","src name width height",T),H("embed","src type width height"),H("object","data type typemustmatch name usemap form width height",[T,"param"].join(" ")),H("param","name value"),H("map","name",[T,"area"].join(" ")),H("area","alt coords shape href target rel media hreflang type"),H("table","border","caption colgroup thead tfoot tbody tr"+(o==="html4"?" col":"")),H("colgroup","span","col"),H("col","span"),H("tbody thead tfoot","","tr"),H("tr","","td th"),H("td","colspan rowspan headers",T),H("th","colspan rowspan headers scope abbr",T),H("form","accept-charset action autocomplete enctype method name novalidate target",T),H("fieldset","disabled form name",[T,"legend"].join(" ")),H("label","form for",x),H("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),H("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",o==="html4"?T:x),H("select","disabled form multiple name required size","option optgroup"),H("optgroup","disabled label","option"),H("option","disabled label selected value"),H("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),H("menu","type label",[T,"li"].join(" ")),H("noscript","",T),o!=="html4"&&(H("wbr"),H("ruby","",[x,"rt rp"].join(" ")),H("figcaption","",T),H("mark rt rp summary bdi","",x),H("canvas","width height",T),H("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[T,"track source"].join(" ")),H("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[T,"track source"].join(" ")),H("picture","","img source"),H("source","src srcset type media sizes"),H("track","kind src srclang label default"),H("datalist","",[x,"option"].join(" ")),H("article section nav aside main header footer","",T),H("hgroup","","h1 h2 h3 h4 h5 h6"),H("figure","",[T,"figcaption"].join(" ")),H("time","datetime",x),H("dialog","open",T),H("command","type label icon disabled checked radiogroup command"),H("output","for form name",x),H("progress","value max",x),H("meter","value min max low high optimum",x),H("details","open",[T,"summary"].join(" ")),H("keygen","autofocus challenge disabled form keytype name")),o!=="html5-strict"&&(Q("script","language xml:space"),Q("style","xml:space"),Q("object","declare classid code codebase codetype archive standby align border hspace vspace"),Q("embed","align name hspace vspace"),Q("param","valuetype type"),Q("a","charset name rev shape coords"),Q("br","clear"),Q("applet","codebase archive code object alt name width height align hspace vspace"),Q("img","name longdesc align border hspace vspace"),Q("iframe","longdesc frameborder marginwidth marginheight scrolling align"),Q("font basefont","size color face"),Q("input","usemap align"),Q("select"),Q("textarea"),Q("h1 h2 h3 h4 h5 h6 div p legend caption","align"),Q("ul","type compact"),Q("li","type"),Q("ol dl menu dir","compact"),Q("pre","width xml:space"),Q("hr","align noshade size width"),Q("isindex","prompt"),Q("table","summary width frame rules cellspacing cellpadding align bgcolor"),Q("col","width align char charoff valign"),Q("colgroup","width align char charoff valign"),Q("thead","align char charoff valign"),Q("tr","align char charoff valign bgcolor"),Q("th","axis align char charoff valign nowrap bgcolor width height"),Q("form","accept"),Q("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),Q("tfoot","align char charoff valign"),Q("tbody","align char charoff valign"),Q("area","nohref"),Q("body","background bgcolor text link vlink alink")),o!=="html4"&&(Q("input button select textarea","autofocus"),Q("input textarea","placeholder"),Q("a","download"),Q("link script img","crossorigin"),Q("img","loading"),Q("iframe","sandbox seamless allowfullscreen loading")),Us(cs("a form meter progress dfn"),function(pe){s[pe]&&delete s[pe].children[pe]}),delete s.caption.children.table,delete s.script,Zl[o]=s,s)},zy=function(o,s){var d;return o&&(d={},typeof o=="string"&&(o={"*":o}),Us(o,function(m,x){d[x]=d[x.toUpperCase()]=s==="map"?wf(m,/[, ]/):qh(m,/[, ]/)})),d},ko=function(o){var s={},d={},m=[],x={},T={},O=function(yn,zt,Cn){var Vt=o[yn];return Vt?Vt=wf(Vt,/[, ]/,wf(Vt.toUpperCase(),/[, ]/)):(Vt=Zl[yn],Vt||(Vt=wf(zt," ",wf(zt.toUpperCase()," ")),Vt=tx(Vt,Cn),Zl[yn]=Vt)),Vt};o=o||{};var B=XM(o.schema);o.verify_html===!1&&(o.valid_elements="*[*]");var H=zy(o.valid_styles),Q=zy(o.invalid_styles,"map"),pe=zy(o.valid_classes,"map"),ge=O("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ve=O("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Ae=O("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),De=O("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Ie="td th iframe video audio object script code",Ne=O("non_empty_elements",Ie+" pre",Ae),Ke=O("move_caret_before_on_enter_elements",Ie+" table",Ae),Ge=O("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),at=O("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Ge),bt=O("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Us((o.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(yn){T[yn]=new RegExp("</"+yn+"[^>]*>","gi")});var nt=function(yn){return new RegExp("^"+yn.replace(/([?+*])/g,".$1")+"$")},Mt=function(yn){var zt,Cn,Vt,fr,Fn,Fr,Do,ma,Ll,cc,_d,Bl,zl,zu,hv,Ps,Sd,Am,Ea=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Zi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Au=/[*?+]/;if(yn){var dh=cs(yn,",");for(s["@"]&&(Ps=s["@"].attributes,Sd=s["@"].attributesOrder),zt=0,Cn=dh.length;zt<Cn;zt++)if(Fn=Ea.exec(dh[zt]),Fn){if(zu=Fn[1],Ll=Fn[2],hv=Fn[3],ma=Fn[5],Bl={},zl=[],Fr={attributes:Bl,attributesOrder:zl},zu==="#"&&(Fr.paddEmpty=!0),zu==="-"&&(Fr.removeEmpty=!0),Fn[4]==="!"&&(Fr.removeEmptyAttrs=!0),Ps&&(wn(Ps,function(Em,hh){Bl[hh]=Em}),zl.push.apply(zl,Sd)),ma){for(ma=cs(ma,"|"),Vt=0,fr=ma.length;Vt<fr;Vt++)if(Fn=Zi.exec(ma[Vt]),Fn){if(Do={},_d=Fn[1],cc=Fn[2].replace(/[\\:]:/g,":"),zu=Fn[3],Am=Fn[4],_d==="!"&&(Fr.attributesRequired=Fr.attributesRequired||[],Fr.attributesRequired.push(cc),Do.required=!0),_d==="-"){delete Bl[cc],zl.splice(GM(zl,cc),1);continue}zu&&(zu==="="&&(Fr.attributesDefault=Fr.attributesDefault||[],Fr.attributesDefault.push({name:cc,value:Am}),Do.defaultValue=Am),zu===":"&&(Fr.attributesForced=Fr.attributesForced||[],Fr.attributesForced.push({name:cc,value:Am}),Do.forcedValue=Am),zu==="<"&&(Do.validValues=wf(Am,"?"))),Au.test(cc)?(Fr.attributePatterns=Fr.attributePatterns||[],Do.pattern=nt(cc),Fr.attributePatterns.push(Do)):(Bl[cc]||zl.push(cc),Bl[cc]=Do)}}!Ps&&Ll==="@"&&(Ps=Bl,Sd=zl),hv&&(Fr.outputName=Ll,s[hv]=Fr),Au.test(Ll)?(Fr.pattern=nt(Ll),m.push(Fr)):s[Ll]=Fr}}},Yt=function(yn){s={},m=[],Mt(yn),Us(B,function(zt,Cn){d[Cn]=zt.children})},Sn=function(yn){var zt=/^(~)?(.+)$/;yn&&(Zl.text_block_elements=Zl.block_elements=null,Us(cs(yn,","),function(Cn){var Vt=zt.exec(Cn),fr=Vt[1]==="~",Fn=fr?"span":"div",Fr=Vt[2];if(d[Fr]=d[Fn],x[Fr]=Fn,fr||(at[Fr.toUpperCase()]={},at[Fr]={}),!s[Fr]){var Do=s[Fn];Do=tx({},Do),delete Do.removeEmptyAttrs,delete Do.removeEmpty,s[Fr]=Do}Us(d,function(ma,Ll){ma[Fn]&&(d[Ll]=ma=tx({},d[Ll]),ma[Fr]=ma[Fn])})}))},Dr=function(yn){var zt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Zl[o.schema]=null,yn&&Us(cs(yn,","),function(Cn){var Vt=zt.exec(Cn),fr,Fn;Vt&&(Fn=Vt[1],Fn?fr=d[Vt[2]]:fr=d[Vt[2]]={"#comment":{}},fr=d[Vt[2]],Us(cs(Vt[3],"|"),function(Fr){Fn==="-"?delete fr[Fr]:fr[Fr]={}}))})},Qn=function(yn){var zt=s[yn],Cn;if(zt)return zt;for(Cn=m.length;Cn--;)if(zt=m[Cn],zt.pattern.test(yn))return zt};o.valid_elements?Yt(o.valid_elements):(Us(B,function(yn,zt){s[zt]={attributes:yn.attributes,attributesOrder:yn.attributesOrder},d[zt]=yn.children}),o.schema!=="html5"&&Us(cs("strong/b em/i"),function(yn){var zt=cs(yn,"/");s[zt[1]].outputName=zt[0]}),Us(cs("ol ul sub sup blockquote span font a table tbody strong em b i"),function(yn){s[yn]&&(s[yn].removeEmpty=!0)}),Us(cs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(yn){s[yn].paddEmpty=!0}),Us(cs("span"),function(yn){s[yn].removeEmptyAttrs=!0})),Sn(o.custom_elements),Dr(o.valid_children),Mt(o.extended_valid_elements),Dr("+ol[ul|ol],+ul[ul|ol]"),Us({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(yn,zt){s[zt]&&(s[zt].parentsRequired=cs(yn))}),o.invalid_elements&&Us(qh(o.invalid_elements),function(yn){s[yn]&&delete s[yn]}),Qn("span")||Mt("span[!data-mce-type|*]");var pn=Z(H),jr=Z(Q),An=Z(pe),Jn=Z(De),Dn=Z(at),Hn=Z(Ge),rr=Z(bt),xn=Z(Ae),ar=Z(ve),oo=Z(Ne),xi=Z(Ke),Wo=Z(ge),gu=Z(T),Du=function(yn,zt){var Cn=d[yn.toLowerCase()];return!!(Cn&&Cn[zt.toLowerCase()])},Oc=function(yn,zt){var Cn,Vt,fr=Qn(yn);if(fr)if(zt){if(fr.attributes[zt])return!0;if(Cn=fr.attributePatterns,Cn){for(Vt=Cn.length;Vt--;)if(Cn[Vt].pattern.test(yn))return!0}}else return!0;return!1},ef=Z(x);return{children:d,elements:s,getValidStyles:pn,getValidClasses:An,getBlockElements:Dn,getInvalidStyles:jr,getShortEndedElements:xn,getTextBlockElements:Hn,getTextInlineElements:rr,getBoolAttrs:Jn,getElementRule:Qn,getSelfClosingElements:ar,getNonEmptyElements:oo,getMoveCaretBeforeOnEnterElements:xi,getWhiteSpaceElements:Wo,getSpecialElements:gu,isValidChild:Du,isValid:Oc,getCustomElements:ef,addValidElements:Mt,setValidElements:Yt,addCustomElements:Sn,addValidChildren:Dr}},Ir=function(o,s,d,m){var x=function(T){return T=parseInt(T,10).toString(16),T.length>1?T:"0"+T};return"#"+x(s)+x(d)+x(m)},$h=function(o,s){var d=this,m=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,x=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,T=/\s*([^:]+):\s*([^;]+);?/g,O=/\s+$/,B,H={},Q,pe,ge=Np;o=o||{},s&&(Q=s.getValidStyles(),pe=s.getInvalidStyles());var ve=(`\\" \\' \\; \\: ; : `+ge).split(" ");for(B=0;B<ve.length;B++)H[ve[B]]=ge+B,H[ge+B]=ve[B];return{toHex:function(Ae){return Ae.replace(m,Ir)},parse:function(Ae){var De={},Ie,Ne,Ke,Ge,at=o.url_converter,bt=o.url_converter_scope||d,nt=function(An,Jn,Dn){var Hn=De[An+"-top"+Jn];if(Hn){var rr=De[An+"-right"+Jn];if(rr){var xn=De[An+"-bottom"+Jn];if(xn){var ar=De[An+"-left"+Jn];if(ar){var oo=[Hn,rr,xn,ar];for(B=oo.length-1;B--&&oo[B]===oo[B+1];);B>-1&&Dn||(De[An+Jn]=B===-1?oo[0]:oo.join(" "),delete De[An+"-top"+Jn],delete De[An+"-right"+Jn],delete De[An+"-bottom"+Jn],delete De[An+"-left"+Jn])}}}}},Mt=function(An){var Jn=De[An],Dn;if(Jn){for(Jn=Jn.split(" "),Dn=Jn.length;Dn--;)if(Jn[Dn]!==Jn[0])return!1;return De[An]=Jn[0],!0}},Yt=function(An,Jn,Dn,Hn){Mt(Jn)&&Mt(Dn)&&Mt(Hn)&&(De[An]=De[Jn]+" "+De[Dn]+" "+De[Hn],delete De[Jn],delete De[Dn],delete De[Hn])},Sn=function(An){return Ge=!0,H[An]},Dr=function(An,Jn){return Ge&&(An=An.replace(/\uFEFF[0-9]/g,function(Dn){return H[Dn]})),Jn||(An=An.replace(/\\([\'\";:])/g,"$1")),An},Qn=function(An){return String.fromCharCode(parseInt(An.slice(1),16))},pn=function(An){return An.replace(/\\[0-9a-f]+/gi,Qn)},jr=function(An,Jn,Dn,Hn,rr,xn){if(rr=rr||xn,rr)return rr=Dr(rr),"'"+rr.replace(/\'/g,"\\'")+"'";if(Jn=Dr(Jn||Dn||Hn),!o.allow_script_urls){var ar=Jn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ar)||!o.allow_svg_data_urls&&/^data:image\/svg/i.test(ar))return""}return at&&(Jn=at.call(bt,Jn,"style")),"url('"+Jn.replace(/\'/g,"\\'")+"')"};if(Ae){for(Ae=Ae.replace(/[\u0000-\u001F]/g,""),Ae=Ae.replace(/\\[\"\';:\uFEFF]/g,Sn).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(An){return An.replace(/[;:]/g,Sn)});Ie=T.exec(Ae);)if(T.lastIndex=Ie.index+Ie[0].length,Ne=Ie[1].replace(O,"").toLowerCase(),Ke=Ie[2].replace(O,""),Ne&&Ke){if(Ne=pn(Ne),Ke=pn(Ke),Ne.indexOf(ge)!==-1||Ne.indexOf('"')!==-1||!o.allow_script_urls&&(Ne==="behavior"||/expression\s*\(|\/\*|\*\//.test(Ke)))continue;Ne==="font-weight"&&Ke==="700"?Ke="bold":(Ne==="color"||Ne==="background-color")&&(Ke=Ke.toLowerCase()),Ke=Ke.replace(m,Ir),Ke=Ke.replace(x,jr),De[Ne]=Ge?Dr(Ke,!0):Ke}nt("border","",!0),nt("border","-width"),nt("border","-color"),nt("border","-style"),nt("padding",""),nt("margin",""),Yt("border","border-width","border-style","border-color"),De.border==="medium none"&&delete De.border,De["border-image"]==="none"&&delete De["border-image"]}return De},serialize:function(Ae,De){var Ie="",Ne=function(Ge){var at,bt=Q[Ge];if(bt)for(var nt=0,Mt=bt.length;nt<Mt;nt++)Ge=bt[nt],at=Ae[Ge],at&&(Ie+=(Ie.length>0?" ":"")+Ge+": "+at+";")},Ke=function(Ge,at){var bt=pe["*"];return bt&&bt[Ge]?!1:(bt=pe[at],!(bt&&bt[Ge]))};return De&&Q?(Ne("*"),Ne(De)):wn(Ae,function(Ge,at){Ge&&(!pe||Ke(at,De))&&(Ie+=(Ie.length>0?" ":"")+at+": "+Ge+";")}),Ie}}},M_={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},_f=function(o){return o instanceof Event||te(o.initEvent)},YM=function(o){return o.isDefaultPrevented===mt||o.isDefaultPrevented===$e},Gi=function(o){return Y(o.preventDefault)||_f(o)},k_=function(o,s){var d=s??{};for(var m in o)Hr(M_,m)||(d[m]=o[m]);return ae(d.composedPath)&&(d.composedPath=function(){return o.composedPath()}),d},Fy=function(o,s,d,m){var x,T=k_(s,m);return T.type=o,Y(T.target)&&(T.target=(x=T.srcElement)!==null&&x!==void 0?x:d),Gi(s)&&(T.preventDefault=function(){T.defaultPrevented=!0,T.isDefaultPrevented=mt,te(s.preventDefault)?s.preventDefault():_f(s)&&(s.returnValue=!1)},T.stopPropagation=function(){T.cancelBubble=!0,T.isPropagationStopped=mt,te(s.stopPropagation)?s.stopPropagation():_f(s)&&(s.cancelBubble=!0)},T.stopImmediatePropagation=function(){T.isImmediatePropagationStopped=mt,T.stopPropagation()},YM(T)||(T.isDefaultPrevented=T.defaultPrevented===!0?mt:$e,T.isPropagationStopped=T.cancelBubble===!0?mt:$e,T.isImmediatePropagationStopped=$e)),T},nx="mce-data-",fn=/^(?:mouse|contextmenu)|click/,Vy=function(o,s,d,m){o.addEventListener?o.addEventListener(s,d,m||!1):o.attachEvent&&o.attachEvent("on"+s,d)},Kv=function(o,s,d,m){o.removeEventListener?o.removeEventListener(s,d,m||!1):o.detachEvent&&o.detachEvent("on"+s,d)},Jv=function(o){return ae(o)&&fn.test(o.type)},fg=function(o,s){var d=Fy(o.type,o,document,s);if(Jv(o)&&X(o.pageX)&&!X(o.clientX)){var m=d.target.ownerDocument||document,x=m.documentElement,T=m.body,O=d;O.pageX=o.clientX+(x&&x.scrollLeft||T&&T.scrollLeft||0)-(x&&x.clientLeft||T&&T.clientLeft||0),O.pageY=o.clientY+(x&&x.scrollTop||T&&T.scrollTop||0)-(x&&x.clientTop||T&&T.clientTop||0)}return X(d.metaKey)&&(d.metaKey=!1),d},dg=function(o,s,d){var m=o.document,x={type:"ready"};if(d.domLoaded){s(x);return}var T=function(){return m.readyState==="complete"||m.readyState==="interactive"&&m.body},O=function(){Kv(o,"DOMContentLoaded",O),Kv(o,"load",O),d.domLoaded||(d.domLoaded=!0,s(x)),o=null};T()?O():Vy(o,"DOMContentLoaded",O),d.domLoaded||Vy(o,"load",O)},Fp=function(){function o(){this.domLoaded=!1,this.events={},this.count=1,this.expando=nx+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return o.prototype.bind=function(s,d,m,x){var T=this,O,B,H,Q,pe,ge,ve,Ae=window,De=function(Ne){T.executeHandlers(fg(Ne||Ae.event),O)};if(!(!s||s.nodeType===3||s.nodeType===8)){s[T.expando]?O=s[T.expando]:(O=T.count++,s[T.expando]=O,T.events[O]={}),x=x||s;var Ie=d.split(" ");for(H=Ie.length;H--;){if(Q=Ie[H],ge=De,pe=ve=!1,Q==="DOMContentLoaded"&&(Q="ready"),T.domLoaded&&Q==="ready"&&s.readyState==="complete"){m.call(x,fg({type:Q}));continue}T.hasMouseEnterLeave||(pe=T.mouseEnterLeave[Q],pe&&(ge=function(Ne){var Ke=Ne.currentTarget,Ge=Ne.relatedTarget;if(Ge&&Ke.contains)Ge=Ke.contains(Ge);else for(;Ge&&Ge!==Ke;)Ge=Ge.parentNode;Ge||(Ne=fg(Ne||Ae.event),Ne.type=Ne.type==="mouseout"?"mouseleave":"mouseenter",Ne.target=Ke,T.executeHandlers(Ne,O))})),!T.hasFocusIn&&(Q==="focusin"||Q==="focusout")&&(ve=!0,pe=Q==="focusin"?"focus":"blur",ge=function(Ne){Ne=fg(Ne||Ae.event),Ne.type=Ne.type==="focus"?"focusin":"focusout",T.executeHandlers(Ne,O)}),B=T.events[O][Q],B?Q==="ready"&&T.domLoaded?m(fg({type:Q})):B.push({func:m,scope:x}):(T.events[O][Q]=B=[{func:m,scope:x}],B.fakeName=pe,B.capture=ve,B.nativeHandler=ge,Q==="ready"?dg(s,ge,T):Vy(s,pe||Q,ge,ve))}return s=B=null,m}},o.prototype.unbind=function(s,d,m){var x,T,O,B,H;if(!s||s.nodeType===3||s.nodeType===8)return this;var Q=s[this.expando];if(Q){if(H=this.events[Q],d){var pe=d.split(" ");for(T=pe.length;T--;)if(B=pe[T],x=H[B],x){if(m){for(O=x.length;O--;)if(x[O].func===m){var ge=x.nativeHandler,ve=x.fakeName,Ae=x.capture;x=x.slice(0,O).concat(x.slice(O+1)),x.nativeHandler=ge,x.fakeName=ve,x.capture=Ae,H[B]=x}}(!m||x.length===0)&&(delete H[B],Kv(s,x.fakeName||B,x.nativeHandler,x.capture))}}else wn(H,function(De,Ie){Kv(s,De.fakeName||Ie,De.nativeHandler,De.capture)}),H={};for(B in H)if(Hr(H,B))return this;delete this.events[Q];try{delete s[this.expando]}catch{s[this.expando]=null}}return this},o.prototype.fire=function(s,d,m){var x;if(!s||s.nodeType===3||s.nodeType===8)return this;var T=fg({type:d,target:s},m);do x=s[this.expando],x&&this.executeHandlers(T,x),s=s.parentNode||s.ownerDocument||s.defaultView||s.parentWindow;while(s&&!T.isPropagationStopped());return this},o.prototype.clean=function(s){var d,m;if(!s||s.nodeType===3||s.nodeType===8)return this;if(s[this.expando]&&this.unbind(s),s.getElementsByTagName||(s=s.document),s&&s.getElementsByTagName)for(this.unbind(s),m=s.getElementsByTagName("*"),d=m.length;d--;)s=m[d],s[this.expando]&&this.unbind(s);return this},o.prototype.destroy=function(){this.events={}},o.prototype.cancel=function(s){return s&&(s.preventDefault(),s.stopImmediatePropagation()),!1},o.prototype.executeHandlers=function(s,d){var m=this.events[d],x=m&&m[s.type];if(x)for(var T=0,O=x.length;T<O;T++){var B=x[T];if(B&&B.func.call(B.scope,s)===!1&&s.preventDefault(),s.isImmediatePropagationStopped())return}},o.Event=new o,o}(),Xa,na,Gh,ha,Ql,D_,Sf,rx,Ol,id,Xh,qu,ox,As,$u,Zv,L5,Hy,hu="sizzle"+-new Date,ir=window.document,Fc=0,B5=0,KM=R_(),Qv=R_(),JM=R_(),jy=function(o,s){return o===s&&(id=!0),0},qd="undefined",hg=1<<31,A_={}.hasOwnProperty,ad=[],z5=ad.pop,pg=ad.push,$d=ad.push,Vp=ad.slice,mg=ad.indexOf||function(o){for(var s=0,d=this.length;s<d;s++)if(this[s]===o)return s;return-1},ZM="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nu="[\\x20\\t\\r\\n\\f]",Hp="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",gg="\\["+nu+"*("+Hp+")(?:"+nu+"*([*^$|!~]?=)"+nu+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Hp+"))|)"+nu+"*\\]",ec=":("+Hp+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+gg+")*)|.*)\\)|)",Gu=new RegExp("^"+nu+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nu+"+$","g"),F5=new RegExp("^"+nu+"*,"+nu+"*"),V5=new RegExp("^"+nu+"*([>+~]|"+nu+")"+nu+"*"),H5=new RegExp("="+nu+`*([^\\]'"]*?)`+nu+"*\\]","g"),QM=new RegExp(ec),ud=new RegExp("^"+Hp+"$"),ix={ID:new RegExp("^#("+Hp+")"),CLASS:new RegExp("^\\.("+Hp+")"),TAG:new RegExp("^("+Hp+"|[*])"),ATTR:new RegExp("^"+gg),PSEUDO:new RegExp("^"+ec),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nu+"*(even|odd|(([+-]|)(\\d*)n|)"+nu+"*(?:([+-]|)"+nu+"*(\\d+)|))"+nu+"*\\)|)","i"),bool:new RegExp("^(?:"+ZM+")$","i"),needsContext:new RegExp("^"+nu+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nu+"*((?:-\\d)?\\d*)"+nu+"*\\)|)(?=[^-]|$)","i")},e0=/^(?:input|select|textarea|button)$/i,j5=/^h\d$/i,E_=/^[^{]+\{\s*\[native \w/,ek=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,O_=/[+~]/,I_=/'|\\/g,jp=new RegExp("\\\\([\\da-f]{1,6}"+nu+"?|("+nu+")|.)","ig"),Wp=function(o,s,d){var m="0x"+s-65536;return m!==m||d?s:m<0?String.fromCharCode(m+65536):String.fromCharCode(m>>10|55296,m&1023|56320)};try{$d.apply(ad=Vp.call(ir.childNodes),ir.childNodes),ad[ir.childNodes.length].nodeType}catch{$d={apply:ad.length?function(o,s){pg.apply(o,Vp.call(s))}:function(o,s){for(var d=o.length,m=0;o[d++]=s[m++];);o.length=d-1}}}var Fi=function(o,s,d,m){var x,T,O,B,H,Q,pe,ge,ve,Ae;if((s?s.ownerDocument||s:ir)!==qu&&Xh(s),s=s||qu,d=d||[],!o||typeof o!="string")return d;if((B=s.nodeType)!==1&&B!==9)return[];if(As&&!m){if(x=ek.exec(o))if(O=x[1]){if(B===9)if(T=s.getElementById(O),T&&T.parentNode){if(T.id===O)return d.push(T),d}else return d;else if(s.ownerDocument&&(T=s.ownerDocument.getElementById(O))&&Hy(s,T)&&T.id===O)return d.push(T),d}else{if(x[2])return $d.apply(d,s.getElementsByTagName(o)),d;if((O=x[3])&&Xa.getElementsByClassName)return $d.apply(d,s.getElementsByClassName(O)),d}if(Xa.qsa&&(!$u||!$u.test(o))){if(ge=pe=hu,ve=s,Ae=B===9&&o,B===1&&s.nodeName.toLowerCase()!=="object"){for(Q=Ql(o),(pe=s.getAttribute("id"))?ge=pe.replace(I_,"\\$&"):s.setAttribute("id",ge),ge="[id='"+ge+"'] ",H=Q.length;H--;)Q[H]=ge+Wy(Q[H]);ve=O_.test(o)&&Cf(s.parentNode)||s,Ae=Q.join(",")}if(Ae)try{return $d.apply(d,ve.querySelectorAll(Ae)),d}catch{}finally{pe||s.removeAttribute("id")}}}return Sf(o.replace(Gu,"$1"),s,d,m)};function R_(){var o=[];function s(d,m){return o.push(d+" ")>na.cacheLength&&delete s[o.shift()],s[d+" "]=m}return s}function Vc(o){return o[hu]=!0,o}function P_(o,s){var d=s&&o,m=d&&o.nodeType===1&&s.nodeType===1&&(~s.sourceIndex||hg)-(~o.sourceIndex||hg);if(m)return m;if(d){for(;d=d.nextSibling;)if(d===s)return-1}return o?1:-1}function W5(o){return function(s){var d=s.nodeName.toLowerCase();return d==="input"&&s.type===o}}function U5(o){return function(s){var d=s.nodeName.toLowerCase();return(d==="input"||d==="button")&&s.type===o}}function ll(o){return Vc(function(s){return s=+s,Vc(function(d,m){for(var x,T=o([],d.length,s),O=T.length;O--;)d[x=T[O]]&&(d[x]=!(m[x]=d[x]))})})}function Cf(o){return o&&typeof o.getElementsByTagName!==qd&&o}Xa=Fi.support={},ha=Fi.isXML=function(o){var s=o&&(o.ownerDocument||o).documentElement;return s?s.nodeName!=="HTML":!1},Xh=Fi.setDocument=function(o){var s,d=o?o.ownerDocument||o:ir,m=d.defaultView;function x(T){try{return T.top}catch{}return null}return d===qu||d.nodeType!==9||!d.documentElement?qu:(qu=d,ox=d.documentElement,As=!ha(d),m&&m!==x(m)&&(m.addEventListener?m.addEventListener("unload",function(){Xh()},!1):m.attachEvent&&m.attachEvent("onunload",function(){Xh()})),Xa.attributes=!0,Xa.getElementsByTagName=!0,Xa.getElementsByClassName=E_.test(d.getElementsByClassName),Xa.getById=!0,na.find.ID=function(T,O){if(typeof O.getElementById!==qd&&As){var B=O.getElementById(T);return B&&B.parentNode?[B]:[]}},na.filter.ID=function(T){var O=T.replace(jp,Wp);return function(B){return B.getAttribute("id")===O}},na.find.TAG=Xa.getElementsByTagName?function(T,O){if(typeof O.getElementsByTagName!==qd)return O.getElementsByTagName(T)}:function(T,O){var B,H=[],Q=0,pe=O.getElementsByTagName(T);if(T==="*"){for(;B=pe[Q++];)B.nodeType===1&&H.push(B);return H}return pe},na.find.CLASS=Xa.getElementsByClassName&&function(T,O){if(As)return O.getElementsByClassName(T)},Zv=[],$u=[],Xa.disconnectedMatch=!0,$u=$u.length&&new RegExp($u.join("|")),Zv=Zv.length&&new RegExp(Zv.join("|")),s=E_.test(ox.compareDocumentPosition),Hy=s||E_.test(ox.contains)?function(T,O){var B=T.nodeType===9?T.documentElement:T,H=O&&O.parentNode;return T===H||!!(H&&H.nodeType===1&&(B.contains?B.contains(H):T.compareDocumentPosition&&T.compareDocumentPosition(H)&16))}:function(T,O){if(O){for(;O=O.parentNode;)if(O===T)return!0}return!1},jy=s?function(T,O){if(T===O)return id=!0,0;var B=!T.compareDocumentPosition-!O.compareDocumentPosition;return B||(B=(T.ownerDocument||T)===(O.ownerDocument||O)?T.compareDocumentPosition(O):1,B&1||!Xa.sortDetached&&O.compareDocumentPosition(T)===B?T===d||T.ownerDocument===ir&&Hy(ir,T)?-1:O===d||O.ownerDocument===ir&&Hy(ir,O)?1:Ol?mg.call(Ol,T)-mg.call(Ol,O):0:B&4?-1:1)}:function(T,O){if(T===O)return id=!0,0;var B,H=0,Q=T.parentNode,pe=O.parentNode,ge=[T],ve=[O];if(!Q||!pe)return T===d?-1:O===d?1:Q?-1:pe?1:Ol?mg.call(Ol,T)-mg.call(Ol,O):0;if(Q===pe)return P_(T,O);for(B=T;B=B.parentNode;)ge.unshift(B);for(B=O;B=B.parentNode;)ve.unshift(B);for(;ge[H]===ve[H];)H++;return H?P_(ge[H],ve[H]):ge[H]===ir?-1:ve[H]===ir?1:0},d)},Fi.matches=function(o,s){return Fi(o,null,null,s)},Fi.matchesSelector=function(o,s){if((o.ownerDocument||o)!==qu&&Xh(o),s=s.replace(H5,"='$1']"),Xa.matchesSelector&&As&&(!Zv||!Zv.test(s))&&(!$u||!$u.test(s)))try{var d=L5.call(o,s);if(d||Xa.disconnectedMatch||o.document&&o.document.nodeType!==11)return d}catch{}return Fi(s,qu,null,[o]).length>0},Fi.contains=function(o,s){return(o.ownerDocument||o)!==qu&&Xh(o),Hy(o,s)},Fi.attr=function(o,s){(o.ownerDocument||o)!==qu&&Xh(o);var d=na.attrHandle[s.toLowerCase()],m=d&&A_.call(na.attrHandle,s.toLowerCase())?d(o,s,!As):void 0;return m!==void 0?m:Xa.attributes||!As?o.getAttribute(s):(m=o.getAttributeNode(s))&&m.specified?m.value:null},Fi.error=function(o){throw new Error("Syntax error, unrecognized expression: "+o)},Fi.uniqueSort=function(o){var s,d=[],m=0,x=0;if(id=!Xa.detectDuplicates,Ol=!Xa.sortStable&&o.slice(0),o.sort(jy),id){for(;s=o[x++];)s===o[x]&&(m=d.push(x));for(;m--;)o.splice(d[m],1)}return Ol=null,o},Gh=Fi.getText=function(o){var s,d="",m=0,x=o.nodeType;if(x){if(x===1||x===9||x===11){if(typeof o.textContent=="string")return o.textContent;for(o=o.firstChild;o;o=o.nextSibling)d+=Gh(o)}else if(x===3||x===4)return o.nodeValue}else for(;s=o[m++];)d+=Gh(s);return d},na=Fi.selectors={cacheLength:50,createPseudo:Vc,match:ix,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(o){return o[1]=o[1].replace(jp,Wp),o[3]=(o[3]||o[4]||o[5]||"").replace(jp,Wp),o[2]==="~="&&(o[3]=" "+o[3]+" "),o.slice(0,4)},CHILD:function(o){return o[1]=o[1].toLowerCase(),o[1].slice(0,3)==="nth"?(o[3]||Fi.error(o[0]),o[4]=+(o[4]?o[5]+(o[6]||1):2*(o[3]==="even"||o[3]==="odd")),o[5]=+(o[7]+o[8]||o[3]==="odd")):o[3]&&Fi.error(o[0]),o},PSEUDO:function(o){var s,d=!o[6]&&o[2];return ix.CHILD.test(o[0])?null:(o[3]?o[2]=o[4]||o[5]||"":d&&QM.test(d)&&(s=Ql(d,!0))&&(s=d.indexOf(")",d.length-s)-d.length)&&(o[0]=o[0].slice(0,s),o[2]=d.slice(0,s)),o.slice(0,3))}},filter:{TAG:function(o){var s=o.replace(jp,Wp).toLowerCase();return o==="*"?function(){return!0}:function(d){return d.nodeName&&d.nodeName.toLowerCase()===s}},CLASS:function(o){var s=KM[o+" "];return s||(s=new RegExp("(^|"+nu+")"+o+"("+nu+"|$)"))&&KM(o,function(d){return s.test(typeof d.className=="string"&&d.className||typeof d.getAttribute!==qd&&d.getAttribute("class")||"")})},ATTR:function(o,s,d){return function(m){var x=Fi.attr(m,o);return x==null?s==="!=":s?(x+="",s==="="?x===d:s==="!="?x!==d:s==="^="?d&&x.indexOf(d)===0:s==="*="?d&&x.indexOf(d)>-1:s==="$="?d&&x.slice(-d.length)===d:s==="~="?(" "+x+" ").indexOf(d)>-1:s==="|="?x===d||x.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(o,s,d,m,x){var T=o.slice(0,3)!=="nth",O=o.slice(-4)!=="last",B=s==="of-type";return m===1&&x===0?function(H){return!!H.parentNode}:function(H,Q,pe){var ge,ve,Ae,De,Ie,Ne,Ke=T!==O?"nextSibling":"previousSibling",Ge=H.parentNode,at=B&&H.nodeName.toLowerCase(),bt=!pe&&!B;if(Ge){if(T){for(;Ke;){for(Ae=H;Ae=Ae[Ke];)if(B?Ae.nodeName.toLowerCase()===at:Ae.nodeType===1)return!1;Ne=Ke=o==="only"&&!Ne&&"nextSibling"}return!0}if(Ne=[O?Ge.firstChild:Ge.lastChild],O&&bt){for(ve=Ge[hu]||(Ge[hu]={}),ge=ve[o]||[],Ie=ge[0]===Fc&&ge[1],De=ge[0]===Fc&&ge[2],Ae=Ie&&Ge.childNodes[Ie];Ae=++Ie&&Ae&&Ae[Ke]||(De=Ie=0)||Ne.pop();)if(Ae.nodeType===1&&++De&&Ae===H){ve[o]=[Fc,Ie,De];break}}else if(bt&&(ge=(H[hu]||(H[hu]={}))[o])&&ge[0]===Fc)De=ge[1];else for(;(Ae=++Ie&&Ae&&Ae[Ke]||(De=Ie=0)||Ne.pop())&&!((B?Ae.nodeName.toLowerCase()===at:Ae.nodeType===1)&&++De&&(bt&&((Ae[hu]||(Ae[hu]={}))[o]=[Fc,De]),Ae===H)););return De-=x,De===m||De%m===0&&De/m>=0}}},PSEUDO:function(o,s){var d,m=na.pseudos[o]||na.setFilters[o.toLowerCase()]||Fi.error("unsupported pseudo: "+o);return m[hu]?m(s):m.length>1?(d=[o,o,"",s],na.setFilters.hasOwnProperty(o.toLowerCase())?Vc(function(x,T){for(var O,B=m(x,s),H=B.length;H--;)O=mg.call(x,B[H]),x[O]=!(T[O]=B[H])}):function(x){return m(x,0,d)}):m}},pseudos:{not:Vc(function(o){var s=[],d=[],m=D_(o.replace(Gu,"$1"));return m[hu]?Vc(function(x,T,O,B){for(var H,Q=m(x,null,B,[]),pe=x.length;pe--;)(H=Q[pe])&&(x[pe]=!(T[pe]=H))}):function(x,T,O){return s[0]=x,m(s,null,O,d),s[0]=null,!d.pop()}}),has:Vc(function(o){return function(s){return Fi(o,s).length>0}}),contains:Vc(function(o){return o=o.replace(jp,Wp),function(s){return(s.textContent||s.innerText||Gh(s)).indexOf(o)>-1}}),lang:Vc(function(o){return ud.test(o||"")||Fi.error("unsupported lang: "+o),o=o.replace(jp,Wp).toLowerCase(),function(s){var d;do if(d=As?s.lang:s.getAttribute("xml:lang")||s.getAttribute("lang"))return d=d.toLowerCase(),d===o||d.indexOf(o+"-")===0;while((s=s.parentNode)&&s.nodeType===1);return!1}}),target:function(o){var s=window.location&&window.location.hash;return s&&s.slice(1)===o.id},root:function(o){return o===ox},focus:function(o){return o===qu.activeElement&&(!qu.hasFocus||qu.hasFocus())&&!!(o.type||o.href||~o.tabIndex)},enabled:function(o){return o.disabled===!1},disabled:function(o){return o.disabled===!0},checked:function(o){var s=o.nodeName.toLowerCase();return s==="input"&&!!o.checked||s==="option"&&!!o.selected},selected:function(o){return o.parentNode&&o.parentNode.selectedIndex,o.selected===!0},empty:function(o){for(o=o.firstChild;o;o=o.nextSibling)if(o.nodeType<6)return!1;return!0},parent:function(o){return!na.pseudos.empty(o)},header:function(o){return j5.test(o.nodeName)},input:function(o){return e0.test(o.nodeName)},button:function(o){var s=o.nodeName.toLowerCase();return s==="input"&&o.type==="button"||s==="button"},text:function(o){var s;return o.nodeName.toLowerCase()==="input"&&o.type==="text"&&((s=o.getAttribute("type"))==null||s.toLowerCase()==="text")},first:ll(function(){return[0]}),last:ll(function(o,s){return[s-1]}),eq:ll(function(o,s,d){return[d<0?d+s:d]}),even:ll(function(o,s){for(var d=0;d<s;d+=2)o.push(d);return o}),odd:ll(function(o,s){for(var d=1;d<s;d+=2)o.push(d);return o}),lt:ll(function(o,s,d){for(var m=d<0?d+s:d;--m>=0;)o.push(m);return o}),gt:ll(function(o,s,d){for(var m=d<0?d+s:d;++m<s;)o.push(m);return o})}},na.pseudos.nth=na.pseudos.eq,Ct(["radio","checkbox","file","password","image"],function(o){na.pseudos[o]=W5(o)}),Ct(["submit","reset"],function(o){na.pseudos[o]=U5(o)});function N_(){}N_.prototype=na.filters=na.pseudos,na.setFilters=new N_,Ql=Fi.tokenize=function(o,s){var d,m,x,T,O,B,H,Q=Qv[o+" "];if(Q)return s?0:Q.slice(0);for(O=o,B=[],H=na.preFilter;O;){(!d||(m=F5.exec(O)))&&(m&&(O=O.slice(m[0].length)||O),B.push(x=[])),d=!1,(m=V5.exec(O))&&(d=m.shift(),x.push({value:d,type:m[0].replace(Gu," ")}),O=O.slice(d.length));for(T in na.filter)na.filter.hasOwnProperty(T)&&(m=ix[T].exec(O))&&(!H[T]||(m=H[T](m)))&&(d=m.shift(),x.push({value:d,type:T,matches:m}),O=O.slice(d.length));if(!d)break}return s?O.length:O?Fi.error(o):Qv(o,B).slice(0)};function Wy(o){for(var s=0,d=o.length,m="";s<d;s++)m+=o[s].value;return m}function t0(o,s,d){var m=s.dir,x=d&&m==="parentNode",T=B5++;return s.first?function(O,B,H){for(;O=O[m];)if(O.nodeType===1||x)return o(O,B,H)}:function(O,B,H){var Q,pe,ge=[Fc,T];if(H){for(;O=O[m];)if((O.nodeType===1||x)&&o(O,B,H))return!0}else for(;O=O[m];)if(O.nodeType===1||x){if(pe=O[hu]||(O[hu]={}),(Q=pe[m])&&Q[0]===Fc&&Q[1]===T)return ge[2]=Q[2];if(pe[m]=ge,ge[2]=o(O,B,H))return!0}}}function L_(o){return o.length>1?function(s,d,m){for(var x=o.length;x--;)if(!o[x](s,d,m))return!1;return!0}:o[0]}function tk(o,s,d){for(var m=0,x=s.length;m<x;m++)Fi(o,s[m],d);return d}function Up(o,s,d,m,x){for(var T,O=[],B=0,H=o.length,Q=s!=null;B<H;B++)(T=o[B])&&(!d||d(T,m,x))&&(O.push(T),Q&&s.push(B));return O}function B_(o,s,d,m,x,T){return m&&!m[hu]&&(m=B_(m)),x&&!x[hu]&&(x=B_(x,T)),Vc(function(O,B,H,Q){var pe,ge,ve,Ae=[],De=[],Ie=B.length,Ne=O||tk(s||"*",H.nodeType?[H]:H,[]),Ke=o&&(O||!s)?Up(Ne,Ae,o,H,Q):Ne,Ge=d?x||(O?o:Ie||m)?[]:B:Ke;if(d&&d(Ke,Ge,H,Q),m)for(pe=Up(Ge,De),m(pe,[],H,Q),ge=pe.length;ge--;)(ve=pe[ge])&&(Ge[De[ge]]=!(Ke[De[ge]]=ve));if(O){if(x||o){if(x){for(pe=[],ge=Ge.length;ge--;)(ve=Ge[ge])&&pe.push(Ke[ge]=ve);x(null,Ge=[],pe,Q)}for(ge=Ge.length;ge--;)(ve=Ge[ge])&&(pe=x?mg.call(O,ve):Ae[ge])>-1&&(O[pe]=!(B[pe]=ve))}}else Ge=Up(Ge===B?Ge.splice(Ie,Ge.length):Ge),x?x(null,B,Ge,Q):$d.apply(B,Ge)})}function z_(o){for(var s,d,m,x=o.length,T=na.relative[o[0].type],O=T||na.relative[" "],B=T?1:0,H=t0(function(ge){return ge===s},O,!0),Q=t0(function(ge){return mg.call(s,ge)>-1},O,!0),pe=[function(ge,ve,Ae){var De=!T&&(Ae||ve!==rx)||((s=ve).nodeType?H(ge,ve,Ae):Q(ge,ve,Ae));return s=null,De}];B<x;B++)if(d=na.relative[o[B].type])pe=[t0(L_(pe),d)];else{if(d=na.filter[o[B].type].apply(null,o[B].matches),d[hu]){for(m=++B;m<x&&!na.relative[o[m].type];m++);return B_(B>1&&L_(pe),B>1&&Wy(o.slice(0,B-1).concat({value:o[B-2].type===" "?"*":""})).replace(Gu,"$1"),d,B<m&&z_(o.slice(B,m)),m<x&&z_(o=o.slice(m)),m<x&&Wy(o))}pe.push(d)}return L_(pe)}function ax(o,s){var d=s.length>0,m=o.length>0,x=function(T,O,B,H,Q){var pe,ge,ve,Ae=0,De="0",Ie=T&&[],Ne=[],Ke=rx,Ge=T||m&&na.find.TAG("*",Q),at=Fc+=Ke==null?1:Math.random()||.1,bt=Ge.length;for(Q&&(rx=O!==qu&&O);De!==bt&&(pe=Ge[De])!=null;De++){if(m&&pe){for(ge=0;ve=o[ge++];)if(ve(pe,O,B)){H.push(pe);break}Q&&(Fc=at)}d&&((pe=!ve&&pe)&&Ae--,T&&Ie.push(pe))}if(Ae+=De,d&&De!==Ae){for(ge=0;ve=s[ge++];)ve(Ie,Ne,O,B);if(T){if(Ae>0)for(;De--;)Ie[De]||Ne[De]||(Ne[De]=z5.call(H));Ne=Up(Ne)}$d.apply(H,Ne),Q&&!T&&Ne.length>0&&Ae+s.length>1&&Fi.uniqueSort(H)}return Q&&(Fc=at,rx=Ke),Ie};return d?Vc(x):x}D_=Fi.compile=function(o,s){var d,m=[],x=[],T=JM[o+" "];if(!T){for(s||(s=Ql(o)),d=s.length;d--;)T=z_(s[d]),T[hu]?m.push(T):x.push(T);T=JM(o,ax(x,m)),T.selector=o}return T},Sf=Fi.select=function(o,s,d,m){var x,T,O,B,H,Q=typeof o=="function"&&o,pe=!m&&Ql(o=Q.selector||o);if(d=d||[],pe.length===1){if(T=pe[0]=pe[0].slice(0),T.length>2&&(O=T[0]).type==="ID"&&Xa.getById&&s.nodeType===9&&As&&na.relative[T[1].type]){if(s=(na.find.ID(O.matches[0].replace(jp,Wp),s)||[])[0],s)Q&&(s=s.parentNode);else return d;o=o.slice(T.shift().value.length)}for(x=ix.needsContext.test(o)?0:T.length;x--&&(O=T[x],!na.relative[B=O.type]);)if((H=na.find[B])&&(m=H(O.matches[0].replace(jp,Wp),O_.test(T[0].type)&&Cf(s.parentNode)||s))){if(T.splice(x,1),o=m.length&&Wy(T),!o)return $d.apply(d,m),d;break}}return(Q||D_(o,pe))(m,s,!As,d,O_.test(o)&&Cf(s.parentNode)||s),d},Xa.sortStable=hu.split("").sort(jy).join("")===hu,Xa.detectDuplicates=!!id,Xh(),Xa.sortDetached=!0;var ux=document,vg=Array.prototype.push,nk=Array.prototype.slice,Xu=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,sd=Fp.Event,pu=qt.makeMap("children,contents,next,prev"),cl=function(o){return typeof o<"u"},Yh=function(o){return typeof o=="string"},Gd=function(o){return o&&o===o.window},F_=function(o,s){s=s||ux;var d=s.createElement("div"),m=s.createDocumentFragment();d.innerHTML=o;for(var x;x=d.firstChild;)m.appendChild(x);return m},tc=function(o,s,d,m){var x;if(Yh(s))s=F_(s,ru(o[0]));else if(s.length&&!s.nodeType){if(s=ho.makeArray(s),m)for(x=s.length-1;x>=0;x--)tc(o,s[x],d,m);else for(x=0;x<s.length;x++)tc(o,s[x],d,m);return o}if(s.nodeType)for(x=o.length;x--;)d.call(o[x],s);return o},n0=function(o,s){return o&&s&&(" "+o.className+" ").indexOf(" "+s+" ")!==-1},rk=function(o,s,d){var m,x;return s=ho(s)[0],o.each(function(){var T=this;(!d||m!==T.parentNode)&&(m=T.parentNode,x=s.cloneNode(!1),T.parentNode.insertBefore(x,T)),x.appendChild(T)}),o},q5=qt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),$5=qt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),G5={for:"htmlFor",class:"className",readonly:"readOnly"},X5={float:"cssFloat"},V_={},sx={},kc=function(o,s){return new ho.fn.init(o,s)},ok=function(o,s){var d;if(s.indexOf)return s.indexOf(o);for(d=s.length;d--;)if(s[d]===o)return d;return-1},qp=/^\s*|\s*$/g,Uy=function(o){return o==null?"":(""+o).replace(qp,"")},ld=function(o,s){var d,m,x,T;if(o)if(d=o.length,d===void 0){for(m in o)if(o.hasOwnProperty(m)&&(T=o[m],s.call(T,m,T)===!1))break}else for(x=0;x<d&&(T=o[x],s.call(T,x,T)!==!1);x++);return o},Hc=function(o,s){var d=[];return ld(o,function(m,x){s(x,m)&&d.push(x)}),d},ru=function(o){return o?o.nodeType===9?o:o.ownerDocument:ux};kc.fn=kc.prototype={constructor:kc,selector:"",context:null,length:0,init:function(o,s){var d=this,m,x;if(!o)return d;if(o.nodeType)return d.context=d[0]=o,d.length=1,d;if(s&&s.nodeType)d.context=s;else{if(s)return ho(o).attr(s);d.context=s=document}if(Yh(o))if(d.selector=o,o.charAt(0)==="<"&&o.charAt(o.length-1)===">"&&o.length>=3?m=[null,o,null]:m=Xu.exec(o),m)if(m[1])for(x=F_(o,ru(s)).firstChild;x;)vg.call(d,x),x=x.nextSibling;else{if(x=ru(s).getElementById(m[2]),!x)return d;if(x.id!==m[2])return d.find(o);d.length=1,d[0]=x}else return ho(s).find(o);else this.add(o,!1);return d},toArray:function(){return qt.toArray(this)},add:function(o,s){var d=this,m,x;if(Yh(o))return d.add(ho(o));if(s!==!1)for(m=ho.unique(d.toArray().concat(ho.makeArray(o))),d.length=m.length,x=0;x<m.length;x++)d[x]=m[x];else vg.apply(d,ho.makeArray(o));return d},attr:function(o,s){var d=this,m;if(typeof o=="object")ld(o,function(x,T){d.attr(x,T)});else if(cl(s))this.each(function(){var x;if(this.nodeType===1){if(x=V_[o],x&&x.set){x.set(this,s);return}s===null?this.removeAttribute(o,2):this.setAttribute(o,s,2)}});else{if(d[0]&&d[0].nodeType===1){if(m=V_[o],m&&m.get)return m.get(d[0],o);if($5[o])return d.prop(o)?o:void 0;s=d[0].getAttribute(o,2),s===null&&(s=void 0)}return s}return d},removeAttr:function(o){return this.attr(o,null)},prop:function(o,s){var d=this;if(o=G5[o]||o,typeof o=="object")ld(o,function(m,x){d.prop(m,x)});else if(cl(s))this.each(function(){this.nodeType===1&&(this[o]=s)});else return d[0]&&d[0].nodeType&&o in d[0]?d[0][o]:s;return d},css:function(o,s){var d=this,m,x,T=function(B){return B.replace(/-(\D)/g,function(H,Q){return Q.toUpperCase()})},O=function(B){return B.replace(/[A-Z]/g,function(H){return"-"+H})};if(typeof o=="object")ld(o,function(B,H){d.css(B,H)});else if(cl(s))o=T(o),typeof s=="number"&&!q5[o]&&(s=s.toString()+"px"),d.each(function(){var B=this.style;if(x=sx[o],x&&x.set){x.set(this,s);return}try{this.style[X5[o]||o]=s}catch{}(s===null||s==="")&&(B.removeProperty?B.removeProperty(O(o)):B.removeAttribute(o))});else{if(m=d[0],x=sx[o],x&&x.get)return x.get(m);if(m.ownerDocument.defaultView)try{return m.ownerDocument.defaultView.getComputedStyle(m,null).getPropertyValue(O(o))}catch{return}else return m.currentStyle?m.currentStyle[T(o)]:""}return d},remove:function(){for(var o=this,s,d=this.length;d--;)s=o[d],sd.clean(s),s.parentNode&&s.parentNode.removeChild(s);return this},empty:function(){for(var o=this,s,d=this.length;d--;)for(s=o[d];s.firstChild;)s.removeChild(s.firstChild);return this},html:function(o){var s=this,d;if(cl(o)){d=s.length;try{for(;d--;)s[d].innerHTML=o}catch{ho(s[d]).empty().append(o)}return s}return s[0]?s[0].innerHTML:""},text:function(o){var s=this,d;if(cl(o)){for(d=s.length;d--;)"innerText"in s[d]?s[d].innerText=o:s[0].textContent=o;return s}return s[0]?s[0].innerText||s[0].textContent:""},append:function(){return tc(this,arguments,function(o){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(o)})},prepend:function(){return tc(this,arguments,function(o){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(o,this.firstChild)},!0)},before:function(){var o=this;return o[0]&&o[0].parentNode?tc(o,arguments,function(s){this.parentNode.insertBefore(s,this)}):o},after:function(){var o=this;return o[0]&&o[0].parentNode?tc(o,arguments,function(s){this.parentNode.insertBefore(s,this.nextSibling)},!0):o},appendTo:function(o){return ho(o).append(this),this},prependTo:function(o){return ho(o).prepend(this),this},replaceWith:function(o){return this.before(o).remove()},wrap:function(o){return rk(this,o)},wrapAll:function(o){return rk(this,o,!0)},wrapInner:function(o){return this.each(function(){ho(this).contents().wrapAll(o)}),this},unwrap:function(){return this.parent().each(function(){ho(this).replaceWith(this.childNodes)})},clone:function(){var o=[];return this.each(function(){o.push(this.cloneNode(!0))}),ho(o)},addClass:function(o){return this.toggleClass(o,!0)},removeClass:function(o){return this.toggleClass(o,!1)},toggleClass:function(o,s){var d=this;return typeof o!="string"||(o.indexOf(" ")!==-1?ld(o.split(" "),function(){d.toggleClass(this,s)}):d.each(function(m,x){var T=n0(x,o);if(T!==s){var O=x.className;T?x.className=Uy((" "+O+" ").replace(" "+o+" "," ")):x.className+=O?" "+o:o}})),d},hasClass:function(o){return n0(this[0],o)},each:function(o){return ld(this,o)},on:function(o,s){return this.each(function(){sd.bind(this,o,s)})},off:function(o,s){return this.each(function(){sd.unbind(this,o,s)})},trigger:function(o){return this.each(function(){typeof o=="object"?sd.fire(this,o.type,o):sd.fire(this,o)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return ho(nk.apply(this,arguments))},eq:function(o){return o===-1?this.slice(o):this.slice(o,+o+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(o){var s,d,m=[];for(s=0,d=this.length;s<d;s++)ho.find(o,this[s],m);return ho(m)},filter:function(o){return ho(typeof o=="function"?Hc(this.toArray(),function(s,d){return o(d,s)}):ho.filter(o,this.toArray()))},closest:function(o){var s=[];return o instanceof ho&&(o=o[0]),this.each(function(d,m){for(;m;){if(typeof o=="string"&&ho(m).is(o)){s.push(m);break}else if(m===o){s.push(m);break}m=m.parentNode}}),ho(s)},offset:function(o){var s,d,m,x=0,T=0,O;return o?this.css(o):(s=this[0],s&&(d=s.ownerDocument,m=d.documentElement,s.getBoundingClientRect&&(O=s.getBoundingClientRect(),x=O.left+(m.scrollLeft||d.body.scrollLeft)-m.clientLeft,T=O.top+(m.scrollTop||d.body.scrollTop)-m.clientTop)),{left:x,top:T})},push:vg,sort:Array.prototype.sort,splice:Array.prototype.splice},qt.extend(kc,{extend:qt.extend,makeArray:function(o){return Gd(o)||o.nodeType?[o]:qt.toArray(o)},inArray:ok,isArray:qt.isArray,each:ld,trim:Uy,grep:Hc,find:Fi,expr:Fi.selectors,unique:Fi.uniqueSort,text:Fi.getText,contains:Fi.contains,filter:function(o,s,d){var m=s.length;for(d&&(o=":not("+o+")");m--;)s[m].nodeType!==1&&s.splice(m,1);return s.length===1?s=ho.find.matchesSelector(s[0],o)?[s[0]]:[]:s=ho.find.matches(o,s),s}});var Dc=function(o,s,d){var m=[],x=o[s];for(typeof d!="string"&&d instanceof ho&&(d=d[0]);x&&x.nodeType!==9&&!(d!==void 0&&(x===d||typeof d=="string"&&ho(x).is(d)));)x.nodeType===1&&m.push(x),x=x[s];return m},$p=function(o,s,d,m){var x=[];for(m instanceof ho&&(m=m[0]);o;o=o[s])if(!(d&&o.nodeType!==d)){if(m!==void 0&&(o===m||typeof m=="string"&&ho(o).is(m)))break;x.push(o)}return x},H_=function(o,s,d){for(o=o[s];o;o=o[s])if(o.nodeType===d)return o;return null};ld({parent:function(o){var s=o.parentNode;return s&&s.nodeType!==11?s:null},parents:function(o){return Dc(o,"parentNode")},next:function(o){return H_(o,"nextSibling",1)},prev:function(o){return H_(o,"previousSibling",1)},children:function(o){return $p(o.firstChild,"nextSibling",1)},contents:function(o){return qt.toArray((o.nodeName==="iframe"?o.contentDocument||o.contentWindow.document:o).childNodes)}},function(o,s){kc.fn[o]=function(d){var m=this,x=[];m.each(function(){var O=s.call(x,this,d,x);O&&(ho.isArray(O)?x.push.apply(x,O):x.push(O))}),this.length>1&&(pu[o]||(x=ho.unique(x)),o.indexOf("parents")===0&&(x=x.reverse()));var T=ho(x);return d?T.filter(d):T}}),ld({parentsUntil:function(o,s){return Dc(o,"parentNode",s)},nextUntil:function(o,s){return $p(o,"nextSibling",1,s).slice(1)},prevUntil:function(o,s){return $p(o,"previousSibling",1,s).slice(1)}},function(o,s){kc.fn[o]=function(d,m){var x=this,T=[];x.each(function(){var B=s.call(T,this,d,T);B&&(ho.isArray(B)?T.push.apply(T,B):T.push(B))}),this.length>1&&(T=ho.unique(T),(o.indexOf("parents")===0||o==="prevUntil")&&(T=T.reverse()));var O=ho(T);return m?O.filter(m):O}}),kc.fn.is=function(o){return!!o&&this.filter(o).length>0},kc.fn.init.prototype=kc.fn,kc.overrideDefaults=function(o){var s,d=function(m,x){return s=s||o(),arguments.length===0&&(m=s.element),x||(x=s.context),new d.fn.init(m,x)};return ho.extend(d,this),d},kc.attrHooks=V_,kc.cssHooks=sx;var ho=kc,qy=qt.each,Y5=qt.grep,lx=Cr.ie,cx=/^([a-z0-9],?)+$/i,K5=function(o,s,d){var m=s.keep_values,x={set:function(O,B,H){s.url_converter&&B!==null&&(B=s.url_converter.call(s.url_converter_scope||d(),B,H,O[0])),O.attr("data-mce-"+H,B).attr(H,B)},get:function(O,B){return O.attr("data-mce-"+B)||O.attr(B)}},T={style:{set:function(O,B){if(B!==null&&typeof B=="object"){O.css(B);return}m&&O.attr("data-mce-style",B),B!==null&&typeof B=="string"?(O.removeAttr("style"),O.css(o.parse(B))):O.attr("style",B)},get:function(O){var B=O.attr("data-mce-style")||O.attr("style");return B=o.serialize(o.parse(B),O[0].nodeName),B}}};return m&&(T.href=T.src=x),T},mu=function(o,s){var d=s.attr("style"),m=o.serialize(o.parse(d),s[0].nodeName);m||(m=null),s.attr("data-mce-style",m)},qs=function(o,s){var d=0,m,x;if(o)for(m=o.nodeType,o=o.previousSibling;o;o=o.previousSibling)x=o.nodeType,!(s&&x===3&&(x===m||!o.nodeValue.length))&&(d++,m=x);return d},ra=function(o,s){s===void 0&&(s={});var d={},m=window,x={},T=0,O=!0,B=!0,H=vf.forElement(U.fromDom(o),{contentCssCors:s.contentCssCors,referrerPolicy:s.referrerPolicy}),Q=[],pe=s.schema?s.schema:ko({}),ge=$h({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope},s.schema),ve=s.ownEvents?new Fp:Fp.Event,Ae=pe.getBlockElements(),De=ho.overrideDefaults(function(){return{context:o,element:fb.getRoot()}}),Ie=function(ut){if(typeof ut=="string")return!!Ae[ut];if(ut){var Ht=ut.nodeType;if(Ht)return!!(Ht===1&&Ae[ut.nodeName])}return!1},Ne=function(ut){return ut&&o&&R(ut)?o.getElementById(ut):ut},Ke=function(ut){return De(typeof ut=="string"?Ne(ut):ut)},Ge=function(ut,Ht,In){var Vn,lo,fi=Ke(ut);return fi.length&&(Vn=bP[Ht],Vn&&Vn.get?lo=Vn.get(fi,Ht):lo=fi.attr(Ht)),typeof lo>"u"&&(lo=In||""),lo},at=function(ut){var Ht=Ne(ut);return Ht?Ht.attributes:[]},bt=function(ut,Ht,In){In===""&&(In=null);var Vn=Ke(ut),lo=Vn.attr(Ht);if(Vn.length){var fi=bP[Ht];fi&&fi.set?fi.set(Vn,In,Ht):Vn.attr(Ht,In),lo!==In&&s.onSetAttrib&&s.onSetAttrib({attrElm:Vn,attrName:Ht,attrValue:In})}},nt=function(ut,Ht){if(!lx||ut.nodeType!==1||Ht)return ut.cloneNode(Ht);var In=o.createElement(ut.nodeName);return qy(at(ut),function(Vn){bt(In,Vn.nodeName,Ge(ut,Vn.nodeName))}),In},Mt=function(){return s.root_element||o.body},Yt=function(ut){var Ht=Bh(ut);return{x:Ht.x,y:Ht.y,w:Ht.width,h:Ht.height}},Sn=function(ut,Ht){return ky(o.body,Ne(ut),Ht)},Dr=function(ut,Ht,In){var Vn=R(Ht)?Ke(ut).css(Ht,In):Ke(ut).css(Ht);s.update_styles&&mu(ge,Vn)},Qn=function(ut,Ht){var In=Ke(ut).css(Ht);s.update_styles&&mu(ge,In)},pn=function(ut,Ht,In){var Vn=Ke(ut);return In?Vn.css(Ht):(Ht=Ht.replace(/-(\D)/g,function(lo,fi){return fi.toUpperCase()}),Ht==="float"&&(Ht=Cr.browser.isIE()?"styleFloat":"cssFloat"),Vn[0]&&Vn[0].style?Vn[0].style[Ht]:void 0)},jr=function(ut){var Ht,In;return ut=Ne(ut),Ht=pn(ut,"width"),In=pn(ut,"height"),Ht.indexOf("px")===-1&&(Ht=0),In.indexOf("px")===-1&&(In=0),{w:parseInt(Ht,10)||ut.offsetWidth||ut.clientWidth,h:parseInt(In,10)||ut.offsetHeight||ut.clientHeight}},An=function(ut){ut=Ne(ut);var Ht=Sn(ut),In=jr(ut);return{x:Ht.x,y:Ht.y,w:In.w,h:In.h}},Jn=function(ut,Ht){var In;if(!ut)return!1;if(!Array.isArray(ut)){if(Ht==="*")return ut.nodeType===1;if(cx.test(Ht)){var Vn=Ht.toLowerCase().split(/,/),lo=ut.nodeName.toLowerCase();for(In=Vn.length-1;In>=0;In--)if(Vn[In]===lo)return!0;return!1}if(ut.nodeType&&ut.nodeType!==1)return!1}var fi=Array.isArray(ut)?ut:[ut];return Fi(Ht,fi[0].ownerDocument||fi[0],null,fi).length>0},Dn=function(ut,Ht,In,Vn){var lo=[],fi,ga=Ne(ut);for(Vn=Vn===void 0,In=In||(Mt().nodeName!=="BODY"?Mt().parentNode:null),qt.is(Ht,"string")&&(fi=Ht,Ht==="*"?Ht=function(K0){return K0.nodeType===1}:Ht=function(K0){return Jn(K0,fi)});ga&&!(ga===In||Y(ga.nodeType)||My(ga)||fo(ga));){if(!Ht||typeof Ht=="function"&&Ht(ga))if(Vn)lo.push(ga);else return[ga];ga=ga.parentNode}return Vn?lo:null},Hn=function(ut,Ht,In){var Vn=Dn(ut,Ht,In,!1);return Vn&&Vn.length>0?Vn[0]:null},rr=function(ut,Ht,In){var Vn=Ht;if(ut){for(typeof Ht=="string"&&(Vn=function(lo){return Jn(lo,Ht)}),ut=ut[In];ut;ut=ut[In])if(typeof Vn=="function"&&Vn(ut))return ut}return null},xn=function(ut,Ht){return rr(ut,Ht,"nextSibling")},ar=function(ut,Ht){return rr(ut,Ht,"previousSibling")},oo=function(ut,Ht){return Fi(ut,Ne(Ht)||s.root_element||o,[])},xi=function(ut,Ht,In){var Vn,lo=typeof ut=="string"?Ne(ut):ut;if(!lo)return!1;if(qt.isArray(lo)&&(lo.length||lo.length===0))return Vn=[],qy(lo,function(ga,K0){ga&&Vn.push(Ht.call(In,typeof ga=="string"?Ne(ga):ga,K0))}),Vn;var fi=In||this;return Ht.call(fi,lo)},Wo=function(ut,Ht){Ke(ut).each(function(In,Vn){qy(Ht,function(lo,fi){bt(Vn,fi,lo)})})},gu=function(ut,Ht){var In=Ke(ut);lx?In.each(function(Vn,lo){if(lo.canHaveHTML!==!1){for(;lo.firstChild;)lo.removeChild(lo.firstChild);try{lo.innerHTML="<br>"+Ht,lo.removeChild(lo.firstChild)}catch{ho("<div></div>").html("<br>"+Ht).contents().slice(1).appendTo(lo)}return Ht}}):In.html(Ht)},Du=function(ut,Ht,In,Vn,lo){return xi(ut,function(fi){var ga=typeof Ht=="string"?o.createElement(Ht):Ht;return Wo(ga,In),Vn&&(typeof Vn!="string"&&Vn.nodeType?ga.appendChild(Vn):typeof Vn=="string"&&gu(ga,Vn)),lo?ga:fi.appendChild(ga)})},Oc=function(ut,Ht,In){return Du(o.createElement(ut),ut,Ht,In,!0)},ef=Mc.decode,yn=Mc.encodeAllRaw,zt=function(ut,Ht,In){var Vn="",lo;Vn+="<"+ut;for(lo in Ht)ui(Ht,lo)&&(Vn+=" "+lo+'="'+yn(Ht[lo])+'"');return typeof In<"u"?Vn+">"+In+"</"+ut+">":Vn+" />"},Cn=function(ut){var Ht,In=o.createElement("div"),Vn=o.createDocumentFragment();for(Vn.appendChild(In),ut&&(In.innerHTML=ut);Ht=In.firstChild;)Vn.appendChild(Ht);return Vn.removeChild(In),Vn},Vt=function(ut,Ht){var In=Ke(ut);return Ht?In.each(function(){for(var Vn;Vn=this.firstChild;)Vn.nodeType===3&&Vn.data.length===0?this.removeChild(Vn):this.parentNode.insertBefore(Vn,this)}).remove():In.remove(),In.length>1?In.toArray():In[0]},fr=function(ut){return xi(ut,function(Ht){var In,Vn=Ht.attributes;for(In=Vn.length-1;In>=0;In--)Ht.removeAttributeNode(Vn.item(In))})},Fn=function(ut){return ge.parse(ut)},Fr=function(ut,Ht){return ge.serialize(ut,Ht)},Do=function(ut){var Ht,In;if(fb!==ra.DOM&&o===document){if(d[ut])return;d[ut]=!0}In=o.getElementById("mceDefaultStyles"),In||(In=o.createElement("style"),In.id="mceDefaultStyles",In.type="text/css",Ht=o.getElementsByTagName("head")[0],Ht.firstChild?Ht.insertBefore(In,Ht.firstChild):Ht.appendChild(In)),In.styleSheet?In.styleSheet.cssText+=ut:In.appendChild(o.createTextNode(ut))},ma=function(ut){ut||(ut=""),Ct(ut.split(","),function(Ht){x[Ht]=!0,H.load(Ht,le)})},Ll=function(ut,Ht,In){Ke(ut).toggleClass(Ht,In).each(function(){this.className===""&&ho(this).attr("class",null)})},cc=function(ut,Ht){Ke(ut).addClass(Ht)},_d=function(ut,Ht){Ll(ut,Ht,!1)},Bl=function(ut,Ht){return Ke(ut).hasClass(Ht)},zl=function(ut){Ke(ut).show()},zu=function(ut){Ke(ut).hide()},hv=function(ut){return Ke(ut).css("display")==="none"},Ps=function(ut){return(ut||"mce_")+T++},Sd=function(ut){var Ht=typeof ut=="string"?Ne(ut):ut;return Xr(Ht)?Ht.outerHTML:ho("<div></div>").append(ho(Ht).clone()).html()},Am=function(ut,Ht){Ke(ut).each(function(){try{if("outerHTML"in this){this.outerHTML=Ht;return}}catch{}Vt(ho(this).html(Ht),!0)})},Ea=function(ut,Ht){var In=Ne(Ht);return xi(ut,function(Vn){var lo=In.parentNode,fi=In.nextSibling;return fi?lo.insertBefore(Vn,fi):lo.appendChild(Vn),Vn})},Zi=function(ut,Ht,In){return xi(Ht,function(Vn){return qt.is(Vn,"array")&&(ut=ut.cloneNode(!0)),In&&qy(Y5(Vn.childNodes),function(lo){ut.appendChild(lo)}),Vn.parentNode.replaceChild(ut,Vn)})},Au=function(ut,Ht){var In;return ut.nodeName!==Ht.toUpperCase()&&(In=Oc(Ht),qy(at(ut),function(Vn){bt(In,Vn.nodeName,Ge(ut,Vn.nodeName))}),Zi(In,ut,!0)),In||ut},dh=function(ut,Ht){for(var In=ut,Vn;In;){for(Vn=Ht;Vn&&In!==Vn;)Vn=Vn.parentNode;if(In===Vn)break;In=In.parentNode}return!In&&ut.ownerDocument?ut.ownerDocument.documentElement:In},Em=function(ut){return ge.toHex(qt.trim(ut))},hh=function(ut){if(Xr(ut)){var Ht=ut.nodeName.toLowerCase()==="a"&&!Ge(ut,"href")&&Ge(ut,"id");if(Ge(ut,"name")||Ge(ut,"data-mce-bookmark")||Ht)return!0}return!1},mp=function(ut,Ht){var In,Vn,lo=0;if(hh(ut))return!1;if(ut=ut.firstChild,ut){var fi=new mi(ut,ut.parentNode),ga=pe?pe.getWhiteSpaceElements():{};Ht=Ht||(pe?pe.getNonEmptyElements():null);do{if(In=ut.nodeType,Xr(ut)){var K0=ut.getAttribute("data-mce-bogus");if(K0){ut=fi.next(K0==="all");continue}if(Vn=ut.nodeName.toLowerCase(),Ht&&Ht[Vn]){if(Vn==="br"){lo++,ut=fi.next();continue}return!1}if(hh(ut))return!1}if(In===8||In===3&&!bf(ut.nodeValue)||In===3&&ut.parentNode&&ga[ut.parentNode.nodeName]&&bf(ut.nodeValue))return!1;ut=fi.next()}while(ut)}return lo<=1},yT=function(){return o.createRange()},WX=function(ut,Ht,In){var Vn=yT(),lo,fi,ga;if(ut&&Ht)return Vn.setStart(ut.parentNode,qs(ut)),Vn.setEnd(Ht.parentNode,qs(Ht)),lo=Vn.extractContents(),Vn=yT(),Vn.setStart(Ht.parentNode,qs(Ht)+1),Vn.setEnd(ut.parentNode,qs(ut)+1),fi=Vn.extractContents(),ga=ut.parentNode,ga.insertBefore(w_(fb,lo),ut),In?ga.insertBefore(In,ut):ga.insertBefore(Ht,ut),ga.insertBefore(w_(fb,fi),ut),Vt(ut),In||Ht},w7=function(ut,Ht,In,Vn){if(qt.isArray(ut)){for(var lo=ut.length,fi=[];lo--;)fi[lo]=w7(ut[lo],Ht,In,Vn);return fi}s.collect&&(ut===o||ut===m)&&Q.push([ut,Ht,In,Vn]);var ga=ve.bind(ut,Ht,In,Vn||fb);return ga},bT=function(ut,Ht,In){if(qt.isArray(ut)){for(var Vn=ut.length,lo=[];Vn--;)lo[Vn]=bT(ut[Vn],Ht,In);return lo}else{if(Q.length>0&&(ut===o||ut===m))for(var Vn=Q.length;Vn--;){var fi=Q[Vn];ut===fi[0]&&(!Ht||Ht===fi[1])&&(!In||In===fi[2])&&ve.unbind(fi[0],fi[1],fi[2])}return ve.unbind(ut,Ht,In)}},_7=function(ut,Ht,In){return ve.fire(ut,Ht,In)},yP=function(ut){if(ut&&Xr(ut)){var Ht=ut.getAttribute("data-mce-contenteditable");return Ht&&Ht!=="inherit"?Ht:ut.contentEditable!=="inherit"?ut.contentEditable:null}else return null},UX=function(ut){for(var Ht=Mt(),In=null;ut&&ut!==Ht&&(In=yP(ut),In===null);ut=ut.parentNode);return In},S7=function(){if(Q.length>0)for(var ut=Q.length;ut--;){var Ht=Q[ut];ve.unbind(Ht[0],Ht[1],Ht[2])}wn(x,function(In,Vn){H.unload(Vn),delete x[Vn]}),Fi.setDocument&&Fi.setDocument()},qX=function(ut,Ht){if(lx){for(;ut;){if(Ht===ut)return!0;ut=ut.parentNode}return!1}else return ut===Ht||Ht.contains(ut)},$X=function(ut){return"startContainer: "+ut.startContainer.nodeName+", startOffset: "+ut.startOffset+", endContainer: "+ut.endContainer.nodeName+", endOffset: "+ut.endOffset},fb={doc:o,settings:s,win:m,files:x,stdMode:O,boxModel:B,styleSheetLoader:H,boundEvents:Q,styles:ge,schema:pe,events:ve,isBlock:Ie,$:De,$$:Ke,root:null,clone:nt,getRoot:Mt,getViewPort:Yt,getRect:An,getSize:jr,getParent:Hn,getParents:Dn,get:Ne,getNext:xn,getPrev:ar,select:oo,is:Jn,add:Du,create:Oc,createHTML:zt,createFragment:Cn,remove:Vt,setStyle:Dr,getStyle:pn,setStyles:Qn,removeAllAttribs:fr,setAttrib:bt,setAttribs:Wo,getAttrib:Ge,getPos:Sn,parseStyle:Fn,serializeStyle:Fr,addStyle:Do,loadCSS:ma,addClass:cc,removeClass:_d,hasClass:Bl,toggleClass:Ll,show:zl,hide:zu,isHidden:hv,uniqueId:Ps,setHTML:gu,getOuterHTML:Sd,setOuterHTML:Am,decode:ef,encode:yn,insertAfter:Ea,replace:Zi,rename:Au,findCommonAncestor:dh,toHex:Em,run:xi,getAttribs:at,isEmpty:mp,createRng:yT,nodeIndex:qs,split:WX,bind:w7,unbind:bT,fire:_7,getContentEditable:yP,getContentEditableParent:UX,destroy:S7,isChildOf:qX,dumpRng:$X},bP=K5(ge,s,Z(fb));return fb};ra.DOM=ra(document),ra.nodeIndex=qs;var ik=ra.DOM,j_=qt.each,yg=qt.grep,ak=0,bg=1,r0=2,uk=3,Xd=function(){function o(s){s===void 0&&(s={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=s}return o.prototype._setReferrerPolicy=function(s){this.settings.referrerPolicy=s},o.prototype.loadScript=function(s,d,m){var x=ik,T,O=function(){x.remove(Q),T&&(T.onerror=T.onload=T=null)},B=function(){O(),d()},H=function(){O(),te(m)?m():typeof console<"u"&&console.log&&console.log("Failed to load script: "+s)},Q=x.uniqueId();T=document.createElement("script"),T.id=Q,T.type="text/javascript",T.src=qt._addCacheSuffix(s),this.settings.referrerPolicy&&x.setAttrib(T,"referrerpolicy",this.settings.referrerPolicy),T.onload=B,T.onerror=H,(document.getElementsByTagName("head")[0]||document.body).appendChild(T)},o.prototype.isDone=function(s){return this.states[s]===r0},o.prototype.markDone=function(s){this.states[s]=r0},o.prototype.add=function(s,d,m,x){var T=this.states[s];this.queue.push(s),T===void 0&&(this.states[s]=ak),d&&(this.scriptLoadedCallbacks[s]||(this.scriptLoadedCallbacks[s]=[]),this.scriptLoadedCallbacks[s].push({success:d,failure:x,scope:m||this}))},o.prototype.load=function(s,d,m,x){return this.add(s,d,m,x)},o.prototype.remove=function(s){delete this.states[s],delete this.scriptLoadedCallbacks[s]},o.prototype.loadQueue=function(s,d,m){this.loadScripts(this.queue,s,d,m)},o.prototype.loadScripts=function(s,d,m,x){var T=this,O=[],B=function(Q,pe){j_(T.scriptLoadedCallbacks[pe],function(ge){te(ge[Q])&&ge[Q].call(ge.scope)}),T.scriptLoadedCallbacks[pe]=void 0};T.queueLoadedCallbacks.push({success:d,failure:x,scope:m||this});var H=function(){var Q=yg(s);if(s.length=0,j_(Q,function(ge){if(T.states[ge]===r0){B("success",ge);return}if(T.states[ge]===uk){B("failure",ge);return}T.states[ge]!==bg&&(T.states[ge]=bg,T.loading++,T.loadScript(ge,function(){T.states[ge]=r0,T.loading--,B("success",ge),H()},function(){T.states[ge]=uk,T.loading--,O.push(ge),B("failure",ge),H()}))}),!T.loading){var pe=T.queueLoadedCallbacks.slice(0);T.queueLoadedCallbacks.length=0,j_(pe,function(ge){O.length===0?te(ge.success)&&ge.success.call(ge.scope):te(ge.failure)&&ge.failure.call(ge.scope,O)})}};H()},o.ScriptLoader=new o,o}(),fl=function(o){var s=o,d=function(){return s},m=function(x){s=x};return{get:d,set:m}},J5=function(o){return I(o)&&Hr(o,"raw")},Z5=function(o){return z(o)&&o.length>1},xg={},W_=fl("en"),Gp=function(){return zr(xg,W_.get())},wg=function(){return er(xg,function(o){return dr({},o)})},U_=function(o){o&&W_.set(o)},Q5=function(){return W_.get()},eO=function(o,s){var d=xg[o];d||(xg[o]=d={}),wn(s,function(m,x){d[x.toLowerCase()]=m})},_g=function(o){var s=Gp().getOr({}),d=function(H){return te(H)?Object.prototype.toString.call(H):m(H)?"":""+H},m=function(H){return H===""||H===null||H===void 0},x=function(H){var Q=d(H);return zr(s,Q.toLowerCase()).map(d).getOr(Q)},T=function(H){return H.replace(/{context:\w+}$/,"")};if(m(o))return"";if(J5(o))return d(o.raw);if(Z5(o)){var O=o.slice(1),B=x(o[0]).replace(/\{([0-9]+)\}/g,function(H,Q){return Hr(O,Q)?d(O[Q]):H});return T(B)}return T(x(o))},Sg=function(){return Gp().bind(function(o){return zr(o,"_dir")}).exists(function(o){return o==="rtl"})},fx=function(o){return Hr(xg,o)},_o={getData:wg,setCode:U_,getCode:Q5,add:eO,translate:_g,isRtl:Sg,hasCode:fx},Pi=function(){var o=[],s={},d={},m=[],x=function(Ie,Ne){var Ke=Xe(m,function(Ge){return Ge.name===Ie&&Ge.state===Ne});Ct(Ke,function(Ge){return Ge.callback()})},T=function(Ie){if(d[Ie])return d[Ie].instance},O=function(Ie){var Ne;return d[Ie]&&(Ne=d[Ie].dependencies),Ne||[]},B=function(Ie,Ne){Pi.languageLoad!==!1&&De(Ie,function(){var Ke=_o.getCode(),Ge=","+(Ne||"")+",";!Ke||Ne&&Ge.indexOf(","+Ke+",")===-1||Xd.ScriptLoader.add(s[Ie]+"/langs/"+Ke+".js")},"loaded")},H=function(Ie,Ne,Ke){var Ge=Ne;return o.push(Ge),d[Ie]={instance:Ge,dependencies:Ke},x(Ie,"added"),Ge},Q=function(Ie){delete s[Ie],delete d[Ie]},pe=function(Ie,Ne){return typeof Ne=="object"?Ne:typeof Ie=="string"?{prefix:"",resource:Ne,suffix:""}:{prefix:Ie.prefix,resource:Ne,suffix:Ie.suffix}},ge=function(Ie,Ne){var Ke=s[Ie];Ct(Ne,function(Ge){Xd.ScriptLoader.add(Ke+"/"+Ge)})},ve=function(Ie,Ne,Ke,Ge){var at=O(Ie);Ct(at,function(bt){var nt=pe(Ne,bt);Ae(nt.resource,nt,void 0,void 0)}),Ke&&(Ge?Ke.call(Ge):Ke.call(Xd))},Ae=function(Ie,Ne,Ke,Ge,at){if(!s[Ie]){var bt=typeof Ne=="string"?Ne:Ne.prefix+Ne.resource+Ne.suffix;bt.indexOf("/")!==0&&bt.indexOf("://")===-1&&(bt=Pi.baseURL+"/"+bt),s[Ie]=bt.substring(0,bt.lastIndexOf("/"));var nt=function(){x(Ie,"loaded"),ve(Ie,Ne,Ke,Ge)};d[Ie]?nt():Xd.ScriptLoader.add(bt,nt,Ge,at)}},De=function(Ie,Ne,Ke){Ke===void 0&&(Ke="added"),Hr(d,Ie)&&Ke==="added"||Hr(s,Ie)&&Ke==="loaded"?Ne():m.push({name:Ie,state:Ke,callback:Ne})};return{items:o,urls:s,lookup:d,_listeners:m,get:T,dependencies:O,requireLangPack:B,add:H,remove:Q,createUrl:pe,addComponents:ge,load:Ae,waitFor:De}};Pi.languageLoad=!0,Pi.baseURL="",Pi.PluginManager=Pi(),Pi.ThemeManager=Pi();var Cg=function(o){var s=fl(fe.none()),d=function(){return s.get().each(o)},m=function(){d(),s.set(fe.none())},x=function(){return s.get().isSome()},T=function(){return s.get()},O=function(B){d(),s.set(fe.some(B))};return{clear:m,isSet:x,get:T,set:O}},Xp=function(){var o=Cg(le),s=function(d){return o.get().each(d)};return dr(dr({},o),{on:s})},Ci=function(o,s){var d=null,m=function(){L(d)||(clearTimeout(d),d=null)},x=function(){for(var T=[],O=0;O<arguments.length;O++)T[O]=arguments[O];L(d)&&(d=setTimeout(function(){d=null,o.apply(null,T)},s))};return{cancel:m,throttle:x}},dx=function(o,s){var d=null,m=function(){L(d)||(clearTimeout(d),d=null)},x=function(){for(var T=[],O=0;O<arguments.length;O++)T[O]=arguments[O];m(),d=setTimeout(function(){d=null,o.apply(null,T)},s)};return{cancel:m,throttle:x}},hx=function(o,s){var d=xe(o,s);return d===void 0||d===""?[]:d.split(" ")},Yu=function(o,s,d){var m=hx(o,s),x=m.concat([d]);return J(o,s,x.join(" ")),!0},Yp=function(o,s,d){var m=Xe(hx(o,s),function(x){return x!==d});return m.length>0?J(o,s,m.join(" ")):Zt(o,s),!1},px=function(o){return o.dom.classList!==void 0},tO=function(o){return hx(o,"class")},nO=function(o,s){return Yu(o,"class",s)},mx=function(o,s){return Yp(o,"class",s)},o0=function(o,s){px(o)?o.dom.classList.add(s):nO(o,s)},q_=function(o){var s=px(o)?o.dom.classList:tO(o);s.length===0&&Zt(o,"class")},gx=function(o,s){if(px(o)){var d=o.dom.classList;d.remove(s)}else mx(o,s);q_(o)},i0=function(o,s){return px(o)&&o.dom.classList.contains(s)},vx=function(o,s){var d=[];return Ct(Hs(o),function(m){s(m)&&(d=d.concat([m])),d=d.concat(vx(m,s))}),d},Il=function(o,s){return Kr(s,o)},Tg=Z("mce-annotation"),Yd=Z("data-mce-annotation"),Rl=Z("data-mce-annotation-uid"),sk=function(o,s){var d=o.selection.getRng(),m=U.fromDom(d.startContainer),x=U.fromDom(o.getBody()),T=s.fold(function(){return"."+Tg()},function(Q){return"["+Yd()+'="'+Q+'"]'}),O=Jf(m,d.startOffset).getOr(m),B=Ga(O,T,function(Q){return Vr(Q,x)}),H=function(Q,pe){return yt(Q,pe)?fe.some(xe(Q,pe)):fe.none()};return B.bind(function(Q){return H(Q,""+Rl()).bind(function(pe){return H(Q,""+Yd()).map(function(ge){var ve=$_(o,pe);return{uid:pe,name:ge,elements:ve}})})})},fs=function(o){return la(o)&&i0(o,Tg())},$_=function(o,s){var d=U.fromDom(o.getBody());return Il(d,"["+Rl()+'="'+s+'"]')},Kh=function(o,s){var d=U.fromDom(o.getBody()),m=Il(d,"["+Yd()+'="'+s+'"]'),x={};return Ct(m,function(T){var O=xe(T,Rl()),B=zr(x,O).getOr([]);x[O]=B.concat([T])}),x},G_=function(o,s){var d=fl({}),m=function(){return{listeners:[],previous:Xp()}},x=function(pe,ge){T(pe,function(ve){return ge(ve),ve})},T=function(pe,ge){var ve=d.get(),Ae=zr(ve,pe).getOrThunk(m),De=ge(Ae);ve[pe]=De,d.set(ve)},O=function(pe,ge,ve){x(pe,function(Ae){Ct(Ae.listeners,function(De){return De(!0,pe,{uid:ge,nodes:Ft(ve,function(Ie){return Ie.dom})})})})},B=function(pe){x(pe,function(ge){Ct(ge.listeners,function(ve){return ve(!1,pe)})})},H=dx(function(){var pe=d.get(),ge=vt(an(pe));Ct(ge,function(ve){T(ve,function(Ae){var De=Ae.previous.get();return sk(o,fe.some(ve)).fold(function(){De.isSome()&&(B(ve),Ae.previous.clear())},function(Ie){var Ne=Ie.uid,Ke=Ie.name,Ge=Ie.elements;og(De,Ne)||(O(Ke,Ne,Ge),Ae.previous.set(Ne))}),{previous:Ae.previous,listeners:Ae.listeners}})})},30);o.on("remove",function(){H.cancel()}),o.on("NodeChange",function(){H.throttle()});var Q=function(pe,ge){T(pe,function(ve){return{previous:ve.previous,listeners:ve.listeners.concat([ge])}})};return{addListener:Q}},X_=function(o,s){var d=function(m){return fe.from(m.attr(Yd())).bind(s.lookup)};o.on("init",function(){o.serializer.addNodeFilter("span",function(m){Ct(m,function(x){d(x).each(function(T){T.persistent===!1&&x.unwrap()})})})})},lk=function(){var o={},s=function(m,x){o[m]={name:m,settings:x}},d=function(m){return zr(o,m).map(function(x){return x.settings})};return{register:s,lookup:d}},yx=0,a0=function(o){var s=new Date,d=s.getTime(),m=Math.floor(Math.random()*1e9);return yx++,o+"_"+m+yx+String(d)},Y_=function(o,s){Ct(s,function(d){o0(o,d)})},rO=function(o,s){var d=s||document,m=d.createElement("div");return m.innerHTML=o,Hs(U.fromDom(m))},oO=function(o){return Ft(o,U.fromDom)},Es=function(o){return o.dom.innerHTML},Cu=function(o,s){var d=pf(o),m=d.dom,x=U.fromDom(m.createDocumentFragment()),T=rO(s,m);Ih(x,T),Rh(o),wu(o,x)},$s=function(o,s){return U.fromDom(o.dom.cloneNode(s))},Ku=function(o){return $s(o,!1)},Pl=function(o){return $s(o,!0)},ds=function(o,s,d){d===void 0&&(d=$e);var m=new mi(o,s),x=function(T){var O;do O=m[T]();while(O&&!or(O)&&!d(O));return fe.from(O).filter(or)};return{current:function(){return fe.from(m.current()).filter(or)},next:function(){return x("next")},prev:function(){return x("prev")},prev2:function(){return x("prev2")}}},bx=function(o,s){var d=s||function(O){return o.isBlock(O)||Ii(O)||ca(O)},m=function(O,B,H,Q){if(or(O)){var pe=Q(O,B,O.data);if(pe!==-1)return fe.some({container:O,offset:pe})}return H().bind(function(ge){return m(ge.container,ge.offset,H,Q)})},x=function(O,B,H,Q){var pe=ds(O,Q,d);return m(O,B,function(){return pe.prev().map(function(ge){return{container:ge,offset:ge.length}})},H).getOrNull()},T=function(O,B,H,Q){var pe=ds(O,Q,d);return m(O,B,function(){return pe.next().map(function(ge){return{container:ge,offset:0}})},H).getOrNull()};return{backwards:x,forwards:T}},Kp=Math.round,Jp=function(o){return o?{left:Kp(o.left),top:Kp(o.top),bottom:Kp(o.bottom),right:Kp(o.right),width:Kp(o.width),height:Kp(o.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},K_=function(o,s){return o=Jp(o),s||(o.left=o.left+o.width),o.right=o.left,o.width=0,o},ck=function(o,s){return o.left===s.left&&o.top===s.top&&o.bottom===s.bottom&&o.right===s.right},xx=function(o,s,d){return o>=0&&o<=Math.min(s.height,d.height)/2},Jh=function(o,s){var d=Math.min(s.height/2,o.height/2);return o.bottom-d<s.top?!0:o.top>s.bottom?!1:xx(s.top-o.bottom,o,s)},Zp=function(o,s){return o.top>s.bottom?!0:o.bottom<s.top?!1:xx(s.bottom-o.top,o,s)},fk=function(o,s,d){return s>=o.left&&s<=o.right&&d>=o.top&&d<=o.bottom},iO=function(o,s,d){return Math.min(Math.max(o,s),d)},_x=function(o){var s=o.startContainer,d=o.startOffset;return s.hasChildNodes()&&o.endOffset===d+1?s.childNodes[d]:null},dl=function(o,s){if(Xr(o)&&o.hasChildNodes()){var d=o.childNodes,m=iO(s,0,d.length-1);return d[m]}else return o},Sx=function(o,s){if(!(s<0&&Xr(o)&&o.hasChildNodes()))return dl(o,s)},Tu=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),dk=function(o){return typeof o=="string"&&o.charCodeAt(0)>=768&&Tu.test(o)},aO=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return function(d){for(var m=0;m<o.length;m++)if(o[m](d))return!0;return!1}},J_=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return function(d){for(var m=0;m<o.length;m++)if(!o[m](d))return!1;return!0}},hk=Xr,pk=Wd,zn=al("display","block table"),uO=al("float","left right"),Ya=J_(hk,pk,_t(uO)),Z_=_t(al("white-space","pre pre-line pre-wrap")),Mg=or,Cx=Ii,nc=ra.nodeIndex,u0=Sx,$y=function(o){return"createRange"in o?o.createRange():ra.DOM.createRng()},Tx=function(o){return o&&/[\r\n\t ]/.test(o)},Kd=function(o){return!!o.setStart&&!!o.setEnd},Gy=function(o){var s=o.startContainer,d=o.startOffset;if(Tx(o.toString())&&Z_(s.parentNode)&&or(s)){var m=s.data;if(Tx(m[d-1])||Tx(m[d+1]))return!0}return!1},Mx=function(o){var s=o.ownerDocument,d=$y(s),m=s.createTextNode(Kl),x=o.parentNode;x.insertBefore(m,o),d.setStart(m,0),d.setEnd(m,1);var T=Jp(d.getBoundingClientRect());return x.removeChild(m),T},rc=function(o){var s=o.startContainer,d=o.endContainer,m=o.startOffset,x=o.endOffset;if(s===d&&or(d)&&m===0&&x===1){var T=o.cloneRange();return T.setEndAfter(d),Zh(T)}else return null},Tf=function(o){return o.left===0&&o.right===0&&o.top===0&&o.bottom===0},Zh=function(o){var s,d=o.getClientRects();return d.length>0?s=Jp(d[0]):s=Jp(o.getBoundingClientRect()),!Kd(o)&&Cx(o)&&Tf(s)?Mx(o):Tf(s)&&Kd(o)?rc(o):s},Mu=function(o,s){var d=K_(o,s);return d.width=1,d.right=d.left+1,d},Q_=function(o){var s=[],d=function(H){H.height!==0&&(s.length>0&&ck(H,s[s.length-1])||s.push(H))},m=function(H,Q){var pe=$y(H.ownerDocument);if(Q<H.data.length){if(dk(H.data[Q]))return s;if(dk(H.data[Q-1])&&(pe.setStart(H,Q),pe.setEnd(H,Q+1),!Gy(pe)))return d(Mu(Zh(pe),!1)),s}Q>0&&(pe.setStart(H,Q-1),pe.setEnd(H,Q),Gy(pe)||d(Mu(Zh(pe),!1))),Q<H.data.length&&(pe.setStart(H,Q),pe.setEnd(H,Q+1),Gy(pe)||d(Mu(Zh(pe),!0)))},x=o.container(),T=o.offset();if(Mg(x))return m(x,T),s;if(hk(x))if(o.isAtEnd()){var O=u0(x,T);Mg(O)&&m(O,O.data.length),Ya(O)&&!Cx(O)&&d(Mu(Zh(O),!1))}else{var O=u0(x,T);if(Mg(O)&&m(O,0),Ya(O)&&o.isAtEnd())return d(Mu(Zh(O),!1)),s;var B=u0(o.container(),o.offset()-1);Ya(B)&&!Cx(B)&&(zn(B)||zn(O)||!Ya(O))&&d(Mu(Zh(B),!1)),Ya(O)&&d(Mu(Zh(O),!0))}return s},Wt=function(o,s,d){var m=function(){return Mg(o),s===0},x=function(){return Mg(o)?s>=o.data.length:s>=o.childNodes.length},T=function(){var pe=$y(o.ownerDocument);return pe.setStart(o,s),pe.setEnd(o,s),pe},O=function(){return d||(d=Q_(Wt(o,s))),d},B=function(){return O().length>0},H=function(pe){return pe&&o===pe.container()&&s===pe.offset()},Q=function(pe){return u0(o,pe?s-1:s)};return{container:Z(o),offset:Z(s),toRange:T,getClientRects:O,isVisible:B,isAtStart:m,isAtEnd:x,isEqual:H,getNode:Q}};Wt.fromRangeStart=function(o){return Wt(o.startContainer,o.startOffset)},Wt.fromRangeEnd=function(o){return Wt(o.endContainer,o.endOffset)},Wt.after=function(o){return Wt(o.parentNode,nc(o)+1)},Wt.before=function(o){return Wt(o.parentNode,nc(o))},Wt.isAbove=function(o,s){return js(hn(s.getClientRects()),Bn(o.getClientRects()),Jh).getOr(!1)},Wt.isBelow=function(o,s){return js(Bn(s.getClientRects()),hn(o.getClientRects()),Zp).getOr(!1)},Wt.isAtStart=function(o){return o?o.isAtStart():!1},Wt.isAtEnd=function(o){return o?o.isAtEnd():!1},Wt.isTextPosition=function(o){return o?or(o.container()):!1},Wt.isElementPosition=function(o){return Wt.isTextPosition(o)===!1};var Qp=function(o,s){or(s)&&s.data.length===0&&o.remove(s)},Xy=function(o,s,d){s.insertNode(d),Qp(o,d.previousSibling),Qp(o,d.nextSibling)},s0=function(o,s,d){var m=fe.from(d.firstChild),x=fe.from(d.lastChild);s.insertNode(d),m.each(function(T){return Qp(o,T.previousSibling)}),x.each(function(T){return Qp(o,T.nextSibling)})},em=function(o,s,d){fo(d)?s0(o,s,d):Xy(o,s,d)},cd=or,eS=$a,tS=ra.nodeIndex,kx=function(o){var s=o.parentNode;return eS(s)?kx(s):s},Dx=function(o){return o?Pa(o.childNodes,function(s,d){return eS(d)&&d.nodeName!=="BR"?s=s.concat(Dx(d)):s.push(d),s},[]):[]},mk=function(o,s){for(;(o=o.previousSibling)&&cd(o);)s+=o.data.length;return s},nS=function(o){return function(s){return o===s}},rS=function(o){var s,d;s=Dx(kx(o)),d=co(s,nS(o),o),s=s.slice(0,d+1);var m=Pa(s,function(x,T,O){return cd(T)&&cd(s[O-1])&&x++,x},0);return s=ea(s,xc([o.nodeName])),d=co(s,nS(o),o),d-m},oS=function(o){var s;return cd(o)?s="text()":s=o.nodeName.toLowerCase(),s+"["+rS(o)+"]"},iS=function(o,s,d){var m=[];for(s=s.parentNode;s!==o&&!(d&&d(s));s=s.parentNode)m.push(s);return m},aS=function(o,s){var d,m,x=[],T,O,B;return d=s.container(),m=s.offset(),cd(d)?T=mk(d,m):(O=d.childNodes,m>=O.length?(T="after",m=O.length-1):T="before",d=O[m]),x.push(oS(d)),B=iS(o,d),B=ea(B,_t($a)),x=x.concat(Ra(B,function(H){return oS(H)})),x.reverse().join("/")+","+T},kg=function(o,s,d){var m=Dx(o);return m=ea(m,function(x,T){return!cd(x)||!cd(m[T-1])}),m=ea(m,xc([s])),m[d]},sO=function(o,s){for(var d=o,m=0,x;cd(d);){if(x=d.data.length,s>=m&&s<=m+x){o=d,s=s-m;break}if(!cd(d.nextSibling)){o=d,s=x;break}m+=x,d=d.nextSibling}return cd(o)&&s>o.data.length&&(s=o.data.length),Wt(o,s)},gk=function(o,s){var d;if(!s)return null;var m=s.split(","),x=m[0].split("/");d=m.length>1?m[1]:"before";var T=Pa(x,function(O,B){var H=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(B);return H?(H[1]==="text()"&&(H[1]="#text"),kg(O,H[1],parseInt(H[2],10))):null},o);return T?cd(T)?sO(T,parseInt(d,10)):(d==="after"?d=tS(T)+1:d=tS(T),Wt(T.parentNode,d)):null},Ax=ca,Yy=function(o,s,d){var m,x;for(x=o(s.data.slice(0,d)).length,m=s.previousSibling;m&&or(m);m=m.previousSibling)x+=o(m.data).length;return x},Ex=function(o,s,d,m,x){var T=m[x?"startContainer":"endContainer"],O=m[x?"startOffset":"endOffset"],B=[],H,Q=0,pe=o.getRoot();for(or(T)?B.push(d?Yy(s,T,O):O):(H=T.childNodes,O>=H.length&&H.length&&(Q=1,O=Math.max(0,H.length-1)),B.push(o.nodeIndex(H[O],d)+Q));T&&T!==pe;T=T.parentNode)B.push(o.nodeIndex(T,d));return B},Ox=function(o,s,d,m){var x=s.dom,T={};return T.start=Ex(x,o,d,m,!0),s.isCollapsed()||(T.end=Ex(x,o,d,m,!1)),jd(m)&&(T.isFakeCaret=!0),T},Ix=function(o,s,d){var m=0;return qt.each(o.select(s),function(x){if(x.getAttribute("data-mce-bogus")!=="all"){if(x===d)return!1;m++}}),m},Dg=function(o,s){var d,m,x,T=s?"start":"end";d=o[T+"Container"],m=o[T+"Offset"],Xr(d)&&d.nodeName==="TR"&&(x=d.childNodes,d=x[Math.min(s?m:m-1,x.length-1)],d&&(m=s?0:d.childNodes.length,o["set"+(s?"Start":"End")](d,m)))},vk=function(o){return Dg(o,!0),Dg(o,!1),o},za=function(o,s){var d;if(Xr(o)&&(o=dl(o,s),Ax(o)))return o;if(El(o)&&(or(o)&&Ri(o)&&(o=o.parentNode),d=o.previousSibling,Ax(d)||(d=o.nextSibling,Ax(d))))return d},Rx=function(o){return za(o.startContainer,o.startOffset)||za(o.endContainer,o.endOffset)},Ka=function(o,s,d){var m=d.getNode(),x=m?m.nodeName:null,T=d.getRng();if(Ax(m)||x==="IMG")return{name:x,index:Ix(d.dom,x,m)};var O=Rx(T);return O?(x=O.tagName,{name:x,index:Ix(d.dom,x,O)}):Ox(o,d,s,T)},Px=function(o){var s=o.getRng();return{start:aS(o.dom.getRoot(),Wt.fromRangeStart(s)),end:aS(o.dom.getRoot(),Wt.fromRangeEnd(s))}},l0=function(o){return{rng:o.getRng()}},Nx=function(o,s,d){var m={"data-mce-type":"bookmark",id:s,style:"overflow:hidden;line-height:0px"};return d?o.create("span",m,"&#xFEFF;"):o.create("span",m)},c0=function(o,s){var d=o.dom,m=o.getRng(),x=d.uniqueId(),T=o.isCollapsed(),O=o.getNode(),B=O.nodeName;if(B==="IMG")return{name:B,index:Ix(d,B,O)};var H=vk(m.cloneRange());if(!T){H.collapse(!1);var Q=Nx(d,x+"_end",s);em(d,H,Q)}m=vk(m),m.collapse(!0);var pe=Nx(d,x+"_start",s);return em(d,m,pe),o.moveToBookmark({id:x,keep:!0}),{id:x}},yk=function(o,s,d){return s===2?Ka(od,d,o):s===3?Px(o):s?l0(o):c0(o,!1)},bk=ke(Ka,Ce,!0),lO=ra.DOM,cO="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",xk=function(o,s,d){var m=o.getParam(s,d);if(m.indexOf("=")!==-1){var x=o.getParam(s,"","hash");return zr(x,o.id).getOr(d)}else return m},Lx=function(o){return o.getParam("iframe_attrs",{})},Bx=function(o){return o.getParam("doctype","<!DOCTYPE html>")},fO=function(o){return o.getParam("document_base_url","")},wk=function(o){return xk(o,"body_id","tinymce")},uS=function(o){return xk(o,"body_class","")},_k=function(o){return o.getParam("content_security_policy","")},dO=function(o){return o.getParam("br_in_pre",!0)},hs=function(o){if(o.getParam("force_p_newlines",!1))return"p";var s=o.getParam("forced_root_block","p");return s===!1?"":s===!0?"p":s},Ag=function(o){return o.getParam("forced_root_block_attrs",{})},sS=function(o){return o.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Sk=function(o){return o.getParam("no_newline_selector","")},f0=function(o){return o.getParam("keep_styles",!0)},Ck=function(o){return o.getParam("end_container_on_empty_block",!1)},hO=function(o){return qt.explode(o.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Ky=function(o){return qt.explode(o.getParam("font_size_classes",""))},Jy=function(o){return o.getParam("images_dataimg_filter",mt,"function")},tm=function(o){return o.getParam("automatic_uploads",!0,"boolean")},zx=function(o){return o.getParam("images_reuse_filename",!1,"boolean")},Fx=function(o){return o.getParam("images_replace_blob_uris",!0,"boolean")},Vx=function(o){return o.getParam("icons","","string")},pO=function(o){return o.getParam("icons_url","","string")},Qh=function(o){return o.getParam("images_upload_url","","string")},Hx=function(o){return o.getParam("images_upload_base_path","","string")},mO=function(o){return o.getParam("images_upload_credentials",!1,"boolean")},nm=function(o){return o.getParam("images_upload_handler",null,"function")},rm=function(o){return o.getParam("content_css_cors",!1,"boolean")},Tk=function(o){return o.getParam("referrer_policy","","string")},Zy=function(o){return o.getParam("language","en","string")},lS=function(o){return o.getParam("language_url","","string")},jx=function(o){return o.getParam("indent_use_margin",!1)},Ju=function(o){return o.getParam("indentation","40px","string")},gO=function(o){var s=o.getParam("content_css");return R(s)?Ft(s.split(","),We):z(s)?s:s===!1||o.inline?[]:["default"]},Wx=function(o){var s=o.getParam("font_css",[]);return z(s)?s:Ft(s.split(","),We)},Mk=function(o){return o.getParam("directionality",_o.isRtl()?"rtl":void 0)},vO=function(o){return o.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Mf=function(o){var s=o.getParam("object_resizing");return s===!1||Cr.iOS?!1:R(s)?s:"table,img,figure.image,div,video,iframe"},ep=function(o){return o.getParam("resize_img_proportional",!0,"boolean")},yO=function(o){return o.getParam("placeholder",lO.getAttrib(o.getElement(),"placeholder"),"string")},cS=function(o){return o.getParam("event_root")},fS=function(o){return o.getParam("service_message")},Eg=function(o){return o.getParam("theme")},kk=function(o){return o.getParam("validate")},d0=function(o){return o.getParam("inline_boundaries")!==!1},bO=function(o){return o.getParam("formats")},xO=function(o){var s=o.getParam("preview_styles",cO);return R(s)?s:""},wO=function(o){return o.getParam("format_empty_lines",!1,"boolean")},h0=function(o){return o.getParam("custom_ui_selector","","string")},Og=function(o){return o.getParam("theme_url")},dS=function(o){return o.getParam("inline")},Dk=function(o){return o.getParam("hidden_input")},_O=function(o){return o.getParam("submit_patch")},Ak=function(o){return o.getParam("encoding")==="xml"},Ek=function(o){return o.getParam("add_form_submit_trigger")},hS=function(o){return o.getParam("add_unload_trigger")},SO=function(o){return hs(o)!==""},Ux=function(o){return o.getParam("custom_undo_redo_levels",0,"number")},CO=function(o){return o.getParam("disable_nodechange")},Qy=function(o){return o.getParam("readonly")},TO=function(o){return o.getParam("content_css_cors")},pS=function(o){return o.getParam("plugins","","string")},MO=function(o){return o.getParam("external_plugins")},Ok=function(o){return o.getParam("block_unsupported_drop",!0,"boolean")},kO=function(o){return o.getParam("visual",!0,"boolean")},p0=function(o){return o.getParam("visual_table_class","mce-item-table","string")},Ik=function(o){return o.getParam("visual_anchor_class","mce-item-anchor","string")},DO=function(o){return o.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},mS=Xr,gS=or,qx=function(o){var s=o.parentNode;s&&s.removeChild(o)},Rk=function(o){var s=od(o);return{count:o.length-s.length,text:s}},Pk=function(o){for(var s;(s=o.data.lastIndexOf(dt))!==-1;)o.deleteData(s,1)},m0=function(o,s){return Ig(o),s},Nk=function(o,s){var d=Rk(o.data.substr(0,s.offset())),m=Rk(o.data.substr(s.offset())),x=d.text+m.text;return x.length>0?(Pk(o),Wt(o,s.offset()-d.count)):s},Lk=function(o,s){var d=s.container(),m=Ue(bn(d.childNodes),o).map(function(x){return x<s.offset()?Wt(d,s.offset()-1):s}).getOr(s);return Ig(o),m},AO=function(o,s){return gS(o)&&s.container()===o?Nk(o,s):m0(o,s)},EO=function(o,s){return s.container()===o.parentNode?Lk(o,s):m0(o,s)},vS=function(o,s){return Wt.isTextPosition(s)?AO(o,s):EO(o,s)},Ig=function(o){mS(o)&&El(o)&&(jh(o)?o.removeAttribute("data-mce-caret"):qx(o)),gS(o)&&(Pk(o),o.data.length===0&&qx(o))},$x=yr().browser,Bk=ca,Gx=kl,zk=Nv,OO="*[contentEditable=false],video,audio,embed,object",yS=function(o,s,d){var m=K_(s.getBoundingClientRect(),d),x,T;if(o.tagName==="BODY"){var O=o.ownerDocument.documentElement;x=o.scrollLeft||O.scrollLeft,T=o.scrollTop||O.scrollTop}else{var B=o.getBoundingClientRect();x=o.scrollLeft-B.left,T=o.scrollTop-B.top}m.left+=x,m.right+=x,m.top+=T,m.bottom+=T,m.width=1;var H=s.offsetWidth-s.clientWidth;return H>0&&(d&&(H*=-1),m.left+=H,m.right+=H),m},IO=function(o){for(var s=Il(U.fromDom(o),OO),d=0;d<s.length;d++){var m=s[d].dom,x=m.previousSibling;if(Ny(x)){var T=x.data;T.length===1?x.parentNode.removeChild(x):x.deleteData(T.length-1,1)}if(x=m.nextSibling,Py(x)){var T=x.data;T.length===1?x.parentNode.removeChild(x):x.deleteData(0,1)}}},Fk=function(o,s,d,m){var x=Xp(),T,O,B=hs(o),H=B.length>0?B:"p",Q=function(Ie,Ne){var Ke;if(pe(),zk(Ne))return null;if(d(Ne)){O=jM(H,Ne,Ie);var Ge=yS(s,Ne,Ie);ho(O).css("top",Ge.top);var at=ho('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(dr({},Ge)).appendTo(s)[0];x.set({caret:at,element:Ne,before:Ie}),Ie&&ho(at).addClass("mce-visual-caret-before"),ge(),Ke=Ne.ownerDocument.createRange(),Ke.setStart(O,0),Ke.setEnd(O,0)}else return O=h_(Ne,Ie),Ke=Ne.ownerDocument.createRange(),Ru(O.nextSibling)?(Ke.setStart(O,0),Ke.setEnd(O,0)):(Ke.setStart(O,1),Ke.setEnd(O,1)),Ke;return Ke},pe=function(){IO(s),O&&(Ig(O),O=null),x.on(function(Ie){ho(Ie.caret).remove(),x.clear()}),T&&(ks.clearInterval(T),T=void 0)},ge=function(){T=ks.setInterval(function(){m()?ho("div.mce-visual-caret",s).toggleClass("mce-visual-caret-hidden"):ho("div.mce-visual-caret",s).addClass("mce-visual-caret-hidden")},500)},ve=function(){x.on(function(Ie){var Ne=yS(s,Ie.element,Ie.before);ho(Ie.caret).css(dr({},Ne))})},Ae=function(){return ks.clearInterval(T)},De=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:Q,hide:pe,getCss:De,reposition:ve,destroy:Ae}},Rg=function(){return $x.isIE()||$x.isEdge()||$x.isFirefox()},Ru=function(o){return Bk(o)||Gx(o)},om=function(o){return Ru(o)||tu(o)&&Rg()},Xx=ca,RO=kl,Vk=al("display","block table table-cell table-caption list-item"),Hk=El,bS=Ri,xS=Xr,oc=Wd,tp=function(o){return o>0},Pg=function(o){return o<0},e1=function(o,s){for(var d;d=o(s);)if(!bS(d))return d;return null},Ng=function(o,s,d,m,x){var T=new mi(o,m),O=Xx(o)||bS(o);if(Pg(s)){if(O&&(o=e1(T.prev.bind(T),!0),d(o)))return o;for(;o=e1(T.prev.bind(T),x);)if(d(o))return o}if(tp(s)){if(O&&(o=e1(T.next.bind(T),!0),d(o)))return o;for(;o=e1(T.next.bind(T),x);)if(d(o))return o}return null},Jd=function(o,s){for(;o&&o!==s;){if(Vk(o))return o;o=o.parentNode}return null},kf=function(o,s,d){return Jd(o.container(),d)===Jd(s.container(),d)},g0=function(o,s){if(!s)return null;var d=s.container(),m=s.offset();return xS(d)?d.childNodes[m+o]:null},wS=function(o,s){var d=s.ownerDocument.createRange();return o?(d.setStartBefore(s),d.setEndBefore(s)):(d.setStartAfter(s),d.setEndAfter(s)),d},jk=function(o,s,d){return Jd(s,o)===Jd(d,o)},Yx=function(o,s,d){for(var m=o?"previousSibling":"nextSibling";d&&d!==s;){var x=d[m];if(Hk(x)&&(x=x[m]),Xx(x)||RO(x)){if(jk(s,x,d))return x;break}if(oc(x))break;d=d.parentNode}return null},Lg=ke(wS,!0),np=ke(wS,!1),Kx=function(o,s,d){var m,x=ke(Yx,!0,s),T=ke(Yx,!1,s),O=d.startContainer,B=d.startOffset;if(Ri(O)){xS(O)||(O=O.parentNode);var H=O.getAttribute("data-mce-caret");if(H==="before"&&(m=O.nextSibling,om(m)))return Lg(m);if(H==="after"&&(m=O.previousSibling,om(m)))return np(m)}if(!d.collapsed)return d;if(or(O)){if(Hk(O)){if(o===1){if(m=T(O),m)return Lg(m);if(m=x(O),m)return np(m)}if(o===-1){if(m=x(O),m)return np(m);if(m=T(O),m)return Lg(m)}return d}if(Ny(O)&&B>=O.data.length-1)return o===1&&(m=T(O),m)?Lg(m):d;if(Py(O)&&B<=1)return o===-1&&(m=x(O),m)?np(m):d;if(B===O.data.length)return m=T(O),m?Lg(m):d;if(B===0)return m=x(O),m?np(m):d}return d},_S=function(o,s){return fe.from(g0(o?0:-1,s)).filter(Xx)},Zu=function(o,s,d){var m=Kx(o,s,d);return o===-1?Wt.fromRangeStart(m):Wt.fromRangeEnd(m)},im=function(o){return fe.from(o.getNode()).map(U.fromDom)},Wk=function(o){return fe.from(o.getNode(!0)).map(U.fromDom)},SS=function(o,s){for(;s=o(s);)if(s.isVisible())return s;return s},Jx=function(o,s){var d=kf(o,s);return!d&&Ii(o.getNode())?!0:d},ps;(function(o){o[o.Backwards=-1]="Backwards",o[o.Forwards=1]="Forwards"})(ps||(ps={}));var PO=ca,Zd=or,Uk=Xr,CS=Ii,am=Wd,qk=I5,Zx=du,$k=function(o,s){for(var d=[];o&&o!==s;)d.push(o),o=o.parentNode;return d},TS=function(o,s){return o.hasChildNodes()&&s<o.childNodes.length?o.childNodes[s]:null},Gk=function(o,s){if(tp(o)){if(am(s.previousSibling)&&!Zd(s.previousSibling))return Wt.before(s);if(Zd(s))return Wt(s,0)}if(Pg(o)){if(am(s.nextSibling)&&!Zd(s.nextSibling))return Wt.after(s);if(Zd(s))return Wt(s,s.data.length)}return Pg(o)?CS(s)?Wt.before(s):Wt.after(s):Wt.before(s)},NO=function(o,s){var d=s.nextSibling;return d&&am(d)?Zd(d)?Wt(d,0):Wt.before(d):MS(ps.Forwards,Wt.after(s),o)},MS=function(o,s,d){var m,x,T,O;if(!Uk(d)||!s)return null;if(s.isEqual(Wt.after(d))&&d.lastChild){if(O=Wt.after(d.lastChild),Pg(o)&&am(d.lastChild)&&Uk(d.lastChild))return CS(d.lastChild)?Wt.before(d.lastChild):O}else O=s;var B=O.container(),H=O.offset();if(Zd(B)){if(Pg(o)&&H>0)return Wt(B,--H);if(tp(o)&&H<B.length)return Wt(B,++H);m=B}else{if(Pg(o)&&H>0&&(x=TS(B,H-1),am(x)))return!qk(x)&&(T=Ng(x,o,Zx,x),T)?Zd(T)?Wt(T,T.data.length):Wt.after(T):Zd(x)?Wt(x,x.data.length):Wt.before(x);if(tp(o)&&H<B.childNodes.length&&(x=TS(B,H),am(x)))return CS(x)?NO(d,x):!qk(x)&&(T=Ng(x,o,Zx,x),T)?Zd(T)?Wt(T,0):Wt.before(T):Zd(x)?Wt(x,0):Wt.after(x);m=x||O.getNode()}if((tp(o)&&O.isAtEnd()||Pg(o)&&O.isAtStart())&&(m=Ng(m,o,mt,d,!0),Zx(m,d)))return Gk(o,m);x=Ng(m,o,Zx,d);var Q=Na(Xe($k(B,d),PO));return Q&&(!x||!Q.contains(x))?(tp(o)?O=Wt.after(Q):O=Wt.before(Q),O):x?Gk(o,x):null},fd=function(o){return{next:function(s){return MS(ps.Forwards,s,o)},prev:function(s){return MS(ps.Backwards,s,o)}}},Qx=function(o,s,d){var m=o?Wt.before(d):Wt.after(d);return Os(o,s,m)},hl=function(o){return Ii(o)?Wt.before(o):Wt.after(o)},t1=function(o){return Wt.isTextPosition(o)?o.offset()===0:Wd(o.getNode())},n1=function(o){if(Wt.isTextPosition(o)){var s=o.container();return o.offset()===s.data.length}else return Wd(o.getNode(!0))},kS=function(o,s){return!Wt.isTextPosition(o)&&!Wt.isTextPosition(s)&&o.getNode()===s.getNode(!0)},LO=function(o){return!Wt.isTextPosition(o)&&Ii(o.getNode())},Xk=function(o,s,d){return o?!kS(s,d)&&!LO(s)&&n1(s)&&t1(d):!kS(d,s)&&t1(s)&&n1(d)},Os=function(o,s,d){var m=fd(s);return fe.from(o?m.next(d):m.prev(d))},Bg=function(o,s,d){return Os(o,s,d).bind(function(m){return kf(d,m,s)&&Xk(o,d,m)?Os(o,s,m):fe.some(m)})},r1=function(o,s,d,m){return Bg(o,s,d).bind(function(x){return m(x)?r1(o,s,x,m):fe.some(x)})},jc=function(o,s){var d=o?s.firstChild:s.lastChild;return or(d)?fe.some(Wt(d,o?0:d.data.length)):d?Wd(d)?fe.some(o?Wt.before(d):hl(d)):Qx(o,s,d):fe.none()},Wc=ke(Os,!0),Uc=ke(Os,!1),pl=ke(jc,!0),dd=ke(jc,!1),ew="_mce_caret",qc=function(o){return Xr(o)&&o.id===ew},hd=function(o,s){for(;s&&s!==o;){if(s.id===ew)return s;s=s.parentNode}return null},BO=function(o){return R(o.start)},zO=function(o){return Hr(o,"rng")},Yk=function(o){return Hr(o,"id")},Kk=function(o){return Hr(o,"name")},Jk=function(o){return qt.isArray(o.start)},Zk=function(o,s){return Xr(s)&&o.isBlock(s)&&!s.innerHTML&&!Cr.ie&&(s.innerHTML='<br data-mce-bogus="1" />'),s},FO=function(o,s){var d,m=o.createRng();return d=gk(o.getRoot(),s.start),m.setStart(d.container(),d.offset()),d=gk(o.getRoot(),s.end),m.setEnd(d.container(),d.offset()),m},VO=function(o,s){var d=o.ownerDocument.createTextNode(dt);o.appendChild(d),s.setStart(d,0),s.setEnd(d,0)},Qk=function(o){return o.hasChildNodes()===!1},HO=function(o,s){return dd(o).fold($e,function(d){return s.setStart(d.container(),d.offset()),s.setEnd(d.container(),d.offset()),!0})},DS=function(o,s,d){return Qk(s)&&hd(o,s)?(VO(s,d),!0):!1},eD=function(o,s,d,m){var x=d[s?"start":"end"],T,O,B,H,Q=o.getRoot();if(x){for(B=x[0],O=Q,T=x.length-1;T>=1;T--){if(H=O.childNodes,DS(Q,O,m))return!0;if(x[T]>H.length-1)return DS(Q,O,m)?!0:HO(O,m);O=H[x[T]]}O.nodeType===3&&(B=Math.min(x[0],O.nodeValue.length)),O.nodeType===1&&(B=Math.min(x[0],O.childNodes.length)),s?m.setStart(O,B):m.setEnd(O,B)}return!0},AS=function(o){return or(o)&&o.data.length>0},tD=function(o,s,d){var m=o.get(d.id+"_"+s),x,T,O,B,H=d.keep,Q,pe;if(m){if(x=m.parentNode,s==="start"?(H?m.hasChildNodes()?(x=m.firstChild,T=1):AS(m.nextSibling)?(x=m.nextSibling,T=0):AS(m.previousSibling)?(x=m.previousSibling,T=m.previousSibling.data.length):(x=m.parentNode,T=o.nodeIndex(m)+1):T=o.nodeIndex(m),Q=x,pe=T):(H?m.hasChildNodes()?(x=m.firstChild,T=1):AS(m.previousSibling)?(x=m.previousSibling,T=m.previousSibling.data.length):(x=m.parentNode,T=o.nodeIndex(m)):T=o.nodeIndex(m),Q=x,pe=T),!H){for(B=m.previousSibling,O=m.nextSibling,qt.each(qt.grep(m.childNodes),function(ge){or(ge)&&(ge.nodeValue=ge.nodeValue.replace(/\uFEFF/g,""))});m=o.get(d.id+"_"+s);)o.remove(m,!0);B&&O&&B.nodeType===O.nodeType&&or(B)&&!Cr.opera&&(T=B.nodeValue.length,B.appendData(O.nodeValue),o.remove(O),Q=B,pe=T)}return fe.some(Wt(Q,pe))}else return fe.none()},jO=function(o,s){var d=o.createRng();return eD(o,!0,s,d)&&eD(o,!1,s,d)?fe.some(d):fe.none()},WO=function(o,s){var d=tD(o,"start",s),m=tD(o,"end",s);return js(d,m.or(d),function(x,T){var O=o.createRng();return O.setStart(Zk(o,x.container()),x.offset()),O.setEnd(Zk(o,T.container()),T.offset()),O})},UO=function(o,s){return fe.from(o.select(s.name)[s.index]).map(function(d){var m=o.createRng();return m.selectNode(d),m})},Lo=function(o,s){var d=o.dom;if(s){if(Jk(s))return jO(d,s);if(BO(s))return fe.some(FO(d,s));if(Yk(s))return WO(d,s);if(Kk(s))return UO(d,s);if(zO(s))return fe.some(s.rng)}return fe.none()},zg=function(o,s,d){return yk(o,s,d)},v0=function(o,s){Lo(o,s).each(function(d){o.setRng(d)})},ic=function(o){return Xr(o)&&o.tagName==="SPAN"&&o.getAttribute("data-mce-type")==="bookmark"},qO=function(o){return function(s){return o===s}},um=qO(Kl),y0=function(o){return o!==""&&` \f
\r	\v`.indexOf(o)!==-1},o1=function(o){return!y0(o)&&!um(o)},b0=function(o){return!!o.nodeType},nD=function(o){return o&&/^(IMG)$/.test(o.nodeName)},rD=function(o,s,d){var m=d.startOffset,x=d.startContainer;if(!(x===d.endContainer&&nD(x.childNodes[m]))&&Xr(x)){var T=x.childNodes,O=void 0;m<T.length?(x=T[m],O=new mi(x,o.getParent(x,o.isBlock))):(x=T[T.length-1],O=new mi(x,o.getParent(x,o.isBlock)),O.next(!0));for(var B=O.current();B;B=O.next())if(or(B)&&!IS(B)){d.setStart(B,0),s.setRng(d);return}}},ES=function(o,s,d){if(o){var m=s?"nextSibling":"previousSibling";for(o=d?o:o[m];o;o=o[m])if(Xr(o)||!IS(o))return o}},OS=function(o,s){return b0(s)&&(s=s.nodeName),!!o.schema.getTextBlockElements()[s.toLowerCase()]},Fg=function(o,s,d){return o.schema.isValidChild(s,d)},IS=function(o,s){if(s===void 0&&(s=!1),ae(o)&&or(o)){var d=s?o.data.replace(/ /g," "):o.data;return bf(d)}else return!1},$O=function(o){return ae(o)&&or(o)&&o.length===0},Qd=function(o,s){return te(o)?o=o(s):ae(s)&&(o=o.replace(/%(\w+)/g,function(d,m){return s[m]||d})),o},RS=function(o,s){return o=o||"",s=s||"",o=""+(o.nodeName||o),s=""+(s.nodeName||s),o.toLowerCase()===s.toLowerCase()},tw=function(o,s,d){return(d==="color"||d==="backgroundColor")&&(s=o.toHex(s)),d==="fontWeight"&&s===700&&(s="bold"),d==="fontFamily"&&(s=s.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+s},nw=function(o,s,d){return tw(o,o.getStyle(s,d),d)},oD=function(o,s){var d;return o.getParent(s,function(m){return d=o.getStyle(m,"text-decoration"),d&&d!=="none"}),d},x0=function(o,s,d){return o.getParents(s,d,o.getRoot())},iD=function(o,s){var d=function(m){var x=function(T){return T.length>1&&T.charAt(0)==="%"};return st(["styles","attributes"],function(T){return zr(m,T).exists(function(O){var B=z(O)?O:ei(O);return st(B,x)})})};return st(o.formatter.get(s),d)},aD=function(o,s,d){var m=["inline","block","selector","attributes","styles","classes"],x=function(T){return Kn(T,function(O,B){return st(m,function(H){return H===B})})};return st(o.formatter.get(s),function(T){var O=x(T);return st(o.formatter.get(d),function(B){var H=x(B);return Ta(O,H)})})},pd=function(o){return ui(o,"block")},Ac=function(o){return ui(o,"selector")},ms=function(o){return ui(o,"inline")},uD=function(o){return Ac(o)&&ms(o)&&og(zr(o,"mixed"),!0)},PS=function(o){return Ac(o)&&o.expand!==!1&&!ms(o)},w0=ic,sD=x0,lD=IS,cD=OS,rw=function(o){return Ii(o)&&o.getAttribute("data-mce-bogus")&&!o.nextSibling},ow=function(o,s){for(var d=s;d;){if(Xr(d)&&o.getContentEditable(d))return o.getContentEditable(d)==="false"?d:s;d=d.parentNode}return s},fD=function(o,s,d,m){for(var x=s.data,T=d;o?T>=0:T<x.length;o?T--:T++)if(m(x.charAt(T)))return o?T+1:T;return-1},qn=function(o,s,d){return fD(o,s,d,function(m){return um(m)||y0(m)})},Pu=function(o,s,d){return fD(o,s,d,o1)},Vg=function(o,s,d,m,x,T){var O,B=o.getParent(d,o.isBlock)||s,H=function(pe,ge,ve){var Ae=bx(o),De=x?Ae.backwards:Ae.forwards;return fe.from(De(pe,ge,function(Ie,Ne){return w0(Ie.parentNode)?-1:(O=Ie,ve(x,Ie,Ne))},B))},Q=H(d,m,qn);return Q.bind(function(pe){return T?H(pe.container,pe.offset+(x?-1:0),Pu):fe.some(pe)}).orThunk(function(){return O?fe.some({container:O,offset:x?0:O.length}):fe.none()})},Nu=function(o,s,d,m,x){or(m)&&En(m.data)&&m[x]&&(m=m[x]);for(var T=sD(o,m),O=0;O<T.length;O++)for(var B=0;B<s.length;B++){var H=s[B];if(!(ae(H.collapsed)&&H.collapsed!==d.collapsed)&&Ac(H)&&o.is(T[O],H.selector))return T[O]}return m},$c=function(o,s,d,m){var x=d,T=o.dom,O=T.getRoot(),B=s[0];if(pd(B)&&(x=B.wrapper?null:T.getParent(d,B.block,O)),!x){var H=T.getParent(d,"LI,TD,TH");x=T.getParent(or(d)?d.parentNode:d,function(Q){return Q!==O&&cD(o,Q)},H)}if(x&&pd(B)&&B.wrapper&&(x=sD(T,x,"ul,ol").reverse()[0]||x),!x)for(x=d;x[m]&&!T.isBlock(x[m])&&(x=x[m],!RS(x,"br")););return x||d},NS=function(o,s,d,m){var x=d.parentNode;return ae(d[m])?!1:x===s||Y(x)||o.isBlock(x)?!0:NS(o,s,x,m)},Hg=function(o,s,d,m,x){var T=d,O=x?"previousSibling":"nextSibling",B=o.getRoot();if(or(d)&&!lD(d)&&(x?m>0:m<d.data.length))return d;for(;;){if(!s[0].block_expand&&o.isBlock(T))return T;for(var H=T[O];H;H=H[O]){var Q=or(H)&&!NS(o,B,H,O);if(!w0(H)&&!rw(H)&&!lD(H,Q))return T}if(T===B||T.parentNode===B){d=T;break}T=T.parentNode}return d},iw=function(o){return w0(o.parentNode)||w0(o)},_0=function(o,s,d,m){m===void 0&&(m=!1);var x=s.startContainer,T=s.startOffset,O=s.endContainer,B=s.endOffset,H=o.dom,Q=d[0];if(Xr(x)&&x.hasChildNodes()&&(x=dl(x,T),or(x)&&(T=0)),Xr(O)&&O.hasChildNodes()&&(O=dl(O,s.collapsed?B:B-1),or(O)&&(B=O.nodeValue.length)),x=ow(H,x),O=ow(H,O),iw(x)&&(x=w0(x)?x:x.parentNode,s.collapsed?x=x.previousSibling||x:x=x.nextSibling||x,or(x)&&(T=s.collapsed?x.length:0)),iw(O)&&(O=w0(O)?O:O.parentNode,s.collapsed?O=O.nextSibling||O:O=O.previousSibling||O,or(O)&&(B=s.collapsed?0:O.length)),s.collapsed){var pe=Vg(H,o.getBody(),x,T,!0,m);pe.each(function(ve){var Ae=ve.container,De=ve.offset;x=Ae,T=De});var ge=Vg(H,o.getBody(),O,B,!1,m);ge.each(function(ve){var Ae=ve.container,De=ve.offset;O=Ae,B=De})}return(ms(Q)||Q.block_expand)&&((!ms(Q)||!or(x)||T===0)&&(x=Hg(H,d,x,T,!0)),(!ms(Q)||!or(O)||B===O.nodeValue.length)&&(O=Hg(H,d,O,B,!1))),PS(Q)&&(x=Nu(H,d,s,x,"previousSibling"),O=Nu(H,d,s,O,"nextSibling")),(pd(Q)||Ac(Q))&&(x=$c(o,d,x,"previousSibling"),O=$c(o,d,O,"nextSibling"),pd(Q)&&(H.isBlock(x)||(x=Hg(H,d,x,T,!0)),H.isBlock(O)||(O=Hg(H,d,O,B,!1)))),Xr(x)&&(T=H.nodeIndex(x),x=x.parentNode),Xr(O)&&(B=H.nodeIndex(O)+1,O=O.parentNode),{startContainer:x,startOffset:T,endContainer:O,endOffset:B}},jg=function(o,s,d){var m=s.startOffset,x=dl(s.startContainer,m),T=s.endOffset,O=dl(s.endContainer,T-1),B=function(Ie){var Ne=Ie[0];or(Ne)&&Ne===x&&m>=Ne.data.length&&Ie.splice(0,1);var Ke=Ie[Ie.length-1];return T===0&&Ie.length>0&&Ke===O&&or(Ke)&&Ie.splice(Ie.length-1,1),Ie},H=function(Ie,Ne,Ke){for(var Ge=[];Ie&&Ie!==Ke;Ie=Ie[Ne])Ge.push(Ie);return Ge},Q=function(Ie,Ne){return o.getParent(Ie,function(Ke){return Ke.parentNode===Ne},Ne)},pe=function(Ie,Ne,Ke){for(var Ge=Ke?"nextSibling":"previousSibling",at=Ie,bt=at.parentNode;at&&at!==Ne;at=bt){bt=at.parentNode;var nt=H(at===Ie?at:at[Ge],Ge);nt.length&&(Ke||nt.reverse(),d(B(nt)))}};if(x===O)return d(B([x]));var ge=o.findCommonAncestor(x,O);if(o.isChildOf(x,O))return pe(x,ge,!0);if(o.isChildOf(O,x))return pe(O,ge);var ve=Q(x,ge)||x,Ae=Q(O,ge)||O;pe(x,ve,!0);var De=H(ve===x?ve:ve.nextSibling,"nextSibling",Ae===O?Ae.nextSibling:Ae);De.length&&d(B(De)),pe(O,Ae)},i1=function(o){var s=[];if(o)for(var d=0;d<o.rangeCount;d++)s.push(o.getRangeAt(d));return s},GO=function(o){return Mo(o,function(s){var d=_x(s);return d?[U.fromDom(d)]:[]})},XO=function(o){return i1(o).length>1},LS=function(o){return Xe(GO(o),rd)},BS=function(o){return Il(o,"td[data-mce-selected],th[data-mce-selected]")},dD=function(o,s){var d=BS(s);return d.length>0?d:LS(o)},Wg=function(o){return dD(i1(o.selection.getSel()),U.fromDom(o.getBody()))},Df=function(o,s){return ig(o,"table",s)},a1=function(o){var s=o.startContainer,d=o.startOffset;return or(s)?d===0?fe.some(U.fromDom(s)):fe.none():fe.from(s.childNodes[d]).map(U.fromDom)},zS=function(o){var s=o.endContainer,d=o.endOffset;return or(s)?d===s.data.length?fe.some(U.fromDom(s)):fe.none():fe.from(s.childNodes[d-1]).map(U.fromDom)},Ug=function(o){return fu(o).fold(Z([o]),function(s){return[o].concat(Ug(s))})},u1=function(o){return Gl(o).fold(Z([o]),function(s){return ni(s)==="br"?Eh(s).map(function(d){return[o].concat(u1(d))}).getOr([]):[o].concat(u1(s))})},s1=function(o,s){return js(a1(s),zS(s),function(d,m){var x=Zn(Ug(o),ke(Vr,d)),T=Zn(u1(o),ke(Vr,m));return x.isSome()&&T.isSome()}).getOr(!1)},eh=function(o,s,d,m){var x=d,T=new mi(d,x),O=Kn(o.schema.getMoveCaretBeforeOnEnterElements(),function(B,H){return!Ye(["td","th","table"],H.toLowerCase())});do{if(or(d)&&qt.trim(d.nodeValue).length!==0){m?s.setStart(d,0):s.setEnd(d,d.nodeValue.length);return}if(O[d.nodeName]){m?s.setStartBefore(d):d.nodeName==="BR"?s.setEndBefore(d):s.setEndAfter(d);return}}while(d=m?T.next():T.prev());x.nodeName==="BODY"&&(m?s.setStart(x,0):s.setEnd(x,x.childNodes.length))},Gc=function(o){var s=o.selection.getSel();return s&&s.rangeCount>0},sm=function(o,s){var d=Wg(o);d.length>0?Ct(d,function(m){var x=m.dom,T=o.dom.createRng();T.setStartBefore(x),T.setEndAfter(x),s(T,!0)}):s(o.selection.getRng(),!1)},qg=function(o,s,d){var m=c0(o,s);d(m),o.moveToBookmark(m)},l1=function(o,s){var d=function(T){if(!o(T))throw new Error("Can only get "+s+" value of a "+s+" node");return m(T).getOr("")},m=function(T){return o(T)?fe.from(T.dom.nodeValue):fe.none()},x=function(T,O){if(!o(T))throw new Error("Can only set raw "+s+" value of a "+s+" node");T.dom.nodeValue=O};return{get:d,getOption:m,set:x}},aw=l1(wa,"text"),c1=function(o){return aw.get(o)},FS=function(o){return wa(o)&&c1(o)===dt},YO=function(o,s,d,m){return ka(s).fold(function(){return"skipping"},function(x){return m==="br"||FS(s)?"valid":fs(s)?"existing":qc(s.dom)?"caret":!Fg(o,d,m)||!Fg(o,ni(x),d)?"invalid-child":"valid"})},uw=function(o,s){var d=_0(o,s,[{inline:"span"}]);s.setStart(d.startContainer,d.startOffset),s.setEnd(d.endContainer,d.endOffset),o.selection.setRng(s)},Qu=function(o,s,d,m){var x=s.uid,T=x===void 0?a0("mce-annotation"):x,O=Vu(s,["uid"]),B=U.fromTag("span",o);o0(B,Tg()),J(B,""+Rl(),T),J(B,""+Yd(),d);var H=m(T,O),Q=H.attributes,pe=Q===void 0?{}:Q,ge=H.classes,ve=ge===void 0?[]:ge;return me(B,pe),Y_(B,ve),B},Ec=function(o,s,d,m,x){var T=[],O=Qu(o.getDoc(),x,d,m),B=Xp(),H=function(){B.clear()},Q=function(){return B.get().getOrThunk(function(){var Ae=Ku(O);return T.push(Ae),B.set(Ae),Ae})},pe=function(Ae){Ct(Ae,ge)},ge=function(Ae){var De=YO(o,Ae,"span",ni(Ae));switch(De){case"invalid-child":{H();var Ie=Hs(Ae);pe(Ie),H();break}case"valid":{var Ne=Q();rg(Ae,Ne);break}}},ve=function(Ae){var De=Ft(Ae,U.fromDom);pe(De)};return jg(o.dom,s,function(Ae){H(),ve(Ae)}),T},Af=function(o,s,d,m){o.undoManager.transact(function(){var x=o.selection,T=x.getRng(),O=Wg(o).length>0;if(T.collapsed&&!O&&uw(o,T),x.getRng().collapsed&&!O){var B=Qu(o.getDoc(),m,s,d.decorate);Cu(B,Kl),x.getRng().insertNode(B.dom),x.select(B.dom)}else qg(x,!1,function(){sm(o,function(H){Ec(o,H,s,d.decorate,m)})})})},md=function(o){var s=lk();X_(o,s);var d=G_(o);return{register:function(m,x){s.register(m,x)},annotate:function(m,x){s.lookup(m).each(function(T){Af(o,m,T,x)})},annotationChanged:function(m,x){d.addListener(m,x)},remove:function(m){sk(o,fe.some(m)).each(function(x){var T=x.elements;Ct(T,Ph)})},getAll:function(m){var x=Kh(o,m);return er(x,function(T){return Ft(T,function(O){return O.dom})})}}},th=function(o){return{getBookmark:ke(zg,o),moveToBookmark:ke(v0,o)}};th.isBookmarkNode=ic;var lm=function(o,s){for(;s&&s!==o;){if(mf(s)||ca(s))return s;s=s.parentNode}return null},S0=function(o,s,d){if(d.collapsed)return!1;if(Cr.browser.isIE()&&d.startOffset===d.endOffset-1&&d.startContainer===d.endContainer){var m=d.startContainer.childNodes[d.startOffset];if(Xr(m))return st(m.getClientRects(),function(x){return fk(x,o,s)})}return st(d.getClientRects(),function(x){return fk(x,o,s)})},hD=function(o,s){return o.fire("PreProcess",s)},f1=function(o,s){return o.fire("PostProcess",s)},KO=function(o){return o.fire("remove")},VS=function(o){return o.fire("detach")},pD=function(o,s){return o.fire("SwitchMode",{mode:s})},mD=function(o,s,d,m,x){o.fire("ObjectResizeStart",{target:s,width:d,height:m,origin:x})},HS=function(o,s,d,m,x){o.fire("ObjectResized",{target:s,width:d,height:m,origin:x})},jS=function(o){return o.fire("PreInit")},Ti=function(o){return o.fire("PostRender")},nh=function(o){return o.fire("Init")},gD=function(o,s){return o.fire("PlaceholderToggle",{state:s})},WS=function(o,s,d){return o.fire(s,d)},US=function(o,s,d,m){return o.fire("FormatApply",{format:s,node:d,vars:m})},d1=function(o,s,d,m){return o.fire("FormatRemove",{format:s,node:d,vars:m})},Nr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(o){return o.shiftKey||o.ctrlKey||o.altKey||Nr.metaKeyPressed(o)},metaKeyPressed:function(o){return Cr.mac?o.metaKey:o.ctrlKey&&!o.altKey}},qS=ca,vD=function(o,s){var d="data-mce-selected",m=s.dom,x=qt.each,T,O,B,H,Q,pe,ge,ve,Ae,De,Ie,Ne,Ke,Ge,at,bt=s.getDoc(),nt=document,Mt=Math.abs,Yt=Math.round,Sn=s.getBody(),Dr,Qn,pn={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},jr=function(Vt){return Vt&&(Vt.nodeName==="IMG"||s.dom.is(Vt,"figure.image"))},An=function(Vt){return kl(Vt)||m.hasClass(Vt,"mce-preview-object")},Jn=function(Vt,fr){if(Vt.type==="longpress"||Vt.type.indexOf("touch")===0){var Fn=Vt.touches[0];return jr(Vt.target)&&!S0(Fn.clientX,Fn.clientY,fr)}else return jr(Vt.target)&&!S0(Vt.clientX,Vt.clientY,fr)},Dn=function(Vt){var fr=Vt.target;Jn(Vt,s.selection.getRng())&&!Vt.isDefaultPrevented()&&s.selection.select(fr)},Hn=function(Vt){return m.is(Vt,"figure.image")?[Vt.querySelector("img")]:m.hasClass(Vt,"mce-preview-object")&&ae(Vt.firstElementChild)?[Vt,Vt.firstElementChild]:[Vt]},rr=function(Vt){var fr=Mf(s);return!fr||Vt.getAttribute("data-mce-resize")==="false"||Vt===s.getBody()?!1:m.hasClass(Vt,"mce-preview-object")?Ln(U.fromDom(Vt.firstElementChild),fr):Ln(U.fromDom(Vt),fr)},xn=function(Vt){return An(Vt)?m.create("img",{src:Cr.transparentSrc}):Vt.cloneNode(!0)},ar=function(Vt,fr,Fn){if(ae(Fn)){var Fr=Hn(Vt);Ct(Fr,function(Do){Do.style[fr]||!s.schema.isValid(Do.nodeName.toLowerCase(),fr)?m.setStyle(Do,fr,Fn):m.setAttrib(Do,fr,""+Fn)})}},oo=function(Vt,fr,Fn){ar(Vt,"width",fr),ar(Vt,"height",Fn)},xi=function(Vt){var fr,Fn,Fr,Do,ma;fr=Vt.screenX-pe,Fn=Vt.screenY-ge,Ge=fr*H[2]+De,at=Fn*H[3]+Ie,Ge=Ge<5?5:Ge,at=at<5?5:at,(jr(T)||An(T))&&ep(s)!==!1?Fr=!Nr.modifierPressed(Vt):Fr=Nr.modifierPressed(Vt),Fr&&(Mt(fr)>Mt(Fn)?(at=Yt(Ge*Ne),Ge=Yt(at/Ne)):(Ge=Yt(at/Ne),at=Yt(Ge*Ne))),oo(O,Ge,at),Do=H.startPos.x+fr,ma=H.startPos.y+Fn,Do=Do>0?Do:0,ma=ma>0?ma:0,m.setStyles(B,{left:Do,top:ma,display:"block"}),B.innerHTML=Ge+" &times; "+at,H[2]<0&&O.clientWidth<=Ge&&m.setStyle(O,"left",ve+(De-Ge)),H[3]<0&&O.clientHeight<=at&&m.setStyle(O,"top",Ae+(Ie-at)),fr=Sn.scrollWidth-Dr,Fn=Sn.scrollHeight-Qn,fr+Fn!==0&&m.setStyles(B,{left:Do-fr,top:ma-Fn}),Ke||(mD(s,T,De,Ie,"corner-"+H.name),Ke=!0)},Wo=function(){var Vt=Ke;Ke=!1,Vt&&(ar(T,"width",Ge),ar(T,"height",at)),m.unbind(bt,"mousemove",xi),m.unbind(bt,"mouseup",Wo),nt!==bt&&(m.unbind(nt,"mousemove",xi),m.unbind(nt,"mouseup",Wo)),m.remove(O),m.remove(B),m.remove(Q),gu(T),Vt&&(HS(s,T,Ge,at,"corner-"+H.name),m.setAttrib(T,"style",m.getAttrib(T,"style"))),s.nodeChanged()},gu=function(Vt){yn();var fr=m.getPos(Vt,Sn),Fn=fr.x,Fr=fr.y,Do=Vt.getBoundingClientRect(),ma=Do.width||Do.right-Do.left,Ll=Do.height||Do.bottom-Do.top;T!==Vt&&(Du(),T=Vt,Ge=at=0);var cc=s.fire("ObjectSelected",{target:Vt}),_d=m.getAttrib(T,d,"1");rr(Vt)&&!cc.isDefaultPrevented()?x(pn,function(Bl,zl){var zu,hv=function(Ps){var Sd=Hn(T)[0];pe=Ps.screenX,ge=Ps.screenY,De=Sd.clientWidth,Ie=Sd.clientHeight,Ne=Ie/De,H=Bl,H.name=zl,H.startPos={x:ma*Bl[0]+Fn,y:Ll*Bl[1]+Fr},Dr=Sn.scrollWidth,Qn=Sn.scrollHeight,Q=m.add(Sn,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),m.setStyles(Q,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),O=xn(T),m.addClass(O,"mce-clonedresizable"),m.setAttrib(O,"data-mce-bogus","all"),O.contentEditable="false",m.setStyles(O,{left:Fn,top:Fr,margin:0}),oo(O,ma,Ll),O.removeAttribute(d),Sn.appendChild(O),m.bind(bt,"mousemove",xi),m.bind(bt,"mouseup",Wo),nt!==bt&&(m.bind(nt,"mousemove",xi),m.bind(nt,"mouseup",Wo)),B=m.add(Sn,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},De+" &times; "+Ie)};zu=m.get("mceResizeHandle"+zl),zu&&m.remove(zu),zu=m.add(Sn,"div",{id:"mceResizeHandle"+zl,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+zl+"-resize; margin:0; padding:0"}),Cr.ie===11&&(zu.contentEditable=!1),m.bind(zu,"mousedown",function(Ps){Ps.stopImmediatePropagation(),Ps.preventDefault(),hv(Ps)}),Bl.elm=zu,m.setStyles(zu,{left:ma*Bl[0]+Fn-zu.offsetWidth/2,top:Ll*Bl[1]+Fr-zu.offsetHeight/2})}):Du(),m.getAttrib(T,d)||T.setAttribute(d,_d)},Du=function(){yn(),T&&T.removeAttribute(d),wn(pn,function(Vt,fr){var Fn=m.get("mceResizeHandle"+fr);Fn&&(m.unbind(Fn),m.remove(Fn))})},Oc=function(Vt){var fr,Fn,Fr=function(Do,ma){if(Do)do if(Do===ma)return!0;while(Do=Do.parentNode)};if(!(Ke||s.removed)){if(x(m.select("img[data-mce-selected],hr[data-mce-selected]"),function(Do){Do.removeAttribute(d)}),Fn=Vt.type==="mousedown"?Vt.target:o.getNode(),Fn=m.$(Fn).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Fr(Fn,Sn)&&(zt(),fr=o.getStart(!0),Fr(fr,Fn)&&Fr(o.getEnd(!0),Fn))){gu(Fn);return}Du()}},ef=function(Vt){return qS(lm(s.getBody(),Vt))},yn=function(){wn(pn,function(Vt){Vt.elm&&(m.unbind(Vt.elm),delete Vt.elm)})},zt=function(){try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};s.on("init",function(){if(zt(),Cr.browser.isIE()||Cr.browser.isEdge()){s.on("mousedown click",function(Fn){var Fr=Fn.target,Do=Fr.nodeName;!Ke&&/^(TABLE|IMG|HR)$/.test(Do)&&!ef(Fr)&&(Fn.button!==2&&s.selection.select(Fr,Do==="TABLE"),Fn.type==="mousedown"&&s.nodeChanged())});var Vt=function(Fn){var Fr=function(Do){ks.setEditorTimeout(s,function(){return s.selection.select(Do)})};if(ef(Fn.target)||kl(Fn.target)){Fn.preventDefault(),Fr(Fn.target);return}/^(TABLE|IMG|HR)$/.test(Fn.target.nodeName)&&(Fn.preventDefault(),Fn.target.tagName==="IMG"&&Fr(Fn.target))};m.bind(Sn,"mscontrolselect",Vt),s.on("remove",function(){return m.unbind(Sn,"mscontrolselect",Vt)})}var fr=ks.throttle(function(Fn){s.composing||Oc(Fn)});s.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",fr),s.on("keyup compositionend",function(Fn){T&&T.nodeName==="TABLE"&&fr(Fn)}),s.on("hide blur",Du),s.on("contextmenu longpress",Dn,!0)}),s.on("remove",yn);var Cn=function(){T=O=Q=null};return{isResizable:rr,showResizeRect:gu,hideResizeRect:Du,updateResizeRect:Oc,destroy:Cn}},JO=function(o){return mf(o)||ca(o)},yD=function(o,s,d){for(;o&&o!==s;){if(d(o))return o;o=o.parentNode}return null},bD=function(o,s,d){var m,x=d.elementFromPoint(o,s),T=d.body.createTextRange();if((!x||x.tagName==="HTML")&&(x=d.body),T.moveToElementText(x),m=qt.toArray(T.getClientRects()),m=m.sort(function(O,B){return O=Math.abs(Math.max(O.top-s,O.bottom-s)),B=Math.abs(Math.max(B.top-s,B.bottom-s)),O-B}),m.length>0){s=(m[0].bottom+m[0].top)/2;try{return T.moveToPoint(o,s),T.collapse(!0),T}catch{}}return null},$S=function(o,s){var d=o&&o.parentElement?o.parentElement():null;return ca(yD(d,s,JO))?null:o},GS=function(o,s,d){var m,x,T=d;if(T.caretPositionFromPoint)x=T.caretPositionFromPoint(o,s),x&&(m=d.createRange(),m.setStart(x.offsetNode,x.offset),m.collapse(!0));else if(T.caretRangeFromPoint)m=T.caretRangeFromPoint(o,s);else if(T.body.createTextRange){m=T.body.createTextRange();try{m.moveToPoint(o,s),m.collapse(!0)}catch{m=bD(o,s,d)}return $S(m,d.body)}return m},sw=function(o,s){return o&&s&&o.startContainer===s.startContainer&&o.startOffset===s.startOffset&&o.endContainer===s.endContainer&&o.endOffset===s.endOffset},ZO=function(o,s,d){for(;o&&o!==s;){if(d(o))return o;o=o.parentNode}return null},xD=function(o,s,d){return ZO(o,s,d)!==null},QO=function(o,s,d){return xD(o,s,function(m){return m.nodeName===d})},ac=function(o){return o&&o.nodeName==="TABLE"},ml=function(o){return o&&/^(TD|TH|CAPTION)$/.test(o.nodeName)},cm=function(o,s){return El(o)&&xD(o,s,qc)===!1},wD=function(o,s,d){for(var m=new mi(s,o.getParent(s.parentNode,o.isBlock)||o.getRoot());s=m[d?"prev":"next"]();)if(Ii(s))return!0},e4=function(o,s){return o.previousSibling&&o.previousSibling.nodeName===s},_D=function(o,s){for(;s&&s!==o;){if(ca(s))return!0;s=s.parentNode}return!1},So=function(o,s,d,m,x){var T,O=o.getRoot(),B,H=o.schema.getNonEmptyElements(),Q=o.getParent(x.parentNode,o.isBlock)||O;if(m&&Ii(x)&&s&&o.isEmpty(Q))return fe.some(Wt(x.parentNode,o.nodeIndex(x)));for(var pe=new mi(x,Q);B=pe[m?"prev":"next"]();){if(o.getContentEditableParent(B)==="false"||cm(B,O))return fe.none();if(or(B)&&B.nodeValue.length>0)return QO(B,O,"A")===!1?fe.some(Wt(B,m?B.nodeValue.length:0)):fe.none();if(o.isBlock(B)||H[B.nodeName.toLowerCase()])return fe.none();T=B}return d&&T?fe.some(Wt(T,0)):fe.none()},SD=function(o,s,d,m){var x,T,O=o.getRoot(),B,H,Q=!1;x=m[(d?"start":"end")+"Container"],T=m[(d?"start":"end")+"Offset"];var pe=Xr(x)&&T===x.childNodes.length,ge=o.schema.getNonEmptyElements();if(H=d,El(x))return fe.none();if(Xr(x)&&T>x.childNodes.length-1&&(H=!1),My(x)&&(x=O,T=0),x===O){if(H&&(B=x.childNodes[T>0?T-1:0],B&&(El(B)||ge[B.nodeName]||ac(B))))return fe.none();if(x.hasChildNodes()){if(T=Math.min(!H&&T>0?T-1:T,x.childNodes.length-1),x=x.childNodes[T],T=or(x)&&pe?x.data.length:0,!s&&x===O.lastChild&&ac(x)||_D(O,x)||El(x))return fe.none();if(x.hasChildNodes()&&ac(x)===!1){B=x;var ve=new mi(x,O);do{if(ca(B)||El(B)){Q=!1;break}if(or(B)&&B.nodeValue.length>0){T=H?0:B.nodeValue.length,x=B,Q=!0;break}if(ge[B.nodeName.toLowerCase()]&&!ml(B)){T=o.nodeIndex(B),x=B.parentNode,H||T++,Q=!0;break}}while(B=H?ve.next():ve.prev())}}}return s&&(or(x)&&T===0&&So(o,pe,s,!0,x).each(function(Ae){x=Ae.container(),T=Ae.offset(),Q=!0}),Xr(x)&&(B=x.childNodes[T],B||(B=x.childNodes[T-1]),B&&Ii(B)&&!e4(B,"A")&&!wD(o,B,!1)&&!wD(o,B,!0)&&So(o,pe,s,!0,B).each(function(Ae){x=Ae.container(),T=Ae.offset(),Q=!0}))),H&&!s&&or(x)&&T===x.nodeValue.length&&So(o,pe,s,!1,x).each(function(Ae){x=Ae.container(),T=Ae.offset(),Q=!0}),Q?fe.some(Wt(x,T)):fe.none()},h1=function(o,s){var d=s.collapsed,m=s.cloneRange(),x=Wt.fromRangeStart(s);return SD(o,d,!0,m).each(function(T){(!d||!Wt.isAbove(x,T))&&m.setStart(T.container(),T.offset())}),d||SD(o,d,!1,m).each(function(T){m.setEnd(T.container(),T.offset())}),d&&m.collapse(!0),sw(s,m)?fe.none():fe.some(m)},C0=function(o,s){return o.splitText(s)},lw=function(o){var s=o.startContainer,d=o.startOffset,m=o.endContainer,x=o.endOffset;return s===m&&or(s)?d>0&&d<s.nodeValue.length&&(m=C0(s,d),s=m.previousSibling,x>d?(x=x-d,s=m=C0(m,x).previousSibling,x=m.nodeValue.length,d=0):x=0):(or(s)&&d>0&&d<s.nodeValue.length&&(s=C0(s,d),d=0),or(m)&&x>0&&x<m.nodeValue.length&&(m=C0(m,x).previousSibling,x=m.nodeValue.length)),{startContainer:s,startOffset:d,endContainer:m,endOffset:x}},T0=function(o){var s=function(x,T){return jg(o,x,T)},d=lw,m=function(x){return h1(o,x).fold($e,function(T){return x.setStart(T.startContainer,T.startOffset),x.setEnd(T.endContainer,T.endOffset),!0})};return{walk:s,split:d,normalize:m}};T0.compareRanges=sw,T0.getCaretRangeFromPoint=GS,T0.getSelectedNode=_x,T0.getNode=dl;var M0=function(o,s){var d=function(B,H){if(!ie(H)&&!H.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+H);var Q=B.dom;da(Q)&&(Q.style[o]=H+"px")},m=function(B){var H=s(B);if(H<=0||H===null){var Q=bo(B,o);return parseFloat(Q)||0}return H},x=m,T=function(B,H){return Mn(H,function(Q,pe){var ge=bo(B,pe),ve=ge===void 0?0:parseInt(ge,10);return isNaN(ve)?Q:Q+ve},0)},O=function(B,H,Q){var pe=T(B,Q),ge=H>pe?H-pe:0;return ge};return{set:d,get:m,getOuter:x,aggregate:T,max:O}},t4=M0("height",function(o){var s=o.dom;return Nh(o)?s.getBoundingClientRect().height:s.offsetHeight}),n4=function(o){return t4.get(o)},XS=function(o,s){var d=o.view(s);return d.fold(Z([]),function(m){var x=o.owner(m),T=XS(o,x);return[m].concat(T)})},YS=function(o,s){var d=s.owner(o);return XS(s,d)},$g=function(o){var s,d=o.dom===document?fe.none():fe.from((s=o.dom.defaultView)===null||s===void 0?void 0:s.frameElement);return d.map(U.fromDom)},cw=function(o){return Ur(o)},CD=Object.freeze({__proto__:null,view:$g,owner:cw}),r4=function(o){var s=U.fromDom(document),d=Iv(s),m=YS(o,CD),x=Ml(o),T=Bt(m,function(O,B){var H=Ml(B);return{left:O.left+H.left,top:O.top+H.top}},{left:0,top:0});return Qf(T.left+x.left+d.left,T.top+x.top+d.top)},KS=function(o){return ni(o)==="textarea"},o4=function(o,s){var d=o.fire("ScrollIntoView",s);return d.isDefaultPrevented()},p1=function(o,s){o.fire("AfterScrollIntoView",s)},JS=function(o,s){var d=Hs(o);if(d.length===0||KS(o))return{element:o,offset:s};if(s<d.length&&!KS(d[s]))return{element:d[s],offset:0};var m=d[d.length-1];return KS(m)?{element:o,offset:s}:ni(m)==="img"?{element:m,offset:1}:wa(m)?{element:m,offset:c1(m).length}:{element:m,offset:Hs(m).length}},Mr=function(o,s){var d=fa(o),m=n4(o);return{element:o,bottom:d.top+m,height:m,pos:d,cleanup:s}},TD=function(o,s){var d=JS(o,s),m=U.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+dt+"</span>");return as(d.element,m),Mr(m,function(){return Ba(m)})},i4=function(o){return Mr(U.fromDom(o),le)},MD=function(o,s,d,m){a4(o,function(x,T){return gl(o,s,d,m)},d)},k0=function(o,s,d,m,x){var T={elm:m.element.dom,alignToTop:x};if(!o4(o,T)){var O=Iv(s).top;d(s,O,m,x),p1(o,T)}},gl=function(o,s,d,m){var x=U.fromDom(o.getBody()),T=U.fromDom(o.getDoc());b5(x);var O=TD(U.fromDom(d.startContainer),d.startOffset);k0(o,T,s,O,m),O.cleanup()},m1=function(o,s,d,m){var x=U.fromDom(o.getDoc());k0(o,x,d,i4(s),m)},a4=function(o,s,d){var m=d.startContainer,x=d.startOffset,T=d.endContainer,O=d.endOffset;s(U.fromDom(m),U.fromDom(T));var B=o.dom.createRng();B.setStart(m,x),B.setEnd(T,O),o.selection.setRng(d)},ZS=function(o,s,d,m){var x=o.pos;if(d)Xl(x.left,x.top,m);else{var T=x.top-s+o.height;Xl(x.left,T,m)}},fw=function(o,s,d,m,x){var T=d+s,O=m.pos.top,B=m.bottom,H=B-O>=d;if(O<s)ZS(m,d,x!==!1,o);else if(O>T){var Q=H?x!==!1:x===!0;ZS(m,d,Q,o)}else B>T&&!H&&ZS(m,d,x===!0,o)},kD=function(o,s,d,m){var x=o.dom.defaultView.innerHeight;fw(o,s,x,d,m)},DD=function(o,s,d,m){var x=o.dom.defaultView.innerHeight;fw(o,s,x,d,m);var T=r4(d.element),O=Bh(window);T.top<O.y?Rv(d.element,m!==!1):T.top>O.bottom&&Rv(d.element,m===!0)},AD=function(o,s,d){return MD(o,kD,s,d)},ED=function(o,s,d){return m1(o,s,kD,d)},rp=function(o,s,d){return MD(o,DD,s,d)},u4=function(o,s,d){return m1(o,s,DD,d)},s4=function(o,s,d){var m=o.inline?ED:u4;m(o,s,d)},D0=function(o,s,d){var m=o.inline?AD:rp;m(o,s,d)},l4=function(){return U.fromDom(document)},c4=function(o){return o.dom.focus()},ii=function(o){var s=ol(o).dom;return o.dom===s.activeElement},A0=function(o){return o===void 0&&(o=l4()),fe.from(o.dom.activeElement).map(U.fromDom)},fm=function(o){return A0(ol(o)).filter(function(s){return o.dom.contains(s.dom)})},rh=function(o,s,d,m){return{start:o,soffset:s,finish:d,foffset:m}},dm={create:rh},Gs=Sr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),dw=function(o,s,d,m){return o.fold(s,d,m)},g1=function(o){return o.fold(Ce,Ce,Ce)},E0=Gs.before,hm=Gs.on,f4=Gs.after,OD={before:E0,on:hm,after:f4,cata:dw,getStart:g1},hw=Sr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),d4=function(o){return hw.exact(o.start,o.soffset,o.finish,o.foffset)},Ro=function(o){return o.match({domRange:function(s){return U.fromDom(s.startContainer)},relative:function(s,d){return OD.getStart(s)},exact:function(s,d,m,x){return s}})},Ef=hw.domRange,O0=hw.relative,ID=hw.exact,v1=function(o){var s=Ro(o);return Ma(s)},Bo=dm.create,QS={domRange:Ef,relative:O0,exact:ID,exactFromRange:d4,getWin:v1,range:Bo},RD=yr().browser,y1=function(o,s){var d=wa(s)?c1(s).length:Hs(s).length+1;return o>d?d:o<0?0:o},PD=function(o){return QS.range(o.start,y1(o.soffset,o.start),o.finish,y1(o.foffset,o.finish))},b1=function(o,s){return!zd(s.dom)&&(li(o,s)||Vr(o,s))},op=function(o){return function(s){return b1(o,s.start)&&b1(o,s.finish)}},eC=function(o){return o.inline===!0||RD.isIE()},ND=function(o){return QS.range(U.fromDom(o.startContainer),o.startOffset,U.fromDom(o.endContainer),o.endOffset)},h4=function(o){var s=o.getSelection(),d=!s||s.rangeCount===0?fe.none():fe.from(s.getRangeAt(0));return d.map(ND)},p4=function(o){var s=Ma(o);return h4(s.dom).filter(op(o))},pm=function(o,s){return fe.from(s).filter(op(o)).map(PD)},Gg=function(o){var s=document.createRange();try{return s.setStart(o.start.dom,o.soffset),s.setEnd(o.finish.dom,o.foffset),fe.some(s)}catch{return fe.none()}},I0=function(o){var s=eC(o)?p4(U.fromDom(o.getBody())):fe.none();o.bookmark=s.isSome()?s:o.bookmark},LD=function(o,s){var d=U.fromDom(o.getBody()),m=eC(o)?fe.from(s):fe.none(),x=m.map(ND).filter(op(d));o.bookmark=x.isSome()?x:o.bookmark},tC=function(o){var s=o.bookmark?o.bookmark:fe.none();return s.bind(function(d){return pm(U.fromDom(o.getBody()),d)}).bind(Gg)},m4=function(o){tC(o).each(function(s){return o.selection.setRng(s)})},pw=function(o){var s=o.className.toString();return s.indexOf("tox-")!==-1||s.indexOf("mce-")!==-1},mw={isEditorUIElement:pw},nC=function(o){return o.type==="nodechange"&&o.selectionChange},g4=function(o,s){var d=function(){s.throttle()};ra.DOM.bind(document,"mouseup",d),o.on("remove",function(){ra.DOM.unbind(document,"mouseup",d)})},rC=function(o){o.on("focusout",function(){I0(o)})},gw=function(o,s){o.on("mouseup touchend",function(d){s.throttle()})},vw=function(o,s){var d=yr().browser;d.isIE()?rC(o):gw(o,s),o.on("keyup NodeChange",function(m){nC(m)||I0(o)})},oC=function(o){var s=Ci(function(){I0(o)},0);o.on("init",function(){o.inline&&g4(o,s),vw(o,s)}),o.on("remove",function(){s.cancel()})},Xg,yw=ra.DOM,iC=function(o){return mw.isEditorUIElement(o)},bw=function(o){var s=o.classList;return s!==void 0?s.contains("tox-edit-area")||s.contains("tox-edit-area__iframe")||s.contains("mce-content-body"):!1},x1=function(o,s){var d=h0(o),m=yw.getParent(s,function(x){return iC(x)||(d?o.dom.is(x,d):!1)});return m!==null},BD=function(o){try{var s=ol(U.fromDom(o.getElement()));return A0(s).fold(function(){return document.body},function(d){return d.dom})}catch{return document.body}},v4=function(o,s){var d=s.editor;oC(d),d.on("focusin",function(){var m=o.focusedEditor;m!==d&&(m&&m.fire("blur",{focusedEditor:d}),o.setActive(d),o.focusedEditor=d,d.fire("focus",{blurredEditor:m}),d.focus(!0))}),d.on("focusout",function(){ks.setEditorTimeout(d,function(){var m=o.focusedEditor;!x1(d,BD(d))&&m===d&&(d.fire("blur",{focusedEditor:null}),o.focusedEditor=null)})}),Xg||(Xg=function(m){var x=o.activeEditor;x&&Cs(m).each(function(T){T.ownerDocument===document&&T!==document.body&&!x1(x,T)&&o.focusedEditor===x&&(x.fire("blur",{focusedEditor:null}),o.focusedEditor=null)})},yw.bind(document,"focusin",Xg))},zD=function(o,s){o.focusedEditor===s.editor&&(o.focusedEditor=null),o.activeEditor||(yw.unbind(document,"focusin",Xg),Xg=null)},FD=function(o){o.on("AddEditor",ke(v4,o)),o.on("RemoveEditor",ke(zD,o))},aC=function(o,s){return o.dom.getParent(s,function(d){return o.dom.getContentEditable(d)==="true"})},VD=function(o){return o.collapsed?fe.from(dl(o.startContainer,o.startOffset)).map(U.fromDom):fe.none()},HD=function(o,s){return VD(s).bind(function(d){return oi(d)?fe.some(d):li(o,d)===!1?fe.some(o):fe.none()})},uC=function(o,s){HD(U.fromDom(o.getBody()),s).bind(function(d){return pl(d.dom)}).fold(function(){o.selection.normalize()},function(d){return o.selection.setRng(d.toRange())})},sC=function(o){if(o.setActive)try{o.setActive()}catch{o.focus()}else o.focus()},y4=function(o){return ii(o)||fm(o).isSome()},b4=function(o){return o.iframeElement&&ii(U.fromDom(o.iframeElement))},R0=function(o){var s=o.getBody();return s&&y4(U.fromDom(s))},x4=function(o){var s=ol(U.fromDom(o.getElement()));return A0(s).filter(function(d){return!bw(d.dom)&&x1(o,d.dom)}).isSome()},mm=function(o){return o.inline?R0(o):b4(o)},jD=function(o){return mm(o)||x4(o)},Yg=function(o){var s=o.selection,d=o.getBody(),m=s.getRng();o.quirks.refreshContentEditable(),o.bookmark!==void 0&&mm(o)===!1&&tC(o).each(function(T){o.selection.setRng(T),m=T});var x=aC(o,s.getNode());if(o.$.contains(d,x)){sC(x),uC(o,m),xw(o);return}o.inline||(Cr.opera||sC(d),o.getWin().focus()),(Cr.gecko||o.inline)&&(sC(d),uC(o,m)),xw(o)},xw=function(o){return o.editorManager.setActive(o)},WD=function(o,s){o.removed||(s?xw(o):Yg(o))},lC=function(o,s,d,m,x){var T=d?s.startContainer:s.endContainer,O=d?s.startOffset:s.endOffset;return fe.from(T).map(U.fromDom).map(function(B){return!m||!s.collapsed?Jf(B,x(B,O)).getOr(B):B}).bind(function(B){return la(B)?fe.some(B):ka(B).filter(la)}).map(function(B){return B.dom}).getOr(o)},w1=function(o,s,d){return lC(o,s,!0,d,function(m,x){return Math.min(Ub(m),x)})},cC=function(o,s,d){return lC(o,s,!1,d,function(m,x){return x>0?x-1:x})},Kg=function(o,s){for(var d=o;o&&or(o)&&o.length===0;)o=s?o.nextSibling:o.previousSibling;return o||d},_1=function(o,s){var d,m,x;if(!s)return o;m=s.startContainer,x=s.endContainer;var T=s.startOffset,O=s.endOffset;return d=s.commonAncestorContainer,!s.collapsed&&(m===x&&O-T<2&&m.hasChildNodes()&&(d=m.childNodes[T]),m.nodeType===3&&x.nodeType===3&&(m.length===T?m=Kg(m.nextSibling,!0):m=m.parentNode,O===0?x=Kg(x.previousSibling,!1):x=x.parentNode,m&&m===x))?m:d&&d.nodeType===3?d.parentNode:d},w4=function(o,s,d,m){var x,T=[],O=o.getRoot();if(d=o.getParent(d||w1(O,s,s.collapsed),o.isBlock),m=o.getParent(m||cC(O,s,s.collapsed),o.isBlock),d&&d!==O&&T.push(d),d&&m&&d!==m){x=d;for(var B=new mi(d,O);(x=B.next())&&x!==m;)o.isBlock(x)&&T.push(x)}return m&&d!==m&&m!==O&&T.push(m),T},UD=function(o,s,d){return fe.from(s).map(function(m){var x=o.nodeIndex(m),T=o.createRng();return T.setStart(m.parentNode,x),T.setEnd(m.parentNode,x+1),d&&(eh(o,T,m,!0),eh(o,T,m,!1)),T})},P0=function(o,s){return Ft(s,function(d){var m=o.fire("GetSelectionRange",{range:d});return m.range!==d?m.range:d})},_4={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},S1=function(o,s,d){var m=d?"lastChild":"firstChild",x=d?"prev":"next";if(o[m])return o[m];if(o!==s){var T=o[x];if(T)return T;for(var O=o.parent;O&&O!==s;O=O.parent)if(T=O[x],T)return T}},C1=function(o){if(!bf(o.value))return!1;var s=o.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(o.value))},qD=function(o){var s=o.name==="a"&&!o.attr("href")&&o.attr("id");return o.attr("name")||o.attr("id")&&!o.firstChild||o.attr("data-mce-bookmark")||s},Xc=function(){function o(s,d){this.name=s,this.type=d,d===1&&(this.attributes=[],this.attributes.map={})}return o.create=function(s,d){var m=new o(s,_4[s]||1);return d&&wn(d,function(x,T){m.attr(T,x)}),m},o.prototype.replace=function(s){var d=this;return s.parent&&s.remove(),d.insert(s,d),d.remove(),d},o.prototype.attr=function(s,d){var m=this,x;if(typeof s!="string")return s!=null&&wn(s,function(O,B){m.attr(B,O)}),m;if(x=m.attributes){if(d!==void 0){if(d===null){if(s in x.map){delete x.map[s];for(var T=x.length;T--;)if(x[T].name===s)return x.splice(T,1),m}return m}if(s in x.map){for(var T=x.length;T--;)if(x[T].name===s){x[T].value=d;break}}else x.push({name:s,value:d});return x.map[s]=d,m}return x.map[s]}},o.prototype.clone=function(){var s=this,d=new o(s.name,s.type),m;if(m=s.attributes){var x=[];x.map={};for(var T=0,O=m.length;T<O;T++){var B=m[T];B.name!=="id"&&(x[x.length]={name:B.name,value:B.value},x.map[B.name]=B.value)}d.attributes=x}return d.value=s.value,d.shortEnded=s.shortEnded,d},o.prototype.wrap=function(s){var d=this;return d.parent.insert(s,d),s.append(d),d},o.prototype.unwrap=function(){for(var s=this,d=s.firstChild;d;){var m=d.next;s.insert(d,s,!0),d=m}s.remove()},o.prototype.remove=function(){var s=this,d=s.parent,m=s.next,x=s.prev;return d&&(d.firstChild===s?(d.firstChild=m,m&&(m.prev=null)):x.next=m,d.lastChild===s?(d.lastChild=x,x&&(x.next=null)):m.prev=x,s.parent=s.next=s.prev=null),s},o.prototype.append=function(s){var d=this;s.parent&&s.remove();var m=d.lastChild;return m?(m.next=s,s.prev=m,d.lastChild=s):d.lastChild=d.firstChild=s,s.parent=d,s},o.prototype.insert=function(s,d,m){s.parent&&s.remove();var x=d.parent||this;return m?(d===x.firstChild?x.firstChild=s:d.prev.next=s,s.prev=d.prev,s.next=d,d.prev=s):(d===x.lastChild?x.lastChild=s:d.next.prev=s,s.next=d.next,s.prev=d,d.next=s),s.parent=x,s},o.prototype.getAll=function(s){for(var d=this,m=[],x=d.firstChild;x;x=S1(x,d))x.name===s&&m.push(x);return m},o.prototype.children=function(){for(var s=this,d=[],m=s.firstChild;m;m=m.next)d.push(m);return d},o.prototype.empty=function(){var s=this;if(s.firstChild){for(var d=[],m=s.firstChild;m;m=S1(m,s))d.push(m);for(var x=d.length;x--;){var m=d[x];m.parent=m.firstChild=m.lastChild=m.next=m.prev=null}}return s.firstChild=s.lastChild=null,s},o.prototype.isEmpty=function(s,d,m){d===void 0&&(d={});var x=this,T=x.firstChild;if(qD(x))return!1;if(T)do{if(T.type===1){if(T.attr("data-mce-bogus"))continue;if(s[T.name]||qD(T))return!1}if(T.type===8||T.type===3&&!C1(T)||T.type===3&&T.parent&&d[T.parent.name]&&bf(T.value)||m&&m(T))return!1}while(T=S1(T,x));return!0},o.prototype.walk=function(s){return S1(this,null,s)},o}(),fC=function(o){for(var s=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,d=[],m={},x=a0("img"),T,O=0,B=0;T=s.exec(o);){var H=T[0],Q=x+"_"+B++;m[Q]=H,O<T.index&&d.push(o.substr(O,T.index-O)),d.push(Q),O=T.index+H.length}var pe=new RegExp(x+"_[0-9]+","g");return O===0?{prefix:x,uris:m,html:o,re:pe}:(O<o.length&&d.push(o.substr(O)),{prefix:x,uris:m,html:d.join(""),re:pe})},ww=function(o,s){return o.replace(s.re,function(d){return zr(s.uris,d).getOr(d)})},S4=function(o){var s=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(o);return s?fe.some({type:s[1],data:decodeURIComponent(s[2])}):fe.none()},dC=qt.each,$D=qt.trim,_w="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),T1={ftp:21,http:80,https:443,mailto:25},hC=["img","video"],GD=function(o,s){return ae(o)?!o:ae(s)?!Ye(hC,s):!0},XD=function(o,s,d){return o.allow_html_data_urls?!1:/^data:image\//i.test(s)?GD(o.allow_svg_data_urls,d)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)},ip=function(){function o(s,d){s=$D(s),this.settings=d||{};var m=this.settings.base_uri,x=this;if(/^([\w\-]+):([^\/]{2})/i.test(s)||/^\s*#/.test(s)){x.source=s;return}var T=s.indexOf("//")===0;if(s.indexOf("/")===0&&!T&&(s=(m&&m.protocol||"http")+"://mce_host"+s),!/^[\w\-]*:?\/\//.test(s)){var O=this.settings.base_uri?this.settings.base_uri.path:new o(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")s="//mce_host"+x.toAbsPath(O,s);else{var B=/([^#?]*)([#?]?.*)/.exec(s);s=(m&&m.protocol||"http")+"://mce_host"+x.toAbsPath(O,B[1])+B[2]}}s=s.replace(/@@/g,"(mce_at)");var H=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(s);dC(_w,function(Q,pe){var ge=H[pe];ge&&(ge=ge.replace(/\(mce_at\)/g,"@@")),x[Q]=ge}),m&&(x.protocol||(x.protocol=m.protocol),x.userInfo||(x.userInfo=m.userInfo),!x.port&&x.host==="mce_host"&&(x.port=m.port),(!x.host||x.host==="mce_host")&&(x.host=m.host),x.source=""),T&&(x.protocol="")}return o.parseDataUri=function(s){var d,m=decodeURIComponent(s).split(","),x=/data:([^;]+)/.exec(m[0]);return x&&(d=x[1]),{type:d,data:m[1]}},o.isDomSafe=function(s,d,m){if(m===void 0&&(m={}),m.allow_script_urls)return!0;var x=Mc.decode(s).replace(/[\s\u0000-\u001F]+/g,"");try{x=decodeURIComponent(x)}catch{x=unescape(x)}return/((java|vb)script|mhtml):/i.test(x)?!1:!XD(m,x,d)},o.getDocumentBaseUrl=function(s){var d;return s.protocol.indexOf("http")!==0&&s.protocol!=="file:"?d=s.href:d=s.protocol+"//"+s.host+s.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(d)&&(d=d.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(d)||(d+="/")),d},o.prototype.setPath=function(s){var d=/^(.*?)\/?(\w+)?$/.exec(s);this.path=d[0],this.directory=d[1],this.file=d[2],this.source="",this.getURI()},o.prototype.toRelative=function(s){var d;if(s==="./")return s;var m=new o(s,{base_uri:this});if(m.host!=="mce_host"&&this.host!==m.host&&m.host||this.port!==m.port||this.protocol!==m.protocol&&m.protocol!=="")return m.getURI();var x=this.getURI(),T=m.getURI();return x===T||x.charAt(x.length-1)==="/"&&x.substr(0,x.length-1)===T?x:(d=this.toRelPath(this.path,m.path),m.query&&(d+="?"+m.query),m.anchor&&(d+="#"+m.anchor),d)},o.prototype.toAbsolute=function(s,d){var m=new o(s,{base_uri:this});return m.getURI(d&&this.isSameOrigin(m))},o.prototype.isSameOrigin=function(s){if(this.host==s.host&&this.protocol==s.protocol){if(this.port==s.port)return!0;var d=T1[this.protocol];if(d&&(this.port||d)==(s.port||d))return!0}return!1},o.prototype.toRelPath=function(s,d){var m=0,x="",T,O,B=s.substring(0,s.lastIndexOf("/")).split("/"),H=d.split("/");if(B.length>=H.length){for(T=0,O=B.length;T<O;T++)if(T>=H.length||B[T]!==H[T]){m=T+1;break}}if(B.length<H.length){for(T=0,O=H.length;T<O;T++)if(T>=B.length||B[T]!==H[T]){m=T+1;break}}if(m===1)return d;for(T=0,O=B.length-(m-1);T<O;T++)x+="../";for(T=m-1,O=H.length;T<O;T++)T!==m-1?x+="/"+H[T]:x+=H[T];return x},o.prototype.toAbsPath=function(s,d){var m,x=0,T=[],O,B=/\/$/.test(d)?"/":"",H=s.split("/"),Q=d.split("/");for(dC(H,function(pe){pe&&T.push(pe)}),H=T,m=Q.length-1,T=[];m>=0;m--)if(!(Q[m].length===0||Q[m]===".")){if(Q[m]===".."){x++;continue}if(x>0){x--;continue}T.push(Q[m])}return m=H.length-x,m<=0?O=gn(T).join("/"):O=H.slice(0,m).join("/")+"/"+gn(T).join("/"),O.indexOf("/")!==0&&(O="/"+O),B&&O.lastIndexOf("/")!==O.length-1&&(O+=B),O},o.prototype.getURI=function(s){s===void 0&&(s=!1);var d;return(!this.source||s)&&(d="",s||(this.protocol?d+=this.protocol+"://":d+="//",this.userInfo&&(d+=this.userInfo+"@"),this.host&&(d+=this.host),this.port&&(d+=":"+this.port)),this.path&&(d+=this.path),this.query&&(d+="?"+this.query),this.anchor&&(d+="#"+this.anchor),this.source=d),this.source},o}(),Sw=qt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),C4=function(o){return o.indexOf("data-")===0||o.indexOf("aria-")===0},pC=function(o,s,d){for(var m=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,x=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,T=o.getShortEndedElements(),O=1,B=d;O!==0;)for(m.lastIndex=B;;){var H=m.exec(s);if(H===null)return B;if(H[1]==="!"){he(H[2],"--")?B=mC(s,!1,H.index+3):B=mC(s,!0,H.index+1);break}else{x.lastIndex=m.lastIndex;var Q=x.exec(s);if(L(Q)||Q.index!==m.lastIndex)continue;H[1]==="/"?O-=1:Hr(T,H[2])||(O+=1),B=m.lastIndex+Q[0].length;break}}return B},T4=function(o,s){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(o.substr(s))},mC=function(o,s,d){d===void 0&&(d=0);var m=o.toLowerCase();if(m.indexOf("[if ",d)!==-1&&T4(m,d)){var x=m.indexOf("[endif]",d);return m.indexOf(">",x)}else if(s){var T=m.indexOf(">",d);return T!==-1?T:m.length}else{var O=/--!?>/g;O.lastIndex=d;var B=O.exec(o);return B?B.index+B[0].length:m.length}},N0=function(o,s){var d=o.exec(s);if(d){var m=d[1],x=d[2];return typeof m=="string"&&m.toLowerCase()==="data-mce-bogus"?x:null}else return null},Cw=function(o,s){var d;s===void 0&&(s=ko()),o=o||{};var m=(d=o.document)!==null&&d!==void 0?d:document,x=m.createElement("form");o.fix_self_closing!==!1&&(o.fix_self_closing=!0);var T=o.comment?o.comment:le,O=o.cdata?o.cdata:le,B=o.text?o.text:le,H=o.start?o.start:le,Q=o.end?o.end:le,pe=o.pi?o.pi:le,ge=o.doctype?o.doctype:le,ve=function(De,Ie){Ie===void 0&&(Ie="html");for(var Ne=De.html,Ke,Ge=0,at,bt,nt=[],Mt,Yt,Sn,Dr,Qn,pn,jr,An,Jn,Dn,Hn,rr,xn,ar,oo,xi,Wo,gu=0,Du=Mc.decode,Oc=qt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ef=Ie==="html"?0:1,yn=function(Ea){var Zi,Au;for(Zi=nt.length;Zi--&&nt[Zi].name!==Ea;);if(Zi>=0){for(Au=nt.length-1;Au>=Zi;Au--)Ea=nt[Au],Ea.valid&&Q(Ea.name);nt.length=Zi}},zt=function(Ea,Zi){return B(ww(Ea,De),Zi)},Cn=function(Ea){Ea!==""&&(Ea.charAt(0)===">"&&(Ea=" "+Ea),!o.allow_conditional_comments&&Ea.substr(0,3).toLowerCase()==="[if"&&(Ea=" "+Ea),T(ww(Ea,De)))},Vt=function(Ea){return ww(Ea,De)},fr=function(Ea,Zi){var Au=Ea||"",dh=!he(Au,"--"),Em=mC(Ne,dh,Zi);return Ea=Ne.substr(Zi,Em-Zi),Cn(dh?Au+Ea:Ea),Em+1},Fn=function(Ea,Zi,Au,dh,Em){if(Zi=Zi.toLowerCase(),Au=Vt(Zi in cc?Zi:Du(Au||dh||Em||"")),_d&&!Qn&&C4(Zi)===!1){var hh=Hn[Zi];if(!hh&&rr){for(var mp=rr.length;mp--&&(hh=rr[mp],!hh.pattern.test(Zi)););mp===-1&&(hh=null)}if(!hh||hh.validValues&&!(Au in hh.validValues))return}var yT=Zi==="name"||Zi==="id";yT&&Ea in Sw&&(Au in m||Au in x)||Oc[Zi]&&!ip.isDomSafe(Au,Ea,o)||Qn&&(Zi in Oc||Zi.indexOf("on")===0)||(Mt.map[Zi]=Au,Mt.push({name:Zi,value:Au}))},Fr=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Do=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,ma=s.getShortEndedElements(),Ll=o.self_closing_elements||s.getSelfClosingElements(),cc=s.getBoolAttrs(),_d=o.validate,Bl=o.remove_internals,zl=o.fix_self_closing,zu=s.getSpecialElements(),hv=Ne+">";Ke=Fr.exec(hv);){var Ps=Ke[0];if(Ge<Ke.index&&zt(Du(Ne.substr(Ge,Ke.index-Ge))),at=Ke[7])at=at.toLowerCase(),at.charAt(0)===":"&&(at=at.substr(1)),yn(at);else if(at=Ke[8]){if(Ke.index+Ps.length>Ne.length){zt(Du(Ne.substr(Ke.index))),Ge=Ke.index+Ps.length;continue}at=at.toLowerCase(),at.charAt(0)===":"&&(at=at.substr(1)),pn=at in ma,zl&&Ll[at]&&nt.length>0&&nt[nt.length-1].name===at&&yn(at);var Sd=N0(Do,Ke[9]);if(Sd!==null){if(Sd==="all"){Ge=pC(s,Ne,Fr.lastIndex),Fr.lastIndex=Ge;continue}An=!1}if(!_d||(jr=s.getElementRule(at))){if(An=!0,_d&&(Hn=jr.attributes,rr=jr.attributePatterns),(Dn=Ke[9])?(Qn=Dn.indexOf("data-mce-type")!==-1,Qn&&Bl&&(An=!1),Mt=[],Mt.map={},Dn.replace(Do,function(Ea,Zi,Au,dh,Em){return Fn(at,Zi,Au,dh,Em),""})):(Mt=[],Mt.map={}),_d&&!Qn){if(xn=jr.attributesRequired,ar=jr.attributesDefault,oo=jr.attributesForced,xi=jr.removeEmptyAttrs,xi&&!Mt.length&&(An=!1),oo)for(Yt=oo.length;Yt--;)Jn=oo[Yt],Dr=Jn.name,Wo=Jn.value,Wo==="{$uid}"&&(Wo="mce_"+gu++),Mt.map[Dr]=Wo,Mt.push({name:Dr,value:Wo});if(ar)for(Yt=ar.length;Yt--;)Jn=ar[Yt],Dr=Jn.name,Dr in Mt.map||(Wo=Jn.value,Wo==="{$uid}"&&(Wo="mce_"+gu++),Mt.map[Dr]=Wo,Mt.push({name:Dr,value:Wo}));if(xn){for(Yt=xn.length;Yt--&&!(xn[Yt]in Mt.map););Yt===-1&&(An=!1)}if(Jn=Mt.map["data-mce-bogus"]){if(Jn==="all"){Ge=pC(s,Ne,Fr.lastIndex),Fr.lastIndex=Ge;continue}An=!1}}An&&H(at,Mt,pn)}else An=!1;if(bt=zu[at]){bt.lastIndex=Ge=Ke.index+Ps.length,(Ke=bt.exec(Ne))?(An&&(Sn=Ne.substr(Ge,Ke.index-Ge)),Ge=Ke.index+Ke[0].length):(Sn=Ne.substr(Ge),Ge=Ne.length),An&&(Sn.length>0&&zt(Sn,!0),Q(at)),Fr.lastIndex=Ge;continue}pn||(!Dn||Dn.indexOf("/")!==Dn.length-1?nt.push({name:at,valid:An}):An&&Q(at))}else if(at=Ke[1])Cn(at);else if(at=Ke[2]){var Am=ef===1||o.preserve_cdata||nt.length>0&&s.isValidChild(nt[nt.length-1].name,"#cdata");if(Am)O(at);else{Ge=fr("",Ke.index+2),Fr.lastIndex=Ge;continue}}else if(at=Ke[3])ge(at);else if((at=Ke[4])||Ps==="<!"){Ge=fr(at,Ke.index+Ps.length),Fr.lastIndex=Ge;continue}else if(at=Ke[5])if(ef===1)pe(at,Ke[6]);else{Ge=fr("?",Ke.index+2),Fr.lastIndex=Ge;continue}Ge=Ke.index+Ps.length}for(Ge<Ne.length&&zt(Du(Ne.substr(Ge))),Yt=nt.length-1;Yt>=0;Yt--)at=nt[Yt],at.valid&&Q(at.name)},Ae=function(De,Ie){Ie===void 0&&(Ie="html"),ve(fC(De),Ie)};return{parse:Ae}};Cw.findEndTag=pC;var M4=function(o,s){var d=new RegExp(["\\s?("+o.join("|")+')="[^"]+"'].join("|"),"gi");return s.replace(d,"")},YD=function(o,s){for(var d=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,m=o.schema,x=M4(o.getTempAttrs(),s),T=m.getShortEndedElements(),O;O=d.exec(x);){var B=d.lastIndex,H=O[0].length,Q=void 0;T[O[1]]?Q=B:Q=Cw.findEndTag(m,x,B),x=x.substring(0,B-H)+x.substring(Q),d.lastIndex=B-H}return od(x)},gC=YD,vC=function(o,s){var d=hs(o),m=new RegExp("^(<"+d+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+d+`>[\r
]*|<br \\/>[\r
]*)$`);return s.replace(m,"")},k4=function(o,s){return dr(dr({},o),{format:s,get:!0,getInner:!0})},Tw=function(o,s,d,m){var x=k4(s,d),T=s.no_events?x:o.fire("BeforeGetContent",x),O;return T.format==="raw"?O=qt.trim(gC(o.serializer,m.innerHTML)):T.format==="text"?O=o.dom.isEmpty(m)?"":od(m.innerText||m.textContent):T.format==="tree"?O=o.serializer.serialize(m,T):O=vC(o,o.serializer.serialize(m,T)),!Ye(["text","tree"],T.format)&&!ag(U.fromDom(m))?T.content=qt.trim(O):T.content=O,T.no_events?T.content:o.fire("GetContent",T).content},KD=function(o,s,d){return fe.from(o.getBody()).fold(Z(s.format==="tree"?new Xc("body",11):""),function(m){return Tw(o,s,d,m)})},JD=qt.each,ZD=function(o){var s=function(d,m){if(d.nodeName!==m.nodeName)return!1;var x=function(O){var B={};return JD(o.getAttribs(O),function(H){var Q=H.nodeName.toLowerCase();Q.indexOf("_")!==0&&Q!=="style"&&Q.indexOf("data-")!==0&&(B[Q]=o.getAttrib(O,Q))}),B},T=function(O,B){var H,Q;for(Q in O)if(Hr(O,Q)){if(H=B[Q],typeof H>"u"||O[Q]!==H)return!1;delete B[Q]}for(Q in B)if(Hr(B,Q))return!1;return!0};return!T(x(d),x(m))||!T(o.parseStyle(o.getAttrib(d,"style")),o.parseStyle(o.getAttrib(m,"style")))?!1:!ic(d)&&!ic(m)};return{compare:s}},M1=qt.makeMap,k1=function(o){var s=[];o=o||{};var d=o.indent,m=M1(o.indent_before||""),x=M1(o.indent_after||""),T=Mc.getEncodeFunc(o.entity_encoding||"raw",o.entities),O=o.element_format==="html";return{start:function(B,H,Q){var pe,ge,ve,Ae;if(d&&m[B]&&s.length>0&&(Ae=s[s.length-1],Ae.length>0&&Ae!==`
`&&s.push(`
`)),s.push("<",B),H)for(pe=0,ge=H.length;pe<ge;pe++)ve=H[pe],s.push(" ",ve.name,'="',T(ve.value,!0),'"');!Q||O?s[s.length]=">":s[s.length]=" />",Q&&d&&x[B]&&s.length>0&&(Ae=s[s.length-1],Ae.length>0&&Ae!==`
`&&s.push(`
`))},end:function(B){var H;s.push("</",B,">"),d&&x[B]&&s.length>0&&(H=s[s.length-1],H.length>0&&H!==`
`&&s.push(`
`))},text:function(B,H){B.length>0&&(s[s.length]=H?B:T(B))},cdata:function(B){s.push("<![CDATA[",B,"]]>")},comment:function(B){s.push("<!--",B,"-->")},pi:function(B,H){H?s.push("<?",B," ",T(H),"?>"):s.push("<?",B,"?>"),d&&s.push(`
`)},doctype:function(B){s.push("<!DOCTYPE",B,">",d?`
`:"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}},Jg=function(o,s){s===void 0&&(s=ko());var d=k1(o);o=o||{},o.validate="validate"in o?o.validate:!0;var m=function(x){var T=o.validate,O={3:function(H){d.text(H.value,H.raw)},8:function(H){d.comment(H.value)},7:function(H){d.pi(H.name,H.value)},10:function(H){d.doctype(H.value)},4:function(H){d.cdata(H.value)},11:function(H){if(H=H.firstChild)do B(H);while(H=H.next)}};d.reset();var B=function(H){var Q=O[H.type];if(Q)Q(H);else{var pe=H.name,ge=H.shortEnded,ve=H.attributes;if(T&&ve&&ve.length>1){var Ae=[];Ae.map={};var De=s.getElementRule(H.name);if(De){for(var Ie=0,Ne=De.attributesOrder.length;Ie<Ne;Ie++){var Ke=De.attributesOrder[Ie];if(Ke in ve.map){var Ge=ve.map[Ke];Ae.map[Ke]=Ge,Ae.push({name:Ke,value:Ge})}}for(var Ie=0,Ne=ve.length;Ie<Ne;Ie++){var Ke=ve[Ie].name;if(!(Ke in Ae.map)){var Ge=ve.map[Ke];Ae.map[Ke]=Ge,Ae.push({name:Ke,value:Ge})}}ve=Ae}}if(d.start(H.name,ve,ge),!ge){if(H=H.firstChild)do B(H);while(H=H.next);d.end(pe)}}};return x.type===1&&!o.inner?B(x):O[11](x),d.getContent()};return{serialize:m}},QD=new Set;(function(){var o=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Ct(o,function(s){QD.add(s)})})();var eA=["font","text-decoration","text-emphasis"],Mw=function(o,s){return an(o.parseStyle(o.getAttrib(s,"style")))},kw=function(o){return QD.has(o)},yC=function(o,s){return Go(Mw(o,s),function(d){return!kw(d)})},bC=function(o){return Xe(o,function(s){return st(eA,function(d){return he(s,d)})})},tA=function(o,s,d){var m=Mw(o,s),x=Mw(o,d),T=function(O){var B=o.getStyle(s,O),H=o.getStyle(d,O);return kt(B)&&kt(H)&&B!==H};return st(m,function(O){var B=function(Q){return st(Q,function(pe){return pe===O})};if(!B(x)&&B(eA)){var H=bC(x);return st(H,T)}else return T(O)})},oh=function(o,s,d){return fe.from(d.container()).filter(or).exists(function(m){var x=o?0:-1;return s(m.data.charAt(d.offset()+x))})},xC=ke(oh,!0,y0),ih=ke(oh,!1,y0),D4=function(o){var s=o.container();return or(s)&&(s.data.length===0||sl(s.data)&&th.isBookmarkNode(s.parentNode))},ap=function(o,s){return function(d){return fe.from(g0(o?0:-1,d)).filter(s).isSome()}},nA=function(o){return Pv(o)&&bo(U.fromDom(o),"display")==="block"},rA=function(o){return ca(o)&&!_u(o)},A4=ap(!0,nA),E4=ap(!1,nA),L0=ap(!0,kl),B0=ap(!1,kl),Dw=ap(!0,tu),oA=ap(!1,tu),gm=ap(!0,rA),vm=ap(!1,rA),iA=function(o){for(var s=[],d=o.dom;d;)s.push(U.fromDom(d)),d=d.lastChild;return s},D1=function(o){var s=Il(o,"br"),d=Xe(iA(o).slice(-1),jv);s.length===d.length&&Ct(d,Ba)},Zg=function(o){Rh(o),wu(o,U.fromHtml('<br data-mce-bogus="1">'))},Rr=function(o){Gl(o).each(function(s){Eh(s).each(function(d){_c(o)&&jv(s)&&_c(d)&&Ba(s)})})},wC=function(o){return o.slice(0,-1)},Aw=function(o,s,d){return li(s,o)?wC(xu(o,function(m){return d(m)||Vr(m,s)})):[]},_C=function(o,s){return Aw(o,s,$e)},up=function(o,s){return[o].concat(_C(o,s))},Ew=function(o,s,d){return r1(o,s,d,D4)},A1=function(o,s){return Zn(up(U.fromDom(s.container()),o),_c)},Ow=function(o,s,d){return Ew(o,s.dom,d).forall(function(m){return A1(s,d).fold(function(){return kf(m,d,s.dom)===!1},function(x){return kf(m,d,s.dom)===!1&&li(x,U.fromDom(m.container()))})})},SC=function(o,s,d){return A1(s,d).fold(function(){return Ew(o,s.dom,d).forall(function(m){return kf(m,d,s.dom)===!1})},function(m){return Ew(o,m.dom,d).isNone()})},CC=ke(SC,!1),Qr=ke(SC,!0),aA=ke(Ow,!1),po=ke(Ow,!0),uA=function(o){return im(o).exists(jv)},E1=function(o,s,d){var m=Xe(up(U.fromDom(d.container()),s),_c),x=hn(m).getOr(s);return Os(o,x.dom,d).filter(uA)},Iw=function(o,s){return im(s).exists(jv)||E1(!0,o,s).isSome()},ym=function(o,s){return Wk(s).exists(jv)||E1(!1,o,s).isSome()},TC=ke(E1,!1),Rw=ke(E1,!0),O1=function(o){return Wt.isTextPosition(o)&&!o.isAtStart()&&!o.isAtEnd()},sA=function(o,s){var d=Xe(up(U.fromDom(s.container()),o),_c);return hn(d).getOr(o)},$r=function(o,s){return O1(s)?ih(s):ih(s)||Uc(sA(o,s).dom,s).exists(ih)},lA=function(o,s){return O1(s)?xC(s):xC(s)||Wc(sA(o,s).dom,s).exists(xC)},cA=function(o){return Ye(["pre","pre-wrap"],o)},z0=function(o){return im(o).bind(function(s){return Fv(s,la)}).exists(function(s){return cA(bo(s,"white-space"))})},Qg=function(o,s){return Uc(o.dom,s).isNone()},fA=function(o,s){return Wc(o.dom,s).isNone()},dA=function(o,s){return Qg(o,s)||fA(o,s)||CC(o,s)||Qr(o,s)||ym(o,s)||Iw(o,s)},MC=function(o,s){return z0(s)?!1:dA(o,s)||$r(o,s)||lA(o,s)},Pw=function(o,s){return z0(s)?!1:CC(o,s)||aA(o,s)||ym(o,s)||$r(o,s)},hA=function(o){var s=o.container(),d=o.offset();return or(s)&&d<s.data.length?Wt(s,d+1):o},Nw=function(o,s){return z0(s)?!1:Qr(o,s)||po(o,s)||Iw(o,s)||lA(o,s)},pA=function(o,s){return Pw(o,s)||Nw(o,hA(s))},mA=function(o,s){return um(o.charAt(s))},O4=function(o){var s=o.container();return or(s)&&Jt(s.data,Kl)},I4=function(o){var s=o.split("");return Ft(s,function(d,m){return um(d)&&m>0&&m<s.length-1&&o1(s[m-1])&&o1(s[m+1])?" ":d}).join("")},R4=function(o,s){var d=s.data,m=Wt(s,0);return mA(d,0)&&!pA(o,m)?(s.data=" "+d.slice(1),!0):!1},P4=function(o){var s=o.data,d=I4(s);return d!==s?(o.data=d,!0):!1},gA=function(o,s){var d=s.data,m=Wt(s,d.length-1);return mA(d,d.length-1)&&!pA(o,m)?(s.data=d.slice(0,-1)+" ",!0):!1},kC=function(o,s){return fe.some(s).filter(O4).bind(function(d){var m=d.container(),x=R4(o,m)||P4(m)||gA(o,m);return x?fe.some(d):fe.none()})},zo=function(o){var s=U.fromDom(o.getBody());o.selection.isCollapsed()&&kC(s,Wt.fromRangeStart(o.selection.getRng())).each(function(d){o.selection.setRng(d.toRange())})},vA=function(o,s,d){var m=Mn(o,function(x,T){return y0(T)||um(T)?x.previousCharIsSpace||x.str===""&&s||x.str.length===o.length-1&&d?{previousCharIsSpace:!1,str:x.str+Kl}:{previousCharIsSpace:!0,str:x.str+" "}:{previousCharIsSpace:!1,str:x.str+T}},{previousCharIsSpace:!1,str:""});return m.str},I1=function(o,s,d){if(d!==0){var m=U.fromDom(o),x=Rp(m,_c).getOr(m),T=o.data.slice(s,s+d),O=s+d>=o.data.length&&Nw(x,Wt(o,o.data.length)),B=s===0&&Pw(x,Wt(o,0));o.replaceData(s,d,vA(T,B,O))}},R1=function(o,s){var d=o.data.slice(s),m=d.length-lt(d).length;I1(o,s,m)},Lw=function(o,s){var d=o.data.slice(0,s),m=d.length-wt(d).length;I1(o,s-m,m)},Bw=function(o,s,d,m){m===void 0&&(m=!0);var x=wt(o.data).length,T=m?o:s,O=m?s:o;return m?T.appendData(O.data):T.insertData(0,O.data),Ba(U.fromDom(O)),d&&R1(T,x),T},yA=function(o,s){var d=o.container(),m=o.offset();return Wt.isTextPosition(o)===!1&&d===s.parentNode&&m>Wt.before(s).offset()},bA=function(o,s){return yA(s,o)?Wt(s.container(),s.offset()-1):s},v=function(o){return or(o)?Wt(o,0):Wt.before(o)},C=function(o){return or(o)?Wt(o,o.data.length):Wt.after(o)},D=function(o){return Wd(o.previousSibling)?fe.some(C(o.previousSibling)):o.previousSibling?dd(o.previousSibling):fe.none()},P=function(o){return Wd(o.nextSibling)?fe.some(v(o.nextSibling)):o.nextSibling?pl(o.nextSibling):fe.none()},F=function(o,s){var d=Wt.before(s.previousSibling?s.previousSibling:s.parentNode);return Uc(o,d).fold(function(){return Wc(o,Wt.after(s))},fe.some)},G=function(o,s){return Wc(o,Wt.after(s)).fold(function(){return Uc(o,Wt.before(s))},fe.some)},re=function(o,s){return D(s).orThunk(function(){return P(s)}).orThunk(function(){return F(o,s)})},de=function(o,s){return P(s).orThunk(function(){return D(s)}).orThunk(function(){return G(o,s)})},Se=function(o,s,d){return o?de(s,d):re(s,d)},Le=function(o,s,d){return Se(o,s,d).map(ke(bA,d))},ot=function(o,s,d){d.fold(function(){o.focus()},function(m){o.selection.setRng(m.toRange(),s)})},Gt=function(o){return function(s){return s.dom===o}},_n=function(o,s){return s&&Hr(o.schema.getBlockElements(),ni(s))},sn=function(o){if(ls(o)){var s=U.fromHtml('<br data-mce-bogus="1">');return Rh(o),wu(o,s),fe.some(Wt.before(s.dom))}else return fe.none()},Xt=function(o,s,d){var m=Eh(o).filter(wa),x=bc(o).filter(wa);return Ba(o),s_(m,x,s,function(T,O,B){var H=T.dom,Q=O.dom,pe=H.data.length;return Bw(H,Q,d),B.container()===Q?Wt(H,pe):B}).orThunk(function(){return d&&(m.each(function(T){return Lw(T.dom,T.dom.length)}),x.each(function(T){return R1(T.dom,0)})),s})},Nn=function(o,s){return Hr(o.schema.getTextInlineElements(),ni(s))},Pn=function(o,s,d,m){m===void 0&&(m=!0);var x=Le(s,o.getBody(),d.dom),T=Rp(d,ke(_n,o),Gt(o.getBody())),O=Xt(d,x,Nn(o,d));o.dom.isEmpty(o.getBody())?(o.setContent(""),o.selection.setCursorLocation()):T.bind(sn).fold(function(){m&&ot(o,s,O)},function(B){m&&ot(o,s,fe.some(B))})},xr=function(o){return function(s){return Vr(o,s)}},qo=function(o){return Il(o,"td,th")},Ar=function(o,s){var d=function(Q){return Df(U.fromDom(Q),s)},m=d(o.startContainer),x=d(o.endContainer),T=m.isSome(),O=x.isSome(),B=js(m,x,Vr).getOr(!1),H=!B&&T&&O;return{startTable:m,endTable:x,isStartInTable:T,isEndInTable:O,isSameTable:B,isMultiTable:H}},Gr=function(o,s){return{start:o,end:s}},Po=function(o,s,d){return{rng:o,table:s,cells:d}},xo=Sr.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Fa=function(o,s){return Ga(U.fromDom(o),"td,th",s)},Lu=function(o){return!Vr(o.start,o.end)},Xs=function(o,s){return Df(o.start,s).bind(function(d){return Df(o.end,s).bind(function(m){return l_(Vr(d,m),d)})})},Yo=function(o,s){return!Lu(o)&&Xs(o,s).exists(function(d){var m=d.dom.rows;return m.length===1&&m[0].cells.length===1})},eo=function(o,s){var d=Fa(o.startContainer,s),m=Fa(o.endContainer,s);return js(d,m,Gr)},Fo=function(o){return function(s){return Df(s,o).bind(function(d){return Bn(qo(d)).map(function(m){return Gr(s,m)})})}},bi=function(o){return function(s){return Df(s,o).bind(function(d){return hn(qo(d)).map(function(m){return Gr(m,s)})})}},pa=function(o){return function(s){return Xs(s,o).map(function(d){return Po(s,d,qo(d))})}},ah=function(o,s,d,m){if(d.collapsed||!o.forall(Lu))return fe.none();if(s.isSameTable){var x=o.bind(pa(m));return fe.some({start:x,end:x})}else{var T=Fa(d.startContainer,m),O=Fa(d.endContainer,m),B=T.bind(Fo(m)).bind(pa(m)),H=O.bind(bi(m)).bind(pa(m));return fe.some({start:B,end:H})}},gi=function(o,s){return pr(o,function(d){return Vr(d,s)})},uc=function(o){return js(gi(o.cells,o.rng.start),gi(o.cells,o.rng.end),function(s,d){return o.cells.slice(s,d+1)})},gs=function(o,s,d){return o.exists(function(m){return Yo(m,d)&&s1(m.start,s)})},P1=function(o,s){var d=s.startTable,m=s.endTable,x=o.cloneRange();return d.each(function(T){return x.setStartAfter(T.dom)}),m.each(function(T){return x.setEndBefore(T.dom)}),x},ev=function(o,s,d,m){return ah(o,s,d,m).bind(function(x){var T=x.start,O=x.end;return T.or(O)}).bind(function(x){var T=s.isSameTable,O=uc(x).getOr([]);if(T&&x.cells.length===O.length)return fe.some(xo.fullTable(x.table));if(O.length>0){if(T)return fe.some(xo.partialTable(O,fe.none()));var B=P1(d,s);return fe.some(xo.partialTable(O,fe.some(dr(dr({},s),{rng:B}))))}else return fe.none()})},gd=function(o,s,d,m){return ah(o,s,d,m).bind(function(x){var T=x.start,O=x.end,B=T.bind(uc).getOr([]),H=O.bind(uc).getOr([]);if(B.length>0&&H.length>0){var Q=P1(d,s);return fe.some(xo.multiTable(B,H,Q))}else return fe.none()})},Yc=function(o,s){var d=xr(o),m=eo(s,d),x=Ar(s,d);return gs(m,s,d)?m.map(function(T){return xo.singleCellTable(s,T.start)}):x.isMultiTable?gd(m,x,s,d):ev(m,x,s,d)},vd=function(o){var s=ql(o)?Eh(o):Gl(o);return s.bind(vd).orThunk(function(){return fe.some(o)})},N1=function(o){return Ct(o,function(s){Zt(s,"contenteditable"),Zg(s)})},F0=function(o,s){return fe.from(o.dom.getParent(s,o.dom.isBlock)).map(U.fromDom)},L1=function(o,s,d){d.each(function(m){s?Ba(m):(Zg(m),o.selection.setCursorLocation(m.dom,0))})},tv=function(o,s,d,m){var x=d.cloneRange();m?(x.setStart(d.startContainer,d.startOffset),x.setEndAfter(s.dom.lastChild)):(x.setStartBefore(s.dom.firstChild),x.setEnd(d.endContainer,d.endOffset)),Fw(o,x,s,!1)},Of=function(o){var s=Wg(o),d=U.fromDom(o.selection.getNode());Nv(d.dom)&&ls(d)?o.selection.setCursorLocation(d.dom,0):o.selection.collapse(!0),s.length>1&&st(s,function(m){return Vr(m,d)})&&J(d,"data-mce-selected","1")},nv=function(o,s,d){var m=o.selection.getRng(),x=d.bind(function(T){var O=T.rng,B=T.isStartInTable,H=F0(o,B?O.endContainer:O.startContainer);O.deleteContents(),L1(o,B,H.filter(ls));var Q=B?s[0]:s[s.length-1];return tv(o,Q,m,B),ls(Q)?fe.none():fe.some(B?s.slice(1):s.slice(0,-1))}).getOr(s);return N1(x),Of(o),!0},zw=function(o,s,d,m){var x=o.selection.getRng(),T=s[0],O=d[d.length-1];tv(o,T,x,!0),tv(o,O,x,!1);var B=ls(T)?s:s.slice(1),H=ls(O)?d:d.slice(0,-1);return N1(B.concat(H)),m.deleteContents(),Of(o),!0},Fw=function(o,s,d,m){m===void 0&&(m=!0),s.deleteContents();var x=vd(d).getOr(d),T=U.fromDom(o.dom.getParent(x.dom,o.dom.isBlock));if(ls(T)&&(Zg(T),m&&o.selection.setCursorLocation(T.dom,0)),!Vr(d,T)){var O=og(ka(T),d)?[]:eu(T);Ct(O.concat(Hs(d)),function(B){!Vr(B,T)&&!li(B,T)&&ls(B)&&Ba(B)})}return!0},B1=function(o,s){return Pn(o,!1,s),!0},UL=function(o,s,d){return Yc(s,d).map(function(m){return m.fold(ke(Fw,o),ke(B1,o),ke(nv,o),ke(zw,o))})},R9=function(o,s){return If(o,s)},P9=function(o,s,d,m){return vl(s,m).fold(function(){return UL(o,s,d)},function(x){return R9(o,x)}).getOr(!1)},rv=function(o,s,d){var m=U.fromDom(o.getBody()),x=o.selection.getRng();return d.length!==0?nv(o,d,fe.none()):P9(o,m,x,s)},qL=function(o,s){return Zn(up(s,o),rd)},vl=function(o,s){return Zn(up(s,o),Cy("caption"))},ci=function(o,s,d,m,x){return Bg(d,o.getBody(),x).bind(function(T){return qL(s,U.fromDom(T.getNode())).map(function(O){return Vr(O,m)===!1})})},If=function(o,s){return Zg(s),o.selection.setCursorLocation(s.dom,0),fe.some(!0)},N9=function(o,s,d,m){return pl(o.dom).bind(function(x){return dd(o.dom).map(function(T){return s?d.isEqual(x)&&m.isEqual(T):d.isEqual(T)&&m.isEqual(x)})}).getOr(!0)},$L=function(o,s){return If(o,s)},N4=function(o,s,d){return vl(o,U.fromDom(d.getNode())).map(function(m){return Vr(m,s)===!1})},L4=function(o,s,d,m,x){return Bg(d,o.getBody(),x).bind(function(T){return N9(m,d,x,T)?$L(o,m):N4(s,m,T)}).or(fe.some(!0))},GL=function(o,s,d,m){var x=Wt.fromRangeStart(o.selection.getRng());return qL(d,m).bind(function(T){return ls(T)?If(o,T):ci(o,d,s,T,x)}).getOr(!1)},XL=function(o,s,d,m){var x=Wt.fromRangeStart(o.selection.getRng());return ls(m)?If(o,m):L4(o,d,s,m,x)},YL=function(o,s){return o?Dw(s):oA(s)},L9=function(o,s){var d=Wt.fromRangeStart(o.selection.getRng());return YL(s,d)||Os(s,o.getBody(),d).exists(function(m){return YL(s,m)})},B4=function(o,s,d){var m=U.fromDom(o.getBody());return vl(m,d).fold(function(){return GL(o,s,m,d)||L9(o,s)},function(x){return XL(o,s,m,x).getOr(!1)})},DC=function(o,s){var d=U.fromDom(o.selection.getStart(!0)),m=Wg(o);return o.selection.isCollapsed()&&m.length===0?B4(o,s,d):rv(o,d,m)},sp=function(o,s,d,m){var x=document.createRange();return x.setStart(o,s),x.setEnd(d,m),x},B9=function(o){var s=Wt.fromRangeStart(o),d=Wt.fromRangeEnd(o),m=o.commonAncestorContainer;return Os(!1,m,d).map(function(x){return!kf(s,d,m)&&kf(s,x,m)?sp(s.container(),s.offset(),x.container(),x.offset()):o}).getOr(o)},z4=function(o){return o.collapsed?o:B9(o)},z9=function(o){return o.firstChild&&o.firstChild===o.lastChild},F4=function(o){return o.name==="br"||o.value===Kl},F9=function(o,s){var d=o.getBlockElements();return d[s.name]&&z9(s)&&F4(s.firstChild)},V9=function(o,s){var d=o.getNonEmptyElements();return s&&(s.isEmpty(d)||F9(o,s))},V4=function(o,s){var d=s.firstChild,m=s.lastChild;return d&&d.name==="meta"&&(d=d.next),m&&m.attr("id")==="mce_marker"&&(m=m.prev),V9(o,m)&&(m=m.prev),!d||d!==m?!1:d.name==="ul"||d.name==="ol"},H9=function(o){var s=o.firstChild,d=o.lastChild;return s&&s.nodeName==="META"&&s.parentNode.removeChild(s),d&&d.id==="mce_marker"&&d.parentNode.removeChild(d),o},j9=function(o,s,d){var m=s.serialize(d),x=o.createFragment(m);return H9(x)},KL=function(o){return Xe(o.childNodes,function(s){return s.nodeName==="LI"})},W9=function(o){return o.data===Kl||Ii(o)},U9=function(o){return o&&o.firstChild&&o.firstChild===o.lastChild&&W9(o.firstChild)},xA=function(o){return!o.firstChild||U9(o)},q9=function(o){return o.length>0&&xA(o[o.length-1])?o.slice(0,-1):o},wA=function(o,s){var d=o.getParent(s,o.isBlock);return d&&d.nodeName==="LI"?d:null},JL=function(o,s){return!!wA(o,s)},H4=function(o,s){var d=s.cloneRange(),m=s.cloneRange();return d.setStartBefore(o),m.setEndAfter(o),[d.cloneContents(),m.cloneContents()]},$9=function(o,s){var d=Wt.before(o),m=fd(s),x=m.next(d);return x?x.toRange():null},ZL=function(o,s){var d=Wt.after(o),m=fd(s),x=m.prev(d);return x?x.toRange():null},j4=function(o,s,d,m){var x=H4(o,m),T=o.parentNode;return T.insertBefore(x[0],o),qt.each(s,function(O){T.insertBefore(O,o)}),T.insertBefore(x[1],o),T.removeChild(o),ZL(s[s.length-1],d)},G9=function(o,s,d){var m=o.parentNode;return qt.each(s,function(x){m.insertBefore(x,o)}),$9(o,d)},X9=function(o,s,d,m){return m.insertAfter(s.reverse(),o),ZL(s[0],d)},AC=function(o,s,d,m){var x=j9(s,o,m),T=wA(s,d.startContainer),O=q9(KL(x.firstChild)),B=1,H=2,Q=s.getRoot(),pe=function(ge){var ve=Wt.fromRangeStart(d),Ae=fd(s.getRoot()),De=ge===B?Ae.prev(ve):Ae.next(ve);return De?wA(s,De.getNode())!==T:!0};return pe(B)?G9(T,O,Q):pe(H)?X9(T,O,Q,s):j4(T,O,Q,d)},W4=function(o,s,d){var m=U.fromDom(o.getRoot());return Pw(m,Wt.fromRangeStart(s))?d=d.replace(/^ /,"&nbsp;"):d=d.replace(/^&nbsp;/," "),Nw(m,Wt.fromRangeEnd(s))?d=d.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):d=d.replace(/&nbsp;(<br( \/)?>)?$/," "),d},U4=Nv,Y9=function(o,s,d){if(d!==null){var m=o.getParent(s.endContainer,U4);return d===m&&s1(U.fromDom(d),s)}else return!1},QL=function(o,s,d){if(d.getAttribute("data-mce-bogus")==="all")d.parentNode.insertBefore(o.dom.createFragment(s),d);else{var m=d.firstChild,x=d.lastChild;!m||m===x&&m.nodeName==="BR"?o.dom.setHTML(d,s):o.selection.setContent(s)}},e6=function(o,s){fe.from(o.getParent(s,"td,th")).map(U.fromDom).each(Rr)},K9=function(o,s){var d=o.schema.getTextInlineElements(),m=o.dom;if(s){var x=o.getBody(),T=ZD(m);qt.each(m.select("*[data-mce-fragment]"),function(O){var B=ae(d[O.nodeName.toLowerCase()]);if(B&&yC(m,O))for(var H=O.parentNode;ae(H)&&H!==x;H=H.parentNode){var Q=tA(m,O,H);if(Q)break;if(T.compare(H,O)){m.remove(O,!0);break}}})}},J9=function(o){for(var s=o;s=s.walk();)s.type===1&&s.attr("data-mce-fragment","1")},Z9=function(o){qt.each(o.getElementsByTagName("*"),function(s){s.removeAttribute("data-mce-fragment")})},Q9=function(o){return!!o.getAttribute("data-mce-fragment")},t6=function(o,s){return s&&!o.schema.getShortEndedElements()[s.nodeName]},n6=function(o,s){var d,m=o.dom,x=o.selection;if(s){x.scrollIntoView(s);var T=lm(o.getBody(),s);if(m.getContentEditable(T)==="false"){m.remove(s),x.select(T);return}var O=m.createRng(),B=s.previousSibling;if(or(B)){if(O.setStart(B,B.nodeValue.length),!Cr.ie){var H=s.nextSibling;or(H)&&(B.appendData(H.data),H.parentNode.removeChild(H))}}else O.setStartBefore(s),O.setEndBefore(s);var Q=function(ge){var ve=Wt.fromRangeStart(ge),Ae=fd(o.getBody());if(ve=Ae.next(ve),ve)return ve.toRange()},pe=m.getParent(s,m.isBlock);m.remove(s),pe&&m.isEmpty(pe)&&(o.$(pe).empty(),O.setStart(pe,0),O.setEnd(pe,0),!U4(pe)&&!Q9(pe)&&(d=Q(O))?(O=d,m.remove(pe)):m.add(pe,m.create("br",{"data-mce-bogus":"1"}))),x.setRng(O)}},ej=function(o){var s=o.dom,d=z4(o.selection.getRng());o.selection.setRng(d);var m=s.getParent(d.startContainer,U4);Y9(s,d,m)?Fw(o,d,U.fromDom(m)):o.getDoc().execCommand("Delete",!1,null)},tj=function(o,s,d){var m,x,T,O=o.selection,B=o.dom;/^ | $/.test(s)&&(s=W4(B,O.getRng(),s));var H=o.parser,Q=d.merge,pe=Jg({validate:kk(o)},o.schema),ge='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',ve=o.fire("BeforeSetContent",{content:s,format:"html",selection:!0,paste:d.paste});if(ve.isDefaultPrevented()){o.fire("SetContent",{content:ve.content,format:"html",selection:!0,paste:d.paste});return}s=ve.content,s.indexOf("{$caret}")===-1&&(s+="{$caret}"),s=s.replace(/\{\$caret\}/,ge),x=O.getRng();var Ae=x.startContainer||(x.parentElement?x.parentElement():null),De=o.getBody();Ae===De&&O.isCollapsed()&&B.isBlock(De.firstChild)&&t6(o,De.firstChild)&&B.isEmpty(De.firstChild)&&(x=B.createRng(),x.setStart(De.firstChild,0),x.setEnd(De.firstChild,0),O.setRng(x)),O.isCollapsed()||ej(o),m=O.getNode();var Ie={context:m.nodeName.toLowerCase(),data:d.data,insert:!0},Ne=H.parse(s,Ie);if(d.paste===!0&&V4(o.schema,Ne)&&JL(B,m)){x=AC(pe,B,O.getRng(),Ne),O.setRng(x),o.fire("SetContent",ve);return}if(J9(Ne),T=Ne.lastChild,T.attr("id")==="mce_marker"){var Ke=T;for(T=T.prev;T;T=T.walk(!0))if(T.type===3||!B.isBlock(T.name)){o.schema.isValidChild(T.parent.name,"span")&&T.parent.insert(Ke,T,T.name==="br");break}}if(o._selectionOverrides.showBlockCaretContainer(m),!Ie.invalid)s=pe.serialize(Ne),QL(o,s,m);else{o.selection.setContent(ge),m=O.getNode();var Ge=o.getBody();for(m.nodeType===9?m=T=Ge:T=m;T!==Ge;)m=T,T=T.parentNode;s=m===Ge?Ge.innerHTML:B.getOuterHTML(m),s=pe.serialize(H.parse(s.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return pe.serialize(Ne)}))),m===Ge?B.setHTML(Ge,s):B.setOuterHTML(m,s)}K9(o,Q),n6(o,B.get("mce_marker")),Z9(o.getBody()),e6(B,O.getStart()),o.fire("SetContent",ve),o.addVisual()},q4=function(o,s){s(o),o.firstChild&&q4(o.firstChild,s),o.next&&q4(o.next,s)},nj=function(o,s,d){var m={},x={},T=[];d.firstChild&&q4(d.firstChild,function(H){Ct(o,function(Q){Q.name===H.name&&(m[Q.name]?m[Q.name].nodes.push(H):m[Q.name]={filter:Q,nodes:[H]})}),Ct(s,function(Q){typeof H.attr(Q.name)=="string"&&(x[Q.name]?x[Q.name].nodes.push(H):x[Q.name]={filter:Q,nodes:[H]})})});for(var O in m)Hr(m,O)&&T.push(m[O]);for(var B in x)Hr(x,B)&&T.push(x[B]);return T},rj=function(o,s,d){var m=nj(o,s,d);Ct(m,function(x){Ct(x.filter.callbacks,function(T){T(x.nodes,x.filter.name,{})})})},oj="html",z1=function(o){return o instanceof Xc},ij=function(o){mm(o)&&pl(o.getBody()).each(function(s){var d=s.getNode(),m=tu(d)?pl(d).getOr(s):s;o.selection.setRng(m.toRange())})},_A=function(o,s,d){o.dom.setHTML(o.getBody(),s),d!==!0&&ij(o)},$4=function(o,s,d,m){if(d.length===0||/^\s+$/.test(d)){var x='<br data-mce-bogus="1">';s.nodeName==="TABLE"?d="<tr><td>"+x+"</td></tr>":/^(UL|OL)$/.test(s.nodeName)&&(d="<li>"+x+"</li>");var T=hs(o);T&&o.schema.isValidChild(s.nodeName.toLowerCase(),T.toLowerCase())?(d=x,d=o.dom.createHTML(T,Ag(o),d)):d||(d='<br data-mce-bogus="1">'),_A(o,d,m.no_selection),o.fire("SetContent",m)}else m.format!=="raw"&&(d=Jg({validate:o.validate},o.schema).serialize(o.parser.parse(d,{isRootContent:!0,insert:!0}))),m.content=ag(U.fromDom(s))?d:qt.trim(d),_A(o,m.content,m.no_selection),m.no_events||o.fire("SetContent",m);return m.content},aj=function(o,s,d,m){rj(o.parser.getNodeFilters(),o.parser.getAttributeFilters(),d);var x=Jg({validate:o.validate},o.schema).serialize(d);return m.content=ag(U.fromDom(s))?x:qt.trim(x),_A(o,m.content,m.no_selection),m.no_events||o.fire("SetContent",m),d},r6=function(o,s){return dr(dr({format:oj},o),{set:!0,content:z1(s)?"":s})},o6=function(o,s,d){var m=r6(d,s),x=d.no_events?m:o.fire("BeforeSetContent",m);return z1(s)||(s=x.content),fe.from(o.getBody()).fold(Z(s),function(T){return z1(s)?aj(o,T,s,x):$4(o,T,s,x)})},uj=function(o,s){return d_(o,s).isSome()},i6=function(o){return te(o)?o:$e},sj=function(o,s,d){for(var m=o.dom,x=i6(d);m.parentNode;){m=m.parentNode;var T=U.fromDom(m),O=s(T);if(O.isSome())return O;if(x(T))break}return fe.none()},G4=function(o,s,d){var m=s(o),x=i6(d);return m.orThunk(function(){return x(o)?fe.none():sj(o,s,x)})},X4=RS,a6=function(o,s,d){var m=o.formatter.get(d);if(m)for(var x=0;x<m.length;x++){var T=m[x];if(Ac(T)&&T.inherit===!1&&o.dom.is(s,T.selector))return!0}return!1},Y4=function(o,s,d,m,x){var T=o.dom.getRoot();return s===T?!1:(s=o.dom.getParent(s,function(O){return a6(o,O,d)?!0:O.parentNode===T||!!bm(o,O,d,m,!0)}),!!bm(o,s,d,m,x))},K4=function(o,s,d){if(X4(s,d.inline)||X4(s,d.block))return!0;if(d.selector)return s.nodeType===1&&o.is(s,d.selector)},u6=function(o,s,d,m,x,T){var O=d[m];if(te(d.onmatch))return d.onmatch(s,d,m);if(O){if(X(O.length)){for(var B in O)if(Hr(O,B)){var H=m==="attributes"?o.getAttrib(s,B):nw(o,s,B),Q=Qd(O[B],T),pe=Y(H)||En(H);if(pe&&Y(Q))continue;if(x&&pe&&!d.exact||(!x||d.exact)&&!X4(H,tw(o,Q,B)))return!1}}else for(var ge=0;ge<O.length;ge++)if(m==="attributes"?o.getAttrib(s,O[ge]):nw(o,s,O[ge]))return!0}return!0},bm=function(o,s,d,m,x){var T=o.formatter.get(d),O=o.dom;if(T&&s)for(var B=0;B<T.length;B++){var H=T[B];if(K4(o.dom,s,H)&&u6(O,s,H,"attributes",x,m)&&u6(O,s,H,"styles",x,m)){var Q=H.classes;if(Q){for(var pe=0;pe<Q.length;pe++)if(!o.dom.hasClass(s,Qd(Q[pe],m)))return}return H}}},J4=function(o,s,d,m,x){if(m)return Y4(o,m,s,d,x);if(m=o.selection.getNode(),Y4(o,m,s,d,x))return!0;var T=o.selection.getStart();return!!(T!==m&&Y4(o,T,s,d,x))},Z4=function(o,s,d){var m=[],x={},T=o.selection.getStart();return o.dom.getParent(T,function(O){for(var B=0;B<s.length;B++){var H=s[B];!x[H]&&bm(o,O,H,d)&&(x[H]=!0,m.push(H))}},o.dom.getRoot()),m},lp=function(o,s){var d=function(x){return Vr(x,U.fromDom(o.getBody()))},m=function(x,T){return bm(o,x.dom,T)?fe.some(T):fe.none()};return fe.from(o.selection.getStart(!0)).bind(function(x){return G4(U.fromDom(x),function(T){return pt(s,function(O){return m(T,O)})},d)}).getOrNull()},Q4=function(o,s){var d=o.formatter.get(s),m=o.dom;if(d)for(var x=o.selection.getStart(),T=x0(m,x),O=d.length-1;O>=0;O--){var B=d[O];if(!Ac(B)||ae(B.defaultBlock))return!0;for(var H=T.length-1;H>=0;H--)if(m.is(T[H],B.selector))return!0}return!1},eI=function(o,s,d){return Mn(d,function(m,x){var T=iD(o,x);return o.formatter.matchNode(s,x,{},T)?m.concat([x]):m},[])},V0=dt,s6="_mce_caret",l6=function(o,s){return o.importNode(s,!0)},lj=function(o){for(var s=[];o;){if(o.nodeType===3&&o.nodeValue!==V0||o.childNodes.length>1)return[];o.nodeType===1&&s.push(o),o=o.firstChild}return s},tI=function(o){return lj(o).length>0},SA=function(o){if(o){var s=new mi(o,o);for(o=s.current();o;o=s.next())if(or(o))return o}return null},nI=function(o){var s=U.fromTag("span");return me(s,{id:s6,"data-mce-bogus":"1","data-mce-type":"format-caret"}),o&&wu(s,U.fromText(V0)),s},c6=function(o){var s=SA(o);return s&&s.nodeValue.charAt(0)===V0&&s.deleteData(0,1),s},rI=function(o,s,d){d===void 0&&(d=!0);var m=o.dom,x=o.selection;if(tI(s))Pn(o,!1,U.fromDom(s),d);else{var T=x.getRng(),O=m.getParent(s,m.isBlock),B=T.startContainer,H=T.startOffset,Q=T.endContainer,pe=T.endOffset,ge=c6(s);m.remove(s,!0),B===ge&&H>0&&T.setStart(ge,H-1),Q===ge&&pe>0&&T.setEnd(ge,pe-1),O&&m.isEmpty(O)&&Zg(U.fromDom(O)),x.setRng(T)}},F1=function(o,s,d){d===void 0&&(d=!0);var m=o.dom,x=o.selection;if(s)rI(o,s,d);else if(s=hd(o.getBody(),x.getStart()),!s)for(;s=m.get(s6);)rI(o,s,!1)},f6=function(o,s,d){var m=o.dom,x=m.getParent(d,ke(OS,o));x&&m.isEmpty(x)?d.parentNode.replaceChild(s,d):(D1(U.fromDom(d)),m.isEmpty(d)?d.parentNode.replaceChild(s,d):m.insertAfter(s,d))},d6=function(o,s){return o.appendChild(s),s},oI=function(o,s){var d=Bt(o,function(m,x){return d6(m,x.cloneNode(!1))},s);return d6(d,d.ownerDocument.createTextNode(V0))},cj=function(o,s,d,m,x,T){var O=o.formatter,B=o.dom,H=Xe(an(O.get()),function(ve){return ve!==m&&!Jt(ve,"removeformat")}),Q=eI(o,d,H),pe=Xe(Q,function(ve){return!aD(o,ve,m)});if(pe.length>0){var ge=d.cloneNode(!1);return B.add(s,ge),O.remove(m,x,ge,T),B.remove(ge),fe.some(ge)}else return fe.none()},fj=function(o,s,d){var m,x,T=o.selection,O=T.getRng(),B=O.startOffset,H=O.startContainer,Q=H.nodeValue;m=hd(o.getBody(),T.getStart()),m&&(x=SA(m));var pe=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Q&&B>0&&B<Q.length&&pe.test(Q.charAt(B))&&pe.test(Q.charAt(B-1))){var ge=T.getBookmark();O.collapse(!0);var ve=_0(o,O,o.formatter.get(s));ve=lw(ve),o.formatter.apply(s,d,ve),T.moveToBookmark(ge)}else(!m||x.nodeValue!==V0)&&(m=l6(o.getDoc(),nI(!0).dom),x=m.firstChild,O.insertNode(m),B=1),o.formatter.apply(s,d,m),T.setCursorLocation(x,B)},dj=function(o,s,d,m){var x=o.dom,T=o.selection,O,B,H,Q=[],pe=T.getRng(),ge=pe.startContainer,ve=pe.startOffset;for(B=ge,ge.nodeType===3&&(ve!==ge.nodeValue.length&&(O=!0),B=B.parentNode);B;){if(bm(o,B,s,d,m)){H=B;break}B.nextSibling&&(O=!0),Q.push(B),B=B.parentNode}if(H)if(O){var Ae=T.getBookmark();pe.collapse(!0);var De=_0(o,pe,o.formatter.get(s),!0);De=lw(De),o.formatter.remove(s,d,De,m),T.moveToBookmark(Ae)}else{var Ie=hd(o.getBody(),H),Ne=nI(!1).dom;f6(o,Ne,Ie!==null?Ie:H);var Ke=cj(o,Ne,H,s,d,m),Ge=oI(Q.concat(Ke.toArray()),Ne);rI(o,Ie,!1),T.setCursorLocation(Ge,1),x.isEmpty(H)&&x.remove(H)}},hj=function(o,s){var d=o.selection,m=o.getBody();F1(o,null,!1),(s===8||s===46)&&d.isCollapsed()&&d.getStart().innerHTML===V0&&F1(o,hd(m,d.getStart())),(s===37||s===39)&&F1(o,hd(m,d.getStart()))},pj=function(o){o.on("mouseup keydown",function(s){hj(o,s.keyCode)})},h6=function(o,s){var d=nI(!1),m=oI(s,d.dom);return as(U.fromDom(o),d),Ba(U.fromDom(o)),Wt(m,0)},mj=function(o,s){var d=o.schema.getTextInlineElements();return Hr(d,ni(s))&&!qc(s.dom)&&!$a(s.dom)},iI=function(o){return qc(o.dom)&&tI(o.dom)},ov={},p6=ea,m6=Yi,CA=function(o,s){var d=ov[o];d||(ov[o]=[]),ov[o].push(s)},aI=function(o,s){m6(ov[o],function(d){d(s)})};CA("pre",function(o){var s=o.selection.getRng(),d,m=function(O){return T(O.previousSibling)&&Li(d,O.previousSibling)!==-1},x=function(O,B){ho(B).remove(),ho(O).append("<br><br>").append(B.childNodes)},T=xc(["pre"]);s.collapsed||(d=o.selection.getSelectedBlocks(),m6(p6(p6(d,T),m),function(O){x(O.previousSibling,O)}))});var uI=qt.each,sI=function(o){return Xr(o)&&!ic(o)&&!qc(o)&&!$a(o)},lI=function(o,s){for(var d=o;d;d=d[s]){if(or(d)&&kt(d.data))return o;if(Xr(d)&&!ic(d))return d}return o},TA=function(o,s,d){var m=ZD(o);if(s&&d&&(s=lI(s,"previousSibling"),d=lI(d,"nextSibling"),m.compare(s,d))){for(var x=s.nextSibling;x&&x!==d;){var T=x;x=x.nextSibling,s.appendChild(T)}return o.remove(d),qt.each(qt.grep(d.childNodes),function(O){s.appendChild(O)}),s}return d},g6=function(o,s,d,m){if(m&&s.merge_siblings!==!1){var x=TA(o,ES(m),m);TA(o,x,ES(x,!0))}},MA=function(o,s,d){if(s.clear_child_styles){var m=s.links?"*:not(a)":"*";uI(o.select(m,d),function(x){sI(x)&&uI(s.styles,function(T,O){o.setStyle(x,O,"")})})}},cp=function(o,s,d){uI(o.childNodes,function(m){sI(m)&&(s(m)&&d(m),m.hasChildNodes()&&cp(m,s,d))})},gj=function(o,s){s.nodeName==="SPAN"&&o.getAttribs(s).length===0&&o.remove(s,!0)},kA=function(o,s){return function(d){return!!(d&&nw(o,d,s))}},v6=function(o,s,d){return function(m){o.setStyle(m,s,d),m.getAttribute("style")===""&&m.removeAttribute("style"),gj(o,m)}},EC=Sr.generate([{keep:[]},{rename:["name"]},{removed:[]}]),vj=/^(src|href|style)$/,cI=qt.each,V1=RS,yj=function(o){return/^(TR|TH|TD)$/.test(o.nodeName)},H1=function(o,s,d){return o.isChildOf(s,d)&&s!==d&&!o.isBlock(d)},y6=function(o,s,d){var m=s[d?"startContainer":"endContainer"],x=s[d?"startOffset":"endOffset"];if(Xr(m)){var T=m.childNodes.length-1;!d&&x&&x--,m=m.childNodes[x>T?T:x]}return or(m)&&d&&x>=m.nodeValue.length&&(m=new mi(m,o.getBody()).next()||m),or(m)&&!d&&x===0&&(m=new mi(m,o.getBody()).prev()||m),m},b6=function(o,s){var d=s?"firstChild":"lastChild";if(yj(o)&&o[d]){var m=o[d];return o.nodeName==="TR"&&m[d]||m}return o},fI=function(o,s,d,m){var x=o.create(d,m);return s.parentNode.insertBefore(x,s),x.appendChild(s),x},x6=function(o,s,d,m,x){var T=U.fromDom(s),O=U.fromDom(o.create(m,x)),B=d?Ji(T):ri(T);return Ih(O,B),d?(as(T,O),Nc(O,T)):(Ip(T,O),wu(O,T)),O.dom},w6=function(o,s,d){if(ms(d)&&V1(s,d.inline)||pd(d)&&V1(s,d.block))return!0;if(Ac(d))return Xr(s)&&o.is(s,d.selector)},bj=function(o,s){return s.links&&o.nodeName==="A"},DA=function(o,s,d,m){var x=ES(s,d,m);return Y(x)||x.nodeName==="BR"||o.isBlock(x)},xj=function(o,s,d){var m=s.parentNode,x,T=o.dom,O=hs(o);pd(d)&&(O?m===T.getRoot()&&(!d.list_block||!V1(s,d.list_block))&&Ct(bn(s.childNodes),function(B){Fg(o,O,B.nodeName.toLowerCase())?x?x.appendChild(B):(x=fI(T,B,O),T.setAttribs(x,o.settings.forced_root_block_attrs)):x=null}):T.isBlock(s)&&!T.isBlock(m)&&(!DA(T,s,!1)&&!DA(T,s.firstChild,!0,!0)&&s.insertBefore(T.create("br"),s.firstChild),!DA(T,s,!0)&&!DA(T,s.lastChild,!1,!0)&&s.appendChild(T.create("br")))),!(uD(d)&&!V1(d.inline,s))&&T.remove(s,!0)},_6=function(o,s,d,m,x){var T,O=o.dom;if(!w6(O,m,s)&&!bj(m,s))return EC.keep();var B=m;if(ms(s)&&s.remove==="all"&&z(s.preserve_attributes)){var H=Xe(O.getAttribs(B),function(ve){return Ye(s.preserve_attributes,ve.name.toLowerCase())});if(O.removeAllAttribs(B),Ct(H,function(ve){return O.setAttrib(B,ve.name,ve.value)}),H.length>0)return EC.rename("span")}if(s.remove!=="all"){cI(s.styles,function(ve,Ae){ve=tw(O,Qd(ve,d),Ae+""),ie(Ae)&&(Ae=ve,x=null),(s.remove_similar||!x||V1(nw(O,x,Ae),ve))&&O.setStyle(B,Ae,""),T=!0}),T&&O.getAttrib(B,"style")===""&&(B.removeAttribute("style"),B.removeAttribute("data-mce-style")),cI(s.attributes,function(ve,Ae){var De;if(ve=Qd(ve,d),ie(Ae)&&(Ae=ve,x=null),s.remove_similar||!x||V1(O.getAttrib(x,Ae),ve)){if(Ae==="class"&&(ve=O.getAttrib(B,Ae),ve&&(De="",Ct(ve.split(/\s+/),function(Ie){/mce\-\w+/.test(Ie)&&(De+=(De?" ":"")+Ie)}),De))){O.setAttrib(B,Ae,De);return}if(vj.test(Ae)&&B.removeAttribute("data-mce-"+Ae),Ae==="style"&&xc(["li"])(B)&&O.getStyle(B,"list-style-type")==="none"){B.removeAttribute(Ae),O.setStyle(B,"list-style-type","none");return}Ae==="class"&&B.removeAttribute("className"),B.removeAttribute(Ae)}}),cI(s.classes,function(ve){ve=Qd(ve,d),(!x||O.hasClass(x,ve))&&O.removeClass(B,ve)});for(var Q=O.getAttribs(B),pe=0;pe<Q.length;pe++){var ge=Q[pe].nodeName;if(ge.indexOf("_")!==0&&ge.indexOf("data-")!==0)return EC.keep()}}return s.remove!=="none"?(xj(o,B,s),EC.removed()):EC.keep()},Vw=function(o,s,d,m,x){return _6(o,s,d,m,x).fold($e,function(T){return o.dom.rename(m,T),!0},mt)},wj=function(o,s,d,m,x){var T;return Ct(x0(o.dom,s.parentNode).reverse(),function(O){if(!T&&O.id!=="_start"&&O.id!=="_end"){var B=bm(o,O,d,m,x);B&&B.split!==!1&&(T=O)}}),T},_j=function(o,s,d,m){return _6(o,s,d,m,m).fold(Z(m),function(x){var T=o.dom.createFragment();return T.appendChild(m),o.dom.rename(m,x)},Z(null))},Sj=function(o,s,d,m,x,T,O,B){var H,Q,pe,ge=o.dom;if(d){for(var ve=d.parentNode,Ae=m.parentNode;Ae&&Ae!==ve;Ae=Ae.parentNode){H=ge.clone(Ae,!1);for(var De=0;De<s.length&&(H=_j(o,s[De],B,H),H!==null);De++);H&&(Q&&H.appendChild(Q),pe||(pe=H),Q=H)}T&&(!O.mixed||!ge.isBlock(d))&&(m=ge.split(d,m)),Q&&(x.parentNode.insertBefore(Q,x),pe.appendChild(x),ms(O)&&g6(ge,O,B,Q))}return m},S6=function(o,s,d,m,x){var T=o.formatter.get(s),O=T[0],B=!0,H=o.dom,Q=o.selection,pe=function(Ge){var at=wj(o,Ge,s,d,x);return Sj(o,T,at,Ge,Ge,!0,O,d)},ge=function(Ge){return ic(Ge)&&Xr(Ge)&&(Ge.id==="_start"||Ge.id==="_end")},ve=function(Ge){return st(T,function(at){return Vw(o,at,d,Ge,Ge)})},Ae=function(Ge){var at=!0,bt=!1;Xr(Ge)&&H.getContentEditable(Ge)&&(at=B,B=H.getContentEditable(Ge)==="true",bt=!0);var nt=bn(Ge.childNodes);if(B&&!bt){var Mt=ve(Ge),Yt=Mt||st(T,function(pn){return K4(H,Ge,pn)}),Sn=Ge.parentNode;!Yt&&ae(Sn)&&PS(O)&&ve(Sn)}if(O.deep&&nt.length){for(var Dr=0;Dr<nt.length;Dr++)Ae(nt[Dr]);bt&&(B=at)}var Qn=["underline","line-through","overline"];Ct(Qn,function(pn){Xr(Ge)&&o.dom.getStyle(Ge,"text-decoration")===pn&&Ge.parentNode&&oD(H,Ge.parentNode)===pn&&Vw(o,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:pn}},null,Ge)})},De=function(Ge){var at=H.get(Ge?"_start":"_end"),bt=at[Ge?"firstChild":"lastChild"];return ge(bt)&&(bt=bt[Ge?"firstChild":"lastChild"]),or(bt)&&bt.data.length===0&&(bt=Ge?at.previousSibling||at.nextSibling:at.nextSibling||at.previousSibling),H.remove(at,!0),bt},Ie=function(Ge){var at,bt,nt=_0(o,Ge,T,Ge.collapsed);if(O.split){if(nt=lw(nt),at=y6(o,nt,!0),bt=y6(o,nt),at!==bt){if(at=b6(at,!0),bt=b6(bt,!1),H1(H,at,bt)){var Mt=fe.from(at.firstChild).getOr(at);pe(x6(H,Mt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),De(!0);return}if(H1(H,bt,at)){var Mt=fe.from(bt.lastChild).getOr(bt);pe(x6(H,Mt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),De(!1);return}at=fI(H,at,"span",{id:"_start","data-mce-type":"bookmark"}),bt=fI(H,bt,"span",{id:"_end","data-mce-type":"bookmark"});var Yt=H.createRng();Yt.setStartAfter(at),Yt.setEndBefore(bt),jg(H,Yt,function(Sn){Ct(Sn,function(Dr){!ic(Dr)&&!ic(Dr.parentNode)&&pe(Dr)})}),pe(at),pe(bt),at=De(!0),bt=De()}else at=bt=pe(at);nt.startContainer=at.parentNode?at.parentNode:at,nt.startOffset=H.nodeIndex(at),nt.endContainer=bt.parentNode?bt.parentNode:bt,nt.endOffset=H.nodeIndex(bt)+1}jg(H,nt,function(Sn){Ct(Sn,Ae)})};if(m){if(b0(m)){var Ne=H.createRng();Ne.setStartBefore(m),Ne.setEndAfter(m),Ie(Ne)}else Ie(m);d1(o,s,m,d);return}if(H.getContentEditable(Q.getNode())==="false"){m=Q.getNode();for(var Ke=0;Ke<T.length&&!(T[Ke].ceFalseOverride&&Vw(o,T[Ke],d,m,m));Ke++);d1(o,s,m,d);return}!Q.isCollapsed()||!ms(O)||Wg(o).length?(qg(Q,!0,function(){sm(o,Ie)}),ms(O)&&J4(o,s,d,Q.getStart())&&rD(H,Q,Q.getRng()),o.nodeChanged()):dj(o,s,d,x),d1(o,s,m,d)},C6=qt.each,dI=function(o,s,d,m){var x=function(T){if(T.nodeType===1&&T.parentNode&&T.parentNode.nodeType===1){var O=oD(o,T.parentNode);o.getStyle(T,"color")&&O?o.setStyle(T,"text-decoration",O):o.getStyle(T,"text-decoration")===O&&o.setStyle(T,"text-decoration",null)}};s.styles&&(s.styles.color||s.styles.textDecoration)&&(qt.walk(m,x,"childNodes"),x(m))},T6=function(o,s,d,m){s.styles&&s.styles.backgroundColor&&cp(m,kA(o,"fontSize"),v6(o,"backgroundColor",Qd(s.styles.backgroundColor,d)))},Cj=function(o,s,d,m){ms(s)&&(s.inline==="sub"||s.inline==="sup")&&(cp(m,kA(o,"fontSize"),v6(o,"fontSize","")),o.remove(o.select(s.inline==="sup"?"sub":"sup",m),!0))},AA=function(o,s,d,m){C6(s,function(x){ms(x)&&C6(o.dom.select(x.inline,m),function(T){sI(T)&&Vw(o,x,d,T,x.exact?T:null)}),MA(o.dom,x,m)})},M6=function(o,s,d,m,x){bm(o,x.parentNode,d,m)&&Vw(o,s,m,x)||s.merge_with_parents&&o.dom.getParent(x.parentNode,function(T){if(bm(o,T,d,m))return Vw(o,s,m,x),!0})},H0=qt.each,OC=function(o){return Xr(o)&&!ic(o)&&!qc(o)&&!$a(o)},k6=function(o,s,d,m){if(wO(o)&&ms(s)){var x=dr(dr({},o.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),T=uj(U.fromDom(d),function(O){return qc(O.dom)});return ui(x,m)&&ls(U.fromDom(d.parentNode),!1)&&!T}else return!1},hI=function(o,s,d,m){var x=o.formatter.get(s),T=x[0],O=!m&&o.selection.isCollapsed(),B=o.dom,H=o.selection,Q=function(at,bt){if(bt===void 0&&(bt=T),te(bt.onformat)&&bt.onformat(at,bt,d,m),H0(bt.styles,function(Mt,Yt){B.setStyle(at,Yt,Qd(Mt,d))}),bt.styles){var nt=B.getAttrib(at,"style");nt&&B.setAttrib(at,"data-mce-style",nt)}H0(bt.attributes,function(Mt,Yt){B.setAttrib(at,Yt,Qd(Mt,d))}),H0(bt.classes,function(Mt){Mt=Qd(Mt,d),B.hasClass(at,Mt)||B.addClass(at,Mt)})},pe=function(at,bt){var nt=!1;return H0(at,function(Mt){if(!Ac(Mt))return!1;if(!(ae(Mt.collapsed)&&Mt.collapsed!==O)&&B.is(bt,Mt.selector)&&!qc(bt))return Q(bt,Mt),nt=!0,!1}),nt},ge=function(at){if(R(at)){var bt=B.create(at);return Q(bt),bt}else return null},ve=function(at,bt,nt){var Mt=[],Yt=!0,Sn=T.inline||T.block,Dr=ge(Sn);jg(at,bt,function(Qn){var pn,jr=function(An){var Jn=!1,Dn=Yt,Hn=An.nodeName.toLowerCase(),rr=An.parentNode,xn=rr.nodeName.toLowerCase();if(Xr(An)&&at.getContentEditable(An)&&(Dn=Yt,Yt=at.getContentEditable(An)==="true",Jn=!0),Ii(An)&&!k6(o,T,An,xn)){pn=null,pd(T)&&at.remove(An);return}if(pd(T)&&T.wrapper&&bm(o,An,s,d)){pn=null;return}if(Yt&&!Jn&&pd(T)&&!T.wrapper&&OS(o,Hn)&&Fg(o,xn,Sn)){var ar=at.rename(An,Sn);Q(ar),Mt.push(ar),pn=null;return}if(Ac(T)){var oo=pe(x,An);if(!oo&&ae(rr)&&PS(T)&&(oo=pe(x,rr)),!ms(T)||oo){pn=null;return}}Yt&&!Jn&&Fg(o,Sn,Hn)&&Fg(o,xn,Sn)&&!(!nt&&or(An)&&sl(An.data))&&!qc(An)&&(!ms(T)||!at.isBlock(An))?(pn||(pn=at.clone(Dr,!1),An.parentNode.insertBefore(pn,An),Mt.push(pn)),pn.appendChild(An)):(pn=null,Ct(bn(An.childNodes),jr),Jn&&(Yt=Dn),pn=null)};Ct(Qn,jr)}),T.links===!0&&Ct(Mt,function(Qn){var pn=function(jr){jr.nodeName==="A"&&Q(jr,T),Ct(bn(jr.childNodes),pn)};pn(Qn)}),Ct(Mt,function(Qn){var pn=function(Jn){var Dn=0;return Ct(Jn.childNodes,function(Hn){!$O(Hn)&&!ic(Hn)&&Dn++}),Dn},jr=function(Jn){var Dn=Zn(Jn.childNodes,OC).filter(function(Hn){return K4(at,Hn,T)});return Dn.map(function(Hn){var rr=at.clone(Hn,!1);return Q(rr),at.replace(rr,Jn,!0),at.remove(Hn,!0),rr}).getOr(Jn)},An=pn(Qn);if((Mt.length>1||!at.isBlock(Qn))&&An===0){at.remove(Qn,!0);return}(ms(T)||pd(T)&&T.wrapper)&&(!T.exact&&An===1&&(Qn=jr(Qn)),AA(o,x,d,Qn),M6(o,T,s,d,Qn),T6(at,T,d,Qn),dI(at,T,d,Qn),Cj(at,T,d,Qn),g6(at,T,d,Qn))})};if(B.getContentEditable(H.getNode())==="false"){m=H.getNode();for(var Ae=0,De=x.length;Ae<De;Ae++){var Ie=x[Ae];if(Ie.ceFalseOverride&&Ac(Ie)&&B.is(m,Ie.selector)){Q(m,Ie);break}}US(o,s,m,d);return}if(T){if(m)if(b0(m)){if(!pe(x,m)){var Ne=B.createRng();Ne.setStartBefore(m),Ne.setEndAfter(m),ve(B,_0(o,Ne,x),!0)}}else ve(B,m,!0);else if(!O||!ms(T)||Wg(o).length){var Ke=H.getNode(),Ge=x[0];!o.settings.forced_root_block&&Ge.defaultBlock&&!B.getParent(Ke,B.isBlock)&&hI(o,Ge.defaultBlock),H.setRng(z4(H.getRng())),qg(H,!0,function(){sm(o,function(at,bt){var nt=bt?at:_0(o,at,x);ve(B,nt,!1)})}),rD(B,H,H.getRng()),o.nodeChanged()}else fj(o,s,d);aI(s,o)}US(o,s,m,d)},D6=function(o){return Hr(o,"vars")},Tj=function(o,s){o.set({}),s.on("NodeChange",function(d){I6(s,d.element,o.get())}),s.on("FormatApply FormatRemove",function(d){var m=fe.from(d.node).map(function(x){return b0(x)?x:x.startContainer}).bind(function(x){return Xr(x)?fe.some(x):fe.from(x.parentElement)}).getOrThunk(function(){return A6(s)});I6(s,m,o.get())})},A6=function(o){return o.selection.getStart()},E6=function(o,s,d,m,x){var T=function(B){var H=o.formatter.matchNode(B,d,x??{},m);return!X(H)},O=function(B){return a6(o,B,d)?!0:m?!1:ae(o.formatter.matchNode(B,d,x,!0))};return Qt(s,T,O)},O6=function(o,s){var d=s??A6(o);return Xe(x0(o.dom,d),function(m){return Xr(m)&&!$a(m)})},I6=function(o,s,d){var m=O6(o,s);wn(d,function(x,T){var O=function(B){var H=E6(o,m,T,B.similar,D6(B)?B.vars:void 0),Q=H.isSome();if(B.state.get()!==Q){B.state.set(Q);var pe=H.getOr(s);D6(B)?B.callback(Q,{node:pe,format:T,parents:m}):Ct(B.callbacks,function(ge){return ge(Q,{node:pe,format:T,parents:m})})}};Ct([x.withSimilar,x.withoutSimilar],O),Ct(x.withVars,O)})},R6=function(o,s,d,m,x,T){var O=s.get();Ct(d.split(","),function(B){var H=zr(O,B).getOrThunk(function(){var ge={withSimilar:{state:fl(!1),similar:!0,callbacks:[]},withoutSimilar:{state:fl(!1),similar:!1,callbacks:[]},withVars:[]};return O[B]=ge,ge}),Q=function(){var ge=O6(o);return E6(o,ge,B,x,T).isSome()};if(X(T)){var pe=x?H.withSimilar:H.withoutSimilar;pe.callbacks.push(m),pe.callbacks.length===1&&pe.state.set(Q())}else H.withVars.push({state:fl(Q()),similar:x,vars:T,callback:m})}),s.set(O)},Mj=function(o,s,d){var m=o.get();Ct(s.split(","),function(x){return zr(m,x).each(function(T){m[x]={withSimilar:dr(dr({},T.withSimilar),{callbacks:Xe(T.withSimilar.callbacks,function(O){return O!==d})}),withoutSimilar:dr(dr({},T.withoutSimilar),{callbacks:Xe(T.withoutSimilar.callbacks,function(O){return O!==d})}),withVars:Xe(T.withVars,function(O){return O.callback!==d})}})}),o.set(m)},IC=function(o,s,d,m,x,T){return s.get()===null&&Tj(s,o),R6(o,s,d,m,x,T),{unbind:function(){return Mj(s,d,m)}}},kj=function(o,s,d,m){var x=o.formatter.get(s);J4(o,s,d,m)&&(!("toggle"in x[0])||x[0].toggle)?S6(o,s,d,m):hI(o,s,d,m)},pI=function(o,s){var d=s||document,m=d.createDocumentFragment();return Ct(o,function(x){m.appendChild(x.dom)}),U.fromDom(m)},mI=function(o,s,d){return{element:o,width:s,rows:d}},P6=function(o,s){return{element:o,cells:s}},N6=function(o,s){return{x:o,y:s}},gI=function(o,s){var d=parseInt(xe(o,s),10);return isNaN(d)?1:d},L6=function(o,s,d,m,x){for(var T=gI(x,"rowspan"),O=gI(x,"colspan"),B=o.rows,H=d;H<d+T;H++){B[H]||(B[H]=P6(Pl(m),[]));for(var Q=s;Q<s+O;Q++){var pe=B[H].cells;pe[Q]=H===d&&Q===s?x:Ku(x)}}},B6=function(o,s,d){var m=o.rows,x=m[d]?m[d].cells:[];return!!x[s]},vI=function(o,s,d){for(;B6(o,s,d);)s++;return s},yI=function(o){return Mn(o,function(s,d){return d.cells.length>s?d.cells.length:s},0)},z6=function(o,s){for(var d=o.rows,m=0;m<d.length;m++)for(var x=d[m].cells,T=0;T<x.length;T++)if(Vr(x[T],s))return fe.some(N6(T,m));return fe.none()},F6=function(o,s,d,m,x){for(var T=[],O=o.rows,B=d;B<=x;B++){var H=O[B].cells,Q=s<m?H.slice(s,m+1):H.slice(m,s+1);T.push(P6(O[B].element,Q))}return T},Dj=function(o,s,d){var m=s.x,x=s.y,T=d.x,O=d.y,B=x<O?F6(o,m,x,T,O):F6(o,m,O,T,x);return mI(o.element,yI(B),B)},Aj=function(o,s){var d=Ku(o.element),m=U.fromTag("tbody");return Ih(m,s),wu(d,m),d},Ej=function(o){return Ft(o.rows,function(s){var d=Ft(s.cells,function(x){var T=Pl(x);return Zt(T,"colspan"),Zt(T,"rowspan"),T}),m=Ku(s.element);return Ih(m,d),m})},bI=function(o){var s=mI(Ku(o),0,[]);return Ct(Il(o,"tr"),function(d,m){Ct(Il(d,"td,th"),function(x,T){L6(s,vI(s,T,m),m,d,x)})}),mI(s.element,yI(s.rows),s.rows)},xI=function(o){return Aj(o,Ej(o))},V6=function(o,s,d){return z6(o,s).bind(function(m){return z6(o,d).map(function(x){return Dj(o,m,x)})})},EA=function(o){return Zn(o,function(s){return ni(s)==="ul"||ni(s)==="ol"})},Rf=function(o,s){return Zn(o,function(d){return ni(d)==="li"&&s1(d,s)}).fold(Z([]),function(d){return EA(o).map(function(m){var x=U.fromTag(ni(m)),T=Kn(Da(m),function(O,B){return he(B,"list-style")});return Io(x,T),[U.fromTag("li"),x]}).getOr([])})},RC=function(o,s){var d=Mn(s,function(m,x){return wu(x,m),x},o);return s.length>0?pI([d]):d},j1=function(o){return Ds(o)?ka(o).filter(yf).fold(Z([]),function(s){return[o,s]}):yf(o)?[o]:[]},Oj=function(o,s){var d=U.fromDom(s.commonAncestorContainer),m=up(d,o),x=Xe(m,function(B){return Ws(B)||Yr(B)}),T=Rf(m,s),O=x.concat(T.length?T:j1(d));return Ft(O,Ku)},wI=function(){return pI([])},H6=function(o,s){return RC(U.fromDom(s.cloneContents()),Oj(o,s))},Ij=function(o,s){return ig(s,"table",ke(Vr,o))},Rj=function(o,s){return Ij(o,s[0]).bind(function(d){var m=s[0],x=s[s.length-1],T=bI(d);return V6(T,m,x).map(function(O){return pI([xI(O)])})}).getOrThunk(wI)},Pj=function(o,s){return s.length>0&&s[0].collapsed?wI():H6(o,s[0])},j6=function(o,s){var d=dD(s,o);return d.length>0?Rj(o,d):Pj(o,s)},OA=function(o){return o.replace(/^[ \f\n\r\t\v]+/,"")},PC=function(o,s){return s>=0&&s<o.length&&y0(o.charAt(s))},_I=function(o,s){var d=od(o.innerText);return s?OA(d):d},IA=function(o){return o.map(function(s){return s.nodeName}).getOr("div").toLowerCase()},Nj=function(o){return fe.from(o.selection.getRng()).map(function(s){var d=fe.from(o.dom.getParent(s.commonAncestorContainer,o.dom.isBlock)),m=o.getBody(),x=IA(d),T=Cr.browser.isIE()&&x!=="pre",O=o.dom.add(m,x,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.cloneContents()),B=_I(O,T),H=od(O.textContent);if(o.dom.remove(O),PC(H,0)||PC(H,H.length-1)){var Q=d.getOr(m),pe=_I(Q,T),ge=pe.indexOf(B);if(ge===-1)return B;var ve=PC(pe,ge-1),Ae=PC(pe,ge+B.length);return(ve?" ":"")+B+(Ae?" ":"")}else return B}).getOr("")},Lj=function(o,s){var d=o.selection.getRng(),m=o.dom.create("body"),x=o.selection.getSel(),T=P0(o,i1(x)),O=s.contextual?j6(U.fromDom(o.getBody()),T).dom:d.cloneContents();return O&&m.appendChild(O),o.selection.serializer.serialize(m,s)},Bj=function(o,s){return dr(dr({},o),{format:s,get:!0,selection:!0})},zj=function(o,s,d){d===void 0&&(d={});var m=Bj(d,s),x=o.fire("BeforeGetContent",m);if(x.isDefaultPrevented())return o.fire("GetContent",x),x.content;if(x.format==="text")return Nj(o);x.getInner=!0;var T=Lj(o,x);return x.format==="tree"?T:(x.content=o.selection.isCollapsed()?"":T,o.fire("GetContent",x),x.content)},SI=0,W6=1,U6=2,Fj=function(o,s){var d=o.length+s.length+2,m=new Array(d),x=new Array(d),T=function(pe,ge,ve){return{start:pe,end:ge,diag:ve}},O=function(pe,ge,ve,Ae,De){var Ie=H(pe,ge,ve,Ae);if(Ie===null||Ie.start===ge&&Ie.diag===ge-Ae||Ie.end===pe&&Ie.diag===pe-ve)for(var Ne=pe,Ke=ve;Ne<ge||Ke<Ae;)Ne<ge&&Ke<Ae&&o[Ne]===s[Ke]?(De.push([SI,o[Ne]]),++Ne,++Ke):ge-pe>Ae-ve?(De.push([U6,o[Ne]]),++Ne):(De.push([W6,s[Ke]]),++Ke);else{O(pe,Ie.start,ve,Ie.start-Ie.diag,De);for(var Ge=Ie.start;Ge<Ie.end;++Ge)De.push([SI,o[Ge]]);O(Ie.end,ge,Ie.end-Ie.diag,Ae,De)}},B=function(pe,ge,ve,Ae){for(var De=pe;De-ge<Ae&&De<ve&&o[De]===s[De-ge];)++De;return T(pe,De,ge)},H=function(pe,ge,ve,Ae){var De=ge-pe,Ie=Ae-ve;if(De===0||Ie===0)return null;var Ne=De-Ie,Ke=Ie+De,Ge=(Ke%2===0?Ke:Ke+1)/2;m[1+Ge]=pe,x[1+Ge]=ge+1;var at,bt,nt,Mt,Yt;for(at=0;at<=Ge;++at){for(bt=-at;bt<=at;bt+=2){for(nt=bt+Ge,bt===-at||bt!==at&&m[nt-1]<m[nt+1]?m[nt]=m[nt+1]:m[nt]=m[nt-1]+1,Mt=m[nt],Yt=Mt-pe+ve-bt;Mt<ge&&Yt<Ae&&o[Mt]===s[Yt];)m[nt]=++Mt,++Yt;if(Ne%2!==0&&Ne-at<=bt&&bt<=Ne+at&&x[nt-Ne]<=m[nt])return B(x[nt-Ne],bt+pe-ve,ge,Ae)}for(bt=Ne-at;bt<=Ne+at;bt+=2){for(nt=bt+Ge-Ne,bt===Ne-at||bt!==Ne+at&&x[nt+1]<=x[nt-1]?x[nt]=x[nt+1]-1:x[nt]=x[nt-1],Mt=x[nt]-1,Yt=Mt-pe+ve-bt;Mt>=pe&&Yt>=ve&&o[Mt]===s[Yt];)x[nt]=Mt--,Yt--;if(Ne%2===0&&-at<=bt&&bt<=at&&x[nt]<=m[nt+Ne])return B(x[nt],bt+pe-ve,ge,Ae)}}},Q=[];return O(0,o.length,0,s.length,Q),Q},q6=function(o){return Xr(o)?o.outerHTML:or(o)?Mc.encodeRaw(o.data,!1):Fh(o)?"<!--"+o.data+"-->":""},Vj=function(o){var s,d=document.createElement("div"),m=document.createDocumentFragment();for(o&&(d.innerHTML=o);s=d.firstChild;)m.appendChild(s);return m},Hj=function(o,s,d){var m=Vj(s);if(o.hasChildNodes()&&d<o.childNodes.length){var x=o.childNodes[d];x.parentNode.insertBefore(m,x)}else o.appendChild(m)},jj=function(o,s){if(o.hasChildNodes()&&s<o.childNodes.length){var d=o.childNodes[s];d.parentNode.removeChild(d)}},CI=function(o,s){var d=0;Ct(o,function(m){m[0]===SI?d++:m[0]===W6?(Hj(s,m[1],d),d++):m[0]===U6&&jj(s,d)})},Wj=function(o){return Xe(Ft(bn(o.childNodes),q6),function(s){return s.length>0})},Hw=function(o,s){var d=Ft(bn(s.childNodes),q6);return CI(Fj(d,o),s),s},$6=Ua(function(){return document.implementation.createHTMLDocument("undo")}),Bu=function(o){return o.indexOf("</iframe>")!==-1},Uj=function(o){return{type:"fragmented",fragments:o,content:"",bookmark:null,beforeBookmark:null}},qj=function(o){return{type:"complete",fragments:null,content:o,bookmark:null,beforeBookmark:null}},TI=function(o){var s=Wj(o.getBody()),d=Mo(s,function(x){var T=YD(o.serializer,x);return T.length>0?[T]:[]}),m=d.join("");return Bu(m)?Uj(d):qj(m)},MI=function(o,s,d){var m=d?s.beforeBookmark:s.bookmark;s.type==="fragmented"?Hw(s.fragments,o.getBody()):o.setContent(s.content,{format:"raw",no_selection:ae(m)&&Jk(m)?!m.isFakeCaret:!0}),o.selection.moveToBookmark(m)},Pf=function(o){return o.type==="fragmented"?o.fragments.join(""):o.content},NC=function(o){var s=U.fromTag("body",$6());return Cu(s,Pf(o)),Ct(Il(s,"*[data-mce-bogus]"),Ph),Es(s)},LC=function(o,s){return Pf(o)===Pf(s)},BC=function(o,s){return NC(o)===NC(s)},jw=function(o,s){return!o||!s?!1:LC(o,s)?!0:BC(o,s)},kI=function(o){return o.get()===0},RA=function(o,s,d){kI(d)&&(o.typing=s)},W1=function(o,s){o.typing&&(RA(o,!1,s),o.add())},Ww=function(o){o.typing&&(o.typing=!1,o.add())},Uw=function(o,s,d){kI(s)&&d.set(bk(o.selection))},DI=function(o,s,d,m,x,T,O){var B=TI(o);if(T=T||{},T=qt.extend(T,B),kI(m)===!1||o.removed)return null;var H=s.data[d.get()];if(o.fire("BeforeAddUndo",{level:T,lastLevel:H,originalEvent:O}).isDefaultPrevented()||H&&jw(H,T))return null;s.data[d.get()]&&x.get().each(function(ve){s.data[d.get()].beforeBookmark=ve});var Q=Ux(o);if(Q&&s.data.length>Q){for(var pe=0;pe<s.data.length-1;pe++)s.data[pe]=s.data[pe+1];s.data.length--,d.set(s.data.length)}T.bookmark=bk(o.selection),d.get()<s.data.length-1&&(s.data.length=d.get()+1),s.data.push(T),d.set(s.data.length-1);var ge={level:T,lastLevel:H,originalEvent:O};return d.get()>0?(o.setDirty(!0),o.fire("AddUndo",ge),o.fire("change",ge)):o.fire("AddUndo",ge),T},$j=function(o,s,d){s.data=[],d.set(0),s.typing=!1,o.fire("ClearUndos")},AI=function(o,s,d,m,x){if(s.transact(m)){var T=s.data[d.get()].bookmark,O=s.data[d.get()-1];MI(o,O,!0),s.transact(x)&&(s.data[d.get()-1].beforeBookmark=T)}},G6=function(o,s,d){var m;return s.get()<d.length-1&&(s.set(s.get()+1),m=d[s.get()],MI(o,m,!1),o.setDirty(!0),o.fire("Redo",{level:m})),m},X6=function(o,s,d,m){var x;return s.typing&&(s.add(),s.typing=!1,RA(s,!1,d)),m.get()>0&&(m.set(m.get()-1),x=s.data[m.get()],MI(o,x,!0),o.setDirty(!0),o.fire("Undo",{level:x})),x},Gj=function(o){o.clear(),o.add()},Xj=function(o,s,d){return d.get()>0||s.typing&&s.data[0]&&!jw(TI(o),s.data[0])},Y6=function(o,s){return s.get()<o.data.length-1&&!o.typing},Yj=function(o,s,d){return W1(o,s),o.beforeChange(),o.ignore(d),o.add()},Kj=function(o,s){try{o.set(o.get()+1),s()}finally{o.set(o.get()-1)}},Jj=function(o,s){var d=o.dom,m=ae(s)?s:o.getBody();X(o.hasVisual)&&(o.hasVisual=kO(o)),Ct(d.select("table,a",m),function(x){switch(x.nodeName){case"TABLE":var T=p0(o),O=d.getAttrib(x,"border");(!O||O==="0")&&o.hasVisual?d.addClass(x,T):d.removeClass(x,T);break;case"A":if(!d.getAttrib(x,"href")){var B=d.getAttrib(x,"name")||x.id,H=Ik(o);B&&o.hasVisual?d.addClass(x,H):d.removeClass(x,H)}break}}),o.fire("VisualAid",{element:s,hasVisual:o.hasVisual})},K6=function(o){return{undoManager:{beforeChange:function(s,d){return Uw(o,s,d)},add:function(s,d,m,x,T,O){return DI(o,s,d,m,x,T,O)},undo:function(s,d,m){return X6(o,s,d,m)},redo:function(s,d){return G6(o,s,d)},clear:function(s,d){return $j(o,s,d)},reset:function(s){return Gj(s)},hasUndo:function(s,d){return Xj(o,s,d)},hasRedo:function(s,d){return Y6(s,d)},transact:function(s,d,m){return Yj(s,d,m)},ignore:function(s,d){return Kj(s,d)},extra:function(s,d,m,x){return AI(o,s,d,m,x)}},formatter:{match:function(s,d,m,x){return J4(o,s,d,m,x)},matchAll:function(s,d){return Z4(o,s,d)},matchNode:function(s,d,m,x){return bm(o,s,d,m,x)},canApply:function(s){return Q4(o,s)},closest:function(s){return lp(o,s)},apply:function(s,d,m){return hI(o,s,d,m)},remove:function(s,d,m,x){return S6(o,s,d,m,x)},toggle:function(s,d,m){return kj(o,s,d,m)},formatChanged:function(s,d,m,x,T){return IC(o,s,d,m,x,T)}},editor:{getContent:function(s,d){return KD(o,s,d)},setContent:function(s,d){return o6(o,s,d)},insertContent:function(s,d){return tj(o,s,d)},addVisual:function(s){return Jj(o,s)}},selection:{getContent:function(s,d){return zj(o,s,d)}},raw:{getModel:function(){return fe.none()}}}},Zj=function(o){var s=function(B){return I(B)?B:{}},d=o.undoManager,m=o.formatter,x=o.editor,T=o.selection,O=o.raw;return{undoManager:{beforeChange:d.beforeChange,add:d.add,undo:d.undo,redo:d.redo,clear:d.clear,reset:d.reset,hasUndo:d.hasUndo,hasRedo:d.hasRedo,transact:function(B,H,Q){return d.transact(Q)},ignore:function(B,H){return d.ignore(H)},extra:function(B,H,Q,pe){return d.extra(Q,pe)}},formatter:{match:function(B,H,Q,pe){return m.match(B,s(H),pe)},matchAll:m.matchAll,matchNode:m.matchNode,canApply:function(B){return m.canApply(B)},closest:function(B){return m.closest(B)},apply:function(B,H,Q){return m.apply(B,s(H))},remove:function(B,H,Q,pe){return m.remove(B,s(H))},toggle:function(B,H,Q){return m.toggle(B,s(H))},formatChanged:function(B,H,Q,pe,ge){return m.formatChanged(H,Q,pe,ge)}},editor:{getContent:function(B,H){return x.getContent(B)},setContent:function(B,H){return x.setContent(B,H)},insertContent:function(B,H){return x.insertContent(B)},addVisual:x.addVisual},selection:{getContent:function(B,H){return T.getContent(H)}},raw:{getModel:function(){return fe.some(O.getRawModel())}}}},J6=function(){var o=Z(null),s=Z("");return{undoManager:{beforeChange:le,add:o,undo:o,redo:o,clear:le,reset:le,hasUndo:$e,hasRedo:$e,transact:o,ignore:le,extra:le},formatter:{match:$e,matchAll:Z([]),matchNode:Z(void 0),canApply:$e,closest:s,apply:le,remove:le,toggle:le,formatChanged:Z({unbind:le})},editor:{getContent:s,setContent:s,insertContent:le,addVisual:le},selection:{getContent:s},raw:{getModel:Z(fe.none())}}},iv=function(o){return Hr(o.plugins,"rtc")},zC=function(o){return zr(o.plugins,"rtc").bind(function(s){return fe.from(s.setup)})},Z6=function(o){var s=o;return zC(o).fold(function(){return s.rtcInstance=K6(o),fe.none()},function(d){return s.rtcInstance=J6(),fe.some(function(){return d().then(function(m){return s.rtcInstance=Zj(m),m.rtc.isRemote})})})},EI=function(o){return o.rtcInstance?o.rtcInstance:K6(o)},es=function(o){var s=o.rtcInstance;if(s)return s;throw new Error("Failed to get RTC instance not yet initialized.")},Qj=function(o,s,d){es(o).undoManager.beforeChange(s,d)},Q6=function(o,s,d,m,x,T,O){return es(o).undoManager.add(s,d,m,x,T,O)},eW=function(o,s,d,m){return es(o).undoManager.undo(s,d,m)},tW=function(o,s,d){return es(o).undoManager.redo(s,d)},eB=function(o,s,d){es(o).undoManager.clear(s,d)},tB=function(o,s){es(o).undoManager.reset(s)},nB=function(o,s,d){return es(o).undoManager.hasUndo(s,d)},rB=function(o,s,d){return es(o).undoManager.hasRedo(s,d)},oB=function(o,s,d,m){return es(o).undoManager.transact(s,d,m)},nW=function(o,s,d){es(o).undoManager.ignore(s,d)},rW=function(o,s,d,m,x){es(o).undoManager.extra(s,d,m,x)},oW=function(o,s,d,m,x){return es(o).formatter.match(s,d,m,x)},iW=function(o,s,d){return es(o).formatter.matchAll(s,d)},OI=function(o,s,d,m,x){return es(o).formatter.matchNode(s,d,m,x)},FC=function(o,s){return es(o).formatter.canApply(s)},iB=function(o,s){return es(o).formatter.closest(s)},aB=function(o,s,d,m){es(o).formatter.apply(s,d,m)},PA=function(o,s,d,m,x){es(o).formatter.remove(s,d,m,x)},aW=function(o,s,d,m){es(o).formatter.toggle(s,d,m)},uW=function(o,s,d,m,x,T){return es(o).formatter.formatChanged(s,d,m,x,T)},j0=function(o,s,d){return EI(o).editor.getContent(s,d)},II=function(o,s,d){return EI(o).editor.setContent(s,d)},uB=function(o,s,d){return EI(o).editor.insertContent(s,d)},VC=function(o,s,d){return es(o).selection.getContent(s,d)},sB=function(o,s){return es(o).editor.addVisual(s)},lB=function(o,s){s===void 0&&(s={});var d=s.format?s.format:"html";return VC(o,d,s)},RI=function(o){return o.dom.length===0?(Ba(o),fe.none()):fe.some(o)},cB=function(o,s){return o.filter(function(d){return th.isBookmarkNode(d.dom)}).bind(s?bc:Eh)},sW=function(o,s,d,m){var x=o.dom,T=s.dom,O=m?x.length:T.length;m?(Bw(x,T,!1,!m),d.setStart(T,O)):(Bw(T,x,!1,!m),d.setEnd(T,O))},lW=function(o,s){ka(o).each(function(d){var m=o.dom;s&&Pw(d,Wt(m,0))?R1(m,0):!s&&Nw(d,Wt(m,m.length))&&Lw(m,m.length)})},fB=function(o,s,d,m){o.bind(function(x){var T=m?Lw:R1;return T(x.dom,m?x.dom.length:0),s.filter(wa).map(function(O){return sW(x,O,d,m)})}).orThunk(function(){var x=cB(s,m).or(s).filter(wa);return x.map(function(T){return lW(T,m)})})},PI=function(o,s){var d=fe.from(s.firstChild).map(U.fromDom),m=fe.from(s.lastChild).map(U.fromDom);o.deleteContents(),o.insertNode(s);var x=d.bind(Eh).filter(wa).bind(RI),T=m.bind(bc).filter(wa).bind(RI);fB(x,d,o,!0),fB(T,m,o,!1),o.collapse(!1)},cW=function(o,s){return dr(dr({format:"html"},o),{set:!0,selection:!0,content:s})},fW=function(o,s){if(s.format!=="raw"){var d=o.selection.getRng(),m=o.dom.getParent(d.commonAncestorContainer,o.dom.isBlock),x=m?{context:m.nodeName.toLowerCase()}:{},T=o.parser.parse(s.content,dr(dr({isRootContent:!0,forced_root_block:!1},x),s));return Jg({validate:o.validate},o.schema).serialize(T)}else return s.content},HC=function(o,s,d){d===void 0&&(d={});var m=cW(d,s),x=m;if(!m.no_events){var T=o.fire("BeforeSetContent",m);if(T.isDefaultPrevented()){o.fire("SetContent",T);return}else x=T}x.content=fW(o,x);var O=o.selection.getRng();PI(O,O.createContextualFragment(x.content)),o.selection.setRng(O),D0(o,O),x.no_events||o.fire("SetContent",x)},NA=function(o,s,d){if(o&&Hr(o,s)){var m=Xe(o[s],function(x){return x!==d});m.length===0?delete o[s]:o[s]=m}};function dW(o,s){var d,m,x=function(O,B){return Zn(B,function(H){return o.is(H,O)})},T=function(O){return o.getParents(O,null,o.getRoot())};return{selectorChangedWithUnbind:function(O,B){return d||(d={},m={},s.on("NodeChange",function(H){var Q=H.element,pe=T(Q),ge={};qt.each(d,function(ve,Ae){x(Ae,pe).each(function(De){m[Ae]||(Ct(ve,function(Ie){Ie(!0,{node:De,selector:Ae,parents:pe})}),m[Ae]=ve),ge[Ae]=ve})}),qt.each(m,function(ve,Ae){ge[Ae]||(delete m[Ae],qt.each(ve,function(De){De(!1,{node:Q,selector:Ae,parents:pe})}))})})),d[O]||(d[O]=[]),d[O].push(B),x(O,T(s.selection.getStart())).each(function(){m[O]=d[O]}),{unbind:function(){NA(d,O,B),NA(m,O,B)}}}}}var NI=function(o){return!!o.select},dB=function(o){return!!(o&&o.ownerDocument)&&li(U.fromDom(o.ownerDocument),U.fromDom(o))},LA=function(o){return o?NI(o)?!0:dB(o.startContainer)&&dB(o.endContainer):!1},LI=function(o,s,d,m){var x,T,O=dW(o,m).selectorChangedWithUnbind,B=function(xn,ar){var oo=o.createRng();ae(xn)&&ae(ar)?(oo.setStart(xn,ar),oo.setEnd(xn,ar),at(oo),Ne(!1)):(eh(o,oo,m.getBody(),!0),at(oo))},H=function(xn){return lB(m,xn)},Q=function(xn,ar){return HC(m,xn,ar)},pe=function(xn){return w1(m.getBody(),Ge(),xn)},ge=function(xn){return cC(m.getBody(),Ge(),xn)},ve=function(xn,ar){return Hn.getBookmark(xn,ar)},Ae=function(xn){return Hn.moveToBookmark(xn)},De=function(xn,ar){return UD(o,xn,ar).each(at),xn},Ie=function(){var xn=Ge(),ar=Ke();return!xn||xn.item?!1:xn.compareEndPoints?xn.compareEndPoints("StartToEnd",xn)===0:!ar||xn.collapsed},Ne=function(xn){var ar=Ge();ar.collapse(!!xn),at(ar)},Ke=function(){return s.getSelection?s.getSelection():s.document.selection},Ge=function(){var xn,ar,oo,xi=function(Du,Oc,ef){try{return Oc.compareBoundaryPoints(Du,ef)}catch{return-1}},Wo=s.document;if(m.bookmark!==void 0&&mm(m)===!1){var gu=tC(m);if(gu.isSome())return gu.map(function(Du){return P0(m,[Du])[0]}).getOr(Wo.createRange())}try{(xn=Ke())&&!zd(xn.anchorNode)&&(xn.rangeCount>0?ar=xn.getRangeAt(0):ar=xn.createRange?xn.createRange():Wo.createRange(),ar=P0(m,[ar])[0])}catch{}return ar||(ar=Wo.createRange?Wo.createRange():Wo.body.createTextRange()),ar.setStart&&ar.startContainer.nodeType===9&&ar.collapsed&&(oo=o.getRoot(),ar.setStart(oo,0),ar.setEnd(oo,0)),x&&T&&(xi(ar.START_TO_START,ar,x)===0&&xi(ar.END_TO_END,ar,x)===0?ar=T:(x=null,T=null)),ar},at=function(xn,ar){var oo;if(LA(xn)){var xi=NI(xn)?xn:null;if(xi){T=null;try{xi.select()}catch{}return}var Wo=Ke(),gu=m.fire("SetSelectionRange",{range:xn,forward:ar});if(xn=gu.range,Wo){T=xn;try{Wo.removeAllRanges(),Wo.addRange(xn)}catch{}ar===!1&&Wo.extend&&(Wo.collapse(xn.endContainer,xn.endOffset),Wo.extend(xn.startContainer,xn.startOffset)),x=Wo.rangeCount>0?Wo.getRangeAt(0):null}!xn.collapsed&&xn.startContainer===xn.endContainer&&Wo.setBaseAndExtent&&!Cr.ie&&xn.endOffset-xn.startOffset<2&&xn.startContainer.hasChildNodes()&&(oo=xn.startContainer.childNodes[xn.startOffset],oo&&oo.tagName==="IMG"&&(Wo.setBaseAndExtent(xn.startContainer,xn.startOffset,xn.endContainer,xn.endOffset),(Wo.anchorNode!==xn.startContainer||Wo.focusNode!==xn.endContainer)&&Wo.setBaseAndExtent(oo,0,oo,1))),m.fire("AfterSetSelectionRange",{range:xn,forward:ar})}},bt=function(xn){return Q(o.getOuterHTML(xn)),xn},nt=function(){return _1(m.getBody(),Ge())},Mt=function(xn,ar){return w4(o,Ge(),xn,ar)},Yt=function(){var xn=Ke(),ar=xn==null?void 0:xn.anchorNode,oo=xn==null?void 0:xn.focusNode;if(!xn||!ar||!oo||zd(ar)||zd(oo))return!0;var xi=o.createRng();xi.setStart(ar,xn.anchorOffset),xi.collapse(!0);var Wo=o.createRng();return Wo.setStart(oo,xn.focusOffset),Wo.collapse(!0),xi.compareBoundaryPoints(xi.START_TO_START,Wo)<=0},Sn=function(){var xn=Ge(),ar=Ke();if(!XO(ar)&&Gc(m)){var oo=h1(o,xn);return oo.each(function(xi){at(xi,Yt())}),oo.getOr(xn)}return xn},Dr=function(xn,ar){return O(xn,ar),Dn},Qn=function(){for(var xn,ar=o.getRoot();ar&&ar.nodeName!=="BODY";){if(ar.scrollHeight>ar.clientHeight){xn=ar;break}ar=ar.parentNode}return xn},pn=function(xn,ar){ae(xn)?s4(m,xn,ar):D0(m,Ge(),ar)},jr=function(xn,ar){return at(GS(xn,ar,m.getDoc()))},An=function(){var xn=Ge();return xn.collapsed?Wt.fromRangeStart(xn).getClientRects()[0]:xn.getBoundingClientRect()},Jn=function(){s=x=T=null,rr.destroy()},Dn={bookmarkManager:null,controlSelection:null,dom:o,win:s,serializer:d,editor:m,collapse:Ne,setCursorLocation:B,getContent:H,setContent:Q,getBookmark:ve,moveToBookmark:Ae,select:De,isCollapsed:Ie,isForward:Yt,setNode:bt,getNode:nt,getSel:Ke,setRng:at,getRng:Ge,getStart:pe,getEnd:ge,getSelectedBlocks:Mt,normalize:Sn,selectorChanged:Dr,selectorChangedWithUnbind:O,getScrollContainer:Qn,scrollIntoView:pn,placeCaretAt:jr,getBoundingClientRect:An,destroy:Jn},Hn=th(Dn),rr=vD(Dn,m);return Dn.bookmarkManager=Hn,Dn.controlSelection=rr,Dn},hW=function(o,s){Ct(s,function(d){o.attr(d,null)})},ts=function(o,s,d){o.addNodeFilter("font",function(m){Ct(m,function(x){var T=s.parse(x.attr("style")),O=x.attr("color"),B=x.attr("face"),H=x.attr("size");O&&(T.color=O),B&&(T["font-family"]=B),H&&(T["font-size"]=d[parseInt(x.attr("size"),10)-1]),x.name="span",x.attr("style",s.serialize(T)),hW(x,["color","face","size"])})})},pW=function(o,s){o.addNodeFilter("strike",function(d){Ct(d,function(m){var x=s.parse(m.attr("style"));x["text-decoration"]="line-through",m.name="span",m.attr("style",s.serialize(x))})})},hB=function(o,s){var d=$h();s.convert_fonts_to_spans&&ts(o,d,qt.explode(s.font_size_legacy_values)),pW(o,d)},mW=function(o,s){s.inline_styles&&hB(o,s)},gW=function(o){return new Uu(function(s,d){var m=function(){d("Cannot convert "+o+" to Blob. Resource might not exist or is inaccessible.")};try{var x=new XMLHttpRequest;x.open("GET",o,!0),x.responseType="blob",x.onload=function(){x.status===200?s(x.response):m()},x.onerror=m,x.send()}catch{m()}})},BA=function(o){var s,d=decodeURIComponent(o).split(","),m=/data:([^;]+)/.exec(d[0]);return m&&(s=m[1]),{type:s,data:d[1]}},pB=function(o,s){var d;try{d=atob(s)}catch{return fe.none()}for(var m=new Uint8Array(d.length),x=0;x<m.length;x++)m[x]=d.charCodeAt(x);return fe.some(new Blob([m],{type:o}))},BI=function(o){return new Uu(function(s){var d=BA(o),m=d.type,x=d.data;pB(m,x).fold(function(){return s(new Blob([]))},s)})},mB=function(o){return o.indexOf("blob:")===0?gW(o):o.indexOf("data:")===0?BI(o):null},gB=function(o){return new Uu(function(s){var d=new FileReader;d.onloadend=function(){s(d.result)},d.readAsDataURL(o)})},zI=0,FI=function(o){return(o||"blobid")+zI++},vW=function(o,s,d,m){var x,T;if(s.src.indexOf("blob:")===0){T=o.getByUri(s.src),T?d({image:s,blobInfo:T}):mB(s.src).then(function(Q){gB(Q).then(function(pe){x=BA(pe).data,T=o.create(FI(),Q,x),o.add(T),d({image:s,blobInfo:T})})},function(Q){m(Q)});return}var O=BA(s.src),B=O.data,H=O.type;x=B,T=o.getByData(x,H),T?d({image:s,blobInfo:T}):mB(s.src).then(function(Q){T=o.create(FI(),Q,x),o.add(T),d({image:s,blobInfo:T})},function(Q){m(Q)})},yW=function(o){return o?bn(o.getElementsByTagName("img")):[]},bW=function(o,s){var d={},m=function(x,T){T||(T=mt);var O=Xe(yW(x),function(H){var Q=H.src;return!Cr.fileApi||H.hasAttribute("data-mce-bogus")||H.hasAttribute("data-mce-placeholder")||!Q||Q===Cr.transparentSrc?!1:Q.indexOf("blob:")===0?!o.isUploaded(Q)&&T(H):Q.indexOf("data:")===0?T(H):!1}),B=Ft(O,function(H){if(d[H.src]!==void 0)return new Uu(function(pe){d[H.src].then(function(ge){if(typeof ge=="string")return ge;pe({image:H,blobInfo:ge.blobInfo})})});var Q=new Uu(function(pe,ge){vW(s,H,pe,ge)}).then(function(pe){return delete d[pe.image.src],pe}).catch(function(pe){return delete d[H.src],pe});return d[H.src]=Q,Q});return Uu.all(B)};return{findAll:m}},vB=function(o,s,d,m){var x=o.padd_empty_with_br||s.insert;x&&d[m.name]?m.empty().append(new Xc("br",1)).shortEnded=!0:m.empty().append(new Xc("#text",3)).value=Kl},yB=function(o){return VI(o,"#text")&&o.firstChild.value===Kl},VI=function(o,s){return o&&o.firstChild&&o.firstChild===o.lastChild&&o.firstChild.name===s},HI=function(o,s){var d=o.getElementRule(s.name);return d&&d.paddEmpty},qw=function(o,s,d,m){return m.isEmpty(s,d,function(x){return HI(o,x)})},bB=function(o,s){return o&&(Hr(s,o.name)||o.name==="br")},xB=function(o){return ae(o.attr("data-mce-bogus"))},wB=function(o){return o.attr("src")===Cr.transparentSrc||ae(o.attr("data-mce-placeholder"))},_B=function(o,s){if(s.images_dataimg_filter){var d=new Image;return d.src=o.attr("src"),wn(o.attributes.map,function(m,x){d.setAttribute(x,m)}),s.images_dataimg_filter(d)}else return!0},SB=function(o,s){var d=s.blob_cache,m=function(x){var T=x.attr("src");wB(x)||xB(x)||S4(T).filter(function(){return _B(x,s)}).bind(function(O){var B=O.type,H=O.data;return fe.from(d.getByData(H,B)).orThunk(function(){return pB(B,H).map(function(Q){var pe=d.create(FI(),Q,H);return d.add(pe),pe})})}).each(function(O){x.attr("src",O.blobUri())})};d&&o.addAttributeFilter("src",function(x){return Ct(x,m)})},xW=function(o,s){var d=o.schema;s.remove_trailing_brs&&o.addNodeFilter("br",function(m,x,T){var O,B=m.length,H,Q=qt.extend({},d.getBlockElements()),pe=d.getNonEmptyElements(),ge,ve,Ae,De,Ie=d.getWhiteSpaceElements(),Ne,Ke;for(Q.body=1,O=0;O<B;O++)if(H=m[O],ge=H.parent,Q[H.parent.name]&&H===ge.lastChild){for(Ae=H.prev;Ae;){if(De=Ae.name,De!=="span"||Ae.attr("data-mce-type")!=="bookmark"){De==="br"&&(H=null);break}Ae=Ae.prev}H&&(H.remove(),qw(d,pe,Ie,ge)&&(Ne=d.getElementRule(ge.name),Ne&&(Ne.removeEmpty?ge.remove():Ne.paddEmpty&&vB(s,T,Q,ge))))}else{for(ve=H;ge&&ge.firstChild===ve&&ge.lastChild===ve&&(ve=ge,!Q[ge.name]);)ge=ge.parent;ve===ge&&s.padd_empty_with_br!==!0&&(Ke=new Xc("#text",3),Ke.value=Kl,H.replace(Ke))}}),o.addAttributeFilter("href",function(m){var x=m.length,T=function(H){var Q=H.split(" ").filter(function(pe){return pe.length>0});return Q.concat(["noopener"]).sort().join(" ")},O=function(H){var Q=H?qt.trim(H):"";return/\b(noopener)\b/g.test(Q)?Q:T(Q)};if(!s.allow_unsafe_link_target)for(;x--;){var B=m[x];B.name==="a"&&B.attr("target")==="_blank"&&B.attr("rel",O(B.attr("rel")))}}),s.allow_html_in_named_anchor||o.addAttributeFilter("id,name",function(m){for(var x=m.length,T,O,B,H;x--;)if(H=m[x],H.name==="a"&&H.firstChild&&!H.attr("href")){B=H.parent,T=H.lastChild;do O=T.prev,B.insert(T,H),T=O;while(T)}}),s.fix_list_elements&&o.addNodeFilter("ul,ol",function(m){for(var x=m.length,T,O;x--;)if(T=m[x],O=T.parent,O.name==="ul"||O.name==="ol")if(T.prev&&T.prev.name==="li")T.prev.append(T);else{var B=new Xc("li",1);B.attr("style","list-style-type: none"),T.wrap(B)}}),s.validate&&d.getValidClasses()&&o.addAttributeFilter("class",function(m){for(var x=d.getValidClasses(),T=m.length;T--;){for(var O=m[T],B=O.attr("class").split(" "),H="",Q=0;Q<B.length;Q++){var pe=B[Q],ge=!1,ve=x["*"];ve&&ve[pe]&&(ge=!0),ve=x[O.name],!ge&&ve&&ve[pe]&&(ge=!0),ge&&(H&&(H+=" "),H+=pe)}H.length||(H=null),O.attr("class",H)}}),SB(o,s)},zA=qt.makeMap,CB=qt.each,jC=qt.explode,wW=qt.extend,jI=function(o,s){s===void 0&&(s=ko());var d={},m=[],x={},T={};o=o||{},o.validate="validate"in o?o.validate:!0,o.root_name=o.root_name||"body";var O=function(De){for(var Ie=zA("tr,td,th,tbody,thead,tfoot,table"),Ne=s.getNonEmptyElements(),Ke=s.getWhiteSpaceElements(),Ge=s.getTextBlockElements(),at=s.getSpecialElements(),bt=function(Hn,rr){if(rr===void 0&&(rr=Hn.parent),at[Hn.name])Hn.empty().remove();else{for(var xn=Hn.children(),ar=0,oo=xn;ar<oo.length;ar++){var xi=oo[ar];s.isValidChild(rr.name,xi.name)||bt(xi,rr)}Hn.unwrap()}},nt=0;nt<De.length;nt++){var Mt=De[nt],Yt=void 0,Sn=void 0,Dr=void 0;if(!(!Mt.parent||Mt.fixed)){if(Ge[Mt.name]&&Mt.parent.name==="li"){for(var Qn=Mt.next;Qn&&Ge[Qn.name];)Qn.name="li",Qn.fixed=!0,Mt.parent.insert(Qn,Mt.parent),Qn=Qn.next;Mt.unwrap();continue}var pn=[Mt];for(Yt=Mt.parent;Yt&&!s.isValidChild(Yt.name,Mt.name)&&!Ie[Yt.name];Yt=Yt.parent)pn.push(Yt);if(Yt&&pn.length>1)if(s.isValidChild(Yt.name,Mt.name)){pn.reverse(),Sn=B(pn[0].clone());for(var jr=Sn,An=0;An<pn.length-1;An++){s.isValidChild(jr.name,pn[An].name)?(Dr=B(pn[An].clone()),jr.append(Dr)):Dr=jr;for(var Jn=pn[An].firstChild;Jn&&Jn!==pn[An+1];){var Dn=Jn.next;Dr.append(Jn),Jn=Dn}jr=Dr}qw(s,Ne,Ke,Sn)?Yt.insert(Mt,pn[0],!0):(Yt.insert(Sn,pn[0],!0),Yt.insert(Mt,Sn)),Yt=pn[0],(qw(s,Ne,Ke,Yt)||VI(Yt,"br"))&&Yt.empty().remove()}else bt(Mt);else if(Mt.parent){if(Mt.name==="li"){var Qn=Mt.prev;if(Qn&&(Qn.name==="ul"||Qn.name==="ol")){Qn.append(Mt);continue}if(Qn=Mt.next,Qn&&(Qn.name==="ul"||Qn.name==="ol")){Qn.insert(Mt,Qn.firstChild,!0);continue}Mt.wrap(B(new Xc("ul",1)));continue}s.isValidChild(Mt.parent.name,"div")&&s.isValidChild("div",Mt.name)?Mt.wrap(B(new Xc("div",1))):bt(Mt)}}}},B=function(De){var Ie=De.name;if(Ie in d){var Ne=x[Ie];Ne?Ne.push(De):x[Ie]=[De]}for(var Ke=m.length;Ke--;){var Ge=m[Ke].name;if(Ge in De.attributes.map){var Ne=T[Ge];Ne?Ne.push(De):T[Ge]=[De]}}return De},H=function(De,Ie){CB(jC(De),function(Ne){var Ke=d[Ne];Ke||(d[Ne]=Ke=[]),Ke.push(Ie)})},Q=function(){var De=[];for(var Ie in d)Hr(d,Ie)&&De.push({name:Ie,callbacks:d[Ie]});return De},pe=function(De,Ie){CB(jC(De),function(Ne){var Ke;for(Ke=0;Ke<m.length;Ke++)if(m[Ke].name===Ne){m[Ke].callbacks.push(Ie);return}m.push({name:Ne,callbacks:[Ie]})})},ge=function(){return[].concat(m)},ve=function(De,Ie){var Ne,Ke,Ge,at,bt,nt,Mt,Yt=[],Sn,Dr=function(zt){return zt===!1?"":zt===!0?"p":zt};Ie=Ie||{},x={},T={};var Qn=wW(zA("script,style,head,html,body,title,meta,param"),s.getBlockElements()),pn=s.getNonEmptyElements(),jr=s.children,An=o.validate,Jn="forced_root_block"in Ie?Ie.forced_root_block:o.forced_root_block,Dn=Dr(Jn),Hn=s.getWhiteSpaceElements(),rr=/^[ \t\r\n]+/,xn=/[ \t\r\n]+$/,ar=/[ \t\r\n]+/g,oo=/^[ \t\r\n]+$/,xi=Hr(Hn,Ie.context)||Hr(Hn,o.root_name),Wo=function(){var zt=yn.firstChild,Cn=null,Vt=function(Fn){Fn&&(zt=Fn.firstChild,zt&&zt.type===3&&(zt.value=zt.value.replace(rr,"")),zt=Fn.lastChild,zt&&zt.type===3&&(zt.value=zt.value.replace(xn,"")))};if(s.isValidChild(yn.name,Dn.toLowerCase())){for(;zt;){var fr=zt.next;zt.type===3||zt.type===1&&zt.name!=="p"&&!Qn[zt.name]&&!zt.attr("data-mce-type")?(Cn||(Cn=gu(Dn,1),Cn.attr(o.forced_root_block_attrs),yn.insert(Cn,zt)),Cn.append(zt)):(Vt(Cn),Cn=null),zt=fr}Vt(Cn)}},gu=function(zt,Cn){var Vt=new Xc(zt,Cn),fr;return zt in d&&(fr=x[zt],fr?fr.push(Vt):x[zt]=[Vt]),Vt},Du=function(zt){for(var Cn=s.getBlockElements(),Vt=zt.prev;Vt&&Vt.type===3;){var fr=Vt.value.replace(xn,"");if(fr.length>0){Vt.value=fr;return}var Fn=Vt.next;if(Fn){if(Fn.type===3&&Fn.value.length){Vt=Vt.prev;continue}if(!Cn[Fn.name]&&Fn.name!=="script"&&Fn.name!=="style"){Vt=Vt.prev;continue}}var Fr=Vt.prev;Vt.remove(),Vt=Fr}},Oc=function(zt){var Cn={};for(var Vt in zt)Vt!=="li"&&Vt!=="p"&&(Cn[Vt]=zt[Vt]);return Cn},ef=Cw({validate:An,document:o.document,allow_html_data_urls:o.allow_html_data_urls,allow_svg_data_urls:o.allow_svg_data_urls,allow_script_urls:o.allow_script_urls,allow_conditional_comments:o.allow_conditional_comments,preserve_cdata:o.preserve_cdata,self_closing_elements:Oc(s.getSelfClosingElements()),cdata:function(zt){Sn.append(gu("#cdata",4)).value=zt},text:function(zt,Cn){var Vt;xi||(zt=zt.replace(ar," "),bB(Sn.lastChild,Qn)&&(zt=zt.replace(rr,""))),zt.length!==0&&(Vt=gu("#text",3),Vt.raw=!!Cn,Sn.append(Vt).value=zt)},comment:function(zt){Sn.append(gu("#comment",8)).value=zt},pi:function(zt,Cn){Sn.append(gu(zt,7)).value=Cn,Du(Sn)},doctype:function(zt){var Cn=Sn.append(gu("#doctype",10));Cn.value=zt,Du(Sn)},start:function(zt,Cn,Vt){var fr=An?s.getElementRule(zt):{};if(fr){var Fn=gu(fr.outputName||zt,1);Fn.attributes=Cn,Fn.shortEnded=Vt,Sn.append(Fn);var Fr=jr[Sn.name];Fr&&jr[Fn.name]&&!Fr[Fn.name]&&Yt.push(Fn);for(var Do=m.length;Do--;){var ma=m[Do].name;ma in Cn.map&&(nt=T[ma],nt?nt.push(Fn):T[ma]=[Fn])}Qn[zt]&&Du(Fn),Vt||(Sn=Fn),!xi&&Hn[zt]&&(xi=!0)}},end:function(zt){var Cn,Vt,fr,Fn,Fr=An?s.getElementRule(zt):{};if(Fr){if(Qn[zt]&&!xi){if(Cn=Sn.firstChild,Cn&&Cn.type===3)if(Vt=Cn.value.replace(rr,""),Vt.length>0)Cn.value=Vt,Cn=Cn.next;else for(fr=Cn.next,Cn.remove(),Cn=fr;Cn&&Cn.type===3;)Vt=Cn.value,fr=Cn.next,(Vt.length===0||oo.test(Vt))&&(Cn.remove(),Cn=fr),Cn=fr;if(Cn=Sn.lastChild,Cn&&Cn.type===3)if(Vt=Cn.value.replace(xn,""),Vt.length>0)Cn.value=Vt,Cn=Cn.prev;else for(fr=Cn.prev,Cn.remove(),Cn=fr;Cn&&Cn.type===3;)Vt=Cn.value,fr=Cn.prev,(Vt.length===0||oo.test(Vt))&&(Cn.remove(),Cn=fr),Cn=fr}if(xi&&Hn[zt]&&(xi=!1),Fr.removeEmpty&&qw(s,pn,Hn,Sn)){Fn=Sn.parent,Qn[Sn.name]?Sn.empty().remove():Sn.unwrap(),Sn=Fn;return}Fr.paddEmpty&&(yB(Sn)||qw(s,pn,Hn,Sn))&&vB(o,Ie,Qn,Sn),Sn=Sn.parent}}},s),yn=Sn=new Xc(Ie.context||o.root_name,11);if(ef.parse(De,Ie.format),An&&Yt.length&&(Ie.context?Ie.invalid=!0:O(Yt)),Dn&&(yn.name==="body"||Ie.isRootContent)&&Wo(),!Ie.invalid){for(Mt in x)if(Hr(x,Mt)){for(nt=d[Mt],Ne=x[Mt],at=Ne.length;at--;)Ne[at].parent||Ne.splice(at,1);for(Ke=0,Ge=nt.length;Ke<Ge;Ke++)nt[Ke](Ne,Mt,Ie)}for(Ke=0,Ge=m.length;Ke<Ge;Ke++)if(nt=m[Ke],nt.name in T){for(Ne=T[nt.name],at=Ne.length;at--;)Ne[at].parent||Ne.splice(at,1);for(at=0,bt=nt.callbacks.length;at<bt;at++)nt.callbacks[at](Ne,nt.name,Ie)}}return yn},Ae={schema:s,addAttributeFilter:pe,getAttributeFilters:ge,addNodeFilter:H,getNodeFilters:Q,filterNode:B,parse:ve};return xW(Ae,o),mW(Ae,o),Ae},_W=function(o,s,d){o.addAttributeFilter("data-mce-tabindex",function(m,x){for(var T=m.length;T--;){var O=m[T];O.attr("tabindex",O.attr("data-mce-tabindex")),O.attr(x,null)}}),o.addAttributeFilter("src,href,style",function(m,x){for(var T="data-mce-"+x,O=s.url_converter,B=s.url_converter_scope,H=m.length;H--;){var Q=m[H],pe=Q.attr(T);pe!==void 0?(Q.attr(x,pe.length>0?pe:null),Q.attr(T,null)):(pe=Q.attr(x),x==="style"?pe=d.serializeStyle(d.parseStyle(pe),Q.name):O&&(pe=O.call(B,pe,x,Q.name)),Q.attr(x,pe.length>0?pe:null))}}),o.addAttributeFilter("class",function(m){for(var x=m.length;x--;){var T=m[x],O=T.attr("class");O&&(O=T.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),T.attr("class",O.length>0?O:null))}}),o.addAttributeFilter("data-mce-type",function(m,x,T){for(var O=m.length;O--;){var B=m[O];if(B.attr("data-mce-type")==="bookmark"&&!T.cleanup){var H=fe.from(B.firstChild).exists(function(Q){return!sl(Q.value)});H?B.unwrap():B.remove()}}}),o.addNodeFilter("noscript",function(m){for(var x=m.length;x--;){var T=m[x].firstChild;T&&(T.value=Mc.decode(T.value))}}),o.addNodeFilter("script,style",function(m,x){for(var T=function(pe){return pe.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},O=m.length;O--;){var B=m[O],H=B.firstChild?B.firstChild.value:"";if(x==="script"){var Q=B.attr("type");Q&&B.attr("type",Q==="mce-no/type"?null:Q.replace(/^mce\-/,"")),s.element_format==="xhtml"&&H.length>0&&(B.firstChild.value=`// <![CDATA[
`+T(H)+`
// ]]>`)}else s.element_format==="xhtml"&&H.length>0&&(B.firstChild.value=`<!--
`+T(H)+`
-->`)}}),o.addNodeFilter("#comment",function(m){for(var x=m.length;x--;){var T=m[x];s.preserve_cdata&&T.value.indexOf("[CDATA[")===0?(T.name="#cdata",T.type=4,T.value=d.decode(T.value.replace(/^\[CDATA\[|\]\]$/g,""))):T.value.indexOf("mce:protected ")===0&&(T.name="#text",T.type=3,T.raw=!0,T.value=unescape(T.value).substr(14))}}),o.addNodeFilter("xml:namespace,input",function(m,x){for(var T=m.length;T--;){var O=m[T];O.type===7?O.remove():O.type===1&&x==="input"&&!O.attr("type")&&O.attr("type","text")}}),o.addAttributeFilter("data-mce-type",function(m){Ct(m,function(x){x.attr("data-mce-type")==="format-caret"&&(x.isEmpty(o.schema.getNonEmptyElements())?x.remove():x.unwrap())})}),o.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(m,x){for(var T=m.length;T--;)m[T].attr(x,null)})},TB=function(o){var s=function(x){return x&&x.name==="br"},d=o.lastChild;if(s(d)){var m=d.prev;s(m)&&(d.remove(),m.remove())}},MB=function(o,s,d){var m,x=o.dom,T=s.cloneNode(!0),O=document.implementation;if(O.createHTMLDocument){var B=O.createHTMLDocument("");qt.each(T.nodeName==="BODY"?T.childNodes:[T],function(H){B.body.appendChild(B.importNode(H,!0))}),T.nodeName!=="BODY"?T=B.body.firstChild:T=B.body,m=x.doc,x.doc=B}return hD(o,dr(dr({},d),{node:T})),m&&(x.doc=m),T},SW=function(o,s){return o&&o.hasEventListeners("PreProcess")&&!s.no_events},CW=function(o,s,d){return SW(o,d)?MB(o,s,d):s},TW=function(o,s,d){qt.inArray(s,d)===-1&&(o.addAttributeFilter(d,function(m,x){for(var T=m.length;T--;)m[T].attr(x,null)}),s.push(d))},MW=function(o,s,d){if(!s.no_events&&o){var m=f1(o,dr(dr({},s),{content:d}));return m.content}else return d},kB=function(o,s,d){var m=od(d.getInner?s.innerHTML:o.getOuterHTML(s));return d.selection||ag(U.fromDom(s))?m:qt.trim(m)},kW=function(o,s,d){var m=d.selection?dr({forced_root_block:!1},d):d,x=o.parse(s,m);return TB(x),x},DW=function(o,s,d){var m=Jg(o,s);return m.serialize(d)},AW=function(o,s,d,m,x){var T=DW(s,d,m);return MW(o,x,T)},EW=function(o,s){var d=["data-mce-selected"],m=s&&s.dom?s.dom:ra.DOM,x=s&&s.schema?s.schema:ko(o);o.entity_encoding=o.entity_encoding||"named",o.remove_trailing_brs="remove_trailing_brs"in o?o.remove_trailing_brs:!0;var T=jI(o,x);_W(T,o,m);var O=function(B,H){H===void 0&&(H={});var Q=dr({format:"html"},H),pe=CW(s,B,Q),ge=kB(m,pe,Q),ve=kW(T,ge,Q);return Q.format==="tree"?ve:AW(s,o,x,ve,Q)};return{schema:x,addNodeFilter:T.addNodeFilter,addAttributeFilter:T.addAttributeFilter,serialize:O,addRules:x.addValidElements,setRules:x.setValidElements,addTempAttr:ke(TW,T,d),getTempAttrs:Z(d),getNodeFilters:T.getNodeFilters,getAttributeFilters:T.getAttributeFilters}},DB=function(o,s){var d=EW(o,s);return{schema:d.schema,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:d.serialize,addRules:d.addRules,setRules:d.setRules,addTempAttr:d.addTempAttr,getTempAttrs:d.getTempAttrs,getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters}},OW="html",IW=function(o,s){s===void 0&&(s={});var d=s.format?s.format:OW;return j0(o,s,d)},WI=function(o,s,d){return d===void 0&&(d={}),II(o,s,d)},WC=ra.DOM,RW=function(o){WC.setStyle(o.id,"display",o.orgDisplay)},FA=function(o){return fe.from(o).each(function(s){return s.destroy()})},PW=function(o){o.contentAreaContainer=o.formElement=o.container=o.editorContainer=null,o.bodyElement=o.contentDocument=o.contentWindow=null,o.iframeElement=o.targetElm=null,o.selection&&(o.selection=o.selection.win=o.selection.dom=o.selection.dom.doc=null)},NW=function(o){var s=o.formElement;s&&(s._mceOldSubmit&&(s.submit=s._mceOldSubmit,s._mceOldSubmit=null),WC.unbind(s,"submit reset",o.formEventDelegate))},LW=function(o){if(!o.removed){var s=o._selectionOverrides,d=o.editorUpload,m=o.getBody(),x=o.getElement();m&&o.save({is_removing:!0}),o.removed=!0,o.unbindAllNativeEvents(),o.hasHiddenInput&&x&&WC.remove(x.nextSibling),KO(o),o.editorManager.remove(o),!o.inline&&m&&RW(o),VS(o),WC.remove(o.getContainer()),FA(s),FA(d),o.destroy()}},UC=function(o,s){var d=o.selection,m=o.dom;if(!o.destroyed){if(!s&&!o.removed){o.remove();return}s||(o.editorManager.off("beforeunload",o._beforeUnload),o.theme&&o.theme.destroy&&o.theme.destroy(),FA(d),FA(m)),NW(o),PW(o),o.destroyed=!0}},BW=function(o,s){var d=I(o)&&I(s);return d?UI(o,s):s},zW=function(o){return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];if(s.length===0)throw new Error("Can't merge zero objects");for(var m={},x=0;x<s.length;x++){var T=s[x];for(var O in T)Hr(T,O)&&(m[O]=o(m[O],T[O]))}return m}},UI=zW(BW),AB="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),FW="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),VW="imagetools,toc".split(","),HW=function(o){var s=Xe(AB,function(m){return Hr(o,m)}),d=o.forced_root_block;return(d===!1||d==="")&&s.push("forced_root_block (false only)"),vt(s)},qC=function(o){var s=qt.makeMap(o.plugins," "),d=function(x){return Hr(s,x)},m=xa(xa([],Xe(FW,d),!0),Mo(VW,function(x){return d(x)?[x+" (moving to premium)"]:[]}),!0);return vt(m)},EB=function(o,s){var d=HW(o),m=qC(s),x=m.length>0,T=d.length>0,O=s.theme==="mobile";if(x||T||O){var B=`
- `,H=O?`

Themes:`+B+"mobile":"",Q=x?`

Plugins:`+B+m.join(B):"",pe=T?`

Settings:`+B+d.join(B):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+H+Q+pe)}},OB=function(o,s){return{sections:Z(o),settings:Z(s)}},qI=yr().deviceType,IB=qI.isTouch(),RB=qI.isPhone(),jW=qI.isTablet(),WW=["lists","autolink","autosave"],$I={table_grid:!1,object_resizing:!1,resize:!1},$C=function(o){var s=z(o)?o.join(" "):o,d=Ft(R(s)?s.split(" "):[],We);return Xe(d,function(m){return m.length>0})},UW=function(o){return Xe(o,ke(Ye,WW))},qW=function(o,s){var d=ln(s,function(m,x){return Ye(o,x)});return OB(d.t,d.f)},PB=function(o,s,d){d===void 0&&(d={});var m=o.sections(),x=zr(m,s).getOr({});return qt.extend({},d,x)},VA=function(o,s){return Hr(o.sections(),s)},$W=function(o,s,d){var m=o.sections();return VA(o,s)&&m[s].theme===d},GC=function(o,s){return VA(o,s)?o.sections()[s]:{}},GI=function(o,s){return zr(o,"toolbar_mode").orThunk(function(){return zr(o,"toolbar_drawer").map(function(d){return d===!1?"wrap":d})}).getOr(s)},NB=function(o,s,d,m,x){var T={id:s,theme:"silver",toolbar_mode:GI(o,"floating"),plugins:"",document_base_url:d,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:x.convertURL,url_converter_scope:x};return dr(dr({},T),m?$I:{})},GW=function(o,s){var d={resize:!1,toolbar_mode:GI(o,"scrolling"),toolbar_sticky:!1},m={menubar:!1};return dr(dr(dr({},$I),d),s?m:{})},XW=function(o,s){var d=s.external_plugins?s.external_plugins:{};return o&&o.external_plugins?qt.extend({},o.external_plugins,d):d},YW=function(o,s){return[].concat($C(o)).concat($C(s))},LB=function(o,s,d,m){return o&&$W(s,"mobile","mobile")?UW(m):o&&VA(s,"mobile")?m:d},KW=function(o,s,d,m){var x=$C(d.forced_plugins),T=$C(m.plugins),O=GC(s,"mobile"),B=O.plugins?$C(O.plugins):T,H=LB(o,s,T,B),Q=YW(x,H);if(Cr.browser.isIE()&&Ye(Q,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return qt.extend(m,{plugins:Q.join(" ")})},JW=function(o,s){return o&&VA(s,"mobile")},ZW=function(o,s,d,m,x){var T=o?{mobile:GW(x.mobile||{},s)}:{},O=qW(["mobile"],UI(T,x)),B=qt.extend(d,m,O.settings(),JW(o,O)?PB(O,"mobile"):{},{validate:!0,external_plugins:XW(m,O.settings())});return KW(o,O,m,B)},QW=function(o,s,d,m,x){var T=NB(x,s,d,IB,o),O=ZW(RB||jW,RB,T,m,x);return O.deprecation_warnings!==!1&&EB(x,O),O},U1=function(o,s,d){return fe.from(s.settings[d]).filter(o)},yl=function(o){var s={};return typeof o=="string"?Ct(o.indexOf("=")>0?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(d){var m=d.split("=");m.length>1?s[qt.trim(m[0])]=qt.trim(m[1]):s[qt.trim(m[0])]=qt.trim(m[0])}):s=o,s},BB=function(o){return function(s){return z(s)&&Go(s,o)}},eU=function(o,s,d,m){var x=s in o.settings?o.settings[s]:d;return m==="hash"?yl(x):m==="string"?U1(R,o,s).getOr(d):m==="number"?U1(ie,o,s).getOr(d):m==="boolean"?U1(q,o,s).getOr(d):m==="object"?U1(I,o,s).getOr(d):m==="array"?U1(z,o,s).getOr(d):m==="string[]"?U1(BB(R),o,s).getOr(d):m==="function"?U1(te,o,s).getOr(d):x},tU=function(){var o={},s=function(x,T){o[x]=T},d=function(x){return o[x]?o[x]:{icons:{}}},m=function(x){return Hr(o,x)};return{add:s,get:d,has:m}},HA=tU(),zB=function(o,s){var d=s.dom;return d[o]},Ko=function(o,s){return parseInt(bo(s,o),10)},nU=ke(zB,"clientWidth"),rU=ke(zB,"clientHeight"),oU=ke(Ko,"margin-top"),ou=ke(Ko,"margin-left"),iU=function(o){return o.dom.getBoundingClientRect()},XC=function(o,s,d){var m=nU(o),x=rU(o);return s>=0&&d>=0&&s<=m&&d<=x},aU=function(o,s,d,m){var x=iU(s),T=o?x.left+s.dom.clientLeft+ou(s):0,O=o?x.top+s.dom.clientTop+oU(s):0,B=d-T,H=m-O;return{x:B,y:H}},FB=function(o,s,d){var m=U.fromDom(o.getBody()),x=o.inline?m:$l(m),T=aU(o.inline,x,s,d);return XC(x,T.x,T.y)},uU=function(o){return fe.from(o).map(U.fromDom)},VB=function(o){var s=o.inline?o.getBody():o.getContentAreaContainer();return uU(s).map(Nh).getOr(!1)},W0=function(){var o=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:o,close:o,reposition:o,getArgs:o}},Kc=function(o){var s=[],d=function(){var ve=o.theme;return ve&&ve.getNotificationManagerImpl?ve.getNotificationManagerImpl():W0()},m=function(){return fe.from(s[0])},x=function(ve,Ae){return ve.type===Ae.type&&ve.text===Ae.text&&!ve.progressBar&&!ve.timeout&&!Ae.progressBar&&!Ae.timeout},T=function(){s.length>0&&d().reposition(s)},O=function(ve){s.push(ve)},B=function(ve){pr(s,function(Ae){return Ae===ve}).each(function(Ae){s.splice(Ae,1)})},H=function(ve,Ae){if(Ae===void 0&&(Ae=!0),!(o.removed||!VB(o)))return Ae&&o.fire("BeforeOpenNotification",{notification:ve}),Zn(s,function(De){return x(d().getArgs(De),ve)}).getOrThunk(function(){o.editorManager.setActive(o);var De=d().open(ve,function(){B(De),T(),m().fold(function(){return o.focus()},function(Ie){return c4(U.fromDom(Ie.getEl()))})});return O(De),T(),o.fire("OpenNotification",{notification:dr({},De)}),De})},Q=function(){m().each(function(ve){d().close(ve),B(ve),T()})},pe=Z(s),ge=function(ve){ve.on("SkinLoaded",function(){var Ae=fS(ve);Ae&&H({text:Ae,type:"warning",timeout:0},!1),T()}),ve.on("show ResizeEditor ResizeWindow NodeChange",function(){ks.requestAnimationFrame(T)}),ve.on("remove",function(){Ct(s.slice(),function(Ae){d().close(Ae)})})};return ge(o),{open:H,close:Q,getNotifications:pe}},Jc=Pi.PluginManager,Nf=Pi.ThemeManager;function xm(){var o=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:o,openUrl:o,alert:o,confirm:o,close:o,getParams:o,setParams:o}}var $w=function(o){var s=[],d=function(){var Ie=o.theme;return Ie&&Ie.getWindowManagerImpl?Ie.getWindowManagerImpl():xm()},m=function(Ie,Ne){return function(){for(var Ke=[],Ge=0;Ge<arguments.length;Ge++)Ke[Ge]=arguments[Ge];return Ne?Ne.apply(Ie,Ke):void 0}},x=function(Ie){o.fire("OpenWindow",{dialog:Ie})},T=function(Ie){o.fire("CloseWindow",{dialog:Ie})},O=function(Ie){s.push(Ie),x(Ie)},B=function(Ie){T(Ie),s=Xe(s,function(Ne){return Ne!==Ie}),s.length===0&&o.focus()},H=function(){return fe.from(s[s.length-1])},Q=function(Ie){o.editorManager.setActive(o),I0(o);var Ne=Ie();return O(Ne),Ne},pe=function(Ie,Ne){return Q(function(){return d().open(Ie,Ne,B)})},ge=function(Ie){return Q(function(){return d().openUrl(Ie,B)})},ve=function(Ie,Ne,Ke){var Ge=d();Ge.alert(Ie,m(Ke||Ge,Ne))},Ae=function(Ie,Ne,Ke){var Ge=d();Ge.confirm(Ie,m(Ke||Ge,Ne))},De=function(){H().each(function(Ie){d().close(Ie),B(Ie)})};return o.on("remove",function(){Ct(s,function(Ie){d().close(Ie)})}),{open:pe,openUrl:ge,alert:ve,confirm:Ae,close:De}},jA=function(o,s){o.notificationManager.open({type:"error",text:s})},Gw=function(o,s){o._skinLoaded?jA(o,s):o.on("SkinLoaded",function(){jA(o,s)})},HB=function(o,s){Gw(o,_o.translate(["Failed to upload image: {0}",s]))},WA=function(o,s,d){WS(o,s,{message:d}),console.error(d)},XI=function(o,s,d){return d?"Failed to load "+o+": "+d+" from url "+s:"Failed to load "+o+" url: "+s},UA=function(o,s,d){WA(o,"PluginLoadError",XI("plugin",s,d))},jB=function(o,s,d){WA(o,"IconsLoadError",XI("icons",s,d))},sU=function(o,s,d){WA(o,"LanguageLoadError",XI("language",s,d))},WB=function(o,s,d){var m=_o.translate(["Failed to initialize plugin: {0}",s]);WS(o,"PluginLoadError",{message:m}),qA(m,d),Gw(o,m)},qA=function(o){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];var m=window.console;m&&(m.error?m.error.apply(m,xa([o],s,!1)):m.log.apply(m,xa([o],s,!1)))},YC=function(o){return/^[a-z0-9\-]+$/i.test(o)},UB=function(o){return wm(o,gO(o))},qB=function(o){return wm(o,Wx(o))},wm=function(o,s){var d=o.editorManager.baseURL+"/skins/content",m=o.editorManager.suffix,x="content"+m+".css",T=o.inline===!0;return Ft(s,function(O){return YC(O)&&!T?d+"/"+O+"/"+x:o.documentBaseURI.toAbsolute(O)})},YI=function(o){o.contentCSS=o.contentCSS.concat(UB(o),qB(o))},$B=function(){var o=1,s=2,d={},m=function(ve,Ae){return{status:ve,resultUri:Ae}},x=function(ve){return ve in d},T=function(ve){var Ae=d[ve];return Ae?Ae.resultUri:null},O=function(ve){return x(ve)?d[ve].status===o:!1},B=function(ve){return x(ve)?d[ve].status===s:!1},H=function(ve){d[ve]=m(o,null)},Q=function(ve,Ae){d[ve]=m(s,Ae)},pe=function(ve){delete d[ve]},ge=function(){d={}};return{hasBlobUri:x,getResultUri:T,isPending:O,isUploaded:B,markPending:H,markUploaded:Q,removeFailed:pe,destroy:ge}},lU=0,cU=function(){var o=function(){return Math.round(Math.random()*4294967295).toString(36)},s=new Date().getTime();return"s"+s.toString(36)+o()+o()+o()},q1=function(o){return o+lU+++cU()},fU=function(){var o=[],s=function(ge){var ve={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return ve[ge.toLowerCase()]||"dat"},d=function(ge,ve,Ae,De,Ie){if(R(ge)){var Ne=ge;return m({id:Ne,name:De,filename:Ie,blob:ve,base64:Ae})}else{if(I(ge))return m(ge);throw new Error("Unknown input type")}},m=function(ge){if(!ge.blob||!ge.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var ve=ge.id||q1("blobid"),Ae=ge.name||ve,De=ge.blob;return{id:Z(ve),name:Z(Ae),filename:Z(ge.filename||Ae+"."+s(De.type)),blob:Z(De),base64:Z(ge.base64),blobUri:Z(ge.blobUri||URL.createObjectURL(De)),uri:Z(ge.uri)}},x=function(ge){O(ge.id())||o.push(ge)},T=function(ge){return Zn(o,ge).getOrUndefined()},O=function(ge){return T(function(ve){return ve.id()===ge})},B=function(ge){return T(function(ve){return ve.blobUri()===ge})},H=function(ge,ve){return T(function(Ae){return Ae.base64()===ge&&Ae.blob().type===ve})},Q=function(ge){o=Xe(o,function(ve){return ve.blobUri()===ge?(URL.revokeObjectURL(ve.blobUri()),!1):!0})},pe=function(){Ct(o,function(ge){URL.revokeObjectURL(ge.blobUri())}),o=[]};return{create:d,add:x,get:O,getByUri:B,getByData:H,findFirst:T,removeByUri:Q,destroy:pe}},dU=function(o,s){var d={},m=function(De,Ie){return De?De.replace(/\/$/,"")+"/"+Ie.replace(/^\//,""):Ie},x=function(De,Ie,Ne,Ke){var Ge=new XMLHttpRequest;Ge.open("POST",s.url),Ge.withCredentials=s.credentials,Ge.upload.onprogress=function(bt){Ke(bt.loaded/bt.total*100)},Ge.onerror=function(){Ne("Image upload failed due to a XHR Transport error. Code: "+Ge.status)},Ge.onload=function(){if(Ge.status<200||Ge.status>=300){Ne("HTTP Error: "+Ge.status);return}var bt=JSON.parse(Ge.responseText);if(!bt||typeof bt.location!="string"){Ne("Invalid JSON: "+Ge.responseText);return}Ie(m(s.basePath,bt.location))};var at=new FormData;at.append("file",De.blob(),De.filename()),Ge.send(at)},T=function(){return new Uu(function(De){De([])})},O=function(De,Ie){return{url:Ie,blobInfo:De,status:!0}},B=function(De,Ie,Ne){return{url:"",blobInfo:De,status:!1,error:{message:Ie,options:Ne}}},H=function(De,Ie){qt.each(d[De],function(Ne){Ne(Ie)}),delete d[De]},Q=function(De,Ie,Ne){return o.markPending(De.blobUri()),new Uu(function(Ke){var Ge,at;try{var bt=function(){Ge&&(Ge.close(),at=le)},nt=function(Yt){bt(),o.markUploaded(De.blobUri(),Yt),H(De.blobUri(),O(De,Yt)),Ke(O(De,Yt))},Mt=function(Yt,Sn){var Dr=Sn||{};bt(),o.removeFailed(De.blobUri()),H(De.blobUri(),B(De,Yt,Dr)),Ke(B(De,Yt,Dr))};at=function(Yt){Yt<0||Yt>100||fe.from(Ge).orThunk(function(){return fe.from(Ne).map($)}).each(function(Sn){Ge=Sn,Sn.progressBar.value(Yt)})},Ie(De,nt,Mt,at)}catch(Yt){Ke(B(De,Yt.message,{}))}})},pe=function(De){return De===x},ge=function(De){var Ie=De.blobUri();return new Uu(function(Ne){d[Ie]=d[Ie]||[],d[Ie].push(Ne)})},ve=function(De,Ie){return De=qt.grep(De,function(Ne){return!o.isUploaded(Ne.blobUri())}),Uu.all(qt.map(De,function(Ne){return o.isPending(Ne.blobUri())?ge(Ne):Q(Ne,s.handler,Ie)}))},Ae=function(De,Ie){return!s.url&&pe(s.handler)?T():ve(De,Ie)};return te(s.handler)===!1&&(s.handler=x),{upload:Ae}},Is=function(o){return function(){return o.notificationManager.open({text:o.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},GB=function(o,s){return dU(s,{url:Qh(o),basePath:Hx(o),credentials:mO(o),handler:nm(o)})},XB=function(o){var s=$B(),d=GB(o,s);return{upload:function(m,x){return x===void 0&&(x=!0),d.upload(m,x?Is(o):void 0)}}},YB=function(o){var s=fl(null);o.on("change AddUndo",function(m){s.set(dr({},m.level))});var d=function(){var m=o.undoManager.data;Bn(m).filter(function(x){return!jw(s.get(),x)}).each(function(x){o.setDirty(!0),o.fire("change",{level:x,lastLevel:Tt(m,m.length-2).getOrNull()})})};return{fireIfChanged:d}},KB=function(o){var s=fU(),d,m,x=$B(),T=[],O=YB(o),B=function(bt){return function(nt){return o.selection?bt(nt):[]}},H=function(bt){return bt+(bt.indexOf("?")===-1?"?":"&")+new Date().getTime()},Q=function(bt,nt,Mt){var Yt=0;do Yt=bt.indexOf(nt,Yt),Yt!==-1&&(bt=bt.substring(0,Yt)+Mt+bt.substr(Yt+nt.length),Yt+=Mt.length-nt.length+1);while(Yt!==-1);return bt},pe=function(bt,nt,Mt){var Yt='src="'+Mt+'"'+(Mt===Cr.transparentSrc?' data-mce-placeholder="1"':"");return bt=Q(bt,'src="'+nt+'"',Yt),bt=Q(bt,'data-mce-src="'+nt+'"','data-mce-src="'+Mt+'"'),bt},ge=function(bt,nt){Ct(o.undoManager.data,function(Mt){Mt.type==="fragmented"?Mt.fragments=Ft(Mt.fragments,function(Yt){return pe(Yt,bt,nt)}):Mt.content=pe(Mt.content,bt,nt)})},ve=function(bt,nt){var Mt=o.convertURL(nt,"src");ge(bt.src,nt),o.$(bt).attr({src:zx(o)?H(nt):nt,"data-mce-src":Mt})},Ae=function(bt){return d||(d=GB(o,x)),Ke().then(B(function(nt){var Mt=Ft(nt,function(Yt){return Yt.blobInfo});return d.upload(Mt,Is(o)).then(B(function(Yt){var Sn=[],Dr=Ft(Yt,function(Qn,pn){var jr=nt[pn].blobInfo,An=nt[pn].image;return Qn.status&&Fx(o)?(s.removeByUri(An.src),iv(o)||ve(An,Qn.url)):Qn.error&&(Qn.error.options.remove&&(ge(An.getAttribute("src"),Cr.transparentSrc),Sn.push(An)),HB(o,Qn.error.message)),{element:An,status:Qn.status,uploadUri:Qn.url,blobInfo:jr}});return Dr.length>0&&O.fireIfChanged(),Sn.length>0&&(iv(o)?console.error("Removing images on failed uploads is currently unsupported for RTC"):o.undoManager.transact(function(){Ct(Sn,function(Qn){o.dom.remove(Qn),s.removeByUri(Qn.src)})})),bt&&bt(Dr),Dr}))}))},De=function(bt){if(tm(o))return Ae(bt)},Ie=function(bt){if(Go(T,function(Mt){return Mt(bt)})===!1)return!1;if(bt.getAttribute("src").indexOf("data:")===0){var nt=Jy(o);return nt(bt)}return!0},Ne=function(bt){T.push(bt)},Ke=function(){return m||(m=bW(x,s)),m.findAll(o.getBody(),Ie).then(B(function(bt){return bt=Xe(bt,function(nt){return typeof nt=="string"?(Gw(o,nt),!1):!0}),iv(o)||Ct(bt,function(nt){ge(nt.image.src,nt.blobInfo.blobUri()),nt.image.src=nt.blobInfo.blobUri(),nt.image.removeAttribute("data-mce-src")}),bt}))},Ge=function(){s.destroy(),x.destroy(),m=d=null},at=function(bt){return bt.replace(/src="(blob:[^"]+)"/g,function(nt,Mt){var Yt=x.getResultUri(Mt);if(Yt)return'src="'+Yt+'"';var Sn=s.getByUri(Mt);if(Sn||(Sn=Mn(o.editorManager.get(),function(Qn,pn){return Qn||pn.editorUpload&&pn.editorUpload.blobCache.getByUri(Mt)},null)),Sn){var Dr=Sn.blob();return'src="data:'+Dr.type+";base64,"+Sn.base64()+'"'}return nt})};return o.on("SetContent",function(){tm(o)?De():Ke()}),o.on("RawSaveContent",function(bt){bt.content=at(bt.content)}),o.on("GetContent",function(bt){bt.source_view||bt.format==="raw"||bt.format==="tree"||(bt.content=at(bt.content))}),o.on("PostRender",function(){o.parser.addNodeFilter("img",function(bt){Ct(bt,function(nt){var Mt=nt.attr("src");if(!s.getByUri(Mt)){var Yt=x.getResultUri(Mt);Yt&&nt.attr("src",Yt)}})})}),{blobCache:s,addFilter:Ne,uploadImages:Ae,uploadImagesAuto:De,scanForImages:Ke,destroy:Ge}},JB=function(o){var s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(d,m,x){return Xr(d)&&d.hasAttribute("href")},onformat:function(d,m,x){qt.each(x,function(T,O){o.setAttrib(d,O,T)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(d){var m;return(m=d==null?void 0:d.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return qt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(d){s[d]={block:d,remove:"all"}}),s},KI=function(o){var s={},d=function(O){return ae(O)?s[O]:s},m=function(O){return Hr(s,O)},x=function(O,B){O&&(R(O)?(z(B)||(B=[B]),Ct(B,function(H){X(H.deep)&&(H.deep=!Ac(H)),X(H.split)&&(H.split=!Ac(H)||ms(H)),X(H.remove)&&Ac(H)&&!ms(H)&&(H.remove="none"),Ac(H)&&ms(H)&&(H.mixed=!0,H.block_expand=!0),R(H.classes)&&(H.classes=H.classes.split(/\s+/))}),s[O]=B):wn(O,function(H,Q){x(Q,H)}))},T=function(O){return O&&s[O]&&delete s[O],s};return x(JB(o.dom)),x(bO(o)),{get:d,has:m,register:x,unregister:T}},$A=qt.each,sc=ra.DOM,ZB=function(o,s){var d,m,x,T=s&&s.schema||ko({}),O=function(pe,ge){ge.classes.length&&sc.addClass(pe,ge.classes.join(" ")),sc.setAttribs(pe,ge.attrs)},B=function(pe){m=typeof pe=="string"?{name:pe,classes:[],attrs:{}}:pe;var ge=sc.create(m.name);return O(ge,m),ge},H=function(pe,ge){var ve=typeof pe!="string"?pe.nodeName.toLowerCase():pe,Ae=T.getElementRule(ve),De=Ae&&Ae.parentsRequired;return De&&De.length?ge&&qt.inArray(De,ge)!==-1?ge:De[0]:!1},Q=function(pe,ge,ve){var Ae,De,Ie=ge.length>0&&ge[0],Ne=Ie&&Ie.name,Ke=H(pe,Ne);if(Ke)Ne===Ke?(De=ge[0],ge=ge.slice(1)):De=Ke;else if(Ie)De=ge[0],ge=ge.slice(1);else if(!ve)return pe;return De&&(Ae=B(De),Ae.appendChild(pe)),ve&&(Ae||(Ae=sc.create("div"),Ae.appendChild(pe)),qt.each(ve,function(Ge){var at=B(Ge);Ae.insertBefore(at,pe)})),Q(Ae,ge,De&&De.siblings)};return o&&o.length?(m=o[0],d=B(m),x=sc.create("div"),x.appendChild(Q(d,o.slice(1),m.siblings)),x):""},hU=function(o){var s,d={classes:[],attrs:{}};return o=d.selector=qt.trim(o),o!=="*"&&(s=o.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(m,x,T,O,B){switch(x){case"#":d.attrs.id=T;break;case".":d.classes.push(T);break;case":":qt.inArray("checked disabled enabled read-only required".split(" "),T)!==-1&&(d.attrs[T]=T);break}if(O==="["){var H=B.match(/([\w\-]+)(?:\=\"([^\"]+))?/);H&&(d.attrs[H[1]]=H[2])}return""})),d.name=s||"div",d},pU=function(o){return!o||typeof o!="string"?[]:(o=o.split(/\s*,\s*/)[0],o=o.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),qt.map(o.split(/(?:>|\s+(?![^\[\]]+\]))/),function(s){var d=qt.map(s.split(/(?:~\+|~|\+)/),hU),m=d.pop();return d.length&&(m.siblings=d),m}).reverse())},_m=function(o,s){var d,m,x="",T,O=xO(o);if(O==="")return"";var B=function(ge){return ge.replace(/%(\w+)/g,"")};if(typeof s=="string"){if(s=o.formatter.get(s),!s)return;s=s[0]}if("preview"in s){var H=zr(s,"preview");if(og(H,!1))return"";O=H.getOr(O)}d=s.block||s.inline||"span";var Q=pU(s.selector);Q.length?(Q[0].name||(Q[0].name=d),d=s.selector,m=ZB(Q,o)):m=ZB([d],o);var pe=sc.select(d,m)[0]||m.firstChild;return $A(s.styles,function(ge,ve){var Ae=B(ge);Ae&&sc.setStyle(pe,ve,Ae)}),$A(s.attributes,function(ge,ve){var Ae=B(ge);Ae&&sc.setAttrib(pe,ve,Ae)}),$A(s.classes,function(ge){var ve=B(ge);sc.hasClass(pe,ve)||sc.addClass(pe,ve)}),o.fire("PreviewFormats"),sc.setStyles(m,{position:"absolute",left:-65535}),o.getBody().appendChild(m),T=sc.getStyle(o.getBody(),"fontSize",!0),T=/px$/.test(T)?parseInt(T,10):0,$A(O.split(" "),function(ge){var ve=sc.getStyle(pe,ge,!0);if(!(ge==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ve)&&(ve=sc.getStyle(o.getBody(),ge,!0),sc.toHex(ve).toLowerCase()==="#ffffff"))&&!(ge==="color"&&sc.toHex(ve).toLowerCase()==="#000000")){if(ge==="font-size"&&/em|%$/.test(ve)){if(T===0)return;var Ae=parseFloat(ve)/(/%$/.test(ve)?100:1);ve=Ae*T+"px"}ge==="border"&&ve&&(x+="padding:0 2px;"),x+=ge+":"+ve+";"}}),o.fire("AfterPreviewFormats"),sc.remove(m),x},mU=function(o){o.addShortcut("meta+b","","Bold"),o.addShortcut("meta+i","","Italic"),o.addShortcut("meta+u","","Underline");for(var s=1;s<=6;s++)o.addShortcut("access+"+s,"",["FormatBlock",!1,"h"+s]);o.addShortcut("access+7","",["FormatBlock",!1,"p"]),o.addShortcut("access+8","",["FormatBlock",!1,"div"]),o.addShortcut("access+9","",["FormatBlock",!1,"address"])},QB=function(o){var s=KI(o),d=fl(null);return mU(o),pj(o),{get:s.get,has:s.has,register:s.register,unregister:s.unregister,apply:function(m,x,T){aB(o,m,x,T)},remove:function(m,x,T,O){PA(o,m,x,T,O)},toggle:function(m,x,T){aW(o,m,x,T)},match:function(m,x,T,O){return oW(o,m,x,T,O)},closest:function(m){return iB(o,m)},matchAll:function(m,x){return iW(o,m,x)},matchNode:function(m,x,T,O){return OI(o,m,x,T,O)},canApply:function(m){return FC(o,m)},formatChanged:function(m,x,T,O){return uW(o,d,m,x,T,O)},getCssText:ke(_m,o)}},ez=function(o){switch(o.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},gU=function(o,s,d){var m=fl(!1),x=function(H){RA(s,!1,d),s.add({},H)};o.on("init",function(){s.add()}),o.on("BeforeExecCommand",function(H){var Q=H.command;ez(Q)||(W1(s,d),s.beforeChange())}),o.on("ExecCommand",function(H){var Q=H.command;ez(Q)||x(H)}),o.on("ObjectResizeStart cut",function(){s.beforeChange()}),o.on("SaveContent ObjectResized blur",x),o.on("dragend",x),o.on("keyup",function(H){var Q=H.keyCode;H.isDefaultPrevented()||((Q>=33&&Q<=36||Q>=37&&Q<=40||Q===45||H.ctrlKey)&&(x(),o.nodeChanged()),(Q===46||Q===8)&&o.nodeChanged(),m.get()&&s.typing&&jw(TI(o),s.data[0])===!1&&(o.isDirty()===!1&&(o.setDirty(!0),o.fire("change",{level:s.data[0],lastLevel:null})),o.fire("TypingUndo"),m.set(!1),o.nodeChanged()))}),o.on("keydown",function(H){var Q=H.keyCode;if(!H.isDefaultPrevented()){if(Q>=33&&Q<=36||Q>=37&&Q<=40||Q===45){s.typing&&x(H);return}var pe=H.ctrlKey&&!H.altKey||H.metaKey;(Q<16||Q>20)&&Q!==224&&Q!==91&&!s.typing&&!pe&&(s.beforeChange(),RA(s,!0,d),s.add({},H),m.set(!0))}}),o.on("mousedown",function(H){s.typing&&x(H)});var T=function(H){return H.inputType==="insertReplacementText"},O=function(H){return H.inputType==="insertText"&&H.data===null},B=function(H){return H.inputType==="insertFromPaste"||H.inputType==="insertFromDrop"};o.on("input",function(H){H.inputType&&(T(H)||O(H)||B(H))&&x(H)}),o.on("AddUndo Undo Redo ClearUndos",function(H){H.isDefaultPrevented()||o.nodeChanged()})},vU=function(o){o.addShortcut("meta+z","","Undo"),o.addShortcut("meta+y,meta+shift+z","","Redo")},iu=function(o){var s=Xp(),d=fl(0),m=fl(0),x={data:[],typing:!1,beforeChange:function(){Qj(o,d,s)},add:function(T,O){return Q6(o,x,m,d,s,T,O)},undo:function(){return eW(o,x,d,m)},redo:function(){return tW(o,m,x.data)},clear:function(){eB(o,x,m)},reset:function(){tB(o,x)},hasUndo:function(){return nB(o,x,m)},hasRedo:function(){return rB(o,x,m)},transact:function(T){return oB(o,x,d,T)},ignore:function(T){nW(o,d,T)},extra:function(T,O){rW(o,x,m,T,O)}};return iv(o)||gU(o,x,d),vU(o),x},tz=[9,27,Nr.HOME,Nr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Nr.DOWN,Nr.UP,Nr.LEFT,Nr.RIGHT].concat(Cr.browser.isFirefox()?[224]:[]),JI="data-mce-placeholder",uh=function(o){return o.type==="keydown"||o.type==="keyup"},ZI=function(o){var s=o.keyCode;return s===Nr.BACKSPACE||s===Nr.DELETE},yU=function(o){if(uh(o)){var s=o.keyCode;return!ZI(o)&&(Nr.metaKeyPressed(o)||o.altKey||s>=112&&s<=123||Ye(tz,s))}else return!1},bU=function(o){return uh(o)&&!(ZI(o)||o.type==="keyup"&&o.keyCode===229)},QI=function(o,s,d){if(ls(U.fromDom(s),!1)){var m=d==="",x=s.firstElementChild;return x?o.getStyle(s.firstElementChild,"padding-left")||o.getStyle(s.firstElementChild,"padding-right")?!1:m?!o.isBlock(x):d===x.nodeName.toLowerCase():!0}else return!1},xU=function(o){var s=o.dom,d=hs(o),m=yO(o),x=function(T,O){if(!yU(T)){var B=o.getBody(),H=bU(T)?!1:QI(s,B,d),Q=s.getAttrib(B,JI)!=="";(Q!==H||O)&&(s.setAttrib(B,JI,H?m:null),s.setAttrib(B,"aria-placeholder",H?m:null),gD(o,H),o.on(H?"keydown":"keyup",x),o.off(H?"keyup":"keydown",x))}};m&&o.on("init",function(T){x(T,!0),o.on("change SetContent ExecCommand",x),o.on("paste",function(O){return ks.setEditorTimeout(o,function(){return x(O)})})})},Xw=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,wU=function(o){return Xw.test(o)},U0=function(o,s){return Ln(U.fromDom(s),vO(o))},nz=function(o){return ra.DOM.getStyle(o,"direction",!0)==="rtl"||wU(o.textContent)},eR=function(o,s,d){return Xe(ra.DOM.getParents(d.container(),"*",s),o)},av=function(o,s,d){var m=eR(o,s,d);return fe.from(m[m.length-1])},tR=function(o,s,d){var m=Jd(s,o),x=Jd(d,o);return m&&m===x},_U=function(o){return Er(o)||Kb(o)},yd=function(o,s){if(!s)return s;var d=s.container(),m=s.offset();return o?$i(d)?or(d.nextSibling)?Wt(d.nextSibling,0):Wt.after(d):Er(s)?Wt(d,m+1):s:$i(d)?or(d.previousSibling)?Wt(d.previousSibling,d.previousSibling.data.length):Wt.before(d):Kb(s)?Wt(d,m-1):s},rz=ke(yd,!0),bd=ke(yd,!1),SU=function(o){return function(s){return Vr(o,U.fromDom(s.dom.parentNode))}},CU=function(o){return Hd(o)||Ds(o)},GA=function(o,s){return li(o,s)?Fv(s,CU,SU(o)):fe.none()},KC=function(o){var s=o.getBody(),d=s.firstChild&&o.dom.isBlock(s.firstChild)?s.firstChild:s;o.selection.setCursorLocation(d,0)},oz=function(o){o.dom.isEmpty(o.getBody())&&(o.setContent(""),KC(o))},iz=function(o,s,d){return js(pl(d),dd(d),function(m,x){var T=yd(!0,m),O=yd(!1,x),B=yd(!1,s);return o?Wc(d,B).exists(function(H){return H.isEqual(O)&&s.isEqual(T)}):Uc(d,B).exists(function(H){return H.isEqual(T)&&s.isEqual(O)})}).getOr(!0)},az=function(o,s){return{block:o,position:s}},uz=function(o,s){return{from:o,to:s}},nR=function(o,s){var d=U.fromDom(o),m=U.fromDom(s.container());return GA(d,m).map(function(x){return az(x,s)})},TU=function(o){return Vr(o.from.block,o.to.block)===!1},q0=function(o){return ka(o.from.block).bind(function(s){return ka(o.to.block).filter(function(d){return Vr(s,d)})}).isSome()},MU=function(o){return ca(o.from.block.dom)===!1&&ca(o.to.block.dom)===!1},kU=function(o,s,d){return Ii(d.position.getNode())&&ls(d.block)===!1?jc(!1,d.block.dom).bind(function(m){return m.isEqual(d.position)?Os(s,o,m).bind(function(x){return nR(o,x)}):fe.some(d)}).getOr(d):d},DU=function(o,s,d){var m=nR(o,Wt.fromRangeStart(d)),x=m.bind(function(T){return Os(s,o,T.position).bind(function(O){return nR(o,O).map(function(B){return kU(o,s,B)})})});return js(m,x,uz).filter(function(T){return TU(T)&&q0(T)&&MU(T)})},AU=function(o,s,d){return d.collapsed?DU(o,s,d):fe.none()},EU=function(o){var s=Hs(o);return pr(s,_c).fold(Z(s),function(d){return s.slice(0,d)})},sz=function(o){var s=EU(o);return Ct(s,Ba),s},lz=function(o,s){var d=up(s,o);return Zn(d.reverse(),function(m){return ls(m)}).each(Ba)},OU=function(o){return Xe(ri(o),function(s){return!ls(s)}).length===0},IU=function(o,s,d,m){if(ls(d))return Zg(d),pl(d.dom);OU(m)&&ls(s)&&as(m,U.fromTag("br"));var x=Uc(d.dom,Wt.before(m.dom));return Ct(sz(s),function(T){as(m,T)}),lz(o,s),x},RU=function(o,s,d){if(ls(d))return Ba(d),ls(s)&&Zg(s),pl(s.dom);var m=dd(d.dom);return Ct(sz(s),function(x){wu(d,x)}),lz(o,s),m},PU=function(o,s){var d=up(s,o);return fe.from(d[d.length-1])},NU=function(o,s){return li(s,o)?PU(s,o):fe.none()},Yw=function(o,s){jc(o,s.dom).map(function(d){return d.getNode()}).map(U.fromDom).filter(jv).each(Ba)},cz=function(o,s,d){return Yw(!0,s),Yw(!1,d),NU(s,d).fold(ke(RU,o,s,d),ke(IU,o,s,d))},XA=function(o,s,d,m){return s?cz(o,m,d):cz(o,d,m)},YA=function(o,s){var d=U.fromDom(o.getBody()),m=AU(d.dom,s,o.selection.getRng()).bind(function(x){return XA(d,s,x.from.block,x.to.block)});return m.each(function(x){o.selection.setRng(x.toRange())}),m.isSome()},LU=function(o,s){var d=s.getRng();return js(GA(o,U.fromDom(d.startContainer)),GA(o,U.fromDom(d.endContainer)),function(m,x){return Vr(m,x)===!1?(d.deleteContents(),XA(o,!0,m,x).each(function(T){s.setRng(T.toRange())}),!0):!1}).getOr(!1)},fz=function(o,s){var d=U.fromDom(s),m=ke(Vr,o);return Rp(d,rd,m).isSome()},BU=function(o,s){return fz(o,s.startContainer)||fz(o,s.endContainer)},$1=function(o,s){var d=Uc(o.dom,Wt.fromRangeStart(s)).isNone(),m=Wc(o.dom,Wt.fromRangeEnd(s)).isNone();return!BU(o,s)&&d&&m},G1=function(o){return o.setContent(""),o.selection.setCursorLocation(),!0},KA=function(o){var s=U.fromDom(o.getBody()),d=o.selection.getRng();return $1(s,d)?G1(o):LU(s,o.selection)},X1=function(o,s){return o.selection.isCollapsed()?!1:KA(o)},Y1=mf,K1=ca,sh=function(o,s,d,m,x){return fe.from(s._selectionOverrides.showCaret(o,d,m,x))},JA=function(o){var s=o.ownerDocument.createRange();return s.selectNode(o),s},J1=function(o,s){var d=o.fire("BeforeObjectSelected",{target:s});return d.isDefaultPrevented()?fe.none():fe.some(JA(s))},ZA=function(o,s,d){var m=Kx(1,o.getBody(),s),x=Wt.fromRangeStart(m),T=x.getNode();if(Ru(T))return sh(1,o,T,!x.isAtEnd(),!1);var O=x.getNode(!0);if(Ru(O))return sh(1,o,O,!1,!1);var B=o.dom.getParent(x.getNode(),function(H){return K1(H)||Y1(H)});return Ru(B)?sh(1,o,B,!1,d):fe.none()},JC=function(o,s,d){return s.collapsed?ZA(o,s,d).getOr(s):s},dz=function(o){return gm(o)||L0(o)},hz=function(o){return vm(o)||B0(o)},Kw=function(o,s){or(s)&&s.data.length===0&&o.remove(s)},rR=function(o,s,d,m,x,T){return sh(m,o,T.getNode(!x),x,!0).each(function(O){if(s.collapsed){var B=s.cloneRange();x?B.setEnd(O.startContainer,O.startOffset):B.setStart(O.endContainer,O.endOffset),B.deleteContents()}else s.deleteContents();o.selection.setRng(O)}),Kw(o.dom,d),!0},pz=function(o,s){var d=o.selection.getRng();if(!or(d.commonAncestorContainer))return!1;var m=s?ps.Forwards:ps.Backwards,x=fd(o.getBody()),T=ke(SS,s?x.next:x.prev),O=s?dz:hz,B=Zu(m,o.getBody(),d),H=yd(s,T(B));if(!H||!Jx(B,H))return!1;if(O(H))return rR(o,d,B.getNode(),m,s,H);var Q=T(H);return Q&&O(Q)&&Jx(H,Q)?rR(o,d,B.getNode(),m,s,Q):!1},ZC=function(o,s){return pz(o,s)},QA=function(o){return rd(U.fromDom(o))||Ds(U.fromDom(o))},Lf=Sr.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),mz=function(o,s){var d=s.getNode(o===!1),m=o?"after":"before";return Xr(d)&&d.getAttribute("data-mce-caret")===m},gz=function(o,s,d,m){var x=function(T){return Ws(U.fromDom(T))&&!kf(d,m,o)};return _S(!s,d).fold(function(){return _S(s,m).fold($e,x)},x)},vz=function(o,s,d,m){var x=m.getNode(s===!1);return GA(U.fromDom(o),U.fromDom(d.getNode())).map(function(T){return ls(T)?Lf.remove(T.dom):Lf.moveToElement(x)}).orThunk(function(){return fe.some(Lf.moveToElement(x))})},Sm=function(o,s,d){return Os(s,o,d).bind(function(m){return QA(m.getNode())||gz(o,s,d,m)?fe.none():s&&ca(m.getNode())||s===!1&&ca(m.getNode(!0))?vz(o,s,d,m):s&&vm(d)||s===!1&&gm(d)?fe.some(Lf.moveToPosition(m)):fe.none()})},yz=function(o,s){return o&&ca(s.nextSibling)?fe.some(Lf.moveToElement(s.nextSibling)):o===!1&&ca(s.previousSibling)?fe.some(Lf.moveToElement(s.previousSibling)):fe.none()},bz=function(o,s,d){return d.fold(function(m){return fe.some(Lf.remove(m))},function(m){return fe.some(Lf.moveToElement(m))},function(m){return kf(s,m,o)?fe.none():fe.some(Lf.moveToPosition(m))})},$0=function(o,s,d){return mz(s,d)?yz(s,d.getNode(s===!1)).fold(function(){return Sm(o,s,d)},fe.some):Sm(o,s,d).bind(function(m){return bz(o,d,m)})},lh=function(o,s,d){var m=Kx(s?1:-1,o,d),x=Wt.fromRangeStart(m),T=U.fromDom(o);return s===!1&&vm(x)?fe.some(Lf.remove(x.getNode(!0))):s&&gm(x)?fe.some(Lf.remove(x.getNode())):s===!1&&gm(x)&&ym(T,x)?TC(T,x).map(function(O){return Lf.remove(O.getNode())}):s&&vm(x)&&Iw(T,x)?Rw(T,x).map(function(O){return Lf.remove(O.getNode())}):$0(o,s,x)},zU=function(o,s){return function(d){return o._selectionOverrides.hideFakeCaret(),Pn(o,s,U.fromDom(d)),!0}},FU=function(o,s){return function(d){var m=s?Wt.before(d):Wt.after(d);return o.selection.setRng(m.toRange()),!0}},VU=function(o){return function(s){return o.selection.setRng(s.toRange()),!0}},xz=function(o,s){return fe.from(lm(o.getBody(),s))},HU=function(o,s){var d=o.selection.getNode();return xz(o,d).filter(ca).fold(function(){return lh(o.getBody(),s,o.selection.getRng()).exists(function(m){return m.fold(zU(o,s),FU(o,s),VU(o))})},mt)},jU=function(o){Ct(Il(o,".mce-offscreen-selection"),Ba)},WU=function(o,s){var d=o.selection.getNode();if(ca(d)&&!Nv(d)){var m=xz(o,d.parentNode).filter(ca);return m.fold(function(){return jU(U.fromDom(o.getBody())),Pn(o,s,U.fromDom(o.selection.getNode())),oz(o),!0},mt)}return!1},wz=function(o){var s=o.dom,d=o.selection,m=lm(o.getBody(),d.getNode());if(mf(m)&&s.isBlock(m)&&s.isEmpty(m)){var x=s.create("br",{"data-mce-bogus":"1"});s.setHTML(m,""),m.appendChild(x),d.setRng(Wt.before(x).toRange())}return!0},eE=function(o,s){return o.selection.isCollapsed()?HU(o,s):WU(o,s)},UU=function(o,s){var d=Wt.fromRangeStart(o.selection.getRng());return Os(s,o.getBody(),d).filter(function(m){return s?A4(m):E4(m)}).bind(function(m){return fe.from(g0(s?0:-1,m))}).exists(function(m){return o.selection.select(m),!0})},tE=function(o,s){return o.selection.isCollapsed()?UU(o,s):!1},Jw=or,nE=function(o){return Jw(o)&&o.data[0]===dt},rE=function(o){return Jw(o)&&o.data[o.data.length-1]===dt},oR=function(o){return o.ownerDocument.createTextNode(dt)},qU=function(o){if(Jw(o.previousSibling))return rE(o.previousSibling)||o.previousSibling.appendData(dt),o.previousSibling;if(Jw(o))return nE(o)||o.insertData(0,dt),o;var s=oR(o);return o.parentNode.insertBefore(s,o),s},$U=function(o){if(Jw(o.nextSibling))return nE(o.nextSibling)||o.nextSibling.insertData(0,dt),o.nextSibling;if(Jw(o))return rE(o)||o.appendData(dt),o;var s=oR(o);return o.nextSibling?o.parentNode.insertBefore(s,o.nextSibling):o.parentNode.appendChild(s),s},QC=function(o,s){return o?qU(s):$U(s)},_z=ke(QC,!0),iR=ke(QC,!1),aR=function(o,s){return or(o.container())?QC(s,o.container()):QC(s,o.getNode())},uR=function(o,s){var d=s.get();return d&&o.container()===d&&$i(d)},eT=function(o,s){return s.fold(function(d){Ig(o.get());var m=_z(d);return o.set(m),fe.some(Wt(m,m.length-1))},function(d){return pl(d).map(function(m){if(uR(m,o))return Wt(o.get(),1);Ig(o.get());var x=aR(m,!0);return o.set(x),Wt(x,1)})},function(d){return dd(d).map(function(m){if(uR(m,o))return Wt(o.get(),o.get().length-1);Ig(o.get());var x=aR(m,!1);return o.set(x),Wt(x,x.length-1)})},function(d){Ig(o.get());var m=iR(d);return o.set(m),fe.some(Wt(m,1))})},Sz=function(o,s){for(var d=0;d<o.length;d++){var m=o[d].apply(null,s);if(m.isSome())return m}return fe.none()},lc=Sr.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),fp=function(o,s){var d=Jd(s,o);return d||o},ch=function(o,s,d){var m=rz(d),x=fp(s,m.container());return av(o,x,m).fold(function(){return Wc(x,m).bind(ke(av,o,x)).map(function(T){return lc.before(T)})},fe.none)},oE=function(o,s){return hd(o,s)===null},sR=function(o,s,d){return av(o,s,d).filter(ke(oE,s))},iE=function(o,s,d){var m=bd(d);return sR(o,s,m).bind(function(x){var T=Uc(x,m);return T.isNone()?fe.some(lc.start(x)):fe.none()})},Cz=function(o,s,d){var m=rz(d);return sR(o,s,m).bind(function(x){var T=Wc(x,m);return T.isNone()?fe.some(lc.end(x)):fe.none()})},Tz=function(o,s,d){var m=bd(d),x=fp(s,m.container());return av(o,x,m).fold(function(){return Uc(x,m).bind(ke(av,o,x)).map(function(T){return lc.after(T)})},fe.none)},lR=function(o){return nz(aE(o))===!1},dp=function(o,s,d){var m=Sz([ch,iE,Cz,Tz],[o,s,d]);return m.filter(lR)},aE=function(o){return o.fold(Ce,Ce,Ce,Ce)},cR=function(o){return o.fold(Z("before"),Z("start"),Z("end"),Z("after"))},Z1=function(o){return o.fold(lc.before,lc.before,lc.after,lc.after)},Zw=function(o){return o.fold(lc.start,lc.start,lc.end,lc.end)},fR=function(o,s){return cR(o)===cR(s)&&aE(o)===aE(s)},GU=function(o,s,d,m,x,T){return js(av(s,d,m),av(s,d,x),function(O,B){return O!==B&&tR(d,O,B)?lc.after(o?O:B):T}).getOr(T)},XU=function(o,s){return o.fold(mt,function(d){return!fR(d,s)})},YU=function(o,s,d,m,x){var T=yd(o,x),O=Os(o,d,T).map(ke(yd,o)),B=O.fold(function(){return m.map(Z1)},function(H){return dp(s,d,H).map(ke(GU,o,s,d,T,H)).filter(ke(XU,m))});return B.filter(lR)},KU=function(o,s){return o?s.fold(ce(fe.some,lc.start),fe.none,ce(fe.some,lc.after),fe.none):s.fold(fe.none,ce(fe.some,lc.before),fe.none,ce(fe.some,lc.end))},uE=function(o,s,d,m){var x=yd(o,m),T=dp(s,d,x);return dp(s,d,x).bind(ke(KU,o)).orThunk(function(){return YU(o,s,d,T,m)})};ke(uE,!1),ke(uE,!0);var JU=function(o){return te(o.selection.getSel().modify)},Mz=function(o,s,d){var m=o?1:-1;return s.setRng(Wt(d.container(),d.offset()+m).toRange()),s.getSel().modify("move",o?"forward":"backward","word"),!0},dR=function(o,s){var d=s.selection.getRng(),m=o?Wt.fromRangeEnd(d):Wt.fromRangeStart(d);return JU(s)?o&&Er(m)?Mz(!0,s.selection,m):!o&&Kb(m)?Mz(!1,s.selection,m):!1:!1},Cm;(function(o){o[o.Br=0]="Br",o[o.Block=1]="Block",o[o.Wrap=2]="Wrap",o[o.Eol=3]="Eol"})(Cm||(Cm={}));var sE=function(o,s){return o===ps.Backwards?gn(s):s},ZU=function(o,s,d){return o===ps.Forwards?s.next(d):s.prev(d)},QU=function(o,s,d,m){return Ii(m.getNode(s===ps.Forwards))?Cm.Br:kf(d,m)===!1?Cm.Block:Cm.Wrap},kz=function(o,s,d,m){for(var x=fd(d),T=m,O=[];T;){var B=ZU(s,x,T);if(!B)break;if(Ii(B.getNode(!1)))return s===ps.Forwards?{positions:sE(s,O).concat([B]),breakType:Cm.Br,breakAt:fe.some(B)}:{positions:sE(s,O),breakType:Cm.Br,breakAt:fe.some(B)};if(!B.isVisible()){T=B;continue}if(o(T,B)){var H=QU(d,s,T,B);return{positions:sE(s,O),breakType:H,breakAt:fe.some(B)}}O.push(B),T=B}return{positions:sE(s,O),breakType:Cm.Eol,breakAt:fe.none()}},Dz=function(o,s,d,m){return s(d,m).breakAt.map(function(x){var T=s(d,x).positions;return o===ps.Backwards?T.concat(x):[x].concat(T)}).getOr([])},hR=function(o,s){return Mn(o,function(d,m){return d.fold(function(){return fe.some(m)},function(x){return js(hn(x.getClientRects()),hn(m.getClientRects()),function(T,O){var B=Math.abs(s-T.left),H=Math.abs(s-O.left);return H<=B?m:x}).or(d)})},fe.none())},tT=function(o,s){return hn(s.getClientRects()).bind(function(d){return hR(o,d.left)})},G0=ke(kz,Wt.isAbove,-1),Q1=ke(kz,Wt.isBelow,1),eq=ke(Dz,-1,G0),tq=ke(Dz,1,Q1),nq=function(o,s){return G0(o,s).breakAt.isNone()},rq=function(o,s){return Q1(o,s).breakAt.isNone()},Az=function(o){return pl(o).map(function(s){return[s].concat(Q1(o,s).positions)}).getOr([])},oq=function(o){return dd(o).map(function(s){return G0(o,s).positions.concat(s)}).getOr([])},iq=function(o){var s=function(m){return Ft(m,function(x){var T=Jp(x);return T.node=o,T})};if(Xr(o))return s(o.getClientRects());if(or(o)){var d=o.ownerDocument.createRange();return d.setStart(o,0),d.setEnd(o,o.data.length),s(d.getClientRects())}},nT=function(o){return Mo(o,iq)},eb;(function(o){o[o.Up=-1]="Up",o[o.Down=1]="Down"})(eb||(eb={}));var aq=function(o,s,d,m){for(;m=Ng(m,o,du,s);)if(d(m))return},Ez=function(o,s,d,m,x,T){var O=0,B=[],H=function(ge){var ve=nT([ge]);o===-1&&(ve=ve.reverse());for(var Ae=0;Ae<ve.length;Ae++){var De=ve[Ae];if(!d(De,Q)){if(B.length>0&&s(De,Na(B))&&O++,De.line=O,x(De))return!0;B.push(De)}}},Q=Na(T.getClientRects());if(!Q)return B;var pe=T.getNode();return H(pe),aq(o,m,H,pe),B},uq=function(o,s){return s.line>o},sq=function(o,s){return s.line===o},lq=ke(Ez,eb.Up,Jh,Zp),cq=ke(Ez,eb.Down,Zp,Jh),lE=function(o,s,d,m){var x=fd(s),T,O,B,H,Q=[],pe=0,ge=function(Ie){return Na(Ie.getClientRects())};o===1?(T=x.next,O=Zp,B=Jh,H=Wt.after(m)):(T=x.prev,O=Jh,B=Zp,H=Wt.before(m));var ve=ge(H);do if(H.isVisible()){var Ae=ge(H);if(!B(Ae,ve)){Q.length>0&&O(Ae,Na(Q))&&pe++;var De=Jp(Ae);if(De.position=H,De.line=pe,d(De))return Q;Q.push(De)}}while(H=T(H));return Q},rT=function(o){return function(s){return uq(o,s)}},pR=function(o){return function(s){return sq(o,s)}},fq=ca,oT=Ng,mR=function(o,s){return Math.abs(o.left-s)},gR=function(o,s){return Math.abs(o.right-s)},Oz=function(o,s){return o>=s.left&&o<=s.right},dq=function(o,s){return o>=s.top&&o<=s.bottom},hq=function(o){return ui(o,"node")},cE=function(o,s,d){return d===void 0&&(d=mt),Pa(o,function(m,x){if(Oz(s,x))return d(x)?x:m;if(Oz(s,m))return d(m)?m:x;var T=Math.min(mR(m,s),gR(m,s)),O=Math.min(mR(x,s),gR(x,s));return O===T&&hq(x)&&fq(x.node)||O<T?x:m})},Iz=function(o,s,d,m,x){var T=oT(m,o,du,s,!x);do if(!T||d(T))return;while(T=oT(T,o,du,s))},pq=function(o,s,d){d===void 0&&(d=!0);var m=[],x=function(T,O){var B=Xe(nT([O]),function(H){return!T(H,s)});return m=m.concat(B),B.length===0};return m.push(s),Iz(eb.Up,o,ke(x,Jh),s.node,d),Iz(eb.Down,o,ke(x,Zp),s.node,d),m},mq=function(o){return Xe(bn(o.getElementsByTagName("*")),om)},gq=function(o,s){return{node:o.node,before:mR(o,s)<gR(o,s)}},vq=function(o,s,d){var m=nT(mq(o)),x=Xe(m,ke(dq,d)),T=function(H){return!tu(H.node)&&!kl(H.node)},O=cE(x,s,T);if(O){var B=T(O);if(O=cE(pq(o,O,B),s,T),O&&om(O.node))return gq(O,s)}return null},uv=function(o,s){o.selection.setRng(s),D0(o,o.selection.getRng())},xd=function(o,s,d){return fe.some(JC(o,s,d))},fE=function(o,s,d,m,x,T){var O=s===ps.Forwards,B=fd(o.getBody()),H=ke(SS,O?B.next:B.prev),Q=O?m:x;if(!d.collapsed){var pe=_x(d);if(T(pe))return sh(s,o,pe,s===ps.Backwards,!1)}var ge=Zu(s,o.getBody(),d);if(Q(ge))return J1(o,ge.getNode(!O));var ve=yd(O,H(ge)),Ae=jd(d);if(!ve)return Ae?fe.some(d):fe.none();if(Q(ve))return sh(s,o,ve.getNode(!O),O,!1);var De=H(ve);return De&&Q(De)&&Jx(ve,De)?sh(s,o,De.getNode(!O),O,!1):Ae?xd(o,ve.toRange(),!1):fe.none()},vR=function(o,s,d,m,x,T){var O=Zu(s,o.getBody(),d),B=Na(O.getClientRects()),H=s===eb.Down;if(!B)return fe.none();var Q=H?cq:lq,pe=Q(o.getBody(),rT(1),O),ge=Xe(pe,pR(1)),ve=B.left,Ae=cE(ge,ve);if(Ae&&T(Ae.node)){var De=Math.abs(ve-Ae.left),Ie=Math.abs(ve-Ae.right);return sh(s,o,Ae.node,De<Ie,!1)}var Ne;if(m(O)?Ne=O.getNode():x(O)?Ne=O.getNode(!0):Ne=_x(d),Ne){var Ke=lE(s,o.getBody(),rT(1),Ne),Ge=cE(Xe(Ke,pR(1)),ve);if(Ge||(Ge=Na(Xe(Ke,pR(0))),Ge))return xd(o,Ge.position.toRange(),!1)}return ge.length===0?dE(o,H).filter(H?x:m).map(function(at){return JC(o,at.toRange(),!1)}):fe.none()},dE=function(o,s){var d=o.selection.getRng(),m=o.getBody();if(s){var x=Wt.fromRangeEnd(d),T=Q1(m,x);return Bn(T.positions)}else{var x=Wt.fromRangeStart(d),T=G0(m,x);return hn(T.positions)}},Rz=function(o,s,d){return dE(o,s).filter(d).exists(function(m){return o.selection.setRng(m.toRange()),!0})},iT=function(o,s){var d=o.dom.createRng();d.setStart(s.container(),s.offset()),d.setEnd(s.container(),s.offset()),o.selection.setRng(d)},Pz=function(o,s){o?s.setAttribute("data-mce-selected","inline-boundary"):s.removeAttribute("data-mce-selected")},yR=function(o,s,d){return eT(s,d).map(function(m){return iT(o,m),d})},yq=function(o,s,d){var m=o.getBody(),x=Wt.fromRangeStart(o.selection.getRng()),T=ke(U0,o),O=uE(d,T,m,x);return O.bind(function(B){return yR(o,s,B)})},bq=function(o,s,d){var m=Ft(Il(U.fromDom(s.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(O){return O.dom}),x=Xe(m,o),T=Xe(d,o);Ct(vn(x,T),ke(Pz,!1)),Ct(vn(T,x),ke(Pz,!0))},xq=function(o,s){if(o.selection.isCollapsed()&&o.composing!==!0&&s.get()){var d=Wt.fromRangeStart(o.selection.getRng());Wt.isTextPosition(d)&&_U(d)===!1&&(iT(o,vS(s.get(),d)),s.set(null))}},Qw=function(o,s,d,m){if(s.selection.isCollapsed()){var x=Xe(m,o);Ct(x,function(T){var O=Wt.fromRangeStart(s.selection.getRng());dp(o,s.getBody(),O).bind(function(B){return yR(s,d,B)})})}},bR=function(o,s,d){return d0(o)?yq(o,s,d).isSome():!1},xR=function(o,s,d){return d0(s)?dR(o,s):!1},Nz=function(o){var s=fl(null),d=ke(U0,o);return o.on("NodeChange",function(m){d0(o)&&!(Cr.browser.isIE()&&m.initial)&&(bq(d,o.dom,m.parents),xq(o,s),Qw(d,o,s,m.parents))}),s},wR=ke(xR,!0),wq=ke(xR,!1),hE=function(o,s,d){if(d0(o)){var m=dE(o,s).getOrThunk(function(){var x=o.selection.getRng();return s?Wt.fromRangeEnd(x):Wt.fromRangeStart(x)});return dp(ke(U0,o),o.getBody(),m).exists(function(x){var T=Z1(x);return eT(d,T).exists(function(O){return iT(o,O),!0})})}else return!1},_q=function(o,s){var d=document.createRange();return d.setStart(o.container(),o.offset()),d.setEnd(s.container(),s.offset()),d},Sq=function(o){return js(pl(o),dd(o),function(s,d){var m=yd(!0,s),x=yd(!1,d);return Wc(o,m).forall(function(T){return T.isEqual(x)})}).getOr(!0)},Lz=function(o,s){return function(d){return eT(s,d).exists(function(m){return iT(o,m),!0})}},Bz=function(o,s,d,m){var x=o.getBody(),T=ke(U0,o);o.undoManager.ignore(function(){o.selection.setRng(_q(d,m)),o.execCommand("Delete"),dp(T,x,Wt.fromRangeStart(o.selection.getRng())).map(Zw).map(Lz(o,s))}),o.nodeChanged()},hp=function(o,s){var d=Jd(s,o);return d||o},Cq=function(o,s,d,m){var x=hp(o.getBody(),m.container()),T=ke(U0,o),O=dp(T,x,m);return O.bind(function(B){return d?B.fold(Z(fe.some(Zw(B))),fe.none,Z(fe.some(Z1(B))),fe.none):B.fold(fe.none,Z(fe.some(Z1(B))),fe.none,Z(fe.some(Zw(B))))}).map(Lz(o,s)).getOrThunk(function(){var B=Bg(d,x,m),H=B.bind(function(Q){return dp(T,x,Q)});return js(O,H,function(){return av(T,x,m).exists(function(Q){return Sq(Q)?(Pn(o,d,U.fromDom(Q)),!0):!1})}).orThunk(function(){return H.bind(function(Q){return B.map(function(pe){return d?Bz(o,s,m,pe):Bz(o,s,pe,m),!0})})}).getOr(!1)})},pE=function(o,s,d){if(o.selection.isCollapsed()&&d0(o)){var m=Wt.fromRangeStart(o.selection.getRng());return Cq(o,s,d,m)}return!1},Tq=function(o,s){var d=up(s,o);return pr(d,_c).fold(Z(d),function(m){return d.slice(0,m)})},Mq=function(o){return Ub(o)===1},kq=function(o,s,d,m){var x=ke(mj,s),T=Ft(Xe(m,x),function(B){return B.dom});if(T.length===0)Pn(s,o,d);else{var O=h6(d.dom,T);s.selection.setRng(O.toRange())}},Dq=function(o,s){var d=U.fromDom(o.getBody()),m=U.fromDom(o.selection.getStart()),x=Xe(Tq(d,m),Mq);return Bn(x).exists(function(T){var O=Wt.fromRangeStart(o.selection.getRng());return iz(s,O,T.dom)&&!iI(T)?(kq(s,o,T,x),!0):!1})},mE=function(o,s){return o.selection.isCollapsed()?Dq(o,s):!1},Tm=function(o,s,d){return o._selectionOverrides.hideFakeCaret(),Pn(o,s,U.fromDom(d)),!0},Aq=function(o,s){var d=s?L0:B0,m=s?ps.Forwards:ps.Backwards,x=Zu(m,o.getBody(),o.selection.getRng());return d(x)?Tm(o,s,x.getNode(!s)):fe.from(yd(s,x)).filter(function(T){return d(T)&&Jx(x,T)}).exists(function(T){return Tm(o,s,T.getNode(!s))})},Eq=function(o,s){var d=o.selection.getNode();return kl(d)?Tm(o,s,d):!1},aT=function(o,s){return o.selection.isCollapsed()?Aq(o,s):Eq(o,s)},_R=function(o){return Fv(o,function(s){return mf(s.dom)||ca(s.dom)}).exists(function(s){return mf(s.dom)})},SR=function(o){var s=parseInt(o,10);return isNaN(s)?0:s},zz=function(o,s){var d=o||k5(s)?"margin":"padding",m=bo(s,"direction")==="rtl"?"-right":"-left";return d+m},Oq=function(o,s,d,m,x,T){var O=zz(d,U.fromDom(T));if(s==="outdent"){var B=Math.max(0,SR(T.style[O])-m);o.setStyle(T,O,B?B+x:"")}else{var B=SR(T.style[O])+m+x;o.setStyle(T,O,B)}},tb=function(o,s){return Go(s,function(d){var m=zz(jx(o),d),x=ss(d,m).map(SR).getOr(0),T=o.dom.getContentEditable(d.dom);return T!=="false"&&x>0})},Fz=function(o){var s=Hz(o);return!o.mode.isReadOnly()&&(s.length>1||tb(o,s))},Vz=function(o){return yf(o)||Ds(o)},Iq=function(o){return ka(o).exists(Vz)},Hz=function(o){return Xe(oO(o.selection.getSelectedBlocks()),function(s){return!Vz(s)&&!Iq(s)&&_R(s)})},gE=function(o,s){var d=o.dom,m=o.selection,x=o.formatter,T=Ju(o),O=/[a-z%]+$/i.exec(T)[0],B=parseInt(T,10),H=jx(o),Q=hs(o);!o.queryCommandState("InsertUnorderedList")&&!o.queryCommandState("InsertOrderedList")&&Q===""&&!d.getParent(m.getNode(),d.isBlock)&&x.apply("div"),Ct(Hz(o),function(pe){Oq(d,s,H,B,O,pe.dom)})},vE=function(o,s){if(o.selection.isCollapsed()&&Fz(o)){var d=o.dom,m=o.selection.getRng(),x=Wt.fromRangeStart(m),T=d.getParent(m.startContainer,d.isBlock);if(T!==null&&CC(U.fromDom(T),x))return gE(o,"outdent"),!0}return!1},CR=function(o,s){o.getDoc().execCommand(s,!1,null)},jz=function(o,s){if(!vE(o)){if(eE(o,!1)||ZC(o,!1)||pE(o,s,!1)||YA(o,!1)||DC(o)||tE(o,!1)||aT(o,!1)||X1(o)||mE(o,!1))return;CR(o,"Delete"),oz(o)}},Wz=function(o,s){if(!eE(o,!0)){if(ZC(o,!0)||pE(o,s,!0)||YA(o,!0)||DC(o)||tE(o,!0)||aT(o,!0)||X1(o)||mE(o,!0))return;CR(o,"ForwardDelete")}},Rq=function(o,s){o.addCommand("delete",function(){jz(o,s)}),o.addCommand("forwardDelete",function(){Wz(o,s)})},e2=5,Pq=400,Uz=function(o){return o.touches===void 0||o.touches.length!==1?fe.none():fe.some(o.touches[0])},Nq=function(o,s){var d=Math.abs(o.clientX-s.x),m=Math.abs(o.clientY-s.y);return d>e2||m>e2},t2=function(o){var s=Xp(),d=fl(!1),m=dx(function(x){o.fire("longpress",dr(dr({},x),{type:"longpress"})),d.set(!0)},Pq);o.on("touchstart",function(x){Uz(x).each(function(T){m.cancel();var O={x:T.clientX,y:T.clientY,target:x.target};m.throttle(x),d.set(!1),s.set(O)})},!0),o.on("touchmove",function(x){m.cancel(),Uz(x).each(function(T){s.on(function(O){Nq(T,O)&&(s.clear(),d.set(!1),o.fire("longpresscancel"))})})},!0),o.on("touchend touchcancel",function(x){m.cancel(),x.type!=="touchcancel"&&s.get().filter(function(T){return T.target.isEqualNode(x.target)}).each(function(){d.get()?x.preventDefault():o.fire("tap",dr(dr({},x),{type:"tap"}))})},!0)},TR=function(o,s){return Hr(o,s.nodeName)},sv=function(o,s){return or(s)?!0:Xr(s)?!TR(o,s)&&!ic(s):!1},Lq=function(o,s,d){return st(_C(U.fromDom(d),U.fromDom(s)),function(m){return TR(o,m.dom)})},MR=function(o,s){return!!(or(s)&&(s.nodeValue.length===0||/^\s+$/.test(s.nodeValue)&&(!s.nextSibling||TR(o,s.nextSibling))))},kR=function(o){var s=o.dom,d=o.selection,m=o.schema,x=m.getBlockElements(),T=d.getStart(),O=o.getBody(),B,H,Q,pe=hs(o);if(!(!T||!Xr(T)||!pe)){var ge=O.nodeName.toLowerCase();if(!(!m.isValidChild(ge,pe.toLowerCase())||Lq(x,O,T))){var ve=d.getRng(),Ae=ve.startContainer,De=ve.startOffset,Ie=ve.endContainer,Ne=ve.endOffset,Ke=mm(o);for(T=O.firstChild;T;)if(sv(x,T)){if(MR(x,T)){H=T,T=T.nextSibling,s.remove(H);continue}B||(B=s.create(pe,Ag(o)),T.parentNode.insertBefore(B,T),Q=!0),H=T,T=T.nextSibling,B.appendChild(H)}else B=null,T=T.nextSibling;Q&&Ke&&(ve.setStart(Ae,De),ve.setEnd(Ie,Ne),d.setRng(ve),o.nodeChanged())}}},Bq=function(o){hs(o)&&o.on("NodeChange",ke(kR,o))},zq=function(o){return Vv(U.fromDom(o.getBody()),"*[data-mce-caret]").map(function(s){return s.dom}).getOrNull()},Fq=function(o){o.selection.setRng(o.selection.getRng())},DR=function(o,s){s.hasAttribute("data-mce-caret")&&(m_(s),Fq(o),o.selection.scrollIntoView(s))},Vq=function(o,s){var d=zq(o);if(d){if(s.type==="compositionstart"){s.preventDefault(),s.stopPropagation(),DR(o,d);return}jh(d)&&(DR(o,d),o.undoManager.add())}},Hq=function(o){o.on("keyup compositionstart",ke(Vq,o))},qz=ca,jq=function(o,s,d){return fE(s,o,d,gm,vm,qz)},$z=function(o,s,d){var m=function(T){return gm(T)||Dw(T)},x=function(T){return vm(T)||oA(T)};return vR(s,o,d,m,x,qz)},Wq=function(o){var s=o.dom.create(hs(o));return(!Cr.ie||Cr.ie>=11)&&(s.innerHTML='<br data-mce-bogus="1">'),s},X0=function(o,s,d){var m=fd(o.getBody()),x=ke(SS,s===1?m.next:m.prev);if(d.collapsed&&SO(o)){var T=o.dom.getParent(d.startContainer,"PRE");if(!T)return;var O=x(Wt.fromRangeStart(d));if(!O){var B=Wq(o);s===1?o.$(T).after(B):o.$(T).before(B),o.selection.select(B,!0),o.selection.collapse()}}},Uq=function(o,s){var d=s?ps.Forwards:ps.Backwards,m=o.selection.getRng();return jq(d,o,m).orThunk(function(){return X0(o,d,m),fe.none()})},uT=function(o,s){var d=s?1:-1,m=o.selection.getRng();return $z(d,o,m).orThunk(function(){return X0(o,d,m),fe.none()})},AR=function(o,s){return Uq(o,s).exists(function(d){return uv(o,d),!0})},yE=function(o,s){return uT(o,s).exists(function(d){return uv(o,d),!0})},bE=function(o,s){var d=s?vm:gm;return Rz(o,s,d)},qq=function(o){return Ye(["figcaption"],ni(o))},Gz=function(o){var s=document.createRange();return s.setStartBefore(o.dom),s.setEndBefore(o.dom),s},Xz=function(o,s,d){d?wu(o,s):Nc(o,s)},ER=function(o,s){var d=U.fromTag("br");return Xz(o,d,s),Gz(d)},$q=function(o,s,d,m){var x=U.fromTag(d),T=U.fromTag("br");return me(x,m),wu(x,T),Xz(o,x,s),Gz(T)},Gq=function(o,s,d,m){return s===""?ER(o,m):$q(o,m,s,d)},Xq=function(o,s){var d=ke(Vr,s);return Fv(U.fromDom(o.container()),_c,d).filter(qq)},Yq=function(o,s,d){return s?rq(o.dom,d):nq(o.dom,d)},Yz=function(o,s){var d=U.fromDom(o.getBody()),m=Wt.fromRangeStart(o.selection.getRng()),x=hs(o),T=Ag(o);return Xq(m,d).exists(function(){if(Yq(d,s,m)){var O=Gq(d,x,T,s);return o.selection.setRng(O),!0}else return!1})},Kz=function(o,s){return o.selection.isCollapsed()?Yz(o,s):!1},Kq=function(o){return Ft(o,function(s){return dr({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:le},s)})},Jq=function(o,s){return s.keyCode===o.keyCode&&s.shiftKey===o.shiftKey&&s.altKey===o.altKey&&s.ctrlKey===o.ctrlKey&&s.metaKey===o.metaKey},Zq=function(o,s){return Mo(Kq(o),function(d){return Jq(d,s)?[d]:[]})},$o=function(o){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];return function(){return o.apply(null,s)}},n2=function(o,s){return Zn(Zq(o,s),function(d){return d.action()})},Jz=function(o,s){var d=s?ps.Forwards:ps.Backwards,m=o.selection.getRng();return fE(o,d,m,L0,B0,kl).exists(function(x){return uv(o,x),!0})},Zz=function(o,s){var d=s?1:-1,m=o.selection.getRng();return vR(o,d,m,L0,B0,kl).exists(function(x){return uv(o,x),!0})},OR=function(o,s){var d=s?B0:L0;return Rz(o,s,d)},Qq=function(o,s){return{left:o.left-s,top:o.top-s,right:o.right+s*2,bottom:o.bottom+s*2,width:o.width+s,height:o.height+s}},Qz=function(o,s){return Mo(s,function(d){var m=Qq(Jp(d.getBoundingClientRect()),-1);return[{x:m.left,y:o(m),cell:d},{x:m.right,y:o(m),cell:d}]})},e$=function(o,s,d){return Mn(o,function(m,x){return m.fold(function(){return fe.some(x)},function(T){var O=Math.sqrt(Math.abs(T.x-s)+Math.abs(T.y-d)),B=Math.sqrt(Math.abs(x.x-s)+Math.abs(x.y-d));return fe.some(B<O?x:T)})},fe.none())},e8=function(o,s,d,m,x){var T=Il(U.fromDom(d),"td,th,caption").map(function(B){return B.dom}),O=Xe(Qz(o,T),function(B){return s(B,x)});return e$(O,m,x).map(function(B){return B.cell})},t$=function(o){return o.bottom},n$=function(o){return o.top},r$=function(o,s){return o.y<s},o$=function(o,s){return o.y>s},i$=ke(e8,t$,r$),a$=ke(e8,n$,o$),u$=function(o,s){return hn(s.getClientRects()).bind(function(d){return i$(o,d.left,d.top)}).bind(function(d){return tT(oq(d),s)})},s$=function(o,s){return Bn(s.getClientRects()).bind(function(d){return a$(o,d.left,d.top)}).bind(function(d){return tT(Az(d),s)})},l$=function(o,s,d){return d.breakAt.exists(function(m){return o(s,m).breakAt.isSome()})},c$=function(o){return o.breakType===Cm.Wrap&&o.positions.length===0},f$=function(o){return o.breakType===Cm.Br&&o.positions.length===1},IR=function(o,s,d){var m=o(s,d);return c$(m)||!Ii(d.getNode())&&f$(m)?!l$(o,s,m):m.breakAt.isNone()},d$=ke(IR,G0),h$=ke(IR,Q1),t8=function(o,s,d){var m=Wt.fromRangeStart(s);return jc(!o,d).exists(function(x){return x.isEqual(m)})},n8=function(o,s,d,m){var x=o.selection.getRng(),T=s?1:-1;return Rg()&&t8(s,x,d)?(sh(T,o,d,!s,!1).each(function(O){uv(o,O)}),!0):!1},xE=function(o,s,d){return u$(s,d).orThunk(function(){return hn(d.getClientRects()).bind(function(m){return hR(eq(o,Wt.before(s)),m.left)})}).getOr(Wt.before(s))},r8=function(o,s,d){return s$(s,d).orThunk(function(){return hn(d.getClientRects()).bind(function(m){return hR(tq(o,Wt.after(s)),m.left)})}).getOr(Wt.after(s))},RR=function(o,s){var d=s.getNode(o);return Xr(d)&&d.nodeName==="TABLE"?fe.some(d):fe.none()},PR=function(o,s,d,m){var x=hs(s);x?s.undoManager.transact(function(){var T=U.fromTag(x);me(T,Ag(s)),wu(T,U.fromTag("br")),o?Ip(U.fromDom(d),T):as(U.fromDom(d),T);var O=s.dom.createRng();O.setStart(T.dom,0),O.setEnd(T.dom,0),uv(s,O)}):uv(s,m.toRange())},NR=function(o,s,d){var m=RR(!!s,d),x=s===!1;m.fold(function(){return uv(o,d.toRange())},function(T){return jc(x,o.getBody()).filter(function(O){return O.isEqual(d)}).fold(function(){return uv(o,d.toRange())},function(O){return PR(s,o,T,d)})})},p$=function(o,s,d,m){var x=o.selection.getRng(),T=Wt.fromRangeStart(x),O=o.getBody();if(!s&&d$(m,T)){var B=xE(O,d,T);return NR(o,s,B),!0}else if(s&&h$(m,T)){var B=r8(O,d,T);return NR(o,s,B),!0}else return!1},LR=function(o,s,d){return fe.from(o.dom.getParent(o.selection.getNode(),"td,th")).bind(function(m){return fe.from(o.dom.getParent(m,"table")).map(function(x){return d(o,s,x,m)})}).getOr(!1)},nb=function(o,s){return LR(o,s,n8)},BR=function(o,s){return LR(o,s,p$)},zR=function(o,s,d){var m=yr().os;n2([{keyCode:Nr.RIGHT,action:$o(AR,o,!0)},{keyCode:Nr.LEFT,action:$o(AR,o,!1)},{keyCode:Nr.UP,action:$o(yE,o,!1)},{keyCode:Nr.DOWN,action:$o(yE,o,!0)},{keyCode:Nr.RIGHT,action:$o(nb,o,!0)},{keyCode:Nr.LEFT,action:$o(nb,o,!1)},{keyCode:Nr.UP,action:$o(BR,o,!1)},{keyCode:Nr.DOWN,action:$o(BR,o,!0)},{keyCode:Nr.RIGHT,action:$o(Jz,o,!0)},{keyCode:Nr.LEFT,action:$o(Jz,o,!1)},{keyCode:Nr.UP,action:$o(Zz,o,!1)},{keyCode:Nr.DOWN,action:$o(Zz,o,!0)},{keyCode:Nr.RIGHT,action:$o(bR,o,s,!0)},{keyCode:Nr.LEFT,action:$o(bR,o,s,!1)},{keyCode:Nr.RIGHT,ctrlKey:!m.isOSX(),altKey:m.isOSX(),action:$o(wR,o,s)},{keyCode:Nr.LEFT,ctrlKey:!m.isOSX(),altKey:m.isOSX(),action:$o(wq,o,s)},{keyCode:Nr.UP,action:$o(Kz,o,!1)},{keyCode:Nr.DOWN,action:$o(Kz,o,!0)}],d).each(function(x){d.preventDefault()})},m$=function(o,s){o.on("keydown",function(d){d.isDefaultPrevented()===!1&&zR(o,s,d)})},FR=function(o,s,d){n2([{keyCode:Nr.BACKSPACE,action:$o(vE,o,!1)},{keyCode:Nr.BACKSPACE,action:$o(eE,o,!1)},{keyCode:Nr.DELETE,action:$o(eE,o,!0)},{keyCode:Nr.BACKSPACE,action:$o(ZC,o,!1)},{keyCode:Nr.DELETE,action:$o(ZC,o,!0)},{keyCode:Nr.BACKSPACE,action:$o(pE,o,s,!1)},{keyCode:Nr.DELETE,action:$o(pE,o,s,!0)},{keyCode:Nr.BACKSPACE,action:$o(DC,o,!1)},{keyCode:Nr.DELETE,action:$o(DC,o,!0)},{keyCode:Nr.BACKSPACE,action:$o(tE,o,!1)},{keyCode:Nr.DELETE,action:$o(tE,o,!0)},{keyCode:Nr.BACKSPACE,action:$o(aT,o,!1)},{keyCode:Nr.DELETE,action:$o(aT,o,!0)},{keyCode:Nr.BACKSPACE,action:$o(X1,o,!1)},{keyCode:Nr.DELETE,action:$o(X1,o,!0)},{keyCode:Nr.BACKSPACE,action:$o(YA,o,!1)},{keyCode:Nr.DELETE,action:$o(YA,o,!0)},{keyCode:Nr.BACKSPACE,action:$o(mE,o,!1)},{keyCode:Nr.DELETE,action:$o(mE,o,!0)}],d).each(function(m){d.preventDefault()})},g$=function(o,s){n2([{keyCode:Nr.BACKSPACE,action:$o(wz,o)},{keyCode:Nr.DELETE,action:$o(wz,o)}],s)},v$=function(o,s){o.on("keydown",function(d){d.isDefaultPrevented()===!1&&FR(o,s,d)}),o.on("keyup",function(d){d.isDefaultPrevented()===!1&&g$(o,d)})},y$=function(o){for(;o;){if(o.nodeType===1||o.nodeType===3&&o.data&&/[\r\n\s]/.test(o.data))return o;o=o.nextSibling}},sT=function(o,s){var d,m=s,x=o.dom,T=o.schema.getMoveCaretBeforeOnEnterElements();if(s){if(/^(LI|DT|DD)$/.test(s.nodeName)){var O=y$(s.firstChild);O&&/^(UL|OL|DL)$/.test(O.nodeName)&&s.insertBefore(x.doc.createTextNode(Kl),s.firstChild)}var B=x.createRng();if(s.normalize(),s.hasChildNodes()){for(var H=new mi(s,s);d=H.current();){if(or(d)){B.setStart(d,0),B.setEnd(d,0);break}if(T[d.nodeName.toLowerCase()]){B.setStartBefore(d),B.setEndBefore(d);break}m=d,d=H.next()}d||(B.setStart(m,0),B.setEnd(m,0))}else Ii(s)?s.nextSibling&&x.isBlock(s.nextSibling)?(B.setStartBefore(s),B.setEndBefore(s)):(B.setStartAfter(s),B.setEndAfter(s)):(B.setStart(s,0),B.setEnd(s,0));o.selection.setRng(B),D0(o,B)}},b$=function(o,s){var d=o.getRoot(),m,x;for(m=s;m!==d&&o.getContentEditable(m)!=="false";)o.getContentEditable(m)==="true"&&(x=m),m=m.parentNode;return m!==d?x:d},VR=function(o){return fe.from(o.dom.getParent(o.selection.getStart(!0),o.dom.isBlock))},o8=function(o){return VR(o).fold(Z(""),function(s){return s.nodeName.toUpperCase()})},r2=function(o){return VR(o).filter(function(s){return Ds(U.fromDom(s))}).isSome()},x$=function(o,s){return o.firstChild&&o.firstChild.nodeName===s},HR=function(o){var s;return((s=o.parentNode)===null||s===void 0?void 0:s.firstChild)===o},i8=function(o,s){return o&&o.parentNode&&o.parentNode.nodeName===s},jR=function(o){return o&&/^(OL|UL|LI)$/.test(o.nodeName)},a8=function(o){return jR(o)&&jR(o.parentNode)},lT=function(o){var s=o.parentNode;return/^(LI|DT|DD)$/.test(s.nodeName)?s:o},cT=function(o,s,d){for(var m=o[d?"firstChild":"lastChild"];m&&!Xr(m);)m=m[d?"nextSibling":"previousSibling"];return m===s},WR=function(o,s,d,m,x){var T=o.dom,O=o.selection.getRng();if(d!==o.getBody()){a8(d)&&(x="LI");var B=x?s(x):T.create("BR");if(cT(d,m,!0)&&cT(d,m,!1))if(i8(d,"LI")){var H=lT(d);T.insertAfter(B,H),HR(d)?T.remove(H):T.remove(d)}else T.replace(B,d);else if(cT(d,m,!0))i8(d,"LI")?(T.insertAfter(B,lT(d)),B.appendChild(T.doc.createTextNode(" ")),B.appendChild(d)):d.parentNode.insertBefore(B,d),T.remove(m);else if(cT(d,m,!1))T.insertAfter(B,lT(d)),T.remove(m);else{d=lT(d);var Q=O.cloneRange();Q.setStartAfter(m),Q.setEndAfter(d);var pe=Q.extractContents();x==="LI"&&x$(pe,"LI")?(B=pe.firstChild,T.insertAfter(pe,d)):(T.insertAfter(pe,d),T.insertAfter(B,d)),T.remove(m)}sT(o,B)}},u8=function(o){Ct(vx(U.fromDom(o),wa),function(s){var d=s.dom;d.nodeValue=od(d.nodeValue)})},w$=function(o,s){return s&&s.nodeName==="A"&&o.isEmpty(s)},_$=function(o){return o&&/^(TD|TH|CAPTION)$/.test(o.nodeName)},o2=function(o){o.innerHTML='<br data-mce-bogus="1">'},UR=function(o,s){return o.nodeName===s||o.previousSibling&&o.previousSibling.nodeName===s},s8=function(o,s){return s&&o.isBlock(s)&&!/^(TD|TH|CAPTION|FORM)$/.test(s.nodeName)&&!/^(fixed|absolute)/i.test(s.style.position)&&o.getContentEditable(s)!=="true"},S$=function(o,s,d){var m=d,x=[],T;if(m){for(;m=m.firstChild;){if(o.isBlock(m))return;Xr(m)&&!s[m.nodeName.toLowerCase()]&&x.push(m)}for(T=x.length;T--;)m=x[T],(!m.hasChildNodes()||m.firstChild===m.lastChild&&m.firstChild.nodeValue===""||w$(o,m))&&o.remove(m)}},wE=function(o,s,d){return or(s)===!1?d:o?d===1&&s.data.charAt(d-1)===dt?0:d:d===s.data.length-1&&s.data.charAt(d)===dt?s.data.length:d},C$=function(o){var s=o.cloneRange();return s.setStart(o.startContainer,wE(!0,o.startContainer,o.startOffset)),s.setEnd(o.endContainer,wE(!1,o.endContainer,o.endOffset)),s},T$=function(o){do or(o)&&(o.nodeValue=o.nodeValue.replace(/^[\r\n]+/,"")),o=o.firstChild;while(o)},Zc=function(o,s){var d=o.getRoot(),m,x;for(m=s;m!==d&&o.getContentEditable(m)!=="false";)o.getContentEditable(m)==="true"&&(x=m),m=m.parentNode;return m!==d?x:d},M$=function(o,s,d){var m=o.dom;fe.from(d.style).map(m.parseStyle).each(function(H){var Q=Da(U.fromDom(s)),pe=dr(dr({},Q),H);m.setStyles(s,pe)});var x=fe.from(d.class).map(function(H){return H.split(/\s+/)}),T=fe.from(s.className).map(function(H){return Xe(H.split(/\s+/),function(Q){return Q!==""})});js(x,T,function(H,Q){var pe=Xe(Q,function(ve){return!Ye(H,ve)}),ge=xa(xa([],H,!0),pe,!0);m.setAttrib(s,"class",ge.join(" "))});var O=["style","class"],B=Kn(d,function(H,Q){return!Ye(O,Q)});m.setAttribs(s,B)},rb=function(o,s){var d=hs(o);if(d&&d.toLowerCase()===s.tagName.toLowerCase()){var m=Ag(o);M$(o,s,m)}},l8=function(o,s,d,m,x){var T,O,B,H,Q,pe,ge=s||"P",ve=o.dom,Ae=Zc(ve,m);if(O=ve.getParent(m,ve.isBlock),!O||!s8(ve,O)){if(O=O||Ae,O===o.getBody()||_$(O)?pe=O.nodeName.toLowerCase():pe=O.parentNode.nodeName.toLowerCase(),!O.hasChildNodes())return T=ve.create(ge),rb(o,T),O.appendChild(T),d.setStart(T,0),d.setEnd(T,0),T;for(H=m;H.parentNode!==O;)H=H.parentNode;for(;H&&!ve.isBlock(H);)B=H,H=H.previousSibling;if(B&&o.schema.isValidChild(pe,ge.toLowerCase())){for(T=ve.create(ge),rb(o,T),B.parentNode.insertBefore(T,B),H=B;H&&!ve.isBlock(H);)Q=H.nextSibling,T.appendChild(H),H=Q;d.setStart(m,x),d.setEnd(m,x)}}return m},qR=function(o,s){s.normalize();var d=s.lastChild;(!d||/^(left|right)$/gi.test(o.getStyle(d,"float",!0)))&&o.add(s,"br")},k$=function(o,s){var d,m,x,T,O,B,H,Q,pe,ge,ve=o.dom,Ae=o.schema,De=Ae.getNonEmptyElements(),Ie=o.selection.getRng(),Ne=function(Yt){var Sn=m,Dr,Qn,pn,jr=Ae.getTextInlineElements();if(Yt||Q==="TABLE"||Q==="HR"?Dr=ve.create(Yt||pe):Dr=T.cloneNode(!1),pn=Dr,f0(o)===!1)ve.setAttrib(Dr,"style",null),ve.setAttrib(Dr,"class",null);else do if(jr[Sn.nodeName]){if(qc(Sn)||ic(Sn))continue;Qn=Sn.cloneNode(!1),ve.setAttrib(Qn,"id",""),Dr.hasChildNodes()?(Qn.appendChild(Dr.firstChild),Dr.appendChild(Qn)):(pn=Qn,Dr.appendChild(Qn))}while((Sn=Sn.parentNode)&&Sn!==nt);return rb(o,Dr),o2(pn),Dr},Ke=function(Yt){var Sn,Dr,Qn=wE(Yt,m,x);if(or(m)&&(Yt?Qn>0:Qn<m.nodeValue.length))return!1;if(m.parentNode===T&&ge&&!Yt||Yt&&Xr(m)&&m===T.firstChild)return!0;if(UR(m,"TABLE")||UR(m,"HR"))return ge&&!Yt||!ge&&Yt;var pn=new mi(m,T);for(or(m)&&(Yt&&Qn===0?pn.prev():!Yt&&Qn===m.nodeValue.length&&pn.next());Sn=pn.current();){if(Xr(Sn)){if(!Sn.getAttribute("data-mce-bogus")&&(Dr=Sn.nodeName.toLowerCase(),De[Dr]&&Dr!=="br"))return!1}else if(or(Sn)&&!bf(Sn.nodeValue))return!1;Yt?pn.prev():pn.next()}return!0},Ge=function(){/^(H[1-6]|PRE|FIGURE)$/.test(Q)&&Mt!=="HGROUP"?O=Ne(pe):O=Ne(),Ck(o)&&s8(ve,H)&&ve.isEmpty(T)?O=ve.split(H,T):ve.insertAfter(O,T),sT(o,O)};h1(ve,Ie).each(function(Yt){Ie.setStart(Yt.startContainer,Yt.startOffset),Ie.setEnd(Yt.endContainer,Yt.endOffset)}),m=Ie.startContainer,x=Ie.startOffset,pe=hs(o);var at=!!(s&&s.shiftKey),bt=!!(s&&s.ctrlKey);Xr(m)&&m.hasChildNodes()&&(ge=x>m.childNodes.length-1,m=m.childNodes[Math.min(x,m.childNodes.length-1)]||m,ge&&or(m)?x=m.nodeValue.length:x=0);var nt=Zc(ve,m);if(nt){(pe&&!at||!pe&&at)&&(m=l8(o,pe,Ie,m,x)),T=ve.getParent(m,ve.isBlock),H=T?ve.getParent(T.parentNode,ve.isBlock):null,Q=T?T.nodeName.toUpperCase():"";var Mt=H?H.nodeName.toUpperCase():"";if(Mt==="LI"&&!bt&&(T=H,H=H.parentNode,Q=Mt),/^(LI|DT|DD)$/.test(Q)&&ve.isEmpty(T)){WR(o,Ne,H,T,pe);return}pe&&T===o.getBody()||(pe=pe||"P",Ri(T)?(O=m_(T),ve.isEmpty(T)&&o2(T),rb(o,O),sT(o,O)):Ke()?Ge():Ke(!0)?(O=T.parentNode.insertBefore(Ne(),T),sT(o,UR(T,"HR")?O:T)):(d=C$(Ie).cloneRange(),d.setEndAfter(T),B=d.extractContents(),u8(B),T$(B),O=B.firstChild,ve.insertAfter(B,T),S$(ve,De,O),qR(ve,T),ve.isEmpty(T)&&o2(T),O.normalize(),ve.isEmpty(O)?(ve.remove(O),Ge()):(rb(o,O),sT(o,O))),ve.setAttrib(O,"id",""),o.fire("NewBlock",{newBlock:O}))}},D$=function(o,s,d){for(var m=new mi(s,d),x,T=o.getNonEmptyElements();x=m.next();)if(T[x.nodeName.toLowerCase()]||x.length>0)return!0},$R=function(o,s,d){var m=o.dom.createRng();d?(m.setStartBefore(s),m.setEndBefore(s)):(m.setStartAfter(s),m.setEndAfter(s)),o.selection.setRng(m),D0(o,m)},A$=function(o,s){var d=o.selection,m=o.dom,x=d.getRng(),T,O;h1(m,x).each(function(De){x.setStart(De.startContainer,De.startOffset),x.setEnd(De.endContainer,De.endOffset)});var B=x.startOffset,H=x.startContainer;if(H.nodeType===1&&H.hasChildNodes()){var Q=B>H.childNodes.length-1;H=H.childNodes[Math.min(B,H.childNodes.length-1)]||H,Q&&H.nodeType===3?B=H.nodeValue.length:B=0}var pe=m.getParent(H,m.isBlock),ge=pe?m.getParent(pe.parentNode,m.isBlock):null,ve=ge?ge.nodeName.toUpperCase():"",Ae=!!(s&&s.ctrlKey);ve==="LI"&&!Ae&&(pe=ge),H&&H.nodeType===3&&B>=H.nodeValue.length&&(D$(o.schema,H,pe)||(T=m.create("br"),x.insertNode(T),x.setStartAfter(T),x.setEndAfter(T),O=!0)),T=m.create("br"),em(m,x,T),$R(o,T,O),o.undoManager.add()},E$=function(o,s){var d=U.fromTag("br");as(U.fromDom(s),d),o.undoManager.add()},O$=function(o,s){R$(o.getBody(),s)||Ip(U.fromDom(s),U.fromTag("br"));var d=U.fromTag("br");Ip(U.fromDom(s),d),$R(o,d.dom,!1),o.undoManager.add()},I$=function(o){return Ii(o.getNode())},R$=function(o,s){return I$(Wt.after(s))?!0:Wc(o,Wt.after(s)).map(function(d){return Ii(d.getNode())}).getOr(!1)},c8=function(o){return o&&o.nodeName==="A"&&"href"in o},P$=function(o){return o.fold($e,c8,c8,$e)},N$=function(o){var s=ke(U0,o),d=Wt.fromRangeStart(o.selection.getRng());return dp(s,o.getBody(),d).filter(P$)},L$=function(o,s){s.fold(le,ke(E$,o),ke(O$,o),le)},Ys=function(o,s){var d=N$(o);d.isSome()?d.each(ke(L$,o)):A$(o,s)},f8=function(o,s){return VR(o).filter(function(d){return s.length>0&&Ln(U.fromDom(d),s)}).isSome()},B$=function(o){return f8(o,sS(o))},z$=function(o){return f8(o,Sk(o))},Va=Sr.generate([{br:[]},{block:[]},{none:[]}]),F$=function(o,s){return z$(o)},_E=function(o){return function(s,d){var m=hs(s)==="";return m===o}},d8=function(o){return function(s,d){return r2(s)===o}},ob=function(o,s){return function(d,m){var x=o8(d)===o.toUpperCase();return x===s}},SE=function(o){return ob("pre",o)},V$=function(){return ob("summary",!0)},i2=function(o){return function(s,d){return dO(s)===o}},H$=function(o,s){return B$(o)},fT=function(o,s){return s},h8=function(o){var s=hs(o),d=b$(o.dom,o.selection.getStart());return d&&o.schema.isValidChild(d.nodeName,s||"P")},wd=function(o,s){return function(d,m){var x=Mn(o,function(T,O){return T&&O(d,m)},!0);return x?fe.some(s):fe.none()}},j$=function(o,s){return Sz([wd([F$],Va.none()),wd([V$()],Va.br()),wd([SE(!0),i2(!1),fT],Va.br()),wd([SE(!0),i2(!1)],Va.block()),wd([SE(!0),i2(!0),fT],Va.block()),wd([SE(!0),i2(!0)],Va.br()),wd([d8(!0),fT],Va.br()),wd([d8(!0)],Va.block()),wd([_E(!0),fT,h8],Va.block()),wd([_E(!0)],Va.br()),wd([H$],Va.br()),wd([_E(!1),fT],Va.br()),wd([h8],Va.block())],[o,!!(s&&s.shiftKey)]).getOr(Va.none())},p8=function(o,s){j$(o,s).fold(function(){Ys(o,s)},function(){k$(o,s)},le)},CE=function(o,s){s.isDefaultPrevented()||(s.preventDefault(),Ww(o.undoManager),o.undoManager.transact(function(){o.selection.isCollapsed()===!1&&o.execCommand("Delete"),p8(o,s)}))},m8=function(o){o.on("keydown",function(s){s.keyCode===Nr.ENTER&&CE(o,s)})},W$=function(o,s,d){n2([{keyCode:Nr.END,action:$o(bE,o,!0)},{keyCode:Nr.HOME,action:$o(bE,o,!1)},{keyCode:Nr.END,action:$o(OR,o,!0)},{keyCode:Nr.HOME,action:$o(OR,o,!1)},{keyCode:Nr.END,action:$o(hE,o,!0,s)},{keyCode:Nr.HOME,action:$o(hE,o,!1,s)}],d).each(function(m){d.preventDefault()})},U$=function(o,s){o.on("keydown",function(d){d.isDefaultPrevented()===!1&&W$(o,s,d)})},q$=yr().browser,$$=function(o){var s=Ci(function(){o.composing||zo(o)},0);q$.isIE()&&(o.on("keypress",function(d){s.throttle()}),o.on("remove",function(d){s.cancel()}))},G$=function(o){$$(o),o.on("input",function(s){s.isComposing===!1&&zo(o)})},GR=yr(),g8=function(o,s,d){n2([{keyCode:Nr.PAGE_UP,action:$o(hE,o,!1,s)},{keyCode:Nr.PAGE_DOWN,action:$o(hE,o,!0,s)}],d)},XR=function(o){return o.stopImmediatePropagation()},YR=function(o){return o.keyCode===Nr.PAGE_UP||o.keyCode===Nr.PAGE_DOWN},v8=function(o,s,d){d&&!o.get()?s.on("NodeChange",XR,!0):!d&&o.get()&&s.off("NodeChange",XR),o.set(d)},X$=function(o,s){if(!GR.os.isOSX()){var d=fl(!1);o.on("keydown",function(m){YR(m)&&v8(d,o,!0)}),o.on("keyup",function(m){m.isDefaultPrevented()===!1&&g8(o,s,m),YR(m)&&d.get()&&(v8(d,o,!1),o.nodeChanged())})}},y8=function(o,s){var d=s.container(),m=s.offset();return or(d)?(d.insertData(m,o),fe.some(Wt(d,m+o.length))):im(s).map(function(x){var T=U.fromText(o);return s.isAtEnd()?Ip(x,T):as(x,T),Wt(T.dom,o.length)})},Y$=ke(y8,Kl),K$=ke(y8," "),J$=function(o){return function(s){return s.fold(function(d){return Uc(o.dom,Wt.before(d))},function(d){return pl(d)},function(d){return dd(d)},function(d){return Wc(o.dom,Wt.after(d))})}},b8=function(o,s){return function(d){return MC(o,d)?Y$(s):K$(s)}},Z$=function(o){return function(s){return o.selection.setRng(s.toRange()),o.nodeChanged(),!0}},Q$=function(o){var s=Wt.fromRangeStart(o.selection.getRng()),d=U.fromDom(o.getBody());if(o.selection.isCollapsed()){var m=ke(U0,o),x=Wt.fromRangeStart(o.selection.getRng());return dp(m,o.getBody(),x).bind(J$(d)).bind(b8(d,s)).exists(Z$(o))}else return!1},eG=function(o,s){n2([{keyCode:Nr.SPACEBAR,action:$o(Q$,o)}],s).each(function(d){s.preventDefault()})},tG=function(o){o.on("keydown",function(s){s.isDefaultPrevented()===!1&&eG(o,s)})},x8=function(o){var s=Nz(o);return Hq(o),m$(o,s),v$(o,s),m8(o),tG(o),G$(o),U$(o,s),X$(o,s),s},nG=function(o){return iv(o)?fl(null):x8(o)},rG=function(){function o(s){this.lastPath=[],this.editor=s;var d,m=this;"onselectionchange"in s.getDoc()||s.on("NodeChange click mouseup keyup focus",function(x){var T=s.selection.getRng(),O={startContainer:T.startContainer,startOffset:T.startOffset,endContainer:T.endContainer,endOffset:T.endOffset};(x.type==="nodechange"||!sw(O,d))&&s.fire("SelectionChange"),d=O}),s.on("contextmenu",function(){s.fire("SelectionChange")}),s.on("SelectionChange",function(){var x=s.selection.getStart(!0);!x||!Cr.range&&s.selection.isCollapsed()||Gc(s)&&!m.isSameElementPath(x)&&s.dom.isChildOf(x,s.getBody())&&s.nodeChanged({selectionChange:!0})}),s.on("mouseup",function(x){!x.isDefaultPrevented()&&Gc(s)&&(s.selection.getNode().nodeName==="IMG"?ks.setEditorTimeout(s,function(){s.nodeChanged()}):s.nodeChanged())})}return o.prototype.nodeChanged=function(s){var d=this.editor.selection,m,x,T;this.editor.initialized&&d&&!CO(this.editor)&&!this.editor.mode.isReadOnly()&&(T=this.editor.getBody(),m=d.getStart(!0)||T,(m.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(m,T))&&(m=T),x=[],this.editor.dom.getParent(m,function(O){if(O===T)return!0;x.push(O)}),s=s||{},s.element=m,s.parents=x,this.editor.fire("NodeChange",s))},o.prototype.isSameElementPath=function(s){var d,m=this.editor.$(s).parentsUntil(this.editor.getBody()).add(s);if(m.length===this.lastPath.length){for(d=m.length;d>=0&&m[d]===this.lastPath[d];d--);if(d===-1)return this.lastPath=m,!0}return this.lastPath=m,!1},o}(),oG=function(o){o.on("click",function(s){o.dom.getParent(s.target,"details")&&s.preventDefault()})},iG=function(o){o.parser.addNodeFilter("details",function(s){Ct(s,function(d){d.attr("data-mce-open",d.attr("open")),d.attr("open","open")})}),o.serializer.addNodeFilter("details",function(s){Ct(s,function(d){var m=d.attr("data-mce-open");d.attr("open",R(m)?m:null),d.attr("data-mce-open",null)})})},w8=function(o){oG(o),iG(o)},dT=function(o){return Xr(o)&&Hd(U.fromDom(o))},_8=function(o){var s=o.selection.getRng(),d=Wt.fromRangeStart(s),m=Wt.fromRangeEnd(s);if(Wt.isElementPosition(d)){var x=d.container();dT(x)&&pl(x).each(function(T){return s.setStart(T.container(),T.offset())})}if(Wt.isElementPosition(m)){var x=d.container();dT(x)&&dd(x).each(function(O){return s.setEnd(O.container(),O.offset())})}o.selection.setRng(z4(s))},S8=function(o){o.on("click",function(s){s.detail>=3&&_8(o)})},C8=function(o){var s=o.getBoundingClientRect(),d=o.ownerDocument,m=d.documentElement,x=d.defaultView;return{top:s.top+x.pageYOffset-m.clientTop,left:s.left+x.pageXOffset-m.clientLeft}},aG=function(o){return o.inline?C8(o.getBody()):{left:0,top:0}},KR=function(o){var s=o.getBody();return o.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0}},uG=function(o){var s=o.getBody(),d=o.getDoc().documentElement,m={left:s.scrollLeft,top:s.scrollTop},x={left:s.scrollLeft||d.scrollLeft,top:s.scrollTop||d.scrollTop};return o.inline?m:x},sG=function(o,s){if(s.target.ownerDocument!==o.getDoc()){var d=C8(o.getContentAreaContainer()),m=uG(o);return{left:s.pageX-d.left+m.left,top:s.pageY-d.top+m.top}}return{left:s.pageX,top:s.pageY}},lG=function(o,s,d){return{pageX:d.left-o.left+s.left,pageY:d.top-o.top+s.top}},cG=function(o,s){return lG(aG(o),KR(o),sG(o,s))},Qc=ca,T8=mf,M8=function(o,s){return Qc(s)&&s!==o},fG=function(o,s,d){return s===d||o.dom.isChildOf(s,d)?!1:!Qc(s)},dG=function(o){var s=o.cloneNode(!0);return s.removeAttribute("data-mce-selected"),s},hG=function(o,s,d,m){var x=o.dom,T=s.cloneNode(!0);x.setStyles(T,{width:d,height:m}),x.setAttrib(T,"data-mce-selected",null);var O=x.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return x.setStyles(O,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:d,height:m}),x.setStyles(T,{margin:0,boxSizing:"border-box"}),O.appendChild(T),O},pG=function(o,s){o.parentNode!==s&&s.appendChild(o)},mG=function(o,s,d,m,x,T){var O=0,B=0;o.style.left=s.pageX+"px",o.style.top=s.pageY+"px",s.pageX+d>x&&(O=s.pageX+d-x),s.pageY+m>T&&(B=s.pageY+m-T),o.style.width=d-O+"px",o.style.height=m-B+"px"},k8=function(o){o&&o.parentNode&&o.parentNode.removeChild(o)},gG=function(o){return o.button===0},JR=function(o,s){return{pageX:s.pageX-o.relX,pageY:s.pageY+5}},vG=function(o,s){return function(d){if(gG(d)){var m=Zn(s.dom.getParents(d.target),aO(Qc,T8)).getOr(null);if(M8(s.getBody(),m)){var x=s.dom.getPos(m),T=s.getBody(),O=s.getDoc().documentElement;o.set({element:m,dragging:!1,screenX:d.screenX,screenY:d.screenY,maxX:(s.inline?T.scrollWidth:O.offsetWidth)-2,maxY:(s.inline?T.scrollHeight:O.offsetHeight)-2,relX:d.pageX-x.x,relY:d.pageY-x.y,width:m.offsetWidth,height:m.offsetHeight,ghost:hG(s,m,m.offsetWidth,m.offsetHeight)})}}}},yG=function(o,s){var d=ks.throttle(function(m,x){s._selectionOverrides.hideFakeCaret(),s.selection.placeCaretAt(m,x)},0);return s.on("remove",d.stop),function(m){return o.on(function(x){var T=Math.max(Math.abs(m.screenX-x.screenX),Math.abs(m.screenY-x.screenY));if(!x.dragging&&T>10){var O=s.fire("dragstart",{target:x.element});if(O.isDefaultPrevented())return;x.dragging=!0,s.focus()}if(x.dragging){var B=JR(x,cG(s,m));pG(x.ghost,s.getBody()),mG(x.ghost,B,x.width,x.height,x.maxX,x.maxY),d(m.clientX,m.clientY)}})}},D8=function(o){var s=o.getSel().getRangeAt(0),d=s.startContainer;return d.nodeType===3?d.parentNode:d},bG=function(o,s){return function(d){o.on(function(m){if(m.dragging){if(fG(s,D8(s.selection),m.element)){var x=dG(m.element),T=s.fire("drop",{clientX:d.clientX,clientY:d.clientY});T.isDefaultPrevented()||s.undoManager.transact(function(){k8(m.element),s.insertContent(s.dom.getOuterHTML(x)),s._selectionOverrides.hideFakeCaret()})}s.fire("dragend")}}),A8(o)}},xG=function(o,s){return function(){o.on(function(d){d.dragging&&s.fire("dragend")}),A8(o)}},A8=function(o){o.on(function(s){k8(s.ghost)}),o.clear()},wG=function(o){var s=Xp(),d=ra.DOM,m=document,x=vG(s,o),T=yG(s,o),O=bG(s,o),B=xG(s,o);o.on("mousedown",x),o.on("mousemove",T),o.on("mouseup",O),d.bind(m,"mousemove",T),d.bind(m,"mouseup",B),o.on("remove",function(){d.unbind(m,"mousemove",T),d.unbind(m,"mouseup",B)}),o.on("keydown",function(H){H.keyCode===Nr.ESC&&B()})},_G=function(o){o.on("drop",function(s){var d=typeof s.clientX<"u"?o.getDoc().elementFromPoint(s.clientX,s.clientY):null;(Qc(d)||o.dom.getContentEditableParent(d)==="false")&&s.preventDefault()})},SG=function(o){var s=function(x){if(!x.isDefaultPrevented()){var T=x.dataTransfer;T&&(Ye(T.types,"Files")||T.files.length>0)&&(x.preventDefault(),x.type==="drop"&&Gw(o,"Dropped file type is not supported"))}},d=function(x){x1(o,x.target)&&s(x)},m=function(){var x=ra.DOM,T=o.dom,O=document,B=o.inline?o.getBody():o.getDoc(),H=["drop","dragover"];Ct(H,function(Q){x.bind(O,Q,d),T.bind(B,Q,s)}),o.on("remove",function(){Ct(H,function(Q){x.unbind(O,Q,d),T.unbind(B,Q,s)})})};o.on("init",function(){ks.setEditorTimeout(o,m,0)})},ZR=function(o){wG(o),_G(o),Ok(o)&&SG(o)},CG=function(o){var s=Ci(function(){if(!o.removed&&o.getBody().contains(document.activeElement)){var d=o.selection.getRng();if(d.collapsed){var m=JC(o,d,!1);o.selection.setRng(m)}}},0);o.on("focus",function(){s.throttle()}),o.on("blur",function(){s.cancel()})},E8=function(o){o.on("init",function(){o.on("focusin",function(s){var d=s.target;if(kl(d)){var m=lm(o.getBody(),d),x=ca(m)?m:d;o.selection.getNode()!==x&&J1(o,x).each(function(T){return o.selection.setRng(T)})}})})},O8=mf,ib=ca,TE=function(o,s){return lm(o.getBody(),s)},TG=function(o){var s=o.selection,d=o.dom,m=d.isBlock,x=o.getBody(),T=Fk(o,x,m,function(){return mm(o)}),O="sel-"+d.uniqueId(),B="data-mce-selected",H,Q=function(pn){return d.hasClass(pn,"mce-offscreen-selection")},pe=function(pn){return pn!==x&&(ib(pn)||kl(pn))&&d.isChildOf(pn,x)},ge=function(pn){return gm(pn)||vm(pn)||L0(pn)||B0(pn)},ve=function(){var pn=d.get(O);return pn&&pn.getElementsByTagName("*")[0]},Ae=function(pn){pn&&s.setRng(pn)},De=s.getRng,Ie=function(pn,jr,An,Jn){Jn===void 0&&(Jn=!0);var Dn=o.fire("ShowCaret",{target:jr,direction:pn,before:An});return Dn.isDefaultPrevented()?null:(Jn&&s.scrollIntoView(jr,pn===-1),T.show(An,jr))},Ne=function(pn){pn.hasAttribute("data-mce-caret")&&(m_(pn),Ae(De()),s.scrollIntoView(pn))},Ke=function(){o.on("mouseup",function(Dn){var Hn=De();Hn.collapsed&&FB(o,Dn.clientX,Dn.clientY)&&ZA(o,Hn,!1).each(Ae)}),o.on("click",function(Dn){var Hn=TE(o,Dn.target);Hn&&(ib(Hn)&&(Dn.preventDefault(),o.focus()),O8(Hn)&&d.isChildOf(Hn,s.getNode())&&Sn())}),o.on("blur NewBlock",Sn),o.on("ResizeWindow FullscreenStateChanged",T.reposition);var pn=function(Dn){var Hn=Dn.firstChild;if(Y(Hn))return!1;var rr=Wt.before(Hn);if(Ii(rr.getNode())&&Dn.childNodes.length===1)return!ge(rr);var xn=fd(Dn),ar=xn.next(rr);return ar&&!ge(ar)},jr=function(Dn,Hn){var rr=d.getParent(Dn,m),xn=d.getParent(Hn,m);return rr===xn},An=function(Dn,Hn){var rr=d.getParent(Dn,m),xn=d.getParent(Hn,m);return Y(rr)?!1:Dn!==xn&&d.isChildOf(rr,xn)&&ib(TE(o,rr))===!1?!0:!d.isChildOf(xn,rr)&&!jr(rr,xn)&&pn(rr)};o.on("tap",function(Dn){var Hn=Dn.target,rr=TE(o,Hn);ib(rr)?(Dn.preventDefault(),J1(o,rr).each(Yt)):pe(Hn)&&J1(o,Hn).each(Yt)},!0),o.on("mousedown",function(Dn){var Hn=Dn.target;if(!(Hn!==x&&Hn.nodeName!=="HTML"&&!d.isChildOf(Hn,x))&&FB(o,Dn.clientX,Dn.clientY)!==!1){var rr=TE(o,Hn);if(rr)ib(rr)?(Dn.preventDefault(),J1(o,rr).each(Yt)):(Sn(),!(O8(rr)&&Dn.shiftKey)&&!S0(Dn.clientX,Dn.clientY,s.getRng())&&(Qn(),s.placeCaretAt(Dn.clientX,Dn.clientY)));else if(pe(Hn))J1(o,Hn).each(Yt);else if(om(Hn)===!1){Sn(),Qn();var xn=vq(x,Dn.clientX,Dn.clientY);if(xn&&!An(Hn,xn.node)){Dn.preventDefault();var ar=Ie(1,xn.node,xn.before,!1);Ae(ar),o.getBody().focus()}}}}),o.on("keypress",function(Dn){Nr.modifierPressed(Dn)||ib(s.getNode())&&Dn.preventDefault()}),o.on("GetSelectionRange",function(Dn){var Hn=Dn.range;if(H){if(!H.parentNode){H=null;return}Hn=Hn.cloneRange(),Hn.selectNode(H),Dn.range=Hn}}),o.on("SetSelectionRange",function(Dn){Dn.range=bt(Dn.range);var Hn=Yt(Dn.range,Dn.forward);Hn&&(Dn.range=Hn)});var Jn=function(Dn){return Dn.id==="mcepastebin"};o.on("AfterSetSelectionRange",function(Dn){var Hn=Dn.range,rr=Hn.startContainer.parentNode;!at(Hn)&&!Jn(rr)&&Qn(),Q(rr)||Sn()}),o.on("copy",function(Dn){var Hn=Dn.clipboardData;if(!Dn.isDefaultPrevented()&&Dn.clipboardData&&!Cr.ie){var rr=ve();rr&&(Dn.preventDefault(),Hn.clearData(),Hn.setData("text/html",rr.outerHTML),Hn.setData("text/plain",rr.outerText||rr.innerText))}}),ZR(o),CG(o),E8(o)},Ge=function(pn){return El(pn)||Py(pn)||Ny(pn)},at=function(pn){return Ge(pn.startContainer)||Ge(pn.endContainer)},bt=function(pn){var jr=o.schema.getShortEndedElements(),An=d.createRng(),Jn=pn.startContainer,Dn=pn.startOffset,Hn=pn.endContainer,rr=pn.endOffset;return Hr(jr,Jn.nodeName.toLowerCase())?Dn===0?An.setStartBefore(Jn):An.setStartAfter(Jn):An.setStart(Jn,Dn),Hr(jr,Hn.nodeName.toLowerCase())?rr===0?An.setEndBefore(Hn):An.setEndAfter(Hn):An.setEnd(Hn,rr),An},nt=function(pn,jr,An){var Jn=o.$,Dn=Vv(U.fromDom(o.getBody()),"#"+O).fold(function(){return Jn([])},function(xn){return Jn([xn.dom])});Dn.length===0&&(Dn=Jn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",O),Dn.appendTo(o.getBody()));var Hn=d.createRng();jr===An&&Cr.ie?(Dn.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(jr),Hn.setStartAfter(Dn[0].firstChild.firstChild),Hn.setEndAfter(jr)):(Dn.empty().append(Kl).append(jr).append(Kl),Hn.setStart(Dn[0].firstChild,1),Hn.setEnd(Dn[0].lastChild,0)),Dn.css({top:d.getPos(pn,o.getBody()).y}),Dn[0].focus();var rr=s.getSel();return rr.removeAllRanges(),rr.addRange(Hn),Hn},Mt=function(pn){var jr=pn.cloneNode(!0),An=o.fire("ObjectSelected",{target:pn,targetClone:jr});if(An.isDefaultPrevented())return null;var Jn=nt(pn,An.targetClone,jr),Dn=U.fromDom(pn);return Ct(Il(U.fromDom(o.getBody()),"*[data-mce-selected]"),function(Hn){Vr(Dn,Hn)||Zt(Hn,B)}),d.getAttrib(pn,B)||pn.setAttribute(B,"1"),H=pn,Qn(),Jn},Yt=function(pn,jr){if(!pn)return null;if(pn.collapsed){if(!at(pn)){var An=jr?1:-1,Jn=Zu(An,x,pn),Dn=Jn.getNode(!jr);if(om(Dn))return Ie(An,Dn,jr?!Jn.isAtEnd():!1,!1);var Hn=Jn.getNode(jr);if(om(Hn))return Ie(An,Hn,jr?!1:!Jn.isAtEnd(),!1)}return null}var rr=pn.startContainer,xn=pn.startOffset,ar=pn.endOffset;if(rr.nodeType===3&&xn===0&&ib(rr.parentNode)&&(rr=rr.parentNode,xn=d.nodeIndex(rr),rr=rr.parentNode),rr.nodeType!==1)return null;if(ar===xn+1&&rr===pn.endContainer){var oo=rr.childNodes[xn];if(pe(oo))return Mt(oo)}return null},Sn=function(){H&&H.removeAttribute(B),Vv(U.fromDom(o.getBody()),"#"+O).each(Ba),H=null},Dr=function(){T.destroy(),H=null},Qn=function(){T.hide()};return Cr.ceFalse&&!iv(o)&&Ke(),{showCaret:Ie,showBlockCaretContainer:Ne,hideFakeCaret:Qn,destroy:Dr}},vs=function(o){var s=qt.each,d=Nr.BACKSPACE,m=Nr.DELETE,x=o.dom,T=o.selection,O=o.parser,B=Cr.gecko,H=Cr.ie,Q=Cr.webkit,pe="data:text/mce-internal,",ge=H?"Text":"URL",ve=function(yn,zt){try{o.getDoc().execCommand(yn,!1,zt)}catch{}},Ae=function(yn){return yn.isDefaultPrevented()},De=function(yn){var zt,Cn;yn.dataTransfer&&(o.selection.isCollapsed()&&yn.target.tagName==="IMG"&&T.select(yn.target),zt=o.selection.getContent(),zt.length>0&&(Cn=pe+escape(o.id)+","+escape(zt),yn.dataTransfer.setData(ge,Cn)))},Ie=function(yn){var zt;return yn.dataTransfer&&(zt=yn.dataTransfer.getData(ge),zt&&zt.indexOf(pe)>=0)?(zt=zt.substr(pe.length).split(","),{id:unescape(zt[0]),html:unescape(zt[1])}):null},Ne=function(yn,zt){o.queryCommandSupported("mceInsertClipboardContent")?o.execCommand("mceInsertClipboardContent",!1,{content:yn,internal:zt}):o.execCommand("mceInsertContent",!1,yn)},Ke=function(){var yn=function(Cn){var Vt=x.create("body"),fr=Cn.cloneContents();return Vt.appendChild(fr),T.serializer.serialize(Vt,{format:"html"})},zt=function(Cn){var Vt=yn(Cn),fr=x.createRng();fr.selectNode(o.getBody());var Fn=yn(fr);return Vt===Fn};o.on("keydown",function(Cn){var Vt=Cn.keyCode,fr,Fn;if(!Ae(Cn)&&(Vt===m||Vt===d)){if(fr=o.selection.isCollapsed(),Fn=o.getBody(),fr&&!x.isEmpty(Fn)||!fr&&!zt(o.selection.getRng()))return;Cn.preventDefault(),o.setContent(""),Fn.firstChild&&x.isBlock(Fn.firstChild)?o.selection.setCursorLocation(Fn.firstChild,0):o.selection.setCursorLocation(Fn,0),o.nodeChanged()}})},Ge=function(){o.shortcuts.add("meta+a",null,"SelectAll")},at=function(){o.inline||x.bind(o.getDoc(),"mousedown mouseup",function(yn){var zt;if(yn.target===o.getDoc().documentElement)if(zt=T.getRng(),o.getBody().focus(),yn.type==="mousedown"){if(El(zt.startContainer))return;T.placeCaretAt(yn.clientX,yn.clientY)}else T.setRng(zt)})},bt=function(){o.on("keydown",function(yn){if(!Ae(yn)&&yn.keyCode===d){if(!o.getBody().getElementsByTagName("hr").length)return;if(T.isCollapsed()&&T.getRng().startOffset===0){var zt=T.getNode(),Cn=zt.previousSibling;if(zt.nodeName==="HR"){x.remove(zt),yn.preventDefault();return}Cn&&Cn.nodeName&&Cn.nodeName.toLowerCase()==="hr"&&(x.remove(Cn),yn.preventDefault())}}})},nt=function(){Range.prototype.getClientRects||o.on("mousedown",function(yn){if(!Ae(yn)&&yn.target.nodeName==="HTML"){var zt=o.getBody();zt.blur(),ks.setEditorTimeout(o,function(){zt.focus()})}})},Mt=function(){o.on("click",function(yn){var zt=yn.target;/^(IMG|HR)$/.test(zt.nodeName)&&x.getContentEditableParent(zt)!=="false"&&(yn.preventDefault(),o.selection.select(zt),o.nodeChanged()),zt.nodeName==="A"&&x.hasClass(zt,"mce-item-anchor")&&(yn.preventDefault(),T.select(zt))})},Yt=function(){var yn=function(){var Cn=x.getAttribs(T.getStart().cloneNode(!1));return function(){var Vt=T.getStart();Vt!==o.getBody()&&(x.setAttrib(Vt,"style",null),s(Cn,function(fr){Vt.setAttributeNode(fr.cloneNode(!0))}))}},zt=function(){return!T.isCollapsed()&&x.getParent(T.getStart(),x.isBlock)!==x.getParent(T.getEnd(),x.isBlock)};o.on("keypress",function(Cn){var Vt;if(!Ae(Cn)&&(Cn.keyCode===8||Cn.keyCode===46)&&zt())return Vt=yn(),o.getDoc().execCommand("delete",!1,null),Vt(),Cn.preventDefault(),!1}),x.bind(o.getDoc(),"cut",function(Cn){var Vt;!Ae(Cn)&&zt()&&(Vt=yn(),ks.setEditorTimeout(o,function(){Vt()}))})},Sn=function(){o.on("keydown",function(yn){if(!Ae(yn)&&yn.keyCode===d&&T.isCollapsed()&&T.getRng().startOffset===0){var zt=T.getNode().previousSibling;if(zt&&zt.nodeName&&zt.nodeName.toLowerCase()==="table")return yn.preventDefault(),!1}})},Dr=function(){o.on("keydown",function(yn){var zt,Cn;if(!(Ae(yn)||yn.keyCode!==Nr.BACKSPACE)){zt=T.getRng();var Vt=zt.startContainer,fr=zt.startOffset,Fn=x.getRoot();if(Cn=Vt,!(!zt.collapsed||fr!==0)){for(;Cn&&Cn.parentNode&&Cn.parentNode.firstChild===Cn&&Cn.parentNode!==Fn;)Cn=Cn.parentNode;Cn.tagName==="BLOCKQUOTE"&&(o.formatter.toggle("blockquote",null,Cn),zt=x.createRng(),zt.setStart(Vt,0),zt.setEnd(Vt,0),T.setRng(zt))}}})},Qn=function(){var yn=function(){ve("StyleWithCSS",!1),ve("enableInlineTableEditing",!1),Mf(o)||ve("enableObjectResizing",!1)};Qy(o)||o.on("BeforeExecCommand mousedown",yn)},pn=function(){var yn=function(){s(x.select("a"),function(zt){var Cn=zt.parentNode,Vt=x.getRoot();if(Cn.lastChild===zt){for(;Cn&&!x.isBlock(Cn);){if(Cn.parentNode.lastChild!==Cn||Cn===Vt)return;Cn=Cn.parentNode}x.add(Cn,"br",{"data-mce-bogus":1})}})};o.on("SetContent ExecCommand",function(zt){(zt.type==="setcontent"||zt.command==="mceInsertLink")&&yn()})},jr=function(){hs(o)&&o.on("init",function(){ve("DefaultParagraphSeparator",hs(o))})},An=function(){o.on("keyup focusin mouseup",function(yn){Nr.modifierPressed(yn)||T.normalize()},!0)},Jn=function(){o.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Dn=function(){o.inline||o.on("keydown",function(){document.activeElement===document.body&&o.getWin().focus()})},Hn=function(){o.inline||(o.contentStyles.push("body {min-height: 150px}"),o.on("click",function(yn){var zt;if(yn.target.nodeName==="HTML"){if(Cr.ie>11){o.getBody().focus();return}zt=o.selection.getRng(),o.getBody().focus(),o.selection.setRng(zt),o.selection.normalize(),o.nodeChanged()}}))},rr=function(){Cr.mac&&o.on("keydown",function(yn){if(Nr.metaKeyPressed(yn)&&!yn.shiftKey&&(yn.keyCode===37||yn.keyCode===39)){yn.preventDefault();var zt=o.selection.getSel();zt.modify("move",yn.keyCode===37?"backward":"forward","lineboundary")}})},xn=function(){ve("AutoUrlDetect",!1)},ar=function(){o.on("click",function(yn){var zt=yn.target;do if(zt.tagName==="A"){yn.preventDefault();return}while(zt=zt.parentNode)}),o.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},oo=function(){o.on("init",function(){o.dom.bind(o.getBody(),"submit",function(yn){yn.preventDefault()})})},xi=function(){O.addNodeFilter("br",function(yn){for(var zt=yn.length;zt--;)yn[zt].attr("class")==="Apple-interchange-newline"&&yn[zt].remove()})},Wo=function(){o.on("dragstart",function(yn){De(yn)}),o.on("drop",function(yn){if(!Ae(yn)){var zt=Ie(yn);if(zt&&zt.id!==o.id){yn.preventDefault();var Cn=GS(yn.x,yn.y,o.getDoc());T.setRng(Cn),Ne(zt.html,!0)}}})},gu=le,Du=function(){if(!B||o.removed)return!1;var yn=o.selection.getSel();return!yn||!yn.rangeCount||yn.rangeCount===0},Oc=function(){Q&&(at(),Mt(),oo(),Ge(),Cr.iOS&&(Dn(),Hn(),ar())),B&&(nt(),Qn(),Jn(),rr())},ef=function(){Dr(),Ke(),Cr.windowsPhone||An(),Q&&(at(),Mt(),jr(),oo(),Sn(),xi(),Cr.iOS?(Dn(),Hn(),ar()):Ge()),Cr.ie>=11&&(Hn(),Sn()),Cr.ie&&(Ge(),xn(),Wo()),B&&(bt(),nt(),Yt(),Qn(),pn(),Jn(),rr(),Sn())};return iv(o)?Oc():ef(),{refreshContentEditable:gu,isHidden:Du}},QR=ra.DOM,MG=function(o,s){var d=U.fromDom(o.getBody()),m=La(ol(d)),x=U.fromTag("style");J(x,"type","text/css"),wu(x,U.fromText(s)),wu(m,x),o.on("remove",function(){Ba(x)})},kG=function(o){return o.inline?o.getElement().nodeName.toLowerCase():void 0},eP=function(o){return Kn(o,function(s){return X(s)===!1})},ME=function(o){var s=o.settings,d=o.editorUpload.blobCache;return eP({allow_conditional_comments:s.allow_conditional_comments,allow_html_data_urls:s.allow_html_data_urls,allow_svg_data_urls:s.allow_svg_data_urls,allow_html_in_named_anchor:s.allow_html_in_named_anchor,allow_script_urls:s.allow_script_urls,allow_unsafe_link_target:s.allow_unsafe_link_target,convert_fonts_to_spans:s.convert_fonts_to_spans,fix_list_elements:s.fix_list_elements,font_size_legacy_values:s.font_size_legacy_values,forced_root_block:s.forced_root_block,forced_root_block_attrs:s.forced_root_block_attrs,padd_empty_with_br:s.padd_empty_with_br,preserve_cdata:s.preserve_cdata,remove_trailing_brs:s.remove_trailing_brs,inline_styles:s.inline_styles,root_name:kG(o),validate:!0,blob_cache:d,document:o.getDoc(),images_dataimg_filter:s.images_dataimg_filter})},DG=function(o){var s=o.settings;return dr(dr({},ME(o)),eP({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope,element_format:s.element_format,entities:s.entities,entity_encoding:s.entity_encoding,indent:s.indent,indent_after:s.indent_after,indent_before:s.indent_before,block_elements:s.block_elements,boolean_attributes:s.boolean_attributes,custom_elements:s.custom_elements,extended_valid_elements:s.extended_valid_elements,invalid_elements:s.invalid_elements,invalid_styles:s.invalid_styles,move_caret_before_on_enter_elements:s.move_caret_before_on_enter_elements,non_empty_elements:s.non_empty_elements,schema:s.schema,self_closing_elements:s.self_closing_elements,short_ended_elements:s.short_ended_elements,special:s.special,text_block_elements:s.text_block_elements,text_inline_elements:s.text_inline_elements,valid_children:s.valid_children,valid_classes:s.valid_classes,valid_elements:s.valid_elements,valid_styles:s.valid_styles,verify_html:s.verify_html,whitespace_elements:s.whitespace_elements}))},I8=function(o){var s=jI(ME(o),o.schema);return s.addAttributeFilter("src,href,style,tabindex",function(d,m){for(var x=d.length,T,O,B=o.dom,H="data-mce-"+m;x--;)if(T=d[x],O=T.attr(m),O&&!T.attr(H)){if(O.indexOf("data:")===0||O.indexOf("blob:")===0)continue;m==="style"?(O=B.serializeStyle(B.parseStyle(O),T.name),O.length||(O=null),T.attr(H,O),T.attr(m,O)):m==="tabindex"?(T.attr(H,O),T.attr(m,null)):T.attr(H,o.convertURL(O,m,T.name))}}),s.addNodeFilter("script",function(d){for(var m=d.length;m--;){var x=d[m],T=x.attr("type")||"no/type";T.indexOf("mce-")!==0&&x.attr("type","mce-"+T)}}),o.settings.preserve_cdata&&s.addNodeFilter("#cdata",function(d){for(var m=d.length;m--;){var x=d[m];x.type=8,x.name="#comment",x.value="[CDATA["+o.dom.encode(x.value)+"]]"}}),s.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(d){for(var m=d.length,x=o.schema.getNonEmptyElements();m--;){var T=d[m];T.isEmpty(x)&&T.getAll("br").length===0&&(T.append(new Xc("br",1)).shortEnded=!0)}}),s},AG=function(o){o.settings.auto_focus&&ks.setEditorTimeout(o,function(){var s;o.settings.auto_focus===!0?s=o:s=o.editorManager.get(o.settings.auto_focus),s.destroyed||s.focus()},100)},EG=function(o){var s=o.dom.getRoot();!o.inline&&(!Gc(o)||o.selection.getStart(!0)===s)&&pl(s).each(function(d){var m=d.getNode(),x=tu(m)?pl(m).getOr(d):d;Cr.browser.isIE()?LD(o,x.toRange()):o.selection.setRng(x.toRange())})},OG=function(o){o.bindPendingEventDelegates(),o.initialized=!0,nh(o),o.focus(!0),EG(o),o.nodeChanged({initial:!0}),o.execCallback("init_instance_callback",o),AG(o)},R8=function(o){return o.inline?o.ui.styleSheetLoader:o.dom.styleSheetLoader},IG=function(o,s,d){var m=[new Uu(function(x,T){return R8(o).loadAll(s,x,T)})];return o.inline?m:m.concat([new Uu(function(x,T){return o.ui.styleSheetLoader.loadAll(d,x,T)})])},P8=function(o){var s=R8(o),d=Wx(o),m=o.contentCSS,x=function(){s.unloadAll(m),o.inline||o.ui.styleSheetLoader.unloadAll(d)},T=function(){o.removed?x():o.on("remove",x)};if(o.contentStyles.length>0){var O="";qt.each(o.contentStyles,function(H){O+=H+`\r
`}),o.dom.addStyle(O)}var B=Uu.all(IG(o,m,d)).then(T).catch(T);return o.settings.content_style&&MG(o,o.settings.content_style),B},RG=function(o){var s=o.settings,d=o.getDoc(),m=o.getBody();jS(o),!s.browser_spellcheck&&!s.gecko_spellcheck&&(d.body.spellcheck=!1,QR.setAttrib(m,"spellcheck","false")),o.quirks=vs(o),Ti(o);var x=Mk(o);x!==void 0&&(m.dir=x),s.protect&&o.on("BeforeSetContent",function(T){qt.each(s.protect,function(O){T.content=T.content.replace(O,function(B){return"<!--mce:protected "+escape(B)+"-->"})})}),o.on("SetContent",function(){o.addVisual(o.getBody())}),o.on("compositionstart compositionend",function(T){o.composing=T.type==="compositionstart"})},PG=function(o){iv(o)||o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"})},tP=function(o){o.removed!==!0&&(PG(o),OG(o))},nP=function(o,s){var d=o.settings,m=o.getElement(),x=o.getDoc();d.inline||(o.getElement().style.visibility=o.orgVisibility),!s&&!o.inline&&(x.open(),x.write(o.iframeHTML),x.close()),o.inline&&(QR.addClass(m,"mce-content-body"),o.contentDocument=x=document,o.contentWindow=window,o.bodyElement=m,o.contentAreaContainer=m);var T=o.getBody();T.disabled=!0,o.readonly=!!d.readonly,o.readonly||(o.inline&&QR.getStyle(T,"position",!0)==="static"&&(T.style.position="relative"),T.contentEditable=o.getParam("content_editable_state",!0)),T.disabled=!1,o.editorUpload=KB(o),o.schema=ko(d),o.dom=ra(x,{keep_values:!0,url_converter:o.convertURL,url_converter_scope:o,hex_colors:d.force_hex_style_colors,update_styles:!0,root_element:o.inline?o.getBody():null,collect:function(){return o.inline},schema:o.schema,contentCssCors:rm(o),referrerPolicy:Tk(o),onSetAttrib:function(H){o.fire("SetAttrib",H)}}),o.parser=I8(o),o.serializer=DB(DG(o),o),o.selection=LI(o.dom,o.getWin(),o.serializer,o),o.annotator=md(o),o.formatter=QB(o),o.undoManager=iu(o),o._nodeChangeDispatcher=new rG(o),o._selectionOverrides=TG(o),t2(o),w8(o),iv(o)||S8(o);var O=nG(o);Rq(o,O),Bq(o),xU(o);var B=Z6(o);RG(o),B.fold(function(){P8(o).then(function(){return tP(o)})},function(H){o.setProgressState(!0),P8(o).then(function(){H().then(function(Q){o.setProgressState(!1),tP(o)},function(Q){o.notificationManager.open({type:"error",text:String(Q)}),tP(o)})})})},hT=ra.DOM,NG=function(o,s){if(document.domain!==window.location.hostname&&Cr.browser.isIE()){var d=q1("mce");o[d]=function(){nP(o)};var m='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+o.id+'");document.write(ed.iframeHTML);document.close();ed.'+d+"(true);})()";return hT.setAttrib(s,"src",m),!0}return!1},LG=function(o,s,d,m){var x=U.fromTag("iframe");return me(x,m),me(x,{id:o+"_ifr",frameBorder:"0",allowTransparency:"true",title:s}),o0(x,"tox-edit-area__iframe"),x},N8=function(o){var s=Bx(o)+"<html><head>";fO(o)!==o.documentBaseUrl&&(s+='<base href="'+o.documentBaseURI.getURI()+'" />'),s+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var d=wk(o),m=uS(o),x=o.translate(DO(o));return _k(o)&&(s+='<meta http-equiv="Content-Security-Policy" content="'+_k(o)+'" />'),s+="</head>"+('<body id="'+d+'" class="mce-content-body '+m+'" data-id="'+o.id+'" aria-label="'+x+'">')+"<br></body></html>",s},BG=function(o,s){var d=o.translate("Rich Text Area"),m=LG(o.id,d,s.height,Lx(o)).dom;m.onload=function(){m.onload=null,o.fire("load")};var x=NG(o,m);return o.contentAreaContainer=s.iframeContainer,o.iframeElement=m,o.iframeHTML=N8(o),hT.add(s.iframeContainer,m),x},zG=function(o,s){var d=BG(o,s);s.editorContainer&&(hT.get(s.editorContainer).style.display=o.orgDisplay,o.hidden=hT.isHidden(s.editorContainer)),o.getElement().style.display="none",hT.setAttrib(o.id,"aria-hidden","true"),d||nP(o)},L8=ra.DOM,B8=function(o,s,d){var m=Jc.get(d),x=Jc.urls[d]||o.documentBaseUrl.replace(/\/$/,"");if(d=qt.trim(d),m&&qt.inArray(s,d)===-1){if(qt.each(Jc.dependencies(d),function(O){B8(o,s,O)}),o.plugins[d])return;try{var T=new m(o,x,o.$);o.plugins[d]=T,T.init&&(T.init(o,x),s.push(d))}catch(O){WB(o,d,O)}}},rP=function(o){return o.replace(/^\-/,"")},FG=function(o){var s=[];qt.each(pS(o).split(/[ ,]/),function(d){B8(o,s,rP(d))})},z8=function(o){var s=qt.trim(Vx(o)),d=o.ui.registry.getAll().icons,m=dr(dr({},HA.get("default").icons),HA.get(s).icons);wn(m,function(x,T){Hr(d,T)||o.ui.registry.addIcon(T,x)})},F8=function(o){var s=Eg(o);if(R(s)){o.settings.theme=rP(s);var d=Nf.get(s);o.theme=new d(o,Nf.urls[s]),o.theme.init&&o.theme.init(o,Nf.urls[s]||o.documentBaseUrl.replace(/\/$/,""),o.$)}else o.theme={}},V8=function(o){return o.theme.renderUI()},VG=function(o){var s=o.getElement(),d=Eg(o),m=d(o,s);return m.editorContainer.nodeType&&(m.editorContainer.id=m.editorContainer.id||o.id+"_parent"),m.iframeContainer&&m.iframeContainer.nodeType&&(m.iframeContainer.id=m.iframeContainer.id||o.id+"_iframecontainer"),m.height=m.iframeHeight?m.iframeHeight:s.offsetHeight,m},H8=function(o){return{editorContainer:o,iframeContainer:o,api:{}}},HG=function(o){var s=L8.create("div");return L8.insertAfter(s,o),H8(s)},j8=function(o){var s=o.getElement();return o.inline?H8(null):HG(s)},jG=function(o){var s=o.getElement();return o.orgDisplay=s.style.display,R(Eg(o))?V8(o):te(Eg(o))?VG(o):j8(o)},WG=function(o,s){var d={show:fe.from(s.show).getOr(le),hide:fe.from(s.hide).getOr(le),disable:fe.from(s.disable).getOr(le),isDisabled:fe.from(s.isDisabled).getOr($e),enable:function(){o.mode.isReadOnly()||fe.from(s.enable).map(Ze)}};o.ui=dr(dr({},o.ui),d)},oP=function(o){o.fire("ScriptsLoaded"),z8(o),F8(o),FG(o);var s=jG(o);WG(o,fe.from(s.api).getOr({}));var d={editorContainer:s.editorContainer,iframeContainer:s.iframeContainer};return o.editorContainer=d.editorContainer?d.editorContainer:null,YI(o),o.inline?nP(o):zG(o,d)},ab=ra.DOM,W8=function(o){return o.charAt(0)==="-"},U8=function(o,s){var d=Zy(s),m=lS(s);if(_o.hasCode(d)===!1&&d!=="en"){var x=m!==""?m:s.editorManager.baseURL+"/langs/"+d+".js";o.add(x,le,void 0,function(){sU(s,x,d)})}},UG=function(o,s,d,m){var x=Eg(s);if(R(x)){if(!W8(x)&&!Hr(Nf.urls,x)){var T=Og(s);T?Nf.load(x,s.documentBaseURI.toAbsolute(T)):Nf.load(x,"themes/"+x+"/theme"+d+".js")}o.loadQueue(function(){Nf.waitFor(x,m)})}else m()},qG=function(o){return fe.from(pO(o)).filter(function(s){return s.length>0}).map(function(s){return{url:s,name:fe.none()}})},q8=function(o,s,d){return fe.from(s).filter(function(m){return m.length>0&&!HA.has(m)}).map(function(m){return{url:o.editorManager.baseURL+"/icons/"+m+"/icons"+d+".js",name:fe.some(m)}})},$8=function(o,s,d){var m=q8(s,"default",d),x=qG(s).orThunk(function(){return q8(s,Vx(s),"")});Ct(yo([m,x]),function(T){o.add(T.url,le,void 0,function(){jB(s,T.url,T.name.getOrUndefined())})})},G8=function(o,s){qt.each(MO(o),function(d,m){Jc.load(m,d,le,void 0,function(){UA(o,d,m)}),o.settings.plugins+=" "+m}),qt.each(pS(o).split(/[ ,]/),function(d){if(d=qt.trim(d),d&&!Jc.urls[d])if(W8(d)){d=d.substr(1,d.length);var m=Jc.dependencies(d);qt.each(m,function(T){var O={prefix:"plugins/",resource:T,suffix:"/plugin"+s+".js"},B=Jc.createUrl(O,T);Jc.load(B.resource,B,le,void 0,function(){UA(o,B.prefix+B.resource+B.suffix,B.resource)})})}else{var x={prefix:"plugins/",resource:d,suffix:"/plugin"+s+".js"};Jc.load(d,x,le,void 0,function(){UA(o,x.prefix+x.resource+x.suffix,d)})}})},$G=function(o,s){var d=Xd.ScriptLoader;UG(d,o,s,function(){U8(d,o),$8(d,o,s),G8(o,s),d.loadQueue(function(){o.removed||oP(o)},o,function(){o.removed||oP(o)})})},GG=function(o,s){return vf.forElement(o,{contentCssCors:TO(s),referrerPolicy:Tk(s)})},XG=function(o){var s=o.id;_o.setCode(Zy(o));var d=function(){ab.unbind(window,"ready",d),o.render()};if(!Fp.Event.domLoaded){ab.bind(window,"ready",d);return}if(o.getElement()&&Cr.contentEditable){var m=U.fromDom(o.getElement()),x=vr(m);o.on("remove",function(){Rt(m.dom.attributes,function(O){return Zt(m,O.name)}),me(m,x)}),o.ui.styleSheetLoader=GG(m,o),dS(o)?o.inline=!0:(o.orgVisibility=o.getElement().style.visibility,o.getElement().style.visibility="hidden");var T=o.getElement().form||ab.getParent(s,"form");T&&(o.formElement=T,Dk(o)&&!us(o.getElement())&&(ab.insertAfter(ab.create("input",{type:"hidden",name:s}),s),o.hasHiddenInput=!0),o.formEventDelegate=function(O){o.fire(O.type,O)},ab.bind(T,"submit reset",o.formEventDelegate),o.on("reset",function(){o.resetContent()}),_O(o)&&!T.submit.nodeType&&!T.submit.length&&!T._mceOldSubmit&&(T._mceOldSubmit=T.submit,T.submit=function(){return o.editorManager.triggerSave(),o.setDirty(!1),T._mceOldSubmit(T)})),o.windowManager=$w(o),o.notificationManager=Kc(o),Ak(o)&&o.on("GetContent",function(O){O.save&&(O.content=ab.encode(O.content))}),Ek(o)&&o.on("submit",function(){o.initialized&&o.save()}),hS(o)&&(o._beforeUnload=function(){o.initialized&&!o.destroyed&&!o.isHidden()&&o.save({format:"raw",no_events:!0,set_dirty:!1})},o.editorManager.on("BeforeUnload",o._beforeUnload)),o.editorManager.add(o),$G(o,o.suffix)}},YG=function(o,s){return sB(o,s)},KG={"font-size":"size","font-family":"face"},JG=function(o,s,d){var m=function(T){return ss(T,o).orThunk(function(){return ni(T)==="font"?zr(KG,o).bind(function(O){return Ve(T,O)}):fe.none()})},x=function(T){return Vr(U.fromDom(s),T)};return G4(U.fromDom(d),function(T){return m(T)},x)},ZG=function(o){return o.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},QG=function(o,s){return fe.from(ra.DOM.getStyle(s,o,!0))},X8=function(o){return function(s,d){return fe.from(d).map(U.fromDom).filter(la).bind(function(m){return JG(o,s,m.dom).or(QG(o,m.dom))}).getOr("")}},eX=X8("font-size"),kE=ce(ZG,X8("font-family")),Y8=function(o){return pl(o.getBody()).map(function(s){var d=s.container();return or(d)?d.parentNode:d})},K8=function(o){return fe.from(o.selection.getRng()).bind(function(s){var d=o.getBody(),m=s.startContainer===d&&s.startOffset===0;return m?fe.none():fe.from(o.selection.getStart(!0))})},tX=function(o,s){return K8(o).orThunk(ke(Y8,o)).map(U.fromDom).filter(la).bind(s)},DE=function(o,s){return tX(o,ne(fe.some,s))},iP=function(o,s){if(/^[0-9.]+$/.test(s)){var d=parseInt(s,10);if(d>=1&&d<=7){var m=hO(o),x=Ky(o);return x?x[d-1]||s:m[d-1]||s}else return s}else return s},nX=function(o){var s=o.split(/\s*,\s*/);return Ft(s,function(d){return d.indexOf(" ")!==-1&&!(he(d,'"')||he(d,"'"))?"'"+d+"'":d}).join(",")},rX=function(o,s){var d=iP(o,s);o.formatter.toggle("fontname",{value:nX(d)}),o.nodeChanged()},oX=function(o){return DE(o,function(s){return kE(o.getBody(),s.dom)}).getOr("")},aP=function(o,s){o.formatter.toggle("fontsize",{value:iP(o,s)}),o.nodeChanged()},iX=function(o){return DE(o,function(s){return eX(o.getBody(),s.dom)}).getOr("")},uP=function(o){return DE(o,function(s){var d=U.fromDom(o.getBody()),m=G4(s,function(T){return ss(T,"line-height")},ke(Vr,d)),x=function(){var T=parseFloat(bo(s,"line-height")),O=parseFloat(bo(s,"font-size"));return String(T/O)};return m.getOrThunk(x)}).getOr("")},aX=function(o,s){o.formatter.toggle("lineheight",{value:String(s)}),o.nodeChanged()},uX=function(o){if(typeof o!="string"){var s=qt.extend({paste:o.paste,data:{paste:o.paste}},o);return{content:o.content,details:s}}return{content:o,details:{}}},sX=function(o,s){var d=uX(s);uB(o,d.content,d.details)},pT=qt.each,lX=qt.map,cX=qt.inArray,J8=function(){function o(s){this.commands={state:{},exec:{},value:{}},this.editor=s,this.setupCommands(s)}return o.prototype.execCommand=function(s,d,m,x){var T,O=!1,B=this;if(!B.editor.removed){if(s.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(s)&&(!x||!x.skip_focus)?B.editor.focus():m4(B.editor)),x=B.editor.fire("BeforeExecCommand",{command:s,ui:d,value:m}),x.isDefaultPrevented())return!1;var H=s.toLowerCase();if(T=B.commands.exec[H])return T(H,d,m),B.editor.fire("ExecCommand",{command:s,ui:d,value:m}),!0;if(pT(this.editor.plugins,function(Q){if(Q.execCommand&&Q.execCommand(s,d,m))return B.editor.fire("ExecCommand",{command:s,ui:d,value:m}),O=!0,!1}),O)return O;if(B.editor.theme&&B.editor.theme.execCommand&&B.editor.theme.execCommand(s,d,m))return B.editor.fire("ExecCommand",{command:s,ui:d,value:m}),!0;try{O=B.editor.getDoc().execCommand(s,d,m)}catch{}return O?(B.editor.fire("ExecCommand",{command:s,ui:d,value:m}),!0):!1}},o.prototype.queryCommandState=function(s){var d;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(s=s.toLowerCase(),d=this.commands.state[s])return d(s);try{return this.editor.getDoc().queryCommandState(s)}catch{}return!1}},o.prototype.queryCommandValue=function(s){var d;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(s=s.toLowerCase(),d=this.commands.value[s])return d(s);try{return this.editor.getDoc().queryCommandValue(s)}catch{}}},o.prototype.addCommands=function(s,d){d===void 0&&(d="exec");var m=this;pT(s,function(x,T){pT(T.toLowerCase().split(","),function(O){m.commands[d][O]=x})})},o.prototype.addCommand=function(s,d,m){var x=this;s=s.toLowerCase(),this.commands.exec[s]=function(T,O,B,H){return d.call(m||x.editor,O,B,H)}},o.prototype.queryCommandSupported=function(s){if(s=s.toLowerCase(),this.commands.exec[s])return!0;try{return this.editor.getDoc().queryCommandSupported(s)}catch{}return!1},o.prototype.addQueryStateHandler=function(s,d,m){var x=this;s=s.toLowerCase(),this.commands.state[s]=function(){return d.call(m||x.editor)}},o.prototype.addQueryValueHandler=function(s,d,m){var x=this;s=s.toLowerCase(),this.commands.value[s]=function(){return d.call(m||x.editor)}},o.prototype.hasCustomCommand=function(s){return s=s.toLowerCase(),!!this.commands.exec[s]},o.prototype.execNativeCommand=function(s,d,m){return d===void 0&&(d=!1),m===void 0&&(m=null),this.editor.getDoc().execCommand(s,d,m)},o.prototype.isFormatMatch=function(s){return this.editor.formatter.match(s)},o.prototype.toggleFormat=function(s,d){this.editor.formatter.toggle(s,d),this.editor.nodeChanged()},o.prototype.storeSelection=function(s){this.selectionBookmark=this.editor.selection.getBookmark(s)},o.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},o.prototype.setupCommands=function(s){var d=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":le,"mceEndUndoLevel,mceAddUndoLevel":function(){s.undoManager.add()},mceFocus:function(x,T,O){WD(s,O)},"Cut,Copy,Paste":function(x){var T=s.getDoc(),O;try{d.execNativeCommand(x)}catch{O=!0}if(x==="paste"&&!T.queryCommandEnabled(x)&&(O=!0),O||!T.queryCommandSupported(x)){var B=s.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Cr.mac&&(B=B.replace(/Ctrl\+/g,"⌘+")),s.notificationManager.open({text:B,type:"error"})}},unlink:function(){if(s.selection.isCollapsed()){var x=s.dom.getParent(s.selection.getStart(),"a");x&&s.dom.remove(x,!0);return}s.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(x){var T=x.substring(7);T==="full"&&(T="justify"),pT("left,center,right,justify".split(","),function(O){T!==O&&s.formatter.remove("align"+O)}),T!=="none"&&d.toggleFormat("align"+T)},"InsertUnorderedList,InsertOrderedList":function(x){var T;d.execNativeCommand(x);var O=s.dom.getParent(s.selection.getNode(),"ol,ul");O&&(T=O.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(T.nodeName)&&(d.storeSelection(),s.dom.split(T,O),d.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(x){d.toggleFormat(x)},"ForeColor,HiliteColor":function(x,T,O){d.toggleFormat(x,{value:O})},FontName:function(x,T,O){rX(s,O)},FontSize:function(x,T,O){aP(s,O)},LineHeight:function(x,T,O){aX(s,O)},Lang:function(x,T,O){d.toggleFormat(x,{value:O.code,customValue:O.customCode})},RemoveFormat:function(x){s.formatter.remove(x)},mceBlockQuote:function(){d.toggleFormat("blockquote")},FormatBlock:function(x,T,O){return d.toggleFormat(O||"p")},mceCleanup:function(){var x=s.selection.getBookmark();s.setContent(s.getContent()),s.selection.moveToBookmark(x)},mceRemoveNode:function(x,T,O){var B=O||s.selection.getNode();B!==s.getBody()&&(d.storeSelection(),s.dom.remove(B,!0),d.restoreSelection())},mceSelectNodeDepth:function(x,T,O){var B=0;s.dom.getParent(s.selection.getNode(),function(H){if(H.nodeType===1&&B++===O)return s.selection.select(H),!1},s.getBody())},mceSelectNode:function(x,T,O){s.selection.select(O)},mceInsertContent:function(x,T,O){sX(s,O)},mceInsertRawHTML:function(x,T,O){s.selection.setContent("tiny_mce_marker");var B=s.getContent();s.setContent(B.replace(/tiny_mce_marker/g,function(){return O}))},mceInsertNewLine:function(x,T,O){p8(s,O)},mceToggleFormat:function(x,T,O){d.toggleFormat(O)},mceSetContent:function(x,T,O){s.setContent(O)},"Indent,Outdent":function(x){gE(s,x)},mceRepaint:le,InsertHorizontalRule:function(){s.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){s.hasVisual=!s.hasVisual,s.addVisual()},mceReplaceContent:function(x,T,O){s.execCommand("mceInsertContent",!1,O.replace(/\{\$selection\}/g,s.selection.getContent({format:"text"})))},mceInsertLink:function(x,T,O){typeof O=="string"&&(O={href:O});var B=s.dom.getParent(s.selection.getNode(),"a");O.href=O.href.replace(/ /g,"%20"),(!B||!O.href)&&s.formatter.remove("link"),O.href&&s.formatter.apply("link",O,B)},selectAll:function(){var x=s.dom.getParent(s.selection.getStart(),mf);if(x){var T=s.dom.createRng();T.selectNodeContents(x),s.selection.setRng(T)}},mceNewDocument:function(){s.setContent("")},InsertLineBreak:function(x,T,O){return Ys(s,O),!0}});var m=function(x){return function(){var T=s.selection,O=T.isCollapsed()?[s.dom.getParent(T.getNode(),s.dom.isBlock)]:T.getSelectedBlocks(),B=lX(O,function(H){return!!s.formatter.matchNode(H,x)});return cX(B,!0)!==-1}};d.addCommands({JustifyLeft:m("alignleft"),JustifyCenter:m("aligncenter"),JustifyRight:m("alignright"),JustifyFull:m("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(x){return d.isFormatMatch(x)},mceBlockQuote:function(){return d.isFormatMatch("blockquote")},Outdent:function(){return Fz(s)},"InsertUnorderedList,InsertOrderedList":function(x){var T=s.dom.getParent(s.selection.getNode(),"ul,ol");return T&&(x==="insertunorderedlist"&&T.tagName==="UL"||x==="insertorderedlist"&&T.tagName==="OL")}},"state"),d.addCommands({Undo:function(){s.undoManager.undo()},Redo:function(){s.undoManager.redo()}}),d.addQueryValueHandler("FontName",function(){return oX(s)},this),d.addQueryValueHandler("FontSize",function(){return iX(s)},this),d.addQueryValueHandler("LineHeight",function(){return uP(s)},this)},o}(),ub="data-mce-contenteditable",fX=function(o,s,d){i0(o,s)&&d===!1?gx(o,s):d&&o0(o,s)},Nl=function(o,s,d){try{o.getDoc().execCommand(s,!1,String(d))}catch{}},Mm=function(o,s){o.dom.contentEditable=s?"true":"false"},dX=function(o){Ct(Il(o,'*[contenteditable="true"]'),function(s){J(s,ub,"true"),Mm(s,!1)})},hX=function(o){Ct(Il(o,"*["+ub+'="true"]'),function(s){Zt(s,ub),Mm(s,!0)})},pX=function(o){fe.from(o.selection.getNode()).each(function(s){s.removeAttribute("data-mce-selected")})},mX=function(o){o.selection.setRng(o.selection.getRng())},gX=function(o,s){var d=U.fromDom(o.getBody());fX(d,"mce-content-readonly",s),s?(o.selection.controlSelection.hideResizeRect(),o._selectionOverrides.hideFakeCaret(),pX(o),o.readonly=!0,Mm(d,!1),dX(d)):(o.readonly=!1,Mm(d,!0),hX(d),Nl(o,"StyleWithCSS",!1),Nl(o,"enableInlineTableEditing",!1),Nl(o,"enableObjectResizing",!1),jD(o)&&o.focus(),mX(o),o.nodeChanged())},sb=function(o){return o.readonly},sP=function(o){o.parser.addAttributeFilter("contenteditable",function(s){sb(o)&&Ct(s,function(d){d.attr(ub,d.attr("contenteditable")),d.attr("contenteditable","false")})}),o.serializer.addAttributeFilter(ub,function(s){sb(o)&&Ct(s,function(d){d.attr("contenteditable",d.attr(ub))})}),o.serializer.addTempAttr(ub)},a2=function(o){o.serializer?sP(o):o.on("PreInit",function(){sP(o)})},vX=function(o){return o.type==="click"},yX=function(o,s){var d=function(m){return Vr(m,U.fromDom(o.getBody()))};return Ga(s,"a",d).bind(function(m){return Ve(m,"href")})},bX=function(o,s){if(vX(s)&&!Nr.metaKeyPressed(s)){var d=U.fromDom(s.target);yX(o,d).each(function(m){if(s.preventDefault(),/^#/.test(m)){var x=o.dom.select(m+',[name="'+At(m,"#")+'"]');x.length&&o.selection.scrollIntoView(x[0],!0)}else window.open(m,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},pp=function(o){o.on("ShowCaret",function(s){sb(o)&&s.preventDefault()}),o.on("ObjectSelected",function(s){sb(o)&&s.preventDefault()})},xX=qt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),lP=function(){function o(s){this.bindings={},this.settings=s||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||$e}return o.isNative=function(s){return!!xX[s.toLowerCase()]},o.prototype.fire=function(s,d){var m=s.toLowerCase(),x=Fy(m,d||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(x);var T=this.bindings[m];if(T)for(var O=0,B=T.length;O<B;O++){var H=T[O];if(!H.removed){if(H.once&&this.off(m,H.func),x.isImmediatePropagationStopped())return x;if(H.func.call(this.scope,x)===!1)return x.preventDefault(),x}}return x},o.prototype.on=function(s,d,m,x){if(d===!1&&(d=$e),d){var T={func:d,removed:!1};x&&qt.extend(T,x);for(var O=s.toLowerCase().split(" "),B=O.length;B--;){var H=O[B],Q=this.bindings[H];Q||(Q=[],this.toggleEvent(H,!0)),m?Q=xa([T],Q,!0):Q=xa(xa([],Q,!0),[T],!1),this.bindings[H]=Q}}return this},o.prototype.off=function(s,d){var m=this;if(s)for(var x=s.toLowerCase().split(" "),T=x.length;T--;){var O=x[T],B=this.bindings[O];if(!O)return wn(this.bindings,function(Q,pe){m.toggleEvent(pe,!1),delete m.bindings[pe]}),this;if(B){if(!d)B.length=0;else{var H=ur(B,function(Q){return Q.func===d});B=H.fail,this.bindings[O]=B,Ct(H.pass,function(Q){Q.removed=!0})}B.length||(this.toggleEvent(s,!1),delete this.bindings[O])}}else wn(this.bindings,function(Q,pe){m.toggleEvent(pe,!1)}),this.bindings={};return this},o.prototype.once=function(s,d,m){return this.on(s,d,m,{once:!0})},o.prototype.has=function(s){return s=s.toLowerCase(),!(!this.bindings[s]||this.bindings[s].length===0)},o}(),u2=function(o){return o._eventDispatcher||(o._eventDispatcher=new lP({scope:o,toggleEvent:function(s,d){lP.isNative(s)&&o.toggleNativeEvent&&o.toggleNativeEvent(s,d)}})),o._eventDispatcher},AE={fire:function(o,s,d){var m=this;if(m.removed&&o!=="remove"&&o!=="detach")return s;var x=u2(m).fire(o,s);if(d!==!1&&m.parent)for(var T=m.parent();T&&!x.isPropagationStopped();)T.fire(o,x,!1),T=T.parent();return x},on:function(o,s,d){return u2(this).on(o,s,d)},off:function(o,s){return u2(this).off(o,s)},once:function(o,s){return u2(this).once(o,s)},hasEventListeners:function(o){return u2(this).has(o)}},mT=ra.DOM,Y0,s2=function(o,s){if(s==="selectionchange")return o.getDoc();if(!o.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(s))return o.getDoc().documentElement;var d=cS(o);return d?(o.eventRoot||(o.eventRoot=mT.select(d)[0]),o.eventRoot):o.getBody()},wX=function(o){return!o.hidden&&!sb(o)},Z8=function(o,s,d){wX(o)?o.fire(s,d):sb(o)&&bX(o,d)},Q8=function(o,s){var d;if(o.delegates||(o.delegates={}),!(o.delegates[s]||o.removed)){var m=s2(o,s);if(cS(o)){if(Y0||(Y0={},o.editorManager.on("removeEditor",function(){o.editorManager.activeEditor||Y0&&(wn(Y0,function(x,T){o.dom.unbind(s2(o,T))}),Y0=null)})),Y0[s])return;d=function(x){for(var T=x.target,O=o.editorManager.get(),B=O.length;B--;){var H=O[B].getBody();(H===T||mT.isChildOf(T,H))&&Z8(O[B],s,x)}},Y0[s]=d,mT.bind(m,s,d)}else d=function(x){Z8(o,s,x)},mT.bind(m,s,d),o.delegates[s]=d}},e7=dr(dr({},AE),{bindPendingEventDelegates:function(){var o=this;qt.each(o._pendingNativeEvents,function(s){Q8(o,s)})},toggleNativeEvent:function(o,s){var d=this;o==="focus"||o==="blur"||d.removed||(s?d.initialized?Q8(d,o):d._pendingNativeEvents?d._pendingNativeEvents.push(o):d._pendingNativeEvents=[o]:d.initialized&&(d.dom.unbind(s2(d,o),o,d.delegates[o]),delete d.delegates[o]))},unbindAllNativeEvents:function(){var o=this,s=o.getBody(),d=o.dom;o.delegates&&(wn(o.delegates,function(m,x){o.dom.unbind(s2(o,x),x,m)}),delete o.delegates),!o.inline&&s&&d&&(s.onload=null,d.unbind(o.getWin()),d.unbind(o.getDoc())),d&&(d.unbind(s),d.unbind(o.getContainer()))}}),_X=["design","readonly"],cP=function(o,s,d,m){var x=d[s.get()],T=d[m];try{T.activate()}catch(O){console.error("problem while activating editor mode "+m+":",O);return}x.deactivate(),x.editorReadOnly!==T.editorReadOnly&&gX(o,T.editorReadOnly),s.set(m),pD(o,m)},t7=function(o,s,d,m){if(m!==d.get()){if(!Hr(s,m))throw new Error("Editor mode '"+m+"' is invalid");o.initialized?cP(o,d,s,m):o.on("init",function(){return cP(o,d,s,m)})}},SX=function(o,s,d){var m;if(Ye(_X,s))throw new Error("Cannot override default mode "+s);return dr(dr({},o),(m={},m[s]=dr(dr({},d),{deactivate:function(){try{d.deactivate()}catch(x){console.error("problem while deactivating editor mode "+s+":",x)}}}),m))},n7=function(o){var s=fl("design"),d=fl({design:{activate:le,deactivate:le,editorReadOnly:!1},readonly:{activate:le,deactivate:le,editorReadOnly:!0}});return a2(o),pp(o),{isReadOnly:function(){return sb(o)},set:function(m){return t7(o,d.get(),s,m)},get:function(){return s.get()},register:function(m,x){d.set(SX(d.get(),m,x))}}},fP=qt.each,dP=qt.explode,CX={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},r7=qt.makeMap("alt,ctrl,shift,meta,access"),o7=function(o){var s,d={};fP(dP(o.toLowerCase(),"+"),function(x){x in r7?d[x]=!0:/^[0-9]{2,}$/.test(x)?d.keyCode=parseInt(x,10):(d.charCode=x.charCodeAt(0),d.keyCode=CX[x]||x.toUpperCase().charCodeAt(0))});var m=[d.keyCode];for(s in r7)d[s]?m.push(s):d[s]=!1;return d.id=m.join(","),d.access&&(d.alt=!0,Cr.mac?d.ctrl=!0:d.shift=!0),d.meta&&(Cr.mac?d.meta=!0:(d.ctrl=!0,d.meta=!1)),d},EE=function(){function o(s){this.shortcuts={},this.pendingPatterns=[],this.editor=s;var d=this;s.on("keyup keypress keydown",function(m){(d.hasModifier(m)||d.isFunctionKey(m))&&!m.isDefaultPrevented()&&(fP(d.shortcuts,function(x){if(d.matchShortcut(m,x))return d.pendingPatterns=x.subpatterns.slice(0),m.type==="keydown"&&d.executeShortcutAction(x),!0}),d.matchShortcut(m,d.pendingPatterns[0])&&(d.pendingPatterns.length===1&&m.type==="keydown"&&d.executeShortcutAction(d.pendingPatterns[0]),d.pendingPatterns.shift()))})}return o.prototype.add=function(s,d,m,x){var T=this,O=T.normalizeCommandFunc(m);return fP(dP(qt.trim(s)),function(B){var H=T.createShortcut(B,d,O,x);T.shortcuts[H.id]=H}),!0},o.prototype.remove=function(s){var d=this.createShortcut(s);return this.shortcuts[d.id]?(delete this.shortcuts[d.id],!0):!1},o.prototype.normalizeCommandFunc=function(s){var d=this,m=s;return typeof m=="string"?function(){d.editor.execCommand(m,!1,null)}:qt.isArray(m)?function(){d.editor.execCommand(m[0],m[1],m[2])}:m},o.prototype.createShortcut=function(s,d,m,x){var T=qt.map(dP(s,">"),o7);return T[T.length-1]=qt.extend(T[T.length-1],{func:m,scope:x||this.editor}),qt.extend(T[0],{desc:this.editor.translate(d),subpatterns:T.slice(1)})},o.prototype.hasModifier=function(s){return s.altKey||s.ctrlKey||s.metaKey},o.prototype.isFunctionKey=function(s){return s.type==="keydown"&&s.keyCode>=112&&s.keyCode<=123},o.prototype.matchShortcut=function(s,d){return!d||d.ctrl!==s.ctrlKey||d.meta!==s.metaKey||d.alt!==s.altKey||d.shift!==s.shiftKey?!1:s.keyCode===d.keyCode||s.charCode&&s.charCode===d.charCode?(s.preventDefault(),!0):!1},o.prototype.executeShortcutAction=function(s){return s.func?s.func.call(s.scope):null},o}(),i7=function(){var o={},s={},d={},m={},x={},T={},O={},B=function(Q,pe){return function(ge,ve){return Q[ge.toLowerCase()]=dr(dr({},ve),{type:pe})}},H=function(Q,pe){return m[Q.toLowerCase()]=pe};return{addButton:B(o,"button"),addGroupToolbarButton:B(o,"grouptoolbarbutton"),addToggleButton:B(o,"togglebutton"),addMenuButton:B(o,"menubutton"),addSplitButton:B(o,"splitbutton"),addMenuItem:B(s,"menuitem"),addNestedMenuItem:B(s,"nestedmenuitem"),addToggleMenuItem:B(s,"togglemenuitem"),addAutocompleter:B(d,"autocompleter"),addContextMenu:B(x,"contextmenu"),addContextToolbar:B(T,"contexttoolbar"),addContextForm:B(T,"contextform"),addSidebar:B(O,"sidebar"),addIcon:H,getAll:function(){return{buttons:o,menuItems:s,icons:m,popups:d,contextMenus:x,contextToolbars:T,sidebars:O}}}},TX=function(){var o=i7();return{addAutocompleter:o.addAutocompleter,addButton:o.addButton,addContextForm:o.addContextForm,addContextMenu:o.addContextMenu,addContextToolbar:o.addContextToolbar,addIcon:o.addIcon,addMenuButton:o.addMenuButton,addMenuItem:o.addMenuItem,addNestedMenuItem:o.addNestedMenuItem,addSidebar:o.addSidebar,addSplitButton:o.addSplitButton,addToggleButton:o.addToggleButton,addGroupToolbarButton:o.addGroupToolbarButton,addToggleMenuItem:o.addToggleMenuItem,getAll:o.getAll}},lb=ra.DOM,OE=qt.extend,a7=qt.each,u7=qt.resolve,MX=Cr.ie,IE=function(){function o(s,d,m){var x=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=m,this.documentBaseUrl=m.documentBaseURL,OE(this,e7),this.settings=QW(this,s,this.documentBaseUrl,m.defaultSettings,d),this.settings.suffix&&(m.suffix=this.settings.suffix),this.suffix=m.suffix,this.settings.base_url&&m._setBaseUrl(this.settings.base_url),this.baseUri=m.baseURI,this.settings.referrer_policy&&(Xd.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),ra.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Pi.languageLoad=this.settings.language_load,Pi.baseURL=m.baseURL,this.id=s,this.setDirty(!1),this.documentBaseURI=new ip(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new EE(this),this.editorCommands=new J8(this),this.settings.cache_suffix&&(Cr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:TX(),styleSheetLoader:void 0,show:le,hide:le,enable:le,disable:le,isDisabled:$e};var T=this,O=n7(T);this.mode=O,this.setMode=O.set,m.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ho.overrideDefaults(function(){return{context:x.inline?x.getBody():x.getDoc(),element:x.getBody()}})}return o.prototype.render=function(){XG(this)},o.prototype.focus=function(s){this.execCommand("mceFocus",!1,s)},o.prototype.hasFocus=function(){return mm(this)},o.prototype.execCallback=function(s){for(var d=[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];var x=this,T=x.settings[s],O;if(T)return x.callbackLookup&&(O=x.callbackLookup[s])&&(T=O.func,O=O.scope),typeof T=="string"&&(O=T.replace(/\.\w+$/,""),O=O?u7(O):0,T=u7(T),x.callbackLookup=x.callbackLookup||{},x.callbackLookup[s]={func:T,scope:O}),T.apply(O||x,d)},o.prototype.translate=function(s){return _o.translate(s)},o.prototype.getParam=function(s,d,m){return eU(this,s,d,m)},o.prototype.hasPlugin=function(s,d){var m=Ye(pS(this).split(/[ ,]/),s);return m?d?Jc.get(s)!==void 0:!0:!1},o.prototype.nodeChanged=function(s){this._nodeChangeDispatcher.nodeChanged(s)},o.prototype.addCommand=function(s,d,m){this.editorCommands.addCommand(s,d,m)},o.prototype.addQueryStateHandler=function(s,d,m){this.editorCommands.addQueryStateHandler(s,d,m)},o.prototype.addQueryValueHandler=function(s,d,m){this.editorCommands.addQueryValueHandler(s,d,m)},o.prototype.addShortcut=function(s,d,m,x){this.shortcuts.add(s,d,m,x)},o.prototype.execCommand=function(s,d,m,x){return this.editorCommands.execCommand(s,d,m,x)},o.prototype.queryCommandState=function(s){return this.editorCommands.queryCommandState(s)},o.prototype.queryCommandValue=function(s){return this.editorCommands.queryCommandValue(s)},o.prototype.queryCommandSupported=function(s){return this.editorCommands.queryCommandSupported(s)},o.prototype.show=function(){var s=this;s.hidden&&(s.hidden=!1,s.inline?s.getBody().contentEditable="true":(lb.show(s.getContainer()),lb.hide(s.id)),s.load(),s.fire("show"))},o.prototype.hide=function(){var s=this,d=s.getDoc();s.hidden||(MX&&d&&!s.inline&&d.execCommand("SelectAll"),s.save(),s.inline?(s.getBody().contentEditable="false",s===s.editorManager.focusedEditor&&(s.editorManager.focusedEditor=null)):(lb.hide(s.getContainer()),lb.setStyle(s.id,"display",s.orgDisplay)),s.hidden=!0,s.fire("hide"))},o.prototype.isHidden=function(){return!!this.hidden},o.prototype.setProgressState=function(s,d){this.fire("ProgressState",{state:s,time:d})},o.prototype.load=function(s){var d=this,m=d.getElement(),x;if(d.removed)return"";if(m){s=s||{},s.load=!0;var T=us(m)?m.value:m.innerHTML;return x=d.setContent(T,s),s.element=m,s.no_events||d.fire("LoadContent",s),s.element=m=null,x}},o.prototype.save=function(s){var d=this,m=d.getElement(),x,T;if(!(!m||!d.initialized||d.removed))return s=s||{},s.save=!0,s.element=m,x=s.content=d.getContent(s),s.no_events||d.fire("SaveContent",s),s.format==="raw"&&d.fire("RawSaveContent",s),x=s.content,us(m)?m.value=x:((s.is_removing||!d.inline)&&(m.innerHTML=x),(T=lb.getParent(d.id,"form"))&&a7(T.elements,function(O){if(O.name===d.id)return O.value=x,!1})),s.element=m=null,s.set_dirty!==!1&&d.setDirty(!1),x},o.prototype.setContent=function(s,d){return WI(this,s,d)},o.prototype.getContent=function(s){return IW(this,s)},o.prototype.insertContent=function(s,d){d&&(s=OE({content:s},d)),this.execCommand("mceInsertContent",!1,s)},o.prototype.resetContent=function(s){s===void 0?WI(this,this.startContent,{format:"raw"}):WI(this,s),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},o.prototype.isDirty=function(){return!this.isNotDirty},o.prototype.setDirty=function(s){var d=!this.isNotDirty;this.isNotDirty=!s,s&&s!==d&&this.fire("dirty")},o.prototype.getContainer=function(){var s=this;return s.container||(s.container=lb.get(s.editorContainer||s.id+"_parent")),s.container},o.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},o.prototype.getElement=function(){return this.targetElm||(this.targetElm=lb.get(this.id)),this.targetElm},o.prototype.getWin=function(){var s=this,d;return s.contentWindow||(d=s.iframeElement,d&&(s.contentWindow=d.contentWindow)),s.contentWindow},o.prototype.getDoc=function(){var s=this,d;return s.contentDocument||(d=s.getWin(),d&&(s.contentDocument=d.document)),s.contentDocument},o.prototype.getBody=function(){var s=this.getDoc();return this.bodyElement||(s?s.body:null)},o.prototype.convertURL=function(s,d,m){var x=this,T=x.settings;return T.urlconverter_callback?x.execCallback("urlconverter_callback",s,m,!0,d):!T.convert_urls||m&&m.nodeName==="LINK"||s.indexOf("file:")===0||s.length===0?s:T.relative_urls?x.documentBaseURI.toRelative(s):(s=x.documentBaseURI.toAbsolute(s,T.remove_script_host),s)},o.prototype.addVisual=function(s){YG(this,s)},o.prototype.remove=function(){LW(this)},o.prototype.destroy=function(s){UC(this,s)},o.prototype.uploadImages=function(s){return this.editorUpload.uploadImages(s)},o.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},o.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},o.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},o.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},o.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},o}(),fh=ra.DOM,kX=qt.explode,km=qt.each,DX=qt.extend,AX=0,s7=!1,Rs,Dm=[],ku=[],l7=function(o){return o!=="length"},hP=function(o){var s=o.type;km(lv.get(),function(d){switch(s){case"scroll":d.fire("ScrollWindow",o);break;case"resize":d.fire("ResizeWindow",o);break}})},c7=function(o){o!==s7&&(o?ho(window).on("resize scroll",hP):ho(window).off("resize scroll",hP),s7=o)},RE=function(o){var s=ku;delete Dm[o.id];for(var d=0;d<Dm.length;d++)if(Dm[d]===o){Dm.splice(d,1);break}return ku=Xe(ku,function(m){return o!==m}),lv.activeEditor===o&&(lv.activeEditor=ku.length>0?ku[0]:null),lv.focusedEditor===o&&(lv.focusedEditor=null),s.length!==ku.length},pP=function(o){return o&&o.initialized&&!(o.getContainer()||o.getBody()).parentNode&&(RE(o),o.unbindAllNativeEvents(),o.destroy(!0),o.removed=!0,o=null),o},f7=document.compatMode!=="CSS1Compat",lv=dr(dr({},AE),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ho,majorVersion:"5",minorVersion:"10.3",releaseDate:"2022-02-09",editors:Dm,i18n:_o,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var o=this,s,d,m="";d=ip.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(d)&&(d=d.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(d)||(d+="/"));var x=window.tinymce||window.tinyMCEPreInit;if(x)s=x.base||x.baseURL,m=x.suffix;else{for(var T=document.getElementsByTagName("script"),O=0;O<T.length;O++){var B=T[O].src||"";if(B!==""){var H=B.substring(B.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(B)){H.indexOf(".min")!==-1&&(m=".min"),s=B.substring(0,B.lastIndexOf("/"));break}}}if(!s&&document.currentScript){var B=document.currentScript.src;B.indexOf(".min")!==-1&&(m=".min"),s=B.substring(0,B.lastIndexOf("/"))}}o.baseURL=new ip(d).toAbsolute(s),o.documentBaseURL=d,o.baseURI=new ip(o.baseURL),o.suffix=m,FD(o)},overrideDefaults:function(o){var s=o.base_url;s&&this._setBaseUrl(s);var d=o.suffix;o.suffix&&(this.suffix=d),this.defaultSettings=o;var m=o.plugin_base_urls;m!==void 0&&wn(m,function(x,T){Pi.PluginManager.urls[T]=x})},init:function(o){var s=this,d,m=qt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),x=function(ge,ve){return ge.inline&&ve.tagName.toLowerCase()in m},T=function(ge){var ve=ge.id;return ve||(ve=zr(ge,"name").filter(function(Ae){return!fh.get(Ae)}).getOrThunk(fh.uniqueId),ge.setAttribute("id",ve)),ve},O=function(ge){var ve=o[ge];if(ve)return ve.apply(s,[])},B=function(ge,ve){return ve.constructor===RegExp?ve.test(ge.className):fh.hasClass(ge,ve)},H=function(ge){var ve=[];if(Cr.browser.isIE()&&Cr.browser.version.major<11)return qA("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(f7)return qA("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(ge.types)return km(ge.types,function(De){ve=ve.concat(fh.select(De.selector))}),ve;if(ge.selector)return fh.select(ge.selector);if(ge.target)return[ge.target];switch(ge.mode){case"exact":var Ae=ge.elements||"";Ae.length>0&&km(kX(Ae),function(De){var Ie=fh.get(De);Ie?ve.push(Ie):km(document.forms,function(Ne){km(Ne.elements,function(Ke){Ke.name===De&&(De="mce_editor_"+AX++,fh.setAttrib(Ke,"id",De),ve.push(Ke))})})});break;case"textareas":case"specific_textareas":km(fh.select("textarea"),function(De){ge.editor_deselector&&B(De,ge.editor_deselector)||(!ge.editor_selector||B(De,ge.editor_selector))&&ve.push(De)});break}return ve},Q=function(ge){d=ge},pe=function(){var ge=0,ve=[],Ae,De=function(Ie,Ne,Ke){var Ge=new IE(Ie,Ne,s);ve.push(Ge),Ge.on("init",function(){++ge===Ae.length&&Q(ve)}),Ge.targetElm=Ge.targetElm||Ke,Ge.render()};if(fh.unbind(window,"ready",pe),O("onpageload"),Ae=ho.unique(H(o)),o.types){km(o.types,function(Ie){qt.each(Ae,function(Ne){return fh.is(Ne,Ie.selector)?(De(T(Ne),DX({},o,Ie),Ne),!1):!0})});return}qt.each(Ae,function(Ie){pP(s.get(Ie.id))}),Ae=qt.grep(Ae,function(Ie){return!s.get(Ie.id)}),Ae.length===0?Q([]):km(Ae,function(Ie){x(o,Ie)?qA("Could not initialize inline editor on invalid inline target element",Ie):De(T(Ie),o,Ie)})};return s.settings=o,fh.bind(window,"ready",pe),new Uu(function(ge){d?ge(d):Q=function(ve){ge(ve)}})},get:function(o){return arguments.length===0?ku.slice(0):R(o)?Zn(ku,function(s){return s.id===o}).getOr(null):ie(o)&&ku[o]?ku[o]:null},add:function(o){var s=this,d=Dm[o.id];return d===o||(s.get(o.id)===null&&(l7(o.id)&&(Dm[o.id]=o),Dm.push(o),ku.push(o)),c7(!0),s.activeEditor=o,s.fire("AddEditor",{editor:o}),Rs||(Rs=function(m){var x=s.fire("BeforeUnload");if(x.returnValue)return m.preventDefault(),m.returnValue=x.returnValue,x.returnValue},window.addEventListener("beforeunload",Rs))),o},createEditor:function(o,s){return this.add(new IE(o,s,this))},remove:function(o){var s=this,d,m;if(!o){for(d=ku.length-1;d>=0;d--)s.remove(ku[d]);return}if(R(o)){km(fh.select(o),function(x){m=s.get(x.id),m&&s.remove(m)});return}return m=o,L(s.get(m.id))?null:(RE(m)&&s.fire("RemoveEditor",{editor:m}),ku.length===0&&window.removeEventListener("beforeunload",Rs),m.remove(),c7(ku.length>0),m)},execCommand:function(o,s,d){var m=this,x=m.get(d);switch(o){case"mceAddEditor":return m.get(d)||new IE(d,m.settings,m).render(),!0;case"mceRemoveEditor":return x&&x.remove(),!0;case"mceToggleEditor":return x?(x.isHidden()?x.show():x.hide(),!0):(m.execCommand("mceAddEditor",!1,d),!0)}return m.activeEditor?m.activeEditor.execCommand(o,s,d):!1},triggerSave:function(){km(ku,function(o){o.save()})},addI18n:function(o,s){_o.add(o,s)},translate:function(o){return _o.translate(o)},setActive:function(o){var s=this.activeEditor;this.activeEditor!==o&&(s&&s.fire("deactivate",{relatedTarget:o}),o.fire("activate",{relatedTarget:s})),this.activeEditor=o},_setBaseUrl:function(o){this.baseURL=new ip(this.documentBaseURL).toAbsolute(o.replace(/\/+$/,"")),this.baseURI=new ip(this.baseURL)}});lv.setup();var d7=Math.min,l2=Math.max,PE=Math.round,h7=function(o,s,d){var m=s.x,x=s.y,T=o.w,O=o.h,B=s.w,H=s.h,Q=(d||"").split("");return Q[0]==="b"&&(x+=H),Q[1]==="r"&&(m+=B),Q[0]==="c"&&(x+=PE(H/2)),Q[1]==="c"&&(m+=PE(B/2)),Q[3]==="b"&&(x-=O),Q[4]==="r"&&(m-=T),Q[3]==="c"&&(x-=PE(O/2)),Q[4]==="c"&&(m-=PE(T/2)),c2(m,x,T,O)},EX=function(o,s,d,m){var x,T;for(T=0;T<m.length;T++)if(x=h7(o,s,m[T]),x.x>=d.x&&x.x+x.w<=d.w+d.x&&x.y>=d.y&&x.y+x.h<=d.h+d.y)return m[T];return null},p7=function(o,s,d){return c2(o.x-s,o.y-d,o.w+s*2,o.h+d*2)},OX=function(o,s){var d=l2(o.x,s.x),m=l2(o.y,s.y),x=d7(o.x+o.w,s.x+s.w),T=d7(o.y+o.h,s.y+s.h);return x-d<0||T-m<0?null:c2(d,m,x-d,T-m)},IX=function(o,s,d){var m=o.x,x=o.y,T=o.x+o.w,O=o.y+o.h,B=s.x+s.w,H=s.y+s.h,Q=l2(0,s.x-m),pe=l2(0,s.y-x),ge=l2(0,T-B),ve=l2(0,O-H);return m+=Q,x+=pe,d&&(T+=Q,O+=pe,m-=ge,x-=ve),T-=ge,O-=ve,c2(m,x,T-m,O-x)},c2=function(o,s,d,m){return{x:o,y:s,w:d,h:m}},RX=function(o){return c2(o.left,o.top,o.width,o.height)},PX={inflate:p7,relativePosition:h7,findBestRelativePosition:EX,intersect:OX,clamp:IX,create:c2,fromClientRect:RX},NX=function(o,s,d){d===void 0&&(d=1e3);var m=!1,x=null,T=function(Q){return function(){for(var pe=[],ge=0;ge<arguments.length;ge++)pe[ge]=arguments[ge];m||(m=!0,x!==null&&(clearTimeout(x),x=null),Q.apply(null,pe))}},O=T(o),B=T(s),H=function(){for(var Q=[],pe=0;pe<arguments.length;pe++)Q[pe]=arguments[pe];!m&&x===null&&(x=setTimeout(function(){return B.apply(null,Q)},d))};return{start:H,resolve:O,reject:B}},m7=function(){var o={},s={},d=function(x,T){var O='Script at URL "'+T+'" failed to load',B='Script at URL "'+T+"\" did not call `tinymce.Resource.add('"+x+"', data)` within 1 second";if(o[x]!==void 0)return o[x];var H=new Uu(function(Q,pe){var ge=NX(Q,pe);s[x]=ge.resolve,Xd.ScriptLoader.loadScript(T,function(){return ge.start(B)},function(){return ge.reject(O)})});return o[x]=H,H},m=function(x,T){s[x]!==void 0&&(s[x](T),delete s[x]),o[x]=Uu.resolve(T)};return{load:d,add:m}},LX=m7(),NE=qt.each,BX=qt.extend,LE,cb,cv=function(){};cv.extend=LE=function(o){var s=this,d=s.prototype,m=function(){var B,H,Q,pe=this;if(!cb&&(pe.init&&pe.init.apply(pe,arguments),H=pe.Mixins,H))for(B=H.length;B--;)Q=H[B],Q.init&&Q.init.apply(pe,arguments)},x=function(){return this},T=function(B,H){return function(){var Q=this,pe=Q._super;Q._super=d[B];var ge=H.apply(Q,arguments);return Q._super=pe,ge}};cb=!0;var O=new s;return cb=!1,o.Mixins&&(NE(o.Mixins,function(B){for(var H in B)H!=="init"&&(o[H]=B[H])}),d.Mixins&&(o.Mixins=d.Mixins.concat(o.Mixins))),o.Methods&&NE(o.Methods.split(","),function(B){o[B]=x}),o.Properties&&NE(o.Properties.split(","),function(B){var H="_"+B;o[B]=function(Q){var pe=this;return Q!==void 0?(pe[H]=Q,pe):pe[H]}}),o.Statics&&NE(o.Statics,function(B,H){m[H]=B}),o.Defaults&&d.Defaults&&(o.Defaults=BX({},d.Defaults,o.Defaults)),wn(o,function(B,H){typeof B=="function"&&d[H]?O[H]=T(H,B):O[H]=B}),m.prototype=O,m.constructor=m,m.extend=LE,m};var fv=Math.min,f2=Math.max,dv=Math.round,g7=function(o){var s={},d=0,m=0,x=0,T=function(ge,ve,Ae){var De,Ie,Ne;De=0,Ie=0,Ne=0,ge=ge/255,ve=ve/255,Ae=Ae/255;var Ke=fv(ge,fv(ve,Ae)),Ge=f2(ge,f2(ve,Ae));if(Ke===Ge)return Ne=Ke,{h:0,s:0,v:Ne*100};var at=ge===Ke?ve-Ae:Ae===Ke?ge-ve:Ae-ge;return De=ge===Ke?3:Ae===Ke?1:5,De=60*(De-at/(Ge-Ke)),Ie=(Ge-Ke)/Ge,Ne=Ge,{h:dv(De),s:dv(Ie*100),v:dv(Ne*100)}},O=function(ge,ve,Ae){if(ge=(parseInt(ge,10)||0)%360,ve=parseInt(ve,10)/100,Ae=parseInt(Ae,10)/100,ve=f2(0,fv(ve,1)),Ae=f2(0,fv(Ae,1)),ve===0){d=m=x=dv(255*Ae);return}var De=ge/60,Ie=Ae*ve,Ne=Ie*(1-Math.abs(De%2-1)),Ke=Ae-Ie;switch(Math.floor(De)){case 0:d=Ie,m=Ne,x=0;break;case 1:d=Ne,m=Ie,x=0;break;case 2:d=0,m=Ie,x=Ne;break;case 3:d=0,m=Ne,x=Ie;break;case 4:d=Ne,m=0,x=Ie;break;case 5:d=Ie,m=0,x=Ne;break;default:d=m=x=0}d=dv(255*(d+Ke)),m=dv(255*(m+Ke)),x=dv(255*(x+Ke))},B=function(){var ge=function(ve){return ve=parseInt(ve,10).toString(16),ve.length>1?ve:"0"+ve};return"#"+ge(d)+ge(m)+ge(x)},H=function(){return{r:d,g:m,b:x}},Q=function(){return T(d,m,x)},pe=function(ge){var ve;return typeof ge=="object"?"r"in ge?(d=ge.r,m=ge.g,x=ge.b):"v"in ge&&O(ge.h,ge.s,ge.v):(ve=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(ge))?(d=parseInt(ve[1],10),m=parseInt(ve[2],10),x=parseInt(ve[3],10)):(ve=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(ge))?(d=parseInt(ve[1],16),m=parseInt(ve[2],16),x=parseInt(ve[3],16)):(ve=/#([0-F])([0-F])([0-F])/gi.exec(ge))&&(d=parseInt(ve[1]+ve[1],16),m=parseInt(ve[2]+ve[2],16),x=parseInt(ve[3]+ve[3],16)),d=d<0?0:d>255?255:d,m=m<0?0:m>255?255:m,x=x<0?0:x>255?255:x,s};return o&&pe(o),s.toRgb=H,s.toHsv=Q,s.toHex=B,s.parse=pe,s},v7=function(o){var s=JSON.stringify(o);return R(s)?s.replace(/[\u0080-\uFFFF]/g,function(d){var m=d.charCodeAt(0).toString(16);return"\\u"+"0000".substring(m.length)+m}):s},mP={serialize:v7,parse:function(o){try{return JSON.parse(o)}catch{}}},y7={callbacks:{},count:0,send:function(o){var s=this,d=ra.DOM,m=o.count!==void 0?o.count:s.count,x="tinymce_jsonp_"+m;s.callbacks[m]=function(T){d.remove(x),delete s.callbacks[m],o.callback(T)},d.add(d.doc.body,"script",{id:x,src:o.url,type:"text/javascript"}),s.count++}},gT=dr(dr({},AE),{send:function(o){var s,d=0,m=function(){!o.async||s.readyState===4||d++>1e4?(o.success&&d<1e4&&s.status===200?o.success.call(o.success_scope,""+s.responseText,s,o):o.error&&o.error.call(o.error_scope,d>1e4?"TIMED_OUT":"GENERAL",s,o),s=null):ks.setTimeout(m,10)};if(o.scope=o.scope||this,o.success_scope=o.success_scope||o.scope,o.error_scope=o.error_scope||o.scope,o.async=o.async!==!1,o.data=o.data||"",gT.fire("beforeInitialize",{settings:o}),s=new XMLHttpRequest,s.overrideMimeType&&s.overrideMimeType(o.content_type),s.open(o.type||(o.data?"POST":"GET"),o.url,o.async),o.crossDomain&&(s.withCredentials=!0),o.content_type&&s.setRequestHeader("Content-Type",o.content_type),o.requestheaders&&qt.each(o.requestheaders,function(x){s.setRequestHeader(x.key,x.value)}),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s=gT.fire("beforeSend",{xhr:s,settings:o}).xhr,s.send(o.data),!o.async)return m();ks.setTimeout(m,10)}}),b7=qt.extend,zX=function(){function o(s){this.settings=b7({},s),this.count=0}return o.sendRPC=function(s){return new o().send(s)},o.prototype.send=function(s){var d=s.error,m=s.success,x=b7(this.settings,s);x.success=function(T,O){T=mP.parse(T),typeof T>"u"&&(T={error:"JSON Parse error."}),T.error?d.call(x.error_scope||x.scope,T.error,O):m.call(x.success_scope||x.scope,T.result)},x.error=function(T,O){d&&d.call(x.error_scope||x.scope,T,O)},x.data=mP.serialize({id:s.id||"c"+this.count++,method:s.method,params:s.params}),x.content_type="application/json",gT.send(x)},o}(),FX=function(){return function(){var o={},s=[],d={getItem:function(m){var x=o[m];return x||null},setItem:function(m,x){s.push(m),o[m]=String(x)},key:function(m){return s[m]},removeItem:function(m){s=s.filter(function(x){return x===m}),delete o[m]},clear:function(){s=[],o={}},length:0};return Object.defineProperty(d,"length",{get:function(){return s.length},configurable:!1,enumerable:!1}),d}()},vT;try{var gP="__storage_test__";vT=window.localStorage,vT.setItem(gP,gP),vT.removeItem(gP)}catch{vT=FX()}var VX=vT,x7={geom:{Rect:PX},util:{Promise:Uu,Delay:ks,Tools:qt,VK:Nr,URI:ip,Class:cv,EventDispatcher:lP,Observable:AE,I18n:_o,XHR:gT,JSON:mP,JSONRequest:zX,JSONP:y7,LocalStorage:VX,Color:g7,ImageUploader:XB},dom:{EventUtils:Fp,Sizzle:Fi,DomQuery:ho,TreeWalker:mi,TextSeeker:bx,DOMUtils:ra,ScriptLoader:Xd,RangeUtils:T0,Serializer:DB,StyleSheetLoader:VM,ControlSelection:vD,BookmarkManager:th,Selection:LI,Event:Fp.Event},html:{Styles:$h,Entities:Mc,Node:Xc,Schema:ko,SaxParser:Cw,DomParser:jI,Writer:k1,Serializer:Jg},Env:Cr,AddOnManager:Pi,Annotator:md,Formatter:QB,UndoManager:iu,EditorCommands:J8,WindowManager:$w,NotificationManager:Kc,EditorObservable:e7,Shortcuts:EE,Editor:IE,FocusManager:mw,EditorManager:lv,DOM:ra.DOM,ScriptLoader:Xd.ScriptLoader,PluginManager:Jc,ThemeManager:Nf,IconManager:HA,Resource:LX,trim:qt.trim,isArray:qt.isArray,is:qt.is,toArray:qt.toArray,makeMap:qt.makeMap,each:qt.each,map:qt.map,grep:qt.grep,inArray:qt.inArray,extend:qt.extend,create:qt.create,walk:qt.walk,createNS:qt.createNS,resolve:qt.resolve,explode:qt.explode,_addCacheSuffix:qt._addCacheSuffix,isOpera:Cr.opera,isWebKit:Cr.webkit,isIE:Cr.ie,isGecko:Cr.gecko,isMac:Cr.mac},vP=qt.extend(lv,x7),HX=function(o){try{n.exports=o}catch{}},jX=function(o){window.tinymce=o,window.tinyMCE=o};jX(vP),HX(vP)})()})(Sde);var LEe=Sde.exports;const K7=ede(LEe);(function(){var n=function(a){var c=typeof a;return a===null?"null":c==="object"&&(Array.prototype.isPrototypeOf(a)||a.constructor&&a.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(a)||a.constructor&&a.constructor.name==="String")?"string":c},e=function(a){return function(c){return n(c)===a}},t=function(a){return function(c){return typeof c===a}},r=function(a){return function(c){return a===c}},i=e("string"),u=e("object"),l=e("array"),f=r(null),h=t("boolean"),g=r(void 0),y=function(a){return a==null},b=function(a){return!y(a)},S=t("function"),_=t("number"),k=function(a,c){if(l(a)){for(var p=0,w=a.length;p<w;++p)if(!c(a[p]))return!1;return!0}return!1},E=function(){},R=function(a){return function(){return a()}},I=function(a,c){return function(){for(var p=[],w=0;w<arguments.length;w++)p[w]=arguments[w];return a(c.apply(null,p))}},z=function(a,c){return function(p){return a(c(p))}},L=function(a){return function(){return a}},q=function(a){return a},X=function(a,c){return a===c};function Y(a){for(var c=[],p=1;p<arguments.length;p++)c[p-1]=arguments[p];return function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];var A=c.concat(w);return a.apply(null,A)}}var ae=function(a){return function(c){return!a(c)}},te=function(a){return function(){throw new Error(a)}},ie=L(!1),le=L(!0),ce=tinymce.util.Tools.resolve("tinymce.ThemeManager"),ne=function(){return ne=Object.assign||function(a){for(var c,p=1,w=arguments.length;p<w;p++){c=arguments[p];for(var M in c)Object.prototype.hasOwnProperty.call(c,M)&&(a[M]=c[M])}return a},ne.apply(this,arguments)};function Z(a,c){var p={};for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&c.indexOf(w)<0&&(p[w]=a[w]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,w=Object.getOwnPropertySymbols(a);M<w.length;M++)c.indexOf(w[M])<0&&Object.prototype.propertyIsEnumerable.call(a,w[M])&&(p[w[M]]=a[w[M]]);return p}function Ce(a,c,p){if(p||arguments.length===2)for(var w=0,M=c.length,A;w<M;w++)(A||!(w in c))&&(A||(A=Array.prototype.slice.call(c,0,w)),A[w]=c[w]);return a.concat(A||Array.prototype.slice.call(c))}var ze=function(){return ke},ke=function(){var a=function(w){return w()},c=q,p={fold:function(w,M){return w()},isSome:ie,isNone:le,getOr:c,getOrThunk:a,getOrDie:function(w){throw new Error(w||"error: getOrDie called on none.")},getOrNull:L(null),getOrUndefined:L(void 0),or:c,orThunk:a,map:ze,each:E,bind:ze,exists:ie,forall:le,filter:function(){return ze()},toArray:function(){return[]},toString:L("none()")};return p}(),_t=function(a){var c=L(a),p=function(){return M},w=function(A){return A(a)},M={fold:function(A,N){return N(a)},isSome:le,isNone:ie,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:p,orThunk:p,map:function(A){return _t(A(a))},each:function(A){A(a)},bind:w,exists:w,forall:w,filter:function(A){return A(a)?M:ke},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return M},tt=function(a){return a==null?ke:_t(a)},$={some:_t,none:ze,from:tt},Ze=Array.prototype.slice,$e=Array.prototype.indexOf,mt=Array.prototype.push,Qe=function(a,c){return $e.call(a,c)},Et=function(a,c){var p=Qe(a,c);return p===-1?$.none():$.some(p)},Ot=function(a,c){return Qe(a,c)>-1},Nt=function(a,c){for(var p=0,w=a.length;p<w;p++){var M=a[p];if(c(M,p))return!0}return!1},fe=function(a,c){for(var p=[],w=0;w<a;w++)p.push(c(w));return p},$t=function(a,c){for(var p=[],w=0;w<a.length;w+=c){var M=Ze.call(a,w,w+c);p.push(M)}return p},Je=function(a,c){for(var p=a.length,w=new Array(p),M=0;M<p;M++){var A=a[M];w[M]=c(A,M)}return w},Fe=function(a,c){for(var p=0,w=a.length;p<w;p++){var M=a[p];c(M,p)}},St=function(a,c){for(var p=a.length-1;p>=0;p--){var w=a[p];c(w,p)}},Ue=function(a,c){for(var p=[],w=[],M=0,A=a.length;M<A;M++){var N=a[M],j=c(N,M)?p:w;j.push(N)}return{pass:p,fail:w}},Ye=function(a,c){for(var p=[],w=0,M=a.length;w<M;w++){var A=a[w];c(A,w)&&p.push(A)}return p},st=function(a,c,p){return St(a,function(w,M){p=c(p,w,M)}),p},Ft=function(a,c,p){return Fe(a,function(w,M){p=c(p,w,M)}),p},Ct=function(a,c,p){for(var w=0,M=a.length;w<M;w++){var A=a[w];if(c(A,w))return $.some(A);if(p(A,w))break}return $.none()},Rt=function(a,c){return Ct(a,c,ie)},ur=function(a,c){for(var p=0,w=a.length;p<w;p++){var M=a[p];if(c(M,p))return $.some(p)}return $.none()},Xe=function(a){for(var c=[],p=0,w=a.length;p<w;++p){if(!l(a[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+a);mt.apply(c,a[p])}return c},Bt=function(a,c){return Xe(Je(a,c))},Mn=function(a,c){for(var p=0,w=a.length;p<w;++p){var M=a[p];if(c(M,p)!==!0)return!1}return!0},Qt=function(a){var c=Ze.call(a,0);return c.reverse(),c},Zn=function(a,c){return Ye(a,function(p){return!Ot(c,p)})},pr=function(a,c){for(var p={},w=0,M=a.length;w<M;w++){var A=a[w];p[String(A)]=c(A,w)}return p},ao=function(a){return[a]},Mo=function(a,c){var p=Ze.call(a,0);return p.sort(c),p},Go=function(a,c){return c>=0&&c<a.length?$.some(a[c]):$.none()},gn=function(a){return Go(a,0)},vn=function(a){return Go(a,a.length-1)},en=S(Array.from)?Array.from:function(a){return Ze.call(a)},vt=function(a,c){for(var p=0;p<a.length;p++){var w=c(a[p],p);if(w.isSome())return w}return $.none()},Tt=Object.keys,hn=Object.hasOwnProperty,Bn=function(a,c){for(var p=Tt(a),w=0,M=p.length;w<M;w++){var A=p[w],N=a[A];c(N,A)}},bn=function(a,c){return pt(a,function(p,w){return{k:w,v:c(p,w)}})},pt=function(a,c){var p={};return Bn(a,function(w,M){var A=c(w,M);p[A.k]=A.v}),p},an=function(a){return function(c,p){a[p]=c}},On=function(a,c,p,w){var M={};return Bn(a,function(A,N){(c(A,N)?p:w)(A,N)}),M},wn=function(a,c){var p={};return On(a,c,an(p),E),p},er=function(a,c){var p=[];return Bn(a,function(w,M){p.push(c(w,M))}),p},et=function(a,c){for(var p=Tt(a),w=0,M=p.length;w<M;w++){var A=p[w],N=a[A];if(c(N,A,a))return $.some(N)}return $.none()},jt=function(a){return er(a,q)},Pt=function(a,c){return ln(a,c)?$.from(a[c]):$.none()},ln=function(a,c){return hn.call(a,c)},Kn=function(a,c){return ln(a,c)&&a[c]!==void 0&&a[c]!==null},Br=function(a,c,p){return p===void 0&&(p=X),a.exists(function(w){return p(w,c)})},ei=function(a,c,p){return p===void 0&&(p=X),ui(a,c,p).getOr(a.isNone()&&c.isNone())},zr=function(a){for(var c=[],p=function(M){c.push(M)},w=0;w<a.length;w++)a[w].each(p);return c},Hr=function(a){for(var c=[],p=0;p<a.length;p++){var w=a[p];if(w.isSome())c.push(w.getOrDie());else return $.none()}return $.some(c)},ui=function(a,c,p){return a.isSome()&&c.isSome()?$.some(p(a.getOrDie(),c.getOrDie())):$.none()},Ta=function(a,c,p,w){return a.isSome()&&c.isSome()&&p.isSome()?$.some(w(a.getOrDie(),c.getOrDie(),p.getOrDie())):$.none()},Ui=function(a,c){return a!=null?$.some(c(a)):$.none()},Si=function(a,c){return a?$.some(c):$.none()},Yi=function(a,c){return a+c},Ra=function(a,c){return a.substring(c)},ea=function(a,c,p){return c===""||a.length>=c.length&&a.substr(p,p+c.length)===c},Li=function(a,c){return Na(a,c)?Ra(a,c.length):a},Pa=function(a,c){return dr(a,c)?a:Yi(a,c)},co=function(a,c){return a.indexOf(c)!==-1},Na=function(a,c){return ea(a,c,0)},dr=function(a,c){return ea(a,c,a.length-c.length)},Vu=function(a){return function(c){return c.replace(a,"")}},xa=Vu(/^\s+|\s+$/g),Ua=function(a){return a.length>0},aa=function(a){return!Ua(a)},Za=function(a){return a.style!==void 0&&S(a.style.getPropertyValue)},Hu=function(a,c){var p=c||document,w=p.createElement("div");if(w.innerHTML=a,!w.hasChildNodes()||w.childNodes.length>1)throw console.error("HTML does not have a single root node",a),new Error("HTML must have a single root node");return Pe(w.childNodes[0])},Qa=function(a,c){var p=c||document,w=p.createElement(a);return Pe(w)},ws=function(a,c){var p=c||document,w=p.createTextNode(a);return Pe(w)},Pe=function(a){if(a==null)throw new Error("Node cannot be null or undefined");return{dom:a}},it=function(a,c,p){return $.from(a.dom.elementFromPoint(c,p)).map(Pe)},He={fromHtml:Hu,fromTag:Qa,fromText:ws,fromDom:Pe,fromPoint:it};typeof window<"u"||Function("return this;")();var Dt=9,Rn=11,tr=1,Oe=3,qe=function(a){var c=a.dom.nodeName;return c.toLowerCase()},At=function(a){return a.dom.nodeType},Jt=function(a){return function(c){return At(c)===a}},he=Jt(tr),Me=Jt(Oe),We=Jt(Dt),lt=Jt(Rn),wt=function(a){var c=!1,p;return function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];return c||(c=!0,p=a.apply(null,w)),p}},kt=function(a,c,p,w){var M=a.isiOS()&&/ipad/i.test(p)===!0,A=a.isiOS()&&!M,N=a.isiOS()||a.isAndroid(),j=N||w("(pointer:coarse)"),W=M||!A&&N&&w("(min-device-width:768px)"),K=A||N&&!W,oe=c.isSafari()&&a.isiOS()&&/safari/i.test(p)===!1,se=!K&&!W&&!oe;return{isiPad:L(M),isiPhone:L(A),isTablet:L(W),isPhone:L(K),isTouch:L(j),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:L(oe),isDesktop:L(se)}},En=function(a,c){for(var p=0;p<a.length;p++){var w=a[p];if(w.test(c))return w}},Un=function(a,c){var p=En(a,c);if(!p)return{major:0,minor:0};var w=function(M){return Number(c.replace(p,"$"+M))};return mr(w(1),w(2))},_r=function(a,c){var p=String(c).toLowerCase();return a.length===0?It():Un(a,p)},It=function(){return mr(0,0)},mr=function(a,c){return{major:a,minor:c}},qr={nu:mr,detect:_r,unknown:It},Uo=function(a,c){return vt(c.brands,function(p){var w=p.brand.toLowerCase();return Rt(a,function(M){var A;return w===((A=M.brand)===null||A===void 0?void 0:A.toLowerCase())}).map(function(M){return{current:M.name,version:qr.nu(parseInt(p.version,10),0)}})})},ta=function(a,c){var p=String(c).toLowerCase();return Rt(a,function(w){return w.search(p)})},ro=function(a,c){return ta(a,c).map(function(p){var w=qr.detect(p.versionRegexes,c);return{current:p.name,version:w}})},Fs=function(a,c){return ta(a,c).map(function(p){var w=qr.detect(p.versionRegexes,c);return{current:p.name,version:w}})},_s=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ki=function(a){return function(c){return co(c,a)}},jl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return co(a,"edge/")&&co(a,"chrome")&&co(a,"safari")&&co(a,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_s],search:function(a){return co(a,"chrome")&&!co(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return co(a,"msie")||co(a,"trident")}},{name:"Opera",versionRegexes:[_s,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ki("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ki("firefox")},{name:"Safari",versionRegexes:[_s,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(co(a,"safari")||co(a,"mobile/"))&&co(a,"applewebkit")}}],yu=[{name:"Windows",search:Ki("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return co(a,"iphone")||co(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ki("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ki("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ki("linux"),versionRegexes:[]},{name:"Solaris",search:Ki("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ki("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ki("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Eu={browsers:L(jl),oses:L(yu)},pi="Edge",Wl="Chrome",nl="IE",Sl="Opera",gc="Firefox",Ou="Safari",os=function(){return vc({current:void 0,version:qr.unknown()})},vc=function(a){var c=a.current,p=a.version,w=function(M){return function(){return c===M}};return{current:c,version:p,isEdge:w(pi),isChrome:w(Wl),isIE:w(nl),isOpera:w(Sl),isFirefox:w(gc),isSafari:w(Ou)}},ju={unknown:os,nu:vc,edge:L(pi),chrome:L(Wl),ie:L(nl),opera:L(Sl),firefox:L(gc),safari:L(Ou)},Iu="Windows",we="iOS",rt="Android",xt="Linux",tn="OSX",kn="Solaris",yr="FreeBSD",jo="ChromeOS",ti=function(){return uo({current:void 0,version:qr.unknown()})},uo=function(a){var c=a.current,p=a.version,w=function(M){return function(){return c===M}};return{current:c,version:p,isWindows:w(Iu),isiOS:w(we),isAndroid:w(rt),isOSX:w(tn),isLinux:w(xt),isSolaris:w(kn),isFreeBSD:w(yr),isChromeOS:w(jo)}},yi={unknown:ti,nu:uo,windows:L(Iu),ios:L(we),android:L(rt),linux:L(xt),osx:L(tn),solaris:L(kn),freebsd:L(yr),chromeos:L(jo)},Bi=function(a,c,p){var w=Eu.browsers(),M=Eu.oses(),A=c.bind(function(W){return Uo(w,W)}).orThunk(function(){return ro(w,a)}).fold(ju.unknown,ju.nu),N=Fs(M,a).fold(yi.unknown,yi.nu),j=kt(N,A,a,p);return{browser:A,os:N,deviceType:j}},rl={detect:Bi},qa=function(a){return window.matchMedia(a).matches},Vs=wt(function(){return rl.detect(navigator.userAgent,$.from(navigator.userAgentData),qa)}),Cr=function(){return Vs()},Cl=function(a,c,p){return(a.compareDocumentPosition(c)&p)!==0},Yf=function(a,c){return Cl(a,c,Node.DOCUMENT_POSITION_CONTAINED_BY)},Oo=function(a,c){var p=a.dom;if(p.nodeType!==tr)return!1;var w=p;if(w.matches!==void 0)return w.matches(c);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(c);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(c);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")},df=function(a){return a.nodeType!==tr&&a.nodeType!==Dt&&a.nodeType!==Rn||a.childElementCount===0},hf=function(a,c){var p=c===void 0?document:c.dom;return df(p)?[]:Je(p.querySelectorAll(a),He.fromDom)},Nd=function(a,c){var p=c===void 0?document:c.dom;return df(p)?$.none():$.from(p.querySelector(a)).map(He.fromDom)},si=function(a,c){return a.dom===c.dom},is=function(a,c){var p=a.dom,w=c.dom;return p===w?!1:p.contains(w)},Ah=function(a,c){return Yf(a.dom,c.dom)},Ss=function(a,c){return Cr().browser.isIE()?Ah(a,c):is(a,c)},ua=function(a){return He.fromDom(a.dom.ownerDocument)},Ul=function(a){return We(a)?a:ua(a)},qt=function(a){return He.fromDom(Ul(a).dom.documentElement)},yc=function(a){return He.fromDom(Ul(a).dom.defaultView)},sa=function(a){return $.from(a.dom.parentNode).map(He.fromDom)},Kf=function(a){return sa(a)},Tl=function(a){return $.from(a.dom.offsetParent).map(He.fromDom)},ue=function(a){return $.from(a.dom.nextSibling).map(He.fromDom)},U=function(a){return Je(a.dom.childNodes,He.fromDom)},V=function(a,c){var p=a.dom.childNodes;return $.from(p[c]).map(He.fromDom)},ee=function(a){return V(a,0)},ye=function(a,c){return{element:a,offset:c}},Re=function(a,c){var p=U(a);return p.length>0&&c<p.length?ye(p[c],0):ye(a,c)},gt=function(a){return lt(a)&&b(a.dom.host)},un=S(Element.prototype.attachShadow)&&S(Node.prototype.getRootNode),hr=L(un),Tr=un?function(a){return He.fromDom(a.dom.getRootNode())}:Ul,Ln=function(a){return gt(a)?a:He.fromDom(Ul(a).dom.body)},lr=function(a){return Kr(a).isSome()},Kr=function(a){var c=Tr(a);return gt(c)?$.some(c):$.none()},Jr=function(a){return He.fromDom(a.dom.host)},Vr=function(a){if(hr()&&b(a.target)){var c=He.fromDom(a.target);if(he(c)&&Ei(c)&&a.composed&&a.composedPath){var p=a.composedPath();if(p)return gn(p)}}return $.from(a.target)},Ei=function(a){return b(a.dom.shadowRoot)},Or=function(a){var c=Me(a)?a.dom.parentNode:a.dom;if(c==null||c.ownerDocument===null)return!1;var p=c.ownerDocument;return Kr(He.fromDom(c)).fold(function(){return p.body.contains(c)},z(Or,Jr))},li=function(){return ni(He.fromDom(document))},ni=function(a){var c=a.dom.body;if(c==null)throw new Error("Body is not available yet");return He.fromDom(c)},bu=function(a,c,p){if(i(p)||h(p)||_(p))a.setAttribute(c,p+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",p,":: Element ",a),new Error("Attribute value was not simple")},so=function(a,c,p){bu(a.dom,c,p)},ql=function(a,c){var p=a.dom;Bn(c,function(w,M){bu(p,M,w)})},la=function(a,c){var p=a.dom.getAttribute(c);return p===null?void 0:p},wa=function(a,c){return $.from(la(a,c))},Wb=function(a,c){var p=a.dom;return p&&p.hasAttribute?p.hasAttribute(c):!1},Wu=function(a,c){a.dom.removeAttribute(c)},Cy=function(a,c,p){if(!i(p))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",p,":: Element ",a),new Error("CSS value must be a string: "+p);Za(a)&&a.style.setProperty(c,p)},pf=function(a,c){Za(a)&&a.style.removeProperty(c)},Ur=function(a,c,p){var w=a.dom;Cy(w,c,p)},$l=function(a,c){var p=a.dom;Bn(c,function(w,M){Cy(p,M,w)})},Ma=function(a,c){var p=a.dom;Bn(c,function(w,M){w.fold(function(){pf(p,M)},function(A){Cy(p,M,A)})})},ka=function(a,c){var p=a.dom,w=window.getComputedStyle(p),M=w.getPropertyValue(c);return M===""&&!Or(a)?xu(p,c):M},xu=function(a,c){return Za(a)?a.style.getPropertyValue(c):""},eu=function(a,c){var p=a.dom,w=xu(p,c);return $.from(w).filter(function(M){return M.length>0})},Eh=function(a){var c={},p=a.dom;if(Za(p))for(var w=0;w<p.style.length;w++){var M=p.style.item(w);c[M]=p.style[M]}return c},bc=function(a,c,p){var w=He.fromTag(a);Ur(w,c,p);var M=eu(w,c);return M.isSome()},ri=function(a,c){var p=a.dom;pf(p,c),Br(wa(a,"style").map(xa),"")&&Wu(a,"style")},Ji=function(a){return a.dom.offsetWidth},Hs=function(a,c){var p=function(j,W){if(!_(W)&&!W.match(/^[0-9]+$/))throw new Error(a+".set accepts only positive integer values. Value was "+W);var K=j.dom;Za(K)&&(K.style[a]=W+"px")},w=function(j){var W=c(j);if(W<=0||W===null){var K=ka(j,a);return parseFloat(K)||0}return W},M=w,A=function(j,W){return Ft(W,function(K,oe){var se=ka(j,oe),be=se===void 0?0:parseInt(se,10);return isNaN(be)?K:K+be},0)},N=function(j,W,K){var oe=A(j,K),se=W>oe?W-oe:0;return se};return{set:p,get:w,getOuter:M,aggregate:A,max:N}},Jf=Hs("height",function(a){var c=a.dom;return Or(a)?c.getBoundingClientRect().height:c.offsetHeight}),fu=function(a){return Jf.get(a)},Gl=function(a){return Jf.getOuter(a)},Ub=function(a,c){var p=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],w=Jf.max(a,c,p);Ur(a,"max-height",w+"px")},Oh=function(a,c){var p=function(w,M){return Oh(a+w,c+M)};return{left:a,top:c,translate:p}},Oi=Oh,Pc=function(a){var c=a.getBoundingClientRect();return Oi(c.left,c.top)},Ld=function(a,c){return a!==void 0?a:c!==void 0?c:0},ol=function(a){var c=a.dom.ownerDocument,p=c.body,w=c.defaultView,M=c.documentElement;if(p===a.dom)return Oi(p.offsetLeft,p.offsetTop);var A=Ld(w==null?void 0:w.pageYOffset,M.scrollTop),N=Ld(w==null?void 0:w.pageXOffset,M.scrollLeft),j=Ld(M.clientTop,p.clientTop),W=Ld(M.clientLeft,p.clientLeft);return La(a).translate(N-W,A-j)},La=function(a){var c=a.dom,p=c.ownerDocument,w=p.body;return w===c?Oi(w.offsetLeft,w.offsetTop):Or(a)?Pc(c):Oi(0,0)},Bd=Hs("width",function(a){return a.dom.offsetWidth}),Zf=function(a,c){return Bd.set(a,c)},Cs=function(a){return Bd.get(a)},il=function(a){return Bd.getOuter(a)},as=function(a,c){var p=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],w=Bd.max(a,c,p);Ur(a,"max-width",w+"px")},Ip=function(a,c,p,w,M,A,N){return{target:a,x:c,y:p,stop:w,prevent:M,kill:A,raw:N}},Nc=function(a){var c=He.fromDom(Vr(a).getOr(a.target)),p=function(){return a.stopPropagation()},w=function(){return a.preventDefault()},M=I(w,p);return Ip(c,a.clientX,a.clientY,p,w,M,a)},wu=function(a,c){return function(p){a(p)&&c(Nc(p))}},rg=function(a,c,p,w,M){var A=wu(p,w);return a.dom.addEventListener(c,A,M),{unbind:Y(Rh,a,c,A,M)}},qb=function(a,c,p,w){return rg(a,c,p,w,!1)},Ih=function(a,c,p,w){return rg(a,c,p,w,!0)},Rh=function(a,c,p,w){a.dom.removeEventListener(c,p,w)},Ba=function(a,c){var p=sa(a);p.each(function(w){w.dom.insertBefore(c.dom,a.dom)})},Ph=function(a,c){var p=ue(a);p.fold(function(){var w=sa(a);w.each(function(M){Ts(M,c)})},function(w){Ba(w,c)})},Nh=function(a,c){var p=ee(a);p.fold(function(){Ts(a,c)},function(w){a.dom.insertBefore(c.dom,w.dom)})},Ts=function(a,c){a.dom.appendChild(c.dom)},Qf=function(a,c,p){V(a,p).fold(function(){Ts(a,c)},function(w){Ba(w,c)})},Lh=function(a,c){Fe(c,function(p){Ba(a,p)})},ed=function(a,c){Fe(c,function(p){Ts(a,p)})},fa=function(a){a.dom.textContent="",Fe(U(a),function(c){Ml(c)})},Ml=function(a){var c=a.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},Iv=function(a){var c=U(a);c.length>0&&Lh(a,c),Ml(a)},Xl=function(a){var c=a!==void 0?a.dom:document,p=c.body.scrollLeft||c.documentElement.scrollLeft,w=c.body.scrollTop||c.documentElement.scrollTop;return Oi(p,w)},Rv=function(a,c,p){var w=p!==void 0?p.dom:document,M=w.defaultView;M&&M.scrollTo(a,c)},$b=function(a){var c=a===void 0?window:a;return Cr().browser.isFirefox()?$.none():$.from(c.visualViewport)},Ty=function(a,c,p,w){return{x:a,y:c,width:p,height:w,right:a+p,bottom:c+w}},Bh=function(a){var c=a===void 0?window:a,p=c.document,w=Xl(He.fromDom(p));return $b(c).fold(function(){var M=c.document.documentElement,A=M.clientWidth,N=M.clientHeight;return Ty(w.left,w.top,A,N)},function(M){return Ty(Math.max(M.pageLeft,w.left),Math.max(M.pageTop,w.top),M.width,M.height)})},zh=function(a,c){var p=a.view(c);return p.fold(L([]),function(w){var M=a.owner(w),A=zh(a,M);return[w].concat(A)})},zd=function(a,c){var p=c.owner(a),w=zh(c,p);return $.some(w)},Xr=function(a){var c,p=a.dom===document?$.none():$.from((c=a.dom.defaultView)===null||c===void 0?void 0:c.frameElement);return p.map(He.fromDom)},xc=function(a){return ua(a)},al=Object.freeze({__proto__:null,view:Xr,owner:xc}),Ms=function(a){var c=He.fromDom(document),p=Xl(c),w=zd(a,al);return w.fold(Y(ol,a),function(M){var A=La(a),N=st(M,function(j,W){var K=La(W);return{left:j.left+K.left,top:j.top+K.top}},{left:0,top:0});return Oi(N.left+A.left+p.left,N.top+A.top+p.top)})},wc=function(a,c,p){return{point:a,width:c,height:p}},$a=function(a,c,p,w){return{x:a,y:c,width:p,height:w}},_u=function(a,c,p,w){return{x:a,y:c,width:p,height:w,right:a+p,bottom:c+w}},tu=function(a){var c=ol(a),p=il(a),w=Gl(a);return _u(c.left,c.top,p,w)},Fd=function(a){var c=Ms(a),p=il(a),w=Gl(a);return _u(c.left,c.top,p,w)},us=function(){return Bh(window)},or=function(a){var c=function(se){return or(a)},p=function(se){return or(a)},w=function(se){return or(se(a))},M=function(se){return or(a)},A=function(se){se(a)},N=function(se){return se(a)},j=function(se,be){return be(a)},W=function(se){return se(a)},K=function(se){return se(a)},oe=function(){return $.some(a)};return{isValue:le,isError:ie,getOr:L(a),getOrThunk:L(a),getOrDie:L(a),or:c,orThunk:p,fold:j,map:w,mapError:M,each:A,bind:N,exists:W,forall:K,toOptional:oe}},Fh=function(a){var c=function(K){return K()},p=function(){return te(String(a))()},w=q,M=function(K){return K()},A=function(K){return Fh(a)},N=function(K){return Fh(K(a))},j=function(K){return Fh(a)},W=function(K,oe){return K(a)};return{isValue:ie,isError:le,getOr:q,getOrThunk:c,getOrDie:p,or:w,orThunk:M,fold:W,map:A,mapError:N,each:E,bind:j,exists:ie,forall:le,toOptional:$.none}},My=function(a,c){return a.fold(function(){return Fh(c)},or)},fo={value:or,error:Fh,fromOption:My},Ii;(function(a){a[a.Error=0]="Error",a[a.Value=1]="Value"})(Ii||(Ii={}));var Pv=function(a,c,p){return a.stype===Ii.Error?c(a.serror):p(a.svalue)},mf=function(a){var c=[],p=[];return Fe(a,function(w){Pv(w,function(M){return p.push(M)},function(M){return c.push(M)})}),{values:c,errors:p}},ca=function(a,c){return a.stype===Ii.Error?{stype:Ii.Error,serror:c(a.serror)}:a},Nv=function(a,c){return a.stype===Ii.Value?{stype:Ii.Value,svalue:c(a.svalue)}:a},kl=function(a,c){return a.stype===Ii.Value?c(a.svalue):a},og=function(a,c){return a.stype===Ii.Error?c(a.serror):a},yo=function(a){return{stype:Ii.Value,svalue:a}},js=function(a){return{stype:Ii.Error,serror:a}},s_=function(a){return Pv(a,fo.error,fo.value)},l_=function(a){return a.fold(js,yo)},da={fromResult:l_,toResult:s_,svalue:yo,partition:mf,serror:js,bind:kl,bindError:og,map:Nv,mapError:ca,fold:Pv},Lv=function(a,c,p,w){return{tag:"field",key:a,newKey:c,presence:p,prop:w}},J=function(a,c){return{tag:"custom",newKey:a,instantiator:c}},me=function(a,c,p){switch(a.tag){case"field":return c(a.key,a.newKey,a.presence,a.prop);case"custom":return p(a.newKey,a.instantiator)}},xe=function(a,c){return c},Ve=function(a,c){var p=u(a)&&u(c);return p?Zt(a,c):c},yt=function(a){return function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];if(c.length===0)throw new Error("Can't merge zero objects");for(var w={},M=0;M<c.length;M++){var A=c[M];for(var N in A)ln(A,N)&&(w[N]=a(w[N],A[N]))}return w}},Zt=yt(Ve),vr=yt(xe),Zr=function(){return{tag:"required",process:{}}},Io=function(a){return{tag:"defaultedThunk",process:a}},bo=function(a){return Io(L(a))},zi=function(){return{tag:"option",process:{}}},ss=function(a){return{tag:"mergeWithThunk",process:a}},Da=function(a){return ss(L(a))},b5=function(a,c){return a.length>0?da.svalue(Zt(c,vr.apply(void 0,a))):da.svalue(c)},NM=function(a){return I(da.serror,Xe)(a)},LM=function(a,c){var p=da.partition(a);return p.errors.length>0?NM(p.errors):b5(p.values,c)},x5=function(a){var c=da.partition(a);return c.errors.length>0?NM(c.errors):da.svalue(c.values)},td={consolidateObj:LM,consolidateArr:x5},ky=function(a){return u(a)&&Tt(a).length>100?" removed due to size":JSON.stringify(a,null,2)},Dl=function(a){var c=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:L("... (only showing first ten failures)")}]):a;return Je(c,function(p){return"Failed path: ("+p.path.join(" > ")+`)
`+p.getErrorInfo()})},Bv=function(a,c){return da.serror([{path:a,getErrorInfo:c}])},c_=function(a,c,p){return Bv(a,function(){return'Could not find valid *required* value for "'+c+'" in '+ky(p)})},Dy=function(a,c){return Bv(a,function(){return'Choice schema did not contain choice key: "'+c+'"'})},Gb=function(a,c,p){return Bv(a,function(){return'The chosen schema: "'+p+'" did not exist in branches: '+ky(c)})},BM=function(a,c){return Bv(a,function(){return"There are unsupported fields: ["+c.join(", ")+"] specified"})},w5=function(a,c){return Bv(a,L(c))},nd=function(a){var c=function(w,M){return da.bindError(a(M),function(A){return w5(w,A)})},p=L("val");return{extract:c,toString:p}},Ay=nd(da.svalue),_5=function(a,c,p,w){return Pt(c,p).fold(function(){return c_(a,p,c)},w)},f_=function(a,c,p,w){var M=Pt(a,c).getOrThunk(function(){return p(a)});return w(M)},S5=function(a,c,p){return p(Pt(a,c))},C5=function(a,c,p,w){var M=Pt(a,c).map(function(A){return A===!0?p(a):A});return w(M)},zv=function(a,c,p,w,M){var A=function(j){return M.extract(c.concat([w]),j)},N=function(j){return j.fold(function(){return da.svalue($.none())},function(W){var K=M.extract(c.concat([w]),W);return da.map(K,$.some)})};switch(a.tag){case"required":return _5(c,p,w,A);case"defaultedThunk":return f_(p,w,a.process,A);case"option":return S5(p,w,N);case"defaultedOptionThunk":return C5(p,w,a.process,N);case"mergeWithThunk":return f_(p,w,L({}),function(j){var W=Zt(a.process(p),j);return A(W)})}},Ey=function(a,c,p){for(var w={},M=[],A=0,N=p;A<N.length;A++){var j=N[A];me(j,function(W,K,oe,se){var be=zv(oe,a,c,W,se);da.fold(be,function(_e){M.push.apply(M,_e)},function(_e){w[K]=_e})},function(W,K){w[W]=K(c)})}return M.length>0?da.serror(M):da.svalue(w)},zM=function(a){var c=function(w,M){return a().extract(w,M)},p=function(){return a().toString()};return{extract:c,toString:p}},FM=function(a){return Tt(wn(a,b))},Yl=function(a){var c=Sr(a),p=st(a,function(M,A){return me(A,function(N){var j;return Zt(M,(j={},j[N]=!0,j))},L(M))},{}),w=function(M,A){var N=h(A)?[]:FM(A),j=Ye(N,function(W){return!Kn(p,W)});return j.length===0?c.extract(M,A):BM(M,j)};return{extract:w,toString:c.toString}},Sr=function(a){var c=function(w,M){return Ey(w,M,a)},p=function(){var w=Je(a,function(M){return me(M,function(A,N,j,W){return A+" -> "+W.toString()},function(A,N){return"state("+A+")"})});return`obj{
`+w.join(`
`)+"}"};return{extract:c,toString:p}},Vh=function(a){var c=function(w,M){var A=Je(M,function(N,j){return a.extract(w.concat(["["+j+"]"]),N)});return td.consolidateArr(A)},p=function(){return"array("+a.toString()+")"};return{extract:c,toString:p}},Oy=function(a){var c=function(w,M){for(var A=[],N=0,j=a;N<j.length;N++){var W=j[N],K=W.extract(w,M);if(K.stype===Ii.Value)return K;A.push(K)}return td.consolidateArr(A)},p=function(){return"oneOf("+Je(a,function(w){return w.toString()}).join(", ")+")"};return{extract:c,toString:p}},Rp=function(a,c){var p=function(A,N){return Vh(nd(a)).extract(A,N)},w=function(A,N){var j=Tt(N),W=p(A,j);return da.bind(W,function(K){var oe=Je(K,function(se){return Lv(se,se,Zr(),c)});return Sr(oe).extract(A,N)})},M=function(){return"setOf("+c.toString()+")"};return{extract:w,toString:M}},Fv=function(a,c){var p=wt(c),w=function(A,N){return p().extract(A,N)},M=function(){return p().toString()};return{extract:w,toString:M}},d_=I(Vh,Sr),gf=L(Ay),ig=function(a,c){return nd(function(p){var w=typeof p;return a(p)?da.svalue(p):da.serror("Expected type: "+c+" but got: "+w)})},Vv=ig(_,"number"),Ga=ig(i,"string"),Uu=ig(h,"boolean"),Iy=ig(S,"function"),Vd=function(a){if(Object(a)!==a)return!0;switch({}.toString.call(a).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(a).every(function(c){return Vd(a[c])});default:return!1}},Ry=nd(function(a){return Vd(a)?da.svalue(a):da.serror("Expected value to be acceptable for sending via postMessage")}),Xb=function(a,c,p,w){var M=Pt(p,w);return M.fold(function(){return Gb(a,p,w)},function(A){return A.extract(a.concat(["branch: "+w]),c)})},Yb=function(a,c){var p=function(M,A){var N=Pt(A,a);return N.fold(function(){return Dy(M,a)},function(j){return Xb(M,A,c,j)})},w=function(){return"chooseOn("+a+"). Possible values: "+Tt(c)};return{extract:p,toString:w}},T5=function(){return Vh(Ay)},Hv=function(a){return nd(function(c){return a(c).fold(da.serror,da.svalue)})},ks=function(a,c){return Rp(function(p){return da.fromResult(a(p))},c)},VM=function(a,c,p){var w=c.extract([a],p);return da.mapError(w,function(M){return{input:p,errors:M}})},_a=function(a,c,p){return da.toResult(VM(a,c,p))},vf=function(a){return a.fold(function(c){throw new Error(Pp(c))},q)},mi=function(a,c,p){return vf(_a(a,c,p))},Pp=function(a){return`Errors: 
`+Dl(a.errors).join(`
`)+`

Input object: `+ky(a.input)},Lc=function(a,c){return Yb(a,bn(c,Sr))},M5=function(a,c){return Fv(a,c)},Su=Lv,ul=J,HM=function(a){return Hv(function(c){return Ot(a,c)?fo.value(c):fo.error('Unsupported value: "'+c+'", choose one of "'+a.join(", ")+'".')})},on=function(a){return Su(a,a,Zr(),gf())},Al=function(a,c){return Su(a,a,Zr(),c)},Hh=function(a){return Al(a,Vv)},Yr=function(a){return Al(a,Ga)},_c=function(a,c){return Su(a,a,Zr(),HM(c))},k5=function(a){return Al(a,Uu)},Ws=function(a){return Al(a,Iy)},jv=function(a,c){return Su(a,a,zi(),nd(function(p){return da.serror("The field: "+a+" is forbidden. "+c)}))},Hd=function(a,c){return Su(a,a,Zr(),Sr(c))},yf=function(a,c){return Su(a,a,Zr(),d_(c))},Ds=function(a,c){return Su(a,a,Zr(),Vh(c))},oi=function(a){return Su(a,a,zi(),gf())},rd=function(a,c){return Su(a,a,zi(),c)},ag=function(a){return rd(a,Vv)},qi=function(a){return rd(a,Ga)},Np=function(a){return rd(a,Iy)},Kl=function(a,c){return rd(a,Vh(c))},Jl=function(a,c){return rd(a,Sr(c))},D5=function(a,c){return rd(a,Yl(c))},dt=function(a,c){return Su(a,a,bo(c),gf())},sl=function(a,c,p){return Su(a,a,bo(c),p)},od=function(a,c){return sl(a,c,Vv)},Wv=function(a,c){return sl(a,c,Ga)},Sc=function(a,c,p){return sl(a,c,HM(p))},Ri=function(a,c){return sl(a,c,Uu)},$i=function(a,c){return sl(a,c,Iy)},El=function(a,c){return sl(a,c,Ry)},jh=function(a,c,p){return sl(a,c,Vh(p))},h_=function(a,c,p){return sl(a,c,Sr(p))},Er=function(a){var c=a,p=function(){return c},w=function(M){c=M};return{get:p,set:w}},Kb=function(a){if(!l(a))throw new Error("cases must be an array");if(a.length===0)throw new Error("there must be at least one case");var c=[],p={};return Fe(a,function(w,M){var A=Tt(w);if(A.length!==1)throw new Error("one and only one name per case");var N=A[0],j=w[N];if(p[N]!==void 0)throw new Error("duplicate key detected:"+N);if(N==="cata")throw new Error("cannot have a case named cata (sorry)");if(!l(j))throw new Error("case arguments must be an array");c.push(N),p[N]=function(){for(var W=[],K=0;K<arguments.length;K++)W[K]=arguments[K];var oe=W.length;if(oe!==j.length)throw new Error("Wrong number of arguments to case "+N+". Expected "+j.length+" ("+j+"), got "+oe);var se=function(be){var _e=Tt(be);if(c.length!==_e.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+_e.join(","));var Ee=Mn(c,function(je){return Ot(_e,je)});if(!Ee)throw new Error("Not all branches were specified when using match. Specified: "+_e.join(", ")+`
Required: `+c.join(", "));return be[N].apply(null,W)};return{fold:function(){for(var be=[],_e=0;_e<arguments.length;_e++)be[_e]=arguments[_e];if(be.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+be.length);var Ee=be[M];return Ee.apply(null,W)},match:se,log:function(be){console.log(be,{constructors:c,constructor:N,params:W})}}}}),p},Cc={generate:Kb};Cc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var jM=function(a){var c=[],p=[];return Fe(a,function(w){w.fold(function(M){c.push(M)},function(M){p.push(M)})}),{errors:c,values:p}},Py=function(a,c){var p={};return Bn(a,function(w,M){Ot(c,M)||(p[M]=w)}),p},Ny=function(a,c){var p;return p={},p[a]=c,p},p_=function(a){var c={};return Fe(a,function(p){c[p.key]=p.value}),c},m_=function(a,c){return Py(a,c)},jd=function(a,c){return Ny(a,c)},Wh=function(a){return p_(a)},A5=function(a,c){return a.length===0?fo.value(c):fo.value(Zt(c,vr.apply(void 0,a)))},g_=function(a){return fo.error(Xe(a))},E5=function(a,c){var p=jM(a);return p.errors.length>0?g_(p.errors):A5(p.values,c)},WM=function(a){return S(a)?a:ie},Ly=function(a,c,p){for(var w=a.dom,M=WM(p);w.parentNode;){w=w.parentNode;var A=He.fromDom(w),N=c(A);if(N.isSome())return N;if(M(A))break}return $.none()},Uv=function(a,c,p){var w=c(a),M=WM(p);return w.orThunk(function(){return M(a)?$.none():Ly(a,c,M)})},UM=function(a,c){return si(a.element,c.event.target)},Wd={can:le,abort:ie,run:E},qv=function(a){if(!Kn(a,"can")&&!Kn(a,"abort")&&!Kn(a,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(a,null,2)+" does not have can, abort, or run!");return ne(ne({},Wd),a)},v_=function(a,c){return function(){for(var p=[],w=0;w<arguments.length;w++)p[w]=arguments[w];return Ft(a,function(M,A){return M&&c(A).apply(void 0,p)},!0)}},qM=function(a,c){return function(){for(var p=[],w=0;w<arguments.length;w++)p[w]=arguments[w];return Ft(a,function(M,A){return M||c(A).apply(void 0,p)},!1)}},O5=function(a){return S(a)?{can:le,abort:ie,run:a}:a},I5=function(a){var c=v_(a,function(M){return M.can}),p=qM(a,function(M){return M.abort}),w=function(){for(var M=[],A=0;A<arguments.length;A++)M[A]=arguments[A];Fe(a,function(N){N.run.apply(void 0,M)})};return{can:c,abort:p,run:w}},du=L,Ud=du("touchstart"),bf=du("touchmove"),Lp=du("touchend"),$M=du("touchcancel"),xf=du("mousedown"),ug=du("mousemove"),y_=du("mouseout"),b_=du("mouseup"),Uh=du("mouseover"),Bc=du("focusin"),ls=du("focusout"),Jb=du("keydown"),x_=du("keyup"),sg=du("input"),$v=du("change"),Gv=du("click"),R5=du("transitioncancel"),Xv=du("transitionend"),w_=du("transitionstart"),P5=du("selectstart"),Aa=function(a){return L("alloy."+a)},Zb={tap:Aa("tap")},Bp=Aa("focus"),__=Aa("blur.post"),S_=Aa("paste.post"),zc=Aa("receive"),Tc=Aa("execute"),lg=Aa("focus.item"),zp=Zb.tap,Qb=Aa("longpress"),By=Aa("sandbox.close"),C_=Aa("typeahead.cancel"),cg=Aa("system.init"),ex=Aa("system.touchmove"),N5=Aa("system.touchend"),T_=Aa("system.scroll"),Mc=Aa("system.resize"),Zl=Aa("system.attached"),Yv=Aa("system.detached"),wf=Aa("system.dismissRequested"),Us=Aa("system.repositionRequested"),tx=Aa("focusmanager.shifted"),qh=Aa("slotcontainer.visibility"),GM=Aa("change.tab"),cs=Aa("dismiss.tab"),XM=Aa("highlight"),zy=Aa("dehighlight"),ko=function(a,c){_f(a,a.element,c,{})},Ir=function(a,c,p){_f(a,a.element,c,p)},$h=function(a){ko(a,Tc())},M_=function(a,c,p){_f(a,c,p,{})},_f=function(a,c,p,w){var M=ne({target:c},w);a.getSystem().triggerEvent(p,c,M)},YM=function(a,c,p,w){a.getSystem().triggerEvent(p,c,w.event)},Gi=function(a){return Wh(a)},k_=function(a,c){return{key:a,value:qv({abort:c})}},Fy=function(a,c){return{key:a,value:qv({can:c})}},nx=function(a){return{key:a,value:qv({run:function(c,p){p.event.prevent()}})}},fn=function(a,c){return{key:a,value:qv({run:c})}},Vy=function(a,c,p){return{key:a,value:qv({run:function(w,M){c.apply(void 0,[w,M].concat(p))}})}},Kv=function(a){return function(c){return fn(a,c)}},Jv=function(a){return function(c){return{key:a,value:qv({run:function(p,w){UM(p,w)&&c(p,w)}})}}},fg=function(a,c){return fn(a,function(p,w){p.getSystem().getByUid(c).each(function(M){YM(M,M.element,a,w)})})},dg=function(a,c,p){var w=c.partUids[p];return fg(a,w)},Fp=function(a,c){return fn(a,function(p,w){var M=w.event,A=p.getSystem().getByDom(M.target).getOrThunk(function(){var N=Uv(M.target,function(j){return p.getSystem().getByDom(j).toOptional()},ie);return N.getOr(p)});c(p,A,w)})},Xa=function(a){return fn(a,function(c,p){p.cut()})},na=function(a){return fn(a,function(c,p){p.stop()})},Gh=function(a,c){return Jv(a)(c)},ha=Jv(Zl()),Ql=Jv(Yv()),D_=Jv(cg()),Sf=Kv(Tc()),rx=function(a,c){var p=c||document,w=p.createElement("div");return w.innerHTML=a,U(He.fromDom(w))},Ol=function(a){return a.dom.innerHTML},id=function(a,c){var p=ua(a),w=p.dom,M=He.fromDom(w.createDocumentFragment()),A=rx(c,w);ed(M,A),fa(a),Ts(a,M)},Xh=function(a){var c=He.fromTag("div"),p=He.fromDom(a.dom.cloneNode(!0));return Ts(c,p),Ol(c)},qu=function(a,c){return He.fromDom(a.dom.cloneNode(c))},ox=function(a){return qu(a,!1)},As=function(a){if(gt(a))return"#shadow-root";var c=ox(a);return Xh(c)},$u=function(a){return As(a)},Zv=function(a,c,p){return si(c,a.element)&&!si(c,p)},L5=Gi([Fy(Bp(),function(a,c){var p=c.event,w=p.originator,M=p.target;return Zv(a,w,M)?(console.warn(Bp()+` did not get interpreted by the desired target. 
Originator: `+$u(w)+`
Target: `+$u(M)+`
Check the `+Bp()+" event handlers"),!1):!0})]),Hy=Object.freeze({__proto__:null,events:L5}),hu=0,ir=function(a){var c=new Date,p=c.getTime(),w=Math.floor(Math.random()*1e9);return hu++,a+"_"+w+hu+String(p)},Fc=L("alloy-id-"),B5=L("data-alloy-id"),KM=Fc(),Qv=B5(),JM=function(a,c){var p=ir(KM+a);return jy(c,p),p},jy=function(a,c){Object.defineProperty(a.dom,Qv,{value:c,writable:!0})},qd=function(a){var c=he(a)?a.dom[Qv]:null;return $.from(c)},hg=function(a){return ir(a)},A_=q,ad=function(a){var c=function(M){return"The component must be in a context to execute: "+M+(a?`
`+$u(a().element)+" is not in context.":"")},p=function(M){return function(){throw new Error(c(M))}},w=function(M){return function(){console.warn(c(M))}};return{debugInfo:L("fake"),triggerEvent:w("triggerEvent"),triggerFocus:w("triggerFocus"),triggerEscape:w("triggerEscape"),broadcast:w("broadcast"),broadcastOn:w("broadcastOn"),broadcastEvent:w("broadcastEvent"),build:p("build"),addToWorld:p("addToWorld"),removeFromWorld:p("removeFromWorld"),addToGui:p("addToGui"),removeFromGui:p("removeFromGui"),getByUid:p("getByUid"),getByDom:p("getByDom"),isConnected:ie}},z5=ad(),pg=function(a,c,p){var w=p.toString(),M=w.indexOf(")")+1,A=w.indexOf("("),N=w.substring(A+1,M-1).split(/,\s*/);return a.toFunctionAnnotation=function(){return{name:c,parameters:$d(N.slice(0,1).concat(N.slice(3)))}},a},$d=function(a){return Je(a,function(c){return dr(c,"/*")?c.substring(0,c.length-2):c})},Vp=function(a,c){var p=a.toString(),w=p.indexOf(")")+1,M=p.indexOf("("),A=p.substring(M+1,w-1).split(/,\s*/);return a.toFunctionAnnotation=function(){return{name:c,parameters:$d(A)}},a},mg=function(a,c){var p=c.toString(),w=p.indexOf(")")+1,M=p.indexOf("("),A=p.substring(M+1,w-1).split(/,\s*/);return a.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:$d(A.slice(1))}},a},ZM=ir("alloy-premade"),nu=function(a){return jd(ZM,a)},Hp=function(a){return Pt(a,ZM)},gg=function(a){return mg(function(c){for(var p=[],w=1;w<arguments.length;w++)p[w-1]=arguments[w];return a.apply(void 0,Ce([c.getApis(),c],p,!1))},a)},ec={init:function(){return Gu({readState:L("No State required")})}},Gu=function(a){return a},F5=function(a,c){var p=Je(c,function(M){return Jl(M.name(),[on("config"),dt("state",ec)])}),w=_a("component.behaviours",Sr(p),a.behaviours).fold(function(M){throw new Error(Pp(M)+`
Complete spec:
`+JSON.stringify(a,null,2))},q);return{list:c,data:bn(w,function(M){var A=M.map(function(N){return{config:N.config,state:N.state.init(N.config)}});return L(A)})}},V5=function(a){return a.list},H5=function(a){return a.data},QM=function(a,c){var p={};return Bn(a,function(w,M){Bn(w,function(A,N){var j=Pt(p,N).getOr([]);p[N]=j.concat([c(M,A)])})}),p},ud=function(a){return{classes:g(a.classes)?[]:a.classes,attributes:g(a.attributes)?{}:a.attributes,styles:g(a.styles)?{}:a.styles}},ix=function(a,c){return ne(ne({},a),{attributes:ne(ne({},a.attributes),c.attributes),styles:ne(ne({},a.styles),c.styles),classes:a.classes.concat(c.classes)})},e0=function(a,c,p,w){var M=ne({},c);Fe(p,function(oe){M[oe.name()]=oe.exhibit(a,w)});var A=QM(M,function(oe,se){return{name:oe,modification:se}}),N=function(oe){return st(oe,function(se,be){return ne(ne({},be.modification),se)},{})},j=st(A.classes,function(oe,se){return se.modification.concat(oe)},[]),W=N(A.attributes),K=N(A.styles);return ud({classes:j,attributes:W,styles:K})},j5=function(a,c,p,w){try{var M=Mo(p,function(A,N){var j=A[c],W=N[c],K=w.indexOf(j),oe=w.indexOf(W);if(K===-1)throw new Error("The ordering for "+a+" does not have an entry for "+j+`.
Order specified: `+JSON.stringify(w,null,2));if(oe===-1)throw new Error("The ordering for "+a+" does not have an entry for "+W+`.
Order specified: `+JSON.stringify(w,null,2));return K<oe?-1:oe<K?1:0});return fo.value(M)}catch(A){return fo.error([A])}},E_=function(a,c){return{handler:a,purpose:c}},ek=function(a,c){return{cHandler:a,purpose:c}},O_=function(a,c){return ek(Y.apply(void 0,[a.handler].concat(c)),a.purpose)},I_=function(a){return a.cHandler},jp=function(a,c){return{name:a,handler:c}},Wp=function(a,c){var p={};return Fe(a,function(w){p[w.name()]=w.handlers(c)}),p},Fi=function(a,c,p){var w=ne(ne({},p),Wp(c,a));return QM(w,jp)},R_=function(a,c,p,w){var M=Fi(a,p,w);return U5(M,c)},Vc=function(a){var c=O5(a);return function(p,w){for(var M=[],A=2;A<arguments.length;A++)M[A-2]=arguments[A];var N=[p,w].concat(M);c.abort.apply(void 0,N)?w.stop():c.can.apply(void 0,N)&&c.run.apply(void 0,N)}},P_=function(a,c){return fo.error(["The event ("+a+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Je(c,function(p){return p.name}),null,2)])},W5=function(a,c,p){var w=c[p];return w?j5("Event: "+p,"name",a,w).map(function(M){var A=Je(M,function(N){return N.handler});return I5(A)}):P_(p,a)},U5=function(a,c){var p=er(a,function(w,M){var A=w.length===1?fo.value(w[0].handler):W5(w,c,M);return A.map(function(N){var j=Vc(N),W=w.length>1?Ye(c[M],function(K){return Nt(w,function(oe){return oe.name===K})}).join(" > "):w[0].name;return jd(M,E_(j,W))})});return E5(p,{})},ll,Cf="alloy.base.behaviour",N_=Sr([Su("dom","dom",Zr(),Sr([on("tag"),dt("styles",{}),dt("classes",[]),dt("attributes",{}),oi("value"),oi("innerHtml")])),on("components"),on("uid"),dt("events",{}),dt("apis",{}),Su("eventOrder","eventOrder",Da((ll={},ll[Tc()]=["disabling",Cf,"toggling","typeaheadevents"],ll[Bp()]=[Cf,"focusing","keying"],ll[cg()]=[Cf,"disabling","toggling","representing"],ll[sg()]=[Cf,"representing","streaming","invalidating"],ll[Yv()]=[Cf,"representing","item-events","tooltipping"],ll[xf()]=["focusing",Cf,"item-type-events"],ll[Ud()]=["focusing",Cf,"item-type-events"],ll[Uh()]=["item-type-events","tooltipping"],ll[zc()]=["receiving","reflecting","tooltipping"],ll)),gf()),oi("domModification")]),Wy=function(a){return _a("custom.definition",N_,a)},t0=function(a){return ne(ne({},a.dom),{uid:a.uid,domChildren:Je(a.components,function(c){return c.element})})},L_=function(a){return a.domModification.fold(function(){return ud({})},ud)},tk=function(a){return a.events},Up=function(a,c){var p=la(a,c);return p===void 0||p===""?[]:p.split(" ")},B_=function(a,c,p){var w=Up(a,c),M=w.concat([p]);return so(a,c,M.join(" ")),!0},z_=function(a,c,p){var w=Ye(Up(a,c),function(M){return M!==p});return w.length>0?so(a,c,w.join(" ")):Wu(a,c),!1},ax=function(a){return a.dom.classList!==void 0},ux=function(a){return Up(a,"class")},vg=function(a,c){return B_(a,"class",c)},nk=function(a,c){return z_(a,"class",c)},Xu=function(a,c){ax(a)?a.dom.classList.add(c):vg(a,c)},sd=function(a){var c=ax(a)?a.dom.classList:ux(a);c.length===0&&Wu(a,"class")},pu=function(a,c){if(ax(a)){var p=a.dom.classList;p.remove(c)}else nk(a,c);sd(a)},cl=function(a,c){return ax(a)&&a.dom.classList.contains(c)},Yh=function(a,c){Fe(c,function(p){Xu(a,p)})},Gd=function(a,c){Fe(c,function(p){pu(a,p)})},F_=function(a,c){return Mn(c,function(p){return cl(a,p)})},tc=function(a){return a.dom.value},n0=function(a,c){if(c===void 0)throw new Error("Value.set was undefined");a.dom.value=c},rk=function(a){var c=He.fromTag(a.tag);ql(c,a.attributes),Yh(c,a.classes),$l(c,a.styles),a.innerHtml.each(function(w){return id(c,w)});var p=a.domChildren;if(ed(c,p),a.value.each(function(w){n0(c,w)}),!a.uid)debugger;return jy(c,a.uid),c},q5=function(a){var c=Pt(a,"behaviours").getOr({});return Bt(Tt(c),function(p){var w=c[p];return b(w)?[w.me]:[]})},$5=function(a,c){return F5(a,c)},G5=function(a){var c=q5(a);return $5(a,c)},X5=function(a,c,p){var w=t0(a),M=L_(a),A={"alloy.base.modification":M},N=c.length>0?e0(p,A,c,w):M;return ix(w,N)},V_=function(a,c,p){var w={"alloy.base.behaviour":tk(a)};return R_(p,a.eventOrder,c,w).getOrDie()},sx=function(a){var c=function(){return ht},p=Er(z5),w=vf(Wy(a)),M=G5(a),A=V5(M),N=H5(M),j=X5(w,A,N),W=rk(j),K=V_(w,A,N),oe=Er(w.components),se=function(Ut){p.set(Ut)},be=function(){p.set(ad(c))},_e=function(){var Ut=U(W),Kt=Bt(Ut,function(ct){return p.get().getByDom(ct).fold(function(){return[]},ao)});oe.set(Kt)},Ee=function(Ut){var Kt=N,ct=S(Kt[Ut.name()])?Kt[Ut.name()]:function(){throw new Error("Could not find "+Ut.name()+" in "+JSON.stringify(a,null,2))};return ct()},je=function(Ut){return S(N[Ut.name()])},ft=function(){return w.apis},Be=function(Ut){return N[Ut]().map(function(Kt){return Kt.state.readState()}).getOr("not enabled")},ht={uid:a.uid,getSystem:p.get,config:Ee,hasConfigured:je,spec:a,readState:Be,getApis:ft,connect:se,disconnect:be,element:W,syncComponents:_e,components:oe.get,events:K};return ht},kc=function(a){var c=Pt(a,"components").getOr([]);return Je(c,ru)},ok=function(a){var c=A_(a),p=c.events,w=Z(c,["events"]),M=kc(w),A=ne(ne({},w),{events:ne(ne({},Hy),p),components:M});return fo.value(sx(A))},qp=function(a){var c=He.fromText(a);return Uy({element:c})},Uy=function(a){var c=mi("external.component",Yl([on("element"),oi("uid")]),a),p=Er(ad()),w=function(j){p.set(j)},M=function(){p.set(ad(function(){return N}))},A=c.uid.getOrThunk(function(){return hg("external")});jy(c.element,A);var N={uid:A,getSystem:p.get,config:$.none,hasConfigured:ie,connect:w,disconnect:M,getApis:function(){return{}},element:c.element,spec:a,readState:L("No state"),syncComponents:E,components:L([]),events:{}};return nu(N)},ld=hg,Hc=function(a){return ln(a,"uid")},ru=function(a){return Hp(a).getOrThunk(function(){var c=Hc(a)?a:ne({uid:ld("")},a);return ok(c).getOrDie()})},Dc=nu;function $p(a,c,p,w,M){return a(p,w)?$.some(p):S(M)&&M(p)?$.none():c(p,w,M)}var H_=function(a,c,p){for(var w=a.dom,M=S(p)?p:ie;w.parentNode;){w=w.parentNode;var A=He.fromDom(w);if(c(A))return $.some(A);if(M(A))break}return $.none()},ho=function(a,c,p){var w=function(M,A){return A(M)};return $p(w,H_,a,c,p)},qy=function(a,c){var p=function(M){return c(He.fromDom(M))},w=Rt(a.dom.childNodes,p);return w.map(He.fromDom)},Y5=function(a,c){var p=function(w){for(var M=0;M<w.childNodes.length;M++){var A=He.fromDom(w.childNodes[M]);if(c(A))return $.some(A);var N=p(w.childNodes[M]);if(N.isSome())return N}return $.none()};return p(a.dom)},lx=function(a,c,p){return ho(a,c,p).isSome()},cx=function(a,c,p){return H_(a,function(w){return Oo(w,c)},p)},K5=function(a,c){return qy(a,function(p){return Oo(p,c)})},mu=function(a,c){return Nd(c,a)},qs=function(a,c,p){var w=function(M,A){return Oo(M,A)};return $p(w,cx,a,c,p)},ra=function(a){var c=ho(a,function(p){if(!he(p))return!1;var w=la(p,"id");return w!==void 0&&w.indexOf("aria-owns")>-1});return c.bind(function(p){var w=la(p,"id"),M=Tr(p);return mu(M,'[aria-owns="'+w+'"]')})},ik=function(){var a=ir("aria-owns"),c=function(w){so(w,"aria-owns",a)},p=function(w){Wu(w,"aria-owns")};return{id:a,link:c,unlink:p}},j_=function(a,c){return ra(c).exists(function(p){return yg(a,p)})},yg=function(a,c){return lx(c,function(p){return si(p,a.element)},ie)||j_(a,c)},ak="unknown",bg;(function(a){a[a.STOP=0]="STOP",a[a.NORMAL=1]="NORMAL",a[a.LOGGING=2]="LOGGING"})(bg||(bg={}));var r0=Er({}),uk=function(a,c){var p=[],w=new Date().getTime();return{logEventCut:function(M,A,N){p.push({outcome:"cut",target:A,purpose:N})},logEventStopped:function(M,A,N){p.push({outcome:"stopped",target:A,purpose:N})},logNoParent:function(M,A,N){p.push({outcome:"no-parent",target:A,purpose:N})},logEventNoHandlers:function(M,A){p.push({outcome:"no-handlers-left",target:A})},logEventResponse:function(M,A,N){p.push({outcome:"response",purpose:N,target:A})},write:function(){var M=new Date().getTime();Ot(["mousemove","mouseover","mouseout",cg()],a)||console.log(a,{event:a,time:M-w,target:c.dom,sequence:Je(p,function(A){return Ot(["cut","stopped","response"],A.outcome)?"{"+A.purpose+"} "+A.outcome+" at ("+$u(A.target)+")":A.outcome})})}}},Xd=function(a,c,p){var w=Pt(r0.get(),a).orThunk(function(){var N=Tt(r0.get());return vt(N,function(j){return a.indexOf(j)>-1?$.some(r0.get()[j]):$.none()})}).getOr(bg.NORMAL);switch(w){case bg.NORMAL:return p(W_());case bg.LOGGING:{var M=uk(a,c),A=p(M);return M.write(),A}case bg.STOP:return!0}},fl=["alloy/data/Fields","alloy/debugging/Debugging"],J5=function(){var a=new Error;if(a.stack!==void 0){var c=a.stack.split(`
`);return Rt(c,function(p){return p.indexOf("alloy")>0&&!Nt(fl,function(w){return p.indexOf(w)>-1})}).getOr(ak)}else return ak},Z5={logEventCut:E,logEventStopped:E,logNoParent:E,logEventNoHandlers:E,logEventResponse:E,write:E},xg=function(a,c,p){return Xd(a,c,p)},W_=L(Z5),Gp=L([on("menu"),on("selectedMenu")]),wg=L([on("item"),on("selectedItem")]);L(Sr(wg().concat(Gp())));var U_=L(Sr(wg())),Q5=Hd("initSize",[on("numColumns"),on("numRows")]),eO=function(){return Al("markers",U_())},_g=function(){return Hd("markers",[on("backgroundMenu")].concat(Gp()).concat(wg()))},Sg=function(a){return Hd("markers",Je(a,on))},fx=function(a,c,p){return J5(),Su(c,c,p,Hv(function(w){return fo.value(function(){for(var M=[],A=0;A<arguments.length;A++)M[A]=arguments[A];return w.apply(void 0,M)})}))},_o=function(a){return fx("onHandler",a,bo(E))},Pi=function(a){return fx("onKeyboardHandler",a,bo($.none))},Cg=function(a){return fx("onHandler",a,Zr())},Xp=function(a){return fx("onKeyboardHandler",a,Zr())},Ci=function(a,c){return ul(a,L(c))},dx=function(a){return ul(a,q)},hx=L(Q5),Yu=function(a,c,p,w,M,A,N,j){return j===void 0&&(j=!1),{x:a,y:c,bubble:p,direction:w,placement:M,restriction:A,label:N+"-"+M,alwaysFit:j}},Yp=Cc.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),px=function(a,c,p,w,M,A,N,j,W){return a.fold(c,p,w,M,A,N,j,W)},tO=function(a,c,p,w){return a.fold(c,c,w,w,c,w,p,p)},nO=function(a,c,p,w){return a.fold(c,w,c,w,p,p,c,w)},mx=Yp.southeast,o0=Yp.southwest,q_=Yp.northeast,gx=Yp.northwest,i0=Yp.south,vx=Yp.north,Il=Yp.east,Tg=Yp.west,Yd=function(a,c,p,w){var M=a+c;return M>w?p:M<p?w:M},Rl=function(a,c,p){return Math.min(Math.max(a,c),p)},sk=function(a,c){switch(c){case 1:return a.x;case 0:return a.x+a.width;case 2:return a.y;case 3:return a.y+a.height}},fs=function(a,c){return pr(["left","right","top","bottom"],function(p){return Pt(c,p).map(function(w){return sk(a,w)})})},$_=function(a,c,p){var w=function(W,K){return c[W].map(function(oe){var se=W==="top"||W==="bottom",be=se?p.top:p.left,_e=W==="left"||W==="top"?Math.max:Math.min,Ee=_e(oe,K)+be;return se?Rl(Ee,a.y,a.bottom):Rl(Ee,a.x,a.right)}).getOr(K)},M=w("left",a.x),A=w("top",a.y),N=w("right",a.right),j=w("bottom",a.bottom);return _u(M,A,N-M,j-A)},Kh="layout",G_=function(a){return a.x},X_=function(a,c){return a.x+a.width/2-c.width/2},lk=function(a,c){return a.x+a.width-c.width},yx=function(a,c){return a.y-c.height},a0=function(a){return a.y+a.height},Y_=function(a,c){return a.y+a.height/2-c.height/2},rO=function(a){return a.x+a.width},oO=function(a,c){return a.x-c.width},Es=function(a,c,p){return Yu(G_(a),a0(a),p.southeast(),mx(),"southeast",fs(a,{left:1,top:3}),Kh)},Cu=function(a,c,p){return Yu(lk(a,c),a0(a),p.southwest(),o0(),"southwest",fs(a,{right:0,top:3}),Kh)},$s=function(a,c,p){return Yu(G_(a),yx(a,c),p.northeast(),q_(),"northeast",fs(a,{left:1,bottom:2}),Kh)},Ku=function(a,c,p){return Yu(lk(a,c),yx(a,c),p.northwest(),gx(),"northwest",fs(a,{right:0,bottom:2}),Kh)},Pl=function(a,c,p){return Yu(X_(a,c),yx(a,c),p.north(),vx(),"north",fs(a,{bottom:2}),Kh)},ds=function(a,c,p){return Yu(X_(a,c),a0(a),p.south(),i0(),"south",fs(a,{top:3}),Kh)},bx=function(a,c,p){return Yu(rO(a),Y_(a,c),p.east(),Il(),"east",fs(a,{left:0}),Kh)},Kp=function(a,c,p){return Yu(oO(a,c),Y_(a,c),p.west(),Tg(),"west",fs(a,{right:1}),Kh)},Jp=function(){return[Es,Cu,$s,Ku,ds,Pl,bx,Kp]},K_=function(){return[Cu,Es,Ku,$s,ds,Pl,bx,Kp]},ck=function(){return[$s,Ku,Es,Cu,Pl,ds]},xx=function(){return[Ku,$s,Cu,Es,Pl,ds]},Jh=function(){return[Es,Cu,$s,Ku,ds,Pl]},Zp=function(){return[Cu,Es,Ku,$s,ds,Pl]},fk=function(a,c){return c.universal?a:Ye(a,function(p){return Ot(c.channels,p)})},iO=function(a){return Gi([fn(zc(),function(c,p){var w=a.channels,M=Tt(w),A=p,N=fk(M,A);Fe(N,function(j){var W=w[j],K=W.schema,oe=mi("channel["+j+`] data
Receiver: `+$u(c.element),K,A.data);W.onReceive(c,oe)})})])},_x=Object.freeze({__proto__:null,events:iO}),dl=[Al("channels",ks(fo.value,Yl([Cg("onReceive"),dt("schema",gf())])))],Sx=function(a,c,p){return Sf(function(w){p(w,a,c)})},Tu=function(a,c,p){return D_(function(w,M){p(w,a,c)})},dk=function(a,c,p,w,M,A){var N=Yl(a),j=Jl(c,[D5("config",a)]);return pk(N,j,c,p,w,M,A)},aO=function(a,c,p,w,M,A){var N=a,j=Jl(c,[rd("config",a)]);return pk(N,j,c,p,w,M,A)},J_=function(a,c,p){var w=function(M){for(var A=[],N=1;N<arguments.length;N++)A[N-1]=arguments[N];var j=[M].concat(A);return M.config({name:L(a)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+a+". Using API: "+p)},function(W){var K=Array.prototype.slice.call(j,1);return c.apply(void 0,[M,W.config,W.state].concat(K))})};return pg(w,p,c)},hk=function(a){return{key:a,value:void 0}},pk=function(a,c,p,w,M,A,N){var j=function(se){return Kn(se,p)?se[p]():$.none()},W=bn(M,function(se,be){return J_(p,se,be)}),K=bn(A,function(se,be){return Vp(se,be)}),oe=ne(ne(ne({},K),W),{revoke:Y(hk,p),config:function(se){var be=mi(p+"-config",a,se);return{key:p,value:{config:be,me:oe,configAsRaw:wt(function(){return mi(p+"-config",a,se)}),initialConfig:se,state:N}}},schema:L(c),exhibit:function(se,be){return ui(j(se),Pt(w,"exhibit"),function(_e,Ee){return Ee(be,_e.config,_e.state)}).getOrThunk(function(){return ud({})})},name:L(p),handlers:function(se){return j(se).map(function(be){var _e=Pt(w,"events").getOr(function(){return{}});return _e(be.config,be.state)}).getOr({})}});return oe},zn=function(a){return Wh(a)},uO=Yl([on("fields"),on("name"),dt("active",{}),dt("apis",{}),dt("state",ec),dt("extra",{})]),Ya=function(a){var c=mi("Creating behaviour: "+a.name,uO,a);return dk(c.fields,c.name,c.active,c.apis,c.extra,c.state)},Z_=Yl([on("branchKey"),on("branches"),on("name"),dt("active",{}),dt("apis",{}),dt("state",ec),dt("extra",{})]),Mg=function(a){var c=mi("Creating behaviour: "+a.name,Z_,a);return aO(Lc(c.branchKey,c.branches),c.name,c.active,c.apis,c.extra,c.state)},Cx=L(void 0),nc=Ya({fields:dl,name:"receiving",active:_x}),u0=function(a,c){return ud({classes:[],styles:c.useFixed()?{}:{position:"relative"}})},$y=Object.freeze({__proto__:null,exhibit:u0}),Tx=function(){return He.fromDom(document)},Kd=function(a){return a.dom.focus()},Gy=function(a){return a.dom.blur()},Mx=function(a){var c=Tr(a).dom;return a.dom===c.activeElement},rc=function(a){return a===void 0&&(a=Tx()),$.from(a.dom.activeElement).map(He.fromDom)},Tf=function(a){return rc(Tr(a)).filter(function(c){return a.dom.contains(c.dom)})},Zh=function(a,c){var p=Tr(c),w=rc(p).bind(function(A){var N=function(j){return si(A,j)};return N(c)?$.some(c):Y5(c,N)}),M=a(c);return w.each(function(A){rc(p).filter(function(N){return si(N,A)}).fold(function(){Kd(A)},E)}),M},Mu=function(a,c,p,w,M){var A=function(N){return N+"px"};return{position:a,left:c.map(A),top:p.map(A),right:w.map(A),bottom:M.map(A)}},Q_=function(a){return ne(ne({},a),{position:$.some(a.position)})},Wt=function(a,c){Ma(a,Q_(c))},Qp=Cc.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Xy=function(a,c,p,w,M,A){var N=c.rect,j=N.x-p,W=N.y-w,K=N.width,oe=N.height,se=M-(j+K),be=A-(W+oe),_e=$.some(j),Ee=$.some(W),je=$.some(se),ft=$.some(be),Be=$.none();return px(c.direction,function(){return Mu(a,_e,Ee,Be,Be)},function(){return Mu(a,Be,Ee,je,Be)},function(){return Mu(a,_e,Be,Be,ft)},function(){return Mu(a,Be,Be,je,ft)},function(){return Mu(a,_e,Ee,Be,Be)},function(){return Mu(a,_e,Be,Be,ft)},function(){return Mu(a,_e,Ee,Be,Be)},function(){return Mu(a,Be,Ee,je,Be)})},s0=function(a,c){return a.fold(function(){var p=c.rect;return Mu("absolute",$.some(p.x),$.some(p.y),$.none(),$.none())},function(p,w,M,A){return Xy("absolute",c,p,w,M,A)},function(p,w,M,A){return Xy("fixed",c,p,w,M,A)})},em=function(a,c){var p=Y(Ms,c),w=a.fold(p,p,function(){var N=Xl();return Ms(c).translate(-N.left,-N.top)}),M=il(c),A=Gl(c);return _u(w.left,w.top,M,A)},cd=function(a,c){return c.fold(function(){return a.fold(us,us,_u)},function(p){return a.fold(p,p,function(){var w=p(),M=eS(a,w.x,w.y);return _u(M.left,M.top,w.width,w.height)})})},eS=function(a,c,p){var w=Oi(c,p),M=function(){var A=Xl();return w.translate(-A.left,-A.top)};return a.fold(L(w),L(w),M)},tS=function(a,c,p,w){return a.fold(c,p,w)};Qp.none;var kx=Qp.relative,Dx=Qp.fixed,mk=function(a,c){return{anchorBox:a,origin:c}},nS=function(a,c){return mk(a,c)},rS="data-alloy-placement",oS=function(a,c){so(a,rS,c)},iS=function(a){return wa(a,rS)},aS=function(a){return Wu(a,rS)},kg=Cc.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),sO=function(a,c){var p=c.x,w=c.y,M=c.right,A=c.bottom,N=a.x,j=a.y,W=a.right,K=a.bottom,oe=a.width,se=a.height,be=N>=p&&N<=M,_e=j>=w&&j<=A,Ee=be&&_e,je=W<=M&&W>=p,ft=K<=A&&K>=w,Be=je&&ft,ht=Math.min(oe,N>=p?M-N:W-p),Ut=Math.min(se,j>=w?A-j:K-w);return{originInBounds:Ee,sizeInBounds:Be,visibleW:ht,visibleH:Ut}},gk=function(a,c){var p=c.x,w=c.y,M=c.right,A=c.bottom,N=a.x,j=a.y,W=a.width,K=a.height,oe=Math.max(p,M-W),se=Math.max(w,A-K),be=Rl(N,p,oe),_e=Rl(j,w,se),Ee=Math.min(be+W,M)-be,je=Math.min(_e+K,A)-_e;return _u(be,_e,Ee,je)},Ax=function(a,c,p){var w=L(c.bottom-p.y),M=L(p.bottom-c.y),A=tO(a,M,M,w),N=L(c.right-p.x),j=L(p.right-c.x),W=nO(a,j,j,N);return{maxWidth:W,maxHeight:A}},Yy=function(a,c,p,w){var M=a.bubble,A=M.offset,N=$_(w,a.restriction,A),j=a.x+A.left,W=a.y+A.top,K=_u(j,W,c,p),oe=sO(K,N),se=oe.originInBounds,be=oe.sizeInBounds,_e=oe.visibleW,Ee=oe.visibleH,je=se&&be,ft=je?K:gk(K,N),Be=ft.width>0&&ft.height>0,ht=Ax(a.direction,ft,w),Ut=ht.maxWidth,Kt=ht.maxHeight,ct={rect:ft,maxHeight:Kt,maxWidth:Ut,direction:a.direction,placement:a.placement,classes:{on:M.classesOn,off:M.classesOff},layout:a.label,testY:W};return je||a.alwaysFit?kg.fit(ct):kg.nofit(ct,_e,Ee,Be)},Ex=function(a,c,p,w,M,A){var N=w.width,j=w.height,W=function(oe,se,be,_e,Ee){var je=oe(p,w,M,a,A),ft=Yy(je,N,j,A);return ft.fold(L(ft),function(Be,ht,Ut,Kt){var ct=Ee===Kt?Ut>_e||ht>be:!Ee&&Kt;return ct?ft:kg.nofit(se,be,_e,Ee)})},K=Ft(c,function(oe,se){var be=Y(W,se);return oe.fold(L(oe),be)},kg.nofit({rect:p,maxHeight:w.height,maxWidth:w.width,direction:mx(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:p.y},-1,-1,!1));return K.fold(q,q)},Ox=function(a){var c=Er($.none()),p=function(){return c.get().each(a)},w=function(){p(),c.set($.none())},M=function(){return c.get().isSome()},A=function(){return c.get()},N=function(j){p(),c.set($.some(j))};return{clear:w,isSet:M,get:A,set:N}},Ix=function(){return Ox(function(a){return a.destroy()})},Dg=function(){return Ox(function(a){return a.unbind()})},vk=function(){var a=Ix(),c=function(p){return a.get().each(p)};return ne(ne({},a),{run:c})},za=function(){var a=Ox(E),c=function(p){return a.get().each(p)};return ne(ne({},a),{on:c})},Rx=le,Ka=function(a,c,p){return qb(a,c,Rx,p)},Px=function(a,c,p){return Ih(a,c,Rx,p)},l0=Nc,Nx=["top","bottom","right","left"],c0="data-alloy-transition-timer",yk=function(a,c){return F_(a,c.classes)},bk=function(a,c,p){return p.exists(function(w){var M=a.mode;return M==="all"?!0:w[M]!==c[M]})},lO=function(a,c){var p=function(w){return parseFloat(w).toFixed(3)};return et(c,function(w,M){var A=a[M].map(p),N=w.map(p);return!ei(A,N)}).isSome()},cO=function(a){var c=function(A){var N=ka(a,A),j=i(N)?N.split(/\s*,\s*/):[];return Ye(j,Ua)},p=function(A){if(i(A)&&/^[\d.]+/.test(A)){var N=parseFloat(A);return dr(A,"ms")?N:N*1e3}else return 0},w=c("transition-delay"),M=c("transition-duration");return Ft(M,function(A,N,j){var W=p(w[j])+p(N);return Math.max(A,W)},0)},xk=function(a,c){var p=Dg(),w=Dg(),M,A=function(oe){var se,be=(se=oe.raw.pseudoElement)!==null&&se!==void 0?se:"";return si(oe.target,a)&&aa(be)&&Ot(Nx,oe.raw.propertyName)},N=function(oe){if(y(oe)||A(oe)){p.clear(),w.clear();var se=oe==null?void 0:oe.raw.type;(y(se)||se===Xv())&&(clearTimeout(M),Wu(a,c0),Gd(a,c.classes))}},j=function(){p.set(Ka(a,Xv(),N)),w.set(Ka(a,R5(),N))};if("ontransitionstart"in a.dom)var W=Ka(a,w_(),function(oe){A(oe)&&(W.unbind(),j())});else j();var K=cO(a);requestAnimationFrame(function(){M=setTimeout(N,K+17),so(a,c0,M)})},Lx=function(a,c){Yh(a,c.classes),wa(a,c0).each(function(p){clearTimeout(parseInt(p,10)),Wu(a,c0)}),xk(a,c)},Bx=function(a,c,p,w,M,A){var N=bk(w,M,A);if(N||yk(a,w)){Ur(a,"position",p.position);var j=em(c,a),W=s0(c,ne(ne({},M),{rect:j})),K=pr(Nx,function(oe){return W[oe]});lO(p,K)&&(Ma(a,K),N&&Lx(a,w),Ji(a))}else Gd(a,w.classes)},fO=function(a){return{width:il(a),height:Gl(a)}},wk=function(a,c,p,w){ri(c,"max-height"),ri(c,"max-width");var M=fO(c);return Ex(c,w.preference,a,M,p,w.bounds)},uS=function(a,c){var p=c.classes;Gd(a,p.off),Yh(a,p.on)},_k=function(a,c,p){var w=p.maxHeightFunction;w(a,c.maxHeight)},dO=function(a,c,p){var w=p.maxWidthFunction;w(a,c.maxWidth)},hs=function(a,c,p){var w=s0(p.origin,c);p.transition.each(function(M){Bx(a,p.origin,w,M,c,p.lastPlacement)}),Wt(a,w)},Ag=function(a,c){oS(a,c.placement)},sS=function(a,c){Ub(a,Math.floor(c))},Sk=L(function(a,c){sS(a,c),$l(a,{"overflow-x":"hidden","overflow-y":"auto"})}),f0=L(function(a,c){sS(a,c)}),Ck=function(a,c,p){return a[c]===void 0?p:a[c]},hO=function(a,c,p,w,M,A,N,j){var W=Ck(N,"maxHeightFunction",Sk()),K=Ck(N,"maxWidthFunction",E),oe=a.anchorBox,se=a.origin,be={bounds:cd(se,A),origin:se,preference:w,maxHeightFunction:W,maxWidthFunction:K,lastPlacement:M,transition:j};return Ky(oe,c,p,be)},Ky=function(a,c,p,w){var M=wk(a,c,p,w);return hs(c,M,w),Ag(c,M),uS(c,M),_k(c,M,w),dO(c,M,w),{layout:M.layout,placement:M.placement}},Jy=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],tm=function(a,c,p,w){w===void 0&&(w=1);var M=a*w,A=c*w,N=function(W){return Pt(p,W).getOr([])},j=function(W,K,oe){var se=Zn(Jy,oe);return{offset:Oi(W,K),classesOn:Bt(oe,N),classesOff:Bt(se,N)}};return{southeast:function(){return j(-a,c,["top","alignLeft"])},southwest:function(){return j(a,c,["top","alignRight"])},south:function(){return j(-a/2,c,["top","alignCentre"])},northeast:function(){return j(-a,-c,["bottom","alignLeft"])},northwest:function(){return j(a,-c,["bottom","alignRight"])},north:function(){return j(-a/2,-c,["bottom","alignCentre"])},east:function(){return j(a,-c/2,["valignCentre","left"])},west:function(){return j(-a,-c/2,["valignCentre","right"])},insetNortheast:function(){return j(M,A,["top","alignLeft","inset"])},insetNorthwest:function(){return j(-M,A,["top","alignRight","inset"])},insetNorth:function(){return j(-M/2,A,["top","alignCentre","inset"])},insetSoutheast:function(){return j(M,-A,["bottom","alignLeft","inset"])},insetSouthwest:function(){return j(-M,-A,["bottom","alignRight","inset"])},insetSouth:function(){return j(-M/2,-A,["bottom","alignCentre","inset"])},insetEast:function(){return j(-M,-A/2,["valignCentre","right","inset"])},insetWest:function(){return j(M,-A/2,["valignCentre","left","inset"])}}},zx=function(){return tm(0,0,{})},Fx=q,Vx=function(a,c){return function(p){return pO(p)==="rtl"?c:a}},pO=function(a){return ka(a,"direction")==="rtl"?"rtl":"ltr"},Qh;(function(a){a.TopToBottom="toptobottom",a.BottomToTop="bottomtotop"})(Qh||(Qh={}));var Hx="data-alloy-vertical-dir",mO=function(a){return lx(a,function(c){return he(c)&&la(c,"data-alloy-vertical-dir")===Qh.BottomToTop})},nm=function(){return Jl("layouts",[on("onLtr"),on("onRtl"),oi("onBottomLtr"),oi("onBottomRtl")])},rm=function(a,c,p,w,M,A,N){var j=N.map(mO).getOr(!1),W=c.layouts.map(function(_e){return _e.onLtr(a)}),K=c.layouts.map(function(_e){return _e.onRtl(a)}),oe=j?c.layouts.bind(function(_e){return _e.onBottomLtr.map(function(Ee){return Ee(a)})}).or(W).getOr(M):W.getOr(p),se=j?c.layouts.bind(function(_e){return _e.onBottomRtl.map(function(Ee){return Ee(a)})}).or(K).getOr(A):K.getOr(w),be=Vx(oe,se);return be(a)},Tk=function(a,c,p){var w=c.hotspot,M=em(p,w.element),A=rm(a.element,c,Jh(),Zp(),ck(),xx(),$.some(c.hotspot.element));return $.some(Fx({anchorBox:M,bubble:c.bubble.getOr(zx()),overrides:c.overrides,layouts:A,placer:$.none()}))},Zy=[on("hotspot"),oi("bubble"),dt("overrides",{}),nm(),Ci("placement",Tk)],lS=function(a,c,p){var w=eS(p,c.x,c.y),M=_u(w.left,w.top,c.width,c.height),A=rm(a.element,c,Jp(),K_(),Jp(),K_(),$.none());return $.some(Fx({anchorBox:M,bubble:c.bubble,overrides:c.overrides,layouts:A,placer:$.none()}))},jx=[on("x"),on("y"),dt("height",0),dt("width",0),dt("bubble",zx()),dt("overrides",{}),nm(),Ci("placement",lS)],Ju=Cc.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),gO=function(a){return a.fold(q,function(c,p,w){return c.translate(-p,-w)})},Wx=function(a){return a.fold(q,q)},Mk=function(a){return Ft(a,function(c,p){return c.translate(p.left,p.top)},Oi(0,0))},vO=function(a){var c=Je(a,gO);return Mk(c)},Mf=function(a){var c=Je(a,Wx);return Mk(c)},ep=Ju.screen,yO=Ju.absolute,cS=function(a,c,p){var w=yc(p.root).dom,M=function(A){var N=ua(A),j=ua(a.element);return si(N,j)};return $.from(w.frameElement).map(He.fromDom).filter(M).map(ol)},fS=function(a,c,p){var w=ua(a.element),M=Xl(w),A=cS(a,c,p).getOr(M);return yO(A,M.left,M.top)},Eg=function(a,c,p,w){var M=ep(Oi(a,c));return $.some(wc(M,p,w))},kk=function(a,c,p,w,M){return a.map(function(A){var N=[c,A.point],j=tS(w,function(){return Mf(N)},function(){return Mf(N)},function(){return vO(N)}),W=$a(j.left,j.top,A.width,A.height),K=p.showAbove?ck():Jh(),oe=p.showAbove?xx():Zp(),se=rm(M,p,K,oe,K,oe,$.none());return Fx({anchorBox:W,bubble:p.bubble.getOr(zx()),overrides:p.overrides,layouts:se,placer:$.none()})})},d0=function(a,c,p){var w=fS(a,p,c);return c.node.filter(Or).bind(function(M){var A=M.dom.getBoundingClientRect(),N=Eg(A.left,A.top,A.width,A.height),j=c.node.getOr(a.element);return kk(N,w,c,p,j)})},bO=[on("node"),on("root"),oi("bubble"),nm(),dt("overrides",{}),dt("showAbove",!1),Ci("placement",d0)],xO="\uFEFF",wO=" ",h0=function(a,c,p,w){return{start:a,soffset:c,finish:p,foffset:w}},Og={create:h0},dS=Cc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dk=function(a,c,p,w){return a.fold(c,p,w)},_O=function(a){return a.fold(q,q,q)},Ak=dS.before,Ek=dS.on,hS=dS.after,SO={before:Ak,on:Ek,after:hS,cata:Dk,getStart:_O},Ux=Cc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),CO=function(a){return Ux.exact(a.start,a.soffset,a.finish,a.foffset)},Qy=function(a){return a.match({domRange:function(c){return He.fromDom(c.startContainer)},relative:function(c,p){return SO.getStart(c)},exact:function(c,p,w,M){return c}})},TO=Ux.domRange,pS=Ux.relative,MO=Ux.exact,Ok=function(a){var c=Qy(a);return yc(c)},kO=Og.create,p0={domRange:TO,relative:pS,exact:MO,exactFromRange:CO,getWin:Ok,range:kO},Ik=function(a,c){c.fold(function(p){a.setStartBefore(p.dom)},function(p,w){a.setStart(p.dom,w)},function(p){a.setStartAfter(p.dom)})},DO=function(a,c){c.fold(function(p){a.setEndBefore(p.dom)},function(p,w){a.setEnd(p.dom,w)},function(p){a.setEndAfter(p.dom)})},mS=function(a,c,p){var w=a.document.createRange();return Ik(w,c),DO(w,p),w},gS=function(a,c,p,w,M){var A=a.document.createRange();return A.setStart(c.dom,p),A.setEnd(w.dom,M),A},qx=function(a){return{left:a.left,top:a.top,right:a.right,bottom:a.bottom,width:a.width,height:a.height}},Rk=function(a){var c=a.getClientRects(),p=c.length>0?c[0]:a.getBoundingClientRect();return p.width>0||p.height>0?$.some(p).map(qx):$.none()},Pk=function(a){var c=a.getBoundingClientRect();return c.width>0||c.height>0?$.some(c).map(qx):$.none()},m0=Cc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Nk=function(a,c,p){return c(He.fromDom(p.startContainer),p.startOffset,He.fromDom(p.endContainer),p.endOffset)},Lk=function(a,c){return c.match({domRange:function(p){return{ltr:L(p),rtl:$.none}},relative:function(p,w){return{ltr:wt(function(){return mS(a,p,w)}),rtl:wt(function(){return $.some(mS(a,w,p))})}},exact:function(p,w,M,A){return{ltr:wt(function(){return gS(a,p,w,M,A)}),rtl:wt(function(){return $.some(gS(a,M,A,p,w))})}}})},AO=function(a,c){var p=c.ltr();if(p.collapsed){var w=c.rtl().filter(function(M){return M.collapsed===!1});return w.map(function(M){return m0.rtl(He.fromDom(M.endContainer),M.endOffset,He.fromDom(M.startContainer),M.startOffset)}).getOrThunk(function(){return Nk(a,m0.ltr,p)})}else return Nk(a,m0.ltr,p)},EO=function(a,c){var p=Lk(a,c);return AO(a,p)},vS=function(a,c){var p=EO(a,c);return p.match({ltr:function(w,M,A,N){var j=a.document.createRange();return j.setStart(w.dom,M),j.setEnd(A.dom,N),j},rtl:function(w,M,A,N){var j=a.document.createRange();return j.setStart(A.dom,N),j.setEnd(w.dom,M),j}})};m0.ltr,m0.rtl;var Ig=function(a,c){var p=function(A){if(!a(A))throw new Error("Can only get "+c+" value of a "+c+" node");return w(A).getOr("")},w=function(A){return a(A)?$.from(A.dom.nodeValue):$.none()},M=function(A,N){if(!a(A))throw new Error("Can only set raw "+c+" value of a "+c+" node");A.dom.nodeValue=N};return{get:p,getOption:w,set:M}},$x=Ig(Me,"text"),Bk=function(a){return $x.get(a)},Gx=function(a){return $x.getOption(a)},zk=function(a){return qe(a)==="img"?1:Gx(a).fold(function(){return U(a).length},function(c){return c.length})},OO=function(a){return Gx(a).filter(function(c){return c.trim().length!==0||c.indexOf(wO)>-1}).isSome()},yS=["img","br"],IO=function(a){var c=OO(a);return c||Ot(yS,qe(a))},Fk=function(a){return Rg(a,IO)},Rg=function(a,c){var p=function(w){for(var M=U(w),A=M.length-1;A>=0;A--){var N=M[A];if(c(N))return $.some(N);var j=p(N);if(j.isSome())return j}return $.none()};return p(a)},Ru=function(a,c){return hf(c,a)},om=function(a,c,p,w){var M=ua(a),A=M.dom.createRange();return A.setStart(a.dom,c),A.setEnd(p.dom,w),A},Xx=function(a,c,p,w){var M=om(a,c,p,w),A=si(a,p)&&c===w;return M.collapsed&&!A},RO=function(a){return $.from(a.getSelection())},Vk=function(a){if(a.rangeCount>0){var c=a.getRangeAt(0),p=a.getRangeAt(a.rangeCount-1);return $.some(Og.create(He.fromDom(c.startContainer),c.startOffset,He.fromDom(p.endContainer),p.endOffset))}else return $.none()},Hk=function(a){if(a.anchorNode===null||a.focusNode===null)return Vk(a);var c=He.fromDom(a.anchorNode),p=He.fromDom(a.focusNode);return Xx(c,a.anchorOffset,p,a.focusOffset)?$.some(Og.create(c,a.anchorOffset,p,a.focusOffset)):Vk(a)},bS=function(a){return RO(a).filter(function(c){return c.rangeCount>0}).bind(Hk)},xS=function(a,c){var p=vS(a,c);return Rk(p)},oc=function(a,c){var p=vS(a,c);return Pk(p)},tp=function(a,c){return{element:a,offset:c}},Pg=function(a,c){var p=U(a);if(p.length===0)return tp(a,c);if(c<p.length)return tp(p[c],0);var w=p[p.length-1],M=Me(w)?Bk(w).length:U(w).length;return tp(w,M)},e1=function(a,c){return Me(a)?tp(a,c):Pg(a,c)},Ng=function(a,c){var p=c.getSelection.getOrThunk(function(){return function(){return bS(a)}});return p().map(function(w){var M=e1(w.start,w.soffset),A=e1(w.finish,w.foffset);return p0.range(M.element,M.offset,A.element,A.offset)})},Jd=function(a,c,p){var w=yc(c.root).dom,M=fS(a,p,c),A=Ng(w,c).bind(function(W){var K=oc(w,p0.exactFromRange(W)).orThunk(function(){var oe=He.fromText(xO);Ba(W.start,oe);var se=xS(w,p0.exact(oe,0,oe,1));return Ml(oe),se});return K.bind(function(oe){return Eg(oe.left,oe.top,oe.width,oe.height)})}),N=Ng(w,c).bind(function(W){return he(W.start)?$.some(W.start):Kf(W.start)}),j=N.getOr(a.element);return kk(A,M,c,p,j)},kf=[oi("getSelection"),on("root"),oi("bubble"),nm(),dt("overrides",{}),dt("showAbove",!1),Ci("placement",Jd)],g0="link-layout",wS=function(a){return a.x+a.width},jk=function(a,c){return a.x-c.width},Yx=function(a,c){return a.y-c.height+a.height},Lg=function(a){return a.y},np=function(a,c,p){return Yu(wS(a),Lg(a),p.southeast(),mx(),"southeast",fs(a,{left:0,top:2}),g0)},Kx=function(a,c,p){return Yu(jk(a,c),Lg(a),p.southwest(),o0(),"southwest",fs(a,{right:1,top:2}),g0)},_S=function(a,c,p){return Yu(wS(a),Yx(a,c),p.northeast(),q_(),"northeast",fs(a,{left:0,bottom:3}),g0)},Zu=function(a,c,p){return Yu(jk(a,c),Yx(a,c),p.northwest(),gx(),"northwest",fs(a,{right:1,bottom:3}),g0)},im=function(){return[np,Kx,_S,Zu]},Wk=function(){return[Kx,np,Zu,_S]},SS=function(a,c,p){var w=em(p,c.item.element),M=rm(a.element,c,im(),Wk(),im(),Wk(),$.none());return $.some(Fx({anchorBox:w,bubble:zx(),overrides:c.overrides,layouts:M,placer:$.none()}))},Jx=[on("item"),nm(),dt("overrides",{}),Ci("placement",SS)],ps=Lc("type",{selection:kf,node:bO,hotspot:Zy,submenu:Jx,makeshift:jx}),PO=[Ds("classes",Ga),Sc("mode","all",["all","layout","placement"])],Zd=[dt("useFixed",ie),oi("getBounds")],Uk=[Al("anchor",ps),Jl("transition",PO)],CS=function(){var a=document.documentElement;return Dx(0,0,a.clientWidth,a.clientHeight)},am=function(a){var c=ol(a.element),p=a.element.dom.getBoundingClientRect();return kx(c.left,c.top,p.width,p.height)},qk=function(a,c,p,w,M,A,N){var j=nS(p.anchorBox,c);return hO(j,M.element,p.bubble,p.layouts,A,w,p.overrides,N)},Zx=function(a,c,p,w,M){$k(a,c,p,w,M,$.none())},$k=function(a,c,p,w,M,A){var N=A.map(tu);return TS(a,c,p,w,M,N)},TS=function(a,c,p,w,M,A){var N=mi("placement.info",Sr(Uk),M),j=N.anchor,W=w.element,K=p.get(w.uid);Zh(function(){Ur(W,"position","fixed");var oe=eu(W,"visibility");Ur(W,"visibility","hidden");var se=c.useFixed()?CS():am(a),be=j.placement,_e=A.map(L).or(c.getBounds);be(a,j,se).each(function(Ee){var je=Ee.placer.getOr(qk),ft=je(a,se,Ee,_e,w,K,N.transition);p.set(w.uid,ft)}),oe.fold(function(){ri(W,"visibility")},function(Ee){Ur(W,"visibility",Ee)}),eu(W,"left").isNone()&&eu(W,"top").isNone()&&eu(W,"right").isNone()&&eu(W,"bottom").isNone()&&Br(eu(W,"position"),"fixed")&&ri(W,"position")},W)},Gk=function(a,c,p){return c.useFixed()?"fixed":"absolute"},NO=function(a,c,p,w){var M=w.element;Fe(["position","left","right","top","bottom"],function(A){return ri(M,A)}),aS(M),p.clear(w.uid)},MS=Object.freeze({__proto__:null,position:Zx,positionWithin:$k,positionWithinBounds:TS,getMode:Gk,reset:NO}),fd=function(){var a={},c=function(M,A){a[M]=A},p=function(M){return Pt(a,M)},w=function(M){b(M)?delete a[M]:a={}};return Gu({readState:function(){return a},clear:w,set:c,get:p})},Qx=Object.freeze({__proto__:null,init:fd}),hl=Ya({fields:Zd,name:"positioning",active:$y,apis:MS,state:Qx}),t1=function(a){ko(a,Yv());var c=a.components();Fe(c,t1)},n1=function(a){var c=a.components();Fe(c,n1),ko(a,Zl())},kS=function(a,c){Ts(a.element,c.element)},LO=function(a){Fe(a.components(),function(c){return Ml(c.element)}),fa(a.element),a.syncComponents()},Xk=function(a,c){var p=a.components();LO(a);var w=Zn(p,c);Fe(w,function(M){t1(M),a.getSystem().removeFromWorld(M)}),Fe(c,function(M){M.getSystem().isConnected()?kS(a,M):(a.getSystem().addToWorld(M),kS(a,M),Or(a.element)&&n1(M)),a.syncComponents()})},Os=function(a,c){Bg(a,c,Ts)},Bg=function(a,c,p){a.getSystem().addToWorld(c),p(a.element,c.element),Or(a.element)&&n1(c),a.syncComponents()},r1=function(a){t1(a),Ml(a.element),a.getSystem().removeFromWorld(a)},jc=function(a){var c=sa(a.element).bind(function(p){return a.getSystem().getByDom(p).toOptional()});r1(a),c.each(function(p){p.syncComponents()})},Wc=function(a){var c=a.components();Fe(c,r1),fa(a.element),a.syncComponents()},Uc=function(a,c){dd(a,c,Ts)},pl=function(a,c){dd(a,c,Ph)},dd=function(a,c,p){p(a,c.element);var w=U(c.element);Fe(w,function(M){c.getByDom(M).each(n1)})},ew=function(a){var c=U(a.element);Fe(c,function(p){a.getByDom(p).each(t1)}),Ml(a.element)},qc=function(a,c,p,w){p.get().each(function(N){Wc(a)});var M=c.getAttachPoint(a);Os(M,a);var A=a.getSystem().build(w);return Os(a,A),p.set(A),A},hd=function(a,c,p,w){var M=qc(a,c,p,w);return c.onOpen(a,M),M},BO=function(a,c,p,w){return p.get().map(function(){return qc(a,c,p,w)})},zO=function(a,c,p,w,M){Qk(a,c),hd(a,c,p,w),M(),DS(a,c)},Yk=function(a,c,p){p.get().each(function(w){Wc(a),jc(a),c.onClose(a,w),p.clear()})},Kk=function(a,c,p){return p.isOpen()},Jk=function(a,c,p,w){return Kk(a,c,p)&&p.get().exists(function(M){return c.isPartOf(a,M,w)})},Zk=function(a,c,p){return p.get()},FO=function(a,c,p,w){eu(a.element,c).fold(function(){Wu(a.element,p)},function(M){so(a.element,p,M)}),Ur(a.element,c,w)},VO=function(a,c,p){wa(a.element,p).fold(function(){return ri(a.element,c)},function(w){return Ur(a.element,c,w)})},Qk=function(a,c,p){var w=c.getAttachPoint(a);Ur(a.element,"position",hl.getMode(w)),FO(a,"visibility",c.cloakVisibilityAttr,"hidden")},HO=function(a){return Nt(["top","left","right","bottom"],function(c){return eu(a,c).isSome()})},DS=function(a,c,p){HO(a.element)||ri(a.element,"position"),VO(a,"visibility",c.cloakVisibilityAttr)},eD=Object.freeze({__proto__:null,cloak:Qk,decloak:DS,open:hd,openWhileCloaked:zO,close:Yk,isOpen:Kk,isPartOf:Jk,getState:Zk,setContent:BO}),AS=function(a,c){return Gi([fn(By(),function(p,w){Yk(p,a,c)})])},tD=Object.freeze({__proto__:null,events:AS}),jO=[_o("onOpen"),_o("onClose"),on("isPartOf"),on("getAttachPoint"),dt("cloakVisibilityAttr","data-precloak-visibility")],WO=function(){var a=za(),c=L("not-implemented");return Gu({readState:c,isOpen:a.isSet,clear:a.clear,set:a.set,get:a.get})},UO=Object.freeze({__proto__:null,init:WO}),Lo=Ya({fields:jO,name:"sandboxing",active:tD,apis:eD,state:UO}),zg=L("dismiss.popups"),v0=L("reposition.popups"),ic=L("mouse.released"),qO=Yl([dt("isExtraPart",ie),Jl("fireEventInstead",[dt("event",wf())])]),um=function(a){var c,p=mi("Dismissal",qO,a);return c={},c[zg()]={schema:Yl([on("target")]),onReceive:function(w,M){if(Lo.isOpen(w)){var A=Lo.isPartOf(w,M.target)||p.isExtraPart(w,M.target);A||p.fireEventInstead.fold(function(){return Lo.close(w)},function(N){return ko(w,N.event)})}}},c},y0=Yl([Jl("fireEventInstead",[dt("event",Us())]),Ws("doReposition")]),o1=function(a){var c,p=mi("Reposition",y0,a);return c={},c[v0()]={onReceive:function(w){Lo.isOpen(w)&&p.fireEventInstead.fold(function(){return p.doReposition(w)},function(M){return ko(w,M.event)})}},c},b0=function(a,c,p){c.store.manager.onLoad(a,c,p)},nD=function(a,c,p){c.store.manager.onUnload(a,c,p)},rD=function(a,c,p,w){c.store.manager.setValue(a,c,p,w)},ES=function(a,c,p){return c.store.manager.getValue(a,c,p)},OS=function(a,c,p){return p},Fg=Object.freeze({__proto__:null,onLoad:b0,onUnload:nD,setValue:rD,getValue:ES,getState:OS}),IS=function(a,c){var p=a.resetOnDom?[ha(function(w,M){b0(w,a,c)}),Ql(function(w,M){nD(w,a,c)})]:[Tu(a,c,b0)];return Gi(p)},$O=Object.freeze({__proto__:null,events:IS}),Qd=function(){var a=Er(null),c=function(){return{mode:"memory",value:a.get()}},p=function(){return a.get()===null},w=function(){a.set(null)};return Gu({set:a.set,get:a.get,isNotSet:p,clear:w,readState:c})},RS=function(){var a=E;return Gu({readState:a})},tw=function(){var a=Er({}),c=Er({}),p=function(){return{mode:"dataset",dataByValue:a.get(),dataByText:c.get()}},w=function(){a.set({}),c.set({})},M=function(N){return Pt(a.get(),N).orThunk(function(){return Pt(c.get(),N)})},A=function(N){var j=a.get(),W=c.get(),K={},oe={};Fe(N,function(se){K[se.value]=se,Pt(se,"meta").each(function(be){Pt(be,"text").each(function(_e){oe[_e]=se})})}),a.set(ne(ne({},j),K)),c.set(ne(ne({},W),oe))};return Gu({readState:p,lookup:M,update:A,clear:w})},nw=function(a){return a.store.manager.state(a)},oD=Object.freeze({__proto__:null,memory:Qd,dataset:tw,manual:RS,init:nw}),x0=function(a,c,p,w){var M=c.store;p.update([w]),M.setValue(a,w),c.onSetValue(a,w)},iD=function(a,c,p){var w=c.store,M=w.getDataKey(a);return p.lookup(M).getOrThunk(function(){return w.getFallbackEntry(M)})},aD=function(a,c,p){var w=c.store;w.initialValue.each(function(M){x0(a,c,p,M)})},pd=function(a,c,p){p.clear()},Ac=[oi("initialValue"),on("getFallbackEntry"),on("getDataKey"),on("setValue"),Ci("manager",{setValue:x0,getValue:iD,onLoad:aD,onUnload:pd,state:tw})],ms=function(a,c,p){return c.store.getValue(a)},uD=function(a,c,p,w){c.store.setValue(a,w),c.onSetValue(a,w)},PS=function(a,c,p){c.store.initialValue.each(function(w){c.store.setValue(a,w)})},w0=[on("getValue"),dt("setValue",E),oi("initialValue"),Ci("manager",{setValue:uD,getValue:ms,onLoad:PS,onUnload:E,state:ec.init})],sD=function(a,c,p,w){p.set(w),c.onSetValue(a,w)},lD=function(a,c,p){return p.get()},cD=function(a,c,p){c.store.initialValue.each(function(w){p.isNotSet()&&p.set(w)})},rw=function(a,c,p){p.clear()},ow=[oi("initialValue"),Ci("manager",{setValue:sD,getValue:lD,onLoad:cD,onUnload:rw,state:Qd})],fD=[sl("store",{mode:"memory"},Lc("mode",{memory:ow,manual:w0,dataset:Ac})),_o("onSetValue"),dt("resetOnDom",!1)],qn=Ya({fields:fD,name:"representing",active:$O,apis:Fg,extra:{setValueFrom:function(a,c){var p=qn.getValue(c);qn.setValue(a,p)}},state:oD}),Pu=function(a,c){return h_(a,{},Je(c,function(p){return jv(p.name(),"Cannot configure "+p.name()+" for "+a)}).concat([ul("dump",q)]))},Vg=function(a){return a.dump},Nu=function(a,c){return ne(ne({},zn(c)),a.dump)},$c={field:Pu,augment:Nu,get:Vg},NS="placeholder",Hg=Cc.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),iw=function(a){return ln(a,"uiType")},_0=function(a,c,p,w){return a.exists(function(M){return M!==p.owner})?Hg.single(!0,L(p)):Pt(w,p.name).fold(function(){throw new Error("Unknown placeholder component: "+p.name+`
Known: [`+Tt(w)+`]
Namespace: `+a.getOr("none")+`
Spec: `+JSON.stringify(p,null,2))},function(M){return M.replace()})},jg=function(a,c,p,w){return iw(p)&&p.uiType===NS?_0(a,c,p,w):Hg.single(!1,L(p))},i1=function(a,c,p,w){var M=jg(a,c,p,w);return M.fold(function(A,N){var j=iw(p)?N(c,p.config,p.validated):N(c),W=Pt(j,"components").getOr([]),K=Bt(W,function(oe){return i1(a,c,oe,w)});return[ne(ne({},j),{components:K})]},function(A,N){if(iw(p)){var j=N(c,p.config,p.validated),W=p.validated.preprocess.getOr(q);return W(j)}else return N(c)})},GO=function(a,c,p,w){return Bt(p,function(M){return i1(a,c,M,w)})},XO=function(a,c){var p=!1,w=function(){return p},M=function(){if(p)throw new Error("Trying to use the same placeholder more than once: "+a);return p=!0,c},A=function(){return c.fold(function(N,j){return N},function(N,j){return N})};return{name:L(a),required:A,used:w,replace:M}},LS=function(a,c,p,w){var M=bn(w,function(N,j){return XO(j,N)}),A=GO(a,c,p,M);return Bn(M,function(N){if(N.used()===!1&&N.required())throw new Error("Placeholder: "+N.name()+` was not found in components list
Namespace: `+a.getOr("none")+`
Components: `+JSON.stringify(c.components,null,2))}),A},BS=Hg.single,dD=Hg.multiple,Wg=L(NS),Df=Cc.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),a1=dt("factory",{sketch:q}),zS=dt("schema",[]),Ug=on("name"),u1=Su("pname","pname",Io(function(a){return"<alloy."+ir(a.name)+">"}),gf()),s1=ul("schema",function(){return[oi("preprocess")]}),eh=dt("defaults",L({})),Gc=dt("overrides",L({})),sm=Sr([a1,zS,Ug,u1,eh,Gc]),qg=Sr([a1,zS,Ug,eh,Gc]),l1=Sr([a1,zS,Ug,u1,eh,Gc]),aw=Sr([a1,s1,Ug,on("unit"),u1,eh,Gc]),c1=function(a){return a.fold($.some,$.none,$.some,$.some)},FS=function(a){var c=function(p){return p.name};return a.fold(c,c,c,c)},YO=function(a){return a.fold(q,q,q,q)},uw=function(a,c){return function(p){var w=mi("Converting part type",c,p);return a(w)}},Qu=uw(Df.required,sm),Ec=uw(Df.external,qg),Af=uw(Df.optional,l1),md=uw(Df.group,aw),th=L("entirety"),lm=Object.freeze({__proto__:null,required:Qu,external:Ec,optional:Af,group:md,asNamedPart:c1,name:FS,asCommon:YO,original:th}),S0=function(a,c,p,w){return Zt(c.defaults(a,p,w),p,{uid:a.partUids[c.name]},c.overrides(a,p,w))},hD=function(a,c,p){var w={},M={};return Fe(p,function(A){A.fold(function(N){w[N.pname]=BS(!0,function(j,W,K){return N.factory.sketch(S0(j,N,W,K))})},function(N){var j=c.parts[N.name];M[N.name]=L(N.factory.sketch(S0(c,N,j[th()]),j))},function(N){w[N.pname]=BS(!1,function(j,W,K){return N.factory.sketch(S0(j,N,W,K))})},function(N){w[N.pname]=dD(!0,function(j,W,K){var oe=j[N.name];return Je(oe,function(se){return N.factory.sketch(Zt(N.defaults(j,se,K),se,N.overrides(j,se)))})})})}),{internals:L(w),externals:L(M)}},f1=function(a,c){var p={};return Fe(c,function(w){c1(w).each(function(M){var A=KO(a,M.pname);p[M.name]=function(N){var j=mi("Part: "+M.name+" in "+a,Sr(M.schema),N);return ne(ne({},A),{config:N,validated:j})}})}),p},KO=function(a,c){return{uiType:Wg(),owner:a,name:c}},VS=function(a,c,p){return{uiType:Wg(),owner:a,name:c,config:p,validated:{}}},pD=function(a){return Bt(a,function(c){return c.fold($.none,$.some,$.none,$.none).map(function(p){return Hd(p.name,p.schema.concat([dx(th())]))}).toArray()})},mD=function(a){return Je(a,FS)},HS=function(a,c,p){return hD(a,c,p)},jS=function(a,c,p){return LS($.some(a),c,c.components,p)},Ti=function(a,c,p){var w=c.partUids[p];return a.getSystem().getByUid(w).toOptional()},nh=function(a,c,p){return Ti(a,c,p).getOrDie("Could not find part: "+p)},gD=function(a,c,p){var w={},M=c.partUids,A=a.getSystem();return Fe(p,function(N){w[N]=L(A.getByUid(M[N]))}),w},WS=function(a,c){var p=a.getSystem();return bn(c.partUids,function(w,M){return L(p.getByUid(w))})},US=function(a){return Tt(a.partUids)},d1=function(a,c,p){var w={},M=c.partUids,A=a.getSystem();return Fe(p,function(N){w[N]=L(A.getByUid(M[N]).getOrDie())}),w},Nr=function(a,c){var p=mD(c);return Wh(Je(p,function(w){return{key:w,value:a+"-"+w}}))},qS=function(a){return Su("partUids","partUids",ss(function(c){return Nr(c.uid,a)}),gf())},vD=Object.freeze({__proto__:null,generate:f1,generateOne:VS,schemas:pD,names:mD,substitutes:HS,components:jS,defaultUids:Nr,defaultUidsSchema:qS,getAllParts:WS,getAllPartNames:US,getPart:Ti,getPartOrDie:nh,getParts:gD,getPartsOrDie:d1}),JO=function(a,c){var p=a.length>0?[Hd("parts",a)]:[];return p.concat([on("uid"),dt("dom",{}),dt("components",[]),dx("originalSpec"),dt("debug.sketcher",{})]).concat(c)},yD=function(a,c,p,w,M){var A=JO(w,M);return mi(a+" [SpecSchema]",Yl(A.concat(c)),p)},bD=function(a,c,p,w){var M=sw(w),A=yD(a,c,M,[],[]);return p(A,M)},$S=function(a,c,p,w,M){var A=sw(M),N=pD(p),j=qS(p),W=yD(a,c,A,N,[j]),K=HS(a,W,p),oe=jS(a,W,K.internals());return w(W,oe,A,K.externals())},GS=function(a){return ln(a,"uid")},sw=function(a){return GS(a)?a:ne(ne({},a),{uid:hg("uid")})},ZO=function(a){return a.uid!==void 0},xD=Yl([on("name"),on("factory"),on("configFields"),dt("apis",{}),dt("extraApis",{})]),QO=Yl([on("name"),on("factory"),on("configFields"),on("partFields"),dt("apis",{}),dt("extraApis",{})]),ac=function(a){var c=mi("Sketcher for "+a.name,xD,a),p=function(A){return bD(c.name,c.configFields,c.factory,A)},w=bn(c.apis,gg),M=bn(c.extraApis,function(A,N){return Vp(A,N)});return ne(ne({name:c.name,configFields:c.configFields,sketch:p},w),M)},ml=function(a){var c=mi("Sketcher for "+a.name,QO,a),p=function(N){return $S(c.name,c.configFields,c.partFields,c.factory,N)},w=f1(c.name,c.partFields),M=bn(c.apis,gg),A=bn(c.extraApis,function(N,j){return Vp(N,j)});return ne(ne({name:c.name,partFields:c.partFields,configFields:c.configFields,sketch:p,parts:w},M),A)},cm=function(a){return qe(a)==="input"&&la(a,"type")!=="radio"||qe(a)==="textarea"},wD=function(a,c,p){return c.find(a)},e4=Object.freeze({__proto__:null,getCurrent:wD}),_D=[on("find")],So=Ya({fields:_D,name:"composing",apis:e4}),SD=["input","button","textarea","select"],h1=function(a,c,p){var w=c.disabled()?YS:$g;w(a,c)},C0=function(a,c){return c.useNative===!0&&Ot(SD,qe(a.element))},lw=function(a){return Wb(a.element,"disabled")},T0=function(a){so(a.element,"disabled","disabled")},M0=function(a){Wu(a.element,"disabled")},t4=function(a){return la(a.element,"aria-disabled")==="true"},n4=function(a){so(a.element,"aria-disabled","true")},XS=function(a){so(a.element,"aria-disabled","false")},YS=function(a,c,p){c.disableClass.each(function(M){Xu(a.element,M)});var w=C0(a,c)?T0:n4;w(a),c.onDisabled(a)},$g=function(a,c,p){c.disableClass.each(function(M){pu(a.element,M)});var w=C0(a,c)?M0:XS;w(a),c.onEnabled(a)},cw=function(a,c){return C0(a,c)?lw(a):t4(a)},CD=function(a,c,p,w){var M=w?YS:$g;M(a,c)},r4=Object.freeze({__proto__:null,enable:$g,disable:YS,isDisabled:cw,onLoad:h1,set:CD}),KS=function(a,c){return ud({classes:c.disabled()?c.disableClass.toArray():[]})},o4=function(a,c){return Gi([k_(Tc(),function(p,w){return cw(p,a)}),Tu(a,c,h1)])},p1=Object.freeze({__proto__:null,exhibit:KS,events:o4}),JS=[$i("disabled",ie),dt("useNative",!0),oi("disableClass"),_o("onDisabled"),_o("onEnabled")],Mr=Ya({fields:JS,name:"disabling",active:p1,apis:r4}),TD=function(a,c,p,w){var M=Ru(a.element,"."+c.highlightClass);Fe(M,function(A){Nt(w,function(N){return N.element===A})||(pu(A,c.highlightClass),a.getSystem().getByDom(A).each(function(N){c.onDehighlight(a,N),ko(N,zy())}))})},i4=function(a,c,p){return TD(a,c,p,[])},MD=function(a,c,p,w){fw(a,c,p,w)&&(pu(w.element,c.highlightClass),c.onDehighlight(a,w),ko(w,zy()))},k0=function(a,c,p,w){TD(a,c,p,[w]),fw(a,c,p,w)||(Xu(w.element,c.highlightClass),c.onHighlight(a,w),ko(w,XM()))},gl=function(a,c,p){AD(a,c).each(function(w){k0(a,c,p,w)})},m1=function(a,c,p){ED(a,c).each(function(w){k0(a,c,p,w)})},a4=function(a,c,p,w){DD(a,c,p,w).fold(function(M){throw M},function(M){k0(a,c,p,M)})},ZS=function(a,c,p,w){var M=D0(a,c),A=Rt(M,w);A.each(function(N){k0(a,c,p,N)})},fw=function(a,c,p,w){return cl(w.element,c.highlightClass)},kD=function(a,c,p){return mu(a.element,"."+c.highlightClass).bind(function(w){return a.getSystem().getByDom(w).toOptional()})},DD=function(a,c,p,w){var M=Ru(a.element,"."+c.itemClass);return $.from(M[w]).fold(function(){return fo.error(new Error("No element found with index "+w))},a.getSystem().getByDom)},AD=function(a,c,p){return mu(a.element,"."+c.itemClass).bind(function(w){return a.getSystem().getByDom(w).toOptional()})},ED=function(a,c,p){var w=Ru(a.element,"."+c.itemClass),M=w.length>0?$.some(w[w.length-1]):$.none();return M.bind(function(A){return a.getSystem().getByDom(A).toOptional()})},rp=function(a,c,p,w){var M=Ru(a.element,"."+c.itemClass),A=ur(M,function(N){return cl(N,c.highlightClass)});return A.bind(function(N){var j=Yd(N,w,0,M.length-1);return a.getSystem().getByDom(M[j]).toOptional()})},u4=function(a,c,p){return rp(a,c,p,-1)},s4=function(a,c,p){return rp(a,c,p,1)},D0=function(a,c,p){var w=Ru(a.element,"."+c.itemClass);return zr(Je(w,function(M){return a.getSystem().getByDom(M).toOptional()}))},l4=Object.freeze({__proto__:null,dehighlightAll:i4,dehighlight:MD,highlight:k0,highlightFirst:gl,highlightLast:m1,highlightAt:a4,highlightBy:ZS,isHighlighted:fw,getHighlighted:kD,getFirst:AD,getLast:ED,getPrevious:u4,getNext:s4,getCandidates:D0}),c4=[on("highlightClass"),on("itemClass"),_o("onHighlight"),_o("onDehighlight")],ii=Ya({fields:c4,name:"highlighting",apis:l4}),A0=[8],fm=[9],rh=[13],dm=[27],Gs=[32],dw=[37],g1=[38],E0=[39],hm=[40],f4=function(a,c,p){var w=Qt(a.slice(0,c)),M=Qt(a.slice(c+1));return Rt(w.concat(M),p)},OD=function(a,c,p){var w=Qt(a.slice(0,c));return Rt(w,p)},hw=function(a,c,p){var w=a.slice(0,c),M=a.slice(c+1);return Rt(M.concat(w),p)},d4=function(a,c,p){var w=a.slice(c+1);return Rt(w,p)},Ro=function(a){return function(c){var p=c.raw;return Ot(a,p.which)}},Ef=function(a){return function(c){return Mn(a,function(p){return p(c)})}},O0=function(a){var c=a.raw;return c.shiftKey===!0},ID=function(a){var c=a.raw;return c.ctrlKey===!0},v1=ae(O0),Bo=function(a,c){return{matches:a,classification:c}},QS=function(a,c){var p=Rt(a,function(w){return w.matches(c)});return p.map(function(w){return w.classification})},RD=function(a,c,p){var w=c.exists(function(M){return p.exists(function(A){return si(A,M)})});w||Ir(a,tx(),{prevFocus:c,newFocus:p})},y1=function(){var a=function(p){return Tf(p.element)},c=function(p,w){var M=a(p);p.getSystem().triggerFocus(w,p.element);var A=a(p);RD(p,M,A)};return{get:a,set:c}},PD=function(){var a=function(p){return ii.getHighlighted(p).map(function(w){return w.element})},c=function(p,w){var M=a(p);p.getSystem().getByDom(w).fold(E,function(N){ii.highlight(p,N)});var A=a(p);RD(p,M,A)};return{get:a,set:c}},b1;(function(a){a.OnFocusMode="onFocus",a.OnEnterOrSpaceMode="onEnterOrSpace",a.OnApiMode="onApi"})(b1||(b1={}));var op=function(a,c,p,w,M){var A=function(){return a.concat([dt("focusManager",y1()),sl("focusInside","onFocus",Hv(function(K){return Ot(["onFocus","onEnterOrSpace","onApi"],K)?fo.value(K):fo.error("Invalid value for focusInside")})),Ci("handler",W),Ci("state",c),Ci("sendFocusIn",M)])},N=function(K,oe,se,be,_e){var Ee=se(K,oe,be,_e);return QS(Ee,oe.event).bind(function(je){return je(K,oe,be,_e)})},j=function(K,oe){var se=K.focusInside!==b1.OnFocusMode?$.none():M(K).map(function(Ee){return fn(Bp(),function(je,ft){Ee(je,K,oe),ft.stop()})}),be=function(Ee,je){var ft=Ro(Gs.concat(rh))(je.event);K.focusInside===b1.OnEnterOrSpaceMode&&ft&&UM(Ee,je)&&M(K).each(function(Be){Be(Ee,K,oe),je.stop()})},_e=[fn(Jb(),function(Ee,je){N(Ee,je,p,K,oe).fold(function(){be(Ee,je)},function(ft){je.stop()})}),fn(x_(),function(Ee,je){N(Ee,je,w,K,oe).each(function(ft){je.stop()})})];return Gi(se.toArray().concat(_e))},W={schema:A,processKey:N,toEvents:j};return W},eC=function(a){var c=[oi("onEscape"),oi("onEnter"),dt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),dt("firstTabstop",0),dt("useTabstopAt",le),oi("visibilitySelector")].concat([a]),p=function(je,ft){var Be=je.visibilitySelector.bind(function(ht){return qs(ft,ht)}).getOr(ft);return fu(Be)>0},w=function(je,ft){var Be=Ru(je.element,ft.selector),ht=Ye(Be,function(Ut){return p(ft,Ut)});return $.from(ht[ft.firstTabstop])},M=function(je,ft){return ft.focusManager.get(je).bind(function(Be){return qs(Be,ft.selector)})},A=function(je,ft){return p(je,ft)&&je.useTabstopAt(ft)},N=function(je,ft,Be){w(je,ft).each(function(ht){ft.focusManager.set(je,ht)})},j=function(je,ft,Be,ht,Ut){return Ut(ft,Be,function(Kt){return A(ht,Kt)}).fold(function(){return ht.cyclic?$.some(!0):$.none()},function(Kt){return ht.focusManager.set(je,Kt),$.some(!0)})},W=function(je,ft,Be,ht){var Ut=Ru(je.element,Be.selector);return M(je,Be).bind(function(Kt){var ct=ur(Ut,Y(si,Kt));return ct.bind(function(Lt){return j(je,Ut,Lt,Be,ht)})})},K=function(je,ft,Be){var ht=Be.cyclic?f4:OD;return W(je,ft,Be,ht)},oe=function(je,ft,Be){var ht=Be.cyclic?hw:d4;return W(je,ft,Be,ht)},se=function(je,ft,Be){return Be.onEnter.bind(function(ht){return ht(je,ft)})},be=function(je,ft,Be){return Be.onEscape.bind(function(ht){return ht(je,ft)})},_e=L([Bo(Ef([O0,Ro(fm)]),K),Bo(Ro(fm),oe),Bo(Ro(dm),be),Bo(Ef([v1,Ro(rh)]),se)]),Ee=L([]);return op(c,ec.init,_e,Ee,function(){return $.some(N)})},ND=eC(ul("cyclic",ie)),h4=eC(ul("cyclic",le)),p4=function(a,c,p){return M_(a,p,Tc()),$.some(!0)},pm=function(a,c,p){var w=cm(p)&&Ro(Gs)(c.event);return w?$.none():p4(a,c,p)},Gg=function(a,c){return $.some(!0)},I0=[dt("execute",pm),dt("useSpace",!1),dt("useEnter",!0),dt("useControlEnter",!1),dt("useDown",!1)],LD=function(a,c,p){return p.execute(a,c,a.element)},tC=function(a,c,p,w){var M=p.useSpace&&!cm(a.element)?Gs:[],A=p.useEnter?rh:[],N=p.useDown?hm:[],j=M.concat(A).concat(N);return[Bo(Ro(j),LD)].concat(p.useControlEnter?[Bo(Ef([ID,Ro(rh)]),LD)]:[])},m4=function(a,c,p,w){return p.useSpace&&!cm(a.element)?[Bo(Ro(Gs),Gg)]:[]},pw=op(I0,ec.init,tC,m4,function(){return $.none()}),mw=function(){var a=za(),c=function(M,A){a.set({numRows:M,numColumns:A})},p=function(){return a.get().map(function(M){return M.numRows})},w=function(){return a.get().map(function(M){return M.numColumns})};return Gu({readState:function(){return a.get().map(function(M){return{numRows:String(M.numRows),numColumns:String(M.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:c,getNumRows:p,getNumColumns:w})},nC=function(a){return a.state(a)},g4=Object.freeze({__proto__:null,flatgrid:mw,init:nC}),rC=function(a){return function(c,p,w,M){var A=a(c.element);return Xg(A,c,p,w,M)}},gw=function(a,c){var p=Vx(a,c);return rC(p)},vw=function(a,c){var p=Vx(c,a);return rC(p)},oC=function(a){return function(c,p,w,M){return Xg(a,c,p,w,M)}},Xg=function(a,c,p,w,M){var A=w.focusManager.get(c).bind(function(N){return a(c.element,N,w,M)});return A.map(function(N){return w.focusManager.set(c,N),!0})},yw=oC,iC=oC,bw=oC,x1=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},BD=function(a){return!x1(a.dom)},v4=function(a,c){return ur(a,c).map(function(p){return{index:p,candidates:a}})},zD=function(a,c,p){var w=function(N){return si(N,c)},M=Ru(a,p),A=Ye(M,BD);return v4(A,w)},FD=function(a,c){return ur(a,function(p){return si(c,p)})},aC=function(a,c,p,w){var M=Math.floor(c/p),A=c%p;return w(M,A).bind(function(N){var j=N.row*p+N.column;return j>=0&&j<a.length?$.some(a[j]):$.none()})},VD=function(a,c,p,w,M){return aC(a,c,w,function(A,N){var j=A===p-1,W=j?a.length-A*w:w,K=Yd(N,M,0,W-1);return $.some({row:A,column:K})})},HD=function(a,c,p,w,M){return aC(a,c,w,function(A,N){var j=Yd(A,M,0,p-1),W=j===p-1,K=W?a.length-j*w:w,oe=Rl(N,0,K-1);return $.some({row:j,column:oe})})},uC=function(a,c,p,w){return VD(a,c,p,w,1)},sC=function(a,c,p,w){return VD(a,c,p,w,-1)},y4=function(a,c,p,w){return HD(a,c,p,w,-1)},b4=function(a,c,p,w){return HD(a,c,p,w,1)},R0=[on("selector"),dt("execute",pm),Pi("onEscape"),dt("captureTab",!1),hx()],x4=function(a,c,p){mu(a.element,c.selector).each(function(w){c.focusManager.set(a,w)})},mm=function(a,c){return c.focusManager.get(a).bind(function(p){return qs(p,c.selector)})},jD=function(a,c,p,w){return mm(a,p).bind(function(M){return p.execute(a,c,M)})},Yg=function(a){return function(c,p,w,M){return zD(c,p,w.selector).bind(function(A){return a(A.candidates,A.index,M.getNumRows().getOr(w.initSize.numRows),M.getNumColumns().getOr(w.initSize.numColumns))})}},xw=function(a,c,p){return p.captureTab?$.some(!0):$.none()},WD=function(a,c,p){return p.onEscape(a,c)},lC=Yg(sC),w1=Yg(uC),cC=Yg(y4),Kg=Yg(b4),_1=L([Bo(Ro(dw),gw(lC,w1)),Bo(Ro(E0),vw(lC,w1)),Bo(Ro(g1),yw(cC)),Bo(Ro(hm),iC(Kg)),Bo(Ef([O0,Ro(fm)]),xw),Bo(Ef([v1,Ro(fm)]),xw),Bo(Ro(dm),WD),Bo(Ro(Gs.concat(rh)),jD)]),w4=L([Bo(Ro(Gs),Gg)]),UD=op(R0,mw,_1,w4,function(){return $.some(x4)}),P0=function(a,c,p,w){var M=function(N){return qe(N)==="button"&&la(N,"disabled")==="disabled"},A=function(N,j,W){var K=Yd(j,w,0,W.length-1);return K===N?$.none():M(W[K])?A(N,K,W):$.from(W[K])};return zD(a,p,c).bind(function(N){var j=N.index,W=N.candidates;return A(j,j,W)})},_4=[on("selector"),dt("getInitial",$.none),dt("execute",pm),Pi("onEscape"),dt("executeOnMove",!1),dt("allowVertical",!0)],S1=function(a,c){return c.focusManager.get(a).bind(function(p){return qs(p,c.selector)})},C1=function(a,c,p){return S1(a,p).bind(function(w){return p.execute(a,c,w)})},qD=function(a,c,p){c.getInitial(a).orThunk(function(){return mu(a.element,c.selector)}).each(function(w){c.focusManager.set(a,w)})},Xc=function(a,c,p){return P0(a,p.selector,c,-1)},fC=function(a,c,p){return P0(a,p.selector,c,1)},ww=function(a){return function(c,p,w,M){return a(c,p,w,M).bind(function(){return w.executeOnMove?C1(c,p,w):$.some(!0)})}},S4=function(a,c,p){return p.onEscape(a,c)},dC=function(a,c,p,w){var M=dw.concat(p.allowVertical?g1:[]),A=E0.concat(p.allowVertical?hm:[]);return[Bo(Ro(M),ww(gw(Xc,fC))),Bo(Ro(A),ww(vw(Xc,fC))),Bo(Ro(rh),C1),Bo(Ro(Gs),C1),Bo(Ro(dm),S4)]},$D=L([Bo(Ro(Gs),Gg)]),_w=op(_4,ec.init,dC,$D,function(){return $.some(qD)}),T1=function(a,c,p){return $.from(a[c]).bind(function(w){return $.from(w[p]).map(function(M){return{rowIndex:c,columnIndex:p,cell:M}})})},hC=function(a,c,p,w){var M=a[c],A=M.length,N=Yd(p,w,0,A-1);return T1(a,c,N)},GD=function(a,c,p,w){var M=Yd(p,w,0,a.length-1),A=a[M].length,N=Rl(c,0,A-1);return T1(a,M,N)},XD=function(a,c,p,w){var M=a[c],A=M.length,N=Rl(p+w,0,A-1);return T1(a,c,N)},ip=function(a,c,p,w){var M=Rl(p+w,0,a.length-1),A=a[M].length,N=Rl(c,0,A-1);return T1(a,M,N)},Sw=function(a,c,p){return hC(a,c,p,1)},C4=function(a,c,p){return hC(a,c,p,-1)},pC=function(a,c,p){return GD(a,p,c,-1)},T4=function(a,c,p){return GD(a,p,c,1)},mC=function(a,c,p){return XD(a,c,p,-1)},N0=function(a,c,p){return XD(a,c,p,1)},Cw=function(a,c,p){return ip(a,p,c,-1)},M4=function(a,c,p){return ip(a,p,c,1)},YD=[Hd("selectors",[on("row"),on("cell")]),dt("cycles",!0),dt("previousSelector",$.none),dt("execute",pm)],gC=function(a,c,p){var w=c.previousSelector(a).orThunk(function(){var M=c.selectors;return mu(a.element,M.cell)});w.each(function(M){c.focusManager.set(a,M)})},vC=function(a,c,p){return Tf(a.element).bind(function(w){return p.execute(a,c,w)})},k4=function(a,c){return Je(a,function(p){return Ru(p,c.selectors.cell)})},Tw=function(a,c){return function(p,w,M){var A=M.cycles?a:c;return qs(w,M.selectors.row).bind(function(N){var j=Ru(N,M.selectors.cell);return FD(j,w).bind(function(W){var K=Ru(p,M.selectors.row);return FD(K,N).bind(function(oe){var se=k4(K,M);return A(se,oe,W).map(function(be){return be.cell})})})})}},KD=Tw(C4,mC),JD=Tw(Sw,N0),ZD=Tw(pC,Cw),M1=Tw(T4,M4),k1=L([Bo(Ro(dw),gw(KD,JD)),Bo(Ro(E0),vw(KD,JD)),Bo(Ro(g1),yw(ZD)),Bo(Ro(hm),iC(M1)),Bo(Ro(Gs.concat(rh)),vC)]),Jg=L([Bo(Ro(Gs),Gg)]),QD=op(YD,ec.init,k1,Jg,function(){return $.some(gC)}),eA=[on("selector"),dt("execute",pm),dt("moveOnTab",!1)],Mw=function(a,c,p){return p.focusManager.get(a).bind(function(w){return p.execute(a,c,w)})},kw=function(a,c,p){mu(a.element,c.selector).each(function(w){c.focusManager.set(a,w)})},yC=function(a,c,p){return P0(a,p.selector,c,-1)},bC=function(a,c,p){return P0(a,p.selector,c,1)},tA=function(a,c,p,w){return p.moveOnTab?bw(yC)(a,c,p,w):$.none()},oh=function(a,c,p,w){return p.moveOnTab?bw(bC)(a,c,p,w):$.none()},xC=L([Bo(Ro(g1),bw(yC)),Bo(Ro(hm),bw(bC)),Bo(Ef([O0,Ro(fm)]),tA),Bo(Ef([v1,Ro(fm)]),oh),Bo(Ro(rh),Mw),Bo(Ro(Gs),Mw)]),ih=L([Bo(Ro(Gs),Gg)]),D4=op(eA,ec.init,xC,ih,function(){return $.some(kw)}),ap=[Pi("onSpace"),Pi("onEnter"),Pi("onShiftEnter"),Pi("onLeft"),Pi("onRight"),Pi("onTab"),Pi("onShiftTab"),Pi("onUp"),Pi("onDown"),Pi("onEscape"),dt("stopSpaceKeyup",!1),oi("focusIn")],nA=function(a,c,p){return[Bo(Ro(Gs),p.onSpace),Bo(Ef([v1,Ro(rh)]),p.onEnter),Bo(Ef([O0,Ro(rh)]),p.onShiftEnter),Bo(Ef([O0,Ro(fm)]),p.onShiftTab),Bo(Ef([v1,Ro(fm)]),p.onTab),Bo(Ro(g1),p.onUp),Bo(Ro(hm),p.onDown),Bo(Ro(dw),p.onLeft),Bo(Ro(E0),p.onRight),Bo(Ro(Gs),p.onSpace),Bo(Ro(dm),p.onEscape)]},rA=function(a,c,p){return p.stopSpaceKeyup?[Bo(Ro(Gs),Gg)]:[]},A4=op(ap,ec.init,nA,rA,function(a){return a.focusIn}),E4=ND.schema(),L0=h4.schema(),B0=_w.schema(),Dw=UD.schema(),oA=QD.schema(),gm=pw.schema(),vm=D4.schema(),iA=A4.schema(),D1=Object.freeze({__proto__:null,acyclic:E4,cyclic:L0,flow:B0,flatgrid:Dw,matrix:oA,execution:gm,menu:vm,special:iA}),Zg=function(a){return Kn(a,"setGridSize")},Rr=Mg({branchKey:"mode",branches:D1,name:"keying",active:{events:function(a,c){var p=a.handler;return p.toEvents(a,c)}},apis:{focusIn:function(a,c,p){c.sendFocusIn(c).fold(function(){a.getSystem().triggerFocus(a.element,a.element)},function(w){w(a,c,p)})},setGridSize:function(a,c,p,w,M){Zg(p)?p.setGridSize(w,M):console.error("Layout does not support setGridSize")}},state:g4}),wC=function(a,c,p,w){Zh(function(){var M=Je(w,a.getSystem().build);Xk(a,M)},a.element)},Aw=function(a,c,p,w){var M=a.getSystem().build(w);Bg(a,M,p)},_C=function(a,c,p,w){Aw(a,c,Ts,w)},up=function(a,c,p,w){Aw(a,c,Nh,w)},Ew=function(a,c,p,w){var M=A1(a),A=Rt(M,function(N){return si(w.element,N.element)});A.each(jc)},A1=function(a,c){return a.components()},Ow=function(a,c,p,w,M){var A=A1(a);return $.from(A[w]).map(function(N){return Ew(a,c,p,N),M.each(function(j){Aw(a,c,function(W,K){Qf(W,K,w)},j)}),N})},SC=function(a,c,p,w,M){var A=A1(a);return ur(A,w).bind(function(N){return Ow(a,c,p,N,M)})},CC=Object.freeze({__proto__:null,append:_C,prepend:up,remove:Ew,replaceAt:Ow,replaceBy:SC,set:wC,contents:A1}),Qr=Ya({fields:[],name:"replacing",apis:CC}),aA=function(a,c){var p=Gi(c);return Ya({fields:[on("enabled")],name:a,active:{events:L(p)}})},po=function(a,c){var p=aA(a,c);return{key:a,value:{config:{},me:p,configAsRaw:L({}),initialConfig:{},state:ec}}},uA=function(a,c){c.ignore||(Kd(a.element),c.onFocus(a))},E1=function(a,c){c.ignore||Gy(a.element)},Iw=function(a){return Mx(a.element)},ym=Object.freeze({__proto__:null,focus:uA,blur:E1,isFocused:Iw}),TC=function(a,c){var p=c.ignore?{}:{attributes:{tabindex:"-1"}};return ud(p)},Rw=function(a){return Gi([fn(Bp(),function(c,p){uA(c,a),p.stop()})].concat(a.stopMousedown?[fn(xf(),function(c,p){p.event.prevent()})]:[]))},O1=Object.freeze({__proto__:null,exhibit:TC,events:Rw}),sA=[_o("onFocus"),dt("stopMousedown",!1),dt("ignore",!1)],$r=Ya({fields:sA,name:"focusing",active:O1,apis:ym}),lA=function(a){var c=function(){var p=Er(a),w=function(){return p.get()},M=function(j){return p.set(j)},A=function(){return p.set(a)},N=function(){return p.get()};return{get:w,set:M,clear:A,readState:N}};return{init:c}},cA=function(a,c,p){var w=c.aria;w.update(a,w,p.get())},z0=function(a,c,p){c.toggleClass.each(function(w){p.get()?Xu(a.element,w):pu(a.element,w)})},Qg=function(a,c,p){MC(a,c,p,!p.get())},fA=function(a,c,p){p.set(!0),z0(a,c,p),cA(a,c,p)},dA=function(a,c,p){p.set(!1),z0(a,c,p),cA(a,c,p)},MC=function(a,c,p,w){var M=w?fA:dA;M(a,c,p)},Pw=function(a,c,p){return p.get()},hA=function(a,c,p){MC(a,c,p,c.selected)},Nw=Object.freeze({__proto__:null,onLoad:hA,toggle:Qg,isOn:Pw,on:fA,off:dA,set:MC}),pA=function(){return ud({})},mA=function(a,c){var p=Sx(a,c,Qg),w=Tu(a,c,hA);return Gi(Xe([a.toggleOnExecute?[p]:[],[w]]))},O4=Object.freeze({__proto__:null,exhibit:pA,events:mA}),I4=function(a,c,p){so(a.element,"aria-pressed",p),c.syncWithExpanded&&gA(a,c,p)},R4=function(a,c,p){so(a.element,"aria-selected",p)},P4=function(a,c,p){so(a.element,"aria-checked",p)},gA=function(a,c,p){so(a.element,"aria-expanded",p)},kC=[dt("selected",!1),oi("toggleClass"),dt("toggleOnExecute",!0),sl("aria",{mode:"none"},Lc("mode",{pressed:[dt("syncWithExpanded",!1),Ci("update",I4)],checked:[Ci("update",P4)],expanded:[Ci("update",gA)],selected:[Ci("update",R4)],none:[Ci("update",E)]}))],zo=Ya({fields:kC,name:"toggling",active:O4,apis:Nw,state:lA(!1)}),vA=function(){var a=function(c,p){p.stop(),$h(c)};return[fn(Gv(),a),fn(zp(),a),Xa(Ud()),Xa(xf())]},I1=function(a){var c=function(p){return Sf(function(w,M){p(w),M.stop()})};return Gi(Xe([a.map(c).toArray(),vA()]))},R1="alloy.item-hover",Lw="alloy.item-focus",Bw=function(a){(Tf(a.element).isNone()||$r.isFocused(a))&&($r.isFocused(a)||$r.focus(a),Ir(a,R1,{item:a}))},yA=function(a){Ir(a,Lw,{item:a})},bA=L(R1),v=L(Lw),C=function(a){return{dom:a.dom,domModification:ne(ne({},a.domModification),{attributes:ne(ne(ne({role:a.toggling.isSome()?"menuitemcheckbox":"menuitem"},a.domModification.attributes),{"aria-haspopup":a.hasSubmenu}),a.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:$c.augment(a.itemBehaviours,[a.toggling.fold(zo.revoke,function(c){return zo.config(ne({aria:{mode:"checked"}},c))}),$r.config({ignore:a.ignoreFocus,stopMousedown:a.ignoreFocus,onFocus:function(c){yA(c)}}),Rr.config({mode:"execution"}),qn.config({store:{mode:"memory",initialValue:a.data}}),po("item-type-events",Ce(Ce([],vA(),!0),[fn(Uh(),Bw),fn(lg(),$r.focus)],!1))]),components:a.components,eventOrder:a.eventOrder}},D=[on("data"),on("components"),on("dom"),dt("hasSubmenu",!1),oi("toggling"),$c.field("itemBehaviours",[zo,$r,Rr,qn]),dt("ignoreFocus",!1),dt("domModification",{}),Ci("builder",C),dt("eventOrder",{})],P=function(a){return{dom:a.dom,components:a.components,events:Gi([na(lg())])}},F=[on("dom"),on("components"),Ci("builder",P)],G=L("item-widget"),re=L([Qu({name:"widget",overrides:function(a){return{behaviours:zn([qn.config({store:{mode:"manual",getValue:function(c){return a.data},setValue:E}})])}}})]),de=function(a){var c=HS(G(),a,re()),p=jS(G(),a,c.internals()),w=function(A){return Ti(A,a,"widget").map(function(N){return Rr.focusIn(N),N})},M=function(A,N){return cm(N.event.target)?$.none():function(){return a.autofocus&&N.setSource(A.element),$.none()}()};return{dom:a.dom,components:p,domModification:a.domModification,events:Gi([Sf(function(A,N){w(A).each(function(j){N.stop()})}),fn(Uh(),Bw),fn(lg(),function(A,N){a.autofocus?w(A):$r.focus(A)})]),behaviours:$c.augment(a.widgetBehaviours,[qn.config({store:{mode:"memory",initialValue:a.data}}),$r.config({ignore:a.ignoreFocus,onFocus:function(A){yA(A)}}),Rr.config({mode:"special",focusIn:a.autofocus?function(A){w(A)}:Cx(),onLeft:M,onRight:M,onEscape:function(A,N){return!$r.isFocused(A)&&!a.autofocus?($r.focus(A),$.some(!0)):(a.autofocus&&N.setSource(A.element),$.none())}})])}},Se=[on("uid"),on("data"),on("components"),on("dom"),dt("autofocus",!1),dt("ignoreFocus",!1),$c.field("widgetBehaviours",[qn,$r,Rr]),dt("domModification",{}),qS(re()),Ci("builder",de)],Le=Lc("type",{widget:Se,item:D,separator:F}),ot=function(a,c){return{mode:"flatgrid",selector:"."+a.markers.item,initSize:{numColumns:c.initSize.numColumns,numRows:c.initSize.numRows},focusManager:a.focusManager}},Gt=function(a,c){return{mode:"matrix",selectors:{row:c.rowSelector,cell:"."+a.markers.item},focusManager:a.focusManager}},_n=function(a,c){return{mode:"menu",selector:"."+a.markers.item,moveOnTab:c.moveOnTab,focusManager:a.focusManager}},sn=L([md({factory:{sketch:function(a){var c=mi("menu.spec item",Le,a);return c.builder(c)}},name:"items",unit:"item",defaults:function(a,c){return ln(c,"uid")?c:ne(ne({},c),{uid:hg("item")})},overrides:function(a,c){return{type:c.type,ignoreFocus:a.fakeFocus,domModification:{classes:[a.markers.item]}}}})]),Xt=L([on("value"),on("items"),on("dom"),on("components"),dt("eventOrder",{}),Pu("menuBehaviours",[ii,qn,So,Rr]),sl("movement",{mode:"menu",moveOnTab:!0},Lc("mode",{grid:[hx(),Ci("config",ot)],matrix:[Ci("config",Gt),on("rowSelector")],menu:[dt("moveOnTab",!0),Ci("config",_n)]})),eO(),dt("fakeFocus",!1),dt("focusManager",y1()),_o("onHighlight")]),Nn=L("alloy.menu-focus"),Pn=function(a,c,p,w){return{uid:a.uid,dom:a.dom,markers:a.markers,behaviours:Nu(a.menuBehaviours,[ii.config({highlightClass:a.markers.selectedItem,itemClass:a.markers.item,onHighlight:a.onHighlight}),qn.config({store:{mode:"memory",initialValue:a.value}}),So.config({find:$.some}),Rr.config(a.movement.config(a,a.movement))]),events:Gi([fn(v(),function(M,A){var N=A.event;M.getSystem().getByDom(N.target).each(function(j){ii.highlight(M,j),A.stop(),Ir(M,Nn(),{menu:M,item:j})})}),fn(bA(),function(M,A){var N=A.event.item;ii.highlight(M,N)})]),components:c,eventOrder:a.eventOrder,domModification:{attributes:{role:"menu"}}}},xr=ml({name:"Menu",configFields:Xt(),partFields:sn(),factory:Pn}),qo=function(a){return pt(a,function(c,p){return{k:c,v:p}})},Ar=function(a,c,p,w){return Pt(p,w).bind(function(M){return Pt(a,M).bind(function(A){var N=Ar(a,c,p,A);return $.some([A].concat(N))})}).getOr([])},Gr=function(a,c){var p={};Bn(a,function(N,j){Fe(N,function(W){p[W]=j})});var w=c,M=qo(c),A=bn(M,function(N,j){return[j].concat(Ar(p,w,M,j))});return bn(p,function(N){return Pt(A,N).getOr([N])})},Po=function(){var a=Er({}),c=Er({}),p=Er({}),w=za(),M=Er({}),A=function(){a.set({}),c.set({}),p.set({}),w.clear()},N=function(){return w.get().isNone()},j=function(ct,Lt){var rn;c.set(ne(ne({},c.get()),(rn={},rn[ct]={type:"prepared",menu:Lt},rn)))},W=function(ct,Lt,rn,$n){w.set(ct),a.set(rn),c.set(Lt),M.set($n);var cn=Gr($n,rn);p.set(cn)},K=function(ct){return et(a.get(),function(Lt,rn){return Lt===ct})},oe=function(ct,Lt,rn){return je(ct).bind(function($n){return K(ct).bind(function(cn){return Lt(cn).map(function(Xn){return{triggeredMenu:$n,triggeringItem:Xn,triggeringPath:rn}})})})},se=function(ct,Lt){var rn=Ye(Be(ct).toArray(),function($n){return je($n).isSome()});return Pt(p.get(),ct).bind(function($n){var cn=Qt(rn.concat($n)),Xn=Bt(cn,function(mn,nn){return oe(mn,Lt,cn.slice(0,nn+1)).fold(function(){return Br(w.get(),mn)?[]:[$.none()]},function(jn){return[$.some(jn)]})});return Hr(Xn)})},be=function(ct){return Pt(a.get(),ct).map(function(Lt){var rn=Pt(p.get(),ct).getOr([]);return[Lt].concat(rn)})},_e=function(ct){return Pt(p.get(),ct).bind(function(Lt){return Lt.length>1?$.some(Lt.slice(1)):$.none()})},Ee=function(ct){return Pt(p.get(),ct)},je=function(ct){return ft(ct).bind(xo)},ft=function(ct){return Pt(c.get(),ct)},Be=function(ct){return Pt(a.get(),ct)},ht=function(ct){var Lt=M.get();return Zn(Tt(Lt),ct)},Ut=function(){return w.get().bind(je)},Kt=function(){return c.get()};return{setMenuBuilt:j,setContents:W,expand:be,refresh:Ee,collapse:_e,lookupMenu:ft,lookupItem:Be,otherMenus:ht,getPrimary:Ut,getMenus:Kt,clear:A,isClear:N,getTriggeringPath:se}},xo=function(a){return a.type==="prepared"?$.some(a.menu):$.none()},Fa={init:Po,extractPreparedMenu:xo},Lu=function(a,c){var p=za(),w=function(dn,cr,wr){return bn(wr,function(Vo,wi){var Oa=function(){return xr.sketch(ne(ne({},Vo),{value:wi,markers:a.markers,fakeFocus:a.fakeFocus,onHighlight:a.onHighlight,focusManager:a.fakeFocus?PD():y1()}))};return wi===cr?{type:"prepared",menu:dn.getSystem().build(Oa())}:{type:"notbuilt",nbMenu:Oa}})},M=Fa.init(),A=function(dn){var cr=w(dn,a.data.primary,a.data.menus),wr=W();return M.setContents(a.data.primary,cr,a.data.expansions,wr),M.getPrimary()},N=function(dn){return qn.getValue(dn).value},j=function(dn,cr,wr){return vt(cr,function(Vo){if(!Vo.getSystem().isConnected())return $.none();var wi=ii.getCandidates(Vo);return Rt(wi,function(Oa){return N(Oa)===wr})})},W=function(dn){return bn(a.data.menus,function(cr,wr){return Bt(cr.items,function(Vo){return Vo.type==="separator"?[]:[Vo.data.value]})})},K=function(dn,cr){ii.highlight(dn,cr),ii.getHighlighted(cr).orThunk(function(){return ii.getFirst(cr)}).each(function(wr){M_(dn,wr.element,lg())})},oe=function(dn,cr){return zr(Je(cr,function(wr){return dn.lookupMenu(wr).bind(function(Vo){return Vo.type==="prepared"?$.some(Vo.menu):$.none()})}))},se=function(dn,cr,wr){var Vo=oe(cr,cr.otherMenus(wr));Fe(Vo,function(wi){Gd(wi.element,[a.markers.backgroundMenu]),a.stayInDom||Qr.remove(dn,wi)})},be=function(dn){return p.get().getOrThunk(function(){var cr={},wr=Ru(dn.element,"."+a.markers.item),Vo=Ye(wr,function(wi){return la(wi,"aria-haspopup")==="true"});return Fe(Vo,function(wi){dn.getSystem().getByDom(wi).each(function(Oa){var vp=N(Oa);cr[vp]=Oa})}),p.set(cr),cr})},_e=function(dn,cr){var wr=be(dn);Bn(wr,function(Vo,wi){var Oa=Ot(cr,wi);so(Vo.element,"aria-expanded",Oa)})},Ee=function(dn,cr,wr){return $.from(wr[0]).bind(function(Vo){return cr.lookupMenu(Vo).bind(function(wi){if(wi.type==="notbuilt")return $.none();var Oa=wi.menu,vp=oe(cr,wr.slice(1));return Fe(vp,function(ph){Xu(ph.element,a.markers.backgroundMenu)}),Or(Oa.element)||Qr.append(dn,Dc(Oa)),Gd(Oa.element,[a.markers.backgroundMenu]),K(dn,Oa),se(dn,cr,wr),$.some(Oa)})})},je;(function(dn){dn[dn.HighlightSubmenu=0]="HighlightSubmenu",dn[dn.HighlightParent=1]="HighlightParent"})(je||(je={}));var ft=function(dn,cr,wr){if(wr.type==="notbuilt"){var Vo=dn.getSystem().build(wr.nbMenu());return M.setMenuBuilt(cr,Vo),Vo}else return wr.menu},Be=function(dn,cr,wr){if(wr===void 0&&(wr=je.HighlightSubmenu),cr.hasConfigured(Mr)&&Mr.isDisabled(cr))return $.some(cr);var Vo=N(cr);return M.expand(Vo).bind(function(wi){return _e(dn,wi),$.from(wi[0]).bind(function(Oa){return M.lookupMenu(Oa).bind(function(vp){var ph=ft(dn,Oa,vp);return Or(ph.element)||Qr.append(dn,Dc(ph)),a.onOpenSubmenu(dn,cr,ph,Qt(wi)),wr===je.HighlightSubmenu?(ii.highlightFirst(ph),Ee(dn,M,wi)):(ii.dehighlightAll(ph),$.some(cr))})})})},ht=function(dn,cr){var wr=N(cr);return M.collapse(wr).bind(function(Vo){return _e(dn,Vo),Ee(dn,M,Vo).map(function(wi){return a.onCollapseMenu(dn,cr,wi),wi})})},Ut=function(dn,cr){var wr=N(cr);return M.refresh(wr).bind(function(Vo){return _e(dn,Vo),Ee(dn,M,Vo)})},Kt=function(dn,cr){return cm(cr.element)?$.none():Be(dn,cr,je.HighlightSubmenu)},ct=function(dn,cr){return cm(cr.element)?$.none():ht(dn,cr)},Lt=function(dn,cr){return ht(dn,cr).orThunk(function(){return a.onEscape(dn,cr).map(function(){return dn})})},rn=function(dn){return function(cr,wr){return qs(wr.getSource(),"."+a.markers.item).bind(function(Vo){return cr.getSystem().getByDom(Vo).toOptional().bind(function(wi){return dn(cr,wi).map(le)})})}},$n=Gi([fn(Nn(),function(dn,cr){var wr=cr.event.item;M.lookupItem(N(wr)).each(function(){var Vo=cr.event.menu;ii.highlight(dn,Vo);var wi=N(cr.event.item);M.refresh(wi).each(function(Oa){return se(dn,M,Oa)})})}),Sf(function(dn,cr){var wr=cr.event.target;dn.getSystem().getByDom(wr).each(function(Vo){var wi=N(Vo);wi.indexOf("collapse-item")===0&&ht(dn,Vo),Be(dn,Vo,je.HighlightSubmenu).fold(function(){a.onExecute(dn,Vo)},E)})}),ha(function(dn,cr){A(dn).each(function(wr){Qr.append(dn,Dc(wr)),a.onOpenMenu(dn,wr),a.highlightImmediately&&K(dn,wr)})})].concat(a.navigateOnHover?[fn(bA(),function(dn,cr){var wr=cr.event.item;Ut(dn,wr),Be(dn,wr,je.HighlightParent),a.onHover(dn,wr)})]:[])),cn=function(dn){return ii.getHighlighted(dn).bind(ii.getHighlighted)},Xn=function(dn){cn(dn).each(function(cr){ht(dn,cr)})},mn=function(dn){M.getPrimary().each(function(cr){K(dn,cr)})},nn=function(dn){return $.from(dn.components()[0]).filter(function(cr){return la(cr.element,"role")==="menu"})},jn=function(dn){var cr=M.getPrimary().bind(function(wr){return cn(dn).bind(function(Vo){var wi=N(Vo),Oa=jt(M.getMenus()),vp=zr(Je(Oa,Fa.extractPreparedMenu));return M.getTriggeringPath(wi,function(ph){return j(dn,vp,ph)})}).map(function(Vo){return{primary:wr,triggeringPath:Vo}})});cr.fold(function(){nn(dn).each(function(wr){a.onRepositionMenu(dn,wr,[])})},function(wr){var Vo=wr.primary,wi=wr.triggeringPath;a.onRepositionMenu(dn,Vo,wi)})},gr={collapseMenu:Xn,highlightPrimary:mn,repositionMenus:jn};return{uid:a.uid,dom:a.dom,markers:a.markers,behaviours:Nu(a.tmenuBehaviours,[Rr.config({mode:"special",onRight:rn(Kt),onLeft:rn(ct),onEscape:rn(Lt),focusIn:function(dn,cr){M.getPrimary().each(function(wr){M_(dn,wr.element,lg())})}}),ii.config({highlightClass:a.markers.selectedMenu,itemClass:a.markers.menu}),So.config({find:function(dn){return ii.getHighlighted(dn)}}),Qr.config({})]),eventOrder:a.eventOrder,apis:gr,events:$n}},Xs=L("collapse-item"),Yo=function(a,c,p){return{primary:a,menus:c,expansions:p}},eo=function(a,c){return{primary:a,menus:jd(a,c),expansions:{}}},Fo=function(a){return{value:ir(Xs()),meta:{text:a}}},bi=ac({name:"TieredMenu",configFields:[Xp("onExecute"),Xp("onEscape"),Cg("onOpenMenu"),Cg("onOpenSubmenu"),_o("onRepositionMenu"),_o("onCollapseMenu"),dt("highlightImmediately",!0),Hd("data",[on("primary"),on("menus"),on("expansions")]),dt("fakeFocus",!1),_o("onHighlight"),_o("onHover"),_g(),on("dom"),dt("navigateOnHover",!0),dt("stayInDom",!1),Pu("tmenuBehaviours",[Rr,ii,So,Qr]),dt("eventOrder",{})],apis:{collapseMenu:function(a,c){a.collapseMenu(c)},highlightPrimary:function(a,c){a.highlightPrimary(c)},repositionMenus:function(a,c){a.repositionMenus(c)}},factory:Lu,extraApis:{tieredData:Yo,singleData:eo,collapseItem:Fo}}),pa=function(a,c,p,w,M){var A=function(){return a.lazySink(c)},N=w.type==="horizontal"?{layouts:{onLtr:function(){return Jh()},onRtl:function(){return Zp()}}}:{},j=function(K){return K.length===2},W=function(K){return j(K)?N:{}};return bi.sketch({dom:{tag:"div"},data:w.data,markers:w.menu.markers,highlightImmediately:w.menu.highlightImmediately,onEscape:function(){return Lo.close(c),a.onEscape.map(function(K){return K(c)}),$.some(!0)},onExecute:function(){return $.some(!0)},onOpenMenu:function(K,oe){hl.positionWithinBounds(A().getOrDie(),oe,p,M())},onOpenSubmenu:function(K,oe,se,be){var _e=A().getOrDie();hl.position(_e,se,{anchor:ne({type:"submenu",item:oe},W(be))})},onRepositionMenu:function(K,oe,se){var be=A().getOrDie();hl.positionWithinBounds(be,oe,p,M()),Fe(se,function(_e){var Ee=W(_e.triggeringPath);hl.position(be,_e.triggeredMenu,{anchor:ne({type:"submenu",item:_e.triggeringItem},Ee)})})}})},ah=function(a,c){var p=function(_e,Ee){var je=a.getRelated(_e);return je.exists(function(ft){return yg(ft,Ee)})},w=function(_e,Ee){Lo.setContent(_e,Ee)},M=function(_e,Ee,je){A(_e,Ee,je,$.none())},A=function(_e,Ee,je,ft){N(_e,Ee,je,function(){return ft.map(function(Be){return tu(Be)})})},N=function(_e,Ee,je,ft){var Be=a.lazySink(_e).getOrDie();Lo.openWhileCloaked(_e,Ee,function(){return hl.positionWithinBounds(Be,_e,je,ft())}),qn.setValue(_e,$.some({mode:"position",config:je,getBounds:ft}))},j=function(_e,Ee,je){W(_e,Ee,je,$.none)},W=function(_e,Ee,je,ft){var Be=pa(a,_e,Ee,je,ft);Lo.open(_e,Be),qn.setValue(_e,$.some({mode:"menu",menu:Be}))},K=function(_e){Lo.isOpen(_e)&&(qn.setValue(_e,$.none()),Lo.close(_e))},oe=function(_e){return Lo.getState(_e)},se=function(_e){Lo.isOpen(_e)&&qn.getValue(_e).each(function(Ee){switch(Ee.mode){case"menu":Lo.getState(_e).each(bi.repositionMenus);break;case"position":var je=a.lazySink(_e).getOrDie();hl.positionWithinBounds(je,_e,Ee.config,Ee.getBounds());break}})},be={setContent:w,showAt:M,showWithin:A,showWithinBounds:N,showMenuAt:j,showMenuWithinBounds:W,hide:K,getContent:oe,reposition:se,isOpen:Lo.isOpen};return{uid:a.uid,dom:a.dom,behaviours:Nu(a.inlineBehaviours,[Lo.config({isPartOf:function(_e,Ee,je){return yg(Ee,je)||p(_e,je)},getAttachPoint:function(_e){return a.lazySink(_e).getOrDie()},onOpen:function(_e){a.onShow(_e)},onClose:function(_e){a.onHide(_e)}}),qn.config({store:{mode:"memory",initialValue:$.none()}}),nc.config({channels:ne(ne({},um(ne({isExtraPart:c.isExtraPart},a.fireDismissalEventInstead.map(function(_e){return{fireEventInstead:{event:_e.event}}}).getOr({})))),o1(ne(ne({},a.fireRepositionEventInstead.map(function(_e){return{fireEventInstead:{event:_e.event}}}).getOr({})),{doReposition:se})))})]),eventOrder:a.eventOrder,apis:be}},gi=ac({name:"InlineView",configFields:[on("lazySink"),_o("onShow"),_o("onHide"),Np("onEscape"),Pu("inlineBehaviours",[Lo,qn,nc]),Jl("fireDismissalEventInstead",[dt("event",wf())]),Jl("fireRepositionEventInstead",[dt("event",Us())]),dt("getRelated",$.none),dt("isExtraPart",ie),dt("eventOrder",$.none)],factory:ah,apis:{showAt:function(a,c,p,w){a.showAt(c,p,w)},showWithin:function(a,c,p,w,M){a.showWithin(c,p,w,M)},showWithinBounds:function(a,c,p,w,M){a.showWithinBounds(c,p,w,M)},showMenuAt:function(a,c,p,w){a.showMenuAt(c,p,w)},showMenuWithinBounds:function(a,c,p,w,M){a.showMenuWithinBounds(c,p,w,M)},hide:function(a,c){a.hide(c)},isOpen:function(a,c){return a.isOpen(c)},getContent:function(a,c){return a.getContent(c)},setContent:function(a,c,p){a.setContent(c,p)},reposition:function(a,c){a.reposition(c)}}}),uc="layout-inset",gs=function(a){return a.x},P1=function(a,c){return a.x+a.width/2-c.width/2},ev=function(a,c){return a.x+a.width-c.width},gd=function(a){return a.y},Yc=function(a,c){return a.y+a.height-c.height},vd=function(a,c){return a.y+a.height/2-c.height/2},N1=function(a,c,p){return Yu(ev(a,c),Yc(a,c),p.insetSouthwest(),gx(),"southwest",fs(a,{right:0,bottom:3}),uc)},F0=function(a,c,p){return Yu(gs(a),Yc(a,c),p.insetSoutheast(),q_(),"southeast",fs(a,{left:1,bottom:3}),uc)},L1=function(a,c,p){return Yu(ev(a,c),gd(a),p.insetNorthwest(),o0(),"northwest",fs(a,{right:0,top:2}),uc)},tv=function(a,c,p){return Yu(gs(a),gd(a),p.insetNortheast(),mx(),"northeast",fs(a,{left:1,top:2}),uc)},Of=function(a,c,p){return Yu(P1(a,c),gd(a),p.insetNorth(),i0(),"north",fs(a,{top:2}),uc)},nv=function(a,c,p){return Yu(P1(a,c),Yc(a,c),p.insetSouth(),vx(),"south",fs(a,{bottom:3}),uc)},zw=function(a,c,p){return Yu(ev(a,c),vd(a,c),p.insetEast(),Tg(),"east",fs(a,{right:0}),uc)},Fw=function(a,c,p){return Yu(gs(a),vd(a,c),p.insetWest(),Il(),"west",fs(a,{left:1}),uc)},B1=function(a){switch(a){case"north":return Of;case"northeast":return tv;case"northwest":return L1;case"south":return nv;case"southeast":return F0;case"southwest":return N1;case"east":return zw;case"west":return Fw}},UL=function(a,c,p,w,M){var A=iS(w).map(B1).getOr(Of);return A(a,c,p,w,M)},R9=function(a){switch(a){case"north":return nv;case"northeast":return F0;case"northwest":return N1;case"south":return Of;case"southeast":return tv;case"southwest":return L1;case"east":return Fw;case"west":return zw}},P9=function(a,c,p,w,M){var A=iS(w).map(R9).getOr(Of);return A(a,c,p,w,M)},rv=tinymce.util.Tools.resolve("tinymce.util.Delay"),qL=function(a){var c=I1(a.action),p=a.dom.tag,w=function(A){return Pt(a.dom,"attributes").bind(function(N){return Pt(N,A)})},M=function(){if(p==="button"){var A=w("type").getOr("button"),N=w("role").map(function(W){return{role:W}}).getOr({});return ne({type:A},N)}else{var j=w("role").getOr("button");return{role:j}}};return{uid:a.uid,dom:a.dom,components:a.components,events:c,behaviours:$c.augment(a.buttonBehaviours,[$r.config({}),Rr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:M()},eventOrder:a.eventOrder}},vl=ac({name:"Button",factory:qL,configFields:[dt("uid",void 0),on("dom"),dt("components",[]),$c.field("buttonBehaviours",[$r,Rr]),oi("action"),oi("role"),dt("eventOrder",{})]}),ci=function(a){var c=ZO(a)&&Kn(a,"uid")?a.uid:hg("memento"),p=function(A){return A.getSystem().getByUid(c).getOrDie()},w=function(A){return A.getSystem().getByUid(c).toOptional()},M=function(){return ne(ne({},a),{uid:c})};return{get:p,getOpt:w,asSpec:M}},If=tinymce.util.Tools.resolve("tinymce.util.I18n"),N9={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},$L="temporary-placeholder",N4=function(a){return function(){return Pt(a,$L).getOr("!not found!")}},L4=function(a,c){var p=a.toLowerCase();if(If.isRtl()){var w=Pa(p,"-rtl");return ln(c,w)?w:p}else return p},GL=function(a,c){return Pt(c,L4(a,c))},XL=function(a,c){var p=c();return GL(a,p).getOrThunk(N4(p))},YL=function(a,c,p){var w=c();return GL(a,w).or(p).getOrThunk(N4(w))},L9=function(a){return If.isRtl()?ln(N9,a):!1},B4=function(){return po("add-focusable",[ha(function(a){K5(a.element,"svg").each(function(c){return so(c,"focusable","false")})})])},DC=function(a,c,p,w){var M,A,N=L9(c)?["tox-icon--flip"]:[],j=Pt(p,L4(c,p)).or(w).getOrThunk(N4(p));return{dom:{tag:a.tag,attributes:(M=a.attributes)!==null&&M!==void 0?M:{},classes:a.classes.concat(N),innerHtml:j},behaviours:zn(Ce(Ce([],(A=a.behaviours)!==null&&A!==void 0?A:[],!0),[B4()],!1))}},sp=function(a,c,p,w){return w===void 0&&(w=$.none()),DC(c,a,p(),w)},B9=function(a,c,p){var w=p(),M=Rt(a,function(A){return ln(w,L4(A,w))});return DC(c,M.getOr($L),w,$.none())},z4={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},z9=function(a){var c=ci({dom:{tag:"p",innerHtml:a.translationProvider(a.text)},behaviours:zn([Qr.config({})])}),p=function(_e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+_e+"%"}}}},w=function(_e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:_e+"%"}}},M=ci({dom:{tag:"div",classes:a.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(0)]},w(0)],behaviours:zn([Qr.config({})])}),A=function(_e,Ee){_e.getSystem().isConnected()&&M.getOpt(_e).each(function(je){Qr.set(je,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(Ee)]},w(Ee)])})},N=function(_e,Ee){if(_e.getSystem().isConnected()){var je=c.get(_e);Qr.set(je,[qp(Ee)])}},j={updateProgress:A,updateText:N},W=Xe([a.icon.toArray(),a.level.toArray(),a.level.bind(function(_e){return $.from(z4[_e])}).toArray()]),K=ci(vl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[sp("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":a.translationProvider("Close")}},a.iconProvider)],action:function(_e){a.onAction(_e)}})),oe=B9(W,{tag:"div",classes:["tox-notification__icon"]},a.iconProvider),se={dom:{tag:"div",classes:["tox-notification__body"]},components:[c.asSpec()],behaviours:zn([Qr.config({})])},be=[oe,se];return{uid:a.uid,dom:{tag:"div",attributes:{role:"alert"},classes:a.level.map(function(_e){return["tox-notification","tox-notification--in","tox-notification--"+_e]}).getOr(["tox-notification","tox-notification--in"])},behaviours:zn([$r.config({}),po("notification-events",[fn(Bc(),function(_e){K.getOpt(_e).each($r.focus)})])]),components:be.concat(a.progress?[M.asSpec()]:[]).concat(a.closeButton?[K.asSpec()]:[]),apis:j}},F4=ac({name:"Notification",factory:z9,configFields:[oi("level"),on("progress"),on("icon"),on("onAction"),on("text"),on("iconProvider"),on("translationProvider"),Ri("closeButton",!0)],apis:{updateProgress:function(a,c,p){a.updateProgress(c,p)},updateText:function(a,c,p){a.updateText(c,p)}}});function F9(a,c,p){var w=c.backstage.shared,M=function(K){switch(K){case"bc-bc":return nv;case"tc-tc":return Of;case"tc-bc":return Pl;case"bc-tc":default:return ds}},A=function(K){K.length>0&&Fe(K,function(oe,se){se===0?oe.moveRel(null,"banner"):oe.moveRel(K[se-1].getEl(),"bc-tc")})},N=function(K,oe){var se=!K.closeButton&&K.timeout&&(K.timeout>0||K.timeout<0),be=function(){oe(),gi.hide(Ee)},_e=ru(F4.sketch({text:K.text,level:Ot(["success","error","warning","warn","info"],K.type)?K.type:void 0,progress:K.progressBar===!0,icon:$.from(K.icon),closeButton:!se,onAction:be,iconProvider:w.providers.icons,translationProvider:w.providers.translate})),Ee=ru(gi.sketch(ne({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:w.getSink,fireDismissalEventInstead:{}},w.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));p.add(Ee),K.timeout>0&&rv.setTimeout(function(){be()},K.timeout);var je=function(){var ft=tu(He.fromDom(a.getContentAreaContainer())),Be=us(),ht=Rl(Be.x,ft.x,ft.right),Ut=Rl(Be.y,ft.y,ft.bottom),Kt=Math.max(ft.right,Be.right),ct=Math.max(ft.bottom,Be.bottom);return $.some(_u(ht,Ut,Kt-ht,ct-Ut))};return{close:be,moveTo:function(ft,Be){gi.showAt(Ee,Dc(_e),{anchor:{type:"makeshift",x:ft,y:Be}})},moveRel:function(ft,Be){var ht=Dc(_e),Ut={maxHeightFunction:f0()};if(Be!=="banner"&&b(ft)){var Kt=M(Be),ct={type:"node",root:li(),node:$.some(He.fromDom(ft)),overrides:Ut,layouts:{onRtl:function(){return[Kt]},onLtr:function(){return[Kt]}}};gi.showWithinBounds(Ee,ht,{anchor:ct},je)}else{var Lt=ne(ne({},w.anchors.banner()),{overrides:Ut});gi.showWithinBounds(Ee,ht,{anchor:Lt},je)}},text:function(ft){F4.updateText(_e,ft)},settings:K,getEl:function(){return _e.element.dom},progressBar:{value:function(ft){F4.updateProgress(_e,ft)}}}},j=function(K){K.close()},W=function(K){return K.settings};return{open:N,close:j,reposition:A,getArgs:W}}var V9=function(a,c){var p=null,w=function(){f(p)||(clearTimeout(p),p=null)},M=function(){for(var A=[],N=0;N<arguments.length;N++)A[N]=arguments[N];f(p)&&(p=setTimeout(function(){p=null,a.apply(null,A)},c))};return{cancel:w,throttle:M}},V4=function(a,c){var p=null,w=function(){f(p)||(clearTimeout(p),p=null)},M=function(){for(var A=[],N=0;N<arguments.length;N++)A[N]=arguments[N];w(),p=setTimeout(function(){p=null,a.apply(null,A)},c)};return{cancel:w,throttle:M}},H9=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),j9=function(a,c){return a.isBlock(c)||Ot(["BR","IMG","HR","INPUT"],c.nodeName)||a.getContentEditable(c)==="false"},KL=function(a,c,p,w,M){var A=H9(a,function(N){return j9(a,N)});return $.from(A.backwards(c,p,w,M))},W9="[data-mce-autocompleter]",U9=function(a,c){return xA(He.fromDom(a.selection.getNode())).getOrThunk(function(){var p=He.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',a.getDoc());return Ts(p,He.fromDom(c.extractContents())),c.insertNode(p.dom),sa(p).each(function(w){return w.dom.normalize()}),Fk(p).map(function(w){a.selection.setCursorLocation(w.dom,zk(w))}),p})},xA=function(a){return qs(a,W9)},q9=function(a){return a.collapsed&&a.startContainer.nodeType===3},wA=function(a){return a.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},JL=function(a){return a!==""&&`  \f
\r	\v`.indexOf(a)!==-1},H4=function(a,c){return a.substring(c.length)},$9=function(a,c,p){var w;for(w=c-1;w>=0;w--){var M=a.charAt(w);if(JL(M))return $.none();if(M===p)break}return $.some(w)},ZL=function(a,c,p,w){if(w===void 0&&(w=0),!q9(c))return $.none();var M=function(N,j,W){return $9(W,j,p).getOr(j)},A=a.getParent(c.startContainer,a.isBlock)||a.getRoot();return KL(a,c.startContainer,c.startOffset,M,A).bind(function(N){var j=c.cloneRange();if(j.setStart(N.container,N.offset),j.setEnd(c.endContainer,c.endOffset),j.collapsed)return $.none();var W=wA(j),K=W.lastIndexOf(p);return K!==0||H4(W,p).length<w?$.none():$.some({text:H4(W,p),range:j,triggerChar:p})})},j4=function(a,c,p,w){return w===void 0&&(w=0),xA(He.fromDom(c.startContainer)).fold(function(){return ZL(a,c,p,w)},function(M){var A=a.createRng();A.selectNode(M.dom);var N=wA(A);return $.some({range:A,text:H4(N,p),triggerChar:p})})},G9=function(a,c){c.on("keypress compositionend",a.onKeypress.throttle),c.on("remove",a.onKeypress.cancel);var p=function(w,M){Ir(w,Jb(),{raw:M})};c.on("keydown",function(w){var M=function(){return a.getView().bind(ii.getHighlighted)};w.which===8&&a.onKeypress.throttle(w),a.isActive()&&(w.which===27&&a.cancelIfNecessary(),a.isMenuOpen()?w.which===13?(M().each($h),w.preventDefault()):w.which===40?(M().fold(function(){a.getView().each(ii.highlightFirst)},function(A){p(A,w)}),w.preventDefault(),w.stopImmediatePropagation()):(w.which===37||w.which===38||w.which===39)&&M().each(function(A){p(A,w),w.preventDefault(),w.stopImmediatePropagation()}):(w.which===13||w.which===38||w.which===40)&&a.cancelIfNecessary())}),c.on("NodeChange",function(w){a.isActive()&&!a.isProcessingAction()&&xA(He.fromDom(w.element)).isNone()&&a.cancelIfNecessary()})},X9={setup:G9},AC=tinymce.util.Tools.resolve("tinymce.util.Promise"),W4=function(a,c){return{container:a,offset:c}},U4=function(a){return a.nodeType===Oe},Y9=function(a){return a.nodeType===tr},QL=function(a){if(U4(a))return W4(a,a.data.length);var c=a.childNodes;return c.length>0?QL(c[c.length-1]):W4(a,c.length)},e6=function(a,c){var p=a.childNodes;return p.length>0&&c<p.length?e6(p[c],0):p.length>0&&Y9(a)&&p.length===c?QL(p[p.length-1]):W4(a,c)},K9=function(a,c){return KL(a,c.container,c.offset,function(p,w){return w===0?-1:w},a.getRoot()).filter(function(p){var w=p.container.data.charAt(p.offset-1);return!JL(w)}).isSome()},J9=function(a){return function(c){var p=e6(c.startContainer,c.startOffset);return!K9(a,p)}},Z9=function(a,c,p){return vt(p.triggerChars,function(w){return j4(a,c,w)})},Q9=function(a,c){var p=c(),w=a.selection.getRng();return Z9(a.dom,w,p).bind(function(M){return t6(a,c,M)})},t6=function(a,c,p,w){w===void 0&&(w={});var M=c(),A=a.selection.getRng(),N=A.startContainer.nodeValue,j=Ye(M.lookupByChar(p.triggerChar),function(K){return p.text.length>=K.minChars&&K.matches.getOrThunk(function(){return J9(a.dom)})(p.range,N,p.text)});if(j.length===0)return $.none();var W=AC.all(Je(j,function(K){var oe=K.fetch(p.text,K.maxResults,w);return oe.then(function(se){return{matchText:p.text,items:se,columns:K.columns,onAction:K.onAction,highlightOn:K.highlightOn}})}));return $.some({lookupData:W,context:p})},n6=Sr([Yr("type"),qi("text")]),ej=function(a){return _a("separatormenuitem",n6,a)},tj=Sr([dt("type","autocompleteitem"),dt("active",!1),dt("disabled",!1),dt("meta",{}),Yr("value"),qi("text"),qi("icon")]),q4=Sr([Yr("type"),Yr("ch"),od("minChars",1),dt("columns",1),od("maxResults",10),Np("matches"),Ws("fetch"),Ws("onAction"),jh("highlightOn",[],Ga)]),nj=function(a){return _a("Autocompleter.Separator",n6,a)},rj=function(a){return _a("Autocompleter.Item",tj,a)},oj=function(a){return _a("Autocompleter",q4,a)},z1=[Ri("disabled",!1),qi("tooltip"),qi("icon"),qi("text"),$i("onSetup",function(){return E})],ij=Sr([Yr("type"),Ws("onAction")].concat(z1)),_A=function(a){return _a("toolbarbutton",ij,a)},$4=[Ri("active",!1)].concat(z1),aj=Sr($4.concat([Yr("type"),Ws("onAction")])),r6=function(a){return _a("ToggleButton",aj,a)},o6=[$i("predicate",ie),Sc("scope","node",["node","editor"]),Sc("position","selection",["node","selection","line"])],uj=z1.concat([dt("type","contextformbutton"),dt("primary",!1),Ws("onAction"),ul("original",q)]),i6=$4.concat([dt("type","contextformbutton"),dt("primary",!1),Ws("onAction"),ul("original",q)]),sj=z1.concat([dt("type","contextformbutton")]),G4=$4.concat([dt("type","contextformtogglebutton")]),X4=Lc("type",{contextformbutton:uj,contextformtogglebutton:i6}),a6=Sr([dt("type","contextform"),$i("initValue",L("")),qi("label"),Ds("commands",X4),rd("launch",Lc("type",{contextformbutton:sj,contextformtogglebutton:G4}))].concat(o6)),Y4=function(a){return _a("ContextForm",a6,a)},K4=Sr([dt("type","contexttoolbar"),Yr("items")].concat(o6)),u6=function(a){return _a("ContextToolbar",K4,a)},bm=function(a){var c={};return Fe(a,function(p){c[p]={}}),Tt(c)},J4=function(a){var c=a.ui.registry.getAll().popups,p=bn(c,function(N){return oj(N).fold(function(j){throw new Error(Pp(j))},q)}),w=bm(er(p,function(N){return N.ch})),M=jt(p),A=function(N){return Ye(M,function(j){return j.ch===N})};return{dataset:p,triggerChars:w,lookupByChar:A}},Z4;(function(a){a[a.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",a[a.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Z4||(Z4={}));var lp=Z4,Q4="tox-menu-nav__js",eI="tox-collection__item",V0="tox-swatch",s6={normal:Q4,color:V0},l6="tox-collection__item--enabled",lj="tox-collection__group-heading",tI="tox-collection__item-icon",SA="tox-collection__item-label",nI="tox-collection__item-accessory",c6="tox-collection__item-caret",rI="tox-collection__item-checkmark",F1="tox-collection__item--active",f6="tox-collection__item-container",d6="tox-collection__item-container--column",oI="tox-collection__item-container--row",cj="tox-collection__item-container--align-right",fj="tox-collection__item-container--align-left",dj="tox-collection__item-container--valign-top",hj="tox-collection__item-container--valign-middle",pj="tox-collection__item-container--valign-bottom",h6=function(a){return Pt(s6,a).getOr(Q4)},mj=function(a){return a==="color"?"tox-swatches":"tox-menu"},iI=function(a){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:mj(a),tieredMenu:"tox-tiered-menu"}},ov=function(a){var c=iI(a);return{backgroundMenu:c.backgroundMenu,selectedMenu:c.selectedMenu,menu:c.menu,selectedItem:c.selectedItem,item:h6(a)}},p6=function(a,c,p){var w=iI(p);return{tag:"div",classes:Xe([[w.menu,"tox-menu-"+c+"-column"],a?[w.hasIcons]:[]])}},m6=[xr.parts.items({})],CA=function(a,c,p){var w=iI(p),M={tag:"div",classes:Xe([[w.tieredMenu]])};return{dom:M,markers:ov(p)}},aI=function(a,c){return function(p){var w=$t(p,c);return Je(w,function(M){return{dom:a,components:M}})}},uI=function(a){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[xr.parts.items({preprocess:a!=="auto"?aI({tag:"div",classes:["tox-swatches__row"]},a):q})]}]}},sI=function(a){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[xr.parts.items({preprocess:aI({tag:"div",classes:["tox-collection__group"]},a)})]}},lI=function(a,c){var p=[],w=[];return Fe(a,function(M,A){c(M,A)?(w.length>0&&p.push(w),w=[],ln(M.dom,"innerHtml")&&w.push(M)):w.push(M)}),w.length>0&&p.push(w),Je(p,function(M){return{dom:{tag:"div",classes:["tox-collection__group"]},components:M}})},TA=function(a,c,p){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(a===1?["tox-collection--list"]:["tox-collection--grid"])},components:[xr.parts.items({preprocess:function(w){return a!=="auto"&&a>1?aI({tag:"div",classes:["tox-collection__group"]},a)(w):lI(w,function(M,A){return c[A].type==="separator"})}})]}},g6=function(a,c){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[xr.parts.items({preprocess:function(p){return lI(p,function(w,M){return a[M].type==="separator"})}})]}},MA=function(a){return Nt(a,function(c){return"icon"in c&&c.icon!==void 0})},cp=function(a){return console.error(Pp(a)),console.log(a),$.none()},gj=function(a,c,p,w,M){var A=g6(p);return{value:a,dom:A.dom,components:A.components,items:p}},kA=function(a,c,p,w,M){if(M==="color"){var A=uI(w);return{value:a,dom:A.dom,components:A.components,items:p}}if(M==="normal"&&w==="auto"){var A=TA(w,p);return{value:a,dom:A.dom,components:A.components,items:p}}if(M==="normal"&&w===1){var A=TA(1,p);return{value:a,dom:A.dom,components:A.components,items:p}}if(M==="normal"){var A=TA(w,p);return{value:a,dom:A.dom,components:A.components,items:p}}if(M==="listpreview"&&w!=="auto"){var A=sI(w);return{value:a,dom:A.dom,components:A.components,items:p}}return{value:a,dom:p6(c,w,M),components:m6,items:p}},v6=[Yr("type"),Yr("src"),qi("alt"),jh("classes",[],Ga)],EC=Sr(v6),vj=[Yr("type"),Yr("text"),qi("name"),jh("classes",["tox-collection__item-label"],Ga)],cI=Sr(vj),V1=zM(function(){return Yb("type",{cardimage:EC,cardtext:cI,cardcontainer:yj})}),yj=Sr([Yr("type"),Wv("direction","horizontal"),Wv("align","left"),Wv("valign","middle"),Ds("items",V1)]),H1=[Ri("disabled",!1),qi("text"),qi("shortcut"),Su("value","value",Io(function(){return ir("menuitem-value")}),gf()),dt("meta",{})],y6=Sr([Yr("type"),qi("label"),Ds("items",V1),$i("onSetup",function(){return E}),$i("onAction",E)].concat(H1)),b6=function(a){return _a("cardmenuitem",y6,a)},fI=Sr([Yr("type"),Ri("active",!1),qi("icon")].concat(H1)),x6=function(a){return _a("choicemenuitem",fI,a)},w6=[Yr("type"),Yr("fancytype"),$i("onAction",E)],bj=[dt("initData",{})].concat(w6),DA=[h_("initData",{},[Ri("allowCustomColors",!0),Kl("colors",gf())])].concat(w6),xj=Lc("fancytype",{inserttable:bj,colorswatch:DA}),_6=function(a){return _a("fancymenuitem",xj,a)},Vw=Sr([Yr("type"),$i("onSetup",function(){return E}),$i("onAction",E),qi("icon")].concat(H1)),wj=function(a){return _a("menuitem",Vw,a)},_j=Sr([Yr("type"),Ws("getSubmenuItems"),$i("onSetup",function(){return E}),qi("icon")].concat(H1)),Sj=function(a){return _a("nestedmenuitem",_j,a)},S6=Sr([Yr("type"),qi("icon"),Ri("active",!1),$i("onSetup",function(){return E}),Ws("onAction")].concat(H1)),C6=function(a){return _a("togglemenuitem",S6,a)},dI=function(a,c,p){var w=Ru(a.element,"."+p);if(w.length>0){var M=ur(w,function(A){var N=A.dom.getBoundingClientRect().top,j=w[0].dom.getBoundingClientRect().top;return Math.abs(N-j)>c}).getOr(w.length);return $.some({numColumns:M,numRows:Math.ceil(w.length/M)})}else return $.none()},T6=function(a,c){return zn([po(a,c)])},Cj=function(a){return T6(ir("unnamed-events"),a)},AA={namedEvents:T6,unnamedEvents:Cj},M6=ir("tooltip.exclusive"),H0=ir("tooltip.show"),OC=ir("tooltip.hide"),k6=function(a,c,p){a.getSystem().broadcastOn([M6],{})},hI=function(a,c,p,w){p.getTooltip().each(function(M){M.getSystem().isConnected()&&Qr.set(M,w)})},D6=Object.freeze({__proto__:null,hideAllExclusive:k6,setComponents:hI}),Tj=function(a,c){var p=function(M){c.getTooltip().each(function(A){jc(A),a.onHide(M,A),c.clearTooltip()}),c.clearTimer()},w=function(M){if(!c.isShowing()){k6(M);var A=a.lazySink(M).getOrDie(),N=M.getSystem().build({dom:a.tooltipDom,components:a.tooltipComponents,events:Gi(a.mode==="normal"?[fn(Uh(),function(j){ko(M,H0)}),fn(y_(),function(j){ko(M,OC)})]:[]),behaviours:zn([Qr.config({})])});c.setTooltip(N),Os(A,N),a.onShow(M,N),hl.position(A,N,{anchor:a.anchor(M)})}};return Gi(Xe([[fn(H0,function(M){c.resetTimer(function(){w(M)},a.delay)}),fn(OC,function(M){c.resetTimer(function(){p(M)},a.delay)}),fn(zc(),function(M,A){var N=A;N.universal||Ot(N.channels,M6)&&p(M)}),Ql(function(M){p(M)})],a.mode==="normal"?[fn(Bc(),function(M){ko(M,H0)}),fn(__(),function(M){ko(M,OC)}),fn(Uh(),function(M){ko(M,H0)}),fn(y_(),function(M){ko(M,OC)})]:[fn(XM(),function(M,A){ko(M,H0)}),fn(zy(),function(M){ko(M,OC)})]]))},A6=Object.freeze({__proto__:null,events:Tj}),E6=[on("lazySink"),on("tooltipDom"),dt("exclusive",!0),dt("tooltipComponents",[]),dt("delay",300),Sc("mode","normal",["normal","follow-highlight"]),dt("anchor",function(a){return{type:"hotspot",hotspot:a,layouts:{onLtr:L([ds,Pl,Es,$s,Cu,Ku]),onRtl:L([ds,Pl,Es,$s,Cu,Ku])}}}),_o("onHide"),_o("onShow")],O6=function(){var a=za(),c=za(),p=function(){a.on(clearTimeout)},w=function(A,N){p(),a.set(setTimeout(A,N))},M=L("not-implemented");return Gu({getTooltip:c.get,isShowing:c.isSet,setTooltip:c.set,clearTooltip:c.clear,clearTimer:p,resetTimer:w,readState:M})},I6=Object.freeze({__proto__:null,init:O6}),R6=Ya({fields:E6,name:"tooltipping",active:A6,state:I6,apis:D6}),Mj=function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},IC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),kj=tinymce.util.Tools.resolve("tinymce.EditorManager"),pI=function(a){var c=a.getParam("skin"),p=a.getParam("skin_url");if(c!==!1){var w=c||"oxide";p?p=a.documentBaseURI.toAbsolute(p):p=kj.baseURL+"/skins/ui/"+w}return p},mI=function(a){return a.getParam("readonly",!1,"boolean")},P6=function(a){return a.getParam("skin")===!1},N6=function(a){return a.getParam("height",Math.max(a.getElement().offsetHeight,200))},gI=function(a){return a.getParam("width",IC.DOM.getStyle(a.getElement(),"width"))},L6=function(a){return $.from(a.getParam("min_width")).filter(_)},B6=function(a){return $.from(a.getParam("min_height")).filter(_)},vI=function(a){return $.from(a.getParam("max_width")).filter(_)},yI=function(a){return $.from(a.getParam("max_height")).filter(_)},z6=function(a){return $.from(a.getParam("style_formats")).filter(l)},F6=function(a){return a.getParam("style_formats_merge",!1,"boolean")},Dj=function(a){return a.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},Aj=function(a){return a.getParam("content_langs",void 0,"array")},Ej=function(a){return a.getParam("removed_menuitems","")},bI=function(a){return a.getParam("menubar",!0,"boolean")!==!1},xI=function(a){var c=a.getParam("toolbar",!0),p=c===!0,w=i(c),M=l(c)&&c.length>0;return!EA(a)&&(M||w||p)},V6=function(a){var c=fe(9,function(w){return a.getParam("toolbar"+(w+1),!1,"string")}),p=Ye(c,function(w){return typeof w=="string"});return p.length>0?$.some(p):$.none()},EA=function(a){return V6(a).fold(function(){var c=a.getParam("toolbar",[],"string[]");return c.length>0},le)},Rf;(function(a){a.default="wrap",a.floating="floating",a.sliding="sliding",a.scrolling="scrolling"})(Rf||(Rf={}));var RC=function(a){return a.getParam("toolbar_mode","","string")},j1;(function(a){a.auto="auto",a.top="top",a.bottom="bottom"})(j1||(j1={}));var Oj=function(a){return a.getParam("toolbar_groups",{},"object")},wI=function(a){return a.getParam("toolbar_location",j1.auto,"string")},H6=function(a){return wI(a)===j1.bottom},Ij=function(a){return a.getParam("fixed_toolbar_container","","string")},Rj=function(a){return a.getParam("fixed_toolbar_container_target")},Pj=function(a){return a.getParam("toolbar_persist",!1,"boolean")},j6=function(a){if(!a.inline)return $.none();var c=Ij(a);if(c.length>0)return mu(li(),c);var p=Rj(a);return b(p)?$.some(He.fromDom(p)):$.none()},OA=function(a){return a.inline&&j6(a).isSome()},PC=function(a){var c=j6(a);return c.getOrThunk(function(){return Ln(Tr(He.fromDom(a.getElement())))})},_I=function(a){return a.inline&&!bI(a)&&!xI(a)&&!EA(a)},IA=function(a){var c=a.getParam("toolbar_sticky",!1,"boolean");return(c||a.inline)&&!OA(a)&&!_I(a)},Nj=function(a){return a.getParam("toolbar_sticky_offset",0,"number")},Lj=function(a){return a.getParam("draggable_modal",!1,"boolean")},Bj=function(a){var c=a.getParam("menu");return c?bn(c,function(p){return ne(ne({},p),{items:p.items})}):{}},zj=function(a){return a.getParam("menubar")},SI=function(a){return a.getParam("toolbar",!0)},W6=function(a){return a.getParam("file_picker_callback")},U6=function(a){return a.getParam("file_picker_types")},Fj=function(a){return a.getParam("file_browser_callback_types")},q6=function(a){return a.getParam("typeahead_urls")===!1},Vj=function(a){return a.getParam("anchor_top","#top")},Hj=function(a){return a.getParam("anchor_bottom","#bottom")},jj=function(a){var c=a.getParam("file_picker_validator_handler",void 0,"function");return c===void 0?a.getParam("filepicker_validator_handler",void 0,"function"):c},CI="silver.readonly",Wj=Sr([k5("readonly")]),Hw=function(a,c){var p=a.outerContainer,w=p.element;c&&(a.mothership.broadcastOn([zg()],{target:w}),a.uiMothership.broadcastOn([zg()],{target:w})),a.mothership.broadcastOn([CI],{readonly:c}),a.uiMothership.broadcastOn([CI],{readonly:c})},$6=function(a,c){a.on("init",function(){a.mode.isReadOnly()&&Hw(c,!0)}),a.on("SwitchMode",function(){return Hw(c,a.mode.isReadOnly())}),mI(a)&&a.setMode("readonly")},Bu=function(){var a;return nc.config({channels:(a={},a[CI]={schema:Wj,onReceive:function(c,p){Mr.set(c,p.readonly)}},a)})},Uj=function(a){return Mr.config({disabled:a,disableClass:"tox-collection__item--state-disabled"})},qj=function(a){return Mr.config({disabled:a})},TI=function(a){return Mr.config({disabled:a,disableClass:"tox-tbtn--disabled"})},MI=function(a){return Mr.config({disabled:a,disableClass:"tox-tbtn--disabled",useNative:!1})},Pf={item:Uj,button:qj,splitButton:TI,toolbarButton:MI},NC=function(a,c){var p=a.getApi(c);return function(w){w(p)}},LC=function(a,c){return ha(function(p){var w=NC(a,p);w(function(M){var A=a.onSetup(M);S(A)&&c.set(A)})})},BC=function(a,c){return Ql(function(p){return NC(a,p)(c.get())})},jw,kI=function(a,c){return Sf(function(p,w){NC(a,p)(a.onAction),!a.triggersSubmenu&&c===lp.CLOSE_ON_EXECUTE&&(ko(p,By()),w.stop())})},RA=(jw={},jw[Tc()]=["disabling","alloy.base.behaviour","toggling","item-events"],jw),W1=zr,Ww=function(a,c,p,w){var M=Er(E);return{type:"item",dom:c.dom,components:W1(c.optComponents),data:a.data,eventOrder:RA,hasSubmenu:a.triggersSubmenu,itemBehaviours:zn([po("item-events",[kI(a,p),LC(a,M),BC(a,M)]),Pf.item(function(){return a.disabled||w.isDisabled()}),Bu(),Qr.config({})].concat(a.itemBehaviours))}},Uw=function(a){return{value:a.value,meta:ne({text:a.text.getOr("")},a.meta)}},DI=tinymce.util.Tools.resolve("tinymce.Env"),$j=function(a){var c={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},p={meta:"Ctrl",access:"Shift+Alt"},w=DI.mac?c:p,M=a.split("+"),A=Je(M,function(N){var j=N.toLowerCase().trim();return ln(w,j)?w[j]:N});return DI.mac?A.join(""):A.join("+")},AI=function(a,c,p){return p===void 0&&(p=[tI]),sp(a,{tag:"div",classes:p},c)},G6=function(a){return{dom:{tag:"div",classes:[SA]},components:[qp(If.translate(a))]}},X6=function(a,c){return{dom:{tag:"div",classes:c,innerHtml:a}}},Gj=function(a,c){return{dom:{tag:"div",classes:[SA]},components:[{dom:{tag:a.tag,styles:a.styles},components:[qp(If.translate(c))]}]}},Xj=function(a){return{dom:{tag:"div",classes:[nI],innerHtml:$j(a)}}},Y6=function(a){return AI("checkmark",a,[rI])},Yj=function(a){return AI("chevron-right",a,[c6])},Kj=function(a){return AI("chevron-down",a,[c6])},Jj=function(a,c){var p=a.direction==="vertical"?d6:oI,w=a.align==="left"?fj:cj,M=function(){switch(a.valign){case"top":return dj;case"middle":return hj;case"bottom":return pj}};return{dom:{tag:"div",classes:[f6,p,w,M()]},components:c}},K6=function(a,c,p){return{dom:{tag:"img",classes:c,attributes:{src:a,alt:p.getOr("")}}}},Zj=function(a,c,p){var w="custom",M="remove",A=a.ariaLabel,N=a.value,j=a.iconContent.map(function(K){return YL(K,c.icons,p)}),W=function(){var K=V0,oe=j.getOr(""),se=A.map(function(_e){return{title:c.translate(_e)}}).getOr({}),be={tag:"div",attributes:se,classes:[K]};return N===w?ne(ne({},be),{tag:"button",classes:Ce(Ce([],be.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:oe}):N===M?ne(ne({},be),{classes:Ce(Ce([],be.classes,!0),["tox-swatch--remove"],!1),innerHtml:oe}):ne(ne({},be),{attributes:ne(ne({},be.attributes),{"data-mce-color":N}),styles:{"background-color":N}})};return{dom:W(),optComponents:[]}},J6=function(a){var c=a.map(function(p){return{attributes:{title:If.translate(p)}}}).getOr({});return ne({tag:"div",classes:[Q4,eI]},c)},iv=function(a,c,p,w){var M={tag:"div",classes:[tI]},A=function(be){return sp(be,M,c.icons,w)},N=function(){return $.some({dom:M})},j=p?a.iconContent.map(A).orThunk(N):$.none(),W=a.checkMark,K=$.from(a.meta).fold(function(){return G6},function(be){return ln(be,"style")?Y(Gj,be.style):G6}),oe=a.htmlContent.fold(function(){return a.textContent.map(K)},function(be){return $.some(X6(be,[SA]))}),se={dom:J6(a.ariaLabel),optComponents:[j,oe,a.shortcutContent.map(Xj),W,a.caret]};return se},zC=function(a,c,p,w){return w===void 0&&(w=$.none()),a.presets==="color"?Zj(a,c,w):iv(a,c,p,w)},Z6=function(a,c){return Pt(a,"tooltipWorker").map(function(p){return[R6.config({lazySink:c.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(w){return{type:"submenu",item:w,overrides:{maxHeightFunction:f0}}},mode:"follow-highlight",onShow:function(w,M){p(function(A){R6.setComponents(w,[Uy({element:He.fromDom(A)})])})}})]}).getOr([])},EI=function(a){return IC.DOM.encode(a)},es=function(a,c){var p=If.translate(a),w=EI(p);if(c.length>0){var M=new RegExp(Mj(c),"gi");return w.replace(M,function(A){return'<span class="tox-autocompleter-highlight">'+A+"</span>"})}else return w},Qj=function(a,c,p,w,M,A,N,j){j===void 0&&(j=!0);var W=zC({presets:w,textContent:$.none(),htmlContent:p?a.text.map(function(K){return es(K,c)}):$.none(),ariaLabel:a.text,iconContent:a.icon,shortcutContent:$.none(),checkMark:$.none(),caret:$.none(),value:a.value},N.providers,j,a.icon);return Ww({data:Uw(a),disabled:a.disabled,getApi:L({}),onAction:function(K){return M(a.value,a.meta)},onSetup:L(E),triggersSubmenu:!1,itemBehaviours:Z6(a.meta,N)},W,A,N.providers)},Q6=function(a,c){return Je(a,function(p){switch(p.type){case"cardcontainer":return Jj(p,Q6(p.items,c));case"cardimage":return K6(p.src,p.classes,p.alt);case"cardtext":var w=p.name.exists(function(A){return Ot(c.cardText.highlightOn,A)}),M=w?$.from(c.cardText.matchText).getOr(""):"";return X6(es(p.text,M),p.classes)}})},eW=function(a,c,p,w){var M=function(N){return{isDisabled:function(){return Mr.isDisabled(N)},setDisabled:function(j){Mr.set(N,j),Fe(Ru(N.element,"*"),function(W){N.getSystem().getByDom(W).each(function(K){K.hasConfigured(Mr)&&Mr.set(K,j)})})}}},A={dom:J6(a.label),optComponents:[$.some({dom:{tag:"div",classes:[f6,oI]},components:Q6(a.items,w)})]};return Ww({data:Uw(ne({text:$.none()},a)),disabled:a.disabled,getApi:M,onAction:a.onAction,onSetup:a.onSetup,triggersSubmenu:!1,itemBehaviours:$.from(w.itemBehaviours).getOr([])},A,c,p.providers)},tW=function(a,c,p,w,M,A,N,j){j===void 0&&(j=!0);var W=function(oe){return{setActive:function(se){zo.set(oe,se)},isActive:function(){return zo.isOn(oe)},isDisabled:function(){return Mr.isDisabled(oe)},setDisabled:function(se){return Mr.set(oe,se)}}},K=zC({presets:p,textContent:c?a.text:$.none(),htmlContent:$.none(),ariaLabel:a.text,iconContent:a.icon,shortcutContent:c?a.shortcut:$.none(),checkMark:c?$.some(Y6(N.icons)):$.none(),caret:$.none(),value:a.value},N,j);return Zt(Ww({data:Uw(a),disabled:a.disabled,getApi:W,onAction:function(oe){return w(a.value)},onSetup:function(oe){return oe.setActive(M),E},triggersSubmenu:!1,itemBehaviours:[]},K,A,N),{toggling:{toggleClass:l6,toggleOnExecute:!1,selected:a.active}})},eB=f1(G(),re()),tB=function(a){return{value:a}},nB=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rB=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,oB=function(a){return nB.test(a)||rB.test(a)},nW=function(a){return Li(a,"#").toUpperCase()},rW=function(a){return oB(a)?$.some({value:nW(a)}):$.none()},oW=function(a){var c=a.value.replace(nB,function(p,w,M,A){return w+w+M+M+A+A});return{value:c}},iW=function(a){var c=oW(a),p=rB.exec(c.value);return p===null?["FFFFFF","FF","FF","FF"]:p},OI=function(a){var c=a.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},FC=function(a){var c=OI(a.red)+OI(a.green)+OI(a.blue);return tB(c)},iB=Math.min,aB=Math.max,PA=Math.round,aW=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,uW=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,j0=function(a,c,p,w){return{red:a,green:c,blue:p,alpha:w}},II=function(a){var c=parseInt(a,10);return c.toString()===a&&c>=0&&c<=255},uB=function(a){var c,p,w,M=(a.hue||0)%360,A=a.saturation/100,N=a.value/100;if(A=aB(0,iB(A,1)),N=aB(0,iB(N,1)),A===0)return c=p=w=PA(255*N),j0(c,p,w,1);var j=M/60,W=N*A,K=W*(1-Math.abs(j%2-1)),oe=N-W;switch(Math.floor(j)){case 0:c=W,p=K,w=0;break;case 1:c=K,p=W,w=0;break;case 2:c=0,p=W,w=K;break;case 3:c=0,p=K,w=W;break;case 4:c=K,p=0,w=W;break;case 5:c=W,p=0,w=K;break;default:c=p=w=0}return c=PA(255*(c+oe)),p=PA(255*(p+oe)),w=PA(255*(w+oe)),j0(c,p,w,1)},VC=function(a){var c=iW(a),p=parseInt(c[1],16),w=parseInt(c[2],16),M=parseInt(c[3],16);return j0(p,w,M,1)},sB=function(a,c,p,w){var M=parseInt(a,10),A=parseInt(c,10),N=parseInt(p,10),j=parseFloat(w);return j0(M,A,N,j)},lB=function(a){if(a==="transparent")return $.some(j0(0,0,0,0));var c=aW.exec(a);if(c!==null)return $.some(sB(c[1],c[2],c[3],"1"));var p=uW.exec(a);return p!==null?$.some(sB(p[1],p[2],p[3],p[4])):$.none()},RI=function(a){return"rgba("+a.red+","+a.green+","+a.blue+","+a.alpha+")"},cB=j0(255,0,0,1),sW=function(a){return a.fire("SkinLoaded")},lW=function(a,c){return a.fire("SkinLoadError",c)},fB=function(a){return a.fire("ResizeEditor")},PI=function(a,c){return a.fire("ResizeContent",c)},cW=function(a,c){return a.fire("ScrollContent",c)},fW=function(a,c){return a.fire("TextColorChange",c)},HC=function(a,c,p){return{hue:a,saturation:c,value:p}},NA=function(a){var c=0,p=0,w=0,M=a.red/255,A=a.green/255,N=a.blue/255,j=Math.min(M,Math.min(A,N)),W=Math.max(M,Math.max(A,N));if(j===W)return w=j,HC(0,0,w*100);var K=M===j?A-N:N===j?M-A:N-M;return c=M===j?3:N===j?1:5,c=60*(c-K/(W-j)),p=(W-j)/W,w=W,HC(Math.round(c),Math.round(p*100),Math.round(w*100))},dW=function(a){return NA(VC(a))},NI=function(a){return FC(uB(a))},dB=function(a){return rW(a).orThunk(function(){return lB(a).map(FC)}).getOrThunk(function(){var c=document.createElement("canvas");c.height=1,c.width=1;var p=c.getContext("2d");p.clearRect(0,0,c.width,c.height),p.fillStyle="#FFFFFF",p.fillStyle=a,p.fillRect(0,0,1,1);var w=p.getImageData(0,0,1,1).data,M=w[0],A=w[1],N=w[2],j=w[3];return FC(j0(M,A,N,j))})},LA=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),LI="tinymce-custom-colors";function hW(a){a===void 0&&(a=10);var c=LA.getItem(LI),p=i(c)?JSON.parse(c):[],w=function(W){var K=a-W.length;return K<0?W.slice(0,a):W},M=w(p),A=function(W){Et(M,W).each(N),M.unshift(W),M.length>a&&M.pop(),LA.setItem(LI,JSON.stringify(M))},N=function(W){M.splice(W,1)},j=function(){return M.slice(0)};return{add:A,state:j}}var ts="choiceitem",pW=[{type:ts,text:"Light Green",value:"#BFEDD2"},{type:ts,text:"Light Yellow",value:"#FBEEB8"},{type:ts,text:"Light Red",value:"#F8CAC6"},{type:ts,text:"Light Purple",value:"#ECCAFA"},{type:ts,text:"Light Blue",value:"#C2E0F4"},{type:ts,text:"Green",value:"#2DC26B"},{type:ts,text:"Yellow",value:"#F1C40F"},{type:ts,text:"Red",value:"#E03E2D"},{type:ts,text:"Purple",value:"#B96AD9"},{type:ts,text:"Blue",value:"#3598DB"},{type:ts,text:"Dark Turquoise",value:"#169179"},{type:ts,text:"Orange",value:"#E67E23"},{type:ts,text:"Dark Red",value:"#BA372A"},{type:ts,text:"Dark Purple",value:"#843FA1"},{type:ts,text:"Dark Blue",value:"#236FA1"},{type:ts,text:"Light Gray",value:"#ECF0F1"},{type:ts,text:"Medium Gray",value:"#CED4D9"},{type:ts,text:"Gray",value:"#95A5A6"},{type:ts,text:"Dark Gray",value:"#7E8C8D"},{type:ts,text:"Navy Blue",value:"#34495E"},{type:ts,text:"Black",value:"#000000"},{type:ts,text:"White",value:"#ffffff"}],hB=hW(10),mW=function(a){for(var c=[],p=0;p<a.length;p+=2)c.push({text:a[p+1],value:"#"+dB(a[p]).value,type:"choiceitem"});return c},gW=function(a,c){return a.getParam("color_cols",c,"number")},BA=function(a){return a.getParam("custom_colors")!==!1},pB=function(a){return a.getParam("color_map")},BI=function(a){var c=pB(a);return c!==void 0?mW(c):pW},mB=function(){return Je(hB.state(),function(a){return{type:ts,text:a,value:a}})},gB=function(a){hB.add(a)},zI="#000000",FI=function(a,c){var p;return a.dom.getParents(a.selection.getStart(),function(w){var M;(M=w.style[c==="forecolor"?"color":"background-color"])&&(p=p||M)}),$.from(p)},vW=function(a,c,p){a.undoManager.transact(function(){a.focus(),a.formatter.apply(c,{value:p}),a.nodeChanged()})},yW=function(a,c){a.undoManager.transact(function(){a.focus(),a.formatter.remove(c,{value:null},null,!0),a.nodeChanged()})},bW=function(a){a.addCommand("mceApplyTextcolor",function(c,p){vW(a,c,p)}),a.addCommand("mceRemoveTextcolor",function(c){yW(a,c)})},vB=function(a){return Math.max(5,Math.ceil(Math.sqrt(a)))},yB=function(a){var c=BI(a),p=vB(c.length);return gW(a,p)},VI=function(a){var c="choiceitem",p={type:c,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},w={type:c,text:"Custom color",icon:"color-picker",value:"custom"};return a?[p,w]:[p]},HI=function(a,c,p,w){if(p==="custom"){var M=SB(a);M(function(A){A.each(function(N){gB(N),a.execCommand("mceApplyTextcolor",c,N),w(N)})},zI)}else p==="remove"?(w(""),a.execCommand("mceRemoveTextcolor",c)):(w(p),a.execCommand("mceApplyTextcolor",c,p))},qw=function(a,c){return a.concat(mB().concat(VI(c)))},bB=function(a,c){return function(p){p(qw(a,c))}},xB=function(a,c,p){var w=c==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";a.setIconFill(w,p)},wB=function(a,c,p,w,M){a.ui.registry.addSplitButton(c,{tooltip:w,presets:"color",icon:c==="forecolor"?"text-color":"highlight-bg-color",select:function(A){var N=FI(a,p);return N.bind(function(j){return lB(j).map(function(W){var K=FC(W).value;return co(A.toLowerCase(),K)})}).getOr(!1)},columns:yB(a),fetch:bB(BI(a),BA(a)),onAction:function(A){HI(a,p,M.get(),E)},onItemAction:function(A,N){HI(a,p,N,function(j){M.set(j),fW(a,{name:c,color:j})})},onSetup:function(A){xB(A,c,M.get());var N=function(j){j.name===c&&xB(A,j.name,j.color)};return a.on("TextColorChange",N),function(){a.off("TextColorChange",N)}}})},_B=function(a,c,p,w){a.ui.registry.addNestedMenuItem(c,{text:w,icon:c==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(M){HI(a,p,M.value,E)}}]}})},SB=function(a){return function(c,p){var w=!1,M=function(j){var W=j.getData(),K=W.colorpicker;w?(c($.from(K)),j.close()):a.windowManager.alert(a.translate(["Invalid hex color code: {0}",K]))},A=function(j,W){W.name==="hex-valid"&&(w=W.value)},N={colorpicker:p};a.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:N,onAction:A,onSubmit:M,onClose:E,onCancel:function(){c($.none())}})}},xW=function(a){bW(a);var c=Er(zI),p=Er(zI);wB(a,"forecolor","forecolor","Text color",c),wB(a,"backcolor","hilitecolor","Background color",p),_B(a,"forecolor","forecolor","Text color"),_B(a,"backcolor","hilitecolor","Background color")},zA=function(a,c,p,w,M,A,N,j){var W=MA(c),K=M!=="color"?"normal":"color",oe=CB(c,p,w,K,A,N,j);return kA(a,W,oe,w,M)},CB=function(a,c,p,w,M,A,N){return zr(Je(a,function(j){return j.type==="choiceitem"?x6(j).fold(cp,function(W){return $.some(tW(W,p===1,w,c,A(j.value),M,N,MA(a)))}):$.none()}))},jC=function(a,c){var p=ov(c);if(a===1)return{mode:"menu",moveOnTab:!0};if(a==="auto")return{mode:"grid",selector:"."+p.item,initSize:{numColumns:1,numRows:1}};var w=c==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+w}},wW=function(a,c){return a===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:a==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:c==="color"?".tox-swatches__row":".tox-collection__group",cell:c==="color"?"."+V0:"."+eI}}},jI=function(a,c){var p=_W(a,c),w=c.colorinput.getColorCols(),M="color",A=zA(ir("menu-value"),p,function(j){a.onAction({value:j})},w,M,lp.CLOSE_ON_EXECUTE,ie,c.shared.providers),N=ne(ne({},A),{markers:ov(M),movement:jC(w,M)});return{type:"widget",data:{value:ir("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[eB.widget(xr.sketch(N))]}},_W=function(a,c){var p=a.initData.allowCustomColors&&c.colorinput.hasCustomColors();return a.initData.colors.fold(function(){return qw(c.colorinput.getColors(),p)},function(w){return w.concat(VI(p))})},TB=ir("cell-over"),MB=ir("cell-execute"),SW=function(a,c,p){var w,M=function(j){return Ir(j,TB,{row:a,col:c})},A=function(j){return Ir(j,MB,{row:a,col:c})},N=function(j,W){W.stop(),A(j)};return ru({dom:{tag:"div",attributes:(w={role:"button"},w["aria-labelledby"]=p,w)},behaviours:zn([po("insert-table-picker-cell",[fn(Uh(),$r.focus),fn(Tc(),A),fn(Gv(),N),fn(zp(),N)]),zo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),$r.config({onFocus:M})])})},CW=function(a,c,p){for(var w=[],M=0;M<c;M++){for(var A=[],N=0;N<p;N++)A.push(SW(M,N,a));w.push(A)}return w},TW=function(a,c,p,w,M){for(var A=0;A<w;A++)for(var N=0;N<M;N++)zo.set(a[A][N],A<=c&&N<=p)},MW=function(a){return Bt(a,function(c){return Je(c,Dc)})},kB=function(a,c){return qp(c+"x"+a)},kW=function(a){var c=10,p=10,w=ir("size-label"),M=CW(w,c,p),A=kB(0,0),N=ci({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:w}},components:[A],behaviours:zn([Qr.config({})])});return{type:"widget",data:{value:ir("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[eB.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:MW(M).concat(N.asSpec()),behaviours:zn([po("insert-table-picker",[ha(function(j){Qr.set(N.get(j),[A])}),Fp(TB,function(j,W,K){var oe=K.event,se=oe.row,be=oe.col;TW(M,se,be,c,p),Qr.set(N.get(j),[kB(se+1,be+1)])}),Fp(MB,function(j,W,K){var oe=K.event,se=oe.row,be=oe.col;a.onAction({numRows:se+1,numColumns:be+1}),ko(j,By())})]),Rr.config({initSize:{numRows:c,numColumns:p},mode:"flatgrid",selector:'[role="button"]'})])})]}},DW={inserttable:kW,colorswatch:jI},AW=function(a,c){return Pt(DW,a.fancytype).map(function(p){return p(a,c)})},EW=function(a,c,p,w,M){w===void 0&&(w=!0),M===void 0&&(M=!1);var A=M?Kj(p.icons):Yj(p.icons),N=function(W){return{isDisabled:function(){return Mr.isDisabled(W)},setDisabled:function(K){return Mr.set(W,K)}}},j=zC({presets:"normal",iconContent:a.icon,textContent:a.text,htmlContent:$.none(),ariaLabel:a.text,caret:$.some(A),checkMark:$.none(),shortcutContent:a.shortcut},p,w);return Ww({data:Uw(a),getApi:N,disabled:a.disabled,onAction:E,onSetup:a.onSetup,triggersSubmenu:!0,itemBehaviours:[]},j,c,p)},DB=function(a,c,p,w){w===void 0&&(w=!0);var M=function(N){return{isDisabled:function(){return Mr.isDisabled(N)},setDisabled:function(j){return Mr.set(N,j)}}},A=zC({presets:"normal",iconContent:a.icon,textContent:a.text,htmlContent:$.none(),ariaLabel:a.text,caret:$.none(),checkMark:$.none(),shortcutContent:a.shortcut},p,w);return Ww({data:Uw(a),getApi:M,disabled:a.disabled,onAction:a.onAction,onSetup:a.onSetup,triggersSubmenu:!1,itemBehaviours:[]},A,c,p)},OW=function(a){var c=a.text.fold(function(){return{}},function(p){return{innerHtml:p}});return{type:"separator",dom:ne({tag:"div",classes:[eI,lj]},c),components:[]}},IW=function(a,c,p,w){w===void 0&&(w=!0);var M=function(N){return{setActive:function(j){zo.set(N,j)},isActive:function(){return zo.isOn(N)},isDisabled:function(){return Mr.isDisabled(N)},setDisabled:function(j){return Mr.set(N,j)}}},A=zC({iconContent:a.icon,textContent:a.text,htmlContent:$.none(),ariaLabel:a.text,checkMark:$.some(Y6(p.icons)),caret:$.none(),shortcutContent:a.shortcut,presets:"normal",meta:a.meta},p,w);return Zt(Ww({data:Uw(a),disabled:a.disabled,getApi:M,onAction:a.onAction,onSetup:a.onSetup,triggersSubmenu:!1,itemBehaviours:[]},A,c,p),{toggling:{toggleClass:l6,toggleOnExecute:!1,selected:a.active}})},WI=Qj,WC=OW,RW=DB,FA=EW,PW=IW,NW=AW,LW=eW,UC;(function(a){a[a.ContentFocus=0]="ContentFocus",a[a.UiFocus=1]="UiFocus"})(UC||(UC={}));var BW=function(a,c,p,w,M){var A=p.shared.providers,N=function(j){return M?ne(ne({},j),{shortcut:$.none(),icon:j.text.isSome()?$.none():j.icon}):j};switch(a.type){case"menuitem":return wj(a).fold(cp,function(j){return $.some(RW(N(j),c,A,w))});case"nestedmenuitem":return Sj(a).fold(cp,function(j){return $.some(FA(N(j),c,A,w,M))});case"togglemenuitem":return C6(a).fold(cp,function(j){return $.some(PW(N(j),c,A,w))});case"separator":return ej(a).fold(cp,function(j){return $.some(WC(j))});case"fancymenuitem":return _6(a).fold(cp,function(j){return NW(N(j),p)});default:return console.error("Unknown item in general menu",a),$.none()}},zW=function(a,c,p,w,M,A,N){var j=w===1,W=!j||MA(a);return zr(Je(a,function(K){switch(K.type){case"separator":return nj(K).fold(cp,function(oe){return $.some(WC(oe))});case"cardmenuitem":return b6(K).fold(cp,function(oe){return $.some(LW(ne(ne({},oe),{onAction:function(se){oe.onAction(se),p(oe.value,oe.meta)}}),M,A,{itemBehaviours:Z6(oe.meta,A),cardText:{matchText:c,highlightOn:N}}))});case"autocompleteitem":default:return rj(K).fold(cp,function(oe){return $.some(WI(oe,c,j,"normal",p,M,A,W))})}}))},UI=function(a,c,p,w,M){var A=MA(c),N=zr(Je(c,function(W){var K=function(se){return M?!ln(se,"text"):A},oe=function(se){return BW(se,p,w,K(se),M)};return W.type==="nestedmenuitem"&&W.getSubmenuItems().length<=0?oe(ne(ne({},W),{disabled:!0})):oe(W)})),j=M?gj:kA;return j(a,A,N,1,"normal")},AB=function(a){return bi.singleData(a.value,a)},FW=function(a,c,p,w){var M=p===UC.ContentFocus?PD():y1(),A=jC(c,w),N=ov(w);return{dom:a.dom,components:a.components,items:a.items,value:a.value,markers:{selectedItem:N.selectedItem,item:N.item},movement:A,fakeFocus:p===UC.ContentFocus,focusManager:M,menuBehaviours:AA.unnamedEvents(c!=="auto"?[]:[ha(function(j,W){dI(j,4,N.item).each(function(K){var oe=K.numColumns,se=K.numRows;Rr.setGridSize(j,se,oe)})})])}},VW=function(a,c){var p=za(),w=Er(!1),M=ru(gi.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:zn([po("dismissAutocompleter",[fn(wf(),function(){return W()})])]),lazySink:c.getSink})),A=function(){return gi.isOpen(M)},N=function(){return p.get().isSome()},j=function(){N()&&gi.hide(M)},W=function(){if(N()){var Be=p.get().map(function(ht){return ht.element});xA(Be.getOr(He.fromDom(a.selection.getNode()))).each(Iv),j(),p.clear(),w.set(!1)}},K=wt(function(){return J4(a)}),oe=function(Be,ht){var Ut=vt(ht,function(Kt){return $.from(Kt.columns)}).getOr(1);return Bt(ht,function(Kt){var ct=Kt.items;return zW(ct,Kt.matchText,function(Lt,rn){var $n=a.selection.getRng();j4(a.dom,$n,Be).fold(function(){return console.error("Lost context. Cursor probably moved")},function(cn){var Xn=cn.range,mn={hide:function(){W()},reload:function(nn){j(),Ee(nn)}};w.set(!0),Kt.onAction(mn,Xn,Lt,rn),w.set(!1)})},Ut,lp.BUBBLE_TO_SANDBOX,c,Kt.highlightOn)})},se=function(Be){if(!N()){var ht=U9(a,Be.range);p.set({triggerChar:Be.triggerChar,element:ht,matchLength:Be.text.length}),w.set(!1)}},be=function(Be,ht,Ut,Kt){Be.matchLength=ht.text.length;var ct=vt(Ut,function(Lt){return $.from(Lt.columns)}).getOr(1);gi.showAt(M,xr.sketch(FW(kA("autocompleter-value",!0,Kt,ct,"normal"),ct,UC.ContentFocus,"normal")),{anchor:{type:"node",root:He.fromDom(a.getBody()),node:$.from(Be.element)}}),gi.getContent(M).each(ii.highlightFirst)},_e=function(Be){return p.get().map(function(ht){return j4(a.dom,a.selection.getRng(),ht.triggerChar).bind(function(Ut){return t6(a,K,Ut,Be)})}).getOrThunk(function(){return Q9(a,K)})},Ee=function(Be){_e(Be).fold(W,function(ht){se(ht.context),ht.lookupData.then(function(Ut){p.get().map(function(Kt){var ct=ht.context;if(Kt.triggerChar===ct.triggerChar){var Lt=oe(ct.triggerChar,Ut);Lt.length>0?be(Kt,ct,Ut,Lt):ct.text.length-Kt.matchLength>=10?W():j()}})})})},je=V4(function(Be){Be.which!==27&&Ee()},50),ft={onKeypress:je,cancelIfNecessary:W,isMenuOpen:A,isActive:N,isProcessingAction:w.get,getView:function(){return gi.getContent(M)}};a.hasPlugin("rtc")===!1&&X9.setup(ft,a)},HW={register:VW},qC=function(a,c,p){return qs(a,c,p).isSome()},EB=function(a,c){var p=null,w=function(){for(var A=[],N=0;N<arguments.length;N++)A[N]=arguments[N];p=setTimeout(function(){a.apply(null,A),p=null},c)},M=function(){p!==null&&(clearTimeout(p),p=null)};return{cancel:M,schedule:w}},OB=5,qI=400,IB=function(a){var c=a.raw;return c.touches===void 0||c.touches.length!==1?$.none():$.some(c.touches[0])},RB=function(a,c){var p=Math.abs(a.clientX-c.x),w=Math.abs(a.clientY-c.y);return p>OB||w>OB},jW=function(a){var c=za(),p=Er(!1),w=EB(function(K){a.triggerEvent(Qb(),K),p.set(!0)},qI),M=function(K){return IB(K).each(function(oe){w.cancel();var se={x:oe.clientX,y:oe.clientY,target:K.target};w.schedule(K),p.set(!1),c.set(se)}),$.none()},A=function(K){return w.cancel(),IB(K).each(function(oe){c.on(function(se){RB(oe,se)&&c.clear()})}),$.none()},N=function(K){w.cancel();var oe=function(se){return si(se.target,K.target)};return c.get().filter(oe).map(function(se){return p.get()?(K.prevent(),!1):a.triggerEvent(zp(),K)})},j=Wh([{key:Ud(),value:M},{key:bf(),value:A},{key:Lp(),value:N}]),W=function(K,oe){return Pt(j,oe).bind(function(se){return se(K)})};return{fireIfReady:W}},WW=function(a){var c=a.raw;return c.which===A0[0]&&!Ot(["input","textarea"],qe(a.target))&&!qC(a.target,'[contenteditable="true"]')},$I=function(){return Cr().browser.isFirefox()},$C=function(a,c){return $I()?Px(a,"focus",c):Ka(a,"focusin",c)},UW=function(a,c){return $I()?Px(a,"blur",c):Ka(a,"focusout",c)},qW=function(a,c){var p=ne({stopBackspace:!0},c),w=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],M=jW(p),A=Je(w.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(_e){return Ka(a,_e,function(Ee){M.fireIfReady(Ee,_e).each(function(ft){ft&&Ee.kill()});var je=p.triggerEvent(_e,Ee);je&&Ee.kill()})}),N=za(),j=Ka(a,"paste",function(_e){M.fireIfReady(_e,"paste").each(function(je){je&&_e.kill()});var Ee=p.triggerEvent("paste",_e);Ee&&_e.kill(),N.set(setTimeout(function(){p.triggerEvent(S_(),_e)},0))}),W=Ka(a,"keydown",function(_e){var Ee=p.triggerEvent("keydown",_e);Ee?_e.kill():p.stopBackspace&&WW(_e)&&_e.prevent()}),K=$C(a,function(_e){var Ee=p.triggerEvent("focusin",_e);Ee&&_e.kill()}),oe=za(),se=UW(a,function(_e){var Ee=p.triggerEvent("focusout",_e);Ee&&_e.kill(),oe.set(setTimeout(function(){p.triggerEvent(__(),_e)},0))}),be=function(){Fe(A,function(_e){_e.unbind()}),W.unbind(),K.unbind(),se.unbind(),j.unbind(),N.on(clearTimeout),oe.on(clearTimeout)};return{unbind:be}},PB=function(a,c){var p=Pt(a,"target").getOr(c);return Er(p)},VA=function(a,c){var p=Er(!1),w=Er(!1),M=function(){p.set(!0)},A=function(){w.set(!0)};return{stop:M,cut:A,isStopped:p.get,isCut:w.get,event:a,setSource:c.set,getSource:c.get}},$W=function(a){var c=Er(!1),p=function(){c.set(!0)};return{stop:p,cut:E,isStopped:c.get,isCut:ie,event:a,setSource:te("Cannot set source of a broadcasted event"),getSource:te("Cannot get source of a broadcasted event")}},GC=Cc.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),GI=function(a,c,p,w,M,A){var N=a(c,w),j=VA(p,M);return N.fold(function(){return A.logEventNoHandlers(c,w),GC.complete()},function(W){var K=W.descHandler,oe=I_(K);return oe(j),j.isStopped()?(A.logEventStopped(c,W.element,K.purpose),GC.stopped()):j.isCut()?(A.logEventCut(c,W.element,K.purpose),GC.complete()):sa(W.element).fold(function(){return A.logNoParent(c,W.element,K.purpose),GC.complete()},function(se){return A.logEventResponse(c,W.element,K.purpose),GC.resume(se)})})},NB=function(a,c,p,w,M,A){return GI(a,c,p,w,M,A).fold(le,function(N){return NB(a,c,p,N,M,A)},ie)},GW=function(a,c,p,w,M){var A=PB(p,w);return GI(a,c,p,w,A,M)},XW=function(a,c,p){var w=$W(c);return Fe(a,function(M){var A=M.descHandler,N=I_(A);N(w)}),w.isStopped()},YW=function(a,c,p,w){return LB(a,c,p,p.target,w)},LB=function(a,c,p,w,M){var A=PB(p,w);return NB(a,c,p,w,A,M)},KW=function(a,c){return{element:a,descHandler:c}},JW=function(a,c){return{id:a,descHandler:c}},ZW=function(){var a={},c=function(N,j,W){Bn(W,function(K,oe){var se=a[oe]!==void 0?a[oe]:{};se[j]=O_(K,N),a[oe]=se})},p=function(N,j){return qd(j).bind(function(W){return Pt(N,W)}).map(function(W){return KW(j,W)})},w=function(N){return Pt(a,N).map(function(j){return er(j,function(W,K){return JW(K,W)})}).getOr([])},M=function(N,j,W){return Pt(a,j).bind(function(K){return Uv(W,function(oe){return p(K,oe)},N)})},A=function(N){Bn(a,function(j,W){ln(j,N)&&delete j[N]})};return{registerId:c,unregisterId:A,filterByType:w,find:M}},QW=function(){var a=ZW(),c={},p=function(K){var oe=K.element;return qd(oe).getOrThunk(function(){return JM("uid-",K.element)})},w=function(K,oe){var se=c[oe];if(se===K)A(K);else throw new Error('The tagId "'+oe+'" is already used by: '+$u(se.element)+`
Cannot use it for: `+$u(K.element)+`
The conflicting element is`+(Or(se.element)?" ":" not ")+"already in the DOM")},M=function(K){var oe=p(K);Kn(c,oe)&&w(K,oe);var se=[K];a.registerId(se,oe,K.events),c[oe]=K},A=function(K){qd(K.element).each(function(oe){delete c[oe],a.unregisterId(oe)})},N=function(K){return a.filterByType(K)},j=function(K,oe,se){return a.find(K,oe,se)},W=function(K){return Pt(c,K)};return{find:j,filter:N,register:M,unregister:A,getById:W}},U1=function(a){var c=a.dom,p=c.attributes,w=Z(c,["attributes"]);return{uid:a.uid,dom:ne({tag:"div",attributes:ne({role:"presentation"},p)},w),components:a.components,behaviours:Vg(a.containerBehaviours),events:a.events,domModification:a.domModification,eventOrder:a.eventOrder}},yl=ac({name:"Container",factory:U1,configFields:[dt("components",[]),Pu("containerBehaviours",[]),dt("events",{}),dt("domModification",{}),dt("eventOrder",{})]}),BB=function(a){var c=function(Be){return sa(a.element).fold(le,function(ht){return si(Be,ht)})},p=QW(),w=function(Be,ht){return p.find(c,Be,ht)},M=qW(a.element,{triggerEvent:function(Be,ht){return xg(Be,ht.target,function(Ut){return YW(w,Be,ht,Ut)})}}),A={debugInfo:L("real"),triggerEvent:function(Be,ht,Ut){xg(Be,ht,function(Kt){return LB(w,Be,Ut,ht,Kt)})},triggerFocus:function(Be,ht){qd(Be).fold(function(){Kd(Be)},function(Ut){xg(Bp(),Be,function(Kt){return GW(w,Bp(),{originator:ht,kill:E,prevent:E,target:Be},Be,Kt),!1})})},triggerEscape:function(Be,ht){A.triggerEvent("keydown",Be.element,ht.event)},getByUid:function(Be){return je(Be)},getByDom:function(Be){return ft(Be)},build:ru,addToGui:function(Be){W(Be)},removeFromGui:function(Be){K(Be)},addToWorld:function(Be){N(Be)},removeFromWorld:function(Be){j(Be)},broadcast:function(Be){be(Be)},broadcastOn:function(Be,ht){_e(Be,ht)},broadcastEvent:function(Be,ht){Ee(Be,ht)},isConnected:le},N=function(Be){Be.connect(A),Me(Be.element)||(p.register(Be),Fe(Be.components(),N),A.triggerEvent(cg(),Be.element,{target:Be.element}))},j=function(Be){Me(Be.element)||(Fe(Be.components(),j),p.unregister(Be)),Be.disconnect()},W=function(Be){Os(a,Be)},K=function(Be){jc(Be)},oe=function(){M.unbind(),Ml(a.element)},se=function(Be){var ht=p.filter(zc());Fe(ht,function(Ut){var Kt=Ut.descHandler,ct=I_(Kt);ct(Be)})},be=function(Be){se({universal:!0,data:Be})},_e=function(Be,ht){se({universal:!1,channels:Be,data:ht})},Ee=function(Be,ht){var Ut=p.filter(Be);return XW(Ut,ht)},je=function(Be){return p.getById(Be).fold(function(){return fo.error(new Error('Could not find component with uid: "'+Be+'" in system.'))},fo.value)},ft=function(Be){var ht=qd(Be).getOr("not found");return je(ht)};return N(a),{root:a,element:a.element,destroy:oe,add:W,remove:K,getByUid:je,getByDom:ft,addToWorld:N,removeFromWorld:j,broadcast:be,broadcastOn:_e,broadcastEvent:Ee}},eU=function(a,c){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Je(a.items,c.interpreter)}},tU=L([dt("prefix","form-field"),Pu("fieldBehaviours",[So,qn])]),HA=L([Af({schema:[on("dom")],name:"label"}),Af({factory:{sketch:function(a){return{uid:a.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:a.text}}}},schema:[on("text")],name:"aria-descriptor"}),Qu({factory:{sketch:function(a){var c=m_(a,["factory"]);return a.factory.sketch(c)}},schema:[on("factory")],name:"field"})]),zB=function(a,c,p,w){var M=Nu(a.fieldBehaviours,[So.config({find:function(j){return Ti(j,a,"field")}}),qn.config({store:{mode:"manual",getValue:function(j){return So.getCurrent(j).bind(qn.getValue)},setValue:function(j,W){So.getCurrent(j).each(function(K){qn.setValue(K,W)})}}})]),A=Gi([ha(function(j,W){var K=gD(j,a,["label","field","aria-descriptor"]);K.field().each(function(oe){var se=ir(a.prefix);K.label().each(function(be){so(be.element,"for",se),so(oe.element,"id",se)}),K["aria-descriptor"]().each(function(be){var _e=ir(a.prefix);so(be.element,"id",_e),so(oe.element,"aria-describedby",_e)})})})]),N={getField:function(j){return Ti(j,a,"field")},getLabel:function(j){return Ti(j,a,"label")}};return{uid:a.uid,dom:a.dom,components:c,behaviours:M,events:A,apis:N}},Ko=ml({name:"FormField",configFields:tU(),partFields:HA(),factory:zB,apis:{getField:function(a,c){return a.getField(c)},getLabel:function(a,c){return a.getLabel(c)}}}),nU=function(a,c){return ud({attributes:Wh([{key:c.tabAttr,value:"true"}])})},rU=Object.freeze({__proto__:null,exhibit:nU}),oU=[dt("tabAttr","data-alloy-tabstop")],ou=Ya({fields:oU,name:"tabstopping",active:rU}),iU=tinymce.util.Tools.resolve("tinymce.html.Entities"),XC=function(a,c,p,w){var M=FB(a,c,p,w);return Ko.sketch(M)},aU=function(a,c){return XC(a,c,[],[])},FB=function(a,c,p,w){return{dom:VB(p),components:a.toArray().concat([c]),fieldBehaviours:zn(w)}},uU=function(){return VB([])},VB=function(a){return{tag:"div",classes:["tox-form__group"].concat(a)}},W0=function(a,c){return Ko.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:c.translate(a)}})},Kc=ir("form-component-change"),Jc=ir("form-close"),Nf=ir("form-cancel"),xm=ir("form-action"),$w=ir("form-submit"),jA=ir("form-block"),Gw=ir("form-unblock"),HB=ir("form-tabchange"),WA=ir("form-resize"),XI=function(a,c){var p,w=a.label.map(function(se){return W0(se,c)}),M=function(se){return function(be,_e){qs(_e.event.target,"[data-collection-item-value]").each(function(Ee){se(be,_e,Ee,la(Ee,"data-collection-item-value"))})}},A=function(se,be){var _e=Je(be,function(ft){var Be=If.translate(ft.text),ht=a.columns===1?'<div class="tox-collection__item-label">'+Be+"</div>":"",Ut='<div class="tox-collection__item-icon">'+ft.icon+"</div>",Kt={_:" "," - ":" ","-":" "},ct=Be.replace(/\_| \- |\-/g,function(rn){return Kt[rn]}),Lt=c.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+Lt+'" tabindex="-1" data-collection-item-value="'+iU.encodeAllRaw(ft.value)+'" title="'+ct+'" aria-label="'+ct+'">'+Ut+ht+"</div>"}),Ee=a.columns!=="auto"&&a.columns>1?$t(_e,a.columns):[_e],je=Je(Ee,function(ft){return'<div class="tox-collection__group">'+ft.join("")+"</div>"});id(se.element,je.join(""))},N=M(function(se,be,_e,Ee){be.stop(),c.isDisabled()||Ir(se,xm,{name:a.name,value:Ee})}),j=[fn(Uh(),M(function(se,be,_e){Kd(_e)})),fn(Gv(),N),fn(zp(),N),fn(Bc(),M(function(se,be,_e){mu(se.element,"."+F1).each(function(Ee){pu(Ee,F1)}),Xu(_e,F1)})),fn(ls(),M(function(se){mu(se.element,"."+F1).each(function(be){pu(be,F1)})})),Sf(M(function(se,be,_e,Ee){Ir(se,xm,{name:a.name,value:Ee})}))],W=function(se,be){return Je(Ru(se.element,".tox-collection__item"),be)},K=Ko.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(a.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:q},behaviours:zn([Mr.config({disabled:c.isDisabled,onDisabled:function(se){W(se,function(be){Xu(be,"tox-collection__item--state-disabled"),so(be,"aria-disabled",!0)})},onEnabled:function(se){W(se,function(be){pu(be,"tox-collection__item--state-disabled"),Wu(be,"aria-disabled")})}}),Bu(),Qr.config({}),qn.config({store:{mode:"memory",initialValue:[]},onSetValue:function(se,be){A(se,be),a.columns==="auto"&&dI(se,5,"tox-collection__item").each(function(_e){var Ee=_e.numRows,je=_e.numColumns;Rr.setGridSize(se,Ee,je)}),ko(se,WA)}}),ou.config({}),Rr.config(wW(a.columns,"normal")),po("collection-events",j)]),eventOrder:(p={},p[Tc()]=["disabling","alloy.base.behaviour","collection-events"],p)}),oe=["tox-form__group--collection"];return XC(w,K,oe,[])},UA=L([oi("data"),dt("inputAttributes",{}),dt("inputStyles",{}),dt("tag","input"),dt("inputClasses",[]),_o("onSetValue"),dt("styles",{}),dt("eventOrder",{}),Pu("inputBehaviours",[qn,$r]),dt("selectOnFocus",!0)]),jB=function(a){return zn([$r.config({onFocus:a.selectOnFocus?function(c){var p=c.element,w=tc(p);p.dom.setSelectionRange(0,w.length)}:E})])},sU=function(a){return ne(ne({},jB(a)),Nu(a.inputBehaviours,[qn.config({store:ne(ne({mode:"manual"},a.data.map(function(c){return{initialValue:c}}).getOr({})),{getValue:function(c){return tc(c.element)},setValue:function(c,p){var w=tc(c.element);w!==p&&n0(c.element,p)}}),onSetValue:a.onSetValue})]))},WB=function(a){return{tag:a.tag,attributes:ne({type:"text"},a.inputAttributes),styles:a.inputStyles,classes:a.inputClasses}},qA=function(a,c){return{uid:a.uid,dom:WB(a),components:[],behaviours:sU(a),eventOrder:a.eventOrder}},YC=ac({name:"Input",configFields:UA(),factory:qA}),UB={},qB={exports:UB};(function(a,c,p,w){(function(M,A){typeof c=="object"&&typeof p<"u"?p.exports=A():typeof a=="function"&&a.amd?a(A):(M=typeof globalThis<"u"?globalThis:M||self,M.EphoxContactWrapper=A())})(this,function(){var M=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof N3<"u"?N3:typeof self<"u"?self:{},A={exports:{}};(function(K){(function(oe){var se=setTimeout;function be(){}function _e(ct,Lt){return function(){ct.apply(Lt,arguments)}}function Ee(ct){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ct!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Kt(ct,this)}function je(ct,Lt){for(;ct._state===3;)ct=ct._value;if(ct._state===0){ct._deferreds.push(Lt);return}ct._handled=!0,Ee._immediateFn(function(){var rn=ct._state===1?Lt.onFulfilled:Lt.onRejected;if(rn===null){(ct._state===1?ft:Be)(Lt.promise,ct._value);return}var $n;try{$n=rn(ct._value)}catch(cn){Be(Lt.promise,cn);return}ft(Lt.promise,$n)})}function ft(ct,Lt){try{if(Lt===ct)throw new TypeError("A promise cannot be resolved with itself.");if(Lt&&(typeof Lt=="object"||typeof Lt=="function")){var rn=Lt.then;if(Lt instanceof Ee){ct._state=3,ct._value=Lt,ht(ct);return}else if(typeof rn=="function"){Kt(_e(rn,Lt),ct);return}}ct._state=1,ct._value=Lt,ht(ct)}catch($n){Be(ct,$n)}}function Be(ct,Lt){ct._state=2,ct._value=Lt,ht(ct)}function ht(ct){ct._state===2&&ct._deferreds.length===0&&Ee._immediateFn(function(){ct._handled||Ee._unhandledRejectionFn(ct._value)});for(var Lt=0,rn=ct._deferreds.length;Lt<rn;Lt++)je(ct,ct._deferreds[Lt]);ct._deferreds=null}function Ut(ct,Lt,rn){this.onFulfilled=typeof ct=="function"?ct:null,this.onRejected=typeof Lt=="function"?Lt:null,this.promise=rn}function Kt(ct,Lt){var rn=!1;try{ct(function($n){rn||(rn=!0,ft(Lt,$n))},function($n){rn||(rn=!0,Be(Lt,$n))})}catch($n){if(rn)return;rn=!0,Be(Lt,$n)}}Ee.prototype.catch=function(ct){return this.then(null,ct)},Ee.prototype.then=function(ct,Lt){var rn=new this.constructor(be);return je(this,new Ut(ct,Lt,rn)),rn},Ee.all=function(ct){var Lt=Array.prototype.slice.call(ct);return new Ee(function(rn,$n){if(Lt.length===0)return rn([]);var cn=Lt.length;function Xn(nn,jn){try{if(jn&&(typeof jn=="object"||typeof jn=="function")){var gr=jn.then;if(typeof gr=="function"){gr.call(jn,function(dn){Xn(nn,dn)},$n);return}}Lt[nn]=jn,--cn===0&&rn(Lt)}catch(dn){$n(dn)}}for(var mn=0;mn<Lt.length;mn++)Xn(mn,Lt[mn])})},Ee.resolve=function(ct){return ct&&typeof ct=="object"&&ct.constructor===Ee?ct:new Ee(function(Lt){Lt(ct)})},Ee.reject=function(ct){return new Ee(function(Lt,rn){rn(ct)})},Ee.race=function(ct){return new Ee(function(Lt,rn){for(var $n=0,cn=ct.length;$n<cn;$n++)ct[$n].then(Lt,rn)})},Ee._immediateFn=typeof setImmediate=="function"?function(ct){setImmediate(ct)}:function(ct){se(ct,0)},Ee._unhandledRejectionFn=function(ct){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",ct)},Ee._setImmediateFn=function(ct){Ee._immediateFn=ct},Ee._setUnhandledRejectionFn=function(ct){Ee._unhandledRejectionFn=ct},K.exports?K.exports=Ee:oe.Promise||(oe.Promise=Ee)})(M)})(A);var N=A.exports,j=function(){return typeof window<"u"?window:Function("return this;")()}(),W={boltExport:j.Promise||N};return W})})(void 0,UB,qB);var wm=qB.exports.boltExport,YI=function(a){var c=$.none(),p=[],w=function(K){return YI(function(oe){M(function(se){oe(K(se))})})},M=function(K){N()?W(K):p.push(K)},A=function(K){N()||(c=$.some(K),j(p),p=[])},N=function(){return c.isSome()},j=function(K){Fe(K,W)},W=function(K){c.each(function(oe){setTimeout(function(){K(oe)},0)})};return a(A),{get:M,map:w,isReady:N}},$B=function(a){return YI(function(c){c(a)})},lU={nu:YI,pure:$B},cU=function(a){setTimeout(function(){throw a},0)},q1=function(a){var c=function(W){a().then(W,cU)},p=function(W){return q1(function(){return a().then(W)})},w=function(W){return q1(function(){return a().then(function(K){return W(K).toPromise()})})},M=function(W){return q1(function(){return a().then(function(){return W.toPromise()})})},A=function(){return lU.nu(c)},N=function(){var W=null;return q1(function(){return W===null&&(W=a()),W})},j=a;return{map:p,bind:w,anonBind:M,toLazy:A,toCached:N,toPromise:j,get:c}},fU=function(a){return q1(function(){return new wm(a)})},dU=function(a){return q1(function(){return wm.resolve(a)})},Is={nu:fU,pure:dU},GB=["input","textarea"],XB=function(a){var c=qe(a);return Ot(GB,c)},YB=function(a,c){var p=c.getRoot(a).getOr(a.element);pu(p,c.invalidClass),c.notify.each(function(w){XB(a.element)&&so(a.element,"aria-invalid",!1),w.getContainer(a).each(function(M){id(M,w.validHtml)}),w.onValid(a)})},KB=function(a,c,p,w){var M=c.getRoot(a).getOr(a.element);Xu(M,c.invalidClass),c.notify.each(function(A){XB(a.element)&&so(a.element,"aria-invalid",!0),A.getContainer(a).each(function(N){id(N,w)}),A.onInvalid(a,w)})},JB=function(a,c,p){return c.validator.fold(function(){return Is.pure(fo.value(!0))},function(w){return w.validate(a)})},KI=function(a,c,p){return c.notify.each(function(w){w.onValidate(a)}),JB(a,c).map(function(w){return a.getSystem().isConnected()?w.fold(function(M){return KB(a,c,p,M),fo.error(M)},function(M){return YB(a,c),fo.value(M)}):fo.error("No longer in system")})},$A=function(a,c){var p=c.getRoot(a).getOr(a.element);return cl(p,c.invalidClass)},sc=Object.freeze({__proto__:null,markValid:YB,markInvalid:KB,query:JB,run:KI,isInvalid:$A}),ZB=function(a,c){return a.validator.map(function(p){return Gi([fn(p.onEvent,function(w){KI(w,a,c).get(q)})].concat(p.validateOnLoad?[ha(function(w){KI(w,a,c).get(E)})]:[]))}).getOr({})},hU=Object.freeze({__proto__:null,events:ZB}),pU=[on("invalidClass"),dt("getRoot",$.none),Jl("notify",[dt("aria","alert"),dt("getContainer",$.none),dt("validHtml",""),_o("onValid"),_o("onInvalid"),_o("onValidate")]),Jl("validator",[on("validate"),dt("onEvent","input"),dt("validateOnLoad",!0)])],_m=Ya({fields:pU,name:"invalidating",active:hU,apis:sc,extra:{validation:function(a){return function(c){var p=qn.getValue(c);return Is.pure(a(p))}}}}),mU=function(a,c,p,w){return p.getOrCreate(a,c,w)},QB=Object.freeze({__proto__:null,getCoupled:mU}),ez=[Al("others",ks(fo.value,gf()))],gU=function(){var a={},c=function(w,M,A){var N=Tt(M.others);if(N)return Pt(a,A).getOrThunk(function(){var j=Pt(M.others,A).getOrDie("No information found for coupled component: "+A),W=j(w),K=w.getSystem().build(W);return a[A]=K,K});throw new Error("Cannot find coupled component: "+A+". Known coupled components: "+JSON.stringify(N,null,2))},p=L({});return Gu({readState:p,getOrCreate:c})},vU=Object.freeze({__proto__:null,init:gU}),iu=Ya({fields:ez,name:"coupling",apis:QB,state:vU}),tz=L("sink"),JI=L(Af({name:tz(),overrides:L({dom:{tag:"div"},behaviours:zn([hl.config({useFixed:le})]),events:Gi([Xa(Jb()),Xa(xf()),Xa(Gv())])})})),uh;(function(a){a[a.HighlightFirst=0]="HighlightFirst",a[a.HighlightNone=1]="HighlightNone"})(uh||(uh={}));var ZI=function(a,c){var p=a.getHotspot(c).getOr(c),w="hotspot",M=a.getAnchorOverrides();return a.layouts.fold(function(){return{type:w,hotspot:p,overrides:M}},function(A){return{type:w,hotspot:p,overrides:M,layouts:A}})},yU=function(a,c,p){var w=a.fetch;return w(p).map(c)},bU=function(a,c,p,w,M,A,N){var j=yU(a,c,w),W=U0(w,a);return j.map(function(K){return K.bind(function(oe){return $.from(bi.sketch(ne(ne({},A.menu()),{uid:hg(""),data:oe,highlightImmediately:N===uh.HighlightFirst,onOpenMenu:function(se,be){var _e=W().getOrDie();hl.position(_e,be,{anchor:p}),Lo.decloak(M)},onOpenSubmenu:function(se,be,_e){var Ee=W().getOrDie();hl.position(Ee,_e,{anchor:{type:"submenu",item:be}}),Lo.decloak(M)},onRepositionMenu:function(se,be,_e){var Ee=W().getOrDie();hl.position(Ee,be,{anchor:p}),Fe(_e,function(je){hl.position(Ee,je.triggeredMenu,{anchor:{type:"submenu",item:je.triggeringItem}})})},onEscape:function(){return $r.focus(w),Lo.close(M),$.some(!0)}})))})})},QI=function(a,c,p,w,M,A,N){var j=ZI(a,p),W=bU(a,c,j,p,w,M,N);return W.map(function(K){return K.fold(function(){Lo.isOpen(w)&&Lo.close(w)},function(oe){Lo.cloak(w),Lo.open(w,oe),A(w)}),w})},xU=function(a,c,p,w,M,A,N){return Lo.close(w),Is.pure(w)},Xw=function(a,c,p,w,M,A){var N=iu.getCoupled(p,"sandbox"),j=Lo.isOpen(N),W=j?xU:QI;return W(a,c,p,N,w,M,A)},wU=function(a,c,p){var w=So.getCurrent(c).getOr(c),M=Cs(a.element);p?Ur(w.element,"min-width",M+"px"):Zf(w.element,M)},U0=function(a,c){return a.getSystem().getByUid(c.uid+"-"+tz()).map(function(p){return function(){return fo.value(p)}}).getOrThunk(function(){return c.lazySink.fold(function(){return function(){return fo.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(p){return function(){return p(a)}})})},nz=function(a){Lo.getState(a).each(function(c){bi.repositionMenus(c)})},eR=function(a,c,p){var w=ik(),M=function(j,W){var K=ZI(a,c);w.link(c.element),a.matchWidth&&wU(K.hotspot,W,a.useMinWidth),a.onOpen(K,j,W),p!==void 0&&p.onOpen!==void 0&&p.onOpen(j,W)},A=function(j,W){w.unlink(c.element),p!==void 0&&p.onClose!==void 0&&p.onClose(j,W)},N=U0(c,a);return{dom:{tag:"div",classes:a.sandboxClasses,attributes:{id:w.id,role:"listbox"}},behaviours:$c.augment(a.sandboxBehaviours,[qn.config({store:{mode:"memory",initialValue:c}}),Lo.config({onOpen:M,onClose:A,isPartOf:function(j,W,K){return yg(W,K)||yg(c,K)},getAttachPoint:function(){return N().getOrDie()}}),So.config({find:function(j){return Lo.getState(j).bind(function(W){return So.getCurrent(W)})}}),nc.config({channels:ne(ne({},um({isExtraPart:ie})),o1({doReposition:nz}))})])}},av=function(a){var c=iu.getCoupled(a,"sandbox");nz(c)},tR=function(){return[dt("sandboxClasses",[]),$c.field("sandboxBehaviours",[So,nc,Lo,qn])]},_U=L([on("dom"),on("fetch"),_o("onOpen"),Pi("onExecute"),dt("getHotspot",$.some),dt("getAnchorOverrides",L({})),nm(),Pu("dropdownBehaviours",[zo,iu,Rr,$r]),on("toggleClass"),dt("eventOrder",{}),oi("lazySink"),dt("matchWidth",!1),dt("useMinWidth",!1),oi("role")].concat(tR())),yd=L([Ec({schema:[_g()],name:"menu",defaults:function(a){return{onExecute:a.onExecute}}}),JI()]),rz=function(a,c,p,w){var M,A=function(oe){return Pt(a.dom,"attributes").bind(function(se){return Pt(se,oe)})},N=function(oe){Lo.getState(oe).each(function(se){bi.highlightPrimary(se)})},j=function(oe){var se=N;Xw(a,q,oe,w,se,uh.HighlightFirst).get(E)},W={expand:function(oe){zo.isOn(oe)||Xw(a,q,oe,w,E,uh.HighlightNone).get(E)},open:function(oe){zo.isOn(oe)||Xw(a,q,oe,w,E,uh.HighlightFirst).get(E)},isOpen:zo.isOn,close:function(oe){zo.isOn(oe)&&Xw(a,q,oe,w,E,uh.HighlightFirst).get(E)},repositionMenus:function(oe){zo.isOn(oe)&&av(oe)}},K=function(oe,se){return $h(oe),$.some(!0)};return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.dropdownBehaviours,[zo.config({toggleClass:a.toggleClass,aria:{mode:"expanded"}}),iu.config({others:{sandbox:function(oe){return eR(a,oe,{onOpen:function(){return zo.on(oe)},onClose:function(){return zo.off(oe)}})}}}),Rr.config({mode:"special",onSpace:K,onEnter:K,onDown:function(oe,se){if(bd.isOpen(oe)){var be=iu.getCoupled(oe,"sandbox");N(be)}else bd.open(oe);return $.some(!0)},onEscape:function(oe,se){return bd.isOpen(oe)?(bd.close(oe),$.some(!0)):$.none()}}),$r.config({})]),events:I1($.some(j)),eventOrder:ne(ne({},a.eventOrder),(M={},M[Tc()]=["disabling","toggling","alloy.base.behaviour"],M)),apis:W,domModification:{attributes:ne(ne({"aria-haspopup":"true"},a.role.fold(function(){return{}},function(oe){return{role:oe}})),a.dom.tag==="button"?{type:A("type").getOr("button")}:{})}}},bd=ml({name:"Dropdown",configFields:_U(),partFields:yd(),factory:rz,apis:{open:function(a,c){return a.open(c)},expand:function(a,c){return a.expand(c)},close:function(a,c){return a.close(c)},isOpen:function(a,c){return a.isOpen(c)},repositionMenus:function(a,c){return a.repositionMenus(c)}}}),SU=function(){return ud({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},CU=function(){return Gi([k_(P5(),le)])},GA=Object.freeze({__proto__:null,events:CU,exhibit:SU}),KC=Ya({fields:[],name:"unselecting",active:GA}),oz=function(a,c){return bd.sketch({dom:a.dom,components:a.components,toggleClass:"mce-active",dropdownBehaviours:zn([Pf.button(c.providers.isDisabled),Bu(),KC.config({}),ou.config({})]),layouts:a.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:c.getSink,fetch:function(p){return Is.nu(function(w){return a.fetch(w)}).map(function(w){return $.from(AB(Zt(zA(ir("menu-value"),w,function(M){a.onItemAction(p,M)},a.columns,a.presets,lp.CLOSE_ON_EXECUTE,ie,c.providers),{movement:jC(a.columns,a.presets)})))})},parts:{menu:CA(!1,1,a.presets)}})},iz=ir("color-input-change"),az=ir("color-swatch-change"),uz=ir("color-picker-cancel"),nR=function(a,c,p){var w=Ko.parts.field({factory:YC,inputClasses:["tox-textfield"],onSetValue:function(W){return _m.run(W).get(E)},inputBehaviours:zn([Mr.config({disabled:c.providers.isDisabled}),Bu(),ou.config({}),_m.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(W){return sa(W.element)},notify:{onValid:function(W){var K=qn.getValue(W);Ir(W,iz,{color:K})}},validator:{validateOnLoad:!1,validate:function(W){var K=qn.getValue(W);if(K.length===0)return Is.pure(fo.value(!0));var oe=He.fromTag("span");Ur(oe,"background-color",K);var se=eu(oe,"background-color").fold(function(){return fo.error("blah")},function(be){return fo.value(K)});return Is.pure(se)}}})]),selectOnFocus:!1}),M=a.label.map(function(W){return W0(W,c.providers)}),A=function(W,K){Ir(W,az,{value:K})},N=function(W,K){j.getOpt(W).each(function(oe){K==="custom"?p.colorPicker(function(se){se.fold(function(){return ko(oe,uz)},function(be){A(oe,be),gB(be)})},"#ffffff"):K==="remove"?A(oe,""):A(oe,K)})},j=ci(oz({dom:{tag:"span",attributes:{"aria-label":c.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Cu,Es,ds]},onLtr:function(){return[Es,Cu,ds]}},components:[],fetch:bB(p.getColors(),p.hasCustomColors()),columns:p.getColorCols(),presets:"color",onItemAction:N},c));return Ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:M.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[w,j.asSpec()]}]),fieldBehaviours:zn([po("form-field-events",[fn(iz,function(W,K){j.getOpt(W).each(function(oe){Ur(oe.element,"background-color",K.event.color)}),Ir(W,Kc,{name:a.name})}),fn(az,function(W,K){Ko.getField(W).each(function(oe){qn.setValue(oe,K.event.value),So.getCurrent(W).each($r.focus)})}),fn(uz,function(W,K){Ko.getField(W).each(function(oe){So.getCurrent(W).each($r.focus)})})])])})},TU=Af({schema:[on("dom")],name:"label"}),q0=function(a){return Af({name:""+a+"-edge",overrides:function(c){var p=c.model.manager.edgeActions[a];return p.fold(function(){return{}},function(w){return{events:Gi([Vy(Ud(),function(M,A,N){return w(M,N)},[c]),Vy(xf(),function(M,A,N){return w(M,N)},[c]),Vy(ug(),function(M,A,N){N.mouseIsDown.get()&&w(M,N)},[c])])}})}})},MU=q0("top-left"),kU=q0("top"),DU=q0("top-right"),AU=q0("right"),EU=q0("bottom-right"),sz=q0("bottom"),lz=q0("bottom-left"),OU=q0("left"),IU=Qu({name:"thumb",defaults:L({dom:{styles:{position:"absolute"}}}),overrides:function(a){return{events:Gi([dg(Ud(),a,"spectrum"),dg(bf(),a,"spectrum"),dg(Lp(),a,"spectrum"),dg(xf(),a,"spectrum"),dg(ug(),a,"spectrum"),dg(b_(),a,"spectrum")])}}}),RU=Qu({schema:[ul("mouseIsDown",function(){return Er(!1)})],name:"spectrum",overrides:function(a){var c=a.model,p=c.manager,w=function(M,A){return p.getValueFromEvent(A).map(function(N){return p.setValueFrom(M,a,N)})};return{behaviours:zn([Rr.config({mode:"special",onLeft:function(M){return p.onLeft(M,a)},onRight:function(M){return p.onRight(M,a)},onUp:function(M){return p.onUp(M,a)},onDown:function(M){return p.onDown(M,a)}}),$r.config({})]),events:Gi([fn(Ud(),w),fn(bf(),w),fn(xf(),w),fn(ug(),function(M,A){a.mouseIsDown.get()&&w(M,A)})])}}}),PU=[TU,OU,AU,kU,sz,MU,DU,lz,EU,IU,RU],NU="slider.change.value",Yw=L(NU),cz=function(a){return a.type.indexOf("touch")!==-1},XA=function(a){var c=a.event.raw;if(cz(c)){var p=c;return p.touches!==void 0&&p.touches.length===1?$.some(p.touches[0]).map(function(M){return Oi(M.clientX,M.clientY)}):$.none()}else{var w=c;return w.clientX!==void 0?$.some(w).map(function(M){return Oi(M.clientX,M.clientY)}):$.none()}},YA="top",LU="right",fz="bottom",BU="left",$1=function(a){return a.model.minX},G1=function(a){return a.model.minY},KA=function(a){return a.model.minX-1},X1=function(a){return a.model.minY-1},Y1=function(a){return a.model.maxX},K1=function(a){return a.model.maxY},sh=function(a){return a.model.maxX+1},JA=function(a){return a.model.maxY+1},J1=function(a,c,p){return c(a)-p(a)},ZA=function(a){return J1(a,Y1,$1)},JC=function(a){return J1(a,K1,G1)},dz=function(a){return ZA(a)/2},hz=function(a){return JC(a)/2},Kw=function(a){return a.stepSize},rR=function(a){return a.snapToGrid},pz=function(a){return a.snapStart},ZC=function(a){return a.rounded},QA=function(a,c){return a[c+"-edge"]!==void 0},Lf=function(a){return QA(a,BU)},mz=function(a){return QA(a,LU)},gz=function(a){return QA(a,YA)},vz=function(a){return QA(a,fz)},Sm=function(a){return a.model.value.get()},yz=function(a){return{x:a}},bz=function(a){return{y:a}},$0=function(a,c){return{x:a,y:c}},lh=function(a,c){Ir(a,Yw(),{value:c})},zU=function(a,c){lh(a,$0(KA(c),X1(c)))},FU=function(a,c){lh(a,bz(X1(c)))},VU=function(a,c){lh(a,$0(dz(c),X1(c)))},xz=function(a,c){lh(a,$0(sh(c),X1(c)))},HU=function(a,c){lh(a,yz(sh(c)))},jU=function(a,c){lh(a,$0(sh(c),hz(c)))},WU=function(a,c){lh(a,$0(sh(c),JA(c)))},wz=function(a,c){lh(a,bz(JA(c)))},eE=function(a,c){lh(a,$0(dz(c),JA(c)))},UU=function(a,c){lh(a,$0(KA(c),JA(c)))},tE=function(a,c){lh(a,yz(KA(c)))},Jw=function(a,c){lh(a,$0(KA(c),hz(c)))},nE=function(a,c,p,w){return a<c?a:a>p?p:a===c?c-1:Math.max(c,a-w)},rE=function(a,c,p,w){return a>p?a:a<c?c:a===p?p+1:Math.min(p,a+w)},oR=function(a,c,p){return Math.max(c,Math.min(p,a))},qU=function(a,c,p,w,M){return M.fold(function(){var A=a-c,N=Math.round(A/w)*w;return oR(c+N,c-1,p+1)},function(A){var N=(a-A)%w,j=Math.round(N/w),W=Math.floor((a-A)/w),K=Math.floor((p-A)/w),oe=Math.min(K,W+j),se=A+oe*w;return Math.max(A,se)})},$U=function(a,c,p){return Math.min(p,Math.max(a,c))-c},QC=function(a){var c=a.min,p=a.max,w=a.range,M=a.value,A=a.step,N=a.snap,j=a.snapStart,W=a.rounded,K=a.hasMinEdge,oe=a.hasMaxEdge,se=a.minBound,be=a.maxBound,_e=a.screenRange,Ee=K?c-1:c,je=oe?p+1:p;if(M<se)return Ee;if(M>be)return je;var ft=$U(M,se,be),Be=oR(ft/_e*w+c,Ee,je);return N&&Be>=c&&Be<=p?qU(Be,c,p,A,j):W?Math.round(Be):Be},_z=function(a){var c=a.min,p=a.max,w=a.range,M=a.value,A=a.hasMinEdge,N=a.hasMaxEdge,j=a.maxBound,W=a.maxOffset,K=a.centerMinEdge,oe=a.centerMaxEdge;return M<c?A?0:K:M>p?N?j:oe:(M-c)/w*W},iR="top",aR="right",uR="bottom",eT="left",Sz="width",lc="height",fp=function(a){return a.element.dom.getBoundingClientRect()},ch=function(a,c){return a[c]},oE=function(a){var c=fp(a);return ch(c,eT)},sR=function(a){var c=fp(a);return ch(c,aR)},iE=function(a){var c=fp(a);return ch(c,iR)},Cz=function(a){var c=fp(a);return ch(c,uR)},Tz=function(a){var c=fp(a);return ch(c,Sz)},lR=function(a){var c=fp(a);return ch(c,lc)},dp=function(a,c,p){return(a+c)/2-p},aE=function(a,c){var p=fp(a),w=fp(c),M=ch(p,eT),A=ch(p,aR),N=ch(w,eT);return dp(M,A,N)},cR=function(a,c){var p=fp(a),w=fp(c),M=ch(p,iR),A=ch(p,uR),N=ch(w,iR);return dp(M,A,N)},Z1=function(a,c){Ir(a,Yw(),{value:c})},Zw=function(a){return{x:a}},fR=function(a,c,p){var w={min:$1(c),max:Y1(c),range:ZA(c),value:p,step:Kw(c),snap:rR(c),snapStart:pz(c),rounded:ZC(c),hasMinEdge:Lf(c),hasMaxEdge:mz(c),minBound:oE(a),maxBound:sR(a),screenRange:Tz(a)};return QC(w)},GU=function(a,c,p){var w=fR(a,c,p),M=Zw(w);return Z1(a,M),w},XU=function(a,c){var p=$1(c);Z1(a,Zw(p))},YU=function(a,c){var p=Y1(c);Z1(a,Zw(p))},KU=function(a,c,p){var w=a>0?rE:nE,M=w(Sm(p).x,$1(p),Y1(p),Kw(p));return Z1(c,Zw(M)),$.some(M)},uE=function(a){return function(c,p){return KU(a,c,p).map(le)}},JU=function(a){var c=XA(a);return c.map(function(p){return p.left})},Mz=function(a,c,p,w,M){var A=0,N=Tz(a),j=w.bind(function(oe){return $.some(aE(oe,a))}).getOr(A),W=M.bind(function(oe){return $.some(aE(oe,a))}).getOr(N),K={min:$1(c),max:Y1(c),range:ZA(c),value:p,hasMinEdge:Lf(c),hasMaxEdge:mz(c),minBound:oE(a),minOffset:A,maxBound:sR(a),maxOffset:N,centerMinEdge:j,centerMaxEdge:W};return _z(K)},dR=function(a,c,p,w,M,A){var N=Mz(c,A,p,w,M);return oE(c)-oE(a)+N},Cm=function(a,c,p,w){var M=Sm(p),A=dR(a,w.getSpectrum(a),M.x,w.getLeftEdge(a),w.getRightEdge(a),p),N=Cs(c.element)/2;Ur(c.element,"left",A-N+"px")},sE=uE(-1),ZU=uE(1),QU=$.none,kz=$.none,Dz={"top-left":$.none(),top:$.none(),"top-right":$.none(),right:$.some(HU),"bottom-right":$.none(),bottom:$.none(),"bottom-left":$.none(),left:$.some(tE)},hR=Object.freeze({__proto__:null,setValueFrom:GU,setToMin:XU,setToMax:YU,findValueOfOffset:fR,getValueFromEvent:JU,findPositionOfValue:dR,setPositionFromValue:Cm,onLeft:sE,onRight:ZU,onUp:QU,onDown:kz,edgeActions:Dz}),tT=function(a,c){Ir(a,Yw(),{value:c})},G0=function(a){return{y:a}},Q1=function(a,c,p){var w={min:G1(c),max:K1(c),range:JC(c),value:p,step:Kw(c),snap:rR(c),snapStart:pz(c),rounded:ZC(c),hasMinEdge:gz(c),hasMaxEdge:vz(c),minBound:iE(a),maxBound:Cz(a),screenRange:lR(a)};return QC(w)},eq=function(a,c,p){var w=Q1(a,c,p),M=G0(w);return tT(a,M),w},tq=function(a,c){var p=G1(c);tT(a,G0(p))},nq=function(a,c){var p=K1(c);tT(a,G0(p))},rq=function(a,c,p){var w=a>0?rE:nE,M=w(Sm(p).y,G1(p),K1(p),Kw(p));return tT(c,G0(M)),$.some(M)},Az=function(a){return function(c,p){return rq(a,c,p).map(le)}},oq=function(a){var c=XA(a);return c.map(function(p){return p.top})},iq=function(a,c,p,w,M){var A=0,N=lR(a),j=w.bind(function(oe){return $.some(cR(oe,a))}).getOr(A),W=M.bind(function(oe){return $.some(cR(oe,a))}).getOr(N),K={min:G1(c),max:K1(c),range:JC(c),value:p,hasMinEdge:gz(c),hasMaxEdge:vz(c),minBound:iE(a),minOffset:A,maxBound:Cz(a),maxOffset:N,centerMinEdge:j,centerMaxEdge:W};return _z(K)},nT=function(a,c,p,w,M,A){var N=iq(c,A,p,w,M);return iE(c)-iE(a)+N},eb=function(a,c,p,w){var M=Sm(p),A=nT(a,w.getSpectrum(a),M.y,w.getTopEdge(a),w.getBottomEdge(a),p),N=fu(c.element)/2;Ur(c.element,"top",A-N+"px")},aq=$.none,Ez=$.none,uq=Az(-1),sq=Az(1),lq={"top-left":$.none(),top:$.some(FU),"top-right":$.none(),right:$.none(),"bottom-right":$.none(),bottom:$.some(wz),"bottom-left":$.none(),left:$.none()},cq=Object.freeze({__proto__:null,setValueFrom:eq,setToMin:tq,setToMax:nq,findValueOfOffset:Q1,getValueFromEvent:oq,findPositionOfValue:nT,setPositionFromValue:eb,onLeft:aq,onRight:Ez,onUp:uq,onDown:sq,edgeActions:lq}),lE=function(a,c){Ir(a,Yw(),{value:c})},rT=function(a,c){return{x:a,y:c}},pR=function(a,c,p){var w=fR(a,c,p.left),M=Q1(a,c,p.top),A=rT(w,M);return lE(a,A),A},fq=function(a,c,p,w){var M=a>0?rE:nE,A=c?Sm(w).x:M(Sm(w).x,$1(w),Y1(w),Kw(w)),N=c?M(Sm(w).y,G1(w),K1(w),Kw(w)):Sm(w).y;return lE(p,rT(A,N)),$.some(A)},oT=function(a,c){return function(p,w){return fq(a,c,p,w).map(le)}},mR=function(a,c){var p=$1(c),w=G1(c);lE(a,rT(p,w))},gR=function(a,c){var p=Y1(c),w=K1(c);lE(a,rT(p,w))},Oz=function(a){return XA(a)},dq=function(a,c,p,w){var M=Sm(p),A=dR(a,w.getSpectrum(a),M.x,w.getLeftEdge(a),w.getRightEdge(a),p),N=nT(a,w.getSpectrum(a),M.y,w.getTopEdge(a),w.getBottomEdge(a),p),j=Cs(c.element)/2,W=fu(c.element)/2;Ur(c.element,"left",A-j+"px"),Ur(c.element,"top",N-W+"px")},hq=oT(-1,!1),cE=oT(1,!1),Iz=oT(-1,!0),pq=oT(1,!0),mq={"top-left":$.some(zU),top:$.some(VU),"top-right":$.some(xz),right:$.some(jU),"bottom-right":$.some(WU),bottom:$.some(eE),"bottom-left":$.some(UU),left:$.some(Jw)},gq=Object.freeze({__proto__:null,setValueFrom:pR,setToMin:mR,setToMax:gR,getValueFromEvent:Oz,setPositionFromValue:dq,onLeft:hq,onRight:cE,onUp:Iz,onDown:pq,edgeActions:mq}),vq=[dt("stepSize",1),dt("onChange",E),dt("onChoose",E),dt("onInit",E),dt("onDragStart",E),dt("onDragEnd",E),dt("snapToGrid",!1),dt("rounded",!0),oi("snapStart"),Al("model",Lc("mode",{x:[dt("minX",0),dt("maxX",100),ul("value",function(a){return Er(a.mode.minX)}),on("getInitialValue"),Ci("manager",hR)],y:[dt("minY",0),dt("maxY",100),ul("value",function(a){return Er(a.mode.minY)}),on("getInitialValue"),Ci("manager",cq)],xy:[dt("minX",0),dt("maxX",100),dt("minY",0),dt("maxY",100),ul("value",function(a){return Er({x:a.mode.minX,y:a.mode.minY})}),on("getInitialValue"),Ci("manager",gq)]})),Pu("sliderBehaviours",[Rr,qn]),ul("mouseIsDown",function(){return Er(!1)})],uv=function(a,c,p,w){var M,A=function(ct){return nh(ct,a,"thumb")},N=function(ct){return nh(ct,a,"spectrum")},j=function(ct){return Ti(ct,a,"left-edge")},W=function(ct){return Ti(ct,a,"right-edge")},K=function(ct){return Ti(ct,a,"top-edge")},oe=function(ct){return Ti(ct,a,"bottom-edge")},se=a.model,be=se.manager,_e=function(ct,Lt){be.setPositionFromValue(ct,Lt,a,{getLeftEdge:j,getRightEdge:W,getTopEdge:K,getBottomEdge:oe,getSpectrum:N})},Ee=function(ct,Lt){se.value.set(Lt);var rn=A(ct);_e(ct,rn)},je=function(ct,Lt){Ee(ct,Lt);var rn=A(ct);return a.onChange(ct,rn,Lt),$.some(!0)},ft=function(ct){be.setToMin(ct,a)},Be=function(ct){be.setToMax(ct,a)},ht=function(ct){var Lt=function(){Ti(ct,a,"thumb").each(function($n){var cn=se.value.get();a.onChoose(ct,$n,cn)})},rn=a.mouseIsDown.get();a.mouseIsDown.set(!1),rn&&Lt()},Ut=function(ct,Lt){Lt.stop(),a.mouseIsDown.set(!0),a.onDragStart(ct,A(ct))},Kt=function(ct,Lt){Lt.stop(),a.onDragEnd(ct,A(ct)),ht(ct)};return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.sliderBehaviours,[Rr.config({mode:"special",focusIn:function(ct){return Ti(ct,a,"spectrum").map(Rr.focusIn).map(le)}}),qn.config({store:{mode:"manual",getValue:function(ct){return se.value.get()}}}),nc.config({channels:(M={},M[ic()]={onReceive:ht},M)})]),events:Gi([fn(Yw(),function(ct,Lt){je(ct,Lt.event.value)}),ha(function(ct,Lt){var rn=se.getInitialValue();se.value.set(rn);var $n=A(ct);_e(ct,$n);var cn=N(ct);a.onInit(ct,$n,cn,se.value.get())}),fn(Ud(),Ut),fn(Lp(),Kt),fn(xf(),Ut),fn(b_(),Kt)]),apis:{resetToMin:ft,resetToMax:Be,setValue:Ee,refresh:_e},domModification:{styles:{position:"relative"}}}},xd=ml({name:"Slider",configFields:vq,partFields:PU,factory:uv,apis:{setValue:function(a,c,p){a.setValue(c,p)},resetToMin:function(a,c){a.resetToMin(c)},resetToMax:function(a,c){a.resetToMax(c)},refresh:function(a,c){a.refresh(c)}}}),fE=ir("rgb-hex-update"),vR=ir("slider-update"),dE=ir("palette-update"),Rz=function(a,c){var p=xd.parts.spectrum({dom:{tag:"div",classes:[c("hue-slider-spectrum")],attributes:{role:"presentation"}}}),w=xd.parts.thumb({dom:{tag:"div",classes:[c("hue-slider-thumb")],attributes:{role:"presentation"}}});return xd.sketch({dom:{tag:"div",classes:[c("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:L({y:0})},components:[p,w],sliderBehaviours:zn([$r.config({})]),onChange:function(M,A,N){Ir(M,vR,{value:N})}})},iT="form",Pz=[Pu("formBehaviours",[qn])],yR=function(a){return"<alloy.field."+a+">"},yq=function(a){var c=function(){var A=[],N=function(j,W){return A.push(j),VS(iT,yR(j),W)};return{field:N,record:L(A)}}(),p=a(c),w=c.record(),M=Je(w,function(A){return Qu({name:A,pname:yR(A)})});return $S(iT,Pz,M,xq,p)},bq=function(a,c){return a.fold(function(){return fo.error(c)},fo.value)},xq=function(a,c){return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.formBehaviours,[qn.config({store:{mode:"manual",getValue:function(p){var w=WS(p,a);return bn(w,function(M,A){return M().bind(function(N){var j=So.getCurrent(N);return bq(j,new Error("Cannot find a current component to extract the value from for form part '"+A+"': "+$u(N.element)))}).map(qn.getValue)})},setValue:function(p,w){Bn(w,function(M,A){Ti(p,a,A).each(function(N){So.getCurrent(N).each(function(j){qn.setValue(j,M)})})})}}})]),apis:{getField:function(p,w){return Ti(p,a,w).bind(So.getCurrent)}}}},Qw={getField:gg(function(a,c,p){return a.getField(c,p)}),sketch:yq},bR=ir("valid-input"),xR=ir("invalid-input"),Nz=ir("validating-input"),wR="colorcustom.rgb.",wq=function(a,c,p,w){var M=function(be,_e){return _m.config({invalidClass:c("invalid"),notify:{onValidate:function(Ee){Ir(Ee,Nz,{type:be})},onValid:function(Ee){Ir(Ee,bR,{type:be,value:qn.getValue(Ee)})},onInvalid:function(Ee){Ir(Ee,xR,{type:be,value:qn.getValue(Ee)})}},validator:{validate:function(Ee){var je=qn.getValue(Ee),ft=_e(je)?fo.value(!0):fo.error(a("aria.input.invalid"));return Is.pure(ft)},validateOnLoad:!1}})},A=function(be,_e,Ee,je,ft){var Be=a(wR+"range"),ht=Ko.parts.label({dom:{tag:"label",innerHtml:Ee,attributes:{"aria-label":je}}}),Ut=Ko.parts.field({data:ft,factory:YC,inputAttributes:ne({type:"text"},_e==="hex"?{"aria-live":"polite"}:{}),inputClasses:[c("textfield")],inputBehaviours:zn([M(_e,be),ou.config({})]),onSetValue:function(rn){if(_m.isInvalid(rn)){var $n=_m.run(rn);$n.get(E)}}}),Kt=[ht,Ut],ct=_e!=="hex"?[Ko.parts["aria-descriptor"]({text:Be})]:[],Lt=Kt.concat(ct);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Lt}},N=function(be,_e){var Ee=FC(_e);return Qw.getField(be,"hex").each(function(je){$r.isFocused(je)||qn.setValue(be,{hex:Ee.value})}),Ee},j=function(be,_e){var Ee=_e.red,je=_e.green,ft=_e.blue;qn.setValue(be,{red:Ee,green:je,blue:ft})},W=ci({dom:{tag:"div",classes:[c("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),K=function(be,_e){W.getOpt(be).each(function(Ee){Ur(Ee.element,"background-color","#"+_e.value)})},oe=function(){var be={red:Er($.some(255)),green:Er($.some(255)),blue:Er($.some(255)),hex:Er($.some("ffffff"))},_e=function(nn,jn){var gr=VC(jn);j(nn,gr),Be(gr)},Ee=function(nn){return be[nn].get()},je=function(nn,jn){be[nn].set(jn)},ft=function(){return Ee("red").bind(function(nn){return Ee("green").bind(function(jn){return Ee("blue").map(function(gr){return j0(nn,jn,gr,1)})})})},Be=function(nn){var jn=nn.red,gr=nn.green,dn=nn.blue;je("red",$.some(jn)),je("green",$.some(gr)),je("blue",$.some(dn))},ht=function(nn,jn){var gr=jn.event;gr.type!=="hex"?je(gr.type,$.none()):w(nn)},Ut=function(nn,jn){p(nn);var gr=tB(jn);je("hex",$.some(jn));var dn=VC(gr);j(nn,dn),Be(dn),Ir(nn,fE,{hex:gr}),K(nn,gr)},Kt=function(nn,jn,gr){var dn=parseInt(gr,10);je(jn,$.some(dn)),ft().each(function(cr){var wr=N(nn,cr);Ir(nn,fE,{hex:wr}),K(nn,wr)})},ct=function(nn){return nn.type==="hex"},Lt=function(nn,jn){var gr=jn.event;ct(gr)?Ut(nn,gr.value):Kt(nn,gr.type,gr.value)},rn=function(nn){return{label:a(wR+nn+".label"),description:a(wR+nn+".description")}},$n=rn("red"),cn=rn("green"),Xn=rn("blue"),mn=rn("hex");return Zt(Qw.sketch(function(nn){return{dom:{tag:"form",classes:[c("rgb-form")],attributes:{"aria-label":a("aria.color.picker")}},components:[nn.field("red",Ko.sketch(A(II,"red",$n.label,$n.description,255))),nn.field("green",Ko.sketch(A(II,"green",cn.label,cn.description,255))),nn.field("blue",Ko.sketch(A(II,"blue",Xn.label,Xn.description,255))),nn.field("hex",Ko.sketch(A(oB,"hex",mn.label,mn.description,"ffffff"))),W.asSpec()],formBehaviours:zn([_m.config({invalidClass:c("form-invalid")}),po("rgb-form-events",[fn(bR,Lt),fn(xR,ht),fn(Nz,ht)])])}}),{apis:{updateHex:function(nn,jn){qn.setValue(nn,{hex:jn.value}),_e(nn,jn),K(nn,jn)}}})},se=ac({factory:oe,name:"RgbForm",configFields:[],apis:{updateHex:function(be,_e,Ee){be.updateHex(_e,Ee)}},extraApis:{}});return se},hE=function(a,c){var p=xd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[c("sv-palette-spectrum")]}}),w=xd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[c("sv-palette-thumb")],innerHtml:"<div class="+c("sv-palette-inner-thumb")+' role="presentation"></div>'}}),M=function(K,oe){var se=K.width,be=K.height,_e=K.getContext("2d");if(_e!==null){_e.fillStyle=oe,_e.fillRect(0,0,se,be);var Ee=_e.createLinearGradient(0,0,se,0);Ee.addColorStop(0,"rgba(255,255,255,1)"),Ee.addColorStop(1,"rgba(255,255,255,0)"),_e.fillStyle=Ee,_e.fillRect(0,0,se,be);var je=_e.createLinearGradient(0,0,0,be);je.addColorStop(0,"rgba(0,0,0,0)"),je.addColorStop(1,"rgba(0,0,0,1)"),_e.fillStyle=je,_e.fillRect(0,0,se,be)}},A=function(K,oe){var se=K.components()[0].element.dom,be=HC(oe,100,100),_e=uB(be);M(se,RI(_e))},N=function(K,oe){var se=NA(VC(oe));xd.setValue(K,{x:se.saturation,y:100-se.value})},j=function(K){var oe=L({x:0,y:0}),se=function(Ee,je,ft){Ir(Ee,dE,{value:ft})},be=function(Ee,je,ft,Be){M(ft.element.dom,RI(cB))},_e=zn([So.config({find:$.some}),$r.config({})]);return xd.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[c("sv-palette")]},model:{mode:"xy",getInitialValue:oe},rounded:!1,components:[p,w],onChange:se,onInit:be,sliderBehaviours:_e})},W=ac({factory:j,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(K,oe,se){A(oe,se)},setThumb:function(K,oe,se){N(oe,se)}},extraApis:{}});return W},_q=function(a,c){var p=function(M){var A=wq(a,c,M.onValidHex,M.onInvalidHex),N=hE(a,c),j=function(Lt){return(100-Lt)/100*360},W=function(Lt){return 100-Lt/360*100},K={paletteRgba:Er(cB),paletteHue:Er(0)},oe=ci(Rz(a,c)),se=ci(N.sketch({})),be=ci(A.sketch({})),_e=function(Lt,rn,$n){se.getOpt(Lt).each(function(cn){N.setHue(cn,$n)})},Ee=function(Lt,rn){be.getOpt(Lt).each(function($n){A.updateHex($n,rn)})},je=function(Lt,rn,$n){oe.getOpt(Lt).each(function(cn){xd.setValue(cn,{y:W($n)})})},ft=function(Lt,rn){se.getOpt(Lt).each(function($n){N.setThumb($n,rn)})},Be=function(Lt,rn){var $n=VC(Lt);K.paletteRgba.set($n),K.paletteHue.set(rn)},ht=function(Lt,rn,$n,cn){Be(rn,$n),Fe(cn,function(Xn){Xn(Lt,rn,$n)})},Ut=function(){var Lt=[Ee];return function(rn,$n){var cn=$n.event.value,Xn=K.paletteHue.get(),mn=HC(Xn,cn.x,100-cn.y),nn=NI(mn);ht(rn,nn,Xn,Lt)}},Kt=function(){var Lt=[_e,Ee];return function(rn,$n){var cn=j($n.event.value.y),Xn=K.paletteRgba.get(),mn=NA(Xn),nn=HC(cn,mn.saturation,mn.value),jn=NI(nn);ht(rn,jn,cn,Lt)}},ct=function(){var Lt=[_e,je,ft];return function(rn,$n){var cn=$n.event.hex,Xn=dW(cn);ht(rn,cn,Xn.hue,Lt)}};return{uid:M.uid,dom:M.dom,components:[se.asSpec(),oe.asSpec(),be.asSpec()],behaviours:zn([po("colour-picker-events",[fn(fE,ct()),fn(dE,Ut()),fn(vR,Kt())]),So.config({find:function(Lt){return be.getOpt(Lt)}}),Rr.config({mode:"acyclic"})])}},w=ac({name:"ColourPicker",configFields:[on("dom"),dt("onValidHex",E),dt("onInvalidHex",E)],factory:p});return w},Sq=function(){return So.config({find:$.some})},Lz=function(a){return So.config({find:a.getOpt})},Bz=function(a){return So.config({find:function(c){return V(c.element,a).bind(function(p){return c.getSystem().getByDom(p).toOptional()})}})},hp={self:Sq,memento:Lz,childAt:Bz},Cq={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},pE=function(a){return Cq[a]},Tq=function(a){return pE(a)},Mq=function(a){var c=function(N){return"tox-"+N},p=_q(Tq,c),w=function(N){Ir(N,xm,{name:"hex-valid",value:!0})},M=function(N){Ir(N,xm,{name:"hex-valid",value:!1})},A=ci(p.sketch({dom:{tag:"div",classes:[c("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w,onInvalidHex:M}));return{dom:{tag:"div"},components:[A.asSpec()],behaviours:zn([qn.config({store:{mode:"manual",getValue:function(N){var j=A.get(N),W=So.getCurrent(j),K=W.bind(function(oe){var se=qn.getValue(oe);return se.hex});return K.map(function(oe){return"#"+oe}).getOr("")},setValue:function(N,j){var W=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,K=W.exec(j),oe=A.get(N),se=So.getCurrent(oe);se.fold(function(){console.log("Can not find form")},function(be){qn.setValue(be,{hex:$.from(K[1]).getOr("")}),Qw.getField(be,"hex").each(function(_e){ko(_e,sg())})})}}}),hp.self()])}},kq=tinymce.util.Tools.resolve("tinymce.Resource"),Dq=function(a){return ln(a,"init")},mE=function(a){var c=za(),p=ci({dom:{tag:a.tag}}),w=za();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:zn([po("custom-editor-events",[ha(function(M){p.getOpt(M).each(function(A){(Dq(a)?a.init(A.element.dom):kq.load(a.scriptId,a.scriptUrl).then(function(N){return N(A.element.dom,a.settings)})).then(function(N){w.on(function(j){N.setValue(j)}),w.clear(),c.set(N)})})})]),qn.config({store:{mode:"manual",getValue:function(){return c.get().fold(function(){return w.get().getOr("")},function(M){return M.getValue()})},setValue:function(M,A){c.get().fold(function(){w.set(A)},function(N){return N.setValue(A)})}}}),hp.self()]),components:[p.asSpec()]}},Tm=tinymce.util.Tools.resolve("tinymce.util.Tools"),Aq=Sr([dt("preprocess",q),dt("postprocess",q)]),Eq=function(a,c){var p=mi("RepresentingConfigs.memento processors",Aq,c);return qn.config({store:{mode:"manual",getValue:function(w){var M=a.get(w),A=qn.getValue(M);return p.postprocess(A)},setValue:function(w,M){var A=p.preprocess(M),N=a.get(w);qn.setValue(N,A)}}})},aT=function(a,c,p){return qn.config(Zt({store:{mode:"manual",getValue:c,setValue:p}},a.map(function(w){return{store:{initialValue:w}}}).getOr({})))},_R=function(a,c,p){return aT(a,function(w){return c(w.element)},function(w,M){return p(w.element,M)})},SR=function(a){return _R(a,tc,n0)},zz=function(a){return _R(a,Ol,id)},Oq=function(a){return qn.config({store:{mode:"memory",initialValue:a}})},tb={memento:Eq,withElement:_R,withComp:aT,domValue:SR,domHtml:zz,memory:Oq},Fz="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",Vz=function(a,c){var p=Tm.explode(c.getSetting("images_file_types",Fz,"string")),w=function(M){return Nt(p,function(A){return dr(M.name.toLowerCase(),"."+A.toLowerCase())})};return Ye(en(a),w)},Iq=function(a,c){var p=function(se,be){be.stop()},w=function(se){return function(be,_e){Fe(se,function(Ee){Ee(be,_e)})}},M=function(se,be){if(!Mr.isDisabled(se)){var _e=be.event.raw;N(se,_e.dataTransfer.files)}},A=function(se,be){var _e=be.event.raw.target;N(se,_e.files)},N=function(se,be){qn.setValue(se,Vz(be,c)),Ir(se,Kc,{name:a.name})},j=ci({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:zn([po("input-file-events",[Xa(Gv()),Xa(zp())])])}),W=function(se){return{uid:se.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:zn([tb.memory([]),hp.self(),Mr.config({}),zo.config({toggleClass:"dragenter",toggleOnExecute:!1}),po("dropzone-events",[fn("dragenter",w([p,zo.toggle])),fn("dragleave",w([p,zo.toggle])),fn("dragover",p),fn("drop",w([p,M])),fn($v(),A)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:c.translate("Drop an image here")}},vl.sketch({dom:{tag:"button",innerHtml:c.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[j.asSpec()],action:function(be){var _e=j.get(be);_e.element.dom.click()},buttonBehaviours:zn([ou.config({}),Pf.button(c.isDisabled),Bu()])})]}]}},K=a.label.map(function(se){return W0(se,c)}),oe=Ko.parts.field({factory:{sketch:W}});return XC(K,oe,["tox-form__group--stretched"],[])},Hz=function(a,c){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+a.columns+"col"]},components:Je(a.items,c.interpreter)}},gE=ir("alloy-fake-before-tabstop"),vE=ir("alloy-fake-after-tabstop"),CR=function(a){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:a},behaviours:zn([$r.config({ignore:!0}),ou.config({})])}},jz=function(a){return{dom:{tag:"div",classes:["tox-navobj"]},components:[CR([gE]),a,CR([vE])],behaviours:zn([hp.childAt(1)])}},Wz=function(a,c){Ir(a,Jb(),{raw:{which:9,shiftKey:c}})},Rq=function(a,c){var p=c.element;cl(p,gE)?Wz(a,!0):cl(p,vE)&&Wz(a,!1)},e2=function(a){return qC(a,["."+gE,"."+vE].join(","),ie)},Pq=!(Cr().browser.isIE()||Cr().browser.isEdge()),Uz=function(a){var c=Er("");return{getValue:function(p){return c.get()},setValue:function(p,w){if(a)so(p.element,"srcdoc",w);else{so(p.element,"src","javascript:''");var M=p.element.dom.contentWindow.document;M.open(),M.write(w),M.close()}c.set(w)}}},Nq=function(a,c){var p=Pq&&a.sandboxed,w=ne(ne({},a.label.map(function(W){return{title:W}}).getOr({})),p?{sandbox:"allow-scripts allow-same-origin"}:{}),M=Uz(p),A=a.label.map(function(W){return W0(W,c)}),N=function(W){return jz({uid:W.uid,dom:{tag:"iframe",attributes:w},behaviours:zn([ou.config({}),$r.config({}),tb.withComp($.none(),M.getValue,M.setValue)])})},j=Ko.parts.field({factory:{sketch:N}});return XC(A,j,["tox-form__group--stretched"],[])},t2=function(a,c){return Lq(document.createElement("canvas"),a,c)},TR=function(a){var c=t2(a.width,a.height),p=sv(c);return p.drawImage(a,0,0),c},sv=function(a){return a.getContext("2d")},Lq=function(a,c,p){return a.width=c,a.height=p,a},MR=function(a){return a.naturalWidth||a.width},kR=function(a){return a.naturalHeight||a.height},Bq=function(a){return new wm(function(c,p){var w=URL.createObjectURL(a),M=new Image,A=function(){M.removeEventListener("load",N),M.removeEventListener("error",j)},N=function(){A(),c(M)},j=function(){A(),p("Unable to load data of type "+a.type+": "+w)};M.addEventListener("load",N),M.addEventListener("error",j),M.src=w,M.complete&&setTimeout(N,0)})},zq=function(a){var c=a.split(","),p=/data:([^;]+)/.exec(c[0]);if(!p)return $.none();for(var w=p[1],M=c[1],A=1024,N=atob(M),j=N.length,W=Math.ceil(j/A),K=new Array(W),oe=0;oe<W;++oe){for(var se=oe*A,be=Math.min(se+A,j),_e=new Array(be-se),Ee=se,je=0;Ee<be;++je,++Ee)_e[je]=N[Ee].charCodeAt(0);K[oe]=new Uint8Array(_e)}return $.some(new Blob(K,{type:w}))},Fq=function(a){return new wm(function(c,p){zq(a).fold(function(){p("uri is not base64: "+a)},c)})},DR=function(a,c,p){return c=c||"image/png",S(HTMLCanvasElement.prototype.toBlob)?new wm(function(w,M){a.toBlob(function(A){A?w(A):M()},c,p)}):Fq(a.toDataURL(c,p))},Vq=function(a,c,p){return c=c||"image/png",a.toDataURL(c,p)},Hq=function(a){return Bq(a).then(function(c){jq(c);var p=t2(MR(c),kR(c)),w=sv(p);return w.drawImage(c,0,0),p})},qz=function(a){return new wm(function(c){var p=new FileReader;p.onloadend=function(){c(p.result)},p.readAsDataURL(a)})},jq=function(a){URL.revokeObjectURL(a.src)},$z=function(a,c,p){var w=c.type,M=L(w),A=function(){return wm.resolve(c)},N=L(p),j=function(){return p.split(",")[1]},W=function(be,_e){return a.then(function(Ee){return DR(Ee,be,_e)})},K=function(be,_e){return a.then(function(Ee){return Vq(Ee,be,_e)})},oe=function(be,_e){return K(be,_e).then(function(Ee){return Ee.split(",")[1]})},se=function(){return a.then(TR)};return{getType:M,toBlob:A,toDataURL:N,toBase64:j,toAdjustedBlob:W,toAdjustedDataURL:K,toAdjustedBase64:oe,toCanvas:se}},Wq=function(a){return qz(a).then(function(c){return $z(Hq(a),a,c)})},X0=function(a,c){return DR(a,c).then(function(p){return $z(wm.resolve(a),p,a.toDataURL())})},Uq=function(a){return Wq(a)},uT=function(a,c,p){var w=typeof a=="string"?parseFloat(a):a;return w>p?w=p:w<c&&(w=c),w},AR=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},yE=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],bE=function(a,c){for(var p=[],w=new Array(25),M,A=0;A<5;A++){for(var N=0;N<5;N++)p[N]=c[N+A*5];for(var N=0;N<5;N++){M=0;for(var j=0;j<5;j++)M+=a[N+j*5]*p[j];w[N+A*5]=M}}return w},qq=function(a,c){var p;return c=uT(c,-1,1),c*=100,c<0?p=127+c/100*127:(p=c%1,p===0?p=yE[c]:p=yE[Math.floor(c)]*(1-p)+yE[Math.floor(c)+1]*p,p=p*127+127),bE(a,[p/127,0,0,0,.5*(127-p),0,p/127,0,0,.5*(127-p),0,0,p/127,0,.5*(127-p),0,0,0,1,0,0,0,0,0,1])},Gz=function(a,c){return c=uT(255*c,-255,255),bE(a,[1,0,0,0,c,0,1,0,0,c,0,0,1,0,c,0,0,0,1,0,0,0,0,0,1])},Xz=function(a,c,p,w){return c=uT(c,0,2),p=uT(p,0,2),w=uT(w,0,2),bE(a,[c,0,0,0,0,0,p,0,0,0,0,0,w,0,0,0,0,0,1,0,0,0,0,0,1])},ER=function(a,c){return a.toCanvas().then(function(p){return $q(p,a.getType(),c)})},$q=function(a,c,p){var w=sv(a),M=function(N,j){for(var W,K,oe,se,be=N.data,_e=j[0],Ee=j[1],je=j[2],ft=j[3],Be=j[4],ht=j[5],Ut=j[6],Kt=j[7],ct=j[8],Lt=j[9],rn=j[10],$n=j[11],cn=j[12],Xn=j[13],mn=j[14],nn=j[15],jn=j[16],gr=j[17],dn=j[18],cr=j[19],wr=0;wr<be.length;wr+=4)W=be[wr],K=be[wr+1],oe=be[wr+2],se=be[wr+3],be[wr]=W*_e+K*Ee+oe*je+se*ft+Be,be[wr+1]=W*ht+K*Ut+oe*Kt+se*ct+Lt,be[wr+2]=W*rn+K*$n+oe*cn+se*Xn+mn,be[wr+3]=W*nn+K*jn+oe*gr+se*dn+cr;return N},A=M(w.getImageData(0,0,a.width,a.height),p);return w.putImageData(A,0,0),X0(a,c)},Gq=function(a,c){return a.toCanvas().then(function(p){return Xq(p,a.getType(),c)})},Xq=function(a,c,p){var w=sv(a),M=function(j,W,K){for(var oe=function(jn,gr,dn){return jn>dn?jn=dn:jn<gr&&(jn=gr),jn},se=Math.round(Math.sqrt(K.length)),be=Math.floor(se/2),_e=j.data,Ee=W.data,je=j.width,ft=j.height,Be=0;Be<ft;Be++)for(var ht=0;ht<je;ht++){for(var Ut=0,Kt=0,ct=0,Lt=0;Lt<se;Lt++)for(var rn=0;rn<se;rn++){var $n=oe(ht+rn-be,0,je-1),cn=oe(Be+Lt-be,0,ft-1),Xn=(cn*je+$n)*4,mn=K[Lt*se+rn];Ut+=_e[Xn]*mn,Kt+=_e[Xn+1]*mn,ct+=_e[Xn+2]*mn}var nn=(Be*je+ht)*4;Ee[nn]=oe(Ut,0,255),Ee[nn+1]=oe(Kt,0,255),Ee[nn+2]=oe(ct,0,255)}return W},A=w.getImageData(0,0,a.width,a.height),N=w.getImageData(0,0,a.width,a.height);return N=M(A,N,p),w.putImageData(N,0,0),X0(a,c)},Yq=function(a){var c=function(p,w,M){for(var A=sv(p),N=new Array(256),j=function(oe,se){for(var be=oe.data,_e=0;_e<be.length;_e+=4)be[_e]=se[be[_e]],be[_e+1]=se[be[_e+1]],be[_e+2]=se[be[_e+2]];return oe},W=0;W<N.length;W++)N[W]=a(W,M);var K=j(A.getImageData(0,0,p.width,p.height),N);return A.putImageData(K,0,0),X0(p,w)};return function(p,w){return p.toCanvas().then(function(M){return c(M,p.getType(),w)})}},Yz=function(a){return function(c,p){return ER(c,a(AR(),p))}},Kz=function(a){return function(c){return ER(c,a)}},Kq=function(a){return function(c){return Gq(c,a)}},Jq=Kz([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),Zq=Yz(Gz),$o=Yz(qq),n2=function(a,c,p,w){return ER(a,Xz(AR(),c,p,w))},Jz=Kq([0,-1,0,-1,5,-1,0,-1,0]),Zz=Yq(function(a,c){return Math.pow(a/255,1-c)*255}),OR=function(a,c,p){var w=MR(a),M=kR(a),A=c/w,N=p/M,j=!1;(A<.5||A>2)&&(A=A<.5?.5:2,j=!0),(N<.5||N>2)&&(N=N<.5?.5:2,j=!0);var W=Qq(a,A,N);return j?W.then(function(K){return OR(K,c,p)}):W},Qq=function(a,c,p){return new wm(function(w){var M=MR(a),A=kR(a),N=Math.floor(M*c),j=Math.floor(A*p),W=t2(N,j),K=sv(W);K.drawImage(a,0,0,M,A,0,0,N,j),w(W)})},Qz=function(a,c){c===void 0&&(c=2);var p=Math.pow(10,c),w=Math.round(a*p);return Math.ceil(w/p)},e$=function(a,c){return a.toCanvas().then(function(p){return e8(p,a.getType(),c)})},e8=function(a,c,p){var w=p<0?360+p:p,M=w*Math.PI/180,A=a.width,N=a.height,j=Math.sin(M),W=Math.cos(M),K=Qz(Math.abs(A*W)+Math.abs(N*j)),oe=Qz(Math.abs(A*j)+Math.abs(N*W)),se=t2(K,oe),be=sv(se);return be.translate(K/2,oe/2),be.rotate(M),be.drawImage(a,-A/2,-N/2),X0(se,c)},t$=function(a,c){return a.toCanvas().then(function(p){return n$(p,a.getType(),c)})},n$=function(a,c,p){var w=t2(a.width,a.height),M=sv(w);return p==="v"?(M.scale(1,-1),M.drawImage(a,0,-w.height)):(M.scale(-1,1),M.drawImage(a,-w.width,0)),X0(w,c)},r$=function(a,c,p,w,M){return a.toCanvas().then(function(A){return o$(A,a.getType(),c,p,w,M)})},o$=function(a,c,p,w,M,A){var N=t2(M,A),j=sv(N);return j.drawImage(a,-p,-w),X0(N,c)},i$=function(a,c,p){return a.toCanvas().then(function(w){return OR(w,c,p).then(function(M){return X0(M,a.getType())})})},a$=function(a){return Jq(a)},u$=function(a){return Jz(a)},s$=function(a,c){return Zz(a,c)},l$=function(a,c,p,w){return n2(a,c,p,w)},c$=function(a,c){return Zq(a,c)},f$=function(a,c){return $o(a,c)},IR=function(a,c){return t$(a,c)},d$=function(a,c,p,w,M){return r$(a,c,p,w,M)},h$=function(a,c,p){return i$(a,c,p)},t8=function(a,c){return e$(a,c)},n8=function(a,c,p){return sp(a,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:p},c)},xE=function(a,c){return n8(a,c,[])},r8=function(a,c){return n8(a,c,[Qr.config({})])},RR=function(a,c,p){return{dom:{tag:"span",innerHtml:p.translate(a),classes:[c+"__select-label"]},behaviours:zn([Qr.config({})])}},PR,NR=ir("toolbar.button.execute"),p$=function(a){return Sf(function(c,p){NC(a,c)(function(w){Ir(c,NR,{buttonApi:w}),a.onAction(w)})})},LR=(PR={},PR[Tc()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],PR),nb=ir("update-menu-text"),BR=ir("update-menu-icon"),zR=function(a,c,p){var w=Er(E),M=a.text.map(function(se){return ci(RR(se,c,p.providers))}),A=a.icon.map(function(se){return ci(r8(se,p.providers.icons))}),N=function(se,be){var _e=qn.getValue(se);return $r.focus(_e),Ir(_e,"keydown",{raw:be.event.raw}),bd.close(_e),$.some(!0)},j=a.role.fold(function(){return{}},function(se){return{role:se}}),W=a.tooltip.fold(function(){return{}},function(se){var be=p.providers.translate(se);return{title:be,"aria-label":be}}),K=sp("chevron-down",{tag:"div",classes:[c+"__select-chevron"]},p.providers.icons),oe=ci(bd.sketch(ne(ne(ne({},a.uid?{uid:a.uid}:{}),j),{dom:{tag:"button",classes:[c,c+"--select"].concat(Je(a.classes,function(se){return c+"--"+se})),attributes:ne({},W)},components:W1([A.map(function(se){return se.asSpec()}),M.map(function(se){return se.asSpec()}),$.some(K)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:zn(Ce(Ce([],a.dropdownBehaviours,!0),[Pf.button(function(){return a.disabled||p.providers.isDisabled()}),Bu(),KC.config({}),Qr.config({}),po("dropdown-events",[LC(a,w),BC(a,w)]),po("menubutton-update-display-text",[fn(nb,function(se,be){M.bind(function(_e){return _e.getOpt(se)}).each(function(_e){Qr.set(_e,[qp(p.providers.translate(be.event.text))])})}),fn(BR,function(se,be){A.bind(function(_e){return _e.getOpt(se)}).each(function(_e){Qr.set(_e,[r8(be.event.icon,p.providers.icons)])})})])],!1)),eventOrder:Zt(LR,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:zn([Rr.config({mode:"special",onLeft:N,onRight:N})]),lazySink:p.getSink,toggleClass:c+"--active",parts:{menu:CA(!1,a.columns,a.presets)},fetch:function(se){return Is.nu(Y(a.fetch,se))}})));return oe.asSpec()},m$=function(a){return i(a)},FR=function(a){return a.type==="separator"},g$=function(a){return ln(a,"getSubmenuItems")},v$={type:"separator"},y$=function(a,c){var p=Ft(a,function(w,M){return m$(M)?M===""?w:M==="|"?w.length>0&&!FR(w[w.length-1])?w.concat([v$]):w:ln(c,M.toLowerCase())?w.concat([c[M.toLowerCase()]]):w:w.concat([M])},[]);return p.length>0&&FR(p[p.length-1])&&p.pop(),p},sT=function(a,c){var p=a.getSubmenuItems(),w=o8(p,c),M=Zt(w.menus,jd(a.value,w.items)),A=Zt(w.expansions,jd(a.value,a.value));return{item:a,menus:M,expansions:A}},b$=function(a,c){return g$(a)?sT(a,c):{item:a,menus:{},expansions:{}}},VR=function(a){if(FR(a))return a;var c=Pt(a,"value").getOrThunk(function(){return ir("generated-menu-item")});return Zt({value:c},a)},o8=function(a,c){var p=y$(i(a)?a.split(" "):a,c);return st(p,function(w,M){var A=VR(M),N=b$(A,c);return{menus:Zt(w.menus,N.menus),items:[N.item].concat(w.items),expansions:Zt(w.expansions,N.expansions)}},{menus:{},expansions:{},items:[]})},r2=function(a,c,p,w){var M=ir("primary-menu"),A=o8(a,p.shared.providers.menuItems());if(A.items.length===0)return $.none();var N=UI(M,A.items,c,p,w),j=bn(A.menus,function(K,oe){return UI(oe,K,c,p,!1)}),W=Zt(j,jd(M,N));return $.from(bi.tieredData(M,W,A.expansions))},x$=function(a){return{isDisabled:function(){return Mr.isDisabled(a)},setDisabled:function(c){return Mr.set(a,c)},setActive:function(c){var p=a.element;c?(Xu(p,"tox-tbtn--enabled"),so(p,"aria-pressed",!0)):(pu(p,"tox-tbtn--enabled"),Wu(p,"aria-pressed"))},isActive:function(){return cl(a.element,"tox-tbtn--enabled")}}},HR=function(a,c,p,w){return zR({text:a.text,icon:a.icon,tooltip:a.tooltip,role:w,fetch:function(M,A){a.fetch(function(N){A(r2(N,lp.CLOSE_ON_EXECUTE,p,!1))})},onSetup:a.onSetup,getApi:x$,columns:1,presets:"normal",classes:[],dropdownBehaviours:[ou.config({})]},c,p.shared)},i8=function(a,c,p){var w=function(A){return function(N){var j=!N.isActive();N.setActive(j),A.storage.set(j),p.shared.getSink().each(function(W){c().getOpt(W).each(function(K){Kd(K.element),Ir(K,xm,{name:A.name,value:A.storage.get()})})})}},M=function(A){return function(N){N.setActive(A.storage.get())}};return function(A){A(Je(a,function(N){var j=N.text.fold(function(){return{}},function(W){return{text:W}});return ne(ne({type:N.type,active:!1},j),{onAction:w(N),onSetup:M(N)})}))}},jR=function(a,c,p,w,M,A){p===void 0&&(p=[]);var N=c.fold(function(){return{}},function(K){return{action:K}}),j=ne({buttonBehaviours:zn([Pf.button(function(){return a.disabled||A.isDisabled()}),Bu(),ou.config({}),po("button press",[nx("click"),nx("mousedown")])].concat(p)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},N),W=Zt(j,{dom:w});return Zt(W,{components:M})},a8=function(a,c,p,w){w===void 0&&(w=[]);var M=a.tooltip.map(function(W){return{"aria-label":p.translate(W),title:p.translate(W)}}).getOr({}),A={tag:"button",classes:["tox-tbtn"],attributes:M},N=a.icon.map(function(W){return xE(W,p.icons)}),j=W1([N]);return jR(a,c,w,A,j,p)},lT=function(a,c,p,w){w===void 0&&(w=[]);var M=a8(a,$.some(c),p,w);return vl.sketch(M)},cT=function(a,c,p,w,M){w===void 0&&(w=[]),M===void 0&&(M=[]);var A=p.translate(a.text),N=a.icon?a.icon.map(function(se){return xE(se,p.icons)}):$.none(),j=N.isSome()?W1([N]):[],W=N.isSome()?{}:{innerHtml:A},K=Ce(Ce(Ce(Ce([],!a.primary&&!a.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),N.isSome()?["tox-button--icon"]:[],!0),a.borderless?["tox-button--naked"]:[],!0),M,!0),oe=ne(ne({tag:"button",classes:K},W),{attributes:{title:A}});return jR(a,c,w,oe,j,p)},WR=function(a,c,p,w,M){w===void 0&&(w=[]),M===void 0&&(M=[]);var A=cT(a,$.some(c),p,w,M);return vl.sketch(A)},u8=function(a,c){return function(p){c==="custom"?Ir(p,xm,{name:a,value:{}}):c==="submit"?ko(p,$w):c==="cancel"?ko(p,Nf):console.error("Unknown button type: ",c)}},w$=function(a,c){return c==="menu"},_$=function(a,c){return c==="custom"||c==="cancel"||c==="submit"},o2=function(a,c,p){if(w$(a,c)){var w=function(){return N},M=a,A=ne(ne({},a),{onSetup:function(K){return K.setDisabled(a.disabled),E},fetch:i8(M.items,w,p)}),N=ci(HR(A,"tox-tbtn",p,$.none()));return N.asSpec()}else if(_$(a,c)){var j=u8(a.name,c),W=ne(ne({},a),{borderless:!1});return WR(W,j,p.shared.providers,[])}else console.error("Unknown footer button type: ",c)},UR=function(a,c){var p=u8(a.name,"custom");return aU($.none(),Ko.parts.field(ne({factory:vl},cT(a,$.some(p),c,[tb.memory(""),hp.self()]))))},s8=L([dt("field1Name","field1"),dt("field2Name","field2"),Cg("onLockedChange"),Sg(["lockClass"]),dt("locked",!1),$c.field("coupledFieldBehaviours",[So,qn])]),S$=function(a,c,p){return Ti(a,c,p).bind(So.getCurrent)},wE=function(a,c){return Qu({factory:Ko,name:a,overrides:function(p){return{fieldBehaviours:zn([po("coupled-input-behaviour",[fn(sg(),function(w){S$(w,p,c).each(function(M){Ti(w,p,"lock").each(function(A){zo.isOn(A)&&p.onLockedChange(w,M,A)})})})])])}}})},C$=L([wE("field1","field2"),wE("field2","field1"),Qu({factory:vl,schema:[on("dom")],name:"lock",overrides:function(a){return{buttonBehaviours:zn([zo.config({selected:a.locked,toggleClass:a.markers.lockClass,aria:{mode:"pressed"}})])}}})]),T$=function(a,c,p,w){return{uid:a.uid,dom:a.dom,components:c,behaviours:$c.augment(a.coupledFieldBehaviours,[So.config({find:$.some}),qn.config({store:{mode:"manual",getValue:function(M){var A,N=d1(M,a,["field1","field2"]);return A={},A[a.field1Name]=qn.getValue(N.field1()),A[a.field2Name]=qn.getValue(N.field2()),A},setValue:function(M,A){var N=d1(M,a,["field1","field2"]);Kn(A,a.field1Name)&&qn.setValue(N.field1(),A[a.field1Name]),Kn(A,a.field2Name)&&qn.setValue(N.field2(),A[a.field2Name])}}})]),apis:{getField1:function(M){return Ti(M,a,"field1")},getField2:function(M){return Ti(M,a,"field2")},getLock:function(M){return Ti(M,a,"lock")}}}},Zc=ml({name:"FormCoupledInputs",configFields:s8(),partFields:C$(),factory:T$,apis:{getField1:function(a,c){return a.getField1(c)},getField2:function(a,c){return a.getField2(c)},getLock:function(a,c){return a.getLock(c)}}}),M$=function(a){var c={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},p=function(M){return M in c?c[M]:1},w=a.value.toFixed(p(a.unit));return w.indexOf(".")!==-1&&(w=w.replace(/\.?0*$/,"")),w+a.unit},rb=function(a){var c=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,p=c.exec(a);if(p!==null){var w=parseFloat(p[1]),M=p[2];return fo.value({value:w,unit:M})}else return fo.error(a)},l8=function(a,c){var p={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},w=function(M){return ln(p,M)};return a.unit===c?$.some(a.value):w(a.unit)&&w(c)?p[a.unit]===p[c]?$.some(a.value):$.some(a.value/p[a.unit]*p[c]):$.none()},qR=function(a){return $.none()},k$=function(a,c){return function(p){return l8(p,c).map(function(w){return{value:w*a,unit:c}})}},D$=function(a,c){var p=rb(a).toOptional(),w=rb(c).toOptional();return ui(p,w,function(M,A){return l8(M,A.unit).map(function(N){return A.value/N}).map(function(N){return k$(N,A.unit)}).getOr(qR)}).getOr(qR)},$R=function(a,c){var p=qR,w=ir("ratio-event"),M=function(se){return sp(se,{tag:"span",classes:["tox-icon","tox-lock-icon__"+se]},c.icons)},A=Zc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:c.translate(a.label.getOr("Constrain proportions"))}},components:[M("lock"),M("unlock")],buttonBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),Bu(),ou.config({})])}),N=function(se){return{dom:{tag:"div",classes:["tox-form__group"]},components:se}},j=function(se){return Ko.parts.field({factory:YC,inputClasses:["tox-textfield"],inputBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),Bu(),ou.config({}),po("size-input-events",[fn(Bc(),function(be,_e){Ir(be,w,{isField1:se})}),fn($v(),function(be,_e){Ir(be,Kc,{name:a.name})})])]),selectOnFocus:!1})},W=function(se){return{dom:{tag:"label",classes:["tox-label"],innerHtml:c.translate(se)}}},K=Zc.parts.field1(N([Ko.parts.label(W("Width")),j(!0)])),oe=Zc.parts.field2(N([Ko.parts.label(W("Height")),j(!1)]));return Zc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[K,oe,N([W("&nbsp;"),A])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(se,be,_e){rb(qn.getValue(se)).each(function(Ee){p(Ee).each(function(je){qn.setValue(be,M$(je))})})},coupledFieldBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()},onDisabled:function(se){Zc.getField1(se).bind(Ko.getField).each(Mr.disable),Zc.getField2(se).bind(Ko.getField).each(Mr.disable),Zc.getLock(se).each(Mr.disable)},onEnabled:function(se){Zc.getField1(se).bind(Ko.getField).each(Mr.enable),Zc.getField2(se).bind(Ko.getField).each(Mr.enable),Zc.getLock(se).each(Mr.enable)}}),Bu(),po("size-input-events2",[fn(w,function(se,be){var _e=be.event.isField1,Ee=_e?Zc.getField1(se):Zc.getField2(se),je=_e?Zc.getField2(se):Zc.getField1(se),ft=Ee.map(qn.getValue).getOr(""),Be=je.map(qn.getValue).getOr("");p=D$(ft,Be)})])])})},A$=L(ir("undo")),E$=L(ir("redo")),O$=L(ir("zoom")),I$=L(ir("back")),R$=L(ir("apply")),c8=L(ir("swap")),P$=L(ir("transform")),N$=L(ir("temp-transform")),L$=L(ir("transform-apply")),Ys={undo:A$,redo:E$,zoom:O$,back:I$,apply:R$,swap:c8,transform:P$,tempTransform:N$,transformApply:L$},f8=L("save-state"),B$=L("disable"),z$=L("enable"),Va={formActionEvent:xm,saveState:f8,disable:B$,enable:z$},F$=function(a,c){var p=function(nr,wo,Mi,au){return ci(WR({name:nr,text:nr,disabled:Mi,primary:au,icon:$.none(),borderless:!1},wo,c))},w=function(nr,wo,Mi,au){return ci(lT({name:nr,icon:$.some(nr),tooltip:$.some(wo),disabled:au,primary:!1,borderless:!1},Mi,c))},M=function(nr,wo){nr.map(function(Mi){var au=Mi.get(wo);au.hasConfigured(Mr)&&Mr.disable(au)})},A=function(nr,wo){nr.map(function(Mi){var au=Mi.get(wo);au.hasConfigured(Mr)&&Mr.enable(au)})},N={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},j=E,W=function(nr,wo,Mi){Ir(nr,wo,Mi)},K=function(nr){return ko(nr,Va.disable())},oe=function(nr){return ko(nr,Va.enable())},se=function(nr,wo){K(nr),W(nr,Ys.transform(),{transform:wo}),oe(nr)},be=function(nr,wo){K(nr),W(nr,Ys.tempTransform(),{transform:wo}),oe(nr)},_e=function(nr){return function(){WE.getOpt(nr).each(function(wo){Qr.set(wo,[jE])})}},Ee=function(nr,wo){K(nr),W(nr,Ys.transformApply(),{transform:wo,swap:_e(nr)}),oe(nr)},je=function(){return p("Back",function(nr){return W(nr,Ys.back(),{swap:_e(nr)})},!1,!1)},ft=function(){return ci({dom:{tag:"div",classes:["tox-spacer"]},behaviours:zn([Mr.config({})])})},Be=function(){return p("Apply",function(nr){return W(nr,Ys.apply(),{swap:_e(nr)})},!0,!0)},ht=function(){return function(nr){var wo=a.getRect();return d$(nr,wo.x,wo.y,wo.w,wo.h)}},Ut=[je(),ft(),p("Apply",function(nr){var wo=ht();Ee(nr,wo),a.hideCrop()},!1,!0)],Kt=yl.sketch({dom:N,components:Ut.map(function(nr){return nr.asSpec()}),containerBehaviours:zn([po("image-tools-crop-buttons-events",[fn(Va.disable(),function(nr,wo){M(Ut,nr)}),fn(Va.enable(),function(nr,wo){A(Ut,nr)})])])}),ct=ci($R({name:"size",label:$.none(),constrain:!0,disabled:!1},c)),Lt=function(nr,wo){return function(Mi){return h$(Mi,nr,wo)}},rn=[je(),ft(),ct,ft(),p("Apply",function(nr){ct.getOpt(nr).each(function(wo){var Mi=qn.getValue(wo),au=parseInt(Mi.width,10),zf=parseInt(Mi.height,10),Ff=Lt(au,zf);Ee(nr,Ff)})},!1,!0)],$n=yl.sketch({dom:N,components:rn.map(function(nr){return nr.asSpec()}),containerBehaviours:zn([po("image-tools-resize-buttons-events",[fn(Va.disable(),function(nr,wo){M(rn,nr)}),fn(Va.enable(),function(nr,wo){A(rn,nr)})])])}),cn=function(nr,wo){return function(Mi){return nr(Mi,wo)}},Xn=cn(IR,"h"),mn=cn(IR,"v"),nn=cn(t8,-90),jn=cn(t8,90),gr=function(nr,wo){be(nr,wo)},dn=[je(),ft(),w("flip-horizontally","Flip horizontally",function(nr){gr(nr,Xn)},!1),w("flip-vertically","Flip vertically",function(nr){gr(nr,mn)},!1),w("rotate-left","Rotate counterclockwise",function(nr){gr(nr,nn)},!1),w("rotate-right","Rotate clockwise",function(nr){gr(nr,jn)},!1),ft(),Be()],cr=yl.sketch({dom:N,components:dn.map(function(nr){return nr.asSpec()}),containerBehaviours:zn([po("image-tools-fliprotate-buttons-events",[fn(Va.disable(),function(nr,wo){M(dn,nr)}),fn(Va.enable(),function(nr,wo){A(dn,nr)})])])}),wr=function(nr,wo,Mi,au,zf){var Ff=xd.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:c.translate(nr)}}),yp=xd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),UE=xd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ci(xd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Mi,maxX:zf,getInitialValue:L({x:au})},components:[Ff,yp,UE],sliderBehaviours:zn([$r.config({})]),onChoose:wo}))},Vo=function(nr,wo,Mi,au,zf){var Ff=function(yp,UE,RY){var PY=cn(wo,RY.x/100);se(yp,PY)};return wr(nr,Ff,Mi,au,zf)},wi=function(nr,wo,Mi,au,zf){return[je(),Vo(nr,wo,Mi,au,zf),Be()]},Oa=function(nr,wo,Mi,au,zf){var Ff=wi(nr,wo,Mi,au,zf);return yl.sketch({dom:N,components:Ff.map(function(yp){return yp.asSpec()}),containerBehaviours:zn([po("image-tools-filter-panel-buttons-events",[fn(Va.disable(),function(yp,UE){M(Ff,yp)}),fn(Va.enable(),function(yp,UE){A(Ff,yp)})])])})},vp=[je(),ft(),Be()],ph=yl.sketch({dom:N,components:vp.map(function(nr){return nr.asSpec()})}),TY=Oa("Brightness",c$,-100,0,100),MY=Oa("Contrast",f$,-100,0,100),F7=Oa("Gamma",s$,-100,0,100),kY=function(nr,wo,Mi){return function(au){return l$(au,nr,wo,Mi)}},CP=function(nr){var wo=function(Mi,au,zf){var Ff=V7.getOpt(Mi),yp=H7.getOpt(Mi),UE=TP.getOpt(Mi);Ff.each(function(RY){yp.each(function(PY){UE.each(function(K_e){var J_e=qn.getValue(RY).x/100,Z_e=qn.getValue(K_e).x/100,Q_e=qn.getValue(PY).x/100,eSe=kY(J_e,Z_e,Q_e);se(Mi,eSe)})})})};return wr(nr,wo,0,100,200)},V7=CP("R"),TP=CP("G"),H7=CP("B"),Im=[je(),V7,TP,H7,Be()],MP=yl.sketch({dom:N,components:Im.map(function(nr){return nr.asSpec()})}),Bf=function(nr,wo,Mi){return function(au){var zf=function(){WE.getOpt(au).each(function(Ff){Qr.set(Ff,[nr]),Mi(Ff)})};W(au,Ys.swap(),{transform:wo,swap:zf})}},DY=function(nr){a.showCrop()},AY=function(nr){ct.getOpt(nr).each(function(wo){var Mi=a.getMeasurements(),au=Mi.width,zf=Mi.height;qn.setValue(wo,{width:au,height:zf})})},EY=$.some(u$),Fl=$.some(a$),h2=[w("crop","Crop",Bf(Kt,$.none(),DY),!1),w("resize","Resize",Bf($n,$.none(),AY),!1),w("orientation","Orientation",Bf(cr,$.none(),j),!1),w("brightness","Brightness",Bf(TY,$.none(),j),!1),w("sharpen","Sharpen",Bf(ph,EY,j),!1),w("contrast","Contrast",Bf(MY,$.none(),j),!1),w("color-levels","Color levels",Bf(MP,$.none(),j),!1),w("gamma","Gamma",Bf(F7,$.none(),j),!1),w("invert","Invert",Bf(ph,Fl,j),!1)],jE=yl.sketch({dom:N,components:h2.map(function(nr){return nr.asSpec()})}),OY=yl.sketch({dom:{tag:"div"},components:[jE],containerBehaviours:zn([Qr.config({})])}),WE=ci(OY),IY=function(nr){return WE.getOpt(nr).map(function(wo){var Mi=wo.components()[0];return Mi.components()[Mi.components().length-1]})};return{memContainer:WE,getApplyButton:IY}},_E=tinymce.util.Tools.resolve("tinymce.geom.Rect"),d8=tinymce.util.Tools.resolve("tinymce.util.Observable"),ob=tinymce.util.Tools.resolve("tinymce.util.VK"),SE=function(a){var c=Math.max,p=a.documentElement,w=a.body,M=c(p.scrollWidth,w.scrollWidth),A=c(p.clientWidth,w.clientWidth),N=c(p.offsetWidth,w.offsetWidth),j=c(p.scrollHeight,w.scrollHeight),W=c(p.clientHeight,w.clientHeight),K=c(p.offsetHeight,w.offsetHeight);return{width:M<N?A:M,height:j<K?W:j}},V$=function(a){return b(a.changedTouches)},i2=function(a){if(V$(a))for(var c="screenX screenY pageX pageY clientX clientY".split(" "),p=0;p<c.length;p++)a[c[p]]=a.changedTouches[0][c[p]]};function H$(a,c){var p,w,M,A,N=[],j=[],W=(p=c.document)!==null&&p!==void 0?p:document,K=(w=c.root)!==null&&w!==void 0?w:W,oe=He.fromDom(W),se,be,_e,Ee=He.fromDom(K.getElementById((M=c.handle)!==null&&M!==void 0?M:a)),je=function(Ut){var Kt=Ut.raw,ct=SE(W);i2(Kt),Ut.prevent(),se=Kt.button,be=Kt.screenX,_e=Kt.screenY;var Lt=ka(Ee,"cursor");A=He.fromTag("div",W),$l(A,{position:"absolute",top:"0",left:"0",width:ct.width+"px",height:ct.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:Lt}),Ts(ni(oe),A),j.push(Ka(oe,"mousemove",ft),Ka(oe,"touchmove",ft),Ka(oe,"mouseup",Be),Ka(oe,"touchend",Be)),c.start(Kt)},ft=function(Ut){var Kt=Ut.raw;if(i2(Kt),Kt.button!==se)return Be(Ut);Kt.deltaX=Kt.screenX-be,Kt.deltaY=Kt.screenY-_e,Ut.prevent(),c.drag(Kt)},Be=function(Ut){i2(Ut.raw),Fe(j,function(Kt){return Kt.unbind()}),j=[],Ml(A),c.stop&&c.stop(Ut.raw)},ht=function(){Fe(j.concat(N),function(Ut){return Ut.unbind()}),j=[],N=[],b(A)&&Ml(A)};return N.push(Ka(Ee,"mousedown",je),Ka(Ee,"touchstart",je)),{destroy:ht}}var fT=0,h8=function(a,c,p,w,M){var A,N=[],j="tox-",W=j+"crid-"+fT++,K=He.fromDom(w),oe=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],se=["top","right","bottom","left"],be=function(cn,Xn){return{x:Xn.x+cn.x,y:Xn.y+cn.y,w:Xn.w,h:Xn.h}},_e=function(cn,Xn){return{x:Xn.x-cn.x,y:Xn.y-cn.y,w:Xn.w,h:Xn.h}},Ee=function(){return _e(p,a)},je=function(cn,Xn,mn,nn){var jn=Xn.x+mn*cn.deltaX,gr=Xn.y+nn*cn.deltaY,dn=Math.max(20,Xn.w+mn*cn.deltaW),cr=Math.max(20,Xn.h+nn*cn.deltaH),wr=a=_E.clamp({x:jn,y:gr,w:dn,h:cr},p,cn.name==="move");wr=_e(p,wr),$n.fire("updateRect",{rect:wr}),ct(wr)},ft=function(){var cn=function(jn){var gr;return H$(W,{document:w.ownerDocument,root:Tr(K).dom,handle:W+"-"+jn.name,start:function(){gr=a},drag:function(dn){je(jn,gr,dn.deltaX,dn.deltaY)}})},Xn=He.fromTag("div");ql(Xn,{id:W,class:j+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Ts(K,Xn),Fe(se,function(jn){mu(K,"#"+W).each(function(gr){var dn=He.fromTag("div");ql(dn,{id:W+"-"+jn,class:j+"croprect-block","data-mce-bogus":"all"}),Ur(dn,"display","none"),Ts(gr,dn)})}),Fe(oe,function(jn){mu(K,"#"+W).each(function(gr){var dn=He.fromTag("div");ql(dn,{id:W+"-"+jn.name,"aria-label":jn.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:jn.label}),Yh(dn,[j+"croprect-handle",j+"croprect-handle-"+jn.name]),Ur(dn,"display","none"),Ts(gr,dn)})}),A=Je(oe,cn),ht(a);var mn=function(jn){so(jn.target,"aria-grabbed",jn.raw.type==="focus"?"true":"false")},nn=function(jn){var gr;Fe(oe,function(cr){if(la(jn.target,"id")===W+"-"+cr.name)return gr=cr,!1});var dn=function(cr,wr,Vo,wi,Oa){cr.stopPropagation(),cr.preventDefault(),je(gr,Vo,wi,Oa)};switch(jn.raw.keyCode){case ob.LEFT:dn(jn,gr,a,-10,0);break;case ob.RIGHT:dn(jn,gr,a,10,0);break;case ob.UP:dn(jn,gr,a,0,-10);break;case ob.DOWN:dn(jn,gr,a,0,10);break;case ob.ENTER:case ob.SPACEBAR:jn.prevent(),M();break}};N.push(Ka(K,"focusin",mn),Ka(K,"focusout",mn),Ka(K,"keydown",nn))},Be=function(cn){var Xn=Ce(Ce([],Je(oe,function(nn){return"#"+W+"-"+nn.name}),!0),Je(se,function(nn){return"#"+W+"-"+nn}),!0).join(","),mn=Ru(K,Xn);cn?Fe(mn,function(nn){return ri(nn,"display")}):Fe(mn,function(nn){return Ur(nn,"display","none")})},ht=function(cn){var Xn=function(mn,nn){mu(K,"#"+W+"-"+mn).each(function(jn){$l(jn,{left:nn.x+"px",top:nn.y+"px",width:Math.max(0,nn.w)+"px",height:Math.max(0,nn.h)+"px"})})};Fe(oe,function(mn){mu(K,"#"+W+"-"+mn.name).each(function(nn){$l(nn,{left:cn.w*mn.xMul+cn.x+"px",top:cn.h*mn.yMul+cn.y+"px"})})}),Xn("top",{x:c.x,y:c.y,w:c.w,h:cn.y-c.y}),Xn("right",{x:cn.x+cn.w,y:cn.y,w:c.w-cn.x-cn.w+c.x,h:cn.h}),Xn("bottom",{x:c.x,y:cn.y+cn.h,w:c.w,h:c.h-cn.y-cn.h+c.y}),Xn("left",{x:c.x,y:cn.y,w:cn.x-c.x,h:cn.h}),Xn("move",cn)},Ut=function(cn){a=cn,ht(a)},Kt=function(cn){c=cn,ht(a)},ct=function(cn){Ut(be(p,cn))},Lt=function(cn){p=cn,ht(a)},rn=function(){Fe(A,function(cn){return cn.destroy()}),A=[],Fe(N,function(cn){return cn.unbind()}),N=[]};ft();var $n=ne(ne({},d8),{toggleVisibility:Be,setClampRect:Lt,setRect:Ut,getInnerRect:Ee,setInnerRect:ct,setViewPortRect:Kt,destroy:rn});return $n},wd={create:h8},j$=function(a){return new AC(function(c){var p=function(){a.removeEventListener("load",p),c(a)};a.complete?c(a):a.addEventListener("load",p)})},p8=function(a){var c=ci({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),p=Er(1),w=vk(),M=Er({x:0,y:0,w:1,h:1}),A=Er({x:0,y:0,w:1,h:1}),N=function(ft,Be){Ee.getOpt(ft).each(function(ht){var Ut=p.get(),Kt=Cs(ht.element),ct=fu(ht.element),Lt=Be.dom.naturalWidth*Ut,rn=Be.dom.naturalHeight*Ut,$n=Math.max(0,Kt/2-Lt/2),cn=Math.max(0,ct/2-rn/2),Xn={left:$n.toString()+"px",top:cn.toString()+"px",width:Lt.toString()+"px",height:rn.toString()+"px",position:"absolute"};$l(Be,Xn),c.getOpt(ht).each(function(mn){$l(mn.element,Xn)}),w.run(function(mn){var nn=M.get();mn.setRect({x:nn.x*Ut+$n,y:nn.y*Ut+cn,w:nn.w*Ut,h:nn.h*Ut}),mn.setClampRect({x:$n,y:cn,w:Lt,h:rn}),mn.setViewPortRect({x:0,y:0,w:Kt,h:ct})})})},j=function(ft,Be){Ee.getOpt(ft).each(function(ht){var Ut=Cs(ht.element),Kt=fu(ht.element),ct=Be.dom.naturalWidth,Lt=Be.dom.naturalHeight,rn=Math.min(Ut/ct,Kt/Lt);rn>=1?p.set(1):p.set(rn)})},W=function(ft,Be){var ht=He.fromTag("img");return so(ht,"src",Be),j$(ht.dom).then(function(){ft.getSystem().isConnected()&&Ee.getOpt(ft).map(function(Ut){var Kt=Uy({element:ht});Qr.replaceAt(Ut,1,$.some(Kt));var ct=A.get(),Lt={x:0,y:0,w:ht.dom.naturalWidth,h:ht.dom.naturalHeight};A.set(Lt);var rn=_E.inflate(Lt,-20,-20);M.set(rn),(ct.w!==Lt.w||ct.h!==Lt.h)&&j(Ut,ht),N(Ut,ht)})})},K=function(ft,Be){var ht=p.get(),Ut=Be>0?Math.min(2,ht+.1):Math.max(.1,ht-.1);p.set(Ut),Ee.getOpt(ft).each(function(Kt){var ct=Kt.components()[1].element;N(Kt,ct)})},oe=function(){w.run(function(ft){ft.toggleVisibility(!0)})},se=function(){w.run(function(ft){ft.toggleVisibility(!1)})},be=function(){return M.get()},_e=yl.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[c.asSpec(),{dom:{tag:"img",attributes:{src:a}}},{dom:{tag:"div"},behaviours:zn([po("image-panel-crop-events",[ha(function(ft){Ee.getOpt(ft).each(function(Be){var ht=Be.element.dom,Ut=wd.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},ht,E);Ut.toggleVisibility(!1),Ut.on("updateRect",function(Kt){var ct=Kt.rect,Lt=p.get(),rn={x:Math.round(ct.x/Lt),y:Math.round(ct.y/Lt),w:Math.round(ct.w/Lt),h:Math.round(ct.h/Lt)};M.set(rn)}),w.set(Ut)})}),Ql(function(){w.clear()})])])}],containerBehaviours:zn([Qr.config({}),po("image-panel-events",[ha(function(ft){W(ft,a)})])])}),Ee=ci(_e),je=function(){var ft=A.get();return{width:ft.w,height:ft.h}};return{memContainer:Ee,updateSrc:W,zoom:K,showCrop:oe,hideCrop:se,getRect:be,getMeasurements:je}},CE=function(a,c,p,w,M){return lT({name:a,icon:$.some(c),disabled:p,tooltip:$.some(a),primary:!1,borderless:!1},w,M)},m8=function(a,c){c?Mr.enable(a):Mr.disable(a)},W$=function(a){var c=function(A,N,j){p.getOpt(A).each(function(W){m8(W,N)}),w.getOpt(A).each(function(W){m8(W,j)})},p=ci(CE("Undo","undo",!0,function(A){Ir(A,Ys.undo(),{direction:1})},a)),w=ci(CE("Redo","redo",!0,function(A){Ir(A,Ys.redo(),{direction:1})},a)),M=yl.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[p.asSpec(),w.asSpec(),CE("Zoom in","zoom-in",!1,function(A){Ir(A,Ys.zoom(),{direction:1})},a),CE("Zoom out","zoom-out",!1,function(A){Ir(A,Ys.zoom(),{direction:-1})},a)]});return{container:M,updateButtonUndoStates:c}};function U$(){var a=[],c=-1,p=function(j){var W=a.splice(++c);return a.push(j),{state:j,removed:W}},w=function(){if(A())return a[--c]},M=function(){if(N())return a[++c]},A=function(){return c>0},N=function(){return c!==-1&&c<a.length-1};return{data:a,add:p,undo:w,redo:M,canUndo:A,canRedo:N}}var q$=function(a){var c=Er(a),p=za(),w=U$();w.add(a);var M=function(){return c.get()},A=function(ht){c.set(ht)},N=function(){return p.get().getOrThunk(c.get)},j=function(ht){var Ut=W(ht);return se(),p.set(Ut),Ut.url},W=function(ht){return{blob:ht,url:URL.createObjectURL(ht)}},K=function(ht){URL.revokeObjectURL(ht.url)},oe=function(ht){Tm.each(ht,K)},se=function(){p.on(K),p.clear()},be=function(ht){var Ut=W(ht);A(Ut);var Kt=w.add(Ut).removed;return oe(Kt),Ut.url},_e=function(ht){var Ut=W(ht);return p.set(Ut),Ut.url},Ee=function(ht){return p.get().fold(E,function(Ut){be(Ut.blob),ht()})},je=function(){var ht=w.undo();return A(ht),ht.url},ft=function(){var ht=w.redo();return A(ht),ht.url},Be=function(){var ht=w.canUndo(),Ut=w.canRedo();return{undoEnabled:ht,redoEnabled:Ut}};return{getBlobState:M,setBlobState:A,addBlobState:be,getTempState:N,updateTempState:j,addTempState:_e,applyTempState:Ee,destroyTempState:se,undo:je,redo:ft,getHistoryStates:Be}},$$=function(a,c){var p=q$(a.currentState),w=function(mn,nn){var jn=nn.event.direction;rn.zoom(mn,jn)},M=function(mn){var nn=p.getHistoryStates();$n.updateButtonUndoStates(mn,nn.undoEnabled,nn.redoEnabled),Ir(mn,Va.formActionEvent,{name:Va.saveState(),value:nn.undoEnabled})},A=function(mn){$n.updateButtonUndoStates(mn,!1,!1)},N=function(mn,nn){var jn=p.undo();se(mn,jn).then(function(gr){oe(mn),M(mn)})},j=function(mn,nn){var jn=p.redo();se(mn,jn).then(function(gr){oe(mn),M(mn)})},W=function(mn){return mn.toBlob()},K=function(mn){Ir(mn,Va.formActionEvent,{name:Va.disable(),value:{}})},oe=function(mn){cn.getApplyButton(mn).each(function(nn){Mr.enable(nn)}),Ir(mn,Va.formActionEvent,{name:Va.enable(),value:{}})},se=function(mn,nn){return K(mn),rn.updateSrc(mn,nn)},be=function(mn,nn,jn,gr,dn){K(mn),Uq(nn).then(jn).then(W).then(gr).then(function(cr){return se(mn,cr)}).then(function(){M(mn),dn(),oe(mn)}).catch(function(cr){console.log(cr),mn.getSystem().isConnected()&&oe(mn)})},_e=function(mn,nn,jn){var gr=p.getBlobState().blob,dn=function(cr){return p.updateTempState(cr)};be(mn,gr,nn,dn,jn)},Ee=function(mn,nn){var jn=p.getTempState().blob,gr=function(dn){return p.addTempState(dn)};be(mn,jn,nn,gr,E)},je=function(mn,nn,jn){var gr=p.getBlobState().blob,dn=function(cr){var wr=p.addBlobState(cr);return Be(mn),wr};be(mn,gr,nn,dn,jn)},ft=function(mn,nn){var jn=function(){Be(mn);var gr=nn.event.swap;gr()};p.applyTempState(jn)},Be=function(mn){var nn=p.getBlobState().url;return p.destroyTempState(),M(mn),nn},ht=function(mn){var nn=Be(mn);se(mn,nn).then(function(jn){oe(mn)})},Ut=function(mn,nn){ht(mn);var jn=nn.event.swap;jn(),rn.hideCrop()},Kt=function(mn,nn){return _e(mn,nn.event.transform,E)},ct=function(mn,nn){return Ee(mn,nn.event.transform)},Lt=function(mn,nn){return je(mn,nn.event.transform,nn.event.swap)},rn=p8(a.currentState.url),$n=W$(c),cn=F$(rn,c),Xn=function(mn,nn){A(mn);var jn=nn.event.transform,gr=nn.event.swap;jn.fold(function(){gr()},function(dn){_e(mn,dn,gr)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[cn.memContainer.asSpec(),rn.memContainer.asSpec(),$n.container],behaviours:zn([qn.config({store:{mode:"manual",getValue:function(){return p.getBlobState()}}}),po("image-tools-events",[fn(Ys.undo(),N),fn(Ys.redo(),j),fn(Ys.zoom(),w),fn(Ys.back(),Ut),fn(Ys.apply(),ft),fn(Ys.transform(),Kt),fn(Ys.tempTransform(),ct),fn(Ys.transformApply(),Lt),fn(Ys.swap(),Xn)]),hp.self()])}},G$=function(a,c){var p={dom:{tag:"label",innerHtml:c.providers.translate(a.label),classes:["tox-label"]}},w=Je(a.items,c.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[p].concat(w),behaviours:zn([hp.self(),Qr.config({}),tb.domHtml($.none()),Rr.config({mode:"acyclic"})])}},GR=function(a){return!ln(a,"items")},g8="data-value",XR=function(a,c,p,w){return Je(p,function(M){return GR(M)?{type:"togglemenuitem",text:M.text,value:M.value,active:M.value===w,onAction:function(){qn.setValue(a,M.value),Ir(a,Kc,{name:c}),$r.focus(a)}}:{type:"nestedmenuitem",text:M.text,getSubmenuItems:function(){return XR(a,c,M.items,w)}}})},YR=function(a,c){return vt(a,function(p){return GR(p)?Si(p.value===c,p):YR(p.items,c)})},v8=function(a,c){var p=c.shared.providers,w=gn(a.items).filter(GR),M=a.label.map(function(j){return W0(j,p)}),A=Ko.parts.field({dom:{},factory:{sketch:function(j){return zR({uid:j.uid,text:w.map(function(W){return W.text}),icon:$.none(),tooltip:a.label,role:$.none(),fetch:function(W,K){var oe=XR(W,a.name,a.items,qn.getValue(W));K(r2(oe,lp.CLOSE_ON_EXECUTE,c,!1))},onSetup:L(E),getApi:L({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ou.config({}),qn.config({store:{mode:"manual",initialValue:w.map(function(W){return W.value}).getOr(""),getValue:function(W){return la(W.element,g8)},setValue:function(W,K){YR(a.items,K).each(function(oe){so(W.element,g8,oe.value),Ir(W,nb,{text:oe.text})})}}})]},"tox-listbox",c.shared)}}}),N={dom:{tag:"div",classes:["tox-listboxfield"]},components:[A]};return Ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xe([M.toArray(),[N]]),fieldBehaviours:zn([Mr.config({disabled:L(a.disabled),onDisabled:function(j){Ko.getField(j).each(Mr.disable)},onEnabled:function(j){Ko.getField(j).each(Mr.enable)}})])})},X$=function(a,c){return{dom:{tag:"div",classes:a.classes},components:Je(a.items,c.shared.interpreter)}},y8=function(a,c){var p=Je(a.options,function(M){return{dom:{tag:"option",value:M.value,innerHtml:M.text}}}),w=a.data.map(function(M){return jd("initialValue",M)}).getOr({});return{uid:a.uid,dom:{tag:"select",classes:a.selectClasses,attributes:a.selectAttributes},components:p,behaviours:Nu(a.selectBehaviours,[$r.config({}),qn.config({store:ne({mode:"manual",getValue:function(M){return tc(M.element)},setValue:function(M,A){var N=Rt(a.options,function(j){return j.value===A});N.isSome()&&n0(M.element,A)}},w)})])}},Y$=ac({name:"HtmlSelect",configFields:[on("options"),Pu("selectBehaviours",[$r,qn]),dt("selectClasses",[]),dt("selectAttributes",{}),oi("data")],factory:y8}),K$=function(a,c){var p=Je(a.items,function(j){return{text:c.translate(j.text),value:j.value}}),w=a.label.map(function(j){return W0(j,c)}),M=Ko.parts.field({dom:{},selectAttributes:{size:a.size},options:p,factory:Y$,selectBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),ou.config({}),po("selectbox-change",[fn($v(),function(j,W){Ir(j,Kc,{name:a.name})})])])}),A=a.size>1?$.none():$.some(sp("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},c.icons)),N={dom:{tag:"div",classes:["tox-selectfield"]},components:Xe([[M],A.toArray()])};return Ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xe([w.toArray(),[N]]),fieldBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()},onDisabled:function(j){Ko.getField(j).each(Mr.disable)},onEnabled:function(j){Ko.getField(j).each(Mr.enable)}}),Bu()])})},J$=function(a,c){var p=function(j){return{dom:{tag:"th",innerHtml:c.translate(j)}}},w=function(j){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Je(j,p)}]}},M=function(j){return{dom:{tag:"td",innerHtml:c.translate(j)}}},A=function(j){return{dom:{tag:"tr"},components:Je(j,M)}},N=function(j){return{dom:{tag:"tbody"},components:Je(j,A)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[w(a.header),N(a.cells)],behaviours:zn([ou.config({}),$r.config({})])}},b8=function(a,c){var p=a.label.map(function(be){return W0(be,c)}),w=[Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),Bu(),Rr.config({mode:"execution",useEnter:a.multiline!==!0,useControlEnter:a.multiline===!0,execute:function(be){return ko(be,$w),$.some(!0)}}),po("textfield-change",[fn(sg(),function(be,_e){Ir(be,Kc,{name:a.name})}),fn(S_(),function(be,_e){Ir(be,Kc,{name:a.name})})]),ou.config({})],M=a.validation.map(function(be){return _m.config({getRoot:function(_e){return sa(_e.element)},invalidClass:"tox-invalid",validator:{validate:function(_e){var Ee=qn.getValue(_e),je=be.validator(Ee);return Is.pure(je===!0?fo.value(Ee):fo.error(je))},validateOnLoad:be.validateOnLoad}})}).toArray(),A=a.placeholder.fold(L({}),function(be){return{placeholder:c.translate(be)}}),N=a.inputMode.fold(L({}),function(be){return{inputmode:be}}),j=ne(ne({},A),N),W=Ko.parts.field({tag:a.multiline===!0?"textarea":"input",inputAttributes:j,inputClasses:[a.classname],inputBehaviours:zn(Xe([w,M])),selectOnFocus:!1,factory:YC}),K=a.flex?["tox-form__group--stretched"]:[],oe=K.concat(a.maximized?["tox-form-group--maximize"]:[]),se=[Mr.config({disabled:function(){return a.disabled||c.isDisabled()},onDisabled:function(be){Ko.getField(be).each(Mr.disable)},onEnabled:function(be){Ko.getField(be).each(Mr.enable)}}),Bu()];return XC(p,W,oe,se)},Z$=function(a,c){return b8({name:a.name,multiline:!1,label:a.label,inputMode:a.inputMode,placeholder:a.placeholder,flex:!1,disabled:a.disabled,classname:"tox-textfield",validation:$.none(),maximized:a.maximized},c)},Q$=function(a,c){return b8({name:a.name,multiline:!0,label:a.label,inputMode:$.none(),placeholder:a.placeholder,flex:!0,disabled:a.disabled,classname:"tox-textarea",validation:$.none(),maximized:a.maximized},c)},eG=function(a,c){var p=a.stream.streams,w=p.setup(a,c);return Gi([fn(a.event,w),Ql(function(){return c.cancel()})].concat(a.cancelEvent.map(function(M){return[fn(M,function(){return c.cancel()})]}).getOr([])))},tG=Object.freeze({__proto__:null,events:eG}),x8=function(a){var c=Er(null),p=function(){return{timer:c.get()!==null?"set":"unset"}},w=function(A){c.set(A)},M=function(){var A=c.get();A!==null&&A.cancel()};return Gu({readState:p,setTimer:w,cancel:M})},nG=function(a){return a.stream.streams.state(a)},rG=Object.freeze({__proto__:null,throttle:x8,init:nG}),oG=function(a,c){var p=a.stream,w=V4(a.onStream,p.delay);return c.setTimer(w),function(M,A){w.throttle(M,A),p.stopEvent&&A.stop()}},iG=[Al("stream",Lc("mode",{throttle:[on("delay"),dt("stopEvent",!0),Ci("streams",{setup:oG,state:x8})]})),dt("event","input"),oi("cancelEvent"),Cg("onStream")],w8=Ya({fields:iG,name:"streaming",active:tG,state:rG}),dT=function(a,c,p){var w=qn.getValue(p);qn.setValue(c,w),S8(c)},_8=function(a,c){var p=a.element,w=tc(p),M=p.dom;la(p,"type")!=="number"&&c(M,w)},S8=function(a){_8(a,function(c,p){return c.setSelectionRange(p.length,p.length)})},C8=function(a,c){_8(a,function(p,w){return p.setSelectionRange(c,w.length)})},aG=function(a,c,p){if(a.selectsOver){var w=qn.getValue(c),M=a.getDisplayText(w),A=qn.getValue(p),N=a.getDisplayText(A);return N.indexOf(M)===0?$.some(function(){dT(a,c,p),C8(c,M.length)}):$.none()}else return $.none()},KR=L("alloy.typeahead.itemexecute"),uG=function(a,c,p,w){var M=function(W,K,oe){a.previewing.set(!1);var se=iu.getCoupled(W,"sandbox");if(Lo.isOpen(se))So.getCurrent(se).each(function(_e){ii.getHighlighted(_e).fold(function(){oe(_e)},function(){YM(se,_e.element,"keydown",K)})});else{var be=function(_e){So.getCurrent(_e).each(oe)};QI(a,N(W),W,se,w,be,uh.HighlightFirst).get(E)}},A=jB(a),N=function(W){return function(K){return K.map(function(oe){var se=jt(oe.menus),be=Bt(se,function(Ee){return Ye(Ee.items,function(je){return je.type==="item"})}),_e=qn.getState(W);return _e.update(Je(be,function(Ee){return Ee.data})),oe})}},j=[$r.config({}),qn.config({onSetValue:a.onSetValue,store:ne({mode:"dataset",getDataKey:function(W){return tc(W.element)},getFallbackEntry:function(W){return{value:W,meta:{}}},setValue:function(W,K){n0(W.element,a.model.getDisplayText(K))}},a.initialData.map(function(W){return jd("initialValue",W)}).getOr({}))}),w8.config({stream:{mode:"throttle",delay:a.responseTime,stopEvent:!1},onStream:function(W,K){var oe=iu.getCoupled(W,"sandbox"),se=$r.isFocused(W);if(se&&tc(W.element).length>=a.minChars){var be=So.getCurrent(oe).bind(function(Ee){return ii.getHighlighted(Ee).map(qn.getValue)});a.previewing.set(!0);var _e=function(Ee){So.getCurrent(oe).each(function(je){be.fold(function(){a.model.selectsOver&&ii.highlightFirst(je)},function(ft){ii.highlightBy(je,function(Be){var ht=qn.getValue(Be);return ht.value===ft.value}),ii.getHighlighted(je).orThunk(function(){return ii.highlightFirst(je),$.none()})})})};QI(a,N(W),W,oe,w,_e,uh.HighlightFirst).get(E)}},cancelEvent:C_()}),Rr.config({mode:"special",onDown:function(W,K){return M(W,K,ii.highlightFirst),$.some(!0)},onEscape:function(W){var K=iu.getCoupled(W,"sandbox");return Lo.isOpen(K)?(Lo.close(K),$.some(!0)):$.none()},onUp:function(W,K){return M(W,K,ii.highlightLast),$.some(!0)},onEnter:function(W){var K=iu.getCoupled(W,"sandbox"),oe=Lo.isOpen(K);if(oe&&!a.previewing.get())return So.getCurrent(K).bind(function(be){return ii.getHighlighted(be)}).map(function(be){return Ir(W,KR(),{item:be}),!0});var se=qn.getValue(W);return ko(W,C_()),a.onExecute(K,W,se),oe&&Lo.close(K),$.some(!0)}}),zo.config({toggleClass:a.markers.openClass,aria:{mode:"expanded"}}),iu.config({others:{sandbox:function(W){return eR(a,W,{onOpen:function(){return zo.on(W)},onClose:function(){return zo.off(W)}})}}}),po("typeaheadevents",[Sf(function(W){var K=E;Xw(a,N(W),W,w,K,uh.HighlightFirst).get(E)}),fn(KR(),function(W,K){var oe=iu.getCoupled(W,"sandbox");dT(a.model,W,K.event.item),ko(W,C_()),a.onItemExecute(W,oe,K.event.item,qn.getValue(W)),Lo.close(oe),S8(W)})].concat(a.dismissOnBlur?[fn(__(),function(W){var K=iu.getCoupled(W,"sandbox");Tf(K.element).isNone()&&Lo.close(K)})]:[]))];return{uid:a.uid,dom:WB(Zt(a,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ne(ne({},A),Nu(a.typeaheadBehaviours,j)),eventOrder:a.eventOrder}},sG=L([oi("lazySink"),on("fetch"),dt("minChars",5),dt("responseTime",1e3),_o("onOpen"),dt("getHotspot",$.some),dt("getAnchorOverrides",L({})),dt("layouts",$.none()),dt("eventOrder",{}),h_("model",{},[dt("getDisplayText",function(a){return a.meta!==void 0&&a.meta.text!==void 0?a.meta.text:a.value}),dt("selectsOver",!0),dt("populateFromBrowse",!0)]),_o("onSetValue"),Pi("onExecute"),_o("onItemExecute"),dt("inputClasses",[]),dt("inputAttributes",{}),dt("inputStyles",{}),dt("matchWidth",!0),dt("useMinWidth",!1),dt("dismissOnBlur",!0),Sg(["openClass"]),oi("initialData"),Pu("typeaheadBehaviours",[$r,qn,w8,Rr,zo,iu]),ul("previewing",function(){return Er(!0)})].concat(UA()).concat(tR())),lG=L([Ec({schema:[_g()],name:"menu",overrides:function(a){return{fakeFocus:!0,onHighlight:function(c,p){a.previewing.get()?c.getSystem().getByUid(a.uid).each(function(w){aG(a.model,w,p).fold(function(){return ii.dehighlight(c,p)},function(M){return M()})}):c.getSystem().getByUid(a.uid).each(function(w){a.model.populateFromBrowse&&dT(a.model,w,p)}),a.previewing.set(!1)},onExecute:function(c,p){return c.getSystem().getByUid(a.uid).toOptional().map(function(w){return Ir(w,KR(),{item:p}),!0})},onHover:function(c,p){a.previewing.set(!1),c.getSystem().getByUid(a.uid).each(function(w){a.model.populateFromBrowse&&dT(a.model,w,p)})}}}})]),cG=ml({name:"Typeahead",configFields:sG(),partFields:lG(),factory:uG}),Qc=function(a){var c=function(){return Qc(a.toCached())},p=function(W){return Qc(a.bind(function(K){return K.fold(function(oe){return Is.pure(fo.error(oe))},function(oe){return W(oe)})}))},w=function(W){return Qc(a.map(function(K){return K.bind(W)}))},M=function(W){return Qc(a.map(function(K){return K.map(W)}))},A=function(W){return Qc(a.map(function(K){return K.mapError(W)}))},N=function(W,K){return a.map(function(oe){return oe.fold(W,K)})},j=function(W,K){return Qc(Is.nu(function(oe){var se=!1,be=setTimeout(function(){se=!0,oe(fo.error(K()))},W);a.get(function(_e){se||(clearTimeout(be),oe(_e))})}))};return ne(ne({},a),{toCached:c,bindFuture:p,bindResult:w,mapResult:M,mapError:A,foldResult:N,withTimeout:j})},T8=function(a){return Qc(Is.nu(a))},M8=function(a){return Qc(Is.pure(fo.value(a)))},fG=function(a){return Qc(Is.pure(fo.error(a)))},dG=function(a){return Qc(Is.pure(a))},hG=function(a){return Qc(a.map(fo.value))},pG=function(a){return T8(function(c){a.then(function(p){c(fo.value(p))},function(p){c(fo.error(p))})})},mG={nu:T8,wrap:Qc,pure:M8,value:M8,error:fG,fromResult:dG,fromFuture:hG,fromPromise:pG},k8={type:"separator"},gG=function(a){return{type:"menuitem",value:a.url,text:a.title,meta:{attach:a.attach},onAction:E}},JR=function(a,c){return{type:"menuitem",value:c,text:a,meta:{attach:void 0},onAction:E}},vG=function(a){return Je(a,gG)},yG=function(a,c){return Ye(c,function(p){return p.type===a})},D8=function(a,c){return vG(yG(a,c))},bG=function(a){return D8("header",a.targets)},xG=function(a){return D8("anchor",a.targets)},A8=function(a){return $.from(a.anchorTop).map(function(c){return JR("<top>",c)}).toArray()},wG=function(a){return $.from(a.anchorBottom).map(function(c){return JR("<bottom>",c)}).toArray()},_G=function(a){return Je(a,function(c){return JR(c,c)})},SG=function(a){return Ft(a,function(c,p){var w=c.length===0||p.length===0;return w?c.concat(p):c.concat(k8,p)},[])},ZR=function(a,c){var p=a.toLowerCase();return Ye(c,function(w){var M=w.meta!==void 0&&w.meta.text!==void 0?w.meta.text:w.text;return co(M.toLowerCase(),p)||co(w.value.toLowerCase(),p)})},CG=function(a,c,p){var w=qn.getValue(c),M=w.meta.text!==void 0?w.meta.text:w.value,A=p.getLinkInformation();return A.fold(function(){return[]},function(N){var j=ZR(M,_G(p.getHistory(a)));return a==="file"?SG([j,ZR(M,bG(N)),ZR(M,Xe([A8(N),xG(N),wG(N)]))]):j})},E8=ir("aria-invalid"),O8=function(a,c,p){var w,M=c.shared.providers,A=function(Be){var ht=qn.getValue(Be);p.addToHistory(ht.value,a.filetype)},N=Ko.parts.field({factory:cG,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":E8,type:"url"},minChars:0,responseTime:0,fetch:function(Be){var ht=CG(a.filetype,Be,p),Ut=r2(ht,lp.BUBBLE_TO_SANDBOX,c,!1);return Is.pure(Ut)},getHotspot:function(Be){return _e.getOpt(Be)},onSetValue:function(Be,ht){Be.hasConfigured(_m)&&_m.run(Be).get(E)},typeaheadBehaviours:zn(Xe([p.getValidationHandler().map(function(Be){return _m.config({getRoot:function(ht){return sa(ht.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(ht,Ut){K.getOpt(ht).each(function(Kt){so(Kt.element,"title",M.translate(Ut))})}},validator:{validate:function(ht){var Ut=qn.getValue(ht);return mG.nu(function(Kt){Be({type:a.filetype,url:Ut.value},function(ct){if(ct.status==="invalid"){var Lt=fo.error(ct.message);Kt(Lt)}else{var rn=fo.value(ct.message);Kt(rn)}})})},validateOnLoad:!1}})}).toArray(),[Mr.config({disabled:function(){return a.disabled||M.isDisabled()}}),ou.config({}),po("urlinput-events",Xe([a.filetype==="file"?[fn(sg(),function(Be){Ir(Be,Kc,{name:a.name})})]:[],[fn($v(),function(Be){Ir(Be,Kc,{name:a.name}),A(Be)}),fn(S_(),function(Be){Ir(Be,Kc,{name:a.name}),A(Be)})]]))]])),eventOrder:(w={},w[sg()]=["streaming","urlinput-events","invalidating"],w),model:{getDisplayText:function(Be){return Be.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:c.shared.getSink,parts:{menu:CA(!1,1,"normal")},onExecute:function(Be,ht,Ut){Ir(ht,$w,{})},onItemExecute:function(Be,ht,Ut,Kt){A(Be),Ir(Be,Kc,{name:a.name})}}),j=a.label.map(function(Be){return W0(Be,M)}),W=function(Be,ht,Ut,Kt){return Ut===void 0&&(Ut=Be),Kt===void 0&&(Kt=Be),sp(Ut,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Be],attributes:ne({title:M.translate(Kt),"aria-live":"polite"},ht.fold(function(){return{}},function(ct){return{id:ct}}))},M.icons)},K=ci(W("invalid",$.some(E8),"warning")),oe=ci({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[K.asSpec()]}),se=p.getUrlPicker(a.filetype),be=ir("browser.url.event"),_e=ci({dom:{tag:"div",classes:["tox-control-wrap"]},components:[N,oe.asSpec()],behaviours:zn([Mr.config({disabled:function(){return a.disabled||M.isDisabled()}})])}),Ee=ci(WR({name:a.name,icon:$.some("browse"),text:a.label.getOr(""),disabled:a.disabled,primary:!1,borderless:!0},function(Be){return ko(Be,be)},M,[],["tox-browse-url"])),je=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Xe([[_e.asSpec()],se.map(function(){return Ee.asSpec()}).toArray()])}},ft=function(Be){So.getCurrent(Be).each(function(ht){var Ut=qn.getValue(ht),Kt=ne({fieldname:a.name},Ut);se.each(function(ct){ct(Kt).get(function(Lt){qn.setValue(ht,Lt),Ir(Be,Kc,{name:a.name})})})})};return Ko.sketch({dom:uU(),components:j.toArray().concat([je()]),fieldBehaviours:zn([Mr.config({disabled:function(){return a.disabled||M.isDisabled()},onDisabled:function(Be){Ko.getField(Be).each(Mr.disable),Ee.getOpt(Be).each(Mr.disable)},onEnabled:function(Be){Ko.getField(Be).each(Mr.enable),Ee.getOpt(Be).each(Mr.enable)}}),Bu(),po("url-input-events",[fn(be,ft)])])})},ib=function(a,c){return yl.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+a.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[vl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:XL(a.icon,c.icons),attributes:{title:c.translate(a.iconTooltip)}},action:function(p){Ir(p,xm,{name:"alert-banner",value:a.url})},buttonBehaviours:zn([B4()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:c.translate(a.text)}}]})},TE=function(a,c){var p=qn.config({store:{mode:"manual",getValue:function(W){var K=W.element.dom;return K.checked},setValue:function(W,K){var oe=W.element.dom;oe.checked=K}}}),w=function(W){return W.element.dom.click(),$.some(!0)},M=Ko.parts.field({factory:{sketch:q},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:zn([hp.self(),Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),ou.config({}),$r.config({}),p,Rr.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),po("checkbox-events",[fn($v(),function(W,K){Ir(W,Kc,{name:a.name})})])])}),A=Ko.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:c.translate(a.label)},behaviours:zn([KC.config({})])}),N=function(W){var K=W==="checked"?"selected":"unselected";return sp(K,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+W]},c.icons)},j=ci({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[N("checked"),N("unchecked")]});return Ko.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[M,j.asSpec(),A],fieldBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(W){Ko.getField(W).each(Mr.disable)},onEnabled:function(W){Ko.getField(W).each(Mr.enable)}}),Bu()])})},TG=function(a){return a.presets==="presentation"?yl.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:a.html}}):yl.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:a.html,attributes:{role:"document"}},containerBehaviours:zn([ou.config({}),$r.config({})])})},vs=function(a){return function(c,p,w){return Pt(p,"name").fold(function(){return a(p,w)},function(M){return c.field(M,a(p,w))})}},QR=function(a){return function(c,p,w){var M=Zt(p,{source:"dynamic"});return vs(a)(c,M,w)}},MG={bar:vs(function(a,c){return eU(a,c.shared)}),collection:vs(function(a,c){return XI(a,c.shared.providers)}),alertbanner:vs(function(a,c){return ib(a,c.shared.providers)}),input:vs(function(a,c){return Z$(a,c.shared.providers)}),textarea:vs(function(a,c){return Q$(a,c.shared.providers)}),label:vs(function(a,c){return G$(a,c.shared)}),iframe:QR(function(a,c){return Nq(a,c.shared.providers)}),button:vs(function(a,c){return UR(a,c.shared.providers)}),checkbox:vs(function(a,c){return TE(a,c.shared.providers)}),colorinput:vs(function(a,c){return nR(a,c.shared,c.colorinput)}),colorpicker:vs(Mq),dropzone:vs(function(a,c){return Iq(a,c.shared.providers)}),grid:vs(function(a,c){return Hz(a,c.shared)}),listbox:vs(function(a,c){return v8(a,c)}),selectbox:vs(function(a,c){return K$(a,c.shared.providers)}),sizeinput:vs(function(a,c){return $R(a,c.shared.providers)}),urlinput:vs(function(a,c){return O8(a,c,c.urlinput)}),customeditor:vs(mE),htmlpanel:vs(TG),imagetools:vs(function(a,c){return $$(a,c.shared.providers)}),table:vs(function(a,c){return J$(a,c.shared.providers)}),panel:vs(function(a,c){return X$(a,c)})},kG={field:function(a,c){return c}},eP=function(a,c,p){var w=Zt(p,{shared:{interpreter:function(M){return ME(a,M,w)}}});return ME(a,c,w)},ME=function(a,c,p){return Pt(MG,c.type).fold(function(){return console.error('Unknown factory type "'+c.type+'", defaulting to container: ',c),c},function(w){return w(a,c,p)})},DG=function(a,c){var p=kG;return ME(p,a,c)},I8={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},AG=function(a,c,p){var w=12,M={maxHeightFunction:f0()},A=function(){return{type:"node",root:Ln(a()),node:$.from(a()),bubble:tm(w,w,I8),layouts:{onRtl:function(){return[tv]},onLtr:function(){return[L1]}},overrides:M}},N=function(){return{type:"hotspot",hotspot:c(),bubble:tm(-w,w,I8),layouts:{onRtl:function(){return[Es]},onLtr:function(){return[Cu]}},overrides:M}};return function(){return p()?A():N()}},EG=function(a,c,p){var w=function(){return{type:"node",root:Ln(a()),node:$.from(a()),layouts:{onRtl:function(){return[Of]},onLtr:function(){return[Of]}}}},M=function(){return{type:"hotspot",hotspot:c(),layouts:{onRtl:function(){return[ds]},onLtr:function(){return[ds]}}}};return function(){return p()?w():M()}},OG=function(a,c){return function(){return{type:"selection",root:c(),getSelection:function(){var p=a.selection.getRng();return $.some(p0.range(He.fromDom(p.startContainer),p.startOffset,He.fromDom(p.endContainer),p.endOffset))}}}},R8=function(a){return function(c){return{type:"node",root:a(),node:c}}},IG=function(a,c,p){var w=OA(a),M=function(){return He.fromDom(a.getBody())},A=function(){return He.fromDom(a.getContentAreaContainer())},N=function(){return w||!p()};return{inlineDialog:AG(A,c,N),banner:EG(A,c,N),cursor:OG(a,M),node:R8(M)}},P8=function(a){return function(c,p){var w=SB(a);w(c,p)}},RG=function(a){return function(){return BA(a)}},PG=function(a){return function(){return BI(a)}},tP=function(a){return function(){return yB(a)}},nP=function(a){return{colorPicker:P8(a),hasCustomColors:RG(a),getColors:PG(a),getColorCols:tP(a)}},hT=function(a){return function(){return Lj(a)}},NG=function(a){return{isDraggableModal:hT(a)}},LG=function(a){var c=Er(H6(a)?"bottom":"top");return{isPositionedAtTop:function(){return c.get()==="top"},getDockingMode:c.get,setDockingMode:c.set}},N8=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],BG=function(a){return ln(a,"items")},zG=function(a){return ln(a,"block")},L8=function(a){return ln(a,"inline")},B8=function(a){return ln(a,"selector")},rP=function(a){return Ft(a,function(c,p){if(BG(p)){var w=rP(p.items);return{customFormats:c.customFormats.concat(w.customFormats),formats:c.formats.concat([{title:p.title,items:w.formats}])}}else if(L8(p)||zG(p)||B8(p)){var M=i(p.name)?p.name:p.title.toLowerCase(),A="custom-"+M;return{customFormats:c.customFormats.concat([{name:A,format:p}]),formats:c.formats.concat([{title:p.title,format:A,icon:p.icon}])}}else return ne(ne({},c),{formats:c.formats.concat(p)})},{customFormats:[],formats:[]})},FG=function(a,c){var p=rP(c),w=function(M){Fe(M,function(A){a.formatter.has(A.name)||a.formatter.register(A.name,A.format)})};return a.formatter?w(p.customFormats):a.on("init",function(){w(p.customFormats)}),p.formats},z8=function(a){return z6(a).map(function(c){var p=FG(a,c);return F6(a)?N8.concat(p):p}).getOr(N8)},F8=function(a,c,p){var w={type:"formatter",isSelected:c(a.format),getStylePreview:p(a.format)};return Zt(a,w)},V8=function(a,c,p,w){var M=function(W){return F8(W,p,w)},A=function(W){var K={type:"submenu"};return Zt(W,K)},N=function(W){var K=i(W.name)?W.name:ir(W.title),oe="custom-"+K,se={type:"formatter",format:oe,isSelected:p(oe),getStylePreview:w(oe)},be=Zt(W,se);return a.formatter.register(K,be),be},j=function(W){return Je(W,function(K){var oe=Tt(K);if(Kn(K,"items")){var se=j(K.items);return Zt(A(K),{getStyleItems:L(se)})}else return Kn(K,"format")?M(K):oe.length===1&&Ot(oe,"title")?Zt(K,{type:"separator"}):N(K)})};return j(c)},VG=function(a){var c=function(se){return function(){return a.formatter.match(se)}},p=function(se){return function(){var be=a.formatter.get(se);return be!==void 0?$.some({tag:be.length>0&&(be[0].inline||be[0].block)||"div",styles:a.dom.parseStyle(a.formatter.getCssText(se))}):$.none()}},w=function(se){var be=se.items;return be!==void 0&&be.length>0?Bt(be,w):[se.format]},M=Er([]),A=Er([]),N=Er([]),j=Er([]),W=Er(!1);a.on("PreInit",function(se){var be=z8(a),_e=V8(a,be,c,p);M.set(_e),A.set(Bt(_e,w))}),a.on("addStyleModifications",function(se){var be=V8(a,se.items,c,p);N.set(be),W.set(se.replace),j.set(Bt(be,w))});var K=function(){var se=W.get()?[]:M.get(),be=N.get();return se.concat(be)},oe=function(){var se=W.get()?[]:A.get(),be=j.get();return se.concat(be)};return{getData:K,getFlattenedKeys:oe}},H8=function(a){return b(a)&&a.nodeType===1},HG=Tm.trim,j8=function(a){return function(c){return!!(H8(c)&&(c.contentEditable===a||c.getAttribute("data-mce-contenteditable")===a))}},jG=j8("true"),WG=j8("false"),oP=function(a,c,p,w,M){return{type:a,title:c,url:p,level:w,attach:M}},ab=function(a){for(;a=a.parentNode;){var c=a.contentEditable;if(c&&c!=="inherit")return jG(a)}return!1},W8=function(a,c){return Je(Ru(He.fromDom(c),a),function(p){return p.dom})},U8=function(a){return a.innerText||a.textContent},UG=function(a){return a.id?a.id:ir("h")},qG=function(a){return a&&a.nodeName==="A"&&(a.id||a.name)!==void 0},q8=function(a){return qG(a)&&G8(a)},$8=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)},G8=function(a){return ab(a)&&!WG(a)},$G=function(a){return $8(a)&&G8(a)},GG=function(a){return $8(a)?parseInt(a.nodeName.substr(1),10):0},XG=function(a){var c=UG(a),p=function(){a.id=c};return oP("header",U8(a),"#"+c,GG(a),p)},YG=function(a){var c=a.id||a.name,p=U8(a);return oP("anchor",p||"#"+c,"#"+c,0,E)},KG=function(a){return Je(Ye(a,$G),XG)},JG=function(a){return Je(Ye(a,q8),YG)},ZG=function(a){var c=W8("h1,h2,h3,h4,h5,h6,a:not([href])",a);return c},QG=function(a){return HG(a.title).length>0},X8=function(a){var c=ZG(a);return Ye(KG(c).concat(JG(c)),QG)},eX={find:X8},kE="tinymce-url-history",Y8=5,K8=function(a){return i(a)&&/^https?/.test(a)},tX=function(a){return l(a)&&a.length<=Y8&&Mn(a,K8)},DE=function(a){return u(a)&&et(a,function(c){return!tX(c)}).isNone()},iP=function(){var a=LA.getItem(kE);if(a===null)return{};var c;try{c=JSON.parse(a)}catch(p){if(p instanceof SyntaxError)return console.log("Local storage "+kE+" was not valid JSON",p),{};throw p}return DE(c)?c:(console.log("Local storage "+kE+" was not valid format",c),{})},nX=function(a){if(!DE(a))throw new Error(`Bad format for history:
`+JSON.stringify(a));LA.setItem(kE,JSON.stringify(a))},rX=function(a){var c=iP();return Pt(c,a).getOr([])},oX=function(a,c){if(K8(a)){var p=iP(),w=Pt(p,c).getOr([]),M=Ye(w,function(A){return A!==a});p[c]=[a].concat(M).slice(0,Y8),nX(p)}},aP=function(a){return!!a},iX=function(a){return bn(Tm.makeMap(a,/[, ]/),aP)},uP=function(a){return $.from(W6(a)).filter(S)},aX=function(a){var c=$.some(U6(a)).filter(aP),p=$.some(Fj(a)).filter(aP),w=c.or(p).map(iX);return uP(a).fold(ie,function(M){return w.fold(le,function(A){return Tt(A).length>0?A:!1})})},uX=function(a,c){var p=aX(a);return h(p)?p?uP(a):$.none():p[c]?uP(a):$.none()},sX=function(a,c){return uX(a,c).map(function(p){return function(w){return Is.nu(function(M){var A=function(j,W){if(!i(j))throw new Error("Expected value to be string");if(W!==void 0&&!u(W))throw new Error("Expected meta to be a object");var K={value:j,meta:W};M(K)},N=ne({filetype:c,fieldname:w.fieldname},$.from(w.meta).getOr({}));p.call(a,A,w.value,N)})}})},pT=function(a){return $.from(a).filter(i).getOrUndefined()},lX=function(a){return q6(a)?$.none():$.some({targets:eX.find(a.getBody()),anchorTop:pT(Vj(a)),anchorBottom:pT(Hj(a))})},cX=function(a){return $.from(jj(a))},J8=function(a){return{getHistory:rX,addToHistory:oX,getLinkInformation:function(){return lX(a)},getValidationHandler:function(){return cX(a)},getUrlPicker:function(c){return sX(a,c)}}},ub=function(a,c,p){var w=Er(!1),M=LG(c),A={shared:{providers:{icons:function(){return c.ui.registry.getAll().icons},menuItems:function(){return c.ui.registry.getAll().menuItems},translate:If.translate,isDisabled:function(){return c.mode.isReadOnly()||c.ui.isDisabled()},getSetting:c.getParam.bind(c)},interpreter:function(N){return DG(N,A)},anchors:IG(c,p,M.isPositionedAtTop),header:M,getSink:function(){return fo.value(a)}},urlinput:J8(c),styleselect:VG(c),colorinput:nP(c),dialog:NG(c),isContextMenuOpen:function(){return w.get()},setContextMenuState:function(N){return w.set(N)}};return A},fX=function(a,c,p){var w=function(Kt,ct){Fe([c,p],function(Lt){Lt.broadcastEvent(Kt,ct)})},M=function(Kt,ct){Fe([c,p],function(Lt){Lt.broadcastOn([Kt],ct)})},A=function(Kt){return M(zg(),{target:Kt.target})},N=Tx(),j=Ka(N,"touchstart",A),W=Ka(N,"touchmove",function(Kt){return w(ex(),Kt)}),K=Ka(N,"touchend",function(Kt){return w(N5(),Kt)}),oe=Ka(N,"mousedown",A),se=Ka(N,"mouseup",function(Kt){Kt.raw.button===0&&M(ic(),{target:Kt.target})}),be=function(Kt){return M(zg(),{target:He.fromDom(Kt.target)})},_e=function(Kt){Kt.button===0&&M(ic(),{target:He.fromDom(Kt.target)})},Ee=function(){Fe(a.editorManager.get(),function(Kt){a!==Kt&&Kt.fire("DismissPopups",{relatedTarget:a})})},je=function(Kt){return w(T_(),l0(Kt))},ft=function(Kt){M(v0(),{}),w(Mc(),l0(Kt))},Be=function(){return M(v0(),{})},ht=function(Kt){Kt.state&&M(zg(),{target:He.fromDom(a.getContainer())})},Ut=function(Kt){M(zg(),{target:He.fromDom(Kt.relatedTarget.getContainer())})};a.on("PostRender",function(){a.on("click",be),a.on("tap",be),a.on("mouseup",_e),a.on("mousedown",Ee),a.on("ScrollWindow",je),a.on("ResizeWindow",ft),a.on("ResizeEditor",Be),a.on("AfterProgressState",ht),a.on("DismissPopups",Ut)}),a.on("remove",function(){a.off("click",be),a.off("tap",be),a.off("mouseup",_e),a.off("mousedown",Ee),a.off("ScrollWindow",je),a.off("ResizeWindow",ft),a.off("ResizeEditor",Be),a.off("AfterProgressState",ht),a.off("DismissPopups",Ut),oe.unbind(),j.unbind(),W.unbind(),K.unbind(),se.unbind()}),a.on("detach",function(){ew(c),ew(p),c.destroy(),p.destroy()})},Nl=vD,Mm=lm,dX=L([dt("shell",!1),on("makeItem"),dt("setupItem",E),$c.field("listBehaviours",[Qr])]),hX=function(){return{behaviours:zn([Qr.config({})])}},pX=Af({name:"items",overrides:hX}),mX=L([pX]),gX=L("CustomList"),sb=function(a,c,p,w){var M=function(j,W){N(j).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(K){var oe=Qr.contents(K),se=W.length,be=se-oe.length,_e=be>0?fe(be,function(){return a.makeItem()}):[],Ee=oe.slice(se);Fe(Ee,function(ft){return Qr.remove(K,ft)}),Fe(_e,function(ft){return Qr.append(K,ft)});var je=Qr.contents(K);Fe(je,function(ft,Be){a.setupItem(j,ft,W[Be],Be)})})},A=a.shell?{behaviours:[Qr.config({})],components:[]}:{behaviours:[],components:c},N=function(j){return a.shell?$.some(j):Ti(j,a,"items")};return{uid:a.uid,dom:a.dom,components:A.components,behaviours:Nu(a.listBehaviours,A.behaviours),apis:{setItems:M}}},sP=ml({name:gX(),configFields:dX(),partFields:mX(),factory:sb,apis:{setItems:function(a,c,p){a.setItems(c,p)}}}),a2=L([on("dom"),dt("shell",!0),Pu("toolbarBehaviours",[Qr])]),vX=function(){return{behaviours:zn([Qr.config({})])}},yX=L([Af({name:"groups",overrides:vX})]),bX=function(a,c,p,w){var M=function(j,W){A(j).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(K){Qr.set(K,W)})},A=function(j){return a.shell?$.some(j):Ti(j,a,"groups")},N=a.shell?{behaviours:[Qr.config({})],components:[]}:{behaviours:[],components:c};return{uid:a.uid,dom:a.dom,components:N.components,behaviours:Nu(a.toolbarBehaviours,N.behaviours),apis:{setGroups:M},domModification:{attributes:{role:"group"}}}},pp=ml({name:"Toolbar",configFields:a2(),partFields:yX(),factory:bX,apis:{setGroups:function(a,c,p){a.setGroups(c,p)}}}),xX=E,lP=ie,u2=L([]),AE=Object.freeze({__proto__:null,setup:xX,isDocked:lP,getBehaviours:u2}),mT=function(a){var c=Br(eu(a,"position"),"fixed"),p=c?$.none():Tl(a);return p.orThunk(function(){var w=He.fromTag("span");return sa(a).bind(function(M){Ts(M,w);var A=Tl(w);return Ml(w),A})})},Y0=function(a){return mT(a).map(ol).getOrThunk(function(){return Oi(0,0)})},s2=Cc.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),wX=function(a,c){var p=a.element;Xu(p,c.transitionClass),pu(p,c.fadeOutClass),Xu(p,c.fadeInClass),c.onShow(a)},Z8=function(a,c){var p=a.element;Xu(p,c.transitionClass),pu(p,c.fadeInClass),Xu(p,c.fadeOutClass),c.onHide(a)},Q8=function(a,c){return a.y<c.bottom&&a.bottom>c.y},e7=function(a,c){return a.y>=c.y},_X=function(a,c){return a.bottom<=c.bottom},cP=function(a,c,p){return Mn(a,function(w){switch(w){case"bottom":return _X(c,p);case"top":return e7(c,p)}})},t7=function(a,c){return c.getInitialPos().map(function(p){return _u(p.bounds.x,p.bounds.y,Cs(a),fu(a))})},SX=function(a,c,p){p.setInitialPos({style:Eh(a),position:ka(a,"position")||"static",bounds:c})},n7=function(a,c,p){return p.getInitialPos().bind(function(w){switch(p.clearInitialPos(),w.position){case"static":return $.some(s2.static());case"absolute":var M=mT(a).map(tu).getOrThunk(function(){return tu(li())});return $.some(s2.absolute(Mu("absolute",Pt(w.style,"left").map(function(A){return c.x-M.x}),Pt(w.style,"top").map(function(A){return c.y-M.y}),Pt(w.style,"right").map(function(A){return M.right-c.right}),Pt(w.style,"bottom").map(function(A){return M.bottom-c.bottom}))));default:return $.none()}})},fP=function(a,c,p){return t7(a,p).filter(function(w){return cP(p.getModes(),w,c)}).bind(function(w){return n7(a,w,p)})},dP=function(a,c,p){var w=tu(a);if(cP(p.getModes(),w,c))return $.none();SX(a,w,p);var M=us(),A=w.x-M.x,N=c.y-M.y,j=M.bottom-c.bottom,W=w.y<=c.y;return $.some(s2.fixed(Mu("fixed",$.some(A),W?$.some(N):$.none(),$.none(),W?$.none():$.some(j))))},CX=function(a,c,p){var w=a.element,M=Br(eu(w,"position"),"fixed");return M?fP(w,c,p):dP(w,c,p)},r7=function(a,c){var p=a.element;return t7(p,c).bind(function(w){return n7(p,w,c)})},o7=function(a,c,p){p.setDocked(!1),Fe(["left","right","top","bottom","position"],function(w){return ri(a.element,w)}),c.onUndocked(a)},EE=function(a,c,p,w){var M=w.position==="fixed";p.setDocked(M),Wt(a.element,w);var A=M?c.onDocked:c.onUndocked;A(a)},i7=function(a,c,p,w,M){M===void 0&&(M=!1),c.contextual.each(function(A){A.lazyContext(a).each(function(N){var j=Q8(N,w);if(j!==p.isVisible())if(p.setVisible(j),M&&!j)Yh(a.element,[A.fadeOutClass]),A.onHide(a);else{var W=j?wX:Z8;W(a,A)}})})},TX=function(a,c,p){var w=c.lazyViewport(a),M=p.isDocked();M&&i7(a,c,p,w),CX(a,w,p).each(function(A){A.fold(function(){return o7(a,c,p)},function(N){return EE(a,c,p,N)},function(N){i7(a,c,p,w,!0),EE(a,c,p,N)})})},lb=function(a,c,p){var w=a.element;p.setDocked(!1),r7(a,p).each(function(M){M.fold(function(){return o7(a,c,p)},function(A){return EE(a,c,p,A)},E)}),p.setVisible(!0),c.contextual.each(function(M){Gd(w,[M.fadeInClass,M.fadeOutClass,M.transitionClass]),M.onShow(a)}),OE(a,c,p)},OE=function(a,c,p){a.getSystem().isConnected()&&TX(a,c,p)},a7=function(a,c,p){p.isDocked()&&lb(a,c,p)},u7=function(a,c,p){return p.isDocked()},MX=function(a,c,p,w){return p.setModes(w)},IE=function(a,c,p){return p.getModes()},fh=Object.freeze({__proto__:null,refresh:OE,reset:a7,isDocked:u7,getModes:IE,setModes:MX}),kX=function(a,c){return Gi([Gh(Xv(),function(p,w){a.contextual.each(function(M){if(cl(p.element,M.transitionClass)){Gd(p.element,[M.transitionClass,M.fadeInClass]);var A=c.isVisible()?M.onShown:M.onHidden;A(p)}w.stop()})}),fn(T_(),function(p,w){OE(p,a,c)}),fn(Mc(),function(p,w){a7(p,a,c)})])},km=Object.freeze({__proto__:null,events:kX}),DX=[Jl("contextual",[Yr("fadeInClass"),Yr("fadeOutClass"),Yr("transitionClass"),Ws("lazyContext"),_o("onShow"),_o("onShown"),_o("onHide"),_o("onHidden")]),$i("lazyViewport",us),jh("modes",["top","bottom"],Ga),_o("onDocked"),_o("onUndocked")],AX=function(a){var c=Er(!1),p=Er(!0),w=za(),M=Er(a.modes),A=function(){return"docked:  "+c.get()+", visible: "+p.get()+", modes: "+M.get().join(",")};return Gu({isDocked:c.get,setDocked:c.set,getInitialPos:w.get,setInitialPos:w.set,clearInitialPos:w.clear,isVisible:p.get,setVisible:p.set,getModes:M.get,setModes:M.set,readState:A})},s7=Object.freeze({__proto__:null,init:AX}),Rs=Ya({fields:DX,name:"docking",active:km,apis:fh,state:s7}),Dm=L(ir("toolbar-height-change")),ku={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},l7="tox-tinymce--toolbar-sticky-on",hP="tox-tinymce--toolbar-sticky-off",c7=function(a,c){var p=ua(c),w=p.dom.defaultView.innerHeight,M=Xl(p),A=He.fromDom(a.elm),N=Fd(A),j=fu(A),W=N.y,K=W+j,oe=ol(c),se=fu(c),be=oe.top,_e=be+se,Ee=Math.abs(be-M.top)<2,je=Math.abs(_e-(M.top+w))<2;if(Ee&&W<_e)Rv(M.left,W-se,p);else if(je&&K>be){var ft=W-w+j+se;Rv(M.left,ft,p)}},RE=function(a,c){return Ot(Rs.getModes(a),c)},pP=function(a){var c=function(w){return Gl(w)+(parseInt(ka(w,"margin-top"),10)||0)+(parseInt(ka(w,"margin-bottom"),10)||0)},p=a.element;sa(p).each(function(w){var M="padding-"+Rs.getModes(a)[0];if(Rs.isDocked(a)){var A=Cs(w);Ur(p,"width",A+"px"),Ur(w,M,c(p)+"px")}else ri(p,"width"),ri(w,M)})},f7=function(a,c){c?(pu(a,ku.fadeOutClass),Yh(a,[ku.transitionClass,ku.fadeInClass])):(pu(a,ku.fadeInClass),Yh(a,[ku.fadeOutClass,ku.transitionClass]))},lv=function(a,c){var p=He.fromDom(a.getContainer());c?(Xu(p,l7),pu(p,hP)):(Xu(p,hP),pu(p,l7))},d7=function(a,c){var p=ua(c);rc(p).filter(function(w){return!si(c,w)}).filter(function(w){return si(w,He.fromDom(p.dom.body))||Ss(a,w)}).each(function(){return Kd(c)})},l2=function(a,c){return Tf(a).orThunk(function(){return c().toOptional().bind(function(p){return Tf(p.element)})})},PE=function(a,c,p){a.inline||(c.header.isPositionedAtTop()||a.on("ResizeEditor",function(){p().each(Rs.reset)}),a.on("ResizeWindow ResizeEditor",function(){p().each(pP)}),a.on("SkinLoaded",function(){p().each(function(w){Rs.isDocked(w)?Rs.reset(w):Rs.refresh(w)})}),a.on("FullscreenStateChanged",function(){p().each(Rs.reset)})),a.on("AfterScrollIntoView",function(w){p().each(function(M){Rs.refresh(M);var A=M.element;BD(A)&&c7(w,A)})}),a.on("PostRender",function(){lv(a,!1)})},h7=function(a){return a().map(Rs.isDocked).getOr(!1)},EX=function(){var a;return[nc.config({channels:(a={},a[Dm()]={onReceive:pP},a)})]},p7=function(a,c){var p=za(),w=c.getSink,M=function(j){w().each(function(W){return j(W.element)})},A=function(j){a.inline||pP(j),lv(a,Rs.isDocked(j)),j.getSystem().broadcastOn([v0()],{}),w().each(function(W){return W.getSystem().broadcastOn([v0()],{})})},N=a.inline?[]:EX();return Ce([$r.config({}),Rs.config({contextual:ne({lazyContext:function(j){var W=Gl(j.element),K=a.inline?a.getContentAreaContainer():a.getContainer(),oe=tu(He.fromDom(K)),se=oe.height-W,be=oe.y+(RE(j,"top")?0:W);return $.some(_u(oe.x,be,oe.width,se))},onShow:function(){M(function(j){return f7(j,!0)})},onShown:function(j){M(function(W){return Gd(W,[ku.transitionClass,ku.fadeInClass])}),p.get().each(function(W){d7(j.element,W),p.clear()})},onHide:function(j){l2(j.element,w).fold(p.clear,p.set),M(function(W){return f7(W,!1)})},onHidden:function(){M(function(j){return Gd(j,[ku.transitionClass])})}},ku),lazyViewport:function(j){var W=us(),K=Nj(a),oe=W.y+(RE(j,"top")?K:0),se=W.height-(RE(j,"bottom")?K:0);return _u(W.x,oe,W.width,se)},modes:[c.header.getDockingMode()],onDocked:A,onUndocked:A})],N,!0)},OX=Object.freeze({__proto__:null,setup:PE,isDocked:h7,getBehaviours:p7}),IX=function(a){var c=a.editor,p=a.sticky?p7:u2;return{uid:a.uid,dom:a.dom,components:a.components,behaviours:zn(p(c,a.sharedBackstage))}},c2=Sr([Yr("type"),Al("items",Oy([d_([Yr("name"),Ds("items",Ga)]),Ga]))].concat(z1)),RX=function(a){return _a("GroupToolbarButton",c2,a)},PX=[qi("text"),qi("tooltip"),qi("icon"),Ws("fetch"),$i("onSetup",function(){return E})],NX=Sr(Ce([Yr("type")],PX,!0)),m7=function(a){return _a("menubutton",NX,a)},LX=Sr([Yr("type"),qi("tooltip"),qi("icon"),qi("text"),Np("select"),Ws("fetch"),$i("onSetup",function(){return E}),Sc("presets","normal",["normal","color","listpreview"]),dt("columns",1),Ws("onAction"),Ws("onItemAction")]),NE=function(a){return _a("SplitButton",LX,a)},BX=function(a,c){var p=function(M,A){var N=Je(A,function(j){var W={type:"menubutton",text:j.text,fetch:function(oe){oe(j.getItems())}},K=m7(W).mapError(function(oe){return Pp(oe)}).getOrDie();return HR(K,"tox-mbtn",c.backstage,$.some("menuitem"))});Qr.set(M,N)},w={focus:Rr.focusIn,setMenus:p};return{uid:a.uid,dom:a.dom,components:[],behaviours:zn([Qr.config({}),po("menubar-events",[ha(function(M){a.onSetup(M)}),fn(Uh(),function(M,A){mu(M.element,".tox-mbtn--active").each(function(N){qs(A.event.target,".tox-mbtn").each(function(j){si(N,j)||M.getSystem().getByDom(N).each(function(W){M.getSystem().getByDom(j).each(function(K){bd.expand(K),bd.close(W),$r.focus(K)})})})})}),fn(tx(),function(M,A){A.event.prevFocus.bind(function(N){return M.getSystem().getByDom(N).toOptional()}).each(function(N){A.event.newFocus.bind(function(j){return M.getSystem().getByDom(j).toOptional()}).each(function(j){bd.isOpen(N)&&(bd.expand(j),bd.close(N))})})})]),Rr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(M){return a.onEscape(M),$.some(!0)}}),ou.config({})]),apis:w,domModification:{attributes:{role:"menubar"}}}},LE=ac({factory:BX,name:"silver.Menubar",configFields:[on("dom"),on("uid"),on("onEscape"),on("backstage"),dt("onSetup",E)],apis:{focus:function(a,c){a.focus(c)},setMenus:function(a,c,p){a.setMenus(c,p)}}}),cb=function(a,c){return c.getAnimationRoot.fold(function(){return a.element},function(p){return p(a)})},cv=function(a){return a.dimension.property},fv=function(a,c){return a.dimension.getDimension(c)},f2=function(a,c){var p=cb(a,c);Gd(p,[c.shrinkingClass,c.growingClass])},dv=function(a,c){pu(a.element,c.openClass),Xu(a.element,c.closedClass),Ur(a.element,cv(c),"0px"),Ji(a.element)},g7=function(a,c){pu(a.element,c.closedClass),Xu(a.element,c.openClass),ri(a.element,cv(c))},v7=function(a,c,p,w){p.setCollapsed(),Ur(a.element,cv(c),fv(c,a.element)),Ji(a.element),f2(a,c),dv(a,c),c.onStartShrink(a),c.onShrunk(a)},mP=function(a,c,p,w){var M=w.getOrThunk(function(){return fv(c,a.element)});p.setCollapsed(),Ur(a.element,cv(c),M),Ji(a.element);var A=cb(a,c);pu(A,c.growingClass),Xu(A,c.shrinkingClass),dv(a,c),c.onStartShrink(a)},y7=function(a,c,p){var w=fv(c,a.element),M=w==="0px"?v7:mP;M(a,c,p,$.some(w))},gT=function(a,c,p){var w=cb(a,c),M=cl(w,c.shrinkingClass),A=fv(c,a.element);g7(a,c);var N=fv(c,a.element),j=function(){Ur(a.element,cv(c),A),Ji(a.element)},W=function(){dv(a,c)},K=M?j:W;K(),pu(w,c.shrinkingClass),Xu(w,c.growingClass),g7(a,c),Ur(a.element,cv(c),N),p.setExpanded(),c.onStartGrow(a)},b7=function(a,c,p){if(p.isExpanded()){ri(a.element,cv(c));var w=fv(c,a.element);Ur(a.element,cv(c),w)}},zX=function(a,c,p){p.isExpanded()||gT(a,c,p)},FX=function(a,c,p){p.isExpanded()&&y7(a,c,p)},vT=function(a,c,p){p.isExpanded()&&v7(a,c,p)},gP=function(a,c,p){return p.isExpanded()},VX=function(a,c,p){return p.isCollapsed()},x7=function(a,c,p){var w=cb(a,c);return cl(w,c.growingClass)===!0},vP=function(a,c,p){var w=cb(a,c);return cl(w,c.shrinkingClass)===!0},HX=function(a,c,p){return x7(a,c)||vP(a,c)},jX=function(a,c,p){var w=p.isExpanded()?y7:gT;w(a,c,p)},o=Object.freeze({__proto__:null,refresh:b7,grow:zX,shrink:FX,immediateShrink:vT,hasGrown:gP,hasShrunk:VX,isGrowing:x7,isShrinking:vP,isTransitioning:HX,toggleGrow:jX,disableTransitions:f2}),s=function(a,c,p){var w=c.expanded;return ud(w?{classes:[c.openClass],styles:{}}:{classes:[c.closedClass],styles:jd(c.dimension.property,"0px")})},d=function(a,c){return Gi([Gh(Xv(),function(p,w){var M=w.event.raw;if(M.propertyName===a.dimension.property){f2(p,a),c.isExpanded()&&ri(p.element,a.dimension.property);var A=c.isExpanded()?a.onGrown:a.onShrunk;A(p)}})])},m=Object.freeze({__proto__:null,exhibit:s,events:d}),x=[on("closedClass"),on("openClass"),on("shrinkingClass"),on("growingClass"),oi("getAnimationRoot"),_o("onShrunk"),_o("onStartShrink"),_o("onGrown"),_o("onStartGrow"),dt("expanded",!1),Al("dimension",Lc("property",{width:[Ci("property","width"),Ci("getDimension",function(a){return Cs(a)+"px"})],height:[Ci("property","height"),Ci("getDimension",function(a){return fu(a)+"px"})]}))],T=function(a){var c=Er(a.expanded),p=function(){return"expanded: "+c.get()};return Gu({isExpanded:function(){return c.get()===!0},isCollapsed:function(){return c.get()===!1},setCollapsed:Y(c.set,!1),setExpanded:Y(c.set,!0),readState:p})},O=Object.freeze({__proto__:null,init:T}),B=Ya({fields:x,name:"sliding",active:m,apis:o,state:O}),H="container",Q=[Pu("slotBehaviours",[])],pe=function(a){return"<alloy.field."+a+">"},ge=function(a){var c=function(){var A=[],N=function(j,W){return A.push(j),VS(H,pe(j),W)};return{slot:N,record:L(A)}}(),p=a(c),w=c.record(),M=Je(w,function(A){return Qu({name:A,pname:pe(A)})});return $S(H,Q,M,ve,p)},ve=function(a,c){var p=function(je){return US(a)},w=function(je,ft){return Ti(je,a,ft)},M=function(je,ft){return function(Be,ht){return Ti(Be,a,ht).map(function(Ut){return je(Ut,ht)}).getOr(ft)}},A=function(je){return function(ft,Be){Fe(Be,function(ht){return je(ft,ht)})}},N=function(je,ft){return la(je.element,"aria-hidden")!=="true"},j=function(je,ft){if(!N(je)){var Be=je.element;ri(Be,"display"),Wu(Be,"aria-hidden"),Ir(je,qh(),{name:ft,visible:!0})}},W=function(je,ft){if(N(je)){var Be=je.element;Ur(Be,"display","none"),so(Be,"aria-hidden","true"),Ir(je,qh(),{name:ft,visible:!1})}},K=M(N,!1),oe=M(W),se=A(oe),be=function(je){return se(je,p())},_e=M(j),Ee={getSlotNames:p,getSlot:w,isShowing:K,hideSlot:oe,hideAllSlots:be,showSlot:_e};return{uid:a.uid,dom:a.dom,components:c,behaviours:Vg(a.slotBehaviours),apis:Ee}},Ae=bn({getSlotNames:function(a,c){return a.getSlotNames(c)},getSlot:function(a,c,p){return a.getSlot(c,p)},isShowing:function(a,c,p){return a.isShowing(c,p)},hideSlot:function(a,c,p){return a.hideSlot(c,p)},hideAllSlots:function(a,c){return a.hideAllSlots(c)},showSlot:function(a,c,p){return a.showSlot(c,p)}},function(a){return gg(a)}),De=ne(ne({},Ae),{sketch:ge}),Ie=Sr([qi("icon"),qi("tooltip"),$i("onShow",E),$i("onHide",E),$i("onSetup",function(){return E})]),Ne=function(a){return _a("sidebar",Ie,a)},Ke=function(a){var c=a.ui.registry.getAll().sidebars;Fe(Tt(c),function(p){var w=c[p],M=function(){return Br($.from(a.queryCommandValue("ToggleSidebar")),p)};a.ui.registry.addToggleButton(p,{icon:w.icon,tooltip:w.tooltip,onAction:function(A){a.execCommand("ToggleSidebar",!1,p),A.setActive(M())},onSetup:function(A){var N=function(){return A.setActive(M())};return a.on("ToggleSidebar",N),function(){a.off("ToggleSidebar",N)}}})})},Ge=function(a){return{element:function(){return a.element.dom}}},at=function(a,c){var p=Je(Tt(c),function(w){var M=c[w],A=vf(Ne(M));return{name:w,getApi:Ge,onSetup:A.onSetup,onShow:A.onShow,onHide:A.onHide}});return Je(p,function(w){var M=Er(E);return a.slot(w.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:AA.unnamedEvents([LC(w,M),BC(w,M),fn(qh(),function(A,N){var j=N.event,W=Rt(p,function(K){return K.name===j.name});W.each(function(K){var oe=j.visible?K.onShow:K.onHide;oe(K.getApi(A))})})])})})},bt=function(a){return De.sketch(function(c){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:at(c,a),slotBehaviours:AA.unnamedEvents([ha(function(p){return De.hideAllSlots(p)})])}})},nt=function(a,c){var p=So.getCurrent(a);p.each(function(w){return Qr.set(w,[bt(c)])})},Mt=function(a,c){var p=So.getCurrent(a);p.each(function(w){var M=So.getCurrent(w);M.each(function(A){B.hasGrown(w)?De.isShowing(A,c)?B.shrink(w):(De.hideAllSlots(A),De.showSlot(A,c)):(De.hideAllSlots(A),De.showSlot(A,c),B.grow(w))})})},Yt=function(a){var c=So.getCurrent(a);return c.bind(function(p){var w=B.isGrowing(p)||B.hasGrown(p);if(w){var M=So.getCurrent(p);return M.bind(function(A){return Rt(De.getSlotNames(A),function(N){return De.isShowing(A,N)})})}else return $.none()})},Sn=ir("FixSizeEvent"),Dr=ir("AutoSizeEvent"),Qn=function(a){return{uid:a.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:zn([ou.config({}),$r.config({}),B.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(c){var p=So.getCurrent(c);p.each(De.hideAllSlots),ko(c,Dr)},onGrown:function(c){ko(c,Dr)},onStartGrow:function(c){Ir(c,Sn,{width:eu(c.element,"width").getOr("")})},onStartShrink:function(c){Ir(c,Sn,{width:Cs(c.element)+"px"})}}),Qr.config({}),So.config({find:function(c){var p=Qr.contents(c);return gn(p)}})])}],behaviours:zn([hp.childAt(0),po("sidebar-sliding-events",[fn(Sn,function(c,p){Ur(c.element,"width",p.event.width)}),fn(Dr,function(c,p){ri(c.element,"width")})])])}},pn=function(a,c,p,w){so(a.element,"aria-busy",!0);var M=c.getRoot(a).getOr(a),A=zn([Rr.config({mode:"special",onTab:function(){return $.some(!0)},onShiftTab:function(){return $.some(!0)}}),$r.config({})]),N=w(M,A),j=M.getSystem().build(N);Qr.append(M,Dc(j)),j.hasConfigured(Rr)&&c.focus&&Rr.focusIn(j),p.isBlocked()||c.onBlock(a),p.blockWith(function(){return Qr.remove(M,j)})},jr=function(a,c,p){Wu(a.element,"aria-busy"),p.isBlocked()&&c.onUnblock(a),p.clear()},An=Object.freeze({__proto__:null,block:pn,unblock:jr}),Jn=[$i("getRoot",$.none),Ri("focus",!0),_o("onBlock"),_o("onUnblock")],Dn=function(){var a=Ix(),c=function(p){a.set({destroy:p})};return Gu({readState:a.isSet,blockWith:c,clear:a.clear,isBlocked:a.isSet})},Hn=Object.freeze({__proto__:null,init:Dn}),rr=Ya({fields:Jn,name:"blocking",apis:An,state:Hn}),xn=function(a){var c=a.dom.attributes!==void 0?a.dom.attributes:[];return Ft(c,function(p,w){var M;return w.name==="class"?p:ne(ne({},p),(M={},M[w.name]=w.value,M))},{})},ar=function(a){return Array.prototype.slice.call(a.dom.classList,0)},oo=function(a){var c=He.fromHtml(a),p=U(c),w=xn(c),M=ar(c),A=p.length===0?{}:{innerHtml:Ol(c)};return ne({tag:qe(c),classes:M,attributes:w},A)},xi=function(a){return function(c,p){return{dom:{tag:"div",attributes:{"aria-label":a.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:oo('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Wo=function(a){return So.getCurrent(a).each(function(c){return Kd(c.element)})},gu=function(a,c){var p="tabindex",w="data-mce-"+p;$.from(a.iframeElement).map(He.fromDom).each(function(M){c?(wa(M,p).each(function(A){return so(M,w,A)}),so(M,p,-1)):(Wu(M,p),wa(M,w).each(function(A){so(M,p,A),Wu(M,w)}))})},Du=function(a,c,p,w){var M=c.element;if(gu(a,p),p)rr.block(c,xi(w)),ri(M,"display"),Wu(M,"aria-hidden"),a.hasFocus()&&Wo(c);else{var A=So.getCurrent(c).exists(function(N){return Mx(N.element)});rr.unblock(c),Ur(M,"display","none"),so(M,"aria-hidden","true"),A&&a.focus()}},Oc=function(a){return{uid:a.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:zn([Qr.config({}),rr.config({focus:!1}),So.config({find:function(c){return gn(c.components())}})]),components:[]}},ef=function(a){return a.type==="focusin"},yn=function(a){if(ef(a)){var c=a.composed?gn(a.composedPath()):$.from(a.target);return c.map(He.fromDom).filter(he).exists(function(p){return cl(p,"mce-pastebin")})}else return!1},zt=function(a,c,p){var w=Er(!1),M=za(),A=function(j){w.get()&&!yn(j)&&(j.preventDefault(),Wo(c()),a.editorManager.setActive(a))};a.inline||a.on("PreInit",function(){a.dom.bind(a.getWin(),"focusin",A),a.on("BeforeExecCommand",function(j){j.command.toLowerCase()==="mcefocus"&&j.value!==!0&&A(j)})});var N=function(j){j!==w.get()&&(w.set(j),Du(a,c(),j,p.providers),a.fire("AfterProgressState",{state:j}))};a.on("ProgressState",function(j){if(M.on(rv.clearTimeout),_(j.time)){var W=rv.setEditorTimeout(a,function(){return N(j.state)},j.time);M.set(W)}else N(j.state),M.clear()})},Cn=function(a,c){var p={len:0,list:[]},w=Ft(a,function(M,A){var N=c(A,M.len);return N.fold(L(M),function(j){return{len:j.finish,list:M.list.concat([j])}})},p);return w.list},Vt=function(a,c,p){return{within:a,extra:c,withinWidth:p}},fr=function(a,c,p){var w=Cn(a,function(j,W){var K=p(j);return $.some({element:j,start:W,finish:W+K,width:K})}),M=Ye(w,function(j){return j.finish<=c}),A=st(M,function(j,W){return j+W.width},0),N=w.slice(M.length);return{within:M,extra:N,withinWidth:A}},Fn=function(a){return Je(a,function(c){return c.element})},Fr=function(a,c,p){var w=Fn(a.concat(c));return Vt(w,[],p)},Do=function(a,c,p,w){var M=Fn(a).concat([p]);return Vt(M,Fn(c),w)},ma=function(a,c,p){return Vt(Fn(a),[],p)},Ll=function(a,c,p){var w=fr(c,a,p);return w.extra.length===0?$.some(w):$.none()},cc=function(a,c,p,w){var M=Ll(a,c,p).getOrThunk(function(){return fr(c,a-p(w),p)}),A=M.within,N=M.extra,j=M.withinWidth;return N.length===1&&N[0].width<=p(w)?Fr(A,N,j):N.length>=1?Do(A,N,w,j):ma(A,N,j)},_d=function(a,c){var p=Je(c,function(w){return Dc(w)});pp.setGroups(a,p)},Bl=function(a){return vt(a,function(c){return Tf(c.element).bind(function(p){return c.getSystem().getByDom(p).toOptional()})})},zl=function(a,c,p){var w=c.builtGroups.get();if(w.length!==0){var M=nh(a,c,"primary"),A=iu.getCoupled(a,"overflowGroup");Ur(M.element,"visibility","hidden");var N=w.concat([A]),j=Bl(N);p([]),_d(M,N);var W=Cs(M.element),K=cc(W,c.builtGroups.get(),function(oe){return Cs(oe.element)},A);K.extra.length===0?(Qr.remove(M,A),p([])):(_d(M,K.within),p(K.extra)),ri(M.element,"visibility"),Ji(M.element),j.each($r.focus)}},zu=L([Pu("splitToolbarBehaviours",[iu]),ul("builtGroups",function(){return Er([])})]),hv=L([Sg(["overflowToggledClass"]),Np("getOverflowBounds"),on("lazySink"),ul("overflowGroups",function(){return Er([])})].concat(zu())),Ps=L([Qu({factory:pp,schema:a2(),name:"primary"}),Ec({schema:a2(),name:"overflow"}),Ec({name:"overflow-button"}),Ec({name:"overflow-group"})]),Sd=L(function(a,c){as(a,Math.floor(c))}),Am=L([Sg(["toggledClass"]),on("lazySink"),Ws("fetch"),Np("getBounds"),Jl("fireDismissalEventInstead",[dt("event",wf())]),nm()]),Ea=L([Ec({name:"button",overrides:function(a){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:zn([zo.config({toggleClass:a.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Ec({factory:pp,schema:a2(),name:"toolbar",overrides:function(a){return{toolbarBehaviours:zn([Rr.config({mode:"cyclic",onEscape:function(c){return Ti(c,a,"button").each($r.focus),$.none()}})])}}})]),Zi=function(a,c){var p=iu.getCoupled(a,"toolbarSandbox");Lo.isOpen(p)?Lo.close(p):Lo.open(p,c.toolbar())},Au=function(a,c,p,w){var M=p.getBounds.map(function(N){return N()}),A=p.lazySink(a).getOrDie();hl.positionWithinBounds(A,c,{anchor:{type:"hotspot",hotspot:a,layouts:w,overrides:{maxWidthFunction:Sd()}}},M)},dh=function(a,c,p,w,M){pp.setGroups(c,M),Au(a,c,p,w),zo.on(a)},Em=function(a,c,p){var w=ik(),M=function(N,j){p.fetch().get(function(W){dh(a,j,p,c.layouts,W),w.link(a.element),Rr.focusIn(j)})},A=function(){zo.off(a),$r.focus(a),w.unlink(a.element)};return{dom:{tag:"div",attributes:{id:w.id}},behaviours:zn([Rr.config({mode:"special",onEscape:function(N){return Lo.close(N),$.some(!0)}}),Lo.config({onOpen:M,onClose:A,isPartOf:function(N,j,W){return yg(j,W)||yg(a,W)},getAttachPoint:function(){return p.lazySink(a).getOrDie()}}),nc.config({channels:ne(ne({},um(ne({isExtraPart:ie},p.fireDismissalEventInstead.map(function(N){return{fireEventInstead:{event:N.event}}}).getOr({})))),o1({doReposition:function(){Lo.getState(iu.getCoupled(a,"toolbarSandbox")).each(function(N){Au(a,N,p,c.layouts)})}}))})])}},hh=function(a,c,p,w){return ne(ne({},vl.sketch(ne(ne({},w.button()),{action:function(M){Zi(M,w)},buttonBehaviours:$c.augment({dump:w.button().buttonBehaviours},[iu.config({others:{toolbarSandbox:function(M){return Em(M,p,a)}}})])}))),{apis:{setGroups:function(M,A){Lo.getState(iu.getCoupled(M,"toolbarSandbox")).each(function(N){dh(M,N,a,p.layouts,A)})},reposition:function(M){Lo.getState(iu.getCoupled(M,"toolbarSandbox")).each(function(A){Au(M,A,a,p.layouts)})},toggle:function(M){Zi(M,w)},getToolbar:function(M){return Lo.getState(iu.getCoupled(M,"toolbarSandbox"))},isOpen:function(M){return Lo.isOpen(iu.getCoupled(M,"toolbarSandbox"))}}})},mp=ml({name:"FloatingToolbarButton",factory:hh,configFields:Am(),partFields:Ea(),apis:{setGroups:function(a,c,p){a.setGroups(c,p)},reposition:function(a,c){a.reposition(c)},toggle:function(a,c){a.toggle(c)},getToolbar:function(a,c){return a.getToolbar(c)},isOpen:function(a,c){return a.isOpen(c)}}}),yT=L([on("items"),Sg(["itemSelector"]),Pu("tgroupBehaviours",[Rr])]),WX=L([md({name:"items",unit:"item"})]),w7=function(a,c,p,w){return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.tgroupBehaviours,[Rr.config({mode:"flow",selector:a.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},bT=ml({name:"ToolbarGroup",configFields:yT(),partFields:WX(),factory:w7}),_7=function(a){return Je(a,function(c){return Dc(c)})},yP=function(a,c,p){zl(a,p,function(w){p.overflowGroups.set(w),c.getOpt(a).each(function(M){mp.setGroups(M,_7(w))})})},UX=function(a,c,p,w){var M=ci(mp.sketch({fetch:function(){return Is.nu(function(A){A(_7(a.overflowGroups.get()))})},layouts:{onLtr:function(){return[Cu,Es]},onRtl:function(){return[Es,Cu]},onBottomLtr:function(){return[Ku,$s]},onBottomRtl:function(){return[$s,Ku]}},getBounds:p.getOverflowBounds,lazySink:a.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:a.markers.overflowToggledClass},parts:{button:w["overflow-button"](),toolbar:w.overflow()}}));return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.splitToolbarBehaviours,[iu.config({others:{overflowGroup:function(){return bT.sketch(ne(ne({},w["overflow-group"]()),{items:[M.asSpec()]}))}}})]),apis:{setGroups:function(A,N){a.builtGroups.set(Je(N,A.getSystem().build)),yP(A,M,a)},refresh:function(A){return yP(A,M,a)},toggle:function(A){M.getOpt(A).each(function(N){mp.toggle(N)})},isOpen:function(A){return M.getOpt(A).map(mp.isOpen).getOr(!1)},reposition:function(A){M.getOpt(A).each(function(N){mp.reposition(N)})},getOverflow:function(A){return M.getOpt(A).bind(mp.getToolbar)}},domModification:{attributes:{role:"group"}}}},S7=ml({name:"SplitFloatingToolbar",configFields:hv(),partFields:Ps(),factory:UX,apis:{setGroups:function(a,c,p){a.setGroups(c,p)},refresh:function(a,c){a.refresh(c)},reposition:function(a,c){a.reposition(c)},toggle:function(a,c){a.toggle(c)},isOpen:function(a,c){return a.isOpen(c)},getOverflow:function(a,c){return a.getOverflow(c)}}}),qX=L([Sg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),_o("onOpened"),_o("onClosed")].concat(zu())),$X=L([Qu({factory:pp,schema:a2(),name:"primary"}),Qu({factory:pp,schema:a2(),name:"overflow",overrides:function(a){return{toolbarBehaviours:zn([B.config({dimension:{property:"height"},closedClass:a.markers.closedClass,openClass:a.markers.openClass,shrinkingClass:a.markers.shrinkingClass,growingClass:a.markers.growingClass,onShrunk:function(c){Ti(c,a,"overflow-button").each(function(p){zo.off(p),$r.focus(p)}),a.onClosed(c)},onGrown:function(c){Rr.focusIn(c),a.onOpened(c)},onStartGrow:function(c){Ti(c,a,"overflow-button").each(zo.on)}}),Rr.config({mode:"acyclic",onEscape:function(c){return Ti(c,a,"overflow-button").each($r.focus),$.some(!0)}})])}}}),Ec({name:"overflow-button",overrides:function(a){return{buttonBehaviours:zn([zo.config({toggleClass:a.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Ec({name:"overflow-group"})]),fb=function(a,c){return Ti(a,c,"overflow").map(B.hasGrown).getOr(!1)},bP=function(a,c){Ti(a,c,"overflow-button").bind(function(){return Ti(a,c,"overflow")}).each(function(p){ut(a,c),B.toggleGrow(p)})},ut=function(a,c){Ti(a,c,"overflow").each(function(p){zl(a,c,function(w){var M=Je(w,function(A){return Dc(A)});pp.setGroups(p,M)}),Ti(a,c,"overflow-button").each(function(w){B.hasGrown(p)&&zo.on(w)}),B.refresh(p)})},Ht=function(a,c,p,w){var M="alloy.toolbar.toggle",A=function(N,j){var W=Je(j,N.getSystem().build);a.builtGroups.set(W)};return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.splitToolbarBehaviours,[iu.config({others:{overflowGroup:function(N){return bT.sketch(ne(ne({},w["overflow-group"]()),{items:[vl.sketch(ne(ne({},w["overflow-button"]()),{action:function(j){ko(N,M)}}))]}))}}}),po("toolbar-toggle-events",[fn(M,function(N){bP(N,a)})])]),apis:{setGroups:function(N,j){A(N,j),ut(N,a)},refresh:function(N){return ut(N,a)},toggle:function(N){return bP(N,a)},isOpen:function(N){return fb(N,a)}},domModification:{attributes:{role:"group"}}}},In=ml({name:"SplitSlidingToolbar",configFields:qX(),partFields:$X(),factory:Ht,apis:{setGroups:function(a,c,p){a.setGroups(c,p)},refresh:function(a,c){a.refresh(c)},toggle:function(a,c){a.toggle(c)},isOpen:function(a,c){return a.isOpen(c)}}}),Vn=function(a){var c=a.title.fold(function(){return{}},function(p){return{attributes:{title:p}}});return{dom:ne({tag:"div",classes:["tox-toolbar__group"]},c),components:[bT.parts.items({})],items:a.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:zn([ou.config({}),$r.config({})])}},lo=function(a){return bT.sketch(Vn(a))},fi=function(a,c){var p=ha(function(w){var M=Je(a.initGroups,lo);pp.setGroups(w,M)});return zn([Pf.toolbarButton(a.providers.isDisabled),Bu(),Rr.config({mode:c,onEscape:a.onEscape,selector:".tox-toolbar__group"}),po("toolbar-events",[p])])},ga=function(a){var c=a.cyclicKeying?"cyclic":"acyclic";return{uid:a.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Vn({title:$.none(),items:[]}),"overflow-button":a8({name:"more",icon:$.some("more-drawer"),disabled:!1,tooltip:$.some("More..."),primary:!1,borderless:!1},$.none(),a.providers)},splitToolbarBehaviours:fi(a,c)}},K0=function(a){var c=ga(a),p=4,w=S7.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return S7.sketch(ne(ne({},c),{lazySink:a.getSink,getOverflowBounds:function(){var M=a.moreDrawerData.lazyHeader().element,A=Fd(M),N=qt(M),j=Fd(N),W=Math.max(N.dom.scrollHeight,j.height);return _u(A.x+p,j.y,A.width-p*2,W)},parts:ne(ne({},c.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:a.attributes}}}),components:[w],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},qye=function(a){var c=In.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),p=In.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),w=ga(a);return In.sketch(ne(ne({},w),{components:[c,p],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(M){M.getSystem().broadcastOn([Dm()],{type:"opened"})},onClosed:function(M){M.getSystem().broadcastOn([Dm()],{type:"closed"})}}))},C7=function(a){var c=a.cyclicKeying?"cyclic":"acyclic";return pp.sketch({uid:a.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(a.type===Rf.scrolling?["tox-toolbar--scrolling"]:[])},components:[pp.parts.groups({})],toolbarBehaviours:fi(a,c)})},$ye=function(a,c,p){var w={getSocket:function(M){return Nl.getPart(M,a,"socket")},setSidebar:function(M,A){Nl.getPart(M,a,"sidebar").each(function(N){return nt(N,A)})},toggleSidebar:function(M,A){Nl.getPart(M,a,"sidebar").each(function(N){return Mt(N,A)})},whichSidebar:function(M){return Nl.getPart(M,a,"sidebar").bind(Yt).getOrNull()},getHeader:function(M){return Nl.getPart(M,a,"header")},getToolbar:function(M){return Nl.getPart(M,a,"toolbar")},setToolbar:function(M,A){Nl.getPart(M,a,"toolbar").each(function(N){N.getApis().setGroups(N,A)})},setToolbars:function(M,A){Nl.getPart(M,a,"multiple-toolbar").each(function(N){sP.setItems(N,A)})},refreshToolbar:function(M){var A=Nl.getPart(M,a,"toolbar");A.each(function(N){return N.getApis().refresh(N)})},toggleToolbarDrawer:function(M){Nl.getPart(M,a,"toolbar").each(function(A){Ui(A.getApis().toggle,function(N){return N(A)})})},isToolbarDrawerToggled:function(M){return Nl.getPart(M,a,"toolbar").bind(function(A){return $.from(A.getApis().isOpen).map(function(N){return N(A)})}).getOr(!1)},getThrobber:function(M){return Nl.getPart(M,a,"throbber")},focusToolbar:function(M){var A=Nl.getPart(M,a,"toolbar").orThunk(function(){return Nl.getPart(M,a,"multiple-toolbar")});A.each(function(N){Rr.focusIn(N)})},setMenubar:function(M,A){Nl.getPart(M,a,"menubar").each(function(N){LE.setMenus(N,A)})},focusMenubar:function(M){Nl.getPart(M,a,"menubar").each(function(A){LE.focus(A)})}};return{uid:a.uid,dom:a.dom,components:c,apis:w,behaviours:a.behaviours}},Gye=Mm.optional({factory:LE,name:"menubar",schema:[on("backstage")]}),Xye=function(a){return a.type===Rf.sliding?qye:a.type===Rf.floating?K0:C7},Yye=Mm.optional({factory:{sketch:function(a){return sP.sketch({uid:a.uid,dom:a.dom,listBehaviours:zn([Rr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return C7({type:a.type,uid:ir("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:a.providers,onEscape:function(){return a.onEscape(),$.some(!0)}})},setupItem:function(c,p,w,M){pp.setGroups(p,w)},shell:!0})}},name:"multiple-toolbar",schema:[on("dom"),on("onEscape")]}),Kye=Mm.optional({factory:{sketch:function(a){var c=Xye(a),p={type:a.type,uid:a.uid,onEscape:function(){return a.onEscape(),$.some(!0)},cyclicKeying:!1,initGroups:[],getSink:a.getSink,providers:a.providers,moreDrawerData:{lazyToolbar:a.lazyToolbar,lazyMoreButton:a.lazyMoreButton,lazyHeader:a.lazyHeader},attributes:a.attributes};return c(p)}},name:"toolbar",schema:[on("dom"),on("onEscape"),on("getSink")]}),Jye=Mm.optional({factory:{sketch:IX},name:"header",schema:[on("dom")]}),Zye=Mm.optional({name:"socket",schema:[on("dom")]}),Qye=Mm.optional({factory:{sketch:Qn},name:"sidebar",schema:[on("dom")]}),e1e=Mm.optional({factory:{sketch:Oc},name:"throbber",schema:[on("dom")]}),vu=ml({name:"OuterContainer",factory:$ye,configFields:[on("dom"),on("behaviours")],partFields:[Jye,Gye,Kye,Yye,Zye,Qye,e1e],apis:{getSocket:function(a,c){return a.getSocket(c)},setSidebar:function(a,c,p){a.setSidebar(c,p)},toggleSidebar:function(a,c,p){a.toggleSidebar(c,p)},whichSidebar:function(a,c){return a.whichSidebar(c)},getHeader:function(a,c){return a.getHeader(c)},getToolbar:function(a,c){return a.getToolbar(c)},setToolbar:function(a,c,p){var w=Je(p,function(M){return lo(M)});a.setToolbar(c,w)},setToolbars:function(a,c,p){var w=Je(p,function(M){return Je(M,lo)});a.setToolbars(c,w)},refreshToolbar:function(a,c){return a.refreshToolbar(c)},toggleToolbarDrawer:function(a,c){a.toggleToolbarDrawer(c)},isToolbarDrawerToggled:function(a,c){return a.isToolbarDrawerToggled(c)},getThrobber:function(a,c){return a.getThrobber(c)},setMenubar:function(a,c,p){a.setMenubar(c,p)},focusMenubar:function(a,c){a.focusMenubar(c)},focusToolbar:function(a,c){a.focusToolbar(c)}}}),t1e="file edit view insert format tools table help",kne={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},n1e=function(a,c,p){var w=Ej(p).split(/[ ,]/);return{text:a.title,getItems:function(){return Bt(a.items,function(M){var A=M.toLowerCase();return A.trim().length===0?[]:Nt(w,function(N){return N===A})?[]:A==="separator"||A==="|"?[{type:"separator"}]:c.menuItems[A]?[c.menuItems[A]]:[]})}}},GX=function(a){return typeof a=="string"?a.split(" "):a},Dne=function(a,c){var p=ne(ne({},kne),c.menus),w=Tt(c.menus).length>0,M=c.menubar===void 0||c.menubar===!0?GX(t1e):GX(c.menubar===!1?"":c.menubar),A=Ye(M,function(j){var W=ln(kne,j);return w?W||Pt(c.menus,j).exists(function(K){return ln(K,"items")}):W}),N=Je(A,function(j){var W=p[j];return n1e({title:W.title,items:GX(W.items)},c,a)});return Ye(N,function(j){var W=function(K){return K.type!=="separator"};return j.getItems().length>0&&Nt(j.getItems(),W)})},Ane=function(a){var c=function(){a._skinLoaded=!0,sW(a)};return function(){a.initialized?c():a.on("init",c)}},r1e=function(a,c){return function(){return lW(a,{message:c})}},Ene=function(a,c,p){return new AC(function(w,M){p.load(c,w,M),a.on("remove",function(){return p.unload(c)})})},o1e=function(a,c){var p=c+"/skin.min.css";return Ene(a,p,a.ui.styleSheetLoader)},i1e=function(a,c){var p=lr(He.fromDom(a.getElement()));if(p){var w=c+"/skin.shadowdom.min.css";return Ene(a,w,IC.DOM.styleSheetLoader)}else return AC.resolve()},One=function(a,c){var p=pI(c);p&&c.contentCSS.push(p+(a?"/content.inline":"/content")+".min.css"),P6(c)===!1&&i(p)?AC.all([o1e(c,p),i1e(c,p)]).then(Ane(c),r1e(c,"Skin could not be loaded")):Ane(c)()},a1e=Y(One,!1),u1e=Y(One,!0),T7=function(a,c){return function(p){var w=Dg(),M=function(){p.setActive(a.formatter.match(c));var A=a.formatter.formatChanged(c,p.setActive);w.set(A)};return a.initialized?M():a.once("init",M),function(){a.off("init",M),w.clear()}}},M7=function(a,c,p){return function(w){var M=function(){return p(w)},A=function(){p(w),a.on(c,M)};return a.initialized?A():a.once("init",A),function(){a.off("init",A),a.off(c,M)}}},Ine=function(a){return function(c){return function(){a.undoManager.transact(function(){a.focus(),a.execCommand("mceToggleFormat",!1,c.format)})}}},gp=function(a,c){return function(){return a.execCommand(c)}},s1e=function(a,c,p){var w=function(j,W,K,oe){var se=c.shared.providers.translate(j.title);if(j.type==="separator")return $.some({type:"separator",text:se});if(j.type==="submenu"){var be=Bt(j.getStyleItems(),function(_e){return M(_e,W,oe)});return W===0&&be.length<=0?$.none():$.some({type:"nestedmenuitem",text:se,disabled:be.length<=0,getSubmenuItems:function(){return Bt(j.getStyleItems(),function(_e){return M(_e,W,oe)})}})}else return $.some(ne({type:"togglemenuitem",text:se,icon:j.icon,active:j.isSelected(oe),disabled:K,onAction:p.onAction(j)},j.getStylePreview().fold(function(){return{}},function(_e){return{meta:{style:_e}}})))},M=function(j,W,K){var oe=j.type==="formatter"&&p.isInvalid(j);return W===0?oe?[]:w(j,W,!1,K).toArray():w(j,W,oe,K).toArray()},A=function(j){var W=p.getCurrentValue(),K=p.shouldHide?0:1;return Bt(j,function(oe){return M(oe,K,W)})},N=function(j,W){return function(K,oe){var se=W(),be=A(se),_e=r2(be,lp.CLOSE_ON_EXECUTE,j,!1);oe(_e)}};return{validateItems:A,getFetch:N}},BE=function(a,c,p){var w=p.dataset,M=w.type==="basic"?function(){return Je(w.data,function(A){return F8(A,p.isSelectedFor,p.getPreviewFor)})}:w.getData;return{items:s1e(a,c,p),getStyleItems:M}},xP=function(a,c,p){var w=BE(a,c,p),M=w.items,A=w.getStyleItems,N=function(W){return{getComponent:L(W)}},j=M7(a,"NodeChange",function(W){var K=W.getComponent();p.updateText(K)});return zR({text:p.icon.isSome()?$.none():p.text,icon:p.icon,tooltip:$.from(p.tooltip),role:$.none(),fetch:M.getFetch(c,A),onSetup:j,getApi:N,columns:1,presets:"normal",classes:p.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",c.shared)},l1e=function(a){return Je(a,function(c){var p=c,w=c,M=c.split("=");return M.length>1&&(p=M[0],w=M[1]),{title:p,format:w}})},c1e=function(a){return{type:"basic",data:a}},zE;(function(a){a[a.SemiColon=0]="SemiColon",a[a.Space=1]="Space"})(zE||(zE={}));var f1e=function(a,c){return c===zE.SemiColon?a.replace(/;$/,"").split(";"):a.split(" ")},XX=function(a,c,p,w){var M=a.getParam(c,p,"string"),A=l1e(f1e(M,w));return{type:"basic",data:A}},YX=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Rne=function(a){var c=function(){return Rt(YX,function(j){return a.formatter.match(j.format)})},p=function(j){return function(){return a.formatter.match(j)}},w=function(j){return $.none},M=function(j){var W=c(),K=W.fold(L("left"),function(oe){return oe.title.toLowerCase()});Ir(j,BR,{icon:"align-"+K})},A=c1e(YX),N=function(j){return function(){return Rt(YX,function(W){return W.format===j.format}).each(function(W){return a.execCommand(W.command)})}};return{tooltip:"Align",text:$.none(),icon:$.some("align-left"),isSelectedFor:p,getCurrentValue:$.none,getPreviewFor:w,onAction:N,updateText:M,dataset:A,shouldHide:!1,isInvalid:function(j){return!a.formatter.canApply(j.format)}}},d1e=function(a,c){return xP(a,c,Rne(a))},h1e=function(a,c){var p=BE(a,c,Rne(a));a.ui.registry.addNestedMenuItem("align",{text:c.shared.providers.translate("Align"),getSubmenuItems:function(){return p.items.validateItems(p.getStyleItems())}})},p1e="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",m1e=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Pne=function(a){var c=a.split(/\s*,\s*/);return Je(c,function(p){return p.replace(/^['"]+|['"]+$/g,"")})},g1e=function(a){var c=function(){var p=Pne(a.toLowerCase());return Mn(m1e,function(w){return p.indexOf(w.toLowerCase())>-1})};return a.indexOf("-apple-system")===0&&c()},Nne=function(a){var c="System Font",p=function(){var K=function(Ee){return Ee?Pne(Ee)[0]:""},oe=a.queryCommandValue("FontName"),se=W.data,be=oe?oe.toLowerCase():"",_e=Rt(se,function(Ee){var je=Ee.format;return je.toLowerCase()===be||K(je).toLowerCase()===K(be).toLowerCase()}).orThunk(function(){return Si(g1e(be),{title:c,format:be})});return{matchOpt:_e,font:oe}},w=function(K){return function(oe){return oe.exists(function(se){return se.format===K})}},M=function(){var K=p().matchOpt;return K},A=function(K){return function(){return $.some({tag:"div",styles:K.indexOf("dings")===-1?{"font-family":K}:{}})}},N=function(K){return function(){a.undoManager.transact(function(){a.focus(),a.execCommand("FontName",!1,K.format)})}},j=function(K){var oe=p(),se=oe.matchOpt,be=oe.font,_e=se.fold(L(be),function(Ee){return Ee.title});Ir(K,nb,{text:_e})},W=XX(a,"font_formats",p1e,zE.SemiColon);return{tooltip:"Fonts",text:$.some(c),icon:$.none(),isSelectedFor:w,getCurrentValue:M,getPreviewFor:A,onAction:N,updateText:j,dataset:W,shouldHide:!1,isInvalid:ie}},v1e=function(a,c){return xP(a,c,Nne(a))},y1e=function(a,c){var p=BE(a,c,Nne(a));a.ui.registry.addNestedMenuItem("fontformats",{text:c.shared.providers.translate("Fonts"),getSubmenuItems:function(){return p.items.validateItems(p.getStyleItems())}})},b1e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",x1e={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},w1e={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},_1e=function(a,c){var p=Math.pow(10,c);return Math.round(a*p)/p},S1e=function(a,c){return/[0-9.]+px$/.test(a)?_1e(parseInt(a,10)*72/96,c||0)+"pt":Pt(w1e,a).getOr(a)},C1e=function(a){return Pt(x1e,a).getOr("")},Lne=function(a){var c=function(){var W=$.none(),K=j.data,oe=a.queryCommandValue("FontSize");if(oe)for(var se=function(_e){var Ee=S1e(oe,_e),je=C1e(Ee);W=Rt(K,function(ft){return ft.format===oe||ft.format===Ee||ft.format===je})},be=3;W.isNone()&&be>=0;be--)se(be);return{matchOpt:W,size:oe}},p=function(W){return function(K){return K.exists(function(oe){return oe.format===W})}},w=function(){var W=c().matchOpt;return W},M=L($.none),A=function(W){return function(){a.undoManager.transact(function(){a.focus(),a.execCommand("FontSize",!1,W.format)})}},N=function(W){var K=c(),oe=K.matchOpt,se=K.size,be=oe.fold(L(se),function(_e){return _e.title});Ir(W,nb,{text:be})},j=XX(a,"fontsize_formats",b1e,zE.Space);return{tooltip:"Font sizes",text:$.some("12pt"),icon:$.none(),isSelectedFor:p,getPreviewFor:M,getCurrentValue:w,onAction:A,updateText:N,dataset:j,shouldHide:!1,isInvalid:ie}},T1e=function(a,c){return xP(a,c,Lne(a))},M1e=function(a,c){var p=BE(a,c,Lne(a));a.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return p.items.validateItems(p.getStyleItems())}})},Bne=function(a,c){var p=c(),w=Je(p,function(M){return M.format});return $.from(a.formatter.closest(w)).bind(function(M){return Rt(p,function(A){return A.format===M})}).orThunk(function(){return Si(a.formatter.match("p"),{title:"Paragraph",format:"p"})})},k1e="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",zne=function(a){var c="Paragraph",p=function(N){return function(){return a.formatter.match(N)}},w=function(N){return function(){var j=a.formatter.get(N);return $.some({tag:j.length>0&&(j[0].inline||j[0].block)||"div",styles:a.dom.parseStyle(a.formatter.getCssText(N))})}},M=function(N){var j=Bne(a,function(){return A.data}),W=j.fold(L(c),function(K){return K.title});Ir(N,nb,{text:W})},A=XX(a,"block_formats",k1e,zE.SemiColon);return{tooltip:"Blocks",text:$.some(c),icon:$.none(),isSelectedFor:p,getCurrentValue:$.none,getPreviewFor:w,onAction:Ine(a),updateText:M,dataset:A,shouldHide:!1,isInvalid:function(N){return!a.formatter.canApply(N.format)}}},D1e=function(a,c){return xP(a,c,zne(a))},A1e=function(a,c){var p=BE(a,c,zne(a));a.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return p.items.validateItems(p.getStyleItems())}})},Fne=function(a,c){var p="Paragraph",w=function(N){return function(){return a.formatter.match(N)}},M=function(N){return function(){var j=a.formatter.get(N);return j!==void 0?$.some({tag:j.length>0&&(j[0].inline||j[0].block)||"div",styles:a.dom.parseStyle(a.formatter.getCssText(N))}):$.none()}},A=function(N){var j=function(se){var be=se.items;return be!==void 0&&be.length>0?Bt(be,j):[{title:se.title,format:se.format}]},W=Bt(z8(a),j),K=Bne(a,L(W)),oe=K.fold(L(p),function(se){return se.title});Ir(N,nb,{text:oe})};return{tooltip:"Formats",text:$.some(p),icon:$.none(),isSelectedFor:w,getCurrentValue:$.none,getPreviewFor:M,onAction:Ine(a),updateText:A,shouldHide:a.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(N){return!a.formatter.canApply(N.format)},dataset:c}},E1e=function(a,c){var p=ne({type:"advanced"},c.styleselect);return xP(a,c,Fne(a,p))},O1e=function(a,c){var p=ne({type:"advanced"},c.styleselect),w=BE(a,c,Fne(a,p));a.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return w.items.validateItems(w.getStyleItems())}})},I1e=function(a,c){var p=function(w,M){a.updateState.each(function(A){var N=A(w,M);c.set(N)}),a.renderComponents.each(function(A){var N=A(M,c.get()),j=Je(N,w.getSystem().build);Xk(w,j)})};return Gi([fn(zc(),function(w,M){var A=M;if(!A.universal){var N=a.channel;Ot(A.channels,N)&&p(w,A.data)}}),ha(function(w,M){a.initialData.each(function(A){p(w,A)})})])},R1e=Object.freeze({__proto__:null,events:I1e}),P1e=function(a,c,p){return p},N1e=Object.freeze({__proto__:null,getState:P1e}),L1e=[on("channel"),oi("renderComponents"),oi("updateState"),oi("initialData")],B1e=function(){var a=Er($.none()),c=function(){return a.set($.none())},p=function(){return a.get().getOr("none")};return{readState:p,get:a.get,set:a.set,clear:c}},z1e=Object.freeze({__proto__:null,init:B1e}),Cd=Ya({fields:L1e,name:"reflecting",active:R1e,apis:N1e,state:z1e}),F1e=L([on("toggleClass"),on("fetch"),Cg("onExecute"),dt("getHotspot",$.some),dt("getAnchorOverrides",L({})),nm(),Cg("onItemExecute"),oi("lazySink"),on("dom"),_o("onOpen"),Pu("splitDropdownBehaviours",[iu,Rr,$r]),dt("matchWidth",!1),dt("useMinWidth",!1),dt("eventOrder",{}),oi("role")].concat(tR())),V1e=Qu({factory:vl,schema:[on("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:zn([$r.revoke()])}},overrides:function(a){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(c){c.getSystem().getByUid(a.uid).each($h)},buttonBehaviours:zn([zo.config({toggleOnExecute:!1,toggleClass:a.toggleClass})])}}}),H1e=Qu({factory:vl,schema:[on("dom")],name:"button",defaults:function(){return{buttonBehaviours:zn([$r.revoke()])}},overrides:function(a){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(c){c.getSystem().getByUid(a.uid).each(function(p){a.onExecute(p,c)})}}}}),j1e=L([V1e,H1e,Af({factory:{sketch:function(a){return{uid:a.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:a.text}}}},schema:[on("text")],name:"aria-descriptor"}),Ec({schema:[_g()],name:"menu",defaults:function(a){return{onExecute:function(c,p){c.getSystem().getByUid(a.uid).each(function(w){a.onItemExecute(w,c,p)})}}}}),JI()]),W1e=function(a,c,p,w){var M,A=function(se){So.getCurrent(se).each(function(be){ii.highlightFirst(be),Rr.focusIn(be)})},N=function(se){var be=A;Xw(a,q,se,w,be,uh.HighlightFirst).get(E)},j=function(se){return N(se),$.some(!0)},W=function(se){var be=nh(se,a,"button");return $h(be),$.some(!0)},K=ne(ne({},Gi([ha(function(se,be){var _e=Ti(se,a,"aria-descriptor");_e.each(function(Ee){var je=ir("aria");so(Ee.element,"id",je),so(se.element,"aria-describedby",je)})})])),I1($.some(N))),oe={repositionMenus:function(se){zo.isOn(se)&&av(se)}};return{uid:a.uid,dom:a.dom,components:c,apis:oe,eventOrder:ne(ne({},a.eventOrder),(M={},M[Tc()]=["disabling","toggling","alloy.base.behaviour"],M)),events:K,behaviours:Nu(a.splitDropdownBehaviours,[iu.config({others:{sandbox:function(se){var be=nh(se,a,"arrow"),_e={onOpen:function(){zo.on(be),zo.on(se)},onClose:function(){zo.off(be),zo.off(se)}};return eR(a,se,_e)}}}),Rr.config({mode:"special",onSpace:W,onEnter:W,onDown:j}),$r.config({}),zo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:a.role.getOr("button"),"aria-haspopup":!0}}}},k7=ml({name:"SplitDropdown",configFields:F1e(),partFields:j1e(),factory:W1e,apis:{repositionMenus:function(a,c){return a.repositionMenus(c)}}}),U1e=function(a){return{isDisabled:function(){return Mr.isDisabled(a)},setDisabled:function(c){return Mr.set(a,c)}}},q1e=function(a){return{setActive:function(c){zo.set(a,c)},isActive:function(){return zo.isOn(a)},isDisabled:function(){return Mr.isDisabled(a)},setDisabled:function(c){return Mr.set(a,c)}}},Vne=function(a,c){return a.map(function(p){return{"aria-label":c.translate(p),title:c.translate(p)}}).getOr({})},Hne=ir("focus-button"),KX=function(a,c,p,w,M,A){var N;return{dom:{tag:"button",classes:["tox-tbtn"].concat(c.isSome()?["tox-tbtn--select"]:[]),attributes:Vne(p,A)},components:W1([a.map(function(j){return xE(j,A.icons)}),c.map(function(j){return RR(j,"tox-tbtn",A)})]),eventOrder:(N={},N[xf()]=["focusing","alloy.base.behaviour","common-button-display-events"],N),buttonBehaviours:zn([Pf.toolbarButton(A.isDisabled),Bu(),po("common-button-display-events",[fn(xf(),function(j,W){W.event.prevent(),ko(j,Hne)})])].concat(w.map(function(j){return Cd.config({channel:j,initialData:{icon:a,text:c},renderComponents:function(W,K){return W1([W.icon.map(function(oe){return xE(oe,A.icons)}),W.text.map(function(oe){return RR(oe,"tox-tbtn",A)})])}})}).toArray()).concat(M.getOr([])))}},$1e=function(a,c,p,w){var M=c.shared;return mp.sketch({lazySink:M.getSink,fetch:function(){return Is.nu(function(A){A(Je(p(a.items),lo))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:KX(a.icon,a.text,a.tooltip,$.none(),$.none(),M.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})},jne=function(a,c,p){var w=Er(E),M=KX(a.icon,a.text,a.tooltip,$.none(),$.none(),p);return vl.sketch({dom:M.dom,components:M.components,eventOrder:LR,buttonBehaviours:zn([po("toolbar-button-events",[p$({onAction:a.onAction,getApi:c.getApi}),LC(c,w),BC(c,w)]),Pf.toolbarButton(function(){return a.disabled||p.isDisabled()}),Bu()].concat(c.toolbarButtonBehaviours))})},G1e=function(a,c){return Wne(a,c,[])},Wne=function(a,c,p){return jne(a,{toolbarButtonBehaviours:[].concat(p.length>0?[po("toolbarButtonWith",p)]:[]),getApi:U1e,onSetup:a.onSetup},c)},X1e=function(a,c){return Une(a,c,[])},Une=function(a,c,p){return Zt(jne(a,{toolbarButtonBehaviours:[Qr.config({}),zo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(p.length>0?[po("toolbarToggleButtonWith",p)]:[]),getApi:q1e,onSetup:a.onSetup},c))},Y1e=function(a,c,p){return function(w){return Is.nu(function(M){return c.fetch(M)}).map(function(M){return $.from(AB(Zt(zA(ir("menu-value"),M,function(A){c.onItemAction(a(w),A)},c.columns,c.presets,lp.CLOSE_ON_EXECUTE,c.select.getOr(ie),p),{movement:jC(c.columns,c.presets),menuBehaviours:AA.unnamedEvents(c.columns!=="auto"?[]:[ha(function(A,N){dI(A,4,h6(c.presets)).each(function(j){var W=j.numRows,K=j.numColumns;Rr.setGridSize(A,W,K)})})])})))})}},K1e=function(a,c){var p,w=ir("channel-update-split-dropdown-display"),M=function(j){return{isDisabled:function(){return Mr.isDisabled(j)},setDisabled:function(W){return Mr.set(j,W)},setIconFill:function(W,K){mu(j.element,'svg path[id="'+W+'"], rect[id="'+W+'"]').each(function(oe){so(oe,"fill",K)})},setIconStroke:function(W,K){mu(j.element,'svg path[id="'+W+'"], rect[id="'+W+'"]').each(function(oe){so(oe,"stroke",K)})},setActive:function(W){so(j.element,"aria-pressed",W),mu(j.element,"span").each(function(K){j.getSystem().getByDom(K).each(function(oe){return zo.set(oe,W)})})},isActive:function(){return mu(j.element,"span").exists(function(W){return j.getSystem().getByDom(W).exists(zo.isOn)})}}},A=Er(E),N={getApi:M,onSetup:a.onSetup};return k7.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ne({"aria-pressed":!1},Vne(a.tooltip,c.providers))},onExecute:function(j){a.onAction(M(j))},onItemExecute:function(j,W,K){},splitDropdownBehaviours:zn([Pf.splitButton(c.providers.isDisabled),Bu(),po("split-dropdown-events",[fn(Hne,$r.focus),LC(N,A),BC(N,A)]),KC.config({})]),eventOrder:(p={},p[Zl()]=["alloy.base.behaviour","split-dropdown-events"],p),toggleClass:"tox-tbtn--enabled",lazySink:c.getSink,fetch:Y1e(M,a,c.providers),parts:{menu:CA(!1,a.columns,a.presets)},components:[k7.parts.button(KX(a.icon,a.text,$.none(),$.some(w),$.some([zo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),c.providers)),k7.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:XL("chevron-down",c.providers.icons)},buttonBehaviours:zn([Pf.splitButton(c.providers.isDisabled),Bu(),B4()])}),k7.parts["aria-descriptor"]({text:c.providers.translate("To open the popup, press Shift+Enter")})]})},J1e=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],wP=function(a,c){return function(p,w,M){var A=a(p).mapError(function(N){return Pp(N)}).getOrDie();return c(A,w,M)}},FE={button:wP(_A,function(a,c){return G1e(a,c.backstage.shared.providers)}),togglebutton:wP(r6,function(a,c){return X1e(a,c.backstage.shared.providers)}),menubutton:wP(m7,function(a,c){return HR(a,"tox-tbtn",c.backstage,$.none())}),splitbutton:wP(NE,function(a,c){return K1e(a,c.backstage.shared)}),grouptoolbarbutton:wP(RX,function(a,c,p){var w,M=p.ui.registry.getAll().buttons,A=function(j){return D7(p,{buttons:M,toolbar:j,allowToolbarGroups:!1},c,$.none())},N=(w={},w[Hx]=c.backstage.shared.header.isPositionedAtTop()?Qh.TopToBottom:Qh.BottomToTop,w);switch(RC(p)){case Rf.floating:return $1e(a,c.backstage,A,N);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(a,c){return E1e(a,c.backstage)},fontsizeSelectButton:function(a,c){return T1e(a,c.backstage)},fontSelectButton:function(a,c){return v1e(a,c.backstage)},formatButton:function(a,c){return D1e(a,c.backstage)},alignMenuButton:function(a,c){return d1e(a,c.backstage)}},Z1e=function(a,c,p){return Pt(FE,a.type).fold(function(){return console.error("skipping button defined by",a),$.none()},function(w){return $.some(w(a,c,p))})},qne={styleselect:FE.styleSelectButton,fontsizeselect:FE.fontsizeSelectButton,fontselect:FE.fontSelectButton,formatselect:FE.formatButton,align:FE.alignMenuButton},Q1e=function(a){var c=Je(J1e,function(p){var w=Ye(p.items,function(M){return ln(a,M)||ln(qne,M)});return{name:p.name,items:w}});return Ye(c,function(p){return p.items.length>0})},ebe=function(a){var c=a.split("|");return Je(c,function(p){return{items:p.trim().split(" ")}})},tbe=function(a){return k(a,function(c){return ln(c,"name")&&ln(c,"items")})},nbe=function(a){var c=a.toolbar,p=a.buttons;return c===!1?[]:c===void 0||c===!0?Q1e(p):i(c)?ebe(c):tbe(c)?c:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},rbe=function(a,c,p,w,M,A){return Pt(c,p.toLowerCase()).orThunk(function(){return A.bind(function(N){return vt(N,function(j){return Pt(c,j+p.toLowerCase())})})}).fold(function(){return Pt(qne,p.toLowerCase()).map(function(N){return N(a,M)}).orThunk(function(){return $.none()})},function(N){return N.type==="grouptoolbarbutton"&&!w?(console.warn("Ignoring the '"+p+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),$.none()):Z1e(N,M,a)})},D7=function(a,c,p,w){var M=nbe(c),A=Je(M,function(N){var j=Bt(N.items,function(W){return W.trim().length===0?[]:rbe(a,c.buttons,W,c.allowToolbarGroups,p,w).toArray()});return{title:$.from(a.translate(N.name)),items:j}});return Ye(A,function(N){return N.items.length>0})},$ne=function(a,c,p,w){var M=c.outerContainer,A=p.toolbar,N=p.buttons;if(k(A,i)){var j=A.map(function(W){var K={toolbar:W,buttons:N,allowToolbarGroups:p.allowToolbarGroups};return D7(a,K,{backstage:w},$.none())});vu.setToolbars(M,j)}else vu.setToolbar(M,D7(a,p,{backstage:w},$.none()))},Gne=Cr(),obe=Gne.os.isiOS()&&Gne.os.version.major<=12,ibe=function(a,c){var p=a.dom,w=a.getWin(),M=a.getDoc().documentElement,A=Er(Oi(w.innerWidth,w.innerHeight)),N=Er(Oi(M.offsetWidth,M.offsetHeight)),j=function(){var be=A.get();(be.left!==w.innerWidth||be.top!==w.innerHeight)&&(A.set(Oi(w.innerWidth,w.innerHeight)),PI(a))},W=function(){var be=a.getDoc().documentElement,_e=N.get();(_e.left!==be.offsetWidth||_e.top!==be.offsetHeight)&&(N.set(Oi(be.offsetWidth,be.offsetHeight)),PI(a))},K=function(be){return cW(a,be)};p.bind(w,"resize",j),p.bind(w,"scroll",K);var oe=Px(He.fromDom(a.getBody()),"load",W),se=c.uiMothership.element;a.on("hide",function(){Ur(se,"display","none")}),a.on("show",function(){ri(se,"display")}),a.on("NodeChange",W),a.on("remove",function(){oe.unbind(),p.unbind(w,"resize",j),p.unbind(w,"scroll",K),w=null})},abe=function(a,c,p,w,M){var A=Er(0),N=c.outerContainer;a1e(a);var j=He.fromDom(M.targetNode),W=Ln(Tr(j));pl(j,c.mothership),Uc(W,c.uiMothership),a.on("PostRender",function(){$ne(a,c,p,w),A.set(a.getWin().innerWidth),vu.setMenubar(N,Dne(a,p)),vu.setSidebar(N,p.sidebar),ibe(a,c)});var K=vu.getSocket(N).getOrDie("Could not find expected socket element");if(obe){$l(K.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var oe=V9(function(){a.fire("ScrollContent")},20),se=Ka(K.element,"scroll",oe.throttle);a.on("remove",se.unbind)}$6(a,c),a.addCommand("ToggleSidebar",function(je,ft){vu.toggleSidebar(N,ft),a.fire("ToggleSidebar")}),a.addQueryValueHandler("ToggleSidebar",function(){return vu.whichSidebar(N)});var be=RC(a),_e=function(){vu.refreshToolbar(c.outerContainer)};(be===Rf.sliding||be===Rf.floating)&&a.on("ResizeWindow ResizeEditor ResizeContent",function(){var je=a.getWin().innerWidth;je!==A.get()&&(_e(),A.set(je))});var Ee={enable:function(){Hw(c,!1)},disable:function(){Hw(c,!0)},isDisabled:function(){return Mr.isDisabled(N)}};return{iframeContainer:K.element.dom,editorContainer:N.element.dom,api:Ee}},ube=Object.freeze({__proto__:null,render:abe}),JX=function(a){var c=/^[0-9\.]+(|px)$/i;return c.test(""+a)?$.some(parseInt(""+a,10)):$.none()},ZX=function(a){return _(a)?a+"px":a},A7=function(a,c,p){var w=c.filter(function(A){return a<A}),M=p.filter(function(A){return a>A});return w.or(M).getOr(a)},sbe=function(a){var c=N6(a),p=B6(a),w=yI(a);return JX(c).map(function(M){return A7(M,p,w)})},lbe=function(a){var c=sbe(a);return c.getOr(N6(a))},Xne=function(a){var c=gI(a),p=L6(a),w=vI(a);return JX(c).map(function(M){return A7(M,p,w)})},cbe=function(a){var c=Xne(a);return c.getOr(gI(a))},fbe=function(a,c,p,w,M){var A=p.uiMothership,N=p.outerContainer,j=IC.DOM,W=OA(a),K=IA(a),oe=vI(a).or(Xne(a)),se=w.shared.header,be=se.isPositionedAtTop,_e=RC(a),Ee=_e===Rf.sliding||_e===Rf.floating,je=Er(!1),ft=function(){return je.get()&&!a.removed},Be=function(mn){return Ee?mn.fold(L(0),function(nn){return nn.components().length>1?fu(nn.components()[1].element):0}):0},ht=function(mn){switch(wI(a)){case j1.auto:var nn=vu.getToolbar(N),jn=Be(nn),gr=fu(mn.element)-jn,dn=tu(c),cr=dn.y>gr;if(cr)return"top";var wr=qt(c),Vo=Math.max(wr.dom.scrollHeight,fu(wr)),wi=dn.bottom<Vo-gr;if(wi)return"bottom";var Oa=us(),vp=Oa.bottom<dn.bottom-gr;return vp?"bottom":"top";case j1.bottom:return"bottom";case j1.top:default:return"top"}},Ut=function(mn){var nn=M.get();Rs.setModes(nn,[mn]),se.setDockingMode(mn);var jn=be()?Qh.TopToBottom:Qh.BottomToTop;so(nn.element,Hx,jn)},Kt=function(){var mn=oe.getOrThunk(function(){var nn=JX(ka(li(),"margin-left")).getOr(0);return Cs(li())-ol(c).left+nn});Ur(M.get().element,"max-width",mn+"px")},ct=function(){var mn=vu.getToolbar(N),nn=Be(mn),jn=tu(c),gr=be()?Math.max(jn.y-fu(M.get().element)+nn,0):jn.bottom;$l(N.element,{position:"absolute",top:Math.round(gr)+"px",left:Math.round(jn.x)+"px"})},Lt=function(){A.broadcastOn([v0()],{})},rn=function(mn){if(mn===void 0&&(mn=!1),!!ft()){if(W||Kt(),Ee&&vu.refreshToolbar(N),W||ct(),K){var nn=M.get();mn?Rs.reset(nn):Rs.refresh(nn)}Lt()}},$n=function(mn){if(mn===void 0&&(mn=!0),!(W||!K||!ft())){var nn=se.getDockingMode(),jn=ht(M.get());jn!==nn&&(Ut(jn),mn&&rn(!0))}},cn=function(){je.set(!0),Ur(N.element,"display","flex"),j.addClass(a.getBody(),"mce-edit-focus"),ri(A.element,"display"),$n(!1),rn()},Xn=function(){je.set(!1),p.outerContainer&&(Ur(N.element,"display","none"),j.removeClass(a.getBody(),"mce-edit-focus")),Ur(A.element,"display","none")};return{isVisible:ft,isPositionedAtTop:be,show:cn,hide:Xn,update:rn,updateMode:$n,repositionPopups:Lt}},Yne=function(a,c){var p=tu(a);return{pos:c?p.y:p.bottom,bounds:p}},dbe=function(a,c,p,w){var M=Er(Yne(c,p.isPositionedAtTop())),A=function(j){var W=Yne(c,p.isPositionedAtTop()),K=W.pos,oe=W.bounds,se=M.get(),be=se.pos,_e=se.bounds,Ee=oe.height!==_e.height||oe.width!==_e.width;M.set({pos:K,bounds:oe}),Ee&&PI(a,j),p.isVisible()&&(be!==K?p.update(!0):Ee&&(p.updateMode(),p.repositionPopups()))};w||(a.on("activate",p.show),a.on("deactivate",p.hide)),a.on("SkinLoaded ResizeWindow",function(){return p.update(!0)}),a.on("NodeChange keydown",function(j){rv.requestAnimationFrame(function(){return A(j)})}),a.on("ScrollWindow",function(){return p.updateMode()});var N=Dg();N.set(Px(He.fromDom(a.getBody()),"load",A)),a.on("remove",function(){N.clear()})},hbe=function(a,c,p,w,M){var A=c.mothership,N=c.uiMothership,j=c.outerContainer,W=Er(null),K=He.fromDom(M.targetNode),oe=fbe(a,K,c,w,W),se=Pj(a);u1e(a);var be=function(){if(W.get()){oe.show();return}W.set(vu.getHeader(j).getOrDie());var je=PC(a);Uc(je,A),Uc(je,N),$ne(a,c,p,w),vu.setMenubar(j,Dne(a,p)),oe.show(),dbe(a,K,oe,se),a.nodeChanged()},_e=function(){return rv.setEditorTimeout(a,be,0)};a.on("show",be),a.on("hide",oe.hide),se||(a.on("focus",_e),a.on("blur",oe.hide)),a.on("init",function(){(a.hasFocus()||se)&&_e()}),$6(a,c);var Ee={show:function(){oe.show()},hide:function(){oe.hide()},enable:function(){Hw(c,!1)},disable:function(){Hw(c,!0)},isDisabled:function(){return Mr.isDisabled(j)}};return{editorContainer:j.element.dom,api:Ee}},pbe=Object.freeze({__proto__:null,render:hbe}),mbe="contexttoolbar-show",Kne="contexttoolbar-hide",gbe=function(a){return{hide:function(){return ko(a,By())},getValue:function(){return qn.getValue(a)}}},Jne=function(a,c){return fn(NR,function(p,w){var M=a.get(p),A=gbe(M);c.onAction(A,w.event.buttonApi)})},vbe=function(a,c,p){var w=c.original;w.primary;var M=Z(w,["primary"]),A=vf(_A(ne(ne({},M),{type:"button",onAction:E})));return Wne(A,p.backstage.shared.providers,[Jne(a,c)])},ybe=function(a,c,p){var w=c.original;w.primary;var M=Z(w,["primary"]),A=vf(r6(ne(ne({},M),{type:"togglebutton",onAction:E})));return Une(A,p.backstage.shared.providers,[Jne(a,c)])},bbe=function(a,c,p){var w={backstage:{shared:{providers:p}}};return c.type==="contextformtogglebutton"?ybe(a,c,w):vbe(a,c,w)},xbe=function(a,c,p){var w=Je(c,function(N){return ci(bbe(a,N,p))}),M=function(){return Je(w,function(N){return N.asSpec()})},A=function(N){return vt(c,function(j,W){return j.primary?$.from(w[W]).bind(function(K){return K.getOpt(N)}).filter(ae(Mr.isDisabled)):$.none()})};return{asSpecs:M,findPrimary:A}},Zne=function(a,c){var p=a.label.fold(function(){return{}},function(A){return{"aria-label":A}}),w=ci(YC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:a.initValue(),inputAttributes:p,selectOnFocus:!0,inputBehaviours:zn([Rr.config({mode:"special",onEnter:function(A){return M.findPrimary(A).map(function(N){return $h(N),!0})},onLeft:function(A,N){return N.cut(),$.none()},onRight:function(A,N){return N.cut(),$.none()}})])})),M=xbe(w,a.commands,c);return[{title:$.none(),items:[w.asSpec()]},{title:$.none(),items:M.asSpecs()}]},wbe=function(a,c,p){return C7({type:a,uid:ir("context-toolbar"),initGroups:Zne(c,p),onEscape:$.none,cyclicKeying:!0,providers:p})},_be={renderContextForm:wbe,buildInitGroups:Zne},Qne=function(a,c,p){return p===void 0&&(p=.01),c.bottom-a.y>=p&&a.bottom-c.y>=p},Sbe=function(a){var c=a.getBoundingClientRect();if(c.height<=0&&c.width<=0){var p=Re(He.fromDom(a.startContainer),a.startOffset).element,w=Me(p)?sa(p):$.some(p);return w.filter(he).map(function(M){return M.dom.getBoundingClientRect()}).getOr(c)}else return c},QX=function(a){var c=a.selection.getRng(),p=Sbe(c);if(a.inline){var w=Xl();return _u(w.left+p.left,w.top+p.top,p.width,p.height)}else{var M=Fd(He.fromDom(a.getBody()));return _u(M.x+p.left,M.y+p.top,p.width,p.height)}},Cbe=function(a,c){return c.filter(Or).map(Fd).getOrThunk(function(){return QX(a)})},Tbe=function(a,c,p){var w=Math.max(a.x+p,c.x),M=Math.min(a.right-p,c.right);return{x:w,width:M-w}},Mbe=function(a,c,p,w,M,A){var N=He.fromDom(a.getContainer()),j=mu(N,".tox-editor-header").getOr(N),W=tu(j),K=W.y>=c.bottom,oe=w&&!K;if(a.inline&&oe)return{y:Math.max(W.bottom+A,p.y),bottom:p.bottom};if(a.inline&&!oe)return{y:p.y,bottom:Math.min(W.y-A,p.bottom)};var se=M==="line"?tu(N):c;return oe?{y:Math.max(W.bottom+A,p.y),bottom:Math.min(se.bottom-A,p.bottom)}:{y:Math.max(se.y+A,p.y),bottom:Math.min(W.y-A,p.bottom)}},ere=function(a,c,p,w){w===void 0&&(w=0);var M=Bh(window),A=tu(He.fromDom(a.getContentAreaContainer())),N=bI(a)||xI(a)||EA(a),j=Tbe(A,M,w),W=j.x,K=j.width;if(a.inline&&!N)return _u(W,M.y,K,M.height);var oe=c.header.isPositionedAtTop(),se=Mbe(a,A,M,oe,p,w),be=se.y,_e=se.bottom;return _u(W,be,K,_e-be)},E7=12,tre={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},nre={maxHeightFunction:f0(),maxWidthFunction:Sd()},kbe=function(a,c){var p=a.selection.getRng(),w=Re(He.fromDom(p.startContainer),p.startOffset);return p.startContainer===p.endContainer&&p.startOffset===p.endOffset-1&&si(w.element,c)},Dbe=function(a,c,p){var w=eu(a,"position");Ur(a,"position",c);var M=p(a);return w.each(function(A){return Ur(a,"position",A)}),M},rre=function(a){return a==="node"},Abe=function(a,c,p,w,M){var A=QX(a),N=w.lastElement().exists(function(K){return si(p,K)});if(kbe(a,p))return N?UL:Of;if(N)return Dbe(c,w.getMode(),function(){var K=Qne(A,tu(c));return K&&!w.isReposition()?P9:UL});var j=w.getMode()==="fixed"?M.y+Xl().top:M.y,W=fu(c)+E7;return j+W<=A.y?Of:nv},Ebe=function(a,c,p,w){var M=function(W){return function(K,oe,se,be,_e){var Ee=Abe(a,be,W,p,_e),je=ne(ne({},K),{y:_e.y,height:_e.height});return ne(ne({},Ee(je,oe,se,be,_e)),{alwaysFit:!0})}},A=function(W){return rre(w)?[M(W)]:[]},N={onLtr:function(W){return[Pl,ds,$s,Es,Ku,Cu].concat(A(W))},onRtl:function(W){return[Pl,ds,Ku,Cu,$s,Es].concat(A(W))}},j={onLtr:function(W){return[ds,Es,Cu,$s,Ku,Pl].concat(A(W))},onRtl:function(W){return[ds,Cu,Es,Ku,$s,Pl].concat(A(W))}};return c?j:N},Obe=function(a,c,p,w){return c==="line"?{bubble:tm(E7,0,tre),layouts:{onLtr:function(){return[bx]},onRtl:function(){return[Kp]}},overrides:nre}:{bubble:tm(0,E7,tre,1/E7),layouts:Ebe(a,p,w,c),overrides:nre}},eY=function(a,c){var p=Ye(c,function(N){return N.predicate(a.dom)}),w=Ue(p,function(N){return N.type==="contexttoolbar"}),M=w.pass,A=w.fail;return{contextToolbars:M,contextForms:A}},Ibe=function(a){if(a.length<=1)return a;var c=function(j){return Nt(a,function(W){return W.position===j})},p=function(j){return Ye(a,function(W){return W.position===j})},w=c("selection"),M=c("node");if(w||M)if(M&&w){var A=p("node"),N=Je(p("selection"),function(j){return ne(ne({},j),{position:"node"})});return A.concat(N)}else return p(w?"selection":"node");else return p("line")},Rbe=function(a){if(a.length<=1)return a;var c=function(w){return Rt(a,function(M){return M.position===w})},p=c("selection").orThunk(function(){return c("node")}).orThunk(function(){return c("line")}).map(function(w){return w.position});return p.fold(function(){return[]},function(w){return Ye(a,function(M){return M.position===w})})},Pbe=function(a,c,p){var w=eY(a,c);if(w.contextForms.length>0)return $.some({elem:a,toolbars:[w.contextForms[0]]});var M=eY(a,p);if(M.contextForms.length>0)return $.some({elem:a,toolbars:[M.contextForms[0]]});if(w.contextToolbars.length>0||M.contextToolbars.length>0){var A=Ibe(w.contextToolbars.concat(M.contextToolbars));return $.some({elem:a,toolbars:A})}else return $.none()},Nbe=function(a,c,p){return a(c)?$.none():Ly(c,function(w){if(he(w)){var M=eY(w,p.inNodeScope),A=M.contextToolbars,N=M.contextForms,j=N.length>0?N:Rbe(A);return j.length>0?$.some({elem:w,toolbars:j}):$.none()}else return $.none()},a)},Lbe=function(a,c){var p=He.fromDom(c.getBody()),w=function(N){return si(N,p)},M=function(N){return!w(N)&&!Ss(p,N)},A=He.fromDom(c.selection.getNode());return M(A)?$.none():Pbe(A,a.inNodeScope,a.inEditorScope).orThunk(function(){return Nbe(w,A,a)})},Bbe=function(a,c){var p={},w=[],M=[],A={},N={},j=function(oe,se){var be=vf(Y4(se));p[oe]=be,be.launch.map(function(_e){A["form:"+oe]=ne(ne({},se.launch),{type:_e.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){c(be)}})}),be.scope==="editor"?M.push(be):w.push(be),N[oe]=be},W=function(oe,se){u6(se).each(function(be){se.scope==="editor"?M.push(be):w.push(be),N[oe]=be})},K=Tt(a);return Fe(K,function(oe){var se=a[oe];se.type==="contextform"?j(oe,se):se.type==="contexttoolbar"&&W(oe,se)}),{forms:p,inNodeScope:w,inEditorScope:M,lookupTable:N,formNavigators:A}},ore=ir("forward-slide"),ire=ir("backward-slide"),tY=ir("change-slide-event"),nY="tox-pop--resizing",zbe=function(a){var c=Er([]);return gi.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(p){c.set([]),gi.getContent(p).each(function(w){ri(w.element,"visibility")}),pu(p.element,nY),ri(p.element,"width")},inlineBehaviours:zn([po("context-toolbar-events",[Gh(Xv(),function(p,w){w.event.raw.propertyName==="width"&&(pu(p.element,nY),ri(p.element,"width"))}),fn(tY,function(p,w){var M=p.element;ri(M,"width");var A=Cs(M);gi.setContent(p,w.event.contents),Xu(M,nY);var N=Cs(M);Ur(M,"width",A+"px"),gi.getContent(p).each(function(j){w.event.focus.bind(function(W){return Kd(W),Tf(M)}).orThunk(function(){return Rr.focusIn(j),rc(Tr(M))})}),rv.setTimeout(function(){Ur(p.element,"width",N+"px")},0)}),fn(ore,function(p,w){gi.getContent(p).each(function(M){c.set(c.get().concat([{bar:M,focus:rc(Tr(p.element))}]))}),Ir(p,tY,{contents:w.event.forwardContents,focus:$.none()})}),fn(ire,function(p,w){vn(c.get()).each(function(M){c.set(c.get().slice(0,c.get().length-1)),Ir(p,tY,{contents:Dc(M.bar),focus:M.focus})})})]),Rr.config({mode:"special",onEscape:function(p){return vn(c.get()).fold(function(){return a.onEscape()},function(w){return ko(p,ire),$.some(!0)})}})]),lazySink:function(){return fo.value(a.sink)}})},rY="tox-pop--transition",Fbe=function(a,c,p,w){var M=w.backstage,A=M.shared,N=Cr().deviceType.isTouch,j=za(),W=za(),K=za(),oe=ru(zbe({sink:p,onEscape:function(){return a.focus(),$.some(!0)}})),se=function(){var cn=K.get().getOr("node"),Xn=rre(cn)?1:0;return ere(a,A,cn,Xn)},be=function(){return!a.removed&&!(N()&&M.isContextMenuOpen())},_e=function(cn){return Br(ui(cn,j.get(),si),!0)},Ee=function(){if(be()){var cn=se(),Xn=Br(K.get(),"node")?Cbe(a,j.get()):QX(a);return cn.height<=0||!Qne(Xn,cn)}else return!0},je=function(){j.clear(),W.clear(),K.clear(),gi.hide(oe)},ft=function(){if(gi.isOpen(oe)){var cn=oe.element;ri(cn,"display"),Ee()?Ur(cn,"display","none"):(W.set(0),gi.reposition(oe))}},Be=function(cn){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[cn],behaviours:zn([Rr.config({mode:"acyclic"}),po("pop-dialog-wrap-events",[ha(function(Xn){a.shortcuts.add("ctrl+F9","focus statusbar",function(){return Rr.focusIn(Xn)})}),Ql(function(Xn){a.shortcuts.remove("ctrl+F9")})])])}},ht=wt(function(){return Bbe(c,function(cn){var Xn=ct([cn]);Ir(oe,ore,{forwardContents:Be(Xn)})})}),Ut=function(cn,Xn){return D7(a,{buttons:cn,toolbar:Xn.items,allowToolbarGroups:!1},w,$.some(["form:"]))},Kt=function(cn,Xn){return _be.buildInitGroups(cn,Xn)},ct=function(cn){var Xn=a.ui.registry.getAll().buttons,mn=ht(),nn=ne(ne({},Xn),mn.formNavigators),jn=RC(a)===Rf.scrolling?Rf.scrolling:Rf.default,gr=Xe(Je(cn,function(dn){return dn.type==="contexttoolbar"?Ut(nn,dn):Kt(dn,A.providers)}));return C7({type:jn,uid:ir("context-toolbar"),initGroups:gr,onEscape:$.none,cyclicKeying:!0,providers:A.providers})},Lt=function(cn,Xn){var mn=cn==="node"?A.anchors.node(Xn):A.anchors.cursor(),nn=Obe(a,cn,N(),{lastElement:j.get,isReposition:function(){return Br(W.get(),0)},getMode:function(){return hl.getMode(p)}});return Zt(mn,nn)},rn=function(cn,Xn){if($n.cancel(),!!be()){var mn=ct(cn),nn=cn[0].position,jn=Lt(nn,Xn);K.set(nn),W.set(1);var gr=oe.element;ri(gr,"display"),_e(Xn)||(pu(gr,rY),hl.reset(p,oe)),gi.showWithinBounds(oe,Be(mn),{anchor:jn,transition:{classes:[rY],mode:"placement"}},function(){return $.some(se())}),Xn.fold(j.clear,j.set),Ee()&&Ur(gr,"display","none")}},$n=V4(function(){if(!(!a.hasFocus()||a.removed))if(cl(oe.element,rY))$n.throttle();else{var cn=ht();Lbe(cn,a).fold(je,function(Xn){rn(Xn.toolbars,$.some(Xn.elem))})}},17);a.on("init",function(){a.on("remove",je),a.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ft),a.on("click keyup focus SetContent",$n.throttle),a.on(Kne,je),a.on(mbe,function(cn){var Xn=ht();Pt(Xn.lookupTable,cn.toolbarKey).each(function(mn){rn([mn],Si(cn.target!==a,cn.target)),gi.getContent(oe).each(Rr.focusIn)})}),a.on("focusout",function(cn){rv.setEditorTimeout(a,function(){Tf(p.element).isNone()&&Tf(oe.element).isNone()&&je()},0)}),a.on("SwitchMode",function(){a.mode.isReadOnly()&&je()}),a.on("AfterProgressState",function(cn){cn.state?je():a.hasFocus()&&$n.throttle()}),a.on("NodeChange",function(cn){Tf(oe.element).fold($n.throttle,E)})})},Vbe=function(a){var c=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Fe(c,function(p){a.ui.registry.addToggleButton(p.name,{tooltip:p.text,icon:p.icon,onAction:gp(a,p.cmd),onSetup:T7(a,p.name)})}),a.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:gp(a,"JustifyNone")})},Hbe={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},jbe=function(){var a="[0-9]+",c="[+-]?"+a,p="[eE]"+c,w="\\.",M=function(j){return"(?:"+j+")?"},A=["Infinity",a+w+M(a)+M(p),w+a+M(p),a+M(p)].join("|"),N="[+-]?(?:"+A+")";return new RegExp("^("+N+")(.*)$")}(),Wbe=function(a,c){return Nt(c,function(p){return Nt(Hbe[p],function(w){return a===w})})},Ube=function(a,c){var p=$.from(jbe.exec(a));return p.bind(function(w){var M=Number(w[1]),A=w[2];return Wbe(A,c)?$.some({value:M,unit:A}):$.none()})},qbe=function(a,c){return Ube(a,c).map(function(p){var w=p.value,M=p.unit;return w+M})},are=function(a,c){var p=function(){var w=c.getOptions(a),M=c.getCurrent(a).map(c.hash),A=za();return Je(w,function(N){return{type:"togglemenuitem",text:c.display(N),onSetup:function(j){var W=function(oe){oe&&(A.on(function(se){return se.setActive(!1)}),A.set(j)),j.setActive(oe)};W(Br(M,c.hash(N)));var K=c.watcher(a,N,W);return function(){A.clear(),K()}},onAction:function(){return c.setCurrent(a,N)}}})};a.ui.registry.addMenuButton(c.name,{tooltip:c.text,icon:c.icon,fetch:function(w){return w(p())},onSetup:c.onToolbarSetup}),a.ui.registry.addNestedMenuItem(c.name,{type:"nestedmenuitem",text:c.text,getSubmenuItems:p,onSetup:c.onMenuSetup})},$be={name:"lineheight",text:"Line height",icon:"line-height",getOptions:Dj,hash:function(a){return qbe(a,["fixed","relative","empty"]).getOr(a)},display:q,watcher:function(a,c,p){return a.formatter.formatChanged("lineheight",p,!1,{value:c}).unbind},getCurrent:function(a){return $.from(a.queryCommandValue("LineHeight"))},setCurrent:function(a,c){return a.execCommand("LineHeight",!1,c)}},Gbe=function(a){var c=$.from(Aj(a));return c.map(function(p){return{name:"language",text:"Language",icon:"language",getOptions:L(p),hash:function(w){return g(w.customCode)?w.code:w.code+"/"+w.customCode},display:function(w){return w.title},watcher:function(w,M,A){return w.formatter.formatChanged("lang",A,!1,{value:M.code,customValue:M.customCode}).unbind},getCurrent:function(w){var M=He.fromDom(w.selection.getNode());return Uv(M,function(A){return $.some(A).filter(he).bind(function(N){var j=wa(N,"lang");return j.map(function(W){var K=wa(N,"data-mce-lang").getOrUndefined();return{code:W,customCode:K,title:""}})})})},setCurrent:function(w,M){return w.execCommand("Lang",!1,M)},onToolbarSetup:function(w){var M=Dg();return w.setActive(a.formatter.match("lang",{},void 0,!0)),M.set(a.formatter.formatChanged("lang",w.setActive,!0)),M.clear}}})},Xbe=function(a){are(a,$be),Gbe(a).each(function(c){return are(a,c)})},Ybe=function(a,c){h1e(a,c),y1e(a,c),O1e(a,c),A1e(a,c),M1e(a,c)},Kbe=function(a){return M7(a,"NodeChange",function(c){c.setDisabled(!a.queryCommandState("outdent"))})},Jbe=function(a){a.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Kbe(a),onAction:gp(a,"outdent")}),a.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:gp(a,"indent")})},Zbe=function(a){Jbe(a)},oY=function(a,c){return function(){a.execCommand("mceToggleFormat",!1,c)}},Qbe=function(a){Tm.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(w,M){a.ui.registry.addToggleButton(w.name,{tooltip:w.text,icon:w.icon,onSetup:T7(a,w.name),onAction:oY(a,w.name)})});for(var c=1;c<=6;c++){var p="h"+c;a.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+c,onSetup:T7(a,p),onAction:oY(a,p)})}},exe=function(a){Tm.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(c){a.ui.registry.addButton(c.name,{tooltip:c.text,icon:c.icon,onAction:gp(a,c.action)})})},txe=function(a){Tm.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(c){a.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:gp(a,c.action),onSetup:T7(a,c.name)})})},nxe=function(a){Qbe(a),exe(a),txe(a)},rxe=function(a){Tm.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(c){a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onAction:gp(a,c.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:oY(a,"code")})},oxe=function(a){nxe(a),rxe(a)},O7=function(a,c){return M7(a,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(p){p.setDisabled(a.mode.isReadOnly()||!a.undoManager[c]())})},ixe=function(a){a.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:O7(a,"hasUndo"),onAction:gp(a,"undo")}),a.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:O7(a,"hasRedo"),onAction:gp(a,"redo")})},axe=function(a){a.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:O7(a,"hasUndo"),onAction:gp(a,"undo")}),a.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:O7(a,"hasRedo"),onAction:gp(a,"redo")})},uxe=function(a){ixe(a),axe(a)},sxe=function(a){return M7(a,"VisualAid",function(c){c.setActive(a.hasVisual)})},lxe=function(a){a.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:sxe(a),onAction:gp(a,"mceToggleVisualAid")})},cxe=function(a){a.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:gp(a,"mceToggleVisualAid")})},fxe=function(a){cxe(a),lxe(a)},dxe=function(a,c){Vbe(a),oxe(a),Ybe(a,c),uxe(a),xW(a),fxe(a),Zbe(a),Xbe(a)},_P=function(a,c){return{type:"makeshift",x:a,y:c}},hxe=function(a,c,p){return _P(a.x+c,a.y+p)},ure=function(a){return a.type==="longpress"||a.type.indexOf("touch")===0},pxe=function(a){if(ure(a)){var c=a.touches[0];return _P(c.pageX,c.pageY)}else return _P(a.pageX,a.pageY)},mxe=function(a){if(ure(a)){var c=a.touches[0];return _P(c.clientX,c.clientY)}else return _P(a.clientX,a.clientY)},gxe=function(a,c){var p=IC.DOM.getPos(a);return hxe(c,p.x,p.y)},vxe=function(a,c){return c.type==="contextmenu"||c.type==="longpress"?a.inline?pxe(c):gxe(a.getContentAreaContainer(),mxe(c)):sre(a)},sre=function(a){return{type:"selection",root:He.fromDom(a.selection.getNode())}},yxe=function(a){return{type:"node",node:$.some(He.fromDom(a.selection.getNode())),root:He.fromDom(a.getBody())}},lre=function(a,c,p){switch(p){case"node":return yxe(a);case"point":return vxe(a,c);case"selection":return sre(a)}},bxe=function(a,c,p,w,M,A){var N=p(),j=lre(a,c,A);r2(N,lp.CLOSE_ON_EXECUTE,w,!1).map(function(W){c.preventDefault(),gi.showMenuAt(M,{anchor:j},{menu:{markers:ov("normal")},data:W})})},xxe={onLtr:function(){return[ds,Es,Cu,$s,Ku,Pl,Of,nv,tv,F0,L1,N1]},onRtl:function(){return[ds,Cu,Es,Ku,$s,Pl,Of,nv,L1,N1,tv,F0]}},wxe=12,_xe={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Sxe=function(a,c){var p=a.selection;if(p.isCollapsed()||c.touches.length<1)return!1;var w=c.touches[0],M=p.getRng(),A=xS(a.getWin(),p0.domRange(M));return A.exists(function(N){return N.left<=w.clientX&&N.right>=w.clientX&&N.top<=w.clientY&&N.bottom>=w.clientY})},Cxe=function(a){var c=a.selection.getRng(),p=function(){rv.setEditorTimeout(a,function(){a.selection.setRng(c)},10),A()};a.once("touchend",p);var w=function(N){N.preventDefault(),N.stopImmediatePropagation()};a.on("mousedown",w,!0);var M=function(){return A()};a.once("longpresscancel",M);var A=function(){a.off("touchend",p),a.off("longpresscancel",M),a.off("mousedown",w)}},Txe=function(a,c,p){var w=lre(a,c,p),M=p==="point"?wxe:0;return ne({bubble:tm(0,M,_xe),layouts:xxe,overrides:{maxWidthFunction:Sd(),maxHeightFunction:f0()}},w)},Mxe=function(a,c,p,w,M,A,N){var j=Txe(a,c,A);r2(p,lp.CLOSE_ON_EXECUTE,w,!0).map(function(W){c.preventDefault(),gi.showMenuWithinBounds(M,{anchor:j},{menu:{markers:ov("normal"),highlightImmediately:N},data:W,type:"horizontal"},function(){return $.some(ere(a,w.shared,A==="node"?"node":"selection"))}),a.fire(Kne)})},kxe=function(a,c,p,w,M,A){var N=Cr(),j=N.os.isiOS(),W=N.os.isOSX(),K=N.os.isAndroid(),oe=N.deviceType.isTouch(),se=function(){return!(K||j||W&&oe)},be=function(){var Ee=p();Mxe(a,c,Ee,w,M,A,se())};if((W||j)&&A!=="node"){var _e=function(){Cxe(a),be()};Sxe(a,c)?_e():(a.once("selectionchange",_e),a.once("touchend",function(){return a.off("selectionchange",_e)}))}else be()},cre=function(a){return typeof a=="string"?a.split(/[ ,]/):a},fre=function(a){return a.getParam("contextmenu_never_use_native",!1,"boolean")},Dxe=function(a,c,p){var w=a.ui.registry.getAll().contextMenus;return $.from(a.getParam(c)).map(cre).getOrThunk(function(){return Ye(cre(p),function(M){return ln(w,M)})})},Axe=function(a){return a.getParam("contextmenu")===!1},Exe=function(a){return Dxe(a,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},Oxe=function(a){return a.getParam("contextmenu_avoid_overlap","","string")},dre=function(a){return i(a)?a==="|":a.type==="separator"},iY={type:"separator"},hre=function(a){var c=function(p){return{text:p.text,icon:p.icon,disabled:p.disabled,shortcut:p.shortcut}};if(i(a))return a;switch(a.type){case"separator":return iY;case"submenu":return ne(ne({type:"nestedmenuitem"},c(a)),{getSubmenuItems:function(){var p=a.getSubmenuItems();return i(p)?p:Je(p,hre)}});default:return ne(ne({type:"menuitem"},c(a)),{onAction:R(a.onAction)})}},pre=function(a,c){if(c.length===0)return a;var p=vn(a).filter(function(M){return!dre(M)}),w=p.fold(function(){return[]},function(M){return[iY]});return a.concat(w).concat(c).concat([iY])},Ixe=function(a,c,p){var w=Ft(c,function(M,A){return Pt(a,A.toLowerCase()).map(function(N){var j=N.update(p);if(i(j))return pre(M,j.split(" "));if(j.length>0){var W=Je(j,hre);return pre(M,W)}else return M}).getOrThunk(function(){return M.concat([A])})},[]);return w.length>0&&dre(w[w.length-1])&&w.pop(),w},Rxe=function(a,c){return c.ctrlKey&&!fre(a)},mre=function(a,c){return c.type!=="longpress"&&(c.button!==2||c.target===a.getBody()&&c.pointerType==="")},gre=function(a,c){return mre(a,c)?a.selection.getStart(!0):c.target},Pxe=function(a,c){var p=Oxe(a),w=mre(a,c)?"selection":"point";if(Ua(p)){var M=gre(a,c),A=qC(He.fromDom(M),p);return A?"node":w}else return w},Nxe=function(a,c,p){var w=Cr(),M=w.deviceType.isTouch,A=ru(gi.sketch({dom:{tag:"div"},lazySink:c,onEscape:function(){return a.focus()},onShow:function(){return p.setContextMenuState(!0)},onHide:function(){return p.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:zn([po("dismissContextMenu",[fn(wf(),function(W,K){Lo.close(W),a.focus()})])])})),N=function(W){return gi.hide(A)},j=function(W){if(fre(a)&&W.preventDefault(),!(Rxe(a,W)||Axe(a))){var K=Pxe(a,W),oe=function(){var be=gre(a,W),_e=a.ui.registry.getAll(),Ee=Exe(a);return Ixe(_e.contextMenus,Ee,be)},se=M()?kxe:bxe;se(a,W,oe,p,A,K)}};a.on("init",function(){var W="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(M()?"":" ResizeWindow");a.on(W,N),a.on("longpress contextmenu",j)})},aY=Cc.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),I7=function(a){return function(c){return c.translate(-a.left,-a.top)}},R7=function(a){return function(c){return c.translate(a.left,a.top)}},db=function(a){return function(c,p){return Ft(a,function(w,M){return M(w)},Oi(c,p))}},P7=function(a,c,p){return a.fold(db([R7(p),I7(c)]),db([I7(c)]),db([]))},VE=function(a,c,p){return a.fold(db([R7(p)]),db([]),db([R7(c)]))},vre=function(a,c,p){return a.fold(db([]),db([I7(p)]),db([R7(c),I7(p)]))},Lxe=function(a,c,p,w,M,A){var N=VE(a,M,A),j=VE(c,M,A);return Math.abs(N.left-j.left)<=p&&Math.abs(N.top-j.top)<=w},Bxe=function(a,c,p,w,M,A){var N=VE(a,M,A),j=VE(c,M,A),W=Math.abs(N.left-j.left),K=Math.abs(N.top-j.top);return Oi(W,K)},yre=function(a,c,p){var w=a.fold(function(M,A){return{position:$.some("absolute"),left:$.some(M+"px"),top:$.some(A+"px")}},function(M,A){return{position:$.some("absolute"),left:$.some(M-p.left+"px"),top:$.some(A-p.top+"px")}},function(M,A){return{position:$.some("fixed"),left:$.some(M+"px"),top:$.some(A+"px")}});return ne({right:$.none(),bottom:$.none()},w)},zxe=function(a,c,p){return a.fold(function(w,M){return N7(w+c,M+p)},function(w,M){return d2(w+c,M+p)},function(w,M){return xT(w+c,M+p)})},uY=function(a,c,p,w){var M=function(A,N){return function(j,W){var K=A(c,p,w);return N(j.getOr(K.left),W.getOr(K.top))}};return a.fold(M(vre,N7),M(VE,d2),M(P7,xT))},N7=aY.offset,d2=aY.absolute,xT=aY.fixed,bre=function(a,c){var p=la(a,c);return g(p)?NaN:parseInt(p,10)},Fxe=function(a,c){var p=a.element,w=bre(p,c.leftAttr),M=bre(p,c.topAttr);return isNaN(w)||isNaN(M)?$.none():$.some(Oi(w,M))},Vxe=function(a,c,p){var w=a.element;so(w,c.leftAttr,p.left+"px"),so(w,c.topAttr,p.top+"px")},Hxe=function(a,c){var p=a.element;Wu(p,c.leftAttr),Wu(p,c.topAttr)},jxe=function(a,c,p,w){return Fxe(a,c).fold(function(){return p},function(M){return xT(M.left+w.left,M.top+w.top)})},Wxe=function(a,c,p,w,M,A){var N=jxe(a,c,p,w),j=c.mustSnap?qxe(a,c,N,M,A):$xe(a,c,N,M,A),W=P7(N,M,A);return Vxe(a,c,W),j.fold(function(){return{coord:xT(W.left,W.top),extra:$.none()}},function(K){return{coord:K.output,extra:K.extra}})},Uxe=function(a,c){Hxe(a,c)},xre=function(a,c,p,w){return vt(a,function(M){var A=M.sensor,N=Lxe(c,A,M.range.left,M.range.top,p,w);return N?$.some({output:uY(M.output,c,p,w),extra:M.extra}):$.none()})},qxe=function(a,c,p,w,M){var A=c.getSnapPoints(a),N=xre(A,p,w,M);return N.orThunk(function(){var j=Ft(A,function(W,K){var oe=K.sensor,se=Bxe(p,oe,K.range.left,K.range.top,w,M);return W.deltas.fold(function(){return{deltas:$.some(se),snap:$.some(K)}},function(be){var _e=(se.left+se.top)/2,Ee=(be.left+be.top)/2;return _e<=Ee?{deltas:$.some(se),snap:$.some(K)}:W})},{deltas:$.none(),snap:$.none()});return j.snap.map(function(W){return{output:uY(W.output,p,w,M),extra:W.extra}})})},$xe=function(a,c,p,w,M){var A=c.getSnapPoints(a);return xre(A,p,w,M)},Gxe=function(a,c,p){return{coord:uY(a.output,a.output,c,p),extra:a.extra}},Xxe=function(a,c,p,w){var M=c.getTarget(a.element);if(c.repositionTarget){var A=ua(a.element),N=Xl(A),j=Y0(M),W=Gxe(w,N,j),K=yre(W.coord,N,j);Ma(M,K)}},Yxe=Object.freeze({__proto__:null,snapTo:Xxe}),sY="data-initial-z-index",Kxe=function(a){sa(a.element).filter(he).each(function(c){wa(c,sY).fold(function(){return ri(c,"z-index")},function(p){return Ur(c,"z-index",p)}),Wu(c,sY)})},Jxe=function(a){sa(a.element).filter(he).each(function(c){eu(c,"z-index").each(function(p){so(c,sY,p)}),Ur(c,"z-index",ka(a.element,"z-index"))})},wre=function(a,c){a.getSystem().addToGui(c),Jxe(c)},Zxe=function(a){Kxe(a),a.getSystem().removeFromGui(a)},_re=function(a,c,p){return a.getSystem().build(yl.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[c]},events:p}))},Qxe=Jl("snaps",[on("getSnapPoints"),_o("onSensor"),on("leftAttr"),on("topAttr"),dt("lazyViewport",us),dt("mustSnap",!1)]),lY=[dt("useFixed",ie),on("blockerClass"),dt("getTarget",q),dt("onDrag",E),dt("repositionTarget",!0),dt("onDrop",E),$i("getBounds",us),Qxe],ewe=function(a){return Ta(eu(a,"left"),eu(a,"top"),eu(a,"position"),function(c,p,w){var M=w==="fixed"?xT:N7;return M(parseInt(c,10),parseInt(p,10))}).getOrThunk(function(){var c=ol(a);return d2(c.left,c.top)})},twe=function(a,c,p,w,M){var A=M.bounds,N=VE(c,p,w),j=Rl(N.left,A.x,A.x+A.width-M.width),W=Rl(N.top,A.y,A.y+A.height-M.height),K=d2(j,W);return c.fold(function(){var oe=vre(K,p,w);return N7(oe.left,oe.top)},L(K),function(){var oe=P7(K,p,w);return xT(oe.left,oe.top)})},nwe=function(a,c,p,w,M,A,N){var j=c.fold(function(){var W=zxe(p,A.left,A.top),K=P7(W,w,M);return xT(K.left,K.top)},function(W){var K=Wxe(a,W,p,A,w,M);return K.extra.each(function(oe){W.onSensor(a,oe)}),K.coord});return twe(a,j,w,M,N)},rwe=function(a,c,p,w){var M=c.getTarget(a.element);if(c.repositionTarget){var A=ua(a.element),N=Xl(A),j=Y0(M),W=ewe(M),K=nwe(a,c.snaps,W,N,j,w,p),oe=yre(K,N,j);Ma(M,oe)}c.onDrag(a,M,w)},Sre=function(a,c){return{bounds:a.getBounds(),height:Gl(c.element),width:il(c.element)}},cY=function(a,c,p,w,M){var A=p.update(w,M),N=p.getStartData().getOrThunk(function(){return Sre(c,a)});A.each(function(j){rwe(a,c,N,j)})},Cre=function(a,c,p,w){c.each(Zxe),p.snaps.each(function(A){Uxe(a,A)});var M=p.getTarget(a.element);w.reset(),p.onDrop(a,M)},fY=function(a){return function(c,p){var w=function(M){p.setStartData(Sre(c,M))};return Gi(Ce([fn(T_(),function(M){p.getStartData().each(function(){return w(M)})})],a(c,p,w),!0))}},owe=function(a){return Gi([fn(xf(),a.forceDrop),fn(b_(),a.drop),fn(ug(),function(c,p){a.move(p.event)}),fn(y_(),a.delayDrop)])},iwe=function(a){return $.from(Oi(a.x,a.y))},awe=function(a,c){return Oi(c.left-a.left,c.top-a.top)},uwe=Object.freeze({__proto__:null,getData:iwe,getDelta:awe}),Tre=function(a,c,p){return[fn(xf(),function(w,M){var A=M.event.raw;if(A.button===0){M.stop();var N=function(){return Cre(w,$.some(K),a,c)},j=EB(N,200),W={drop:N,delayDrop:j.schedule,forceDrop:N,move:function(se){j.cancel(),cY(w,a,c,uwe,se)}},K=_re(w,a.blockerClass,owe(W)),oe=function(){p(w),wre(w,K)};oe()}})]},swe=Ce(Ce([],lY,!0),[Ci("dragger",{handlers:fY(Tre)})],!1),lwe=function(a){return Gi([fn(Ud(),a.forceDrop),fn(Lp(),a.drop),fn($M(),a.drop),fn(bf(),function(c,p){a.move(p.event)})])},cwe=function(a){var c=a[0];return $.some(Oi(c.clientX,c.clientY))},fwe=function(a){var c=a.raw,p=c.touches;return p.length===1?cwe(p):$.none()},dwe=function(a,c){return Oi(c.left-a.left,c.top-a.top)},Mre=Object.freeze({__proto__:null,getData:fwe,getDelta:dwe}),kre=function(a,c,p){var w=za(),M=function(A){Cre(A,w.get(),a,c),w.clear()};return[fn(Ud(),function(A,N){N.stop();var j=function(){return M(A)},W={drop:j,delayDrop:E,forceDrop:j,move:function(se){cY(A,a,c,Mre,se)}},K=_re(A,a.blockerClass,lwe(W));w.set(K);var oe=function(){p(A),wre(A,K)};oe()}),fn(bf(),function(A,N){N.stop(),cY(A,a,c,Mre,N.event)}),fn(Lp(),function(A,N){N.stop(),M(A)}),fn($M(),M)]},hwe=Ce(Ce([],lY,!0),[Ci("dragger",{handlers:fY(kre)})],!1),pwe=function(a,c,p){return Ce(Ce([],Tre(a,c,p),!0),kre(a,c,p),!0)},mwe=Ce(Ce([],lY,!0),[Ci("dragger",{handlers:fY(pwe)})],!1),gwe=swe,vwe=hwe,ywe=mwe,bwe=Object.freeze({__proto__:null,mouse:gwe,touch:vwe,mouseOrTouch:ywe}),xwe=function(){var a=$.none(),c=$.none(),p=function(){a=$.none(),c=$.none()},w=function(W,K){var oe=a.map(function(se){return W.getDelta(se,K)});return a=$.some(K),oe},M=function(W,K){return W.getData(K).bind(function(oe){return w(W,oe)})},A=function(W){c=$.some(W)},N=function(){return c},j=L({});return Gu({readState:j,reset:p,update:M,getStartData:N,setStartData:A})},wwe=Object.freeze({__proto__:null,init:xwe}),wT=Mg({branchKey:"mode",branches:bwe,name:"dragging",active:{events:function(a,c){var p=a.dragger;return p.handlers(a,c)}},extra:{snap:function(a){return{sensor:a.sensor,range:a.range,output:a.output,extra:$.from(a.extra)}}},state:wwe,apis:Yxe}),dY=40,L7=dY/2,Dre=function(a,c,p,w,M,A){return a.fold(function(){return wT.snap({sensor:d2(p-L7,w-L7),range:Oi(M,A),output:d2($.some(p),$.some(w)),extra:{td:c}})},function(N){var j=p-L7,W=w-L7,K=dY,oe=dY,se=N.element.dom.getBoundingClientRect();return wT.snap({sensor:d2(j,W),range:Oi(K,oe),output:d2($.some(p-se.width/2),$.some(w-se.height/2)),extra:{td:c}})})},Are=function(a,c,p){var w=function(M,A){return M.exists(function(N){return si(N,A)})};return{getSnapPoints:a,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(M,A){var N=A.td;w(c.get(),N)||(c.set(N),p(N))},mustSnap:!0}},Ere=function(a){return ci(vl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:zn([wT.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:a}),KC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},_we=function(a,c){var p=Er([]),w=Er([]),M=Er(!1),A=za(),N=za(),j=function(rn){var $n=Fd(rn);return Dre(_e.getOpt(c),rn,$n.x,$n.y,$n.width,$n.height)},W=function(){return Je(p.get(),function(rn){return j(rn)})},K=function(rn){var $n=Fd(rn);return Dre(Ee.getOpt(c),rn,$n.right,$n.bottom,$n.width,$n.height)},oe=function(){return Je(w.get(),function(rn){return K(rn)})},se=Are(W,A,function(rn){N.get().each(function($n){a.fire("TableSelectorChange",{start:rn,finish:$n})})}),be=Are(oe,N,function(rn){A.get().each(function($n){a.fire("TableSelectorChange",{start:$n,finish:rn})})}),_e=Ere(se),Ee=Ere(be),je=ru(_e.asSpec()),ft=ru(Ee.asSpec()),Be=function(rn,$n,cn,Xn){var mn=$n.dom.getBoundingClientRect();ri(rn.element,"display");var nn=yc(He.fromDom(a.getBody())).dom.innerHeight,jn=cn(mn),gr=Xn(mn,nn);(jn||gr)&&Ur(rn.element,"display","none")},ht=function(rn,$n,cn,Xn){var mn=cn($n);wT.snapTo(rn,mn);var nn=function(gr){return gr[Xn]<0},jn=function(gr,dn){return gr[Xn]>dn};Be(rn,$n,nn,jn)},Ut=function(rn){return ht(je,rn,j,"top")},Kt=function(){return A.get().each(Ut)},ct=function(rn){return ht(ft,rn,K,"bottom")},Lt=function(){return N.get().each(ct)};Cr().deviceType.isTouch()&&(a.on("TableSelectionChange",function(rn){M.get()||(Os(c,je),Os(c,ft),M.set(!0)),A.set(rn.start),N.set(rn.finish),rn.otherCells.each(function($n){p.set($n.upOrLeftCells),w.set($n.downOrRightCells),Ut(rn.start),ct(rn.finish)})}),a.on("ResizeEditor ResizeWindow ScrollContent",function(){Kt(),Lt()}),a.on("TableSelectionClear",function(){M.get()&&(jc(je),jc(ft),M.set(!1)),A.clear(),N.clear()}))},Swe=function(a){return!!(a.nodeType===1&&(a.nodeName==="BR"||a.getAttribute("data-mce-bogus")||a.getAttribute("data-mce-type")==="bookmark"))},Cwe=function(a,c,p){c.delimiter||(c.delimiter="»");var w=function(A){var N=A||[],j=Je(N,function(K,oe){return vl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":oe,"tab-index":-1,"aria-level":oe+1},innerHtml:K.name},action:function(se){a.focus(),a.selection.select(K.element),a.nodeChanged()},buttonBehaviours:zn([Pf.button(p.isDisabled),Bu()])})}),W={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+c.delimiter+" "}};return Ft(j.slice(1),function(K,oe){var se=K;return se.push(W),se.push(oe),se},[j[0]])},M=function(A){for(var N=[],j=A.length;j-- >0;){var W=A[j];if(W.nodeType===1&&!Swe(W)){var K=a.fire("ResolveName",{name:W.nodeName.toLowerCase(),target:W});if(K.isDefaultPrevented()||N.push({name:K.name,element:W}),K.isPropagationStopped())break}}return N};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:zn([Rr.config({mode:"flow",selector:"div[role=button]"}),Mr.config({disabled:p.isDisabled}),Bu(),ou.config({}),Qr.config({}),po("elementPathEvents",[ha(function(A,N){a.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Rr.focusIn(A)}),a.on("NodeChange",function(j){var W=M(j.parents);W.length>0?Qr.set(A,w(W)):Qr.set(A,[])})})])]),components:[]}},_T;(function(a){a[a.None=0]="None",a[a.Both=1]="Both",a[a.Vertical=2]="Vertical"})(_T||(_T={}));var Twe=function(a,c,p,w,M){var A={};return A.height=A7(w+c.top,B6(a),yI(a)),p===_T.Both&&(A.width=A7(M+c.left,L6(a),vI(a))),A},Ore=function(a,c,p){var w=He.fromDom(a.getContainer()),M=Twe(a,c,p,fu(w),Cs(w));Bn(M,function(A,N){return Ur(w,N,ZX(A))}),fB(a)},Mwe=function(a){var c=!a.hasPlugin("autoresize"),p=a.getParam("resize",c);return p===!1?_T.None:p==="both"?_T.Both:_T.Vertical},B7=function(a,c,p,w){var M=20,A=Oi(p*M,w*M);return Ore(a,A,c),$.some(!0)},kwe=function(a,c){var p=Mwe(a);return p===_T.None?$.none():$.some(sp("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:c.translate("Resize")},behaviours:[wT.config({mode:"mouse",repositionTarget:!1,onDrag:function(w,M,A){return Ore(a,A,p)},blockerClass:"tox-blocker"}),Rr.config({mode:"special",onLeft:function(){return B7(a,p,-1,0)},onRight:function(){return B7(a,p,1,0)},onUp:function(){return B7(a,p,0,-1)},onDown:function(){return B7(a,p,0,1)}}),ou.config({}),$r.config({})]},c.icons))},Dwe=function(a,c){var p,w=function(M,A,N){return Qr.set(M,[qp(c.translate(["{0} "+N,A[N]]))])};return vl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:zn([Pf.button(c.isDisabled),Bu(),ou.config({}),Qr.config({}),qn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),po("wordcount-events",[Sf(function(M){var A=qn.getValue(M),N=A.mode==="words"?"characters":"words";qn.setValue(M,{mode:N,count:A.count}),w(M,A.count,N)}),ha(function(M){a.on("wordCountUpdate",function(A){var N=qn.getValue(M).mode;qn.setValue(M,{mode:N,count:A.wordCount}),w(M,A.wordCount,N)})})])]),eventOrder:(p={},p[Tc()]=["disabling","alloy.base.behaviour","wordcount-events"],p)})},Awe=function(a,c){var p=function(){var A=If.translate(["Powered by {0}","Tiny"]),N='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+A+'">'+A+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:N}}},w=function(){var A=[];return a.getParam("elementpath",!0,"boolean")&&A.push(Cwe(a,{},c)),a.hasPlugin("wordcount")&&A.push(Dwe(a,c)),a.getParam("branding",!0,"boolean")&&A.push(p()),A.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:A}]:[]},M=function(){var A=w(),N=kwe(a,c);return A.concat(N.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:M()}},Ewe=function(a){var c,p=a.inline,w=p?pbe:ube,M=IA(a)?OX:AE,A=$.none(),N=Cr(),j=N.browser.isIE(),W=j?["tox-platform-ie"]:[],K=N.deviceType.isTouch(),oe="tox-platform-touch",se=K?[oe]:[],be=H6(a),_e=PC(a),Ee=If.isRtl()?{attributes:{dir:"rtl"}}:{},je={attributes:(c={},c[Hx]=be?Qh.BottomToTop:Qh.TopToBottom,c)},ft=function(){return A.bind(vu.getHeader)},Be=function(){return M.isDocked(ft)},ht=function(){Ur(Bf.element,"width",document.body.clientWidth+"px")},Ut=function(){var Fl=si(li(),_e)&&ka(_e,"display")==="grid",h2={dom:ne({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(W).concat(se)},Ee),behaviours:zn([hl.config({useFixed:function(){return Be()}})])},jE={dom:{styles:{width:document.body.clientWidth+"px"}},events:Gi([fn(Mc(),ht)])};return Zt(h2,Fl?jE:{})},Kt=ru(Ut()),ct=function(){return fo.value(Kt)},Lt=ci({dom:{tag:"div",classes:["tox-anchorbar"]}}),rn=function(){return A.bind(function(Fl){return Lt.getOpt(Fl)}).getOrDie("Could not find a anchor bar element")},$n=function(){return A.bind(function(Fl){return vu.getToolbar(Fl)}).getOrDie("Could not find more toolbar element")},cn=function(){return A.bind(function(Fl){return vu.getThrobber(Fl)}).getOrDie("Could not find throbber element")},Xn=ub(Kt,a,rn),mn=vu.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Xn,onEscape:function(){a.focus()}}),nn=RC(a),jn=vu.parts.toolbar(ne({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ct,providers:Xn.shared.providers,onEscape:function(){a.focus()},type:nn,lazyToolbar:$n,lazyHeader:function(){return ft().getOrDie("Could not find header element")}},je)),gr=vu.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Xn.shared.providers,onEscape:function(){a.focus()},type:nn}),dn=vu.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),cr=vu.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),wr=vu.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Xn}),Vo=a.getParam("statusbar",!0,"boolean"),wi=Vo&&!p?$.some(Awe(a,Xn.shared.providers)):$.none(),Oa={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[dn,cr]},vp=EA(a),ph=xI(a),TY=bI(a),MY=function(){return vp?[gr]:ph?[jn]:[]},F7=vu.parts.header({dom:ne({tag:"div",classes:["tox-editor-header"]},je),components:Xe([TY?[mn]:[],MY(),OA(a)?[]:[Lt.asSpec()]]),sticky:IA(a),editor:a,sharedBackstage:Xn.shared}),kY=Xe([be?[]:[F7],p?[]:[Oa],be?[F7]:[]]),CP={dom:{tag:"div",classes:["tox-editor-container"]},components:kY},V7=Xe([[CP],p?[]:wi.toArray(),[wr]]),TP=_I(a),H7=ne(ne({role:"application"},If.isRtl()?{dir:"rtl"}:{}),TP?{"aria-hidden":"true"}:{}),Im=ru(vu.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(p?["tox-tinymce-inline"]:[]).concat(be?["tox-tinymce--toolbar-bottom"]:[]).concat(se).concat(W),styles:ne({visibility:"hidden"},TP?{opacity:"0",border:"0"}:{}),attributes:H7},components:V7,behaviours:zn([Bu(),Mr.config({disableClass:"tox-tinymce--disabled"}),Rr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));A=$.some(Im),a.shortcuts.add("alt+F9","focus menubar",function(){vu.focusMenubar(Im)}),a.shortcuts.add("alt+F10","focus toolbar",function(){vu.focusToolbar(Im)}),a.addCommand("ToggleToolbarDrawer",function(){vu.toggleToolbarDrawer(Im)}),a.addQueryStateHandler("ToggleToolbarDrawer",function(){return vu.isToolbarDrawerToggled(Im)});var MP=BB(Im),Bf=BB(Kt);fX(a,MP,Bf);var DY=function(){var Fl={broadcastAll:Bf.broadcast,broadcastOn:Bf.broadcastOn,register:E};return{channels:Fl}},AY=function(){var Fl=ZX(lbe(a)),h2=ZX(cbe(a));return a.inline||(bc("div","width",h2)&&Ur(Im.element,"width",h2),bc("div","height",Fl)?Ur(Im.element,"height",Fl):Ur(Im.element,"height","200px")),Fl},EY=function(){M.setup(a,Xn.shared,ft),dxe(a,Xn),Nxe(a,ct,Xn),Ke(a),zt(a,cn,Xn.shared),bn(Oj(a),function(Ff,yp){a.ui.registry.addGroupToolbarButton(yp,Ff)});var Fl=a.ui.registry.getAll(),h2=Fl.buttons,jE=Fl.menuItems,OY=Fl.contextToolbars,WE=Fl.sidebars,IY=V6(a),nr={menuItems:jE,menus:Bj(a),menubar:zj(a),toolbar:IY.getOrThunk(function(){return SI(a)}),allowToolbarGroups:nn===Rf.floating,buttons:h2,sidebar:WE};Fbe(a,OY,Kt,{backstage:Xn}),_we(a,Kt);var wo=a.getElement(),Mi=AY(),au={mothership:MP,uiMothership:Bf,outerContainer:Im},zf={targetNode:wo,height:Mi};return w.render(a,au,nr,Xn,zf)};return{mothership:MP,uiMothership:Bf,backstage:Xn,renderUI:EY,getUi:DY}},Owe=function(a,c){var p=$.from(la(a,"id")).fold(function(){var w=ir("dialog-describe");return so(c,"id",w),w},q);so(a,"aria-describedby",p)},Iwe=function(a,c){var p=wa(a,"id").fold(function(){var w=ir("dialog-label");return so(c,"id",w),w},q);so(a,"aria-labelledby",p)},Rwe=L([on("lazySink"),oi("dragBlockClass"),$i("getBounds",us),dt("useTabstopAt",le),dt("eventOrder",{}),Pu("modalBehaviours",[Rr]),Pi("onExecute"),Xp("onEscape")]),hY={sketch:q},Pwe=L([Af({name:"draghandle",overrides:function(a,c){return{behaviours:zn([wT.config({mode:"mouse",getTarget:function(p){return cx(p,'[role="dialog"]').getOr(p)},blockerClass:a.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(c,null,2)).message),getBounds:a.getDragBounds})])}}}),Qu({schema:[on("dom")],name:"title"}),Qu({factory:hY,schema:[on("dom")],name:"close"}),Qu({factory:hY,schema:[on("dom")],name:"body"}),Af({factory:hY,schema:[on("dom")],name:"footer"}),Ec({factory:{sketch:function(a,c){return ne(ne({},a),{dom:c.dom,components:c.components})}},schema:[dt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),dt("components",[])],name:"blocker"})]),Nwe=function(a,c,p,w){var M,A=za(),N=function(Ee){A.set(Ee);var je=a.lazySink(Ee).getOrDie(),ft=w.blocker(),Be=je.getSystem().build(ne(ne({},ft),{components:ft.components.concat([Dc(Ee)]),behaviours:zn([$r.config({}),po("dialog-blocker-events",[Gh(Bc(),function(){Rr.focusIn(Ee)})])])}));Os(je,Be),Rr.focusIn(Ee)},j=function(Ee){A.clear(),sa(Ee.element).each(function(je){Ee.getSystem().getByDom(je).each(function(ft){jc(ft)})})},W=function(Ee){return nh(Ee,a,"body")},K=function(Ee){return nh(Ee,a,"footer")},oe=function(Ee,je){rr.block(Ee,je)},se=function(Ee){rr.unblock(Ee)},be=ir("modal-events"),_e=ne(ne({},a.eventOrder),(M={},M[Zl()]=[be].concat(a.eventOrder["alloy.system.attached"]||[]),M));return{uid:a.uid,dom:a.dom,components:c,apis:{show:N,hide:j,getBody:W,getFooter:K,setIdle:se,setBusy:oe},eventOrder:_e,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Nu(a.modalBehaviours,[Qr.config({}),Rr.config({mode:"cyclic",onEnter:a.onExecute,onEscape:a.onEscape,useTabstopAt:a.useTabstopAt}),rr.config({getRoot:A.get}),po(be,[ha(function(Ee){Iwe(Ee.element,nh(Ee,a,"title").element),Owe(Ee.element,nh(Ee,a,"body").element)})])])}},ys=ml({name:"ModalDialog",configFields:Rwe(),partFields:Pwe(),factory:Nwe,apis:{show:function(a,c){a.show(c)},hide:function(a,c){a.hide(c)},getBody:function(a,c){return a.getBody(c)},getFooter:function(a,c){return a.getFooter(c)},setBusy:function(a,c,p){a.setBusy(c,p)},setIdle:function(a,c){a.setIdle(c)}}}),Lwe=Sr([Yr("type"),Yr("name")].concat(H1)),Bwe=Uu,Ire=[Su("name","name",Io(function(){return ir("button-name")}),Ga),qi("icon"),Sc("align","end",["start","end"]),Ri("primary",!1),Ri("disabled",!1)],Rre=Ce(Ce([],Ire,!0),[Yr("text")],!1),pY=Ce([_c("type",["submit","cancel","custom"])],Rre,!0),zwe=Ce([_c("type",["menu"]),qi("text"),qi("tooltip"),qi("icon"),Ds("items",Lwe)],Ire,!0),Fwe=Lc("type",{submit:pY,cancel:pY,custom:pY,menu:zwe}),Vwe=[Yr("type"),Yr("text"),_c("level",["info","warn","error","success"]),Yr("icon"),dt("url","")],Hwe=Sr(Vwe),jwe=function(a){return[Yr("type"),a]},Wwe=[Yr("type"),Yr("text"),Ri("disabled",!1),Ri("primary",!1),Su("name","name",Io(function(){return ir("button-name")}),Ga),qi("icon"),Ri("borderless",!1)],Uwe=Sr(Wwe),qwe=[Yr("type"),Yr("name"),Yr("label"),Ri("disabled",!1)],$we=Sr(qwe),Gwe=Uu,mY=[Yr("type"),Yr("name")],Om=mY.concat([qi("label")]),Xwe=Om.concat([dt("columns","auto")]),Ywe=Sr(Xwe),Kwe=d_([Yr("value"),Yr("text"),Yr("icon")]),Jwe=Om,Zwe=Sr(Jwe),Qwe=Ga,e2e=Om,t2e=Sr(e2e),n2e=Ga,r2e=mY.concat([Wv("tag","textarea"),Yr("scriptId"),Yr("scriptUrl"),El("settings",void 0)]),o2e=mY.concat([Wv("tag","textarea"),Ws("init")]),i2e=Hv(function(a){return _a("customeditor.old",Yl(o2e),a).orThunk(function(){return _a("customeditor.new",Yl(r2e),a)})}),a2e=Ga,u2e=Om,s2e=Sr(u2e),l2e=T5(),c2e=function(a){return[Yr("type"),Hh("columns"),a]},f2e=[Yr("type"),Yr("html"),Sc("presets","presentation",["presentation","document"])],d2e=Sr(f2e),h2e=Om.concat([Ri("sandboxed",!0)]),p2e=Sr(h2e),m2e=Ga,g2e=Om.concat([Al("currentState",Sr([on("blob"),Yr("url")]))]),v2e=Sr(g2e),y2e=Om.concat([qi("inputMode"),qi("placeholder"),Ri("maximized",!1),Ri("disabled",!1)]),b2e=Sr(y2e),x2e=Ga,w2e=function(a){return[Yr("type"),Yr("label"),a]},_2e=[Yr("text"),Yr("value")],S2e=[Yr("text"),Ds("items",M5("items",function(){return Pre}))],Pre=Oy([Sr(_2e),Sr(S2e)]),C2e=Om.concat([Ds("items",Pre),Ri("disabled",!1)]),T2e=Sr(C2e),M2e=Ga,k2e=Om.concat([yf("items",[Yr("text"),Yr("value")]),od("size",1),Ri("disabled",!1)]),D2e=Sr(k2e),A2e=Ga,E2e=Om.concat([Ri("constrain",!0),Ri("disabled",!1)]),O2e=Sr(E2e),Nre=Sr([Yr("width"),Yr("height")]),I2e=[Yr("type"),Ds("header",Ga),Ds("cells",Vh(Ga))],R2e=Sr(I2e),P2e=Om.concat([qi("placeholder"),Ri("maximized",!1),Ri("disabled",!1)]),N2e=Sr(P2e),L2e=Ga,B2e=Om.concat([Sc("filetype","file",["image","media","file"]),dt("disabled",!1)]),z2e=Sr(B2e),F2e=Sr([Yr("value"),dt("meta",{})]),gY=function(a){return Su("items","items",Zr(),Vh(Hv(function(c){return _a("Checking item of "+a,vY,c).fold(function(p){return fo.error(Pp(p))},function(p){return fo.value(p)})})))},vY=zM(function(){return Yb("type",{alertbanner:Hwe,bar:Sr(jwe(gY("bar"))),button:Uwe,checkbox:$we,colorinput:Zwe,colorpicker:t2e,dropzone:s2e,grid:Sr(c2e(gY("grid"))),iframe:p2e,input:b2e,listbox:T2e,selectbox:D2e,sizeinput:O2e,textarea:N2e,urlinput:z2e,customeditor:i2e,htmlpanel:d2e,imagetools:v2e,collection:Ywe,label:Sr(w2e(gY("label"))),table:R2e,panel:Lre})}),V2e=[Yr("type"),dt("classes",[]),Ds("items",vY)],Lre=Sr(V2e),H2e=[Su("name","name",Io(function(){return ir("tab-name")}),Ga),Yr("title"),Ds("items",vY)],j2e=[Yr("type"),yf("tabs",H2e)],W2e=Sr(j2e),U2e=Rre,q2e=Fwe,$2e=Sr([Yr("title"),Al("body",Yb("type",{panel:Lre,tabpanel:W2e})),Wv("size","normal"),Ds("buttons",q2e),dt("initialData",{}),$i("onAction",E),$i("onChange",E),$i("onSubmit",E),$i("onClose",E),$i("onCancel",E),dt("onTabChange",E)]),G2e=function(a){return _a("dialog",$2e,a)},X2e=Sr(Ce([_c("type",["cancel","custom"])],U2e,!0)),Y2e=Sr([Yr("title"),Yr("url"),ag("height"),ag("width"),Kl("buttons",X2e),$i("onAction",E),$i("onCancel",E),$i("onClose",E),$i("onMessage",E)]),K2e=function(a){return _a("dialog",Y2e,a)},yY=function(a){return u(a)?[a].concat(Bt(jt(a),yY)):l(a)?Bt(a,yY):[]},J2e=function(a){return i(a.type)&&i(a.name)},Z2e={checkbox:Gwe,colorinput:Qwe,colorpicker:n2e,dropzone:l2e,input:x2e,iframe:m2e,sizeinput:Nre,selectbox:A2e,listbox:M2e,size:Nre,textarea:L2e,urlinput:F2e,customeditor:a2e,collection:Kwe,togglemenuitem:Bwe},Q2e=function(a){return $.from(Z2e[a.type])},e_e=function(a){return Ye(yY(a),J2e)},t_e=function(a){var c=e_e(a),p=Bt(c,function(w){return Q2e(w).fold(function(){return[]},function(M){return[Al(w.name,M)]})});return Sr(p)},Bre=function(a){var c=vf(G2e(a)),p=t_e(a),w=a.initialData;return{internalDialog:c,dataValidator:p,initialData:w}},SP={open:function(a,c){var p=Bre(c);return a(p.internalDialog,p.initialData,p.dataValidator)},openUrl:function(a,c){var p=vf(K2e(c));return a(p)},redial:function(a){return Bre(a)}},zre=function(a){var c=[],p={};return Bn(a,function(w,M){w.fold(function(){c.push(M)},function(A){p[M]=A})}),c.length>0?fo.error(c):fo.value(p)},n_e=function(a,c){var p=ci(Qw.sketch(function(w){return{dom:{tag:"div",classes:["tox-form"].concat(a.classes)},components:Je(a.items,function(M){return eP(w,M,c)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[p.asSpec()]}],behaviours:zn([Rr.config({mode:"acyclic",useTabstopAt:ae(e2)}),hp.memento(p),tb.memento(p,{postprocess:function(w){return zre(w).fold(function(M){return console.error(M),{}},q)}})])}},r_e=function(a,c){return{uid:a.uid,dom:a.dom,components:a.components,events:I1(a.action),behaviours:Nu(a.tabButtonBehaviours,[$r.config({}),Rr.config({mode:"execution",useSpace:!0,useEnter:!0}),qn.config({store:{mode:"memory",initialValue:a.value}})]),domModification:a.domModification}},o_e=ac({name:"TabButton",configFields:[dt("uid",void 0),on("value"),Su("dom","dom",ss(function(){return{attributes:{role:"tab",id:ir("aria"),"aria-selected":"false"}}}),gf()),oi("action"),dt("domModification",{}),Pu("tabButtonBehaviours",[$r,Rr,qn]),on("view")],factory:r_e}),i_e=L([on("tabs"),on("dom"),dt("clickToDismiss",!1),Pu("tabbarBehaviours",[ii,Rr]),Sg(["tabClass","selectedClass"])]),a_e=md({factory:o_e,name:"tabs",unit:"tab",overrides:function(a){var c=function(w,M){ii.dehighlight(w,M),Ir(w,cs(),{tabbar:w,button:M})},p=function(w,M){ii.highlight(w,M),Ir(w,GM(),{tabbar:w,button:M})};return{action:function(w){var M=w.getSystem().getByUid(a.uid).getOrDie(),A=ii.isHighlighted(M,w),N=function(){return A&&a.clickToDismiss?c:A?E:p}();N(M,w)},domModification:{classes:[a.markers.tabClass]}}}}),u_e=L([a_e]),s_e=function(a,c,p,w){return{uid:a.uid,dom:a.dom,components:c,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Nu(a.tabbarBehaviours,[ii.config({highlightClass:a.markers.selectedClass,itemClass:a.markers.tabClass,onHighlight:function(M,A){so(A.element,"aria-selected","true")},onDehighlight:function(M,A){so(A.element,"aria-selected","false")}}),Rr.config({mode:"flow",getInitial:function(M){return ii.getHighlighted(M).map(function(A){return A.element})},selector:"."+a.markers.tabClass,executeOnMove:!0})])}},Fre=ml({name:"Tabbar",configFields:i_e(),partFields:u_e(),factory:s_e}),l_e=function(a,c){return{uid:a.uid,dom:a.dom,behaviours:Nu(a.tabviewBehaviours,[Qr.config({})]),domModification:{attributes:{role:"tabpanel"}}}},c_e=ac({name:"Tabview",configFields:[Pu("tabviewBehaviours",[Qr])],factory:l_e}),f_e=L([dt("selectFirst",!0),_o("onChangeTab"),_o("onDismissTab"),dt("tabs",[]),Pu("tabSectionBehaviours",[])]),d_e=Qu({factory:Fre,schema:[on("dom"),Hd("markers",[on("tabClass"),on("selectedClass")])],name:"tabbar",defaults:function(a){return{tabs:a.tabs}}}),h_e=Qu({factory:c_e,name:"tabview"}),p_e=L([d_e,h_e]),m_e=function(a,c,p,w){var M=function(N){var j=qn.getValue(N);Ti(N,a,"tabview").each(function(W){var K=Rt(a.tabs,function(oe){return oe.value===j});K.each(function(oe){var se=oe.view();wa(N.element,"id").each(function(be){so(W.element,"aria-labelledby",be)}),Qr.set(W,se),a.onChangeTab(W,N,se)})})},A=function(N,j){Ti(N,a,"tabbar").each(function(W){j(W).each($h)})};return{uid:a.uid,dom:a.dom,components:c,behaviours:Vg(a.tabSectionBehaviours),events:Gi(Xe([a.selectFirst?[ha(function(N,j){A(N,ii.getFirst)})]:[],[fn(GM(),function(N,j){var W=j.event.button;M(W)}),fn(cs(),function(N,j){var W=j.event.button;a.onDismissTab(N,W)})]])),apis:{getViewItems:function(N){return Ti(N,a,"tabview").map(function(j){return Qr.contents(j)}).getOr([])},showTab:function(N,j){var W=function(K){var oe=ii.getCandidates(K),se=Rt(oe,function(be){return qn.getValue(be)===j});return se.filter(function(be){return!ii.isHighlighted(K,be)})};A(N,W)}}}},HE=ml({name:"TabSection",configFields:f_e(),partFields:p_e(),factory:m_e,apis:{getViewItems:function(a,c){return a.getViewItems(c)},showTab:function(a,c,p){a.showTab(c,p)}}}),g_e=function(a,c,p){return Je(a,function(w,M){Qr.set(p,a[M].view());var A=c.dom.getBoundingClientRect();return Qr.set(p,[]),A.height})},v_e=function(a){return gn(Mo(a,function(c,p){return c>p?-1:c<p?1:0}))},y_e=function(a,c,p){var w=qt(a).dom,M=cx(a,".tox-dialog-wrap").getOr(a),A=ka(M,"position")==="fixed",N;A?N=Math.max(w.clientHeight,window.innerHeight):N=Math.max(w.offsetHeight,w.scrollHeight);var j=fu(c),W=c.dom.offsetLeft>=p.dom.offsetLeft+Cs(p),K=W?Math.max(fu(p),j):j,oe=parseInt(ka(a,"margin-top"),10)||0,se=parseInt(ka(a,"margin-bottom"),10)||0,be=fu(a)+oe+se,_e=be-K;return N-_e},b_e=function(a,c){gn(a).each(function(p){return HE.showTab(c,p.value)})},Vre=function(a,c){Ur(a,"height",c+"px"),Cr().browser.isIE()?ri(a,"flex-basis"):Ur(a,"flex-basis",c+"px")},z7=function(a,c,p){cx(a,'[role="dialog"]').each(function(w){mu(w,'[role="tablist"]').each(function(M){p.get().map(function(A){return Ur(c,"height","0"),Ur(c,"flex-basis","0"),Math.min(A,y_e(w,c,M))}).each(function(A){Vre(c,A)})})})},bY=function(a){return mu(a,'[role="tabpanel"]')},x_e=function(a){var c=function(){var w=za(),M=[ha(function(N){var j=N.element;bY(j).each(function(W){Ur(W,"visibility","hidden"),N.getSystem().getByDom(W).toOptional().each(function(K){var oe=g_e(a,W,K),se=v_e(oe);se.fold(w.clear,w.set)}),z7(j,W,w),ri(W,"visibility"),b_e(a,N),rv.requestAnimationFrame(function(){z7(j,W,w)})})}),fn(Mc(),function(N){var j=N.element;bY(j).each(function(W){z7(j,W,w)})}),fn(WA,function(N,j){var W=N.element;bY(W).each(function(K){var oe=rc(Tr(K));Ur(K,"visibility","hidden");var se=eu(K,"height").map(function(Ee){return parseInt(Ee,10)});ri(K,"height"),ri(K,"flex-basis");var be=K.dom.getBoundingClientRect().height,_e=se.forall(function(Ee){return be>Ee});_e?(w.set(be),z7(W,K,w)):se.each(function(Ee){Vre(K,Ee)}),ri(K,"visibility"),oe.each(Kd)})})],A=!1;return{extraEvents:M,selectFirst:A}}(),p=function(){var w=[],M=!0;return{extraEvents:w,selectFirst:M}}();return{smartTabHeight:c,naiveTabHeight:p}},Hre="send-data-to-section",jre="send-data-to-view",w_e=function(a,c){var p=Er({}),w=function(W){var K=qn.getValue(W),oe=zre(K).getOr({}),se=p.get(),be=Zt(se,oe);p.set(be)},M=function(W){var K=p.get();qn.setValue(W,K)},A=Er(null),N=Je(a.tabs,function(W){return{value:W.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:c.shared.providers.translate(W.title)},view:function(){return[Qw.sketch(function(K){return{dom:{tag:"div",classes:["tox-form"]},components:Je(W.items,function(oe){return eP(K,oe,c)}),formBehaviours:zn([Rr.config({mode:"acyclic",useTabstopAt:ae(e2)}),po("TabView.form.events",[ha(M),Ql(w)]),nc.config({channels:Wh([{key:Hre,value:{onReceive:w}},{key:jre,value:{onReceive:M}}])})])}})]}}}),j=x_e(N).smartTabHeight;return HE.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(W,K,oe){var se=qn.getValue(K);Ir(W,HB,{name:se,oldName:A.get()}),A.set(se)},tabs:N,components:[HE.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Fre.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:zn([ou.config({})])}),HE.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:j.selectFirst,tabSectionBehaviours:zn([po("tabpanel",j.extraEvents),Rr.config({mode:"acyclic"}),So.config({find:function(W){return gn(HE.getViewItems(W))}}),qn.config({store:{mode:"manual",getValue:function(W){return W.getSystem().broadcastOn([Hre],{}),p.get()},setValue:function(W,K){p.set(K),W.getSystem().broadcastOn([jre],{})}}})])})},xY=ir("update-dialog"),Wre=ir("update-title"),Ure=ir("update-body"),qre=ir("update-footer"),$re=ir("body-send-message"),Gre=function(a,c,p,w){var M=function(j){switch(j.body.type){case"tabpanel":return[w_e(j.body,p)];default:return[n_e(j.body,p)]}},A=function(j,W){return $.some({isTabPanel:function(){return W.body.type==="tabpanel"}})},N={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ne(ne({},c.map(function(j){return{id:j}}).getOr({})),w?N:{})},components:[],behaviours:zn([hp.childAt(0),Cd.config({channel:Ure,updateState:A,renderComponents:M,initialData:a})])}},__e=function(a,c,p,w){return Gre(a,$.some(c),p,w)},S_e=function(a,c){var p=Gre(a,$.none(),c,!1);return ys.parts.body(p)},C_e=function(a){var c={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[jz({dom:{tag:"iframe",attributes:{src:a.url}},behaviours:zn([ou.config({}),$r.config({})])})]}],behaviours:zn([Rr.config({mode:"acyclic",useTabstopAt:ae(e2)})])};return ys.parts.body(c)},T_e=DI.deviceType.isTouch(),Xre=function(a,c){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[a,c]}},Yre=function(a,c){return ys.parts.close(vl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":c.translate("Close")}},action:a,buttonBehaviours:zn([ou.config({})])}))},Kre=function(){return ys.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},Jre=function(a,c){return ys.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:oo("<p>"+c.translate(a)+"</p>")}]}]})},Zre=function(a){return ys.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:a})},Qre=function(a,c){return[yl.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:a}),yl.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:c})]},wY=function(a){var c,p="tox-dialog",w=p+"-wrap",M=w+"__backdrop",A=p+"__disable-scroll";return ys.sketch({lazySink:a.lazySink,onEscape:function(N){return a.onEscape(N),$.some(!0)},useTabstopAt:function(N){return!e2(N)},dom:{tag:"div",classes:[p].concat(a.extraClasses),styles:ne({position:"relative"},a.extraStyles)},components:Ce([a.header,a.body],a.footer.toArray(),!0),parts:{blocker:{dom:oo('<div class="'+w+'"></div>'),components:[{dom:{tag:"div",classes:T_e?[M,M+"--opaque"]:[M]}}]}},dragBlockClass:w,modalBehaviours:zn(Ce([$r.config({}),po("dialog-events",a.dialogEvents.concat([Gh(Bc(),function(N,j){Rr.focusIn(N)})])),po("scroll-lock",[ha(function(){Xu(li(),A)}),Ql(function(){pu(li(),A)})])],a.extraBehaviours,!0)),eventOrder:ne((c={},c[Tc()]=["dialog-events"],c[Zl()]=["scroll-lock","dialog-events","alloy.base.behaviour"],c[Yv()]=["alloy.base.behaviour","dialog-events","scroll-lock"],c),a.eventOrder)})},eoe=function(a){return vl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close"),title:a.translate("Close")}},components:[sp("close",{tag:"div",classes:["tox-icon"]},a.icons)],action:function(c){ko(c,Nf)}})},toe=function(a,c,p){var w=function(M){return[qp(p.translate(M.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:ne({},c.map(function(M){return{id:M}}).getOr({}))},components:w(a),behaviours:zn([Cd.config({channel:Wre,renderComponents:w})])}},noe=function(){return{dom:oo('<div class="tox-dialog__draghandle"></div>')}},M_e=function(a,c,p){return yl.sketch({dom:oo('<div class="tox-dialog__header"></div>'),components:[toe(a,$.some(c),p),noe(),eoe(p)],containerBehaviours:zn([wT.config({mode:"mouse",blockerClass:"blocker",getTarget:function(w){return qs(w,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},k_e=function(a,c){var p=ys.parts.title(toe(a,$.none(),c)),w=ys.parts.draghandle(noe()),M=ys.parts.close(eoe(c)),A=[p].concat(a.draggable?[w]:[]).concat([M]);return yl.sketch({dom:oo('<div class="tox-dialog__header"></div>'),components:A})},roe=function(a,c){return k_e({title:c.shared.providers.translate(a),draggable:c.dialog.isDraggableModal()},c.shared.providers)},ooe=function(a,c,p){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":p.translate(a)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:c,components:[{dom:oo('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},ioe=function(a,c,p){return{onClose:function(){return p.closeWindow()},onBlock:function(w){ys.setBusy(a(),function(M,A){return ooe(w.message,A,c)})},onUnblock:function(){ys.setIdle(a())}}},aoe=function(a,c,p,w){var M,A=function(N,j){return $.some(j)};return ru(wY(ne(ne({},a),{lazySink:w.shared.getSink,extraBehaviours:Ce([Cd.config({channel:xY,updateState:A,initialData:c}),tb.memory({})],a.extraBehaviours,!0),onEscape:function(N){ko(N,Nf)},dialogEvents:p,eventOrder:(M={},M[zc()]=[Cd.name(),nc.name()],M[Zl()]=["scroll-lock",Cd.name(),"messages","dialog-events","alloy.base.behaviour"],M[Yv()]=["alloy.base.behaviour","dialog-events","messages",Cd.name(),"scroll-lock"],M)})))},uoe=function(a){var c=function(p){var w=Je(p.items,function(M){var A=Er(!1);return ne(ne({},M),{storage:A})});return ne(ne({},p),{items:w})};return Je(a,function(p){return p.type==="menu"?c(p):p})},soe=function(a){return Ft(a,function(c,p){if(p.type==="menu"){var w=p;return Ft(w.items,function(M,A){return M[A.name]=A.storage,M},c)}return c},{})},loe=function(a,c){return[Fp(Bc(),Rq),a(Jc,function(p,w){c.onClose(),w.onClose()}),a(Nf,function(p,w,M,A){w.onCancel(p),ko(A,Jc)}),fn(Gw,function(p,w){return c.onUnblock()}),fn(jA,function(p,w){return c.onBlock(w.event)})]},D_e=function(a,c){var p=function(M,A){return fn(M,function(N,j){w(N,function(W,K){A(a(),W,j.event,N)})})},w=function(M,A){Cd.getState(M).get().each(function(N){A(N,M)})};return Ce(Ce([],loe(p,c),!0),[p(xm,function(M,A,N){A.onAction(M,{name:N.name})})],!1)},A_e=function(a,c,p){var w=function(A,N){return fn(A,function(j,W){M(j,function(K,oe){N(a(),K,W.event,j)})})},M=function(A,N){Cd.getState(A).get().each(function(j){N(j.internalDialog,A)})};return Ce(Ce([],loe(w,c),!0),[w($w,function(A,N){return N.onSubmit(A)}),w(Kc,function(A,N,j){N.onChange(A,{name:j.name})}),w(xm,function(A,N,j,W){var K=function(){return Rr.focusIn(W)},oe=function(_e){return Wb(_e,"disabled")||wa(_e,"aria-disabled").exists(function(Ee){return Ee==="true"})},se=Tr(W.element),be=rc(se);N.onAction(A,{name:j.name,value:j.value}),rc(se).fold(K,function(_e){oe(_e)||be.exists(function(Ee){return Ss(_e,Ee)&&oe(Ee)})?K():p().toOptional().filter(function(Ee){return!Ss(Ee.element,_e)}).each(K)})}),w(HB,function(A,N,j){N.onTabChange(A,{newTabName:j.name,oldTabName:j.oldName})}),Ql(function(A){var N=a();qn.setValue(A,N.getData())})],!1)},_Y={initUrlDialog:D_e,initDialog:A_e},E_e=function(a,c){return o2(a,a.type,c)},O_e=function(a,c,p){return Rt(c,function(w){return w.name===p}).bind(function(w){return w.memento.getOpt(a)})},I_e=function(a,c){var p=c.map(function(j){return j.footerButtons}).getOr([]),w=Ue(p,function(j){return j.align==="start"}),M=function(j,W){return yl.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+j]},components:Je(W,function(K){return K.memento.asSpec()})})},A=M("start",w.pass),N=M("end",w.fail);return[A,N]},coe=function(a,c){var p=function(w,M){var A=Je(M.buttons,function(j){var W=ci(E_e(j,c));return{name:j.name,align:j.align,memento:W}}),N=function(j,W){return O_e(j,A,W)};return $.some({lookupByName:N,footerButtons:A})};return{dom:oo('<div class="tox-dialog__footer"></div>'),components:[],behaviours:zn([Cd.config({channel:qre,initialData:a,updateState:p,renderComponents:I_e})])}},R_e=function(a,c){return coe(a,c)},foe=function(a,c){return ys.parts.footer(coe(a,c))},SY=function(a,c){var p=a.getRoot();if(p.getSystem().isConnected()){var w=So.getCurrent(a.getFormWrapper()).getOr(a.getFormWrapper());return Qw.getField(w,c).fold(function(){var M=a.getFooter(),A=Cd.getState(M);return A.get().bind(function(N){return N.lookupByName(w,c)})},function(M){return $.some(M)})}else return $.none()},P_e=function(a,c){var p=a.getRoot();return Cd.getState(p).get().map(function(w){return vf(_a("data",w.dataValidator,c))}).getOr(c)},doe=function(a,c,p){var w=function(je){var ft=a.getRoot();ft.getSystem().isConnected()&&je(ft)},M=function(){var je=a.getRoot(),ft=je.getSystem().isConnected()?a.getFormWrapper():je,Be=qn.getValue(ft),ht=bn(p,function(Ut){return Ut.get()});return ne(ne({},Be),ht)},A=function(je){w(function(ft){var Be=Ee.getData(),ht=ne(ne({},Be),je),Ut=P_e(a,ht),Kt=a.getFormWrapper();qn.setValue(Kt,Ut),Bn(p,function(ct,Lt){ln(ht,Lt)&&ct.set(ht[Lt])})})},N=function(je){SY(a,je).each(Mr.disable)},j=function(je){SY(a,je).each(Mr.enable)},W=function(je){SY(a,je).each($r.focus)},K=function(je){if(!i(je))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");w(function(ft){Ir(ft,jA,{message:je})})},oe=function(){w(function(je){ko(je,Gw)})},se=function(je){w(function(ft){var Be=a.getBody(),ht=Cd.getState(Be);ht.get().exists(function(Ut){return Ut.isTabPanel()})&&So.getCurrent(Be).each(function(Ut){HE.showTab(Ut,je)})})},be=function(je){w(function(ft){var Be=c(je);ft.getSystem().broadcastOn([xY],Be),ft.getSystem().broadcastOn([Wre],Be.internalDialog),ft.getSystem().broadcastOn([Ure],Be.internalDialog),ft.getSystem().broadcastOn([qre],Be.internalDialog),Ee.setData(Be.initialData)})},_e=function(){w(function(je){ko(je,Jc)})},Ee={getData:M,setData:A,disable:N,enable:j,focus:W,block:K,unblock:oe,showTab:se,redial:be,close:_e};return Ee},N_e=function(a){switch(a){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},L_e=function(a,c,p){var w=roe(a.internalDialog.title,p),M=S_e({body:a.internalDialog.body},p),A=uoe(a.internalDialog.buttons),N=soe(A),j=foe({buttons:A},p),W=_Y.initDialog(function(){return _e},ioe(function(){return se},p.shared.providers,c),p.shared.getSink),K=N_e(a.internalDialog.size),oe={header:w,body:M,footer:$.some(j),extraClasses:K,extraBehaviours:[],extraStyles:{}},se=aoe(oe,a,W,p),be=function(){var Ee=function(){var je=ys.getBody(se);return So.getCurrent(je).getOr(je)};return{getRoot:L(se),getBody:function(){return ys.getBody(se)},getFooter:function(){return ys.getFooter(se)},getFormWrapper:Ee}}(),_e=doe(be,c.redial,N);return{dialog:se,instanceApi:_e}},B_e=function(a,c,p,w){var M,A,N=ir("dialog-label"),j=ir("dialog-content"),W=function(Be,ht){return $.some(ht)},K=ci(M_e({title:a.internalDialog.title,draggable:!0},N,p.shared.providers)),oe=ci(__e({body:a.internalDialog.body},j,p,w)),se=uoe(a.internalDialog.buttons),be=soe(se),_e=ci(R_e({buttons:se},p)),Ee=_Y.initDialog(function(){return ft},{onBlock:function(Be){rr.block(je,function(ht,Ut){return ooe(Be.message,Ut,p.shared.providers)})},onUnblock:function(){rr.unblock(je)},onClose:function(){return c.closeWindow()}},p.shared.getSink),je=ru({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(M={role:"dialog"},M["aria-labelledby"]=N,M["aria-describedby"]=j,M)},eventOrder:(A={},A[zc()]=[Cd.name(),nc.name()],A[Tc()]=["execute-on-form"],A[Zl()]=["reflecting","execute-on-form"],A),behaviours:zn([Rr.config({mode:"cyclic",onEscape:function(Be){return ko(Be,Jc),$.some(!0)},useTabstopAt:function(Be){return!e2(Be)&&(qe(Be)!=="button"||la(Be,"disabled")!=="disabled")}}),Cd.config({channel:xY,updateState:W,initialData:a}),$r.config({}),po("execute-on-form",Ee.concat([Gh(Bc(),function(Be,ht){Rr.focusIn(Be)})])),rr.config({getRoot:function(){return $.some(je)}}),Qr.config({}),tb.memory({})]),components:[K.asSpec(),oe.asSpec(),_e.asSpec()]}),ft=doe({getRoot:L(je),getFooter:function(){return _e.get(je)},getBody:function(){return oe.get(je)},getFormWrapper:function(){var Be=oe.get(je);return So.getCurrent(Be).getOr(Be)}},c.redial,be);return{dialog:je,instanceApi:ft}},CY=tinymce.util.Tools.resolve("tinymce.util.URI"),z_e=function(a){var c=function(N){a.getSystem().isConnected()&&N(a)},p=function(N){if(!i(N))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(function(j){Ir(j,jA,{message:N})})},w=function(){c(function(N){ko(N,Gw)})},M=function(){c(function(N){ko(N,Jc)})},A=function(N){c(function(j){j.getSystem().broadcastOn([$re],N)})};return{block:p,unblock:w,close:M,sendMessage:A}},F_e=["insertContent","setContent","execCommand","close","block","unblock"],hoe=function(a){return u(a)&&F_e.indexOf(a.mceAction)!==-1},V_e=function(a){return!hoe(a)&&u(a)&&ln(a,"mceAction")},H_e=function(a,c,p){switch(p.mceAction){case"insertContent":a.insertContent(p.content);break;case"setContent":a.setContent(p.content);break;case"execCommand":var w=h(p.ui)?p.ui:!1;a.execCommand(p.cmd,w,p.value);break;case"close":c.close();break;case"block":c.block(p.message);break;case"unblock":c.unblock();break}},j_e=function(a,c,p,w){var M,A=roe(a.title,w),N=C_e(a),j=a.buttons.bind(function(ht){return ht.length===0?$.none():$.some(foe({buttons:ht},w))}),W=_Y.initUrlDialog(function(){return Be},ioe(function(){return ft},w.shared.providers,c)),K=ne(ne({},a.height.fold(function(){return{}},function(ht){return{height:ht+"px","max-height":ht+"px"}})),a.width.fold(function(){return{}},function(ht){return{width:ht+"px","max-width":ht+"px"}})),oe=a.width.isNone()&&a.height.isNone()?["tox-dialog--width-lg"]:[],se=new CY(a.url,{base_uri:new CY(window.location.href)}),be=se.protocol+"://"+se.host+(se.port?":"+se.port:""),_e=Dg(),Ee=[po("messages",[ha(function(){var ht=Ka(He.fromDom(window),"message",function(Ut){if(se.isSameOrigin(new CY(Ut.raw.origin))){var Kt=Ut.raw.data;hoe(Kt)?H_e(p,Be,Kt):V_e(Kt)&&a.onMessage(Be,Kt)}});_e.set(ht)}),Ql(_e.clear)]),nc.config({channels:(M={},M[$re]={onReceive:function(ht,Ut){mu(ht.element,"iframe").each(function(Kt){var ct=Kt.dom.contentWindow;ct.postMessage(Ut,be)})}},M)})],je={header:A,body:N,footer:j,extraClasses:oe,extraBehaviours:Ee,extraStyles:K},ft=aoe(je,a,W,w),Be=z_e(ft);return{dialog:ft,instanceApi:Be}},W_e=function(a){var c=a.backstage.shared,p=function(w,M){var A=function(){ys.hide(K),M()},N=ci(o2({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:$.none()},"cancel",a.backstage)),j=Kre(),W=Yre(A,c.providers),K=ru(wY({lazySink:function(){return c.getSink()},header:Xre(j,W),body:Jre(w,c.providers),footer:$.some(Zre(Qre([],[N.asSpec()]))),onEscape:A,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[fn(Nf,A)],eventOrder:{}}));ys.show(K);var oe=N.get(K);$r.focus(oe)};return{open:p}},U_e=function(a){var c=a.backstage.shared,p=function(w,M){var A=function(be){ys.hide(oe),M(be)},N=ci(o2({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:$.none()},"submit",a.backstage)),j=o2({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:$.none()},"cancel",a.backstage),W=Kre(),K=Yre(function(){return A(!1)},c.providers),oe=ru(wY({lazySink:function(){return c.getSink()},header:Xre(W,K),body:Jre(w,c.providers),footer:$.some(Zre(Qre([],[j,N.asSpec()]))),onEscape:function(){return A(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[fn(Nf,function(){return A(!1)}),fn($w,function(){return A(!0)})],eventOrder:{}}));ys.show(oe);var se=N.get(oe);$r.focus(se)};return{open:p}},q_e=function(a,c){return vf(_a("data",c,a))},$_e=function(a){return qC(a,".tox-alert-dialog")||qC(a,".tox-confirm-dialog")},G_e=function(a,c,p){return c&&p?[]:[Rs.config({contextual:{lazyContext:function(){return $.some(tu(He.fromDom(a.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},X_e=function(a){var c=a.backstage,p=a.editor,w=IA(p),M=W_e(a),A=U_e(a),N=function(Ee,je,ft){return je!==void 0&&je.inline==="toolbar"?oe(Ee,c.shared.anchors.inlineDialog(),ft,je.ariaAttrs):je!==void 0&&je.inline==="cursor"?oe(Ee,c.shared.anchors.cursor(),ft,je.ariaAttrs):K(Ee,ft)},j=function(Ee,je){return W(Ee,je)},W=function(Ee,je){var ft=function(Be){var ht=j_e(Be,{closeWindow:function(){ys.hide(ht.dialog),je(ht.instanceApi)}},p,c);return ys.show(ht.dialog),ht.instanceApi};return SP.openUrl(ft,Ee)},K=function(Ee,je){var ft=function(Be,ht,Ut){var Kt=ht,ct={dataValidator:Ut,initialData:Kt,internalDialog:Be},Lt=L_e(ct,{redial:SP.redial,closeWindow:function(){ys.hide(Lt.dialog),je(Lt.instanceApi)}},c);return ys.show(Lt.dialog),Lt.instanceApi.setData(Kt),Lt.instanceApi};return SP.open(ft,Ee)},oe=function(Ee,je,ft,Be){var ht=function(Ut,Kt,ct){var Lt=q_e(Kt,ct),rn=za(),$n=c.shared.header.isPositionedAtTop(),cn={dataValidator:ct,initialData:Lt,internalDialog:Ut},Xn=function(){return rn.on(function(jn){gi.reposition(jn),Rs.refresh(jn)})},mn=B_e(cn,{redial:SP.redial,closeWindow:function(){rn.on(gi.hide),p.off("ResizeEditor",Xn),rn.clear(),ft(mn.instanceApi)}},c,Be),nn=ru(gi.sketch(ne(ne({lazySink:c.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},$n?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:zn(Ce([po("window-manager-inline-events",[fn(wf(),function(jn,gr){ko(mn.dialog,Nf)})])],G_e(p,w,$n),!0)),isExtraPart:function(jn,gr){return $_e(gr)}})));return rn.set(nn),gi.showWithin(nn,Dc(mn.dialog),{anchor:je},$.some(li())),(!w||!$n)&&(Rs.refresh(nn),p.on("ResizeEditor",Xn)),mn.instanceApi.setData(Lt),Rr.focusIn(mn.dialog),mn.instanceApi};return SP.open(ht,Ee)},se=function(Ee,je){A.open(Ee,function(ft){je(ft)})},be=function(Ee,je){M.open(Ee,function(){je()})},_e=function(Ee){Ee.close()};return{open:N,openUrl:j,alert:be,close:_e,confirm:se}};function Y_e(){ce.add("silver",function(a){var c=Ewe(a),p=c.uiMothership,w=c.backstage,M=c.renderUI,A=c.getUi;HW.register(a,w.shared);var N=X_e({editor:a,backstage:w});return{renderUI:M,getWindowManagerImpl:L(N),getNotificationManagerImpl:function(){return F9(a,{backstage:w},p)},ui:A()}})}Y_e()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(Z,Ce,ze){var ke=Ce==="UL"?"InsertUnorderedList":"InsertOrderedList";Z.execCommand(ke,!1,ze===!1?null:{"list-style-type":ze})},t=function(Z){Z.addCommand("ApplyUnorderedListStyle",function(Ce,ze){e(Z,"UL",ze["list-style-type"])}),Z.addCommand("ApplyOrderedListStyle",function(Ce,ze){e(Z,"OL",ze["list-style-type"])})},r=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(Z){var Ce=Z.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return Ce?Ce.split(/[ ,]/):[]},u=function(Z){var Ce=Z.getParam("advlist_bullet_styles","default,circle,square");return Ce?Ce.split(/[ ,]/):[]},l=function(){},f=function(Z){return function(){return Z}},h=function(Z){return Z},g=f(!1),y=f(!0),b=function(){return S},S=function(){var Z=function(ke){return ke()},Ce=h,ze={fold:function(ke,_t){return ke()},isSome:g,isNone:y,getOr:Ce,getOrThunk:Z,getOrDie:function(ke){throw new Error(ke||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:Ce,orThunk:Z,map:b,each:l,bind:b,exists:g,forall:y,filter:function(){return b()},toArray:function(){return[]},toString:f("none()")};return ze}(),_=function(Z){var Ce=f(Z),ze=function(){return _t},ke=function(tt){return tt(Z)},_t={fold:function(tt,$){return $(Z)},isSome:y,isNone:g,getOr:Ce,getOrThunk:Ce,getOrDie:Ce,getOrNull:Ce,getOrUndefined:Ce,or:ze,orThunk:ze,map:function(tt){return _(tt(Z))},each:function(tt){tt(Z)},bind:ke,exists:ke,forall:ke,filter:function(tt){return tt(Z)?_t:S},toArray:function(){return[Z]},toString:function(){return"some("+Z+")"}};return _t},k=function(Z){return Z==null?S:_(Z)},E={some:_,none:b,from:k},R=function(Z,Ce){return Z.$.contains(Z.getBody(),Ce)},I=function(Z){return Z&&/^(TH|TD)$/.test(Z.nodeName)},z=function(Z){return function(Ce){return Ce&&/^(OL|UL|DL)$/.test(Ce.nodeName)&&R(Z,Ce)}},L=function(Z){var Ce=Z.dom.getParent(Z.selection.getNode(),"ol,ul"),ze=Z.dom.getStyle(Ce,"listStyleType");return E.from(ze)},q=function(Z,Ce){for(var ze=0;ze<Z.length;ze++){var ke=Z[ze];if(Ce(ke))return ze}return-1},X=function(Z){return Z.replace(/\-/g," ").replace(/\b\w/g,function(Ce){return Ce.toUpperCase()})},Y=function(Z,Ce,ze){var ke=q(Ce.parents,I),_t=ke!==-1?Ce.parents.slice(0,ke):Ce.parents,tt=r.grep(_t,z(Z));return tt.length>0&&tt[0].nodeName===ze},ae=function(Z,Ce){return function(ze){var ke=function(_t){ze.setActive(Y(Z,_t,Ce))};return Z.on("NodeChange",ke),function(){return Z.off("NodeChange",ke)}}},te=function(Z,Ce,ze,ke,_t,tt){Z.ui.registry.addSplitButton(Ce,{tooltip:ze,icon:_t==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function($){var Ze=r.map(tt,function($e){var mt=_t==="OL"?"num":"bull",Qe=$e==="disc"||$e==="decimal"?"default":$e,Et=$e==="default"?"":$e,Ot=X($e);return{type:"choiceitem",value:Et,icon:"list-"+mt+"-"+Qe,text:Ot}});$(Ze)},onAction:function(){return Z.execCommand(ke)},onItemAction:function($,Ze){e(Z,_t,Ze)},select:function($){var Ze=L(Z);return Ze.map(function($e){return $===$e}).getOr(!1)},onSetup:ae(Z,_t)})},ie=function(Z,Ce,ze,ke,_t,tt){Z.ui.registry.addToggleButton(Ce,{active:!1,tooltip:ze,icon:_t==="OL"?"ordered-list":"unordered-list",onSetup:ae(Z,_t),onAction:function(){return Z.execCommand(ke)}})},le=function(Z,Ce,ze,ke,_t,tt){tt.length>1?te(Z,Ce,ze,ke,_t,tt):ie(Z,Ce,ze,ke,_t)},ce=function(Z){le(Z,"numlist","Numbered list","InsertOrderedList","OL",i(Z)),le(Z,"bullist","Bullet list","InsertUnorderedList","UL",u(Z))};function ne(){n.add("advlist",function(Z){Z.hasPlugin("lists")?(ce(Z),t(Z)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}ne()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(ce){return ce.getParam("allow_html_in_named_anchor",!1,"boolean")},i="a:not([href])",u=function(ce){return!ce},l=function(ce){var ne=ce.getAttribute("id")||ce.getAttribute("name");return ne||""},f=function(ce){return ce&&ce.nodeName.toLowerCase()==="a"},h=function(ce){return f(ce)&&!ce.getAttribute("href")&&l(ce)!==""},g=function(ce){return h(ce)&&!ce.firstChild},y=function(ce){var ne=ce.dom;e(ne).walk(ce.selection.getRng(),function(Z){t.each(Z,function(Ce){g(Ce)&&ne.remove(Ce,!1)})})},b=function(ce){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(ce)},S=function(ce){return ce.dom.getParent(ce.selection.getStart(),i)},_=function(ce){var ne=S(ce);return ne?l(ne):""},k=function(ce,ne){ce.undoManager.transact(function(){r(ce)||ce.selection.collapse(!0),ce.selection.isCollapsed()?ce.insertContent(ce.dom.createHTML("a",{id:ne})):(y(ce),ce.formatter.remove("namedAnchor",null,null,!0),ce.formatter.apply("namedAnchor",{value:ne}),ce.addVisual())})},E=function(ce,ne,Z){Z.removeAttribute("name"),Z.id=ne,ce.addVisual(),ce.undoManager.add()},R=function(ce,ne){var Z=S(ce);Z?E(ce,ne,Z):k(ce,ne),ce.focus()},I=function(ce,ne){return b(ne)?(R(ce,ne),!0):(ce.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},z=function(ce){var ne=_(ce);ce.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:ne},onSubmit:function(Z){I(ce,Z.getData().id)&&Z.close()}})},L=function(ce){ce.addCommand("mceAnchor",function(){z(ce)})},q=function(ce){return ce&&u(ce.attr("href"))&&!u(ce.attr("id")||ce.attr("name"))},X=function(ce){return q(ce)&&!ce.firstChild},Y=function(ce){return function(ne){for(var Z=0;Z<ne.length;Z++){var Ce=ne[Z];X(Ce)&&Ce.attr("contenteditable",ce)}}},ae=function(ce){ce.on("PreInit",function(){ce.parser.addNodeFilter("a",Y("false")),ce.serializer.addNodeFilter("a",Y(null))})},te=function(ce){ce.formatter.register("namedAnchor",{inline:"a",selector:i,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(ne,Z,Ce){return h(ne)}})},ie=function(ce){ce.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return ce.execCommand("mceAnchor")},onSetup:function(ne){return ce.selection.selectorChangedWithUnbind("a:not([href])",ne.setActive).unbind}}),ce.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return ce.execCommand("mceAnchor")}})};function le(){n.add("anchor",function(ce){ae(ce),L(ce),ie(ce),ce.on("PreInit",function(){te(ce)})})}le()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(te,ie,le){return ie===""||te.length>=ie.length&&te.substr(le,le+ie.length)===ie},t=function(te,ie){return te.indexOf(ie)!==-1},r=function(te,ie){return e(te,ie,0)},i=tinymce.util.Tools.resolve("tinymce.Env"),u=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-+~=.,%()\/\w]*[-+~=%()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},l=new RegExp("^"+u().source+"$","i"),f=function(te){return te.getParam("autolink_pattern",l)},h=function(te){return te.getParam("default_link_target",!1)},g=function(te){return te.getParam("link_default_protocol","http","string")},y=function(te){return/^[(\[{ \u00a0]$/.test(te)},b=function(te){return te.nodeType===3},S=function(te){return te.nodeType===1},_=function(te){return X(te,-1)},k=function(te){return X(te,0)},E=function(te){return X(te,-1)},R=function(te,ie){if(ie<0&&(ie=0),b(te)){var le=te.data.length;ie>le&&(ie=le)}return ie},I=function(te,ie,le){!S(ie)||ie.hasChildNodes()?te.setStart(ie,R(ie,le)):te.setStartBefore(ie)},z=function(te,ie,le){!S(ie)||ie.hasChildNodes()?te.setEnd(ie,R(ie,le)):te.setEndAfter(ie)},L=function(te){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(te)},q=function(te){return/[?!,.;:]/.test(te)},X=function(te,ie){var le,ce,ne,Z,Ce,ze,ke,_t=f(te),tt=h(te);if(te.dom.getParent(te.selection.getNode(),"a[href]")===null){var $=te.selection.getRng().cloneRange();if($.startOffset<5){if(Ce=$.endContainer.previousSibling,!Ce){if(!$.endContainer.firstChild||!$.endContainer.firstChild.nextSibling)return;Ce=$.endContainer.firstChild.nextSibling}if(ze=Ce.length,I($,Ce,ze),z($,Ce,ze),$.endOffset<5)return;le=$.endOffset,ce=Ce}else{if(ce=$.endContainer,!b(ce)&&ce.firstChild){for(;!b(ce)&&ce.firstChild;)ce=ce.firstChild;b(ce)&&(I($,ce,0),z($,ce,ce.nodeValue.length))}$.endOffset===1?le=2:le=$.endOffset-1-ie}var Ze=le;do I($,ce,le>=2?le-2:0),z($,ce,le>=1?le-1:0),le-=1,ke=$.toString();while(!y(ke)&&le-2>=0);y($.toString())?(I($,ce,le),z($,ce,Ze),le+=1):$.startOffset===0?(I($,ce,0),z($,ce,Ze)):(I($,ce,le),z($,ce,Ze)),Z=$.toString(),q(Z.charAt(Z.length-1))&&z($,ce,Ze-1),Z=$.toString().trim();var $e=Z.match(_t),mt=g(te);if($e){var Qe=$e[0];r(Qe,"www.")?Qe=mt+"://"+Qe:t(Qe,"@")&&!L(Qe)&&(Qe="mailto:"+Qe),ne=te.selection.getBookmark(),te.selection.setRng($),te.execCommand("createlink",!1,Qe),tt!==!1&&te.dom.setAttrib(te.selection.getNode(),"target",tt),te.selection.moveToBookmark(ne),te.nodeChanged()}}},Y=function(te){var ie;if(te.on("keydown",function(le){if(le.keyCode===13)return E(te)}),i.browser.isIE()){te.on("focus",function(){if(!ie){ie=!0;try{te.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}te.on("keypress",function(le){if(le.keyCode===41||le.keyCode===93||le.keyCode===125)return _(te)}),te.on("keyup",function(le){if(le.keyCode===32)return k(te)})};function ae(){n.add("autolink",function(te){Y(te)})}ae()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(ne){return function(Z){return ne===Z}},t=e(void 0),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=function(ne){return ne.fire("RestoreDraft")},f=function(ne){return ne.fire("StoreDraft")},h=function(ne){return ne.fire("RemoveDraft")},g=function(ne,Z){var Ce={s:1e3,m:6e4},ze=ne||Z,ke=/^(\d+)([ms]?)$/.exec(""+ze);return(ke[2]?Ce[ke[2]]:1)*parseInt(ze,10)},y=function(ne){return ne.getParam("autosave_ask_before_unload",!0)},b=function(ne){var Z=document.location;return ne.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,Z.pathname).replace(/{query}/g,Z.search).replace(/{hash}/g,Z.hash).replace(/{id}/g,ne.id)},S=function(ne){return ne.getParam("autosave_restore_when_empty",!1)},_=function(ne){return g(ne.getParam("autosave_interval"),"30s")},k=function(ne){return g(ne.getParam("autosave_retention"),"20m")},E=function(ne,Z){if(t(Z))return ne.dom.isEmpty(ne.getBody());var Ce=u.trim(Z);if(Ce==="")return!0;var ze=new DOMParser().parseFromString(Ce,"text/html");return ne.dom.isEmpty(ze)},R=function(ne){var Z=parseInt(i.getItem(b(ne)+"time"),10)||0;return new Date().getTime()-Z>k(ne)?(I(ne,!1),!1):!0},I=function(ne,Z){var Ce=b(ne);i.removeItem(Ce+"draft"),i.removeItem(Ce+"time"),Z!==!1&&h(ne)},z=function(ne){var Z=b(ne);!E(ne)&&ne.isDirty()&&(i.setItem(Z+"draft",ne.getContent({format:"raw",no_events:!0})),i.setItem(Z+"time",new Date().getTime().toString()),f(ne))},L=function(ne){var Z=b(ne);R(ne)&&(ne.setContent(i.getItem(Z+"draft"),{format:"raw"}),l(ne))},q=function(ne){var Z=_(ne);r.setEditorInterval(ne,function(){z(ne)},Z)},X=function(ne){ne.undoManager.transact(function(){L(ne),I(ne)}),ne.focus()},Y=function(ne){return{hasDraft:function(){return R(ne)},storeDraft:function(){return z(ne)},restoreDraft:function(){return L(ne)},removeDraft:function(Z){return I(ne,Z)},isEmpty:function(Z){return E(ne,Z)}}},ae=tinymce.util.Tools.resolve("tinymce.EditorManager"),te=function(ne){ne.editorManager.on("BeforeUnload",function(Z){var Ce;u.each(ae.get(),function(ze){ze.plugins.autosave&&ze.plugins.autosave.storeDraft(),!Ce&&ze.isDirty()&&y(ze)&&(Ce=ze.translate("You have unsaved changes are you sure you want to navigate away?"))}),Ce&&(Z.preventDefault(),Z.returnValue=Ce)})},ie=function(ne){return function(Z){Z.setDisabled(!R(ne));var Ce=function(){return Z.setDisabled(!R(ne))};return ne.on("StoreDraft RestoreDraft RemoveDraft",Ce),function(){return ne.off("StoreDraft RestoreDraft RemoveDraft",Ce)}}},le=function(ne){q(ne),ne.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){X(ne)},onSetup:ie(ne)}),ne.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){X(ne)},onSetup:ie(ne)})};function ce(){n.add("autosave",function(ne){return te(ne),le(ne),ne.on("init",function(){S(ne)&&ne.dom.isEmpty(ne.getBody())&&L(ne)}),Y(ne)})}ce()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(f,h){f.focus(),f.undoManager.transact(function(){f.setContent(h)}),f.selection.setCursorLocation(),f.nodeChanged()},t=function(f){return f.getContent({source_view:!0})},r=function(f){var h=t(f);f.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:h},onSubmit:function(g){e(f,g.getData().code),g.close()}})},i=function(f){f.addCommand("mceCodeEditor",function(){r(f)})},u=function(f){var h=function(){return f.execCommand("mceCodeEditor")};f.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:h}),f.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:h})};function l(){n.add("code",function(f){return i(f),u(f),{}})}l()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){},t=function(Ze){return function(){return Ze}},r=function(Ze){return Ze},i=t(!1),u=t(!0),l=function(){return f},f=function(){var Ze=function(Qe){return Qe()},$e=r,mt={fold:function(Qe,Et){return Qe()},isSome:i,isNone:u,getOr:$e,getOrThunk:Ze,getOrDie:function(Qe){throw new Error(Qe||"error: getOrDie called on none.")},getOrNull:t(null),getOrUndefined:t(void 0),or:$e,orThunk:Ze,map:l,each:e,bind:l,exists:i,forall:u,filter:function(){return l()},toArray:function(){return[]},toString:t("none()")};return mt}(),h=function(Ze){var $e=t(Ze),mt=function(){return Et},Qe=function(Ot){return Ot(Ze)},Et={fold:function(Ot,Nt){return Nt(Ze)},isSome:u,isNone:i,getOr:$e,getOrThunk:$e,getOrDie:$e,getOrNull:$e,getOrUndefined:$e,or:mt,orThunk:mt,map:function(Ot){return h(Ot(Ze))},each:function(Ot){Ot(Ze)},bind:Qe,exists:Qe,forall:Qe,filter:function(Ot){return Ot(Ze)?Et:f},toArray:function(){return[Ze]},toString:function(){return"some("+Ze+")"}};return Et},g=function(Ze){return Ze==null?f:h(Ze)},y={some:h,none:l,from:g},b=function(Ze,$e){return $e>=0&&$e<Ze.length?y.some(Ze[$e]):y.none()},S=function(Ze){return b(Ze,0)},_=function(Ze,$e){return Ze?y.some($e):y.none()},k=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),E=function(Ze){return Ze&&Ze.nodeName==="PRE"&&Ze.className.indexOf("language-")!==-1},R=function(Ze){return function($e,mt){return Ze(mt)}},I=typeof window<"u"?window:Function("return this;")(),z={},L={exports:z},q={};(function(Ze,$e,mt,Qe){var Et=window.Prism;window.Prism={manual:!0},function(Nt,fe){typeof $e=="object"&&typeof mt<"u"?mt.exports=fe():typeof Ze=="function"&&Ze.amd?Ze(fe):(Nt=typeof globalThis<"u"?globalThis:Nt||self,Nt.EphoxContactWrapper=fe())}(this,function(){var Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof q<"u"?q:typeof self<"u"?self:{},fe={exports:{}};(function(Fe){var St=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},Ue=function(Ye){var st=/\blang(?:uage)?-([\w-]+)\b/i,Ft=0,Ct={},Rt={manual:Ye.Prism&&Ye.Prism.manual,disableWorkerMessageHandler:Ye.Prism&&Ye.Prism.disableWorkerMessageHandler,util:{encode:function gn(vn){return vn instanceof ur?new ur(vn.type,gn(vn.content),vn.alias):Array.isArray(vn)?vn.map(gn):vn.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(gn){return Object.prototype.toString.call(gn).slice(8,-1)},objId:function(gn){return gn.__id||Object.defineProperty(gn,"__id",{value:++Ft}),gn.__id},clone:function gn(vn,en){en=en||{};var vt,Tt;switch(Rt.util.type(vn)){case"Object":if(Tt=Rt.util.objId(vn),en[Tt])return en[Tt];vt={},en[Tt]=vt;for(var hn in vn)vn.hasOwnProperty(hn)&&(vt[hn]=gn(vn[hn],en));return vt;case"Array":return Tt=Rt.util.objId(vn),en[Tt]?en[Tt]:(vt=[],en[Tt]=vt,vn.forEach(function(Bn,bn){vt[bn]=gn(Bn,en)}),vt);default:return vn}},getLanguage:function(gn){for(;gn&&!st.test(gn.className);)gn=gn.parentElement;return gn?(gn.className.match(st)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(vt){var gn=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(vt.stack)||[])[1];if(gn){var vn=document.getElementsByTagName("script");for(var en in vn)if(vn[en].src==gn)return vn[en]}return null}},isActive:function(gn,vn,en){for(var vt="no-"+vn;gn;){var Tt=gn.classList;if(Tt.contains(vn))return!0;if(Tt.contains(vt))return!1;gn=gn.parentElement}return!!en}},languages:{plain:Ct,plaintext:Ct,text:Ct,txt:Ct,extend:function(gn,vn){var en=Rt.util.clone(Rt.languages[gn]);for(var vt in vn)en[vt]=vn[vt];return en},insertBefore:function(gn,vn,en,vt){vt=vt||Rt.languages;var Tt=vt[gn],hn={};for(var Bn in Tt)if(Tt.hasOwnProperty(Bn)){if(Bn==vn)for(var bn in en)en.hasOwnProperty(bn)&&(hn[bn]=en[bn]);en.hasOwnProperty(Bn)||(hn[Bn]=Tt[Bn])}var pt=vt[gn];return vt[gn]=hn,Rt.languages.DFS(Rt.languages,function(an,On){On===pt&&an!=gn&&(this[an]=hn)}),hn},DFS:function gn(vn,en,vt,Tt){Tt=Tt||{};var hn=Rt.util.objId;for(var Bn in vn)if(vn.hasOwnProperty(Bn)){en.call(vn,Bn,vn[Bn],vt||Bn);var bn=vn[Bn],pt=Rt.util.type(bn);pt==="Object"&&!Tt[hn(bn)]?(Tt[hn(bn)]=!0,gn(bn,en,null,Tt)):pt==="Array"&&!Tt[hn(bn)]&&(Tt[hn(bn)]=!0,gn(bn,en,Bn,Tt))}}},plugins:{},highlightAll:function(gn,vn){Rt.highlightAllUnder(document,gn,vn)},highlightAllUnder:function(gn,vn,en){var vt={callback:en,container:gn,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Rt.hooks.run("before-highlightall",vt),vt.elements=Array.prototype.slice.apply(vt.container.querySelectorAll(vt.selector)),Rt.hooks.run("before-all-elements-highlight",vt);for(var Tt=0,hn;hn=vt.elements[Tt++];)Rt.highlightElement(hn,vn===!0,vt.callback)},highlightElement:function(gn,vn,en){var vt=Rt.util.getLanguage(gn),Tt=Rt.languages[vt];gn.className=gn.className.replace(st,"").replace(/\s+/g," ")+" language-"+vt;var hn=gn.parentElement;hn&&hn.nodeName.toLowerCase()==="pre"&&(hn.className=hn.className.replace(st,"").replace(/\s+/g," ")+" language-"+vt);var Bn=gn.textContent,bn={element:gn,language:vt,grammar:Tt,code:Bn};function pt(On){bn.highlightedCode=On,Rt.hooks.run("before-insert",bn),bn.element.innerHTML=bn.highlightedCode,Rt.hooks.run("after-highlight",bn),Rt.hooks.run("complete",bn),en&&en.call(bn.element)}if(Rt.hooks.run("before-sanity-check",bn),hn=bn.element.parentElement,hn&&hn.nodeName.toLowerCase()==="pre"&&!hn.hasAttribute("tabindex")&&hn.setAttribute("tabindex","0"),!bn.code){Rt.hooks.run("complete",bn),en&&en.call(bn.element);return}if(Rt.hooks.run("before-highlight",bn),!bn.grammar){pt(Rt.util.encode(bn.code));return}if(vn&&Ye.Worker){var an=new Worker(Rt.filename);an.onmessage=function(On){pt(On.data)},an.postMessage(JSON.stringify({language:bn.language,code:bn.code,immediateClose:!0}))}else pt(Rt.highlight(bn.code,bn.grammar,bn.language))},highlight:function(gn,vn,en){var vt={code:gn,grammar:vn,language:en};return Rt.hooks.run("before-tokenize",vt),vt.tokens=Rt.tokenize(vt.code,vt.grammar),Rt.hooks.run("after-tokenize",vt),ur.stringify(Rt.util.encode(vt.tokens),vt.language)},tokenize:function(gn,vn){var en=vn.rest;if(en){for(var vt in en)vn[vt]=en[vt];delete vn.rest}var Tt=new Mn;return Qt(Tt,Tt.head,gn),Bt(gn,Tt,vn,Tt.head,0),pr(Tt)},hooks:{all:{},add:function(gn,vn){var en=Rt.hooks.all;en[gn]=en[gn]||[],en[gn].push(vn)},run:function(gn,vn){var en=Rt.hooks.all[gn];if(!(!en||!en.length))for(var vt=0,Tt;Tt=en[vt++];)Tt(vn)}},Token:ur};Ye.Prism=Rt;function ur(gn,vn,en,vt){this.type=gn,this.content=vn,this.alias=en,this.length=(vt||"").length|0}ur.stringify=function gn(vn,en){if(typeof vn=="string")return vn;if(Array.isArray(vn)){var vt="";return vn.forEach(function(pt){vt+=gn(pt,en)}),vt}var Tt={type:vn.type,content:gn(vn.content,en),tag:"span",classes:["token",vn.type],attributes:{},language:en},hn=vn.alias;hn&&(Array.isArray(hn)?Array.prototype.push.apply(Tt.classes,hn):Tt.classes.push(hn)),Rt.hooks.run("wrap",Tt);var Bn="";for(var bn in Tt.attributes)Bn+=" "+bn+'="'+(Tt.attributes[bn]||"").replace(/"/g,"&quot;")+'"';return"<"+Tt.tag+' class="'+Tt.classes.join(" ")+'"'+Bn+">"+Tt.content+"</"+Tt.tag+">"};function Xe(gn,vn,en,vt){gn.lastIndex=vn;var Tt=gn.exec(en);if(Tt&&vt&&Tt[1]){var hn=Tt[1].length;Tt.index+=hn,Tt[0]=Tt[0].slice(hn)}return Tt}function Bt(gn,vn,en,vt,Tt,hn){for(var Bn in en)if(!(!en.hasOwnProperty(Bn)||!en[Bn])){var bn=en[Bn];bn=Array.isArray(bn)?bn:[bn];for(var pt=0;pt<bn.length;++pt){if(hn&&hn.cause==Bn+","+pt)return;var an=bn[pt],On=an.inside,wn=!!an.lookbehind,er=!!an.greedy,et=an.alias;if(er&&!an.pattern.global){var jt=an.pattern.toString().match(/[imsuy]*$/)[0];an.pattern=RegExp(an.pattern.source,jt+"g")}for(var Pt=an.pattern||an,ln=vt.next,Kn=Tt;ln!==vn.tail&&!(hn&&Kn>=hn.reach);Kn+=ln.value.length,ln=ln.next){var Br=ln.value;if(vn.length>gn.length)return;if(!(Br instanceof ur)){var ei=1,zr;if(er){if(zr=Xe(Pt,Kn,gn,wn),!zr)break;var Ui=zr.index,Hr=zr.index+zr[0].length,ui=Kn;for(ui+=ln.value.length;Ui>=ui;)ln=ln.next,ui+=ln.value.length;if(ui-=ln.value.length,Kn=ui,ln.value instanceof ur)continue;for(var Ta=ln;Ta!==vn.tail&&(ui<Hr||typeof Ta.value=="string");Ta=Ta.next)ei++,ui+=Ta.value.length;ei--,Br=gn.slice(Kn,ui),zr.index-=Kn}else if(zr=Xe(Pt,0,Br,wn),!zr)continue;var Ui=zr.index,Si=zr[0],Yi=Br.slice(0,Ui),Ra=Br.slice(Ui+Si.length),ea=Kn+Br.length;hn&&ea>hn.reach&&(hn.reach=ea);var Li=ln.prev;Yi&&(Li=Qt(vn,Li,Yi),Kn+=Yi.length),Zn(vn,Li,ei);var Pa=new ur(Bn,On?Rt.tokenize(Si,On):Si,et,Si);if(ln=Qt(vn,Li,Pa),Ra&&Qt(vn,ln,Ra),ei>1){var co={cause:Bn+","+pt,reach:ea};Bt(gn,vn,en,ln.prev,Kn,co),hn&&co.reach>hn.reach&&(hn.reach=co.reach)}}}}}}function Mn(){var gn={value:null,prev:null,next:null},vn={value:null,prev:gn,next:null};gn.next=vn,this.head=gn,this.tail=vn,this.length=0}function Qt(gn,vn,en){var vt=vn.next,Tt={value:en,prev:vn,next:vt};return vn.next=Tt,vt.prev=Tt,gn.length++,Tt}function Zn(gn,vn,en){for(var vt=vn.next,Tt=0;Tt<en&&vt!==gn.tail;Tt++)vt=vt.next;vn.next=vt,vt.prev=vn,gn.length-=Tt}function pr(gn){for(var vn=[],en=gn.head.next;en!==gn.tail;)vn.push(en.value),en=en.next;return vn}if(!Ye.document)return Ye.addEventListener&&(Rt.disableWorkerMessageHandler||Ye.addEventListener("message",function(gn){var vn=JSON.parse(gn.data),en=vn.language,vt=vn.code,Tt=vn.immediateClose;Ye.postMessage(Rt.highlight(vt,Rt.languages[en],en)),Tt&&Ye.close()},!1)),Rt;var ao=Rt.util.currentScript();ao&&(Rt.filename=ao.src,ao.hasAttribute("data-manual")&&(Rt.manual=!0));function Mo(){Rt.manual||Rt.highlightAll()}if(!Rt.manual){var Go=document.readyState;Go==="loading"||Go==="interactive"&&ao&&ao.defer?document.addEventListener("DOMContentLoaded",Mo):window.requestAnimationFrame?window.requestAnimationFrame(Mo):window.setTimeout(Mo,16)}return Rt}(St);Fe.exports&&(Fe.exports=Ue),typeof Nt<"u"&&(Nt.Prism=Ue)})(fe),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Fe){function St(Ue,Ye){return"___"+Ue.toUpperCase()+Ye+"___"}Object.defineProperties(Fe.languages["markup-templating"]={},{buildPlaceholders:{value:function(Ue,Ye,st,Ft){if(Ue.language===Ye){var Ct=Ue.tokenStack=[];Ue.code=Ue.code.replace(st,function(Rt){if(typeof Ft=="function"&&!Ft(Rt))return Rt;for(var ur=Ct.length,Xe;Ue.code.indexOf(Xe=St(Ye,ur))!==-1;)++ur;return Ct[ur]=Rt,Xe}),Ue.grammar=Fe.languages.markup}}},tokenizePlaceholders:{value:function(Ue,Ye){if(Ue.language!==Ye||!Ue.tokenStack)return;Ue.grammar=Fe.languages[Ye];var st=0,Ft=Object.keys(Ue.tokenStack);function Ct(Rt){for(var ur=0;ur<Rt.length&&!(st>=Ft.length);ur++){var Xe=Rt[ur];if(typeof Xe=="string"||Xe.content&&typeof Xe.content=="string"){var Bt=Ft[st],Mn=Ue.tokenStack[Bt],Qt=typeof Xe=="string"?Xe:Xe.content,Zn=St(Ye,Bt),pr=Qt.indexOf(Zn);if(pr>-1){++st;var ao=Qt.substring(0,pr),Mo=new Fe.Token(Ye,Fe.tokenize(Mn,Ue.grammar),"language-"+Ye,Mn),Go=Qt.substring(pr+Zn.length),gn=[];ao&&gn.push.apply(gn,Ct([ao])),gn.push(Mo),Go&&gn.push.apply(gn,Ct([Go])),typeof Xe=="string"?Rt.splice.apply(Rt,[ur,1].concat(gn)):Xe.content=gn}}else Xe.content&&Ct(Xe.content)}return Rt}Ct(Ue.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean,function(Fe){var St=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,Ue=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return St.source});Fe.languages.cpp=Fe.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return St.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:St,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),Fe.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return Ue})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Fe.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Fe.languages.cpp}}}}),Fe.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Fe.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Fe.languages.extend("cpp",{})}}),Fe.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Fe.languages.cpp["base-clause"])}(Prism),function(Fe){function St(Kn,Br){return Kn.replace(/<<(\d+)>>/g,function(ei,zr){return"(?:"+Br[+zr]+")"})}function Ue(Kn,Br,ei){return RegExp(St(Kn,Br),ei||"")}function Ye(Kn,Br){for(var ei=0;ei<Br;ei++)Kn=Kn.replace(/<<self>>/g,function(){return"(?:"+Kn+")"});return Kn.replace(/<<self>>/g,"[^\\s\\S]")}var st={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Ft(Kn){return"\\b(?:"+Kn.trim().replace(/ /g,"|")+")\\b"}var Ct=Ft(st.typeDeclaration),Rt=RegExp(Ft(st.type+" "+st.typeDeclaration+" "+st.contextual+" "+st.other)),ur=Ft(st.typeDeclaration+" "+st.contextual+" "+st.other),Xe=Ft(st.type+" "+st.typeDeclaration+" "+st.other),Bt=Ye(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Mn=Ye(/\((?:[^()]|<<self>>)*\)/.source,2),Qt=/@?\b[A-Za-z_]\w*\b/.source,Zn=St(/<<0>>(?:\s*<<1>>)?/.source,[Qt,Bt]),pr=St(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[ur,Zn]),ao=/\[\s*(?:,\s*)*\]/.source,Mo=St(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[pr,ao]),Go=St(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[Bt,Mn,ao]),gn=St(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Go]),vn=St(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[gn,pr,ao]),en={keyword:Rt,punctuation:/[<>()?,.:[\]]/},vt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Tt=/"(?:\\.|[^\\"\r\n])*"/.source,hn=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Fe.languages.csharp=Fe.languages.extend("clike",{string:[{pattern:Ue(/(^|[^$\\])<<0>>/.source,[hn]),lookbehind:!0,greedy:!0},{pattern:Ue(/(^|[^@$\\])<<0>>/.source,[Tt]),lookbehind:!0,greedy:!0},{pattern:RegExp(vt),greedy:!0,alias:"character"}],"class-name":[{pattern:Ue(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[pr]),lookbehind:!0,inside:en},{pattern:Ue(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[Qt,vn]),lookbehind:!0,inside:en},{pattern:Ue(/(\busing\s+)<<0>>(?=\s*=)/.source,[Qt]),lookbehind:!0},{pattern:Ue(/(\b<<0>>\s+)<<1>>/.source,[Ct,Zn]),lookbehind:!0,inside:en},{pattern:Ue(/(\bcatch\s*\(\s*)<<0>>/.source,[pr]),lookbehind:!0,inside:en},{pattern:Ue(/(\bwhere\s+)<<0>>/.source,[Qt]),lookbehind:!0},{pattern:Ue(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[Mo]),lookbehind:!0,inside:en},{pattern:Ue(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[vn,Xe,Qt]),inside:en}],keyword:Rt,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Fe.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Fe.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:Ue(/([(,]\s*)<<0>>(?=\s*:)/.source,[Qt]),lookbehind:!0,alias:"punctuation"}}),Fe.languages.insertBefore("csharp","class-name",{namespace:{pattern:Ue(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[Qt]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:Ue(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Mn]),lookbehind:!0,alias:"class-name",inside:en},"return-type":{pattern:Ue(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[vn,pr]),inside:en,alias:"class-name"},"constructor-invocation":{pattern:Ue(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[vn]),lookbehind:!0,inside:en,alias:"class-name"},"generic-method":{pattern:Ue(/<<0>>\s*<<1>>(?=\s*\()/.source,[Qt,Bt]),inside:{function:Ue(/^<<0>>/.source,[Qt]),generic:{pattern:RegExp(Bt),alias:"class-name",inside:en}}},"type-list":{pattern:Ue(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[Ct,Zn,Qt,vn,Rt.source,Mn,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:Ue(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Zn,Mn]),lookbehind:!0,greedy:!0,inside:Fe.languages.csharp},keyword:Rt,"class-name":{pattern:RegExp(vn),greedy:!0,inside:en},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Bn=Tt+"|"+vt,bn=St(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Bn]),pt=Ye(St(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[bn]),2),an=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,On=St(/<<0>>(?:\s*\(<<1>>*\))?/.source,[pr,pt]);Fe.languages.insertBefore("csharp","class-name",{attribute:{pattern:Ue(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[an,On]),lookbehind:!0,greedy:!0,inside:{target:{pattern:Ue(/^<<0>>(?=\s*:)/.source,[an]),alias:"keyword"},"attribute-arguments":{pattern:Ue(/\(<<0>>*\)/.source,[pt]),inside:Fe.languages.csharp},"class-name":{pattern:RegExp(pr),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var wn=/:[^}\r\n]+/.source,er=Ye(St(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[bn]),2),et=St(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[er,wn]),jt=Ye(St(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Bn]),2),Pt=St(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[jt,wn]);function ln(Kn,Br){return{interpolation:{pattern:Ue(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Kn]),lookbehind:!0,inside:{"format-string":{pattern:Ue(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Br,wn]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Fe.languages.csharp}}},string:/[\s\S]+/}}Fe.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:Ue(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[et]),lookbehind:!0,greedy:!0,inside:ln(et,er)},{pattern:Ue(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Pt]),lookbehind:!0,greedy:!0,inside:ln(Pt,jt)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,function(Fe){var St=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Fe.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+St.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+St.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+St.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:St,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Fe.languages.css.atrule.inside.rest=Fe.languages.css;var Ue=Fe.languages.markup;Ue&&(Ue.tag.addInlined("style","css"),Ue.tag.addAttribute("style","css"))}(Prism),function(Fe){var St=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,Ue=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Ye={pattern:RegExp(Ue+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Fe.languages.java=Fe.languages.extend("clike",{"class-name":[Ye,{pattern:RegExp(Ue+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:Ye.inside}],keyword:St,function:[Fe.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),Fe.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),Fe.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Ye,keyword:St,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return St.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(Fe){Fe.type==="entity"&&(Fe.attributes.title=Fe.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(Fe,St){var Ue={};Ue["language-"+St]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[St]},Ue.cdata=/^<!\[CDATA\[|\]\]>$/i;var Ye={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Ue}};Ye["language-"+St]={pattern:/[\s\S]+/,inside:Prism.languages[St]};var st={};st[Fe]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Fe}),"i"),lookbehind:!0,greedy:!0,inside:Ye},Prism.languages.insertBefore("markup","cdata",st)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(Fe,St){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Fe+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[St,"language-"+St],inside:Prism.languages[St]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(Fe){var St=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,Ue=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Ye=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,st=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Ft=/[{}\[\](),:;]/;Fe.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:St,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ue,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Ye,operator:st,punctuation:Ft};var Ct={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Fe.languages.php},Rt=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Ct}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Ct}}];Fe.languages.insertBefore("php","variable",{string:Rt,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:St,string:Rt,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ue,number:Ye,operator:st,punctuation:Ft}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Fe.hooks.add("before-tokenize",function(ur){if(/<\?/.test(ur.code)){var Xe=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi;Fe.languages["markup-templating"].buildPlaceholders(ur,"php",Xe)}}),Fe.hooks.add("after-tokenize",function(ur){Fe.languages["markup-templating"].tokenizePlaceholders(ur,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(Fe){Fe.languages.ruby=Fe.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var St={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:Fe.languages.ruby}};delete Fe.languages.ruby.function,Fe.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:St}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:St}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:Fe.languages.ruby}}}),Fe.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),Fe.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:St}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:St}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:St}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],Fe.languages.rb=Fe.languages.ruby}(Prism);var $t=fe.exports,Je={boltExport:$t};return Je});var Ot=window.Prism;return window.Prism=Et,Ot})(void 0,z,L);var X=L.exports.boltExport,Y=function(Ze){return Ze.getParam("codesample_languages")},ae=function(Ze){return Ze.getParam("codesample_global_prismjs",!1,"boolean")},te=function(Ze){return I.Prism&&ae(Ze)?I.Prism:X},ie=function(Ze){var $e=Ze.selection?Ze.selection.getNode():null;return _(E($e),$e)},le=function(Ze,$e,mt){Ze.undoManager.transact(function(){var Qe=ie(Ze);return mt=k.DOM.encode(mt),Qe.fold(function(){Ze.insertContent('<pre id="__new" class="language-'+$e+'">'+mt+"</pre>"),Ze.selection.select(Ze.$("#__new").removeAttr("id")[0])},function(Et){Ze.dom.setAttrib(Et,"class","language-"+$e),Et.innerHTML=mt,te(Ze).highlightElement(Et),Ze.selection.select(Et)})})},ce=function(Ze){var $e=ie(Ze);return $e.fold(t(""),function(mt){return mt.textContent})},ne=function(Ze){var $e=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],mt=Y(Ze);return mt||$e},Z=function(Ze,$e){var mt=ie(Ze);return mt.fold(function(){return $e},function(Qe){var Et=Qe.className.match(/language-(\w+)/);return Et?Et[1]:$e})},Ce=function(Ze){var $e=ne(Ze),mt=S($e).fold(t(""),function(Ot){return Ot.value}),Qe=Z(Ze,mt),Et=ce(Ze);Ze.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:$e},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Qe,code:Et},onSubmit:function(Ot){var Nt=Ot.getData();le(Ze,Nt.language,Nt.code),Ot.close()}})},ze=function(Ze){Ze.addCommand("codesample",function(){var $e=Ze.selection.getNode();Ze.selection.isCollapsed()||E($e)?Ce(Ze):Ze.formatter.toggle("code")})},ke=function(Ze){var $e=Ze.$;Ze.on("PreProcess",function(mt){$e("pre[contenteditable=false]",mt.node).filter(R(E)).each(function(Qe,Et){var Ot=$e(Et),Nt=Et.textContent;Ot.attr("class",$e.trim(Ot.attr("class"))),Ot.removeAttr("contentEditable"),Ot.empty().append($e("<code></code>").each(function(){this.textContent=Nt}))})}),Ze.on("SetContent",function(){var mt=$e("pre").filter(R(E)).filter(function(Qe,Et){return Et.contentEditable!=="false"});mt.length&&Ze.undoManager.transact(function(){mt.each(function(Qe,Et){$e(Et).find("br").each(function(Ot,Nt){Nt.parentNode.replaceChild(Ze.getDoc().createTextNode(`
`),Nt)}),Et.contentEditable="false",Et.innerHTML=Ze.dom.encode(Et.textContent),te(Ze).highlightElement(Et),Et.className=$e.trim(Et.className)})})})},_t=function(Ze){var $e=Ze.selection.getStart();return Ze.dom.is($e,'pre[class*="language-"]')},tt=function(Ze){var $e=function(){return Ze.execCommand("codesample")};Ze.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:$e,onSetup:function(mt){var Qe=function(){mt.setActive(_t(Ze))};return Ze.on("NodeChange",Qe),function(){return Ze.off("NodeChange",Qe)}}}),Ze.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:$e})};function $(){n.add("codesample",function(Ze){ke(Ze),tt(Ze),ze(Ze),Ze.on("dblclick",function($e){E($e.target)&&Ce(Ze)})})}$()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(pt){var an=typeof pt;return pt===null?"null":an==="object"&&(Array.prototype.isPrototypeOf(pt)||pt.constructor&&pt.constructor.name==="Array")?"array":an==="object"&&(String.prototype.isPrototypeOf(pt)||pt.constructor&&pt.constructor.name==="String")?"string":an},t=function(pt){return function(an){return e(an)===pt}},r=function(pt){return function(an){return typeof an===pt}},i=t("string"),u=r("boolean"),l=function(pt){return pt==null},f=function(pt){return!l(pt)},h=r("function"),g=r("number"),y=function(){},b=function(pt,an){return function(On){return pt(an(On))}},S=function(pt){return function(){return pt}},_=function(pt){return pt},k=S(!1),E=S(!0),R=function(){return I},I=function(){var pt=function(wn){return wn()},an=_,On={fold:function(wn,er){return wn()},isSome:k,isNone:E,getOr:an,getOrThunk:pt,getOrDie:function(wn){throw new Error(wn||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:an,orThunk:pt,map:R,each:y,bind:R,exists:k,forall:E,filter:function(){return R()},toArray:function(){return[]},toString:S("none()")};return On}(),z=function(pt){var an=S(pt),On=function(){return er},wn=function(et){return et(pt)},er={fold:function(et,jt){return jt(pt)},isSome:E,isNone:k,getOr:an,getOrThunk:an,getOrDie:an,getOrNull:an,getOrUndefined:an,or:On,orThunk:On,map:function(et){return z(et(pt))},each:function(et){et(pt)},bind:wn,exists:wn,forall:wn,filter:function(et){return et(pt)?er:I},toArray:function(){return[pt]},toString:function(){return"some("+pt+")"}};return er},L=function(pt){return pt==null?I:z(pt)},q={some:z,none:R,from:L},X=function(pt,an){for(var On=pt.length,wn=new Array(On),er=0;er<On;er++){var et=pt[er];wn[er]=an(et,er)}return wn},Y=function(pt,an){for(var On=0,wn=pt.length;On<wn;On++){var er=pt[On];an(er,On)}},ae=function(pt,an){for(var On=[],wn=0,er=pt.length;wn<er;wn++){var et=pt[wn];an(et,wn)&&On.push(et)}return On},te=9,ie=11,le=1,ce=3,ne=function(pt,an){var On=an||document,wn=On.createElement("div");if(wn.innerHTML=pt,!wn.hasChildNodes()||wn.childNodes.length>1)throw console.error("HTML does not have a single root node",pt),new Error("HTML must have a single root node");return ze(wn.childNodes[0])},Z=function(pt,an){var On=an||document,wn=On.createElement(pt);return ze(wn)},Ce=function(pt,an){var On=an||document,wn=On.createTextNode(pt);return ze(wn)},ze=function(pt){if(pt==null)throw new Error("Node cannot be null or undefined");return{dom:pt}},ke=function(pt,an,On){return q.from(pt.dom.elementFromPoint(an,On)).map(ze)},_t={fromHtml:ne,fromTag:Z,fromText:Ce,fromDom:ze,fromPoint:ke},tt=function(pt,an){var On=pt.dom;if(On.nodeType!==le)return!1;var wn=On;if(wn.matches!==void 0)return wn.matches(an);if(wn.msMatchesSelector!==void 0)return wn.msMatchesSelector(an);if(wn.webkitMatchesSelector!==void 0)return wn.webkitMatchesSelector(an);if(wn.mozMatchesSelector!==void 0)return wn.mozMatchesSelector(an);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var $=function(pt){var an=pt.dom.nodeName;return an.toLowerCase()},Ze=function(pt){return pt.dom.nodeType},$e=function(pt){return function(an){return Ze(an)===pt}},mt=$e(le),Qe=$e(ce),Et=$e(te),Ot=$e(ie),Nt=function(pt){return function(an){return mt(an)&&$(an)===pt}},fe=function(pt){return _t.fromDom(pt.dom.ownerDocument)},$t=function(pt){return Et(pt)?pt:fe(pt)},Je=function(pt){return q.from(pt.dom.parentNode).map(_t.fromDom)},Fe=function(pt){return X(pt.dom.childNodes,_t.fromDom)},St=function(pt,an,On){if(i(On)||u(On)||g(On))pt.setAttribute(an,On+"");else throw console.error("Invalid call to Attribute.set. Key ",an,":: Value ",On,":: Element ",pt),new Error("Attribute value was not simple")},Ue=function(pt,an,On){St(pt.dom,an,On)},Ye=function(pt,an){pt.dom.removeAttribute(an)},st=function(pt){return Ot(pt)&&f(pt.dom.host)},Ft=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode),Ct=Ft?function(pt){return _t.fromDom(pt.dom.getRootNode())}:$t,Rt=function(pt){var an=Ct(pt);return st(an)?q.some(an):q.none()},ur=function(pt){return _t.fromDom(pt.dom.host)},Xe=function(pt){var an=Qe(pt)?pt.dom.parentNode:pt.dom;if(an==null||an.ownerDocument===null)return!1;var On=an.ownerDocument;return Rt(_t.fromDom(an)).fold(function(){return On.body.contains(an)},b(Xe,ur))},Bt=function(pt,an,On){for(var wn=pt.dom,er=h(On)?On:k;wn.parentNode;){wn=wn.parentNode;var et=_t.fromDom(wn);if(an(et))return q.some(et);if(er(et))break}return q.none()},Mn=function(pt,an,On){return Bt(pt,function(wn){return tt(wn,an)},On)},Qt=function(pt){return pt.style!==void 0&&h(pt.style.getPropertyValue)},Zn=function(pt,an){var On=pt.dom,wn=window.getComputedStyle(On),er=wn.getPropertyValue(an);return er===""&&!Xe(pt)?pr(On,an):er},pr=function(pt,an){return Qt(pt)?pt.style.getPropertyValue(an):""},ao=function(pt){return Zn(pt,"direction")==="rtl"?"rtl":"ltr"},Mo=function(pt,an){return ae(Fe(pt),an)},Go=function(pt,an){return Mo(pt,function(On){return tt(On,an)})},gn=function(pt){return Je(pt).filter(mt)},vn=function(pt,an){var On=an?Mn(pt,"ol,ul"):q.some(pt);return On.getOr(pt)},en=Nt("li"),vt=function(pt,an){var On=pt.selection.getSelectedBlocks();On.length>0&&(Y(On,function(wn){var er=_t.fromDom(wn),et=en(er),jt=vn(er,et),Pt=gn(jt);Pt.each(function(ln){var Kn=ao(ln);if(Kn!==an?Ue(jt,"dir",an):ao(jt)!==an&&Ye(jt,"dir"),et){var Br=Go(jt,"li[dir]");Y(Br,function(ei){return Ye(ei,"dir")})}})}),pt.nodeChanged())},Tt=function(pt){pt.addCommand("mceDirectionLTR",function(){vt(pt,"ltr")}),pt.addCommand("mceDirectionRTL",function(){vt(pt,"rtl")})},hn=function(pt,an){return function(On){var wn=function(er){var et=_t.fromDom(er.element);On.setActive(ao(et)===an)};return pt.on("NodeChange",wn),function(){return pt.off("NodeChange",wn)}}},Bn=function(pt){pt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return pt.execCommand("mceDirectionLTR")},onSetup:hn(pt,"ltr")}),pt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return pt.execCommand("mceDirectionRTL")},onSetup:hn(pt,"rtl")})};function bn(){n.add("directionality",function(pt){Tt(pt),Bn(pt)})}bn()})();(function(){var n=function(U){var V=U,ee=function(){return V},ye=function(Re){V=Re};return{get:ee,set:ye}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(U){return{isFullscreen:function(){return U.get()!==null}}},r=function(U){var V=typeof U;return U===null?"null":V==="object"&&(Array.prototype.isPrototypeOf(U)||U.constructor&&U.constructor.name==="Array")?"array":V==="object"&&(String.prototype.isPrototypeOf(U)||U.constructor&&U.constructor.name==="String")?"string":V},i=function(U){return function(V){return r(V)===U}},u=function(U){return function(V){return typeof V===U}},l=i("string"),f=i("array"),h=u("boolean"),g=function(U){return U==null},y=function(U){return!g(U)},b=u("function"),S=u("number"),_=function(){},k=function(U,V){return function(){for(var ee=[],ye=0;ye<arguments.length;ye++)ee[ye]=arguments[ye];return U(V.apply(null,ee))}},E=function(U,V){return function(ee){return U(V(ee))}},R=function(U){return function(){return U}},I=function(U){return U};function z(U){for(var V=[],ee=1;ee<arguments.length;ee++)V[ee-1]=arguments[ee];return function(){for(var ye=[],Re=0;Re<arguments.length;Re++)ye[Re]=arguments[Re];var gt=V.concat(ye);return U.apply(null,gt)}}var L=R(!1),q=R(!0),X=function(){return Y},Y=function(){var U=function(ye){return ye()},V=I,ee={fold:function(ye,Re){return ye()},isSome:L,isNone:q,getOr:V,getOrThunk:U,getOrDie:function(ye){throw new Error(ye||"error: getOrDie called on none.")},getOrNull:R(null),getOrUndefined:R(void 0),or:V,orThunk:U,map:X,each:_,bind:X,exists:L,forall:q,filter:function(){return X()},toArray:function(){return[]},toString:R("none()")};return ee}(),ae=function(U){var V=R(U),ee=function(){return Re},ye=function(gt){return gt(U)},Re={fold:function(gt,un){return un(U)},isSome:q,isNone:L,getOr:V,getOrThunk:V,getOrDie:V,getOrNull:V,getOrUndefined:V,or:ee,orThunk:ee,map:function(gt){return ae(gt(U))},each:function(gt){gt(U)},bind:ye,exists:ye,forall:ye,filter:function(gt){return gt(U)?Re:Y},toArray:function(){return[U]},toString:function(){return"some("+U+")"}};return Re},te=function(U){return U==null?Y:ae(U)},ie={some:ae,none:X,from:te},le=function(){return le=Object.assign||function(U){for(var V,ee=1,ye=arguments.length;ee<ye;ee++){V=arguments[ee];for(var Re in V)Object.prototype.hasOwnProperty.call(V,Re)&&(U[Re]=V[Re])}return U},le.apply(this,arguments)},ce=function(U){var V=n(ie.none()),ee=function(){return V.get().each(U)},ye=function(){ee(),V.set(ie.none())},Re=function(){return V.get().isSome()},gt=function(){return V.get()},un=function(hr){ee(),V.set(ie.some(hr))};return{clear:ye,isSet:Re,get:gt,set:un}},ne=function(){return ce(function(U){return U.unbind()})},Z=function(){var U=ce(_),V=function(ee){return U.get().each(ee)};return le(le({},U),{on:V})},Ce=Array.prototype.push,ze=function(U,V){for(var ee=U.length,ye=new Array(ee),Re=0;Re<ee;Re++){var gt=U[Re];ye[Re]=V(gt,Re)}return ye},ke=function(U,V){for(var ee=0,ye=U.length;ee<ye;ee++){var Re=U[ee];V(Re,ee)}},_t=function(U,V){for(var ee=[],ye=0,Re=U.length;ye<Re;ye++){var gt=U[ye];V(gt,ye)&&ee.push(gt)}return ee},tt=function(U,V,ee){for(var ye=0,Re=U.length;ye<Re;ye++){var gt=U[ye];if(V(gt,ye))return ie.some(gt);if(ee(gt,ye))break}return ie.none()},$=function(U,V){return tt(U,V,L)},Ze=function(U){for(var V=[],ee=0,ye=U.length;ee<ye;++ee){if(!f(U[ee]))throw new Error("Arr.flatten item "+ee+" was not an array, input: "+U);Ce.apply(V,U[ee])}return V},$e=function(U,V){return Ze(ze(U,V))},mt=function(U,V){return V>=0&&V<U.length?ie.some(U[V]):ie.none()},Qe=function(U){return mt(U,0)},Et=function(U,V){for(var ee=0;ee<U.length;ee++){var ye=V(U[ee],ee);if(ye.isSome())return ye}return ie.none()},Ot=Object.keys,Nt=function(U,V){for(var ee=Ot(U),ye=0,Re=ee.length;ye<Re;ye++){var gt=ee[ye],un=U[gt];V(un,gt)}},fe=function(U,V){return U.indexOf(V)!==-1},$t=function(U){return U.style!==void 0&&b(U.style.getPropertyValue)},Je=function(U,V){var ee=V||document,ye=ee.createElement("div");if(ye.innerHTML=U,!ye.hasChildNodes()||ye.childNodes.length>1)throw console.error("HTML does not have a single root node",U),new Error("HTML must have a single root node");return Ue(ye.childNodes[0])},Fe=function(U,V){var ee=V||document,ye=ee.createElement(U);return Ue(ye)},St=function(U,V){var ee=V||document,ye=ee.createTextNode(U);return Ue(ye)},Ue=function(U){if(U==null)throw new Error("Node cannot be null or undefined");return{dom:U}},Ye=function(U,V,ee){return ie.from(U.dom.elementFromPoint(V,ee)).map(Ue)},st={fromHtml:Je,fromTag:Fe,fromText:St,fromDom:Ue,fromPoint:Ye};typeof window<"u"||Function("return this;")();var Ft=9,Ct=11,Rt=1,ur=3,Xe=function(U){return U.dom.nodeType},Bt=function(U){return function(V){return Xe(V)===U}},Mn=Bt(Rt),Qt=Bt(ur),Zn=Bt(Ft),pr=Bt(Ct),ao=function(U){var V=!1,ee;return function(){for(var ye=[],Re=0;Re<arguments.length;Re++)ye[Re]=arguments[Re];return V||(V=!0,ee=U.apply(null,ye)),ee}},Mo=function(U,V,ee,ye){var Re=U.isiOS()&&/ipad/i.test(ee)===!0,gt=U.isiOS()&&!Re,un=U.isiOS()||U.isAndroid(),hr=un||ye("(pointer:coarse)"),Tr=Re||!gt&&un&&ye("(min-device-width:768px)"),Ln=gt||un&&!Tr,lr=V.isSafari()&&U.isiOS()&&/safari/i.test(ee)===!1,Kr=!Ln&&!Tr&&!lr;return{isiPad:R(Re),isiPhone:R(gt),isTablet:R(Tr),isPhone:R(Ln),isTouch:R(hr),isAndroid:U.isAndroid,isiOS:U.isiOS,isWebView:R(lr),isDesktop:R(Kr)}},Go=function(U,V){for(var ee=0;ee<U.length;ee++){var ye=U[ee];if(ye.test(V))return ye}},gn=function(U,V){var ee=Go(U,V);if(!ee)return{major:0,minor:0};var ye=function(Re){return Number(V.replace(ee,"$"+Re))};return vt(ye(1),ye(2))},vn=function(U,V){var ee=String(V).toLowerCase();return U.length===0?en():gn(U,ee)},en=function(){return vt(0,0)},vt=function(U,V){return{major:U,minor:V}},Tt={nu:vt,detect:vn,unknown:en},hn=function(U,V){return Et(V.brands,function(ee){var ye=ee.brand.toLowerCase();return $(U,function(Re){var gt;return ye===((gt=Re.brand)===null||gt===void 0?void 0:gt.toLowerCase())}).map(function(Re){return{current:Re.name,version:Tt.nu(parseInt(ee.version,10),0)}})})},Bn=function(U,V){var ee=String(V).toLowerCase();return $(U,function(ye){return ye.search(ee)})},bn=function(U,V){return Bn(U,V).map(function(ee){var ye=Tt.detect(ee.versionRegexes,V);return{current:ee.name,version:ye}})},pt=function(U,V){return Bn(U,V).map(function(ee){var ye=Tt.detect(ee.versionRegexes,V);return{current:ee.name,version:ye}})},an=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,On=function(U){return function(V){return fe(V,U)}},wn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(U){return fe(U,"edge/")&&fe(U,"chrome")&&fe(U,"safari")&&fe(U,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,an],search:function(U){return fe(U,"chrome")&&!fe(U,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(U){return fe(U,"msie")||fe(U,"trident")}},{name:"Opera",versionRegexes:[an,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:On("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:On("firefox")},{name:"Safari",versionRegexes:[an,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(U){return(fe(U,"safari")||fe(U,"mobile/"))&&fe(U,"applewebkit")}}],er=[{name:"Windows",search:On("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(U){return fe(U,"iphone")||fe(U,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:On("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:On("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:On("linux"),versionRegexes:[]},{name:"Solaris",search:On("sunos"),versionRegexes:[]},{name:"FreeBSD",search:On("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:On("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],et={browsers:R(wn),oses:R(er)},jt="Edge",Pt="Chrome",ln="IE",Kn="Opera",Br="Firefox",ei="Safari",zr=function(){return Hr({current:void 0,version:Tt.unknown()})},Hr=function(U){var V=U.current,ee=U.version,ye=function(Re){return function(){return V===Re}};return{current:V,version:ee,isEdge:ye(jt),isChrome:ye(Pt),isIE:ye(ln),isOpera:ye(Kn),isFirefox:ye(Br),isSafari:ye(ei)}},ui={unknown:zr,nu:Hr,edge:R(jt),chrome:R(Pt),ie:R(ln),opera:R(Kn),firefox:R(Br),safari:R(ei)},Ta="Windows",Ui="iOS",Si="Android",Yi="Linux",Ra="OSX",ea="Solaris",Li="FreeBSD",Pa="ChromeOS",co=function(){return Na({current:void 0,version:Tt.unknown()})},Na=function(U){var V=U.current,ee=U.version,ye=function(Re){return function(){return V===Re}};return{current:V,version:ee,isWindows:ye(Ta),isiOS:ye(Ui),isAndroid:ye(Si),isOSX:ye(Ra),isLinux:ye(Yi),isSolaris:ye(ea),isFreeBSD:ye(Li),isChromeOS:ye(Pa)}},dr={unknown:co,nu:Na,windows:R(Ta),ios:R(Ui),android:R(Si),linux:R(Yi),osx:R(Ra),solaris:R(ea),freebsd:R(Li),chromeos:R(Pa)},Vu=function(U,V,ee){var ye=et.browsers(),Re=et.oses(),gt=V.bind(function(Tr){return hn(ye,Tr)}).orThunk(function(){return bn(ye,U)}).fold(ui.unknown,ui.nu),un=pt(Re,U).fold(dr.unknown,dr.nu),hr=Mo(un,gt,U,ee);return{browser:gt,os:un,deviceType:hr}},xa={detect:Vu},Ua=function(U){return window.matchMedia(U).matches},aa=ao(function(){return xa.detect(navigator.userAgent,ie.from(navigator.userAgentData),Ua)}),Za=function(){return aa()},Hu=function(U,V){var ee=U.dom;if(ee.nodeType!==Rt)return!1;var ye=ee;if(ye.matches!==void 0)return ye.matches(V);if(ye.msMatchesSelector!==void 0)return ye.msMatchesSelector(V);if(ye.webkitMatchesSelector!==void 0)return ye.webkitMatchesSelector(V);if(ye.mozMatchesSelector!==void 0)return ye.mozMatchesSelector(V);throw new Error("Browser lacks native selectors")},Qa=function(U){return U.nodeType!==Rt&&U.nodeType!==Ft&&U.nodeType!==Ct||U.childElementCount===0},ws=function(U,V){var ee=V===void 0?document:V.dom;return Qa(ee)?[]:ze(ee.querySelectorAll(U),st.fromDom)},Pe=function(U,V){return U.dom===V.dom},it=function(U){return st.fromDom(U.dom.ownerDocument)},He=function(U){return Zn(U)?U:it(U)},Dt=function(U){return ie.from(U.dom.parentNode).map(st.fromDom)},Rn=function(U,V){for(var ee=b(V)?V:L,ye=U.dom,Re=[];ye.parentNode!==null&&ye.parentNode!==void 0;){var gt=ye.parentNode,un=st.fromDom(gt);if(Re.push(un),ee(un)===!0)break;ye=gt}return Re},tr=function(U){var V=function(ee){return _t(ee,function(ye){return!Pe(U,ye)})};return Dt(U).map(Oe).map(V).getOr([])},Oe=function(U){return ze(U.dom.childNodes,st.fromDom)},qe=function(U){return pr(U)&&y(U.dom.host)},At=b(Element.prototype.attachShadow)&&b(Node.prototype.getRootNode),Jt=R(At),he=At?function(U){return st.fromDom(U.dom.getRootNode())}:He,Me=function(U){var V=he(U);return qe(V)?ie.some(V):ie.none()},We=function(U){return st.fromDom(U.dom.host)},lt=function(U){if(Jt()&&y(U.target)){var V=st.fromDom(U.target);if(Mn(V)&&wt(V)&&U.composed&&U.composedPath){var ee=U.composedPath();if(ee)return Qe(ee)}}return ie.from(U.target)},wt=function(U){return y(U.dom.shadowRoot)},kt=function(U){var V=Qt(U)?U.dom.parentNode:U.dom;if(V==null||V.ownerDocument===null)return!1;var ee=V.ownerDocument;return Me(st.fromDom(V)).fold(function(){return ee.body.contains(V)},E(kt,We))},En=function(U){var V=U.dom.body;if(V==null)throw new Error("Body is not available yet");return st.fromDom(V)},Un=function(U,V,ee){if(l(ee)||h(ee)||S(ee))U.setAttribute(V,ee+"");else throw console.error("Invalid call to Attribute.set. Key ",V,":: Value ",ee,":: Element ",U),new Error("Attribute value was not simple")},_r=function(U,V,ee){Un(U.dom,V,ee)},It=function(U,V){var ee=U.dom.getAttribute(V);return ee===null?void 0:ee},mr=function(U,V){U.dom.removeAttribute(V)},qr=function(U,V,ee){if(!l(ee))throw console.error("Invalid call to CSS.set. Property ",V,":: Value ",ee,":: Element ",U),new Error("CSS value must be a string: "+ee);$t(U)&&U.style.setProperty(V,ee)},Uo=function(U,V){var ee=U.dom;Nt(V,function(ye,Re){qr(ee,Re,ye)})},ta=function(U,V){var ee=U.dom,ye=window.getComputedStyle(ee),Re=ye.getPropertyValue(V);return Re===""&&!kt(U)?ro(ee,V):Re},ro=function(U,V){return $t(U)?U.style.getPropertyValue(V):""},Fs=function(U,V,ee,ye,Re,gt,un){return{target:U,x:V,y:ee,stop:ye,prevent:Re,kill:gt,raw:un}},_s=function(U){var V=st.fromDom(lt(U).getOr(U.target)),ee=function(){return U.stopPropagation()},ye=function(){return U.preventDefault()},Re=k(ye,ee);return Fs(V,U.clientX,U.clientY,ee,ye,Re,U)},Ki=function(U,V){return function(ee){U(ee)&&V(_s(ee))}},jl=function(U,V,ee,ye,Re){var gt=Ki(ee,ye);return U.dom.addEventListener(V,gt,Re),{unbind:z(Eu,U,V,gt,Re)}},yu=function(U,V,ee,ye){return jl(U,V,ee,ye,!1)},Eu=function(U,V,ee,ye){U.dom.removeEventListener(V,ee,ye)},pi=q,Wl=function(U,V,ee){return yu(U,V,pi,ee)},nl=function(U,V){var ee=function(ye,Re){return nl(U+ye,V+Re)};return{left:U,top:V,translate:ee}},Sl=nl,gc=function(U){var V=U!==void 0?U.dom:document,ee=V.body.scrollLeft||V.documentElement.scrollLeft,ye=V.body.scrollTop||V.documentElement.scrollTop;return Sl(ee,ye)},Ou=function(U){var V=U===void 0?window:U;return Za().browser.isFirefox()?ie.none():ie.from(V.visualViewport)},os=function(U,V,ee,ye){return{x:U,y:V,width:ee,height:ye,right:U+ee,bottom:V+ye}},vc=function(U){var V=U===void 0?window:U,ee=V.document,ye=gc(st.fromDom(ee));return Ou(V).fold(function(){var Re=V.document.documentElement,gt=Re.clientWidth,un=Re.clientHeight;return os(ye.left,ye.top,gt,un)},function(Re){return os(Math.max(Re.pageLeft,ye.left),Math.max(Re.pageTop,ye.top),Re.width,Re.height)})},ju=function(U,V,ee){return Ou(ee).map(function(ye){var Re=function(gt){return V(_s(gt))};return ye.addEventListener(U,Re),{unbind:function(){return ye.removeEventListener(U,Re)}}}).getOrThunk(function(){return{unbind:_}})},Iu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),we=tinymce.util.Tools.resolve("tinymce.Env"),rt=tinymce.util.Tools.resolve("tinymce.util.Delay"),xt=function(U,V){U.fire("FullscreenStateChanged",{state:V})},tn=function(U){return U.getParam("fullscreen_native",!1,"boolean")},kn=function(U){var V=st.fromDom(U.getElement());return Me(V).map(We).getOrThunk(function(){return En(it(V))})},yr=function(U){return U.fullscreenElement!==void 0?U.fullscreenElement:U.msFullscreenElement!==void 0?U.msFullscreenElement:U.webkitFullscreenElement!==void 0?U.webkitFullscreenElement:null},jo=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},ti=function(U){var V=U.dom;V.requestFullscreen?V.requestFullscreen():V.msRequestFullscreen?V.msRequestFullscreen():V.webkitRequestFullScreen&&V.webkitRequestFullScreen()},uo=function(U){var V=U.dom;V.exitFullscreen?V.exitFullscreen():V.msExitFullscreen?V.msExitFullscreen():V.webkitCancelFullScreen&&V.webkitCancelFullScreen()},yi=function(U){return U.dom===yr(it(U).dom)},Bi=function(U,V,ee){return _t(Rn(U,ee),V)},rl=function(U,V){return _t(tr(U),V)},qa=function(U){return ws(U)},Vs=function(U,V,ee){return Bi(U,function(ye){return Hu(ye,V)},ee)},Cr=function(U,V){return rl(U,function(ee){return Hu(ee,V)})},Cl="data-ephox-mobile-fullscreen-style",Yf="display:none!important;",Oo="position:absolute!important;",df="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",hf="background-color:rgb(255,255,255)!important;",Nd=we.os.isAndroid(),si=function(U){var V=ta(U,"background-color");return V!==void 0&&V!==""?"background-color:"+V+"!important":hf},is=function(U,V,ee){var ye=function(Ln){return Cr(Ln,"*:not(.tox-silver-sink)")},Re=function(Ln){return function(lr){var Kr=It(lr,"style"),Jr=Kr===void 0?"no-styles":Kr.trim();Jr!==Ln&&(_r(lr,Cl,Jr),Uo(lr,U.parseStyle(Ln)))}},gt=Vs(V,"*"),un=$e(gt,ye),hr=si(ee);ke(un,Re(Yf)),ke(gt,Re(Oo+df+hr));var Tr=Nd===!0?"":Oo;Re(Tr+df+hr)(V)},Ah=function(U){var V=qa("["+Cl+"]");ke(V,function(ee){var ye=It(ee,Cl);ye!=="no-styles"?Uo(ee,U.parseStyle(ye)):mr(ee,"style"),mr(ee,Cl)})},Ss=Iu.DOM,ua=function(){return vc(window)},Ul=function(U){return window.scrollTo(U.x,U.y)},qt=Ou().fold(function(){return{bind:_,unbind:_}},function(U){var V=Z(),ee=ne(),ye=ne(),Re=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},gt=function(){window.requestAnimationFrame(function(){V.on(function(Ln){return Uo(Ln,{top:U.offsetTop+"px",left:U.offsetLeft+"px",height:U.height+"px",width:U.width+"px"})})})},un=rt.throttle(function(){Re(),gt()},50),hr=function(Ln){V.set(Ln),un(),ee.set(ju("resize",un)),ye.set(ju("scroll",un))},Tr=function(){V.on(function(){ee.clear(),ye.clear()}),V.clear()};return{bind:hr,unbind:Tr}}),yc=function(U,V){var ee=document.body,ye=document.documentElement,Re=U.getContainer(),gt=st.fromDom(Re),un=kn(U),hr=V.get(),Tr=st.fromDom(U.getBody()),Ln=we.deviceType.isTouch(),lr=Re.style,Kr=U.iframeElement,Jr=Kr.style,Vr=function(ni){ni(ee,"tox-fullscreen"),ni(ye,"tox-fullscreen"),ni(Re,"tox-fullscreen"),Me(gt).map(function(bu){return We(bu).dom}).each(function(bu){ni(bu,"tox-fullscreen"),ni(bu,"tox-shadowhost")})},Ei=function(){Ln&&Ah(U.dom),Vr(Ss.removeClass),qt.unbind(),ie.from(V.get()).each(function(ni){return ni.fullscreenChangeHandler.unbind()})};if(hr)hr.fullscreenChangeHandler.unbind(),tn(U)&&yi(un)&&uo(it(un)),Jr.width=hr.iframeWidth,Jr.height=hr.iframeHeight,lr.width=hr.containerWidth,lr.height=hr.containerHeight,lr.top=hr.containerTop,lr.left=hr.containerLeft,Ei(),Ul(hr.scrollPos),V.set(null),xt(U,!1),U.off("remove",Ei);else{var Or=Wl(it(un),jo(),function(ni){tn(U)&&!yi(un)&&V.get()!==null&&yc(U,V)}),li={scrollPos:ua(),containerWidth:lr.width,containerHeight:lr.height,containerTop:lr.top,containerLeft:lr.left,iframeWidth:Jr.width,iframeHeight:Jr.height,fullscreenChangeHandler:Or};Ln&&is(U.dom,gt,Tr),Jr.width=Jr.height="100%",lr.width=lr.height="",Vr(Ss.addClass),qt.bind(gt),U.on("remove",Ei),V.set(li),tn(U)&&ti(un),xt(U,!0)}},sa=function(U,V){U.addCommand("mceFullScreen",function(){yc(U,V)})},Kf=function(U,V){return function(ee){ee.setActive(V.get()!==null);var ye=function(Re){return ee.setActive(Re.state)};return U.on("FullscreenStateChanged",ye),function(){return U.off("FullscreenStateChanged",ye)}}},Tl=function(U,V){var ee=function(){return U.execCommand("mceFullScreen")};U.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:ee,onSetup:Kf(U,V)}),U.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:ee,onSetup:Kf(U,V)})};function ue(){e.add("fullscreen",function(U){var V=n(null);return U.inline||(sa(U,V),Tl(U,V),U.addShortcut("Meta+Shift+F","","mceFullScreen")),t(V)})}ue()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(i){i.addCommand("InsertHorizontalRule",function(){i.execCommand("mceInsertContent",!1,"<hr />")})},t=function(i){var u=function(){return i.execCommand("InsertHorizontalRule")};i.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:u}),i.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:u})};function r(){n.add("hr",function(i){e(i),t(i)})}r()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(L){return L.getParam("insertdatetime_dateformat",L.translate("%Y-%m-%d"))},t=function(L){return L.getParam("insertdatetime_timeformat",L.translate("%H:%M:%S"))},r=function(L){return L.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},i=function(L){var q=r(L);return q.length>0?q[0]:t(L)},u=function(L){return L.getParam("insertdatetime_element",!1)},l="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),h="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g="January February March April May June July August September October November December".split(" "),y=function(L,q){if(L=""+L,L.length<q)for(var X=0;X<q-L.length;X++)L="0"+L;return L},b=function(L,q,X){return X===void 0&&(X=new Date),q=q.replace("%D","%m/%d/%Y"),q=q.replace("%r","%I:%M:%S %p"),q=q.replace("%Y",""+X.getFullYear()),q=q.replace("%y",""+X.getYear()),q=q.replace("%m",y(X.getMonth()+1,2)),q=q.replace("%d",y(X.getDate(),2)),q=q.replace("%H",""+y(X.getHours(),2)),q=q.replace("%M",""+y(X.getMinutes(),2)),q=q.replace("%S",""+y(X.getSeconds(),2)),q=q.replace("%I",""+((X.getHours()+11)%12+1)),q=q.replace("%p",X.getHours()<12?"AM":"PM"),q=q.replace("%B",""+L.translate(g[X.getMonth()])),q=q.replace("%b",""+L.translate(h[X.getMonth()])),q=q.replace("%A",""+L.translate(f[X.getDay()])),q=q.replace("%a",""+L.translate(l[X.getDay()])),q=q.replace("%%","%"),q},S=function(L,q,X,Y){var ae=L.dom.create("time",{datetime:X},Y);q.parentNode.insertBefore(ae,q),L.dom.remove(q),L.selection.select(ae,!0),L.selection.collapse(!1)},_=function(L,q){if(u(L)){var X=b(L,q),Y=void 0;/%[HMSIp]/.test(q)?Y=b(L,"%Y-%m-%dT%H:%M"):Y=b(L,"%Y-%m-%d");var ae=L.dom.getParent(L.selection.getStart(),"time");ae?S(L,ae,Y,X):L.insertContent('<time datetime="'+Y+'">'+X+"</time>")}else L.insertContent(b(L,q))},k=function(L){L.addCommand("mceInsertDate",function(q,X){_(L,X??e(L))}),L.addCommand("mceInsertTime",function(q,X){_(L,X??t(L))})},E=function(L){var q=L,X=function(){return q},Y=function(ae){q=ae};return{get:X,set:Y}},R=tinymce.util.Tools.resolve("tinymce.util.Tools"),I=function(L){var q=r(L),X=E(i(L)),Y=function(te){return L.execCommand("mceInsertDate",!1,te)};L.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(te){return te===X.get()},fetch:function(te){te(R.map(q,function(ie){return{type:"choiceitem",text:b(L,ie),value:ie}}))},onAction:function(te){Y(X.get())},onItemAction:function(te,ie){X.set(ie),Y(ie)}});var ae=function(te){return function(){X.set(te),Y(te)}};L.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return R.map(q,function(te){return{type:"menuitem",text:b(L,te),onAction:ae(te)}})}})};function z(){n.add("insertdatetime",function(L){k(L),I(L)})}z()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.VK"),t=function(we){var rt=typeof we;return we===null?"null":rt==="object"&&(Array.prototype.isPrototypeOf(we)||we.constructor&&we.constructor.name==="Array")?"array":rt==="object"&&(String.prototype.isPrototypeOf(we)||we.constructor&&we.constructor.name==="String")?"string":rt},r=function(we){return function(rt){return t(rt)===we}},i=function(we){return function(rt){return typeof rt===we}},u=function(we){return function(rt){return we===rt}},l=r("string"),f=r("array"),h=u(null),g=i("boolean"),y=i("function"),b=function(){},S=function(we){return function(){return we}},_=function(we){return we},k=function(we,rt){return we===rt},E=S(!1),R=S(!0),I=function(){return z},z=function(){var we=function(tn){return tn()},rt=_,xt={fold:function(tn,kn){return tn()},isSome:E,isNone:R,getOr:rt,getOrThunk:we,getOrDie:function(tn){throw new Error(tn||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:rt,orThunk:we,map:I,each:b,bind:I,exists:E,forall:R,filter:function(){return I()},toArray:function(){return[]},toString:S("none()")};return xt}(),L=function(we){var rt=S(we),xt=function(){return kn},tn=function(yr){return yr(we)},kn={fold:function(yr,jo){return jo(we)},isSome:R,isNone:E,getOr:rt,getOrThunk:rt,getOrDie:rt,getOrNull:rt,getOrUndefined:rt,or:xt,orThunk:xt,map:function(yr){return L(yr(we))},each:function(yr){yr(we)},bind:tn,exists:tn,forall:tn,filter:function(yr){return yr(we)?kn:z},toArray:function(){return[we]},toString:function(){return"some("+we+")"}};return kn},q=function(we){return we==null?z:L(we)},X={some:L,none:I,from:q},Y=Array.prototype.indexOf,ae=Array.prototype.push,te=function(we,rt){return Y.call(we,rt)},ie=function(we,rt){return te(we,rt)>-1},le=function(we,rt){for(var xt=we.length,tn=new Array(xt),kn=0;kn<xt;kn++){var yr=we[kn];tn[kn]=rt(yr,kn)}return tn},ce=function(we,rt){for(var xt=0,tn=we.length;xt<tn;xt++){var kn=we[xt];rt(kn,xt)}},ne=function(we,rt,xt){return ce(we,function(tn,kn){xt=rt(xt,tn,kn)}),xt},Z=function(we){for(var rt=[],xt=0,tn=we.length;xt<tn;++xt){if(!f(we[xt]))throw new Error("Arr.flatten item "+xt+" was not an array, input: "+we);ae.apply(rt,we[xt])}return rt},Ce=function(we,rt){return Z(le(we,rt))},ze=function(we,rt){for(var xt=0;xt<we.length;xt++){var tn=rt(we[xt],xt);if(tn.isSome())return tn}return X.none()},ke=function(we,rt,xt){return xt===void 0&&(xt=k),we.exists(function(tn){return xt(tn,rt)})},_t=function(we){for(var rt=[],xt=function(kn){rt.push(kn)},tn=0;tn<we.length;tn++)we[tn].each(xt);return rt},tt=function(we,rt){return we?X.some(rt):X.none()},$=function(we){var rt=we.getParam("link_assume_external_targets",!1);return g(rt)&&rt?1:l(rt)&&(rt==="http"||rt==="https")?rt:0},Ze=function(we){return we.getParam("link_context_toolbar",!1,"boolean")},$e=function(we){return we.getParam("link_list")},mt=function(we){return we.getParam("default_link_target")},Qe=function(we){return we.getParam("target_list",!0)},Et=function(we){return we.getParam("rel_list",[],"array")},Ot=function(we){return we.getParam("link_class_list",[],"array")},Nt=function(we){return we.getParam("link_title",!0,"boolean")},fe=function(we){return we.getParam("allow_unsafe_link_target",!1,"boolean")},$t=function(we){return we.getParam("link_quicklink",!1,"boolean")},Je=function(we){return we.getParam("link_default_protocol","http","string")},Fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),St=function(we){return l(we.value)?we.value:""},Ue=function(we){return l(we.text)?we.text:l(we.title)?we.title:""},Ye=function(we,rt){var xt=[];return Fe.each(we,function(tn){var kn=Ue(tn);if(tn.menu!==void 0){var yr=Ye(tn.menu,rt);xt.push({text:kn,items:yr})}else{var jo=rt(tn);xt.push({text:kn,value:jo})}}),xt},st=function(we){return we===void 0&&(we=St),function(rt){return X.from(rt).map(function(xt){return Ye(xt,we)})}},Ft=function(we){return st(St)(we)},Ct=function(we,rt){return function(xt){return{name:we,type:"listbox",label:rt,items:xt}}},Rt={sanitize:Ft,sanitizeWith:st,createUi:Ct,getValue:St},ur=function(){return ur=Object.assign||function(we){for(var rt,xt=1,tn=arguments.length;xt<tn;xt++){rt=arguments[xt];for(var kn in rt)Object.prototype.hasOwnProperty.call(rt,kn)&&(we[kn]=rt[kn])}return we},ur.apply(this,arguments)},Xe=Object.keys,Bt=Object.hasOwnProperty,Mn=function(we,rt){for(var xt=Xe(we),tn=0,kn=xt.length;tn<kn;tn++){var yr=xt[tn],jo=we[yr];rt(jo,yr)}},Qt=function(we){return function(rt,xt){we[xt]=rt}},Zn=function(we,rt,xt,tn){var kn={};return Mn(we,function(yr,jo){(rt(yr,jo)?xt:tn)(yr,jo)}),kn},pr=function(we,rt){var xt={};return Zn(we,rt,Qt(xt),b),xt},ao=function(we,rt){return Bt.call(we,rt)},Mo=function(we,rt){return ao(we,rt)&&we[rt]!==void 0&&we[rt]!==null},Go=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),gn=tinymce.util.Tools.resolve("tinymce.util.URI"),vn=function(we){return we&&we.nodeName.toLowerCase()==="a"},en=function(we){return vn(we)&&!!hn(we)},vt=function(we,rt){if(we.collapsed)return[];var xt=we.cloneContents(),tn=new Go(xt.firstChild,xt),kn=[],yr=xt.firstChild;do rt(yr)&&kn.push(yr);while(yr=tn.next());return kn},Tt=function(we){return/^\w+:/i.test(we)},hn=function(we){var rt=we.getAttribute("data-mce-href");return rt||we.getAttribute("href")},Bn=function(we,rt){var xt=["noopener"],tn=we?we.split(/\s+/):[],kn=function(uo){return Fe.trim(uo.sort().join(" "))},yr=function(uo){return uo=jo(uo),uo.length>0?uo.concat(xt):xt},jo=function(uo){return uo.filter(function(yi){return Fe.inArray(xt,yi)===-1})},ti=rt?yr(tn):jo(tn);return ti.length>0?kn(ti):""},bn=function(we){return we.replace(/\uFEFF/g,"")},pt=function(we,rt){return rt=rt||we.selection.getNode(),et(rt)?we.dom.select("a[href]",rt)[0]:we.dom.getParent(rt,"a[href]")},an=function(we,rt){var xt=rt?rt.innerText||rt.textContent:we.getContent({format:"text"});return bn(xt)},On=function(we){return Fe.grep(we,en).length>0},wn=function(we){return vt(we,en).length>0},er=function(we){var rt=we.schema.getTextInlineElements(),xt=function(kn){return kn.nodeType===1&&!vn(kn)&&!ao(rt,kn.nodeName.toLowerCase())},tn=vt(we.selection.getRng(),xt);return tn.length===0},et=function(we){return we&&we.nodeName==="FIGURE"&&/\bimage\b/i.test(we.className)},jt=function(we){var rt=["title","rel","class","target"];return ne(rt,function(xt,tn){return we[tn].each(function(kn){xt[tn]=kn.length>0?kn:null}),xt},{href:we.href})},Pt=function(we,rt){return(rt==="http"||rt==="https")&&!Tt(we)?rt+"://"+we:we},ln=function(we,rt){var xt=ur({},rt);if(!(Et(we).length>0)&&fe(we)===!1){var tn=Bn(xt.rel,xt.target==="_blank");xt.rel=tn||null}return X.from(xt.target).isNone()&&Qe(we)===!1&&(xt.target=mt(we)),xt.href=Pt(xt.href,$(we)),xt},Kn=function(we,rt,xt,tn){xt.each(function(kn){ao(rt,"innerText")?rt.innerText=kn:rt.textContent=kn}),we.dom.setAttribs(rt,tn),we.selection.select(rt)},Br=function(we,rt,xt,tn){et(rt)?Ra(we,rt,tn):xt.fold(function(){we.execCommand("mceInsertLink",!1,tn)},function(kn){we.insertContent(we.dom.createHTML("a",tn,we.dom.encode(kn)))})},ei=function(we,rt,xt){var tn=we.selection.getNode(),kn=pt(we,tn),yr=ln(we,jt(xt));we.undoManager.transact(function(){xt.href===rt.href&&rt.attach(),kn?(we.focus(),Kn(we,kn,xt.text,yr)):Br(we,tn,xt.text,yr)})},zr=function(we){var rt=we.dom,xt=we.selection,tn=xt.getBookmark(),kn=xt.getRng().cloneRange(),yr=rt.getParent(kn.startContainer,"a[href]",we.getBody()),jo=rt.getParent(kn.endContainer,"a[href]",we.getBody());yr&&kn.setStartBefore(yr),jo&&kn.setEndAfter(jo),xt.setRng(kn),we.execCommand("unlink"),xt.moveToBookmark(tn)},Hr=function(we){we.undoManager.transact(function(){var rt=we.selection.getNode();et(rt)?Yi(we,rt):zr(we),we.focus()})},ui=function(we){var rt=we.class,xt=we.href,tn=we.rel,kn=we.target,yr=we.text,jo=we.title;return pr({class:rt.getOrNull(),href:xt,rel:tn.getOrNull(),target:kn.getOrNull(),text:yr.getOrNull(),title:jo.getOrNull()},function(ti,uo){return h(ti)===!1})},Ta=function(we,rt){var xt=rt.href;return ur(ur({},rt),{href:gn.isDomSafe(xt,"a",we.settings)?xt:""})},Ui=function(we,rt,xt){var tn=Ta(we,xt);we.hasPlugin("rtc",!0)?we.execCommand("createlink",!1,ui(tn)):ei(we,rt,tn)},Si=function(we){we.hasPlugin("rtc",!0)?we.execCommand("unlink"):Hr(we)},Yi=function(we,rt){var xt=we.dom.select("img",rt)[0];if(xt){var tn=we.dom.getParents(xt,"a[href]",rt)[0];tn&&(tn.parentNode.insertBefore(xt,tn),we.dom.remove(tn))}},Ra=function(we,rt,xt){var tn=we.dom.select("img",rt)[0];if(tn){var kn=we.dom.create("a",xt);tn.parentNode.insertBefore(kn,tn),kn.appendChild(tn)}},ea=function(we){return Mo(we,"items")},Li=function(we,rt){return ze(rt,function(xt){return ea(xt)?Li(we,xt.items):tt(xt.value===we,xt)})},Pa=function(we,rt,xt,tn){var kn=tn[rt],yr=we.length>0;return kn!==void 0?Li(kn,xt).map(function(jo){return{url:{value:jo.value,meta:{text:yr?we:jo.text,attach:b}},text:yr?we:jo.text}}):X.none()},co=function(we,rt){return rt==="link"?we.link:rt==="anchor"?we.anchor:X.none()},Na=function(we,rt){var xt={text:we.text,title:we.title},tn=function(uo){return tt(xt.title.length<=0,X.from(uo.meta.title).getOr(""))},kn=function(uo){return tt(xt.text.length<=0,X.from(uo.meta.text).getOr(uo.value))},yr=function(uo){var yi=kn(uo.url),Bi=tn(uo.url);return yi.isSome()||Bi.isSome()?X.some(ur(ur({},yi.map(function(rl){return{text:rl}}).getOr({})),Bi.map(function(rl){return{title:rl}}).getOr({}))):X.none()},jo=function(uo,yi){var Bi=co(rt,yi.name).getOr([]);return Pa(xt.text,yi.name,Bi,uo)},ti=function(uo,yi){var Bi=yi.name;return Bi==="url"?yr(uo()):ie(["anchor","link"],Bi)?jo(uo(),yi):((Bi==="text"||Bi==="title")&&(xt[Bi]=uo()[Bi]),X.none())};return{onChange:ti}},dr={init:Na,getDelta:Pa},Vu=tinymce.util.Tools.resolve("tinymce.util.Delay"),xa=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ua=function(we,rt,xt){var tn=we.selection.getRng();Vu.setEditorTimeout(we,function(){we.windowManager.confirm(rt,function(kn){we.selection.setRng(tn),xt(kn)})})},aa=function(we){var rt=we.href,xt=rt.indexOf("@")>0&&rt.indexOf("/")===-1&&rt.indexOf("mailto:")===-1;return xt?X.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(tn){return ur(ur({},tn),{href:"mailto:"+rt})}}):X.none()},Za=function(we,rt){return function(xt){var tn=xt.href,kn=we===1&&!Tt(tn)||we===0&&/^\s*www(\.|\d\.)/i.test(tn);return kn?X.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+rt+":// prefix?",preprocess:function(yr){return ur(ur({},yr),{href:rt+"://"+tn})}}):X.none()}},Hu=function(we,rt){return ze([aa,Za($(we),Je(we))],function(xt){return xt(rt)}).fold(function(){return xa.resolve(rt)},function(xt){return new xa(function(tn){Ua(we,xt.message,function(kn){tn(kn?xt.preprocess(rt):rt)})})})},Qa={preprocess:Hu},ws=function(we){var rt=we.dom.select("a:not([href])"),xt=Ce(rt,function(tn){var kn=tn.name||tn.id;return kn?[{text:kn,value:"#"+kn}]:[]});return xt.length>0?X.some([{text:"None",value:""}].concat(xt)):X.none()},Pe={getAnchors:ws},it=function(we){var rt=Ot(we);return rt.length>0?Rt.sanitize(rt):X.none()},He={getClasses:it},Dt=tinymce.util.Tools.resolve("tinymce.util.XHR"),Rn=function(we){try{return X.some(JSON.parse(we))}catch{return X.none()}},tr=function(we){var rt=function(tn){return we.convertURL(tn.value||tn.url,"href")},xt=$e(we);return new xa(function(tn){l(xt)?Dt.send({url:xt,success:function(kn){return tn(Rn(kn))},error:function(kn){return tn(X.none())}}):y(xt)?xt(function(kn){return tn(X.some(kn))}):tn(X.from(xt))}).then(function(tn){return tn.bind(Rt.sanitizeWith(rt)).map(function(kn){if(kn.length>0){var yr=[{text:"None",value:""}];return yr.concat(kn)}else return kn})})},Oe={getLinks:tr},qe=function(we,rt){var xt=Et(we);if(xt.length>0){var tn=ke(rt,"_blank"),kn=fe(we)===!1,yr=function(ti){return Bn(Rt.getValue(ti),tn)},jo=kn?Rt.sanitizeWith(yr):Rt.sanitize;return jo(xt)}return X.none()},At={getRels:qe},Jt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],he=function(we){var rt=Qe(we);return f(rt)?Rt.sanitize(rt).orThunk(function(){return X.some(Jt)}):rt===!1?X.none():X.some(Jt)},Me={getTargets:he},We=function(we,rt,xt){var tn=we.getAttrib(rt,xt);return tn!==null&&tn.length>0?X.some(tn):X.none()},lt=function(we,rt){var xt=we.dom,tn=er(we),kn=tn?X.some(an(we.selection,rt)):X.none(),yr=rt?X.some(xt.getAttrib(rt,"href")):X.none(),jo=rt?X.from(xt.getAttrib(rt,"target")):X.none(),ti=We(xt,rt,"rel"),uo=We(xt,rt,"class"),yi=We(xt,rt,"title");return{url:yr,text:kn,title:yi,target:jo,rel:ti,linkClass:uo}},wt=function(we,rt){return Oe.getLinks(we).then(function(xt){var tn=lt(we,rt);return{anchor:tn,catalogs:{targets:Me.getTargets(we),rels:At.getRels(we,tn.target),classes:He.getClasses(we),anchor:Pe.getAnchors(we),link:xt},optNode:X.from(rt),flags:{titleEnabled:Nt(we)}}})},kt={collect:wt},En=function(we,rt){return function(xt){var tn=xt.getData();if(!tn.url.value){Si(we),xt.close();return}var kn=function(ti){return X.from(tn[ti]).filter(function(uo){return!ke(rt.anchor[ti],uo)})},yr={href:tn.url.value,text:kn("text"),target:kn("target"),rel:kn("rel"),class:kn("linkClass"),title:kn("title")},jo={href:tn.url.value,attach:tn.url.meta!==void 0&&tn.url.meta.attach?tn.url.meta.attach:b};Qa.preprocess(we,yr).then(function(ti){Ui(we,jo,ti)}),xt.close()}},Un=function(we){var rt=pt(we);return kt.collect(we,rt)},_r=function(we,rt){var xt=we.anchor,tn=xt.url.getOr("");return{url:{value:tn,meta:{original:{value:tn}}},text:xt.text.getOr(""),title:xt.title.getOr(""),anchor:tn,link:tn,rel:xt.rel.getOr(""),target:xt.target.or(rt).getOr(""),linkClass:xt.linkClass.getOr("")}},It=function(we,rt,xt){var tn=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],kn=we.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),yr=we.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],jo=X.from(mt(xt)),ti=_r(we,jo),uo=we.catalogs,yi=dr.init(ti,uo),Bi={type:"panel",items:Z([tn,kn,yr,_t([uo.anchor.map(Rt.createUi("anchor","Anchors")),uo.rels.map(Rt.createUi("rel","Rel")),uo.targets.map(Rt.createUi("target","Open link in...")),uo.link.map(Rt.createUi("link","Link list")),uo.classes.map(Rt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Bi,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ti,onChange:function(rl,qa){var Vs=qa.name;yi.onChange(rl.getData,{name:Vs}).each(function(Cr){rl.setData(Cr)})},onSubmit:rt}},mr=function(we){var rt=Un(we);rt.then(function(xt){var tn=En(we,xt);return It(xt,tn,we)}).then(function(xt){we.windowManager.open(xt)})},qr=function(we,rt){document.body.appendChild(we),we.dispatchEvent(rt),document.body.removeChild(we)},Uo=function(we){var rt=document.createElement("a");rt.target="_blank",rt.href=we,rt.rel="noreferrer noopener";var xt=document.createEvent("MouseEvents");xt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),qr(rt,xt)},ta=function(we,rt){return we.dom.getParent(rt,"a[href]")},ro=function(we){return ta(we,we.selection.getStart())},Fs=function(we){return we.altKey===!0&&we.shiftKey===!1&&we.ctrlKey===!1&&we.metaKey===!1},_s=function(we,rt){if(rt){var xt=hn(rt);if(/^#/.test(xt)){var tn=we.$(xt);tn.length&&we.selection.scrollIntoView(tn[0],!0)}else Uo(rt.href)}},Ki=function(we){return function(){mr(we)}},jl=function(we){return function(){_s(we,ro(we))}},yu=function(we){we.on("click",function(rt){var xt=ta(we,rt.target);xt&&e.metaKeyPressed(rt)&&(rt.preventDefault(),_s(we,xt))}),we.on("keydown",function(rt){var xt=ro(we);xt&&rt.keyCode===13&&Fs(rt)&&(rt.preventDefault(),_s(we,xt))})},Eu=function(we,rt){return we.on("NodeChange",rt),function(){return we.off("NodeChange",rt)}},pi=function(we){return function(rt){var xt=function(){return rt.setActive(!we.mode.isReadOnly()&&pt(we,we.selection.getNode())!==null)};return xt(),Eu(we,xt)}},Wl=function(we){return function(rt){var xt=function(){return rt.setDisabled(pt(we,we.selection.getNode())===null)};return xt(),Eu(we,xt)}},nl=function(we){return function(rt){var xt=function(kn){return On(kn)||wn(we.selection.getRng())},tn=we.dom.getParents(we.selection.getStart());return rt.setDisabled(!xt(tn)),Eu(we,function(kn){return rt.setDisabled(!xt(kn.parents))})}},Sl=function(we){we.addCommand("mceLink",function(){$t(we)?we.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ki(we)()})},gc=function(we){we.addShortcut("Meta+K","",function(){we.execCommand("mceLink")})},Ou=function(we){we.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ki(we),onSetup:pi(we)}),we.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:jl(we),onSetup:Wl(we)}),we.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Si(we)},onSetup:nl(we)})},os=function(we){we.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:jl(we),onSetup:Wl(we)}),we.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ki(we)}),we.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Si(we)},onSetup:nl(we)})},vc=function(we){var rt="link unlink openlink",xt="link";we.ui.registry.addContextMenu("link",{update:function(tn){return On(we.dom.getParents(tn,"a"))?rt:xt}})},ju=function(we){var rt=function(kn){kn.selection.collapse(!1)},xt=function(kn){var yr=we.selection.getNode();return kn.setDisabled(!pt(we,yr)),b},tn=function(kn){var yr=pt(we),jo=er(we);if(!yr&&jo){var ti=an(we.selection,yr);return X.some(ti.length>0?ti:kn)}else return X.none()};we.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:pi(we)},label:"Link",predicate:function(kn){return!!pt(we,kn)&&Ze(we)},initValue:function(){var kn=pt(we);return kn?hn(kn):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(kn){var yr=we.selection.getNode();return kn.setActive(!!pt(we,yr)),pi(we)(kn)},onAction:function(kn){var yr=kn.getValue(),jo=tn(yr),ti={href:yr,attach:b};Ui(we,ti,{href:yr,text:jo,title:X.none(),rel:X.none(),target:X.none(),class:X.none()}),rt(we),kn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:xt,onAction:function(kn){Si(we),kn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:xt,onAction:function(kn){jl(we)(),kn.hide()}}]})};function Iu(){n.add("link",function(we){Ou(we),os(we),vc(we),ju(we),yu(we),Sl(we),gc(we)})}Iu()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(J){var me=typeof J;return J===null?"null":me==="object"&&(Array.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="Array")?"array":me==="object"&&(String.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="String")?"string":me},t=function(J){return function(me){return e(me)===J}},r=function(J){return function(me){return typeof me===J}},i=t("string"),u=t("object"),l=t("array"),f=r("boolean"),h=r("function"),g=r("number"),y=function(){},b=function(J){return function(){return J}},S=function(J){return J},_=function(J,me){return J===me},k=function(J){return function(me){return!J(me)}},E=b(!1),R=b(!0),I=function(){return z},z=function(){var J=function(Ve){return Ve()},me=S,xe={fold:function(Ve,yt){return Ve()},isSome:E,isNone:R,getOr:me,getOrThunk:J,getOrDie:function(Ve){throw new Error(Ve||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:me,orThunk:J,map:I,each:y,bind:I,exists:E,forall:R,filter:function(){return I()},toArray:function(){return[]},toString:b("none()")};return xe}(),L=function(J){var me=b(J),xe=function(){return yt},Ve=function(Zt){return Zt(J)},yt={fold:function(Zt,vr){return vr(J)},isSome:R,isNone:E,getOr:me,getOrThunk:me,getOrDie:me,getOrNull:me,getOrUndefined:me,or:xe,orThunk:xe,map:function(Zt){return L(Zt(J))},each:function(Zt){Zt(J)},bind:Ve,exists:Ve,forall:Ve,filter:function(Zt){return Zt(J)?yt:z},toArray:function(){return[J]},toString:function(){return"some("+J+")"}};return yt},q=function(J){return J==null?z:L(J)},X={some:L,none:I,from:q},Y=Array.prototype.slice,ae=Array.prototype.push,te=function(J,me){for(var xe=J.length,Ve=new Array(xe),yt=0;yt<xe;yt++){var Zt=J[yt];Ve[yt]=me(Zt,yt)}return Ve},ie=function(J,me){for(var xe=0,Ve=J.length;xe<Ve;xe++){var yt=J[xe];me(yt,xe)}},le=function(J,me){for(var xe=[],Ve=0,yt=J.length;Ve<yt;Ve++){var Zt=J[Ve];me(Zt,Ve)&&xe.push(Zt)}return xe},ce=function(J,me){if(J.length===0)return[];for(var xe=me(J[0]),Ve=[],yt=[],Zt=0,vr=J.length;Zt<vr;Zt++){var Zr=J[Zt],Io=me(Zr);Io!==xe&&(Ve.push(yt),yt=[]),xe=Io,yt.push(Zr)}return yt.length!==0&&Ve.push(yt),Ve},ne=function(J,me,xe){return ie(J,function(Ve,yt){xe=me(xe,Ve,yt)}),xe},Z=function(J,me,xe){for(var Ve=0,yt=J.length;Ve<yt;Ve++){var Zt=J[Ve];if(me(Zt,Ve))return X.some(Zt);if(xe(Zt,Ve))break}return X.none()},Ce=function(J,me){return Z(J,me,E)},ze=function(J){for(var me=[],xe=0,Ve=J.length;xe<Ve;++xe){if(!l(J[xe]))throw new Error("Arr.flatten item "+xe+" was not an array, input: "+J);ae.apply(me,J[xe])}return me},ke=function(J,me){return ze(te(J,me))},_t=function(J){var me=Y.call(J,0);return me.reverse(),me},tt=function(J,me){return me>=0&&me<J.length?X.some(J[me]):X.none()},$=function(J){return tt(J,0)},Ze=function(J){return tt(J,J.length-1)},$e=function(J,me){for(var xe=0;xe<J.length;xe++){var Ve=me(J[xe],xe);if(Ve.isSome())return Ve}return X.none()},mt=function(){return mt=Object.assign||function(J){for(var me,xe=1,Ve=arguments.length;xe<Ve;xe++){me=arguments[xe];for(var yt in me)Object.prototype.hasOwnProperty.call(me,yt)&&(J[yt]=me[yt])}return J},mt.apply(this,arguments)};function Qe(J,me,xe){if(xe||arguments.length===2)for(var Ve=0,yt=me.length,Zt;Ve<yt;Ve++)(Zt||!(Ve in me))&&(Zt||(Zt=Array.prototype.slice.call(me,0,Ve)),Zt[Ve]=me[Ve]);return J.concat(Zt||Array.prototype.slice.call(me))}var Et=function(J){var me=!1,xe;return function(){for(var Ve=[],yt=0;yt<arguments.length;yt++)Ve[yt]=arguments[yt];return me||(me=!0,xe=J.apply(null,Ve)),xe}},Ot=function(J,me,xe,Ve){var yt=J.isiOS()&&/ipad/i.test(xe)===!0,Zt=J.isiOS()&&!yt,vr=J.isiOS()||J.isAndroid(),Zr=vr||Ve("(pointer:coarse)"),Io=yt||!Zt&&vr&&Ve("(min-device-width:768px)"),bo=Zt||vr&&!Io,zi=me.isSafari()&&J.isiOS()&&/safari/i.test(xe)===!1,ss=!bo&&!Io&&!zi;return{isiPad:b(yt),isiPhone:b(Zt),isTablet:b(Io),isPhone:b(bo),isTouch:b(Zr),isAndroid:J.isAndroid,isiOS:J.isiOS,isWebView:b(zi),isDesktop:b(ss)}},Nt=function(J,me){for(var xe=0;xe<J.length;xe++){var Ve=J[xe];if(Ve.test(me))return Ve}},fe=function(J,me){var xe=Nt(J,me);if(!xe)return{major:0,minor:0};var Ve=function(yt){return Number(me.replace(xe,"$"+yt))};return Fe(Ve(1),Ve(2))},$t=function(J,me){var xe=String(me).toLowerCase();return J.length===0?Je():fe(J,xe)},Je=function(){return Fe(0,0)},Fe=function(J,me){return{major:J,minor:me}},St={nu:Fe,detect:$t,unknown:Je},Ue=function(J,me){return $e(me.brands,function(xe){var Ve=xe.brand.toLowerCase();return Ce(J,function(yt){var Zt;return Ve===((Zt=yt.brand)===null||Zt===void 0?void 0:Zt.toLowerCase())}).map(function(yt){return{current:yt.name,version:St.nu(parseInt(xe.version,10),0)}})})},Ye=function(J,me){var xe=String(me).toLowerCase();return Ce(J,function(Ve){return Ve.search(xe)})},st=function(J,me){return Ye(J,me).map(function(xe){var Ve=St.detect(xe.versionRegexes,me);return{current:xe.name,version:Ve}})},Ft=function(J,me){return Ye(J,me).map(function(xe){var Ve=St.detect(xe.versionRegexes,me);return{current:xe.name,version:Ve}})},Ct=function(J,me){return J.indexOf(me)!==-1},Rt=function(J){return function(me){return me.replace(J,"")}},ur=Rt(/^\s+|\s+$/g),Xe=function(J){return J.length>0},Bt=function(J){return!Xe(J)},Mn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qt=function(J){return function(me){return Ct(me,J)}},Zn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(J){return Ct(J,"edge/")&&Ct(J,"chrome")&&Ct(J,"safari")&&Ct(J,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mn],search:function(J){return Ct(J,"chrome")&&!Ct(J,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(J){return Ct(J,"msie")||Ct(J,"trident")}},{name:"Opera",versionRegexes:[Mn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qt("firefox")},{name:"Safari",versionRegexes:[Mn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(J){return(Ct(J,"safari")||Ct(J,"mobile/"))&&Ct(J,"applewebkit")}}],pr=[{name:"Windows",search:Qt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(J){return Ct(J,"iphone")||Ct(J,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Qt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qt("linux"),versionRegexes:[]},{name:"Solaris",search:Qt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ao={browsers:b(Zn),oses:b(pr)},Mo="Edge",Go="Chrome",gn="IE",vn="Opera",en="Firefox",vt="Safari",Tt=function(){return hn({current:void 0,version:St.unknown()})},hn=function(J){var me=J.current,xe=J.version,Ve=function(yt){return function(){return me===yt}};return{current:me,version:xe,isEdge:Ve(Mo),isChrome:Ve(Go),isIE:Ve(gn),isOpera:Ve(vn),isFirefox:Ve(en),isSafari:Ve(vt)}},Bn={unknown:Tt,nu:hn,edge:b(Mo),chrome:b(Go),ie:b(gn),opera:b(vn),firefox:b(en),safari:b(vt)},bn="Windows",pt="iOS",an="Android",On="Linux",wn="OSX",er="Solaris",et="FreeBSD",jt="ChromeOS",Pt=function(){return ln({current:void 0,version:St.unknown()})},ln=function(J){var me=J.current,xe=J.version,Ve=function(yt){return function(){return me===yt}};return{current:me,version:xe,isWindows:Ve(bn),isiOS:Ve(pt),isAndroid:Ve(an),isOSX:Ve(wn),isLinux:Ve(On),isSolaris:Ve(er),isFreeBSD:Ve(et),isChromeOS:Ve(jt)}},Kn={unknown:Pt,nu:ln,windows:b(bn),ios:b(pt),android:b(an),linux:b(On),osx:b(wn),solaris:b(er),freebsd:b(et),chromeos:b(jt)},Br=function(J,me,xe){var Ve=ao.browsers(),yt=ao.oses(),Zt=me.bind(function(Io){return Ue(Ve,Io)}).orThunk(function(){return st(Ve,J)}).fold(Bn.unknown,Bn.nu),vr=Ft(yt,J).fold(Kn.unknown,Kn.nu),Zr=Ot(vr,Zt,J,xe);return{browser:Zt,os:vr,deviceType:Zr}},ei={detect:Br},zr=function(J){return window.matchMedia(J).matches},Hr=Et(function(){return ei.detect(navigator.userAgent,X.from(navigator.userAgentData),zr)}),ui=function(){return Hr()},Ta=function(J,me,xe){return(J.compareDocumentPosition(me)&xe)!==0},Ui=function(J,me){return Ta(J,me,Node.DOCUMENT_POSITION_CONTAINED_BY)},Si=1,Yi=function(J,me){var xe=me||document,Ve=xe.createElement("div");if(Ve.innerHTML=J,!Ve.hasChildNodes()||Ve.childNodes.length>1)throw console.error("HTML does not have a single root node",J),new Error("HTML must have a single root node");return Li(Ve.childNodes[0])},Ra=function(J,me){var xe=me||document,Ve=xe.createElement(J);return Li(Ve)},ea=function(J,me){var xe=me||document,Ve=xe.createTextNode(J);return Li(Ve)},Li=function(J){if(J==null)throw new Error("Node cannot be null or undefined");return{dom:J}},Pa=function(J,me,xe){return X.from(J.dom.elementFromPoint(me,xe)).map(Li)},co={fromHtml:Yi,fromTag:Ra,fromText:ea,fromDom:Li,fromPoint:Pa},Na=function(J,me){var xe=J.dom;if(xe.nodeType!==Si)return!1;var Ve=xe;if(Ve.matches!==void 0)return Ve.matches(me);if(Ve.msMatchesSelector!==void 0)return Ve.msMatchesSelector(me);if(Ve.webkitMatchesSelector!==void 0)return Ve.webkitMatchesSelector(me);if(Ve.mozMatchesSelector!==void 0)return Ve.mozMatchesSelector(me);throw new Error("Browser lacks native selectors")},dr=function(J,me){return J.dom===me.dom},Vu=function(J,me){var xe=J.dom,Ve=me.dom;return xe===Ve?!1:xe.contains(Ve)},xa=function(J,me){return Ui(J.dom,me.dom)},Ua=function(J,me){return ui().browser.isIE()?xa(J,me):Vu(J,me)},aa=Na,Za=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Hu=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Qa=tinymce.util.Tools.resolve("tinymce.util.VK"),ws=Object.keys,Pe=function(J,me){for(var xe=ws(J),Ve=0,yt=xe.length;Ve<yt;Ve++){var Zt=xe[Ve],vr=J[Zt];me(vr,Zt)}},it=function(J){return function(me,xe){J[xe]=me}},He=function(J,me,xe,Ve){var yt={};return Pe(J,function(Zt,vr){(me(Zt,vr)?xe:Ve)(Zt,vr)}),yt},Dt=function(J,me){var xe={};return He(J,me,it(xe),y),xe};typeof window<"u"||Function("return this;")();var Rn=function(J){var me=J.dom.nodeName;return me.toLowerCase()},tr=function(J){return J.dom.nodeType},Oe=function(J){return function(me){return tr(me)===J}},qe=Oe(Si),At=function(J){return function(me){return qe(me)&&Rn(me)===J}},Jt=function(J,me,xe){if(i(xe)||f(xe)||g(xe))J.setAttribute(me,xe+"");else throw console.error("Invalid call to Attribute.set. Key ",me,":: Value ",xe,":: Element ",J),new Error("Attribute value was not simple")},he=function(J,me){var xe=J.dom;Pe(me,function(Ve,yt){Jt(xe,yt,Ve)})},Me=function(J){return ne(J.dom.attributes,function(me,xe){return me[xe.name]=xe.value,me},{})},We=function(J){return X.from(J.dom.parentNode).map(co.fromDom)},lt=function(J){return te(J.dom.childNodes,co.fromDom)},wt=function(J,me){var xe=J.dom.childNodes;return X.from(xe[me]).map(co.fromDom)},kt=function(J){return wt(J,0)},En=function(J){return wt(J,J.dom.childNodes.length-1)},Un=function(J,me){var xe=We(J);xe.each(function(Ve){Ve.dom.insertBefore(me.dom,J.dom)})},_r=function(J,me){J.dom.appendChild(me.dom)},It=function(J,me){ie(me,function(xe){Un(J,xe)})},mr=function(J,me){ie(me,function(xe){_r(J,xe)})},qr=function(J){var me=J.dom;me.parentNode!==null&&me.parentNode.removeChild(me)},Uo=function(J,me){return co.fromDom(J.dom.cloneNode(me))},ta=function(J){return Uo(J,!0)},ro=function(J,me){var xe=co.fromTag(me),Ve=Me(J);return he(xe,Ve),xe},Fs=function(J,me){var xe=ro(J,me);Un(J,xe);var Ve=lt(J);return mr(xe,Ve),qr(J),xe},_s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ki=tinymce.util.Tools.resolve("tinymce.util.Tools"),jl=function(J){return function(me){return me&&me.nodeName.toLowerCase()===J}},yu=function(J){return function(me){return me&&J.test(me.nodeName)}},Eu=function(J){return J&&J.nodeType===3},pi=yu(/^(OL|UL|DL)$/),Wl=yu(/^(OL|UL)$/),nl=jl("ol"),Sl=yu(/^(LI|DT|DD)$/),gc=yu(/^(DT|DD)$/),Ou=yu(/^(TH|TD)$/),os=jl("br"),vc=function(J){return J.parentNode.firstChild===J},ju=function(J,me){return me&&!!J.schema.getTextBlockElements()[me.nodeName]},Iu=function(J,me){return J&&J.nodeName in me},we=function(J,me){return os(me)?J.isBlock(me.nextSibling)&&!os(me.previousSibling):!1},rt=function(J,me,xe){var Ve=J.isEmpty(me);return xe&&J.select("span[data-mce-type=bookmark]",me).length>0?!1:Ve},xt=function(J,me){return J.isChildOf(me,J.getRoot())},tn=function(J){return J.getParam("lists_indent_on_tab",!0)},kn=function(J){var me=J.getParam("forced_root_block","p");return me===!1?"":me===!0?"p":me},yr=function(J){return J.getParam("forced_root_block_attrs",{})},jo=function(J,me){var xe=J.dom,Ve=J.schema.getBlockElements(),yt=xe.createFragment(),Zt=kn(J),vr,Zr,Io;if(Zt&&(Zr=xe.create(Zt),Zr.tagName===Zt.toUpperCase()&&xe.setAttribs(Zr,yr(J)),Iu(me.firstChild,Ve)||yt.appendChild(Zr)),me)for(;vr=me.firstChild;){var bo=vr.nodeName;!Io&&(bo!=="SPAN"||vr.getAttribute("data-mce-type")!=="bookmark")&&(Io=!0),Iu(vr,Ve)?(yt.appendChild(vr),Zr=null):Zt?(Zr||(Zr=xe.create(Zt),yt.appendChild(Zr)),Zr.appendChild(vr)):yt.appendChild(vr)}return Zt?Io||Zr.appendChild(xe.create("br",{"data-mce-bogus":"1"})):yt.appendChild(xe.create("br")),yt},ti=_s.DOM,uo=function(J,me,xe){var Ve=function(bo){Ki.each(yt,function(zi){bo.parentNode.insertBefore(zi,xe.parentNode)}),ti.remove(bo)},yt=ti.select('span[data-mce-type="bookmark"]',me),Zt=jo(J,xe),vr=ti.createRng();vr.setStartAfter(xe),vr.setEndAfter(me);for(var Zr=vr.extractContents(),Io=Zr.firstChild;Io;Io=Io.firstChild)if(Io.nodeName==="LI"&&J.dom.isEmpty(Io)){ti.remove(Io);break}J.dom.isEmpty(Zr)||ti.insertAfter(Zr,me),ti.insertAfter(Zt,me),rt(J.dom,xe.parentNode)&&Ve(xe.parentNode),ti.remove(xe),rt(J.dom,me)&&ti.remove(me)},yi=At("dd"),Bi=At("dt"),rl=function(J,me){yi(me)?Fs(me,"dt"):Bi(me)&&We(me).each(function(xe){return uo(J,xe.dom,me.dom)})},qa=function(J){Bi(J)&&Fs(J,"dd")},Vs=function(J,me,xe){me==="Indent"?ie(xe,qa):ie(xe,function(Ve){return rl(J,Ve)})},Cr=function(J,me){if(Eu(J))return{container:J,offset:me};var xe=Za.getNode(J,me);return Eu(xe)?{container:xe,offset:me>=J.childNodes.length?xe.data.length:0}:xe.previousSibling&&Eu(xe.previousSibling)?{container:xe.previousSibling,offset:xe.previousSibling.data.length}:xe.nextSibling&&Eu(xe.nextSibling)?{container:xe.nextSibling,offset:0}:{container:J,offset:me}},Cl=function(J){var me=J.cloneRange(),xe=Cr(J.startContainer,J.startOffset);me.setStart(xe.container,xe.offset);var Ve=Cr(J.endContainer,J.endOffset);return me.setEnd(Ve.container,Ve.offset),me},Yf=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Oo=function(J,me){var xe=me||J.selection.getStart(!0);return J.dom.getParent(xe,"OL,UL,DL",Ss(J,xe))},df=function(J,me){return J&&me.length===1&&me[0]===J},hf=function(J){return le(J.querySelectorAll("ol,ul,dl"),pi)},Nd=function(J){var me=Oo(J),xe=J.selection.getSelectedBlocks();return df(me,xe)?hf(me):le(xe,function(Ve){return pi(Ve)&&me!==Ve})},si=function(J,me){var xe=Ki.map(me,function(Ve){var yt=J.dom.getParent(Ve,"li,dd,dt",Ss(J,Ve));return yt||Ve});return Yf.unique(xe)},is=function(J){var me=J.selection.getSelectedBlocks();return le(si(J,me),Sl)},Ah=function(J){return le(is(J),gc)},Ss=function(J,me){var xe=J.dom.getParents(me,"TD,TH");return xe.length>0?xe[0]:J.getBody()},ua=function(J,me){var xe=J.dom.getParents(me,"ol,ul",Ss(J,me));return Ze(xe)},Ul=function(J){var me=ua(J,J.selection.getStart()),xe=le(J.selection.getSelectedBlocks(),Wl);return me.toArray().concat(xe)},qt=function(J){var me=Ul(J);return yc(J,me)},yc=function(J,me){var xe=te(me,function(Ve){return ua(J,Ve).getOr(Ve)});return Yf.unique(xe)},sa=function(J,me,xe){return xe===void 0&&(xe=_),J.exists(function(Ve){return xe(Ve,me)})},Kf=function(J,me,xe){return J.isSome()&&me.isSome()?X.some(xe(J.getOrDie(),me.getOrDie())):X.none()},Tl=function(J,me){var xe=me||document,Ve=xe.createDocumentFragment();return ie(J,function(yt){Ve.appendChild(yt.dom)}),co.fromDom(Ve)},ue=function(J,me,xe){return J.fire("ListMutation",{action:me,element:xe})},U=function(J){return J.style!==void 0&&h(J.style.getPropertyValue)},V=function(J,me,xe){if(!i(xe))throw console.error("Invalid call to CSS.set. Property ",me,":: Value ",xe,":: Element ",J),new Error("CSS value must be a string: "+xe);U(J)&&J.style.setProperty(me,xe)},ee=function(J,me,xe){var Ve=J.dom;V(Ve,me,xe)},ye=function(J,me){_r(J.item,me.list)},Re=function(J){for(var me=1;me<J.length;me++)ye(J[me-1],J[me])},gt=function(J,me){Kf(Ze(J),$(me),ye)},un=function(J,me){var xe={list:co.fromTag(me,J),item:co.fromTag("li",J)};return _r(xe.list,xe.item),xe},hr=function(J,me,xe){for(var Ve=[],yt=0;yt<xe;yt++)Ve.push(un(J,me.listType));return Ve},Tr=function(J,me){for(var xe=0;xe<J.length-1;xe++)ee(J[xe].item,"list-style-type","none");Ze(J).each(function(Ve){he(Ve.list,me.listAttributes),he(Ve.item,me.itemAttributes),mr(Ve.item,me.content)})},Ln=function(J,me){Rn(J.list)!==me.listType&&(J.list=Fs(J.list,me.listType)),he(J.list,me.listAttributes)},lr=function(J,me,xe){var Ve=co.fromTag("li",J);return he(Ve,me),mr(Ve,xe),Ve},Kr=function(J,me){_r(J.list,me),J.item=me},Jr=function(J,me,xe){var Ve=me.slice(0,xe.depth);return Ze(Ve).each(function(yt){var Zt=lr(J,xe.itemAttributes,xe.content);Kr(yt,Zt),Ln(yt,xe)}),Ve},Vr=function(J,me,xe){var Ve=hr(J,xe,xe.depth-me.length);return Re(Ve),Tr(Ve,xe),gt(me,Ve),me.concat(Ve)},Ei=function(J,me){var xe=ne(me,function(Ve,yt){return yt.depth>Ve.length?Vr(J,Ve,yt):Jr(J,Ve,yt)},[]);return $(xe).map(function(Ve){return Ve.list})},Or=function(J){return aa(J,"OL,UL")},li=function(J){return kt(J).exists(Or)},ni=function(J){return En(J).exists(Or)},bu=function(J){return J.depth>0},so=function(J){return J.isSelected},ql=function(J){var me=lt(J),xe=ni(J)?me.slice(0,-1):me;return te(xe,ta)},la=function(J,me,xe){return We(J).filter(qe).map(function(Ve){return{depth:me,dirty:!1,isSelected:xe,content:ql(J),itemAttributes:Me(J),listAttributes:Me(Ve),listType:Rn(Ve)}})},wa=function(J,me){switch(J){case"Indent":me.depth++;break;case"Outdent":me.depth--;break;case"Flatten":me.depth=0}me.dirty=!0},Wb=function(J,me){J.listType=me.listType,J.listAttributes=mt({},me.listAttributes)},Wu=function(J){J.listAttributes=Dt(J.listAttributes,function(me,xe){return xe!=="start"})},Cy=function(J,me){var xe=J[me].depth,Ve=function(Zt){return Zt.depth===xe&&!Zt.dirty},yt=function(Zt){return Zt.depth<xe};return Z(_t(J.slice(0,me)),Ve,yt).orThunk(function(){return Z(J.slice(me+1),Ve,yt)})},pf=function(J){return ie(J,function(me,xe){Cy(J,xe).fold(function(){me.dirty&&Wu(me)},function(Ve){return Wb(me,Ve)})}),J},Ur=function(J){var me=J,xe=function(){return me},Ve=function(yt){me=yt};return{get:xe,set:Ve}},$l=function(J,me,xe,Ve){return kt(Ve).filter(Or).fold(function(){me.each(function(vr){dr(vr.start,Ve)&&xe.set(!0)});var yt=la(Ve,J,xe.get());me.each(function(vr){dr(vr.end,Ve)&&xe.set(!1)});var Zt=En(Ve).filter(Or).map(function(vr){return Ma(J,me,xe,vr)}).getOr([]);return yt.toArray().concat(Zt)},function(yt){return Ma(J,me,xe,yt)})},Ma=function(J,me,xe,Ve){return ke(lt(Ve),function(yt){var Zt=Or(yt)?Ma:$l,vr=J+1;return Zt(vr,me,xe,yt)})},ka=function(J,me){var xe=Ur(!1),Ve=0;return te(J,function(yt){return{sourceList:yt,entries:Ma(Ve,me,xe,yt)}})},xu=function(J,me){var xe=pf(me);return te(xe,function(Ve){var yt=Tl(Ve.content);return co.fromDom(jo(J,yt.dom))})},eu=function(J,me){var xe=pf(me);return Ei(J.contentDocument,xe).toArray()},Eh=function(J,me){return ke(ce(me,bu),function(xe){var Ve=$(xe).exists(bu);return Ve?eu(J,xe):xu(J,xe)})},bc=function(J,me){ie(le(J,so),function(xe){return wa(me,xe)})},ri=function(J){var me=te(is(J),co.fromDom);return Kf(Ce(me,k(li)),Ce(_t(me),k(li)),function(xe,Ve){return{start:xe,end:Ve}})},Ji=function(J,me,xe){var Ve=ka(me,ri(J));ie(Ve,function(yt){bc(yt.entries,xe);var Zt=Eh(J,yt.entries);ie(Zt,function(vr){ue(J,xe==="Indent"?"IndentList":"OutdentList",vr.dom)}),It(yt.sourceList,Zt),qr(yt.sourceList)})},Hs=function(J,me){var xe=te(qt(J),co.fromDom),Ve=te(Ah(J),co.fromDom),yt=!1;if(xe.length||Ve.length){var Zt=J.selection.getBookmark();Ji(J,xe,me),Vs(J,me,Ve),J.selection.moveToBookmark(Zt),J.selection.setRng(Cl(J.selection.getRng())),J.nodeChanged(),yt=!0}return yt},Jf=function(J){return Hs(J,"Indent")},fu=function(J){return Hs(J,"Outdent")},Gl=function(J){return Hs(J,"Flatten")},Ub=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Oh=_s.DOM,Oi=function(J){var me={},xe=function(Ve){var yt=J[Ve?"startContainer":"endContainer"],Zt=J[Ve?"startOffset":"endOffset"];if(yt.nodeType===1){var vr=Oh.create("span",{"data-mce-type":"bookmark"});yt.hasChildNodes()?(Zt=Math.min(Zt,yt.childNodes.length-1),Ve?yt.insertBefore(vr,yt.childNodes[Zt]):Oh.insertAfter(vr,yt.childNodes[Zt])):yt.appendChild(vr),yt=vr,Zt=0}me[Ve?"startContainer":"endContainer"]=yt,me[Ve?"startOffset":"endOffset"]=Zt};return xe(!0),J.collapsed||xe(),me},Pc=function(J){var me=function(Ve){var yt,Zt=function(Io){for(var bo=Io.parentNode.firstChild,zi=0;bo;){if(bo===Io)return zi;(bo.nodeType!==1||bo.getAttribute("data-mce-type")!=="bookmark")&&zi++,bo=bo.nextSibling}return-1},vr=yt=J[Ve?"startContainer":"endContainer"],Zr=J[Ve?"startOffset":"endOffset"];vr&&(vr.nodeType===1&&(Zr=Zt(vr),vr=vr.parentNode,Oh.remove(yt),!vr.hasChildNodes()&&Oh.isBlock(vr)&&vr.appendChild(Oh.create("br"))),J[Ve?"startContainer":"endContainer"]=vr,J[Ve?"startOffset":"endOffset"]=Zr)};me(!0),me();var xe=Oh.createRng();return xe.setStart(J.startContainer,J.startOffset),J.endContainer&&xe.setEnd(J.endContainer,J.endOffset),Cl(xe)},Ld=function(J){switch(J){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},ol=function(J){return/\btox\-/.test(J.className)},La=function(J,me,xe){var Ve=function(Zt){var vr=Z(Zt.parents,pi,Ou).filter(function(Zr){return Zr.nodeName===me&&!ol(Zr)}).isSome();xe(vr)},yt=J.dom.getParents(J.selection.getNode());return Ve({parents:yt}),J.on("NodeChange",Ve),function(){return J.off("NodeChange",Ve)}},Bd=function(J,me,xe){var Ve=xe["list-style-type"]?xe["list-style-type"]:null;J.setStyle(me,"list-style-type",Ve)},Zf=function(J,me){Ki.each(me,function(xe,Ve){J.setAttribute(Ve,xe)})},Cs=function(J,me,xe){Zf(me,xe["list-attributes"]),Ki.each(J.select("li",me),function(Ve){Zf(Ve,xe["list-item-attributes"])})},il=function(J,me,xe){Bd(J,me,xe),Cs(J,me,xe)},as=function(J,me,xe){Ki.each(xe,function(Ve){var yt;return J.setStyle(me,(yt={},yt[Ve]="",yt))})},Ip=function(J,me,xe,Ve){var yt=me[xe?"startContainer":"endContainer"],Zt=me[xe?"startOffset":"endOffset"];for(yt.nodeType===1&&(yt=yt.childNodes[Math.min(Zt,yt.childNodes.length-1)]||yt),!xe&&os(yt.nextSibling)&&(yt=yt.nextSibling);yt.parentNode!==Ve;){if(ju(J,yt)||/^(TD|TH)$/.test(yt.parentNode.nodeName))return yt;yt=yt.parentNode}return yt},Nc=function(J,me,xe){for(var Ve=[],yt=J.dom,Zt=Ip(J,me,!0,xe),vr=Ip(J,me,!1,xe),Zr,Io=[],bo=Zt;bo&&(Io.push(bo),bo!==vr);bo=bo.nextSibling);return Ki.each(Io,function(zi){if(ju(J,zi)){Ve.push(zi),Zr=null;return}if(yt.isBlock(zi)||os(zi)){os(zi)&&yt.remove(zi),Zr=null;return}var ss=zi.nextSibling;if(Ub.isBookmarkNode(zi)&&(pi(ss)||ju(J,ss)||!ss&&zi.parentNode===xe)){Zr=null;return}Zr||(Zr=yt.create("p"),zi.parentNode.insertBefore(Zr,zi),Ve.push(Zr)),Zr.appendChild(zi)}),Ve},wu=function(J,me,xe){var Ve=J.getStyle(me,"list-style-type"),yt=xe?xe["list-style-type"]:"";return yt=yt===null?"":yt,Ve===yt},rg=function(J,me,xe){var Ve=J.selection.getRng(),yt="LI",Zt=Ss(J,J.selection.getStart(!0)),vr=J.dom;if(vr.getContentEditable(J.selection.getNode())!=="false"){me=me.toUpperCase(),me==="DL"&&(yt="DT");var Zr=Oi(Ve),Io=Nc(J,Ve,Zt);Ki.each(Io,function(bo){var zi,ss=bo.previousSibling,Da=bo.parentNode;Sl(Da)||(ss&&pi(ss)&&ss.nodeName===me&&wu(vr,ss,xe)?(zi=ss,bo=vr.rename(bo,yt),ss.appendChild(bo)):(zi=vr.create(me),bo.parentNode.insertBefore(zi,bo),zi.appendChild(bo),bo=vr.rename(bo,yt)),as(vr,bo,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),il(vr,zi,xe),Ph(J.dom,zi))}),J.selection.setRng(Pc(Zr))}},qb=function(J,me){return J&&me&&pi(J)&&J.nodeName===me.nodeName},Ih=function(J,me,xe){var Ve=J.getStyle(me,"list-style-type",!0),yt=J.getStyle(xe,"list-style-type",!0);return Ve===yt},Rh=function(J,me){return J.className===me.className},Ba=function(J,me,xe){return qb(me,xe)&&Ih(J,me,xe)&&Rh(me,xe)},Ph=function(J,me){var xe,Ve;if(xe=me.nextSibling,Ba(J,me,xe)){for(;Ve=xe.firstChild;)me.appendChild(Ve);J.remove(xe)}if(xe=me.previousSibling,Ba(J,me,xe)){for(;Ve=xe.lastChild;)me.insertBefore(Ve,me.firstChild);J.remove(xe)}},Nh=function(J,me,xe,Ve){if(me.nodeName!==xe){var yt=J.dom.rename(me,xe);il(J.dom,yt,Ve),ue(J,Ld(xe),yt)}else il(J.dom,me,Ve),ue(J,Ld(xe),me)},Ts=function(J,me,xe,Ve,yt){var Zt=pi(me);if(Zt&&me.nodeName===Ve&&!Qf(yt))Gl(J);else{rg(J,Ve,yt);var vr=Oi(J.selection.getRng()),Zr=Zt?Qe([me],xe,!0):xe;Ki.each(Zr,function(Io){Nh(J,Io,Ve,yt)}),J.selection.setRng(Pc(vr))}},Qf=function(J){return"list-style-type"in J},Lh=function(J,me,xe,Ve){if(me!==J.getBody())if(me)if(me.nodeName===xe&&!Qf(Ve)&&!ol(me))Gl(J);else{var yt=Oi(J.selection.getRng());il(J.dom,me,Ve);var Zt=J.dom.rename(me,xe);Ph(J.dom,Zt),J.selection.setRng(Pc(yt)),rg(J,xe,Ve),ue(J,Ld(xe),Zt)}else rg(J,xe,Ve),ue(J,Ld(xe),me)},ed=function(J,me,xe){var Ve=Oo(J),yt=Nd(J),Zt=u(xe)?xe:{};yt.length>0?Ts(J,Ve,yt,me,Zt):Lh(J,Ve,me,Zt)},fa=_s.DOM,Ml=function(J,me){var xe=me.parentNode;if(xe.nodeName==="LI"&&xe.firstChild===me){var Ve=xe.previousSibling;Ve&&Ve.nodeName==="LI"?(Ve.appendChild(me),rt(J,xe)&&fa.remove(xe)):fa.setStyle(xe,"listStyleType","none")}if(pi(xe)){var Ve=xe.previousSibling;Ve&&Ve.nodeName==="LI"&&Ve.appendChild(me)}},Iv=function(J,me){var xe=Ki.grep(J.select("ol,ul",me));Ki.each(xe,function(Ve){Ml(J,Ve)})},Xl=function(J,me,xe,Ve){var yt=me.startContainer,Zt=me.startOffset;if(Eu(yt)&&(xe?Zt<yt.data.length:Zt>0))return yt;var vr=J.schema.getNonEmptyElements();yt.nodeType===1&&(yt=Za.getNode(yt,Zt));var Zr=new Hu(yt,Ve);for(xe&&we(J.dom,yt)&&Zr.next();yt=Zr[xe?"next":"prev2"]();)if(yt.nodeName==="LI"&&!yt.hasChildNodes()||vr[yt.nodeName]||Eu(yt)&&yt.data.length>0)return yt},Rv=function(J,me){var xe=me.childNodes;return xe.length===1&&!pi(xe[0])&&J.isBlock(xe[0])},$b=function(J,me){Rv(J,me)&&J.remove(me.firstChild,!0)},Ty=function(J,me,xe){var Ve,yt=Rv(J,xe)?xe.firstChild:xe;if($b(J,me),!rt(J,me,!0))for(;Ve=me.firstChild;)yt.appendChild(Ve)},Bh=function(J,me,xe){var Ve,yt=me.parentNode;if(!(!xt(J,me)||!xt(J,xe))){pi(xe.lastChild)&&(Ve=xe.lastChild),yt===xe.lastChild&&os(yt.previousSibling)&&J.remove(yt.previousSibling);var Zt=xe.lastChild;Zt&&os(Zt)&&me.hasChildNodes()&&J.remove(Zt),rt(J,xe,!0)&&J.$(xe).empty(),Ty(J,me,xe),Ve&&xe.appendChild(Ve);var vr=Ua(co.fromDom(xe),co.fromDom(me)),Zr=vr?J.getParents(me,pi,xe):[];J.remove(me),ie(Zr,function(Io){rt(J,Io)&&Io!==J.getRoot()&&J.remove(Io)})}},zh=function(J,me,xe){J.dom.$(xe).empty(),Bh(J.dom,me,xe),J.selection.setCursorLocation(xe,0)},zd=function(J,me,xe,Ve){var yt=J.dom;if(yt.isEmpty(Ve))zh(J,xe,Ve);else{var Zt=Oi(me);Bh(yt,xe,Ve),J.selection.setRng(Pc(Zt))}},Xr=function(J,me,xe,Ve){var yt=Oi(me);Bh(J.dom,xe,Ve);var Zt=Pc(yt);J.selection.setRng(Zt)},xc=function(J,me){var xe=J.dom,Ve=J.selection,yt=Ve.getStart(),Zt=Ss(J,yt),vr=xe.getParent(Ve.getStart(),"LI",Zt);if(vr){var Zr=vr.parentNode;if(Zr===J.getBody()&&rt(xe,Zr))return!0;var Io=Cl(Ve.getRng()),bo=xe.getParent(Xl(J,Io,me,Zt),"LI",Zt);if(bo&&bo!==vr)return J.undoManager.transact(function(){me?zd(J,Io,bo,vr):vc(vr)?fu(J):Xr(J,Io,vr,bo)}),!0;if(!bo&&!me&&Io.startOffset===0&&Io.endOffset===0)return J.undoManager.transact(function(){Gl(J)}),!0}return!1},al=function(J,me,xe){var Ve=J.getParent(me.parentNode,J.isBlock,xe);J.remove(me),Ve&&J.isEmpty(Ve)&&J.remove(Ve)},Ms=function(J,me){var xe=J.dom,Ve=J.selection.getStart(),yt=Ss(J,Ve),Zt=xe.getParent(Ve,xe.isBlock,yt);if(Zt&&xe.isEmpty(Zt)){var vr=Cl(J.selection.getRng()),Zr=xe.getParent(Xl(J,vr,me,yt),"LI",yt);if(Zr)return J.undoManager.transact(function(){al(xe,Zt,yt),Ph(xe,Zr.parentNode),J.selection.select(Zr,!0),J.selection.collapse(me)}),!0}return!1},wc=function(J,me){return xc(J,me)||Ms(J,me)},$a=function(J){var me=J.selection.getStart(),xe=Ss(J,me),Ve=J.dom.getParent(me,"LI,DT,DD",xe);return Ve||is(J).length>0?(J.undoManager.transact(function(){J.execCommand("Delete"),Iv(J.dom,J.getBody())}),!0):!1},_u=function(J,me){return J.selection.isCollapsed()?wc(J,me):$a(J)},tu=function(J){J.on("keydown",function(me){me.keyCode===Qa.BACKSPACE?_u(J,!1)&&me.preventDefault():me.keyCode===Qa.DELETE&&_u(J,!0)&&me.preventDefault()})},Fd=function(J){return{backspaceDelete:function(me){_u(J,me)}}},us=function(J,me){var xe=Oo(J);J.undoManager.transact(function(){u(me.styles)&&J.dom.setStyles(xe,me.styles),u(me.attrs)&&Pe(me.attrs,function(Ve,yt){return J.dom.setAttrib(xe,yt,Ve)})})},or=function(J){var me=_t(ur(J).split("")),xe=te(me,function(Ve,yt){var Zt=Ve.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,yt)*Zt});return ne(xe,function(Ve,yt){return Ve+yt},0)},Fh=function(J){if(J--,J<0)return"";var me=J%26,xe=Math.floor(J/26),Ve=Fh(xe),yt=String.fromCharCode(65+me);return Ve+yt},My=function(J){return/^[A-Z]+$/.test(J)},fo=function(J){return/^[a-z]+$/.test(J)},Ii=function(J){return/^[0-9]+$/.test(J)},Pv=function(J){return Ii(J)?2:My(J)?0:fo(J)?1:Bt(J)?3:4},mf=function(J){switch(Pv(J)){case 2:return X.some({listStyleType:X.none(),start:J});case 0:return X.some({listStyleType:X.some("upper-alpha"),start:or(J).toString()});case 1:return X.some({listStyleType:X.some("lower-alpha"),start:or(J).toString()});case 3:return X.some({listStyleType:X.none(),start:""});case 4:return X.none()}},ca=function(J){var me=parseInt(J.start,10);return sa(J.listStyleType,"upper-alpha")?Fh(me):sa(J.listStyleType,"lower-alpha")?Fh(me).toLowerCase():J.start},Nv=function(J){var me=Oo(J);nl(me)&&J.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ca({start:J.dom.getAttrib(me,"start","1"),listStyleType:X.some(J.dom.getStyle(me,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(xe){var Ve=xe.getData();mf(Ve.start).each(function(yt){J.execCommand("mceListUpdate",!1,{attrs:{start:yt.start==="1"?"":yt.start},styles:{"list-style-type":yt.listStyleType.getOr("")}})}),xe.close()}})},kl=function(J,me){return function(){var xe=Oo(J);return xe&&xe.nodeName===me}},og=function(J){J.addCommand("mceListProps",function(){Nv(J)})},yo=function(J){J.on("BeforeExecCommand",function(me){var xe=me.command.toLowerCase();xe==="indent"?Jf(J):xe==="outdent"&&fu(J)}),J.addCommand("InsertUnorderedList",function(me,xe){ed(J,"UL",xe)}),J.addCommand("InsertOrderedList",function(me,xe){ed(J,"OL",xe)}),J.addCommand("InsertDefinitionList",function(me,xe){ed(J,"DL",xe)}),J.addCommand("RemoveList",function(){Gl(J)}),og(J),J.addCommand("mceListUpdate",function(me,xe){u(xe)&&us(J,xe)}),J.addQueryStateHandler("InsertUnorderedList",kl(J,"UL")),J.addQueryStateHandler("InsertOrderedList",kl(J,"OL")),J.addQueryStateHandler("InsertDefinitionList",kl(J,"DL"))},js=function(J){J.on("keydown",function(me){me.keyCode!==Qa.TAB||Qa.metaKeyPressed(me)||J.undoManager.transact(function(){(me.shiftKey?fu(J):Jf(J))&&me.preventDefault()})})},s_=function(J){tn(J)&&js(J),tu(J)},l_=function(J){var me=function(xe){return function(){return J.execCommand(xe)}};J.hasPlugin("advlist")||(J.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:me("InsertOrderedList"),onSetup:function(xe){return La(J,"OL",xe.setActive)}}),J.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:me("InsertUnorderedList"),onSetup:function(xe){return La(J,"UL",xe.setActive)}}))},da=function(J){var me={text:"List properties...",icon:"ordered-list",onAction:function(){return J.execCommand("mceListProps")},onSetup:function(xe){return La(J,"OL",function(Ve){return xe.setDisabled(!Ve)})}};J.ui.registry.addMenuItem("listprops",me),J.ui.registry.addContextMenu("lists",{update:function(xe){var Ve=Oo(J,xe);return nl(Ve)?["listprops"]:[]}})};function Lv(){n.add("lists",function(J){return J.hasPlugin("rtc",!0)===!1?(s_(J),yo(J)):og(J),l_(J),da(J),Fd(J)})}Lv()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){return e=Object.assign||function(Pe){for(var it,He=1,Dt=arguments.length;He<Dt;He++){it=arguments[He];for(var Rn in it)Object.prototype.hasOwnProperty.call(it,Rn)&&(Pe[Rn]=it[Rn])}return Pe},e.apply(this,arguments)},t=function(Pe){var it=typeof Pe;return Pe===null?"null":it==="object"&&(Array.prototype.isPrototypeOf(Pe)||Pe.constructor&&Pe.constructor.name==="Array")?"array":it==="object"&&(String.prototype.isPrototypeOf(Pe)||Pe.constructor&&Pe.constructor.name==="String")?"string":it},r=function(Pe){return function(it){return t(it)===Pe}},i=r("string"),u=r("object"),l=r("array"),f=function(Pe){return Pe==null},h=function(Pe){return!f(Pe)},g=function(){},y=function(Pe){return function(){return Pe}},b=function(Pe){return Pe},S=y(!1),_=y(!0),k=function(){return E},E=function(){var Pe=function(Dt){return Dt()},it=b,He={fold:function(Dt,Rn){return Dt()},isSome:S,isNone:_,getOr:it,getOrThunk:Pe,getOrDie:function(Dt){throw new Error(Dt||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:it,orThunk:Pe,map:k,each:g,bind:k,exists:S,forall:_,filter:function(){return k()},toArray:function(){return[]},toString:y("none()")};return He}(),R=function(Pe){var it=y(Pe),He=function(){return Rn},Dt=function(tr){return tr(Pe)},Rn={fold:function(tr,Oe){return Oe(Pe)},isSome:_,isNone:S,getOr:it,getOrThunk:it,getOrDie:it,getOrNull:it,getOrUndefined:it,or:He,orThunk:He,map:function(tr){return R(tr(Pe))},each:function(tr){tr(Pe)},bind:Dt,exists:Dt,forall:Dt,filter:function(tr){return tr(Pe)?Rn:E},toArray:function(){return[Pe]},toString:function(){return"some("+Pe+")"}};return Rn},I=function(Pe){return Pe==null?E:R(Pe)},z={some:R,none:k,from:I},L=Array.prototype.push,q=function(Pe,it){for(var He=0,Dt=Pe.length;He<Dt;He++){var Rn=Pe[He];it(Rn,He)}},X=function(Pe){for(var it=[],He=0,Dt=Pe.length;He<Dt;++He){if(!l(Pe[He]))throw new Error("Arr.flatten item "+He+" was not an array, input: "+Pe);L.apply(it,Pe[He])}return it},Y=function(Pe){var it=Pe,He=function(){return it},Dt=function(Rn){it=Rn};return{get:He,set:Dt}},ae=Object.keys,te=Object.hasOwnProperty,ie=function(Pe,it){for(var He=ae(Pe),Dt=0,Rn=He.length;Dt<Rn;Dt++){var tr=He[Dt],Oe=Pe[tr];it(Oe,tr)}},le=function(Pe,it){return ce(Pe,it)?z.from(Pe[it]):z.none()},ce=function(Pe,it){return te.call(Pe,it)},ne=function(Pe){return Pe.getParam("media_scripts")},Z=function(Pe){return Pe.getParam("audio_template_callback")},Ce=function(Pe){return Pe.getParam("video_template_callback")},ze=function(Pe){return Pe.getParam("media_live_embeds",!0)},ke=function(Pe){return Pe.getParam("media_filter_html",!0)},_t=function(Pe){return Pe.getParam("media_url_resolver")},tt=function(Pe){return Pe.getParam("media_alt_source",!0)},$=function(Pe){return Pe.getParam("media_poster",!0)},Ze=function(Pe){return Pe.getParam("media_dimensions",!0)},$e=tinymce.util.Tools.resolve("tinymce.util.Tools"),mt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Qe=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Et=function(Pe,it){if(Pe){for(var He=0;He<Pe.length;He++)if(it.indexOf(Pe[He].filter)!==-1)return Pe[He]}},Ot=mt.DOM,Nt=function(Pe){return Pe.replace(/px$/,"")},fe=function(Pe){var it=Pe.map.style,He=it?Ot.parseStyle(it):{};return{type:"ephox-embed-iri",source:Pe.map["data-ephox-embed-iri"],altsource:"",poster:"",width:le(He,"max-width").map(Nt).getOr(""),height:le(He,"max-height").map(Nt).getOr("")}},$t=function(Pe,it){var He=Y(!1),Dt={};return Qe({validate:!1,allow_conditional_comments:!0,start:function(Rn,tr){if(!He.get())if(ce(tr.map,"data-ephox-embed-iri"))He.set(!0),Dt=fe(tr);else{if(!Dt.source&&Rn==="param"&&(Dt.source=tr.map.movie),(Rn==="iframe"||Rn==="object"||Rn==="embed"||Rn==="video"||Rn==="audio")&&(Dt.type||(Dt.type=Rn),Dt=$e.extend(tr.map,Dt)),Rn==="script"){var Oe=Et(Pe,tr.map.src);if(!Oe)return;Dt={type:"script",source:tr.map.src,width:String(Oe.width),height:String(Oe.height)}}Rn==="source"&&(Dt.source?Dt.altsource||(Dt.altsource=tr.map.src):Dt.source=tr.map.src),Rn==="img"&&!Dt.poster&&(Dt.poster=tr.map.src)}}}).parse(it),Dt.source=Dt.source||Dt.src||Dt.data,Dt.altsource=Dt.altsource||"",Dt.poster=Dt.poster||"",Dt},Je=function(Pe){var it={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},He=Pe.toLowerCase().split(".").pop(),Dt=it[He];return Dt||""},Fe=tinymce.util.Tools.resolve("tinymce.html.Schema"),St=tinymce.util.Tools.resolve("tinymce.html.Writer"),Ue=mt.DOM,Ye=function(Pe){return/^[0-9.]+$/.test(Pe)?Pe+"px":Pe},st=function(Pe,it){ie(it,function(He,Dt){var Rn=""+He;if(Pe.map[Dt])for(var tr=Pe.length;tr--;){var Oe=Pe[tr];Oe.name===Dt&&(Rn?(Pe.map[Dt]=Rn,Oe.value=Rn):(delete Pe.map[Dt],Pe.splice(tr,1)))}else Rn&&(Pe.push({name:Dt,value:Rn}),Pe.map[Dt]=Rn)})},Ft=function(Pe,it){var He=it.map.style,Dt=He?Ue.parseStyle(He):{};Dt["max-width"]=Ye(Pe.width),Dt["max-height"]=Ye(Pe.height),st(it,{style:Ue.serializeStyle(Dt)})},Ct=["source","altsource"],Rt=function(Pe,it,He){var Dt=St(),Rn=Y(!1),tr=0,Oe;return Qe({validate:!1,allow_conditional_comments:!0,comment:function(qe){Dt.comment(qe)},cdata:function(qe){Dt.cdata(qe)},text:function(qe,At){Dt.text(qe,At)},start:function(qe,At,Jt){if(!Rn.get())if(ce(At.map,"data-ephox-embed-iri"))Rn.set(!0),Ft(it,At);else{switch(qe){case"video":case"object":case"embed":case"img":case"iframe":it.height!==void 0&&it.width!==void 0&&st(At,{width:it.width,height:it.height});break}if(He)switch(qe){case"video":st(At,{poster:it.poster,src:""}),it.altsource&&st(At,{src:""});break;case"iframe":st(At,{src:it.source});break;case"source":if(tr<2&&(st(At,{src:it[Ct[tr]],type:it[Ct[tr]+"mime"]}),!it[Ct[tr]]))return;tr++;break;case"img":if(!it.poster)return;Oe=!0;break}}Dt.start(qe,At,Jt)},end:function(qe){if(!Rn.get()){if(qe==="video"&&He){for(var At=0;At<2;At++)if(it[Ct[At]]){var Jt=[];Jt.map={},tr<=At&&(st(Jt,{src:it[Ct[At]],type:it[Ct[At]+"mime"]}),Dt.start("source",Jt,!0))}}if(it.poster&&qe==="object"&&He&&!Oe){var he=[];he.map={},st(he,{src:it.poster,width:it.width,height:it.height}),Dt.start("img",he,!0)}}Dt.end(qe)}},Fe({})).parse(Pe),Dt.getContent()},ur=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Xe=function(Pe){var it=Pe.match(/^(https?:\/\/|www\.)(.+)$/i);return it&&it.length>1?it[1]==="www."?"https://":it[1]:"https://"},Bt=function(Pe,it){for(var He=Xe(it),Dt=Pe.regex.exec(it),Rn=He+Pe.url,tr=function(qe){Rn=Rn.replace("$"+qe,function(){return Dt[qe]?Dt[qe]:""})},Oe=0;Oe<Dt.length;Oe++)tr(Oe);return Rn.replace(/\?$/,"")},Mn=function(Pe){var it=ur.filter(function(He){return He.regex.test(Pe)});return it.length>0?$e.extend({},it[0],{url:Bt(it[0],Pe)}):null},Qt=function(Pe){var it=Pe.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Pe.source+'" width="'+Pe.width+'" height="'+Pe.height+'"'+it+"></iframe>"},Zn=function(Pe){var it='<object data="'+Pe.source+'" width="'+Pe.width+'" height="'+Pe.height+'" type="application/x-shockwave-flash">';return Pe.poster&&(it+='<img src="'+Pe.poster+'" width="'+Pe.width+'" height="'+Pe.height+'" />'),it+="</object>",it},pr=function(Pe,it){return it?it(Pe):'<audio controls="controls" src="'+Pe.source+'">'+(Pe.altsource?`
<source src="`+Pe.altsource+'"'+(Pe.altsourcemime?' type="'+Pe.altsourcemime+'"':"")+` />
`:"")+"</audio>"},ao=function(Pe,it){return it?it(Pe):'<video width="'+Pe.width+'" height="'+Pe.height+'"'+(Pe.poster?' poster="'+Pe.poster+'"':"")+` controls="controls">
<source src="`+Pe.source+'"'+(Pe.sourcemime?' type="'+Pe.sourcemime+'"':"")+` />
`+(Pe.altsource?'<source src="'+Pe.altsource+'"'+(Pe.altsourcemime?' type="'+Pe.altsourcemime+'"':"")+` />
`:"")+"</video>"},Mo=function(Pe){return'<script src="'+Pe.source+'"><\/script>'},Go=function(Pe,it){var He=$e.extend({},it);if(!He.source&&($e.extend(He,$t(ne(Pe),He.embed)),!He.source))return"";He.altsource||(He.altsource=""),He.poster||(He.poster=""),He.source=Pe.convertURL(He.source,"source"),He.altsource=Pe.convertURL(He.altsource,"source"),He.sourcemime=Je(He.source),He.altsourcemime=Je(He.altsource),He.poster=Pe.convertURL(He.poster,"poster");var Dt=Mn(He.source);if(Dt&&(He.source=Dt.url,He.type=Dt.type,He.allowfullscreen=Dt.allowFullscreen,He.width=He.width||String(Dt.w),He.height=He.height||String(Dt.h)),He.embed)return Rt(He.embed,He,!0);var Rn=Et(ne(Pe),He.source);Rn&&(He.type="script",He.width=String(Rn.width),He.height=String(Rn.height));var tr=Z(Pe),Oe=Ce(Pe);return He.width=He.width||"300",He.height=He.height||"150",$e.each(He,function(qe,At){He[At]=Pe.dom.encode(""+qe)}),He.type==="iframe"?Qt(He):He.sourcemime==="application/x-shockwave-flash"?Zn(He):He.sourcemime.indexOf("audio")!==-1?pr(He,tr):He.type==="script"?Mo(He):ao(He,Oe)},gn=function(Pe){return Pe.hasAttribute("data-mce-object")||Pe.hasAttribute("data-ephox-embed-iri")},vn=function(Pe){Pe.on("click keyup touchend",function(){var it=Pe.selection.getNode();it&&Pe.dom.hasClass(it,"mce-preview-object")&&Pe.dom.getAttrib(it,"data-mce-selected")&&it.setAttribute("data-mce-selected","2")}),Pe.on("ObjectSelected",function(it){var He=it.target.getAttribute("data-mce-object");He==="script"&&it.preventDefault()}),Pe.on("ObjectResized",function(it){var He=it.target;if(He.getAttribute("data-mce-object")){var Dt=He.getAttribute("data-mce-html");Dt&&(Dt=unescape(Dt),He.setAttribute("data-mce-html",escape(Rt(Dt,{width:String(it.width),height:String(it.height)}))))}})},en=tinymce.util.Tools.resolve("tinymce.util.Promise"),vt={},Tt=function(Pe,it,He){return new en(function(Dt,Rn){var tr=function(Oe){return Oe.html&&(vt[Pe.source]=Oe),Dt({url:Pe.source,html:Oe.html?Oe.html:it(Pe)})};vt[Pe.source]?tr(vt[Pe.source]):He({url:Pe.source},tr,Rn)})},hn=function(Pe,it){return en.resolve({html:it(Pe),url:Pe.source})},Bn=function(Pe){return function(it){return Go(Pe,it)}},bn=function(Pe,it){var He=_t(Pe);return He?Tt(it,Bn(Pe),He):hn(it,Bn(Pe))},pt=function(Pe){return ce(vt,Pe)},an=function(Pe,it){return le(it,Pe).bind(function(He){return le(He,"meta")})},On=function(Pe,it,He){return function(Dt){var Rn,tr=function(){return le(Pe,Dt)},Oe=function(){return le(it,Dt)},qe=function(he){return le(he,"value").bind(function(Me){return Me.length>0?z.some(Me):z.none()})},At=function(){return tr().bind(function(he){return u(he)?qe(he).orThunk(Oe):Oe().orThunk(function(){return z.from(he)})})},Jt=function(){return Oe().orThunk(function(){return tr().bind(function(he){return u(he)?qe(he):z.from(he)})})};return Rn={},Rn[Dt]=(Dt===He?At():Jt()).getOr(""),Rn}},wn=function(Pe,it){var He={};return le(Pe,"dimensions").each(function(Dt){q(["width","height"],function(Rn){le(it,Rn).orThunk(function(){return le(Dt,Rn)}).each(function(tr){return He[Rn]=tr})})}),He},er=function(Pe,it){var He=it?an(it,Pe).getOr({}):{},Dt=On(Pe,He,it);return e(e(e(e(e({},Dt("source")),Dt("altsource")),Dt("poster")),Dt("embed")),wn(Pe,He))},et=function(Pe){var it=e(e({},Pe),{source:{value:le(Pe,"source").getOr("")},altsource:{value:le(Pe,"altsource").getOr("")},poster:{value:le(Pe,"poster").getOr("")}});return q(["width","height"],function(He){le(Pe,He).each(function(Dt){var Rn=it.dimensions||{};Rn[He]=Dt,it.dimensions=Rn})}),it},jt=function(Pe){return function(it){var He=it&&it.msg?"Media embed handler error: "+it.msg:"Media embed handler threw unknown error.";Pe.notificationManager.open({type:"error",text:He})}},Pt=function(Pe,it){return $t(ne(Pe),it)},ln=function(Pe){var it=Pe.selection.getNode(),He=gn(it)?Pe.serializer.serialize(it,{selection:!0}):"";return e({embed:He},$t(ne(Pe),He))},Kn=function(Pe,it){return function(He){if(i(He.url)&&He.url.trim().length>0){var Dt=He.html,Rn=Pt(it,Dt),tr=e(e({},Rn),{source:He.url,embed:Dt});Pe.setData(et(tr))}}},Br=function(Pe,it){for(var He=Pe.dom.select("*[data-mce-object]"),Dt=0;Dt<it.length;Dt++)for(var Rn=He.length-1;Rn>=0;Rn--)it[Dt]===He[Rn]&&He.splice(Rn,1);Pe.selection.select(He[0])},ei=function(Pe,it){var He=Pe.dom.select("*[data-mce-object]");Pe.insertContent(it),Br(Pe,He),Pe.nodeChanged()},zr=function(Pe,it,He){it.embed=Rt(it.embed,it),it.embed&&(Pe.source===it.source||pt(it.source))?ei(He,it.embed):bn(He,it).then(function(Dt){ei(He,Dt.html)}).catch(jt(He))},Hr=function(Pe){var it=ln(Pe),He=Y(it),Dt=et(it),Rn=function(Un,_r){var It=er(_r.getData(),"source");Un.source!==It.source&&(Kn(En,Pe)({url:It.source,html:""}),bn(Pe,It).then(Kn(En,Pe)).catch(jt(Pe)))},tr=function(Un){var _r=er(Un.getData()),It=Pt(Pe,_r.embed);Un.setData(et(It))},Oe=function(Un,_r){var It=er(Un.getData(),_r),mr=Go(Pe,It);Un.setData(et(e(e({},It),{embed:mr})))},qe=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],At=Ze(Pe)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Jt={title:"General",name:"general",items:X([qe,At])},he={type:"textarea",name:"embed",label:"Paste your embed code below:"},Me={title:"Embed",items:[he]},We=[];tt(Pe)&&We.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),$(Pe)&&We.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var lt={title:"Advanced",name:"advanced",items:We},wt=[Jt,Me];We.length>0&&wt.push(lt);var kt={type:"tabpanel",tabs:wt},En=Pe.windowManager.open({title:"Insert/Edit Media",size:"normal",body:kt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Un){var _r=er(Un.getData());zr(He.get(),_r,Pe),Un.close()},onChange:function(Un,_r){switch(_r.name){case"source":Rn(He.get(),Un);break;case"embed":tr(Un);break;case"dimensions":case"altsource":case"poster":Oe(Un,_r.name);break}He.set(er(Un.getData()))},initialData:Dt})},ui=function(Pe){var it=function(){Hr(Pe)};return{showDialog:it}},Ta=function(Pe){var it=function(){Hr(Pe)};Pe.addCommand("mceMedia",it)},Ui=tinymce.util.Tools.resolve("tinymce.html.Node"),Si=tinymce.util.Tools.resolve("tinymce.Env"),Yi=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Ra=function(Pe,it){if(ke(Pe)===!1)return it;var He=St(),Dt;return Qe({validate:!1,allow_conditional_comments:!1,comment:function(Rn){Dt||He.comment(Rn)},cdata:function(Rn){Dt||He.cdata(Rn)},text:function(Rn,tr){Dt||He.text(Rn,tr)},start:function(Rn,tr,Oe){if(Dt=!0,!(Rn==="script"||Rn==="noscript"||Rn==="svg")){for(var qe=tr.length-1;qe>=0;qe--){var At=tr[qe].name;At.indexOf("on")===0&&(delete tr.map[At],tr.splice(qe,1)),At==="style"&&(tr[qe].value=Pe.dom.serializeStyle(Pe.dom.parseStyle(tr[qe].value),Rn))}He.start(Rn,tr,Oe),Dt=!1}},end:function(Rn){Dt||He.end(Rn)}},Fe({})).parse(it),He.getContent()},ea=function(Pe){var it=Pe.name;return it==="iframe"||it==="video"||it==="audio"},Li=function(Pe,it,He,Dt){Dt===void 0&&(Dt=null);var Rn=Pe.attr(He);return h(Rn)?Rn:ce(it,He)?null:Dt},Pa=function(Pe,it,He){var Dt=it.name==="img"||Pe.name==="video",Rn=Dt?"300":null,tr=Pe.name==="audio"?"30":"150",Oe=Dt?tr:null;it.attr({width:Li(Pe,He,"width",Rn),height:Li(Pe,He,"height",Oe)})},co=function(Pe,it,He,Dt){for(var Rn=Yi({forced_root_block:!1,validate:!1},Pe.schema).parse(Dt,{context:it});Rn.firstChild;)He.append(Rn.firstChild)},Na=function(Pe,it){var He=it.name,Dt=new Ui("img",1);return Dt.shortEnded=!0,Vu(Pe,it,Dt),Pa(it,Dt,{}),Dt.attr({style:it.attr("style"),src:Si.transparentSrc,"data-mce-object":He,class:"mce-object mce-object-"+He}),Dt},dr=function(Pe,it){var He=it.name,Dt=new Ui("span",1);Dt.attr({contentEditable:"false",style:it.attr("style"),"data-mce-object":He,class:"mce-preview-object mce-object-"+He}),Vu(Pe,it,Dt);var Rn=Pe.dom.parseStyle(it.attr("style")),tr=new Ui(He,1);if(Pa(it,tr,Rn),tr.attr({src:it.attr("src"),style:it.attr("style"),class:it.attr("class")}),He==="iframe")tr.attr({allowfullscreen:it.attr("allowfullscreen"),frameborder:"0"});else{var Oe=["controls","crossorigin","currentTime","loop","muted","poster","preload"];q(Oe,function(Jt){tr.attr(Jt,it.attr(Jt))});var qe=Dt.attr("data-mce-html");h(qe)&&co(Pe,He,tr,unescape(qe))}var At=new Ui("span",1);return At.attr("class","mce-shim"),Dt.append(tr),Dt.append(At),Dt},Vu=function(Pe,it,He){for(var Dt=it.attributes,Rn=Dt.length;Rn--;){var tr=Dt[Rn].name,Oe=Dt[Rn].value;tr!=="width"&&tr!=="height"&&tr!=="style"&&((tr==="data"||tr==="src")&&(Oe=Pe.convertURL(Oe,tr)),He.attr("data-mce-p-"+tr,Oe))}var qe=it.firstChild&&it.firstChild.value;qe&&(He.attr("data-mce-html",escape(Ra(Pe,qe))),He.firstChild=null)},xa=function(Pe){var it=Pe.attr("class");return it&&/\btiny-pageembed\b/.test(it)},Ua=function(Pe){for(;Pe=Pe.parent;)if(Pe.attr("data-ephox-embed-iri")||xa(Pe))return!0;return!1},aa=function(Pe){return function(it){for(var He=it.length,Dt,Rn;He--;)Dt=it[He],Dt.parent&&(Dt.parent.attr("data-mce-object")||Dt.name==="script"&&(Rn=Et(ne(Pe),Dt.attr("src")),!Rn)||(Rn&&(Rn.width&&Dt.attr("width",Rn.width.toString()),Rn.height&&Dt.attr("height",Rn.height.toString())),ea(Dt)&&ze(Pe)&&Si.ceFalse?Ua(Dt)||Dt.replace(dr(Pe,Dt)):Ua(Dt)||Dt.replace(Na(Pe,Dt))))}},Za=function(Pe){Pe.on("preInit",function(){var it=Pe.schema.getSpecialElements();$e.each("video audio iframe object".split(" "),function(Dt){it[Dt]=new RegExp("</"+Dt+"[^>]*>","gi")});var He=Pe.schema.getBoolAttrs();$e.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(Dt){He[Dt]={}}),Pe.parser.addNodeFilter("iframe,video,audio,object,embed,script",aa(Pe)),Pe.serializer.addAttributeFilter("data-mce-object",function(Dt,Rn){for(var tr=Dt.length,Oe,qe,At,Jt,he,Me,We,lt;tr--;)if(Oe=Dt[tr],!!Oe.parent){for(We=Oe.attr(Rn),qe=new Ui(We,1),We!=="audio"&&We!=="script"&&(lt=Oe.attr("class"),lt&&lt.indexOf("mce-preview-object")!==-1?qe.attr({width:Oe.firstChild.attr("width"),height:Oe.firstChild.attr("height")}):qe.attr({width:Oe.attr("width"),height:Oe.attr("height")})),qe.attr({style:Oe.attr("style")}),Jt=Oe.attributes,At=Jt.length;At--;){var wt=Jt[At].name;wt.indexOf("data-mce-p-")===0&&qe.attr(wt.substr(11),Jt[At].value)}We==="script"&&qe.attr("type","text/javascript"),he=Oe.attr("data-mce-html"),he&&(Me=new Ui("#text",3),Me.raw=!0,Me.value=Ra(Pe,unescape(he)),qe.append(Me)),Oe.replace(qe)}})}),Pe.on("SetContent",function(){Pe.$("span.mce-preview-object").each(function(it,He){var Dt=Pe.$(He);Dt.find("span.mce-shim").length===0&&Dt.append('<span class="mce-shim"></span>')})})},Hu=function(Pe){Pe.on("ResolveName",function(it){var He;it.target.nodeType===1&&(He=it.target.getAttribute("data-mce-object"))&&(it.name=He)})},Qa=function(Pe){var it=function(){return Pe.execCommand("mceMedia")};Pe.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:it,onSetup:function(He){var Dt=Pe.selection;return He.setActive(gn(Dt.getNode())),Dt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",He.setActive).unbind}}),Pe.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:it})};function ws(){n.add("media",function(Pe){return Ta(Pe),Qa(Pe),Hu(Pe),Za(Pe),vn(Pe),ui(Pe)})}ws()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(b){var S=b.getParam("nonbreaking_force_tab",0);return typeof S=="boolean"?S===!0?3:0:S},t=function(b){return b.getParam("nonbreaking_wrap",!0,"boolean")},r=function(b,S){for(var _="",k=0;k<S;k++)_+=b;return _},i=function(b){return b.plugins.visualchars?b.plugins.visualchars.isEnabled():!1},u=function(b,S){var _=function(){return i(b)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},k=function(){return'<span class="'+_()+'" contenteditable="false">'+r("&nbsp;",S)+"</span>"},E=t(b),R=E||b.plugins.visualchars?k():r("&nbsp;",S);b.undoManager.transact(function(){return b.insertContent(R)})},l=function(b){b.addCommand("mceNonBreaking",function(){u(b,1)})},f=tinymce.util.Tools.resolve("tinymce.util.VK"),h=function(b){var S=e(b);S>0&&b.on("keydown",function(_){if(_.keyCode===f.TAB&&!_.isDefaultPrevented()){if(_.shiftKey)return;_.preventDefault(),_.stopImmediatePropagation(),u(b,S)}})},g=function(b){var S=function(){return b.execCommand("mceNonBreaking")};b.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:S}),b.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:S})};function y(){n.add("nonbreaking",function(b){l(b),g(b),h(b)})}y()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.Tools"),t=function(y){return y.getParam("noneditable_noneditable_class","mceNonEditable")},r=function(y){return y.getParam("noneditable_editable_class","mceEditable")},i=function(y){var b=y.getParam("noneditable_regexp",[]);return b&&b.constructor===RegExp?[b]:b},u=function(y){return function(b){return(" "+b.attr("class")+" ").indexOf(y)!==-1}},l=function(y,b,S){return function(_){var k=arguments,E=k[k.length-2],R=E>0?b.charAt(E-1):"";if(R==='"')return _;if(R===">"){var I=b.lastIndexOf("<",E);if(I!==-1){var z=b.substring(I,E);if(z.indexOf('contenteditable="false"')!==-1)return _}}return'<span class="'+S+'" data-mce-content="'+y.dom.encode(k[0])+'">'+y.dom.encode(typeof k[1]=="string"?k[1]:k[0])+"</span>"}},f=function(y,b,S){var _=b.length,k=S.content;if(S.format!=="raw"){for(;_--;)k=k.replace(b[_],l(y,k,t(y)));S.content=k}},h=function(y){var b="contenteditable",S=" "+e.trim(r(y))+" ",_=" "+e.trim(t(y))+" ",k=u(S),E=u(_),R=i(y);y.on("PreInit",function(){R.length>0&&y.on("BeforeSetContent",function(I){f(y,R,I)}),y.parser.addAttributeFilter("class",function(I){for(var z=I.length,L;z--;)L=I[z],k(L)?L.attr(b,"true"):E(L)&&L.attr(b,"false")}),y.serializer.addAttributeFilter(b,function(I){for(var z=I.length,L;z--;)L=I[z],!(!k(L)&&!E(L))&&(R.length>0&&L.attr("data-mce-content")?(L.name="#text",L.type=3,L.raw=!0,L.value=L.attr("data-mce-content")):L.attr(b,null))})})};function g(){n.add("noneditable",function(y){h(y)})}g()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),t=function(b){return b.getParam("pagebreak_separator","<!-- pagebreak -->")},r=function(b){return b.getParam("pagebreak_split_block",!1)},i="mce-pagebreak",u=function(b){var S='<img src="'+e.transparentSrc+'" class="'+i+'" data-mce-resize="false" data-mce-placeholder />';return b?"<p>"+S+"</p>":S},l=function(b){var S=t(b),_=function(){return r(b)},k=new RegExp(S.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(E){return"\\"+E}),"gi");b.on("BeforeSetContent",function(E){E.content=E.content.replace(k,u(_()))}),b.on("PreInit",function(){b.serializer.addNodeFilter("img",function(E){for(var R=E.length,I,z;R--;)if(I=E[R],z=I.attr("class"),z&&z.indexOf(i)!==-1){var L=I.parent;if(b.schema.getBlockElements()[L.name]&&_()){L.type=3,L.value=S,L.raw=!0,I.remove();continue}I.type=3,I.value=S,I.raw=!0}})})},f=function(b){b.addCommand("mcePageBreak",function(){b.insertContent(u(r(b)))})},h=function(b){b.on("ResolveName",function(S){S.target.nodeName==="IMG"&&b.dom.hasClass(S.target,i)&&(S.name="pagebreak")})},g=function(b){var S=function(){return b.execCommand("mcePageBreak")};b.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:S}),b.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:S})};function y(){n.add("pagebreak",function(b){f(b),g(b),l(b),h(b)})}y()})();(function(){var n=function(V){var ee=V,ye=function(){return ee},Re=function(gt){ee=gt};return{get:ye,set:Re}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(V){return V.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},r=function(V){return{clipboard:V}},i=function(V){var ee=typeof V;return V===null?"null":ee==="object"&&(Array.prototype.isPrototypeOf(V)||V.constructor&&V.constructor.name==="Array")?"array":ee==="object"&&(String.prototype.isPrototypeOf(V)||V.constructor&&V.constructor.name==="String")?"string":ee},u=function(V){return function(ee){return i(ee)===V}},l=function(V){return function(ee){return typeof ee===V}},f=u("array"),h=function(V){return V==null},g=function(V){return!h(V)},y=l("function"),b=function(){},S=function(V){return function(){return V}},_=function(V){return V},k=S(!1),E=S(!0),R=function(){return I},I=function(){var V=function(Re){return Re()},ee=_,ye={fold:function(Re,gt){return Re()},isSome:k,isNone:E,getOr:ee,getOrThunk:V,getOrDie:function(Re){throw new Error(Re||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:ee,orThunk:V,map:R,each:b,bind:R,exists:k,forall:E,filter:function(){return R()},toArray:function(){return[]},toString:S("none()")};return ye}(),z=function(V){var ee=S(V),ye=function(){return gt},Re=function(un){return un(V)},gt={fold:function(un,hr){return hr(V)},isSome:E,isNone:k,getOr:ee,getOrThunk:ee,getOrDie:ee,getOrNull:ee,getOrUndefined:ee,or:ye,orThunk:ye,map:function(un){return z(un(V))},each:function(un){un(V)},bind:Re,exists:Re,forall:Re,filter:function(un){return un(V)?gt:I},toArray:function(){return[V]},toString:function(){return"some("+V+")"}};return gt},L=function(V){return V==null?I:z(V)},q={some:z,none:R,from:L},X=Array.prototype.slice,Y=Array.prototype.push,ae=function(V,ee){for(var ye=0,Re=V.length;ye<Re;ye++){var gt=V[ye];if(ee(gt,ye))return!0}return!1},te=function(V,ee){for(var ye=V.length,Re=new Array(ye),gt=0;gt<ye;gt++){var un=V[gt];Re[gt]=ee(un,gt)}return Re},ie=function(V,ee){for(var ye=0,Re=V.length;ye<Re;ye++){var gt=V[ye];ee(gt,ye)}},le=function(V,ee){for(var ye=[],Re=0,gt=V.length;Re<gt;Re++){var un=V[Re];ee(un,Re)&&ye.push(un)}return ye},ce=function(V,ee,ye){return ie(V,function(Re,gt){ye=ee(ye,Re,gt)}),ye},ne=function(V){for(var ee=[],ye=0,Re=V.length;ye<Re;++ye){if(!f(V[ye]))throw new Error("Arr.flatten item "+ye+" was not an array, input: "+V);Y.apply(ee,V[ye])}return ee},Z=function(V,ee){return ne(te(V,ee))},Ce=y(Array.from)?Array.from:function(V){return X.call(V)},ze=function(){return ze=Object.assign||function(V){for(var ee,ye=1,Re=arguments.length;ye<Re;ye++){ee=arguments[ye];for(var gt in ee)Object.prototype.hasOwnProperty.call(ee,gt)&&(V[gt]=ee[gt])}return V},ze.apply(this,arguments)},ke=function(V){var ee=n(q.none()),ye=function(){return ee.get().each(V)},Re=function(){ye(),ee.set(q.none())},gt=function(){return ee.get().isSome()},un=function(){return ee.get()},hr=function(Tr){ye(),ee.set(q.some(Tr))};return{clear:Re,isSet:gt,get:un,set:hr}},_t=function(){var V=ke(b),ee=function(ye){return V.get().each(ye)};return ze(ze({},V),{on:ee})},tt=function(V,ee,ye){return ee===""||V.length>=ee.length&&V.substr(ye,ye+ee.length)===ee},$=function(V,ee){return tt(V,ee,0)},Ze=function(V,ee){return tt(V,ee,V.length-ee.length)},$e=function(V,ee){return ee<=0?"":new Array(ee+1).join(V)},mt=tinymce.util.Tools.resolve("tinymce.Env"),Qe=tinymce.util.Tools.resolve("tinymce.util.Delay"),Et=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ot=tinymce.util.Tools.resolve("tinymce.util.VK"),Nt=function(V,ee,ye,Re){return V.fire("PastePreProcess",{content:ee,internal:ye,wordContent:Re})},fe=function(V,ee,ye,Re){return V.fire("PastePostProcess",{node:ee,internal:ye,wordContent:Re})},$t=function(V,ee){return V.fire("PastePlainTextToggle",{state:ee})},Je=function(V,ee){return V.fire("paste",{ieFake:ee})},Fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),St=function(V){return V.getParam("paste_block_drop",!1)},Ue=function(V){return V.getParam("paste_data_images",!1)},Ye=function(V){return V.getParam("paste_filter_drop",!0)},st=function(V){return V.getParam("paste_preprocess")},Ft=function(V){return V.getParam("paste_postprocess")},Ct=function(V){return V.getParam("paste_webkit_styles")},Rt=function(V){return V.getParam("paste_remove_styles_if_webkit",!0)},ur=function(V){return V.getParam("paste_merge_formats",!0)},Xe=function(V){return V.getParam("smart_paste",!0)},Bt=function(V){return V.getParam("paste_as_text",!1)},Mn=function(V){return V.getParam("paste_retain_style_properties")},Qt=function(V){var ee="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return V.getParam("paste_word_valid_elements",ee)},Zn=function(V){return V.getParam("paste_convert_word_fake_lists",!0)},pr=function(V){return V.getParam("paste_enable_default_filters",!0)},ao=function(V){return V.getParam("validate")},Mo=function(V){return V.getParam("allow_html_data_urls",!1,"boolean")},Go=function(V){return V.getParam("paste_data_images",!1,"boolean")},gn=function(V){return V.getParam("images_dataimg_filter")},vn=function(V){return V.getParam("images_reuse_filename")},en=function(V){return V.getParam("forced_root_block")},vt=function(V){return V.getParam("forced_root_block_attrs")},Tt=function(V){return V.getParam("paste_tab_spaces",4,"number")},hn=function(V){var ee="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Fe.explode(V.getParam("images_file_types",ee,"string"))},Bn="x-tinymce/html",bn="<!-- "+Bn+" -->",pt=function(V){return bn+V},an=function(V){return V.replace(bn,"")},On=function(V){return V.indexOf(bn)!==-1},wn=S(Bn),er=Object.hasOwnProperty,et=function(V,ee){return er.call(V,ee)},jt=tinymce.util.Tools.resolve("tinymce.html.Entities"),Pt=function(V){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(V)},ln=function(V){return V.replace(/\r?\n/g,"<br>")},Kn=function(V,ee){var ye=[],Re="<"+V;if(typeof ee=="object"){for(var gt in ee)et(ee,gt)&&ye.push(gt+'="'+jt.encodeAllRaw(ee[gt])+'"');ye.length&&(Re+=" "+ye.join(" "))}return Re+">"},Br=function(V,ee,ye){var Re=V.split(/\n\n/),gt=Kn(ee,ye),un="</"+ee+">",hr=Fe.map(Re,function(Ln){return Ln.split(/\n/).join("<br />")}),Tr=function(Ln){return gt+Ln+un};return hr.length===1?hr[0]:Fe.map(hr,Tr).join("")},ei=function(V,ee,ye){return ee?Br(V,ee===!0?"p":ee,ye):ln(V)},zr=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Hr=tinymce.util.Tools.resolve("tinymce.html.Serializer"),ui=" ",Ta=tinymce.util.Tools.resolve("tinymce.html.Node"),Ui=tinymce.util.Tools.resolve("tinymce.html.Schema"),Si=function(V){return V.constructor===RegExp},Yi=function(V,ee){return Fe.each(ee,function(ye){Si(ye)?V=V.replace(ye,""):V=V.replace(ye[0],ye[1])}),V},Ra=function(V){var ee=Ui(),ye=zr({},ee),Re="",gt=ee.getShortEndedElements(),un=Fe.makeMap("script noscript style textarea video audio iframe object"," "),hr=ee.getBlockElements(),Tr=function(Ln){var lr=Ln.name,Kr=Ln;if(lr==="br"){Re+=`
`;return}if(lr!=="wbr"){if(gt[lr]&&(Re+=" "),un[lr]){Re+=" ";return}if(Ln.type===3&&(Re+=Ln.value),!Ln.shortEnded&&(Ln=Ln.firstChild))do Tr(Ln);while(Ln=Ln.next);hr[lr]&&Kr.next&&(Re+=`
`,lr==="p"&&(Re+=`
`))}};return V=Yi(V,[/<!\[[^\]]+\]>/g]),Tr(ye.parse(V)),Re},ea=function(V){var ee=function(ye,Re,gt){return!Re&&!gt?" ":ui};return V=Yi(V,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,ee],/<br class="Apple-interchange-newline">/g,/<br>$/i]),V},Li=function(V){var ee=0;return function(){return V+ee++}},Pa=function(V){var ee=V.toLowerCase(),ye={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Fe.hasOwn(ye,ee)?"image/"+ye[ee]:"image/"+ee},co=function(V){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(V)||/class="OutlineElement/.test(V)||/id="?docs\-internal\-guid\-/.test(V)},Na=function(V){var ee=!1,ye=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return V=V.replace(/^[\u00a0 ]+/,""),Fe.each(ye,function(Re){if(Re.test(V))return ee=!0,!1}),ee},dr=function(V){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(V)},Vu=function(V){for(var ee,ye,Re=1,gt=function(Or){var li="";if(Or.type===3)return Or.value;if(Or=Or.firstChild)do li+=gt(Or);while(Or=Or.next);return li},un=function(Or,li){if(Or.type===3&&li.test(Or.value))return Or.value=Or.value.replace(li,""),!1;if(Or=Or.firstChild)do if(!un(Or,li))return!1;while(Or=Or.next);return!0},hr=function(Or){if(Or._listIgnore){Or.remove();return}if(Or=Or.firstChild)do hr(Or);while(Or=Or.next)},Tr=function(Or,li,ni){var bu=Or._listLevel||Re;bu!==Re&&(bu<Re?ee&&(ee=ee.parent.parent):(ye=ee,ee=null)),!ee||ee.name!==li?(ye=ye||ee,ee=new Ta(li,1),ni>1&&ee.attr("start",""+ni),Or.wrap(ee)):ee.append(Or),Or.name="li",bu>Re&&ye&&ye.lastChild.append(ee),Re=bu,hr(Or),un(Or,/^\u00a0+/),un(Or,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),un(Or,/^\u00a0+/)},Ln=[],lr=V.firstChild;typeof lr<"u"&&lr!==null;)if(Ln.push(lr),lr=lr.walk(),lr!==null)for(;typeof lr<"u"&&lr.parent!==V;)lr=lr.walk();for(var Kr=0;Kr<Ln.length;Kr++)if(V=Ln[Kr],V.name==="p"&&V.firstChild){var Jr=gt(V);if(dr(Jr)){Tr(V,"ul");continue}if(Na(Jr)){var Vr=/([0-9]+)\./.exec(Jr),Ei=1;Vr&&(Ei=parseInt(Vr[1],10)),Tr(V,"ol",Ei);continue}if(V._listLevel){Tr(V,"ul",1);continue}ee=null}else ye=ee,ee=null},xa=function(V,ee,ye,Re){var gt={},un=V.dom.parseStyle(Re);Fe.each(un,function(Tr,Ln){switch(Ln){case"mso-list":var lr=/\w+ \w+([0-9]+)/i.exec(Re);lr&&(ye._listLevel=parseInt(lr[1],10)),/Ignore/i.test(Tr)&&ye.firstChild&&(ye._listIgnore=!0,ye.firstChild._listIgnore=!0);break;case"horiz-align":Ln="text-align";break;case"vert-align":Ln="vertical-align";break;case"font-color":case"mso-foreground":Ln="color";break;case"mso-background":case"mso-highlight":Ln="background";break;case"font-weight":case"font-style":Tr!=="normal"&&(gt[Ln]=Tr);return;case"mso-element":if(/^(comment|comment-list)$/i.test(Tr)){ye.remove();return}break}if(Ln.indexOf("mso-comment")===0){ye.remove();return}Ln.indexOf("mso-")!==0&&(Mn(V)==="all"||ee&&ee[Ln])&&(gt[Ln]=Tr)}),/(bold)/i.test(gt["font-weight"])&&(delete gt["font-weight"],ye.wrap(new Ta("b",1))),/(italic)/i.test(gt["font-style"])&&(delete gt["font-style"],ye.wrap(new Ta("i",1)));var hr=V.dom.serializeStyle(gt,ye.name);return hr||null},Ua=function(V,ee){var ye,Re=Mn(V);Re&&(ye=Fe.makeMap(Re.split(/[, ]/))),ee=Yi(ee,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,ui],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Ln,lr){return lr.length>0?lr.replace(/./," ").slice(Math.floor(lr.length/2)).split("").join(ui):""}]]);var gt=Qt(V),un=Ui({valid_elements:gt,valid_children:"-li[p]"});Fe.each(un.elements,function(Ln){Ln.attributes.class||(Ln.attributes.class={},Ln.attributesOrder.push("class")),Ln.attributes.style||(Ln.attributes.style={},Ln.attributesOrder.push("style"))});var hr=zr({},un);hr.addAttributeFilter("style",function(Ln){for(var lr=Ln.length,Kr;lr--;)Kr=Ln[lr],Kr.attr("style",xa(V,ye,Kr,Kr.attr("style"))),Kr.name==="span"&&Kr.parent&&!Kr.attributes.length&&Kr.unwrap()}),hr.addAttributeFilter("class",function(Ln){for(var lr=Ln.length,Kr,Jr;lr--;)Kr=Ln[lr],Jr=Kr.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Jr)&&Kr.remove(),Kr.attr("class",null)}),hr.addNodeFilter("del",function(Ln){for(var lr=Ln.length;lr--;)Ln[lr].remove()}),hr.addNodeFilter("a",function(Ln){for(var lr=Ln.length,Kr,Jr,Vr;lr--;){if(Kr=Ln[lr],Jr=Kr.attr("href"),Vr=Kr.attr("name"),Jr&&Jr.indexOf("#_msocom_")!==-1){Kr.remove();continue}if(Jr&&Jr.indexOf("file://")===0&&(Jr=Jr.split("#")[1],Jr&&(Jr="#"+Jr)),!Jr&&!Vr)Kr.unwrap();else{if(Vr&&!/^_?(?:toc|edn|ftn)/i.test(Vr)){Kr.unwrap();continue}Kr.attr({href:Jr,name:Vr})}}});var Tr=hr.parse(ee);return Zn(V)&&Vu(Tr),ee=Hr({validate:ao(V)},un).serialize(Tr),ee},aa=function(V,ee){return pr(V)?Ua(V,ee):ee},Za=function(V,ee){var ye=zr({},V.schema);ye.addNodeFilter("meta",function(gt){Fe.each(gt,function(un){un.remove()})});var Re=ye.parse(ee,{forced_root_block:!1,isRootContent:!0});return Hr({validate:ao(V)},V.schema).serialize(Re)},Hu=function(V,ee){return{content:V,cancelled:ee}},Qa=function(V,ee,ye,Re){var gt=V.dom.create("div",{style:"display:none"},ee),un=fe(V,gt,ye,Re);return Hu(un.node.innerHTML,un.isDefaultPrevented())},ws=function(V,ee,ye,Re){var gt=Nt(V,ee,ye,Re),un=Za(V,gt.content);return V.hasEventListeners("PastePostProcess")&&!gt.isDefaultPrevented()?Qa(V,un,ye,Re):Hu(un,gt.isDefaultPrevented())},Pe=function(V,ee,ye){var Re=co(ee),gt=Re?aa(V,ee):ee;return ws(V,gt,ye,Re)},it=function(V,ee){return V.insertContent(ee,{merge:ur(V),paste:!0}),!0},He=function(V){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(V)},Dt=function(V,ee){return He(ee)&&ae(hn(V),function(ye){return Ze(ee.toLowerCase(),"."+ye.toLowerCase())})},Rn=function(V,ee,ye){return V.undoManager.extra(function(){ye(V,ee)},function(){V.insertContent('<img src="'+ee+'">')}),!0},tr=function(V,ee,ye){return V.undoManager.extra(function(){ye(V,ee)},function(){V.execCommand("mceInsertLink",!1,ee)}),!0},Oe=function(V,ee,ye){return V.selection.isCollapsed()===!1&&He(ee)?tr(V,ee,ye):!1},qe=function(V,ee,ye){return Dt(V,ee)?Rn(V,ee,ye):!1},At=function(V,ee){Fe.each([Oe,qe,it],function(ye){return ye(V,ee,it)!==!0})},Jt=function(V,ee,ye){ye||Xe(V)===!1?it(V,ee):At(V,ee)},he=function(V){return" \f	\v".indexOf(V)!==-1},Me=function(V){return V===`
`||V==="\r"},We=function(V,ee){return ee<V.length&&ee>=0?Me(V[ee]):!1},lt=function(V,ee){var ye=$e(" ",Tt(V)),Re=ee.replace(/\t/g,ye),gt=ce(Re,function(un,hr){return he(hr)||hr===ui?un.pcIsSpace||un.str===""||un.str.length===Re.length-1||We(Re,un.str.length+1)?{pcIsSpace:!1,str:un.str+ui}:{pcIsSpace:!0,str:un.str+" "}:{pcIsSpace:Me(hr),str:un.str+hr}},{pcIsSpace:!1,str:""});return gt.str},wt=function(V,ee,ye,Re){var gt=Pe(V,ee,ye);gt.cancelled===!1&&Jt(V,gt.content,Re)},kt=function(V,ee,ye){var Re=ye||On(ee);wt(V,an(ee),Re,!1)},En=function(V,ee){var ye=V.dom.encode(ee).replace(/\r\n/g,`
`),Re=lt(V,ye),gt=ei(Re,en(V),vt(V));wt(V,gt,!1,!0)},Un=function(V){var ee={},ye="data:text/mce-internal,";if(V){if(V.getData){var Re=V.getData("Text");Re&&Re.length>0&&Re.indexOf(ye)===-1&&(ee["text/plain"]=Re)}if(V.types)for(var gt=0;gt<V.types.length;gt++){var un=V.types[gt];try{ee[un]=V.getData(un)}catch{ee[un]=""}}}return ee},_r=function(V,ee){return Un(ee.clipboardData||V.getDoc().dataTransfer)},It=function(V,ee){return ee in V&&V[ee].length>0},mr=function(V){return It(V,"text/html")||It(V,"text/plain")},qr=function(V){var ee=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(V);return ee?{type:ee[1],data:decodeURIComponent(ee[2])}:{type:null,data:null}},Uo=function(V,ee){var ye=gn(V);return ye?ye(ee):!0},ta=function(V,ee){var ye=ee.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return g(ye)?V.dom.encode(ye[1]):null},ro=Li("mceclip"),Fs=function(V,ee){var ye=qr(ee.uri),Re=ye.data,gt=ye.type,un=ro(),hr=ee.blob,Tr=new Image;if(Tr.src=ee.uri,Uo(V,Tr)){var Ln=V.editorUpload.blobCache,lr=void 0,Kr=Ln.getByData(Re,gt);if(Kr)lr=Kr;else{var Jr=vn(V)&&g(hr.name),Vr=Jr?ta(V,hr.name):un,Ei=Jr?hr.name:void 0;lr=Ln.create(un,hr,Re,Vr,Ei),Ln.add(lr)}kt(V,'<img src="'+lr.blobUri()+'">',!1)}else kt(V,'<img src="'+ee.uri+'">',!1)},_s=function(V){return V.type==="paste"},Ki=function(V){return g(V.getAsFile)},jl=function(V){return Et.all(te(V,function(ee){return new Et(function(ye){var Re=Ki(ee)?ee.getAsFile():ee,gt=new window.FileReader;gt.onload=function(){ye({blob:Re,uri:gt.result})},gt.readAsDataURL(Re)})}))},yu=function(V){var ee=hn(V);return function(ye){return $(ye.type,"image/")&&ae(ee,function(Re){return Pa(Re)===ye.type})}},Eu=function(V,ee){var ye=ee.items?Z(Ce(ee.items),function(gt){return gt.kind==="file"?[gt.getAsFile()]:[]}):[],Re=ee.files?Ce(ee.files):[];return le(ye.length>0?ye:Re,yu(V))},pi=function(V,ee,ye){var Re=_s(ee)?ee.clipboardData:ee.dataTransfer;if(Go(V)&&Re){var gt=Eu(V,Re);if(gt.length>0)return ee.preventDefault(),jl(gt).then(function(un){ye&&V.selection.setRng(ye),ie(un,function(hr){Fs(V,hr)})}),!0}return!1},Wl=function(V){var ee=V.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&ee&&ee.items&&ee.items.length===0},nl=function(V){return Ot.metaKeyPressed(V)&&V.keyCode===86||V.shiftKey&&V.keyCode===45},Sl=function(V,ee,ye){var Re=_t(),gt=_t(),un;V.on("keyup",gt.clear),V.on("keydown",function(Ln){var lr=function(Kr){nl(Kr)&&!Kr.isDefaultPrevented()&&ee.remove()};if(nl(Ln)&&!Ln.isDefaultPrevented()){if(un=Ln.shiftKey&&Ln.keyCode===86,un&&mt.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(Ln.stopImmediatePropagation(),Re.set(Ln),gt.set(!0),mt.ie&&un){Ln.preventDefault(),Je(V,!0);return}ee.remove(),ee.create(),V.once("keyup",lr),V.once("paste",function(){V.off("keyup",lr)})}});var hr=function(Ln,lr,Kr,Jr,Vr){var Ei;It(lr,"text/html")?Ei=lr["text/html"]:(Ei=ee.getHtml(),Vr=Vr||On(Ei),ee.isDefaultContent(Ei)&&(Jr=!0)),Ei=ea(Ei),ee.remove();var Or=Vr===!1&&Pt(Ei),li=He(Ei);if((!Ei.length||Or&&!li)&&(Jr=!0),(Jr||li)&&(It(lr,"text/plain")&&Or?Ei=lr["text/plain"]:Ei=Ra(Ei)),ee.isDefaultContent(Ei)){Kr||Ln.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Jr?En(Ln,Ei):kt(Ln,Ei,Vr)},Tr=function(){return ee.getLastRng()||V.selection.getRng()};V.on("paste",function(Ln){var lr=Re.isSet()||gt.isSet();lr&&Re.clear();var Kr=_r(V,Ln),Jr=ye.get()==="text"||un,Vr=It(Kr,wn());if(un=!1,Ln.isDefaultPrevented()||Wl(Ln)){ee.remove();return}if(!mr(Kr)&&pi(V,Ln,Tr())){ee.remove();return}lr||Ln.preventDefault(),mt.ie&&(!lr||Ln.ieFake)&&!It(Kr,"text/html")&&(ee.create(),V.dom.bind(ee.getEl(),"paste",function(Ei){Ei.stopPropagation()}),V.getDoc().execCommand("Paste",!1,null),Kr["text/html"]=ee.getHtml()),It(Kr,"text/html")?(Ln.preventDefault(),Vr||(Vr=On(Kr["text/html"])),hr(V,Kr,lr,Jr,Vr)):Qe.setEditorTimeout(V,function(){hr(V,Kr,lr,Jr,Vr)},0)})},gc=function(V,ee,ye){Sl(V,ee,ye);var Re;V.parser.addNodeFilter("img",function(gt,un,hr){var Tr=function(Vr){return Vr.data&&Vr.data.paste===!0},Ln=function(Vr){!Vr.attr("data-mce-object")&&Re!==mt.transparentSrc&&Vr.remove()},lr=function(Vr){return Vr.indexOf("webkit-fake-url")===0},Kr=function(Vr){return Vr.indexOf("data:")===0};if(!Go(V)&&Tr(hr))for(var Jr=gt.length;Jr--;)Re=gt[Jr].attr("src"),Re&&(lr(Re)||!Mo(V)&&Kr(Re))&&Ln(gt[Jr])})},Ou=function(V){return mt.ie&&V.inline?document.body:V.getBody()},os=function(V){return Ou(V)!==V.getBody()},vc=function(V,ee,ye){os(V)&&V.dom.bind(ee,"paste keyup",function(Re){kn(V,ye)||V.fire("paste")})},ju=function(V,ee,ye){var Re=V.dom,gt=V.getBody();ee.set(V.selection.getRng());var un=V.dom.add(Ou(V),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},ye);(mt.ie||mt.gecko)&&Re.setStyle(un,"left",Re.getStyle(gt,"direction",!0)==="rtl"?65535:-65535),Re.bind(un,"beforedeactivate focusin focusout",function(hr){hr.stopPropagation()}),vc(V,un,ye),un.focus(),V.selection.select(un,!0)},Iu=function(V,ee){if(we(V)){for(var ye=void 0,Re=ee.get();ye=V.dom.get("mcepastebin");)V.dom.remove(ye),V.dom.unbind(ye);Re&&V.selection.setRng(Re)}ee.set(null)},we=function(V){return V.dom.get("mcepastebin")},rt=function(V){var ee=function(Tr,Ln){Tr.appendChild(Ln),V.dom.remove(Ln,!0)},ye=Fe.grep(Ou(V).childNodes,function(Tr){return Tr.id==="mcepastebin"}),Re=ye.shift();Fe.each(ye,function(Tr){ee(Re,Tr)});for(var gt=V.dom.select("div[id=mcepastebin]",Re),un=gt.length-1;un>=0;un--){var hr=V.dom.create("div");Re.insertBefore(hr,gt[un]),ee(hr,gt[un])}return Re?Re.innerHTML:""},xt=function(V,ee){return ee===V},tn=function(V){return V&&V.id==="mcepastebin"},kn=function(V,ee){var ye=we(V);return tn(ye)&&xt(ee,ye.innerHTML)},yr=function(V){var ee=n(null),ye="%MCEPASTEBIN%";return{create:function(){return ju(V,ee,ye)},remove:function(){return Iu(V,ee)},getEl:function(){return we(V)},getHtml:function(){return rt(V)},getLastRng:ee.get,isDefault:function(){return kn(V,ye)},isDefaultContent:function(Re){return xt(ye,Re)}}},jo=function(V,ee){var ye=yr(V);return V.on("PreInit",function(){return gc(V,ye,ee)}),{pasteFormat:ee,pasteHtml:function(Re,gt){return kt(V,Re,gt)},pasteText:function(Re){return En(V,Re)},pasteImageData:function(Re,gt){return pi(V,Re,gt)},getDataTransferItems:Un,hasHtmlOrText:mr,hasContentType:It}},ti=function(V,ee){ee.pasteFormat.get()==="text"?(ee.pasteFormat.set("html"),$t(V,!1)):(ee.pasteFormat.set("text"),$t(V,!0)),V.focus()},uo=function(V,ee){V.addCommand("mceTogglePlainTextPaste",function(){ti(V,ee)}),V.addCommand("mceInsertClipboardContent",function(ye,Re){Re.content&&ee.pasteHtml(Re.content,Re.internal),Re.text&&ee.pasteText(Re.text)})},yi=function(V){return mt.iOS===!1&&typeof(V==null?void 0:V.setData)=="function"},Bi=function(V,ee,ye){if(yi(V))try{return V.clearData(),V.setData("text/html",ee),V.setData("text/plain",ye),V.setData(wn(),ee),!0}catch{return!1}else return!1},rl=function(V,ee,ye,Re){Bi(V.clipboardData,ee.html,ee.text)?(V.preventDefault(),Re()):ye(ee.html,Re)},qa=function(V){return function(ee,ye){var Re=pt(ee),gt=V.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),un=V.dom.create("div",{contenteditable:"true"},Re);V.dom.setStyles(gt,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),gt.appendChild(un),V.dom.add(V.getBody(),gt);var hr=V.selection.getRng();un.focus();var Tr=V.dom.createRng();Tr.selectNodeContents(un),V.selection.setRng(Tr),Qe.setTimeout(function(){V.selection.setRng(hr),gt.parentNode.removeChild(gt),ye()},0)}},Vs=function(V){return{html:V.selection.getContent({contextual:!0}),text:V.selection.getContent({format:"text"})}},Cr=function(V){return!!V.dom.getParent(V.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",V.getBody())},Cl=function(V){return!V.selection.isCollapsed()||Cr(V)},Yf=function(V){return function(ee){Cl(V)&&rl(ee,Vs(V),qa(V),function(){if(mt.browser.isChrome()||mt.browser.isFirefox()){var ye=V.selection.getRng();Qe.setEditorTimeout(V,function(){V.selection.setRng(ye),V.execCommand("Delete")},0)}else V.execCommand("Delete")})}},Oo=function(V){return function(ee){Cl(V)&&rl(ee,Vs(V),qa(V),b)}},df=function(V){V.on("cut",Yf(V)),V.on("copy",Oo(V))},hf=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Nd=function(V,ee){return hf.getCaretRangeFromPoint(ee.clientX,ee.clientY,V.getDoc())},si=function(V){var ee=V["text/plain"];return ee?ee.indexOf("file://")===0:!1},is=function(V,ee){V.focus(),V.selection.setRng(ee)},Ah=function(V,ee,ye){St(V)&&V.on("dragend dragover draggesture dragdrop drop drag",function(Re){Re.preventDefault(),Re.stopPropagation()}),Ue(V)||V.on("drop",function(Re){var gt=Re.dataTransfer;gt&&gt.files&&gt.files.length>0&&Re.preventDefault()}),V.on("drop",function(Re){var gt=Nd(V,Re);if(!(Re.isDefaultPrevented()||ye.get())){var un=ee.getDataTransferItems(Re.dataTransfer),hr=ee.hasContentType(un,wn());if(!((!ee.hasHtmlOrText(un)||si(un))&&ee.pasteImageData(Re,gt))&&gt&&Ye(V)){var Tr=un["mce-internal"]||un["text/html"]||un["text/plain"];Tr&&(Re.preventDefault(),Qe.setEditorTimeout(V,function(){V.undoManager.transact(function(){un["mce-internal"]&&V.execCommand("Delete"),is(V,gt),Tr=ea(Tr),un["text/html"]?ee.pasteHtml(Tr,hr):ee.pasteText(Tr)})}))}}}),V.on("dragstart",function(Re){ye.set(!0)}),V.on("dragover dragend",function(Re){Ue(V)&&ye.get()===!1&&(Re.preventDefault(),is(V,Nd(V,Re))),Re.type==="dragend"&&ye.set(!1)})},Ss=function(V){var ee=V.plugins.paste,ye=st(V);ye&&V.on("PastePreProcess",function(gt){ye.call(ee,ee,gt)});var Re=Ft(V);Re&&V.on("PastePostProcess",function(gt){Re.call(ee,ee,gt)})},ua=function(V,ee){V.on("PastePreProcess",function(ye){ye.content=ee(V,ye.content,ye.internal,ye.wordContent)})},Ul=function(V,ee){V.on("PastePostProcess",function(ye){ee(V,ye.node)})},qt=function(V,ee){if(!co(ee))return ee;var ye=[];Fe.each(V.schema.getBlockElements(),function(gt,un){ye.push(un)});var Re=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+ye.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return ee=Yi(ee,[[Re,"$1"]]),ee=Yi(ee,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),ee},yc=function(V,ee,ye,Re){if(Re||ye)return ee;var gt=Ct(V),un;if(Rt(V)===!1||gt==="all")return ee;if(gt&&(un=gt.split(/[, ]/)),un){var hr=V.dom,Tr=V.selection.getNode();ee=ee.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Ln,lr,Kr,Jr){var Vr=hr.parseStyle(hr.decode(Kr)),Ei={};if(un==="none")return lr+Jr;for(var Or=0;Or<un.length;Or++){var li=Vr[un[Or]],ni=hr.getStyle(Tr,un[Or],!0);/color/.test(un[Or])&&(li=hr.toHex(li),ni=hr.toHex(ni)),ni!==li&&(Ei[un[Or]]=li)}var bu=hr.serializeStyle(Ei,"span");return bu?lr+' style="'+bu+'"'+Jr:lr+Jr})}else ee=ee.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return ee=ee.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Ln,lr,Kr,Jr){return lr+' style="'+Kr+'"'+Jr}),ee},sa=function(V,ee){V.$("a",ee).find("font,u").each(function(ye,Re){V.dom.remove(Re,!0)})},Kf=function(V){mt.webkit&&ua(V,yc),mt.ie&&(ua(V,qt),Ul(V,sa))},Tl=function(V,ee){return function(ye){ye.setActive(ee.pasteFormat.get()==="text");var Re=function(gt){return ye.setActive(gt.state)};return V.on("PastePlainTextToggle",Re),function(){return V.off("PastePlainTextToggle",Re)}}},ue=function(V,ee){var ye=function(){return V.execCommand("mceTogglePlainTextPaste")};V.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:ye,onSetup:Tl(V,ee)}),V.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:ye,onSetup:Tl(V,ee)})};function U(){e.add("paste",function(V){if(t(V)===!1){var ee=n(!1),ye=n(Bt(V)?"text":"html"),Re=jo(V,ye);return Kf(V),ue(V,Re),uo(V,Re),Ss(V),df(V),Ah(V,Re,ee),r(Re)}})}U()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(k){return k.getParam("content_style","","string")},i=function(k){return k.getParam("content_css_cors",!1,"boolean")},u=function(k){var E=k.getParam("body_class","","hash");return E[k.id]||""},l=function(k){var E=k.getParam("body_class","","string");return E.indexOf("=")===-1?E:u(k)},f=function(k){var E=k.getParam("body_id","","hash");return E[k.id]||E},h=function(k){var E=k.getParam("body_id","tinymce","string");return E.indexOf("=")===-1?E:f(k)},g=function(k){var E="",R=k.dom.encode,I=r(k);E+='<base href="'+R(k.documentBaseURI.getURI())+'">';var z=i(k)?' crossorigin="anonymous"':"";t.each(k.contentCSS,function(le){E+='<link type="text/css" rel="stylesheet" href="'+R(k.documentBaseURI.toAbsolute(le))+'"'+z+">"}),I&&(E+='<style type="text/css">'+I+"</style>");var L=h(k),q=l(k),X=e.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Y='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+X+")) {e.preventDefault();}}}, false);<\/script> ",ae=k.getBody().dir,te=ae?' dir="'+R(ae)+'"':"",ie="<!DOCTYPE html><html><head>"+E+'</head><body id="'+R(L)+'" class="mce-content-body '+R(q)+'"'+te+">"+k.getContent()+Y+"</body></html>";return ie},y=function(k){var E=g(k),R=k.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:E}});R.focus("close")},b=function(k){k.addCommand("mcePreview",function(){y(k)})},S=function(k){var E=function(){return k.execCommand("mcePreview")};k.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:E}),k.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:E})};function _(){n.add("preview",function(k){b(k),S(k)})}_()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),t=function(u){u.addCommand("mcePrint",function(){e.browser.isIE()?u.getDoc().execCommand("print",!1,null):u.getWin().print()})},r=function(u){var l=function(){return u.execCommand("mcePrint")};u.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:l}),u.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:l})};function i(){n.add("print",function(u){t(u),r(u),u.addShortcut("Meta+P","","mcePrint")})}i()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(_){return _.getParam("save_enablewhendirty",!0)},i=function(_){return!!_.getParam("save_onsavecallback")},u=function(_){return!!_.getParam("save_oncancelcallback")},l=function(_,k){_.notificationManager.open({text:k,type:"error"})},f=function(_){var k=e.DOM.getParent(_.id,"form");if(!(r(_)&&!_.isDirty())){if(_.save(),i(_)){_.execCallback("save_onsavecallback",_),_.nodeChanged();return}k?(_.setDirty(!1),(!k.onsubmit||k.onsubmit())&&(typeof k.submit=="function"?k.submit():l(_,"Error: Form submit field collision.")),_.nodeChanged()):l(_,"Error: No form element found.")}},h=function(_){var k=t.trim(_.startContent);if(u(_)){_.execCallback("save_oncancelcallback",_);return}_.resetContent(k)},g=function(_){_.addCommand("mceSave",function(){f(_)}),_.addCommand("mceCancel",function(){h(_)})},y=function(_){return function(k){var E=function(){k.setDisabled(r(_)&&!_.isDirty())};return E(),_.on("NodeChange dirty",E),function(){return _.off("NodeChange dirty",E)}}},b=function(_){_.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return _.execCommand("mceSave")},onSetup:y(_)}),_.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return _.execCommand("mceCancel")},onSetup:y(_)}),_.addShortcut("Meta+S","","mceSave")};function S(){n.add("save",function(_){b(_),g(_)})}S()})();(function(){var n=function(Oe){var qe=Oe,At=function(){return qe},Jt=function(he){qe=he};return{get:At,set:Jt}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(Oe){for(var qe,At=1,Jt=arguments.length;At<Jt;At++){qe=arguments[At];for(var he in qe)Object.prototype.hasOwnProperty.call(qe,he)&&(Oe[he]=qe[he])}return Oe},t.apply(this,arguments)},r=function(Oe){var qe=typeof Oe;return Oe===null?"null":qe==="object"&&(Array.prototype.isPrototypeOf(Oe)||Oe.constructor&&Oe.constructor.name==="Array")?"array":qe==="object"&&(String.prototype.isPrototypeOf(Oe)||Oe.constructor&&Oe.constructor.name==="String")?"string":qe},i=function(Oe){return function(qe){return r(qe)===Oe}},u=function(Oe){return function(qe){return typeof qe===Oe}},l=i("string"),f=i("array"),h=u("boolean"),g=u("number"),y=function(){},b=function(Oe){return function(){return Oe}},S=function(Oe){return Oe},_=b(!1),k=b(!0),E="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",R=b(E),I=function(){return z},z=function(){var Oe=function(Jt){return Jt()},qe=S,At={fold:function(Jt,he){return Jt()},isSome:_,isNone:k,getOr:qe,getOrThunk:Oe,getOrDie:function(Jt){throw new Error(Jt||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:qe,orThunk:Oe,map:I,each:y,bind:I,exists:_,forall:k,filter:function(){return I()},toArray:function(){return[]},toString:b("none()")};return At}(),L=function(Oe){var qe=b(Oe),At=function(){return he},Jt=function(Me){return Me(Oe)},he={fold:function(Me,We){return We(Oe)},isSome:k,isNone:_,getOr:qe,getOrThunk:qe,getOrDie:qe,getOrNull:qe,getOrUndefined:qe,or:At,orThunk:At,map:function(Me){return L(Me(Oe))},each:function(Me){Me(Oe)},bind:Jt,exists:Jt,forall:Jt,filter:function(Me){return Me(Oe)?he:z},toArray:function(){return[Oe]},toString:function(){return"some("+Oe+")"}};return he},q=function(Oe){return Oe==null?z:L(Oe)},X={some:L,none:I,from:q},Y=R,ae=tinymce.util.Tools.resolve("tinymce.Env"),te=tinymce.util.Tools.resolve("tinymce.util.Tools"),ie=Array.prototype.slice,le=Array.prototype.push,ce=function(Oe,qe){for(var At=Oe.length,Jt=new Array(At),he=0;he<At;he++){var Me=Oe[he];Jt[he]=qe(Me,he)}return Jt},ne=function(Oe,qe){for(var At=0,Jt=Oe.length;At<Jt;At++){var he=Oe[At];qe(he,At)}},Z=function(Oe,qe){for(var At=Oe.length-1;At>=0;At--){var Jt=Oe[At];qe(Jt,At)}},Ce=function(Oe,qe){if(Oe.length===0)return[];for(var At=qe(Oe[0]),Jt=[],he=[],Me=0,We=Oe.length;Me<We;Me++){var lt=Oe[Me],wt=qe(lt);wt!==At&&(Jt.push(he),he=[]),At=wt,he.push(lt)}return he.length!==0&&Jt.push(he),Jt},ze=function(Oe,qe,At){return ne(Oe,function(Jt,he){At=qe(At,Jt,he)}),At},ke=function(Oe){for(var qe=[],At=0,Jt=Oe.length;At<Jt;++At){if(!f(Oe[At]))throw new Error("Arr.flatten item "+At+" was not an array, input: "+Oe);le.apply(qe,Oe[At])}return qe},_t=function(Oe,qe){return ke(ce(Oe,qe))},tt=function(Oe,qe){var At=ie.call(Oe,0);return At.sort(qe),At},$=Object.hasOwnProperty,Ze=function(Oe,qe){return $.call(Oe,qe)};typeof window<"u"||Function("return this;")();var $e=9,mt=11,Qe=1,Et=3,Ot=function(Oe){return Oe.dom.nodeType},Nt=function(Oe){return function(qe){return Ot(qe)===Oe}},fe=Nt(Et),$t=function(Oe,qe,At){if(l(At)||h(At)||g(At))Oe.setAttribute(qe,At+"");else throw console.error("Invalid call to Attribute.set. Key ",qe,":: Value ",At,":: Element ",Oe),new Error("Attribute value was not simple")},Je=function(Oe,qe,At){$t(Oe.dom,qe,At)},Fe=function(Oe,qe,At){return(Oe.compareDocumentPosition(qe)&At)!==0},St=function(Oe,qe){return Fe(Oe,qe,Node.DOCUMENT_POSITION_PRECEDING)},Ue=function(Oe,qe){var At=qe||document,Jt=At.createElement("div");if(Jt.innerHTML=Oe,!Jt.hasChildNodes()||Jt.childNodes.length>1)throw console.error("HTML does not have a single root node",Oe),new Error("HTML must have a single root node");return Ft(Jt.childNodes[0])},Ye=function(Oe,qe){var At=qe||document,Jt=At.createElement(Oe);return Ft(Jt)},st=function(Oe,qe){var At=qe||document,Jt=At.createTextNode(Oe);return Ft(Jt)},Ft=function(Oe){if(Oe==null)throw new Error("Node cannot be null or undefined");return{dom:Oe}},Ct=function(Oe,qe,At){return X.from(Oe.dom.elementFromPoint(qe,At)).map(Ft)},Rt={fromHtml:Ue,fromTag:Ye,fromText:st,fromDom:Ft,fromPoint:Ct},ur=function(Oe){return Oe.nodeType!==Qe&&Oe.nodeType!==$e&&Oe.nodeType!==mt||Oe.childElementCount===0},Xe=function(Oe,qe){var At=qe===void 0?document:qe.dom;return ur(At)?[]:ce(At.querySelectorAll(Oe),Rt.fromDom)},Bt=function(Oe){return X.from(Oe.dom.parentNode).map(Rt.fromDom)},Mn=function(Oe){return ce(Oe.dom.childNodes,Rt.fromDom)},Qt=function(Oe,qe){return{element:Oe,offset:qe}},Zn=function(Oe,qe){var At=Mn(Oe);return At.length>0&&qe<At.length?Qt(At[qe],0):Qt(Oe,qe)},pr=function(Oe,qe){var At=Bt(Oe);At.each(function(Jt){Jt.dom.insertBefore(qe.dom,Oe.dom)})},ao=function(Oe,qe){Oe.dom.appendChild(qe.dom)},Mo=function(Oe,qe){pr(Oe,qe),ao(qe,Oe)},Go=function(Oe,qe){var At=function(Me){if(!Oe(Me))throw new Error("Can only get "+qe+" value of a "+qe+" node");return Jt(Me).getOr("")},Jt=function(Me){return Oe(Me)?X.from(Me.dom.nodeValue):X.none()},he=function(Me,We){if(!Oe(Me))throw new Error("Can only set raw "+qe+" value of a "+qe+" node");Me.dom.nodeValue=We};return{get:At,getOption:Jt,set:he}},gn=Go(fe,"text"),vn=function(Oe){return gn.get(Oe)},en=function(Oe,qe){return Xe(qe,Oe)},vt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Tt=function(Oe,qe){return Oe.isBlock(qe)||Ze(Oe.schema.getShortEndedElements(),qe.nodeName)},hn=function(Oe,qe){return Oe.getContentEditable(qe)==="false"},Bn=function(Oe,qe){return Oe.getContentEditable(qe)==="true"&&Oe.getContentEditableParent(qe.parentNode)==="false"},bn=function(Oe,qe){return!Oe.isBlock(qe)&&Ze(Oe.schema.getWhiteSpaceElements(),qe.nodeName)},pt=function(Oe,qe){return Tt(Oe,qe)||hn(Oe,qe)||bn(Oe,qe)||Bn(Oe,qe)},an=function(Oe){return Oe.nodeType===3},On=function(){return{sOffset:0,fOffset:0,elements:[]}},wn=function(Oe,qe){return Zn(Rt.fromDom(Oe),qe)},er=function(Oe,qe,At,Jt,he,Me){Me===void 0&&(Me=!0);for(var We=Me?qe(!1):At;We;){var lt=hn(Oe,We);if(lt||bn(Oe,We)){var wt=lt?Jt.cef(We):Jt.boundary(We);if(wt)break;We=qe(!0);continue}else if(Tt(Oe,We)){if(Jt.boundary(We))break}else an(We)&&Jt.text(We);if(We===he)break;We=qe(!1)}},et=function(Oe,qe,At,Jt,he){if(!pt(Oe,At)){var Me=Oe.getParent(Jt,Oe.isBlock),We=new vt(At,Me),lt=he?We.next.bind(We):We.prev.bind(We);er(Oe,lt,At,{boundary:k,cef:k,text:function(wt){he?qe.fOffset+=wt.length:qe.sOffset+=wt.length,qe.elements.push(Rt.fromDom(wt))}})}},jt=function(Oe,qe,At,Jt,he,Me){Me===void 0&&(Me=!0);var We=new vt(At,qe),lt=[],wt=On();et(Oe,wt,At,qe,!1);var kt=function(){return wt.elements.length>0&&(lt.push(wt),wt=On()),!1};return er(Oe,We.next.bind(We),At,{boundary:kt,cef:function(En){return kt(),he&&lt.push.apply(lt,he.cef(En)),!1},text:function(En){wt.elements.push(Rt.fromDom(En)),he&&he.text(En,wt)}},Jt,Me),Jt&&et(Oe,wt,Jt,qe,!0),kt(),lt},Pt=function(Oe,qe){var At=wn(qe.startContainer,qe.startOffset),Jt=At.element.dom,he=wn(qe.endContainer,qe.endOffset),Me=he.element.dom;return jt(Oe,qe.commonAncestorContainer,Jt,Me,{text:function(We,lt){We===Me?lt.fOffset+=We.length-he.offset:We===Jt&&(lt.sOffset+=At.offset)},cef:function(We){var lt=_t(en(Rt.fromDom(We),"*[contenteditable=true]"),function(wt){var kt=wt.dom;return jt(Oe,kt,kt)});return tt(lt,function(wt,kt){return St(wt.elements[0].dom,kt.elements[0].dom)?1:-1})}},!1)},ln=function(Oe,qe){return qe.collapsed?[]:Pt(Oe,qe)},Kn=function(Oe,qe){var At=Oe.createRng();return At.selectNode(qe),ln(Oe,At)},Br=function(Oe,qe){return _t(qe,function(At){return Kn(Oe,At)})},ei=function(Oe,qe,At,Jt){At===void 0&&(At=0),Jt===void 0&&(Jt=Oe.length);var he=qe.regex;he.lastIndex=At;for(var Me=[],We;We=he.exec(Oe);){var lt=We[qe.matchIndex],wt=We.index+We[0].indexOf(lt),kt=wt+lt.length;if(kt>Jt)break;Me.push({start:wt,finish:kt}),he.lastIndex=kt}return Me},zr=function(Oe,qe){var At=ze(Oe,function(Jt,he){var Me=vn(he),We=Jt.last,lt=We+Me.length,wt=_t(qe,function(kt,En){return kt.start<lt&&kt.finish>We?[{element:he,start:Math.max(We,kt.start)-We,finish:Math.min(lt,kt.finish)-We,matchId:En}]:[]});return{results:Jt.results.concat(wt),last:lt}},{results:[],last:0}).results;return Ce(At,function(Jt){return Jt.matchId})},Hr=function(Oe,qe){return _t(qe,function(At){var Jt=At.elements,he=ce(Jt,vn).join(""),Me=ei(he,Oe,At.sOffset,he.length-At.fOffset);return zr(Jt,Me)})},ui=function(Oe,qe){Z(Oe,function(At,Jt){Z(At,function(he){var Me=Rt.fromDom(qe.cloneNode(!1));Je(Me,"data-mce-index",Jt);var We=he.element.dom;if(We.length===he.finish&&he.start===0)Mo(he.element,Me);else{We.length!==he.finish&&We.splitText(he.finish);var lt=We.splitText(he.start);Mo(Rt.fromDom(lt),Me)}})})},Ta=function(Oe,qe,At,Jt){var he=Kn(Oe,At),Me=Hr(qe,he);return ui(Me,Jt),Me.length},Ui=function(Oe,qe,At,Jt){var he=At.getBookmark(),Me=Oe.select("td[data-mce-selected],th[data-mce-selected]"),We=Me.length>0?Br(Oe,Me):ln(Oe,At.getRng()),lt=Hr(qe,We);return ui(lt,Jt),At.moveToBookmark(he),lt.length},Si=function(Oe){var qe=Oe.getAttribute("data-mce-index");return typeof qe=="number"?""+qe:qe},Yi=function(Oe,qe,At,Jt){var he=Oe.dom.create("span",{"data-mce-bogus":1});he.className="mce-match-marker";var Me=Oe.getBody();return aa(Oe,qe,!1),Jt?Ui(Oe.dom,At,Oe.selection,he):Ta(Oe.dom,At,Me,he)},Ra=function(Oe){var qe=Oe.parentNode;Oe.firstChild&&qe.insertBefore(Oe.firstChild,Oe),Oe.parentNode.removeChild(Oe)},ea=function(Oe,qe){var At=[],Jt=te.toArray(Oe.getBody().getElementsByTagName("span"));if(Jt.length)for(var he=0;he<Jt.length;he++){var Me=Si(Jt[he]);Me===null||!Me.length||Me===qe.toString()&&At.push(Jt[he])}return At},Li=function(Oe,qe,At){var Jt=qe.get(),he=Jt.index,Me=Oe.dom;At=At!==!1,At?he+1===Jt.count?he=0:he++:he-1===-1?he=Jt.count-1:he--,Me.removeClass(ea(Oe,Jt.index),"mce-match-marker-selected");var We=ea(Oe,he);return We.length?(Me.addClass(ea(Oe,he),"mce-match-marker-selected"),Oe.selection.scrollIntoView(We[0]),he):-1},Pa=function(Oe,qe){var At=qe.parentNode;Oe.remove(qe),Oe.isEmpty(At)&&Oe.remove(At)},co=function(Oe,qe){var At=Oe.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Jt="("+At+")";return qe?"(?:^|\\s|"+Y()+")"+Jt+("(?=$|\\s|"+Y()+")"):Jt},Na=function(Oe,qe,At,Jt,he,Me){var We=Oe.selection,lt=co(At,he),wt=We.isForward(),kt={regex:new RegExp(lt,Jt?"g":"gi"),matchIndex:1},En=Yi(Oe,qe,kt,Me);if(ae.browser.isSafari()&&We.setRng(We.getRng(),wt),En){var Un=Li(Oe,qe,!0);qe.set({index:Un,count:En,text:At,matchCase:Jt,wholeWord:he,inSelection:Me})}return En},dr=function(Oe,qe){var At=Li(Oe,qe,!0);qe.set(t(t({},qe.get()),{index:At}))},Vu=function(Oe,qe){var At=Li(Oe,qe,!1);qe.set(t(t({},qe.get()),{index:At}))},xa=function(Oe){var qe=Si(Oe);return qe!==null&&qe.length>0},Ua=function(Oe,qe,At,Jt,he){var Me=qe.get(),We=Me.index,lt,wt=We;Jt=Jt!==!1;for(var kt=Oe.getBody(),En=te.grep(te.toArray(kt.getElementsByTagName("span")),xa),Un=0;Un<En.length;Un++){var _r=Si(En[Un]),It=lt=parseInt(_r,10);if(he||It===Me.index){for(At.length?(En[Un].firstChild.nodeValue=At,Ra(En[Un])):Pa(Oe.dom,En[Un]);En[++Un];)if(It=parseInt(Si(En[Un]),10),It===lt)Pa(Oe.dom,En[Un]);else{Un--;break}Jt&&wt--}else lt>We&&En[Un].setAttribute("data-mce-index",String(lt-1))}return qe.set(t(t({},Me),{count:he?0:Me.count-1,index:wt})),Jt?dr(Oe,qe):Vu(Oe,qe),!he&&qe.get().count>0},aa=function(Oe,qe,At){for(var Jt,he,Me=qe.get(),We=te.toArray(Oe.getBody().getElementsByTagName("span")),lt=0;lt<We.length;lt++){var wt=Si(We[lt]);wt!==null&&wt.length&&(wt===Me.index.toString()&&(Jt||(Jt=We[lt].firstChild),he=We[lt].firstChild),Ra(We[lt]))}if(qe.set(t(t({},Me),{index:-1,count:0,text:""})),Jt&&he){var kt=Oe.dom.createRng();return kt.setStart(Jt,0),kt.setEnd(he,he.data.length),At!==!1&&Oe.selection.setRng(kt),kt}},Za=function(Oe,qe){return qe.get().count>1},Hu=function(Oe,qe){return qe.get().count>1},Qa=function(Oe,qe){var At=function(lt){return aa(Oe,qe,lt)},Jt=function(lt,wt,kt,En){return En===void 0&&(En=!1),Na(Oe,qe,lt,wt,kt,En)},he=function(){return dr(Oe,qe)},Me=function(){return Vu(Oe,qe)},We=function(lt,wt,kt){return Ua(Oe,qe,lt,wt,kt)};return{done:At,find:Jt,next:he,prev:Me,replace:We}},ws=function(Oe){var qe=n(X.none()),At=function(){return qe.get().each(Oe)},Jt=function(){At(),qe.set(X.none())},he=function(){return qe.get().isSome()},Me=function(){return qe.get()},We=function(lt){At(),qe.set(X.some(lt))};return{clear:Jt,isSet:he,get:Me,set:We}},Pe=function(){var Oe=ws(y),qe=function(At){return Oe.get().each(At)};return t(t({},Oe),{on:qe})},it=function(Oe,qe){var At=Pe();Oe.undoManager.add();var Jt=te.trim(Oe.selection.getContent({format:"text"})),he=function(mr){var qr=Za(Oe,qe)?mr.enable:mr.disable;qr("next");var Uo=Hu(Oe,qe)?mr.enable:mr.disable;Uo("prev")},Me=function(mr){var qr=mr.getData(),Uo=qe.get();qe.set(t(t({},Uo),{matchCase:qr.matchcase,wholeWord:qr.wholewords,inSelection:qr.inselection}))},We=function(mr,qr){var Uo=["replace","replaceall","prev","next"],ta=qr?mr.disable:mr.enable;ne(Uo,ta)},lt=function(mr){Oe.windowManager.alert("Could not find the specified string.",function(){mr.focus("findtext")})},wt=function(mr,qr){ae.browser.isSafari()&&ae.deviceType.isTouch()&&(qr==="find"||qr==="replace"||qr==="replaceall")&&mr.focus(qr)},kt=function(mr){aa(Oe,qe,!1),We(mr,!0),he(mr)},En=function(mr){var qr=mr.getData(),Uo=qe.get();if(!qr.findtext.length){kt(mr);return}if(Uo.text===qr.findtext&&Uo.matchCase===qr.matchcase&&Uo.wholeWord===qr.wholewords)dr(Oe,qe);else{var ta=Na(Oe,qe,qr.findtext,qr.matchcase,qr.wholewords,qr.inselection);ta<=0&&lt(mr),We(mr,ta===0)}he(mr)},Un=qe.get(),_r={findtext:Jt,replacetext:"",wholewords:Un.wholeWord,matchcase:Un.matchCase,inselection:Un.inSelection},It={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:_r,onChange:function(mr,qr){qr.name==="findtext"&&qe.get().count>0&&kt(mr)},onAction:function(mr,qr){var Uo=mr.getData();switch(qr.name){case"find":En(mr);break;case"replace":Ua(Oe,qe,Uo.replacetext)?he(mr):kt(mr);break;case"replaceall":Ua(Oe,qe,Uo.replacetext,!0,!0),kt(mr);break;case"prev":Vu(Oe,qe),he(mr);break;case"next":dr(Oe,qe),he(mr);break;case"matchcase":case"wholewords":case"inselection":Me(mr),kt(mr);break}wt(mr,qr.name)},onSubmit:function(mr){En(mr),wt(mr,"find")},onClose:function(){Oe.focus(),aa(Oe,qe),Oe.undoManager.add()}};At.set(Oe.windowManager.open(It,{inline:"toolbar"}))},He=function(Oe,qe){Oe.addCommand("SearchReplace",function(){it(Oe,qe)})},Dt=function(Oe,qe){return function(){it(Oe,qe)}},Rn=function(Oe,qe){Oe.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Dt(Oe,qe),icon:"search"}),Oe.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Dt(Oe,qe),icon:"search"}),Oe.shortcuts.add("Meta+F","",Dt(Oe,qe))};function tr(){e.add("searchreplace",function(Oe){var qe=n({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return He(Oe,qe),Rn(Oe,qe),Qa(Oe,qe)})}tr()})();(function(){var n=function(Qe){var Et=Qe,Ot=function(){return Et},Nt=function(fe){Et=fe};return{get:Ot,set:Nt}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(Qe){return Qe.hasPlugin("tinymcespellchecker",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},r=Object.hasOwnProperty,i=function(Qe){for(var Et in Qe)if(r.call(Qe,Et))return!1;return!0},u=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=tinymce.util.Tools.resolve("tinymce.util.URI"),f=tinymce.util.Tools.resolve("tinymce.util.XHR"),h=function(Qe){return Qe.fire("SpellcheckStart")},g=function(Qe){return Qe.fire("SpellcheckEnd")},y=function(Qe){var Et="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return Qe.getParam("spellchecker_languages",Et)},b=function(Qe){var Et=Qe.getParam("language","en");return Qe.getParam("spellchecker_language",Et)},S=function(Qe){return Qe.getParam("spellchecker_rpc_url")},_=function(Qe){return Qe.getParam("spellchecker_callback")},k=function(Qe){var Et=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`§©«®±¶·¸»¼½¾¿×÷¤”“„    ]+',"g");return Qe.getParam("spellchecker_wordchar_pattern",Et)},E=function(Qe){return Qe&&Qe.nodeType===1&&Qe.contentEditable==="false"},R=function(Qe,Et){var Ot,Nt=[],fe=Et.dom,$t=Et.schema.getBlockElements(),Je=Et.schema.getWhiteSpaceElements(),Fe=Et.schema.getShortEndedElements(),St=function(vt,Tt){if(!vt[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:vt.index,end:vt.index+vt[0].length,text:vt[0],data:Tt}},Ue=function(vt){if(vt.nodeType===3)return vt.data;if(Je[vt.nodeName]&&!$t[vt.nodeName])return"";if(E(vt))return`
`;var Tt="";if(($t[vt.nodeName]||Fe[vt.nodeName])&&(Tt+=`
`),vt=vt.firstChild)do Tt+=Ue(vt);while(vt=vt.nextSibling);return Tt},Ye=function(vt,Tt,hn){var Bn,bn,pt,an,On=[],wn=0,er=vt,et,jt=0;Tt=Tt.slice(0),Tt.sort(function(Pt,ln){return Pt.start-ln.start}),et=Tt.shift();e:for(;;){if(($t[er.nodeName]||Fe[er.nodeName]||E(er))&&wn++,er.nodeType===3&&(!bn&&er.length+wn>=et.end?(bn=er,an=et.end-wn):Bn&&On.push(er),!Bn&&er.length+wn>et.start&&(Bn=er,pt=et.start-wn),wn+=er.length),Bn&&bn){if(er=hn({startNode:Bn,startNodeIndex:pt,endNode:bn,endNodeIndex:an,innerNodes:On,match:et.text,matchIndex:jt}),wn-=bn.length-an,Bn=null,bn=null,On=[],et=Tt.shift(),jt++,!et)break}else if((!Je[er.nodeName]||$t[er.nodeName])&&er.firstChild){if(!E(er)){er=er.firstChild;continue}}else if(er.nextSibling){er=er.nextSibling;continue}for(;;)if(er.nextSibling){er=er.nextSibling;break}else if(er.parentNode!==vt)er=er.parentNode;else break e}},st=function(vt){var Tt=function(hn,Bn){var bn=Nt[Bn];bn.stencil||(bn.stencil=vt(bn));var pt=bn.stencil.cloneNode(!1);return pt.setAttribute("data-mce-index",""+Bn),hn&&pt.appendChild(fe.doc.createTextNode(hn)),pt};return function(hn){var Bn,bn,pt,an=hn.startNode,On=hn.endNode,wn=hn.matchIndex,er=fe.doc;if(an===On){var et=an;pt=et.parentNode,hn.startNodeIndex>0&&(Bn=er.createTextNode(et.data.substring(0,hn.startNodeIndex)),pt.insertBefore(Bn,et));var jt=Tt(hn.match,wn);return pt.insertBefore(jt,et),hn.endNodeIndex<et.length&&(bn=er.createTextNode(et.data.substring(hn.endNodeIndex)),pt.insertBefore(bn,et)),et.parentNode.removeChild(et),jt}Bn=er.createTextNode(an.data.substring(0,hn.startNodeIndex)),bn=er.createTextNode(On.data.substring(hn.endNodeIndex));for(var Pt=Tt(an.data.substring(hn.startNodeIndex),wn),ln=0,Kn=hn.innerNodes.length;ln<Kn;++ln){var Br=hn.innerNodes[ln],ei=Tt(Br.data,wn);Br.parentNode.replaceChild(ei,Br)}var zr=Tt(On.data.substring(0,hn.endNodeIndex),wn);return pt=an.parentNode,pt.insertBefore(Bn,an),pt.insertBefore(Pt,an),pt.removeChild(an),pt=On.parentNode,pt.insertBefore(zr,On),pt.insertBefore(bn,On),pt.removeChild(On),zr}},Ft=function(vt){for(var Tt=vt.parentNode;vt.childNodes.length>0;)Tt.insertBefore(vt.childNodes[0],vt);Tt.removeChild(vt)},Ct=function(vt){return vt.className.indexOf("mce-spellchecker-word")!==-1},Rt=function(vt){var Tt=Qe.getElementsByTagName("*"),hn=[];vt=typeof vt=="number"?""+vt:null;for(var Bn=0;Bn<Tt.length;Bn++){var bn=Tt[Bn],pt=bn.getAttribute("data-mce-index");pt!==null&&pt.length&&Ct(bn)&&(pt===vt||vt===null)&&hn.push(bn)}return hn},ur=function(vt){for(var Tt=Nt.length;Tt--;)if(Nt[Tt]===vt)return Tt;return-1};function Xe(vt){var Tt=[];return Bt(function(hn,Bn){vt(hn,Bn)&&Tt.push(hn)}),Nt=Tt,this}function Bt(vt){for(var Tt=0,hn=Nt.length;Tt<hn&&vt(Nt[Tt],Tt)!==!1;Tt++);return this}function Mn(vt){return Nt.length&&Ye(Qe,Nt,st(vt)),this}function Qt(vt,Tt){if(en&&vt.global)for(;Ot=vt.exec(en);)Nt.push(St(Ot,Tt));return this}function Zn(vt){var Tt,hn=Rt(vt?ur(vt):null);for(Tt=hn.length;Tt--;)Ft(hn[Tt]);return this}var pr=function(vt){return Nt[vt.getAttribute("data-mce-index")]},ao=function(vt){return Rt(ur(vt))[0]};function Mo(vt,Tt,hn){return Nt.push({start:vt,end:vt+Tt,text:en.substr(vt,Tt),data:hn}),this}var Go=function(vt){var Tt=Rt(ur(vt)),hn=Et.dom.createRng();return hn.setStartBefore(Tt[0]),hn.setEndAfter(Tt[Tt.length-1]),hn},gn=function(vt,Tt){var hn=Go(vt);return hn.deleteContents(),Tt.length>0&&hn.insertNode(Et.dom.doc.createTextNode(Tt)),hn};function vn(){return Nt.splice(0,Nt.length),Zn(),this}var en=Ue(Qe);return{text:en,matches:Nt,each:Bt,filter:Xe,reset:vn,matchFromElement:pr,elementFromMatch:ao,find:Qt,add:Mo,wrap:Mn,unwrap:Zn,replace:gn,rangeFromMatch:Go,indexOf:ur}},I=function(Qe,Et){if(!Et.get()){var Ot=R(Qe.getBody(),Qe);Et.set(Ot)}return Et.get()},z=function(Qe,Et,Ot){return function(Nt,fe,$t,Je){var Fe={method:Nt,lang:Ot.get()},St="";Fe[Nt==="addToDictionary"?"word":"text"]=fe,u.each(Fe,function(Ue,Ye){St&&(St+="&"),St+=Ye+"="+encodeURIComponent(Ue)}),f.send({url:new l(Et).toAbsolute(S(Qe)),type:"post",content_type:"application/x-www-form-urlencoded",data:St,success:function(Ue){var Ye=JSON.parse(Ue);if(Ye)Ye.error?Je(Ye.error):$t(Ye);else{var st=Qe.translate("Server response wasn't proper JSON.");Je(st)}},error:function(){var Ue=Qe.translate("The spelling service was not found: (")+S(Qe)+Qe.translate(")");Je(Ue)}})}},L=function(Qe,Et,Ot,Nt,fe,$t,Je){var Fe=_(Qe),St=Fe||z(Qe,Et,Ot);St.call(Qe.plugins.spellchecker,Nt,fe,$t,Je)},q=function(Qe,Et,Ot,Nt,fe,$t){if(!te(Qe,Ot,Nt)){var Je=function(St){Qe.notificationManager.open({text:St,type:"error"}),Qe.setProgressState(!1),te(Qe,Ot,Nt)},Fe=function(St){ce(Qe,Ot,Nt,fe,St)};Qe.setProgressState(!0),L(Qe,Et,$t,"spellcheck",I(Qe,Nt).text,Fe,Je),Qe.focus()}},X=function(Qe,Et,Ot){Qe.dom.select("span.mce-spellchecker-word").length||te(Qe,Et,Ot)},Y=function(Qe,Et,Ot,Nt,fe,$t,Je){Qe.setProgressState(!0),L(Qe,Et,fe,"addToDictionary",$t,function(){Qe.setProgressState(!1),Qe.dom.remove(Je,!0),X(Qe,Ot,Nt)},function(Fe){Qe.notificationManager.open({text:Fe,type:"error"}),Qe.setProgressState(!1)})},ae=function(Qe,Et,Ot,Nt,fe,$t){Qe.selection.collapse(),$t?u.each(Qe.dom.select("span.mce-spellchecker-word"),function(Je){Je.getAttribute("data-mce-word")===Nt&&Qe.dom.remove(Je,!0)}):Qe.dom.remove(fe,!0),X(Qe,Et,Ot)},te=function(Qe,Et,Ot){var Nt=Qe.selection.getBookmark();if(I(Qe,Ot).reset(),Qe.selection.moveToBookmark(Nt),Ot.set(null),Et.get())return Et.set(!1),g(Qe),!0},ie=function(Qe){var Et=Qe.getAttribute("data-mce-index");return typeof Et=="number"?""+Et:Et},le=function(Qe,Et){var Ot=[],Nt=u.toArray(Qe.getBody().getElementsByTagName("span"));if(Nt.length)for(var fe=0;fe<Nt.length;fe++){var $t=ie(Nt[fe]);$t===null||!$t.length||$t===Et.toString()&&Ot.push(Nt[fe])}return Ot},ce=function(Qe,Et,Ot,Nt,fe){var $t=!!fe.dictionary,Je=fe.words;if(Qe.setProgressState(!1),i(Je)){var Fe=Qe.translate("No misspellings found.");Qe.notificationManager.open({text:Fe,type:"info"}),Et.set(!1);return}Nt.set({suggestions:Je,hasDictionarySupport:$t});var St=Qe.selection.getBookmark();I(Qe,Ot).find(k(Qe)).filter(function(Ue){return!!Je[Ue.text]}).wrap(function(Ue){return Qe.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":Ue.text})}),Qe.selection.moveToBookmark(St),Et.set(!0),h(Qe)},ne=function(Qe,Et,Ot,Nt,fe){var $t=function(){return k(Qe)},Je=function(Fe){ce(Qe,Et,Nt,Ot,Fe)};return{getTextMatcher:Nt.get,getWordCharPattern:$t,markErrors:Je,getLanguage:fe.get}},Z=function(Qe,Et,Ot,Nt,fe,$t){Qe.addCommand("mceSpellCheck",function(){q(Qe,Et,Ot,Nt,fe,$t)})},Ce=function(){return Ce=Object.assign||function(Qe){for(var Et,Ot=1,Nt=arguments.length;Ot<Nt;Ot++){Et=arguments[Ot];for(var fe in Et)Object.prototype.hasOwnProperty.call(Et,fe)&&(Qe[fe]=Et[fe])}return Qe},Ce.apply(this,arguments)},ze="SpellcheckStart SpellcheckEnd",ke=function(Qe,Et){var Ot=[];return u.each(Et,function(Nt){Ot.push({selectable:!0,text:Nt.name,data:Nt.value})}),Ot},_t=function(Qe){return u.map(y(Qe).split(","),function(Et){var Ot=Et.split("=");return{name:Ot[0],value:Ot[1]}})},tt=function(Qe,Et,Ot,Nt,fe,$t){var Je=ke("Language",_t(Qe)),Fe=function(){q(Qe,Et,Ot,Nt,$t,fe)},St={tooltip:"Spellcheck",onAction:Fe,icon:"spell-check",onSetup:function(Ye){var st=function(){Ye.setActive(Ot.get())};return Qe.on(ze,st),function(){Qe.off(ze,st)}}},Ue=Ce(Ce({},St),{type:"splitbutton",select:function(Ye){return Ye===fe.get()},fetch:function(Ye){var st=u.map(Je,function(Ft){return{type:"choiceitem",value:Ft.data,text:Ft.text}});Ye(st)},onItemAction:function(Ye,st){fe.set(st)}});Je.length>1?Qe.ui.registry.addSplitButton("spellchecker",Ue):Qe.ui.registry.addToggleButton("spellchecker",St),Qe.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(Ye){Ye.setActive(Ot.get());var st=function(){Ye.setActive(Ot.get())};return Qe.on(ze,st),function(){Qe.off(ze,st)}},onAction:Fe})},$=!0,Ze=function(Qe,Et,Ot,Nt,fe,$t,Je,Fe){var St=[],Ue=Ot.get().suggestions[Je];u.each(Ue,function(st){St.push({text:st,onAction:function(){Qe.insertContent(Qe.dom.encode(st)),Qe.dom.remove(Fe),X(Qe,Nt,fe)}})});var Ye=Ot.get().hasDictionarySupport;return Ye&&(St.push({type:"separator"}),St.push({text:"Add to dictionary",onAction:function(){Y(Qe,Et,Nt,fe,$t,Je,Fe)}})),St.push.apply(St,[{type:"separator"},{text:"Ignore",onAction:function(){ae(Qe,Nt,fe,Je,Fe)}},{text:"Ignore all",onAction:function(){ae(Qe,Nt,fe,Je,Fe,$)}}]),St},$e=function(Qe,Et,Ot,Nt,fe,$t){var Je=function(Fe){var St=Fe;if(St.className==="mce-spellchecker-word"){var Ue=le(Qe,ie(St));if(Ue.length>0){var Ye=Qe.dom.createRng();return Ye.setStartBefore(Ue[0]),Ye.setEndAfter(Ue[Ue.length-1]),Qe.selection.setRng(Ye),Ze(Qe,Et,Ot,Nt,fe,$t,St.getAttribute("data-mce-word"),Ue)}}else return[]};Qe.ui.registry.addContextMenu("spellchecker",{update:Je})};function mt(){e.add("spellchecker",function(Qe,Et){if(t(Qe)===!1){var Ot=n(!1),Nt=n(b(Qe)),fe=n(null),$t=n(null);return tt(Qe,Et,Ot,fe,Nt,$t),$e(Qe,Et,$t,Ot,fe,Nt),Z(Qe,Et,Ot,fe,$t,Nt),ne(Qe,Ot,$t,fe,Nt)}})}mt()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),t=tinymce.util.Tools.resolve("tinymce.EditorManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Delay"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=tinymce.util.Tools.resolve("tinymce.util.VK"),f=function(_){return _.getParam("tabfocus_elements",":prev,:next")},h=function(_){return _.getParam("tab_focus",f(_))},g=e.DOM,y=function(_){_.keyCode===l.TAB&&!_.ctrlKey&&!_.altKey&&!_.metaKey&&_.preventDefault()},b=function(_){var k=function(E){var R;if(!(E.keyCode!==l.TAB||E.ctrlKey||E.altKey||E.metaKey||E.isDefaultPrevented())){var I=function(X){var Y=g.select(":input:enabled,*[tabindex]:not(iframe)"),ae=function(le){var ce=le;return le.nodeName==="BODY"||ce.type!=="hidden"&&ce.style.display!=="none"&&ce.style.visibility!=="hidden"&&ae(le.parentNode)},te=function(le){return/INPUT|TEXTAREA|BUTTON/.test(le.tagName)&&t.get(E.id)&&le.tabIndex!==-1&&ae(le)};if(u.each(Y,function(le,ce){if(le.id===_.id)return R=ce,!1}),X>0){for(var ie=R+1;ie<Y.length;ie++)if(te(Y[ie]))return Y[ie]}else for(var ie=R-1;ie>=0;ie--)if(te(Y[ie]))return Y[ie];return null},z=u.explode(h(_));z.length===1&&(z[1]=z[0],z[0]=":prev");var L;if(E.shiftKey?z[0]===":prev"?L=I(-1):L=g.get(z[0]):z[1]===":next"?L=I(1):L=g.get(z[1]),L){var q=t.get(L.id||L.name);L.id&&q?q.focus():i.setTimeout(function(){r.webkit||window.focus(),L.focus()},10),E.preventDefault()}}};_.on("init",function(){_.inline&&g.setAttrib(_.getBody(),"tabIndex",null),_.on("keyup",y),r.gecko?_.on("keypress keydown",k):_.on("keydown",k)})};function S(){n.add("tabfocus",function(_){b(_)})}S()})();(function(){var n=function(v){var C=typeof v;return v===null?"null":C==="object"&&(Array.prototype.isPrototypeOf(v)||v.constructor&&v.constructor.name==="Array")?"array":C==="object"&&(String.prototype.isPrototypeOf(v)||v.constructor&&v.constructor.name==="String")?"string":C},e=function(v){return function(C){return n(C)===v}},t=function(v){return function(C){return typeof C===v}},r=function(v){return function(C){return v===C}},i=e("string"),u=e("object"),l=e("array"),f=r(null),h=t("boolean"),g=r(void 0),y=function(v){return v==null},b=function(v){return!y(v)},S=t("function"),_=t("number"),k=function(){},E=function(v,C){return function(){for(var D=[],P=0;P<arguments.length;P++)D[P]=arguments[P];return v(C.apply(null,D))}},R=function(v,C){return function(D){return v(C(D))}},I=function(v){return function(){return v}},z=function(v){return v},L=function(v,C){return v===C};function q(v){for(var C=[],D=1;D<arguments.length;D++)C[D-1]=arguments[D];return function(){for(var P=[],F=0;F<arguments.length;F++)P[F]=arguments[F];var G=C.concat(P);return v.apply(null,G)}}var X=function(v){return function(C){return!v(C)}},Y=function(v){return function(){throw new Error(v)}},ae=I(!1),te=I(!0),ie=function(){return le},le=function(){var v=function(P){return P()},C=z,D={fold:function(P,F){return P()},isSome:ae,isNone:te,getOr:C,getOrThunk:v,getOrDie:function(P){throw new Error(P||"error: getOrDie called on none.")},getOrNull:I(null),getOrUndefined:I(void 0),or:C,orThunk:v,map:ie,each:k,bind:ie,exists:ae,forall:te,filter:function(){return ie()},toArray:function(){return[]},toString:I("none()")};return D}(),ce=function(v){var C=I(v),D=function(){return F},P=function(G){return G(v)},F={fold:function(G,re){return re(v)},isSome:te,isNone:ae,getOr:C,getOrThunk:C,getOrDie:C,getOrNull:C,getOrUndefined:C,or:D,orThunk:D,map:function(G){return ce(G(v))},each:function(G){G(v)},bind:P,exists:P,forall:P,filter:function(G){return G(v)?F:le},toArray:function(){return[v]},toString:function(){return"some("+v+")"}};return F},ne=function(v){return v==null?le:ce(v)},Z={some:ce,none:ie,from:ne},Ce=Array.prototype.slice,ze=Array.prototype.indexOf,ke=Array.prototype.push,_t=function(v,C){return ze.call(v,C)},tt=function(v,C){return _t(v,C)>-1},$=function(v,C){for(var D=0,P=v.length;D<P;D++){var F=v[D];if(C(F,D))return!0}return!1},Ze=function(v,C){for(var D=[],P=0;P<v;P++)D.push(C(P));return D},$e=function(v,C){for(var D=v.length,P=new Array(D),F=0;F<D;F++){var G=v[F];P[F]=C(G,F)}return P},mt=function(v,C){for(var D=0,P=v.length;D<P;D++){var F=v[D];C(F,D)}},Qe=function(v,C){for(var D=v.length-1;D>=0;D--){var P=v[D];C(P,D)}},Et=function(v,C){for(var D=[],P=[],F=0,G=v.length;F<G;F++){var re=v[F],de=C(re,F)?D:P;de.push(re)}return{pass:D,fail:P}},Ot=function(v,C){for(var D=[],P=0,F=v.length;P<F;P++){var G=v[P];C(G,P)&&D.push(G)}return D},Nt=function(v,C,D){return Qe(v,function(P,F){D=C(D,P,F)}),D},fe=function(v,C,D){return mt(v,function(P,F){D=C(D,P,F)}),D},$t=function(v,C,D){for(var P=0,F=v.length;P<F;P++){var G=v[P];if(C(G,P))return Z.some(G);if(D(G,P))break}return Z.none()},Je=function(v,C){return $t(v,C,ae)},Fe=function(v,C){for(var D=0,P=v.length;D<P;D++){var F=v[D];if(C(F,D))return Z.some(D)}return Z.none()},St=function(v){for(var C=[],D=0,P=v.length;D<P;++D){if(!l(v[D]))throw new Error("Arr.flatten item "+D+" was not an array, input: "+v);ke.apply(C,v[D])}return C},Ue=function(v,C){return St($e(v,C))},Ye=function(v,C){for(var D=0,P=v.length;D<P;++D){var F=v[D];if(C(F,D)!==!0)return!1}return!0},st=function(v){var C=Ce.call(v,0);return C.reverse(),C},Ft=function(v,C){for(var D={},P=0,F=v.length;P<F;P++){var G=v[P];D[String(G)]=C(G,P)}return D},Ct=function(v){return[v]},Rt=function(v,C){var D=Ce.call(v,0);return D.sort(C),D},ur=function(v,C){return C>=0&&C<v.length?Z.some(v[C]):Z.none()},Xe=function(v){return ur(v,0)},Bt=function(v){return ur(v,v.length-1)},Mn=function(v,C){for(var D=0;D<v.length;D++){var P=C(v[D],D);if(P.isSome())return P}return Z.none()},Qt=function(){return Qt=Object.assign||function(v){for(var C,D=1,P=arguments.length;D<P;D++){C=arguments[D];for(var F in C)Object.prototype.hasOwnProperty.call(C,F)&&(v[F]=C[F])}return v},Qt.apply(this,arguments)};function Zn(v,C,D){if(D||arguments.length===2)for(var P=0,F=C.length,G;P<F;P++)(G||!(P in C))&&(G||(G=Array.prototype.slice.call(C,0,P)),G[P]=C[P]);return v.concat(G||Array.prototype.slice.call(C))}var pr=function(v){var C=!1,D;return function(){for(var P=[],F=0;F<arguments.length;F++)P[F]=arguments[F];return C||(C=!0,D=v.apply(null,P)),D}},ao=function(v,C,D,P){var F=v.isiOS()&&/ipad/i.test(D)===!0,G=v.isiOS()&&!F,re=v.isiOS()||v.isAndroid(),de=re||P("(pointer:coarse)"),Se=F||!G&&re&&P("(min-device-width:768px)"),Le=G||re&&!Se,ot=C.isSafari()&&v.isiOS()&&/safari/i.test(D)===!1,Gt=!Le&&!Se&&!ot;return{isiPad:I(F),isiPhone:I(G),isTablet:I(Se),isPhone:I(Le),isTouch:I(de),isAndroid:v.isAndroid,isiOS:v.isiOS,isWebView:I(ot),isDesktop:I(Gt)}},Mo=function(v,C){for(var D=0;D<v.length;D++){var P=v[D];if(P.test(C))return P}},Go=function(v,C){var D=Mo(v,C);if(!D)return{major:0,minor:0};var P=function(F){return Number(C.replace(D,"$"+F))};return en(P(1),P(2))},gn=function(v,C){var D=String(C).toLowerCase();return v.length===0?vn():Go(v,D)},vn=function(){return en(0,0)},en=function(v,C){return{major:v,minor:C}},vt={nu:en,detect:gn,unknown:vn},Tt=function(v,C){return Mn(C.brands,function(D){var P=D.brand.toLowerCase();return Je(v,function(F){var G;return P===((G=F.brand)===null||G===void 0?void 0:G.toLowerCase())}).map(function(F){return{current:F.name,version:vt.nu(parseInt(D.version,10),0)}})})},hn=function(v,C){var D=String(C).toLowerCase();return Je(v,function(P){return P.search(D)})},Bn=function(v,C){return hn(v,C).map(function(D){var P=vt.detect(D.versionRegexes,C);return{current:D.name,version:P}})},bn=function(v,C){return hn(v,C).map(function(D){var P=vt.detect(D.versionRegexes,C);return{current:D.name,version:P}})},pt=function(v,C){return v.substring(C)},an=function(v,C,D){return C===""||v.length>=C.length&&v.substr(D,D+C.length)===C},On=function(v,C){return er(v,C)?pt(v,C.length):v},wn=function(v,C){return v.indexOf(C)!==-1},er=function(v,C){return an(v,C,0)},et=function(v,C){return an(v,C,v.length-C.length)},jt=function(v){return function(C){return C.replace(v,"")}},Pt=jt(/^\s+|\s+$/g),ln=function(v){return v.length>0},Kn=function(v){return!ln(v)},Br=function(v){var C=parseFloat(v);return isNaN(C)?Z.none():Z.some(C)},ei=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zr=function(v){return function(C){return wn(C,v)}},Hr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(v){return wn(v,"edge/")&&wn(v,"chrome")&&wn(v,"safari")&&wn(v,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ei],search:function(v){return wn(v,"chrome")&&!wn(v,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(v){return wn(v,"msie")||wn(v,"trident")}},{name:"Opera",versionRegexes:[ei,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zr("firefox")},{name:"Safari",versionRegexes:[ei,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(v){return(wn(v,"safari")||wn(v,"mobile/"))&&wn(v,"applewebkit")}}],ui=[{name:"Windows",search:zr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(v){return wn(v,"iphone")||wn(v,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:zr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zr("linux"),versionRegexes:[]},{name:"Solaris",search:zr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ta={browsers:I(Hr),oses:I(ui)},Ui="Edge",Si="Chrome",Yi="IE",Ra="Opera",ea="Firefox",Li="Safari",Pa=function(){return co({current:void 0,version:vt.unknown()})},co=function(v){var C=v.current,D=v.version,P=function(F){return function(){return C===F}};return{current:C,version:D,isEdge:P(Ui),isChrome:P(Si),isIE:P(Yi),isOpera:P(Ra),isFirefox:P(ea),isSafari:P(Li)}},Na={unknown:Pa,nu:co,edge:I(Ui),chrome:I(Si),ie:I(Yi),opera:I(Ra),firefox:I(ea),safari:I(Li)},dr="Windows",Vu="iOS",xa="Android",Ua="Linux",aa="OSX",Za="Solaris",Hu="FreeBSD",Qa="ChromeOS",ws=function(){return Pe({current:void 0,version:vt.unknown()})},Pe=function(v){var C=v.current,D=v.version,P=function(F){return function(){return C===F}};return{current:C,version:D,isWindows:P(dr),isiOS:P(Vu),isAndroid:P(xa),isOSX:P(aa),isLinux:P(Ua),isSolaris:P(Za),isFreeBSD:P(Hu),isChromeOS:P(Qa)}},it={unknown:ws,nu:Pe,windows:I(dr),ios:I(Vu),android:I(xa),linux:I(Ua),osx:I(aa),solaris:I(Za),freebsd:I(Hu),chromeos:I(Qa)},He=function(v,C,D){var P=Ta.browsers(),F=Ta.oses(),G=C.bind(function(Se){return Tt(P,Se)}).orThunk(function(){return Bn(P,v)}).fold(Na.unknown,Na.nu),re=bn(F,v).fold(it.unknown,it.nu),de=ao(re,G,v,D);return{browser:G,os:re,deviceType:de}},Dt={detect:He},Rn=function(v){return window.matchMedia(v).matches},tr=pr(function(){return Dt.detect(navigator.userAgent,Z.from(navigator.userAgentData),Rn)}),Oe=function(){return tr()},qe=function(v,C,D){return(v.compareDocumentPosition(C)&D)!==0},At=function(v,C){return qe(v,C,Node.DOCUMENT_POSITION_CONTAINED_BY)},Jt=8,he=9,Me=11,We=1,lt=3,wt=function(v,C){var D=C||document,P=D.createElement("div");if(P.innerHTML=v,!P.hasChildNodes()||P.childNodes.length>1)throw console.error("HTML does not have a single root node",v),new Error("HTML must have a single root node");return Un(P.childNodes[0])},kt=function(v,C){var D=C||document,P=D.createElement(v);return Un(P)},En=function(v,C){var D=C||document,P=D.createTextNode(v);return Un(P)},Un=function(v){if(v==null)throw new Error("Node cannot be null or undefined");return{dom:v}},_r=function(v,C,D){return Z.from(v.dom.elementFromPoint(C,D)).map(Un)},It={fromHtml:wt,fromTag:kt,fromText:En,fromDom:Un,fromPoint:_r},mr=function(v,C){var D=v.dom;if(D.nodeType!==We)return!1;var P=D;if(P.matches!==void 0)return P.matches(C);if(P.msMatchesSelector!==void 0)return P.msMatchesSelector(C);if(P.webkitMatchesSelector!==void 0)return P.webkitMatchesSelector(C);if(P.mozMatchesSelector!==void 0)return P.mozMatchesSelector(C);throw new Error("Browser lacks native selectors")},qr=function(v){return v.nodeType!==We&&v.nodeType!==he&&v.nodeType!==Me||v.childElementCount===0},Uo=function(v,C){var D=C===void 0?document:C.dom;return qr(D)?[]:$e(D.querySelectorAll(v),It.fromDom)},ta=function(v,C){var D=C===void 0?document:C.dom;return qr(D)?Z.none():Z.from(D.querySelector(v)).map(It.fromDom)},ro=function(v,C){return v.dom===C.dom},Fs=function(v,C){var D=v.dom,P=C.dom;return D===P?!1:D.contains(P)},_s=function(v,C){return At(v.dom,C.dom)},Ki=function(v,C){return Oe().browser.isIE()?_s(v,C):Fs(v,C)},jl=mr,yu=Object.keys,Eu=Object.hasOwnProperty,pi=function(v,C){for(var D=yu(v),P=0,F=D.length;P<F;P++){var G=D[P],re=v[G];C(re,G)}},Wl=function(v,C){return nl(v,function(D,P){return{k:P,v:C(D,P)}})},nl=function(v,C){var D={};return pi(v,function(P,F){var G=C(P,F);D[G.k]=G.v}),D},Sl=function(v){return function(C,D){v[D]=C}},gc=function(v,C,D,P){var F={};return pi(v,function(G,re){(C(G,re)?D:P)(G,re)}),F},Ou=function(v,C){var D={};return gc(v,C,Sl(D),k),D},os=function(v,C){var D=[];return pi(v,function(P,F){D.push(C(P,F))}),D},vc=function(v){return os(v,z)},ju=function(v){return yu(v).length},Iu=function(v,C){return we(v,C)?Z.from(v[C]):Z.none()},we=function(v,C){return Eu.call(v,C)},rt=function(v,C){return we(v,C)&&v[C]!==void 0&&v[C]!==null},xt=function(v){for(var C in v)if(Eu.call(v,C))return!1;return!0},tn=["tfoot","thead","tbody","colgroup"],kn=function(v){return tt(tn,v)},yr=function(v,C){return{rows:v,columns:C}},jo=function(v,C){return{row:v,column:C}},ti=function(v,C,D){return{element:v,rowspan:C,colspan:D}},uo=function(v,C,D,P){return{element:v,rowspan:C,colspan:D,isNew:P}},yi=function(v,C,D,P,F,G){return{element:v,rowspan:C,colspan:D,row:P,column:F,isLocked:G}},Bi=function(v,C,D){return{element:v,cells:C,section:D}},rl=function(v,C,D,P){return{element:v,cells:C,section:D,isNew:P}},qa=function(v,C,D){return{element:v,isNew:C,isLocked:D}},Vs=function(v,C,D,P){return{element:v,cells:C,section:D,isNew:P}},Cr=function(v,C,D,P){return{startRow:v,startCol:C,finishRow:D,finishCol:P}},Cl=function(v,C,D){return{element:v,colspan:C,column:D}},Yf=function(v,C){return{element:v,columns:C}};typeof window<"u"||Function("return this;")();var Oo=function(v){var C=v.dom.nodeName;return C.toLowerCase()},df=function(v){return v.dom.nodeType},hf=function(v){return function(C){return df(C)===v}},Nd=function(v){return df(v)===Jt||Oo(v)==="#comment"},si=hf(We),is=hf(lt),Ah=hf(he),Ss=hf(Me),ua=function(v){return function(C){return si(C)&&Oo(C)===v}},Ul=function(v){return It.fromDom(v.dom.ownerDocument)},qt=function(v){return Ah(v)?v:Ul(v)},yc=function(v){return It.fromDom(qt(v).dom.defaultView)},sa=function(v){return Z.from(v.dom.parentNode).map(It.fromDom)},Kf=function(v){return Z.from(v.dom.parentElement).map(It.fromDom)},Tl=function(v,C){for(var D=S(C)?C:ae,P=v.dom,F=[];P.parentNode!==null&&P.parentNode!==void 0;){var G=P.parentNode,re=It.fromDom(G);if(F.push(re),D(re)===!0)break;P=G}return F},ue=function(v){return Z.from(v.dom.previousSibling).map(It.fromDom)},U=function(v){return Z.from(v.dom.nextSibling).map(It.fromDom)},V=function(v){return $e(v.dom.childNodes,It.fromDom)},ee=function(v,C){var D=v.dom.childNodes;return Z.from(D[C]).map(It.fromDom)},ye=function(v){return ee(v,0)},Re=function(v){return Ss(v)&&b(v.dom.host)},gt=S(Element.prototype.attachShadow)&&S(Node.prototype.getRootNode),un=I(gt),hr=gt?function(v){return It.fromDom(v.dom.getRootNode())}:qt,Tr=function(v){var C=hr(v);return Re(C)?Z.some(C):Z.none()},Ln=function(v){return It.fromDom(v.dom.host)},lr=function(v){if(un()&&b(v.target)){var C=It.fromDom(v.target);if(si(C)&&Kr(C)&&v.composed&&v.composedPath){var D=v.composedPath();if(D)return Xe(D)}}return Z.from(v.target)},Kr=function(v){return b(v.dom.shadowRoot)},Jr=function(v){var C=is(v)?v.dom.parentNode:v.dom;if(C==null||C.ownerDocument===null)return!1;var D=C.ownerDocument;return Tr(It.fromDom(C)).fold(function(){return D.body.contains(C)},R(Jr,Ln))},Vr=function(){return Ei(It.fromDom(document))},Ei=function(v){var C=v.dom.body;if(C==null)throw new Error("Body is not available yet");return It.fromDom(C)},Or=function(v,C,D){return Ot(Tl(v,D),C)},li=function(v,C){return Ot(V(v),C)},ni=function(v,C){var D=[];return mt(V(v),function(P){C(P)&&(D=D.concat([P])),D=D.concat(ni(P,C))}),D},bu=function(v,C,D){return Or(v,function(P){return mr(P,C)},D)},so=function(v,C){return li(v,function(D){return mr(D,C)})},ql=function(v,C){return Uo(C,v)};function la(v,C,D,P,F){return v(D,P)?Z.some(D):S(F)&&F(D)?Z.none():C(D,P,F)}var wa=function(v,C,D){for(var P=v.dom,F=S(D)?D:ae;P.parentNode;){P=P.parentNode;var G=It.fromDom(P);if(C(G))return Z.some(G);if(F(G))break}return Z.none()},Wb=function(v,C,D){var P=function(F,G){return G(F)};return la(P,wa,v,C,D)},Wu=function(v,C){var D=function(F){return C(It.fromDom(F))},P=Je(v.dom.childNodes,D);return P.map(It.fromDom)},Cy=function(v,C){var D=function(P){for(var F=0;F<P.childNodes.length;F++){var G=It.fromDom(P.childNodes[F]);if(C(G))return Z.some(G);var re=D(P.childNodes[F]);if(re.isSome())return re}return Z.none()};return D(v.dom)},pf=function(v,C,D){return wa(v,function(P){return mr(P,C)},D)},Ur=function(v,C){return Wu(v,function(D){return mr(D,C)})},$l=function(v,C){return ta(C,v)},Ma=function(v,C,D){var P=function(F,G){return mr(F,G)};return la(P,pf,v,C,D)},ka=function(v,C,D){if(i(D)||h(D)||_(D))v.setAttribute(C,D+"");else throw console.error("Invalid call to Attribute.set. Key ",C,":: Value ",D,":: Element ",v),new Error("Attribute value was not simple")},xu=function(v,C,D){ka(v.dom,C,D)},eu=function(v,C){var D=v.dom;pi(C,function(P,F){ka(D,F,P)})},Eh=function(v,C){pi(C,function(D,P){D.fold(function(){Ji(v,P)},function(F){ka(v.dom,P,F)})})},bc=function(v,C){var D=v.dom.getAttribute(C);return D===null?void 0:D},ri=function(v,C){return Z.from(bc(v,C))},Ji=function(v,C){v.dom.removeAttribute(C)},Hs=function(v){return fe(v.dom.attributes,function(C,D){return C[D.name]=D.value,C},{})},Jf=function(v,C,D){return D===void 0&&(D=L),v.exists(function(P){return D(P,C)})},fu=function(v){for(var C=[],D=function(F){C.push(F)},P=0;P<v.length;P++)v[P].each(D);return C},Gl=function(v,C,D){return v.isSome()&&C.isSome()?Z.some(D(v.getOrDie(),C.getOrDie())):Z.none()},Ub=function(v,C){return v!=null?C(v):Z.none()},Oh=function(v){return v.bind(z)},Oi=function(v,C){return v?Z.some(C):Z.none()},Pc=function(v){return v.style!==void 0&&S(v.style.getPropertyValue)},Ld=function(v,C,D){if(!i(D))throw console.error("Invalid call to CSS.set. Property ",C,":: Value ",D,":: Element ",v),new Error("CSS value must be a string: "+D);Pc(v)&&v.style.setProperty(C,D)},ol=function(v,C){Pc(v)&&v.style.removeProperty(C)},La=function(v,C,D){var P=v.dom;Ld(P,C,D)},Bd=function(v,C){var D=v.dom;pi(C,function(P,F){Ld(D,F,P)})},Zf=function(v,C){var D=v.dom,P=window.getComputedStyle(D),F=P.getPropertyValue(C);return F===""&&!Jr(v)?Cs(D,C):F},Cs=function(v,C){return Pc(v)?v.style.getPropertyValue(C):""},il=function(v,C){var D=v.dom,P=Cs(D,C);return Z.from(P).filter(function(F){return F.length>0})},as=function(v,C){var D=v.dom;ol(D,C),Jf(ri(v,"style").map(Pt),"")&&Ji(v,"style")},Ip=function(v,C){var D=v.dom,P=C.dom;Pc(D)&&Pc(P)&&(P.style.cssText=D.style.cssText)},Nc=function(v,C,D){return D===void 0&&(D=0),ri(v,C).map(function(P){return parseInt(P,10)}).getOr(D)},wu=function(v,C){return Nc(v,C,1)},rg=function(v){return ua("col")(v)?Nc(v,"span",1)>1:wu(v,"colspan")>1},qb=function(v){return wu(v,"rowspan")>1},Ih=function(v,C){return parseInt(Zf(v,C),10)},Rh=I(10),Ba=I(10),Ph=function(v,C){return Nh(v,C,te)},Nh=function(v,C,D){return Ue(V(v),function(P){return mr(P,C)?D(P)?[P]:[]:Nh(P,C,D)})},Ts=function(v,C,D){if(D===void 0&&(D=ae),D(C))return Z.none();if(tt(v,Oo(C)))return Z.some(C);var P=function(F){return mr(F,"table")||D(F)};return pf(C,v.join(","),P)},Qf=function(v,C){return Ts(["td","th"],v,C)},Lh=function(v){return Ph(v,"th,td")},ed=function(v){return mr(v,"colgroup")?so(v,"col"):Ue(Iv(v),function(C){return so(C,"col")})},fa=function(v,C){return Ma(v,"table",C)},Ml=function(v){return Ph(v,"tr")},Iv=function(v){return fa(v).fold(I([]),function(C){return so(C,"colgroup")})},Xl=function(v,C){return $e(v,function(D){if(Oo(D)==="colgroup"){var P=$e(ed(D),function(F){var G=Nc(F,"span",1);return ti(F,1,G)});return Bi(D,P,"colgroup")}else{var P=$e(Lh(D),function(G){var re=Nc(G,"rowspan",1),de=Nc(G,"colspan",1);return ti(G,re,de)});return Bi(D,P,C(D))}})},Rv=function(v){return sa(v).map(function(C){var D=Oo(C);return kn(D)?D:"tbody"}).getOr("tbody")},$b=function(v){var C=Ml(v),D=Iv(v),P=Zn(Zn([],D,!0),C,!0);return Xl(P,Rv)},Ty=function(v,C){return Xl(v,function(){return C})},Bh=function(v,C,D){var P=v.cells,F=P.slice(0,C),G=P.slice(C),re=F.concat(D).concat(G);return Xr(v,re)},zh=function(v,C,D){return Bh(v,C,[D])},zd=function(v,C,D){var P=v.cells;P[C]=D},Xr=function(v,C){return Vs(v.element,C,v.section,v.isNew)},xc=function(v,C){var D=v.cells,P=$e(D,C);return Vs(v.element,P,v.section,v.isNew)},al=function(v,C){return v.cells[C]},Ms=function(v,C){return al(v,C).element},wc=function(v){return v.cells.length},$a=function(v){var C=Et(v,function(D){return D.section==="colgroup"});return{rows:C.fail,cols:C.pass}},_u=function(v,C,D){var P=$e(v.cells,D);return Vs(C(v.element),P,v.section,!0)},tu="data-snooker-locked-cols",Fd=function(v){return ri(v,tu).bind(function(C){return Z.from(C.match(/\d+/g))}).map(function(C){return Ft(C,te)})},us=function(v){var C=fe($a(v).rows,function(P,F){return mt(F.cells,function(G,re){G.isLocked&&(P[re]=!0)}),P},{}),D=os(C,function(P,F){return parseInt(F,10)});return Rt(D)},or=function(v,C){return v+","+C},Fh=function(v,C,D){return Z.from(v.access[or(C,D)])},My=function(v,C,D){var P=fo(v,function(F){return D(C,F.element)});return P.length>0?Z.some(P[0]):Z.none()},fo=function(v,C){var D=Ue(v.all,function(P){return P.cells});return Ot(D,C)},Ii=function(v){var C={},D=0;return mt(v.cells,function(P){var F=P.colspan;Ze(F,function(G){var re=D+G;C[re]=Cl(P.element,F,re)}),D+=F}),C},Pv=function(v){var C={},D=[],P=Xe(v).map(function(Nn){return Nn.element}).bind(fa),F=P.bind(Fd).getOr({}),G=0,re=0,de=0,Se=Et(v,function(Nn){return Nn.section==="colgroup"}),Le=Se.pass,ot=Se.fail;mt(ot,function(Nn){var Pn=[];mt(Nn.cells,function(xr){for(var qo=0;C[or(de,qo)]!==void 0;)qo++;for(var Ar=rt(F,qo.toString()),Gr=yi(xr.element,xr.rowspan,xr.colspan,de,qo,Ar),Po=0;Po<xr.colspan;Po++)for(var xo=0;xo<xr.rowspan;xo++){var Fa=de+xo,Lu=qo+Po,Xs=or(Fa,Lu);C[Xs]=Gr,re=Math.max(re,Lu+1)}Pn.push(Gr)}),G++,D.push(Bi(Nn.element,Pn,Nn.section)),de++});var Gt=Bt(Le).map(function(Nn){var Pn=Ii(Nn),xr=Yf(Nn.element,vc(Pn));return{colgroups:[xr],columns:Pn}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),_n=Gt.columns,sn=Gt.colgroups,Xt=yr(G,re);return{grid:Xt,access:C,all:D,columns:_n,colgroups:sn}},mf=function(v){var C=$b(v);return Pv(C)},ca=function(v){return Ue(v.all,function(C){return C.cells})},Nv=function(v){return vc(v.columns)},kl=function(v){return yu(v.columns).length>0},og=function(v,C){return Z.from(v.columns[C])},yo={fromTable:mf,generate:Pv,getAt:Fh,findItem:My,filterItems:fo,justCells:ca,justColumns:Nv,hasColumns:kl,getColumnAt:og},js=function(v,C){var D=C.column,P=C.column+C.colspan-1,F=C.row,G=C.row+C.rowspan-1;return D<=v.finishCol&&P>=v.startCol&&F<=v.finishRow&&G>=v.startRow},s_=function(v,C){return C.column>=v.startCol&&C.column+C.colspan-1<=v.finishCol&&C.row>=v.startRow&&C.row+C.rowspan-1<=v.finishRow},l_=function(v,C){for(var D=!0,P=q(s_,C),F=C.startRow;F<=C.finishRow;F++)for(var G=C.startCol;G<=C.finishCol;G++)D=D&&yo.getAt(v,F,G).exists(P);return D?Z.some(C):Z.none()},da=function(v,C){return Cr(Math.min(v.row,C.row),Math.min(v.column,C.column),Math.max(v.row+v.rowspan-1,C.row+C.rowspan-1),Math.max(v.column+v.colspan-1,C.column+C.colspan-1))},Lv=function(v,C,D){var P=yo.findItem(v,C,ro),F=yo.findItem(v,D,ro);return P.bind(function(G){return F.map(function(re){return da(G,re)})})},J=function(v,C,D){return Lv(v,C,D).bind(function(P){return l_(v,P)})},me=function(v,C,D,P){return yo.findItem(v,C,ro).bind(function(F){var G=D>0?F.row+F.rowspan-1:F.row,re=P>0?F.column+F.colspan-1:F.column,de=yo.getAt(v,G+D,re+P);return de.map(function(Se){return Se.element})})},xe=function(v,C,D){return Lv(v,C,D).map(function(P){var F=yo.filterItems(v,q(js,P));return $e(F,function(G){return G.element})})},Ve=function(v,C){var D=function(P,F){return Ki(F,P)};return yo.findItem(v,C,D).map(function(P){return P.element})},yt=function(v,C,D){return fa(v).bind(function(P){var F=Io(P);return me(F,v,C,D)})},Zt=function(v,C,D){var P=Io(v);return xe(P,C,D)},vr=function(v,C,D,P,F){var G=Io(v),re=ro(v,D)?Z.some(C):Ve(G,C),de=ro(v,F)?Z.some(P):Ve(G,P);return re.bind(function(Se){return de.bind(function(Le){return xe(G,Se,Le)})})},Zr=function(v,C,D){var P=Io(v);return J(P,C,D)},Io=yo.fromTable,bo=function(v,C){var D=sa(v);D.each(function(P){P.dom.insertBefore(C.dom,v.dom)})},zi=function(v,C){var D=U(v);D.fold(function(){var P=sa(v);P.each(function(F){Da(F,C)})},function(P){bo(P,C)})},ss=function(v,C){var D=ye(v);D.fold(function(){Da(v,C)},function(P){v.dom.insertBefore(C.dom,P.dom)})},Da=function(v,C){v.dom.appendChild(C.dom)},b5=function(v,C,D){ee(v,D).fold(function(){Da(v,C)},function(P){bo(P,C)})},NM=function(v,C){bo(v,C),Da(C,v)},LM=function(v,C){mt(C,function(D){bo(v,D)})},x5=function(v,C){mt(C,function(D,P){var F=P===0?v:C[P-1];zi(F,D)})},td=function(v,C){mt(C,function(D){Da(v,D)})},ky=function(v){v.dom.textContent="",mt(V(v),function(C){Dl(C)})},Dl=function(v){var C=v.dom;C.parentNode!==null&&C.parentNode.removeChild(C)},Bv=function(v){var C=V(v);C.length>0&&LM(v,C),Dl(v)},c_=function(v,C){var D=function(G){if(!v(G))throw new Error("Can only get "+C+" value of a "+C+" node");return P(G).getOr("")},P=function(G){return v(G)?Z.from(G.dom.nodeValue):Z.none()},F=function(G,re){if(!v(G))throw new Error("Can only set raw "+C+" value of a "+C+" node");G.dom.nodeValue=re};return{get:D,getOption:P,set:F}},Dy=c_(is,"text"),Gb=function(v){return Dy.get(v)},BM=function(v){return Dy.getOption(v)},w5=function(v,C){return Dy.set(v,C)},nd=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Ay(){var v=function(Le){return It.fromDom(Le.dom.cloneNode(!1))},C=function(Le){return qt(Le).dom},D=function(Le){return si(Le)?Oo(Le)==="body"?!0:tt(nd,Oo(Le)):!1},P=function(Le){return si(Le)?tt(["br","img","hr","input"],Oo(Le)):!1},F=function(Le){return si(Le)&&bc(Le,"contenteditable")==="false"},G=function(Le,ot){return Le.dom.compareDocumentPosition(ot.dom)},re=function(Le,ot){var Gt=Hs(Le);eu(ot,Gt)},de=function(Le){var ot=Oo(Le);return tt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ot)},Se=function(Le){return si(Le)?ri(Le,"lang"):Z.none()};return{up:I({selector:pf,closest:Ma,predicate:wa,all:Tl}),down:I({selector:ql,predicate:ni}),styles:I({get:Zf,getRaw:il,set:La,remove:as}),attrs:I({get:bc,set:xu,remove:Ji,copyTo:re}),insert:I({before:bo,after:zi,afterAll:x5,append:Da,appendAll:td,prepend:ss,wrap:NM}),remove:I({unwrap:Bv,remove:Dl}),create:I({nu:It.fromTag,clone:v,text:It.fromText}),query:I({comparePosition:G,prevSibling:ue,nextSibling:U}),property:I({children:V,name:Oo,parent:sa,document:C,isText:is,isComment:Nd,isElement:si,isSpecial:de,getLanguage:Se,getText:Gb,setText:w5,isBoundary:D,isEmptyTag:P,isNonEditable:F}),eq:ro,is:jl}}var _5=function(v,C,D,P){var F=D[0],G=D.slice(1);return P(v,C,F,G)},f_=function(v,C,D){return D.length>0?_5(v,C,D,S5):Z.none()},S5=function(v,C,D,P){var F=C(v,D);return Nt(P,function(G,re){var de=C(v,re);return C5(v,G,de)},F)},C5=function(v,C,D){return C.bind(function(P){return D.filter(q(v.eq,P))})},zv=function(v,C){return q(v.eq,C)},Ey=function(v,C,D,P){P===void 0&&(P=ae);var F=[C].concat(v.up().all(C)),G=[D].concat(v.up().all(D)),re=function(ot){var Gt=Fe(ot,P);return Gt.fold(function(){return ot},function(_n){return ot.slice(0,_n+1)})},de=re(F),Se=re(G),Le=Je(de,function(ot){return $(Se,zv(v,ot))});return{firstpath:de,secondpath:Se,shared:Le}},zM=f_,FM=Ey,Yl=Ay(),Sr=function(v,C){return zM(Yl,function(D,P){return v(P)},C)},Vh=function(v,C,D){return FM(Yl,v,C,D)},Oy=function(v){return pf(v,"table")},Rp=function(v,C,D){var P=function(F){return function(G){return D!==void 0&&D(G)||ro(G,F)}};return ro(v,C)?Z.some({boxes:Z.some([v]),start:v,finish:C}):Oy(v).bind(function(F){return Oy(C).bind(function(G){if(ro(F,G))return Z.some({boxes:Zt(F,v,C),start:v,finish:C});if(Ki(F,G)){var re=bu(C,"td,th",P(F)),de=re.length>0?re[re.length-1]:C;return Z.some({boxes:vr(F,v,F,C,G),start:v,finish:de})}else if(Ki(G,F)){var re=bu(v,"td,th",P(G)),Se=re.length>0?re[re.length-1]:v;return Z.some({boxes:vr(G,v,F,C,G),start:v,finish:Se})}else return Vh(v,C).shared.bind(function(Le){return Ma(Le,"table",D).bind(function(ot){var Gt=bu(C,"td,th",P(ot)),_n=Gt.length>0?Gt[Gt.length-1]:C,sn=bu(v,"td,th",P(ot)),Xt=sn.length>0?sn[sn.length-1]:v;return Z.some({boxes:vr(ot,v,F,C,G),start:Xt,finish:_n})})})})})},Fv=function(v,C){var D=ql(v,C);return D.length>0?Z.some(D):Z.none()},d_=function(v,C){return Je(v,function(D){return mr(D,C)})},gf=function(v,C,D){return $l(v,C).bind(function(P){return $l(v,D).bind(function(F){return Sr(Oy,[P,F]).map(function(G){return{first:P,last:F,table:G}})})})},ig=function(v,C){return pf(v,"table").bind(function(D){return $l(D,C).bind(function(P){return Rp(P,v).bind(function(F){return F.boxes.map(function(G){return{boxes:G,start:F.start,finish:F.finish}})})})})},Vv=function(v,C,D,P,F){return d_(v,F).bind(function(G){return yt(G,C,D).bind(function(re){return ig(re,P)})})},Ga=function(v,C){return Fv(v,C)},Uu=function(v,C,D){return gf(v,C,D).bind(function(P){var F=function(Se){return ro(v,Se)},G="thead,tfoot,tbody,table",re=pf(P.first,G,F),de=pf(P.last,G,F);return re.bind(function(Se){return de.bind(function(Le){return ro(Se,Le)?Zr(P.table,P.first,P.last):Z.none()})})})},Iy=function(v){if(!l(v))throw new Error("cases must be an array");if(v.length===0)throw new Error("there must be at least one case");var C=[],D={};return mt(v,function(P,F){var G=yu(P);if(G.length!==1)throw new Error("one and only one name per case");var re=G[0],de=P[re];if(D[re]!==void 0)throw new Error("duplicate key detected:"+re);if(re==="cata")throw new Error("cannot have a case named cata (sorry)");if(!l(de))throw new Error("case arguments must be an array");C.push(re),D[re]=function(){for(var Se=[],Le=0;Le<arguments.length;Le++)Se[Le]=arguments[Le];var ot=Se.length;if(ot!==de.length)throw new Error("Wrong number of arguments to case "+re+". Expected "+de.length+" ("+de+"), got "+ot);var Gt=function(_n){var sn=yu(_n);if(C.length!==sn.length)throw new Error("Wrong number of arguments to match. Expected: "+C.join(",")+`
Actual: `+sn.join(","));var Xt=Ye(C,function(Nn){return tt(sn,Nn)});if(!Xt)throw new Error("Not all branches were specified when using match. Specified: "+sn.join(", ")+`
Required: `+C.join(", "));return _n[re].apply(null,Se)};return{fold:function(){for(var _n=[],sn=0;sn<arguments.length;sn++)_n[sn]=arguments[sn];if(_n.length!==v.length)throw new Error("Wrong number of arguments to fold. Expected "+v.length+", got "+_n.length);var Xt=_n[F];return Xt.apply(null,Se)},match:Gt,log:function(_n){console.log(_n,{constructors:C,constructor:re,params:Se})}}}}),D},Vd={generate:Iy},Ry=Vd.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Xb=function(v,C,D,P){return v.fold(C,D,P)},Yb=Ry.none,T5=Ry.multiple,Hv=Ry.single,ks=function(v,C,D){var P=function(){return Ga(v(),D).fold(function(){return C().fold(Yb,Hv)},function(F){return T5(F)})};return{get:P}},VM=tinymce.util.Tools.resolve("tinymce.PluginManager"),_a=function(v,C){return It.fromDom(v.dom.cloneNode(C))},vf=function(v){return _a(v,!1)},mi=function(v){return _a(v,!0)},Pp=function(v,C){var D=It.fromTag(C),P=Hs(v);return eu(D,P),D},Lc=function(v,C){var D=Pp(v,C),P=V(mi(v));return td(D,P),D},M5=function(v,C){var D=Pp(v,C);bo(v,D);var P=V(v);return td(D,P),Dl(v),D},Su=function(v,C){var D=function(de,Se){if(!_(Se)&&!Se.match(/^[0-9]+$/))throw new Error(v+".set accepts only positive integer values. Value was "+Se);var Le=de.dom;Pc(Le)&&(Le.style[v]=Se+"px")},P=function(de){var Se=C(de);if(Se<=0||Se===null){var Le=Zf(de,v);return parseFloat(Le)||0}return Se},F=P,G=function(de,Se){return fe(Se,function(Le,ot){var Gt=Zf(de,ot),_n=Gt===void 0?0:parseInt(Gt,10);return isNaN(_n)?Le:Le+_n},0)},re=function(de,Se,Le){var ot=G(de,Le),Gt=Se>ot?Se-ot:0;return Gt};return{set:D,get:P,getOuter:F,aggregate:G,max:re}},ul=function(){var v=Oe().browser;return v.isIE()||v.isEdge()},HM=function(v,C){return Br(v).getOr(C)},on=function(v,C,D){return HM(Zf(v,C),D)},Al=function(v){return Zf(v,"box-sizing")},Hh=function(v,C,D,P){var F=on(v,"padding-"+D,0),G=on(v,"padding-"+P,0),re=on(v,"border-"+D+"-width",0),de=on(v,"border-"+P+"-width",0);return C-F-G-re-de},Yr=function(v,C){var D=v.dom,P=D.getBoundingClientRect().height||D.offsetHeight;return C==="border-box"?P:Hh(v,P,"top","bottom")},_c=function(v,C){var D=v.dom,P=D.getBoundingClientRect().width||D.offsetWidth;return C==="border-box"?P:Hh(v,P,"left","right")},k5=function(v){return ul()?Yr(v,Al(v)):on(v,"height",v.dom.offsetHeight)},Ws=function(v){return ul()?_c(v,Al(v)):on(v,"width",v.dom.offsetWidth)},jv=function(v){return _c(v,"content-box")},Hd=Su("width",function(v){return v.dom.offsetWidth}),yf=function(v){return Hd.get(v)},Ds=function(v){return Hd.getOuter(v)},oi=jv,rd=Ws,ag=function(v,C){C===void 0&&(C=te);var D=v.grid,P=Ze(D.columns,z),F=Ze(D.rows,z);return $e(P,function(G){var re=function(){return Ue(F,function(Le){return yo.getAt(v,Le,G).filter(function(ot){return ot.column===G}).toArray()})},de=function(Le){return Le.colspan===1&&C(Le.element)},Se=function(){return yo.getAt(v,0,G)};return qi(re,de,Se)})},qi=function(v,C,D){var P=v(),F=Je(P,C),G=F.orThunk(function(){return Z.from(P[0]).orThunk(D)});return G.map(function(re){return re.element})},Np=function(v){var C=v.grid,D=Ze(C.rows,z),P=Ze(C.columns,z);return $e(D,function(F){var G=function(){return Ue(P,function(Se){return yo.getAt(v,F,Se).filter(function(Le){return Le.row===F}).fold(I([]),function(Le){return[Le]})})},re=function(Se){return Se.rowspan===1},de=function(){return yo.getAt(v,F,0)};return qi(G,re,de)})},Kl=function(v,C){if(C<0||C>=v.length-1)return Z.none();var D=v[C].fold(function(){var F=st(v.slice(0,C));return Mn(F,function(G,re){return G.map(function(de){return{value:de,delta:re+1}})})},function(F){return Z.some({value:F,delta:0})}),P=v[C+1].fold(function(){var F=v.slice(C+1);return Mn(F,function(G,re){return G.map(function(de){return{value:de,delta:re+1}})})},function(F){return Z.some({value:F,delta:1})});return D.bind(function(F){return P.map(function(G){var re=G.delta+F.delta;return Math.abs(G.value-F.value)/re})})},Jl=function(v,C){return function(D){return D5(D)==="rtl"?C:v}},D5=function(v){return Zf(v,"direction")==="rtl"?"rtl":"ltr"},dt=Su("height",function(v){var C=v.dom;return Jr(v)?C.getBoundingClientRect().height:C.offsetHeight}),sl=function(v){return dt.get(v)},od=function(v){return dt.getOuter(v)},Wv=k5,Sc=function(v,C){var D=function(P,F){return Sc(v+P,C+F)};return{left:v,top:C,translate:D}},Ri=Sc,$i=function(v){var C=v.getBoundingClientRect();return Ri(C.left,C.top)},El=function(v,C){return v!==void 0?v:C!==void 0?C:0},jh=function(v){var C=v.dom.ownerDocument,D=C.body,P=C.defaultView,F=C.documentElement;if(D===v.dom)return Ri(D.offsetLeft,D.offsetTop);var G=El(P==null?void 0:P.pageYOffset,F.scrollTop),re=El(P==null?void 0:P.pageXOffset,F.scrollLeft),de=El(F.clientTop,D.clientTop),Se=El(F.clientLeft,D.clientLeft);return h_(v).translate(re-Se,G-de)},h_=function(v){var C=v.dom,D=C.ownerDocument,P=D.body;return P===C?Ri(P.offsetLeft,P.offsetTop):Jr(v)?$i(C):Ri(0,0)},Er=function(v,C){return{row:v,y:C}},Kb=function(v,C){return{col:v,x:C}},Cc=function(v){var C=jh(v);return C.left+Ds(v)},jM=function(v){return jh(v).left},Py=function(v,C){return Kb(v,jM(C))},Ny=function(v,C){return Kb(v,Cc(C))},p_=function(v){return jh(v).top},m_=function(v,C){return Er(v,p_(C))},jd=function(v,C){return Er(v,p_(C)+od(C))},Wh=function(v,C,D){if(D.length===0)return[];var P=$e(D.slice(1),function(G,re){return G.map(function(de){return v(re,de)})}),F=D[D.length-1].map(function(G){return C(D.length-1,G)});return P.concat([F])},A5=function(v){return-v},g_={delta:z,positions:function(v){return Wh(m_,jd,v)},edge:p_},E5={delta:z,edge:jM,positions:function(v){return Wh(Py,Ny,v)}},WM={delta:A5,edge:Cc,positions:function(v){return Wh(Ny,Py,v)}},Ly=Jl(E5,WM),Uv={delta:function(v,C){return Ly(C).delta(v,C)},positions:function(v,C){return Ly(C).positions(v,C)},edge:function(v){return Ly(v).edge(v)}},UM={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Wd=function(){var v="[0-9]+",C="[+-]?"+v,D="[eE]"+C,P="\\.",F=function(de){return"(?:"+de+")?"},G=["Infinity",v+P+F(v)+F(D),P+v+F(D),v+F(D)].join("|"),re="[+-]?(?:"+G+")";return new RegExp("^("+re+")(.*)$")}(),qv=function(v,C){return $(C,function(D){return $(UM[D],function(P){return v===P})})},v_=function(v,C){var D=Z.from(Wd.exec(v));return D.bind(function(P){var F=Number(P[1]),G=P[2];return qv(G,C)?Z.some({value:F,unit:G}):Z.none()})},qM=/(\d+(\.\d+)?)%/,O5=/(\d+(\.\d+)?)px|em/,I5=ua("col"),du=function(v,C,D){var P=Kf(v).getOrThunk(function(){return Ei(Ul(v))});return C(v)/D(P)*100},Ud=function(v,C){La(v,"width",C+"px")},bf=function(v,C){La(v,"width",C+"%")},Lp=function(v,C){La(v,"height",C+"px")},$M=function(v){return Wv(v)+"px"},xf=function(v,C,D,P){var F=fa(v).map(function(G){var re=D(G);return Math.floor(C/100*re)}).getOr(C);return P(v,F),F},ug=function(v,C,D,P){var F=parseFloat(v);return et(v,"%")&&Oo(C)!=="table"?xf(C,F,D,P):F},y_=function(v){var C=$M(v);return C?ug(C,v,sl,Lp):sl(v)},b_=function(v,C,D){var P=D(v),F=wu(v,C);return P/F},Uh=function(v,C){return il(v,C).orThunk(function(){return ri(v,C).map(function(D){return D+"px"})})},Bc=function(v){return Uh(v,"width")},ls=function(v){return Uh(v,"height")},Jb=function(v){return du(v,yf,oi)},x_=function(v){return I5(v)?yf(v):rd(v)},sg=function(v){return b_(v,"rowspan",y_)},$v=function(v){var C=Bc(v);return C.bind(function(D){return v_(D,["fixed","relative","empty"])})},Gv=function(v,C,D){La(v,"width",C+D)},R5=function(v){return yf(v)+"px"},Xv=function(v){return du(v,yf,oi)+"%"},w_=function(v){return Bc(v).exists(function(C){return qM.test(C)})},P5=function(v){return Bc(v).exists(function(C){return O5.test(C)})},Aa=function(v){return Bc(v).isNone()},Zb=I(qM),Bp=ua("col"),__=function(v){return Bc(v).getOrThunk(function(){return x_(v)+"px"})},S_=function(v){return ls(v).getOrThunk(function(){return sg(v)+"px"})},zc=function(v){return $e(yo.justColumns(v),function(C){return Z.from(C.element)})},Tc=function(v){var C=Oe().browser,D=C.isChrome()||C.isFirefox();return Bp(v)?D:!0},lg=function(v,C,D,P,F,G){return v.filter(P).fold(function(){return G(Kl(D,C))},function(re){return F(re)})},zp=function(v,C,D,P){var F=ag(v),G=yo.hasColumns(v)?zc(v):F,re=[Z.some(Uv.edge(C))].concat($e(Uv.positions(F,C),function(Se){return Se.map(function(Le){return Le.x})})),de=X(rg);return $e(G,function(Se,Le){return lg(Se,Le,re,de,function(ot){if(Tc(ot))return D(ot);var Gt=Ub(F[Le],z);return lg(Gt,Le,re,de,function(_n){return P(Z.some(yf(_n)))},P)},P)})},Qb=function(v){return v.map(function(C){return C+"px"}).getOr("")},By=function(v,C){return zp(v,C,__,Qb)},C_=function(v,C,D){return zp(v,C,Jb,function(P){return P.fold(function(){return D.minCellWidth()},function(F){return F/D.pixelWidth()*100})})},cg=function(v,C,D){return zp(v,C,x_,function(P){return P.getOrThunk(D.minCellWidth)})},ex=function(v,C,D,P,F){var G=Np(v),re=[Z.some(D.edge(C))].concat($e(D.positions(G,C),function(de){return de.map(function(Se){return Se.y})}));return $e(G,function(de,Se){return lg(de,Se,re,X(qb),P,F)})},N5=function(v,C,D){return ex(v,C,D,sg,function(P){return P.getOrThunk(Ba)})},T_=function(v,C,D){return ex(v,C,D,S_,Qb)},Mc=function(v,C){return function(){return Jr(v)?C(v):parseFloat(il(v,"width").getOr("0"))}},Zl=function(v){var C=Mc(v,yf),D=I(0),P=function(F,G){return cg(F,v,G)};return{width:C,pixelWidth:C,getWidths:P,getCellDelta:D,singleColumnWidth:I([0]),minCellWidth:D,setElementWidth:k,adjustTableWidth:k,isRelative:!0,label:"none"}},Yv=function(v){var C=Mc(v,function(Se){return parseFloat(Xv(Se))}),D=Mc(v,yf),P=function(Se){return Se/D()*100},F=function(Se,Le){return[100-Se]},G=function(){return Rh()/D()*100},re=function(Se){var Le=C(),ot=Se/100*Le,Gt=Le+ot;bf(v,Gt)},de=function(Se,Le){return C_(Se,v,Le)};return{width:C,pixelWidth:D,getWidths:de,getCellDelta:P,singleColumnWidth:F,minCellWidth:G,setElementWidth:bf,adjustTableWidth:re,isRelative:!0,label:"percent"}},wf=function(v){var C=Mc(v,yf),D=z,P=function(re,de){var Se=Math.max(Rh(),re+de);return[Se-re]},F=function(re){var de=C()+re;Ud(v,de)},G=function(re,de){return cg(re,v,de)};return{width:C,pixelWidth:C,getWidths:G,getCellDelta:D,singleColumnWidth:P,minCellWidth:Rh,setElementWidth:Ud,adjustTableWidth:F,isRelative:!1,label:"pixel"}},Us=function(v,C){var D=Zb().exec(C);return D!==null?Yv(v):wf(v)},tx=function(v){var C=Bc(v);return C.fold(function(){return Zl(v)},function(D){return Us(v,D)})},qh={getTableSize:tx,pixelSize:wf,percentageSize:Yv,noneSize:Zl},GM=function(v,C,D,P,F,G){return{minRow:v,minCol:C,maxRow:D,maxCol:P,allCells:F,selectedCells:G}},cs=function(v,C){var D=v.grid.columns,P=v.grid.rows,F=P,G=D,re=0,de=0,Se=[],Le=[];return pi(v.access,function(ot){if(Se.push(ot),C(ot)){Le.push(ot);var Gt=ot.row,_n=Gt+ot.rowspan-1,sn=ot.column,Xt=sn+ot.colspan-1;Gt<F?F=Gt:_n>re&&(re=_n),sn<G?G=sn:Xt>de&&(de=Xt)}}),GM(F,G,re,de,Se,Le)},XM=function(v,C,D){var P=v[D].element,F=It.fromTag("td");Da(F,It.fromTag("br"));var G=C?Da:ss;G(P,F)},zy=function(v,C,D,P){for(var F=C.grid.columns,G=C.grid.rows,re=0;re<G;re++)for(var de=!1,Se=0;Se<F;Se++)if(!(re<D.minRow||re>D.maxRow||Se<D.minCol||Se>D.maxCol)){var Le=yo.getAt(C,re,Se).filter(P).isNone();Le?XM(v,de,re):de=!0}},ko=function(v,C,D,P){pi(D.columns,function(re){(re.column<C.minCol||re.column>C.maxCol)&&Dl(re.element)});var F=Ot(Ph(v,"tr"),function(re){return re.dom.childElementCount===0});mt(F,Dl),(C.minCol===C.maxCol||C.minRow===C.maxRow)&&mt(Ph(v,"th,td"),function(re){Ji(re,"rowspan"),Ji(re,"colspan")}),Ji(v,tu),Ji(v,"data-snooker-col-series");var G=qh.getTableSize(v);G.adjustTableWidth(P)},Ir=function(v,C,D,P){if(P.minCol===0&&C.grid.columns===P.maxCol+1)return 0;var F=cg(C,v,D),G=fe(F,function(Le,ot){return Le+ot},0),re=fe(F.slice(P.minCol,P.maxCol+1),function(Le,ot){return Le+ot},0),de=re/G*D.pixelWidth(),Se=de-D.pixelWidth();return D.getCellDelta(Se)},$h=function(v,C){var D=function(_n){return mr(_n.element,C)},P=mi(v),F=$b(P),G=qh.getTableSize(v),re=yo.generate(F),de=cs(re,D),Se="th:not("+C+"),td:not("+C+")",Le=Nh(P,"th,td",function(_n){return mr(_n,Se)});mt(Le,Dl),zy(F,re,de,D);var ot=yo.fromTable(v),Gt=Ir(v,ot,G,de);return ko(P,de,re,Gt),P},M_=" ",_f=function(v){return Oo(v)==="img"?1:BM(v).fold(function(){return V(v).length},function(C){return C.length})},YM=function(v){return BM(v).filter(function(C){return C.trim().length!==0||C.indexOf(M_)>-1}).isSome()},Gi=["img","br"],k_=function(v){var C=YM(v);return C||tt(Gi,Oo(v))},Fy=function(v){return Cy(v,k_)},nx=function(v){return fn(v,k_)},fn=function(v,C){var D=function(P){for(var F=V(P),G=F.length-1;G>=0;G--){var re=F[G];if(C(re))return Z.some(re);var de=D(re);if(de.isSome())return de}return Z.none()};return D(v)},Vy={scope:["row","col"]},Kv=function(v){return function(){var C=It.fromTag("td",v.dom);return Da(C,It.fromTag("br",v.dom)),C}},Jv=function(v){return function(){return It.fromTag("col",v.dom)}},fg=function(v){return function(){return It.fromTag("colgroup",v.dom)}},dg=function(v){return function(){return It.fromTag("tr",v.dom)}},Fp=function(v,C,D){var P=Lc(v,C);return pi(D,function(F,G){F===null?Ji(P,G):xu(P,G,F)}),P},Xa=function(v){return v},na=function(v,C,D){var P=Fy(v);return P.map(function(F){var G=D.join(","),re=bu(F,G,function(de){return ro(de,v)});return Nt(re,function(de,Se){var Le=vf(Se);return Ji(Le,"contenteditable"),Da(de,Le),Le},C)}).getOr(C)},Gh=function(v,C){pi(Vy,function(D,P){return ri(v,P).filter(function(F){return tt(D,F)}).each(function(F){return xu(C,P,F)})})},ha=function(v,C,D){var P=function(re,de){Ip(re.element,de),as(de,"height"),re.colspan!==1&&as(de,"width")},F=function(re){var de=It.fromTag(Oo(re.element),C.dom),Se=D.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Le=Se.length>0?na(re.element,de,Se):de;return Da(Le,It.fromTag("br")),P(re,de),Gh(re.element,de),v(re.element,de),de},G=function(re){var de=It.fromTag(Oo(re.element),C.dom);return P(re,de),v(re.element,de),de};return{col:G,colgroup:fg(C),row:dg(C),cell:F,replace:Fp,colGap:Jv(C),gap:Kv(C)}},Ql=function(v){return{col:Jv(v),colgroup:fg(v),row:dg(v),cell:Kv(v),replace:Xa,colGap:Jv(v),gap:Kv(v)}},D_=function(v,C){var D=C||document,P=D.createElement("div");return P.innerHTML=v,V(It.fromDom(P))},Sf=function(v){return $e(v,It.fromDom)},rx=function(v){return v.nodeName.toLowerCase()},Ol=function(v){return It.fromDom(v.getBody())},id=function(v){return v.getBoundingClientRect().width},Xh=function(v){return v.getBoundingClientRect().height},qu=function(v){return function(C){return ro(C,Ol(v))}},ox=function(v){return v?v.replace(/px$/,""):""},As=function(v){return/^\d+(\.\d+)?$/.test(v)?v+"px":v},$u=function(v){Ji(v,"data-mce-style");var C=function(D){return Ji(D,"data-mce-style")};mt(Lh(v),C),mt(ed(v),C),mt(Ml(v),C)},Zv=function(v,C){var D=v.dom.getStyle(C,"width")||v.dom.getAttrib(C,"width");return Z.from(D).filter(ln)},L5=function(v){return/^(\d+(\.\d+)?)%$/.test(v)},Hy=function(v){return/^(\d+(\.\d+)?)px$/.test(v)},hu=function(v){return It.fromDom(v.selection.getStart())},ir=function(v){return It.fromDom(v.selection.getEnd())},Fc=function(v){return Xb(v.get(),I([]),z,Ct)},B5=function(v){var C=function(F,G){return ri(F,G).exists(function(re){return parseInt(re,10)>1})},D=function(F){return C(F,"rowspan")||C(F,"colspan")},P=Fc(v);return P.length>0&&Ye(P,D)?Z.some(P):Z.none()},KM=function(v,C,D){return Xb(C.get(),Z.none,function(P){return P.length<=1?Z.none():Uu(v,D.firstSelectedSelector,D.lastSelectedSelector).map(function(F){return{bounds:F,cells:P}})},Z.none)},Qv="data-mce-selected",JM="td["+Qv+"],th["+Qv+"]",jy="["+Qv+"]",qd="data-mce-first-selected",hg="td["+qd+"],th["+qd+"]",A_="data-mce-last-selected",ad="td["+A_+"],th["+A_+"]",z5=jy,pg={selected:Qv,selectedSelector:JM,firstSelected:qd,firstSelectedSelector:hg,lastSelected:A_,lastSelectedSelector:ad},$d=function(v){return{element:v,mergable:Z.none(),unmergable:Z.none(),selection:[v]}},Vp=function(v,C,D){return{element:D,mergable:KM(C,v,pg),unmergable:B5(v),selection:Fc(v)}},mg=function(v,C,D){return{element:v,clipboard:C,generators:D}},ZM=function(v,C,D,P){return{selection:Fc(v),clipboard:D,generators:P}},nu=function(v){return fa(v).bind(function(C){return Ga(C,pg.firstSelectedSelector)}).fold(I(v),function(C){return C[0]})},Hp=function(v){return function(C,D){var P=Oo(C),F=P==="col"||P==="colgroup"?nu(C):C;return Ma(F,v,D)}},gg=Hp("th,td,caption"),ec=Hp("th,td"),Gu=function(v){return Fc(v)},F5=function(v,C){var D=ec(v),P=D.bind(function(F){return fa(F)}).map(function(F){return Ml(F)});return Gl(D,P,function(F,G){return Ot(G,function(re){return $(Sf(re.dom.cells),function(de){return bc(de,C)==="1"||ro(de,F)})})}).getOr([])},V5=function(v){return fa(v[0]).map(function(C){var D=$h(C,z5);return $u(D),[D]})},H5=function(v,C){return $e(C,function(D){return v.selection.serializer.serialize(D.dom,{})}).join("")},QM=function(v){return $e(v,function(C){return C.dom.innerText}).join("")},ud=function(v,C,D){v.on("BeforeGetContent",function(P){var F=function(G){P.preventDefault(),V5(G).each(function(re){P.content=P.format==="text"?QM(re):H5(v,re)})};P.selection===!0&&Xb(C.get(),k,F,k)}),v.on("BeforeSetContent",function(P){if(P.selection===!0&&P.paste===!0){var F=Gu(C);Xe(F).each(function(G){fa(G).each(function(re){var de=Ot(D_(P.content),function(_n){return Oo(_n)!=="meta"}),Se=ua("table");if(de.length===1&&Se(de[0])){P.preventDefault();var Le=It.fromDom(v.getDoc()),ot=Ql(Le),Gt=mg(G,de[0],ot);D.pasteCells(re,Gt).each(function(){v.focus()})}})})}})},ix=Vd.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),e0=Qt({},ix),j5=function(v,C){return v.length===0?e0.none():v.length===1?e0.only(0):C===0?e0.left(0,1):C===v.length-1?e0.right(C-1,C):C>0&&C<v.length-1?e0.middle(C-1,C,C+1):e0.none()},E_=function(v,C,D,P,F){var G=v.slice(0),re=j5(v,C),de=I($e(G,I(0))),Se=function(_n){return P.singleColumnWidth(G[_n],D)},Le=function(_n,sn){return F.calcLeftEdgeDeltas(G,_n,sn,D,P.minCellWidth(),P.isRelative)},ot=function(_n,sn,Xt){return F.calcMiddleDeltas(G,_n,sn,Xt,D,P.minCellWidth(),P.isRelative)},Gt=function(_n,sn){return F.calcRightEdgeDeltas(G,_n,sn,D,P.minCellWidth(),P.isRelative)};return re.fold(de,Se,Le,ot,Gt)},ek=function(v,C,D){for(var P=0,F=v;F<C;F++)P+=D[F]!==void 0?D[F]:0;return P},O_=function(v,C){var D=yo.justCells(v);return $e(D,function(P){var F=ek(P.column,P.column+P.colspan,C);return{element:P.element,width:F,colspan:P.colspan}})},I_=function(v,C){var D=yo.justColumns(v);return $e(D,function(P,F){return{element:P.element,width:C[F],colspan:P.colspan}})},jp=function(v,C){var D=yo.justCells(v);return $e(D,function(P){var F=ek(P.row,P.row+P.rowspan,C);return{element:P.element,height:F,rowspan:P.rowspan}})},Wp=function(v,C){return $e(v.all,function(D,P){return{element:D.element,height:C[P]}})},Fi=function(v){return Nt(v,function(C,D){return C+D},0)},R_=function(v,C){return yo.hasColumns(v)?I_(v,C):O_(v,C)},Vc=function(v,C,D){var P=R_(v,C);mt(P,function(F){D.setElementWidth(F.element,F.width)})},P_=function(v,C,D,P,F){var G=yo.fromTable(v),re=F.getCellDelta(C),de=F.getWidths(G,F),Se=D===G.grid.columns-1,Le=P.clampTableDelta(de,D,re,F.minCellWidth(),Se),ot=E_(de,D,Le,F,P),Gt=$e(ot,function(_n,sn){return _n+de[sn]});Vc(G,Gt,F),P.resizeTable(F.adjustTableWidth,Le,Se)},W5=function(v,C,D,P){var F=yo.fromTable(v),G=N5(F,v,P),re=$e(G,function(ot,Gt){return D===Gt?Math.max(C+ot,Ba()):ot}),de=jp(F,re),Se=Wp(F,re);mt(Se,function(ot){Lp(ot.element,ot.height)}),mt(de,function(ot){Lp(ot.element,ot.height)});var Le=Fi(re);Lp(v,Le)},U5=function(v,C,D,P,F){var G=yo.generate(C),re=P.getWidths(G,P),de=P.pixelWidth(),Se=F.calcRedestributedWidths(re,de,D.pixelDelta,P.isRelative),Le=Se.newSizes,ot=Se.delta;Vc(G,Le,P),P.adjustTableWidth(ot)},ll=function(v,C,D,P){var F=yo.generate(C),G=P.getWidths(F,P);Vc(F,G,P)},Cf=function(v){return $e(v,I(0))},N_=function(v,C,D,P,F){return F(v.slice(0,C)).concat(P).concat(F(v.slice(D)))},Wy=function(v){return function(C,D,P,F){if(v(P)){var G=Math.max(F,C[D]-Math.abs(P)),re=Math.abs(G-C[D]);return P>=0?re:-re}else return P}},t0=Wy(function(v){return v<0}),L_=Wy(te),tk=function(){var v=function(de,Se,Le,ot,Gt){var _n=t0(de,Se,ot,Gt);return N_(de,Se,Le+1,[_n,0],Cf)},C=function(de,Se,Le,ot){var Gt=(100+Le)/100,_n=Math.max(ot,(de[Se]+Le)/Gt);return $e(de,function(sn,Xt){var Nn=Xt===Se?_n:sn/Gt;return Nn-sn})},D=function(de,Se,Le,ot,Gt,_n){return _n?C(de,Se,ot,Gt):v(de,Se,Le,ot,Gt)},P=function(de,Se,Le,ot,Gt,_n,sn){return D(de,Le,ot,Gt,_n,sn)},F=function(de,Se){return de(Se)},G=function(de,Se,Le,ot,Gt,_n){if(_n)return C(de,Le,ot,Gt);var sn=t0(de,Le,ot,Gt);return Cf(de.slice(0,Le)).concat([sn])},re=function(de,Se,Le,ot){if(ot){var Gt=Se+Le,_n=Gt/Se,sn=$e(de,function(Xt){return Xt/_n});return{delta:_n*100-100,newSizes:sn}}else return{delta:Le,newSizes:de}};return{resizeTable:F,clampTableDelta:t0,calcLeftEdgeDeltas:D,calcMiddleDeltas:P,calcRightEdgeDeltas:G,calcRedestributedWidths:re}},Up=function(){var v=function(re,de,Se,Le,ot){var Gt=Le>=0?Se:de,_n=L_(re,Gt,Le,ot);return N_(re,de,Se+1,[_n,-_n],Cf)},C=function(re,de,Se,Le,ot,Gt){return v(re,Se,Le,ot,Gt)},D=function(re,de,Se){Se&&re(de)},P=function(re,de,Se,Le,ot,Gt){if(Gt)return Cf(re);var _n=Le/re.length;return $e(re,I(_n))},F=function(re,de,Se,Le,ot){if(ot){if(Se>=0)return Se;var Gt=fe(re,function(_n,sn){return _n+sn-Le},0);return Math.max(-Gt,Se)}else return t0(re,de,Se,Le)},G=function(re,de,Se,Le){return{delta:0,newSizes:re}};return{resizeTable:D,clampTableDelta:F,calcLeftEdgeDeltas:v,calcMiddleDeltas:C,calcRightEdgeDeltas:P,calcRedestributedWidths:G}},B_=function(v,C){var D=Z.from(v.dom.documentElement).map(It.fromDom).getOr(v);return{parent:I(D),view:I(v),origin:I(Ri(0,0)),isResizable:C}},z_=function(v,C,D){var P=function(){return jh(C)};return{parent:I(C),view:I(v),origin:P,isResizable:D}},ax=function(v,C,D){return{parent:I(C),view:I(v),origin:I(Ri(0,0)),isResizable:D}},ux={only:B_,detached:z_,body:ax},vg=Vd.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),nk=function(v,C,D){var P=D.substring(0,D.length-v.length),F=parseFloat(P);return P===F.toString()?C(F):vg.invalid(D)},Xu=function(v){return et(v,"%")?nk("%",vg.percent,v):et(v,"px")?nk("px",vg.pixels,v):vg.invalid(v)},sd=Qt(Qt({},vg),{from:Xu}),pu=function(v,C){return $e(v,function(D){var P=sd.from(D);return P.fold(function(){return D},function(F){var G=F/C*100;return G+"%"},function(F){return F+"%"})})},cl=function(v,C,D){var P=D/C;return $e(v,function(F){var G=sd.from(F);return G.fold(function(){return F},function(re){return re*P+"px"},function(re){return re/100*D+"px"})})},Yh=function(v,C){var D=v.fold(function(){return I("")},function(P){var F=P/C;return I(F+"px")},function(){var P=100/C;return I(P+"%")});return Ze(C,D)},Gd=function(v,C,D){return v.fold(function(){return C},function(P){return cl(C,D,P)},function(P){return pu(C,D)})},F_=function(v,C,D){var P=sd.from(D),F=Ye(v,function(G){return G==="0px"})?Yh(P,v.length):Gd(P,v,C);return q5(F)},tc=function(v,C){return v.length===0?C:Nt(v,function(D,P){return sd.from(P).fold(I(0),z,z)+D},0)},n0=function(v,C){var D=Math.floor(v);return{value:D+C,remainder:v-D}},rk=function(v,C){return sd.from(v).fold(I(v),function(D){return D+C+"px"},function(D){return D+C+"%"})},q5=function(v){if(v.length===0)return v;var C=Nt(v,function(P,F){var G=sd.from(F).fold(function(){return{value:F,remainder:0}},function(re){return n0(re,"px")},function(re){return{value:re+"%",remainder:0}});return{output:[G.value].concat(P.output),remainder:P.remainder+G.remainder}},{output:[],remainder:0}),D=C.output;return D.slice(0,D.length-1).concat([rk(D[D.length-1],Math.round(C.remainder))])},$5=sd.from,G5=function(v,C,D){mt(C,function(P){var F=v.slice(P.column,P.colspan+P.column),G=tc(F,Rh());La(P.element,"width",G+D)})},X5=function(v,C,D){mt(C,function(P,F){var G=tc([v[F]],Rh());La(P.element,"width",G+D)})},V_=function(v,C,D,P){mt(D,function(F){var G=v.slice(F.row,F.rowspan+F.row),re=tc(G,Ba());La(F.element,"height",re+P)}),mt(C,function(F,G){La(F.element,"height",v[G])})},sx=function(v){return $5(v).fold(I("px"),I("px"),I("%"))},kc=function(v,C,D){var P=yo.fromTable(v),F=P.all,G=yo.justCells(P),re=yo.justColumns(P);C.each(function(de){var Se=sx(de),Le=yf(v),ot=By(P,v),Gt=F_(ot,Le,de);yo.hasColumns(P)?X5(Gt,re,Se):G5(Gt,G,Se),La(v,"width",de)}),D.each(function(de){var Se=sx(de),Le=sl(v),ot=T_(P,v,g_),Gt=F_(ot,Le,de);V_(Gt,F,G,Se),La(v,"height",de)})},ok=w_,qp=P5,Uy=Aa,ld=function(v){var C=yo.fromTable(v);return C.grid},Hc=function(v){var C=[],D=function(G){if(G===void 0)throw new Error("Event bind error: undefined handler");C.push(G)},P=function(G){C=Ot(C,function(re){return re!==G})},F=function(){for(var G=[],re=0;re<arguments.length;re++)G[re]=arguments[re];var de={};mt(v,function(Se,Le){de[Se]=G[Le]}),mt(C,function(Se){Se(de)})};return{bind:D,unbind:P,trigger:F}},ru=function(v){var C=Wl(v,function(P){return{bind:P.bind,unbind:P.unbind}}),D=Wl(v,function(P){return P.trigger});return{registry:C,trigger:D}},Dc=function(v,C){var D=null,P=function(){f(D)||(clearTimeout(D),D=null)},F=function(){for(var G=[],re=0;re<arguments.length;re++)G[re]=arguments[re];P(),D=setTimeout(function(){D=null,v.apply(null,G)},C)};return{cancel:P,throttle:F}},$p=function(v){return v.slice(0).sort()},H_=function(v,C){throw new Error("All required keys ("+$p(v).join(", ")+") were not specified. Specified keys were: "+$p(C).join(", ")+".")},ho=function(v){throw new Error("Unsupported keys for object: "+$p(v).join(", "))},qy=function(v,C){if(!l(C))throw new Error("The "+v+" fields must be an array. Was: "+C+".");mt(C,function(D){if(!i(D))throw new Error("The value "+D+" in the "+v+" fields was not a string.")})},Y5=function(v,C){throw new Error("All values need to be of type: "+C+". Keys ("+$p(v).join(", ")+") were not.")},lx=function(v){var C=$p(v),D=Je(C,function(P,F){return F<C.length-1&&P===C[F+1]});D.each(function(P){throw new Error("The field: "+P+" occurs more than once in the combined fields: ["+C.join(", ")+"].")})},cx=function(v,C){return K5(v,C,{validate:S,label:"function"})},K5=function(v,C,D){if(C.length===0)throw new Error("You must specify at least one required field.");return qy("required",C),lx(C),function(P){var F=yu(P),G=Ye(C,function(de){return tt(F,de)});G||H_(C,F),v(C,F);var re=Ot(C,function(de){return!D.validate(P[de],de)});return re.length>0&&Y5(re,D.label),P}},mu=function(v,C){var D=Ot(C,function(P){return!tt(v,P)});D.length>0&&ho(D)},qs=function(v){return cx(mu,v)},ra=qs(["compare","extract","mutate","sink"]),ik=qs(["element","start","stop","destroy"]),j_=qs(["forceDrop","drop","move","delayDrop"]),yg=function(){var v=Z.none(),C=function(){v=Z.none()},D=function(G,re){var de=v.map(function(Se){return G.compare(Se,re)});return v=Z.some(re),de},P=function(G,re){var de=re.extract(G);de.each(function(Se){var Le=D(re,Se);Le.each(function(ot){F.trigger.move(ot)})})},F=ru({move:Hc(["info"])});return{onEvent:P,reset:C,events:F.registry}},ak=function(){var v=ru({move:Hc(["info"])});return{onEvent:k,reset:k,events:v.registry}},bg=function(){var v=ak(),C=yg(),D=v,P=function(){D.reset(),D=C},F=function(){D.reset(),D=v},G=function(de,Se){D.onEvent(de,Se)},re=function(){return D===C};return{on:P,off:F,isOn:re,onEvent:G,events:C.events}},r0=function(v,C,D){var P=!1,F=ru({start:Hc([]),stop:Hc([])}),G=bg(),re=function(){sn.stop(),G.isOn()&&(G.off(),F.trigger.stop())},de=Dc(re,200),Se=function(Nn){sn.start(Nn),G.on(),F.trigger.start()},Le=function(Nn){de.cancel(),G.onEvent(Nn,C)};G.events.move.bind(function(Nn){C.mutate(v,Nn.info)});var ot=function(){P=!0},Gt=function(){P=!1},_n=function(Nn){return function(){for(var Pn=[],xr=0;xr<arguments.length;xr++)Pn[xr]=arguments[xr];P&&Nn.apply(null,Pn)}},sn=C.sink(j_({forceDrop:re,drop:_n(re),move:_n(Le),delayDrop:_n(de.throttle)}),D),Xt=function(){sn.destroy()};return{element:sn.element,go:Se,on:ot,off:Gt,destroy:Xt,events:F.registry}},uk=function(v,C,D,P,F,G,re){return{target:v,x:C,y:D,stop:P,prevent:F,kill:G,raw:re}},Xd=function(v){var C=It.fromDom(lr(v).getOr(v.target)),D=function(){return v.stopPropagation()},P=function(){return v.preventDefault()},F=E(P,D);return uk(C,v.clientX,v.clientY,D,P,F,v)},fl=function(v,C){return function(D){v(D)&&C(Xd(D))}},J5=function(v,C,D,P,F){var G=fl(D,P);return v.dom.addEventListener(C,G,F),{unbind:q(xg,v,C,G,F)}},Z5=function(v,C,D,P){return J5(v,C,D,P,!1)},xg=function(v,C,D,P){v.dom.removeEventListener(C,D,P)},W_=te,Gp=function(v,C,D){return Z5(v,C,W_,D)},wg=Xd,U_=function(v,C){var D=bc(v,C);return D===void 0||D===""?[]:D.split(" ")},Q5=function(v,C,D){var P=U_(v,C),F=P.concat([D]);return xu(v,C,F.join(" ")),!0},eO=function(v,C,D){var P=Ot(U_(v,C),function(F){return F!==D});return P.length>0?xu(v,C,P.join(" ")):Ji(v,C),!1},_g=function(v){return v.dom.classList!==void 0},Sg=function(v){return U_(v,"class")},fx=function(v,C){return Q5(v,"class",C)},_o=function(v,C){return eO(v,"class",C)},Pi=function(v,C){_g(v)?v.dom.classList.add(C):fx(v,C)},Cg=function(v){var C=_g(v)?v.dom.classList:Sg(v);C.length===0&&Ji(v,"class")},Xp=function(v,C){if(_g(v)){var D=v.dom.classList;D.remove(C)}else _o(v,C);Cg(v)},Ci=function(v,C){return _g(v)&&v.dom.classList.contains(C)},dx=function(v){var C=v.replace(/\./g,"-"),D=function(P){return C+"-"+P};return{resolve:D}},hx=dx("ephox-dragster"),Yu=hx.resolve,Yp=function(v){var C=Qt({layerClass:Yu("blocker")},v),D=It.fromTag("div");xu(D,"role","presentation"),Bd(D,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Pi(D,Yu("blocker")),Pi(D,C.layerClass);var P=I(D),F=function(){Dl(D)};return{element:P,destroy:F}},px=function(v,C){return Ri(C.left-v.left,C.top-v.top)},tO=function(v){return Z.some(Ri(v.x,v.y))},nO=function(v,C){v.mutate(C.left,C.top)},mx=function(v,C){var D=Yp(C),P=Gp(D.element(),"mousedown",v.forceDrop),F=Gp(D.element(),"mouseup",v.drop),G=Gp(D.element(),"mousemove",v.move),re=Gp(D.element(),"mouseout",v.delayDrop),de=function(){D.destroy(),F.unbind(),G.unbind(),re.unbind(),P.unbind()},Se=function(ot){Da(ot,D.element())},Le=function(){Dl(D.element())};return ik({element:D.element,start:Se,stop:Le,destroy:de})},o0=ra({compare:px,extract:tO,sink:mx,mutate:nO}),q_=function(v,C){C===void 0&&(C={});var D=C.mode!==void 0?C.mode:o0;return r0(v,D,C)},gx=function(v){return Ma(v,"[contenteditable]")},i0=function(v,C){return C===void 0&&(C=!1),!Oe().browser.isIE()&&Jr(v)?v.dom.isContentEditable:gx(v).fold(I(C),function(D){return vx(D)==="true"})},vx=function(v){return v.dom.contentEditable},Il=dx("ephox-snooker"),Tg=Il.resolve,Yd=function(){var v=ru({drag:Hc(["xDelta","yDelta"])}),C=function(D,P){v.trigger.drag(D,P)};return{mutate:C,events:v.registry}},Rl=function(){var v=ru({drag:Hc(["xDelta","yDelta","target"])}),C=Z.none(),D=Yd();D.events.drag.bind(function(G){C.each(function(re){v.trigger.drag(G.xDelta,G.yDelta,re)})});var P=function(G){C=Z.some(G)},F=function(){return C};return{assign:P,get:F,mutate:D.mutate,events:v.registry}},sk=function(v,C,D,P,F){var G=It.fromTag("div");return Bd(G,{position:"absolute",left:C-P/2+"px",top:D+"px",height:F+"px",width:P+"px"}),eu(G,{"data-column":v,role:"presentation"}),G},fs=function(v,C,D,P,F){var G=It.fromTag("div");return Bd(G,{position:"absolute",left:C+"px",top:D-F/2+"px",height:F+"px",width:P+"px"}),eu(G,{"data-row":v,role:"presentation"}),G},$_=Tg("resizer-bar"),Kh=Tg("resizer-rows"),G_=Tg("resizer-cols"),X_=7,lk=function(v,C){return Ue(v.all,function(D,P){return C(D.element)?[P]:[]})},yx=function(v,C){var D=[];return Ze(v.grid.columns,function(P){var F=yo.getColumnAt(v,P).map(function(G){return G.element});F.forall(C)&&D.push(P)}),Ot(D,function(P){var F=yo.filterItems(v,function(G){return G.column===P});return Ye(F,function(G){return C(G.element)})})},a0=function(v){var C=ql(v.parent(),"."+$_);mt(C,Dl)},Y_=function(v,C,D){var P=v.origin();mt(C,function(F){F.each(function(G){var re=D(P,G);Pi(re,$_),Da(v.parent(),re)})})},rO=function(v,C,D,P){Y_(v,C,function(F,G){var re=sk(G.col,G.x-F.left,D.top-F.top,X_,P);return Pi(re,G_),re})},oO=function(v,C,D,P){Y_(v,C,function(F,G){var re=fs(G.row,D.left-F.left,G.y-F.top,P,X_);return Pi(re,Kh),re})},Es=function(v,C,D,P,F){var G=jh(D),re=C.isResizable,de=P.length>0?g_.positions(P,D):[],Se=de.length>0?lk(v,re):[],Le=Ot(de,function(sn,Xt){return $(Se,function(Nn){return Xt===Nn})});oO(C,Le,G,Ds(D));var ot=F.length>0?Uv.positions(F,D):[],Gt=ot.length>0?yx(v,re):[],_n=Ot(ot,function(sn,Xt){return $(Gt,function(Nn){return Xt===Nn})});rO(C,_n,G,od(D))},Cu=function(v,C){if(a0(v),v.isResizable(C)){var D=yo.fromTable(C),P=Np(D),F=ag(D);Es(D,v,C,P,F)}},$s=function(v,C){var D=ql(v.parent(),"."+$_);mt(D,C)},Ku=function(v){$s(v,function(C){La(C,"display","none")})},Pl=function(v){$s(v,function(C){La(C,"display","block")})},ds=function(v){return Ci(v,Kh)},bx=function(v){return Ci(v,G_)},Kp=Tg("resizer-bar-dragging"),Jp=function(v){var C=Rl(),D=q_(C,{}),P=Z.none(),F=function(Xt,Nn){return Z.from(bc(Xt,Nn))};C.events.drag.bind(function(Xt){F(Xt.target,"data-row").each(function(Nn){var Pn=Ih(Xt.target,"top");La(Xt.target,"top",Pn+Xt.yDelta+"px")}),F(Xt.target,"data-column").each(function(Nn){var Pn=Ih(Xt.target,"left");La(Xt.target,"left",Pn+Xt.xDelta+"px")})});var G=function(Xt,Nn){var Pn=Ih(Xt,Nn),xr=Nc(Xt,"data-initial-"+Nn,0);return Pn-xr};D.events.stop.bind(function(){C.get().each(function(Xt){P.each(function(Nn){F(Xt,"data-row").each(function(Pn){var xr=G(Xt,"top");Ji(Xt,"data-initial-top"),sn.trigger.adjustHeight(Nn,xr,parseInt(Pn,10))}),F(Xt,"data-column").each(function(Pn){var xr=G(Xt,"left");Ji(Xt,"data-initial-left"),sn.trigger.adjustWidth(Nn,xr,parseInt(Pn,10))}),Cu(v,Nn)})})});var re=function(Xt,Nn){sn.trigger.startAdjust(),C.assign(Xt),xu(Xt,"data-initial-"+Nn,Ih(Xt,Nn)),Pi(Xt,Kp),La(Xt,"opacity","0.2"),D.go(v.parent())},de=Gp(v.parent(),"mousedown",function(Xt){ds(Xt.target)&&re(Xt.target,"top"),bx(Xt.target)&&re(Xt.target,"left")}),Se=function(Xt){return ro(Xt,v.view())},Le=function(Xt){return Ma(Xt,"table",Se).filter(i0)},ot=Gp(v.view(),"mouseover",function(Xt){Le(Xt.target).fold(function(){Jr(Xt.target)&&a0(v)},function(Nn){P=Z.some(Nn),Cu(v,Nn)})}),Gt=function(){de.unbind(),ot.unbind(),D.destroy(),a0(v)},_n=function(Xt){Cu(v,Xt)},sn=ru({adjustHeight:Hc(["table","delta","row"]),adjustWidth:Hc(["table","delta","column"]),startAdjust:Hc([])});return{destroy:Gt,refresh:_n,on:D.on,off:D.off,hideBars:q(Ku,v),showBars:q(Pl,v),events:sn.registry}},K_=function(v,C,D){var P=g_,F=Uv,G=Jp(v),re=ru({beforeResize:Hc(["table","type"]),afterResize:Hc(["table","type"]),startDrag:Hc([])});return G.events.adjustHeight.bind(function(de){var Se=de.table;re.trigger.beforeResize(Se,"row");var Le=P.delta(de.delta,Se);W5(Se,Le,de.row,P),re.trigger.afterResize(Se,"row")}),G.events.startAdjust.bind(function(de){re.trigger.startDrag()}),G.events.adjustWidth.bind(function(de){var Se=de.table;re.trigger.beforeResize(Se,"col");var Le=F.delta(de.delta,Se),ot=D(Se);P_(Se,Le,de.column,C,ot),re.trigger.afterResize(Se,"col")}),{on:G.on,off:G.off,hideBars:G.hideBars,showBars:G.showBars,destroy:G.destroy,events:re.registry}},ck={create:K_},xx=function(v,C){return v.fire("newrow",{node:C})},Jh=function(v,C){return v.fire("newcell",{node:C})},Zp=function(v,C,D,P,F){v.fire("ObjectResizeStart",{target:C,width:D,height:P,origin:F})},fk=function(v,C,D,P,F){v.fire("ObjectResized",{target:C,width:D,height:P,origin:F})},iO=function(v,C,D,P,F){v.fire("TableSelectionChange",{cells:C,start:D,finish:P,otherCells:F})},_x=function(v){v.fire("TableSelectionClear")},dl=function(v,C,D){v.fire("TableModified",Qt(Qt({},D),{table:C}))},Sx={structure:!1,style:!0},Tu={structure:!0,style:!1},dk={structure:!0,style:!0},aO="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",J_={"border-collapse":"collapse",width:"100%"},hk=Ze(5,function(v){var C=v+1+"px";return{title:C,value:C}}),pk=$e(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(v){return{title:v,value:v.toLowerCase()}}),zn=function(v){var C;if(s0(v)){var D=v.dom,P=(C=D.getParent(v.selection.getStart(),D.isBlock))!==null&&C!==void 0?C:v.getBody(),F=oi(It.fromDom(P));return Qt(Qt({},J_),{width:F+"px"})}else return em(v)?Ou(J_,function(G,re){return re!=="width"}):J_},uO={border:"1"},Ya="preservetable",Z_=function(v){return v.getParam("table_sizing_mode","auto")},Mg=function(v){return v.getParam("table_responsive_width")},Cx=function(v){return v.getParam("table_border_widths",hk,"array")},nc=function(v){return v.getParam("table_border_styles",pk,"array")},u0=function(v){return v.getParam("table_default_attributes",uO,"object")},$y=function(v){return v.getParam("table_default_styles",zn(v),"object")},Tx=function(v){return v.getParam("table_resize_bars",!0,"boolean")},Kd=function(v){return v.getParam("table_tab_navigation",!0,"boolean")},Gy=function(v){return v.getParam("table_cell_advtab",!0,"boolean")},Mx=function(v){return v.getParam("table_row_advtab",!0,"boolean")},rc=function(v){return v.getParam("table_advtab",!0,"boolean")},Tf=function(v){return v.getParam("table_appearance_options",!0,"boolean")},Zh=function(v){return v.getParam("table_grid",!0,"boolean")},Mu=function(v){return v.getParam("table_style_by_css",!1,"boolean")},Q_=function(v){return v.getParam("table_cell_class_list",[],"array")},Wt=function(v){return v.getParam("table_row_class_list",[],"array")},Qp=function(v){return v.getParam("table_class_list",[],"array")},Xy=function(v){return Z_(v)==="relative"||Mg(v)===!0},s0=function(v){return Z_(v)==="fixed"||Mg(v)===!1},em=function(v){return Z_(v)==="responsive"},cd=function(v){return v.getParam("table_toolbar",aO)},eS=function(v){return v.getParam("table_use_colgroups",!1,"boolean")},tS=function(v){var C="section",D=v.getParam("table_header_type",C,"string"),P=["section","cells","sectionCells","auto"];return tt(P,D)?D:C},kx=function(v){var C=["preservetable","resizetable"],D=v.getParam("table_column_resizing",Ya,"string");return Je(C,function(P){return P===D}).getOr(Ya)},Dx=function(v){return kx(v)==="preservetable"},mk=function(v){return kx(v)==="resizetable"},nS=function(v){var C=v.getParam("table_clone_elements");return i(C)?Z.some(C.split(/[ ,]/)):Array.isArray(C)?Z.some(C):Z.none()},rS=function(v){var C=v.getParam("object_resizing",!0);return i(C)?C==="table":C},oS=function(v){return v.getParam("table_background_color_map",[],"array")},iS=function(v){return v.getParam("table_border_color_map",[],"array")},aS=function(v,C){return Xy(v)?qh.percentageSize(C):s0(v)?qh.pixelSize(C):qh.getTableSize(C)},kg=function(v){Ji(v,"width")},sO=function(v){var C=Xv(v);kc(v,Z.some(C),Z.none()),kg(v)},gk=function(v){var C=R5(v);kc(v,Z.some(C),Z.none()),kg(v)},Ax=function(v){as(v,"width");var C=ed(v),D=C.length>0?C:Lh(v);mt(D,function(P){as(P,"width"),kg(P)}),kg(v)},Yy=sO,Ex=gk,Ox=Ax,Ix=function(v){var C=yo.fromTable(v);yo.hasColumns(C)||mt(Lh(v),function(D){var P=Zf(D,"width");La(D,"width",P),Ji(D,"width")})},Dg=function(){var v=It.fromTag("div");return Bd(v,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Da(Vr(),v),v},vk=function(v,C){return v.inline?ux.body(Ol(v),Dg(),C):ux.only(It.fromDom(v.getDoc()),C)},za=function(v,C){v.inline&&Dl(C.parent())},Rx="bar-",Ka=function(v){return bc(v,"data-mce-resize")!=="false"},Px=function(v){var C=Z.none(),D=Z.none(),P=Z.none(),F,G,re=function(Xt){return Xt.nodeName==="TABLE"},de=function(){return D},Se=function(){return P.getOr(ux.only(It.fromDom(v.getBody()),Ka))},Le=function(Xt){return aS(v,Xt)},ot=function(){return Dx(v)?Up():tk()},Gt=function(Xt){return ld(Xt).columns},_n=function(Xt,Nn,Pn){var xr=et(Nn,"e");if(G===""&&Yy(Xt),Pn!==F&&G!==""){La(Xt,"width",G);var qo=ot(),Ar=Le(Xt),Gr=Dx(v)||xr?Gt(Xt)-1:0;P_(Xt,Pn-F,Gr,qo,Ar)}else if(L5(G)){var Po=parseFloat(G.replace("%","")),xo=Pn*Po/F;La(Xt,"width",xo+"%")}Hy(G)&&Ix(Xt)},sn=function(){D.each(function(Xt){Xt.destroy()}),P.each(function(Xt){za(v,Xt)})};return v.on("init",function(){var Xt=vk(v,Ka);if(P=Z.some(Xt),rS(v)&&Tx(v)){var Nn=ot(),Pn=ck.create(Xt,Nn,Le);Pn.on(),Pn.events.startDrag.bind(function(xr){C=Z.some(v.selection.getRng())}),Pn.events.beforeResize.bind(function(xr){var qo=xr.table.dom;Zp(v,qo,id(qo),Xh(qo),Rx+xr.type)}),Pn.events.afterResize.bind(function(xr){var qo=xr.table,Ar=qo.dom;$u(qo),C.each(function(Gr){v.selection.setRng(Gr),v.focus()}),fk(v,Ar,id(Ar),Xh(Ar),Rx+xr.type),v.undoManager.add()}),D=Z.some(Pn)}}),v.on("ObjectResizeStart",function(Xt){var Nn=Xt.target;if(re(Nn)){var Pn=It.fromDom(Nn);mt(v.dom.select(".mce-clonedresizable"),function(xr){v.dom.addClass(xr,"mce-"+kx(v)+"-columns")}),!qp(Pn)&&s0(v)?Ex(Pn):!ok(Pn)&&Xy(v)&&Yy(Pn),Uy(Pn)&&er(Xt.origin,Rx)&&Yy(Pn),F=Xt.width,G=em(v)?"":Zv(v,Nn).getOr("")}}),v.on("ObjectResized",function(Xt){var Nn=Xt.target;if(re(Nn)){var Pn=It.fromDom(Nn),xr=Xt.origin;er(xr,"corner-")&&_n(Pn,xr,Xt.width),$u(Pn),dl(v,Pn.dom,Sx)}}),v.on("SwitchMode",function(){de().each(function(Xt){v.mode.isReadOnly()?Xt.hideBars():Xt.showBars()})}),{lazyResize:de,lazyWire:Se,destroy:sn}},l0=function(v,C){return{element:v,offset:C}},Nx=function(v,C,D){return v.property().isText(C)&&v.property().getText(C).trim().length===0||v.property().isComment(C)?D(C).bind(function(P){return Nx(v,P,D).orThunk(function(){return Z.some(P)})}):Z.none()},c0=function(v,C){if(v.property().isText(C))return v.property().getText(C).length;var D=v.property().children(C);return D.length},yk=function(v,C){var D=Nx(v,C,v.query().prevSibling).getOr(C);if(v.property().isText(D))return l0(D,c0(v,D));var P=v.property().children(D);return P.length>0?yk(v,P[P.length-1]):l0(D,c0(v,D))},bk=yk,lO=Ay(),cO=function(v){return bk(lO,v)},xk=function(v,C){var D=wu(v,"colspan");if(D===1){var P=$v(v);P.each(function(F){var G=F.value/2;Gv(v,G,F.unit),Gv(C,G,F.unit)})}},Lx=ua("th"),Bx=function(v){return Ye(v,function(C){return Lx(C.element)})},fO=function(v,C){return v&&C?"sectionCells":v?"section":"cells"},wk=function(v){var C=v.section==="thead",D=Jf(uS(v.cells),"th");return C||D?{type:"header",subType:fO(C,D)}:v.section==="tfoot"?{type:"footer"}:{type:"body"}},uS=function(v){var C=Ot(v,function(D){return Lx(D.element)});return C.length===0?Z.some("td"):C.length===v.length?Z.some("th"):Z.none()},_k=function(v){var C=$e(v,function(G){return wk(G).type}),D=tt(C,"header"),P=tt(C,"footer");if(!D&&!P)return Z.some("body");var F=tt(C,"body");return D&&!F&&!P?Z.some("header"):!D&&!F&&P?Z.some("footer"):Z.none()},dO=function(v){return Mn(v.all,function(C){var D=wk(C);return D.type==="header"?Z.from(D.subType):Z.none()})},hs=function(v,C,D){return qa(D(v.element,C),!0,v.isLocked)},Ag=function(v,C){return v.section!==C?Vs(v.element,v.cells,C,v.isNew):v},sS=function(){return{transformRow:Ag,transformCell:function(v,C,D){var P=D(v.element,C),F=Oo(P)!=="td"?M5(P,"td"):P;return qa(F,v.isNew,v.isLocked)}}},Sk=function(){return{transformRow:Ag,transformCell:hs}},f0=function(){return{transformRow:function(v,C){var D=C==="thead"?"tbody":C;return Ag(v,D)},transformCell:hs}},Ck=function(){return{transformRow:z,transformCell:hs}},hO=function(v,C){var D=yo.fromTable(v),P=dO(D).getOr(C);switch(P){case"section":return sS();case"sectionCells":return Sk();case"cells":return f0()}},Ky={getTableSectionType:hO,section:sS,sectionCells:Sk,cells:f0,fallback:Ck},Jy=function(v,C,D,P){D===P?Ji(v,C):xu(v,C,D)},tm=function(v,C,D){Bt(so(v,C)).fold(function(){return ss(v,D)},function(P){return zi(P,D)})},zx=function(v,C){var D=Ur(v,C).getOrThunk(function(){var P=It.fromTag(C,Ul(v).dom);return C==="thead"?tm(v,"caption,colgroup",P):C==="colgroup"?tm(v,"caption",P):Da(v,P),P});return ky(D),D},Fx=function(v,C){var D=[],P=[],F=function(sn){return $e(sn,function(Xt){Xt.isNew&&D.push(Xt.element);var Nn=Xt.element;return ky(Nn),mt(Xt.cells,function(Pn){Pn.isNew&&P.push(Pn.element),Jy(Pn.element,"colspan",Pn.colspan,1),Jy(Pn.element,"rowspan",Pn.rowspan,1),Da(Nn,Pn.element)}),Nn})},G=function(sn){return Ue(sn,function(Xt){return $e(Xt.cells,function(Nn){return Jy(Nn.element,"span",Nn.colspan,1),Nn.element})})},re=function(sn,Xt){var Nn=zx(v,Xt),Pn=Xt==="colgroup"?G:F,xr=Pn(sn);td(Nn,xr)},de=function(sn){Ur(v,sn).each(Dl)},Se=function(sn,Xt){sn.length>0?re(sn,Xt):de(Xt)},Le=[],ot=[],Gt=[],_n=[];return mt(C,function(sn){switch(sn.section){case"thead":Le.push(sn);break;case"tbody":ot.push(sn);break;case"tfoot":Gt.push(sn);break;case"colgroup":_n.push(sn);break}}),Se(_n,"colgroup"),Se(Le,"thead"),Se(ot,"tbody"),Se(Gt,"tfoot"),{newRows:D,newCells:P}},Vx=function(v){return $e(v,function(C){var D=vf(C.element);return mt(C.cells,function(P){var F=mi(P.element);Jy(F,"colspan",P.colspan,1),Jy(F,"rowspan",P.rowspan,1),Da(D,F)}),D})},pO=function(v,C){return $e(v,function(D){return al(D,C)})},Qh=function(v,C){return v[C]},Hx=function(v,C){if(v.length===0)return 0;var D=v[0],P=Fe(v,function(F){return!C(D.element,F.element)});return P.getOr(v.length)},mO=function(v,C,D,P){var F=Qh(v,C),G=F.section==="colgroup",re=Hx(F.cells.slice(D),P),de=G?1:Hx(pO(v.slice(C),D),P);return{colspan:re,rowspan:de}},nm=function(v,C){var D=$e(v,function(F){return $e(F.cells,ae)}),P=function(F,G,re,de){for(var Se=F;Se<F+re;Se++)for(var Le=G;Le<G+de;Le++)D[Se][Le]=!0};return $e(v,function(F,G){var re=Ue(F.cells,function(de,Se){if(D[G][Se]===!1){var Le=mO(v,G,Se,C);return P(G,Se,Le.rowspan,Le.colspan),[uo(de.element,Le.rowspan,Le.colspan,de.isNew)]}else return[]});return rl(F.element,re,F.section,F.isNew)})},rm=function(v,C,D){var P=[];mt(v.colgroups,function(ot){for(var Gt=[],_n=0;_n<v.grid.columns;_n++){var sn=yo.getColumnAt(v,_n).map(function(Xt){return qa(Xt.element,D,!1)}).getOrThunk(function(){return qa(C.colGap(),!0,!1)});Gt.push(sn)}P.push(Vs(ot.element,Gt,"colgroup",D))});for(var F=0;F<v.grid.rows;F++){for(var G=[],re=0;re<v.grid.columns;re++){var de=yo.getAt(v,F,re).map(function(ot){return qa(ot.element,D,ot.isLocked)}).getOrThunk(function(){return qa(C.gap(),!0,!1)});G.push(de)}var Se=v.all[F],Le=Vs(Se.element,G,Se.section,D);P.push(Le)}return P},Tk=function(v,C){return rm(v,C,!1)},Zy=function(v){return nm(v,ro)},lS=function(v,C){return Mn(v.all,function(D){return Je(D.cells,function(P){return ro(C,P.element)})})},jx=function(v,C,D){var P=$e(C.selection,function(G){return Qf(G).bind(function(re){return lS(v,re)}).filter(D)}),F=fu(P);return Oi(F.length>0,F)},Ju=function(v,C,D,P,F){return function(G,re,de,Se,Le){var ot=yo.fromTable(re),Gt=Z.from(Le==null?void 0:Le.section).getOrThunk(Ky.fallback),_n=C(ot,de).map(function(sn){var Xt=Tk(ot,Se),Nn=v(Xt,sn,ro,F(Se),Gt),Pn=us(Nn.grid),xr=Zy(Nn.grid);return{info:sn,grid:xr,cursor:Nn.cursor,lockedColumns:Pn}});return _n.bind(function(sn){var Xt=Fx(re,sn.grid),Nn=Z.from(Le==null?void 0:Le.sizing).getOrThunk(function(){return qh.getTableSize(re)}),Pn=Z.from(Le==null?void 0:Le.resize).getOrThunk(Up);return D(re,sn.grid,sn.info,{sizing:Nn,resize:Pn,section:Gt}),P(re),Cu(G,re),Ji(re,tu),sn.lockedColumns.length>0&&xu(re,tu,sn.lockedColumns.join(",")),Z.some({cursor:sn.cursor,newRows:Xt.newRows,newCells:Xt.newCells})})}},gO=function(v,C){return Qf(C.element).bind(function(D){return lS(v,D).map(function(P){var F=Qt(Qt({},P),{generators:C.generators,clipboard:C.clipboard});return F})})},Wx=function(v,C){return jx(v,C,te).map(function(D){return{cells:D,generators:C.generators,clipboard:C.clipboard}})},Mk=function(v,C){return C.mergable},vO=function(v,C){return C.unmergable},Mf=function(v,C){return jx(v,C,te)},ep=function(v,C){return jx(v,C,function(D){return!D.isLocked})},yO=function(v,C){return lS(v,C).exists(function(D){return!D.isLocked})},cS=function(v,C){return Ye(C,function(D){return yO(v,D)})},fS=function(v,C){return Mk(v,C).filter(function(D){return cS(v,D.cells)})},Eg=function(v,C){return vO(v,C).filter(function(D){return cS(v,D)})},kk=function(v,C,D,P){var F=$a(v).rows;if(F.length===0)return v;for(var G=C.startRow;G<=C.finishRow;G++)for(var re=C.startCol;re<=C.finishCol;re++){var de=F[G],Se=al(de,re).isLocked;zd(de,re,qa(P(),!1,Se))}return v},d0=function(v,C,D,P){for(var F=$a(v).rows,G=!0,re=0;re<F.length;re++)for(var de=0;de<wc(F[0]);de++){var Se=F[re],Le=al(Se,de),ot=Le.element,Gt=D(ot,C);Gt===!0&&G===!1?zd(Se,de,qa(P(),!0,Le.isLocked)):Gt===!0&&(G=!1)}return v},bO=function(v,C){return fe(v,function(D,P){return $(D,function(F){return C(F.element,P.element)})?D:D.concat([P])},[])},xO=function(v,C,D,P){return C>0&&C<v[0].cells.length&&mt(v,function(F){var G=F.cells[C-1],re=F.cells[C],de=D(re.element,G.element);de&&zd(F,C,qa(P(),!0,re.isLocked))}),v},wO=function(v,C,D,P){var F=$a(v).rows;if(C>0&&C<F.length){var G=F[C-1].cells,re=bO(G,D);mt(re,function(de){for(var Se=Z.none(),Le=C;Le<F.length;Le++)for(var ot=function(_n){var sn=F[Le],Xt=al(sn,_n),Nn=D(Xt.element,de.element);Nn&&(Se.isNone()&&(Se=Z.some(P())),Se.each(function(Pn){zd(sn,_n,qa(Pn,!0,Xt.isLocked))}))},Gt=0;Gt<wc(F[0]);Gt++)ot(Gt)})}return v},h0=function(v){var C=function(Gt){return h0(v)},D=function(Gt){return h0(v)},P=function(Gt){return h0(Gt(v))},F=function(Gt){return h0(v)},G=function(Gt){Gt(v)},re=function(Gt){return Gt(v)},de=function(Gt,_n){return _n(v)},Se=function(Gt){return Gt(v)},Le=function(Gt){return Gt(v)},ot=function(){return Z.some(v)};return{isValue:te,isError:ae,getOr:I(v),getOrThunk:I(v),getOrDie:I(v),or:C,orThunk:D,fold:de,map:P,mapError:F,each:G,bind:re,exists:Se,forall:Le,toOptional:ot}},Og=function(v){var C=function(Le){return Le()},D=function(){return Y(String(v))()},P=z,F=function(Le){return Le()},G=function(Le){return Og(v)},re=function(Le){return Og(Le(v))},de=function(Le){return Og(v)},Se=function(Le,ot){return Le(v)};return{isValue:ae,isError:te,getOr:z,getOrThunk:C,getOrDie:D,or:P,orThunk:F,fold:Se,map:G,mapError:re,each:k,bind:de,exists:ae,forall:te,toOptional:Z.none}},dS=function(v,C){return v.fold(function(){return Og(C)},h0)},Dk={value:h0,error:Og,fromOption:dS},_O=function(v,C,D){if(v.row>=C.length||v.column>wc(C[0]))return Dk.error("invalid start address out of table bounds, row: "+v.row+", column: "+v.column);var P=C.slice(v.row),F=P[0].cells.slice(v.column),G=wc(D[0]),re=D.length;return Dk.value({rowDelta:P.length-re,colDelta:F.length-G})},Ak=function(v,C){var D=wc(v[0]),P=wc(C[0]);return{rowDelta:0,colDelta:D-P}},Ek=function(v,C){var D=v.length,P=C.length;return{rowDelta:D-P,colDelta:0}},hS=function(v,C,D,P){var F=C.section==="colgroup"?D.col:D.cell;return Ze(v,function(G){return qa(F(),!0,P(G))})},SO=function(v,C,D,P){var F=v[v.length-1];return v.concat(Ze(C,function(){var G=F.section==="colgroup"?D.colgroup:D.row,re=_u(F,G,z),de=hS(re.cells.length,re,D,function(Se){return we(P,Se.toString())});return Xr(re,de)}))},Ux=function(v,C,D,P){return $e(v,function(F){var G=hS(C,F,D,ae);return Bh(F,P,G)})},CO=function(v,C,D){return $e(v,function(P){return fe(D,function(F,G){var re=hS(1,P,C,te)[0];return zh(F,G,re)},P)})},Qy=function(v,C,D){var P=C.colDelta<0?Ux:z,F=C.rowDelta<0?SO:z,G=us(v),re=wc(v[0]),de=$(G,function(ot){return ot===re-1}),Se=P(v,Math.abs(C.colDelta),D,de?re-1:re),Le=us(Se);return F(Se,Math.abs(C.rowDelta),D,Ft(Le,te))},TO=function(v,C,D,P){var F=al(v[C],D),G=q(P,F.element),re=v[C];return v.length>1&&wc(re)>1&&(D>0&&G(Ms(re,D-1))||D<re.cells.length-1&&G(Ms(re,D+1))||C>0&&G(Ms(v[C-1],D))||C<v.length-1&&G(Ms(v[C+1],D)))},pS=function(v,C,D,P,F,G){for(var re=v.row,de=v.column,Se=D.length,Le=wc(D[0]),ot=re+Se,Gt=de+Le+G.length,_n=Ft(G,te),sn=re;sn<ot;sn++)for(var Xt=0,Nn=de;Nn<Gt;Nn++){if(_n[Nn]){Xt++;continue}TO(C,sn,Nn,F)&&d0(C,Ms(C[sn],Nn),F,P.cell);var Pn=Nn-de-Xt,xr=al(D[sn-re],Pn),qo=xr.element,Ar=P.replace(qo);zd(C[sn],Nn,qa(Ar,!0,xr.isLocked))}return C},MO=function(v,C,D){var P=wc(C[0]),F=$a(C).cols.length+v.row,G=Ze(P-v.column,function(de){return de+v.column}),re=Je(G,function(de){return Ye(D,function(Se){return Se!==de})}).getOr(P-1);return{row:F,column:re}},Ok=function(v,C,D){return Ot(D,function(P){return P>=v.column&&P<=wc(C[0])+v.column})},kO=function(v,C,D,P,F){var G=us(C),re=MO(v,C,G),de=$a(D).rows,Se=Ok(re,de,G),Le=_O(re,C,de);return Le.map(function(ot){var Gt=Qt(Qt({},ot),{colDelta:ot.colDelta-Se.length}),_n=Qy(C,Gt,P),sn=us(_n),Xt=Ok(re,de,sn);return pS(re,_n,de,P,F,Xt)})},p0=function(v,C,D,P,F){xO(C,v,F,P.cell);var G=Ek(D,C),re=Qy(D,G,P),de=Ek(C,re),Se=Qy(C,de,P);return $e(Se,function(Le,ot){return Bh(Le,v,re[ot].cells)})},Ik=function(v,C,D,P,F){wO(C,v,F,P.cell);var G=us(C),re=Ak(C,D),de=Qt(Qt({},re),{colDelta:re.colDelta-G.length}),Se=Qy(C,de,P),Le=$a(Se),ot=Le.cols,Gt=Le.rows,_n=us(Se),sn=Ak(D,C),Xt=Qt(Qt({},sn),{colDelta:sn.colDelta+_n.length}),Nn=CO(D,P,_n),Pn=Qy(Nn,Xt,P);return ot.concat(Gt.slice(0,v)).concat(Pn).concat(Gt.slice(v,Gt.length))},DO=function(v,C,D,P){return _u(v,function(F){return P(F,D)},C)},mS=function(v,C,D,P,F){var G=$a(v),re=G.rows,de=G.cols,Se=re.slice(0,C),Le=re.slice(C),ot=DO(re[D],function(Gt,_n){var sn=C>0&&C<re.length&&P(Ms(re[C-1],_n),Ms(re[C],_n)),Xt=sn?al(re[C],_n):qa(F(Gt.element,P),!0,Gt.isLocked);return Xt},P,F);return de.concat(Se).concat([ot]).concat(Le)},gS=function(v,C,D,P,F,G,re){if(D==="colgroup"||!P){var de=al(v,F);return qa(re(de.element,G),!0,!1)}else return al(v,C)},qx=function(v,C,D,P,F){return $e(v,function(G){var re=C>0&&C<wc(G)&&P(Ms(G,C-1),Ms(G,C)),de=gS(G,C,G.section,re,D,P,F);return zh(G,C,de)})},Rk=function(v,C){return Ue(v,function(D){var P=D.cells,F=Nt(C,function(G,re){return re>=0&&re<G.length?G.slice(0,re).concat(G.slice(re+1)):G},P);return F.length>0?[Vs(D.element,F,D.section,D.isNew)]:[]})},Pk=function(v,C,D){var P=$a(v),F=P.rows,G=P.cols;return G.concat(F.slice(0,C)).concat(F.slice(D+1))},m0=function(v,C,D,P){return Ms(v[C],D)!==void 0&&C>0&&P(Ms(v[C-1],D),Ms(v[C],D))},Nk=function(v,C,D){return C>0&&D(Ms(v,C-1),Ms(v,C))},Lk=function(v,C,D,P){return m0(v,C,D,P)||Nk(v[C],D,P)},AO=function(v,C){var D=Ye(C,z)&&Bx(v.cells);return D?te:function(P,F,G){var re=Oo(P.element);return!(re==="th"&&C[G])}},EO=function(v,C){var D=Ye(C,z)&&Bx(v);return D?te:function(P,F,G){var re=Oo(P.element);return!(re==="th"&&C[F])}},vS=function(v,C,D,P){var F=function(de){return de==="row"?qb(C):rg(C)},G=function(de){return F(de)?de+"group":de};if(v)return Lx(C)?G(D):null;if(P&&Lx(C)){var re=D==="row"?"col":"row";return G(re)}else return null},Ig=function(v,C){return function(D,P,F){return Z.some(vS(v,D.element,"col",C[F]))}},$x=function(v,C){return function(D,P){return Z.some(vS(v,D.element,"row",C[P]))}},Bk=function(v,C,D){return qa(D(v.element,C),!0,v.isLocked)},Gx=function(v,C,D,P,F,G,re){var de=function(Se){return $(C,function(Le){return D(Se.element,Le.element)})};return $e(v,function(Se,Le){return xc(Se,function(ot,Gt){if(de(ot)){var _n=re(ot,Le,Gt)?F(ot,D,P):ot;return G(_n,Le,Gt).each(function(sn){Eh(_n.element,{scope:Z.from(sn)})}),_n}else return ot})})},zk=function(v,C,D){return Ue(v,function(P,F){return Lk(v,F,C,D)?[]:[al(P,C)]})},OO=function(v,C,D){var P=v[C];return Ue(P.cells,function(F,G){return Lk(v,C,G,D)?[]:[F]})},yS=function(v,C,D,P,F){var G=$a(v).rows,re=Ue(C,function(ot){return zk(G,ot,P)}),de=$e(v,function(ot){return Bx(ot.cells)}),Se=EO(re,de),Le=$x(D,de);return Gx(v,re,P,F,Bk,Le,Se)},IO=function(v,C,D,P,F,G,re){var de=$a(v),Se=de.cols,Le=de.rows,ot=Le[C[0]],Gt=Ue(C,function(xr){return OO(Le,xr,F)}),_n=$e(ot.cells,function(xr,qo){return Bx(zk(Le,qo,F))}),sn=Zn([],Le,!0);mt(C,function(xr){sn[xr]=re.transformRow(Le[xr],D)});var Xt=Se.concat(sn),Nn=AO(ot,_n),Pn=Ig(P,_n);return Gx(Xt,Gt,F,G,re.transformCell,Pn,Nn)},Fk=function(v,C,D,P){var F=$a(v).rows,G=$e(C,function(re){return al(F[re.row],re.column)});return Gx(v,G,D,P,Bk,Z.none,te)},Rg=function(v){var C=function(D,P){var F=$(D,function(G){return G.column===P.column});return F?D:D.concat([P])};return fe(v,C,[]).sort(function(D,P){return D.column-P.column})},Ru=ua("col"),om=ua("colgroup"),Xx=function(v){return Oo(v)==="tr"||om(v)},RO=function(v){var C=Nc(v,"colspan",1),D=Nc(v,"rowspan",1);return{element:v,colspan:C,rowspan:D}},Vk=function(v,C){C===void 0&&(C=RO);var D=function(de){return Ru(de.element)?v.col(de):v.cell(de)},P=function(de){return om(de.element)?v.colgroup(de):v.row(de)},F=function(de){if(Xx(de))return P({element:de});var Se=D(C(de));return G=Z.some({item:de,replacement:Se}),Se},G=Z.none(),re=function(de,Se){return G.fold(function(){return F(de)},function(Le){return Se(de,Le.item)?Le.replacement:F(de)})};return{getOrInit:re}},Hk=function(v){return function(C){var D=[],P=function(re,de){return Je(D,function(Se){return de(Se.item,re)})},F=function(re){var de=v==="td"?{scope:null}:{},Se=C.replace(re,v,de);return D.push({item:re,sub:Se}),Se},G=function(re,de){return Xx(re)||Ru(re)?re:P(re,de).fold(function(){return F(re)},function(Se){return de(re,Se.item)?Se.sub:F(re)})};return{replaceOrInit:G}}},bS=function(v){return ri(v,"scope").map(function(C){return C.substr(0,3)})},xS=function(v){var C=function(P){var F=bS(P);return F.each(function(G){return xu(P,"scope",G)}),function(){var G=v.cell({element:P,colspan:1,rowspan:1});return as(G,"width"),as(P,"width"),F.each(function(re){return xu(G,"scope",re)}),G}},D=function(P){var F=function(){var G=fu($e(P,bS));if(G.length===0)return Z.none();var re=G[0],de=["row","col"],Se=$(G,function(Le){return Le!==re&&tt(de,Le)});return Se?Z.none():Z.from(re)};return as(P[0],"width"),F().fold(function(){return Ji(P[0],"scope")},function(G){return xu(P[0],"scope",G+"group")}),I(P[0])};return{unmerge:C,merge:D}},oc={modification:Vk,transform:Hk,merging:xS},tp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Pg=function(v,C){var D=v.property().name(C);return tt(["ol","ul"],D)},e1=function(v,C){var D=v.property().name(C);return tt(tp,D)},Ng=function(v,C){return tt(["br","img","hr","input"],v.property().name(C))},Jd=Ay(),kf=function(v){return e1(Jd,v)},g0=function(v){return Pg(Jd,v)},wS=function(v){return Ng(Jd,v)},jk=function(v){var C=function(Se){return Oo(Se)==="br"},D=function(Se){return Ye(Se,function(Le){return C(Le)||is(Le)&&Gb(Le).trim().length===0})},P=function(Se){return Oo(Se)==="li"||wa(Se,g0).isSome()},F=function(Se){return U(Se).map(function(Le){return kf(Le)?!0:wS(Le)?Oo(Le)!=="img":!1}).getOr(!1)},G=function(Se){return nx(Se).bind(function(Le){var ot=F(Le);return sa(Le).map(function(Gt){return ot===!0||P(Gt)||C(Le)||kf(Gt)&&!ro(Se,Gt)?[]:[It.fromTag("br")]})}).getOr([])},re=function(){var Se=Ue(v,function(Le){var ot=V(Le);return D(ot)?[]:ot.concat(G(Le))});return Se.length===0?[It.fromTag("br")]:Se},de=re();ky(v[0]),td(v[0],de)},Yx=function(v){return i0(v,!0)},Lg=function(v){var C=Lh(v);C.length===0&&Dl(v)},np=function(v,C){return{grid:v,cursor:C}},Kx=function(v){return Mn(v,function(C){return Mn(C.cells,function(D){var P=D.element;return Oi(Yx(P),P)})})},_S=function(v,C,D){var P,F,G=$a(v).rows;return Z.from((F=(P=G[C])===null||P===void 0?void 0:P.cells[D])===null||F===void 0?void 0:F.element).filter(Yx).orThunk(function(){return Kx(G)})},Zu=function(v,C,D){var P=_S(v,C,D);return np(v,P)},im=function(v){var C=function(D,P){var F=$(D,function(G){return G.row===P.row});return F?D:D.concat([P])};return fe(v,C,[]).sort(function(D,P){return D.row-P.row})},Wk=function(v,C,D,P){var F=C[0].row,G=im(C),re=Nt(G,function(de,Se){var Le=mS(de.grid,F,Se.row+de.delta,D,P.getOrInit);return{grid:Le,delta:de.delta+1}},{grid:v,delta:0}).grid;return Zu(re,F,C[0].column)},SS=function(v,C,D,P){var F=im(C),G=F[F.length-1],re=G.row+G.rowspan,de=Nt(F,function(Se,Le){return mS(Se,re,Le.row,D,P.getOrInit)},v);return Zu(de,re,C[0].column)},Jx=function(v,C,D,P){var F=C.details,G=Rg(F),re=G[0].column,de=Nt(G,function(Se,Le){var ot=qx(Se.grid,re,Le.column+Se.delta,D,P.getOrInit);return{grid:ot,delta:Se.delta+1}},{grid:v,delta:0}).grid;return Zu(de,F[0].row,re)},ps=function(v,C,D,P){var F=C.details,G=F[F.length-1],re=G.column+G.colspan,de=Rg(F),Se=Nt(de,function(Le,ot){return qx(Le,re,ot.column,D,P.getOrInit)},v);return Zu(Se,F[0].row,re)},PO=function(v,C,D,P){var F=Rg(C),G=$e(F,function(de){return de.column}),re=yS(v,G,!0,D,P.replaceOrInit);return Zu(re,C[0].row,C[0].column)},Zd=function(v,C,D,P){var F=Fk(v,C,D,P.replaceOrInit);return Zu(F,C[0].row,C[0].column)},Uk=function(v,C,D,P){var F=Rg(C),G=$e(F,function(de){return de.column}),re=yS(v,G,!1,D,P.replaceOrInit);return Zu(re,C[0].row,C[0].column)},CS=function(v,C,D,P){var F=Fk(v,C,D,P.replaceOrInit);return Zu(F,C[0].row,C[0].column)},am=function(v,C){return function(D,P,F,G,re){var de=im(P),Se=$e(de,function(ot){return ot.row}),Le=IO(D,Se,v,C,F,G.replaceOrInit,re);return Zu(Le,P[0].row,P[0].column)}},qk=am("thead",!0),Zx=am("tbody",!1),$k=am("tfoot",!1),TS=function(v,C,D,P){var F=Rg(C.details),G=Rk(v,$e(F,function(de){return de.column})),re=G.length>0?G[0].cells.length-1:0;return Zu(G,F[0].row,Math.min(F[0].column,re))},Gk=function(v,C,D,P){var F=im(C),G=Pk(v,F[0].row,F[F.length-1].row),re=G.length>0?G.length-1:0;return Zu(G,Math.min(C[0].row,re),C[0].column)},NO=function(v,C,D,P){var F=C.cells;jk(F);var G=kk(v,C.bounds,D,P.merge(F));return np(G,Z.from(F[0]))},MS=function(v,C,D,P){var F=function(re,de){return d0(re,de,D,P.unmerge(de))},G=Nt(C,F,v);return np(G,Z.from(C[0]))},fd=function(v,C,D,P){var F=function(Se,Le){var ot=yo.fromTable(Se);return rm(ot,Le,!0)},G=F(C.clipboard,C.generators),re=jo(C.row,C.column),de=kO(re,v,G,C.generators,D);return de.fold(function(){return np(v,Z.some(C.element))},function(Se){return Zu(Se,C.row,C.column)})},Qx=function(v,C,D){var P=Ty(v,D.section),F=yo.generate(P);return rm(F,C,!0)},hl=function(v,C,D,P){var F=$a(v).rows,G=C.cells[0].column,re=F[C.cells[0].row],de=Qx(C.clipboard,C.generators,re),Se=p0(G,v,de,C.generators,D);return Zu(Se,C.cells[0].row,C.cells[0].column)},t1=function(v,C,D,P){var F=$a(v).rows,G=C.cells[C.cells.length-1].column+C.cells[C.cells.length-1].colspan,re=F[C.cells[0].row],de=Qx(C.clipboard,C.generators,re),Se=p0(G,v,de,C.generators,D);return Zu(Se,C.cells[0].row,C.cells[0].column)},n1=function(v,C,D,P){var F=$a(v).rows,G=C.cells[0].row,re=F[G],de=Qx(C.clipboard,C.generators,re),Se=Ik(G,v,de,C.generators,D);return Zu(Se,C.cells[0].row,C.cells[0].column)},kS=function(v,C,D,P){var F=$a(v).rows,G=C.cells[C.cells.length-1].row+C.cells[C.cells.length-1].rowspan,re=F[C.cells[0].row],de=Qx(C.clipboard,C.generators,re),Se=Ik(G,v,de,C.generators,D);return Zu(Se,C.cells[0].row,C.cells[0].column)},LO=function(v,C){var D=yo.fromTable(v),P=Mf(D,C);return P.bind(function(F){var G=F[F.length-1],re=F[0].column,de=G.column+G.colspan,Se=St($e(D.all,function(Le){return Ot(Le.cells,function(ot){return ot.column>=re&&ot.column<de})}));return uS(Se)}).getOr("")},Xk=function(v,C){var D=yo.fromTable(v),P=Mf(D,C);return P.bind(uS).getOr("")},Os=function(v,C){var D=yo.fromTable(v),P=Mf(D,C);return P.bind(function(F){var G=F[F.length-1],re=F[0].row,de=G.row+G.rowspan,Se=D.all.slice(re,de);return _k(Se)}).getOr("")},Bg=function(v,C,D,P){return ll(v,C,D,P.sizing)},r1=function(v,C,D,P){return U5(v,C,D,P.sizing,P.resize)},jc=function(v,C){return $(C,function(D){return D.column===0&&D.isLocked})},Wc=function(v,C){return $(C,function(D){return D.column+D.colspan>=v.grid.columns&&D.isLocked})},Uc=function(v,C){var D=ag(v),P=Rg(C);return fe(P,function(F,G){var re=D[G.column],de=re.map(Ds).getOr(0);return F+de},0)},pl=function(v){return function(C,D){return Mf(C,D).filter(function(P){var F=v?jc:Wc;return!F(C,P)}).map(function(P){return{details:P,pixelDelta:Uc(C,P)}})}},dd=function(v,C){return ep(v,C).map(function(D){return{details:D,pixelDelta:-Uc(v,D)}})},ew=function(v){return function(C,D){return Wx(C,D).filter(function(P){var F=v?jc:Wc;return!F(C,P.cells)})}},qc=oc.transform("th"),hd=oc.transform("td"),BO=Ju(Wk,Mf,k,k,oc.modification),zO=Ju(SS,Mf,k,k,oc.modification),Yk=Ju(Jx,pl(!0),r1,k,oc.modification),Kk=Ju(ps,pl(!1),r1,k,oc.modification),Jk=Ju(TS,dd,r1,Lg,oc.modification),Zk=Ju(Gk,Mf,k,Lg,oc.modification),FO=Ju(PO,ep,k,k,qc),VO=Ju(Uk,ep,k,k,hd),Qk=Ju(qk,ep,k,k,qc),HO=Ju(Zx,ep,k,k,hd),DS=Ju($k,ep,k,k,hd),eD=Ju(Zd,ep,k,k,qc),AS=Ju(CS,ep,k,k,hd),tD=Ju(NO,fS,Bg,k,oc.merging),jO=Ju(MS,Eg,Bg,k,oc.merging),WO=Ju(fd,gO,Bg,k,oc.modification),UO=Ju(hl,ew(!0),k,k,oc.modification),Lo=Ju(t1,ew(!1),k,k,oc.modification),zg=Ju(n1,Wx,k,k,oc.modification),v0=Ju(kS,Wx,k,k,oc.modification),ic=LO,qO=Xk,um=Os,y0=function(v,C,D){var P=function(gs){return Oo(Ol(gs))==="table"},F=function(gs){return P(v)===!1||ld(gs).rows>1},G=function(gs){return P(v)===!1||ld(gs).columns>1},re=nS(v),de=mk(v)?k:xk,Se=function(gs){switch(tS(v)){case"section":return Ky.section();case"sectionCells":return Ky.sectionCells();case"cells":return Ky.cells();default:return Ky.getTableSectionType(gs,"section")}},Le=function(gs,P1){return P1.cursor.fold(function(){var ev=Lh(gs);return Xe(ev).filter(Jr).map(function(gd){C.clear(gs);var Yc=v.dom.createRng();return Yc.selectNode(gd.dom),v.selection.setRng(Yc),xu(gd,"data-mce-selected","1"),Yc})},function(ev){var gd=cO(ev),Yc=v.dom.createRng();return Yc.setStart(gd.element.dom,gd.offset),Yc.setEnd(gd.element.dom,gd.offset),v.selection.setRng(Yc),C.clear(gs),Z.some(Yc)})},ot=function(gs,P1,ev,gd,Yc){return function(vd,N1,F0){F0===void 0&&(F0=!1),$u(vd);var L1=gd(),tv=It.fromDom(v.getDoc()),Of=ha(ev,tv,re),nv={sizing:aS(v,vd),resize:mk(v)?tk():Up(),section:Se(vd)};return P1(vd)?gs(L1,vd,N1,Of,nv).bind(function(zw){mt(zw.newRows,function(B1){xx(v,B1.dom)}),mt(zw.newCells,function(B1){Jh(v,B1.dom)});var Fw=Le(vd,zw);return Jr(vd)&&($u(vd),F0||dl(v,vd.dom,Yc)),Fw.map(function(B1){return{rng:B1,effect:Yc}})}):Z.none()}},Gt=ot(Zk,F,k,D,Tu),_n=ot(Jk,G,k,D,Tu),sn=ot(BO,te,k,D,Tu),Xt=ot(zO,te,k,D,Tu),Nn=ot(Yk,te,de,D,Tu),Pn=ot(Kk,te,de,D,Tu),xr=ot(tD,te,k,D,Tu),qo=ot(jO,te,k,D,Tu),Ar=ot(UO,te,k,D,Tu),Gr=ot(Lo,te,k,D,Tu),Po=ot(zg,te,k,D,Tu),xo=ot(v0,te,k,D,Tu),Fa=ot(WO,te,k,D,dk),Lu=ot(eD,te,k,D,Tu),Xs=ot(AS,te,k,D,Tu),Yo=ot(FO,te,k,D,Tu),eo=ot(VO,te,k,D,Tu),Fo=ot(Qk,te,k,D,Tu),bi=ot(HO,te,k,D,Tu),pa=ot(DS,te,k,D,Tu),ah=qO,gi=ic,uc=um;return{deleteRow:Gt,deleteColumn:_n,insertRowsBefore:sn,insertRowsAfter:Xt,insertColumnsBefore:Nn,insertColumnsAfter:Pn,mergeCells:xr,unmergeCells:qo,pasteColsBefore:Ar,pasteColsAfter:Gr,pasteRowsBefore:Po,pasteRowsAfter:xo,pasteCells:Fa,makeCellsHeader:Lu,unmakeCellsHeader:Xs,makeColumnsHeader:Yo,unmakeColumnsHeader:eo,makeRowsHeader:Fo,makeRowsBody:bi,makeRowsFooter:pa,getTableRowType:uc,getTableCellType:ah,getTableColType:gi}},o1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},b0=function(){return It.fromTag("th")},nD=function(){return It.fromTag("td")},rD=function(){return It.fromTag("col")},ES=function(v,C,D,P){for(var F=It.fromTag("tr"),G=0;G<v;G++){var re=P<C||G<D?b0():nD();G<D&&xu(re,"scope","row"),P<C&&xu(re,"scope","col"),Da(re,It.fromTag("br")),Da(F,re)}return F},OS=function(v){var C=It.fromTag("colgroup");return Ze(v,function(){return Da(C,rD())}),C},Fg=function(v,C,D,P){return Ze(v,function(F){return ES(C,D,P,F)})},IS=function(v,C,D,P,F,G){G===void 0&&(G=o1);var re=It.fromTag("table"),de=F!=="cells";Bd(re,G.styles),eu(re,G.attributes),G.colGroups&&Da(re,OS(C));var Se=Math.min(v,D);if(de&&D>0){var Le=It.fromTag("thead");Da(re,Le);var ot=F==="sectionCells"?Se:0,Gt=Fg(D,C,ot,P);td(Le,Gt)}var _n=It.fromTag("tbody");Da(re,_n);var sn=de?v-Se:v,Xt=de?0:D,Nn=Fg(sn,C,Xt,P);return td(_n,Nn),re},$O=function(v){return v.dom.innerHTML},Qd=function(v){var C=It.fromTag("div"),D=It.fromDom(v.dom.cloneNode(!0));return Da(C,D),$O(C)},RS=function(v,C){v.selection.select(C.dom,!0),v.selection.collapse(!0)},tw=function(v,C){$l(C,"td,th").each(q(RS,v))},nw=function(v,C){mt(ql(C,"tr"),function(D){xx(v,D.dom),mt(ql(D,"th,td"),function(P){Jh(v,P.dom)})})},oD=function(v){return i(v)&&v.indexOf("%")!==-1},x0=function(v,C,D,P,F){var G=$y(v),re={styles:G,attributes:u0(v),colGroups:eS(v)};return v.undoManager.ignore(function(){var de=IS(D,C,F,P,tS(v),re);xu(de,"data-mce-id","__mce");var Se=Qd(de);v.insertContent(Se),v.addVisual()}),$l(Ol(v),'table[data-mce-id="__mce"]').map(function(de){return s0(v)?Ex(de):em(v)?Ox(de):(Xy(v)||oD(G.width))&&Yy(de),$u(de),Ji(de,"data-mce-id"),nw(v,de),tw(v,de),de.dom}).getOr(null)},iD=function(v,C,D,P,F){P===void 0&&(P={});var G=function(Se){return _(Se)&&Se>0};if(G(C)&&G(D)){var re=P.headerRows||0,de=P.headerColumns||0;return x0(v,D,C,de,re)}else return console.error(F),null},aD=function(v){return function(){return v().fold(function(){return[]},function(C){return $e(C,function(D){return D.dom})})}},pd=function(v){return function(C){var D=C.length>0?Z.some(Sf(C)):Z.none();v(D)}},Ac=function(v){return function(C,D,P){P===void 0&&(P={});var F=iD(v,D,C,P,"Invalid values for insertTable - rows and columns values are required to insert a table.");return v.undoManager.add(),F}},ms=function(v,C,D,P){return{insertTable:Ac(v),setClipboardRows:pd(C.setRows),getClipboardRows:aD(C.getRows),setClipboardCols:pd(C.setColumns),getClipboardCols:aD(C.getColumns),resizeHandler:D,selectionTargets:P}},uD=function(v,C,D){var P=Nc(v,C,1);D===1||P<=1?Ji(v,C):xu(v,C,Math.min(D,P))},PS=function(v,C,D){if(yo.hasColumns(v)){var P=Ot(yo.justColumns(v),function(re){return re.column>=C&&re.column<D}),F=$e(P,function(re){var de=mi(re.element);return uD(de,"span",D-C),de}),G=It.fromTag("colgroup");return td(G,F),[G]}else return[]},w0=function(v,C,D){return $e(v.all,function(P){var F=Ot(P.cells,function(de){return de.column>=C&&de.column<D}),G=$e(F,function(de){var Se=mi(de.element);return uD(Se,"colspan",D-C),Se}),re=It.fromTag("tr");return td(re,G),re})},sD=function(v,C){var D=yo.fromTable(v),P=ep(D,C);return P.map(function(F){var G=F[F.length-1],re=F[0].column,de=G.column+G.colspan,Se=PS(D,re,de),Le=w0(D,re,de);return Zn(Zn([],Se,!0),Le,!0)})},lD=function(v,C,D){var P=yo.fromTable(v),F=Mf(P,C);return F.bind(function(G){var re=rm(P,D,!1),de=$a(re).rows,Se=de.slice(G[0].row,G[G.length-1].row+G[G.length-1].rowspan),Le=Ue(Se,function(Gt){var _n=Ot(Gt.cells,function(sn){return!sn.isLocked});return _n.length>0?[Qt(Qt({},Gt),{cells:_n})]:[]}),ot=Zy(Le);return Oi(ot.length>0,ot)}).map(function(G){return Vx(G)})},cD=tinymce.util.Tools.resolve("tinymce.util.Tools"),rw=function(v,C,D){var P=v.select("td,th",C),F,G=function(re,de){for(var Se=0;Se<de.length;Se++){var Le=v.getStyle(de[Se],D);if(typeof re>"u"&&(re=Le),re!==Le)return""}return re};return G(F,P)},ow=function(v,C,D){D&&v.formatter.apply("align"+D,{},C)},fD=function(v,C,D){D&&v.formatter.apply("valign"+D,{},C)},qn=function(v,C){cD.each("left center right".split(" "),function(D){v.formatter.remove("align"+D,{},C)})},Pu=function(v,C){cD.each("top middle bottom".split(" "),function(D){v.formatter.remove("valign"+D,{},C)})},Vg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Nu=function(v){return{value:v}},$c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,NS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Hg=function(v){return $c.test(v)||NS.test(v)},iw=function(v){return On(v,"#").toUpperCase()},_0=function(v){return Hg(v)?Z.some({value:iw(v)}):Z.none()},jg=function(v){var C=v.toString(16);return(C.length===1?"0"+C:C).toUpperCase()},i1=function(v){var C=jg(v.red)+jg(v.green)+jg(v.blue);return Nu(C)},GO=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,XO=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,LS=function(v,C,D,P){return{red:v,green:C,blue:D,alpha:P}},BS=function(v,C,D,P){var F=parseInt(v,10),G=parseInt(C,10),re=parseInt(D,10),de=parseFloat(P);return LS(F,G,re,de)},dD=function(v){if(v==="transparent")return Z.some(LS(0,0,0,0));var C=GO.exec(v);if(C!==null)return Z.some(BS(C[1],C[2],C[3],"1"));var D=XO.exec(v);return D!==null?Z.some(BS(D[1],D[2],D[3],D[4])):Z.none()},Wg=function(v){return _0(v).orThunk(function(){return dD(v).map(i1)}).getOrThunk(function(){var C=document.createElement("canvas");C.height=1,C.width=1;var D=C.getContext("2d");D.clearRect(0,0,C.width,C.height),D.fillStyle="#FFFFFF",D.fillStyle=v,D.fillRect(0,0,1,1);var P=D.getImageData(0,0,1,1).data,F=P[0],G=P[1],re=P[2],de=P[3];return i1(LS(F,G,re,de))})},Df=function(v){var C=v,D=function(){return C},P=function(F){C=F};return{get:D,set:P}},a1=function(v){var C=Df(Z.none()),D=function(){return C.get().each(v)},P=function(){D(),C.set(Z.none())},F=function(){return C.get().isSome()},G=function(){return C.get()},re=function(de){D(),C.set(Z.some(de))};return{clear:P,isSet:F,get:G,set:re}},zS=function(){return a1(function(v){return v.unbind()})},Ug=function(){var v=a1(k),C=function(D){return v.get().each(D)};return Qt(Qt({},v),{on:C})},u1=function(v,C,D,P){return function(F){var G=zS(),re=Kn(P),de=function(){var Se=Gu(C),Le=function(ot){return v.formatter.match(D,{value:P},ot.dom,re)};re?(F.setActive(!$(Se,Le)),G.set(v.formatter.formatChanged(D,function(ot){return F.setActive(!ot)},!0))):(F.setActive(Ye(Se,Le)),G.set(v.formatter.formatChanged(D,F.setActive,!1,{value:P})))};return v.initialized?de():v.on("init",de),G.clear}},s1=function(v){return rt(v,"menu")},eh=function(v){return $e(v,function(C){var D=C.text||C.title;return s1(C)?{text:D,items:eh(C.menu)}:{text:D,value:C.value}})},Gc=function(v,C,D,P,F){return $e(D,function(G){var re=G.text||G.title;return s1(G)?{type:"nestedmenuitem",text:re,getSubmenuItems:function(){return Gc(v,C,G.menu,P,F)}}:{text:re,type:"togglemenuitem",onAction:function(){return F(G.value)},onSetup:u1(v,C,P,G.value)}})},sm=function(v,C){return function(D){var P;v.execCommand("mceTableApplyCellStyle",!1,(P={},P[C]=D,P))}},qg=function(v){return Ue(v,function(C){return s1(C)?[Qt(Qt({},C),{menu:qg(C.menu)})]:ln(C.value)?[C]:[]})},l1=function(v,C,D,P,F){return function(G){return G(Gc(v,C,D,P,F))}},aw=function(v,C,D){var P=$e(C,function(F){return{text:F.title,value:"#"+Wg(F.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:P.length>0?P:void 0,allowCustomColors:!1},onAction:function(F){var G,re=F.value==="remove"?"":F.value;v.execCommand("mceTableApplyCellStyle",!1,(G={},G[D]=re,G))}}]},c1=function(v){return function(){var C=v.queryCommandValue("mceTableRowType"),D=C==="header"?"body":"header";v.execCommand("mceTableRowType",!1,{type:D})}},FS=function(v){return function(){var C=v.queryCommandValue("mceTableColType"),D=C==="th"?"td":"th";v.execCommand("mceTableColType",!1,{type:D})}},YO=function(v){var C=eh(Q_(v));return C.length>0?Z.some({name:"class",type:"listbox",label:"Class",items:C}):Z.none()},uw=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Vg}],Qu=function(v){return uw.concat(YO(v).toArray())},Ec=function(v,C){var D=[{text:"Select...",value:""}],P=[{name:"borderstyle",type:"listbox",label:"Border style",items:D.concat(eh(nc(v)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],F={name:"borderwidth",type:"input",label:"Border width"},G=C==="cell"?[F].concat(P):P;return{title:"Advanced",name:"advanced",items:G}},Af=function(v){return function(C,D){var P=C.dom,F=function(de,Se){(!v||Se)&&P.setAttrib(D,de,Se)},G=function(de,Se){(!v||Se)&&P.setStyle(D,de,Se)},re=function(de,Se){(!v||Se)&&(Se===""?C.formatter.remove(de,{value:null},D,!0):C.formatter.apply(de,{value:Se},D))};return{setAttrib:F,setStyle:G,setFormat:re}}},md={normal:Af(!1),ifTruthy:Af(!0)},th=function(v){return function(C){return er(C,"rgb")?v.toHex(C):C}},lm=function(v,C){var D=It.fromDom(C);return{borderwidth:il(D,"border-width").getOr(""),borderstyle:il(D,"border-style").getOr(""),bordercolor:il(D,"border-color").map(th(v)).getOr(""),backgroundcolor:il(D,"background-color").map(th(v)).getOr("")}},S0=function(v){var C=v[0],D=v.slice(1);return mt(D,function(P){mt(yu(C),function(F){pi(P,function(G,re){var de=C[F];de!==""&&F===re&&de!==G&&(C[F]="")})})}),C},hD=function(v,C,D,P){return Je(v,function(F){return!g(D.formatter.matchNode(P,C+F))}).getOr("")},f1=q(hD,["left","center","right"],"align"),KO=q(hD,["top","middle","bottom"],"valign"),VS=function(v,C){var D=$y(v),P=u0(v),F=function(ot){return{borderstyle:Iu(D,"border-style").getOr(""),bordercolor:th(ot)(Iu(D,"border-color").getOr("")),backgroundcolor:th(ot)(Iu(D,"background-color").getOr(""))}},G={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},re=function(){var ot=D["border-width"];return Mu(v)&&ot?{border:ot}:Iu(P,"border").fold(function(){return{}},function(Gt){return{border:Gt}})},de=C?F(v.dom):{},Se=function(){var ot=Iu(D,"border-spacing").or(Iu(P,"cellspacing")).fold(function(){return{}},function(_n){return{cellspacing:_n}}),Gt=Iu(D,"border-padding").or(Iu(P,"cellpadding")).fold(function(){return{}},function(_n){return{cellpadding:_n}});return Qt(Qt({},ot),Gt)},Le=Qt(Qt(Qt(Qt(Qt(Qt({},G),D),P),de),re()),Se());return Le},pD=function(v){return fa(It.fromDom(v)).map(function(C){var D={selection:Sf(v.cells)};return um(C,D)}).getOr("")},mD=function(v,C,D){var P=function(de,Se){var Le=il(It.fromDom(Se),"border-width");return Mu(v)&&Le.isSome()?Le.getOr(""):de.getAttrib(Se,"border")||rw(v.dom,Se,"border-width")||rw(v.dom,Se,"border")},F=v.dom,G=Mu(v)?F.getStyle(C,"border-spacing")||F.getAttrib(C,"cellspacing"):F.getAttrib(C,"cellspacing")||F.getStyle(C,"border-spacing"),re=Mu(v)?rw(F,C,"padding")||F.getAttrib(C,"cellpadding"):F.getAttrib(C,"cellpadding")||rw(F,C,"padding");return Qt({width:F.getStyle(C,"width")||F.getAttrib(C,"width"),height:F.getStyle(C,"height")||F.getAttrib(C,"height"),cellspacing:G,cellpadding:re,border:P(F,C),caption:!!F.select("caption",C)[0],class:F.getAttrib(C,"class",""),align:f1(v,C)},D?lm(F,C):{})},HS=function(v,C,D){var P=v.dom;return Qt({height:P.getStyle(C,"height")||P.getAttrib(C,"height"),class:P.getAttrib(C,"class",""),type:pD(C),align:f1(v,C)},D?lm(P,C):{})},jS=function(v,C,D,P){var F=v.dom,G=P.getOr(C),re=function(de,Se){return F.getStyle(de,Se)||F.getAttrib(de,Se)};return Qt({width:re(G,"width"),height:re(C,"height"),scope:F.getAttrib(C,"scope"),celltype:rx(C),class:F.getAttrib(C,"class",""),halign:f1(v,C),valign:KO(v,C)},D?lm(F,C):{})},Ti=function(v,C){var D=yo.fromTable(v),P=yo.justCells(D),F=Ot(P,function(G){return $(C,function(re){return ro(G.element,re)})});return $e(F,function(G){return{element:G.element.dom,column:yo.getColumnAt(D,G.column).map(function(re){return re.element.dom})}})},nh=function(v,C,D){v.setAttrib("scope",D.scope),v.setAttrib("class",D.class),v.setStyle("height",As(D.height)),C.setStyle("width",As(D.width))},gD=function(v,C){v.setFormat("tablecellbackgroundcolor",C.backgroundcolor),v.setFormat("tablecellbordercolor",C.bordercolor),v.setFormat("tablecellborderstyle",C.borderstyle),v.setFormat("tablecellborderwidth",As(C.borderwidth))},WS=function(v,C,D){var P=C.length===1;mt(C,function(F){var G=F.element,re=P?md.normal(v,G):md.ifTruthy(v,G),de=F.column.map(function(Se){return P?md.normal(v,Se):md.ifTruthy(v,Se)}).getOr(re);nh(re,de,D),Gy(v)&&gD(re,D),P&&(qn(v,G),Pu(v,G)),D.halign&&ow(v,G,D.halign),D.valign&&fD(v,G,D.valign)})},US=function(v,C){v.execCommand("mceTableCellType",!1,{type:C.celltype,no_events:!0})},d1=function(v,C,D,P){var F=Ou(P,function(G,re){return D[re]!==G});ju(F)>0&&C.length>=1&&fa(C[0]).each(function(G){var re=Ti(G,C),de=ju(Ou(F,function(Le,ot){return ot!=="scope"&&ot!=="celltype"}))>0,Se=we(F,"celltype");(de||we(F,"scope"))&&WS(v,re,P),Se&&US(v,P),dl(v,G.dom,{structure:Se,style:de})})},Nr=function(v,C,D,P){var F=P.getData();P.close(),v.undoManager.transact(function(){d1(v,C,D,F),v.focus()})},qS=function(v,C){var D=fa(C[0]).map(function(P){return $e(Ti(P,C),function(F){return jS(v,F.element,Gy(v),F.column)})});return S0(D.getOrDie())},vD=function(v,C){var D=Gu(C);if(D.length!==0){var P=qS(v,D),F={type:"tabpanel",tabs:[{title:"General",name:"general",items:Qu(v)},Ec(v,"cell")]},G={type:"panel",items:[{type:"grid",columns:2,items:Qu(v)}]};v.windowManager.open({title:"Cell Properties",size:"normal",body:Gy(v)?F:G,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:P,onSubmit:q(Nr,v,D,P)})}},JO=function(v){var C=eh(Wt(v));return C.length>0?Z.some({name:"class",type:"listbox",label:"Class",items:C}):Z.none()},yD=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],bD=function(v){return yD.concat(JO(v).toArray())},$S=function(v,C){v.setAttrib("class",C.class),v.setStyle("height",As(C.height))},GS=function(v,C){v.setStyle("background-color",C.backgroundcolor),v.setStyle("border-color",C.bordercolor),v.setStyle("border-style",C.borderstyle)},sw=function(v,C,D,P){var F=C.length===1;mt(C,function(G){var re=F?md.normal(v,G):md.ifTruthy(v,G);$S(re,D),Mx(v)&&GS(re,D),D.align!==P.align&&(qn(v,G),ow(v,G,D.align))})},ZO=function(v,C){v.execCommand("mceTableRowType",!1,{type:C.type,no_events:!0})},xD=function(v,C,D,P){var F=Ou(P,function(de,Se){return D[Se]!==de});if(ju(F)>0){var G=we(F,"type"),re=G?ju(F)>1:!0;re&&sw(v,C,P,D),G&&ZO(v,P),fa(It.fromDom(C[0])).each(function(de){return dl(v,de.dom,{structure:G,style:re})})}},QO=function(v,C,D,P){var F=P.getData();P.close(),v.undoManager.transact(function(){xD(v,C,D,F),v.focus()})},ac=function(v){var C=F5(hu(v),pg.selected);if(C.length!==0){var D=$e(C,function(re){return HS(v,re.dom,Mx(v))}),P=S0(D),F={type:"tabpanel",tabs:[{title:"General",name:"general",items:bD(v)},Ec(v,"row")]},G={type:"panel",items:[{type:"grid",columns:2,items:bD(v)}]};v.windowManager.open({title:"Row Properties",size:"normal",body:Mx(v)?F:G,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:P,onSubmit:q(QO,v,$e(C,function(re){return re.dom}),P)})}},ml=function(v,C,D){var P=D?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],F=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],G=Tf(v)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],re=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],de=C.length>0?[{type:"listbox",name:"class",label:"Class",items:C}]:[];return P.concat(F).concat(G).concat(re).concat(de)},cm=function(v,C,D,P){if(C.tagName==="TD"||C.tagName==="TH")i(D)?v.setStyle(C,D,P):v.setStyle(C,D);else if(C.children)for(var F=0;F<C.children.length;F++)cm(v,C.children[F],D,P)},wD=function(v,C,D){var P=v.dom,F={},G={};if(F.class=D.class,G.height=As(D.height),P.getAttrib(C,"width")&&!Mu(v)?F.width=ox(D.width):G.width=As(D.width),Mu(v)?(G["border-width"]=As(D.border),G["border-spacing"]=As(D.cellspacing)):(F.border=D.border,F.cellpadding=D.cellpadding,F.cellspacing=D.cellspacing),Mu(v)&&C.children)for(var re=0;re<C.children.length;re++)cm(P,C.children[re],{"border-width":As(D.border),padding:As(D.cellpadding)}),rc(v)&&cm(P,C.children[re],{"border-color":D.bordercolor});rc(v)&&(G["background-color"]=D.backgroundcolor,G["border-color"]=D.bordercolor,G["border-style"]=D.borderstyle),F.style=P.serializeStyle(Qt(Qt({},$y(v)),G)),P.setAttribs(C,Qt(Qt({},u0(v)),F))},e4=function(v,C,D,P){var F=v.dom,G=P.getData(),re=Ou(G,function(de,Se){return D[Se]!==de});P.close(),G.class===""&&delete G.class,v.undoManager.transact(function(){if(!C){var de=parseInt(G.cols,10)||1,Se=parseInt(G.rows,10)||1;C=x0(v,de,Se,0,0)}if(ju(re)>0){wD(v,C,G);var Le=F.select("caption",C)[0];(Le&&!G.caption||!Le&&G.caption)&&v.execCommand("mceTableToggleCaption"),G.align===""?qn(v,C):ow(v,C,G.align)}if(v.focus(),v.addVisual(),ju(re)>0){var ot=we(re,"caption"),Gt=ot?ju(re)>1:!0;dl(v,C,{structure:ot,style:Gt})}})},_D=function(v,C){var D=v.dom,P,F=VS(v,rc(v));C===!1?(P=D.getParent(v.selection.getStart(),"table",v.getBody()),P?F=mD(v,P,rc(v)):rc(v)&&(F.borderstyle="",F.bordercolor="",F.backgroundcolor="")):(F.cols="1",F.rows="1",rc(v)&&(F.borderstyle="",F.bordercolor="",F.backgroundcolor=""));var G=eh(Qp(v));G.length>0&&F.class&&(F.class=F.class.replace(/\s*mce\-item\-table\s*/g,""));var re={type:"grid",columns:2,items:ml(v,G,C)},de=function(){return{type:"panel",items:[re]}},Se=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[re]},Ec(v,"table")]}},Le=rc(v)?Se():de();v.windowManager.open({title:"Table Properties",size:"normal",body:Le,onSubmit:q(e4,v,P,F),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:F})},So=function(v){return gg(hu(v),qu(v))},SD=function(v){return ec(hu(v),qu(v))},h1=function(v,C,D,P,F){var G=qu(v),re=function(){return So(v).each(function(Ar){fa(Ar,G).filter(X(G)).each(function(Gr){var Po=It.fromText("");if(zi(Gr,Po),Dl(Gr),v.dom.isEmpty(v.getBody()))v.setContent(""),v.selection.setCursorLocation();else{var xo=v.dom.createRng();xo.setStart(Po.dom,0),xo.setEnd(Po.dom,0),v.selection.setRng(xo),v.nodeChanged()}})})},de=function(Ar){return So(v).each(function(Gr){var Po=em(v)||s0(v)||Xy(v);Po||fa(Gr,G).each(function(xo){Ar==="relative"&&!ok(xo)?Yy(xo):Ar==="fixed"&&!qp(xo)?Ex(xo):Ar==="responsive"&&!Uy(xo)&&Ox(xo),$u(xo),dl(v,xo.dom,Tu)})})},Se=function(Ar){return fa(Ar,G)},Le=function(Ar){return SD(v).bind(function(Gr){return Se(Gr).map(function(Po){return Ar(Po,Gr)})})},ot=function(Ar,Gr){Le(function(Po){v.formatter.toggle("tableclass",{value:Gr},Po.dom),dl(v,Po.dom,Sx)})},Gt=function(Ar,Gr){Le(function(Po){var xo=Gu(P),Fa=Ye(xo,function(Xs){return v.formatter.match("tablecellclass",{value:Gr},Xs.dom)}),Lu=Fa?v.formatter.remove:v.formatter.apply;mt(xo,function(Xs){return Lu("tablecellclass",{value:Gr},Xs.dom)}),dl(v,Po.dom,Sx)})},_n=function(){So(v).each(function(Ar){fa(Ar,G).each(function(Gr){Ur(Gr,"caption").fold(function(){var Po=It.fromTag("caption");Da(Po,It.fromText("Caption")),b5(Gr,Po,0),v.selection.setCursorLocation(Po.dom,0)},function(Po){ua("caption")(Ar)&&ta("td",Gr).each(function(xo){return v.selection.setCursorLocation(xo.dom,0)}),Dl(Po)}),dl(v,Gr.dom,Tu)})})},sn=function(Ar){v.focus()},Xt=function(Ar,Gr){return Gr===void 0&&(Gr=!1),Le(function(Po,xo){var Fa=Vp(P,Po,xo);Ar(Po,Fa,Gr).each(sn)})},Nn=function(){return Le(function(Ar,Gr){var Po=Vp(P,Ar,Gr),xo=ha(k,It.fromDom(v.getDoc()),Z.none());return lD(Ar,Po,xo)})},Pn=function(){return Le(function(Ar,Gr){var Po=Vp(P,Ar,Gr);return sD(Ar,Po)})},xr=function(Ar,Gr){return Gr().each(function(Po){var xo=$e(Po,function(Fa){return mi(Fa)});Le(function(Fa,Lu){var Xs=Ql(It.fromDom(v.getDoc())),Yo=ZM(P,Lu,xo,Xs);Ar(Fa,Yo).each(sn)})})},qo=function(Ar){return function(Gr,Po){return Iu(Po,"type").each(function(xo){Xt(Ar(xo),Po.no_events)})}};pi({mceTableSplitCells:function(){return Xt(C.unmergeCells)},mceTableMergeCells:function(){return Xt(C.mergeCells)},mceTableInsertRowBefore:function(){return Xt(C.insertRowsBefore)},mceTableInsertRowAfter:function(){return Xt(C.insertRowsAfter)},mceTableInsertColBefore:function(){return Xt(C.insertColumnsBefore)},mceTableInsertColAfter:function(){return Xt(C.insertColumnsAfter)},mceTableDeleteCol:function(){return Xt(C.deleteColumn)},mceTableDeleteRow:function(){return Xt(C.deleteRow)},mceTableCutCol:function(){return Pn().each(function(Ar){F.setColumns(Ar),Xt(C.deleteColumn)})},mceTableCutRow:function(){return Nn().each(function(Ar){F.setRows(Ar),Xt(C.deleteRow)})},mceTableCopyCol:function(){return Pn().each(function(Ar){return F.setColumns(Ar)})},mceTableCopyRow:function(){return Nn().each(function(Ar){return F.setRows(Ar)})},mceTablePasteColBefore:function(){return xr(C.pasteColsBefore,F.getColumns)},mceTablePasteColAfter:function(){return xr(C.pasteColsAfter,F.getColumns)},mceTablePasteRowBefore:function(){return xr(C.pasteRowsBefore,F.getRows)},mceTablePasteRowAfter:function(){return xr(C.pasteRowsAfter,F.getRows)},mceTableDelete:re,mceTableCellToggleClass:Gt,mceTableToggleClass:ot,mceTableToggleCaption:_n,mceTableSizingMode:function(Ar,Gr){return de(Gr)},mceTableCellType:qo(function(Ar){return Ar==="th"?C.makeCellsHeader:C.unmakeCellsHeader}),mceTableColType:qo(function(Ar){return Ar==="th"?C.makeColumnsHeader:C.unmakeColumnsHeader}),mceTableRowType:qo(function(Ar){switch(Ar){case"header":return C.makeRowsHeader;case"footer":return C.makeRowsFooter;default:return C.makeRowsBody}})},function(Ar,Gr){return v.addCommand(Gr,Ar)}),pi({mceTableProps:q(_D,v,!1),mceTableRowProps:q(ac,v),mceTableCellProps:q(vD,v,P)},function(Ar,Gr){return v.addCommand(Gr,function(){return Ar()})}),v.addCommand("mceInsertTable",function(Ar,Gr){u(Gr)&&yu(Gr).length>0?iD(v,Gr.rows,Gr.columns,Gr.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):_D(v,!0)}),v.addCommand("mceTableApplyCellStyle",function(Ar,Gr){var Po=function(Lu){return"tablecell"+Lu.toLowerCase().replace("-","")};if(u(Gr)){var xo=Gu(P);if(xo.length!==0){var Fa=Ou(Gr,function(Lu,Xs){return v.formatter.has(Po(Xs))&&i(Lu)});xt(Fa)||(pi(Fa,function(Lu,Xs){mt(xo,function(Yo){md.normal(v,Yo.dom).setFormat(Po(Xs),Lu)})}),Se(xo[0]).each(function(Lu){return dl(v,Lu.dom,Sx)}))}}})},C0=function(v,C,D){var P=qu(v),F=function(G){return ec(hu(v)).bind(function(re){return fa(re,P).map(function(de){var Se=Vp(D,de,re);return G(de,Se)})}).getOr("")};pi({mceTableRowType:function(){return F(C.getTableRowType)},mceTableCellType:function(){return F(C.getTableCellType)},mceTableColType:function(){return F(C.getTableColType)}},function(G,re){return v.addQueryValueHandler(re,G)})},lw=function(){var v=Ug(),C=Ug();return{getRows:v.get,setRows:function(D){D.fold(v.clear,v.set),C.clear()},clearRows:v.clear,getColumns:C.get,setColumns:function(D){D.fold(C.clear,C.set),v.clear()},clearColumns:C.clear}},T0={remove_similar:!0,inherit:!1},M0=Qt({selector:"td,th"},T0),t4={tablecellbackgroundcolor:Qt({styles:{backgroundColor:"%value"}},M0),tablecellverticalalign:Qt({styles:{"vertical-align":"%value"}},M0),tablecellbordercolor:Qt({styles:{borderColor:"%value"}},M0),tablecellclass:Qt({classes:["%value"]},M0),tableclass:Qt({selector:"table",classes:["%value"]},T0),tablecellborderstyle:Qt({styles:{borderStyle:"%value"}},M0),tablecellborderwidth:Qt({styles:{borderWidth:"%value"}},M0)},n4=function(v){v.formatter.register(t4)},XS=Vd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),YS=function(v){return v===void 0&&(v=void 0),XS.none(v)},$g=Qt(Qt({},XS),{none:YS}),cw=function(v,C,D,P,F){F===void 0&&(F=te);var G=P===1;if(!G&&D<=0)return $g.first(v[0]);if(G&&D>=v.length-1)return $g.last(v[v.length-1]);var re=D+P,de=v[re];return F(de)?$g.middle(C,de):cw(v,C,re,P,F)},CD=function(v,C){return fa(v,C).bind(function(D){var P=Lh(D),F=Fe(P,function(G){return ro(v,G)});return F.map(function(G){return{index:G,all:P}})})},r4=function(v,C,D){var P=CD(v,D);return P.fold(function(){return $g.none(v)},function(F){return cw(F.all,v,F.index,1,C)})},KS=function(v,C,D){var P=CD(v,D);return P.fold(function(){return $g.none()},function(F){return cw(F.all,v,F.index,-1,C)})},o4=function(v,C,D,P){return{start:v,soffset:C,finish:D,foffset:P}},p1={create:o4},JS=Vd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mr=function(v,C,D,P){return v.fold(C,D,P)},TD=function(v){return v.fold(z,z,z)},i4=JS.before,MD=JS.on,k0=JS.after,gl={before:i4,on:MD,after:k0,cata:Mr,getStart:TD},m1=Vd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),a4=function(v){return m1.exact(v.start,v.soffset,v.finish,v.foffset)},ZS=function(v){return v.match({domRange:function(C){return It.fromDom(C.startContainer)},relative:function(C,D){return gl.getStart(C)},exact:function(C,D,P,F){return C}})},fw=m1.domRange,kD=m1.relative,DD=m1.exact,AD=function(v){var C=ZS(v);return yc(C)},ED=p1.create,rp={domRange:fw,relative:kD,exact:DD,exactFromRange:a4,getWin:AD,range:ED},u4=function(v,C){var D=v.document.createRange();return D.selectNode(C.dom),D},s4=function(v,C){var D=v.document.createRange();return D0(D,C),D},D0=function(v,C){return v.selectNodeContents(C.dom)},l4=function(v,C){C.fold(function(D){v.setStartBefore(D.dom)},function(D,P){v.setStart(D.dom,P)},function(D){v.setStartAfter(D.dom)})},c4=function(v,C){C.fold(function(D){v.setEndBefore(D.dom)},function(D,P){v.setEnd(D.dom,P)},function(D){v.setEndAfter(D.dom)})},ii=function(v,C,D){var P=v.document.createRange();return l4(P,C),c4(P,D),P},A0=function(v,C,D,P,F){var G=v.document.createRange();return G.setStart(C.dom,D),G.setEnd(P.dom,F),G},fm=function(v){return{left:v.left,top:v.top,right:v.right,bottom:v.bottom,width:v.width,height:v.height}},rh=function(v){var C=v.getClientRects(),D=C.length>0?C[0]:v.getBoundingClientRect();return D.width>0||D.height>0?Z.some(D).map(fm):Z.none()},dm=Vd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Gs=function(v,C,D){return C(It.fromDom(D.startContainer),D.startOffset,It.fromDom(D.endContainer),D.endOffset)},dw=function(v,C){return C.match({domRange:function(D){return{ltr:I(D),rtl:Z.none}},relative:function(D,P){return{ltr:pr(function(){return ii(v,D,P)}),rtl:pr(function(){return Z.some(ii(v,P,D))})}},exact:function(D,P,F,G){return{ltr:pr(function(){return A0(v,D,P,F,G)}),rtl:pr(function(){return Z.some(A0(v,F,G,D,P))})}}})},g1=function(v,C){var D=C.ltr();if(D.collapsed){var P=C.rtl().filter(function(F){return F.collapsed===!1});return P.map(function(F){return dm.rtl(It.fromDom(F.endContainer),F.endOffset,It.fromDom(F.startContainer),F.startOffset)}).getOrThunk(function(){return Gs(v,dm.ltr,D)})}else return Gs(v,dm.ltr,D)},E0=function(v,C){var D=dw(v,C);return g1(v,D)},hm=function(v,C){var D=E0(v,C);return D.match({ltr:function(P,F,G,re){var de=v.document.createRange();return de.setStart(P.dom,F),de.setEnd(G.dom,re),de},rtl:function(P,F,G,re){var de=v.document.createRange();return de.setStart(G.dom,re),de.setEnd(P.dom,F),de}})};dm.ltr,dm.rtl;var f4=function(v,C,D,P,F){if(F===0)return 0;if(C===P)return F-1;for(var G=P,re=1;re<F;re++){var de=v(re),Se=Math.abs(C-de.left);if(D<=de.bottom){if(D<de.top||Se>G)return re-1;G=Se}}return 0},OD=function(v,C,D){return C>=v.left&&C<=v.right&&D>=v.top&&D<=v.bottom},hw=function(v,C,D,P,F){var G=function(Le){var ot=v.dom.createRange();return ot.setStart(C.dom,Le),ot.collapse(!0),ot},re=function(Le){var ot=G(Le);return ot.getBoundingClientRect()},de=Gb(C).length,Se=f4(re,D,P,F.right,de);return G(Se)},d4=function(v,C,D,P){var F=v.dom.createRange();F.selectNode(C.dom);var G=F.getClientRects(),re=Mn(G,function(de){return OD(de,D,P)?Z.some(de):Z.none()});return re.map(function(de){return hw(v,C,D,P,de)})},Ro=function(v,C,D,P){var F=v.dom.createRange(),G=V(C);return Mn(G,function(re){return F.selectNode(re.dom),OD(F.getBoundingClientRect(),D,P)?Ef(v,re,D,P):Z.none()})},Ef=function(v,C,D,P){return is(C)?d4(v,C,D,P):Ro(v,C,D,P)},O0=function(v,C,D,P){var F=v.dom.createRange();F.selectNode(C.dom);var G=F.getBoundingClientRect(),re=Math.max(G.left,Math.min(G.right,D)),de=Math.max(G.top,Math.min(G.bottom,P));return Ef(v,C,re,de)},ID=!0,v1=!1,Bo=function(v,C){return C-v.left<v.right-C?ID:v1},QS=function(v,C,D){var P=v.dom.createRange();return P.selectNode(C.dom),P.collapse(D),P},RD=function(v,C,D){var P=v.dom.createRange();P.selectNode(C.dom);var F=P.getBoundingClientRect(),G=Bo(F,D),re=G===ID?Fy:nx;return re(C).map(function(de){return QS(v,de,G)})},y1=function(v,C,D){var P=C.dom.getBoundingClientRect(),F=Bo(P,D);return Z.some(QS(v,C,F))},PD=function(v,C,D){var P=V(C).length===0?y1:RD;return P(v,C,D)},b1=function(v,C,D){var P,F;return Z.from((F=(P=v.dom).caretPositionFromPoint)===null||F===void 0?void 0:F.call(P,C,D)).bind(function(G){if(G.offsetNode===null)return Z.none();var re=v.dom.createRange();return re.setStart(G.offsetNode,G.offset),re.collapse(),Z.some(re)})},op=function(v,C,D){var P,F;return Z.from((F=(P=v.dom).caretRangeFromPoint)===null||F===void 0?void 0:F.call(P,C,D))},eC=function(v,C,D,P){var F=v.dom.createRange();F.selectNode(C.dom);var G=F.getBoundingClientRect(),re=Math.max(G.left,Math.min(G.right,D)),de=Math.max(G.top,Math.min(G.bottom,P));return O0(v,C,re,de)},ND=function(v,C,D){return It.fromPoint(v,C,D).bind(function(P){var F=function(){return PD(v,P,C)};return V(P).length===0?F():eC(v,P,C,D).orThunk(F)})},h4=function(){return document.caretPositionFromPoint?b1:document.caretRangeFromPoint?op:ND}(),p4=function(v,C,D){var P=It.fromDom(v.document);return h4(P,C,D).map(function(F){return p1.create(It.fromDom(F.startContainer),F.startOffset,It.fromDom(F.endContainer),F.endOffset)})},pm=function(v,C){var D=Oo(v);return D==="input"?gl.after(v):tt(["br","img"],D)?C===0?gl.before(v):gl.after(v):gl.on(v,C)},Gg=function(v,C){var D=v.fold(gl.before,pm,gl.after),P=C.fold(gl.before,pm,gl.after);return rp.relative(D,P)},I0=function(v,C,D,P){var F=pm(v,C),G=pm(D,P);return rp.relative(F,G)},LD=function(v){return v.match({domRange:function(C){var D=It.fromDom(C.startContainer),P=It.fromDom(C.endContainer);return I0(D,C.startOffset,P,C.endOffset)},relative:Gg,exact:I0})},tC=function(v,C,D,P){var F=Ul(v),G=F.dom.createRange();return G.setStart(v.dom,C),G.setEnd(D.dom,P),G},m4=function(v,C,D,P){var F=tC(v,C,D,P),G=ro(v,D)&&C===P;return F.collapsed&&!G},pw=function(v){return Z.from(v.getSelection())},mw=function(v,C){pw(v).each(function(D){D.removeAllRanges(),D.addRange(C)})},nC=function(v,C,D,P,F){var G=A0(v,C,D,P,F);mw(v,G)},g4=function(v,C,D,P,F,G){C.collapse(D.dom,P),C.extend(F.dom,G)},rC=function(v,C){return E0(v,C).match({ltr:function(D,P,F,G){nC(v,D,P,F,G)},rtl:function(D,P,F,G){pw(v).each(function(re){if(re.setBaseAndExtent)re.setBaseAndExtent(D.dom,P,F.dom,G);else if(re.extend)try{g4(v,re,D,P,F,G)}catch{nC(v,F,G,D,P)}else nC(v,F,G,D,P)})}})},gw=function(v,C,D,P,F){var G=I0(C,D,P,F);rC(v,G)},vw=function(v,C,D){var P=Gg(C,D);rC(v,P)},oC=function(v){var C=rp.getWin(v).dom,D=function(F,G,re,de){return A0(C,F,G,re,de)},P=LD(v);return E0(C,P).match({ltr:D,rtl:D})},Xg=function(v){if(v.rangeCount>0){var C=v.getRangeAt(0),D=v.getRangeAt(v.rangeCount-1);return Z.some(p1.create(It.fromDom(C.startContainer),C.startOffset,It.fromDom(D.endContainer),D.endOffset))}else return Z.none()},yw=function(v){if(v.anchorNode===null||v.focusNode===null)return Xg(v);var C=It.fromDom(v.anchorNode),D=It.fromDom(v.focusNode);return m4(C,v.anchorOffset,D,v.focusOffset)?Z.some(p1.create(C,v.anchorOffset,D,v.focusOffset)):Xg(v)},iC=function(v,C,D){D===void 0&&(D=!0);var P=D?s4:u4,F=P(v,C);mw(v,F)},bw=function(v){return pw(v).filter(function(C){return C.rangeCount>0}).bind(yw)},x1=function(v){return bw(v).map(function(C){return rp.exact(C.start,C.soffset,C.finish,C.foffset)})},BD=function(v,C){var D=hm(v,C);return rh(D)},v4=function(v,C,D){return p4(v,C,D)},zD=function(v){pw(v).each(function(C){return C.removeAllRanges()})},FD=tinymce.util.Tools.resolve("tinymce.util.VK"),aC=function(v,C,D){return uC(v,C,r4(D,i0))},VD=function(v,C,D){return uC(v,C,KS(D,i0))},HD=function(v,C){var D=rp.exact(C,0,C,0);return oC(D)},uC=function(v,C,D){return D.fold(Z.none,Z.none,function(P,F){return Fy(F).map(function(G){return HD(v,G)})},function(P){return v.execCommand("mceTableInsertRowAfter"),aC(v,C,P)})},sC=["table","li","dl"],y4=function(v,C,D){if(v.keyCode===FD.TAB){var P=Ol(C),F=function(de){var Se=Oo(de);return ro(de,P)||tt(sC,Se)},G=C.selection.getRng(),re=It.fromDom(v.shiftKey?G.startContainer:G.endContainer);Qf(re,F).each(function(de){v.preventDefault(),fa(de,F).each(D.clear),C.selection.collapse(v.shiftKey);var Se=v.shiftKey?VD:aC,Le=Se(C,F,de);Le.each(function(ot){C.selection.setRng(ot)})})}},b4=function(v,C){return{selection:v,kill:C}},R0={create:b4},x4=function(v,C,D,P){return{start:gl.on(v,C),finish:gl.on(D,P)}},mm={create:x4},jD=function(v,C){var D=hm(v,C);return p1.create(It.fromDom(D.startContainer),D.startOffset,It.fromDom(D.endContainer),D.endOffset)},Yg=mm.create,xw=function(v,C,D,P,F,G,re){return ro(D,F)&&P===G?Z.none():Ma(D,"td,th",C).bind(function(de){return Ma(F,"td,th",C).bind(function(Se){return WD(v,C,de,Se,re)})})},WD=function(v,C,D,P,F){return ro(D,P)?Z.none():Rp(D,P,C).bind(function(G){var re=G.boxes.getOr([]);return re.length>1?(F(v,re,G.start,G.finish),Z.some(R0.create(Z.some(Yg(D,0,D,_f(D))),!0))):Z.none()})},lC=function(v,C,D,P,F){var G=function(re){return F.clearBeforeUpdate(D),F.selectRange(D,re.boxes,re.start,re.finish),re.boxes};return Vv(P,v,C,F.firstSelectedSelector,F.lastSelectedSelector).map(G)},w1=function(v,C){return{item:v,mode:C}},cC=function(v,C,D,P){return P===void 0&&(P=Kg),v.property().parent(C).map(function(F){return w1(F,P)})},Kg=function(v,C,D,P){return P===void 0&&(P=_1),D.sibling(v,C).map(function(F){return w1(F,P)})},_1=function(v,C,D,P){P===void 0&&(P=_1);var F=v.property().children(C),G=D.first(F);return G.map(function(re){return w1(re,P)})},w4=[{current:cC,next:Kg,fallback:Z.none()},{current:Kg,next:_1,fallback:Z.some(cC)},{current:_1,next:_1,fallback:Z.some(Kg)}],UD=function(v,C,D,P,F){F===void 0&&(F=w4);var G=Je(F,function(re){return re.current===D});return G.bind(function(re){return re.current(v,C,P,re.next).orThunk(function(){return re.fallback.bind(function(de){return UD(v,C,de,P)})})})},P0=function(){var v=function(D,P){return D.query().prevSibling(P)},C=function(D){return D.length>0?Z.some(D[D.length-1]):Z.none()};return{sibling:v,first:C}},_4=function(){var v=function(D,P){return D.query().nextSibling(P)},C=function(D){return D.length>0?Z.some(D[0]):Z.none()};return{sibling:v,first:C}},S1={left:P0,right:_4},C1=function(v,C,D,P,F,G){var re=UD(v,C,P,F);return re.bind(function(de){return G(de.item)?Z.none():D(de.item)?Z.some(de.item):C1(v,de.item,D,de.mode,F,G)})},qD=function(v,C,D,P){return C1(v,C,D,Kg,S1.left(),P)},Xc=function(v,C,D,P){return C1(v,C,D,Kg,S1.right(),P)},fC=function(v){return function(C){return v.property().children(C).length===0}},ww=function(v,C,D){return dC(v,C,fC(v),D)},S4=function(v,C,D){return $D(v,C,fC(v),D)},dC=qD,$D=Xc,_w=Ay(),T1=function(v,C){return ww(_w,v,C)},hC=function(v,C){return S4(_w,v,C)},GD=function(v,C,D){return dC(_w,v,C,D)},XD=function(v,C,D){return $D(_w,v,C,D)},ip=function(v,C,D){return wa(v,C,D).isSome()},Sw=Vd.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),C4=function(v,C,D){var P=v.getRect(C),F=v.getRect(D);return F.right>P.left&&F.left<P.right},pC=function(v){return Ma(v,"tr")},T4=function(v,C,D,P,F,G,re){return Ma(P,"td,th",re).bind(function(de){return Ma(C,"td,th",re).map(function(Se){return ro(de,Se)?ro(P,de)&&_f(de)===F?G(Se):Sw.none("in same cell"):Sr(pC,[de,Se]).fold(function(){return C4(v,Se,de)?Sw.success():G(Se)},function(Le){return G(Se)})})}).getOr(Sw.none("default"))},mC=function(v,C,D,P,F){return v.fold(C,D,P,F)},N0=Qt(Qt({},Sw),{verify:T4,cata:mC}),Cw=function(v,C,D,P){return{parent:v,children:C,element:D,index:P}},M4=function(v){return sa(v).bind(function(C){var D=V(C);return YD(D,v).map(function(P){return Cw(C,D,v,P)})})},YD=function(v,C){return Fe(v,q(ro,C))},gC=function(v){return Oo(v)==="br"},vC=function(v,C,D){return C(v,D).bind(function(P){return is(P)&&Gb(P).trim().length===0?vC(P,C,D):Z.some(P)})},k4=function(v,C,D){return D.traverse(C).orThunk(function(){return vC(C,D.gather,v)}).map(D.relative)},Tw=function(v,C){return ee(v,C).filter(gC).orThunk(function(){return ee(v,C-1).filter(gC)})},KD=function(v,C,D,P){return Tw(C,D).bind(function(F){return P.traverse(F).fold(function(){return vC(F,P.gather,v).map(P.relative)},function(G){return M4(G).map(function(re){return gl.on(re.parent,re.index)})})})},JD=function(v,C,D,P){var F=gC(C)?k4(v,C,P):KD(v,C,D,P);return F.map(function(G){return{start:G,finish:G}})},ZD=function(v){return N0.cata(v,function(C){return Z.none()},function(){return Z.none()},function(C){return Z.some(l0(C,0))},function(C){return Z.some(l0(C,_f(C)))})},M1=function(v,C){return{left:v.left,top:v.top+C,right:v.right,bottom:v.bottom+C}},k1=function(v,C){return{left:v.left,top:v.top-C,right:v.right,bottom:v.bottom-C}},Jg=function(v,C,D){return{left:v.left+C,top:v.top+D,right:v.right+C,bottom:v.bottom+D}},QD=function(v){return v.top},eA=function(v){return v.bottom},Mw=function(v,C,D){return D>=0&&D<_f(C)?v.getRangedRect(C,D,C,D+1):D>0?v.getRangedRect(C,D-1,C,D):Z.none()},kw=function(v){return{left:v.left,top:v.top,right:v.right,bottom:v.bottom}},yC=function(v,C){return Z.some(v.getRect(C))},bC=function(v,C,D){return si(C)?yC(v,C).map(kw):is(C)?Mw(v,C,D).map(kw):Z.none()},tA=function(v,C){return si(C)?yC(v,C).map(kw):is(C)?v.getRangedRect(C,0,C,_f(C)).map(kw):Z.none()},oh=5,xC=100,ih=Vd.generate([{none:[]},{retry:["caret"]}]),D4=function(v,C){return v.left<C.left||Math.abs(C.right-v.left)<1||v.left>C.right},ap=function(v,C,D){return Wb(C,kf).fold(ae,function(P){return tA(v,P).exists(function(F){return D4(D,F)})})},nA=function(v,C,D,P,F){var G=M1(F,oh);return Math.abs(D.bottom-P.bottom)<1||D.top>F.bottom?ih.retry(G):D.top===F.bottom?ih.retry(M1(F,1)):ap(v,C,F)?ih.retry(Jg(G,oh,0)):ih.none()},rA=function(v,C,D,P,F){var G=k1(F,oh);return Math.abs(D.top-P.top)<1||D.bottom<F.top?ih.retry(G):D.bottom===F.top?ih.retry(k1(F,1)):ap(v,C,F)?ih.retry(Jg(G,oh,0)):ih.none()},A4={point:QD,adjuster:rA,move:k1,gather:T1},E4={point:eA,adjuster:nA,move:M1,gather:hC},L0=function(v,C,D){return v.elementFromPoint(C,D).filter(function(P){return Oo(P)==="table"}).isSome()},B0=function(v,C,D,P,F){return Dw(v,C,D,C.move(P,oh),F)},Dw=function(v,C,D,P,F){return F===0?Z.some(P):L0(v,P.left,C.point(P))?B0(v,C,D,P,F-1):v.situsFromPoint(P.left,C.point(P)).bind(function(G){return G.start.fold(Z.none,function(re){return tA(v,re).bind(function(de){return C.adjuster(v,re,de,D,P).fold(Z.none,function(Se){return Dw(v,C,D,Se,F-1)})}).orThunk(function(){return Z.some(P)})},Z.none)})},oA=function(v,C){return v.situsFromPoint(C.left,C.bottom+oh)},gm=function(v,C){return v.situsFromPoint(C.left,C.top-oh)},vm=function(v,C,D){return v.point(C)>D.getInnerHeight()?Z.some(v.point(C)-D.getInnerHeight()):v.point(C)<0?Z.some(-v.point(C)):Z.none()},iA=function(v,C,D){var P=v.move(D,oh),F=Dw(C,v,D,P,xC).getOr(P);return vm(v,F,C).fold(function(){return C.situsFromPoint(F.left,v.point(F))},function(G){return C.scrollBy(0,G),C.situsFromPoint(F.left,v.point(F)-G)})},D1={tryUp:q(iA,A4),tryDown:q(iA,E4),ieTryUp:gm,ieTryDown:oA,getJumpSize:I(oh)},Zg=20,Rr=function(v,C,D){return v.getSelection().bind(function(P){return JD(C,P.finish,P.foffset,D).fold(function(){return Z.some(l0(P.finish,P.foffset))},function(F){var G=v.fromSitus(F),re=N0.verify(v,P.finish,P.foffset,G.finish,G.foffset,D.failure,C);return ZD(re)})})},wC=function(v,C,D,P,F,G){return G===0?Z.none():up(v,C,D,P,F).bind(function(re){var de=v.fromSitus(re),Se=N0.verify(v,D,P,de.finish,de.foffset,F.failure,C);return N0.cata(Se,function(){return Z.none()},function(){return Z.some(re)},function(Le){return ro(D,Le)&&P===0?Aw(v,D,P,k1,F):wC(v,C,Le,0,F,G-1)},function(Le){return ro(D,Le)&&P===_f(Le)?Aw(v,D,P,M1,F):wC(v,C,Le,_f(Le),F,G-1)})})},Aw=function(v,C,D,P,F){return bC(v,C,D).bind(function(G){return _C(v,F,P(G,D1.getJumpSize()))})},_C=function(v,C,D){var P=Oe().browser;return P.isChrome()||P.isSafari()||P.isFirefox()||P.isEdge()?C.otherRetry(v,D):P.isIE()?C.ieRetry(v,D):Z.none()},up=function(v,C,D,P,F){return bC(v,D,P).bind(function(G){return _C(v,F,G)})},Ew=function(v,C,D){return Rr(v,C,D).bind(function(P){return wC(v,C,P.element,P.offset,D,Zg).map(v.fromSitus)})},A1=function(v,C){return ip(v,function(D){return sa(D).exists(function(P){return ro(P,C)})})},Ow=function(v,C,D,P,F){return Ma(P,"td,th",C).bind(function(G){return Ma(G,"table",C).bind(function(re){return A1(F,re)?Ew(v,C,D).bind(function(de){return Ma(de.finish,"td,th",C).map(function(Se){return{start:G,finish:Se,range:de}})}):Z.none()})})},SC=function(v,C,D,P,F,G){return Oe().browser.isIE()?Z.none():G(P,C).orThunk(function(){return Ow(v,C,D,P,F).map(function(re){var de=re.range;return R0.create(Z.some(Yg(de.start,de.soffset,de.finish,de.foffset)),!0)})})},CC=function(v,C){return Ma(v,"tr",C).bind(function(D){return Ma(D,"table",C).bind(function(P){var F=ql(P,"tr");return ro(D,F[0])?GD(P,function(G){return nx(G).isSome()},C).map(function(G){var re=_f(G);return R0.create(Z.some(Yg(G,re,G,re)),!0)}):Z.none()})})},Qr=function(v,C){return Ma(v,"tr",C).bind(function(D){return Ma(D,"table",C).bind(function(P){var F=ql(P,"tr");return ro(D,F[F.length-1])?XD(P,function(G){return Fy(G).isSome()},C).map(function(G){return R0.create(Z.some(Yg(G,0,G,0)),!0)}):Z.none()})})},aA=function(v,C,D,P,F,G,re){return Ow(v,D,P,F,G).bind(function(de){return WD(C,D,de.start,de.finish,re)})},po=function(v,C){return Ma(v,"td,th",C)},uA=function(v,C,D,P){var F=Ug(),G=F.clear,re=function(ot){F.on(function(Gt){P.clearBeforeUpdate(C),po(ot.target,D).each(function(_n){Rp(Gt,_n,D).each(function(sn){var Xt=sn.boxes.getOr([]);if(Xt.length===1){var Nn=Xt[0],Pn=vx(Nn)==="false",xr=Jf(gx(ot.target),Nn,ro);Pn&&xr&&(P.selectRange(C,Xt,Nn,Nn),v.selectContents(Nn))}else Xt.length>1&&(P.selectRange(C,Xt,sn.start,sn.finish),v.selectContents(_n))})})})},de=function(ot){P.clear(C),po(ot.target,D).each(F.set)},Se=function(ot){re(ot)},Le=function(ot){re(ot),G()};return{clearstate:G,mousedown:de,mouseover:Se,mouseup:Le}},E1={traverse:U,gather:hC,relative:gl.before,otherRetry:D1.tryDown,ieRetry:D1.ieTryDown,failure:N0.failedDown},Iw={traverse:ue,gather:T1,relative:gl.before,otherRetry:D1.tryUp,ieRetry:D1.ieTryUp,failure:N0.failedUp},ym=function(v){return function(C){return C===v}},TC=ym(38),Rw=ym(40),O1=function(v){return v>=37&&v<=40},sA={isBackward:ym(37),isForward:ym(39)},$r={isBackward:ym(39),isForward:ym(37)},lA=function(v){var C=v!==void 0?v.dom:document,D=C.body.scrollLeft||C.documentElement.scrollLeft,P=C.body.scrollTop||C.documentElement.scrollTop;return Ri(D,P)},cA=function(v,C,D){var P=D!==void 0?D.dom:document,F=P.defaultView;F&&F.scrollBy(v,C)},z0=function(v){var C=function(Pn,xr){return It.fromPoint(It.fromDom(v.document),Pn,xr)},D=function(Pn){return Pn.dom.getBoundingClientRect()},P=function(Pn,xr,qo,Ar){var Gr=rp.exact(Pn,xr,qo,Ar);return BD(v,Gr)},F=function(){return x1(v).map(function(Pn){return jD(v,Pn)})},G=function(Pn){var xr=rp.relative(Pn.start,Pn.finish);return jD(v,xr)},re=function(Pn,xr){return v4(v,Pn,xr).map(function(qo){return mm.create(qo.start,qo.soffset,qo.finish,qo.foffset)})},de=function(){zD(v)},Se=function(Pn){Pn===void 0&&(Pn=!1),x1(v).each(function(xr){return xr.fold(function(qo){return qo.collapse(Pn)},function(qo,Ar){var Gr=Pn?qo:Ar;vw(v,Gr,Gr)},function(qo,Ar,Gr,Po){var xo=Pn?qo:Gr,Fa=Pn?Ar:Po;gw(v,xo,Fa,xo,Fa)})})},Le=function(Pn){iC(v,Pn,!1)},ot=function(Pn){iC(v,Pn)},Gt=function(Pn){gw(v,Pn.start,Pn.soffset,Pn.finish,Pn.foffset)},_n=function(Pn,xr){vw(v,Pn,xr)},sn=function(){return v.innerHeight},Xt=function(){var Pn=lA(It.fromDom(v.document));return Pn.top},Nn=function(Pn,xr){cA(Pn,xr,It.fromDom(v.document))};return{elementFromPoint:C,getRect:D,getRangedRect:P,getSelection:F,fromSitus:G,situsFromPoint:re,clearSelection:de,collapseSelection:Se,setSelection:Gt,setRelativeSelection:_n,selectNode:Le,selectContents:ot,getInnerHeight:sn,getScrollY:Xt,scrollBy:Nn}},Qg=function(v,C){return{rows:v,cols:C}},fA=function(v,C,D,P){var F=z0(v),G=uA(F,C,D,P);return{clearstate:G.clearstate,mousedown:G.mousedown,mouseover:G.mouseover,mouseup:G.mouseup}},dA=function(v,C,D,P){var F=z0(v),G=function(){return P.clear(C),Z.none()},re=function(Se,Le,ot,Gt,_n,sn){var Xt=Se.raw,Nn=Xt.which,Pn=Xt.shiftKey===!0,xr=Fv(C,P.selectedSelector).fold(function(){return O1(Nn)&&!Pn&&P.clearBeforeUpdate(C),Rw(Nn)&&Pn?q(aA,F,C,D,E1,Gt,Le,P.selectRange):TC(Nn)&&Pn?q(aA,F,C,D,Iw,Gt,Le,P.selectRange):Rw(Nn)?q(SC,F,D,E1,Gt,Le,Qr):TC(Nn)?q(SC,F,D,Iw,Gt,Le,CC):Z.none},function(qo){var Ar=function(Gr){return function(){var Po=Mn(Gr,function(xo){return lC(xo.rows,xo.cols,C,qo,P)});return Po.fold(function(){return gf(C,P.firstSelectedSelector,P.lastSelectedSelector).map(function(xo){var Fa=Rw(Nn)||sn.isForward(Nn)?gl.after:gl.before;return F.setRelativeSelection(gl.on(xo.first,0),Fa(xo.table)),P.clear(C),R0.create(Z.none(),!0)})},function(xo){return Z.some(R0.create(Z.none(),!0))})}};return Rw(Nn)&&Pn?Ar([Qg(1,0)]):TC(Nn)&&Pn?Ar([Qg(-1,0)]):sn.isBackward(Nn)&&Pn?Ar([Qg(0,-1),Qg(-1,0)]):sn.isForward(Nn)&&Pn?Ar([Qg(0,1),Qg(1,0)]):O1(Nn)&&!Pn?G:Z.none});return xr()},de=function(Se,Le,ot,Gt,_n){return Fv(C,P.selectedSelector).fold(function(){var sn=Se.raw,Xt=sn.which,Nn=sn.shiftKey===!0;return Nn&&O1(Xt)?xw(C,D,Le,ot,Gt,_n,P.selectRange):Z.none()},Z.none)};return{keydown:re,keyup:de}},MC=function(v,C,D,P){var F=z0(v);return function(G,re){P.clearBeforeUpdate(C),Rp(G,re,D).each(function(de){var Se=de.boxes.getOr([]);P.selectRange(C,Se,de.start,de.finish),F.selectContents(re),F.collapseSelection()})}},Pw=function(v,C){mt(C,function(D){Xp(v,D)})},hA=function(v){return function(C){Pi(C,v)}},Nw=function(v){return function(C){Pw(C,v)}},pA=function(v){var C=hA(v.selected),D=Nw([v.selected,v.lastSelected,v.firstSelected]),P=function(G){var re=ql(G,v.selectedSelector);mt(re,D)},F=function(G,re,de,Se){P(G),mt(re,C),Pi(de,v.firstSelected),Pi(Se,v.lastSelected)};return{clearBeforeUpdate:P,clear:P,selectRange:F,selectedSelector:v.selectedSelector,firstSelectedSelector:v.firstSelectedSelector,lastSelectedSelector:v.lastSelectedSelector}},mA=function(v,C,D){var P=function(Se){Ji(Se,v.selected),Ji(Se,v.firstSelected),Ji(Se,v.lastSelected)},F=function(Se){xu(Se,v.selected,"1")},G=function(Se){re(Se),D()},re=function(Se){var Le=ql(Se,v.selectedSelector+","+v.firstSelectedSelector+","+v.lastSelectedSelector);mt(Le,P)},de=function(Se,Le,ot,Gt){G(Se),mt(Le,F),xu(ot,v.firstSelected,"1"),xu(Gt,v.lastSelected,"1"),C(Le,ot,Gt)};return{clearBeforeUpdate:re,clear:G,selectRange:de,selectedSelector:v.selectedSelector,firstSelectedSelector:v.firstSelectedSelector,lastSelectedSelector:v.lastSelectedSelector}},O4={byClass:pA,byAttr:mA},I4=function(v,C){var D=v.slice(0,C[C.length-1].row+1),P=Zy(D);return Ue(P,function(F){var G=F.cells.slice(0,C[C.length-1].column+1);return $e(G,function(re){return re.element})})},R4=function(v,C){var D=v.slice(C[0].row+C[0].rowspan-1,v.length),P=Zy(D);return Ue(P,function(F){var G=F.cells.slice(C[0].column+C[0].colspan-1,F.cells.length);return $e(G,function(re){return re.element})})},P4=function(v,C,D){var P=yo.fromTable(v),F=Mf(P,C);return F.map(function(G){var re=rm(P,D,!1),de=I4(re,G),Se=R4(re,G);return{upOrLeftCells:de,downOrRightCells:Se}})},gA=tinymce.util.Tools.resolve("tinymce.Env"),kC=function(v){return Ci(It.fromDom(v.target),"ephox-snooker-resizer-bar")===!1};function zo(v,C,D){var P=function(re,de,Se){D.targets().each(function(Le){var ot=fa(de);ot.each(function(Gt){var _n=nS(v),sn=ha(k,It.fromDom(v.getDoc()),_n),Xt=P4(Gt,Le,sn);iO(v,re,de,Se,Xt)})})},F=function(){return _x(v)},G=O4.byAttr(pg,P,F);return v.on("init",function(re){var de=v.getWin(),Se=Ol(v),Le=qu(v),ot=function(){var Yo=v.selection,eo=It.fromDom(Yo.getStart()),Fo=It.fromDom(Yo.getEnd()),bi=Sr(fa,[eo,Fo]);bi.fold(function(){return G.clear(Se)},k)},Gt=fA(de,Se,Le,G),_n=dA(de,Se,Le,G),sn=MC(de,Se,Le,G),Xt=function(Yo){return Yo.raw.shiftKey===!0};v.on("TableSelectorChange",function(Yo){return sn(Yo.start,Yo.finish)});var Nn=function(Yo,eo){Xt(Yo)&&(eo.kill&&Yo.kill(),eo.selection.each(function(Fo){var bi=rp.relative(Fo.start,Fo.finish),pa=hm(de,bi);v.selection.setRng(pa)}))},Pn=function(Yo){var eo=wg(Yo);if(eo.raw.shiftKey&&O1(eo.raw.which)){var Fo=v.selection.getRng(),bi=It.fromDom(Fo.startContainer),pa=It.fromDom(Fo.endContainer);_n.keyup(eo,bi,Fo.startOffset,pa,Fo.endOffset).each(function(ah){Nn(eo,ah)})}},xr=function(Yo){var eo=wg(Yo);C().each(function(gi){return gi.hideBars()});var Fo=v.selection.getRng(),bi=It.fromDom(Fo.startContainer),pa=It.fromDom(Fo.endContainer),ah=Jl(sA,$r)(It.fromDom(v.selection.getStart()));_n.keydown(eo,bi,Fo.startOffset,pa,Fo.endOffset,ah).each(function(gi){Nn(eo,gi)}),C().each(function(gi){return gi.showBars()})},qo=function(Yo){return Yo.button===0},Ar=function(Yo){return Yo.buttons===void 0||gA.browser.isEdge()&&Yo.buttons===0?!0:(Yo.buttons&1)!==0},Gr=function(Yo){Gt.clearstate()},Po=function(Yo){qo(Yo)&&kC(Yo)&&Gt.mousedown(wg(Yo))},xo=function(Yo){Ar(Yo)&&kC(Yo)&&Gt.mouseover(wg(Yo))},Fa=function(Yo){qo(Yo)&&kC(Yo)&&Gt.mouseup(wg(Yo))},Lu=function(){var Yo=Df(It.fromDom(Se)),eo=Df(0),Fo=function(bi){var pa=It.fromDom(bi.target);if(Oo(pa)==="td"||Oo(pa)==="th"){var ah=Yo.get(),gi=eo.get();ro(ah,pa)&&bi.timeStamp-gi<300&&(bi.preventDefault(),sn(pa,pa))}Yo.set(pa),eo.set(bi.timeStamp)};return{touchEnd:Fo}},Xs=Lu();v.on("dragstart",Gr),v.on("mousedown",Po),v.on("mouseover",xo),v.on("mouseup",Fa),v.on("touchend",Xs.touchEnd),v.on("keyup",Pn),v.on("keydown",xr),v.on("NodeChange",ot)}),{clear:G.clear}}var vA=function(v,C){return Ur(v,C).isSome()},I1=function(v,C){var D=Df(Z.none()),P=Df([]),F=Z.none(),G=ua("caption"),re=function(eo){return F.forall(function(Fo){return!Fo[eo]})},de=function(){return gg(hu(v),qu(v))},Se=function(){return gg(ir(v),qu(v))},Le=function(){return de().bind(function(eo){return Oh(Gl(fa(eo),Se().bind(fa),function(Fo,bi){return ro(Fo,bi)?G(eo)?Z.some($d(eo)):Z.some(Vp(C,Fo,eo)):Z.none()}))})},ot=function(eo){var Fo=fa(eo.element);return Fo.map(function(bi){var pa=yo.fromTable(bi),ah=Mf(pa,eo).getOr([]),gi=fe(ah,function(uc,gs){return gs.isLocked&&(uc.onAny=!0,gs.column===0?uc.onFirst=!0:gs.column+gs.colspan>=pa.grid.columns&&(uc.onLast=!0)),uc},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:fS(pa,eo).isSome(),unmergeable:Eg(pa,eo).isSome(),locked:gi}})},Gt=function(){D.set(pr(Le)()),F=D.get().bind(ot),mt(P.get(),function(eo){return eo()})},_n=function(eo){return eo(),P.set(P.get().concat([eo])),function(){P.set(Ot(P.get(),function(Fo){return Fo!==eo}))}},sn=function(eo,Fo){return _n(function(){return D.get().fold(function(){eo.setDisabled(!0)},function(bi){eo.setDisabled(Fo(bi))})})},Xt=function(eo,Fo,bi){return _n(function(){return D.get().fold(function(){eo.setDisabled(!0),eo.setActive(!1)},function(pa){eo.setDisabled(Fo(pa)),eo.setActive(bi(pa))})})},Nn=function(eo){return F.exists(function(Fo){return Fo.locked[eo]})},Pn=function(eo){return sn(eo,function(Fo){return!1})},xr=function(eo){return sn(eo,function(Fo){return G(Fo.element)})},qo=function(eo){return function(Fo){return sn(Fo,function(bi){return G(bi.element)||Nn(eo)})}},Ar=function(eo){return function(Fo){return sn(Fo,function(bi){return G(bi.element)||eo().isNone()})}},Gr=function(eo,Fo){return function(bi){return sn(bi,function(pa){return G(pa.element)||eo().isNone()||Nn(Fo)})}},Po=function(eo){return sn(eo,function(Fo){return re("mergeable")})},xo=function(eo){return sn(eo,function(Fo){return re("unmergeable")})},Fa=function(eo){return Xt(eo,ae,function(Fo){var bi=fa(Fo.element,qu(v));return bi.exists(function(pa){return vA(pa,"caption")})})},Lu=function(eo,Fo){return function(bi){return Xt(bi,function(pa){return G(pa.element)},function(){return v.queryCommandValue(eo)===Fo})}},Xs=Lu("mceTableRowType","header"),Yo=Lu("mceTableColType","th");return v.on("NodeChange ExecCommand TableSelectorChange",Gt),{onSetupTable:Pn,onSetupCellOrRow:xr,onSetupColumn:qo,onSetupPasteable:Ar,onSetupPasteableColumn:Gr,onSetupMergeable:Po,onSetupUnmergeable:xo,resetTargets:Gt,onSetupTableWithCaption:Fa,onSetupTableRowHeaders:Xs,onSetupTableColumnHeaders:Yo,targets:D.get}},R1=function(v,C,D,P){v.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(de){return de("inserttable | cell row column | advtablesort | tableprops deletetable")}});var F=function(de){return function(){return v.execCommand(de)}};v.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:F("mceTableProps"),icon:"table",onSetup:D.onSetupTable}),v.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:F("mceTableDelete"),icon:"table-delete-table",onSetup:D.onSetupTable}),v.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:F("mceTableCellProps"),icon:"table-cell-properties",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:F("mceTableMergeCells"),icon:"table-merge-cells",onSetup:D.onSetupMergeable}),v.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:F("mceTableSplitCells"),icon:"table-split-cells",onSetup:D.onSetupUnmergeable}),v.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:F("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:F("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:F("mceTableDeleteRow"),icon:"table-delete-row",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:F("mceTableRowProps"),icon:"table-row-properties",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:F("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:D.onSetupColumn("onFirst")}),v.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:F("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:D.onSetupColumn("onLast")}),v.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:F("mceTableDeleteCol"),icon:"table-delete-column",onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:F("mceTableCutRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:F("mceTableCopyRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:F("mceTablePasteRowBefore"),onSetup:D.onSetupPasteable(P.getRows)}),v.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:F("mceTablePasteRowAfter"),onSetup:D.onSetupPasteable(P.getRows)}),v.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:F("mceTableCutCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:F("mceTableCopyCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:F("mceTablePasteColBefore"),onSetup:D.onSetupPasteableColumn(P.getColumns,"onFirst")}),v.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:F("mceTablePasteColAfter"),onSetup:D.onSetupPasteableColumn(P.getColumns,"onLast")}),v.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:F("mceInsertTable"),icon:"table"});var G=qg(Qp(v));G.length!==0&&v.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:l1(v,C,G,"tableclass",function(de){return v.execCommand("mceTableToggleClass",!1,de)}),onSetup:D.onSetupTable});var re=qg(Q_(v));re.length!==0&&v.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:l1(v,C,re,"tablecellclass",function(de){return v.execCommand("mceTableCellToggleClass",!1,de)}),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:l1(v,C,Vg,"tablecellverticalalign",sm(v,"vertical-align")),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:l1(v,C,Cx(v),"tablecellborderwidth",sm(v,"border-width")),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:l1(v,C,nc(v),"tablecellborderstyle",sm(v,"border-style")),onSetup:D.onSetupCellOrRow}),v.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:F("mceTableToggleCaption"),icon:"table-caption",onSetup:D.onSetupTableWithCaption}),v.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(de){return de(aw(v,oS(v),"background-color"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(de){return de(aw(v,iS(v),"border-color"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:c1(v),onSetup:D.onSetupTableRowHeaders}),v.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:FS(v),onSetup:D.onSetupTableColumnHeaders})},Lw=function(v){var C=function(P){return v.dom.is(P,"table")&&v.getBody().contains(P)},D=cd(v);D.length>0&&v.ui.registry.addContextToolbar("table",{predicate:C,items:D,scope:"node",position:"node"})},Bw=function(v,C,D,P){var F=function(sn){return function(){return v.execCommand(sn)}},G=function(sn){v.execCommand("mceInsertTable",!1,{rows:sn.numRows,columns:sn.numColumns})},re={text:"Table properties",onSetup:D.onSetupTable,onAction:F("mceTableProps")},de={text:"Delete table",icon:"table-delete-table",onSetup:D.onSetupTable,onAction:F("mceTableDelete")};v.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:F("mceTableInsertRowBefore"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:F("mceTableInsertRowAfter"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:F("mceTableDeleteRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:F("mceTableRowProps"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:F("mceTableCutRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:F("mceTableCopyRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:F("mceTablePasteRowBefore"),onSetup:D.onSetupPasteable(P.getRows)}),v.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:F("mceTablePasteRowAfter"),onSetup:D.onSetupPasteable(P.getRows)});var Se={type:"nestedmenuitem",text:"Row",getSubmenuItems:I("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};v.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:F("mceTableInsertColBefore"),onSetup:D.onSetupColumn("onFirst")}),v.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:F("mceTableInsertColAfter"),onSetup:D.onSetupColumn("onLast")}),v.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:F("mceTableDeleteCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:F("mceTableCutCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:F("mceTableCopyCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:F("mceTablePasteColBefore"),onSetup:D.onSetupPasteableColumn(P.getColumns,"onFirst")}),v.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:F("mceTablePasteColAfter"),onSetup:D.onSetupPasteableColumn(P.getColumns,"onLast")});var Le={type:"nestedmenuitem",text:"Column",getSubmenuItems:I("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};v.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:F("mceTableCellProps"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:F("mceTableMergeCells"),onSetup:D.onSetupMergeable}),v.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:F("mceTableSplitCells"),onSetup:D.onSetupUnmergeable});var ot={type:"nestedmenuitem",text:"Cell",getSubmenuItems:I("tablecellprops tablemergecells tablesplitcells")};Zh(v)===!1?v.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:F("mceInsertTable")}):v.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:G}]}}),v.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:F("mceInsertTable")}),v.ui.registry.addMenuItem("tableprops",re),v.ui.registry.addMenuItem("deletetable",de),v.ui.registry.addNestedMenuItem("row",Se),v.ui.registry.addNestedMenuItem("column",Le),v.ui.registry.addNestedMenuItem("cell",ot),v.ui.registry.addContextMenu("table",{update:function(){return D.resetTargets(),D.targets().fold(I(""),function(sn){return Oo(sn.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var Gt=qg(Qp(v));Gt.length!==0&&v.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Gc(v,C,Gt,"tableclass",function(sn){return v.execCommand("mceTableToggleClass",!1,sn)})},onSetup:D.onSetupTable});var _n=qg(Q_(v));_n.length!==0&&v.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Gc(v,C,_n,"tablecellclass",function(sn){return v.execCommand("mceTableCellToggleClass",!1,sn)})},onSetup:D.onSetupCellOrRow}),v.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Gc(v,C,Vg,"tablecellverticalalign",sm(v,"vertical-align"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Gc(v,C,Cx(v),"tablecellborderwidth",sm(v,"border-width"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Gc(v,C,nc(v),"tablecellborderstyle",sm(v,"border-style"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:F("mceTableToggleCaption"),onSetup:D.onSetupTableWithCaption}),v.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return aw(v,oS(v),"background-color")},onSetup:D.onSetupCellOrRow}),v.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return aw(v,iS(v),"border-color")},onSetup:D.onSetupCellOrRow}),v.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:c1(v),onSetup:D.onSetupTableRowHeaders}),v.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:FS(v),onSetup:D.onSetupTableColumnHeaders})},yA=function(v){var C=ks(function(){return Ol(v)},function(){return ec(hu(v),qu(v))},pg.selectedSelector),D=I1(v,C),P=Px(v),F=zo(v,P.lazyResize,D),G=y0(v,F,P.lazyWire),re=lw();return h1(v,G,F,C,re),C0(v,G,C),ud(v,C,G),Bw(v,C,D,re),R1(v,C,D,re),Lw(v),v.on("PreInit",function(){v.serializer.addTempAttr(pg.firstSelected),v.serializer.addTempAttr(pg.lastSelected),n4(v)}),Kd(v)&&v.on("keydown",function(de){y4(de,v,F)}),v.on("remove",function(){P.destroy()}),ms(v,re,P,D)};function bA(){VM.add("table",yA)}bA()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(Xe){var Bt=typeof Xe;return Xe===null?"null":Bt==="object"&&(Array.prototype.isPrototypeOf(Xe)||Xe.constructor&&Xe.constructor.name==="Array")?"array":Bt==="object"&&(String.prototype.isPrototypeOf(Xe)||Xe.constructor&&Xe.constructor.name==="String")?"string":Bt},t=function(Xe){return function(Bt){return e(Bt)===Xe}},r=function(Xe){return function(Bt){return typeof Bt===Xe}},i=t("string"),u=r("function"),l=function(){},f=function(Xe){return function(){return Xe}},h=function(Xe){return Xe};function g(Xe){for(var Bt=[],Mn=1;Mn<arguments.length;Mn++)Bt[Mn-1]=arguments[Mn];return function(){for(var Qt=[],Zn=0;Zn<arguments.length;Zn++)Qt[Zn]=arguments[Zn];var pr=Bt.concat(Qt);return Xe.apply(null,pr)}}var y=f(!1),b=f(!0),S=tinymce.util.Tools.resolve("tinymce.util.Tools"),_=tinymce.util.Tools.resolve("tinymce.util.XHR"),k=function(Xe){return Xe.getParam("template_cdate_classes","cdate")},E=function(Xe){return Xe.getParam("template_mdate_classes","mdate")},R=function(Xe){return Xe.getParam("template_selected_content_classes","selcontent")},I=function(Xe){return Xe.getParam("template_preview_replace_values")},z=function(Xe){return Xe.getParam("content_style","","string")},L=function(Xe){return Xe.getParam("content_css_cors",!1,"boolean")},q=function(Xe){return Xe.getParam("template_replace_values")},X=function(Xe){return Xe.getParam("templates")},Y=function(Xe){return Xe.getParam("template_cdate_format",Xe.translate("%Y-%m-%d"))},ae=function(Xe){return Xe.getParam("template_mdate_format",Xe.translate("%Y-%m-%d"))},te=function(Xe){var Bt=Xe.getParam("body_class","","hash");return Bt[Xe.id]||""},ie=function(Xe){var Bt=Xe.getParam("body_class","","string");return Bt.indexOf("=")===-1?Bt:te(Xe)},le=function(Xe,Bt){if(Xe=""+Xe,Xe.length<Bt)for(var Mn=0;Mn<Bt-Xe.length;Mn++)Xe="0"+Xe;return Xe},ce=function(Xe,Bt,Mn){Mn===void 0&&(Mn=new Date);var Qt="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Zn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),pr="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ao="January February March April May June July August September October November December".split(" ");return Bt=Bt.replace("%D","%m/%d/%Y"),Bt=Bt.replace("%r","%I:%M:%S %p"),Bt=Bt.replace("%Y",""+Mn.getFullYear()),Bt=Bt.replace("%y",""+Mn.getYear()),Bt=Bt.replace("%m",le(Mn.getMonth()+1,2)),Bt=Bt.replace("%d",le(Mn.getDate(),2)),Bt=Bt.replace("%H",""+le(Mn.getHours(),2)),Bt=Bt.replace("%M",""+le(Mn.getMinutes(),2)),Bt=Bt.replace("%S",""+le(Mn.getSeconds(),2)),Bt=Bt.replace("%I",""+((Mn.getHours()+11)%12+1)),Bt=Bt.replace("%p",Mn.getHours()<12?"AM":"PM"),Bt=Bt.replace("%B",""+Xe.translate(ao[Mn.getMonth()])),Bt=Bt.replace("%b",""+Xe.translate(pr[Mn.getMonth()])),Bt=Bt.replace("%A",""+Xe.translate(Zn[Mn.getDay()])),Bt=Bt.replace("%a",""+Xe.translate(Qt[Mn.getDay()])),Bt=Bt.replace("%%","%"),Bt},ne=function(Xe,Bt){return function(){var Mn=X(Xe);u(Mn)?Mn(Bt):i(Mn)?_.send({url:Mn,success:function(Qt){Bt(JSON.parse(Qt))}}):Bt(Mn)}},Z=function(Xe,Bt){return S.each(Bt,function(Mn,Qt){u(Mn)&&(Mn=Mn(Qt)),Xe=Xe.replace(new RegExp("\\{\\$"+Qt+"\\}","g"),Mn)}),Xe},Ce=function(Xe,Bt){var Mn=Xe.dom,Qt=q(Xe);S.each(Mn.select("*",Bt),function(Zn){S.each(Qt,function(pr,ao){Mn.hasClass(Zn,ao)&&u(pr)&&pr(Zn)})})},ze=function(Xe,Bt){return new RegExp("\\b"+Bt+"\\b","g").test(Xe.className)},ke=function(Xe,Bt,Mn){var Qt=Xe.dom,Zn=Xe.selection.getContent();Mn=Z(Mn,q(Xe));var pr=Qt.create("div",null,Mn),ao=Qt.select(".mceTmpl",pr);ao&&ao.length>0&&(pr=Qt.create("div",null),pr.appendChild(ao[0].cloneNode(!0))),S.each(Qt.select("*",pr),function(Mo){ze(Mo,k(Xe).replace(/\s+/g,"|"))&&(Mo.innerHTML=ce(Xe,Y(Xe))),ze(Mo,E(Xe).replace(/\s+/g,"|"))&&(Mo.innerHTML=ce(Xe,ae(Xe))),ze(Mo,R(Xe).replace(/\s+/g,"|"))&&(Mo.innerHTML=Zn)}),Ce(Xe,pr),Xe.execCommand("mceInsertContent",!1,pr.innerHTML),Xe.addVisual()},_t=function(){return tt},tt=function(){var Xe=function(Qt){return Qt()},Bt=h,Mn={fold:function(Qt,Zn){return Qt()},isSome:y,isNone:b,getOr:Bt,getOrThunk:Xe,getOrDie:function(Qt){throw new Error(Qt||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:Bt,orThunk:Xe,map:_t,each:l,bind:_t,exists:y,forall:b,filter:function(){return _t()},toArray:function(){return[]},toString:f("none()")};return Mn}(),$=function(Xe){var Bt=f(Xe),Mn=function(){return Zn},Qt=function(pr){return pr(Xe)},Zn={fold:function(pr,ao){return ao(Xe)},isSome:b,isNone:y,getOr:Bt,getOrThunk:Bt,getOrDie:Bt,getOrNull:Bt,getOrUndefined:Bt,or:Mn,orThunk:Mn,map:function(pr){return $(pr(Xe))},each:function(pr){pr(Xe)},bind:Qt,exists:Qt,forall:Qt,filter:function(pr){return pr(Xe)?Zn:tt},toArray:function(){return[Xe]},toString:function(){return"some("+Xe+")"}};return Zn},Ze=function(Xe){return Xe==null?tt:$(Xe)},$e={some:$,none:_t,from:Ze},mt=function(Xe,Bt){for(var Mn=Xe.length,Qt=new Array(Mn),Zn=0;Zn<Mn;Zn++){var pr=Xe[Zn];Qt[Zn]=Bt(pr,Zn)}return Qt},Qe=function(Xe,Bt,Mn){for(var Qt=0,Zn=Xe.length;Qt<Zn;Qt++){var pr=Xe[Qt];if(Bt(pr,Qt))return $e.some(pr);if(Mn(pr,Qt))break}return $e.none()},Et=function(Xe,Bt){return Qe(Xe,Bt,y)},Ot=tinymce.util.Tools.resolve("tinymce.Env"),Nt=tinymce.util.Tools.resolve("tinymce.util.Promise"),fe=Object.hasOwnProperty,$t=function(Xe,Bt){return Je(Xe,Bt)?$e.from(Xe[Bt]):$e.none()},Je=function(Xe,Bt){return fe.call(Xe,Bt)},Fe={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},St=function(Xe){return Xe.replace(/["'<>&]/g,function(Bt){return $t(Fe,Bt).getOr(Bt)})},Ue=function(Xe,Bt){if(Bt.indexOf("<html>")===-1){var Mn="",Qt=z(Xe),Zn=L(Xe)?' crossorigin="anonymous"':"";S.each(Xe.contentCSS,function(en){Mn+='<link type="text/css" rel="stylesheet" href="'+Xe.documentBaseURI.toAbsolute(en)+'"'+Zn+">"}),Qt&&(Mn+='<style type="text/css">'+Qt+"</style>");var pr=ie(Xe),ao=Xe.dom.encode,Mo=Ot.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Go='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Mo+")) {e.preventDefault();}}}, false);<\/script> ",gn=Xe.getBody().dir,vn=gn?' dir="'+ao(gn)+'"':"";Bt='<!DOCTYPE html><html><head><base href="'+ao(Xe.documentBaseURI.getURI())+'">'+Mn+Go+'</head><body class="'+ao(pr)+'"'+vn+">"+Bt+"</body></html>"}return Z(Bt,I(Xe))},Ye=function(Xe,Bt){var Mn=function(){if(!Bt||Bt.length===0){var en=Xe.translate("No templates defined.");return Xe.notificationManager.open({text:en,type:"info"}),$e.none()}return $e.from(S.map(Bt,function(vt,Tt){var hn=function(Bn){return Bn.url!==void 0};return{selected:Tt===0,text:vt.title,value:{url:hn(vt)?$e.from(vt.url):$e.none(),content:hn(vt)?$e.none():$e.from(vt.content),description:vt.description}}}))},Qt=function(en){return mt(en,function(vt){return{text:vt.text,value:vt.text}})},Zn=function(en,vt){return Et(en,function(Tt){return Tt.text===vt})},pr=function(en){Xe.windowManager.alert("Could not load the specified template.",function(){return en.focus("template")})},ao=function(en){return new Nt(function(vt,Tt){en.value.url.fold(function(){return vt(en.value.content.getOr(""))},function(hn){return _.send({url:hn,success:function(Bn){vt(Bn)},error:function(Bn){Tt(Bn)}})})})},Mo=function(en,vt){return function(Tt,hn){if(hn.name==="template"){var Bn=Tt.getData().template;Zn(en,Bn).each(function(bn){Tt.block("Loading..."),ao(bn).then(function(pt){vt(Tt,bn,pt)}).catch(function(){vt(Tt,bn,""),Tt.disable("save"),pr(Tt)})})}}},Go=function(en){return function(vt){var Tt=vt.getData();Zn(en,Tt.template).each(function(hn){ao(hn).then(function(Bn){Xe.execCommand("mceInsertTemplate",!1,Bn),vt.close()}).catch(function(){vt.disable("save"),pr(vt)})})}},gn=function(en){var vt=Qt(en),Tt=function(bn,pt){return{title:"Insert Template",size:"large",body:{type:"panel",items:bn},initialData:pt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Go(en),onChange:Mo(en,hn)}},hn=function(bn,pt,an){var On=Ue(Xe,an),wn=[{type:"selectbox",name:"template",label:"Templates",items:vt},{type:"htmlpanel",html:'<p aria-live="polite">'+St(pt.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],er={template:pt.text,preview:On};bn.unblock(),bn.redial(Tt(wn,er)),bn.focus("template")},Bn=Xe.windowManager.open(Tt([],{template:"",preview:""}));Bn.block("Loading..."),ao(en[0]).then(function(bn){hn(Bn,en[0],bn)}).catch(function(){hn(Bn,en[0],""),Bn.disable("save"),pr(Bn)})},vn=Mn();vn.each(gn)},st=function(Xe){return function(Bt){Ye(Xe,Bt)}},Ft=function(Xe){Xe.addCommand("mceInsertTemplate",g(ke,Xe)),Xe.addCommand("mceTemplate",ne(Xe,st(Xe)))},Ct=function(Xe){Xe.on("PreProcess",function(Bt){var Mn=Xe.dom,Qt=ae(Xe);S.each(Mn.select("div",Bt.node),function(Zn){Mn.hasClass(Zn,"mceTmpl")&&(S.each(Mn.select("*",Zn),function(pr){Mn.hasClass(pr,E(Xe).replace(/\s+/g,"|"))&&(pr.innerHTML=ce(Xe,Qt))}),Ce(Xe,Zn))})})},Rt=function(Xe){var Bt=function(){return Xe.execCommand("mceTemplate")};Xe.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:Bt}),Xe.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:Bt})};function ur(){n.add("template",function(Xe){Rt(Xe),Ft(Xe),Ct(Xe)})}ur()})();(function(){var n=function(he){var Me=he,We=function(){return Me},lt=function(wt){Me=wt};return{get:We,set:lt}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(he){for(var Me,We=1,lt=arguments.length;We<lt;We++){Me=arguments[We];for(var wt in Me)Object.prototype.hasOwnProperty.call(Me,wt)&&(he[wt]=Me[wt])}return he},t.apply(this,arguments)};function r(he,Me,We){if(We||arguments.length===2)for(var lt=0,wt=Me.length,kt;lt<wt;lt++)(kt||!(lt in Me))&&(kt||(kt=Array.prototype.slice.call(Me,0,lt)),kt[lt]=Me[lt]);return he.concat(kt||Array.prototype.slice.call(Me))}var i=function(he){var Me=typeof he;return he===null?"null":Me==="object"&&(Array.prototype.isPrototypeOf(he)||he.constructor&&he.constructor.name==="Array")?"array":Me==="object"&&(String.prototype.isPrototypeOf(he)||he.constructor&&he.constructor.name==="String")?"string":Me},u=function(he){return function(Me){return i(Me)===he}},l=u("string"),f=u("object"),h=u("array"),g=function(){},y=function(he){return function(){return he}},b=function(he){return he},S=function(he){return function(){throw new Error(he)}},_=y(!1),k=y(!0),E=function(){return R},R=function(){var he=function(lt){return lt()},Me=b,We={fold:function(lt,wt){return lt()},isSome:_,isNone:k,getOr:Me,getOrThunk:he,getOrDie:function(lt){throw new Error(lt||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:Me,orThunk:he,map:E,each:g,bind:E,exists:_,forall:k,filter:function(){return E()},toArray:function(){return[]},toString:y("none()")};return We}(),I=function(he){var Me=y(he),We=function(){return wt},lt=function(kt){return kt(he)},wt={fold:function(kt,En){return En(he)},isSome:k,isNone:_,getOr:Me,getOrThunk:Me,getOrDie:Me,getOrNull:Me,getOrUndefined:Me,or:We,orThunk:We,map:function(kt){return I(kt(he))},each:function(kt){kt(he)},bind:lt,exists:lt,forall:lt,filter:function(kt){return kt(he)?wt:R},toArray:function(){return[he]},toString:function(){return"some("+he+")"}};return wt},z=function(he){return he==null?R:I(he)},L={some:I,none:E,from:z},q=Array.prototype.slice,X=Array.prototype.indexOf,Y=function(he,Me){return X.call(he,Me)},ae=function(he,Me){return Y(he,Me)>-1},te=function(he,Me){for(var We=he.length,lt=new Array(We),wt=0;wt<We;wt++){var kt=he[wt];lt[wt]=Me(kt,wt)}return lt},ie=function(he,Me){for(var We=0,lt=he.length;We<lt;We++){var wt=he[We];Me(wt,We)}},le=function(he,Me){for(var We=he.length-1;We>=0;We--){var lt=he[We];Me(lt,We)}},ce=function(he,Me){for(var We=[],lt=0,wt=he.length;lt<wt;lt++){var kt=he[lt];Me(kt,lt)&&We.push(kt)}return We},ne=function(he,Me,We){return le(he,function(lt,wt){We=Me(We,lt,wt)}),We},Z=function(he,Me,We){return ie(he,function(lt,wt){We=Me(We,lt,wt)}),We},Ce=function(he,Me,We){for(var lt=0,wt=he.length;lt<wt;lt++){var kt=he[lt];if(Me(kt,lt))return L.some(kt);if(We(kt,lt))break}return L.none()},ze=function(he,Me){return Ce(he,Me,_)},ke=function(he,Me){for(var We=0,lt=he.length;We<lt;++We){var wt=he[We];if(Me(wt,We)!==!0)return!1}return!0},_t=function(he,Me){var We=q.call(he,0);return We.sort(Me),We},tt=function(he,Me){return Me>=0&&Me<he.length?L.some(he[Me]):L.none()},$=function(he){return tt(he,0)},Ze=Object.keys,$e=Object.hasOwnProperty,mt=function(he,Me){return $e.call(he,Me)},Qe=function(he){if(!h(he))throw new Error("cases must be an array");if(he.length===0)throw new Error("there must be at least one case");var Me=[],We={};return ie(he,function(lt,wt){var kt=Ze(lt);if(kt.length!==1)throw new Error("one and only one name per case");var En=kt[0],Un=lt[En];if(We[En]!==void 0)throw new Error("duplicate key detected:"+En);if(En==="cata")throw new Error("cannot have a case named cata (sorry)");if(!h(Un))throw new Error("case arguments must be an array");Me.push(En),We[En]=function(){for(var _r=[],It=0;It<arguments.length;It++)_r[It]=arguments[It];var mr=_r.length;if(mr!==Un.length)throw new Error("Wrong number of arguments to case "+En+". Expected "+Un.length+" ("+Un+"), got "+mr);var qr=function(Uo){var ta=Ze(Uo);if(Me.length!==ta.length)throw new Error("Wrong number of arguments to match. Expected: "+Me.join(",")+`
Actual: `+ta.join(","));var ro=ke(Me,function(Fs){return ae(ta,Fs)});if(!ro)throw new Error("Not all branches were specified when using match. Specified: "+ta.join(", ")+`
Required: `+Me.join(", "));return Uo[En].apply(null,_r)};return{fold:function(){for(var Uo=[],ta=0;ta<arguments.length;ta++)Uo[ta]=arguments[ta];if(Uo.length!==he.length)throw new Error("Wrong number of arguments to fold. Expected "+he.length+", got "+Uo.length);var ro=Uo[wt];return ro.apply(null,_r)},match:qr,log:function(Uo){console.log(Uo,{constructors:Me,constructor:En,params:_r})}}}}),We},Et={generate:Qe};Et.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Ot=function(he){var Me=[],We=[];return ie(he,function(lt){lt.fold(function(wt){Me.push(wt)},function(wt){We.push(wt)})}),{errors:Me,values:We}},Nt=function(he){var Me=function(qr){return Nt(he)},We=function(qr){return Nt(he)},lt=function(qr){return Nt(qr(he))},wt=function(qr){return Nt(he)},kt=function(qr){qr(he)},En=function(qr){return qr(he)},Un=function(qr,Uo){return Uo(he)},_r=function(qr){return qr(he)},It=function(qr){return qr(he)},mr=function(){return L.some(he)};return{isValue:k,isError:_,getOr:y(he),getOrThunk:y(he),getOrDie:y(he),or:Me,orThunk:We,fold:Un,map:lt,mapError:wt,each:kt,bind:En,exists:_r,forall:It,toOptional:mr}},fe=function(he){var Me=function(It){return It()},We=function(){return S(String(he))()},lt=b,wt=function(It){return It()},kt=function(It){return fe(he)},En=function(It){return fe(It(he))},Un=function(It){return fe(he)},_r=function(It,mr){return It(he)};return{isValue:_,isError:k,getOr:b,getOrThunk:Me,getOrDie:We,or:lt,orThunk:wt,fold:_r,map:kt,mapError:En,each:g,bind:Un,exists:_,forall:k,toOptional:L.none}},$t=function(he,Me){return he.fold(function(){return fe(Me)},Nt)},Je={value:Nt,error:fe,fromOption:$t},Fe=function(he){return he.type==="inline-command"||he.type==="inline-format"},St=function(he){return he.type==="block-command"||he.type==="block-format"},Ue=function(he){return _t(he,function(Me,We){return Me.start.length===We.start.length?0:Me.start.length>We.start.length?-1:1})},Ye=function(he){var Me=function(kt){return Je.error({message:kt,pattern:he})},We=function(kt,En,Un){if(he.format!==void 0){var _r=void 0;if(h(he.format)){if(!ke(he.format,l))return Me(kt+" pattern has non-string items in the `format` array");_r=he.format}else if(l(he.format))_r=[he.format];else return Me(kt+" pattern has non-string `format` parameter");return Je.value(En(_r))}else return he.cmd!==void 0?l(he.cmd)?Je.value(Un(he.cmd,he.value)):Me(kt+" pattern has non-string `cmd` parameter"):Me(kt+" pattern is missing both `format` and `cmd` parameters")};if(!f(he))return Me("Raw pattern is not an object");if(!l(he.start))return Me("Raw pattern is missing `start` parameter");if(he.end!==void 0){if(!l(he.end))return Me("Inline pattern has non-string `end` parameter");if(he.start.length===0&&he.end.length===0)return Me("Inline pattern has empty `start` and `end` parameters");var lt=he.start,wt=he.end;return wt.length===0&&(wt=lt,lt=""),We("Inline",function(kt){return{type:"inline-format",start:lt,end:wt,format:kt}},function(kt,En){return{type:"inline-command",start:lt,end:wt,cmd:kt,value:En}})}else return he.replacement!==void 0?l(he.replacement)?he.start.length===0?Me("Replacement pattern has empty `start` parameter"):Je.value({type:"inline-command",start:"",end:he.start,cmd:"mceInsertContent",value:he.replacement}):Me("Replacement pattern has non-string `replacement` parameter"):he.start.length===0?Me("Block pattern has empty `start` parameter"):We("Block",function(kt){return{type:"block-format",start:he.start,format:kt[0]}},function(kt,En){return{type:"block-command",start:he.start,cmd:kt,value:En}})},st=function(he){if(he.type==="block-command")return{start:he.start,cmd:he.cmd,value:he.value};if(he.type==="block-format")return{start:he.start,format:he.format};if(he.type==="inline-command")return he.cmd==="mceInsertContent"&&he.start===""?{start:he.end,replacement:he.value}:{start:he.start,end:he.end,cmd:he.cmd,value:he.value};if(he.type==="inline-format")return{start:he.start,end:he.end,format:he.format.length===1?he.format[0]:he.format}},Ft=function(he){return{inlinePatterns:ce(he,Fe),blockPatterns:Ue(ce(he,St))}},Ct=function(he){var Me=function(lt){var wt=Ot(te(lt,Ye));if(wt.errors.length>0){var kt=wt.errors[0];throw new Error(kt.message+`:
`+JSON.stringify(kt.pattern,null,2))}he.set(Ft(wt.values))},We=function(){return r(r([],te(he.get().inlinePatterns,st),!0),te(he.get().blockPatterns,st),!0)};return{setPatterns:Me,getPatterns:We}},Rt=typeof window<"u"?window:Function("return this;")(),ur=function(){for(var he=[],Me=0;Me<arguments.length;Me++)he[Me]=arguments[Me];var We=Rt.console;We&&(We.error?We.error.apply(We,he):We.log.apply(We,he))},Xe=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],Bt=function(he){var Me=he.getParam("textpattern_patterns",Xe,"array");if(!h(Me))return ur("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var We=Ot(te(Me,Ye));return ie(We.errors,function(lt){return ur(lt.message,lt.pattern)}),Ft(We.values)},Mn=function(he){var Me=he.getParam("forced_root_block","p");return Me===!1?"":Me===!0?"p":Me},Qt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Zn=tinymce.util.Tools.resolve("tinymce.util.VK"),pr="\uFEFF",ao=" ",Mo=tinymce.util.Tools.resolve("tinymce.util.Tools"),Go=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),gn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),vn=function(he,Me){return{container:he,offset:Me}},en=function(he){return he.nodeType===Node.TEXT_NODE},vt=function(he,Me,We){if(Me&&he.isEmpty(Me)&&!We(Me)){var lt=Me.parentNode;he.remove(Me),vt(he,lt,We)}},Tt=function(he,Me,We,lt){lt===void 0&&(lt=!0);var wt=Me.startContainer.parentNode,kt=Me.endContainer.parentNode;Me.deleteContents(),lt&&!We(Me.startContainer)&&(en(Me.startContainer)&&Me.startContainer.data.length===0&&he.remove(Me.startContainer),en(Me.endContainer)&&Me.endContainer.data.length===0&&he.remove(Me.endContainer),vt(he,wt,We),wt!==kt&&vt(he,kt,We))},hn=function(he,Me){var We=Me.get(he);return h(We)&&$(We).exists(function(lt){return mt(lt,"block")})},Bn=function(he){return he.start.length===0},bn=function(he,Me){var We=L.from(he.dom.getParent(Me.startContainer,he.dom.isBlock));return Mn(he)===""?We.orThunk(function(){return L.some(he.getBody())}):We},pt=Go.DOM,an=function(he){return function(Me){return he===Me?-1:0}},On=function(he){return function(Me){return he.isBlock(Me)||ae(["BR","IMG","HR","INPUT"],Me.nodeName)||he.getContentEditable(Me)==="false"}},wn=function(he,Me,We){if(en(he)&&Me>=0)return L.some(vn(he,Me));var lt=gn(pt);return L.from(lt.backwards(he,Me,an(he),We)).map(function(wt){return vn(wt.container,wt.container.data.length)})},er=function(he,Me,We){if(en(he)&&Me>=he.length)return L.some(vn(he,Me));var lt=gn(pt);return L.from(lt.forwards(he,Me,an(he),We)).map(function(wt){return vn(wt.container,0)})},et=function(he,Me,We){if(!en(he))return L.none();var lt=he.textContent;if(Me>=0&&Me<=lt.length)return L.some(vn(he,Me));var wt=gn(pt);return L.from(wt.backwards(he,Me,an(he),We)).bind(function(kt){var En=kt.container.data;return et(kt.container,Me+En.length,We)})},jt=function(he,Me,We){if(!en(he))return L.none();var lt=he.textContent;if(Me<=lt.length)return L.some(vn(he,Me));var wt=gn(pt);return L.from(wt.forwards(he,Me,an(he),We)).bind(function(kt){return jt(kt.container,Me-lt.length,We)})},Pt=function(he,Me,We,lt,wt){var kt=gn(he,On(he));return L.from(kt.backwards(Me,We,lt,wt))},ln=function(he,Me,We){if(en(Me)&&(We<0||We>Me.data.length))return[];for(var lt=[We],wt=Me;wt!==he&&wt.parentNode;){for(var kt=wt.parentNode,En=0;En<kt.childNodes.length;En++)if(kt.childNodes[En]===wt){lt.push(En);break}wt=kt}return wt===he?lt.reverse():[]},Kn=function(he,Me,We,lt,wt){var kt=ln(he,Me,We),En=ln(he,lt,wt);return{start:kt,end:En}},Br=function(he,Me){var We=Me.slice(),lt=We.pop(),wt=Z(We,function(kt,En){return kt.bind(function(Un){return L.from(Un.childNodes[En])})},L.some(he));return wt.bind(function(kt){return en(kt)&&(lt<0||lt>kt.data.length)?L.none():L.some({node:kt,offset:lt})})},ei=function(he,Me){return Br(he,Me.start).bind(function(We){var lt=We.node,wt=We.offset;return Br(he,Me.end).map(function(kt){var En=kt.node,Un=kt.offset,_r=document.createRange();return _r.setStart(lt,wt),_r.setEnd(En,Un),_r})})},zr=function(he,Me){return Kn(he,Me.startContainer,Me.startOffset,Me.endContainer,Me.endOffset)},Hr=function(he,Me,We){var lt=er(Me,0,Me);lt.each(function(wt){var kt=wt.container;jt(kt,We.start.length,Me).each(function(En){var Un=he.createRng();Un.setStart(kt,0),Un.setEnd(En.container,En.offset),Tt(he,Un,function(_r){return _r===Me})})})},ui=function(he,Me){var We=he.dom,lt=Me.pattern,wt=ei(We.getRoot(),Me.range).getOrDie("Unable to resolve path range");return bn(he,wt).each(function(kt){lt.type==="block-format"?hn(lt.format,he.formatter)&&he.undoManager.transact(function(){Hr(he.dom,kt,lt),he.formatter.apply(lt.format)}):lt.type==="block-command"&&he.undoManager.transact(function(){Hr(he.dom,kt,lt),he.execCommand(lt.cmd,!1,lt.value)})}),!0},Ta=function(he,Me){var We=Me.replace(ao," ");return ze(he,function(lt){return Me.indexOf(lt.start)===0||We.indexOf(lt.start)===0})},Ui=function(he,Me){var We=he.dom,lt=he.selection.getRng();return bn(he,lt).filter(function(wt){var kt=Mn(he),En=kt===""&&We.is(wt,"body")||We.is(wt,kt);return wt!==null&&En}).bind(function(wt){var kt=wt.textContent,En=Ta(Me,kt);return En.map(function(Un){return Mo.trim(kt).length===Un.start.length?[]:[{pattern:Un,range:Kn(We.getRoot(),wt,0,wt,0)}]})}).getOr([])},Si=function(he,Me){if(Me.length!==0){var We=he.selection.getBookmark();ie(Me,function(lt){return ui(he,lt)}),he.selection.moveToBookmark(We)}},Yi=0,Ra=function(he){var Me=new Date,We=Me.getTime(),lt=Math.floor(Math.random()*1e9);return Yi++,he+"_"+lt+Yi+String(We)},ea=function(he,Me,We){return Me===""||he.length>=Me.length&&he.substr(We,We+Me.length)===Me},Li=function(he,Me){return ea(he,Me,he.length-Me.length)},Pa=function(he,Me){return he.create("span",{"data-mce-type":"bookmark",id:Me})},co=function(he,Me){var We=he.createRng();return We.setStartAfter(Me.start),We.setEndBefore(Me.end),We},Na=function(he,Me,We){var lt=ei(he.getRoot(),We).getOrDie("Unable to resolve path range"),wt=lt.startContainer,kt=lt.endContainer,En=lt.endOffset===0?kt:kt.splitText(lt.endOffset),Un=lt.startOffset===0?wt:wt.splitText(lt.startOffset);return{prefix:Me,end:En.parentNode.insertBefore(Pa(he,Me+"-end"),En),start:Un.parentNode.insertBefore(Pa(he,Me+"-start"),Un)}},dr=function(he,Me,We){vt(he,he.get(Me.prefix+"-end"),We),vt(he,he.get(Me.prefix+"-start"),We)},Vu=function(he,Me,We){return function(lt,wt){var kt=lt.data,En=kt.substring(0,wt),Un=En.lastIndexOf(We.charAt(We.length-1)),_r=En.lastIndexOf(We);return _r!==-1?_r+We.length:Un!==-1?Un+1:-1}},xa=function(he,Me,We,lt){var wt=Me.start,kt=Pt(he,lt.container,lt.offset,Vu(he,We,wt),We);return kt.bind(function(En){if(En.offset>=wt.length){var Un=he.createRng();return Un.setStart(En.container,En.offset-wt.length),Un.setEnd(En.container,En.offset),L.some(Un)}else{var _r=En.offset-wt.length;return et(En.container,_r,We).map(function(It){var mr=he.createRng();return mr.setStart(It.container,It.offset),mr.setEnd(En.container,En.offset),mr}).filter(function(It){return It.toString()===wt}).orThunk(function(){return xa(he,Me,We,vn(En.container,0))})}})},Ua=function(he,Me,We,lt,wt,kt){if(kt===void 0&&(kt=!1),Me.start.length===0&&!kt){var En=he.createRng();return En.setStart(We,lt),En.setEnd(We,lt),L.some(En)}return wn(We,lt,wt).bind(function(Un){var _r=xa(he,Me,wt,Un);return _r.bind(function(It){return kt&&(It.endContainer===Un.container&&It.endOffset===Un.offset||Un.offset===0&&It.endContainer.textContent.length===It.endOffset)?L.none():L.some(It)})})},aa=function(he,Me,We){var lt=he.dom,wt=lt.getRoot(),kt=We.pattern,En=We.position.container,Un=We.position.offset;return et(En,Un-We.pattern.end.length,Me).bind(function(_r){var It=Kn(wt,_r.container,_r.offset,En,Un);if(Bn(kt))return L.some({matches:[{pattern:kt,startRng:It,endRng:It}],position:_r});var mr=Za(he,We.remainingPatterns,_r.container,_r.offset,Me),qr=mr.getOr({matches:[],position:_r}),Uo=qr.position,ta=Ua(lt,kt,Uo.container,Uo.offset,Me,mr.isNone());return ta.map(function(ro){var Fs=zr(wt,ro);return{matches:qr.matches.concat([{pattern:kt,startRng:Fs,endRng:It}]),position:vn(ro.startContainer,ro.startOffset)}})})},Za=function(he,Me,We,lt,wt){var kt=he.dom;return wn(We,lt,kt.getRoot()).bind(function(En){var Un=kt.createRng();Un.setStart(wt,0),Un.setEnd(We,lt);for(var _r=Un.toString(),It=0;It<Me.length;It++){var mr=Me[It];if(Li(_r,mr.end)){var qr=Me.slice();qr.splice(It,1);var Uo=aa(he,wt,{pattern:mr,remainingPatterns:qr,position:En});if(Uo.isSome())return Uo}}return L.none()})},Hu=function(he,Me,We){he.selection.setRng(We),Me.type==="inline-format"?ie(Me.format,function(lt){he.formatter.apply(lt)}):he.execCommand(Me.cmd,!1,Me.value)},Qa=function(he,Me,We,lt){var wt=co(he.dom,We);Tt(he.dom,wt,lt),Hu(he,Me,wt)},ws=function(he,Me,We,lt,wt){var kt=he.dom,En=co(kt,lt),Un=co(kt,We);Tt(kt,Un,wt),Tt(kt,En,wt);var _r={prefix:We.prefix,start:We.end,end:lt.start},It=co(kt,_r);Hu(he,Me,It)},Pe=function(he,Me){var We=Ra("mce_textpattern"),lt=ne(Me,function(wt,kt){var En=Na(he,We+("_end"+wt.length),kt.endRng);return wt.concat([t(t({},kt),{endMarker:En})])},[]);return ne(lt,function(wt,kt){var En=lt.length-wt.length-1,Un=Bn(kt.pattern)?kt.endMarker:Na(he,We+("_start"+En),kt.startRng);return wt.concat([t(t({},kt),{startMarker:Un})])},[])},it=function(he,Me,We){var lt=he.selection.getRng();return lt.collapsed===!1?[]:bn(he,lt).bind(function(wt){var kt=lt.startOffset-(We?1:0);return Za(he,Me,lt.startContainer,kt,wt)}).fold(function(){return[]},function(wt){return wt.matches})},He=function(he,Me){if(Me.length!==0){var We=he.dom,lt=he.selection.getBookmark(),wt=Pe(We,Me);ie(wt,function(kt){var En=We.getParent(kt.startMarker.start,We.isBlock),Un=function(_r){return _r===En};Bn(kt.pattern)?Qa(he,kt.pattern,kt.endMarker,Un):ws(he,kt.pattern,kt.startMarker,kt.endMarker,Un),dr(We,kt.endMarker,Un),dr(We,kt.startMarker,Un)}),he.selection.moveToBookmark(lt)}},Dt=function(he,Me){if(!he.selection.isCollapsed())return!1;var We=it(he,Me.inlinePatterns,!1),lt=Ui(he,Me.blockPatterns);return lt.length>0||We.length>0?(he.undoManager.add(),he.undoManager.extra(function(){he.execCommand("mceInsertNewLine")},function(){he.insertContent(pr),He(he,We),Si(he,lt);var wt=he.selection.getRng(),kt=wn(wt.startContainer,wt.startOffset,he.dom.getRoot());he.execCommand("mceInsertNewLine"),kt.each(function(En){var Un=En.container;Un.data.charAt(En.offset-1)===pr&&(Un.deleteData(En.offset-1,1),vt(he.dom,Un.parentNode,function(_r){return _r===he.dom.getRoot()}))})}),!0):!1},Rn=function(he,Me){var We=it(he,Me.inlinePatterns,!0);We.length>0&&he.undoManager.transact(function(){He(he,We)})},tr=function(he,Me,We){for(var lt=0;lt<he.length;lt++)if(We(he[lt],Me))return!0;return!1},Oe=function(he,Me){return tr(he,Me,function(We,lt){return We===lt.keyCode&&Zn.modifierPressed(lt)===!1})},qe=function(he,Me){return tr(he,Me,function(We,lt){return We.charCodeAt(0)===lt.charCode})},At=function(he,Me){var We=[",",".",";",":","!","?"],lt=[32];he.on("keydown",function(wt){wt.keyCode===13&&!Zn.modifierPressed(wt)&&Dt(he,Me.get())&&wt.preventDefault()},!0),he.on("keyup",function(wt){Oe(lt,wt)&&Rn(he,Me.get())}),he.on("keypress",function(wt){qe(We,wt)&&Qt.setEditorTimeout(he,function(){Rn(he,Me.get())})})};function Jt(){e.add("textpattern",function(he){var Me=n(Bt(he));return At(he,Me),Ct(Me)})}Jt()})();(function(){var n=function(y){var b=y,S=function(){return b},_=function(k){b=k};return{get:S,set:_}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(y,b){y.fire("VisualBlocks",{state:b})},r=function(y,b,S){var _=y.dom;_.toggleClass(y.getBody(),"mce-visualblocks"),S.set(!S.get()),t(y,S.get())},i=function(y,b,S){y.addCommand("mceVisualBlocks",function(){r(y,b,S)})},u=function(y){return y.getParam("visualblocks_default_state",!1,"boolean")},l=function(y,b,S){y.on("PreviewFormats AfterPreviewFormats",function(_){S.get()&&y.dom.toggleClass(y.getBody(),"mce-visualblocks",_.type==="afterpreviewformats")}),y.on("init",function(){u(y)&&r(y,b,S)})},f=function(y,b){return function(S){S.setActive(b.get());var _=function(k){return S.setActive(k.state)};return y.on("VisualBlocks",_),function(){return y.off("VisualBlocks",_)}}},h=function(y,b){var S=function(){return y.execCommand("mceVisualBlocks")};y.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:S,onSetup:f(y,b)}),y.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:S,onSetup:f(y,b)})};function g(){e.add("visualblocks",function(y,b){var S=n(!1);i(y,b,S),h(y,S),l(y,b,S)})}g()})();(function(){var n=function(et){var jt=et,Pt=function(){return jt},ln=function(Kn){jt=Kn};return{get:Pt,set:ln}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(et){var jt=function(){return et.get()};return{isEnabled:jt}},r=function(et,jt){return et.fire("VisualChars",{state:jt})},i=function(et){var jt=typeof et;return et===null?"null":jt==="object"&&(Array.prototype.isPrototypeOf(et)||et.constructor&&et.constructor.name==="Array")?"array":jt==="object"&&(String.prototype.isPrototypeOf(et)||et.constructor&&et.constructor.name==="String")?"string":jt},u=function(et){return function(jt){return i(jt)===et}},l=function(et){return function(jt){return typeof jt===et}},f=u("string"),h=l("boolean"),g=l("number"),y=function(){},b=function(et){return function(){return et}},S=function(et){return et},_=b(!1),k=b(!0),E=function(){return R},R=function(){var et=function(ln){return ln()},jt=S,Pt={fold:function(ln,Kn){return ln()},isSome:_,isNone:k,getOr:jt,getOrThunk:et,getOrDie:function(ln){throw new Error(ln||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:jt,orThunk:et,map:E,each:y,bind:E,exists:_,forall:k,filter:function(){return E()},toArray:function(){return[]},toString:b("none()")};return Pt}(),I=function(et){var jt=b(et),Pt=function(){return Kn},ln=function(Br){return Br(et)},Kn={fold:function(Br,ei){return ei(et)},isSome:k,isNone:_,getOr:jt,getOrThunk:jt,getOrDie:jt,getOrNull:jt,getOrUndefined:jt,or:Pt,orThunk:Pt,map:function(Br){return I(Br(et))},each:function(Br){Br(et)},bind:ln,exists:ln,forall:ln,filter:function(Br){return Br(et)?Kn:R},toArray:function(){return[et]},toString:function(){return"some("+et+")"}};return Kn},z=function(et){return et==null?R:I(et)},L={some:I,none:E,from:z},q=function(et,jt){for(var Pt=et.length,ln=new Array(Pt),Kn=0;Kn<Pt;Kn++){var Br=et[Kn];ln[Kn]=jt(Br,Kn)}return ln},X=function(et,jt){for(var Pt=0,ln=et.length;Pt<ln;Pt++){var Kn=et[Pt];jt(Kn,Pt)}},Y=function(et,jt){for(var Pt=[],ln=0,Kn=et.length;ln<Kn;ln++){var Br=et[ln];jt(Br,ln)&&Pt.push(Br)}return Pt},ae=Object.keys,te=function(et,jt){for(var Pt=ae(et),ln=0,Kn=Pt.length;ln<Kn;ln++){var Br=Pt[ln],ei=et[Br];jt(ei,Br)}};typeof window<"u"||Function("return this;")();var ie=3,le=function(et){return et.dom.nodeType},ce=function(et){return et.dom.nodeValue},ne=function(et){return function(jt){return le(jt)===et}},Z=ne(ie),Ce=function(et,jt,Pt){if(f(Pt)||h(Pt)||g(Pt))et.setAttribute(jt,Pt+"");else throw console.error("Invalid call to Attribute.set. Key ",jt,":: Value ",Pt,":: Element ",et),new Error("Attribute value was not simple")},ze=function(et,jt,Pt){Ce(et.dom,jt,Pt)},ke=function(et,jt){var Pt=et.dom.getAttribute(jt);return Pt===null?void 0:Pt},_t=function(et,jt){et.dom.removeAttribute(jt)},tt=function(et,jt){var Pt=ke(et,jt);return Pt===void 0||Pt===""?[]:Pt.split(" ")},$=function(et,jt,Pt){var ln=tt(et,jt),Kn=ln.concat([Pt]);return ze(et,jt,Kn.join(" ")),!0},Ze=function(et,jt,Pt){var ln=Y(tt(et,jt),function(Kn){return Kn!==Pt});return ln.length>0?ze(et,jt,ln.join(" ")):_t(et,jt),!1},$e=function(et){return et.dom.classList!==void 0},mt=function(et){return tt(et,"class")},Qe=function(et,jt){return $(et,"class",jt)},Et=function(et,jt){return Ze(et,"class",jt)},Ot=function(et,jt){$e(et)?et.dom.classList.add(jt):Qe(et,jt)},Nt=function(et){var jt=$e(et)?et.dom.classList:mt(et);jt.length===0&&_t(et,"class")},fe=function(et,jt){if($e(et)){var Pt=et.dom.classList;Pt.remove(jt)}else Et(et,jt);Nt(et)},$t=function(et,jt){var Pt=jt||document,ln=Pt.createElement("div");if(ln.innerHTML=et,!ln.hasChildNodes()||ln.childNodes.length>1)throw console.error("HTML does not have a single root node",et),new Error("HTML must have a single root node");return St(ln.childNodes[0])},Je=function(et,jt){var Pt=jt||document,ln=Pt.createElement(et);return St(ln)},Fe=function(et,jt){var Pt=jt||document,ln=Pt.createTextNode(et);return St(ln)},St=function(et){if(et==null)throw new Error("Node cannot be null or undefined");return{dom:et}},Ue=function(et,jt,Pt){return L.from(et.dom.elementFromPoint(jt,Pt)).map(St)},Ye={fromHtml:$t,fromTag:Je,fromText:Fe,fromDom:St,fromPoint:Ue},st={" ":"nbsp","­":"shy"},Ft=function(et,jt){var Pt="";return te(et,function(ln,Kn){Pt+=Kn}),new RegExp("["+Pt+"]",jt?"g":"")},Ct=function(et){var jt="";return te(et,function(Pt){jt&&(jt+=","),jt+="span.mce-"+Pt}),jt},Rt=Ft(st),ur=Ft(st,!0),Xe=Ct(st),Bt="mce-nbsp",Mn=function(et){return'<span data-mce-bogus="1" class="mce-'+st[et]+'">'+et+"</span>"},Qt=function(et){var jt=ce(et);return Z(et)&&jt!==void 0&&Rt.test(jt)},Zn=function(et,jt){var Pt=[],ln=et.dom,Kn=q(ln.childNodes,Ye.fromDom);return X(Kn,function(Br){jt(Br)&&(Pt=Pt.concat([Br])),Pt=Pt.concat(Zn(Br,jt))}),Pt},pr=function(et,jt){for(;et.parentNode;){if(et.parentNode===jt)return et;et=et.parentNode}},ao=function(et){return et.replace(ur,Mn)},Mo=function(et){return et.nodeName.toLowerCase()==="span"&&et.classList.contains("mce-nbsp-wrap")},Go=function(et,jt){var Pt=Zn(Ye.fromDom(jt),Qt);X(Pt,function(ln){var Kn=ln.dom.parentNode;if(Mo(Kn))Ot(Ye.fromDom(Kn),Bt);else{for(var Br=ao(et.dom.encode(ce(ln))),ei=et.dom.create("div",null,Br),zr=void 0;zr=ei.lastChild;)et.dom.insertAfter(zr,ln.dom);et.dom.remove(ln.dom)}})},gn=function(et,jt){var Pt=et.dom.select(Xe,jt);X(Pt,function(ln){Mo(ln)?fe(Ye.fromDom(ln),Bt):et.dom.remove(ln,!0)})},vn=function(et){var jt=et.getBody(),Pt=et.selection.getBookmark(),ln=pr(et.selection.getNode(),jt);ln=ln!==void 0?ln:jt,gn(et,ln),Go(et,ln),et.selection.moveToBookmark(Pt)},en=function(et,jt){r(et,jt.get());var Pt=et.getBody();jt.get()===!0?Go(et,Pt):gn(et,Pt)},vt=function(et,jt){jt.set(!jt.get());var Pt=et.selection.getBookmark();en(et,jt),et.selection.moveToBookmark(Pt)},Tt=function(et,jt){et.addCommand("mceVisualChars",function(){vt(et,jt)})},hn=function(et){return et.getParam("visualchars_default_state",!1)},Bn=function(et){return et.getParam("forced_root_block")!==!1},bn=function(et,jt){et.on("init",function(){en(et,jt)})},pt=tinymce.util.Tools.resolve("tinymce.util.Delay"),an=function(et,jt){var Pt=pt.debounce(function(){vn(et)},300);Bn(et)&&et.on("keydown",function(ln){jt.get()===!0&&(ln.keyCode===13?vn(et):Pt())}),et.on("remove",Pt.stop)},On=function(et,jt){return function(Pt){Pt.setActive(jt.get());var ln=function(Kn){return Pt.setActive(Kn.state)};return et.on("VisualChars",ln),function(){return et.off("VisualChars",ln)}}},wn=function(et,jt){var Pt=function(){return et.execCommand("mceVisualChars")};et.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:Pt,onSetup:On(et,jt)}),et.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:Pt,onSetup:On(et,jt)})};function er(){e.add("visualchars",function(et){var jt=n(hn(et));return Tt(et,jt),wn(et,jt),an(et,jt),bn(et,jt),t(jt)})}er()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(Ue){return Ue},t=function(){return t=Object.assign||function(Ue){for(var Ye,st=1,Ft=arguments.length;st<Ft;st++){Ye=arguments[st];for(var Ct in Ye)Object.prototype.hasOwnProperty.call(Ye,Ct)&&(Ue[Ct]=Ye[Ct])}return Ue},t.apply(this,arguments)},r="\uFEFF",i=function(Ue){return Ue.replace(/\uFEFF/g,"")},u=function(Ue,Ye){for(var st=Ue.length,Ft=new Array(st),Ct=0;Ct<st;Ct++){var Rt=Ue[Ct];Ft[Ct]=Ye(Rt,Ct)}return Ft},l="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",f={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:l},h={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},g=[new RegExp(f.aletter),new RegExp(f.midnumlet),new RegExp(f.midletter),new RegExp(f.midnum),new RegExp(f.numeric),new RegExp(f.cr),new RegExp(f.lf),new RegExp(f.newline),new RegExp(f.extend),new RegExp(f.format),new RegExp(f.katakana),new RegExp(f.extendnumlet),new RegExp("@")],y="",b=new RegExp("^"+f.punctuation+"$"),S=/^\s+$/,_=g,k=h.OTHER,E=function(Ue){for(var Ye=k,st=_.length,Ft=0;Ft<st;++Ft){var Ct=_[Ft];if(Ct&&Ct.test(Ue)){Ye=Ft;break}}return Ye},R=function(Ue){var Ye={};return function(st){if(Ye[st])return Ye[st];var Ft=Ue(st);return Ye[st]=Ft,Ft}},I=function(Ue){var Ye=R(E);return u(Ue,Ye)},z=function(Ue,Ye){var st=Ue[Ye],Ft=Ue[Ye+1];if(Ye<0||Ye>Ue.length-1&&Ye!==0||st===h.ALETTER&&Ft===h.ALETTER)return!1;var Ct=Ue[Ye+2];if(st===h.ALETTER&&(Ft===h.MIDLETTER||Ft===h.MIDNUMLET||Ft===h.AT)&&Ct===h.ALETTER)return!1;var Rt=Ue[Ye-1];return(st===h.MIDLETTER||st===h.MIDNUMLET||Ft===h.AT)&&Ft===h.ALETTER&&Rt===h.ALETTER||(st===h.NUMERIC||st===h.ALETTER)&&(Ft===h.NUMERIC||Ft===h.ALETTER)||(st===h.MIDNUM||st===h.MIDNUMLET)&&Ft===h.NUMERIC&&Rt===h.NUMERIC||st===h.NUMERIC&&(Ft===h.MIDNUM||Ft===h.MIDNUMLET)&&Ct===h.NUMERIC||st===h.EXTEND||st===h.FORMAT||Rt===h.EXTEND||Rt===h.FORMAT||Ft===h.EXTEND||Ft===h.FORMAT||st===h.CR&&Ft===h.LF?!1:st===h.NEWLINE||st===h.CR||st===h.LF||Ft===h.NEWLINE||Ft===h.CR||Ft===h.LF?!0:!(st===h.KATAKANA&&Ft===h.KATAKANA||Ft===h.EXTENDNUMLET&&(st===h.ALETTER||st===h.NUMERIC||st===h.KATAKANA||st===h.EXTENDNUMLET)||st===h.EXTENDNUMLET&&(Ft===h.ALETTER||Ft===h.NUMERIC||Ft===h.KATAKANA)||st===h.AT)},L=y,q=S,X=b,Y=function(Ue){return Ue==="http"||Ue==="https"},ae=function(Ue,Ye){var st;for(st=Ye;st<Ue.length&&!q.test(Ue[st]);st++);return st},te=function(Ue,Ye){var st=ae(Ue,Ye+1),Ft=Ue.slice(Ye+1,st).join(L);return Ft.substr(0,3)==="://"?st:Ye},ie=function(Ue,Ye,st,Ft){for(var Ct=[],Rt=[],ur=0;ur<st.length;++ur)if(Rt.push(Ue[ur]),z(st,ur)){var Xe=Ye[ur];if((Ft.includeWhitespace||!q.test(Xe))&&(Ft.includePunctuation||!X.test(Xe))){var Bt=ur-Rt.length+1,Mn=ur+1,Qt=Ye.slice(Bt,Mn).join(L);if(Y(Qt)){var Zn=te(Ye,ur),pr=Ue.slice(Mn,Zn);Array.prototype.push.apply(Rt,pr),ur=Zn}Ct.push(Rt)}Rt=[]}return Ct},le=function(){return{includeWhitespace:!1,includePunctuation:!1}},ce=function(Ue,Ye,st){st=t(t({},le()),st);for(var Ft=[],Ct=[],Rt=0;Rt<Ue.length;Rt++){var ur=Ye(Ue[Rt]);ur!==r&&(Ft.push(Ue[Rt]),Ct.push(ur))}var Xe=I(Ct);return ie(Ft,Ct,Xe,st)},ne=ce,Z=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ce=function(Ue,Ye){for(var st=Ye.getBlockElements(),Ft=Ye.getShortEndedElements(),Ct=function(Bt){return st[Bt.nodeName]||Ft[Bt.nodeName]},Rt=[],ur="",Xe=new Z(Ue,Ue);Ue=Xe.next();)Ue.nodeType===3?ur+=i(Ue.data):Ct(Ue)&&ur.length&&(Rt.push(ur),ur="");return ur.length&&Rt.push(ur),Rt},ze=function(Ue){return Ue.replace(/\u200B/g,"")},ke=function(Ue){return Ue.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},_t=function(Ue,Ye){var st=ze(Ce(Ue,Ye).join(`
`));return ne(st.split(""),e).length},tt=function(Ue,Ye){var st=Ce(Ue,Ye).join("");return ke(st)},$=function(Ue,Ye){var st=Ce(Ue,Ye).join("").replace(/\s/g,"");return ke(st)},Ze=function(Ue,Ye){return function(){return Ye(Ue.getBody(),Ue.schema)}},$e=function(Ue,Ye){return function(){return Ye(Ue.selection.getRng().cloneContents(),Ue.schema)}},mt=function(Ue){return Ze(Ue,_t)},Qe=function(Ue){return{body:{getWordCount:mt(Ue),getCharacterCount:Ze(Ue,tt),getCharacterCountWithoutSpaces:Ze(Ue,$)},selection:{getWordCount:$e(Ue,_t),getCharacterCount:$e(Ue,tt),getCharacterCountWithoutSpaces:$e(Ue,$)},getCount:mt(Ue)}},Et=function(Ue,Ye){Ue.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Ye.body.getWordCount()),String(Ye.selection.getWordCount())],["Characters (no spaces)",String(Ye.body.getCharacterCountWithoutSpaces()),String(Ye.selection.getCharacterCountWithoutSpaces())],["Characters",String(Ye.body.getCharacterCount()),String(Ye.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Ot=function(Ue,Ye){Ue.addCommand("mceWordCount",function(){return Et(Ue,Ye)})},Nt=tinymce.util.Tools.resolve("tinymce.util.Delay"),fe=function(Ue,Ye){Ue.fire("wordCountUpdate",{wordCount:{words:Ye.body.getWordCount(),characters:Ye.body.getCharacterCount(),charactersWithoutSpaces:Ye.body.getCharacterCountWithoutSpaces()}})},$t=function(Ue,Ye){fe(Ue,Ye)},Je=function(Ue,Ye,st){var Ft=Nt.debounce(function(){return $t(Ue,Ye)},st);Ue.on("init",function(){$t(Ue,Ye),Nt.setEditorTimeout(Ue,function(){Ue.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Ft)},0)})},Fe=function(Ue){var Ye=function(){return Ue.execCommand("mceWordCount")};Ue.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Ye}),Ue.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Ye})};function St(Ue){Ue===void 0&&(Ue=300),n.add("wordcount",function(Ye){var st=Qe(Ye);return Ot(Ye,st),Fe(Ye),Je(Ye,st,Ue),st})}St()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){return e=Object.assign||function(ue){for(var U,V=1,ee=arguments.length;V<ee;V++){U=arguments[V];for(var ye in U)Object.prototype.hasOwnProperty.call(U,ye)&&(ue[ye]=U[ye])}return ue},e.apply(this,arguments)},t=function(ue){var U=typeof ue;return ue===null?"null":U==="object"&&(Array.prototype.isPrototypeOf(ue)||ue.constructor&&ue.constructor.name==="Array")?"array":U==="object"&&(String.prototype.isPrototypeOf(ue)||ue.constructor&&ue.constructor.name==="String")?"string":U},r=function(ue){return function(U){return t(U)===ue}},i=function(ue){return function(U){return typeof U===ue}},u=function(ue){return function(U){return ue===U}},l=r("string"),f=r("object"),h=r("array"),g=u(null),y=i("boolean"),b=function(ue){return ue==null},S=function(ue){return!b(ue)},_=i("function"),k=i("number"),E=function(){},R=function(ue){return function(){return ue}},I=function(ue){return ue},z=R(!1),L=R(!0),q=function(){return X},X=function(){var ue=function(ee){return ee()},U=I,V={fold:function(ee,ye){return ee()},isSome:z,isNone:L,getOr:U,getOrThunk:ue,getOrDie:function(ee){throw new Error(ee||"error: getOrDie called on none.")},getOrNull:R(null),getOrUndefined:R(void 0),or:U,orThunk:ue,map:q,each:E,bind:q,exists:z,forall:L,filter:function(){return q()},toArray:function(){return[]},toString:R("none()")};return V}(),Y=function(ue){var U=R(ue),V=function(){return ye},ee=function(Re){return Re(ue)},ye={fold:function(Re,gt){return gt(ue)},isSome:L,isNone:z,getOr:U,getOrThunk:U,getOrDie:U,getOrNull:U,getOrUndefined:U,or:V,orThunk:V,map:function(Re){return Y(Re(ue))},each:function(Re){Re(ue)},bind:ee,exists:ee,forall:ee,filter:function(Re){return Re(ue)?ye:X},toArray:function(){return[ue]},toString:function(){return"some("+ue+")"}};return ye},ae=function(ue){return ue==null?X:Y(ue)},te={some:Y,none:q,from:ae},ie=Object.keys,le=Object.hasOwnProperty,ce=function(ue,U){for(var V=ie(ue),ee=0,ye=V.length;ee<ye;ee++){var Re=V[ee],gt=ue[Re];U(gt,Re)}},ne=function(ue){return function(U,V){ue[V]=U}},Z=function(ue,U,V,ee){var ye={};return ce(ue,function(Re,gt){(U(Re,gt)?V:ee)(Re,gt)}),ye},Ce=function(ue,U){var V={};return Z(ue,U,ne(V),E),V},ze=function(ue,U){return le.call(ue,U)},ke=function(ue,U){return ze(ue,U)&&ue[U]!==void 0&&ue[U]!==null},_t=Array.prototype.push,tt=function(ue){for(var U=[],V=0,ee=ue.length;V<ee;++V){if(!h(ue[V]))throw new Error("Arr.flatten item "+V+" was not an array, input: "+ue);_t.apply(U,ue[V])}return U},$=function(ue,U){return U>=0&&U<ue.length?te.some(ue[U]):te.none()},Ze=function(ue){return $(ue,0)},$e=function(ue,U){for(var V=0;V<ue.length;V++){var ee=U(ue[V],V);if(ee.isSome())return ee}return te.none()};typeof window<"u"||Function("return this;")();var mt=function(ue,U,V){if(l(V)||y(V)||k(V))ue.setAttribute(U,V+"");else throw console.error("Invalid call to Attribute.set. Key ",U,":: Value ",V,":: Element ",ue),new Error("Attribute value was not simple")},Qe=function(ue,U,V){mt(ue.dom,U,V)},Et=function(ue,U){ue.dom.removeAttribute(U)},Ot=function(ue,U){var V=U||document,ee=V.createElement("div");if(ee.innerHTML=ue,!ee.hasChildNodes()||ee.childNodes.length>1)throw console.error("HTML does not have a single root node",ue),new Error("HTML must have a single root node");return $t(ee.childNodes[0])},Nt=function(ue,U){var V=U||document,ee=V.createElement(ue);return $t(ee)},fe=function(ue,U){var V=U||document,ee=V.createTextNode(ue);return $t(ee)},$t=function(ue){if(ue==null)throw new Error("Node cannot be null or undefined");return{dom:ue}},Je=function(ue,U,V){return te.from(ue.dom.elementFromPoint(U,V)).map($t)},Fe={fromHtml:Ot,fromTag:Nt,fromText:fe,fromDom:$t,fromPoint:Je},St=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ue=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ye=tinymce.util.Tools.resolve("tinymce.util.URI"),st=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ft=function(ue){return ue.getParam("image_dimensions",!0,"boolean")},Ct=function(ue){return ue.getParam("image_advtab",!1,"boolean")},Rt=function(ue){return ue.getParam("image_uploadtab",!0,"boolean")},ur=function(ue){return ue.getParam("image_prepend_url","","string")},Xe=function(ue){return ue.getParam("image_class_list")},Bt=function(ue){return ue.getParam("image_description",!0,"boolean")},Mn=function(ue){return ue.getParam("image_title",!1,"boolean")},Qt=function(ue){return ue.getParam("image_caption",!1,"boolean")},Zn=function(ue){return ue.getParam("image_list",!1)},pr=function(ue){return S(ue.getParam("images_upload_url"))},ao=function(ue){return S(ue.getParam("images_upload_handler"))},Mo=function(ue){return ue.getParam("a11y_advanced_options",!1,"boolean")},Go=function(ue){return ue.getParam("automatic_uploads",!0,"boolean")},gn=function(ue,U){return Math.max(parseInt(ue,10),parseInt(U,10))},vn=function(ue){return new Ue(function(U){var V=document.createElement("img"),ee=function(Re){V.onload=V.onerror=null,V.parentNode&&V.parentNode.removeChild(V),U(Re)};V.onload=function(){var Re=gn(V.width,V.clientWidth),gt=gn(V.height,V.clientHeight),un={width:Re,height:gt};ee(Ue.resolve(un))},V.onerror=function(){ee(Ue.reject("Failed to get image dimensions for: "+ue))};var ye=V.style;ye.visibility="hidden",ye.position="fixed",ye.bottom=ye.left="0px",ye.width=ye.height="auto",document.body.appendChild(V),V.src=ue})},en=function(ue){return ue&&(ue=ue.replace(/px$/,"")),ue},vt=function(ue){return ue.length>0&&/^[0-9]+$/.test(ue)&&(ue+="px"),ue},Tt=function(ue){if(ue.margin){var U=String(ue.margin).split(" ");switch(U.length){case 1:ue["margin-top"]=ue["margin-top"]||U[0],ue["margin-right"]=ue["margin-right"]||U[0],ue["margin-bottom"]=ue["margin-bottom"]||U[0],ue["margin-left"]=ue["margin-left"]||U[0];break;case 2:ue["margin-top"]=ue["margin-top"]||U[0],ue["margin-right"]=ue["margin-right"]||U[1],ue["margin-bottom"]=ue["margin-bottom"]||U[0],ue["margin-left"]=ue["margin-left"]||U[1];break;case 3:ue["margin-top"]=ue["margin-top"]||U[0],ue["margin-right"]=ue["margin-right"]||U[1],ue["margin-bottom"]=ue["margin-bottom"]||U[2],ue["margin-left"]=ue["margin-left"]||U[1];break;case 4:ue["margin-top"]=ue["margin-top"]||U[0],ue["margin-right"]=ue["margin-right"]||U[1],ue["margin-bottom"]=ue["margin-bottom"]||U[2],ue["margin-left"]=ue["margin-left"]||U[3]}delete ue.margin}return ue},hn=function(ue,U){var V=Zn(ue);l(V)?st.send({url:V,success:function(ee){U(JSON.parse(ee))}}):_(V)?V(U):U(V)},Bn=function(ue,U,V){var ee=function(){V.onload=V.onerror=null,ue.selection&&(ue.selection.select(V),ue.nodeChanged())};V.onload=function(){!U.width&&!U.height&&Ft(ue)&&ue.dom.setAttribs(V,{width:String(V.clientWidth),height:String(V.clientHeight)}),ee()},V.onerror=ee},bn=function(ue){return new Ue(function(U,V){var ee=new FileReader;ee.onload=function(){U(ee.result)},ee.onerror=function(){V(ee.error.message)},ee.readAsDataURL(ue)})},pt=function(ue){return ue.nodeName==="IMG"&&(ue.hasAttribute("data-mce-object")||ue.hasAttribute("data-mce-placeholder"))},an=function(ue,U){return Ye.isDomSafe(U,"img",ue.settings)},On=St.DOM,wn=function(ue){return ue.style.marginLeft&&ue.style.marginRight&&ue.style.marginLeft===ue.style.marginRight?en(ue.style.marginLeft):""},er=function(ue){return ue.style.marginTop&&ue.style.marginBottom&&ue.style.marginTop===ue.style.marginBottom?en(ue.style.marginTop):""},et=function(ue){return ue.style.borderWidth?en(ue.style.borderWidth):""},jt=function(ue,U){return ue.hasAttribute(U)?ue.getAttribute(U):""},Pt=function(ue,U){return ue.style[U]?ue.style[U]:""},ln=function(ue){return ue.parentNode!==null&&ue.parentNode.nodeName==="FIGURE"},Kn=function(ue,U,V){V===""?ue.removeAttribute(U):ue.setAttribute(U,V)},Br=function(ue){var U=On.create("figure",{class:"image"});On.insertAfter(U,ue),U.appendChild(ue),U.appendChild(On.create("figcaption",{contentEditable:"true"},"Caption")),U.contentEditable="false"},ei=function(ue){var U=ue.parentNode;On.insertAfter(ue,U),On.remove(U)},zr=function(ue){ln(ue)?ei(ue):Br(ue)},Hr=function(ue,U){var V=ue.getAttribute("style"),ee=U(V!==null?V:"");ee.length>0?(ue.setAttribute("style",ee),ue.setAttribute("data-mce-style",ee)):ue.removeAttribute("style")},ui=function(ue,U){return function(V,ee,ye){V.style[ee]?(V.style[ee]=vt(ye),Hr(V,U)):Kn(V,ee,ye)}},Ta=function(ue,U){return ue.style[U]?en(ue.style[U]):jt(ue,U)},Ui=function(ue,U){var V=vt(U);ue.style.marginLeft=V,ue.style.marginRight=V},Si=function(ue,U){var V=vt(U);ue.style.marginTop=V,ue.style.marginBottom=V},Yi=function(ue,U){var V=vt(U);ue.style.borderWidth=V},Ra=function(ue,U){ue.style.borderStyle=U},ea=function(ue){return Pt(ue,"borderStyle")},Li=function(ue){return ue.nodeName==="FIGURE"},Pa=function(ue){return ue.nodeName==="IMG"},co=function(ue){return On.getAttrib(ue,"alt").length===0&&On.getAttrib(ue,"role")==="presentation"},Na=function(ue){return co(ue)?"":jt(ue,"alt")},dr=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Vu=function(ue,U){var V=document.createElement("img");return Kn(V,"style",U.style),(wn(V)||U.hspace!=="")&&Ui(V,U.hspace),(er(V)||U.vspace!=="")&&Si(V,U.vspace),(et(V)||U.border!=="")&&Yi(V,U.border),(ea(V)||U.borderStyle!=="")&&Ra(V,U.borderStyle),ue(V.getAttribute("style"))},xa=function(ue,U){var V=document.createElement("img");if(ws(ue,e(e({},U),{caption:!1}),V),Za(V,U.alt,U.isDecorative),U.caption){var ee=On.create("figure",{class:"image"});return ee.appendChild(V),ee.appendChild(On.create("figcaption",{contentEditable:"true"},"Caption")),ee.contentEditable="false",ee}else return V},Ua=function(ue,U){return{src:jt(U,"src"),alt:Na(U),title:jt(U,"title"),width:Ta(U,"width"),height:Ta(U,"height"),class:jt(U,"class"),style:ue(jt(U,"style")),caption:ln(U),hspace:wn(U),vspace:er(U),border:et(U),borderStyle:Pt(U,"borderStyle"),isDecorative:co(U)}},aa=function(ue,U,V,ee,ye){V[ee]!==U[ee]&&ye(ue,ee,V[ee])},Za=function(ue,U,V){if(V){On.setAttrib(ue,"role","presentation");var ee=Fe.fromDom(ue);Qe(ee,"alt","")}else{if(g(U)){var ee=Fe.fromDom(ue);Et(ee,"alt")}else{var ee=Fe.fromDom(ue);Qe(ee,"alt",U)}On.getAttrib(ue,"role")==="presentation"&&On.setAttrib(ue,"role","")}},Hu=function(ue,U,V){(V.alt!==U.alt||V.isDecorative!==U.isDecorative)&&Za(ue,V.alt,V.isDecorative)},Qa=function(ue,U){return function(V,ee,ye){ue(V,ye),Hr(V,U)}},ws=function(ue,U,V){var ee=Ua(ue,V);aa(V,ee,U,"caption",function(ye,Re,gt){return zr(ye)}),aa(V,ee,U,"src",Kn),aa(V,ee,U,"title",Kn),aa(V,ee,U,"width",ui("width",ue)),aa(V,ee,U,"height",ui("height",ue)),aa(V,ee,U,"class",Kn),aa(V,ee,U,"style",Qa(function(ye,Re){return Kn(ye,"style",Re)},ue)),aa(V,ee,U,"hspace",Qa(Ui,ue)),aa(V,ee,U,"vspace",Qa(Si,ue)),aa(V,ee,U,"border",Qa(Yi,ue)),aa(V,ee,U,"borderStyle",Qa(Ra,ue)),Hu(V,ee,U)},Pe=function(ue,U){var V=ue.dom.styles.parse(U),ee=Tt(V),ye=ue.dom.styles.parse(ue.dom.styles.serialize(ee));return ue.dom.styles.serialize(ye)},it=function(ue){var U=ue.selection.getNode(),V=ue.dom.getParent(U,"figure.image");return V?ue.dom.select("img",V)[0]:U&&(U.nodeName!=="IMG"||pt(U))?null:U},He=function(ue,U){var V=ue.dom,ee=Ce(ue.schema.getTextBlockElements(),function(Re,gt){return!ue.schema.isValidChild(gt,"figure")}),ye=V.getParent(U.parentNode,function(Re){return ke(ee,Re.nodeName)},ue.getBody());return ye?V.split(ye,U):U},Dt=function(ue){var U=it(ue);return U?Ua(function(V){return Pe(ue,V)},U):dr()},Rn=function(ue,U){var V=xa(function(Re){return Pe(ue,Re)},U);ue.dom.setAttrib(V,"data-mce-id","__mcenew"),ue.focus(),ue.selection.setContent(V.outerHTML);var ee=ue.dom.select('*[data-mce-id="__mcenew"]')[0];if(ue.dom.setAttrib(ee,"data-mce-id",null),Li(ee)){var ye=He(ue,ee);ue.selection.select(ye)}else ue.selection.select(ee)},tr=function(ue,U){ue.dom.setAttrib(U,"src",U.getAttribute("src"))},Oe=function(ue,U){if(U){var V=ue.dom.is(U.parentNode,"figure.image")?U.parentNode:U;ue.dom.remove(V),ue.focus(),ue.nodeChanged(),ue.dom.isEmpty(ue.getBody())&&(ue.setContent(""),ue.selection.setCursorLocation())}},qe=function(ue,U){var V=it(ue);if(ws(function(ye){return Pe(ue,ye)},U,V),tr(ue,V),Li(V.parentNode)){var ee=V.parentNode;He(ue,ee),ue.selection.select(V.parentNode)}else ue.selection.select(V),Bn(ue,U,V)},At=function(ue,U){var V=U.src;return e(e({},U),{src:an(ue,V)?V:""})},Jt=function(ue,U){var V=it(ue);if(V){var ee=Ua(function(gt){return Pe(ue,gt)},V),ye=e(e({},ee),U),Re=At(ue,ye);ye.src?qe(ue,Re):Oe(ue,V)}else U.src&&Rn(ue,e(e({},dr()),U))},he=function(ue,U){var V=f(ue)&&f(U);return V?We(ue,U):U},Me=function(ue){return function(){for(var U=[],V=0;V<arguments.length;V++)U[V]=arguments[V];if(U.length===0)throw new Error("Can't merge zero objects");for(var ee={},ye=0;ye<U.length;ye++){var Re=U[ye];for(var gt in Re)ze(Re,gt)&&(ee[gt]=ue(ee[gt],Re[gt]))}return ee}},We=Me(he),lt=function(ue){return ue.length>0},wt=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),kt=tinymce.util.Tools.resolve("tinymce.util.Tools"),En=function(ue){return l(ue.value)?ue.value:""},Un=function(ue){return l(ue.text)?ue.text:l(ue.title)?ue.title:""},_r=function(ue,U){var V=[];return kt.each(ue,function(ee){var ye=Un(ee);if(ee.menu!==void 0){var Re=_r(ee.menu,U);V.push({text:ye,items:Re})}else{var gt=U(ee);V.push({text:ye,value:gt})}}),V},It=function(ue){return ue===void 0&&(ue=En),function(U){return U?te.from(U).map(function(V){return _r(V,ue)}):te.none()}},mr=function(ue){return It(En)(ue)},qr=function(ue){return ze(ue,"items")},Uo=function(ue,U){return $e(ue,function(V){return qr(V)?Uo(V.items,U):V.value===U?te.some(V):te.none()})},ta=function(ue,U){return ue.bind(function(V){return Uo(V,U)})},ro={sanitizer:It,sanitize:mr,findEntry:ta},Fs=function(ue){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},_s={makeTab:Fs},Ki=function(ue){var U=ro.sanitizer(function(Or){return ue.convertURL(Or.value||Or.url,"src")}),V=new Ue(function(Or){hn(ue,function(li){Or(U(li).map(function(ni){return tt([[{text:"None",value:""}],ni])}))})}),ee=ro.sanitize(Xe(ue)),ye=Ct(ue),Re=Rt(ue),gt=pr(ue),un=ao(ue),hr=Dt(ue),Tr=Bt(ue),Ln=Mn(ue),lr=Ft(ue),Kr=Qt(ue),Jr=Mo(ue),Vr=Go(ue),Ei=te.some(ur(ue)).filter(function(Or){return l(Or)&&Or.length>0});return V.then(function(Or){return{image:hr,imageList:Or,classList:ee,hasAdvTab:ye,hasUploadTab:Re,hasUploadUrl:gt,hasUploadHandler:un,hasDescription:Tr,hasImageTitle:Ln,hasDimensions:lr,hasImageCaption:Kr,prependURL:Ei,hasAccessibilityOptions:Jr,automaticUploads:Vr}})},jl=function(ue){var U={name:"src",type:"urlinput",filetype:"image",label:"Source"},V=ue.imageList.map(function(Ln){return{name:"images",type:"listbox",label:"Image list",items:Ln}}),ee={name:"alt",type:"input",label:"Alternative description",disabled:ue.hasAccessibilityOptions&&ue.image.isDecorative},ye={name:"title",type:"input",label:"Image title"},Re={name:"dimensions",type:"sizeinput"},gt={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},un=ue.classList.map(function(Ln){return{name:"classes",type:"listbox",label:"Class",items:Ln}}),hr={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Tr=function(Ln){return Ln?{type:"grid",columns:2}:{type:"panel"}};return tt([[U],V.toArray(),ue.hasAccessibilityOptions&&ue.hasDescription?[gt]:[],ue.hasDescription?[ee]:[],ue.hasImageTitle?[ye]:[],ue.hasDimensions?[Re]:[],[e(e({},Tr(ue.classList.isSome()&&ue.hasImageCaption)),{items:tt([un.toArray(),ue.hasImageCaption?[hr]:[]])})]])},yu=function(ue){return{title:"General",name:"general",items:jl(ue)}},Eu={makeTab:yu,makeItems:jl},pi=function(ue){var U=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:U}},Wl={makeTab:pi},nl=function(ue){return{prevImage:ro.findEntry(ue.imageList,ue.image.src),prevAlt:ue.image.alt,open:!0}},Sl=function(ue){return{src:{value:ue.src,meta:{}},images:ue.src,alt:ue.alt,title:ue.title,dimensions:{width:ue.width,height:ue.height},classes:ue.class,caption:ue.caption,style:ue.style,vspace:ue.vspace,border:ue.border,hspace:ue.hspace,borderstyle:ue.borderStyle,fileinput:[],isDecorative:ue.isDecorative}},gc=function(ue,U){return{src:ue.src.value,alt:ue.alt.length===0&&U?null:ue.alt,title:ue.title,width:ue.dimensions.width,height:ue.dimensions.height,class:ue.classes,style:ue.style,caption:ue.caption,hspace:ue.hspace,vspace:ue.vspace,border:ue.border,borderStyle:ue.borderstyle,isDecorative:ue.isDecorative}},Ou=function(ue,U){return/^(?:[a-zA-Z]+:)?\/\//.test(U)?te.none():ue.prependURL.bind(function(V){return U.substring(0,V.length)!==V?te.some(V+U):te.none()})},os=function(ue,U){var V=U.getData();Ou(ue,V.src.value).each(function(ee){U.setData({src:{value:ee,meta:V.src.meta}})})},vc=function(ue,U,V){ue.hasDescription&&l(V.alt)&&(U.alt=V.alt),ue.hasAccessibilityOptions&&(U.isDecorative=V.isDecorative||U.isDecorative||!1),ue.hasImageTitle&&l(V.title)&&(U.title=V.title),ue.hasDimensions&&(l(V.width)&&(U.dimensions.width=V.width),l(V.height)&&(U.dimensions.height=V.height)),l(V.class)&&ro.findEntry(ue.classList,V.class).each(function(ee){U.classes=ee.value}),ue.hasImageCaption&&y(V.caption)&&(U.caption=V.caption),ue.hasAdvTab&&(l(V.style)&&(U.style=V.style),l(V.vspace)&&(U.vspace=V.vspace),l(V.border)&&(U.border=V.border),l(V.hspace)&&(U.hspace=V.hspace),l(V.borderstyle)&&(U.borderstyle=V.borderstyle))},ju=function(ue,U){var V=U.getData(),ee=V.src.meta;if(ee!==void 0){var ye=We({},V);vc(ue,ye,ee),U.setData(ye)}},Iu=function(ue,U,V,ee){var ye=ee.getData(),Re=ye.src.value,gt=ye.src.meta||{};!gt.width&&!gt.height&&U.hasDimensions&&(lt(Re)?ue.imageSize(Re).then(function(un){V.open&&ee.setData({dimensions:un})}).catch(function(un){return console.error(un)}):ee.setData({dimensions:{width:"",height:""}}))},we=function(ue,U,V){var ee=V.getData(),ye=ro.findEntry(ue.imageList,ee.src.value);U.prevImage=ye,V.setData({images:ye.map(function(Re){return Re.value}).getOr("")})},rt=function(ue,U,V,ee){os(U,ee),ju(U,ee),Iu(ue,U,V,ee),we(U,V,ee)},xt=function(ue,U,V,ee){var ye=ee.getData(),Re=ro.findEntry(U.imageList,ye.images);Re.each(function(gt){var un=ye.alt===""||V.prevImage.map(function(hr){return hr.text===ye.alt}).getOr(!1);un?gt.value===""?ee.setData({src:gt,alt:V.prevAlt}):ee.setData({src:gt,alt:gt.text}):ee.setData({src:gt})}),V.prevImage=Re,rt(ue,U,V,ee)},tn=function(ue){var U=ue["margin-top"]&&ue["margin-bottom"]&&ue["margin-top"]===ue["margin-bottom"];return U?en(String(ue["margin-top"])):""},kn=function(ue){var U=ue["margin-right"]&&ue["margin-left"]&&ue["margin-right"]===ue["margin-left"];return U?en(String(ue["margin-right"])):""},yr=function(ue){return ue["border-width"]?en(String(ue["border-width"])):""},jo=function(ue){return ue["border-style"]?String(ue["border-style"]):""},ti=function(ue,U,V){return U(ue(U(V)))},uo=function(ue,U,V){var ee=Tt(ue(V.style)),ye=We({},V);return ye.vspace=tn(ee),ye.hspace=kn(ee),ye.border=yr(ee),ye.borderstyle=jo(ee),ye.style=ti(ue,U,ee),ye},yi=function(ue,U){var V=U.getData(),ee=uo(ue.parseStyle,ue.serializeStyle,V);U.setData(ee)},Bi=function(ue,U,V){var ee=We(Sl(U.image),V.getData()),ye=Vu(ue.normalizeCss,gc(ee,!1));V.setData({style:ye})},rl=function(ue,U,V,ee){var ye=ee.getData();ee.block("Uploading image"),Ze(ye.fileinput).fold(function(){ee.unblock()},function(Re){var gt=URL.createObjectURL(Re),un=function(){ee.unblock(),URL.revokeObjectURL(gt)},hr=function(Tr){ee.setData({src:{value:Tr,meta:{}}}),ee.showTab("general"),rt(ue,U,V,ee)};bn(Re).then(function(Tr){var Ln=ue.createBlobCache(Re,gt,Tr);U.automaticUploads?ue.uploadImage(Ln).then(function(lr){hr(lr.url),un()}).catch(function(lr){un(),ue.alertErr(lr)}):(ue.addToBlobCache(Ln),hr(Ln.blobUri()),ee.unblock())})})},qa=function(ue,U,V){return function(ee,ye){ye.name==="src"?rt(ue,U,V,ee):ye.name==="images"?xt(ue,U,V,ee):ye.name==="alt"?V.prevAlt=ee.getData().alt:ye.name==="style"?yi(ue,ee):ye.name==="vspace"||ye.name==="hspace"||ye.name==="border"||ye.name==="borderstyle"?Bi(ue,U,ee):ye.name==="fileinput"?rl(ue,U,V,ee):ye.name==="isDecorative"&&(ee.getData().isDecorative?ee.disable("alt"):ee.enable("alt"))}},Vs=function(ue){return function(){ue.open=!1}},Cr=function(ue){if(ue.hasAdvTab||ue.hasUploadUrl||ue.hasUploadHandler){var U={type:"tabpanel",tabs:tt([[Eu.makeTab(ue)],ue.hasAdvTab?[_s.makeTab(ue)]:[],ue.hasUploadTab&&(ue.hasUploadUrl||ue.hasUploadHandler)?[Wl.makeTab(ue)]:[]])};return U}else{var V={type:"panel",items:Eu.makeItems(ue)};return V}},Cl=function(ue){return function(U){var V=nl(U);return{title:"Insert/Edit Image",size:"normal",body:Cr(U),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Sl(U.image),onSubmit:ue.onSubmit(U),onChange:qa(ue,U,V),onClose:Vs(V)}}},Yf=function(ue){return function(U){return function(V){var ee=We(Sl(U.image),V.getData());ue.execCommand("mceUpdateImage",!1,gc(ee,U.hasAccessibilityOptions)),ue.editorUpload.uploadImagesAuto(),V.close()}}},Oo=function(ue){return function(U){return an(ue,U)?vn(ue.documentBaseURI.toAbsolute(U)).then(function(V){return{width:String(V.width),height:String(V.height)}}):Ue.resolve({width:"",height:""})}},df=function(ue){return function(U,V,ee){return ue.editorUpload.blobCache.create({blob:U,blobUri:V,name:U.name?U.name.replace(/\.[^\.]+$/,""):null,filename:U.name,base64:ee.split(",")[1]})}},hf=function(ue){return function(U){ue.editorUpload.blobCache.add(U)}},Nd=function(ue){return function(U){ue.windowManager.alert(U)}},si=function(ue){return function(U){return Pe(ue,U)}},is=function(ue){return function(U){return ue.dom.parseStyle(U)}},Ah=function(ue){return function(U,V){return ue.dom.serializeStyle(U,V)}},Ss=function(ue){return function(U){return wt(ue).upload([U],!1).then(function(V){return V.length===0?Ue.reject("Failed to upload image"):V[0].status===!1?Ue.reject(V[0].error.message):V[0]})}},ua=function(ue){var U={onSubmit:Yf(ue),imageSize:Oo(ue),addToBlobCache:hf(ue),createBlobCache:df(ue),alertErr:Nd(ue),normalizeCss:si(ue),parseStyle:is(ue),serializeStyle:Ah(ue),uploadImage:Ss(ue)},V=function(){Ki(ue).then(Cl(U)).then(ue.windowManager.open)};return{open:V}},Ul=function(ue){ue.addCommand("mceImage",ua(ue).open),ue.addCommand("mceUpdateImage",function(U,V){ue.undoManager.transact(function(){return Jt(ue,V)})})},qt=function(ue){var U=ue.attr("class");return U&&/\bimage\b/.test(U)},yc=function(ue){return function(U){for(var V=U.length,ee=function(Re){Re.attr("contenteditable",ue?"true":null)};V--;){var ye=U[V];qt(ye)&&(ye.attr("contenteditable",ue?"false":null),kt.each(ye.getAll("figcaption"),ee))}}},sa=function(ue){ue.on("PreInit",function(){ue.parser.addNodeFilter("figure",yc(!0)),ue.serializer.addNodeFilter("figure",yc(!1))})},Kf=function(ue){ue.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ua(ue).open,onSetup:function(U){return U.setActive(S(it(ue))),ue.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",U.setActive).unbind}}),ue.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ua(ue).open}),ue.ui.registry.addContextMenu("image",{update:function(U){return Li(U)||Pa(U)&&!pt(U)?["image"]:[]}})};function Tl(){n.add("image",function(ue){sa(ue),Kf(ue),Ul(ue)})}Tl()})();const oZ={zh_CH:"zh_CN"},RV={light:"light",dark:"dark"},Cde=["bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | undo redo | link unlink image code | removeformat"],Tde=["raw","text","html","tree"],Mde={disabled:{type:Boolean,default:!1},theme:{type:String,default:RV.light,validator:n=>Object.values(RV).includes(n)},lang:{type:String,default:oZ.zh_CH,validator:n=>Object.values(oZ).includes(n)},height:{type:Number,default:600},options:{type:Object,default:()=>({})},toolbar:{type:Array,default:()=>Cde},modelValue:{type:String},modelValueEvents:{type:Array,default:()=>[]},outputFormat:{type:String,validtor:n=>Tde.includes(n)}},BEe={name:"ProTinymce"},zEe=Wa({...BEe,props:Mde,emits:["change","update:modelValue"],setup(n,{emit:e}){const t=n,r=e,i=Ao(null),u=Ao(null);r5(()=>{kp(()=>{b()})}),rSe(()=>{S()});const l=No(()=>t.theme===RV.light?"oxide":"oxide-dark"),f=No(()=>t.lang),h=No(()=>{const{height:E,toolbar:R}=t,I="/resource/tinymce";return{height:E,toolbar:R,selector:"#demo-tinymce",setup:z=>{g(z)},file_picker_types:"file image media",skin_url:`${I}/skins/ui/${l.value}`,branding:!1,default_link_target:"_blank",link_title:!1,object_resizing:!1,auto_focus:!0,content_css:`${I}/skins/content/default/content.css`,language_url:`${I}/langs/${f.value}.js`,language:f.value,menubar:"file edit insert view format table formats",plugins:"lists image media table wordcount save preview",formats:{h1:{block:"h1"},h2:{block:"h2"},h3:{block:"h3"}}}});function g(E){u.value=E,E.on("init",()=>{u.value&&(t.modelValue&&_(t.modelValue),y())}),E.on(t.modelValueEvents.length?t.modelValueEvents.join(" "):"change keyup undo redo",()=>{const R=k();r("update:modelValue",R),r("change",R)})}function y(E){su(()=>t.modelValue,(R,I)=>{I!==R&&R!==k()&&_(R||"")})}function b(){K7.init(h.value),su(()=>t.disabled,E=>{var R;(R=u.value)==null||R.setMode(E?"readonly":"design")},{immediate:!0})}function S(){var E,R;(R=K7==null?void 0:K7.remove)==null||R.call(K7,(E=io(h))==null?void 0:E.selector)}function _(E){u.value&&u.value.setContent(E)}function k(){var E;return((E=u.value)==null?void 0:E.getContent({format:t.outputFormat}))||""}return(E,R)=>(Pr(),Hi("div",null,[Ia("textarea",{id:"demo-tinymce",ref_key:"tinymceRef",ref:i,style:{visibility:"hidden"}},null,512)]))}}),FEe=cf(zEe),VEe={headerTitle:String,size:{type:dc(String)},columnsState:{type:dc(Object),default:()=>({})},columns:{type:dc(Array),default:()=>[]},data:{type:dc(Array),default:()=>[]},border:{type:dc(Boolean),default:!0},request:{type:dc(Function)},params:{type:dc(Object)},transform:{type:dc(Function)},transformParams:{type:dc(Function)},pagination:{type:dc([Object,Boolean]),default:!0},tableLayout:{type:dc(String),default:"fixed"},rowKey:{type:String,default:"id"},checkable:{type:Boolean,default:!1},reserveSelection:{type:Boolean,default:!1},options:{type:dc([Boolean,Object]),default:()=>({})},loading:{type:Boolean,default:!1},selectedKeys:{type:dc(Array),default:()=>[]},editable:{type:dc(Object)},alwaysShowAlert:{type:Boolean,default:!1},showAlert:{type:Boolean,default:!0},autoFitHeight:{type:Boolean,default:!1},autoRequest:{type:Boolean,default:!1}},HEe={PAGE_CHANGE:"page-change"},jEe={[HEe.PAGE_CHANGE]:(n,e)=>!!e&&!!n,"update:loading":n=>!0,"update:selectedKeys":n=>!!n,register:n=>!!n};function fee(n,e=Symbol(),t={}){const{readonly:r=!0,createProvider:i=!1,native:u=!1}=t,l=Th(n),f=r?yL(l):l;return!i&&vN(e,u?n:f),{state:l}}function dee(n=Symbol(),e){return fy(n,e||{})}function WEe(n){const e=Ao({}),t=Ao(null);su([()=>n.columnsState],()=>{l(n.columnsState.value||{})},{deep:!0,immediate:!0}),su(e,g=>{i().set(R3({...g}))},{deep:!0});function r(g){const y=i().get();Object.keys(y).length?l(y):l(g)}function i(){const{persistenceKey:g,persistenceType:y="localStorage"}=n.columnsState,b=window[y];return{set:S=>{g&&y&&b.setItem(g,JSON.stringify(S))},remove:()=>{g&&y&&b.removeItem(g)},get:()=>{try{return g&&y?JSON.parse(b.getItem(g)||""):{}}catch{return{}}}}}function u(g){t.value={...g}}function l(g){e.value=Object.assign({},e.value,g)}function f(){e.value={...t.value},i().remove()}function h(g){return e.value[g]||{show:!0}}return{columnsMap:e,defaultColumnsMap:t,mergeColumnsMap:l,resetColumnsMap:f,setDefaultColumnsMap:u,getColumnMapConfig:h,initLocalStorageOrDynamicMap:r}}function UEe(n,{page:e=1,pageSize:t=10}){const r=(e-1)*t;return n.slice(r,r+t)}function kde(n){return(e,t)=>{var r,i;const u=((r=n[e.key])==null?void 0:r.order)||0,l=((i=n[t.key])==null?void 0:i.order)||0;return u-l}}function qEe(n,e){function t(r){return r.map(i=>{var u;const l=e[i.key]||{fixed:i.fixed};if(l&&l.show===!1)return!1;const f={...i,fixed:l.fixed,children:void 0};if(i.children&&(u=i.children)!=null&&u.length){const h=t(i.children);if(h.length)f.children=h;else return!1}return f}).filter(Boolean)}return t(n)}function W2(n,e){if(typeof e=="string")return n[e];if(typeof e=="function")return e(n)}function $Ee(...n){return PMe(...n)}function GEe(n){return wfe(n)||HDe(n)?dy(n):n}function XEe(n){const{dataSource:e,editableConfig:t,columns:r}=n,i=Ao(new Map),u=Ao(null),l=No(()=>{const X={};for(const[Y,ae]of i.value.entries())ae.isEdit&&(X[Y]=ae.data);return X});function f(X){u.value=X}function h(X){t.mode==="single"&&_();const Y=R(X);i.value.set(X,{isEdit:!0,data:{...Y},errors:void 0})}function g(X){var Y;if(t.onCancel){const te=((Y=i.value.get(X))==null?void 0:Y.data)||{};t.onCancel(te,ae)}else ae();function ae(){i.value.delete(X)}}function y(X){var Y;const ae=E(X);if(!u.value){te();return}(Y=u.value)==null||Y.validateField(L(X),(ie,le)=>{var ce;(ce=t.onError)==null||ce.call(t,KEe(le)),ie&&te()});function te(){const ie=R(X);k(ie,ae),i.value.delete(X),z()}}function b(X){if(t.onDelete){t.onDelete(R(X),Y);return}Y();function Y(){const ae=I(X);ae!==-1&&(e.value.splice(ae,1),i.value.delete(X),z())}}function S(X){const Y=i.value.get(X);Y&&Y.errors&&(Y.errors=void 0)}function _(){i.value.clear()}function k(X,Y){Object.keys(Y).forEach(ae=>{X[ae]=Y[ae]})}function E(X){var Y;return((Y=i.value.get(X))==null?void 0:Y.data)||{}}function R(X){return e.value.find(Y=>W2(Y,n.rowKey)===X)}function I(X){return e.value.findIndex(Y=>W2(Y,n.rowKey)===X)}function z(){var X;(X=t==null?void 0:t.onChange)==null||X.call(t,e.value)}function L(X){return r.map(Y=>`${X}.${Y.key}`)}function q(){return i.value.size>0}return{editableRowsModel:l,formInstanceRef:u,setFormInstanceRef:f,startEditable:h,cancelEditable:g,saveEditable:y,deleteEditable:b,clearEditRow:_,clearValidateErrors:S,hasEditingRow:q,editableCellMap:No(()=>i.value)}}function YEe(n){const e=n.split(".");return e.length>=2?e[1]:n}function KEe(n){if(!n)return{};const e={};return Object.keys(n).forEach(t=>{const r=n[t],i=YEe(t);e[i]=r}),e}function JEe(n,e){const t=Ao([]),{emits:r,tableInstance:i}=e||{};su(()=>n.selectedKeys,(h,g)=>{var y;h.toString()!==g.toString()&&(u(n.selectedKeys),f(((y=i.value)==null?void 0:y.data)||[],n.rowKey,n.selectedKeys).forEach(b=>{var S;(S=i.value)==null||S.toggleRowSelection(b,!0)}))},{deep:!0});function u(h){h.toString()!==t.value.toString()&&(t.value=h,r("update:selectedKeys",[...t.value]))}function l(){var h;u([]),(h=i.value)==null||h.clearSelection()}function f(h,g,y){const b=[];return h.forEach(S=>{const _=W2(S,g);y.includes(_)&&b.push(S),S.children&&S.children.length&&b.push(...f(S.children,g,y))}),b}return{selectedKeys:No(()=>t.value),setSelectedKeys:u,clearSelectedKeys:l}}var ZEe=!1;function hee(n){return gfe()?(vfe(n),!0):!1}function Ab(n){return typeof n=="function"?n():io(n)}const Dde=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const QEe=Object.prototype.toString,e3e=n=>QEe.call(n)==="[object Object]",V3=()=>{};function pee(n,e){function t(...r){return new Promise((i,u)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(u)})}return t}const Ade=n=>n();function t3e(n,e={}){let t,r,i=V3;const u=l=>{clearTimeout(l),i(),i=V3};return l=>{const f=Ab(n),h=Ab(e.maxWait);return t&&u(t),f<=0||h!==void 0&&h<=0?(r&&(u(r),r=null),Promise.resolve(l())):new Promise((g,y)=>{i=e.rejectOnCancel?y:g,h&&!r&&(r=setTimeout(()=>{t&&u(t),r=null,g(l())},h)),t=setTimeout(()=>{r&&u(r),r=null,g(l())},f)})}}function n3e(n,e=!0,t=!0,r=!1){let i=0,u,l=!0,f=V3,h;const g=()=>{u&&(clearTimeout(u),u=void 0,f(),f=V3)};return y=>{const b=Ab(n),S=Date.now()-i,_=()=>h=y();return g(),b<=0?(i=Date.now(),_()):(S>b&&(t||!l)?(i=Date.now(),_()):e&&(h=new Promise((k,E)=>{f=r?E:k,u=setTimeout(()=>{i=Date.now(),l=!0,k(_()),g()},Math.max(0,b-S))})),!t&&!u&&(u=setTimeout(()=>l=!0,b)),l=!1,h)}}function r3e(n=Ade){const e=Ao(!0);function t(){e.value=!1}function r(){e.value=!0}const i=(...u)=>{e.value&&n(...u)};return{isActive:yL(e),pause:t,resume:r,eventFilter:i}}function Ede(n){return n||qQ()}function o3e(...n){if(n.length!==1)return xfe(...n);const e=n[0];return typeof e=="function"?yL(fSe(()=>({get:e,set:V3}))):Ao(e)}function i3e(n,e=200,t={}){return pee(t3e(e,t),n)}function a3e(n,e=200,t=!1,r=!0,i=!1){return pee(n3e(e,t,r,i),n)}function u3e(n,e,t={}){const{eventFilter:r=Ade,...i}=t;return su(n,pee(r,e),i)}function s3e(n,e,t={}){const{eventFilter:r,...i}=t,{eventFilter:u,pause:l,resume:f,isActive:h}=r3e(r);return{stop:u3e(n,e,{...i,eventFilter:u}),pause:l,resume:f,isActive:h}}function Ode(n,e=!0,t){Ede()?r5(n,t):e?n():kp(n)}function l3e(n,e){Ede(e)&&cSe(n,e)}function TYe(n=!1,e={}){const{truthyValue:t=!0,falsyValue:r=!1}=e,i=Y2(n),u=Ao(n);function l(f){if(arguments.length)return u.value=f,u.value;{const h=Ab(t);return u.value=u.value===h?Ab(r):h,u.value}}return i?l:[u,l]}function c3e(n,e,t){const r=su(n,(...i)=>(kp(()=>r()),e(...i)),t);return r}function PV(n){var e;const t=Ab(n);return(e=t==null?void 0:t.$el)!=null?e:t}const H3=Dde?window:void 0,f3e=Dde?window.document:void 0;function GN(...n){let e,t,r,i;if(typeof n[0]=="string"||Array.isArray(n[0])?([t,r,i]=n,e=H3):[e,t,r,i]=n,!e)return V3;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const u=[],l=()=>{u.forEach(y=>y()),u.length=0},f=(y,b,S,_)=>(y.addEventListener(b,S,_),()=>y.removeEventListener(b,S,_)),h=su(()=>[PV(e),Ab(i)],([y,b])=>{if(l(),!y)return;const S=e3e(b)?{...b}:b;u.push(...t.flatMap(_=>r.map(k=>f(y,_,k,S))))},{immediate:!0,flush:"post"}),g=()=>{h(),l()};return hee(g),g}function d3e(){const n=Ao(!1);return qQ()&&r5(()=>{n.value=!0}),n}function Ide(n){const e=d3e();return No(()=>(e.value,!!n()))}function h3e(n,e={}){const{window:t=H3}=e,r=Ide(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let i;const u=Ao(!1),l=g=>{u.value=g.matches},f=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",l):i.removeListener(l))},h=dSe(()=>{r.value&&(f(),i=t.matchMedia(Ab(n)),"addEventListener"in i?i.addEventListener("change",l):i.addListener(l),u.value=i.matches)});return hee(()=>{h(),f(),i=void 0}),u}const J7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z7="__vueuse_ssr_handlers__",p3e=m3e();function m3e(){return Z7 in J7||(J7[Z7]=J7[Z7]||{}),J7[Z7]}function Rde(n,e){return p3e[n]||e}function g3e(n){return n==null?"any":n instanceof Set?"set":n instanceof Map?"map":n instanceof Date?"date":typeof n=="boolean"?"boolean":typeof n=="string"?"string":typeof n=="object"?"object":Number.isNaN(n)?"any":"number"}const v3e={boolean:{read:n=>n==="true",write:n=>String(n)},object:{read:n=>JSON.parse(n),write:n=>JSON.stringify(n)},number:{read:n=>Number.parseFloat(n),write:n=>String(n)},any:{read:n=>n,write:n=>String(n)},string:{read:n=>n,write:n=>String(n)},map:{read:n=>new Map(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n.entries()))},set:{read:n=>new Set(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n))},date:{read:n=>new Date(n),write:n=>n.toISOString()}},eie="vueuse-storage";function y3e(n,e,t,r={}){var i;const{flush:u="pre",deep:l=!0,listenToStorageChanges:f=!0,writeDefaults:h=!0,mergeDefaults:g=!1,shallow:y,window:b=H3,eventFilter:S,onError:_=ie=>{console.error(ie)},initOnMounted:k}=r,E=(y?mfe:Ao)(typeof e=="function"?e():e);if(!t)try{t=Rde("getDefaultStorage",()=>{var ie;return(ie=H3)==null?void 0:ie.localStorage})()}catch(ie){_(ie)}if(!t)return E;const R=Ab(e),I=g3e(R),z=(i=r.serializer)!=null?i:v3e[I],{pause:L,resume:q}=s3e(E,()=>X(E.value),{flush:u,deep:l,eventFilter:S});return b&&f&&Ode(()=>{GN(b,"storage",te),GN(b,eie,ae),k&&te()}),k||te(),E;function X(ie){try{if(ie==null)t.removeItem(n);else{const le=z.write(ie),ce=t.getItem(n);ce!==le&&(t.setItem(n,le),b&&b.dispatchEvent(new CustomEvent(eie,{detail:{key:n,oldValue:ce,newValue:le,storageArea:t}})))}}catch(le){_(le)}}function Y(ie){const le=ie?ie.newValue:t.getItem(n);if(le==null)return h&&R!=null&&t.setItem(n,z.write(R)),R;if(!ie&&g){const ce=z.read(le);return typeof g=="function"?g(ce,R):I==="object"&&!Array.isArray(ce)?{...R,...ce}:ce}else return typeof le!="string"?le:z.read(le)}function ae(ie){te(ie.detail)}function te(ie){if(!(ie&&ie.storageArea!==t)){if(ie&&ie.key==null){E.value=R;return}if(!(ie&&ie.key!==n)){L();try{(ie==null?void 0:ie.newValue)!==z.write(E.value)&&(E.value=Y(ie))}catch(le){_(le)}finally{ie?kp(q):q()}}}}}function Pde(n){return h3e("(prefers-color-scheme: dark)",n)}function b3e(n={}){const{selector:e="html",attribute:t="class",initialValue:r="auto",window:i=H3,storage:u,storageKey:l="vueuse-color-scheme",listenToStorageChanges:f=!0,storageRef:h,emitAuto:g,disableTransition:y=!0}=n,b={auto:"",light:"light",dark:"dark",...n.modes||{}},S=Pde({window:i}),_=No(()=>S.value?"dark":"light"),k=h||(l==null?o3e(r):y3e(l,r,u,{window:i,listenToStorageChanges:f})),E=No(()=>k.value==="auto"?_.value:k.value),R=Rde("updateHTMLAttrs",(q,X,Y)=>{const ae=typeof q=="string"?i==null?void 0:i.document.querySelector(q):PV(q);if(!ae)return;let te;if(y&&(te=i.document.createElement("style"),te.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),i.document.head.appendChild(te)),X==="class"){const ie=Y.split(/\s/g);Object.values(b).flatMap(le=>(le||"").split(/\s/g)).filter(Boolean).forEach(le=>{ie.includes(le)?ae.classList.add(le):ae.classList.remove(le)})}else ae.setAttribute(X,Y);y&&(i.getComputedStyle(te).opacity,document.head.removeChild(te))});function I(q){var X;R(e,t,(X=b[q])!=null?X:q)}function z(q){n.onChanged?n.onChanged(q,I):I(q)}su(E,z,{flush:"post",immediate:!0}),Ode(()=>z(E.value));const L=No({get(){return g?k.value:E.value},set(q){k.value=q}});try{return Object.assign(L,{store:k,system:_,state:E})}catch{return L}}function MYe(n={}){const{valueDark:e="dark",valueLight:t="",window:r=H3}=n,i=b3e({...n,onChanged:(l,f)=>{var h;n.onChanged?(h=n.onChanged)==null||h.call(n,l==="dark",f,l):f(l)},modes:{dark:e,light:t}}),u=No(()=>i.system?i.system.value:Pde({window:r}).value?"dark":"light");return No({get(){return i.value==="dark"},set(l){const f=l?"dark":"light";u.value===f?i.value="auto":i.value=f}})}const tie=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function kYe(n,e={}){const{document:t=f3e,autoExit:r=!1}=e,i=No(()=>{var I;return(I=PV(n))!=null?I:t==null?void 0:t.querySelector("html")}),u=Ao(!1),l=No(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(I=>t&&I in t||i.value&&I in i.value)),f=No(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(I=>t&&I in t||i.value&&I in i.value)),h=No(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(I=>t&&I in t||i.value&&I in i.value)),g=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(I=>t&&I in t),y=Ide(()=>i.value&&t&&l.value!==void 0&&f.value!==void 0&&h.value!==void 0),b=()=>g?(t==null?void 0:t[g])===i.value:!1,S=()=>{if(h.value){if(t&&t[h.value]!=null)return t[h.value];{const I=i.value;if((I==null?void 0:I[h.value])!=null)return!!I[h.value]}}return!1};async function _(){if(!(!y.value||!u.value)){if(f.value)if((t==null?void 0:t[f.value])!=null)await t[f.value]();else{const I=i.value;(I==null?void 0:I[f.value])!=null&&await I[f.value]()}u.value=!1}}async function k(){if(!y.value||u.value)return;S()&&await _();const I=i.value;l.value&&(I==null?void 0:I[l.value])!=null&&(await I[l.value](),u.value=!0)}async function E(){await(u.value?_():k())}const R=()=>{const I=S();(!I||I&&b())&&(u.value=I)};return GN(t,tie,R,!1),GN(()=>PV(i),tie,R,!1),r&&hee(_),{isSupported:y,isFullscreen:u,enter:k,exit:_,toggle:E}}const Q7={pageSizes:[10,20,30,40],background:!0,layout:["total","sizes","prev","pager","next","jumper"]},x3e=10,w3e=(n,e)=>{const{emits:t}=e,{columns:r,data:i,params:u,pagination:l}=DH(n),{request:f}=n,h=Ao([]),g=No(()=>_3e(r.value)),y=Ao(0),b=Ao(!1),S=Th({page:1,pageSize:10}),_=No(()=>{var q,X,Y;return typeof l.value=="boolean"?{...Q7,currentPage:S.page,total:y.value,layout:(q=Q7.layout)==null?void 0:q.join(",")}:{...Q7,...l.value,currentPage:l.value.page||S.page,total:y.value,layout:((X=l.value.layout)==null?void 0:X.join(","))||((Y=Q7.layout)==null?void 0:Y.join(","))}});c3e(()=>n.pagination,()=>{if(!n.autoRequest)if(typeof l.value=="boolean"){I();return}else S.pageSize=l.value.pageSize||x3e,I()},{immediate:!0}),su([u,i],()=>{R()});const k=q=>{S.page=q,z()},E=q=>{S.page=1,S.pageSize=q,z()};function R(){S.page=1,z()}function I(){z()}async function z(){L(!0);try{if(!f)h.value=l.value?UEe(i.value,{page:S.page,pageSize:S.pageSize}):i.value,y.value=i.value.length;else{const q=n.transform,X=n.transformParams,Y=Object.assign({},(u==null?void 0:u.value)||{},S),ae=await f(X?X(Y):Y),{total:te,data:ie}=q?q(ae):ae;h.value=ie,y.value=te}L(!1)}catch(q){console.error(q)}}function L(q){b.value=q,t("update:loading",b.value)}return{tableColums:g,paginationProps:_,total:y,loading:b,dataSource:h,pageQuery:S,refresh:I,reload:R,setQueryPageSize:E,setQueryPage:k}};function _3e(n){const e=n.find(t=>t.valueType==="indexBorder");return e&&(!e.title&&(e.title="序号"),!e.width&&(e.width=60)),n}const Nde=Symbol();function S3e(n,e){const{emits:t}=e,r=Ao(null),i=Ao(null),u=Ao(0),l=Ao(null),f=Ao(null),h=Ao(null),g=Th({size:"default",height:0}),y=No(()=>({enableValidate:n.editable.enableValidate}));let b;try{const{proTable:Fe}=fy(Nde)||{};b=Fe}catch{}const{paginationProps:S,dataSource:_,total:k,pageQuery:E,loading:R,tableColums:I,reload:z,refresh:L,setQueryPage:q,setQueryPageSize:X}=w3e(Th({...DH(n),transform:n.transform||(b==null?void 0:b.transform),transformParams:n.transformParams||(b==null?void 0:b.transformParams)}),{emits:t}),{selectedKeys:Y,setSelectedKeys:ae,clearSelectedKeys:te}=JEe(n,{tableInstance:r,emits:t}),{startEditable:ie,cancelEditable:le,saveEditable:ce,deleteEditable:ne,editableCellMap:Z,clearEditRow:Ce,clearValidateErrors:ze,hasEditingRow:ke,setFormInstanceRef:_t,editableRowsModel:tt}=XEe({dataSource:_,rowKey:n.rowKey,editableConfig:n.editable,columns:n.columns}),{defaultColumnsMap:$,columnsMap:Ze,setDefaultColumnsMap:$e,mergeColumnsMap:mt,resetColumnsMap:Qe,getColumnMapConfig:Et,initLocalStorageOrDynamicMap:Ot}=WEe({columnsState:n.columnsState}),Nt={startEditable:ie,cancelEditable:le,saveEditable:ce,deleteEditable:ne,clearEditRow:Ce,hasEditingRow:ke,setFormInstanceRef:_t,clearValidateErrors:ze},fe={setDefaultColumnsMap:$e,mergeColumnsMap:mt,resetColumnsMap:Qe,getColumnMapConfig:Et,initLocalStorageOrDynamicMap:Ot};n.autoFitHeight?r5(()=>{kp(()=>{var Fe;u.value=((Fe=i.value)==null?void 0:Fe.clientHeight)||0,su([i,h,f,l,Y],()=>{kp(()=>{$t()})},{immediate:!0,flush:"post"})})}):$t();function $t(){if(n.height){g.height=n.height;return}if(!n.autoFitHeight){g.height=void 0;return}let Fe=u.value;if(!Fe)return 0;f.value&&(Fe-=f.value.offsetHeight),h.value&&Y.value.length&&(Fe-=h.value.offsetHeight),l.value&&(Fe-=l.value.clientHeight),g.height=Fe-5}function Je(Fe){Object.assign(g,Fe)}return{doHeight:$t,toolbarRef:f,alertRef:h,paginationRef:l,proTableWrapperRef:i,sharedProperties:y,paginationProps:S,tableProps:g,loading:R,selectedKeys:Y,total:k,pageQuery:E,dataSource:_,tableColums:I,defaultColumnsMap:$,columnsMap:Ze,reload:z,setQueryPage:q,setQueryPageSize:X,setSelectedKeys:ae,clearSelectedKeys:te,tableActionRef:{tableRef:r,doHeight:$t,reload:z,refresh:L,clearSelectedKeys:te,editableCellUtils:Nt,columnsSettingUtils:fe},tableInstanceRef:r,mergeTableProps:Je,customRendererMap:b==null?void 0:b.rendererMap,editableCellMap:Z,editableRowsModel:tt,editableCellUtils:Nt,columnsSettingUtils:fe}}const Lde=Symbol();function C3e(n){return fee(n,Lde,{readonly:!1,native:!0})}function SL(){return dee(Lde)}const Bde=Symbol();function T3e(n){return fee(n,Bde,{readonly:!1})}function M3e(){return dee(Bde)}const k3e=n=>(yfe("data-v-63d8f846"),n=n(),bfe(),n),D3e=k3e(()=>Ia("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"info-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[Ia("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),Ia("path",{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"})],-1)),A3e=Wa({__name:"tips",props:{text:{},size:{}},setup(n){return(e,t)=>{const r=ia("el-icon"),i=ia("el-tooltip");return Pr(),Wi(i,{effect:"dark",content:e.text,placement:"top"},{default:go(()=>[Co(r,{class:"custom-icon",size:e.size},{default:go(()=>[D3e]),_:1},8,["size"])]),_:1},8,["content"])}}}),E3e=Xf(A3e,[["__scopeId","data-v-63d8f846"]]),zde=cf(E3e),O3e=Wa({__name:"editable-cell",props:{column:{},value:{},row:{},rowKey:{}},setup(n){const{editableCellMap:e,sharedProperties:t}=SL(),r=n,i=No(()=>{var g;return((g=r.column)==null?void 0:g.key)&&r.column.rowComponent&&r.column.rowComponent.el});function u(g){const y=W2(r.row,r.rowKey);if(!y)return;const b=e.value.get(y);b!=null&&b.data&&(b.data[r.column.key]=g)}function l(){const g=W2(r.row,r.rowKey);if(!g)return;const y=e.value.get(g);if(y!=null&&y.data)return y==null?void 0:y.data[r.column.key]}function f(g){if(!(g!=null&&g.el))return null;function y(_){if(!_)return"";const{el:k}=_;return typeof k=="string"?ia(k):R3(k)}const b=W2(r.row,r.rowKey);if(t.value.enableValidate)return dy(Sfe,{prop:`${b}.${r.column.key}`,rules:g.rules},{default:()=>S()});return S();function S(){return dy(y(g),{...(g==null?void 0:g.props)||{},modelValue:l(),"onUpdate:modelValue":u})}}function h(){const{column:g}=r;if(!g)return Co(af,null,null);const{rowComponent:y}=g;return y?Co("span",null,[f(y)]):Co(af,null,null)}return(g,y)=>i.value?(Pr(),Wi(n_(h()),{key:0})):oa("v-if",!0)}}),I3e={class:"badge"},R3e={key:1},P3e=Wa({__name:"badge",props:{text:{},color:{}},setup(n){const e=n,t=i=>["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"].includes(i),r=No(()=>t(e.color||"")?{}:{backgroundColor:e.color,color:e.color});return(i,u)=>(Pr(),Hi("span",I3e,[i.color?(Pr(),Hi("span",{key:0,class:bL(["badge__dot",t(i.color)?`badge__dot--${i.color}`:""]),style:n5(r.value)},null,6)):oa("v-if",!0),i.text||i.$slots.text?(Pr(),Hi("span",R3e,[xl(i.$slots,"text",{},()=>[qf(Ch(i.text),1)],!0)])):oa("v-if",!0)]))}}),N3e=Xf(P3e,[["__scopeId","data-v-826a6da3"]]);function L3e(n){const{row:e,columnConfig:t,valueEnum:r,valueType:i,pagination:u,index:l,customRendererMap:f}=n,h=$Ee(e,t.key),g=z3e(i,e);let y={type:typeof g=="string"?g:g.type||"text"};typeof g=="object"&&(y=Object.assign(y,{...g}));const b=B3e(r,e);if(f){const _=f[y.type];if(_){const k=_(qN({value:h,row:e,index:l,columnConfig:t,valueEnum:b,valueType:y,pagination:u}));return wfe(k)?dy(k):k}}const S={text:()=>h==null?"":Ch(h),enum:()=>{const _=b[h];return _?Co(N3e,{color:_.color,text:_.text},null):""},progress:()=>Co(WSe,{percentage:h,status:y==null?void 0:y.status,color:y.color},{default:({percentage:_})=>`${_||0}%`}),indexBorder:()=>{if(!u)return Ch("");const{page:_,pageSize:k}=u;return(_-1)*k+l+1},image:()=>{let _=h;return typeof y.src=="function"&&(_=y.src(h)),h?Co(USe,{src:_,previewSrcList:[_],initialIndex:0,previewTeleported:!0,style:y.style},null):null}}[y.type];return S?S():h}function B3e(n,...e){return typeof n=="function"?n(...e):n}function z3e(n,...e){return typeof n=="function"?n(...e):n}const F3e=Wa({__name:"pro-table-column",props:{column:{},rowKey:{}},setup(n){const e=n,t=M3e(),r=WQ(),{editableCellMap:i,pageQuery:u,customRendererMap:l}=SL();function f(y,b){var S;const{row:_,$index:k}=b||{};if(y.children&&y.children.length)return y.children.map(Y=>h(Y));const{valueType:E="text",valueEnum:R,render:I}=y,z={...r,...t.slots},L=W2(_,e.rowKey),q={...b,editableState:L?i.value.get(L):void 0};if(z[y.key])return(S=z[y.key])==null?void 0:S.call(z,q);const X=L?i.value.get(L):void 0;return y.editable&&X&&X.isEdit?Co(O3e,{row:_,column:y,rowKey:e.rowKey},null):GEe(typeof I=="function"?I(q):L3e({valueEnum:R,valueType:E,row:_,columnConfig:y,index:k,customRendererMap:l,pagination:{page:u.page,pageSize:u.pageSize}}))}const h=y=>{const b={...y};return delete b.children,Co(VSe,Od({prop:String(y.key)},b),{default:S=>f(y,S),header:S=>{var _;return r[`${y.key}Header`]?(_=r[`${y.key}Header`])==null?void 0:_.call(r,{...S,info:y}):Co("span",{class:"column-header"},[Co("span",{class:"column-header-title"},[y.title]),y.tip?Co(zde,{text:y.tip},null):null])}})},g=()=>h(e.column);return(y,b)=>(Pr(),Wi(n_(g())))}}),V3e=Xf(F3e,[["__scopeId","data-v-815d8ad1"]]),H3e={class:"setting-tree"},j3e={class:"setting-tree__header"},W3e={class:"setting-tree__node"},U3e={key:0,class:"tools"},q3e=Wa({__name:"setting-tree",props:{title:{type:String,default:""},columns:{type:Array,default:()=>[]},fixed:{type:dc(String),default:"auto"},defaultCheckedKeys:{type:dc(Array),default:()=>[]}},emits:{change:(n,e)=>e&&n,check:()=>!0,move:(n,e,t)=>n&&e&&t},setup(n,{emit:e}){const t=e,r=Ao(),i=n,u=Th({map:new Map,columns:[],checkedKeys:[]}),{columnsSettingUtils:l,columnsMap:f}=SL();su([()=>i.columns,f],()=>{if(i.columns.length===0)return;const I=new Map,z=[],L=X=>{X.forEach(Y=>{I.set(Y.key,Y),Y.children&&L(Y.children)})};function q(X){return X.map(Y=>{var ae,te;const ie={title:Y.title,key:Y.key,fixed:Y.fixed,_rowKey:Y.key},le=f.value[Y.key]||{show:!0};return!((ae=Y.children)!=null&&ae.length)&&(le==null?void 0:le.show)!==!1&&z.push(Y.key),(te=Y.children)!=null&&te.length&&(ie.children=q(Y.children),ie.children.every(ce=>z.includes(ce.key))&&z.push(ie.key)),ie})}L([...i.columns]),u.map=I,u.columns=q([...i.columns]),u.checkedKeys=z,k(z)},{deep:!0,immediate:!0});const h=(I,z)=>{const{checkedKeys:L=[]}=z||{},q=L.includes(I.key),X={...f.value},Y=ae=>{var te,ie,le,ce;const ne={...X[ae]};ne.show=q,(ie=(te=u.map)==null?void 0:te.get(ae))!=null&&ie.children&&((ce=(le=u.map.get(ae))==null?void 0:le.children)==null||ce.forEach(Z=>Y(Z.key))),X[ae]=ne};Y(I.key),l.mergeColumnsMap({...X}),t("check")},g=()=>{t("change",i.fixed,i.columns)},y=I=>{t("move",i.fixed,"left",I)},b=I=>{t("move",i.fixed,"auto",I)},S=I=>{t("move",i.fixed,"right",I)},_=()=>{g()};function k(I){kp(()=>{var z;(z=r.value)==null||z.setCheckedKeys(I)})}const E=(I,z,L)=>!!(I.level===z.level&&["next","prev"].includes(L)),R=I=>!(I.level>1);return(I,z)=>{const L=ia("el-icon"),q=ia("el-tooltip"),X=ia("el-space"),Y=ia("el-tree");return Pr(),Hi("div",H3e,[Ia("div",j3e,Ch(n.title),1),Co(Y,{ref_key:"treeRef",ref:r,"allow-drop":E,"allow-drag":R,data:n.columns,"default-checked-keys":n.defaultCheckedKeys,"show-checkbox":"",draggable:"","node-key":"_rowKey",props:{label:"title",children:"children"},"expand-on-click-node":!1,onNodeDragEnd:_,onCheck:h},{default:go(({node:ae})=>[Ia("div",W3e,[Ia("span",null,Ch(ae.label),1),ae.level===1?(Pr(),Hi("span",U3e,[Co(X,null,{default:go(()=>[n.fixed!=="auto"?(Pr(),Wi(q,{key:0,effect:"dark",content:"不固定",placement:"top-start"},{default:go(()=>[Co(L,{color:"var(--el-color-primary)",onClick:te=>b(ae)},{default:go(()=>[Co(io(HSe))]),_:2},1032,["onClick"])]),_:2},1024)):oa("v-if",!0),n.fixed!=="left"?(Pr(),Wi(q,{key:1,effect:"dark",content:"固定在列首",placement:"top-start"},{default:go(()=>[Co(L,{color:"var(--el-color-primary)",onClick:te=>y(ae)},{default:go(()=>[Co(io(Cfe))]),_:2},1032,["onClick"])]),_:2},1024)):oa("v-if",!0),n.fixed!=="right"?(Pr(),Wi(q,{key:2,effect:"dark",content:"固定在列尾",placement:"top-start"},{default:go(()=>[Co(L,{color:"var(--el-color-primary)",onClick:te=>S(ae)},{default:go(()=>[Co(io(jSe))]),_:2},1032,["onClick"])]),_:2},1024)):oa("v-if",!0)]),_:2},1024)])):oa("v-if",!0)])]),_:1},8,["data","default-checked-keys"])])}}}),qY=Xf(q3e,[["__scopeId","data-v-9a223f33"]]),$3e={style:{display:"flex","align-items":"center","justify-content":"space-between"}},G3e=Wa({__name:"column-setting",props:{columns:{}},emits:{change:n=>n},setup(n,{emit:e}){const t=e,r=n,{columnsSettingUtils:i,columnsMap:u}=SL(),{initLocalStorageOrDynamicMap:l,setDefaultColumnsMap:f,resetColumnsMap:h,getColumnMapConfig:g}=i,y=Ao(),b=Ao(),S=Th({indeterminate:!1,checked:!1}),_=Th({leftColumns:[],autoColumns:[],rightColumns:[]}),k=su(()=>r.columns,()=>{I(),kp(()=>{k()})},{immediate:!0});su(u,()=>{const te=Object.values(u.value).filter(le=>!le||le.show===!1),ie=r.columns.filter(le=>{const ce=u.value[le.key];return!ce||ce.show===!1});S.indeterminate=te.length!==0&&ie.length!==r.columns.length,S.checked=te.length===0&&r.columns.length!==te.length},{immediate:!0});const E=te=>{R(te)},R=(te=!0)=>{const ie={},le=ce=>{ce.forEach(({key:ne,fixed:Z,children:Ce})=>{var ze;const ke=ne;ke&&(ie[ke]={show:te,fixed:Z,order:(ze=u.value[ke])==null?void 0:ze.order}),Ce&&le(Ce)})};le(r.columns),i.mergeColumnsMap(ie)};function I(){const te={};r.columns.forEach((ie,le)=>{var ce;te[ie.key]={order:le,show:((ce=te[ie.key])==null?void 0:ce.show)!==!1,fixed:ie.fixed}}),l({...te}),f({...te}),z()}function z(){const te=ae([...r.columns]).sort(kde(u.value));_.autoColumns=[],_.leftColumns=[],_.rightColumns=[],te.forEach(ie=>{ie.fixed==="left"?_.leftColumns.push(ie):ie.fixed==="right"?_.rightColumns.push(ie):_.autoColumns.push(ie)})}const L=()=>{h(),I(),z(),Y()},q=()=>{Y()},X=(te,ie,le)=>{const ce={auto:_.autoColumns,left:_.leftColumns,right:_.rightColumns},ne=ce[te].splice(ce[te].findIndex(Ce=>Ce.key===le.data.key),1),Z=g(ne[0].key);ie==="left"?ne[0].fixed="left":ie==="right"?ne[0].fixed="right":ne[0].fixed=void 0,Z.fixed=ne[0].fixed,ce[ie].push(...ne),Y()};function Y(){const te={};[..._.leftColumns,..._.autoColumns,..._.rightColumns].forEach((ie,le)=>{te[ie.key]={...u.value[ie.key]||{},fixed:ie.fixed,order:le}}),i.mergeColumnsMap(te),t("change",{...u.value})}function ae(te){return te.map(ie=>{const le={title:ie.title,key:ie.key,fixed:ie.fixed,_rowKey:ie.key};return ie.children&&(le.children=ae(ie.children)),le})}return(te,ie)=>{const le=ia("el-icon"),ce=ia("el-tooltip"),ne=ia("el-checkbox"),Z=ia("el-button"),Ce=ia("el-popover");return Pr(),Hi(af,null,[Co(ce,{effect:"dark",content:"列设置",placement:"top"},{default:go(()=>[Ia("span",{ref_key:"triggerRef",ref:y,style:{cursor:"pointer"}},[Co(le,{size:18},{default:go(()=>[Co(io(BSe))]),_:1})],512)]),_:1}),oa(" TODO: virtual-ref error "),Ia("div",null,[Co(Ce,{ref_key:"popoverRef",ref:b,"virtual-ref":y.value,"virtual-triggering":"",placement:"bottom",width:300,trigger:"click"},{default:go(()=>[Ia("div",null,[Ia("div",$3e,[Ia("span",null,[Co(ne,{"model-value":S.checked,label:"列设置",size:"large",indeterminate:S.indeterminate,onChange:E},null,8,["model-value","indeterminate"])]),Ia("span",null,[Co(Z,{link:"",type:"primary",onClick:L},{default:go(()=>[qf("重置")]),_:1})])]),_.leftColumns.length?(Pr(),Wi(qY,{key:0,title:"固定在左侧",fixed:"left",columns:_.leftColumns,onMove:X,onCheck:q,onChange:Y},null,8,["columns"])):oa("v-if",!0),_.autoColumns.length?(Pr(),Wi(qY,{key:1,title:!_.leftColumns.length&&!_.leftColumns.length?"":"不固定",fixed:"auto",columns:_.autoColumns,onMove:X,onCheck:q,onChange:Y},null,8,["title","columns"])):oa("v-if",!0),_.rightColumns.length?(Pr(),Wi(qY,{key:2,title:"固定在右侧",fixed:"right",columns:_.rightColumns,onMove:X,onCheck:q,onChange:Y},null,8,["columns"])):oa("v-if",!0)])]),_:1},8,["virtual-ref"])])],64)}}}),X3e={key:0,class:"pro-table-header"},Y3e={class:"pro-table-header__left"},K3e={key:0,class:"pro-table-header__title"},J3e={class:"pro-table-header__right"},Z3e={class:"cursor"},Q3e=Wa({__name:"toolbar",props:{columns:{default:()=>[]},headerTitle:{default:""},options:{type:[Boolean,Object],default:()=>({})}},setup(n){const e=[{title:"大",size:"large"},{title:"默认",size:"default"},{title:"小",size:"small"}],t={reload:!0,density:!0,setting:!0},r=n,{mergeTableProps:i,tableActionRef:u}=SL(),l=No(()=>{if(typeof r.options=="boolean"){if(r.options)return{reload:!0,density:!0,setting:!0};if(r.options===!1)return{reload:!1,density:!1,setting:!1}}return{...t,...r.options}});return(f,h)=>{const g=ia("el-icon"),y=ia("el-tooltip"),b=ia("el-dropdown-item"),S=ia("el-dropdown-menu"),_=ia("el-dropdown"),k=ia("el-space");return f.options.headerTitle||f.options.toolbar||f.headerTitle||l.value.reload||l.value.density||l.value.setting?(Pr(),Hi("div",X3e,[Ia("div",Y3e,[xl(f.$slots,"headerTitle",{},()=>[f.headerTitle?(Pr(),Hi("span",K3e,Ch(f.headerTitle),1)):oa("v-if",!0)],!0)]),Ia("div",J3e,[Co(k,null,{default:go(()=>[xl(f.$slots,"toolbar",{},void 0,!0),l.value.reload?(Pr(),Wi(y,{key:0,effect:"dark",content:"刷新",placement:"top"},{default:go(()=>[Ia("span",{class:"cursor",onClick:h[0]||(h[0]=(...E)=>io(u).refresh&&io(u).refresh(...E))},[Co(g,{size:18},{default:go(()=>[Co(io(LSe))]),_:1})])]),_:1})):oa("v-if",!0),l.value.setting?(Pr(),Wi(G3e,{key:1,columns:f.columns},null,8,["columns"])):oa("v-if",!0),l.value.density?(Pr(),Wi(y,{key:2,effect:"dark",content:"密度",placement:"top"},{default:go(()=>[Ia("span",Z3e,[Co(_,null,{dropdown:go(()=>[Co(S,null,{default:go(()=>[(Pr(),Hi(af,null,H2(e,(E,R)=>Co(b,{key:R,onClick:I=>io(i)({size:E.size})},{default:go(()=>[qf(Ch(E.title),1)]),_:2},1032,["onClick"])),64))]),_:1})]),default:go(()=>[Ia("span",null,[Co(g,{size:18},{default:go(()=>[Co(io(_de))]),_:1})])]),_:1})])]),_:1})):oa("v-if",!0)]),_:3})])])):oa("v-if",!0)}}}),e5e=Xf(Q3e,[["__scopeId","data-v-9830ce62"]]),Fde=Wa({name:"ProTable",__name:"pro-table",props:VEe,emits:jEe,setup(n,{expose:e,emit:t}){const r=qQ();r&&T3e(r);const i=n,u=t,l=S3e(Th(i),{emits:u}),{toolbarRef:f,alertRef:h,paginationRef:g,proTableWrapperRef:y,tableInstanceRef:b,tableActionRef:S,paginationProps:_,loading:k,pageQuery:E,columnsMap:R,tableProps:I,tableColums:z,dataSource:L,selectedKeys:q,setSelectedKeys:X,clearSelectedKeys:Y,editableCellUtils:ae,setQueryPage:te,setQueryPageSize:ie,editableRowsModel:le}=l;C3e(l),u("register",S);const ce=No(()=>qEe(z.value,R.value).sort(kde(R.value))),ne=No(()=>{var $;return($=i.editable)!=null&&$.enableValidate?_fe:"div"});function Z($){var Ze;(Ze=i.editable)!=null&&Ze.enableValidate&&ae.setFormInstanceRef($)}function Ce($){ke(),te($),_t()}function ze($){ke(),ie($),_t()}function ke(){i.reserveSelection||Y(),ae.clearEditRow()}function _t(){u("page-change",E.page,E.pageSize)}const tt=$=>{Array.isArray($)&&X($.map(Ze=>W2(Ze,i.rowKey)||!1).filter(Boolean))};return e(S),($,Ze)=>{const $e=ia("el-button"),mt=ia("el-alert"),Qe=ia("el-table-column"),Et=ia("el-table"),Ot=ia("el-pagination"),Nt=pfe("loading");return Pr(),Hi("div",{ref_key:"proTableWrapperRef",ref:y,class:"pro-table",style:n5({height:$.autoFitHeight?"100%":""})},[oa(" header "),$.options?(Pr(),Hi("div",{key:0,ref_key:"toolbarRef",ref:f},[Co(e5e,{"header-title":$.headerTitle,columns:io(z),options:{...$.options===!0?{}:$.options,headerTitle:!!$.$slots.headerTitle,toolbar:!!$.$slots.toolbar}},{headerTitle:go(()=>[xl($.$slots,"headerTitle")]),toolbar:go(()=>[xl($.$slots,"toolbar")]),_:3},8,["header-title","columns","options"])],512)):oa("v-if",!0),$.showAlert&&($.alwaysShowAlert||io(q).length)?(Pr(),Hi("div",{key:1,ref_key:"alertRef",ref:h,class:"pro-table__alert"},[xl($.$slots,"alert",{},()=>[Co(mt,{type:"info","show-icon":"",closable:!1},{title:go(()=>[qf("当前已选择 "+Ch(io(q).length)+" 项 ",1),Co($e,{type:"primary",link:"",onClick:io(Y)},{default:go(()=>[qf("取消全部")]),_:1},8,["onClick"])]),_:1})])],512)):oa("v-if",!0),(Pr(),Wi(n_(ne.value),{ref:Z,class:"pro-table__wrapper",model:io(le)},{default:go(()=>[oa(" table "),jQ((Pr(),Wi(Et,Od({ref_key:"tableInstanceRef",ref:b},{...$.$attrs,style:void 0},{height:io(I).height,style:{},border:$.border,"row-key":$.rowKey,"table-layout":$.tableLayout,size:io(I).size,data:io(L),onSelectionChange:tt}),{default:go(()=>[$.checkable?(Pr(),Wi(Qe,{key:0,type:"selection",width:"40","reserve-selection":$.reserveSelection},null,8,["reserve-selection"])):oa("v-if",!0),(Pr(!0),Hi(af,null,H2(ce.value,(fe,$t)=>(Pr(),Wi(V3e,{key:`${fe.key}-${$t}`,column:fe,"row-key":i.rowKey},null,8,["column","row-key"]))),128))]),_:1},16,["height","border","row-key","table-layout","size","data"])),[[Nt,io(k)]])]),_:1},8,["model"])),oa(" pagination "),$.pagination?(Pr(),Hi("div",{key:2,ref_key:"paginationRef",ref:g,class:"pro-table__pagination"},[Co(Ot,Od(io(_),{small:io(I).size==="small",onSizeChange:ze,onCurrentChange:Ce}),null,16,["small"])],512)):oa("v-if",!0)],4)}}});function mee(){const n=Ao();function e(g){g&&(n.value=g)}async function t(){var g;await kp();const y=(g=n.value)==null?void 0:g.tableRef;return Y2(y)?y.value:y}function r(){var g;return(g=n.value)==null?void 0:g.editableCellUtils}function i(g){var y;(y=r())==null||y.startEditable(g)}function u(g){var y;(y=r())==null||y.cancelEditable(g)}function l(g){var y;(y=r())==null||y.saveEditable(g)}function f(g){var y;(y=r())==null||y.deleteEditable(g)}function h(){var g;return(g=r())==null?void 0:g.hasEditingRow()}return{register:e,getTableRef:t,reload:()=>{var g;(g=n.value)==null||g.reload()},refresh:()=>{var g;(g=n.value)==null||g.refresh()},startEditable:i,cancelEditable:u,saveEditable:l,deleteEditable:f,hasEditingRow:h}}const Vde=cf(Fde);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function nie(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function py(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nie(Object(t),!0).forEach(function(r){t5e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nie(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tV(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tV=function(e){return typeof e}:tV=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tV(n)}function t5e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Eb(){return Eb=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Eb.apply(this,arguments)}function n5e(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,u;for(u=0;u<r.length;u++)i=r[u],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function r5e(n,e){if(n==null)return{};var t=n5e(n,e),r,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(i=0;i<u.length;i++)r=u[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var o5e="1.15.0";function Mb(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var zb=Mb(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),CL=Mb(/Edge/i),rie=Mb(/firefox/i),wN=Mb(/safari/i)&&!Mb(/chrome/i)&&!Mb(/android/i),Hde=Mb(/iP(ad|od|hone)/i),jde=Mb(/chrome/i)&&Mb(/android/i),Wde={capture:!1,passive:!1};function Ha(n,e,t){n.addEventListener(e,t,!zb&&Wde)}function Sa(n,e,t){n.removeEventListener(e,t,!zb&&Wde)}function NV(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function i5e(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ry(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&NV(n,e):NV(n,e))||r&&n===t)return n;if(n===t)break}while(n=i5e(n))}return null}var oie=/\s+/g;function xp(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(oie," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(oie," ")}}function Jo(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function T3(n,e){var t="";if(typeof n=="string")t=n;else do{var r=Jo(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Ude(n,e,t){if(n){var r=n.getElementsByTagName(e),i=0,u=r.length;if(t)for(;i<u;i++)t(r[i],i);return r}return[]}function ly(){var n=document.scrollingElement;return n||document.documentElement}function hc(n,e,t,r,i){if(!(!n.getBoundingClientRect&&n!==window)){var u,l,f,h,g,y,b;if(n!==window&&n.parentNode&&n!==ly()?(u=n.getBoundingClientRect(),l=u.top,f=u.left,h=u.bottom,g=u.right,y=u.height,b=u.width):(l=0,f=0,h=window.innerHeight,g=window.innerWidth,y=window.innerHeight,b=window.innerWidth),(e||t)&&n!==window&&(i=i||n.parentNode,!zb))do if(i&&i.getBoundingClientRect&&(Jo(i,"transform")!=="none"||t&&Jo(i,"position")!=="static")){var S=i.getBoundingClientRect();l-=S.top+parseInt(Jo(i,"border-top-width")),f-=S.left+parseInt(Jo(i,"border-left-width")),h=l+u.height,g=f+u.width;break}while(i=i.parentNode);if(r&&n!==window){var _=T3(i||n),k=_&&_.a,E=_&&_.d;_&&(l/=E,f/=k,b/=k,y/=E,h=l+y,g=f+b)}return{top:l,left:f,bottom:h,right:g,width:b,height:y}}}function iie(n,e,t){for(var r=R2(n,!0),i=hc(n)[e];r;){var u=hc(r)[t],l=void 0;if(t==="top"||t==="left"?l=i>=u:l=i<=u,!l)return r;if(r===ly())break;r=R2(r,!1)}return!1}function j3(n,e,t,r){for(var i=0,u=0,l=n.children;u<l.length;){if(l[u].style.display!=="none"&&l[u]!==Zo.ghost&&(r||l[u]!==Zo.dragged)&&ry(l[u],t.draggable,n,!1)){if(i===e)return l[u];i++}u++}return null}function gee(n,e){for(var t=n.lastElementChild;t&&(t===Zo.ghost||Jo(t,"display")==="none"||e&&!NV(t,e));)t=t.previousElementSibling;return t||null}function Bm(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Zo.clone&&(!e||NV(n,e))&&t++;return t}function aie(n){var e=0,t=0,r=ly();if(n)do{var i=T3(n),u=i.a,l=i.d;e+=n.scrollLeft*u,t+=n.scrollTop*l}while(n!==r&&(n=n.parentNode));return[e,t]}function a5e(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function R2(n,e){if(!n||!n.getBoundingClientRect)return ly();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=Jo(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ly();if(r||e)return t;r=!0}}while(t=t.parentNode);return ly()}function u5e(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function $Y(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var _N;function qde(n,e){return function(){if(!_N){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),_N=setTimeout(function(){_N=void 0},e)}}}function s5e(){clearTimeout(_N),_N=void 0}function $de(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Gde(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var _p="Sortable"+new Date().getTime();function l5e(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(r){if(!(Jo(r,"display")==="none"||r===Zo.ghost)){n.push({target:r,rect:hc(r)});var i=py({},n[n.length-1].rect);if(r.thisAnimationDuration){var u=T3(r,!0);u&&(i.top-=u.f,i.left-=u.e)}r.fromRect=i}})}},addAnimationState:function(t){n.push(t)},removeAnimationState:function(t){n.splice(a5e(n,{target:t}),1)},animateAll:function(t){var r=this;if(!this.options.animation){clearTimeout(e),typeof t=="function"&&t();return}var i=!1,u=0;n.forEach(function(l){var f=0,h=l.target,g=h.fromRect,y=hc(h),b=h.prevFromRect,S=h.prevToRect,_=l.rect,k=T3(h,!0);k&&(y.top-=k.f,y.left-=k.e),h.toRect=y,h.thisAnimationDuration&&$Y(b,y)&&!$Y(g,y)&&(_.top-y.top)/(_.left-y.left)===(g.top-y.top)/(g.left-y.left)&&(f=f5e(_,b,S,r.options)),$Y(y,g)||(h.prevFromRect=g,h.prevToRect=y,f||(f=r.options.animation),r.animate(h,_,y,f)),f&&(i=!0,u=Math.max(u,f),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},f),h.thisAnimationDuration=f)}),clearTimeout(e),i?e=setTimeout(function(){typeof t=="function"&&t()},u):typeof t=="function"&&t(),n=[]},animate:function(t,r,i,u){if(u){Jo(t,"transition",""),Jo(t,"transform","");var l=T3(this.el),f=l&&l.a,h=l&&l.d,g=(r.left-i.left)/(f||1),y=(r.top-i.top)/(h||1);t.animatingX=!!g,t.animatingY=!!y,Jo(t,"transform","translate3d("+g+"px,"+y+"px,0)"),this.forRepaintDummy=c5e(t),Jo(t,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),Jo(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){Jo(t,"transition",""),Jo(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},u)}}}}function c5e(n){return n.offsetWidth}function f5e(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var GE=[],GY={initializeByDefault:!0},TL={mount:function(n){for(var e in GY)GY.hasOwnProperty(e)&&!(e in n)&&(n[e]=GY[e]);GE.forEach(function(t){if(t.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),GE.push(n)},pluginEvent:function(n,e,t){var r=this;this.eventCanceled=!1,t.cancel=function(){r.eventCanceled=!0};var i=n+"Global";GE.forEach(function(u){e[u.pluginName]&&(e[u.pluginName][i]&&e[u.pluginName][i](py({sortable:e},t)),e.options[u.pluginName]&&e[u.pluginName][n]&&e[u.pluginName][n](py({sortable:e},t)))})},initializePlugins:function(n,e,t,r){GE.forEach(function(l){var f=l.pluginName;if(!(!n.options[f]&&!l.initializeByDefault)){var h=new l(n,e,n.options);h.sortable=n,h.options=n.options,n[f]=h,Eb(t,h.defaults)}});for(var i in n.options)if(n.options.hasOwnProperty(i)){var u=this.modifyOption(n,i,n.options[i]);typeof u<"u"&&(n.options[i]=u)}},getEventProperties:function(n,e){var t={};return GE.forEach(function(r){typeof r.eventProperties=="function"&&Eb(t,r.eventProperties.call(e[r.pluginName],n))}),t},modifyOption:function(n,e,t){var r;return GE.forEach(function(i){n[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[e]=="function"&&(r=i.optionListeners[e].call(n[i.pluginName],t))}),r}};function d5e(n){var e=n.sortable,t=n.rootEl,r=n.name,i=n.targetEl,u=n.cloneEl,l=n.toEl,f=n.fromEl,h=n.oldIndex,g=n.newIndex,y=n.oldDraggableIndex,b=n.newDraggableIndex,S=n.originalEvent,_=n.putSortable,k=n.extraEventProperties;if(e=e||t&&t[_p],!!e){var E,R=e.options,I="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!zb&&!CL?E=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(r,!0,!0)),E.to=l||t,E.from=f||t,E.item=i||t,E.clone=u,E.oldIndex=h,E.newIndex=g,E.oldDraggableIndex=y,E.newDraggableIndex=b,E.originalEvent=S,E.pullMode=_?_.lastPutMode:void 0;var z=py(py({},k),TL.getEventProperties(r,e));for(var L in z)E[L]=z[L];t&&t.dispatchEvent(E),R[I]&&R[I].call(e,E)}}var h5e=["evt"],mh=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.evt,i=r5e(t,h5e);TL.pluginEvent.bind(Zo)(n,e,py({dragEl:kr,parentEl:Js,ghostEl:_i,rootEl:bs,nextEl:KT,lastDownEl:nV,cloneEl:Ns,cloneHidden:E2,dragStarted:iN,putSortable:tf,activeSortable:Zo.active,originalEvent:r,oldIndex:x3,oldDraggableIndex:SN,newIndex:wp,newDraggableIndex:D2,hideGhostForTarget:Jde,unhideGhostForTarget:Zde,cloneNowHidden:function(){E2=!0},cloneNowShown:function(){E2=!1},dispatchSortableEvent:function(u){Td({sortable:e,name:u,originalEvent:r})}},i))};function Td(n){d5e(py({putSortable:tf,cloneEl:Ns,targetEl:kr,rootEl:bs,oldIndex:x3,oldDraggableIndex:SN,newIndex:wp,newDraggableIndex:D2},n))}var kr,Js,_i,bs,KT,nV,Ns,E2,x3,wp,SN,D2,eF,tf,p3=!1,LV=!1,BV=[],CT,pv,XY,YY,uie,sie,iN,XE,CN,TN=!1,tF=!1,rV,Vf,KY=[],iZ=!1,zV=[],BH=typeof document<"u",nF=Hde,lie=CL||zb?"cssFloat":"float",p5e=BH&&!jde&&!Hde&&"draggable"in document.createElement("div"),Xde=function(){if(BH){if(zb)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Yde=function(n,e){var t=Jo(n),r=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),i=j3(n,0,e),u=j3(n,1,e),l=i&&Jo(i),f=u&&Jo(u),h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+hc(i).width,g=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+hc(u).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var y=l.float==="left"?"left":"right";return u&&(f.clear==="both"||f.clear===y)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||h>=r&&t[lie]==="none"||u&&t[lie]==="none"&&h+g>r)?"vertical":"horizontal"},m5e=function(n,e,t){var r=t?n.left:n.top,i=t?n.right:n.bottom,u=t?n.width:n.height,l=t?e.left:e.top,f=t?e.right:e.bottom,h=t?e.width:e.height;return r===l||i===f||r+u/2===l+h/2},g5e=function(n,e){var t;return BV.some(function(r){var i=r[_p].options.emptyInsertThreshold;if(!(!i||gee(r))){var u=hc(r),l=n>=u.left-i&&n<=u.right+i,f=e>=u.top-i&&e<=u.bottom+i;if(l&&f)return t=r}}),t},Kde=function(n){function e(i,u){return function(l,f,h,g){var y=l.options.group.name&&f.options.group.name&&l.options.group.name===f.options.group.name;if(i==null&&(u||y))return!0;if(i==null||i===!1)return!1;if(u&&i==="clone")return i;if(typeof i=="function")return e(i(l,f,h,g),u)(l,f,h,g);var b=(u?l:f).options.group.name;return i===!0||typeof i=="string"&&i===b||i.join&&i.indexOf(b)>-1}}var t={},r=n.group;(!r||tV(r)!="object")&&(r={name:r}),t.name=r.name,t.checkPull=e(r.pull,!0),t.checkPut=e(r.put),t.revertClone=r.revertClone,n.group=t},Jde=function(){!Xde&&_i&&Jo(_i,"display","none")},Zde=function(){!Xde&&_i&&Jo(_i,"display","")};BH&&!jde&&document.addEventListener("click",function(n){if(LV)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),LV=!1,!1},!0);var TT=function(n){if(kr){n=n.touches?n.touches[0]:n;var e=g5e(n.clientX,n.clientY);if(e){var t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.target=t.rootEl=e,t.preventDefault=void 0,t.stopPropagation=void 0,e[_p]._onDragOver(t)}}},v5e=function(n){kr&&kr.parentNode[_p]._isOutsideThisEl(n.target)};function Zo(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Eb({},e),n[_p]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Yde(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(u,l){u.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Zo.supportPointer!==!1&&"PointerEvent"in window&&!wN,emptyInsertThreshold:5};TL.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);Kde(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:p5e,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ha(n,"pointerdown",this._onTapStart):(Ha(n,"mousedown",this._onTapStart),Ha(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ha(n,"dragover",this),Ha(n,"dragenter",this)),BV.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Eb(this,l5e())}Zo.prototype={constructor:Zo,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(XE=null)},_getDirection:function(n,e){return typeof this.options.direction=="function"?this.options.direction.call(this,n,e,kr):this.options.direction},_onTapStart:function(n){if(n.cancelable){var e=this,t=this.el,r=this.options,i=r.preventOnFilter,u=n.type,l=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,f=(l||n).target,h=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||f,g=r.filter;if(T5e(t),!kr&&!(/mousedown|pointerdown/.test(u)&&n.button!==0||r.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&wN&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=ry(f,r.draggable,t,!1),!(f&&f.animated)&&nV!==f)){if(x3=Bm(f),SN=Bm(f,r.draggable),typeof g=="function"){if(g.call(this,n,f,this)){Td({sortable:e,rootEl:h,name:"filter",targetEl:f,toEl:t,fromEl:t}),mh("filter",e,{evt:n}),i&&n.cancelable&&n.preventDefault();return}}else if(g&&(g=g.split(",").some(function(y){if(y=ry(h,y.trim(),t,!1),y)return Td({sortable:e,rootEl:y,name:"filter",targetEl:f,fromEl:t,toEl:t}),mh("filter",e,{evt:n}),!0}),g)){i&&n.cancelable&&n.preventDefault();return}r.handle&&!ry(h,r.handle,t,!1)||this._prepareDragStart(n,l,f)}}},_prepareDragStart:function(n,e,t){var r=this,i=r.el,u=r.options,l=i.ownerDocument,f;if(t&&!kr&&t.parentNode===i){var h=hc(t);if(bs=i,kr=t,Js=kr.parentNode,KT=kr.nextSibling,nV=t,eF=u.group,Zo.dragged=kr,CT={target:kr,clientX:(e||n).clientX,clientY:(e||n).clientY},uie=CT.clientX-h.left,sie=CT.clientY-h.top,this._lastX=(e||n).clientX,this._lastY=(e||n).clientY,kr.style["will-change"]="all",f=function(){if(mh("delayEnded",r,{evt:n}),Zo.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!rie&&r.nativeDraggable&&(kr.draggable=!0),r._triggerDragStart(n,e),Td({sortable:r,name:"choose",originalEvent:n}),xp(kr,u.chosenClass,!0)},u.ignore.split(",").forEach(function(g){Ude(kr,g.trim(),JY)}),Ha(l,"dragover",TT),Ha(l,"mousemove",TT),Ha(l,"touchmove",TT),Ha(l,"mouseup",r._onDrop),Ha(l,"touchend",r._onDrop),Ha(l,"touchcancel",r._onDrop),rie&&this.nativeDraggable&&(this.options.touchStartThreshold=4,kr.draggable=!0),mh("delayStart",this,{evt:n}),u.delay&&(!u.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(CL||zb))){if(Zo.eventCanceled){this._onDrop();return}Ha(l,"mouseup",r._disableDelayedDrag),Ha(l,"touchend",r._disableDelayedDrag),Ha(l,"touchcancel",r._disableDelayedDrag),Ha(l,"mousemove",r._delayedDragTouchMoveHandler),Ha(l,"touchmove",r._delayedDragTouchMoveHandler),u.supportPointer&&Ha(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(f,u.delay)}else f()}},_delayedDragTouchMoveHandler:function(n){var e=n.touches?n.touches[0]:n;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){kr&&JY(kr),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;Sa(n,"mouseup",this._disableDelayedDrag),Sa(n,"touchend",this._disableDelayedDrag),Sa(n,"touchcancel",this._disableDelayedDrag),Sa(n,"mousemove",this._delayedDragTouchMoveHandler),Sa(n,"touchmove",this._delayedDragTouchMoveHandler),Sa(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,e){e=e||n.pointerType=="touch"&&n,!this.nativeDraggable||e?this.options.supportPointer?Ha(document,"pointermove",this._onTouchMove):e?Ha(document,"touchmove",this._onTouchMove):Ha(document,"mousemove",this._onTouchMove):(Ha(kr,"dragend",this),Ha(bs,"dragstart",this._onDragStart));try{document.selection?oV(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,e){if(p3=!1,bs&&kr){mh("dragStarted",this,{evt:e}),this.nativeDraggable&&Ha(document,"dragover",v5e);var t=this.options;!n&&xp(kr,t.dragClass,!1),xp(kr,t.ghostClass,!0),Zo.active=this,n&&this._appendGhost(),Td({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(pv){this._lastX=pv.clientX,this._lastY=pv.clientY,Jde();for(var n=document.elementFromPoint(pv.clientX,pv.clientY),e=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(pv.clientX,pv.clientY),n!==e);)e=n;if(kr.parentNode[_p]._isOutsideThisEl(n),e)do{if(e[_p]){var t=void 0;if(t=e[_p]._onDragOver({clientX:pv.clientX,clientY:pv.clientY,target:n,rootEl:e}),t&&!this.options.dragoverBubble)break}n=e}while(e=e.parentNode);Zde()}},_onTouchMove:function(n){if(CT){var e=this.options,t=e.fallbackTolerance,r=e.fallbackOffset,i=n.touches?n.touches[0]:n,u=_i&&T3(_i,!0),l=_i&&u&&u.a,f=_i&&u&&u.d,h=nF&&Vf&&aie(Vf),g=(i.clientX-CT.clientX+r.x)/(l||1)+(h?h[0]-KY[0]:0)/(l||1),y=(i.clientY-CT.clientY+r.y)/(f||1)+(h?h[1]-KY[1]:0)/(f||1);if(!Zo.active&&!p3){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(n,!0)}if(_i){u?(u.e+=g-(XY||0),u.f+=y-(YY||0)):u={a:1,b:0,c:0,d:1,e:g,f:y};var b="matrix(".concat(u.a,",").concat(u.b,",").concat(u.c,",").concat(u.d,",").concat(u.e,",").concat(u.f,")");Jo(_i,"webkitTransform",b),Jo(_i,"mozTransform",b),Jo(_i,"msTransform",b),Jo(_i,"transform",b),XY=g,YY=y,pv=i}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!_i){var n=this.options.fallbackOnBody?document.body:bs,e=hc(kr,!0,nF,!0,n),t=this.options;if(nF){for(Vf=n;Jo(Vf,"position")==="static"&&Jo(Vf,"transform")==="none"&&Vf!==document;)Vf=Vf.parentNode;Vf!==document.body&&Vf!==document.documentElement?(Vf===document&&(Vf=ly()),e.top+=Vf.scrollTop,e.left+=Vf.scrollLeft):Vf=ly(),KY=aie(Vf)}_i=kr.cloneNode(!0),xp(_i,t.ghostClass,!1),xp(_i,t.fallbackClass,!0),xp(_i,t.dragClass,!0),Jo(_i,"transition",""),Jo(_i,"transform",""),Jo(_i,"box-sizing","border-box"),Jo(_i,"margin",0),Jo(_i,"top",e.top),Jo(_i,"left",e.left),Jo(_i,"width",e.width),Jo(_i,"height",e.height),Jo(_i,"opacity","0.8"),Jo(_i,"position",nF?"absolute":"fixed"),Jo(_i,"zIndex","100000"),Jo(_i,"pointerEvents","none"),Zo.ghost=_i,n.appendChild(_i),Jo(_i,"transform-origin",uie/parseInt(_i.style.width)*100+"% "+sie/parseInt(_i.style.height)*100+"%")}},_onDragStart:function(n,e){var t=this,r=n.dataTransfer,i=t.options;if(mh("dragStart",this,{evt:n}),Zo.eventCanceled){this._onDrop();return}mh("setupClone",this),Zo.eventCanceled||(Ns=Gde(kr),Ns.removeAttribute("id"),Ns.draggable=!1,Ns.style["will-change"]="",this._hideClone(),xp(Ns,this.options.chosenClass,!1),Zo.clone=Ns),t.cloneId=oV(function(){mh("clone",t),!Zo.eventCanceled&&(t.options.removeCloneOnHide||bs.insertBefore(Ns,kr),t._hideClone(),Td({sortable:t,name:"clone"}))}),!e&&xp(kr,i.dragClass,!0),e?(LV=!0,t._loopId=setInterval(t._emulateDragOver,50)):(Sa(document,"mouseup",t._onDrop),Sa(document,"touchend",t._onDrop),Sa(document,"touchcancel",t._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(t,r,kr)),Ha(document,"drop",t),Jo(kr,"transform","translateZ(0)")),p3=!0,t._dragStartId=oV(t._dragStarted.bind(t,e,n)),Ha(document,"selectstart",t),iN=!0,wN&&Jo(document.body,"user-select","none")},_onDragOver:function(n){var e=this.el,t=n.target,r,i,u,l=this.options,f=l.group,h=Zo.active,g=eF===f,y=l.sort,b=tf||h,S,_=this,k=!1;if(iZ)return;function E(_t,tt){mh(_t,_,py({evt:n,isOwner:g,axis:S?"vertical":"horizontal",revert:u,dragRect:r,targetRect:i,canSort:y,fromSortable:b,target:t,completed:I,onMove:function($,Ze){return rF(bs,e,kr,r,$,hc($),n,Ze)},changed:z},tt))}function R(){E("dragOverAnimationCapture"),_.captureAnimationState(),_!==b&&b.captureAnimationState()}function I(_t){return E("dragOverCompleted",{insertion:_t}),_t&&(g?h._hideClone():h._showClone(_),_!==b&&(xp(kr,tf?tf.options.ghostClass:h.options.ghostClass,!1),xp(kr,l.ghostClass,!0)),tf!==_&&_!==Zo.active?tf=_:_===Zo.active&&tf&&(tf=null),b===_&&(_._ignoreWhileAnimating=t),_.animateAll(function(){E("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(t===kr&&!kr.animated||t===e&&!t.animated)&&(XE=null),!l.dragoverBubble&&!n.rootEl&&t!==document&&(kr.parentNode[_p]._isOutsideThisEl(n.target),!_t&&TT(n)),!l.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),k=!0}function z(){wp=Bm(kr),D2=Bm(kr,l.draggable),Td({sortable:_,name:"change",toEl:e,newIndex:wp,newDraggableIndex:D2,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),t=ry(t,l.draggable,e,!0),E("dragOver"),Zo.eventCanceled)return k;if(kr.contains(n.target)||t.animated&&t.animatingX&&t.animatingY||_._ignoreWhileAnimating===t)return I(!1);if(LV=!1,h&&!l.disabled&&(g?y||(u=Js!==bs):tf===this||(this.lastPutMode=eF.checkPull(this,h,kr,n))&&f.checkPut(this,h,kr,n))){if(S=this._getDirection(n,t)==="vertical",r=hc(kr),E("dragOverValid"),Zo.eventCanceled)return k;if(u)return Js=bs,R(),this._hideClone(),E("revert"),Zo.eventCanceled||(KT?bs.insertBefore(kr,KT):bs.appendChild(kr)),I(!0);var L=gee(e,l.draggable);if(!L||w5e(n,S,this)&&!L.animated){if(L===kr)return I(!1);if(L&&e===n.target&&(t=L),t&&(i=hc(t)),rF(bs,e,kr,r,t,i,n,!!t)!==!1)return R(),L&&L.nextSibling?e.insertBefore(kr,L.nextSibling):e.appendChild(kr),Js=e,z(),I(!0)}else if(L&&x5e(n,S,this)){var q=j3(e,0,l,!0);if(q===kr)return I(!1);if(t=q,i=hc(t),rF(bs,e,kr,r,t,i,n,!1)!==!1)return R(),e.insertBefore(kr,q),Js=e,z(),I(!0)}else if(t.parentNode===e){i=hc(t);var X=0,Y,ae=kr.parentNode!==e,te=!m5e(kr.animated&&kr.toRect||r,t.animated&&t.toRect||i,S),ie=S?"top":"left",le=iie(t,"top","top")||iie(kr,"top","top"),ce=le?le.scrollTop:void 0;XE!==t&&(Y=i[ie],TN=!1,tF=!te&&l.invertSwap||ae),X=_5e(n,t,i,S,te?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,tF,XE===t);var ne;if(X!==0){var Z=Bm(kr);do Z-=X,ne=Js.children[Z];while(ne&&(Jo(ne,"display")==="none"||ne===_i))}if(X===0||ne===t)return I(!1);XE=t,CN=X;var Ce=t.nextElementSibling,ze=!1;ze=X===1;var ke=rF(bs,e,kr,r,t,i,n,ze);if(ke!==!1)return(ke===1||ke===-1)&&(ze=ke===1),iZ=!0,setTimeout(b5e,30),R(),ze&&!Ce?e.appendChild(kr):t.parentNode.insertBefore(kr,ze?Ce:t),le&&$de(le,0,ce-le.scrollTop),Js=kr.parentNode,Y!==void 0&&!tF&&(rV=Math.abs(Y-hc(t)[ie])),z(),I(!0)}if(e.contains(kr))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Sa(document,"mousemove",this._onTouchMove),Sa(document,"touchmove",this._onTouchMove),Sa(document,"pointermove",this._onTouchMove),Sa(document,"dragover",TT),Sa(document,"mousemove",TT),Sa(document,"touchmove",TT)},_offUpEvents:function(){var n=this.el.ownerDocument;Sa(n,"mouseup",this._onDrop),Sa(n,"touchend",this._onDrop),Sa(n,"pointerup",this._onDrop),Sa(n,"touchcancel",this._onDrop),Sa(document,"selectstart",this)},_onDrop:function(n){var e=this.el,t=this.options;if(wp=Bm(kr),D2=Bm(kr,t.draggable),mh("drop",this,{evt:n}),Js=kr&&kr.parentNode,wp=Bm(kr),D2=Bm(kr,t.draggable),Zo.eventCanceled){this._nulling();return}p3=!1,tF=!1,TN=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),aZ(this.cloneId),aZ(this._dragStartId),this.nativeDraggable&&(Sa(document,"drop",this),Sa(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),wN&&Jo(document.body,"user-select",""),Jo(kr,"transform",""),n&&(iN&&(n.cancelable&&n.preventDefault(),!t.dropBubble&&n.stopPropagation()),_i&&_i.parentNode&&_i.parentNode.removeChild(_i),(bs===Js||tf&&tf.lastPutMode!=="clone")&&Ns&&Ns.parentNode&&Ns.parentNode.removeChild(Ns),kr&&(this.nativeDraggable&&Sa(kr,"dragend",this),JY(kr),kr.style["will-change"]="",iN&&!p3&&xp(kr,tf?tf.options.ghostClass:this.options.ghostClass,!1),xp(kr,this.options.chosenClass,!1),Td({sortable:this,name:"unchoose",toEl:Js,newIndex:null,newDraggableIndex:null,originalEvent:n}),bs!==Js?(wp>=0&&(Td({rootEl:Js,name:"add",toEl:Js,fromEl:bs,originalEvent:n}),Td({sortable:this,name:"remove",toEl:Js,originalEvent:n}),Td({rootEl:Js,name:"sort",toEl:Js,fromEl:bs,originalEvent:n}),Td({sortable:this,name:"sort",toEl:Js,originalEvent:n})),tf&&tf.save()):wp!==x3&&wp>=0&&(Td({sortable:this,name:"update",toEl:Js,originalEvent:n}),Td({sortable:this,name:"sort",toEl:Js,originalEvent:n})),Zo.active&&((wp==null||wp===-1)&&(wp=x3,D2=SN),Td({sortable:this,name:"end",toEl:Js,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){mh("nulling",this),bs=kr=Js=_i=KT=Ns=nV=E2=CT=pv=iN=wp=D2=x3=SN=XE=CN=tf=eF=Zo.dragged=Zo.ghost=Zo.clone=Zo.active=null,zV.forEach(function(n){n.checked=!0}),zV.length=XY=YY=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":kr&&(this._onDragOver(n),y5e(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],e,t=this.el.children,r=0,i=t.length,u=this.options;r<i;r++)e=t[r],ry(e,u.draggable,this.el,!1)&&n.push(e.getAttribute(u.dataIdAttr)||C5e(e));return n},sort:function(n,e){var t={},r=this.el;this.toArray().forEach(function(i,u){var l=r.children[u];ry(l,this.options.draggable,r,!1)&&(t[i]=l)},this),e&&this.captureAnimationState(),n.forEach(function(i){t[i]&&(r.removeChild(t[i]),r.appendChild(t[i]))}),e&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,e){return ry(n,e||this.options.draggable,this.el,!1)},option:function(n,e){var t=this.options;if(e===void 0)return t[n];var r=TL.modifyOption(this,n,e);typeof r<"u"?t[n]=r:t[n]=e,n==="group"&&Kde(t)},destroy:function(){mh("destroy",this);var n=this.el;n[_p]=null,Sa(n,"mousedown",this._onTapStart),Sa(n,"touchstart",this._onTapStart),Sa(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(Sa(n,"dragover",this),Sa(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),BV.splice(BV.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!E2){if(mh("hideClone",this),Zo.eventCanceled)return;Jo(Ns,"display","none"),this.options.removeCloneOnHide&&Ns.parentNode&&Ns.parentNode.removeChild(Ns),E2=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(E2){if(mh("showClone",this),Zo.eventCanceled)return;kr.parentNode==bs&&!this.options.group.revertClone?bs.insertBefore(Ns,kr):KT?bs.insertBefore(Ns,KT):bs.appendChild(Ns),this.options.group.revertClone&&this.animate(kr,Ns),Jo(Ns,"display",""),E2=!1}}};function y5e(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function rF(n,e,t,r,i,u,l,f){var h,g=n[_p],y=g.options.onMove,b;return window.CustomEvent&&!zb&&!CL?h=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent("move",!0,!0)),h.to=e,h.from=n,h.dragged=t,h.draggedRect=r,h.related=i||e,h.relatedRect=u||hc(e),h.willInsertAfter=f,h.originalEvent=l,n.dispatchEvent(h),y&&(b=y.call(g,h,l)),b}function JY(n){n.draggable=!1}function b5e(){iZ=!1}function x5e(n,e,t){var r=hc(j3(t.el,0,t.options,!0)),i=10;return e?n.clientX<r.left-i||n.clientY<r.top&&n.clientX<r.right:n.clientY<r.top-i||n.clientY<r.bottom&&n.clientX<r.left}function w5e(n,e,t){var r=hc(gee(t.el,t.options.draggable)),i=10;return e?n.clientX>r.right+i||n.clientX<=r.right&&n.clientY>r.bottom&&n.clientX>=r.left:n.clientX>r.right&&n.clientY>r.top||n.clientX<=r.right&&n.clientY>r.bottom+i}function _5e(n,e,t,r,i,u,l,f){var h=r?n.clientY:n.clientX,g=r?t.height:t.width,y=r?t.top:t.left,b=r?t.bottom:t.right,S=!1;if(!l){if(f&&rV<g*i){if(!TN&&(CN===1?h>y+g*u/2:h<b-g*u/2)&&(TN=!0),TN)S=!0;else if(CN===1?h<y+rV:h>b-rV)return-CN}else if(h>y+g*(1-i)/2&&h<b-g*(1-i)/2)return S5e(e)}return S=S||l,S&&(h<y+g*u/2||h>b-g*u/2)?h>y+g/2?1:-1:0}function S5e(n){return Bm(kr)<Bm(n)?1:-1}function C5e(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function T5e(n){zV.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&zV.push(r)}}function oV(n){return setTimeout(n,0)}function aZ(n){return clearTimeout(n)}BH&&Ha(document,"touchmove",function(n){(Zo.active||p3)&&n.cancelable&&n.preventDefault()});Zo.utils={on:Ha,off:Sa,css:Jo,find:Ude,is:function(n,e){return!!ry(n,e,n,!1)},extend:u5e,throttle:qde,closest:ry,toggleClass:xp,clone:Gde,index:Bm,nextTick:oV,cancelNextTick:aZ,detectDirection:Yde,getChild:j3};Zo.get=function(n){return n[_p]};Zo.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Zo.utils=py(py({},Zo.utils),r.utils)),TL.mount(r)})};Zo.create=function(n,e){return new Zo(n,e)};Zo.version=o5e;var Vl=[],aN,uZ,sZ=!1,ZY,QY,FV,uN;function M5e(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Ha(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ha(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Ha(document,"touchmove",this._handleFallbackAutoScroll):Ha(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?Sa(document,"dragover",this._handleAutoScroll):(Sa(document,"pointermove",this._handleFallbackAutoScroll),Sa(document,"touchmove",this._handleFallbackAutoScroll),Sa(document,"mousemove",this._handleFallbackAutoScroll)),cie(),iV(),s5e()},nulling:function(){FV=uZ=aN=sZ=uN=ZY=QY=null,Vl.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var r=this,i=(e.touches?e.touches[0]:e).clientX,u=(e.touches?e.touches[0]:e).clientY,l=document.elementFromPoint(i,u);if(FV=e,t||this.options.forceAutoScrollFallback||CL||zb||wN){eK(e,this.options,l,t);var f=R2(l,!0);sZ&&(!uN||i!==ZY||u!==QY)&&(uN&&cie(),uN=setInterval(function(){var h=R2(document.elementFromPoint(i,u),!0);h!==f&&(f=h,iV()),eK(e,r.options,h,t)},10),ZY=i,QY=u)}else{if(!this.options.bubbleScroll||R2(l,!0)===ly()){iV();return}eK(e,this.options,R2(l,!1),!1)}}},Eb(n,{pluginName:"scroll",initializeByDefault:!0})}function iV(){Vl.forEach(function(n){clearInterval(n.pid)}),Vl=[]}function cie(){clearInterval(uN)}var eK=qde(function(n,e,t,r){if(e.scroll){var i=(n.touches?n.touches[0]:n).clientX,u=(n.touches?n.touches[0]:n).clientY,l=e.scrollSensitivity,f=e.scrollSpeed,h=ly(),g=!1,y;uZ!==t&&(uZ=t,iV(),aN=e.scroll,y=e.scrollFn,aN===!0&&(aN=R2(t,!0)));var b=0,S=aN;do{var _=S,k=hc(_),E=k.top,R=k.bottom,I=k.left,z=k.right,L=k.width,q=k.height,X=void 0,Y=void 0,ae=_.scrollWidth,te=_.scrollHeight,ie=Jo(_),le=_.scrollLeft,ce=_.scrollTop;_===h?(X=L<ae&&(ie.overflowX==="auto"||ie.overflowX==="scroll"||ie.overflowX==="visible"),Y=q<te&&(ie.overflowY==="auto"||ie.overflowY==="scroll"||ie.overflowY==="visible")):(X=L<ae&&(ie.overflowX==="auto"||ie.overflowX==="scroll"),Y=q<te&&(ie.overflowY==="auto"||ie.overflowY==="scroll"));var ne=X&&(Math.abs(z-i)<=l&&le+L<ae)-(Math.abs(I-i)<=l&&!!le),Z=Y&&(Math.abs(R-u)<=l&&ce+q<te)-(Math.abs(E-u)<=l&&!!ce);if(!Vl[b])for(var Ce=0;Ce<=b;Ce++)Vl[Ce]||(Vl[Ce]={});(Vl[b].vx!=ne||Vl[b].vy!=Z||Vl[b].el!==_)&&(Vl[b].el=_,Vl[b].vx=ne,Vl[b].vy=Z,clearInterval(Vl[b].pid),(ne!=0||Z!=0)&&(g=!0,Vl[b].pid=setInterval((function(){r&&this.layer===0&&Zo.active._onTouchMove(FV);var ze=Vl[this.layer].vy?Vl[this.layer].vy*f:0,ke=Vl[this.layer].vx?Vl[this.layer].vx*f:0;typeof y=="function"&&y.call(Zo.dragged.parentNode[_p],ke,ze,n,FV,Vl[this.layer].el)!=="continue"||$de(Vl[this.layer].el,ke,ze)}).bind({layer:b}),24))),b++}while(e.bubbleScroll&&S!==h&&(S=R2(S,!1)));sZ=g}},30),Qde=function(n){var e=n.originalEvent,t=n.putSortable,r=n.dragEl,i=n.activeSortable,u=n.dispatchSortableEvent,l=n.hideGhostForTarget,f=n.unhideGhostForTarget;if(e){var h=t||i;l();var g=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,y=document.elementFromPoint(g.clientX,g.clientY);f(),h&&!h.el.contains(y)&&(u("spill"),this.onSpill({dragEl:r,putSortable:t}))}};function vee(){}vee.prototype={startIndex:null,dragStart:function(n){var e=n.oldDraggableIndex;this.startIndex=e},onSpill:function(n){var e=n.dragEl,t=n.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var r=j3(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),t&&t.animateAll()},drop:Qde};Eb(vee,{pluginName:"revertOnSpill"});function yee(){}yee.prototype={onSpill:function(n){var e=n.dragEl,t=n.putSortable,r=t||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:Qde};Eb(yee,{pluginName:"removeOnSpill"});Zo.mount(new M5e);Zo.mount(yee,vee);const k5e={},D5e=n=>(yfe("data-v-35a9e64a"),n=n(),bfe(),n),A5e={class:"default-handle"},E5e=D5e(()=>Ia("span",{class:"handle-icon"},[Ia("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"holder",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[Ia("path",{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"})])],-1)),O5e=[E5e];function I5e(n,e){return Pr(),Hi("div",A5e,O5e)}const R5e=Xf(k5e,[["render",I5e],["__scopeId","data-v-35a9e64a"]]),P5e="drag-sort-table-handle",N5e=Wa({__name:"drag-sort-table",props:{dragSortKey:{},size:{},height:{},autoFitHeight:{type:Boolean},columnsState:{},columns:{default:()=>[]},data:{default:()=>[]},border:{type:Boolean},request:{},params:{},pagination:{type:[Object,Boolean]},tableLayout:{},rowKey:{},checkable:{type:Boolean},reserveSelection:{type:Boolean},options:{type:[Boolean,Object]},loading:{type:Boolean},selectedKeys:{},editable:{},transform:{},transformParams:{},alwaysShowAlert:{type:Boolean},autoRequest:{type:Boolean}},emits:["dragSortEnd"],setup(n,{emit:e}){const t=n,r=e,{register:i,getTableRef:u}=mee(),{data:l}=DH(t),f=WQ(),h=No(()=>t.columns.map(y=>({...y,render(b){var S;const{row:_}=b,k=[f[y.key]||((S=y==null?void 0:y.render)==null?void 0:S.call(y,b))||_[y.key]];return t.dragSortKey===y.key&&k.unshift(dy(R5e,{style:{marginRight:"10px"},class:g(y.key)})),dy("div",{style:{display:"flex","align-items":"center"}},k)}})));r5(async()=>{if(!t.dragSortKey)return;const y=await u();if(y){const b=y.$el.querySelector("tbody");b.addEventListener("change",S=>{S.stopPropagation()}),Zo.create(b,{handle:t.dragSortKey?`.${g(t.dragSortKey)}`:void 0,animation:200,async onEnd(S){const{newIndex:_,oldIndex:k}=S;if(_===void 0||k===void 0)return;const E=l.value.splice(k,1)[0];l.value.splice(_,0,E),r("dragSortEnd",l.value)}})}});function g(y){return`${P5e}_${y}`}return(y,b)=>(Pr(),Wi(io(Vde),Od(y.$attrs,{data:io(l),columns:h.value,onRegister:io(i)}),null,16,["data","columns","onRegister"]))}}),L5e=cf(N5e),B5e={class:"editable-pro-table"},z5e={class:"editable-pro-table__operate"},F5e=Wa({__name:"editable-pro-table",props:{rowKey:{default:"id"},columns:{default:()=>[]},autoFitHeight:{type:Boolean,default:!0},data:{default:()=>[]},appendPosition:{default:"bottom"},appendErrorText:{},mode:{default:"multiple"},onSave:{},onCancel:{},onDelete:{},onError:{}},emits:["change","appendError"],setup(n,{emit:e}){const t=n,r=e,i=Ao([]),{register:u,startEditable:l,cancelEditable:f,deleteEditable:h,saveEditable:g,hasEditingRow:y}=mee(),b=No(()=>t.columns.map(E=>({editable:!0,...E})));su(()=>t.data,()=>{i.value=[...t.data]},{immediate:!0});const S=E=>{i.value=E,r("change",i.value)},_=()=>{if(t.mode==="single"&&y()){r("appendError",{message:t.appendErrorText||"当前存在未保存行，请先保存！"});return}const E=new Date().getTime(),R={id:E};t.appendPosition==="top"?i.value.unshift(R):i.value.push(R),l(E)};function k(E){return t.rowKey?E[t.rowKey]:""}return(E,R)=>{const I=ia("el-button"),z=ia("el-popconfirm"),L=ia("el-space");return Pr(),Hi("div",B5e,[Ia("div",{class:"editable-pro-table__table",style:n5({height:E.autoFitHeight?"calc(100% - 40px)":""})},[Co(Fde,Od({columns:b.value,pagination:!1,data:i.value,editable:{mode:E.mode,onSave:E.onSave,onError:E.onError,onCancel:E.onCancel,onDelete:E.onDelete,onChange:S},"auto-fit-height":E.autoFitHeight,options:!1},E.$attrs,{onRegister:io(u)}),{operation:go(({row:q,editableState:X})=>[Co(L,null,{default:go(()=>[!X||!X.isEdit?(Pr(),Wi(I,{key:0,type:"primary",link:"",onClick:Y=>io(l)(k(q))},{default:go(()=>[qf("编辑")]),_:2},1032,["onClick"])):(Pr(),Hi(af,{key:1},[Co(I,{type:"primary",link:"",onClick:Y=>io(g)(k(q))},{default:go(()=>[qf("保存")]),_:2},1032,["onClick"]),Co(I,{type:"primary",link:"",onClick:Y=>io(f)(k(q))},{default:go(()=>[qf("取消")]),_:2},1032,["onClick"])],64)),Co(z,{title:"确定删除当前行数据？",onConfirm:Y=>io(h)(k(q))},{reference:go(()=>[Co(I,{type:"danger",link:""},{default:go(()=>[qf("删除")]),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:1},16,["columns","data","editable","auto-fit-height","onRegister"])],4),Ia("div",z5e,[Co(I,{style:{width:"100%"},icon:io(vSe),onClick:_},{default:go(()=>[qf("添加一行数据")]),_:1},8,["icon"])])])}}}),V5e=Xf(F5e,[["__scopeId","data-v-937bc36b"]]),H5e=cf(V5e);/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ehe;const zH=n=>ehe=n,the=Symbol();function lZ(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var MN;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(MN||(MN={}));const j5e=!1;function W5e(){const n=dfe(!0),e=n.run(()=>Ao({}));let t=[],r=[];const i=hfe({install(u){zH(i),i._a=u,u.provide(the,i),u.config.globalProperties.$pinia=i,r.forEach(l=>t.push(l)),r=[]},use(u){return!this._a&&!ZEe?r.push(u):t.push(u),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return i}const nhe=()=>{};function fie(n,e,t,r=nhe){n.push(e);const i=()=>{const u=n.indexOf(e);u>-1&&(n.splice(u,1),r())};return!t&&gfe()&&vfe(i),i}function YE(n,...e){n.slice().forEach(t=>{t(...e)})}const U5e=n=>n();function cZ(n,e){n instanceof Map&&e instanceof Map&&e.forEach((t,r)=>n.set(r,t)),n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t],i=n[t];lZ(i)&&lZ(r)&&n.hasOwnProperty(t)&&!Y2(r)&&!UQ(r)?n[t]=cZ(i,r):n[t]=r}return n}const q5e=Symbol();function $5e(n){return!lZ(n)||!n.hasOwnProperty(q5e)}const{assign:C2}=Object;function G5e(n){return!!(Y2(n)&&n.effect)}function X5e(n,e,t,r){const{state:i,actions:u,getters:l}=e,f=t.state.value[n];let h;function g(){!f&&(t.state.value[n]=i?i():{});const y=DH(t.state.value[n]);return C2(y,u,Object.keys(l||{}).reduce((b,S)=>(b[S]=hfe(No(()=>{zH(t);const _=t._s.get(n);return l[S].call(_,_)})),b),{}))}return h=rhe(n,g,e,t,r,!0),h}function rhe(n,e,t={},r,i,u){let l;const f=C2({actions:{}},t),h={deep:!0};let g,y,b=[],S=[],_;const k=r.state.value[n];!u&&!k&&(r.state.value[n]={}),Ao({});let E;function R(ae){let te;g=y=!1,typeof ae=="function"?(ae(r.state.value[n]),te={type:MN.patchFunction,storeId:n,events:_}):(cZ(r.state.value[n],ae),te={type:MN.patchObject,payload:ae,storeId:n,events:_});const ie=E=Symbol();kp().then(()=>{E===ie&&(g=!0)}),y=!0,YE(b,te,r.state.value[n])}const I=u?function(){const{state:ae}=t,te=ae?ae():{};this.$patch(ie=>{C2(ie,te)})}:nhe;function z(){l.stop(),b=[],S=[],r._s.delete(n)}function L(ae,te){return function(){zH(r);const ie=Array.from(arguments),le=[],ce=[];function ne(ze){le.push(ze)}function Z(ze){ce.push(ze)}YE(S,{args:ie,name:ae,store:X,after:ne,onError:Z});let Ce;try{Ce=te.apply(this&&this.$id===n?this:X,ie)}catch(ze){throw YE(ce,ze),ze}return Ce instanceof Promise?Ce.then(ze=>(YE(le,ze),ze)).catch(ze=>(YE(ce,ze),Promise.reject(ze))):(YE(le,Ce),Ce)}}const q={_p:r,$id:n,$onAction:fie.bind(null,S),$patch:R,$reset:I,$subscribe(ae,te={}){const ie=fie(b,ae,te.detached,()=>le()),le=l.run(()=>su(()=>r.state.value[n],ce=>{(te.flush==="sync"?y:g)&&ae({storeId:n,type:MN.direct,events:_},ce)},C2({},h,te)));return ie},$dispose:z},X=Th(q);r._s.set(n,X);const Y=(r._a&&r._a.runWithContext||U5e)(()=>r._e.run(()=>(l=dfe()).run(e)));for(const ae in Y){const te=Y[ae];if(Y2(te)&&!G5e(te)||UQ(te))u||(k&&$5e(te)&&(Y2(te)?te.value=k[ae]:cZ(te,k[ae])),r.state.value[n][ae]=te);else if(typeof te=="function"){const ie=L(ae,te);Y[ae]=ie,f.actions[ae]=te}}return C2(X,Y),C2(R3(X),Y),Object.defineProperty(X,"$state",{get:()=>r.state.value[n],set:ae=>{R(te=>{C2(te,ae)})}}),r._p.forEach(ae=>{C2(X,l.run(()=>ae({store:X,app:r._a,pinia:r,options:f})))}),k&&u&&t.hydrate&&t.hydrate(X.$state,k),g=!0,y=!0,X}function ML(n,e,t){let r,i;const u=typeof e=="function";typeof n=="string"?(r=n,i=u?t:e):(i=n,r=n.id);function l(f,h){const g=oSe();return f=f||(g?fy(the,null):null),f&&zH(f),f=ehe,f._s.has(r)||(u?rhe(r,e,i,f):X5e(r,i,f)),f._s.get(r)}return l.$id=r,l}function DYe(n){{n=R3(n);const e={};for(const t in n){const r=n[t];(Y2(r)||UQ(r))&&(e[t]=xfe(n,t))}return e}}W5e();const Y5e="routeStoreKey",AYe=ML(Y5e,{state(){return{keepAliveCache:new Set}},actions:{addAlive(n){this.keepAliveCache.add(n)}},getters:{getAliveCache:n=>Array.from(n.keepAliveCache)}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const m3=typeof window<"u";function K5e(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const uu=Object.assign;function tK(n,e){const t={};for(const r in e){const i=e[r];t[r]=Mv(i)?i.map(n):n(i)}return t}const kN=()=>{},Mv=Array.isArray,J5e=/\/$/,Z5e=n=>n.replace(J5e,"");function nK(n,e,t="/"){let r,i={},u="",l="";const f=e.indexOf("#");let h=e.indexOf("?");return f<h&&f>=0&&(h=-1),h>-1&&(r=e.slice(0,h),u=e.slice(h+1,f>-1?f:e.length),i=n(u)),f>-1&&(r=r||e.slice(0,f),l=e.slice(f,e.length)),r=nOe(r??e,t),{fullPath:r+(u&&"?")+u+l,path:r,query:i,hash:l}}function Q5e(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function die(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function eOe(n,e,t){const r=e.matched.length-1,i=t.matched.length-1;return r>-1&&r===i&&W3(e.matched[r],t.matched[i])&&ohe(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function W3(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function ohe(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!tOe(n[t],e[t]))return!1;return!0}function tOe(n,e){return Mv(n)?hie(n,e):Mv(e)?hie(e,n):n===e}function hie(n,e){return Mv(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function nOe(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let u=t.length-1,l,f;for(l=0;l<r.length;l++)if(f=r[l],f!==".")if(f==="..")u>1&&u--;else break;return t.slice(0,u).join("/")+"/"+r.slice(l-(l===r.length?1:0)).join("/")}var XN;(function(n){n.pop="pop",n.push="push"})(XN||(XN={}));var DN;(function(n){n.back="back",n.forward="forward",n.unknown=""})(DN||(DN={}));function rOe(n){if(!n)if(m3){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Z5e(n)}const oOe=/^[^#]+#/;function iOe(n,e){return n.replace(oOe,"#")+e}function aOe(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const FH=()=>({left:window.pageXOffset,top:window.pageYOffset});function uOe(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=aOe(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function pie(n,e){return(history.state?history.state.position-e:-1)+n}const fZ=new Map;function sOe(n,e){fZ.set(n,e)}function lOe(n){const e=fZ.get(n);return fZ.delete(n),e}let cOe=()=>location.protocol+"//"+location.host;function ihe(n,e){const{pathname:t,search:r,hash:i}=e,u=n.indexOf("#");if(u>-1){let l=i.includes(n.slice(u))?n.slice(u).length:1,f=i.slice(l);return f[0]!=="/"&&(f="/"+f),die(f,"")}return die(t,n)+r+i}function fOe(n,e,t,r){let i=[],u=[],l=null;const f=({state:S})=>{const _=ihe(n,location),k=t.value,E=e.value;let R=0;if(S){if(t.value=_,e.value=S,l&&l===k){l=null;return}R=E?S.position-E.position:0}else r(_);i.forEach(I=>{I(t.value,k,{delta:R,type:XN.pop,direction:R?R>0?DN.forward:DN.back:DN.unknown})})};function h(){l=t.value}function g(S){i.push(S);const _=()=>{const k=i.indexOf(S);k>-1&&i.splice(k,1)};return u.push(_),_}function y(){const{history:S}=window;S.state&&S.replaceState(uu({},S.state,{scroll:FH()}),"")}function b(){for(const S of u)S();u=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:h,listen:g,destroy:b}}function mie(n,e,t,r=!1,i=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:i?FH():null}}function dOe(n){const{history:e,location:t}=window,r={value:ihe(n,t)},i={value:e.state};i.value||u(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(h,g,y){const b=n.indexOf("#"),S=b>-1?(t.host&&document.querySelector("base")?n:n.slice(b))+h:cOe()+n+h;try{e[y?"replaceState":"pushState"](g,"",S),i.value=g}catch(_){console.error(_),t[y?"replace":"assign"](S)}}function l(h,g){const y=uu({},e.state,mie(i.value.back,h,i.value.forward,!0),g,{position:i.value.position});u(h,y,!0),r.value=h}function f(h,g){const y=uu({},i.value,e.state,{forward:h,scroll:FH()});u(y.current,y,!0);const b=uu({},mie(r.value,h,null),{position:y.position+1},g);u(h,b,!1),r.value=h}return{location:r,state:i,push:f,replace:l}}function hOe(n){n=rOe(n);const e=dOe(n),t=fOe(n,e.state,e.location,e.replace);function r(u,l=!0){l||t.pauseListeners(),history.go(u)}const i=uu({location:"",base:n,go:r,createHref:iOe.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function pOe(n){return typeof n=="string"||n&&typeof n=="object"}function ahe(n){return typeof n=="string"||typeof n=="symbol"}const p2={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},uhe=Symbol("");var gie;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(gie||(gie={}));function U3(n,e){return uu(new Error,{type:n,[uhe]:!0},e)}function hb(n,e){return n instanceof Error&&uhe in n&&(e==null||!!(n.type&e))}const vie="[^/]+?",mOe={sensitive:!1,strict:!1,start:!0,end:!0},gOe=/[.+*?^${}()[\]/\\]/g;function vOe(n,e){const t=uu({},mOe,e),r=[];let i=t.start?"^":"";const u=[];for(const g of n){const y=g.length?[]:[90];t.strict&&!g.length&&(i+="/");for(let b=0;b<g.length;b++){const S=g[b];let _=40+(t.sensitive?.25:0);if(S.type===0)b||(i+="/"),i+=S.value.replace(gOe,"\\$&"),_+=40;else if(S.type===1){const{value:k,repeatable:E,optional:R,regexp:I}=S;u.push({name:k,repeatable:E,optional:R});const z=I||vie;if(z!==vie){_+=10;try{new RegExp(`(${z})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${k}" (${z}): `+q.message)}}let L=E?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;b||(L=R&&g.length<2?`(?:/${L})`:"/"+L),R&&(L+="?"),i+=L,_+=20,R&&(_+=-8),E&&(_+=-20),z===".*"&&(_+=-50)}y.push(_)}r.push(y)}if(t.strict&&t.end){const g=r.length-1;r[g][r[g].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&(i+="(?:/|$)");const l=new RegExp(i,t.sensitive?"":"i");function f(g){const y=g.match(l),b={};if(!y)return null;for(let S=1;S<y.length;S++){const _=y[S]||"",k=u[S-1];b[k.name]=_&&k.repeatable?_.split("/"):_}return b}function h(g){let y="",b=!1;for(const S of n){(!b||!y.endsWith("/"))&&(y+="/"),b=!1;for(const _ of S)if(_.type===0)y+=_.value;else if(_.type===1){const{value:k,repeatable:E,optional:R}=_,I=k in g?g[k]:"";if(Mv(I)&&!E)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const z=Mv(I)?I.join("/"):I;if(!z)if(R)S.length<2&&(y.endsWith("/")?y=y.slice(0,-1):b=!0);else throw new Error(`Missing required param "${k}"`);y+=z}}return y||"/"}return{re:l,score:r,keys:u,parse:f,stringify:h}}function yOe(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function bOe(n,e){let t=0;const r=n.score,i=e.score;for(;t<r.length&&t<i.length;){const u=yOe(r[t],i[t]);if(u)return u;t++}if(Math.abs(i.length-r.length)===1){if(yie(r))return 1;if(yie(i))return-1}return i.length-r.length}function yie(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const xOe={type:0,value:""},wOe=/[a-zA-Z0-9_]/;function _Oe(n){if(!n)return[[]];if(n==="/")return[[xOe]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(_){throw new Error(`ERR (${t})/"${g}": ${_}`)}let t=0,r=t;const i=[];let u;function l(){u&&i.push(u),u=[]}let f=0,h,g="",y="";function b(){g&&(t===0?u.push({type:0,value:g}):t===1||t===2||t===3?(u.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:g,regexp:y,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),g="")}function S(){g+=h}for(;f<n.length;){if(h=n[f++],h==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:h==="/"?(g&&b(),l()):h===":"?(b(),t=1):S();break;case 4:S(),t=r;break;case 1:h==="("?t=2:wOe.test(h)?S():(b(),t=0,h!=="*"&&h!=="?"&&h!=="+"&&f--);break;case 2:h===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+h:t=3:y+=h;break;case 3:b(),t=0,h!=="*"&&h!=="?"&&h!=="+"&&f--,y="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${g}"`),b(),l(),i}function SOe(n,e,t){const r=vOe(_Oe(n.path),t),i=uu(r,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function she(n,e){const t=[],r=new Map;e=wie({strict:!1,end:!0,sensitive:!1},e);function i(y){return r.get(y)}function u(y,b,S){const _=!S,k=COe(y);k.aliasOf=S&&S.record;const E=wie(e,y),R=[k];if("alias"in y){const L=typeof y.alias=="string"?[y.alias]:y.alias;for(const q of L)R.push(uu({},k,{components:S?S.record.components:k.components,path:q,aliasOf:S?S.record:k}))}let I,z;for(const L of R){const{path:q}=L;if(b&&q[0]!=="/"){const X=b.record.path,Y=X[X.length-1]==="/"?"":"/";L.path=b.record.path+(q&&Y+q)}if(I=SOe(L,b,E),S?S.alias.push(I):(z=z||I,z!==I&&z.alias.push(I),_&&y.name&&!xie(I)&&l(y.name)),k.children){const X=k.children;for(let Y=0;Y<X.length;Y++)u(X[Y],I,S&&S.children[Y])}S=S||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&h(I)}return z?()=>{l(z)}:kN}function l(y){if(ahe(y)){const b=r.get(y);b&&(r.delete(y),t.splice(t.indexOf(b),1),b.children.forEach(l),b.alias.forEach(l))}else{const b=t.indexOf(y);b>-1&&(t.splice(b,1),y.record.name&&r.delete(y.record.name),y.children.forEach(l),y.alias.forEach(l))}}function f(){return t}function h(y){let b=0;for(;b<t.length&&bOe(y,t[b])>=0&&(y.record.path!==t[b].record.path||!lhe(y,t[b]));)b++;t.splice(b,0,y),y.record.name&&!xie(y)&&r.set(y.record.name,y)}function g(y,b){let S,_={},k,E;if("name"in y&&y.name){if(S=r.get(y.name),!S)throw U3(1,{location:y});E=S.record.name,_=uu(bie(b.params,S.keys.filter(z=>!z.optional).map(z=>z.name)),y.params&&bie(y.params,S.keys.map(z=>z.name))),k=S.stringify(_)}else if("path"in y)k=y.path,S=t.find(z=>z.re.test(k)),S&&(_=S.parse(k),E=S.record.name);else{if(S=b.name?r.get(b.name):t.find(z=>z.re.test(b.path)),!S)throw U3(1,{location:y,currentLocation:b});E=S.record.name,_=uu({},b.params,y.params),k=S.stringify(_)}const R=[];let I=S;for(;I;)R.unshift(I.record),I=I.parent;return{name:E,path:k,params:_,matched:R,meta:MOe(R)}}return n.forEach(y=>u(y)),{addRoute:u,resolve:g,removeRoute:l,getRoutes:f,getRecordMatcher:i}}function bie(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function COe(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:TOe(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function TOe(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="object"?t[r]:t;return e}function xie(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function MOe(n){return n.reduce((e,t)=>uu(e,t.meta),{})}function wie(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function lhe(n,e){return e.children.some(t=>t===n||lhe(n,t))}const che=/#/g,kOe=/&/g,DOe=/\//g,AOe=/=/g,EOe=/\?/g,fhe=/\+/g,OOe=/%5B/g,IOe=/%5D/g,dhe=/%5E/g,ROe=/%60/g,hhe=/%7B/g,POe=/%7C/g,phe=/%7D/g,NOe=/%20/g;function bee(n){return encodeURI(""+n).replace(POe,"|").replace(OOe,"[").replace(IOe,"]")}function LOe(n){return bee(n).replace(hhe,"{").replace(phe,"}").replace(dhe,"^")}function dZ(n){return bee(n).replace(fhe,"%2B").replace(NOe,"+").replace(che,"%23").replace(kOe,"%26").replace(ROe,"`").replace(hhe,"{").replace(phe,"}").replace(dhe,"^")}function BOe(n){return dZ(n).replace(AOe,"%3D")}function zOe(n){return bee(n).replace(che,"%23").replace(EOe,"%3F")}function FOe(n){return n==null?"":zOe(n).replace(DOe,"%2F")}function VV(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function VOe(n){const e={};if(n===""||n==="?")return e;const t=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<t.length;++r){const i=t[r].replace(fhe," "),u=i.indexOf("="),l=VV(u<0?i:i.slice(0,u)),f=u<0?null:VV(i.slice(u+1));if(l in e){let h=e[l];Mv(h)||(h=e[l]=[h]),h.push(f)}else e[l]=f}return e}function _ie(n){let e="";for(let t in n){const r=n[t];if(t=BOe(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(Mv(r)?r.map(i=>i&&dZ(i)):[r&&dZ(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function HOe(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=Mv(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const jOe=Symbol(""),Sie=Symbol(""),VH=Symbol(""),xee=Symbol(""),hZ=Symbol("");function DP(){let n=[];function e(r){return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function A2(n,e,t,r,i){const u=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,f)=>{const h=b=>{b===!1?f(U3(4,{from:t,to:e})):b instanceof Error?f(b):pOe(b)?f(U3(2,{from:e,to:b})):(u&&r.enterCallbacks[i]===u&&typeof b=="function"&&u.push(b),l())},g=n.call(r&&r.instances[i],e,t,h);let y=Promise.resolve(g);n.length<3&&(y=y.then(h)),y.catch(b=>f(b))})}function rK(n,e,t,r){const i=[];for(const u of n)for(const l in u.components){let f=u.components[l];if(!(e!=="beforeRouteEnter"&&!u.instances[l]))if(WOe(f)){const h=(f.__vccOpts||f)[e];h&&i.push(A2(h,t,r,u,l))}else{let h=f();i.push(()=>h.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${u.path}"`));const y=K5e(g)?g.default:g;u.components[l]=y;const b=(y.__vccOpts||y)[e];return b&&A2(b,t,r,u,l)()}))}}return i}function WOe(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Cie(n){const e=fy(VH),t=fy(xee),r=No(()=>e.resolve(io(n.to))),i=No(()=>{const{matched:h}=r.value,{length:g}=h,y=h[g-1],b=t.matched;if(!y||!b.length)return-1;const S=b.findIndex(W3.bind(null,y));if(S>-1)return S;const _=Tie(h[g-2]);return g>1&&Tie(y)===_&&b[b.length-1].path!==_?b.findIndex(W3.bind(null,h[g-2])):S}),u=No(()=>i.value>-1&&GOe(t.params,r.value.params)),l=No(()=>i.value>-1&&i.value===t.matched.length-1&&ohe(t.params,r.value.params));function f(h={}){return $Oe(h)?e[io(n.replace)?"replace":"push"](io(n.to)).catch(kN):Promise.resolve()}return{route:r,href:No(()=>r.value.href),isActive:u,isExactActive:l,navigate:f}}const UOe=Wa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Cie,setup(n,{slots:e}){const t=Th(Cie(n)),{options:r}=fy(VH),i=No(()=>({[Mie(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[Mie(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const u=e.default&&e.default(t);return n.custom?u:dy("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},u)}}}),qOe=UOe;function $Oe(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function GOe(n,e){for(const t in e){const r=e[t],i=n[t];if(typeof r=="string"){if(r!==i)return!1}else if(!Mv(i)||i.length!==r.length||r.some((u,l)=>u!==i[l]))return!1}return!0}function Tie(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Mie=(n,e,t)=>n??e??t,XOe=Wa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=fy(hZ),i=No(()=>n.route||r.value),u=fy(Sie,0),l=No(()=>{let g=io(u);const{matched:y}=i.value;let b;for(;(b=y[g])&&!b.components;)g++;return g}),f=No(()=>i.value.matched[l.value]);vN(Sie,No(()=>l.value+1)),vN(jOe,f),vN(hZ,i);const h=Ao();return su(()=>[h.value,f.value,n.name],([g,y,b],[S,_,k])=>{y&&(y.instances[b]=g,_&&_!==y&&g&&g===S&&(y.leaveGuards.size||(y.leaveGuards=_.leaveGuards),y.updateGuards.size||(y.updateGuards=_.updateGuards))),g&&y&&(!_||!W3(y,_)||!S)&&(y.enterCallbacks[b]||[]).forEach(E=>E(g))},{flush:"post"}),()=>{const g=i.value,y=n.name,b=f.value,S=b&&b.components[y];if(!S)return kie(t.default,{Component:S,route:g});const _=b.props[y],k=_?_===!0?g.params:typeof _=="function"?_(g):_:null,E=dy(S,uu({},k,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(b.instances[y]=null)},ref:h}));return kie(t.default,{Component:E,route:g})||E}}});function kie(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const YOe=XOe;function KOe(n){const e=she(n.routes,n),t=n.parseQuery||VOe,r=n.stringifyQuery||_ie,i=n.history,u=DP(),l=DP(),f=DP(),h=mfe(p2);let g=p2;m3&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=tK.bind(null,fe=>""+fe),b=tK.bind(null,FOe),S=tK.bind(null,VV);function _(fe,$t){let Je,Fe;return ahe(fe)?(Je=e.getRecordMatcher(fe),Fe=$t):Fe=fe,e.addRoute(Fe,Je)}function k(fe){const $t=e.getRecordMatcher(fe);$t&&e.removeRoute($t)}function E(){return e.getRoutes().map(fe=>fe.record)}function R(fe){return!!e.getRecordMatcher(fe)}function I(fe,$t){if($t=uu({},$t||h.value),typeof fe=="string"){const st=nK(t,fe,$t.path),Ft=e.resolve({path:st.path},$t),Ct=i.createHref(st.fullPath);return uu(st,Ft,{params:S(Ft.params),hash:VV(st.hash),redirectedFrom:void 0,href:Ct})}let Je;if("path"in fe)Je=uu({},fe,{path:nK(t,fe.path,$t.path).path});else{const st=uu({},fe.params);for(const Ft in st)st[Ft]==null&&delete st[Ft];Je=uu({},fe,{params:b(st)}),$t.params=b($t.params)}const Fe=e.resolve(Je,$t),St=fe.hash||"";Fe.params=y(S(Fe.params));const Ue=Q5e(r,uu({},fe,{hash:LOe(St),path:Fe.path})),Ye=i.createHref(Ue);return uu({fullPath:Ue,hash:St,query:r===_ie?HOe(fe.query):fe.query||{}},Fe,{redirectedFrom:void 0,href:Ye})}function z(fe){return typeof fe=="string"?nK(t,fe,h.value.path):uu({},fe)}function L(fe,$t){if(g!==fe)return U3(8,{from:$t,to:fe})}function q(fe){return ae(fe)}function X(fe){return q(uu(z(fe),{replace:!0}))}function Y(fe){const $t=fe.matched[fe.matched.length-1];if($t&&$t.redirect){const{redirect:Je}=$t;let Fe=typeof Je=="function"?Je(fe):Je;return typeof Fe=="string"&&(Fe=Fe.includes("?")||Fe.includes("#")?Fe=z(Fe):{path:Fe},Fe.params={}),uu({query:fe.query,hash:fe.hash,params:"path"in Fe?{}:fe.params},Fe)}}function ae(fe,$t){const Je=g=I(fe),Fe=h.value,St=fe.state,Ue=fe.force,Ye=fe.replace===!0,st=Y(Je);if(st)return ae(uu(z(st),{state:typeof st=="object"?uu({},St,st.state):St,force:Ue,replace:Ye}),$t||Je);const Ft=Je;Ft.redirectedFrom=$t;let Ct;return!Ue&&eOe(r,Fe,Je)&&(Ct=U3(16,{to:Ft,from:Fe}),$e(Fe,Fe,!0,!1)),(Ct?Promise.resolve(Ct):le(Ft,Fe)).catch(Rt=>hb(Rt)?hb(Rt,2)?Rt:Ze(Rt):tt(Rt,Ft,Fe)).then(Rt=>{if(Rt){if(hb(Rt,2))return ae(uu({replace:Ye},z(Rt.to),{state:typeof Rt.to=="object"?uu({},St,Rt.to.state):St,force:Ue}),$t||Ft)}else Rt=ne(Ft,Fe,!0,Ye,St);return ce(Ft,Fe,Rt),Rt})}function te(fe,$t){const Je=L(fe,$t);return Je?Promise.reject(Je):Promise.resolve()}function ie(fe){const $t=Et.values().next().value;return $t&&typeof $t.runWithContext=="function"?$t.runWithContext(fe):fe()}function le(fe,$t){let Je;const[Fe,St,Ue]=JOe(fe,$t);Je=rK(Fe.reverse(),"beforeRouteLeave",fe,$t);for(const st of Fe)st.leaveGuards.forEach(Ft=>{Je.push(A2(Ft,fe,$t))});const Ye=te.bind(null,fe,$t);return Je.push(Ye),Nt(Je).then(()=>{Je=[];for(const st of u.list())Je.push(A2(st,fe,$t));return Je.push(Ye),Nt(Je)}).then(()=>{Je=rK(St,"beforeRouteUpdate",fe,$t);for(const st of St)st.updateGuards.forEach(Ft=>{Je.push(A2(Ft,fe,$t))});return Je.push(Ye),Nt(Je)}).then(()=>{Je=[];for(const st of Ue)if(st.beforeEnter)if(Mv(st.beforeEnter))for(const Ft of st.beforeEnter)Je.push(A2(Ft,fe,$t));else Je.push(A2(st.beforeEnter,fe,$t));return Je.push(Ye),Nt(Je)}).then(()=>(fe.matched.forEach(st=>st.enterCallbacks={}),Je=rK(Ue,"beforeRouteEnter",fe,$t),Je.push(Ye),Nt(Je))).then(()=>{Je=[];for(const st of l.list())Je.push(A2(st,fe,$t));return Je.push(Ye),Nt(Je)}).catch(st=>hb(st,8)?st:Promise.reject(st))}function ce(fe,$t,Je){f.list().forEach(Fe=>ie(()=>Fe(fe,$t,Je)))}function ne(fe,$t,Je,Fe,St){const Ue=L(fe,$t);if(Ue)return Ue;const Ye=$t===p2,st=m3?history.state:{};Je&&(Fe||Ye?i.replace(fe.fullPath,uu({scroll:Ye&&st&&st.scroll},St)):i.push(fe.fullPath,St)),h.value=fe,$e(fe,$t,Je,Ye),Ze()}let Z;function Ce(){Z||(Z=i.listen((fe,$t,Je)=>{const Fe=I(fe),St=Y(Fe);if(St){ae(uu(St,{replace:!0}),Fe).catch(kN);return}g=Fe;const Ue=h.value;m3&&sOe(pie(Ue.fullPath,Je.delta),FH()),le(Fe,Ue).catch(Ye=>hb(Ye,12)?Ye:hb(Ye,2)?(ae(Ye.to,Fe).then(st=>{hb(st,20)&&!Je.delta&&Je.type===XN.pop&&i.go(-1,!1)}).catch(kN),Promise.reject()):(Je.delta&&i.go(-Je.delta,!1),tt(Ye,Fe,Ue))).then(Ye=>{Ye=Ye||ne(Fe,Ue,!1),Ye&&(Je.delta&&!hb(Ye,8)?i.go(-Je.delta,!1):Je.type===XN.pop&&hb(Ye,20)&&i.go(-1,!1)),ce(Fe,Ue,Ye)}).catch(kN)}))}let ze=DP(),ke=DP(),_t;function tt(fe,$t,Je){Ze(fe);const Fe=ke.list();return Fe.length?Fe.forEach(St=>St(fe,$t,Je)):console.error(fe),Promise.reject(fe)}function $(){return _t&&h.value!==p2?Promise.resolve():new Promise((fe,$t)=>{ze.add([fe,$t])})}function Ze(fe){return _t||(_t=!fe,Ce(),ze.list().forEach(([$t,Je])=>fe?Je(fe):$t()),ze.reset()),fe}function $e(fe,$t,Je,Fe){const{scrollBehavior:St}=n;if(!m3||!St)return Promise.resolve();const Ue=!Je&&lOe(pie(fe.fullPath,0))||(Fe||!Je)&&history.state&&history.state.scroll||null;return kp().then(()=>St(fe,$t,Ue)).then(Ye=>Ye&&uOe(Ye)).catch(Ye=>tt(Ye,fe,$t))}const mt=fe=>i.go(fe);let Qe;const Et=new Set,Ot={currentRoute:h,listening:!0,addRoute:_,removeRoute:k,hasRoute:R,getRoutes:E,resolve:I,options:n,push:q,replace:X,go:mt,back:()=>mt(-1),forward:()=>mt(1),beforeEach:u.add,beforeResolve:l.add,afterEach:f.add,onError:ke.add,isReady:$,install(fe){const $t=this;fe.component("RouterLink",qOe),fe.component("RouterView",YOe),fe.config.globalProperties.$router=$t,Object.defineProperty(fe.config.globalProperties,"$route",{enumerable:!0,get:()=>io(h)}),m3&&!Qe&&h.value===p2&&(Qe=!0,q(i.location).catch(St=>{}));const Je={};for(const St in p2)Object.defineProperty(Je,St,{get:()=>h.value[St],enumerable:!0});fe.provide(VH,$t),fe.provide(xee,iSe(Je)),fe.provide(hZ,h);const Fe=fe.unmount;Et.add(fe),fe.unmount=function(){Et.delete(fe),Et.size<1&&(g=p2,Z&&Z(),Z=null,h.value=p2,Qe=!1,_t=!1),Fe()}}};function Nt(fe){return fe.reduce(($t,Je)=>$t.then(()=>ie(Je)),Promise.resolve())}return Ot}function JOe(n,e){const t=[],r=[],i=[],u=Math.max(e.matched.length,n.matched.length);for(let l=0;l<u;l++){const f=e.matched[l];f&&(n.matched.find(g=>W3(g,f))?r.push(f):t.push(f));const h=n.matched[l];h&&(e.matched.find(g=>W3(g,h))||i.push(h))}return[t,r,i]}function EYe(){return fy(VH)}function OYe(){return fy(xee)}function mhe(n,e){return KOe({routes:n,history:hOe("/"),...e})}async function ZOe(n){const e=n;function t(l){var f,h;if(!l||!Reflect.has(l,"children")||!((f=l.children)!=null&&f.length))return!1;const g=l.children;let y=!1;for(let b=0;b<g.length;b++)if((h=g[b].children)!=null&&h.length){y=!0;break}return y}function r(l){var f;const h=mhe([l]).getRoutes();i(h,l.children||[],l),l.children=(f=l.children)==null?void 0:f.map(g=>Qfe(g,"children"))}function i(l,f,h){var g;for(let y=0;y<f.length;y++){const b=f[y],S=l.find(_=>_.name===b.name);S&&(h.children=h.children||[],h.children.find(_=>_.name===S.name)||h.children.push(S),(g=b.children)!=null&&g.length&&i(l,b.children,h))}}function u(l){const f=qN(l);for(let h=0;h<f.length;h++){const g=f[h];t(g)&&r(g)}return f}return u(e)}function ghe(n,e=""){var t,r;for(let i=0;i<n.length;i++){const u=n[i];u.path.startsWith("/")||(u.path=`${e}/${u.path}`),(t=u==null?void 0:u.children)!=null&&t.length&&ghe(u.children,(r=u.meta)!=null&&r.hidePathForChildren?e:u.path)}}function QOe(n){const e=t(qN(n));function t(i){return i.map(u=>{var l,f;let h={...u};const g=u.children;return g&&g.length&&(h.children=t(g||[]),((l=h.children)==null?void 0:l.length)===1&&((f=h.meta)==null?void 0:f.hideChildrenInMenu)!==!1&&(h={...h.children[0],meta:Object.assign(h.meta||{},h.children[0].meta)})),h})}const r=PAe(e,{conversion:i=>{const{name:u}=i;return{meta:i.meta,name:u,path:i.path}}});return ghe(r),qN(r)}function e4e(n){return n.sort((e,t)=>{var r,i;return(((r=e.meta)==null?void 0:r.order)||Number.POSITIVE_INFINITY)-(((i=t.meta)==null?void 0:i.order)||Number.POSITIVE_INFINITY)})}var t4e={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(n,e){(function(t,r){n.exports=r()})(N3,function(){var t={};t.version="0.2.0";var r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(k){var E,R;for(E in k)R=k[E],R!==void 0&&k.hasOwnProperty(E)&&(r[E]=R);return this},t.status=null,t.set=function(k){var E=t.isStarted();k=i(k,r.minimum,1),t.status=k===1?null:k;var R=t.render(!E),I=R.querySelector(r.barSelector),z=r.speed,L=r.easing;return R.offsetWidth,f(function(q){r.positionUsing===""&&(r.positionUsing=t.getPositioningCSS()),h(I,l(k,z,L)),k===1?(h(R,{transition:"none",opacity:1}),R.offsetWidth,setTimeout(function(){h(R,{transition:"all "+z+"ms linear",opacity:0}),setTimeout(function(){t.remove(),q()},z)},z)):setTimeout(q,z)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var k=function(){setTimeout(function(){t.status&&(t.trickle(),k())},r.trickleSpeed)};return r.trickle&&k(),this},t.done=function(k){return!k&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(k){var E=t.status;return E?(typeof k!="number"&&(k=(1-E)*i(Math.random()*E,.1,.95)),E=i(E+k,0,.994),t.set(E)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},function(){var k=0,E=0;t.promise=function(R){return!R||R.state()==="resolved"?this:(E===0&&t.start(),k++,E++,R.always(function(){E--,E===0?(k=0,t.done()):t.set((k-E)/k)}),this)}}(),t.render=function(k){if(t.isRendered())return document.getElementById("nprogress");y(document.documentElement,"nprogress-busy");var E=document.createElement("div");E.id="nprogress",E.innerHTML=r.template;var R=E.querySelector(r.barSelector),I=k?"-100":u(t.status||0),z=document.querySelector(r.parent),L;return h(R,{transition:"all 0 linear",transform:"translate3d("+I+"%,0,0)"}),r.showSpinner||(L=E.querySelector(r.spinnerSelector),L&&_(L)),z!=document.body&&y(z,"nprogress-custom-parent"),z.appendChild(E),E},t.remove=function(){b(document.documentElement,"nprogress-busy"),b(document.querySelector(r.parent),"nprogress-custom-parent");var k=document.getElementById("nprogress");k&&_(k)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var k=document.body.style,E="WebkitTransform"in k?"Webkit":"MozTransform"in k?"Moz":"msTransform"in k?"ms":"OTransform"in k?"O":"";return E+"Perspective"in k?"translate3d":E+"Transform"in k?"translate":"margin"};function i(k,E,R){return k<E?E:k>R?R:k}function u(k){return(-1+k)*100}function l(k,E,R){var I;return r.positionUsing==="translate3d"?I={transform:"translate3d("+u(k)+"%,0,0)"}:r.positionUsing==="translate"?I={transform:"translate("+u(k)+"%,0)"}:I={"margin-left":u(k)+"%"},I.transition="all "+E+"ms "+R,I}var f=function(){var k=[];function E(){var R=k.shift();R&&R(E)}return function(R){k.push(R),k.length==1&&E()}}(),h=function(){var k=["Webkit","O","Moz","ms"],E={};function R(q){return q.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(X,Y){return Y.toUpperCase()})}function I(q){var X=document.body.style;if(q in X)return q;for(var Y=k.length,ae=q.charAt(0).toUpperCase()+q.slice(1),te;Y--;)if(te=k[Y]+ae,te in X)return te;return q}function z(q){return q=R(q),E[q]||(E[q]=I(q))}function L(q,X,Y){X=z(X),q.style[X]=Y}return function(q,X){var Y=arguments,ae,te;if(Y.length==2)for(ae in X)te=X[ae],te!==void 0&&X.hasOwnProperty(ae)&&L(q,ae,te);else L(q,Y[1],Y[2])}}();function g(k,E){var R=typeof k=="string"?k:S(k);return R.indexOf(" "+E+" ")>=0}function y(k,E){var R=S(k),I=R+E;g(R,E)||(k.className=I.substring(1))}function b(k,E){var R=S(k),I;g(k,E)&&(I=R.replace(" "+E+" "," "),k.className=I.substring(1,I.length-1))}function S(k){return(" "+(k.className||"")+" ").replace(/\s+/gi," ")}function _(k){k&&k.parentNode&&k.parentNode.removeChild(k)}return t})})(t4e);var a5=(n=>(n.TOKEN="__TOKEN__",n.USER_INFO="__USER_INFO__",n.LAYOUT="__LAYOUT__",n.PERMISSIONS="_PERMISSIONS_",n))(a5||{}),HV=(n=>(n.ROLE="ROLE",n.ROUTE_MAPPING="ROUTE_MAPPING",n))(HV||{});function n4e(n){return yL(n)}const AP={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},vhe=n4e({baseApiUrl:AP.VITE_APP_API_BASE_URL,casBaseUrl:AP.VITE_CAS_BASE_URL,projectTitle:AP.VITE_APP_TITLE,projectDesc:AP.VITE_APP_DESC,enableSSO:AP.VITE_ENABLE_SSO,storage:{prefix:"_BASIC_"}}),r4e=vhe.storage.prefix,u5=IAe({prefixKey:r4e});function o4e(n){u5.set(a5.USER_INFO,n)}function i4e(n){u5.set(a5.TOKEN,n)}function yhe(n){u5.set(a5.PERMISSIONS,n)}function a4e(){return u5.get(a5.PERMISSIONS)}function u4e(n){return u5.set(a5.LAYOUT,n)}const s4e=()=>{u5.clearAll()},by=()=>ai(()=>import("./basic-layout-c87db05f.8V9ZLwW0.js"),__vite__mapDeps([0,1,2,3,4])),P2=()=>Promise.resolve({name:"BlankContainer",setup(){return()=>dy("div")}}),l4e="Login",c4e="/login",f4e="PageNotFound",oK="Redirect",d4e=[{name:"Charts",path:"/charts",meta:{title:"图表",order:20,icon:"ep.document"},redirect:{name:"Echarts"},component:by,children:[{name:"Echarts",path:"echarts",meta:{title:"echarts",sort:4},component:()=>ai(()=>import("./echarts-04c16a48.0UsEAswU.js"),__vite__mapDeps([5,1,2,3]))}]}],h4e=Object.freeze(Object.defineProperty({__proto__:null,default:d4e},Symbol.toStringTag,{value:"Module"})),p4e=[{name:"Components",path:"/components",meta:{title:"组件",sort:4,icon:"ep.grid"},redirect:{name:"ProTable"},component:by,children:[{name:"ProTable",path:"pro-table",meta:{title:"ProTable"},component:P2,redirect:{name:"ProTableBasic"},children:[{name:"ProTableBasic",path:"pro-table-basic",meta:{title:"ProTable 基本使用"},component:()=>ai(()=>import("./pro-table-page-520f3d12.j-efUgJL.js"),__vite__mapDeps([6,1,2,3]))},{name:"ProTableEdit",path:"pro-table-edit",meta:{title:"ProTable edit 基本使用",ignoreAuth:!0},component:()=>ai(()=>import("./pro-table-edit-bdc92476.LMj7A-NK.js"),__vite__mapDeps([7,2,1,3]))},{name:"EditableProTable",path:"editable-pro-table",meta:{title:"EditableProTable",ignoreAuth:!0},component:()=>ai(()=>import("./editable-pro-table-0bcbc36e.2HU2Y5Sh.js"),__vite__mapDeps([8,2,1,3]))},{name:"DragSortTable",path:"drag-sort-table",meta:{title:"DragSortTable",ignoreAuth:!0},component:()=>ai(()=>import("./drag-sort-table-72a3a776.QCvo3ALh.js"),__vite__mapDeps([9,1,2,3]))}]},{name:"Editor",path:"editor",meta:{title:"编辑器"},component:P2,redirect:{name:"RichEditor"},children:[{name:"RichEditor",path:"rich-editor",meta:{title:"tinymce富文本"},component:()=>ai(()=>import("./rich-editor-0debf4d8.sQ0SwpYx.js"),__vite__mapDeps([10,1,2,3]))}]},{name:"ProForm",path:"pro-form",meta:{title:"ProForm"},component:P2,children:[{name:"ProFormBase",path:"base",meta:{title:"基础表单"},component:()=>ai(()=>import("./pro-form-bcbafcbe.Qczh7s9Q.js"),__vite__mapDeps([11,1,2,3]))},{name:"ProFormRef",path:"ref",meta:{title:"表单 ref 操作",ignoreAuth:!0},component:()=>ai(()=>import("./pro-form-ref-69f5014c.jGJFSUim.js"),__vite__mapDeps([12,1,2,3]))},{name:"ProFromDynamic",path:"dynamic",meta:{title:"动态表单",ignoreAuth:!0},component:()=>ai(()=>import("./dynamic-db80c851.9Euk_gyw.js"),__vite__mapDeps([13,1,2,3]))},{name:"ProFormModal",path:"modal",meta:{title:"Modal 表单"},component:()=>ai(()=>import("./modal-form-a58cdde7.-6UqQ_qe.js"),__vite__mapDeps([14,1,2,3]))},{name:"ProFormDrawer",path:"drawer",meta:{title:"Drawer 表单"},component:()=>ai(()=>import("./drawer-form-e55d305f.aQiv75LG.js"),__vite__mapDeps([15,1]))},{name:"ProFormSteps",path:"steps",meta:{title:"StepsForm 表单"},component:()=>ai(()=>import("./steps-form-e9e1a4a9.Svd-LuHQ.js"),__vite__mapDeps([16,1]))}]},{name:"Upload",path:"upload",meta:{title:"上传"},component:()=>ai(()=>import("./Upload-5eae2a5d.PWWVmev-.js"),__vite__mapDeps([17,2,1,3]))},{name:"Anchor",path:"anchor",meta:{title:"锚点"},component:()=>ai(()=>import("./anchor-demo-a32cd598.DTFGDA7o.js"),__vite__mapDeps([18,1,2,3]))},{name:"Segmented",path:"segmented",meta:{title:"segmented 分段器"},component:()=>ai(()=>import("./segmented-7aa56383.MHMO7lJO.js"),__vite__mapDeps([19,1,2,3]))},{name:"ContextMenu",path:"context-menu",meta:{title:"右键菜单",ignoreAuth:!0},component:()=>ai(()=>import("./context-menu-5f5f5fa9.8anw1Ltn.js"),__vite__mapDeps([20,4,1,2,3]))},{name:"Tree",path:"tree",meta:{title:"Tree",ignoreAuth:!0},component:P2,children:[{name:"TreeSelect",path:"tree-select",meta:{ignoreAuth:!0,title:"TreeSelect"},component:()=>ai(()=>import("./tree-select-cb6625df.Cip31mUa.js"),__vite__mapDeps([21,1,2,3]))},{name:"BaseTree",path:"base",meta:{title:"Tree",ignoreAuth:!0},component:()=>ai(()=>import("./tree-009bc3ff.tT5ZXXsm.js"),__vite__mapDeps([22,1,2,3]))}]}]}],m4e=Object.freeze(Object.defineProperty({__proto__:null,default:p4e},Symbol.toStringTag,{value:"Module"})),g4e={name:"Docs",path:"/docs",meta:{icon:"ep.document",ignoreAuth:!0,title:"文档",href:"https://qsyjlab.github.io/vite-admin-vue/"},component:P2},v4e=Object.freeze(Object.defineProperty({__proto__:null,default:g4e},Symbol.toStringTag,{value:"Module"})),y4e={name:"Exception",path:"/exception",meta:{title:"异常页面",hideChildrenInMenu:!1,ignoreAuth:!0,icon:"ep.warning-filled"},component:by,children:[{name:"404",path:"404",meta:{ignoreAuth:!0,title:"404"},component:()=>ai(()=>import("./error-404-830ba0bf.TVWcx1fv.js"),__vite__mapDeps([23,1,2,3]))},{name:"403",path:"403",meta:{title:"403",ignoreAuth:!0},component:()=>ai(()=>import("./error-403-4853ddff.9RUjgWbF.js"),__vite__mapDeps([24,1,2,3]))}]},b4e=Object.freeze(Object.defineProperty({__proto__:null,default:y4e},Symbol.toStringTag,{value:"Module"})),x4e=[{name:"Feature",path:"/feature",meta:{title:"功能",icon:"ify.iconoir:git-fork"},redirect:"/feature/watermark",component:by,children:[{name:"Watermark",path:"watermark",meta:{title:"水印"},component:()=>ai(()=>import("./watermark-e536771f.ijAm-YKK.js"),__vite__mapDeps([25,1,2,3]))},{name:"Qrcode",path:"qrcode",meta:{title:"二维码"},component:()=>ai(()=>import("./qrcode-fc87a38f.7eHHzhIx.js"),__vite__mapDeps([26,1,2,3]))},{name:"TabPage",path:"tab-page",meta:{title:"标签栏"},component:()=>ai(()=>import("./tab-page-dafc2a4a.GX9nbC8L.js"),__vite__mapDeps([27,28,1,2,3])),children:[{name:"TabPageDetail",path:"detail/:id",meta:{title:"标签栏详情",hideInMenu:!0},component:()=>ai(()=>import("./detail-f1d2198c.dcBqAlk-.js"),__vite__mapDeps([29,28,1,2,3]))}]},{name:"ImageViewer",path:"image-viewer",meta:{title:"图片预览"},component:()=>ai(()=>import("./image-viwer-20c104ce.chJg8nL4.js"),__vite__mapDeps([30,1,2,3]))},{name:"Message",path:"message",meta:{title:"消息提示"},component:()=>ai(()=>import("./message-76c8794f.bxI6Y34J.js"),__vite__mapDeps([31,2,1,3]))},{name:"Encrypt",path:"encrypt",meta:{title:"加密"},component:()=>ai(()=>import("./encrypt-aba09083.VBY51IcY.js"),__vite__mapDeps([32,1,2,3]))},{name:"Print",path:"print",meta:{title:"打印",ignoreAuth:!0},component:()=>ai(()=>import("./print-b42217ba.Iczglvda.js"),__vite__mapDeps([33,34,1,2,3]))},{name:"Excel",path:"excel",meta:{title:"Excel",ignoreAuth:!0},component:P2,children:[{name:"ExcelBase",path:"base",meta:{title:"基本导出",ignoreAuth:!0},component:()=>ai(()=>import("./excel-b1d0ab02.C_l5S6pI.js"),__vite__mapDeps([35,36,1,2,3]))},{name:"ExcelBaseMutiHeader",path:"mutiple-header",meta:{title:"多表头",ignoreAuth:!0},component:()=>ai(()=>import("./mutiple-header-c171983b.KbtnOfdF.js"),__vite__mapDeps([37,36,1,2,3]))},{name:"ExcelImport",path:"import",meta:{title:"导入",ignoreAuth:!0},component:()=>ai(()=>import("./import-f785c59a.POf3O1Xt.js"),__vite__mapDeps([38,36,1,2,3]))}]},{name:"docx",path:"docx",meta:{title:"docx",ignoreAuth:!0,hideChildrenInMenu:!1},component:P2,children:[{name:"HtmlToDocx",path:"html-to-docx",meta:{title:"富文本导出docx",ignoreAuth:!0},component:()=>ai(()=>import("./html-to-docx-77a9e43f.dDxFN7W1.js"),__vite__mapDeps([39,40,1,2,3]))},{name:"RichDocx",path:"rich-docx-template",meta:{title:"行内模板",ignoreAuth:!0},component:()=>ai(()=>import("./template-e10af6b6.U-jrtTwb.js"),__vite__mapDeps([41,40,1,2,3]))}]}]}],w4e=Object.freeze(Object.defineProperty({__proto__:null,default:x4e},Symbol.toStringTag,{value:"Module"})),_4e=[{path:"/welcome",name:"Welcome",meta:{title:"Welcome",order:10,icon:"ep.home-filled",hideInTab:!0},redirect:{name:"WelcomeIndex"},component:by,children:[{path:"index",name:"WelcomeIndex",meta:{title:"Welcome",icon:"ep.home-filled",affixTab:!0,hideInBreadcrumb:!0},component:()=>ai(()=>import("./WelcomeTo-8756d6a5.aYtfXDEb.js"),__vite__mapDeps([42,1,2,3]))}]},{path:"/dashboard",name:"Dashboard",meta:{title:"Dashboard",icon:"ep.stopwatch",hideChildrenInMenu:!0},redirect:{name:"DashboardIndex"},component:()=>ai(()=>import("./basic-layout-c87db05f.8V9ZLwW0.js"),__vite__mapDeps([0,1,2,3,4])),children:[{path:"index",name:"DashboardIndex",meta:{title:"Dashboard",sort:2,icon:"ep.stopwatch",currentActiveMenu:"Dashboard",hideInBreadcrumb:!0,hideInMenu:!0},component:()=>ai(()=>import("./WelcomeTo-8756d6a5.aYtfXDEb.js"),__vite__mapDeps([42,1,2,3])),children:[]}]}],S4e=Object.freeze(Object.defineProperty({__proto__:null,default:_4e},Symbol.toStringTag,{value:"Module"})),C4e=[{path:"/hooks",name:"Hooks",meta:{title:"Hooks",sort:1,icon:"ep.home-filled"},redirect:{name:"UseDialog"},component:by,children:[{path:"use-dialog",name:"UseDialog",meta:{title:"useDialog",sort:1,icon:"ep.home-filled"},component:()=>ai(()=>import("./modal-e6b3f9ce.3cBveGKo.js"),__vite__mapDeps([43,1,2,3]))}]}],T4e=Object.freeze(Object.defineProperty({__proto__:null,default:C4e},Symbol.toStringTag,{value:"Module"})),M4e=[],k4e=Object.freeze(Object.defineProperty({__proto__:null,default:M4e},Symbol.toStringTag,{value:"Module"})),D4e=[{name:"OutPage",path:"/out-page",meta:{title:"外部页面",icon:"ep.link"},redirect:{name:"Iframe"},component:by,children:[{name:"OutLink",path:"out-link",meta:{title:"外链",href:"https://qsyjlab.github.io/vite-admin-vue/"},component:P2},{name:"Iframe",path:"iframe",meta:{isKeepAlive:!0,title:"iframe"},component:()=>ai(()=>import("./iframe-6b058708.gI8OZSIV.js"),__vite__mapDeps([44,1,2,3]))}]}],A4e=Object.freeze(Object.defineProperty({__proto__:null,default:D4e},Symbol.toStringTag,{value:"Module"})),E4e=[{name:"Plugins",path:"/plugins",meta:{title:"插件",sort:3,icon:"svg.plugin"},redirect:{name:"DayJs"},component:by,children:[{name:"DayJs",path:"dayjs",meta:{title:"DayJs",icon:"ep.timer"},component:()=>ai(()=>import("./DayJs-58f2ea87.AbwLRtwT.js"),__vite__mapDeps([45,1,2,3]))},{name:"CanvsToPdf",path:"canvs-to-pdf",meta:{title:"CanvsToPdf",icon:"ep.camera-filled"},component:()=>ai(()=>import("./CanvsToPdf-927d4378.Ngu24_2z.js"),__vite__mapDeps([46,1,34,2,3])).then(n=>n.C)}]}],O4e=Object.freeze(Object.defineProperty({__proto__:null,default:E4e},Symbol.toStringTag,{value:"Module"})),I4e=[{name:"System",path:"/system",meta:{title:"系统管理",sort:3,icon:"ep.setting"},redirect:{name:"SystemMenu"},component:by,children:[{name:"SystemMenu",path:"menu",meta:{title:"菜单管理",icon:"ep.timer"},component:()=>ai(()=>import("./menu-e6046c62.MguDw34S.js"),__vite__mapDeps([47,1,2,3]))}]}],R4e=Object.freeze(Object.defineProperty({__proto__:null,default:I4e},Symbol.toStringTag,{value:"Module"})),Die=Object.assign({"./modules/charts.ts":h4e,"./modules/components.ts":m4e,"./modules/docs.ts":v4e,"./modules/exception.ts":b4e,"./modules/features.ts":w4e,"./modules/home.ts":S4e,"./modules/hooks.ts":T4e,"./modules/icon.ts":k4e,"./modules/link.ts":A4e,"./modules/plugins.ts":O4e,"./modules/system.ts":R4e});function P4e(){const n=[];return Object.keys(Die).forEach(e=>{const t=Die[e].default,r=Array.isArray(t)?[...t]:[t];n.push(...r)}),n}const pZ=P4e(),bhe={path:"/:pathMatch(.*)",name:f4e,component:()=>ai(()=>import("./error-404-830ba0bf.TVWcx1fv.js"),__vite__mapDeps([23,1,2,3]))},N4e={path:c4e,name:l4e,meta:{title:"登录",isAuth:!1},component:()=>ai(()=>import("./login-f04f989c.cezkCWQ1.js"),__vite__mapDeps([48,2,1,3]))},L4e={path:"/error403",name:"Error403",meta:{title:"403"},component:()=>ai(()=>import("./error-403-4853ddff.9RUjgWbF.js"),__vite__mapDeps([24,1,2,3]))},B4e={path:"/error404",name:"Error404",meta:{title:"404"},component:()=>ai(()=>import("./error-404-830ba0bf.TVWcx1fv.js"),__vite__mapDeps([23,1,2,3]))},z4e={path:"/",name:"Root",redirect:"/welcome",meta:{title:"主系统",hideInBreadcrumb:!0}},F4e={path:"/redirect",component:by,name:"RedirectTo",meta:{title:oK,hideBreadcrumb:!0,hideMenu:!0,ignoreKeepAlive:!0},children:[{path:"/redirect/:path(.*)/:_redirect_type(.*)/:_origin_params(.*)?",name:oK,component:()=>ai(()=>import("./redirect-6964838b.no_Lz9Co.js"),__vite__mapDeps([49,1,2,3])),meta:{title:oK,ignoreKeepAlive:!0,hideBreadcrumb:!0}}]},wee=[z4e,N4e,L4e,B4e,bhe,F4e];function xhe(n,e=[]){return n.forEach(t=>{e.push(t.name),xhe(t.children||[],e)}),e}const V4e=xhe(wee);var _ee=(n=>(n.TopMix="TOP_MIX",n.Top="TOP",n.Side="SIDE",n.SideMix="SIDEMIX",n))(_ee||{});const mZ=yL({themeColor:"#1677FF",theme:"light",logo:"/logo.svg",defaultLayoutSetting:{layoutMode:_ee.Side,showBreadCrumb:!0,showBreadCrumbIcon:!0,showSettingButton:!0,showHeader:!0,headerHeight:48,asideMenuCollapsed:!1,asideWidth:220,showTagPage:!0,tabBarHeight:30,splitMenu:!0,showBackTop:!0,showFooter:!0,footerHeight:50},openLeavePagePrompt:!0,keepAliveCachePolicy:"normal",permissionMode:HV.ROUTE_MAPPING}),H4e=ML("permissionStoreKey",()=>{const n=Ao([]),e=Ao([]),t=a4e();t&&(n.value=t);function r(S){n.value=S,yhe(n.value)}function i(){return n.value}function u(S){e.value=S}function l(){const S=_=>_.filter(k=>{var E;const R=!((E=k.meta)!=null&&E.hideInMenu);return R&&k.children&&(k.children=S(k.children)),R});return e4e(S(qN(e.value)))}async function f(){whe();const S=await g();b(S),M3.addRoute(bhe)}function h(){}function g(){let S=[];if(mZ.permissionMode===HV.ROUTE_MAPPING)S=Woe(pZ,function(_){var k;const E=_.name;return!E||(k=_.meta)!=null&&k.ignoreAuth?!0:y(E)},{id:"name"});else if(mZ.permissionMode===HV.ROLE){let _=function(E){var R,I,z;const L=(I=(R=E.meta)==null?void 0:R.roles)==null?void 0:I.map(String);return(z=E.meta)!=null&&z.ignoreAuth?!0:k.roles?!L||L.length===0?!0:k.hasRole(L):!1};const k=$he();S=Woe(pZ,_,{id:"name"})}return u(QOe(S)),ZOe(S)}function y(S){return S?Array.isArray(S)?!!S.map(_=>n.value.includes(_)).find(_=>_):n.value.includes(S):!1}function b(S){S.forEach(_=>{M3.addRoute(_)})}return{permissions:n,getMenus:l,setPermissions:r,getPermissions:i,setFrontedMenuList:u,hasPermission:y,loadDynamicRoutes:f,resetPermissionRoutes:h}}),MT=new Map,Aie=n=>[n.method,n.url].join("&");class j4e{addPending(e){this.removePending(e);const t=Aie(e),r=new AbortController;e.signal=e.signal||r.signal,MT.has(t)||MT.set(t,r)}removeAllPending(){MT.forEach(e=>{e&&e.abort()}),this.reset()}removePending(e){const t=Aie(e);if(MT.has(t)){const r=MT.get(t);r&&r.abort(t),MT.delete(t)}}reset(){MT.clear()}}function W4e(n){return{all:n=n||new Map,on:function(e,t){var r=n.get(e);r?r.push(t):n.set(e,[t])},off:function(e,t){var r=n.get(e);r&&(t?r.splice(r.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var r=n.get(e);r&&r.slice().map(function(i){i(t)}),(r=n.get("*"))&&r.slice().map(function(i){i(e,t)})}}}she([...wee,...pZ],{});const Eie=Symbol("Route Listener"),EP={to:void 0,from:void 0,matched:[]},Oie=W4e();function IYe(n,e=!0){const t=r=>{n(r.to,r.from,r.matched)};return Oie.on(Eie,t),e&&EP.from&&EP.to&&n(EP.to,EP.from,EP.matched||[]),()=>{Oie.off(Eie,t)}}const M3=mhe(wee,{scrollBehavior:()=>({left:0,top:0,behavior:"smooth"})});function whe(){M3.getRoutes().forEach(n=>{const{name:e}=n;e&&!V4e.includes(e)&&M3.hasRoute(e)&&M3.removeRoute(e)})}function _he(n,e){return function(){return n.apply(e,arguments)}}const{toString:U4e}=Object.prototype,{getPrototypeOf:See}=Object,HH=(n=>e=>{const t=U4e.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),xy=n=>(n=n.toLowerCase(),e=>HH(e)===n),jH=n=>e=>typeof e===n,{isArray:s5}=Array,YN=jH("undefined");function q4e(n){return n!==null&&!YN(n)&&n.constructor!==null&&!YN(n.constructor)&&Ym(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const She=xy("ArrayBuffer");function $4e(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&She(n.buffer),e}const G4e=jH("string"),Ym=jH("function"),Che=jH("number"),WH=n=>n!==null&&typeof n=="object",X4e=n=>n===!0||n===!1,aV=n=>{if(HH(n)!=="object")return!1;const e=See(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Y4e=xy("Date"),K4e=xy("File"),J4e=xy("Blob"),Z4e=xy("FileList"),Q4e=n=>WH(n)&&Ym(n.pipe),eIe=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ym(n.append)&&((e=HH(n))==="formdata"||e==="object"&&Ym(n.toString)&&n.toString()==="[object FormData]"))},tIe=xy("URLSearchParams"),nIe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kL(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),s5(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const u=t?Object.getOwnPropertyNames(n):Object.keys(n),l=u.length;let f;for(r=0;r<l;r++)f=u[r],e.call(null,n[f],f,n)}}function The(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Mhe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,khe=n=>!YN(n)&&n!==Mhe;function gZ(){const{caseless:n}=khe(this)&&this||{},e={},t=(r,i)=>{const u=n&&The(e,i)||i;aV(e[u])&&aV(r)?e[u]=gZ(e[u],r):aV(r)?e[u]=gZ({},r):s5(r)?e[u]=r.slice():e[u]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&kL(arguments[r],t);return e}const rIe=(n,e,t,{allOwnKeys:r}={})=>(kL(e,(i,u)=>{t&&Ym(i)?n[u]=_he(i,t):n[u]=i},{allOwnKeys:r}),n),oIe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),iIe=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},aIe=(n,e,t,r)=>{let i,u,l;const f={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),u=i.length;u-- >0;)l=i[u],(!r||r(l,n,e))&&!f[l]&&(e[l]=n[l],f[l]=!0);n=t!==!1&&See(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},uIe=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},sIe=n=>{if(!n)return null;if(s5(n))return n;let e=n.length;if(!Che(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},lIe=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&See(Uint8Array)),cIe=(n,e)=>{const t=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=t.next())&&!r.done;){const i=r.value;e.call(n,i[0],i[1])}},fIe=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},dIe=xy("HTMLFormElement"),hIe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),Iie=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),pIe=xy("RegExp"),Dhe=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};kL(t,(i,u)=>{let l;(l=e(i,u,n))!==!1&&(r[u]=l||i)}),Object.defineProperties(n,r)},mIe=n=>{Dhe(n,(e,t)=>{if(Ym(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Ym(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},gIe=(n,e)=>{const t={},r=i=>{i.forEach(u=>{t[u]=!0})};return s5(n)?r(n):r(String(n).split(e)),t},vIe=()=>{},yIe=(n,e)=>(n=+n,Number.isFinite(n)?n:e),iK="abcdefghijklmnopqrstuvwxyz",Rie="0123456789",Ahe={DIGIT:Rie,ALPHA:iK,ALPHA_DIGIT:iK+iK.toUpperCase()+Rie},bIe=(n=16,e=Ahe.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function xIe(n){return!!(n&&Ym(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const wIe=n=>{const e=new Array(10),t=(r,i)=>{if(WH(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const u=s5(r)?[]:{};return kL(r,(l,f)=>{const h=t(l,i+1);!YN(h)&&(u[f]=h)}),e[i]=void 0,u}}return r};return t(n,0)},_Ie=xy("AsyncFunction"),SIe=n=>n&&(WH(n)||Ym(n))&&Ym(n.then)&&Ym(n.catch),Wn={isArray:s5,isArrayBuffer:She,isBuffer:q4e,isFormData:eIe,isArrayBufferView:$4e,isString:G4e,isNumber:Che,isBoolean:X4e,isObject:WH,isPlainObject:aV,isUndefined:YN,isDate:Y4e,isFile:K4e,isBlob:J4e,isRegExp:pIe,isFunction:Ym,isStream:Q4e,isURLSearchParams:tIe,isTypedArray:lIe,isFileList:Z4e,forEach:kL,merge:gZ,extend:rIe,trim:nIe,stripBOM:oIe,inherits:iIe,toFlatObject:aIe,kindOf:HH,kindOfTest:xy,endsWith:uIe,toArray:sIe,forEachEntry:cIe,matchAll:fIe,isHTMLForm:dIe,hasOwnProperty:Iie,hasOwnProp:Iie,reduceDescriptors:Dhe,freezeMethods:mIe,toObjectSet:gIe,toCamelCase:hIe,noop:vIe,toFiniteNumber:yIe,findKey:The,global:Mhe,isContextDefined:khe,ALPHABET:Ahe,generateString:bIe,isSpecCompliantForm:xIe,toJSONObject:wIe,isAsyncFn:_Ie,isThenable:SIe};function Ca(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}Wn.inherits(Ca,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ehe=Ca.prototype,Ohe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ohe[n]={value:n}});Object.defineProperties(Ca,Ohe);Object.defineProperty(Ehe,"isAxiosError",{value:!0});Ca.from=(n,e,t,r,i,u)=>{const l=Object.create(Ehe);return Wn.toFlatObject(n,l,function(f){return f!==Error.prototype},f=>f!=="isAxiosError"),Ca.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,u&&Object.assign(l,u),l};const CIe=null;function vZ(n){return Wn.isPlainObject(n)||Wn.isArray(n)}function Ihe(n){return Wn.endsWith(n,"[]")?n.slice(0,-2):n}function Pie(n,e,t){return n?n.concat(e).map(function(r,i){return r=Ihe(r),!t&&i?"["+r+"]":r}).join(t?".":""):e}function TIe(n){return Wn.isArray(n)&&!n.some(vZ)}const MIe=Wn.toFlatObject(Wn,{},null,function(n){return/^is[A-Z]/.test(n)});function UH(n,e,t){if(!Wn.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Wn.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,k){return!Wn.isUndefined(k[_])});const r=t.metaTokens,i=t.visitor||g,u=t.dots,l=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&Wn.isSpecCompliantForm(e);if(!Wn.isFunction(i))throw new TypeError("visitor must be a function");function h(_){if(_===null)return"";if(Wn.isDate(_))return _.toISOString();if(!f&&Wn.isBlob(_))throw new Ca("Blob is not supported. Use a Buffer instead.");return Wn.isArrayBuffer(_)||Wn.isTypedArray(_)?f&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function g(_,k,E){let R=_;if(_&&!E&&typeof _=="object"){if(Wn.endsWith(k,"{}"))k=r?k:k.slice(0,-2),_=JSON.stringify(_);else if(Wn.isArray(_)&&TIe(_)||(Wn.isFileList(_)||Wn.endsWith(k,"[]"))&&(R=Wn.toArray(_)))return k=Ihe(k),R.forEach(function(I,z){!(Wn.isUndefined(I)||I===null)&&e.append(l===!0?Pie([k],z,u):l===null?k:k+"[]",h(I))}),!1}return vZ(_)?!0:(e.append(Pie(E,k,u),h(_)),!1)}const y=[],b=Object.assign(MIe,{defaultVisitor:g,convertValue:h,isVisitable:vZ});function S(_,k){if(!Wn.isUndefined(_)){if(y.indexOf(_)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(_),Wn.forEach(_,function(E,R){(!(Wn.isUndefined(E)||E===null)&&i.call(e,E,Wn.isString(R)?R.trim():R,k,b))===!0&&S(E,k?k.concat(R):[R])}),y.pop()}}if(!Wn.isObject(n))throw new TypeError("data must be an object");return S(n),e}function Nie(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function Cee(n,e){this._pairs=[],n&&UH(n,this,e)}const Rhe=Cee.prototype;Rhe.append=function(n,e){this._pairs.push([n,e])};Rhe.toString=function(n){const e=n?function(t){return n.call(this,t,Nie)}:Nie;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};function kIe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Phe(n,e,t){if(!e)return n;const r=t&&t.encode||kIe,i=t&&t.serialize;let u;if(i?u=i(e,t):u=Wn.isURLSearchParams(e)?e.toString():new Cee(e,t).toString(r),u){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class DIe{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Wn.forEach(this.handlers,function(t){t!==null&&e(t)})}}const Lie=DIe,Nhe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AIe=typeof URLSearchParams<"u"?URLSearchParams:Cee,EIe=typeof FormData<"u"?FormData:null,OIe=typeof Blob<"u"?Blob:null,IIe=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),RIe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",_v={isBrowser:!0,classes:{URLSearchParams:AIe,FormData:EIe,Blob:OIe},isStandardBrowserEnv:IIe,isStandardBrowserWebWorkerEnv:RIe,protocols:["http","https","file","blob","url","data"]};function PIe(n,e){return UH(n,new _v.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,u){return _v.isNode&&Wn.isBuffer(t)?(this.append(r,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function NIe(n){return Wn.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function LIe(n){const e={},t=Object.keys(n);let r;const i=t.length;let u;for(r=0;r<i;r++)u=t[r],e[u]=n[u];return e}function Lhe(n){function e(t,r,i,u){let l=t[u++];const f=Number.isFinite(+l),h=u>=t.length;return l=!l&&Wn.isArray(i)?i.length:l,h?(Wn.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!f):((!i[l]||!Wn.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],u)&&Wn.isArray(i[l])&&(i[l]=LIe(i[l])),!f)}if(Wn.isFormData(n)&&Wn.isFunction(n.entries)){const t={};return Wn.forEachEntry(n,(r,i)=>{e(NIe(r),i,t,0)}),t}return null}function BIe(n,e,t){if(Wn.isString(n))try{return(e||JSON.parse)(n),Wn.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Tee={transitional:Nhe,adapter:_v.isNode?"http":"xhr",transformRequest:[function(n,e){const t=e.getContentType()||"",r=t.indexOf("application/json")>-1,i=Wn.isObject(n);if(i&&Wn.isHTMLForm(n)&&(n=new FormData(n)),Wn.isFormData(n))return r&&r?JSON.stringify(Lhe(n)):n;if(Wn.isArrayBuffer(n)||Wn.isBuffer(n)||Wn.isStream(n)||Wn.isFile(n)||Wn.isBlob(n))return n;if(Wn.isArrayBufferView(n))return n.buffer;if(Wn.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let u;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return PIe(n,this.formSerializer).toString();if((u=Wn.isFileList(n))||t.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return UH(u?{"files[]":n}:n,l&&new l,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),BIe(n)):n}],transformResponse:[function(n){const e=this.transitional||Tee.transitional,t=e&&e.forcedJSONParsing,r=this.responseType==="json";if(n&&Wn.isString(n)&&(t&&!this.responseType||r)){const i=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(n)}catch(u){if(i)throw u.name==="SyntaxError"?Ca.from(u,Ca.ERR_BAD_RESPONSE,this,null,this.response):u}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_v.classes.FormData,Blob:_v.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Wn.forEach(["delete","get","head","post","put","patch"],n=>{Tee.headers[n]={}});const Mee=Tee,zIe=Wn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FIe=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&zIe[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Bie=Symbol("internals");function OP(n){return n&&String(n).trim().toLowerCase()}function uV(n){return n===!1||n==null?n:Wn.isArray(n)?n.map(uV):String(n)}function VIe(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const HIe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function aK(n,e,t,r,i){if(Wn.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Wn.isString(e)){if(Wn.isString(r))return e.indexOf(r)!==-1;if(Wn.isRegExp(r))return r.test(e)}}function jIe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function WIe(n,e){const t=Wn.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,u,l){return this[r].call(this,e,i,u,l)},configurable:!0})})}class qH{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function u(f,h,g){const y=OP(h);if(!y)throw new Error("header name must be a non-empty string");const b=Wn.findKey(i,y);(!b||i[b]===void 0||g===!0||g===void 0&&i[b]!==!1)&&(i[b||h]=uV(f))}const l=(f,h)=>Wn.forEach(f,(g,y)=>u(g,y,h));return Wn.isPlainObject(e)||e instanceof this.constructor?l(e,t):Wn.isString(e)&&(e=e.trim())&&!HIe(e)?l(FIe(e),t):e!=null&&u(t,e,r),this}get(e,t){if(e=OP(e),e){const r=Wn.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return VIe(i);if(Wn.isFunction(t))return t.call(this,i,r);if(Wn.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=OP(e),e){const r=Wn.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||aK(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function u(l){if(l=OP(l),l){const f=Wn.findKey(r,l);f&&(!t||aK(r,r[f],f,t))&&(delete r[f],i=!0)}}return Wn.isArray(e)?e.forEach(u):u(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const u=t[r];(!e||aK(this,this[u],u,e,!0))&&(delete this[u],i=!0)}return i}normalize(e){const t=this,r={};return Wn.forEach(this,(i,u)=>{const l=Wn.findKey(r,u);if(l){t[l]=uV(i),delete t[u];return}const f=e?jIe(u):String(u).trim();f!==u&&delete t[u],t[f]=uV(i),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Wn.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Wn.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const t=(this[Bie]=this[Bie]={accessors:{}}).accessors,r=this.prototype;function i(u){const l=OP(u);t[l]||(WIe(r,u),t[l]=!0)}return Wn.isArray(e)?e.forEach(i):i(e),this}}qH.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Wn.reduceDescriptors(qH.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Wn.freezeMethods(qH);const kb=qH;function uK(n,e){const t=this||Mee,r=e||t,i=kb.from(r.headers);let u=r.data;return Wn.forEach(n,function(l){u=l.call(t,u,i.normalize(),e?e.status:void 0)}),i.normalize(),u}function Bhe(n){return!!(n&&n.__CANCEL__)}function DL(n,e,t){Ca.call(this,n??"canceled",Ca.ERR_CANCELED,e,t),this.name="CanceledError"}Wn.inherits(DL,Ca,{__CANCEL__:!0});function UIe(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ca("Request failed with status code "+t.status,[Ca.ERR_BAD_REQUEST,Ca.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const qIe=_v.isStandardBrowserEnv?function(){return{write:function(n,e,t,r,i,u){const l=[];l.push(n+"="+encodeURIComponent(e)),Wn.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),Wn.isString(r)&&l.push("path="+r),Wn.isString(i)&&l.push("domain="+i),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function $Ie(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function GIe(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function zhe(n,e){return n&&!$Ie(e)?GIe(n,e):e}const XIe=_v.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let t;function r(i){let u=i;return n&&(e.setAttribute("href",u),u=e.href),e.setAttribute("href",u),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return t=r(window.location.href),function(i){const u=Wn.isString(i)?r(i):i;return u.protocol===t.protocol&&u.host===t.host}}():function(){return function(){return!0}}();function YIe(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function KIe(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,u=0,l;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),g=r[u];l||(l=h),t[i]=f,r[i]=h;let y=u,b=0;for(;y!==i;)b+=t[y++],y=y%n;if(i=(i+1)%n,i===u&&(u=(u+1)%n),h-l<e)return;const S=g&&h-g;return S?Math.round(b*1e3/S):void 0}}function zie(n,e){let t=0;const r=KIe(50,250);return i=>{const u=i.loaded,l=i.lengthComputable?i.total:void 0,f=u-t,h=r(f),g=u<=l;t=u;const y={loaded:u,total:l,progress:l?u/l:void 0,bytes:f,rate:h||void 0,estimated:h&&l&&g?(l-u)/h:void 0,event:i};y[e?"download":"upload"]=!0,n(y)}}const JIe=typeof XMLHttpRequest<"u",ZIe=JIe&&function(n){return new Promise(function(e,t){let r=n.data;const i=kb.from(n.headers).normalize(),u=n.responseType;let l;function f(){n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}Wn.isFormData(r)&&(_v.isStandardBrowserEnv||_v.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let h=new XMLHttpRequest;if(n.auth){const S=n.auth.username||"",_=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";i.set("Authorization","Basic "+btoa(S+":"+_))}const g=zhe(n.baseURL,n.url);h.open(n.method.toUpperCase(),Phe(g,n.params,n.paramsSerializer),!0),h.timeout=n.timeout;function y(){if(!h)return;const S=kb.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!u||u==="text"||u==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:S,config:n,request:h};UIe(function(k){e(k),f()},function(k){t(k),f()},_),h=null}if("onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(t(new Ca("Request aborted",Ca.ECONNABORTED,n,h)),h=null)},h.onerror=function(){t(new Ca("Network Error",Ca.ERR_NETWORK,n,h)),h=null},h.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||Nhe;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),t(new Ca(S,_.clarifyTimeoutError?Ca.ETIMEDOUT:Ca.ECONNABORTED,n,h)),h=null},_v.isStandardBrowserEnv){const S=(n.withCredentials||XIe(g))&&n.xsrfCookieName&&qIe.read(n.xsrfCookieName);S&&i.set(n.xsrfHeaderName,S)}r===void 0&&i.setContentType(null),"setRequestHeader"in h&&Wn.forEach(i.toJSON(),function(S,_){h.setRequestHeader(_,S)}),Wn.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),u&&u!=="json"&&(h.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&h.addEventListener("progress",zie(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",zie(n.onUploadProgress)),(n.cancelToken||n.signal)&&(l=S=>{h&&(t(!S||S.type?new DL(null,n,h):S),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const b=YIe(g);if(b&&_v.protocols.indexOf(b)===-1){t(new Ca("Unsupported protocol "+b+":",Ca.ERR_BAD_REQUEST,n));return}h.send(r||null)})},sV={http:CIe,xhr:ZIe};Wn.forEach(sV,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Fhe={getAdapter:n=>{n=Wn.isArray(n)?n:[n];const{length:e}=n;let t,r;for(let i=0;i<e&&(t=n[i],!(r=Wn.isString(t)?sV[t.toLowerCase()]:t));i++);if(!r)throw r===!1?new Ca(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Wn.hasOwnProp(sV,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!Wn.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:sV};function sK(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new DL(null,n)}function Fie(n){return sK(n),n.headers=kb.from(n.headers),n.data=uK.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Fhe.getAdapter(n.adapter||Mee.adapter)(n).then(function(e){return sK(n),e.data=uK.call(n,n.transformResponse,e),e.headers=kb.from(e.headers),e},function(e){return Bhe(e)||(sK(n),e&&e.response&&(e.response.data=uK.call(n,n.transformResponse,e.response),e.response.headers=kb.from(e.response.headers))),Promise.reject(e)})}const Vie=n=>n instanceof kb?n.toJSON():n;function q3(n,e){e=e||{};const t={};function r(g,y,b){return Wn.isPlainObject(g)&&Wn.isPlainObject(y)?Wn.merge.call({caseless:b},g,y):Wn.isPlainObject(y)?Wn.merge({},y):Wn.isArray(y)?y.slice():y}function i(g,y,b){if(Wn.isUndefined(y)){if(!Wn.isUndefined(g))return r(void 0,g,b)}else return r(g,y,b)}function u(g,y){if(!Wn.isUndefined(y))return r(void 0,y)}function l(g,y){if(Wn.isUndefined(y)){if(!Wn.isUndefined(g))return r(void 0,g)}else return r(void 0,y)}function f(g,y,b){if(b in e)return r(g,y);if(b in n)return r(void 0,g)}const h={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f,headers:(g,y)=>i(Vie(g),Vie(y),!0)};return Wn.forEach(Object.keys(Object.assign({},n,e)),function(g){const y=h[g]||i,b=y(n[g],e[g],g);Wn.isUndefined(b)&&y!==f||(t[g]=b)}),t}const Vhe="1.5.0",kee={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{kee[n]=function(t){return typeof t===n||"a"+(e<1?"n ":" ")+n}});const Hie={};kee.transitional=function(n,e,t){function r(i,u){return"[Axios v"+Vhe+"] Transitional option '"+i+"'"+u+(t?". "+t:"")}return(i,u,l)=>{if(n===!1)throw new Ca(r(u," has been removed"+(e?" in "+e:"")),Ca.ERR_DEPRECATED);return e&&!Hie[u]&&(Hie[u]=!0,console.warn(r(u," has been deprecated since v"+e+" and will be removed in the near future"))),n?n(i,u,l):!0}};function QIe(n,e,t){if(typeof n!="object")throw new Ca("options must be an object",Ca.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const u=r[i],l=e[u];if(l){const f=n[u],h=f===void 0||l(f,u,n);if(h!==!0)throw new Ca("option "+u+" must be "+h,Ca.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ca("Unknown option "+u,Ca.ERR_BAD_OPTION)}}const yZ={assertOptions:QIe,validators:kee},m2=yZ.validators;class jV{constructor(e){this.defaults=e,this.interceptors={request:new Lie,response:new Lie}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=q3(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:u}=t;r!==void 0&&yZ.assertOptions(r,{silentJSONParsing:m2.transitional(m2.boolean),forcedJSONParsing:m2.transitional(m2.boolean),clarifyTimeoutError:m2.transitional(m2.boolean)},!1),i!=null&&(Wn.isFunction(i)?t.paramsSerializer={serialize:i}:yZ.assertOptions(i,{encode:m2.function,serialize:m2.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=u&&Wn.merge(u.common,u[t.method]);u&&Wn.forEach(["delete","get","head","post","put","patch","common"],k=>{delete u[k]}),t.headers=kb.concat(l,u);const f=[];let h=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(h=h&&k.synchronous,f.unshift(k.fulfilled,k.rejected))});const g=[];this.interceptors.response.forEach(function(k){g.push(k.fulfilled,k.rejected)});let y,b=0,S;if(!h){const k=[Fie.bind(this),void 0];for(k.unshift.apply(k,f),k.push.apply(k,g),S=k.length,y=Promise.resolve(t);b<S;)y=y.then(k[b++],k[b++]);return y}S=f.length;let _=t;for(b=0;b<S;){const k=f[b++],E=f[b++];try{_=k(_)}catch(R){E.call(this,R);break}}try{y=Fie.call(this,_)}catch(k){return Promise.reject(k)}for(b=0,S=g.length;b<S;)y=y.then(g[b++],g[b++]);return y}getUri(e){e=q3(this.defaults,e);const t=zhe(e.baseURL,e.url);return Phe(t,e.params,e.paramsSerializer)}}Wn.forEach(["delete","get","head","options"],function(n){jV.prototype[n]=function(e,t){return this.request(q3(t||{},{method:n,url:e,data:(t||{}).data}))}});Wn.forEach(["post","put","patch"],function(n){function e(t){return function(r,i,u){return this.request(q3(u||{},{method:n,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}jV.prototype[n]=e(),jV.prototype[n+"Form"]=e(!0)});const lV=jV;class Dee{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](i);r._listeners=null}),this.promise.then=i=>{let u;const l=new Promise(f=>{r.subscribe(f),u=f}).then(i);return l.cancel=function(){r.unsubscribe(u)},l},e(function(i,u,l){r.reason||(r.reason=new DL(i,u,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Dee(function(t){e=t}),cancel:e}}}const eRe=Dee;function tRe(n){return function(e){return n.apply(null,e)}}function nRe(n){return Wn.isObject(n)&&n.isAxiosError===!0}const bZ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bZ).forEach(([n,e])=>{bZ[e]=n});const rRe=bZ;function Hhe(n){const e=new lV(n),t=_he(lV.prototype.request,e);return Wn.extend(t,lV.prototype,e,{allOwnKeys:!0}),Wn.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return Hhe(q3(n,r))},t}const Hl=Hhe(Mee);Hl.Axios=lV;Hl.CanceledError=DL;Hl.CancelToken=eRe;Hl.isCancel=Bhe;Hl.VERSION=Vhe;Hl.toFormData=UH;Hl.AxiosError=Ca;Hl.Cancel=Hl.CanceledError;Hl.all=function(n){return Promise.all(n)};Hl.spread=tRe;Hl.isAxiosError=nRe;Hl.mergeConfig=q3;Hl.AxiosHeaders=kb;Hl.formToJSON=n=>Lhe(Wn.isHTMLForm(n)?new FormData(n):n);Hl.getAdapter=Fhe.getAdapter;Hl.HttpStatusCode=rRe;Hl.default=Hl;const Aee=Hl;class oRe{constructor(e){S3(this,"instanceConfig",{}),S3(this,"instance"),S3(this,"canceler",new j4e),this.instanceConfig=Foe({},e),this.instance=Aee.create(this.instanceConfig),Object.defineProperties(this,{instanceConfig:{writable:!1},instance:{writable:!1,enumerable:!1},canceler:{writable:!1,enumerable:!1,configurable:!1}}),this.registerInterceptors()}request(e={},t={}){return new Promise((r,i)=>{const{ignoreTransformResponse:u=!1,ignoreTransformRequest:l=!1,ignoreCancelRequest:f=!1}=t,{transformResponse:h,transformRequest:g,requestCatch:y}=this.instanceConfig.transform||{};let b=Foe(Qfe(this.instanceConfig,["transform","interceptorHooks"]),e);!l&&g&&Tb(g)&&(b=g(b)),f||this.canceler.addPending(b),this.instance.request(b).then(S=>{if(!u&&h&&Tb(h))try{const _=h(S,t);r(_)}catch(_){i(_)}r(S.data)}).catch(S=>{if(y&&Tb(y))return i(y(S,t));i(S)})})}uploadFile(e,t){const r=new FormData,i=e.name||"file";return r.append(i,e.file),e.data&&Object.keys(e.data).forEach(u=>{var l,f;const h=(l=e.data)==null?void 0:l[u];if(Array.isArray(h)){h.forEach(g=>{r.append(`${u}[]`,g)});return}r.append(u,(f=e.data)==null?void 0:f[u])}),this.request({...t,method:"POST",data:r})}registerInterceptors(){const{requestInterceptor:e,requestInterceptorCatch:t,responseInterceptor:r,responseInterceptorCatch:i}=this.instanceConfig.interceptorHooks||{};this.instance.interceptors.request.use(e,u=>(t==null?void 0:t(u,this))??u),this.instance.interceptors.response.use(r,u=>(i==null?void 0:i(u,this))??u)}}function xZ(n){return Aee.isCancel(n)}function iRe(n){return Aee.isAxiosError(n)}const aRe="服务器错误";var yb=(n=>(n[n.SUCCESS=200]="SUCCESS",n[n.BAD_REQUEST=400]="BAD_REQUEST",n[n.UNAUTHORIZED=401]="UNAUTHORIZED",n[n.FORBIDDEN=403]="FORBIDDEN",n[n.NOT_FOUND=404]="NOT_FOUND",n[n.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",n[n.BAD_GATEWAY=502]="BAD_GATEWAY",n[n.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",n))(yb||{});function Eee(n){hSe({message:n||aRe,grouping:!0,type:"error"})}function uRe(n){let e="";switch(n){case yb.BAD_REQUEST:e="请求语法错误，服务器无法理解";break;case yb.UNAUTHORIZED:e="请求需要用户身份认证",$he().loginOutSystem();break;case yb.FORBIDDEN:e="资源禁止访问";break;case yb.NOT_FOUND:e="请求的资源不存在";break;case yb.INTERNAL_SERVER_ERROR:e="服务器内部错误";break;case yb.BAD_GATEWAY:e="网关错误";break;case yb.SERVICE_UNAVAILABLE:e="服务器当前无法处理请求";break;default:e="服务器内部错误"}Eee(e)}const sRe=n=>n,lRe=n=>Promise.reject(n),cRe=n=>n,fRe=async n=>(xZ(n),Promise.reject(n)),jhe=(n,e)=>{var t,r,i;const{ignoreResponseErrorMessage:u=!1}=e,{data:l}=n,{code:f,message:h=""}=l||{};switch(f){case yb.SUCCESS:return l;default:{const g={message:h||"服务器错误",code:f||-1,data:null};throw!u&&Eee(g.message),console.error("[AxiosRequest error]:",`${(r=(t=n==null?void 0:n.config)==null?void 0:t.method)==null?void 0:r.toUpperCase()} ${(i=n==null?void 0:n.request)==null?void 0:i.responseURL} ${g.code} (${g.message})`),g}}},Whe=(n,e)=>{var t;const{ignoreErrorMessage:r=!1}=e;return xZ(n)?n:iRe(n)?(uRe(Number((t=n.response)==null?void 0:t.status)),n):(!r&&!xZ(n)&&Eee(n.message),n)},Uhe={requestInterceptor:sRe,requestInterceptorCatch:lRe,responseInterceptor:cRe,responseInterceptorCatch:fRe};class qhe extends oRe{constructor(e){super(e)}request(e,t){return super.request(e,t)}}const dRe=new qhe({interceptorHooks:Uhe,baseURL:"/basic-api",transform:{transformResponse:jhe,requestCatch:Whe}});new qhe({interceptorHooks:Uhe,baseURL:vhe.baseApiUrl,transform:{transformResponse:jhe,requestCatch:Whe}});function hRe(n){return dRe.request({url:"/login",method:"post",data:n})}const pRe="userStoreKey",$he=ML(pRe,{state(){return{initialized:!1,userInfo:{userId:"",userName:""},token:"",permissions:[],roles:[]}},actions:{setInitialized(n){this.initialized=n},setUserInfo(n){this.userInfo=n,o4e(this.userInfo)},setPermissions(n){this.permissions=n,yhe(n)},setRoles(n){this.roles=n},hasRole(n){return n?Array.isArray(n)?n.map(String).some(e=>this.roles.map(String).includes(String(e))):this.roles.map(String).includes(String(n)):!1},setToken(n){n&&(this.token=n,i4e(n))},async loginAfterInitialize(n){this.setInitialized(!1),this.setToken(n.token),this.setUserInfo({userId:n.userId,userName:n.username});const e=H4e();e.setPermissions(n.permissions),await e.loadDynamicRoutes(),this.setInitialized(!0)},loginSystem(n){return hRe(n).then(async e=>(e.data&&this.loginAfterInitialize(e.data),e))},loginOutSystem(){s4e(),whe(),this.setInitialized(!1)}}}),mRe="Layout",RYe=ML(mRe,{state(){return{layoutConfig:{layoutMode:_ee.Side,collapsed:!1,asideWidth:220,tabBarHeight:30,headerHeight:48,theme:"light",themeColor:"#1677FF",splitMenu:!0,footerHeight:56},mixMenuLayoutConfig:{fixedMenu:!1,showChildren:!1},isOpenSettig:!1}},actions:{setLayoutConfig(n){this.layoutConfig={...this.layoutConfig,...n},u4e(this.layoutConfig)},setMixMenuLayoutConfig(n){this.mixMenuLayoutConfig={...this.mixMenuLayoutConfig,...n}},toggleSettingDrawer(){this.isOpenSettig=!this.isOpenSettig},setMixMenuFixed(n){this.mixMenuLayoutConfig.fixedMenu=n}}});function oF(n){return n.meta.affixTab}function gRe(n){return{name:n.name,fullPath:n.fullPath,meta:n.meta,query:n.query,params:n.params}}const PYe=ML("tab-page",()=>{const n=Ao(new Set),e=Ao([]),t=Ao(null),r=Ao([]),i=No(()=>Array.from(n.value)),u=No(()=>e.value),l=No(()=>t.value),f=No(()=>r.value);function h(q){if(q.meta.hideInTab)return;const X=gRe(q),Y=io(e);Y.length===0?Y.push(X):Y.find(ae=>ae.name===X.name&&ae.fullPath===X.fullPath)||Y.push(X),I(),t.value=X}function g(q,X){var Y;const ae=X||t.value;if(!ae)return;const te=u.value.find(ie=>ae.fullPath===ie.fullPath);te&&(te.meta.title=(Y=q.meta)==null?void 0:Y.title,I())}function y(q){e.value[q].meta.affixTab||(e.value.splice(q,1),I(),L())}function b(){E(),t.value=null,I(),L()}function S(){E(),t.value&&!oF(t.value)&&e.value.push(t.value)}function _(q){let X=q!==void 0&&q>=0?q:e.value.findIndex(Y=>{var ae;return Y.fullPath===((ae=t.value)==null?void 0:ae.fullPath)});if(X!==-1)for(let Y=0;Y<X;Y++)oF(e.value[Y])||(e.value.splice(Y,1),Y--,X--)}function k(){if(!e.value.length)return;const q=e.value.findIndex(X=>{var Y;return X.fullPath===((Y=t.value)==null?void 0:Y.fullPath)});if(q!==-1)for(let X=e.value.length-1;X>q;X--)oF(e.value[X])||e.value.splice(X,1)}function E(){e.value=e.value.filter(q=>q.meta.affixTab)}function R(q){M3.push({path:q.fullPath}),t.value=q}function I(){if(mZ.keepAliveCachePolicy!=="tab")return;const q=e.value.filter(X=>X.meta.ignoreKeepAlive).map(X=>X.name);n.value.clear(),q.forEach(X=>{z(X)})}function z(q){n.value.add(q)}function L(){const q=e.value.length-1;q<0||(t.value=e.value[q],R(t.value))}return{isAffixTab:oF,addTabPage:h,removeTabPage:y,removeAllTabPage:b,removeOhterTabPages:S,removeLeftAllTabPages:_,removeRightAllTabPages:k,updateTabPage:g,addKeepAlive:z,goTabPage:R,getTabPages:u,getAffixTabsList:f,getKeepAliveCache:i,getCurrentActivityTabPage:l}});var Ghe={exports:{}},vRe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Xhe={exports:{}},yRe=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")},bRe=yRe,xRe=Array.prototype.concat,wRe=Array.prototype.slice,jie=Xhe.exports=function(n){for(var e=[],t=0,r=n.length;t<r;t++){var i=n[t];bRe(i)?e=xRe.call(e,wRe.call(i)):e.push(i)}return e};jie.wrap=function(n){return function(){return n(jie(arguments))}};var _Re=Xhe.exports,AN=vRe,AL=_Re,Yhe=Object.hasOwnProperty,Khe=Object.create(null);for(var lK in AN)Yhe.call(AN,lK)&&(Khe[AN[lK]]=lK);var Tp=Ghe.exports={to:{},get:{}};Tp.get=function(n){var e=n.substring(0,3).toLowerCase(),t,r;switch(e){case"hsl":t=Tp.get.hsl(n),r="hsl";break;case"hwb":t=Tp.get.hwb(n),r="hwb";break;default:t=Tp.get.rgb(n),r="rgb";break}return t?{model:r,value:t}:null};Tp.get.rgb=function(n){if(!n)return null;var e=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,u=/^(\w+)$/,l=[0,0,0,1],f,h,g;if(f=n.match(t)){for(g=f[2],f=f[1],h=0;h<3;h++){var y=h*2;l[h]=parseInt(f.slice(y,y+2),16)}g&&(l[3]=parseInt(g,16)/255)}else if(f=n.match(e)){for(f=f[1],g=f[3],h=0;h<3;h++)l[h]=parseInt(f[h]+f[h],16);g&&(l[3]=parseInt(g+g,16)/255)}else if(f=n.match(r)){for(h=0;h<3;h++)l[h]=parseInt(f[h+1],0);f[4]&&(f[5]?l[3]=parseFloat(f[4])*.01:l[3]=parseFloat(f[4]))}else if(f=n.match(i)){for(h=0;h<3;h++)l[h]=Math.round(parseFloat(f[h+1])*2.55);f[4]&&(f[5]?l[3]=parseFloat(f[4])*.01:l[3]=parseFloat(f[4]))}else return(f=n.match(u))?f[1]==="transparent"?[0,0,0,0]:Yhe.call(AN,f[1])?(l=AN[f[1]],l[3]=1,l):null:null;for(h=0;h<3;h++)l[h]=U2(l[h],0,255);return l[3]=U2(l[3],0,1),l};Tp.get.hsl=function(n){if(!n)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,u=U2(parseFloat(t[2]),0,100),l=U2(parseFloat(t[3]),0,100),f=U2(isNaN(r)?1:r,0,1);return[i,u,l,f]}return null};Tp.get.hwb=function(n){if(!n)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,u=U2(parseFloat(t[2]),0,100),l=U2(parseFloat(t[3]),0,100),f=U2(isNaN(r)?1:r,0,1);return[i,u,l,f]}return null};Tp.to.hex=function(){var n=AL(arguments);return"#"+iF(n[0])+iF(n[1])+iF(n[2])+(n[3]<1?iF(Math.round(n[3]*255)):"")};Tp.to.rgb=function(){var n=AL(arguments);return n.length<4||n[3]===1?"rgb("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+")":"rgba("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+", "+n[3]+")"};Tp.to.rgb.percent=function(){var n=AL(arguments),e=Math.round(n[0]/255*100),t=Math.round(n[1]/255*100),r=Math.round(n[2]/255*100);return n.length<4||n[3]===1?"rgb("+e+"%, "+t+"%, "+r+"%)":"rgba("+e+"%, "+t+"%, "+r+"%, "+n[3]+")"};Tp.to.hsl=function(){var n=AL(arguments);return n.length<4||n[3]===1?"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)":"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+n[3]+")"};Tp.to.hwb=function(){var n=AL(arguments),e="";return n.length>=4&&n[3]!==1&&(e=", "+n[3]),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+e+")"};Tp.to.keyword=function(n){return Khe[n.slice(0,3)]};function U2(n,e,t){return Math.min(Math.max(e,n),t)}function iF(n){var e=Math.round(n).toString(16).toUpperCase();return e.length<2?"0"+e:e}var SRe=Ghe.exports,Jhe={exports:{}},CRe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},cM=CRe,Zhe={};for(var cK in cM)cM.hasOwnProperty(cK)&&(Zhe[cM[cK]]=cK);var mo=Jhe.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var gh in mo)if(mo.hasOwnProperty(gh)){if(!("channels"in mo[gh]))throw new Error("missing channels property: "+gh);if(!("labels"in mo[gh]))throw new Error("missing channel labels property: "+gh);if(mo[gh].labels.length!==mo[gh].channels)throw new Error("channel and label counts mismatch: "+gh);var TRe=mo[gh].channels,MRe=mo[gh].labels;delete mo[gh].channels,delete mo[gh].labels,Object.defineProperty(mo[gh],"channels",{value:TRe}),Object.defineProperty(mo[gh],"labels",{value:MRe})}mo.rgb.hsl=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),u=Math.max(e,t,r),l=u-i,f,h,g;return u===i?f=0:e===u?f=(t-r)/l:t===u?f=2+(r-e)/l:r===u&&(f=4+(e-t)/l),f=Math.min(f*60,360),f<0&&(f+=360),g=(i+u)/2,u===i?h=0:g<=.5?h=l/(u+i):h=l/(2-u-i),[f,h*100,g*100]};mo.rgb.hsv=function(n){var e,t,r,i,u,l=n[0]/255,f=n[1]/255,h=n[2]/255,g=Math.max(l,f,h),y=g-Math.min(l,f,h),b=function(S){return(g-S)/6/y+1/2};return y===0?i=u=0:(u=y/g,e=b(l),t=b(f),r=b(h),l===g?i=r-t:f===g?i=1/3+e-r:h===g&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)),[i*360,u*100,g*100]};mo.rgb.hwb=function(n){var e=n[0],t=n[1],r=n[2],i=mo.rgb.hsl(n)[0],u=1/255*Math.min(e,Math.min(t,r));return r=1-1/255*Math.max(e,Math.max(t,r)),[i,u*100,r*100]};mo.rgb.cmyk=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i,u,l,f;return f=Math.min(1-e,1-t,1-r),i=(1-e-f)/(1-f)||0,u=(1-t-f)/(1-f)||0,l=(1-r-f)/(1-f)||0,[i*100,u*100,l*100,f*100]};function kRe(n,e){return Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2)}mo.rgb.keyword=function(n){var e=Zhe[n];if(e)return e;var t=1/0,r;for(var i in cM)if(cM.hasOwnProperty(i)){var u=cM[i],l=kRe(n,u);l<t&&(t=l,r=i)}return r};mo.keyword.rgb=function(n){return cM[n]};mo.rgb.xyz=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var i=e*.4124+t*.3576+r*.1805,u=e*.2126+t*.7152+r*.0722,l=e*.0193+t*.1192+r*.9505;return[i*100,u*100,l*100]};mo.rgb.lab=function(n){var e=mo.rgb.xyz(n),t=e[0],r=e[1],i=e[2],u,l,f;return t/=95.047,r/=100,i/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,u=116*r-16,l=500*(t-r),f=200*(r-i),[u,l,f]};mo.hsl.rgb=function(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100,i,u,l,f,h;if(t===0)return h=r*255,[h,h,h];r<.5?u=r*(1+t):u=r+t-r*t,i=2*r-u,f=[0,0,0];for(var g=0;g<3;g++)l=e+1/3*-(g-1),l<0&&l++,l>1&&l--,6*l<1?h=i+(u-i)*6*l:2*l<1?h=u:3*l<2?h=i+(u-i)*(2/3-l)*6:h=i,f[g]=h*255;return f};mo.hsl.hsv=function(n){var e=n[0],t=n[1]/100,r=n[2]/100,i=t,u=Math.max(r,.01),l,f;return r*=2,t*=r<=1?r:2-r,i*=u<=1?u:2-u,f=(r+t)/2,l=r===0?2*i/(u+i):2*t/(r+t),[e,l*100,f*100]};mo.hsv.rgb=function(n){var e=n[0]/60,t=n[1]/100,r=n[2]/100,i=Math.floor(e)%6,u=e-Math.floor(e),l=255*r*(1-t),f=255*r*(1-t*u),h=255*r*(1-t*(1-u));switch(r*=255,i){case 0:return[r,h,l];case 1:return[f,r,l];case 2:return[l,r,h];case 3:return[l,f,r];case 4:return[h,l,r];case 5:return[r,l,f]}};mo.hsv.hsl=function(n){var e=n[0],t=n[1]/100,r=n[2]/100,i=Math.max(r,.01),u,l,f;return f=(2-t)*r,u=(2-t)*i,l=t*i,l/=u<=1?u:2-u,l=l||0,f/=2,[e,l*100,f*100]};mo.hwb.rgb=function(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100,i=t+r,u,l,f,h;i>1&&(t/=i,r/=i),u=Math.floor(6*e),l=1-r,f=6*e-u,u&1&&(f=1-f),h=t+f*(l-t);var g,y,b;switch(u){default:case 6:case 0:g=l,y=h,b=t;break;case 1:g=h,y=l,b=t;break;case 2:g=t,y=l,b=h;break;case 3:g=t,y=h,b=l;break;case 4:g=h,y=t,b=l;break;case 5:g=l,y=t,b=h;break}return[g*255,y*255,b*255]};mo.cmyk.rgb=function(n){var e=n[0]/100,t=n[1]/100,r=n[2]/100,i=n[3]/100,u,l,f;return u=1-Math.min(1,e*(1-i)+i),l=1-Math.min(1,t*(1-i)+i),f=1-Math.min(1,r*(1-i)+i),[u*255,l*255,f*255]};mo.xyz.rgb=function(n){var e=n[0]/100,t=n[1]/100,r=n[2]/100,i,u,l;return i=e*3.2406+t*-1.5372+r*-.4986,u=e*-.9689+t*1.8758+r*.0415,l=e*.0557+t*-.204+r*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u*12.92,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l*12.92,i=Math.min(Math.max(0,i),1),u=Math.min(Math.max(0,u),1),l=Math.min(Math.max(0,l),1),[i*255,u*255,l*255]};mo.xyz.lab=function(n){var e=n[0],t=n[1],r=n[2],i,u,l;return e/=95.047,t/=100,r/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=116*t-16,u=500*(e-t),l=200*(t-r),[i,u,l]};mo.lab.xyz=function(n){var e=n[0],t=n[1],r=n[2],i,u,l;u=(e+16)/116,i=t/500+u,l=u-r/200;var f=Math.pow(u,3),h=Math.pow(i,3),g=Math.pow(l,3);return u=f>.008856?f:(u-16/116)/7.787,i=h>.008856?h:(i-16/116)/7.787,l=g>.008856?g:(l-16/116)/7.787,i*=95.047,u*=100,l*=108.883,[i,u,l]};mo.lab.lch=function(n){var e=n[0],t=n[1],r=n[2],i,u,l;return i=Math.atan2(r,t),u=i*360/2/Math.PI,u<0&&(u+=360),l=Math.sqrt(t*t+r*r),[e,l,u]};mo.lch.lab=function(n){var e=n[0],t=n[1],r=n[2],i,u,l;return l=r/360*2*Math.PI,i=t*Math.cos(l),u=t*Math.sin(l),[e,i,u]};mo.rgb.ansi16=function(n){var e=n[0],t=n[1],r=n[2],i=1 in arguments?arguments[1]:mo.rgb.hsv(n)[2];if(i=Math.round(i/50),i===0)return 30;var u=30+(Math.round(r/255)<<2|Math.round(t/255)<<1|Math.round(e/255));return i===2&&(u+=60),u};mo.hsv.ansi16=function(n){return mo.rgb.ansi16(mo.hsv.rgb(n),n[2])};mo.rgb.ansi256=function(n){var e=n[0],t=n[1],r=n[2];if(e===t&&t===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5);return i};mo.ansi16.rgb=function(n){var e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var t=(~~(n>50)+1)*.5,r=(e&1)*t*255,i=(e>>1&1)*t*255,u=(e>>2&1)*t*255;return[r,i,u]};mo.ansi256.rgb=function(n){if(n>=232){var e=(n-232)*10+8;return[e,e,e]}n-=16;var t,r=Math.floor(n/36)/5*255,i=Math.floor((t=n%36)/6)/5*255,u=t%6/5*255;return[r,i,u]};mo.rgb.hex=function(n){var e=((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255),t=e.toString(16).toUpperCase();return"000000".substring(t.length)+t};mo.hex.rgb=function(n){var e=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var t=e[0];e[0].length===3&&(t=t.split("").map(function(f){return f+f}).join(""));var r=parseInt(t,16),i=r>>16&255,u=r>>8&255,l=r&255;return[i,u,l]};mo.rgb.hcg=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(Math.max(e,t),r),u=Math.min(Math.min(e,t),r),l=i-u,f,h;return l<1?f=u/(1-l):f=0,l<=0?h=0:i===e?h=(t-r)/l%6:i===t?h=2+(r-e)/l:h=4+(e-t)/l+4,h/=6,h%=1,[h*360,l*100,f*100]};mo.hsl.hcg=function(n){var e=n[1]/100,t=n[2]/100,r=1,i=0;return t<.5?r=2*e*t:r=2*e*(1-t),r<1&&(i=(t-.5*r)/(1-r)),[n[0],r*100,i*100]};mo.hsv.hcg=function(n){var e=n[1]/100,t=n[2]/100,r=e*t,i=0;return r<1&&(i=(t-r)/(1-r)),[n[0],r*100,i*100]};mo.hcg.rgb=function(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100;if(t===0)return[r*255,r*255,r*255];var i=[0,0,0],u=e%1*6,l=u%1,f=1-l,h=0;switch(Math.floor(u)){case 0:i[0]=1,i[1]=l,i[2]=0;break;case 1:i[0]=f,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=l;break;case 3:i[0]=0,i[1]=f,i[2]=1;break;case 4:i[0]=l,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=f}return h=(1-t)*r,[(t*i[0]+h)*255,(t*i[1]+h)*255,(t*i[2]+h)*255]};mo.hcg.hsv=function(n){var e=n[1]/100,t=n[2]/100,r=e+t*(1-e),i=0;return r>0&&(i=e/r),[n[0],i*100,r*100]};mo.hcg.hsl=function(n){var e=n[1]/100,t=n[2]/100,r=t*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[n[0],i*100,r*100]};mo.hcg.hwb=function(n){var e=n[1]/100,t=n[2]/100,r=e+t*(1-e);return[n[0],(r-e)*100,(1-r)*100]};mo.hwb.hcg=function(n){var e=n[1]/100,t=n[2]/100,r=1-t,i=r-e,u=0;return i<1&&(u=(r-i)/(1-i)),[n[0],i*100,u*100]};mo.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};mo.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};mo.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};mo.gray.hsl=mo.gray.hsv=function(n){return[0,0,n[0]]};mo.gray.hwb=function(n){return[0,100,n[0]]};mo.gray.cmyk=function(n){return[0,0,0,n[0]]};mo.gray.lab=function(n){return[n[0],0,0]};mo.gray.hex=function(n){var e=Math.round(n[0]/100*255)&255,t=(e<<16)+(e<<8)+e,r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};mo.rgb.gray=function(n){var e=(n[0]+n[1]+n[2])/3;return[e/255*100]};var Qhe=Jhe.exports,WV=Qhe;function DRe(){for(var n={},e=Object.keys(WV),t=e.length,r=0;r<t;r++)n[e[r]]={distance:-1,parent:null};return n}function ARe(n){var e=DRe(),t=[n];for(e[n].distance=0;t.length;)for(var r=t.pop(),i=Object.keys(WV[r]),u=i.length,l=0;l<u;l++){var f=i[l],h=e[f];h.distance===-1&&(h.distance=e[r].distance+1,h.parent=r,t.unshift(f))}return e}function ERe(n,e){return function(t){return e(n(t))}}function ORe(n,e){for(var t=[e[n].parent,n],r=WV[e[n].parent][n],i=e[n].parent;e[i].parent;)t.unshift(e[i].parent),r=ERe(WV[e[i].parent][i],r),i=e[i].parent;return r.conversion=t,r}var IRe=function(n){for(var e=ARe(n),t={},r=Object.keys(e),i=r.length,u=0;u<i;u++){var l=r[u],f=e[l];f.parent!==null&&(t[l]=ORe(l,e))}return t},wZ=Qhe,RRe=IRe,g3={},PRe=Object.keys(wZ);function NRe(n){var e=function(t){return t==null?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function LRe(n){var e=function(t){if(t==null)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=n(t);if(typeof r=="object")for(var i=r.length,u=0;u<i;u++)r[u]=Math.round(r[u]);return r};return"conversion"in n&&(e.conversion=n.conversion),e}PRe.forEach(function(n){g3[n]={},Object.defineProperty(g3[n],"channels",{value:wZ[n].channels}),Object.defineProperty(g3[n],"labels",{value:wZ[n].labels});var e=RRe(n),t=Object.keys(e);t.forEach(function(r){var i=e[r];g3[n][r]=LRe(i),g3[n][r].raw=NRe(i)})});var BRe=g3,sN=SRe,Sp=BRe,Oee=[].slice,epe=["keyword","gray","hex"],_Z={};Object.keys(Sp).forEach(function(n){_Z[Oee.call(Sp[n].labels).sort().join("")]=n});var UV={};function of(n,e){if(!(this instanceof of))return new of(n,e);if(e&&e in epe&&(e=null),e&&!(e in Sp))throw new Error("Unknown model: "+e);var t,r;if(n==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof of)this.model=n.model,this.color=n.color.slice(),this.valpha=n.valpha;else if(typeof n=="string"){var i=sN.get(n);if(i===null)throw new Error("Unable to parse color from string: "+n);this.model=i.model,r=Sp[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(n.length){this.model=e||"rgb",r=Sp[this.model].channels;var u=Oee.call(n,0,r);this.color=SZ(u,r),this.valpha=typeof n[r]=="number"?n[r]:1}else if(typeof n=="number")n&=16777215,this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{this.valpha=1;var l=Object.keys(n);"alpha"in n&&(l.splice(l.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0);var f=l.sort().join("");if(!(f in _Z))throw new Error("Unable to parse color from object: "+JSON.stringify(n));this.model=_Z[f];var h=Sp[this.model].labels,g=[];for(t=0;t<h.length;t++)g.push(n[h[t]]);this.color=SZ(g)}if(UV[this.model])for(r=Sp[this.model].channels,t=0;t<r;t++){var y=UV[this.model][t];y&&(this.color[t]=y(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}of.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(n){var e=this.model in sN.to?this:this.rgb();e=e.round(typeof n=="number"?n:1);var t=e.valpha===1?e.color:e.color.concat(this.valpha);return sN.to[e.model](t)},percentString:function(n){var e=this.rgb().round(typeof n=="number"?n:1),t=e.valpha===1?e.color:e.color.concat(this.valpha);return sN.to.rgb.percent(t)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var n={},e=Sp[this.model].channels,t=Sp[this.model].labels,r=0;r<e;r++)n[t[r]]=this.color[r];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray:function(){var n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject:function(){var n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round:function(n){return n=Math.max(n||0,0),new of(this.color.map(FRe(n)).concat(this.valpha),this.model)},alpha:function(n){return arguments.length?new of(this.color.concat(Math.max(0,Math.min(1,n))),this.model):this.valpha},red:Ks("rgb",0,fc(255)),green:Ks("rgb",1,fc(255)),blue:Ks("rgb",2,fc(255)),hue:Ks(["hsl","hsv","hsl","hwb","hcg"],0,function(n){return(n%360+360)%360}),saturationl:Ks("hsl",1,fc(100)),lightness:Ks("hsl",2,fc(100)),saturationv:Ks("hsv",1,fc(100)),value:Ks("hsv",2,fc(100)),chroma:Ks("hcg",1,fc(100)),gray:Ks("hcg",2,fc(100)),white:Ks("hwb",1,fc(100)),wblack:Ks("hwb",2,fc(100)),cyan:Ks("cmyk",0,fc(100)),magenta:Ks("cmyk",1,fc(100)),yellow:Ks("cmyk",2,fc(100)),black:Ks("cmyk",3,fc(100)),x:Ks("xyz",0,fc(100)),y:Ks("xyz",1,fc(100)),z:Ks("xyz",2,fc(100)),l:Ks("lab",0,fc(100)),a:Ks("lab",1),b:Ks("lab",2),keyword:function(n){return arguments.length?new of(n):Sp[this.model].keyword(this.color)},hex:function(n){return arguments.length?new of(n):sN.to.hex(this.rgb().round().color)},rgbNumber:function(){var n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity:function(){for(var n=this.rgb().color,e=[],t=0;t<n.length;t++){var r=n[t]/255;e[t]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(n){var e=this.luminosity(),t=n.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level:function(n){var e=this.contrast(n);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var n=this.rgb().color,e=(n[0]*299+n[1]*587+n[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var n=this.rgb(),e=0;e<3;e++)n.color[e]=255-n.color[e];return n},lighten:function(n){var e=this.hsl();return e.color[2]+=e.color[2]*n,e},darken:function(n){var e=this.hsl();return e.color[2]-=e.color[2]*n,e},saturate:function(n){var e=this.hsl();return e.color[1]+=e.color[1]*n,e},desaturate:function(n){var e=this.hsl();return e.color[1]-=e.color[1]*n,e},whiten:function(n){var e=this.hwb();return e.color[1]+=e.color[1]*n,e},blacken:function(n){var e=this.hwb();return e.color[2]+=e.color[2]*n,e},grayscale:function(){var n=this.rgb().color,e=n[0]*.3+n[1]*.59+n[2]*.11;return of.rgb(e,e,e)},fade:function(n){return this.alpha(this.valpha-this.valpha*n)},opaquer:function(n){return this.alpha(this.valpha+this.valpha*n)},rotate:function(n){var e=this.hsl(),t=e.color[0];return t=(t+n)%360,t=t<0?360+t:t,e.color[0]=t,e},mix:function(n,e){if(!n||!n.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof n);var t=n.rgb(),r=this.rgb(),i=e===void 0?.5:e,u=2*i-1,l=t.alpha()-r.alpha(),f=((u*l===-1?u:(u+l)/(1+u*l))+1)/2,h=1-f;return of.rgb(f*t.red()+h*r.red(),f*t.green()+h*r.green(),f*t.blue()+h*r.blue(),t.alpha()*i+r.alpha()*(1-i))}};Object.keys(Sp).forEach(function(n){if(epe.indexOf(n)===-1){var e=Sp[n].channels;of.prototype[n]=function(){if(this.model===n)return new of(this);if(arguments.length)return new of(arguments,n);var t=typeof arguments[e]=="number"?e:this.valpha;return new of(VRe(Sp[this.model][n].raw(this.color)).concat(t),n)},of[n]=function(t){return typeof t=="number"&&(t=SZ(Oee.call(arguments),e)),new of(t,n)}}});function zRe(n,e){return Number(n.toFixed(e))}function FRe(n){return function(e){return zRe(e,n)}}function Ks(n,e,t){return n=Array.isArray(n)?n:[n],n.forEach(function(r){(UV[r]||(UV[r]=[]))[e]=t}),n=n[0],function(r){var i;return arguments.length?(t&&(r=t(r)),i=this[n](),i.color[e]=r,i):(i=this[n]().color[e],t&&(i=t(i)),i)}}function fc(n){return function(e){return Math.max(0,Math.min(n,e))}}function VRe(n){return Array.isArray(n)?n:[n]}function SZ(n,e){for(var t=0;t<e;t++)typeof n[t]!="number"&&(n[t]=0);return n}var HRe=of,tpe={};const jRe=HRe;tpe.getRgbStr=function(n){return jRe(n).rgb().round().color.join(",")};const WRe=["hex","rgb","hsl"];function URe(n){return!n||WRe.indexOf(n)<0?"hex":n}tpe.getColorString=function(n,e){const t=URe(e);return t==="hex"?n[t]():n[t]().round().string()};function qRe(){const n=Ao(null);function e(r){n.value=r}async function t(){const r=io(n);if(!r)throw Error("The form instance is not registered");return await kp(),r}return{formInstance:n,register:e,getForm:t,validate:async r=>{const i=await t();i==null||i.validate(r)},scrollToField:async()=>{const r=await t();r==null||r.scrollToField()},resetFields:async()=>{const r=await t();r==null||r.resetFields()},clearValidate:async()=>{const r=await t();r==null||r.clearValidate()},validateField:async()=>{const r=await t();r==null||r.validateField()},forceUpdateModel:async r=>{const i=await t();i==null||i.forceUpdateModel(r)},setFieldValue:async(r,i)=>{const u=await t();u==null||u.setFieldValue(r,i)},getFieldValue:async r=>{const i=await t();i==null||i.getFieldValue(r)}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var CZ=function(n,e){return CZ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},CZ(n,e)};function Tn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");CZ(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $Re=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),GRe=function(){function n(){this.browser=new $Re,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n}(),JT=new GRe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(JT.wxa=!0,JT.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?JT.worker=!0:typeof navigator>"u"?(JT.node=!0,JT.svgSupported=!0):XRe(navigator.userAgent,JT);function XRe(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),u=n.match(/Edge?\/([\d.]+)/),l=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),u&&(t.edge=!0,t.version=u[1],t.newEdge=+u[1].split(".")[0]>18),l&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var f=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in f||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}const Ni=JT;var Iee=12,YRe="sans-serif",wM=Iee+"px "+YRe,KRe=20,JRe=100,ZRe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function QRe(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),i=(n.charCodeAt(t)-KRe)/JRe;e[r]=i}return e}var ePe=QRe(ZRe),Ob={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,e;return function(t,r){if(!n){var i=Ob.createCanvas();n=i&&i.getContext("2d")}if(n)return e!==r&&(e=n.font=r||wM),n.measureText(t);t=t||"",r=r||wM;var u=/(\d+)px/.exec(r),l=u&&+u[1]||Iee,f=0;if(r.indexOf("mono")>=0)f=l*t.length;else for(var h=0;h<t.length;h++){var g=ePe[t[h]];f+=g==null?l:g*l}return{width:f}}}(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}};function npe(n){for(var e in Ob)n[e]&&(Ob[e]=n[e])}var rpe=Km(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),ope=Km(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),l5=Object.prototype.toString,$H=Array.prototype,tPe=$H.forEach,nPe=$H.filter,Ree=$H.slice,rPe=$H.map,Wie=(function(){}).constructor,aF=Wie?Wie.prototype:null,Pee="__proto__",oPe=2311;function Nee(){return oPe++}function GH(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function vo(n){if(n==null||typeof n!="object")return n;var e=n,t=l5.call(n);if(t==="[object Array]"){if(!D3(n)){e=[];for(var r=0,i=n.length;r<i;r++)e[r]=vo(n[r])}}else if(ope[t]){if(!D3(n)){var u=n.constructor;if(u.from)e=u.from(n);else{e=new u(n.length);for(var r=0,i=n.length;r<i;r++)e[r]=n[r]}}}else if(!rpe[t]&&!D3(n)&&!$3(n)){e={};for(var l in n)n.hasOwnProperty(l)&&l!==Pee&&(e[l]=vo(n[l]))}return e}function Ho(n,e,t){if(!no(e)||!no(n))return t?vo(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==Pee){var i=n[r],u=e[r];no(u)&&no(i)&&!sr(u)&&!sr(i)&&!$3(u)&&!$3(i)&&!TZ(u)&&!TZ(i)&&!D3(u)&&!D3(i)?Ho(i,u,t):(t||!(r in n))&&(n[r]=vo(e[r]))}return n}function ipe(n,e){for(var t=n[0],r=1,i=n.length;r<i;r++)t=Ho(t,n[r],e);return t}function Gn(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==Pee&&(n[t]=e[t]);return n}function To(n,e,t){for(var r=va(e),i=0;i<r.length;i++){var u=r[i];(t?e[u]!=null:n[u]==null)&&(n[u]=e[u])}return n}var iPe=Ob.createCanvas;function Di(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function Lee(n,e){var t=n.prototype;function r(){}r.prototype=e.prototype,n.prototype=new r;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);n.prototype.constructor=n,n.superClass=e}function ff(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var u=r[i];u!=="constructor"&&(t?e[u]!=null:n[u]==null)&&(n[u]=e[u])}else To(n,e,t)}function Gf(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function Te(n,e,t){if(n&&e)if(n.forEach&&n.forEach===tPe)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);else for(var u in n)n.hasOwnProperty(u)&&e.call(t,n[u],u,n)}function br(n,e,t){if(!n)return[];if(!e)return XH(n);if(n.map&&n.map===rPe)return n.map(e,t);for(var r=[],i=0,u=n.length;i<u;i++)r.push(e.call(t,n[i],i,n));return r}function Km(n,e,t,r){if(n&&e){for(var i=0,u=n.length;i<u;i++)t=e.call(r,t,n[i],i,n);return t}}function Ls(n,e,t){if(!n)return[];if(!e)return XH(n);if(n.filter&&n.filter===nPe)return n.filter(e,t);for(var r=[],i=0,u=n.length;i<u;i++)e.call(t,n[i],i,n)&&r.push(n[i]);return r}function ape(n,e,t){if(n&&e){for(var r=0,i=n.length;r<i;r++)if(e.call(t,n[r],r,n))return n[r]}}function va(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function aPe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(Ree.call(arguments)))}}var Wr=aF&&Eo(aF.bind)?aF.call.bind(aF.bind):aPe;function ji(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(Ree.call(arguments)))}}function sr(n){return Array.isArray?Array.isArray(n):l5.call(n)==="[object Array]"}function Eo(n){return typeof n=="function"}function Lr(n){return typeof n=="string"}function qV(n){return l5.call(n)==="[object String]"}function lu(n){return typeof n=="number"}function no(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function TZ(n){return!!rpe[l5.call(n)]}function Mh(n){return!!ope[l5.call(n)]}function $3(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function EL(n){return n.colorStops!=null}function upe(n){return n.image!=null}function uPe(n){return l5.call(n)==="[object RegExp]"}function KN(n){return n!==n}function Ib(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(n[t]!=null)return n[t]}function Xi(n,e){return n??e}function k3(n,e,t){return n??e??t}function XH(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Ree.apply(n,e)}function Bee(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function Dp(n,e){if(!n)throw new Error(e)}function Xm(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var spe="__ec_primitive__";function $V(n){n[spe]=!0}function D3(n){return n[spe]}var sPe=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return va(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n}(),lpe=typeof Map=="function";function lPe(){return lpe?new Map:new sPe}var cpe=function(){function n(e){var t=sr(e);this.data=lPe();var r=this;e instanceof n?e.each(i):e&&Te(e,i);function i(u,l){t?r.set(u,l):r.set(l,u)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,i){e.call(t,r,i)})},n.prototype.keys=function(){var e=this.data.keys();return lpe?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function to(n){return new cpe(n)}function fpe(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];for(var i=n.length,r=0;r<e.length;r++)t[r+i]=e[r];return t}function OL(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&Gn(t,e),t}function zee(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Qo(n,e){return n.hasOwnProperty(e)}function uf(){}var dpe=180/Math.PI;const cPe=Object.freeze(Object.defineProperty({__proto__:null,HashMap:cpe,RADIAN_TO_DEGREE:dpe,assert:Dp,bind:Wr,clone:vo,concatArray:fpe,createCanvas:iPe,createHashMap:to,createObject:OL,curry:ji,defaults:To,disableUserSelect:zee,each:Te,eqNaN:KN,extend:Gn,filter:Ls,find:ape,guid:Nee,hasOwn:Qo,indexOf:Di,inherits:Lee,isArray:sr,isArrayLike:Gf,isBuiltInObject:TZ,isDom:$3,isFunction:Eo,isGradientObject:EL,isImagePatternObject:upe,isNumber:lu,isObject:no,isPrimitive:D3,isRegExp:uPe,isString:Lr,isStringSafe:qV,isTypedArray:Mh,keys:va,logError:GH,map:br,merge:Ho,mergeAll:ipe,mixin:ff,noop:uf,normalizeCssArray:Bee,reduce:Km,retrieve:Ib,retrieve2:Xi,retrieve3:k3,setAsPrimitive:$V,slice:XH,trim:Xm},Symbol.toStringTag,{value:"Module"}));function IM(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function hpe(n,e){return n[0]=e[0],n[1]=e[1],n}function ppe(n){return[n[0],n[1]]}function fPe(n,e,t){return n[0]=e,n[1]=t,n}function MZ(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function dPe(n,e,t,r){return n[0]=e[0]+t[0]*r,n[1]=e[1]+t[1]*r,n}function mpe(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function Fee(n){return Math.sqrt(Vee(n))}var hPe=Fee;function Vee(n){return n[0]*n[0]+n[1]*n[1]}var pPe=Vee;function mPe(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function gPe(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function vPe(n,e){return n[0]*e[0]+n[1]*e[1]}function cV(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function gpe(n,e){var t=Fee(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function GV(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var XV=GV;function vpe(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var fM=vpe;function yPe(n,e){return n[0]=-e[0],n[1]=-e[1],n}function fV(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function Ic(n,e,t){var r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function wb(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function _b(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}const bPe=Object.freeze(Object.defineProperty({__proto__:null,add:MZ,applyTransform:Ic,clone:ppe,copy:hpe,create:IM,dist:XV,distSquare:fM,distance:GV,distanceSquare:vpe,div:gPe,dot:vPe,len:Fee,lenSquare:Vee,length:hPe,lengthSquare:pPe,lerp:fV,max:_b,min:wb,mul:mPe,negate:yPe,normalize:gpe,scale:cV,scaleAndAdd:dPe,set:fPe,sub:mpe},Symbol.toStringTag,{value:"Module"}));var KE=function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n}(),xPe=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new KE(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,i=e.offsetY,u=r-this._x,l=i-this._y;this._x=r,this._y=i,t.drift(u,l,e),this.handler.dispatchToElement(new KE(t,e),"drag",e.event);var f=this.handler.findHover(r,i,t).target,h=this._dropTarget;this._dropTarget=f,t!==f&&(h&&f!==h&&this.handler.dispatchToElement(new KE(h,e),"dragleave",e.event),f&&f!==h&&this.handler.dispatchToElement(new KE(f,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new KE(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new KE(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const wPe=xPe;var _Pe=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,i){this._$handlers||(this._$handlers={});var u=this._$handlers;if(typeof t=="function"&&(i=r,r=t,t=null),!r||!e)return this;var l=this._$eventProcessor;t!=null&&l&&l.normalizeQuery&&(t=l.normalizeQuery(t)),u[e]||(u[e]=[]);for(var f=0;f<u[e].length;f++)if(u[e][f].h===r)return this;var h={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},g=u[e].length-1,y=u[e][g];return y&&y.callAtLast?u[e].splice(g,0,h):u[e].push(h),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var i=[],u=0,l=r[e].length;u<l;u++)r[e][u].h!==t&&i.push(r[e][u]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],u=this._$eventProcessor;if(i)for(var l=t.length,f=i.length,h=0;h<f;h++){var g=i[h];if(!(u&&u.filter&&g.query!=null&&!u.filter(e,g.query)))switch(l){case 0:g.h.call(g.ctx);break;case 1:g.h.call(g.ctx,t[0]);break;case 2:g.h.call(g.ctx,t[0],t[1]);break;default:g.h.apply(g.ctx,t);break}}return u&&u.afterTrigger&&u.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],u=this._$eventProcessor;if(i)for(var l=t.length,f=t[l-1],h=i.length,g=0;g<h;g++){var y=i[g];if(!(u&&u.filter&&y.query!=null&&!u.filter(e,y.query)))switch(l){case 0:y.h.call(f);break;case 1:y.h.call(f,t[0]);break;case 2:y.h.call(f,t[0],t[1]);break;default:y.h.apply(f,t.slice(1,l-1));break}}return u&&u.afterTrigger&&u.afterTrigger(e),this},n}();const Qm=_Pe;var SPe=Math.log(2);function kZ(n,e,t,r,i,u){var l=r+"-"+i,f=n.length;if(u.hasOwnProperty(l))return u[l];if(e===1){var h=Math.round(Math.log((1<<f)-1&~i)/SPe);return n[t][h]}for(var g=r|1<<t,y=t+1;r&1<<y;)y++;for(var b=0,S=0,_=0;S<f;S++){var k=1<<S;k&i||(b+=(_%2?-1:1)*n[t][S]*kZ(n,e-1,y,g,i|k,u),_++)}return u[l]=b,b}function Uie(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},i=kZ(t,8,0,0,0,r);if(i!==0){for(var u=[],l=0;l<8;l++)for(var f=0;f<8;f++)u[f]==null&&(u[f]=0),u[f]+=((l+f)%2?-1:1)*kZ(t,7,l===0?1:0,1<<l,1<<f,r)/i*e[l];return function(h,g,y){var b=g*u[6]+y*u[7]+1;h[0]=(g*u[0]+y*u[1]+u[2])/b,h[1]=(g*u[3]+y*u[4]+u[5])/b}}}var qie="___zrEVENTSAVED",fK=[];function CPe(n,e,t,r,i){return DZ(fK,e,r,i,!0)&&DZ(n,t,fK[0],fK[1])}function DZ(n,e,t,r,i){if(e.getBoundingClientRect&&Ni.domSupported&&!ype(e)){var u=e[qie]||(e[qie]={}),l=TPe(e,u),f=MPe(l,u,i);if(f)return f(n,t,r),!0}return!1}function TPe(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],i=["top","bottom"],u=0;u<4;u++){var l=document.createElement("div"),f=l.style,h=u%2,g=(u>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[h]+":0",i[g]+":0",r[1-h]+":auto",i[1-g]+":auto",""].join("!important;"),n.appendChild(l),t.push(l)}return t}function MPe(n,e,t){for(var r=t?"invTrans":"trans",i=e[r],u=e.srcCoords,l=[],f=[],h=!0,g=0;g<4;g++){var y=n[g].getBoundingClientRect(),b=2*g,S=y.left,_=y.top;l.push(S,_),h=h&&u&&S===u[b]&&_===u[b+1],f.push(n[g].offsetLeft,n[g].offsetTop)}return h&&i?i:(e.srcCoords=l,e[r]=t?Uie(f,l):Uie(l,f))}function ype(n){return n.nodeName.toUpperCase()==="CANVAS"}var kPe=/([&<>"'])/g,DPe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function bh(n){return n==null?"":(n+"").replace(kPe,function(e,t){return DPe[t]})}var APe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,dK=[],EPe=Ni.browser.firefox&&+Ni.browser.version.split(".")[0]<39;function AZ(n,e,t,r){return t=t||{},r?$ie(n,e,t):EPe&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):$ie(n,e,t),t}function $ie(n,e,t){if(Ni.domSupported&&n.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(ype(n)){var u=n.getBoundingClientRect();t.zrX=r-u.left,t.zrY=i-u.top;return}else if(DZ(dK,n,r,i)){t.zrX=dK[0],t.zrY=dK[1];return}}t.zrX=t.zrY=0}function Hee(n){return n||window.event}function zm(n,e,t){if(e=Hee(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var u=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];u&&AZ(n,u,e,t)}else{AZ(n,e,e,t);var l=OPe(e);e.zrDelta=l?l/120:-(e.detail||0)/3}var f=e.button;return e.which==null&&f!==void 0&&APe.test(e.type)&&(e.which=f&1?1:f&2?3:f&4?2:0),e}function OPe(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;if(t==null||r==null)return e;var i=Math.abs(r!==0?r:t),u=r>0?-1:r<0?1:t>0?-1:1;return 3*i*u}function EZ(n,e,t,r){n.addEventListener(e,t,r)}function IPe(n,e,t,r){n.removeEventListener(e,t,r)}var Rb=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function Gie(n){return n.which===2||n.which===3}var RPe=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var i=e.touches;if(i){for(var u={points:[],touches:[],target:t,event:e},l=0,f=i.length;l<f;l++){var h=i[l],g=AZ(r,h,{});u.points.push([g.zrX,g.zrY]),u.touches.push(h)}this._track.push(u)}},n.prototype._recognize=function(e){for(var t in hK)if(hK.hasOwnProperty(t)){var r=hK[t](this._track,e);if(r)return r}},n}();function Xie(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function PPe(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var hK={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,i=(n[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var u=Xie(r)/Xie(i);!isFinite(u)&&(u=1),e.pinchScale=u;var l=PPe(r);return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:n[0].target,event:e}}}}};function Jm(){return[1,0,0,1,0,0]}function IL(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function YH(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function cy(n,e,t){var r=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],u=e[0]*t[2]+e[2]*t[3],l=e[1]*t[2]+e[3]*t[3],f=e[0]*t[4]+e[2]*t[5]+e[4],h=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=r,n[1]=i,n[2]=u,n[3]=l,n[4]=f,n[5]=h,n}function Pb(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function i_(n,e,t){var r=e[0],i=e[2],u=e[4],l=e[1],f=e[3],h=e[5],g=Math.sin(t),y=Math.cos(t);return n[0]=r*y+l*g,n[1]=-r*g+l*y,n[2]=i*y+f*g,n[3]=-i*g+y*f,n[4]=y*u+g*h,n[5]=y*h-g*u,n}function jee(n,e,t){var r=t[0],i=t[1];return n[0]=e[0]*r,n[1]=e[1]*i,n[2]=e[2]*r,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*i,n}function c5(n,e){var t=e[0],r=e[2],i=e[4],u=e[1],l=e[3],f=e[5],h=t*l-u*r;return h?(h=1/h,n[0]=l*h,n[1]=-u*h,n[2]=-r*h,n[3]=t*h,n[4]=(r*f-l*i)*h,n[5]=(u*i-t*f)*h,n):null}function NPe(n){var e=Jm();return YH(e,n),e}const LPe=Object.freeze(Object.defineProperty({__proto__:null,clone:NPe,copy:YH,create:Jm,identity:IL,invert:c5,mul:cy,rotate:i_,scale:jee,translate:Pb},Symbol.toStringTag,{value:"Module"}));var BPe=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,i){e.x=t.x+r.x*i,e.y=t.y+r.y*i},n.lerp=function(e,t,r,i){var u=1-i;e.x=u*t.x+i*r.x,e.y=u*t.y+i*r.y},n}();const di=BPe;var uF=Math.min,sF=Math.max,kT=new di,DT=new di,AT=new di,ET=new di,IP=new di,RP=new di,zPe=function(){function n(e,t,r,i){r<0&&(e=e+r,r=-r),i<0&&(t=t+i,i=-i),this.x=e,this.y=t,this.width=r,this.height=i}return n.prototype.union=function(e){var t=uF(e.x,this.x),r=uF(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=sF(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=sF(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,i=e.height/t.height,u=Jm();return Pb(u,u,[-t.x,-t.y]),jee(u,u,[r,i]),Pb(u,u,[e.x,e.y]),u},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var r=this,i=r.x,u=r.x+r.width,l=r.y,f=r.y+r.height,h=e.x,g=e.x+e.width,y=e.y,b=e.y+e.height,S=!(u<h||g<i||f<y||b<l);if(t){var _=1/0,k=0,E=Math.abs(u-h),R=Math.abs(g-i),I=Math.abs(f-y),z=Math.abs(b-l),L=Math.min(E,R),q=Math.min(I,z);u<h||g<i?L>k&&(k=L,E<R?di.set(RP,-E,0):di.set(RP,R,0)):L<_&&(_=L,E<R?di.set(IP,E,0):di.set(IP,-R,0)),f<y||b<l?q>k&&(k=q,I<z?di.set(RP,0,-I):di.set(RP,0,z)):L<_&&(_=L,I<z?di.set(IP,0,I):di.set(IP,0,-z))}return t&&di.copy(t,S?IP:RP),S},n.prototype.contain=function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,r){if(!r){e!==t&&n.copy(e,t);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],u=r[3],l=r[4],f=r[5];e.x=t.x*i+l,e.y=t.y*u+f,e.width=t.width*i,e.height=t.height*u,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}kT.x=AT.x=t.x,kT.y=ET.y=t.y,DT.x=ET.x=t.x+t.width,DT.y=AT.y=t.y+t.height,kT.transform(r),ET.transform(r),DT.transform(r),AT.transform(r),e.x=uF(kT.x,DT.x,AT.x,ET.x),e.y=uF(kT.y,DT.y,AT.y,ET.y);var h=sF(kT.x,DT.x,AT.x,ET.x),g=sF(kT.y,DT.y,AT.y,ET.y);e.width=h-e.x,e.height=g-e.y},n}();const vi=zPe;var bpe="silent";function FPe(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:VPe}}function VPe(){Rb(this.event)}var HPe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Qm),PP=function(){function n(e,t){this.x=e,this.y=t}return n}(),jPe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],pK=new vi(0,0,0,0),xpe=function(n){Tn(e,n);function e(t,r,i,u,l){var f=n.call(this)||this;return f._hovered=new PP(0,0),f.storage=t,f.painter=r,f.painterRoot=u,f._pointerSize=l,i=i||new HPe,f.proxy=null,f.setHandlerProxy(i),f._draggingMgr=new wPe(f),f}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(Te(jPe,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,u=wpe(this,r,i),l=this._hovered,f=l.target;f&&!f.__zr&&(l=this.findHover(l.x,l.y),f=l.target);var h=this._hovered=u?new PP(r,i):this.findHover(r,i),g=h.target,y=this.proxy;y.setCursor&&y.setCursor(g?g.cursor:"default"),f&&g!==f&&this.dispatchToElement(l,"mouseout",t),this.dispatchToElement(h,"mousemove",t),g&&g!==f&&this.dispatchToElement(h,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new PP(0,0)},e.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,i){t=t||{};var u=t.target;if(!(u&&u.silent)){for(var l="on"+r,f=FPe(r,t,i);u&&(u[l]&&(f.cancelBubble=!!u[l].call(u,f)),u.trigger(r,f),u=u.__hostTarget?u.__hostTarget:u.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(r,f),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(h){typeof h[l]=="function"&&h[l].call(h,f),h.trigger&&h.trigger(r,f)}))}},e.prototype.findHover=function(t,r,i){var u=this.storage.getDisplayList(),l=new PP(t,r);if(Yie(u,l,t,r,i),this._pointerSize&&!l.target){for(var f=[],h=this._pointerSize,g=h/2,y=new vi(t-g,r-g,h,h),b=u.length-1;b>=0;b--){var S=u[b];S!==i&&!S.ignore&&!S.ignoreCoarsePointer&&(!S.parent||!S.parent.ignoreCoarsePointer)&&(pK.copy(S.getBoundingRect()),S.transform&&pK.applyTransform(S.transform),pK.intersect(y)&&f.push(S))}if(f.length)for(var _=4,k=Math.PI/12,E=Math.PI*2,R=0;R<g;R+=_)for(var I=0;I<E;I+=k){var z=t+R*Math.cos(I),L=r+R*Math.sin(I);if(Yie(f,l,z,L,i),l.target)return l}}return l},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new RPe);var i=this._gestureMgr;r==="start"&&i.clear();var u=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),u){var l=u.type;t.gestureEvent=l;var f=new PP;f.target=u.target,this.dispatchToElement(f,l,u.event)}},e}(Qm);Te(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){xpe.prototype[n]=function(e){var t=e.zrX,r=e.zrY,i=wpe(this,t,r),u,l;if((n!=="mouseup"||!i)&&(u=this.findHover(t,r),l=u.target),n==="mousedown")this._downEl=l,this._downPoint=[e.zrX,e.zrY],this._upEl=l;else if(n==="mouseup")this._upEl=l;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||XV(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(u,n,e)}});function WPe(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,i=void 0,u=!1;r;){if(r.ignoreClip&&(u=!0),!u){var l=r.getClipPath();if(l&&!l.contain(e,t))return!1;r.silent&&(i=!0)}var f=r.__hostTarget;r=f||r.parent}return i?bpe:!0}return!1}function Yie(n,e,t,r,i){for(var u=n.length-1;u>=0;u--){var l=n[u],f=void 0;if(l!==i&&!l.ignore&&(f=WPe(l,t,r))&&(!e.topTarget&&(e.topTarget=l),f!==bpe)){e.target=l;break}}}function wpe(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}const UPe=xpe;var _pe=32,NP=7;function qPe(n){for(var e=0;n>=_pe;)e|=n&1,n>>=1;return n+e}function Kie(n,e,t,r){var i=e+1;if(i===t)return 1;if(r(n[i++],n[e])<0){for(;i<t&&r(n[i],n[i-1])<0;)i++;$Pe(n,e,i)}else for(;i<t&&r(n[i],n[i-1])>=0;)i++;return i-e}function $Pe(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}function Jie(n,e,t,r,i){for(r===e&&r++;r<t;r++){for(var u=n[r],l=e,f=r,h;l<f;)h=l+f>>>1,i(u,n[h])<0?f=h:l=h+1;var g=r-l;switch(g){case 3:n[l+3]=n[l+2];case 2:n[l+2]=n[l+1];case 1:n[l+1]=n[l];break;default:for(;g>0;)n[l+g]=n[l+g-1],g--}n[l]=u}}function mK(n,e,t,r,i,u){var l=0,f=0,h=1;if(u(n,e[t+i])>0){for(f=r-i;h<f&&u(n,e[t+i+h])>0;)l=h,h=(h<<1)+1,h<=0&&(h=f);h>f&&(h=f),l+=i,h+=i}else{for(f=i+1;h<f&&u(n,e[t+i-h])<=0;)l=h,h=(h<<1)+1,h<=0&&(h=f);h>f&&(h=f);var g=l;l=i-h,h=i-g}for(l++;l<h;){var y=l+(h-l>>>1);u(n,e[t+y])>0?l=y+1:h=y}return h}function gK(n,e,t,r,i,u){var l=0,f=0,h=1;if(u(n,e[t+i])<0){for(f=i+1;h<f&&u(n,e[t+i-h])<0;)l=h,h=(h<<1)+1,h<=0&&(h=f);h>f&&(h=f);var g=l;l=i-h,h=i-g}else{for(f=r-i;h<f&&u(n,e[t+i+h])>=0;)l=h,h=(h<<1)+1,h<=0&&(h=f);h>f&&(h=f),l+=i,h+=i}for(l++;l<h;){var y=l+(h-l>>>1);u(n,e[t+y])<0?h=y:l=y+1}return h}function GPe(n,e){var t=NP,r,i,u=0;n.length;var l=[];r=[],i=[];function f(_,k){r[u]=_,i[u]=k,u+=1}function h(){for(;u>1;){var _=u-2;if(_>=1&&i[_-1]<=i[_]+i[_+1]||_>=2&&i[_-2]<=i[_]+i[_-1])i[_-1]<i[_+1]&&_--;else if(i[_]>i[_+1])break;y(_)}}function g(){for(;u>1;){var _=u-2;_>0&&i[_-1]<i[_+1]&&_--,y(_)}}function y(_){var k=r[_],E=i[_],R=r[_+1],I=i[_+1];i[_]=E+I,_===u-3&&(r[_+1]=r[_+2],i[_+1]=i[_+2]),u--;var z=gK(n[R],n,k,E,0,e);k+=z,E-=z,E!==0&&(I=mK(n[k+E-1],n,R,I,I-1,e),I!==0&&(E<=I?b(k,E,R,I):S(k,E,R,I)))}function b(_,k,E,R){var I=0;for(I=0;I<k;I++)l[I]=n[_+I];var z=0,L=E,q=_;if(n[q++]=n[L++],--R===0){for(I=0;I<k;I++)n[q+I]=l[z+I];return}if(k===1){for(I=0;I<R;I++)n[q+I]=n[L+I];n[q+R]=l[z];return}for(var X=t,Y,ae,te;;){Y=0,ae=0,te=!1;do if(e(n[L],l[z])<0){if(n[q++]=n[L++],ae++,Y=0,--R===0){te=!0;break}}else if(n[q++]=l[z++],Y++,ae=0,--k===1){te=!0;break}while((Y|ae)<X);if(te)break;do{if(Y=gK(n[L],l,z,k,0,e),Y!==0){for(I=0;I<Y;I++)n[q+I]=l[z+I];if(q+=Y,z+=Y,k-=Y,k<=1){te=!0;break}}if(n[q++]=n[L++],--R===0){te=!0;break}if(ae=mK(l[z],n,L,R,0,e),ae!==0){for(I=0;I<ae;I++)n[q+I]=n[L+I];if(q+=ae,L+=ae,R-=ae,R===0){te=!0;break}}if(n[q++]=l[z++],--k===1){te=!0;break}X--}while(Y>=NP||ae>=NP);if(te)break;X<0&&(X=0),X+=2}if(t=X,t<1&&(t=1),k===1){for(I=0;I<R;I++)n[q+I]=n[L+I];n[q+R]=l[z]}else{if(k===0)throw new Error;for(I=0;I<k;I++)n[q+I]=l[z+I]}}function S(_,k,E,R){var I=0;for(I=0;I<R;I++)l[I]=n[E+I];var z=_+k-1,L=R-1,q=E+R-1,X=0,Y=0;if(n[q--]=n[z--],--k===0){for(X=q-(R-1),I=0;I<R;I++)n[X+I]=l[I];return}if(R===1){for(q-=k,z-=k,Y=q+1,X=z+1,I=k-1;I>=0;I--)n[Y+I]=n[X+I];n[q]=l[L];return}for(var ae=t;;){var te=0,ie=0,le=!1;do if(e(l[L],n[z])<0){if(n[q--]=n[z--],te++,ie=0,--k===0){le=!0;break}}else if(n[q--]=l[L--],ie++,te=0,--R===1){le=!0;break}while((te|ie)<ae);if(le)break;do{if(te=k-gK(l[L],n,_,k,k-1,e),te!==0){for(q-=te,z-=te,k-=te,Y=q+1,X=z+1,I=te-1;I>=0;I--)n[Y+I]=n[X+I];if(k===0){le=!0;break}}if(n[q--]=l[L--],--R===1){le=!0;break}if(ie=R-mK(n[z],l,0,R,R-1,e),ie!==0){for(q-=ie,L-=ie,R-=ie,Y=q+1,X=L+1,I=0;I<ie;I++)n[Y+I]=l[X+I];if(R<=1){le=!0;break}}if(n[q--]=n[z--],--k===0){le=!0;break}ae--}while(te>=NP||ie>=NP);if(le)break;ae<0&&(ae=0),ae+=2}if(t=ae,t<1&&(t=1),R===1){for(q-=k,z-=k,Y=q+1,X=z+1,I=k-1;I>=0;I--)n[Y+I]=n[X+I];n[q]=l[L]}else{if(R===0)throw new Error;for(X=q-(R-1),I=0;I<R;I++)n[X+I]=l[I]}}return{mergeRuns:h,forceMergeRuns:g,pushRun:f}}function dV(n,e,t,r){t||(t=0),r||(r=n.length);var i=r-t;if(!(i<2)){var u=0;if(i<_pe){u=Kie(n,t,r,e),Jie(n,t,r,t+u,e);return}var l=GPe(n,e),f=qPe(i);do{if(u=Kie(n,t,r,e),u<f){var h=i;h>f&&(h=f),Jie(n,t,t+h,t+u,e),u=h}l.pushRun(t,u),l.mergeRuns(),i-=u,t+=u}while(i!==0);l.forceMergeRuns()}}var Cp=1,lN=2,v3=4,Zie=!1;function vK(){Zie||(Zie=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Qie(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var XPe=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Qie}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,u=t.length;i<u;i++)this._updateAndAddDisplayable(t[i],null,e);r.length=this._displayListLen,dV(r,Qie)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t?t=t.slice():t=[];for(var u=i,l=e;u;)u.parent=l,u.updateTransform(),t.push(u),l=u,u=u.getClipPath()}if(e.childrenRef){for(var f=e.childrenRef(),h=0;h<f.length;h++){var g=f[h];e.__dirty&&(g.__dirty|=Cp),this._updateAndAddDisplayable(g,t,r)}e.__dirty=0}else{var y=e;t&&t.length?y.__clipPaths=t:y.__clipPaths&&y.__clipPaths.length>0&&(y.__clipPaths=[]),isNaN(y.z)&&(vK(),y.z=0),isNaN(y.z2)&&(vK(),y.z2=0),isNaN(y.zlevel)&&(vK(),y.zlevel=0),this._displayList[this._displayListLen++]=y}var b=e.getDecalElement&&e.getDecalElement();b&&this._updateAndAddDisplayable(b,t,r);var S=e.getTextGuideLine();S&&this._updateAndAddDisplayable(S,t,r);var _=e.getTextContent();_&&this._updateAndAddDisplayable(_,t,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var i=Di(this._roots,e);i>=0&&this._roots.splice(i,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const YPe=XPe;var Spe;Spe=Ni.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const OZ=Spe;var hV={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)))},elasticOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-hV.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?hV.bounceIn(n*2)*.5:hV.bounceOut(n*2-1)*.5+.5}};const Cpe=hV;var lF=Math.pow,q2=Math.sqrt,YV=1e-8,Tpe=1e-4,eae=q2(3),cF=1/3,oy=IM(),jm=IM(),A3=IM();function N2(n){return n>-YV&&n<YV}function Mpe(n){return n>YV||n<-YV}function pc(n,e,t,r,i){var u=1-i;return u*u*(u*n+3*i*e)+i*i*(i*r+3*u*t)}function tae(n,e,t,r,i){var u=1-i;return 3*(((e-n)*u+2*(t-e)*i)*u+(r-t)*i*i)}function KV(n,e,t,r,i,u){var l=r+3*(e-t)-n,f=3*(t-e*2+n),h=3*(e-n),g=n-i,y=f*f-3*l*h,b=f*h-9*l*g,S=h*h-3*f*g,_=0;if(N2(y)&&N2(b))if(N2(f))u[0]=0;else{var k=-h/f;k>=0&&k<=1&&(u[_++]=k)}else{var E=b*b-4*y*S;if(N2(E)){var R=b/y,k=-f/l+R,I=-R/2;k>=0&&k<=1&&(u[_++]=k),I>=0&&I<=1&&(u[_++]=I)}else if(E>0){var z=q2(E),L=y*f+1.5*l*(-b+z),q=y*f+1.5*l*(-b-z);L<0?L=-lF(-L,cF):L=lF(L,cF),q<0?q=-lF(-q,cF):q=lF(q,cF);var k=(-f-(L+q))/(3*l);k>=0&&k<=1&&(u[_++]=k)}else{var X=(2*y*f-3*l*b)/(2*q2(y*y*y)),Y=Math.acos(X)/3,ae=q2(y),te=Math.cos(Y),k=(-f-2*ae*te)/(3*l),I=(-f+ae*(te+eae*Math.sin(Y)))/(3*l),ie=(-f+ae*(te-eae*Math.sin(Y)))/(3*l);k>=0&&k<=1&&(u[_++]=k),I>=0&&I<=1&&(u[_++]=I),ie>=0&&ie<=1&&(u[_++]=ie)}}return _}function kpe(n,e,t,r,i){var u=6*t-12*e+6*n,l=9*e+3*r-3*n-9*t,f=3*e-3*n,h=0;if(N2(l)){if(Mpe(u)){var g=-f/u;g>=0&&g<=1&&(i[h++]=g)}}else{var y=u*u-4*l*f;if(N2(y))i[0]=-u/(2*l);else if(y>0){var b=q2(y),g=(-u+b)/(2*l),S=(-u-b)/(2*l);g>=0&&g<=1&&(i[h++]=g),S>=0&&S<=1&&(i[h++]=S)}}return h}function JV(n,e,t,r,i,u){var l=(e-n)*i+n,f=(t-e)*i+e,h=(r-t)*i+t,g=(f-l)*i+l,y=(h-f)*i+f,b=(y-g)*i+g;u[0]=n,u[1]=l,u[2]=g,u[3]=b,u[4]=b,u[5]=y,u[6]=h,u[7]=r}function KPe(n,e,t,r,i,u,l,f,h,g,y){var b,S=.005,_=1/0,k,E,R,I;oy[0]=h,oy[1]=g;for(var z=0;z<1;z+=.05)jm[0]=pc(n,t,i,l,z),jm[1]=pc(e,r,u,f,z),R=fM(oy,jm),R<_&&(b=z,_=R);_=1/0;for(var L=0;L<32&&!(S<Tpe);L++)k=b-S,E=b+S,jm[0]=pc(n,t,i,l,k),jm[1]=pc(e,r,u,f,k),R=fM(jm,oy),k>=0&&R<_?(b=k,_=R):(A3[0]=pc(n,t,i,l,E),A3[1]=pc(e,r,u,f,E),I=fM(A3,oy),E<=1&&I<_?(b=E,_=I):S*=.5);return y&&(y[0]=pc(n,t,i,l,b),y[1]=pc(e,r,u,f,b)),q2(_)}function JPe(n,e,t,r,i,u,l,f,h){for(var g=n,y=e,b=0,S=1/h,_=1;_<=h;_++){var k=_*S,E=pc(n,t,i,l,k),R=pc(e,r,u,f,k),I=E-g,z=R-y;b+=Math.sqrt(I*I+z*z),g=E,y=R}return b}function Wf(n,e,t,r){var i=1-r;return i*(i*n+2*r*e)+r*r*t}function nae(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function ZPe(n,e,t,r,i){var u=n-2*e+t,l=2*(e-n),f=n-r,h=0;if(N2(u)){if(Mpe(l)){var g=-f/l;g>=0&&g<=1&&(i[h++]=g)}}else{var y=l*l-4*u*f;if(N2(y)){var g=-l/(2*u);g>=0&&g<=1&&(i[h++]=g)}else if(y>0){var b=q2(y),g=(-l+b)/(2*u),S=(-l-b)/(2*u);g>=0&&g<=1&&(i[h++]=g),S>=0&&S<=1&&(i[h++]=S)}}return h}function Dpe(n,e,t){var r=n+t-2*e;return r===0?.5:(n-e)/r}function ZV(n,e,t,r,i){var u=(e-n)*r+n,l=(t-e)*r+e,f=(l-u)*r+u;i[0]=n,i[1]=u,i[2]=f,i[3]=f,i[4]=l,i[5]=t}function QPe(n,e,t,r,i,u,l,f,h){var g,y=.005,b=1/0;oy[0]=l,oy[1]=f;for(var S=0;S<1;S+=.05){jm[0]=Wf(n,t,i,S),jm[1]=Wf(e,r,u,S);var _=fM(oy,jm);_<b&&(g=S,b=_)}b=1/0;for(var k=0;k<32&&!(y<Tpe);k++){var E=g-y,R=g+y;jm[0]=Wf(n,t,i,E),jm[1]=Wf(e,r,u,E);var _=fM(jm,oy);if(E>=0&&_<b)g=E,b=_;else{A3[0]=Wf(n,t,i,R),A3[1]=Wf(e,r,u,R);var I=fM(A3,oy);R<=1&&I<b?(g=R,b=I):y*=.5}}return h&&(h[0]=Wf(n,t,i,g),h[1]=Wf(e,r,u,g)),q2(b)}function eNe(n,e,t,r,i,u,l){for(var f=n,h=e,g=0,y=1/l,b=1;b<=l;b++){var S=b*y,_=Wf(n,t,i,S),k=Wf(e,r,u,S),E=_-f,R=k-h;g+=Math.sqrt(E*E+R*R),f=_,h=k}return g}var tNe=/cubic-bezier\(([0-9,\.e ]+)\)/;function Ape(n){var e=n&&tNe.exec(n);if(e){var t=e[1].split(","),r=+Xm(t[0]),i=+Xm(t[1]),u=+Xm(t[2]),l=+Xm(t[3]);if(isNaN(r+i+u+l))return;var f=[];return function(h){return h<=0?0:h>=1?1:KV(0,r,u,1,h,f)&&pc(0,i,l,1,f[0])}}}var nNe=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||uf,this.ondestroy=e.ondestroy||uf,this.onrestart=e.onrestart||uf,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var r=this._life,i=e-this._startTime-this._pausedTime,u=i/r;u<0&&(u=0),u=Math.min(u,1);var l=this.easingFunc,f=l?l(u):u;if(this.onframe(f),u===1)if(this.loop){var h=i%r;this._startTime=e-h,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Eo(e)?e:Cpe[e]||Ape(e)},n}();const rNe=nNe;var Epe=function(){function n(e){this.value=e}return n}(),oNe=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new Epe(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),iNe=function(){function n(e){this._list=new oNe,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,i=this._map,u=null;if(i[e]==null){var l=r.len(),f=this._lastRemovedEntry;if(l>=this._maxSize&&l>0){var h=r.head;r.remove(h),delete i[h.key],u=h.value,this._lastRemovedEntry=h}f?f.value=t:f=new Epe(t),f.key=e,r.insertEntry(f),i[e]=f}return u},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const RL=iNe;var rae={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Sv(n){return n=Math.round(n),n<0?0:n>255?255:n}function aNe(n){return n=Math.round(n),n<0?0:n>360?360:n}function JN(n){return n<0?0:n>1?1:n}function yK(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?Sv(parseFloat(e)/100*255):Sv(parseInt(e,10))}function dM(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?JN(parseFloat(e)/100):JN(parseFloat(e))}function bK(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function L2(n,e,t){return n+(e-n)*t}function Lm(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function IZ(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var Ope=new RL(20),fF=null;function JE(n,e){fF&&IZ(fF,e),fF=Ope.put(n,fF||e.slice())}function _h(n,e){if(n){e=e||[];var t=Ope.get(n);if(t)return IZ(e,t);n=n+"";var r=n.replace(/ /g,"").toLowerCase();if(r in rae)return IZ(e,rae[r]),JE(n,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var u=parseInt(r.slice(1,4),16);if(!(u>=0&&u<=4095)){Lm(e,0,0,0,1);return}return Lm(e,(u&3840)>>4|(u&3840)>>8,u&240|(u&240)>>4,u&15|(u&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),JE(n,e),e}else if(i===7||i===9){var u=parseInt(r.slice(1,7),16);if(!(u>=0&&u<=16777215)){Lm(e,0,0,0,1);return}return Lm(e,(u&16711680)>>16,(u&65280)>>8,u&255,i===9?parseInt(r.slice(7),16)/255:1),JE(n,e),e}return}var l=r.indexOf("("),f=r.indexOf(")");if(l!==-1&&f+1===i){var h=r.substr(0,l),g=r.substr(l+1,f-(l+1)).split(","),y=1;switch(h){case"rgba":if(g.length!==4)return g.length===3?Lm(e,+g[0],+g[1],+g[2],1):Lm(e,0,0,0,1);y=dM(g.pop());case"rgb":if(g.length>=3)return Lm(e,yK(g[0]),yK(g[1]),yK(g[2]),g.length===3?y:dM(g[3])),JE(n,e),e;Lm(e,0,0,0,1);return;case"hsla":if(g.length!==4){Lm(e,0,0,0,1);return}return g[3]=dM(g[3]),RZ(g,e),JE(n,e),e;case"hsl":if(g.length!==3){Lm(e,0,0,0,1);return}return RZ(g,e),JE(n,e),e;default:return}}Lm(e,0,0,0,1)}}function RZ(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=dM(n[1]),i=dM(n[2]),u=i<=.5?i*(r+1):i+r-i*r,l=i*2-u;return e=e||[],Lm(e,Sv(bK(l,u,t+1/3)*255),Sv(bK(l,u,t)*255),Sv(bK(l,u,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function uNe(n){if(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),u=Math.max(e,t,r),l=u-i,f=(u+i)/2,h,g;if(l===0)h=0,g=0;else{f<.5?g=l/(u+i):g=l/(2-u-i);var y=((u-e)/6+l/2)/l,b=((u-t)/6+l/2)/l,S=((u-r)/6+l/2)/l;e===u?h=S-b:t===u?h=1/3+y-S:r===u&&(h=2/3+b-y),h<0&&(h+=1),h>1&&(h-=1)}var _=[h*360,g,f];return n[3]!=null&&_.push(n[3]),_}}function PZ(n,e){var t=_h(n);if(t){for(var r=0;r<3;r++)e<0?t[r]=t[r]*(1-e)|0:t[r]=(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return Cv(t,t.length===4?"rgba":"rgb")}}function sNe(n){var e=_h(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function EN(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){t=t||[];var r=n*(e.length-1),i=Math.floor(r),u=Math.ceil(r),l=e[i],f=e[u],h=r-i;return t[0]=Sv(L2(l[0],f[0],h)),t[1]=Sv(L2(l[1],f[1],h)),t[2]=Sv(L2(l[2],f[2],h)),t[3]=JN(L2(l[3],f[3],h)),t}}var lNe=EN;function Wee(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){var r=n*(e.length-1),i=Math.floor(r),u=Math.ceil(r),l=_h(e[i]),f=_h(e[u]),h=r-i,g=Cv([Sv(L2(l[0],f[0],h)),Sv(L2(l[1],f[1],h)),Sv(L2(l[2],f[2],h)),JN(L2(l[3],f[3],h))],"rgba");return t?{color:g,leftIndex:i,rightIndex:u,value:r}:g}}var cNe=Wee;function pV(n,e,t,r){var i=_h(n);if(n)return i=uNe(i),e!=null&&(i[0]=aNe(e)),t!=null&&(i[1]=dM(t)),r!=null&&(i[2]=dM(r)),Cv(RZ(i),"rgba")}function Ipe(n,e){var t=_h(n);if(t&&e!=null)return t[3]=JN(e),Cv(t,"rgba")}function Cv(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function ZN(n,e){var t=_h(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function fNe(){return Cv([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}const dNe=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:EN,fastMapToColor:lNe,lerp:Wee,lift:PZ,lum:ZN,mapToColor:cNe,modifyAlpha:Ipe,modifyHSL:pV,parse:_h,random:fNe,stringify:Cv,toHex:sNe},Symbol.toStringTag,{value:"Module"}));function hNe(n){return n.type==="linear"}function pNe(n){return n.type==="radial"}(function(){return Ni.hasGlobalWindow&&Eo(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})();var NZ=Array.prototype.slice;function bb(n,e,t){return(e-n)*t+n}function xK(n,e,t,r){for(var i=e.length,u=0;u<i;u++)n[u]=bb(e[u],t[u],r);return n}function mNe(n,e,t,r){for(var i=e.length,u=i&&e[0].length,l=0;l<i;l++){n[l]||(n[l]=[]);for(var f=0;f<u;f++)n[l][f]=bb(e[l][f],t[l][f],r)}return n}function dF(n,e,t,r){for(var i=e.length,u=0;u<i;u++)n[u]=e[u]+t[u]*r;return n}function oae(n,e,t,r){for(var i=e.length,u=i&&e[0].length,l=0;l<i;l++){n[l]||(n[l]=[]);for(var f=0;f<u;f++)n[l][f]=e[l][f]+t[l][f]*r}return n}function gNe(n,e){for(var t=n.length,r=e.length,i=t>r?e:n,u=Math.min(t,r),l=i[u-1]||{color:[0,0,0,0],offset:0},f=u;f<Math.max(t,r);f++)i.push({offset:l.offset,color:l.color.slice()})}function vNe(n,e,t){var r=n,i=e;if(!(!r.push||!i.push)){var u=r.length,l=i.length;if(u!==l){var f=u>l;if(f)r.length=l;else for(var h=u;h<l;h++)r.push(t===1?i[h]:NZ.call(i[h]))}for(var g=r[0]&&r[0].length,h=0;h<r.length;h++)if(t===1)isNaN(r[h])&&(r[h]=i[h]);else for(var y=0;y<g;y++)isNaN(r[h][y])&&(r[h][y]=i[h][y])}}function ON(n){if(Gf(n)){var e=n.length;if(Gf(n[0])){for(var t=[],r=0;r<e;r++)t.push(NZ.call(n[r]));return t}return NZ.call(n)}return n}function mV(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function yNe(n){return Gf(n&&n[0])?2:1}var hF=0,gV=1,Rpe=2,cN=3,LZ=4,BZ=5,iae=6;function aae(n){return n===LZ||n===BZ}function pF(n){return n===gV||n===Rpe}var LP=[0,0,0,0],bNe=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var i=this.keyframes,u=i.length,l=!1,f=iae,h=t;if(Gf(t)){var g=yNe(t);f=g,(g===1&&!lu(t[0])||g===2&&!lu(t[0][0]))&&(l=!0)}else if(lu(t)&&!KN(t))f=hF;else if(Lr(t))if(!isNaN(+t))f=hF;else{var y=_h(t);y&&(h=y,f=cN)}else if(EL(t)){var b=Gn({},h);b.colorStops=br(t.colorStops,function(_){return{offset:_.offset,color:_h(_.color)}}),hNe(t)?f=LZ:pNe(t)&&(f=BZ),h=b}u===0?this.valType=f:(f!==this.valType||f===iae)&&(l=!0),this.discrete=this.discrete||l;var S={time:e,value:h,rawValue:t,percent:0};return r&&(S.easing=r,S.easingFunc=Eo(r)?r:Cpe[r]||Ape(r)),i.push(S),S},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(E,R){return E.time-R.time});for(var i=this.valType,u=r.length,l=r[u-1],f=this.discrete,h=pF(i),g=aae(i),y=0;y<u;y++){var b=r[y],S=b.value,_=l.value;b.percent=b.time/e,f||(h&&y!==u-1?vNe(S,_,i):g&&gNe(S.colorStops,_.colorStops))}if(!f&&i!==BZ&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var k=r[0].value,y=0;y<u;y++)i===hF?r[y].additiveValue=r[y].value-k:i===cN?r[y].additiveValue=dF([],r[y].value,k,-1):pF(i)&&(r[y].additiveValue=i===gV?dF([],r[y].value,k,-1):oae([],r[y].value,k,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",u=this.valType,l=this.keyframes,f=l.length,h=this.propName,g=u===cN,y,b=this._lastFr,S=Math.min,_,k;if(f===1)_=k=l[0];else{if(t<0)y=0;else if(t<this._lastFrP){var E=S(b+1,f-1);for(y=E;y>=0&&!(l[y].percent<=t);y--);y=S(y,f-2)}else{for(y=b;y<f&&!(l[y].percent>t);y++);y=S(y-1,f-2)}k=l[y+1],_=l[y]}if(_&&k){this._lastFr=y,this._lastFrP=t;var R=k.percent-_.percent,I=R===0?1:S((t-_.percent)/R,1);k.easingFunc&&(I=k.easingFunc(I));var z=r?this._additiveValue:g?LP:e[h];if((pF(u)||g)&&!z&&(z=this._additiveValue=[]),this.discrete)e[h]=I<1?_.rawValue:k.rawValue;else if(pF(u))u===gV?xK(z,_[i],k[i],I):mNe(z,_[i],k[i],I);else if(aae(u)){var L=_[i],q=k[i],X=u===LZ;e[h]={type:X?"linear":"radial",x:bb(L.x,q.x,I),y:bb(L.y,q.y,I),colorStops:br(L.colorStops,function(ae,te){var ie=q.colorStops[te];return{offset:bb(ae.offset,ie.offset,I),color:mV(xK([],ae.color,ie.color,I))}}),global:q.global},X?(e[h].x2=bb(L.x2,q.x2,I),e[h].y2=bb(L.y2,q.y2,I)):e[h].r=bb(L.r,q.r,I)}else if(g)xK(z,_[i],k[i],I),r||(e[h]=mV(z));else{var Y=bb(_[i],k[i],I);r?this._additiveValue=Y:e[h]=Y}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,i=this._additiveValue;t===hF?e[r]=e[r]+i:t===cN?(_h(e[r],LP),dF(LP,LP,i,1),e[r]=mV(LP)):t===gV?dF(e[r],e[r],i,1):t===Rpe&&oae(e[r],e[r],i,1)},n}(),xNe=function(){function n(e,t,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){GH("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,va(t),r)},n.prototype.whenWithKeys=function(e,t,r,i){for(var u=this._tracks,l=0;l<r.length;l++){var f=r[l],h=u[f];if(!h){h=u[f]=new bNe(f);var g=void 0,y=this._getAdditiveTrack(f);if(y){var b=y.keyframes,S=b[b.length-1];g=S&&S.value,y.valType===cN&&g&&(g=mV(g))}else g=this._target[f];if(g==null)continue;e>0&&h.addKeyframe(0,ON(g),i),this._trackKeys.push(f)}h.addKeyframe(e,ON(t[f]),i)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var u=r[i].getTrack(e);u&&(t=u)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,u=0;u<this._trackKeys.length;u++){var l=this._trackKeys[u],f=this._tracks[l],h=this._getAdditiveTrack(l),g=f.keyframes,y=g.length;if(f.prepare(i,h),f.needsAnimate())if(!this._allowDiscrete&&f.discrete){var b=g[y-1];b&&(t._target[f.propName]=b.rawValue),f.setFinished()}else r.push(f)}if(r.length||this._force){var S=new rNe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(_){t._started=2;var k=t._additiveAnimators;if(k){for(var E=!1,R=0;R<k.length;R++)if(k[R]._clip){E=!0;break}E||(t._additiveAnimators=null)}for(var R=0;R<r.length;R++)r[R].step(t._target,_);var I=t._onframeCbs;if(I)for(var R=0;R<I.length;R++)I[R](t._target,_)},ondestroy:function(){t._doneCallback()}});this._clip=S,this.animation&&this.animation.addClip(S),e&&S.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return br(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,u=0;u<e.length;u++){var l=r[e[u]];l&&!l.isFinished()&&(t?l.step(this._target,1):this._started===1&&l.step(this._target,0),l.setFinished())}for(var f=!0,u=0;u<i.length;u++)if(!r[i[u]].isFinished()){f=!1;break}return f&&this._abortedCallback(),f},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var u=t[i],l=this._tracks[u];if(!(!l||l.isFinished())){var f=l.keyframes,h=f[r?0:f.length-1];h&&(e[u]=ON(h.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||va(e);for(var r=0;r<t.length;r++){var i=t[r],u=this._tracks[i];if(u){var l=u.keyframes;if(l.length>1){var f=l.pop();u.addKeyframe(f.time,e[i]),u.prepare(this._maxTime,u.getAdditiveTrack())}}}},n}();const Uee=xNe;function w3(){return new Date().getTime()}var wNe=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,t=t||{},r.stage=t.stage||{},r}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=w3()-this._pausedTime,i=r-this._time,u=this._head;u;){var l=u.next,f=u.step(r,i);f&&(u.ondestroy(),this.removeClip(u)),u=l}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function r(){t._running&&(OZ(r),!t._paused&&t.update())}OZ(r)},e.prototype.start=function(){this._running||(this._time=w3(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=w3(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=w3()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,r){r=r||{},this.start();var i=new Uee(t,r.loop);return this.addAnimator(i),i},e}(Qm);const _Ne=wNe;var SNe=300,wK=Ni.domSupported,_K=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=br(n,function(i){var u=i.replace("mouse","pointer");return t.hasOwnProperty(u)?u:i});return{mouse:n,touch:e,pointer:r}}(),uae={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},sae=!1;function zZ(n){var e=n.pointerType;return e==="pen"||e==="touch"}function CNe(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function SK(n){n&&(n.zrByTouch=!0)}function TNe(n,e){return zm(n.dom,new MNe(n,e),!0)}function Ppe(n,e){for(var t=e,r=!1;t&&t.nodeType!==9&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var MNe=function(){function n(e,t){this.stopPropagation=uf,this.stopImmediatePropagation=uf,this.preventDefault=uf,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n}(),yv={mousedown:function(n){n=zm(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=zm(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=zm(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=zm(this.dom,n);var e=n.toElement||n.relatedTarget;Ppe(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){sae=!0,n=zm(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){sae||(n=zm(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=zm(this.dom,n),SK(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),yv.mousemove.call(this,n),yv.mousedown.call(this,n)},touchmove:function(n){n=zm(this.dom,n),SK(n),this.handler.processGesture(n,"change"),yv.mousemove.call(this,n)},touchend:function(n){n=zm(this.dom,n),SK(n),this.handler.processGesture(n,"end"),yv.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<SNe&&yv.click.call(this,n)},pointerdown:function(n){yv.mousedown.call(this,n)},pointermove:function(n){zZ(n)||yv.mousemove.call(this,n)},pointerup:function(n){yv.mouseup.call(this,n)},pointerout:function(n){zZ(n)||yv.mouseout.call(this,n)}};Te(["click","dblclick","contextmenu"],function(n){yv[n]=function(e){e=zm(this.dom,e),this.trigger(n,e)}});var FZ={pointermove:function(n){zZ(n)||FZ.mousemove.call(this,n)},pointerup:function(n){FZ.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function kNe(n,e){var t=e.domHandlers;Ni.pointerEventsSupported?Te(_K.pointer,function(r){vV(e,r,function(i){t[r].call(n,i)})}):(Ni.touchEventsSupported&&Te(_K.touch,function(r){vV(e,r,function(i){t[r].call(n,i),CNe(e)})}),Te(_K.mouse,function(r){vV(e,r,function(i){i=Hee(i),e.touching||t[r].call(n,i)})}))}function DNe(n,e){Ni.pointerEventsSupported?Te(uae.pointer,t):Ni.touchEventsSupported||Te(uae.mouse,t);function t(r){function i(u){u=Hee(u),Ppe(n,u.target)||(u=TNe(n,u),e.domHandlers[r].call(n,u))}vV(e,r,i,{capture:!0})}}function vV(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,EZ(n.domTarget,e,t,r)}function CK(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&IPe(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var lae=function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n}(),ANe=function(n){Tn(e,n);function e(t,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new lae(t,yv),wK&&(i._globalHandlerScope=new lae(document,FZ)),kNe(i,i._localHandlerScope),i}return e.prototype.dispose=function(){CK(this._localHandlerScope),wK&&CK(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,wK&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?DNe(this,r):CK(r)}},e}(Qm);const ENe=ANe;var Npe=1;Ni.hasGlobalWindow&&(Npe=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var QV=Npe,VZ=.4,HZ="#333",jZ="#ccc",ONe="#eee",cae=IL,fae=5e-5;function OT(n){return n>fae||n<-fae}var IT=[],ZE=[],TK=Jm(),MK=Math.abs,INe=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return OT(this.rotation)||OT(this.x)||OT(this.y)||OT(this.scaleX-1)||OT(this.scaleY-1)||OT(this.skewX)||OT(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;if(!(t||e)){r&&(cae(r),this.invTransform=null);return}r=r||Jm(),t?this.getLocalTransform(r):cae(r),e&&(t?cy(r,e,r):YH(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(IT);var r=IT[0]<0?-1:1,i=IT[1]<0?-1:1,u=((IT[0]-r)*t+r)/IT[0]||0,l=((IT[1]-i)*t+i)/IT[1]||0;e[0]*=u,e[1]*=u,e[2]*=l,e[3]*=l}this.invTransform=this.invTransform||Jm(),c5(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),u=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(u),t=Math.sqrt(t),this.skewX=u,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(cy(ZE,e.invTransform,t),t=ZE);var r=this.originX,i=this.originY;(r||i)&&(TK[4]=r,TK[5]=i,cy(ZE,t,TK),ZE[4]-=r,ZE[5]-=i,t=ZE),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],i=this.invTransform;return i&&Ic(r,r,i),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],i=this.transform;return i&&Ic(r,r,i),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&MK(e[0]-1)>1e-10&&MK(e[3]-1)>1e-10?Math.sqrt(MK(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){RNe(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,i=e.originY||0,u=e.scaleX,l=e.scaleY,f=e.anchorX,h=e.anchorY,g=e.rotation||0,y=e.x,b=e.y,S=e.skewX?Math.tan(e.skewX):0,_=e.skewY?Math.tan(-e.skewY):0;if(r||i||f||h){var k=r+f,E=i+h;t[4]=-k*u-S*E*l,t[5]=-E*l-_*k*u}else t[4]=t[5]=0;return t[0]=u,t[3]=l,t[1]=_*u,t[2]=S*l,g&&i_(t,t,g),t[4]+=r+y,t[5]+=i+b,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),my=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function RNe(n,e){for(var t=0;t<my.length;t++){var r=my[t];n[r]=e[r]}}const nM=INe;var dae={};function Mp(n,e){e=e||wM;var t=dae[e];t||(t=dae[e]=new RL(500));var r=t.get(n);return r==null&&(r=Ob.measureText(n,e).width,t.put(n,r)),r}function hae(n,e,t,r){var i=Mp(n,e),u=qee(e),l=fN(0,i,t),f=y3(0,u,r),h=new vi(l,f,i,u);return h}function PL(n,e,t,r){var i=((n||"")+"").split(`
`),u=i.length;if(u===1)return hae(i[0],e,t,r);for(var l=new vi(0,0,0,0),f=0;f<i.length;f++){var h=hae(i[f],e,t,r);f===0?l.copy(h):l.union(h)}return l}function fN(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function y3(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function qee(n){return Mp("国",n)}function kv(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function eH(n,e,t){var r=e.position||"inside",i=e.distance!=null?e.distance:5,u=t.height,l=t.width,f=u/2,h=t.x,g=t.y,y="left",b="top";if(r instanceof Array)h+=kv(r[0],t.width),g+=kv(r[1],t.height),y=null,b=null;else switch(r){case"left":h-=i,g+=f,y="right",b="middle";break;case"right":h+=i+l,g+=f,b="middle";break;case"top":h+=l/2,g-=i,y="center",b="bottom";break;case"bottom":h+=l/2,g+=u+i,y="center";break;case"inside":h+=l/2,g+=f,y="center",b="middle";break;case"insideLeft":h+=i,g+=f,b="middle";break;case"insideRight":h+=l-i,g+=f,y="right",b="middle";break;case"insideTop":h+=l/2,g+=i,y="center";break;case"insideBottom":h+=l/2,g+=u-i,y="center",b="bottom";break;case"insideTopLeft":h+=i,g+=i;break;case"insideTopRight":h+=l-i,g+=i,y="right";break;case"insideBottomLeft":h+=i,g+=u-i,b="bottom";break;case"insideBottomRight":h+=l-i,g+=u-i,y="right",b="bottom";break}return n=n||{},n.x=h,n.y=g,n.align=y,n.verticalAlign=b,n}var kK="__zr_normal__",DK=my.concat(["ignore"]),PNe=Km(my,function(n,e){return n[e]=!0,n},{ignore:!1}),QE={},NNe=new vi(0,0,0,0),$ee=function(){function n(e){this.id=Nee(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,u=t.innerTransformable,l=void 0,f=void 0,h=!1;u.parent=i?this:null;var g=!1;if(u.copyTransform(t),r.position!=null){var y=NNe;r.layoutRect?y.copy(r.layoutRect):y.copy(this.getBoundingRect()),i||y.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(QE,r,y):eH(QE,r,y),u.x=QE.x,u.y=QE.y,l=QE.align,f=QE.verticalAlign;var b=r.origin;if(b&&r.rotation!=null){var S=void 0,_=void 0;b==="center"?(S=y.width*.5,_=y.height*.5):(S=kv(b[0],y.width),_=kv(b[1],y.height)),g=!0,u.originX=-u.x+S+(i?0:y.x),u.originY=-u.y+_+(i?0:y.y)}}r.rotation!=null&&(u.rotation=r.rotation);var k=r.offset;k&&(u.x+=k[0],u.y+=k[1],g||(u.originX=-k[0],u.originY=-k[1]));var E=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,R=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),I=void 0,z=void 0,L=void 0;E&&this.canBeInsideText()?(I=r.insideFill,z=r.insideStroke,(I==null||I==="auto")&&(I=this.getInsideTextFill()),(z==null||z==="auto")&&(z=this.getInsideTextStroke(I),L=!0)):(I=r.outsideFill,z=r.outsideStroke,(I==null||I==="auto")&&(I=this.getOutsideFill()),(z==null||z==="auto")&&(z=this.getOutsideStroke(I),L=!0)),I=I||"#000",(I!==R.fill||z!==R.stroke||L!==R.autoStroke||l!==R.align||f!==R.verticalAlign)&&(h=!0,R.fill=I,R.stroke=z,R.autoStroke=L,R.align=l,R.verticalAlign=f,t.setDefaultTextStyle(R)),t.__dirty|=Cp,h&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?jZ:HZ},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r=typeof t=="string"&&_h(t);r||(r=[255,255,255,1]);for(var i=r[3],u=this.__zr.isDarkMode(),l=0;l<3;l++)r[l]=r[l]*i+(u?0:255)*(1-i);return r[3]=1,Cv(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},Gn(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(no(e))for(var r=e,i=va(r),u=0;u<i.length;u++){var l=i[u];this.attrKV(l,e[l])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],u=i.__fromStateTransition;if(!(i.getLoop()||u&&u!==kK)){var l=i.targetName,f=l?t[l]:t;i.saveTo(f)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,DK)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var i=0;i<r.length;i++){var u=r[i];e[u]!=null&&!(u in t)&&(t[u]=this[u])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(kK,!1,e)},n.prototype.useState=function(e,t,r,i){var u=e===kK,l=this.hasState();if(!(!l&&u)){var f=this.currentStates,h=this.stateTransition;if(!(Di(f,e)>=0&&(t||f.length===1))){var g;if(this.stateProxy&&!u&&(g=this.stateProxy(e)),g||(g=this.states&&this.states[e]),!g&&!u){GH("State "+e+" not exists.");return}u||this.saveCurrentToNormalState(g);var y=!!(g&&g.hoverLayer||i);y&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,g,this._normalState,t,!r&&!this.__inHover&&h&&h.duration>0,h);var b=this._textContent,S=this._textGuide;return b&&b.useState(e,t,r,y),S&&S.useState(e,t,r,y),u?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!y&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Cp),g}}},n.prototype.useStates=function(e,t,r){if(!e.length)this.clearStates();else{var i=[],u=this.currentStates,l=e.length,f=l===u.length;if(f){for(var h=0;h<l;h++)if(e[h]!==u[h]){f=!1;break}}if(f)return;for(var h=0;h<l;h++){var g=e[h],y=void 0;this.stateProxy&&(y=this.stateProxy(g,e)),y||(y=this.states[g]),y&&i.push(y)}var b=i[l-1],S=!!(b&&b.hoverLayer||r);S&&this._toggleHoverLayerFlag(!0);var _=this._mergeStates(i),k=this.stateTransition;this.saveCurrentToNormalState(_),this._applyStateObj(e.join(","),_,this._normalState,!1,!t&&!this.__inHover&&k&&k.duration>0,k);var E=this._textContent,R=this._textGuide;E&&E.useStates(e,t,S),R&&R.useStates(e,t,S),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!S&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Cp)}},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=Di(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var i=this.currentStates.slice(),u=Di(i,e),l=Di(i,t)>=0;u>=0?l?i.splice(u,1):i[u]=t:r&&!l&&i.push(t),this.useStates(i)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},r,i=0;i<e.length;i++){var u=e[i];Gn(t,u),u.textConfig&&(r=r||{},Gn(r,u.textConfig))}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,i,u,l){var f=!(t&&i);t&&t.textConfig?(this.textConfig=Gn({},i?this.textConfig:r.textConfig),Gn(this.textConfig,t.textConfig)):f&&r.textConfig&&(this.textConfig=r.textConfig);for(var h={},g=!1,y=0;y<DK.length;y++){var b=DK[y],S=u&&PNe[b];t&&t[b]!=null?S?(g=!0,h[b]=t[b]):this[b]=t[b]:f&&r[b]!=null&&(S?(g=!0,h[b]=r[b]):this[b]=r[b])}if(!u)for(var y=0;y<this.animators.length;y++){var _=this.animators[y],k=_.targetName;_.getLoop()||_.__changeFinalValue(k?(t||r)[k]:t||r)}g&&this._transitionState(e,h,l)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new nM,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Gn(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=Cp;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var i=e?this[e]:this,u=new Uee(i,t,r);return e&&(u.targetName=e),this.addAnimator(u,e),u},n.prototype.addAnimator=function(e,t){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var u=i.animators,l=Di(u,e);l>=0&&u.splice(l,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,i=r.length,u=[],l=0;l<i;l++){var f=r[l];!e||e===f.scope?f.stop(t):u.push(f)}return this.animators=u,this},n.prototype.animateTo=function(e,t,r){AK(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){AK(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,i){for(var u=AK(this,t,r,i),l=0;l<u.length;l++)u[l].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Cp;function t(r,i,u,l){Object.defineProperty(e,r,{get:function(){if(!this[i]){var h=this[i]=[];f(this,h)}return this[i]},set:function(h){this[u]=h[0],this[l]=h[1],this[i]=h,f(this,h)}});function f(h,g){Object.defineProperty(g,0,{get:function(){return h[u]},set:function(y){h[u]=y}}),Object.defineProperty(g,1,{get:function(){return h[l]},set:function(y){h[l]=y}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),n}();ff($ee,Qm);ff($ee,nM);function AK(n,e,t,r,i){t=t||{};var u=[];Lpe(n,"",n,e,t,r,u,i);var l=u.length,f=!1,h=t.done,g=t.aborted,y=function(){f=!0,l--,l<=0&&(f?h&&h():g&&g())},b=function(){l--,l<=0&&(f?h&&h():g&&g())};l||h&&h(),u.length>0&&t.during&&u[0].during(function(k,E){t.during(E)});for(var S=0;S<u.length;S++){var _=u[S];y&&_.done(y),b&&_.aborted(b),t.force&&_.duration(t.duration),_.start(t.easing)}return u}function EK(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function LNe(n){return Gf(n[0])}function BNe(n,e,t){if(Gf(e[t]))if(Gf(n[t])||(n[t]=[]),Mh(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),EK(n[t],e[t],r))}else{var i=e[t],u=n[t],l=i.length;if(LNe(i))for(var f=i[0].length,h=0;h<l;h++)u[h]?EK(u[h],i[h],f):u[h]=Array.prototype.slice.call(i[h]);else EK(u,i,l);u.length=i.length}else n[t]=e[t]}function zNe(n,e){return n===e||Gf(n)&&Gf(e)&&FNe(n,e)}function FNe(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function Lpe(n,e,t,r,i,u,l,f){for(var h=va(r),g=i.duration,y=i.delay,b=i.additive,S=i.setToFinal,_=!no(u),k=n.animators,E=[],R=0;R<h.length;R++){var I=h[R],z=r[I];if(z!=null&&t[I]!=null&&(_||u[I]))if(no(z)&&!Gf(z)&&!EL(z)){if(e){f||(t[I]=z,n.updateDuringAnimation(e));continue}Lpe(n,I,t[I],z,i,u&&u[I],l,f)}else E.push(I);else f||(t[I]=z,n.updateDuringAnimation(e),E.push(I))}var L=E.length;if(!b&&L)for(var q=0;q<k.length;q++){var X=k[q];if(X.targetName===e){var Y=X.stopTracks(E);if(Y){var ae=Di(k,X);k.splice(ae,1)}}}if(i.force||(E=Ls(E,function(ce){return!zNe(r[ce],t[ce])}),L=E.length),L>0||i.force&&!l.length){var te=void 0,ie=void 0,le=void 0;if(f){ie={},S&&(te={});for(var q=0;q<L;q++){var I=E[q];ie[I]=t[I],S?te[I]=r[I]:t[I]=r[I]}}else if(S){le={};for(var q=0;q<L;q++){var I=E[q];le[I]=ON(t[I]),BNe(t,r,I)}}var X=new Uee(t,!1,!1,b?Ls(k,function(ne){return ne.targetName===e}):null);X.targetName=e,i.scope&&(X.scope=i.scope),S&&te&&X.whenWithKeys(0,te,E),le&&X.whenWithKeys(0,le,E),X.whenWithKeys(g??500,f?ie:r,E).delay(y||0),n.addAnimator(X,e),l.push(X)}}const Bpe=$ee;var zpe=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t))),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,u=i.indexOf(r);u>=0&&(i.splice(u,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var i=Di(this._children,t);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(t,r){var i=this._children,u=i[r];if(t&&t!==this&&t.parent!==this&&t!==u){i[r]=t,u.parent=null;var l=this.__zr;l&&u.removeSelfFromZr(l),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,i=this._children,u=Di(i,t);return u<0?this:(i.splice(u,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var u=t[i];r&&u.removeSelfFromZr(r),u.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var i=this._children,u=0;u<i.length;u++){var l=i[u];t.call(r,l,u)}return this},e.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var u=this._children[i],l=t.call(r,u);u.isGroup&&!l&&u.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var r=new vi(0,0,0,0),i=t||this._children,u=[],l=null,f=0;f<i.length;f++){var h=i[f];if(!(h.ignore||h.invisible)){var g=h.getBoundingRect(),y=h.getLocalTransform(u);y?(vi.applyTransform(r,g,y),l=l||r.clone(),l.union(r)):(l=l||g.clone(),l.union(g))}}return l||r},e}(Bpe);zpe.prototype.type="group";const hi=zpe;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var yV={},rM={};function VNe(n){delete rM[n]}function HNe(n){if(!n)return!1;if(typeof n=="string")return ZN(n,1)<VZ;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,i=0;i<r;i++)t+=ZN(e[i].color,1);return t/=r,t<VZ}return!1}var jNe=function(){function n(e,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var u=new YPe,l=r.renderer||"canvas";yV[l]||(l=va(yV)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var f=new yV[l](t,u,r,e),h=r.ssr||f.ssrOnly;this.storage=u,this.painter=f;var g=!Ni.node&&!Ni.worker&&!h?new ENe(f.getViewportRoot(),f.root):null,y=r.useCoarsePointer,b=y==null||y==="auto"?Ni.touchEventsSupported:!!y,S=44,_;b&&(_=Xi(r.pointerSize,S)),this.handler=new UPe(u,f,g,f.root,_),this.animation=new _Ne({stage:{update:h?null:function(){return i._flush(!0)}}}),h||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=HNe(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,r=w3();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=w3();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof hi&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,VNe(this.id)},n}();function WZ(n,e){var t=new jNe(Nee(),n,e);return rM[t.id]=t,t}function WNe(n){n.dispose()}function UNe(){for(var n in rM)rM.hasOwnProperty(n)&&rM[n].dispose();rM={}}function qNe(n){return rM[n]}function Fpe(n,e){yV[n]=e}var $Ne="5.4.4";const GNe=Object.freeze(Object.defineProperty({__proto__:null,dispose:WNe,disposeAll:UNe,getInstance:qNe,init:WZ,registerPainter:Fpe,version:$Ne},Symbol.toStringTag,{value:"Module"}));var pae=1e-4,Vpe=20;function XNe(n){return n.replace(/^\s+|\s+$/g,"")}function rs(n,e,t,r){var i=e[0],u=e[1],l=t[0],f=t[1],h=u-i,g=f-l;if(h===0)return g===0?l:(l+f)/2;if(r)if(h>0){if(n<=i)return l;if(n>=u)return f}else{if(n>=i)return l;if(n<=u)return f}else{if(n===i)return l;if(n===u)return f}return(n-i)/h*g+l}function Xo(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return Lr(n)?XNe(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n}function el(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),Vpe),n=(+n).toFixed(e),t?n:+n}function ay(n){return n.sort(function(e,t){return e-t}),n}function uy(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return Hpe(n)}function Hpe(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,i=t>0?t:e.length,u=e.indexOf("."),l=u<0?0:i-1-u;return Math.max(0,l-r)}function Gee(n,e){var t=Math.log,r=Math.LN10,i=Math.floor(t(n[1]-n[0])/r),u=Math.round(t(Math.abs(e[1]-e[0]))/r),l=Math.min(Math.max(-i+u,0),20);return isFinite(l)?l:20}function YNe(n,e,t){if(!n[e])return 0;var r=jpe(n,t);return r[e]||0}function jpe(n,e){var t=Km(n,function(_,k){return _+(isNaN(k)?0:k)},0);if(t===0)return[];for(var r=Math.pow(10,e),i=br(n,function(_){return(isNaN(_)?0:_)/t*r*100}),u=r*100,l=br(i,function(_){return Math.floor(_)}),f=Km(l,function(_,k){return _+k},0),h=br(i,function(_,k){return _-l[k]});f<u;){for(var g=Number.NEGATIVE_INFINITY,y=null,b=0,S=h.length;b<S;++b)h[b]>g&&(g=h[b],y=b);++l[y],h[y]=0,++f}return br(l,function(_){return _/r})}function KNe(n,e){var t=Math.max(uy(n),uy(e)),r=n+e;return t>Vpe?r:el(r,t)}var JNe=9007199254740991;function Xee(n){var e=Math.PI*2;return(n%e+e)%e}function QN(n){return n>-pae&&n<pae}var ZNe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ap(n){if(n instanceof Date)return n;if(Lr(n)){var e=ZNe.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function Wpe(n){return Math.pow(10,KH(n))}function KH(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function Yee(n,e){var t=KH(n),r=Math.pow(10,t),i=n/r,u;return e?i<1.5?u=1:i<2.5?u=2:i<4?u=3:i<7?u=5:u=10:i<1?u=1:i<2?u=2:i<3?u=3:i<5?u=5:u=10,n=u*r,t>=-20?+n.toFixed(t<0?-t:0):n}function QNe(n,e){var t=(n.length-1)*e+1,r=Math.floor(t),i=+n[r-1],u=t-r;return u?i+u*(n[r]-i):i}function UZ(n){n.sort(function(h,g){return f(h,g,0)?-1:1});for(var e=-1/0,t=1,r=0;r<n.length;){for(var i=n[r].interval,u=n[r].close,l=0;l<2;l++)i[l]<=e&&(i[l]=e,u[l]=l?1:1-t),e=i[l],t=u[l];i[0]===i[1]&&u[0]*u[1]!==1?n.splice(r,1):r++}return n;function f(h,g,y){return h.interval[y]<g.interval[y]||h.interval[y]===g.interval[y]&&(h.close[y]-g.close[y]===(y?-1:1)||!y&&f(h,g,1))}}function eL(n){var e=parseFloat(n);return e==n&&(e!==0||!Lr(n)||n.indexOf("x")<=0)?e:NaN}function Kee(n){return!isNaN(eL(n))}function Upe(){return Math.round(Math.random()*9)}function qpe(n,e){return e===0?n:qpe(e,n%e)}function mae(n,e){return n==null?e:e==null?n:n*e/qpe(n,e)}function xh(n){throw new Error(n)}function gae(n,e,t){return(e-n)*t+n}var $pe="series\0",Gpe="\0_ec_\0";function Bs(n){return n instanceof Array?n:n==null?[]:[n]}function tH(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,i=t.length;r<i;r++){var u=t[r];!n.emphasis[e].hasOwnProperty(u)&&n[e].hasOwnProperty(u)&&(n.emphasis[e][u]=n[e][u])}}}var vae=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function f5(n){return no(n)&&!sr(n)&&!(n instanceof Date)?n.value:n}function eLe(n){return no(n)&&!(n instanceof Array)}function Xpe(n,e,t){var r=t==="normalMerge",i=t==="replaceMerge",u=t==="replaceAll";n=n||[],e=(e||[]).slice();var l=to();Te(e,function(h,g){if(!no(h)){e[g]=null;return}});var f=tLe(n,l,t);return(r||i)&&nLe(f,n,l,e),r&&rLe(f,e),r||i?oLe(f,e,i):u&&iLe(f,e),aLe(f),f}function tLe(n,e,t){var r=[];if(t==="replaceAll")return r;for(var i=0;i<n.length;i++){var u=n[i];u&&u.id!=null&&e.set(u.id,i),r.push({existing:t==="replaceMerge"||tL(u)?null:u,newOption:null,keyInfo:null,brandNew:null})}return r}function nLe(n,e,t,r){Te(r,function(i,u){if(!(!i||i.id==null)){var l=IN(i.id),f=t.get(l);if(f!=null){var h=n[f];Dp(!h.newOption,'Duplicated option on id "'+l+'".'),h.newOption=i,h.existing=e[f],r[u]=null}}})}function rLe(n,e){Te(e,function(t,r){if(!(!t||t.name==null))for(var i=0;i<n.length;i++){var u=n[i].existing;if(!n[i].newOption&&u&&(u.id==null||t.id==null)&&!tL(t)&&!tL(u)&&Ype("name",u,t)){n[i].newOption=t,e[r]=null;return}}})}function oLe(n,e,t){Te(e,function(r){if(r){for(var i,u=0;(i=n[u])&&(i.newOption||tL(i.existing)||i.existing&&r.id!=null&&!Ype("id",r,i.existing));)u++;i?(i.newOption=r,i.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),u++}})}function iLe(n,e){Te(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function aLe(n){var e=to();Te(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),Te(n,function(t){var r=t.newOption;Dp(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),Te(n,function(t,r){var i=t.existing,u=t.newOption,l=t.keyInfo;if(no(u)){if(l.name=u.name!=null?IN(u.name):i?i.name:$pe+r,i)l.id=IN(i.id);else if(u.id!=null)l.id=IN(u.id);else{var f=0;do l.id="\0"+l.name+"\0"+f++;while(e.get(l.id))}e.set(l.id,t)}})}function Ype(n,e,t){var r=$f(e[n],null),i=$f(t[n],null);return r!=null&&i!=null&&r===i}function IN(n){return $f(n,"")}function $f(n,e){return n==null?e:Lr(n)?n:lu(n)||qV(n)?n+"":e}function Jee(n){var e=n.name;return!!(e&&e.indexOf($pe))}function tL(n){return n&&n.id!=null&&IN(n.id).indexOf(Gpe)===0}function uLe(n){return Gpe+n}function sLe(n,e,t){Te(n,function(r){var i=r.newOption;no(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=lLe(e,i,r.existing,t))})}function lLe(n,e,t,r){var i=e.type?e.type:t?t.subType:r.determineSubType(n,e);return i}function cLe(n,e){var t={},r={};return i(n||[],t),i(e||[],r,t),[u(t),u(r)];function i(l,f,h){for(var g=0,y=l.length;g<y;g++){var b=$f(l[g].seriesId,null);if(b==null)return;for(var S=Bs(l[g].dataIndex),_=h&&h[b],k=0,E=S.length;k<E;k++){var R=S[k];_&&_[R]?_[R]=null:(f[b]||(f[b]={}))[R]=1}}}function u(l,f){var h=[];for(var g in l)if(l.hasOwnProperty(g)&&l[g]!=null)if(f)h.push(+g);else{var y=u(l[g],!0);y.length&&h.push({seriesId:g,dataIndex:y})}return h}}function _M(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return sr(e.dataIndex)?br(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return sr(e.name)?br(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function cu(){var n="__ec_inner_"+fLe++;return function(e){return e[n]||(e[n]={})}}var fLe=Upe();function RN(n,e,t){var r=Zee(e,t),i=r.mainTypeSpecified,u=r.queryOptionMap,l=r.others,f=l,h=t?t.defaultMainType:null;return!i&&h&&u.set(h,{}),u.each(function(g,y){var b=NL(n,y,g,{useDefault:h===y,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});f[y+"Models"]=b.models,f[y+"Model"]=b.models[0]}),f}function Zee(n,e){var t;if(Lr(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var i=to(),u={},l=!1;return Te(t,function(f,h){if(h==="dataIndex"||h==="dataIndexInside"){u[h]=f;return}var g=h.match(/^(\w+)(Index|Id|Name)$/)||[],y=g[1],b=(g[2]||"").toLowerCase();if(!(!y||!b||e&&e.includeMainTypes&&Di(e.includeMainTypes,y)<0)){l=l||!!y;var S=i.get(y)||i.set(y,{});S[b]=f}}),{mainTypeSpecified:l,queryOptionMap:i,others:u}}var mc={useDefault:!0,enableAll:!1,enableNone:!1},dLe={useDefault:!1,enableAll:!0,enableNone:!0};function NL(n,e,t,r){r=r||mc;var i=t.index,u=t.id,l=t.name,f={models:null,specified:i!=null||u!=null||l!=null};if(!f.specified){var h=void 0;return f.models=r.useDefault&&(h=n.getComponent(e))?[h]:[],f}return i==="none"||i===!1?(Dp(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):(i==="all"&&(Dp(r.enableAll,'`"all"` is not a valid value on index option.'),i=u=l=null),f.models=n.queryComponents({mainType:e,index:i,id:u,name:l}),f)}function Kpe(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function hLe(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function pLe(n){return n==="auto"?Ni.domSupported?"html":"richText":n||"html"}function mLe(n,e,t,r,i){var u=e==null||e==="auto";if(r==null)return r;if(lu(r)){var l=gae(t||0,r,i);return el(l,u?Math.max(uy(t||0),uy(r)):e)}else{if(Lr(r))return i<1?t:r;for(var f=[],h=t,g=r,y=Math.max(h?h.length:0,g.length),b=0;b<y;++b){var S=n.getDimensionInfo(b);if(S&&S.type==="ordinal")f[b]=(i<1&&h?h:g)[b];else{var _=h&&h[b]?h[b]:0,k=g[b],l=gae(_,k,i);f[b]=el(l,u?Math.max(uy(_),uy(k)):e)}}return f}}var gLe=".",RT="___EC__COMPONENT__CONTAINER___",Jpe="___EC__EXTENDED_CLASS___";function sy(n){var e={main:"",sub:""};if(n){var t=n.split(gLe);e.main=t[0]||"",e.sub=t[1]||""}return e}function vLe(n){Dp(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function yLe(n){return!!(n&&n[Jpe])}function Qee(n,e){n.$constructor=n,n.extend=function(t){var r=this,i;return bLe(r)?i=function(u){Tn(l,u);function l(){return u.apply(this,arguments)||this}return l}(r):(i=function(){(t.$constructor||r).apply(this,arguments)},Lee(i,this)),Gn(i.prototype,t),i[Jpe]=!0,i.extend=this.extend,i.superCall=_Le,i.superApply=SLe,i.superClass=r,i}}function bLe(n){return Eo(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function Zpe(n,e){n.extend=e.extend}var xLe=Math.round(Math.random()*10);function wLe(n){var e=["__\0is_clz",xLe++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function _Le(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function SLe(n,e,t){return this.superClass.prototype[e].apply(n,t)}function JH(n){var e={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){vLe(i),r.prototype.type=i;var u=sy(i);if(!u.sub)e[u.main]=r;else if(u.sub!==RT){var l=t(u);l[u.sub]=r}}return r},n.getClass=function(r,i,u){var l=e[r];if(l&&l[RT]&&(l=i?l[i]:null),u&&!l)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return l},n.getClassesByMainType=function(r){var i=sy(r),u=[],l=e[i.main];return l&&l[RT]?Te(l,function(f,h){h!==RT&&u.push(f)}):u.push(l),u},n.hasClass=function(r){var i=sy(r);return!!e[i.main]},n.getAllClassMainTypes=function(){var r=[];return Te(e,function(i,u){r.push(u)}),r},n.hasSubTypes=function(r){var i=sy(r),u=e[i.main];return u&&u[RT]};function t(r){var i=e[r.main];return(!i||!i[RT])&&(i=e[r.main]={},i[RT]=!0),i}}function G3(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,i,u){for(var l={},f=0;f<n.length;f++){var h=n[f][1];if(!(i&&Di(i,h)>=0||u&&Di(u,h)<0)){var g=r.getShallow(h,e);g!=null&&(l[n[f][0]]=g)}}return l}}var CLe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],TLe=G3(CLe),MLe=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return TLe(this,e,t)},n}(),qZ=new RL(50);function kLe(n){if(typeof n=="string"){var e=qZ.get(n);return e&&e.image}else return n}function Qpe(n,e,t,r,i){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var u=qZ.get(n),l={hostEl:t,cb:r,cbPayload:i};return u?(e=u.image,!ZH(e)&&u.pending.push(l)):(e=Ob.loadImage(n,yae,yae),e.__zrImageSrc=n,qZ.put(n,e.__cachedImgObj={image:e,pending:[l]})),e}else return n;else return e}function yae(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function ZH(n){return n&&n.width&&n.height}var OK=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function eme(n,e,t,r,i){if(!e)return"";var u=(n+"").split(`
`);i=tme(e,t,r,i);for(var l=0,f=u.length;l<f;l++)u[l]=nme(u[l],i);return u.join(`
`)}function tme(n,e,t,r){r=r||{};var i=Gn({},r);i.font=e,t=Xi(t,"..."),i.maxIterations=Xi(r.maxIterations,2);var u=i.minChar=Xi(r.minChar,0);i.cnCharWidth=Mp("国",e);var l=i.ascCharWidth=Mp("a",e);i.placeholder=Xi(r.placeholder,"");for(var f=n=Math.max(0,n-1),h=0;h<u&&f>=l;h++)f-=l;var g=Mp(t,e);return g>f&&(t="",g=0),f=n-g,i.ellipsis=t,i.ellipsisWidth=g,i.contentWidth=f,i.containerWidth=n,i}function nme(n,e){var t=e.containerWidth,r=e.font,i=e.contentWidth;if(!t)return"";var u=Mp(n,r);if(u<=t)return n;for(var l=0;;l++){if(u<=i||l>=e.maxIterations){n+=e.ellipsis;break}var f=l===0?DLe(n,i,e.ascCharWidth,e.cnCharWidth):u>0?Math.floor(n.length*i/u):0;n=n.substr(0,f),u=Mp(n,r)}return n===""&&(n=e.placeholder),n}function DLe(n,e,t,r){for(var i=0,u=0,l=n.length;u<l&&i<e;u++){var f=n.charCodeAt(u);i+=0<=f&&f<=127?t:r}return u}function ALe(n,e){n!=null&&(n+="");var t=e.overflow,r=e.padding,i=e.font,u=t==="truncate",l=qee(i),f=Xi(e.lineHeight,l),h=!!e.backgroundColor,g=e.lineOverflow==="truncate",y=e.width,b;y!=null&&(t==="break"||t==="breakAll")?b=n?rme(n,e.font,y,t==="breakAll",0).lines:[]:b=n?n.split(`
`):[];var S=b.length*f,_=Xi(e.height,S);if(S>_&&g){var k=Math.floor(_/f);b=b.slice(0,k)}if(n&&u&&y!=null)for(var E=tme(y,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),R=0;R<b.length;R++)b[R]=nme(b[R],E);for(var I=_,z=0,R=0;R<b.length;R++)z=Math.max(Mp(b[R],i),z);y==null&&(y=z);var L=z;return r&&(I+=r[0]+r[2],L+=r[1]+r[3],y+=r[1]+r[3]),h&&(L=y),{lines:b,height:_,outerWidth:L,outerHeight:I,lineHeight:f,calculatedLineHeight:l,contentWidth:z,contentHeight:S,width:y}}var ELe=function(){function n(){}return n}(),bae=function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n}(),OLe=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return n}();function ILe(n,e){var t=new OLe;if(n!=null&&(n+=""),!n)return t;for(var r=e.width,i=e.height,u=e.overflow,l=(u==="break"||u==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:u==="breakAll"}:null,f=OK.lastIndex=0,h;(h=OK.exec(n))!=null;){var g=h.index;g>f&&IK(t,n.substring(f,g),e,l),IK(t,h[2],e,l,h[1]),f=OK.lastIndex}f<n.length&&IK(t,n.substring(f,n.length),e,l);var y=[],b=0,S=0,_=e.padding,k=u==="truncate",E=e.lineOverflow==="truncate";function R(tt,$,Ze){tt.width=$,tt.lineHeight=Ze,b+=Ze,S=Math.max(S,$)}e:for(var I=0;I<t.lines.length;I++){for(var z=t.lines[I],L=0,q=0,X=0;X<z.tokens.length;X++){var Y=z.tokens[X],ae=Y.styleName&&e.rich[Y.styleName]||{},te=Y.textPadding=ae.padding,ie=te?te[1]+te[3]:0,le=Y.font=ae.font||e.font;Y.contentHeight=qee(le);var ce=Xi(ae.height,Y.contentHeight);if(Y.innerHeight=ce,te&&(ce+=te[0]+te[2]),Y.height=ce,Y.lineHeight=k3(ae.lineHeight,e.lineHeight,ce),Y.align=ae&&ae.align||e.align,Y.verticalAlign=ae&&ae.verticalAlign||"middle",E&&i!=null&&b+Y.lineHeight>i){X>0?(z.tokens=z.tokens.slice(0,X),R(z,q,L),t.lines=t.lines.slice(0,I+1)):t.lines=t.lines.slice(0,I);break e}var ne=ae.width,Z=ne==null||ne==="auto";if(typeof ne=="string"&&ne.charAt(ne.length-1)==="%")Y.percentWidth=ne,y.push(Y),Y.contentWidth=Mp(Y.text,le);else{if(Z){var Ce=ae.backgroundColor,ze=Ce&&Ce.image;ze&&(ze=kLe(ze),ZH(ze)&&(Y.width=Math.max(Y.width,ze.width*ce/ze.height)))}var ke=k&&r!=null?r-q:null;ke!=null&&ke<Y.width?!Z||ke<ie?(Y.text="",Y.width=Y.contentWidth=0):(Y.text=eme(Y.text,ke-ie,le,e.ellipsis,{minChar:e.truncateMinChar}),Y.width=Y.contentWidth=Mp(Y.text,le)):Y.contentWidth=Mp(Y.text,le)}Y.width+=ie,q+=Y.width,ae&&(L=Math.max(L,Y.lineHeight))}R(z,q,L)}t.outerWidth=t.width=Xi(r,S),t.outerHeight=t.height=Xi(i,b),t.contentHeight=b,t.contentWidth=S,_&&(t.outerWidth+=_[1]+_[3],t.outerHeight+=_[0]+_[2]);for(var I=0;I<y.length;I++){var Y=y[I],_t=Y.percentWidth;Y.width=parseInt(_t,10)/100*t.width}return t}function IK(n,e,t,r,i){var u=e==="",l=i&&t.rich[i]||{},f=n.lines,h=l.font||t.font,g=!1,y,b;if(r){var S=l.padding,_=S?S[1]+S[3]:0;if(l.width!=null&&l.width!=="auto"){var k=kv(l.width,r.width)+_;f.length>0&&k+r.accumWidth>r.width&&(y=e.split(`
`),g=!0),r.accumWidth=k}else{var E=rme(e,h,r.width,r.breakAll,r.accumWidth);r.accumWidth=E.accumWidth+_,b=E.linesWidths,y=E.lines}}else y=e.split(`
`);for(var R=0;R<y.length;R++){var I=y[R],z=new ELe;if(z.styleName=i,z.text=I,z.isLineHolder=!I&&!u,typeof l.width=="number"?z.width=l.width:z.width=b?b[R]:Mp(I,h),!R&&!g){var L=(f[f.length-1]||(f[0]=new bae)).tokens,q=L.length;q===1&&L[0].isLineHolder?L[0]=z:(I||!q||u)&&L.push(z)}else f.push(new bae([z]))}}function RLe(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var PLe=Km(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function NLe(n){return RLe(n)?!!PLe[n]:!0}function rme(n,e,t,r,i){for(var u=[],l=[],f="",h="",g=0,y=0,b=0;b<n.length;b++){var S=n.charAt(b);if(S===`
`){h&&(f+=h,y+=g),u.push(f),l.push(y),f="",h="",g=0,y=0;continue}var _=Mp(S,e),k=r?!1:!NLe(S);if(u.length?y+_>t:i+y+_>t){y?(f||h)&&(k?(f||(f=h,h="",g=0,y=g),u.push(f),l.push(y-g),h+=S,g+=_,f="",y=g):(h&&(f+=h,h="",g=0),u.push(f),l.push(y),f=S,y=_)):k?(u.push(h),l.push(g),h=S,g=_):(u.push(S),l.push(_));continue}y+=_,k?(h+=S,g+=_):(h&&(f+=h,h="",g=0),f+=S)}return!u.length&&!f&&(f=n,h="",g=0),h&&(f+=h),f&&(u.push(f),l.push(y)),u.length===1&&(y+=i),{accumWidth:y,lines:u,linesWidths:l}}var $Z="__zr_style_"+Math.round(Math.random()*10),hM={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},QH={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};hM[$Z]=!0;var xae=["z","z2","invisible"],LLe=["invisible"],BLe=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var r=va(t),i=0;i<r.length;i++){var u=r[i];u==="style"?this.useStyle(t[u]):n.prototype.attrKV.call(this,u,t[u])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,i,u){var l=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&zLe(this,t,r)||l&&!l[0]&&!l[3])return!1;if(i&&this.__clipPaths){for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1}if(u&&this.parent)for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r),u=this.getBoundingRect();return u.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),u=this.style,l=u.shadowBlur||0,f=u.shadowOffsetX||0,h=u.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new vi(0,0,0,0)),r?vi.applyTransform(t,i,r):t.copy(i),(l||f||h)&&(t.width+=l*2+Math.abs(f),t.height+=l*2+Math.abs(h),t.x=Math.min(t.x,t.x+f-l),t.y=Math.min(t.y,t.y+h-l));var g=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-g),t.y=Math.floor(t.y-g),t.width=Math.ceil(t.width+1+g*2),t.height=Math.ceil(t.height+1+g*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new vi(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){t!=="style"?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return typeof t=="string"?this.style[t]=r:Gn(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=lN,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&lN)},e.prototype.styleUpdated=function(){this.__dirty&=~lN},e.prototype.createStyle=function(t){return OL(hM,t)},e.prototype.useStyle=function(t){t[$Z]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[$Z]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,xae)},e.prototype._applyStateObj=function(t,r,i,u,l,f){n.prototype._applyStateObj.call(this,t,r,i,u,l,f);var h=!(r&&u),g;if(r&&r.style?l?u?g=r.style:(g=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(g,r.style)):(g=this._mergeStyle(this.createStyle(),u?this.style:i.style),this._mergeStyle(g,r.style)):h&&(g=i.style),g)if(l){var y=this.style;if(this.style=this.createStyle(h?{}:y),h)for(var b=va(y),S=0;S<b.length;S++){var _=b[S];_ in g&&(g[_]=g[_],this.style[_]=y[_])}for(var k=va(g),S=0;S<k.length;S++){var _=k[S];this.style[_]=this.style[_]}this._transitionState(t,{style:g},f,this.getAnimationStyleProps())}else this.useStyle(g);for(var E=this.__inHover?LLe:xae,S=0;S<E.length;S++){var _=E[S];r&&r[_]!=null?this[_]=r[_]:h&&i[_]!=null&&(this[_]=i[_])}},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,u=0;u<t.length;u++){var l=t[u];l.style&&(i=i||{},this._mergeStyle(i,l.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(t,r){return Gn(t,r),t},e.prototype.getAnimationStyleProps=function(){return QH},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=Cp|lN}(),e}(Bpe),RK=new vi(0,0,0,0),PK=new vi(0,0,0,0);function zLe(n,e,t){return RK.copy(n.getBoundingRect()),n.transform&&RK.applyTransform(n.transform),PK.width=e,PK.height=t,!RK.intersect(PK)}const Nb=BLe;var Wm=Math.min,Um=Math.max,NK=Math.sin,LK=Math.cos,PT=Math.PI*2,mF=IM(),gF=IM(),vF=IM();function wae(n,e,t,r,i,u){i[0]=Wm(n,t),i[1]=Wm(e,r),u[0]=Um(n,t),u[1]=Um(e,r)}var _ae=[],Sae=[];function FLe(n,e,t,r,i,u,l,f,h,g){var y=kpe,b=pc,S=y(n,t,i,l,_ae);h[0]=1/0,h[1]=1/0,g[0]=-1/0,g[1]=-1/0;for(var _=0;_<S;_++){var k=b(n,t,i,l,_ae[_]);h[0]=Wm(k,h[0]),g[0]=Um(k,g[0])}S=y(e,r,u,f,Sae);for(var _=0;_<S;_++){var E=b(e,r,u,f,Sae[_]);h[1]=Wm(E,h[1]),g[1]=Um(E,g[1])}h[0]=Wm(n,h[0]),g[0]=Um(n,g[0]),h[0]=Wm(l,h[0]),g[0]=Um(l,g[0]),h[1]=Wm(e,h[1]),g[1]=Um(e,g[1]),h[1]=Wm(f,h[1]),g[1]=Um(f,g[1])}function VLe(n,e,t,r,i,u,l,f){var h=Dpe,g=Wf,y=Um(Wm(h(n,t,i),1),0),b=Um(Wm(h(e,r,u),1),0),S=g(n,t,i,y),_=g(e,r,u,b);l[0]=Wm(n,i,S),l[1]=Wm(e,u,_),f[0]=Um(n,i,S),f[1]=Um(e,u,_)}function HLe(n,e,t,r,i,u,l,f,h){var g=wb,y=_b,b=Math.abs(i-u);if(b%PT<1e-4&&b>1e-4){f[0]=n-t,f[1]=e-r,h[0]=n+t,h[1]=e+r;return}if(mF[0]=LK(i)*t+n,mF[1]=NK(i)*r+e,gF[0]=LK(u)*t+n,gF[1]=NK(u)*r+e,g(f,mF,gF),y(h,mF,gF),i=i%PT,i<0&&(i=i+PT),u=u%PT,u<0&&(u=u+PT),i>u&&!l?u+=PT:i<u&&l&&(i+=PT),l){var S=u;u=i,i=S}for(var _=0;_<u;_+=Math.PI/2)_>i&&(vF[0]=LK(_)*t+n,vF[1]=NK(_)*r+e,g(f,vF,f),y(h,vF,h))}var Ja={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},NT=[],LT=[],J0=[],g2=[],Z0=[],Q0=[],BK=Math.min,zK=Math.max,BT=Math.cos,zT=Math.sin,pb=Math.abs,GZ=Math.PI,T2=GZ*2,FK=typeof Float32Array<"u",BP=[];function VK(n){var e=Math.round(n/GZ*1e8)/1e8;return e%2*GZ}function jLe(n,e){var t=VK(n[0]);t<0&&(t+=T2);var r=t-n[0],i=n[1];i+=r,!e&&i-t>=T2?i=t+T2:e&&t-i>=T2?i=t-T2:!e&&t>i?i=t+(T2-VK(t-i)):e&&t<i&&(i=t-(T2-VK(i-t))),n[0]=t,n[1]=i}var WLe=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){r=r||0,r>0&&(this._ux=pb(r/QV/e)||0,this._uy=pb(r/QV/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Ja.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=pb(e-this._xi),i=pb(t-this._yi),u=r>this._ux||i>this._uy;if(this.addData(Ja.L,e,t),this._ctx&&u&&this._ctx.lineTo(e,t),u)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var l=r*r+i*i;l>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=l)}return this},n.prototype.bezierCurveTo=function(e,t,r,i,u,l){return this._drawPendingPt(),this.addData(Ja.C,e,t,r,i,u,l),this._ctx&&this._ctx.bezierCurveTo(e,t,r,i,u,l),this._xi=u,this._yi=l,this},n.prototype.quadraticCurveTo=function(e,t,r,i){return this._drawPendingPt(),this.addData(Ja.Q,e,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(e,t,r,i,u,l){this._drawPendingPt(),BP[0]=i,BP[1]=u,jLe(BP,l),i=BP[0],u=BP[1];var f=u-i;return this.addData(Ja.A,e,t,r,r,i,f,0,l?0:1),this._ctx&&this._ctx.arc(e,t,r,i,u,l),this._xi=BT(u)*r+e,this._yi=zT(u)*r+t,this},n.prototype.arcTo=function(e,t,r,i,u){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,i,u),this},n.prototype.rect=function(e,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,i),this.addData(Ja.R,e,t,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ja.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&FK&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,i=this._len,u=0;u<t;u++)r+=e[u].len();FK&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var u=0;u<t;u++)for(var l=e[u].data,f=0;f<l.length;f++)this.data[i++]=l[f];this._len=i},n.prototype.addData=function(e,t,r,i,u,l,f,h,g){if(this._saveData){var y=this.data;this._len+arguments.length>y.length&&(this._expandData(),y=this.data);for(var b=0;b<arguments.length;b++)y[this._len++]=arguments[b]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,FK&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){J0[0]=J0[1]=Z0[0]=Z0[1]=Number.MAX_VALUE,g2[0]=g2[1]=Q0[0]=Q0[1]=-Number.MAX_VALUE;var e=this.data,t=0,r=0,i=0,u=0,l;for(l=0;l<this._len;){var f=e[l++],h=l===1;switch(h&&(t=e[l],r=e[l+1],i=t,u=r),f){case Ja.M:t=i=e[l++],r=u=e[l++],Z0[0]=i,Z0[1]=u,Q0[0]=i,Q0[1]=u;break;case Ja.L:wae(t,r,e[l],e[l+1],Z0,Q0),t=e[l++],r=e[l++];break;case Ja.C:FLe(t,r,e[l++],e[l++],e[l++],e[l++],e[l],e[l+1],Z0,Q0),t=e[l++],r=e[l++];break;case Ja.Q:VLe(t,r,e[l++],e[l++],e[l],e[l+1],Z0,Q0),t=e[l++],r=e[l++];break;case Ja.A:var g=e[l++],y=e[l++],b=e[l++],S=e[l++],_=e[l++],k=e[l++]+_;l+=1;var E=!e[l++];h&&(i=BT(_)*b+g,u=zT(_)*S+y),HLe(g,y,b,S,_,k,E,Z0,Q0),t=BT(k)*b+g,r=zT(k)*S+y;break;case Ja.R:i=t=e[l++],u=r=e[l++];var R=e[l++],I=e[l++];wae(i,u,i+R,u+I,Z0,Q0);break;case Ja.Z:t=i,r=u;break}wb(J0,J0,Z0),_b(g2,g2,Q0)}return l===0&&(J0[0]=J0[1]=g2[0]=g2[1]=0),new vi(J0[0],J0[1],g2[0]-J0[0],g2[1]-J0[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,i=this._uy,u=0,l=0,f=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var g=this._pathSegLen,y=0,b=0,S=0;S<t;){var _=e[S++],k=S===1;k&&(u=e[S],l=e[S+1],f=u,h=l);var E=-1;switch(_){case Ja.M:u=f=e[S++],l=h=e[S++];break;case Ja.L:{var R=e[S++],I=e[S++],z=R-u,L=I-l;(pb(z)>r||pb(L)>i||S===t-1)&&(E=Math.sqrt(z*z+L*L),u=R,l=I);break}case Ja.C:{var q=e[S++],X=e[S++],R=e[S++],I=e[S++],Y=e[S++],ae=e[S++];E=JPe(u,l,q,X,R,I,Y,ae,10),u=Y,l=ae;break}case Ja.Q:{var q=e[S++],X=e[S++],R=e[S++],I=e[S++];E=eNe(u,l,q,X,R,I,10),u=R,l=I;break}case Ja.A:var te=e[S++],ie=e[S++],le=e[S++],ce=e[S++],ne=e[S++],Z=e[S++],Ce=Z+ne;S+=1,e[S++],k&&(f=BT(ne)*le+te,h=zT(ne)*ce+ie),E=zK(le,ce)*BK(T2,Math.abs(Z)),u=BT(Ce)*le+te,l=zT(Ce)*ce+ie;break;case Ja.R:{f=u=e[S++],h=l=e[S++];var ze=e[S++],ke=e[S++];E=ze*2+ke*2;break}case Ja.Z:{var z=f-u,L=h-l;E=Math.sqrt(z*z+L*L),u=f,l=h;break}}E>=0&&(g[b++]=E,y+=E)}return this._pathLen=y,y},n.prototype.rebuildPath=function(e,t){var r=this.data,i=this._ux,u=this._uy,l=this._len,f,h,g,y,b,S,_=t<1,k,E,R=0,I=0,z,L=0,q,X;if(!(_&&(this._pathSegLen||this._calculateLength(),k=this._pathSegLen,E=this._pathLen,z=t*E,!z)))e:for(var Y=0;Y<l;){var ae=r[Y++],te=Y===1;switch(te&&(g=r[Y],y=r[Y+1],f=g,h=y),ae!==Ja.L&&L>0&&(e.lineTo(q,X),L=0),ae){case Ja.M:f=g=r[Y++],h=y=r[Y++],e.moveTo(g,y);break;case Ja.L:{b=r[Y++],S=r[Y++];var ie=pb(b-g),le=pb(S-y);if(ie>i||le>u){if(_){var ce=k[I++];if(R+ce>z){var ne=(z-R)/ce;e.lineTo(g*(1-ne)+b*ne,y*(1-ne)+S*ne);break e}R+=ce}e.lineTo(b,S),g=b,y=S,L=0}else{var Z=ie*ie+le*le;Z>L&&(q=b,X=S,L=Z)}break}case Ja.C:{var Ce=r[Y++],ze=r[Y++],ke=r[Y++],_t=r[Y++],tt=r[Y++],$=r[Y++];if(_){var ce=k[I++];if(R+ce>z){var ne=(z-R)/ce;JV(g,Ce,ke,tt,ne,NT),JV(y,ze,_t,$,ne,LT),e.bezierCurveTo(NT[1],LT[1],NT[2],LT[2],NT[3],LT[3]);break e}R+=ce}e.bezierCurveTo(Ce,ze,ke,_t,tt,$),g=tt,y=$;break}case Ja.Q:{var Ce=r[Y++],ze=r[Y++],ke=r[Y++],_t=r[Y++];if(_){var ce=k[I++];if(R+ce>z){var ne=(z-R)/ce;ZV(g,Ce,ke,ne,NT),ZV(y,ze,_t,ne,LT),e.quadraticCurveTo(NT[1],LT[1],NT[2],LT[2]);break e}R+=ce}e.quadraticCurveTo(Ce,ze,ke,_t),g=ke,y=_t;break}case Ja.A:var Ze=r[Y++],$e=r[Y++],mt=r[Y++],Qe=r[Y++],Et=r[Y++],Ot=r[Y++],Nt=r[Y++],fe=!r[Y++],$t=mt>Qe?mt:Qe,Je=pb(mt-Qe)>.001,Fe=Et+Ot,St=!1;if(_){var ce=k[I++];R+ce>z&&(Fe=Et+Ot*(z-R)/ce,St=!0),R+=ce}if(Je&&e.ellipse?e.ellipse(Ze,$e,mt,Qe,Nt,Et,Fe,fe):e.arc(Ze,$e,$t,Et,Fe,fe),St)break e;te&&(f=BT(Et)*mt+Ze,h=zT(Et)*Qe+$e),g=BT(Fe)*mt+Ze,y=zT(Fe)*Qe+$e;break;case Ja.R:f=g=r[Y],h=y=r[Y+1],b=r[Y++],S=r[Y++];var Ue=r[Y++],Ye=r[Y++];if(_){var ce=k[I++];if(R+ce>z){var st=z-R;e.moveTo(b,S),e.lineTo(b+BK(st,Ue),S),st-=Ue,st>0&&e.lineTo(b+Ue,S+BK(st,Ye)),st-=Ye,st>0&&e.lineTo(b+zK(Ue-st,0),S+Ye),st-=Ue,st>0&&e.lineTo(b,S+zK(Ye-st,0));break e}R+=ce}e.rect(b,S,Ue,Ye);break;case Ja.Z:if(_){var ce=k[I++];if(R+ce>z){var ne=(z-R)/ce;e.lineTo(g*(1-ne)+f*ne,y*(1-ne)+h*ne);break e}R+=ce}e.closePath(),g=f,y=h}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=Ja,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();const SM=WLe;function e3(n,e,t,r,i,u,l){if(i===0)return!1;var f=i,h=0,g=n;if(l>e+f&&l>r+f||l<e-f&&l<r-f||u>n+f&&u>t+f||u<n-f&&u<t-f)return!1;if(n!==t)h=(e-r)/(n-t),g=(n*r-t*e)/(n-t);else return Math.abs(u-n)<=f/2;var y=h*u-l+g,b=y*y/(h*h+1);return b<=f/2*f/2}function ULe(n,e,t,r,i,u,l,f,h,g,y){if(h===0)return!1;var b=h;if(y>e+b&&y>r+b&&y>u+b&&y>f+b||y<e-b&&y<r-b&&y<u-b&&y<f-b||g>n+b&&g>t+b&&g>i+b&&g>l+b||g<n-b&&g<t-b&&g<i-b&&g<l-b)return!1;var S=KPe(n,e,t,r,i,u,l,f,g,y,null);return S<=b/2}function qLe(n,e,t,r,i,u,l,f,h){if(l===0)return!1;var g=l;if(h>e+g&&h>r+g&&h>u+g||h<e-g&&h<r-g&&h<u-g||f>n+g&&f>t+g&&f>i+g||f<n-g&&f<t-g&&f<i-g)return!1;var y=QPe(n,e,t,r,i,u,f,h,null);return y<=g/2}var Cae=Math.PI*2;function yF(n){return n%=Cae,n<0&&(n+=Cae),n}var zP=Math.PI*2;function $Le(n,e,t,r,i,u,l,f,h){if(l===0)return!1;var g=l;f-=n,h-=e;var y=Math.sqrt(f*f+h*h);if(y-g>t||y+g<t)return!1;if(Math.abs(r-i)%zP<1e-4)return!0;if(u){var b=r;r=yF(i),i=yF(b)}else r=yF(r),i=yF(i);r>i&&(i+=zP);var S=Math.atan2(h,f);return S<0&&(S+=zP),S>=r&&S<=i||S+zP>=r&&S+zP<=i}function xb(n,e,t,r,i,u){if(u>e&&u>r||u<e&&u<r||r===e)return 0;var l=(u-e)/(r-e),f=r<e?1:-1;(l===1||l===0)&&(f=r<e?.5:-.5);var h=l*(t-n)+n;return h===i?1/0:h>i?f:0}var v2=SM.CMD,FT=Math.PI*2,GLe=1e-4;function XLe(n,e){return Math.abs(n-e)<GLe}var Dd=[-1,-1,-1],Vm=[-1,-1];function YLe(){var n=Vm[0];Vm[0]=Vm[1],Vm[1]=n}function KLe(n,e,t,r,i,u,l,f,h,g){if(g>e&&g>r&&g>u&&g>f||g<e&&g<r&&g<u&&g<f)return 0;var y=KV(e,r,u,f,g,Dd);if(y===0)return 0;for(var b=0,S=-1,_=void 0,k=void 0,E=0;E<y;E++){var R=Dd[E],I=R===0||R===1?.5:1,z=pc(n,t,i,l,R);z<h||(S<0&&(S=kpe(e,r,u,f,Vm),Vm[1]<Vm[0]&&S>1&&YLe(),_=pc(e,r,u,f,Vm[0]),S>1&&(k=pc(e,r,u,f,Vm[1]))),S===2?R<Vm[0]?b+=_<e?I:-I:R<Vm[1]?b+=k<_?I:-I:b+=f<k?I:-I:R<Vm[0]?b+=_<e?I:-I:b+=f<_?I:-I)}return b}function JLe(n,e,t,r,i,u,l,f){if(f>e&&f>r&&f>u||f<e&&f<r&&f<u)return 0;var h=ZPe(e,r,u,f,Dd);if(h===0)return 0;var g=Dpe(e,r,u);if(g>=0&&g<=1){for(var y=0,b=Wf(e,r,u,g),S=0;S<h;S++){var _=Dd[S]===0||Dd[S]===1?.5:1,k=Wf(n,t,i,Dd[S]);k<l||(Dd[S]<g?y+=b<e?_:-_:y+=u<b?_:-_)}return y}else{var _=Dd[0]===0||Dd[0]===1?.5:1,k=Wf(n,t,i,Dd[0]);return k<l?0:u<e?_:-_}}function ZLe(n,e,t,r,i,u,l,f){if(f-=e,f>t||f<-t)return 0;var h=Math.sqrt(t*t-f*f);Dd[0]=-h,Dd[1]=h;var g=Math.abs(r-i);if(g<1e-4)return 0;if(g>=FT-1e-4){r=0,i=FT;var y=u?1:-1;return l>=Dd[0]+n&&l<=Dd[1]+n?y:0}if(r>i){var b=r;r=i,i=b}r<0&&(r+=FT,i+=FT);for(var S=0,_=0;_<2;_++){var k=Dd[_];if(k+n>l){var E=Math.atan2(f,k),y=u?1:-1;E<0&&(E=FT+E),(E>=r&&E<=i||E+FT>=r&&E+FT<=i)&&(E>Math.PI/2&&E<Math.PI*1.5&&(y=-y),S+=y)}}return S}function ome(n,e,t,r,i){for(var u=n.data,l=n.len(),f=0,h=0,g=0,y=0,b=0,S,_,k=0;k<l;){var E=u[k++],R=k===1;switch(E===v2.M&&k>1&&(t||(f+=xb(h,g,y,b,r,i))),R&&(h=u[k],g=u[k+1],y=h,b=g),E){case v2.M:y=u[k++],b=u[k++],h=y,g=b;break;case v2.L:if(t){if(e3(h,g,u[k],u[k+1],e,r,i))return!0}else f+=xb(h,g,u[k],u[k+1],r,i)||0;h=u[k++],g=u[k++];break;case v2.C:if(t){if(ULe(h,g,u[k++],u[k++],u[k++],u[k++],u[k],u[k+1],e,r,i))return!0}else f+=KLe(h,g,u[k++],u[k++],u[k++],u[k++],u[k],u[k+1],r,i)||0;h=u[k++],g=u[k++];break;case v2.Q:if(t){if(qLe(h,g,u[k++],u[k++],u[k],u[k+1],e,r,i))return!0}else f+=JLe(h,g,u[k++],u[k++],u[k],u[k+1],r,i)||0;h=u[k++],g=u[k++];break;case v2.A:var I=u[k++],z=u[k++],L=u[k++],q=u[k++],X=u[k++],Y=u[k++];k+=1;var ae=!!(1-u[k++]);S=Math.cos(X)*L+I,_=Math.sin(X)*q+z,R?(y=S,b=_):f+=xb(h,g,S,_,r,i);var te=(r-I)*q/L+I;if(t){if($Le(I,z,q,X,X+Y,ae,e,te,i))return!0}else f+=ZLe(I,z,q,X,X+Y,ae,te,i);h=Math.cos(X+Y)*L+I,g=Math.sin(X+Y)*q+z;break;case v2.R:y=h=u[k++],b=g=u[k++];var ie=u[k++],le=u[k++];if(S=y+ie,_=b+le,t){if(e3(y,b,S,b,e,r,i)||e3(S,b,S,_,e,r,i)||e3(S,_,y,_,e,r,i)||e3(y,_,y,b,e,r,i))return!0}else f+=xb(S,b,S,_,r,i),f+=xb(y,_,y,b,r,i);break;case v2.Z:if(t){if(e3(h,g,y,b,e,r,i))return!0}else f+=xb(h,g,y,b,r,i);h=y,g=b;break}}return!t&&!XLe(g,b)&&(f+=xb(h,g,y,b,r,i)||0),f!==0}function QLe(n,e,t){return ome(n,0,!1,e,t)}function e6e(n,e,t,r){return ome(n,e,!0,t,r)}var ime=To({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},hM),t6e={style:To({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},QH.style)},HK=my.concat(["invisible","culling","z","z2","zlevel","parent"]),n6e=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(h){t.buildPath(h,t.shape)}),i.silent=!0;var u=i.style;for(var l in r)u[l]!==r[l]&&(u[l]=r[l]);u.fill=r.fill?r.decal:null,u.decal=null,u.shadowColor=null,r.strokeFirst&&(u.stroke=null);for(var f=0;f<HK.length;++f)i[HK[f]]=this[HK[f]];i.__dirty|=Cp}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=va(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var u=0;u<r.length;u++){var l=r[u],f=t[l];l==="style"?this.style?Gn(this.style,f):this.useStyle(f):l==="shape"?Gn(this.shape,f):n.prototype.attrKV.call(this,l,f)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(Lr(t)){var r=ZN(t,0);return r>.5?HZ:r>.2?ONe:jZ}else if(t)return jZ}return HZ},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(Lr(r)){var i=this.__zr,u=!!(i&&i.isDarkMode()),l=ZN(t,0)<VZ;if(u===l)return r}},e.prototype.buildPath=function(t,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~v3},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new SM(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var u=!1;this.path||(u=!0,this.createPathProxy());var l=this.path;(u||this.__dirty&v3)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),t=l.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){f.copy(t);var h=r.strokeNoScale?this.getLineScale():1,g=r.lineWidth;if(!this.hasFill()){var y=this.strokeContainThreshold;g=Math.max(g,y??4)}h>1e-10&&(f.width+=g/h,f.height+=g/h,f.x-=g/h/2,f.y-=g/h/2)}return f}return t},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),u=this.getBoundingRect(),l=this.style;if(t=i[0],r=i[1],u.contain(t,r)){var f=this.path;if(this.hasStroke()){var h=l.lineWidth,g=l.strokeNoScale?this.getLineScale():1;if(g>1e-10&&(this.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),e6e(f,h/g,t,r)))return!0}if(this.hasFill())return QLe(f,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=v3,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){t==="shape"?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=r:Gn(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&v3)},e.prototype.createStyle=function(t){return OL(ime,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=Gn({},this.shape))},e.prototype._applyStateObj=function(t,r,i,u,l,f){n.prototype._applyStateObj.call(this,t,r,i,u,l,f);var h=!(r&&u),g;if(r&&r.shape?l?u?g=r.shape:(g=Gn({},i.shape),Gn(g,r.shape)):(g=Gn({},u?this.shape:i.shape),Gn(g,r.shape)):h&&(g=i.shape),g)if(l){this.shape=Gn({},this.shape);for(var y={},b=va(g),S=0;S<b.length;S++){var _=b[S];typeof g[_]=="object"?this.shape[_]=g[_]:y[_]=g[_]}this._transitionState(t,{shape:y},f)}else this.shape=g,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,u=0;u<t.length;u++){var l=t[u];l.shape&&(i=i||{},this._mergeStyle(i,l.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return t6e},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=function(u){Tn(l,u);function l(f){var h=u.call(this,f)||this;return t.init&&t.init.call(h,f),h}return l.prototype.getDefaultStyle=function(){return vo(t.style)},l.prototype.getDefaultShape=function(){return vo(t.shape)},l}(e);for(var i in t)typeof t[i]=="function"&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=Cp|lN|v3}(),e}(Nb);const ja=n6e;var r6e=To({strokeFirst:!0,font:wM,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},ime),ame=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return r!=null&&r!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(t){return OL(r6e,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;r!=null?r+="":r="";var i=PL(r,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var u=t.lineWidth;i.x-=u/2,i.y-=u/2,i.width+=u,i.height+=u}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(Nb);ame.prototype.type="tspan";const nH=ame;var o6e=To({x:0,y:0},hM),i6e={style:To({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},QH.style)};function a6e(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var ume=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return OL(o6e,t)},e.prototype._getSize=function(t){var r=this.style,i=r[t];if(i!=null)return i;var u=a6e(r.image)?r.image:this.__image;if(!u)return 0;var l=t==="width"?"height":"width",f=r[l];return f==null?u[t]:u[t]/u[l]*f},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return i6e},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new vi(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Nb);ume.prototype.type="image";const Op=ume;function u6e(n,e){var t=e.x,r=e.y,i=e.width,u=e.height,l=e.r,f,h,g,y;i<0&&(t=t+i,i=-i),u<0&&(r=r+u,u=-u),typeof l=="number"?f=h=g=y=l:l instanceof Array?l.length===1?f=h=g=y=l[0]:l.length===2?(f=g=l[0],h=y=l[1]):l.length===3?(f=l[0],h=y=l[1],g=l[2]):(f=l[0],h=l[1],g=l[2],y=l[3]):f=h=g=y=0;var b;f+h>i&&(b=f+h,f*=i/b,h*=i/b),g+y>i&&(b=g+y,g*=i/b,y*=i/b),h+g>u&&(b=h+g,h*=u/b,g*=u/b),f+y>u&&(b=f+y,f*=u/b,y*=u/b),n.moveTo(t+f,r),n.lineTo(t+i-h,r),h!==0&&n.arc(t+i-h,r+h,h,-Math.PI/2,0),n.lineTo(t+i,r+u-g),g!==0&&n.arc(t+i-g,r+u-g,g,0,Math.PI/2),n.lineTo(t+y,r+u),y!==0&&n.arc(t+y,r+u-y,y,Math.PI/2,Math.PI),n.lineTo(t,r+f),f!==0&&n.arc(t+f,r+f,f,Math.PI,Math.PI*1.5)}var _3=Math.round;function sme(n,e,t){if(e){var r=e.x1,i=e.x2,u=e.y1,l=e.y2;n.x1=r,n.x2=i,n.y1=u,n.y2=l;var f=t&&t.lineWidth;return f&&(_3(r*2)===_3(i*2)&&(n.x1=n.x2=oM(r,f,!0)),_3(u*2)===_3(l*2)&&(n.y1=n.y2=oM(u,f,!0))),n}}function lme(n,e,t){if(e){var r=e.x,i=e.y,u=e.width,l=e.height;n.x=r,n.y=i,n.width=u,n.height=l;var f=t&&t.lineWidth;return f&&(n.x=oM(r,f,!0),n.y=oM(i,f,!0),n.width=Math.max(oM(r+u,f,!1)-n.x,u===0?0:1),n.height=Math.max(oM(i+l,f,!1)-n.y,l===0?0:1)),n}}function oM(n,e,t){if(!e)return n;var r=_3(n*2);return(r+_3(e))%2===0?r/2:(r+(t?1:-1))/2}var s6e=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),l6e={},cme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new s6e},e.prototype.buildPath=function(t,r){var i,u,l,f;if(this.subPixelOptimize){var h=lme(l6e,r,this.style);i=h.x,u=h.y,l=h.width,f=h.height,h.r=r.r,r=h}else i=r.x,u=r.y,l=r.width,f=r.height;r.r?u6e(t,r):t.rect(i,u,l,f)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(ja);cme.prototype.type="rect";const ya=cme;var Tae={fill:"#000"},Mae=2,c6e={style:To({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},QH.style)},fme=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=Tae,r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,m6e(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new vi(0,0,0,0),r=this._children,i=[],u=null,l=0;l<r.length;l++){var f=r[l],h=f.getBoundingRect(),g=f.getLocalTransform(i);g?(t.copy(h),t.applyTransform(g),u=u||t.clone(),u.union(t)):(u=u||h.clone(),u.union(h))}this._rect=u||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Tae},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,u=t.rich||i&&{};return Gn(t,r),i&&u?(this._mergeRich(u,i),t.rich=u):u&&(t.rich=u),t},e.prototype._mergeRich=function(t,r){for(var i=va(r),u=0;u<i.length;u++){var l=i[u];t[l]=t[l]||{},Gn(t[l],r[l])}},e.prototype.getAnimationStyleProps=function(){return c6e},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||wM,i=t.padding,u=Rae(t),l=ALe(u,t),f=jK(t),h=!!t.backgroundColor,g=l.outerHeight,y=l.outerWidth,b=l.contentWidth,S=l.lines,_=l.lineHeight,k=this._defaultStyle,E=t.x||0,R=t.y||0,I=t.align||k.align||"left",z=t.verticalAlign||k.verticalAlign||"top",L=E,q=y3(R,l.contentHeight,z);if(f||i){var X=fN(E,y,I),Y=y3(R,g,z);f&&this._renderBackground(t,t,X,Y,y,g)}q+=_/2,i&&(L=Iae(E,I,i),z==="top"?q+=i[0]:z==="bottom"&&(q-=i[2]));for(var ae=0,te=!1,ie=Oae("fill"in t?t.fill:(te=!0,k.fill)),le=Eae("stroke"in t?t.stroke:!h&&(!k.autoStroke||te)?(ae=Mae,k.stroke):null),ce=t.textShadowBlur>0,ne=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),Z=l.calculatedLineHeight,Ce=0;Ce<S.length;Ce++){var ze=this._getOrCreateChild(nH),ke=ze.createStyle();ze.useStyle(ke),ke.text=S[Ce],ke.x=L,ke.y=q,I&&(ke.textAlign=I),ke.textBaseline="middle",ke.opacity=t.opacity,ke.strokeFirst=!0,ce&&(ke.shadowBlur=t.textShadowBlur||0,ke.shadowColor=t.textShadowColor||"transparent",ke.shadowOffsetX=t.textShadowOffsetX||0,ke.shadowOffsetY=t.textShadowOffsetY||0),ke.stroke=le,ke.fill=ie,le&&(ke.lineWidth=t.lineWidth||ae,ke.lineDash=t.lineDash,ke.lineDashOffset=t.lineDashOffset||0),ke.font=r,Dae(ke,t),q+=_,ne&&ze.setBoundingRect(new vi(fN(ke.x,t.width,ke.textAlign),y3(ke.y,Z,ke.textBaseline),b,Z))}},e.prototype._updateRichTexts=function(){var t=this.style,r=Rae(t),i=ILe(r,t),u=i.width,l=i.outerWidth,f=i.outerHeight,h=t.padding,g=t.x||0,y=t.y||0,b=this._defaultStyle,S=t.align||b.align,_=t.verticalAlign||b.verticalAlign,k=fN(g,l,S),E=y3(y,f,_),R=k,I=E;h&&(R+=h[3],I+=h[0]);var z=R+u;jK(t)&&this._renderBackground(t,t,k,E,l,f);for(var L=!!t.backgroundColor,q=0;q<i.lines.length;q++){for(var X=i.lines[q],Y=X.tokens,ae=Y.length,te=X.lineHeight,ie=X.width,le=0,ce=R,ne=z,Z=ae-1,Ce=void 0;le<ae&&(Ce=Y[le],!Ce.align||Ce.align==="left");)this._placeToken(Ce,t,te,I,ce,"left",L),ie-=Ce.width,ce+=Ce.width,le++;for(;Z>=0&&(Ce=Y[Z],Ce.align==="right");)this._placeToken(Ce,t,te,I,ne,"right",L),ie-=Ce.width,ne-=Ce.width,Z--;for(ce+=(u-(ce-R)-(z-ne)-ie)/2;le<=Z;)Ce=Y[le],this._placeToken(Ce,t,te,I,ce+Ce.width/2,"center",L),ce+=Ce.width,le++;I+=te}},e.prototype._placeToken=function(t,r,i,u,l,f,h){var g=r.rich[t.styleName]||{};g.text=t.text;var y=t.verticalAlign,b=u+i/2;y==="top"?b=u+t.height/2:y==="bottom"&&(b=u+i-t.height/2);var S=!t.isLineHolder&&jK(g);S&&this._renderBackground(g,r,f==="right"?l-t.width:f==="center"?l-t.width/2:l,b-t.height/2,t.width,t.height);var _=!!g.backgroundColor,k=t.textPadding;k&&(l=Iae(l,f,k),b-=t.height/2-k[0]-t.innerHeight/2);var E=this._getOrCreateChild(nH),R=E.createStyle();E.useStyle(R);var I=this._defaultStyle,z=!1,L=0,q=Oae("fill"in g?g.fill:"fill"in r?r.fill:(z=!0,I.fill)),X=Eae("stroke"in g?g.stroke:"stroke"in r?r.stroke:!_&&!h&&(!I.autoStroke||z)?(L=Mae,I.stroke):null),Y=g.textShadowBlur>0||r.textShadowBlur>0;R.text=t.text,R.x=l,R.y=b,Y&&(R.shadowBlur=g.textShadowBlur||r.textShadowBlur||0,R.shadowColor=g.textShadowColor||r.textShadowColor||"transparent",R.shadowOffsetX=g.textShadowOffsetX||r.textShadowOffsetX||0,R.shadowOffsetY=g.textShadowOffsetY||r.textShadowOffsetY||0),R.textAlign=f,R.textBaseline="middle",R.font=t.font||wM,R.opacity=k3(g.opacity,r.opacity,1),Dae(R,g),X&&(R.lineWidth=k3(g.lineWidth,r.lineWidth,L),R.lineDash=Xi(g.lineDash,r.lineDash),R.lineDashOffset=r.lineDashOffset||0,R.stroke=X),q&&(R.fill=q);var ae=t.contentWidth,te=t.contentHeight;E.setBoundingRect(new vi(fN(R.x,ae,R.textAlign),y3(R.y,te,R.textBaseline),ae,te))},e.prototype._renderBackground=function(t,r,i,u,l,f){var h=t.backgroundColor,g=t.borderWidth,y=t.borderColor,b=h&&h.image,S=h&&!b,_=t.borderRadius,k=this,E,R;if(S||t.lineHeight||g&&y){E=this._getOrCreateChild(ya),E.useStyle(E.createStyle()),E.style.fill=null;var I=E.shape;I.x=i,I.y=u,I.width=l,I.height=f,I.r=_,E.dirtyShape()}if(S){var z=E.style;z.fill=h||null,z.fillOpacity=Xi(t.fillOpacity,1)}else if(b){R=this._getOrCreateChild(Op),R.onload=function(){k.dirtyStyle()};var L=R.style;L.image=h.image,L.x=i,L.y=u,L.width=l,L.height=f}if(g&&y){var z=E.style;z.lineWidth=g,z.stroke=y,z.strokeOpacity=Xi(t.strokeOpacity,1),z.lineDash=t.borderDash,z.lineDashOffset=t.borderDashOffset||0,E.strokeContainThreshold=0,E.hasFill()&&E.hasStroke()&&(z.strokeFirst=!0,z.lineWidth*=2)}var q=(E||R).style;q.shadowBlur=t.shadowBlur||0,q.shadowColor=t.shadowColor||"transparent",q.shadowOffsetX=t.shadowOffsetX||0,q.shadowOffsetY=t.shadowOffsetY||0,q.opacity=k3(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return p6e(t)&&(r=[t.fontStyle,t.fontWeight,h6e(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&Xm(r)||t.textFont||t.font},e}(Nb),f6e={left:!0,right:1,center:1},d6e={top:1,bottom:1,middle:1},kae=["fontStyle","fontWeight","fontSize","fontFamily"];function h6e(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?Iee+"px":n+"px"}function Dae(n,e){for(var t=0;t<kae.length;t++){var r=kae[t],i=e[r];i!=null&&(n[r]=i)}}function p6e(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function m6e(n){return Aae(n),Te(n.rich,Aae),n}function Aae(n){if(n){n.font=fme.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||f6e[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||d6e[t]?t:"top";var r=n.padding;r&&(n.padding=Bee(n.padding))}}function Eae(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function Oae(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function Iae(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function Rae(n){var e=n.text;return e!=null&&(e+=""),e}function jK(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const ba=fme;var Ai=cu(),g6e=function(n,e,t,r){if(r){var i=Ai(r);i.dataIndex=t,i.dataType=e,i.seriesIndex=n,r.type==="group"&&r.traverse(function(u){var l=Ai(u);l.seriesIndex=n,l.dataIndex=t,l.dataType=e})}},Pae=1,Nae={},dme=cu(),ete=cu(),tte=0,e9=1,t9=2,Zm=["emphasis","blur","select"],rH=["normal","emphasis","blur","select"],hme=10,v6e=9,pM="highlight",bV="downplay",PN="select",xV="unselect",NN="toggleSelect";function t3(n){return n!=null&&n!=="none"}var Lae=new RL(100);function Bae(n){if(Lr(n)){var e=Lae.get(n);return e||(e=PZ(n,-.1),Lae.put(n,e)),e}else if(EL(n)){var t=Gn({},n);return t.colorStops=br(n.colorStops,function(r){return{offset:r.offset,color:PZ(r.color,-.1)}}),t}return n}function n9(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function pme(n){n9(n,"emphasis",t9)}function mme(n){n.hoverState===t9&&n9(n,"normal",tte)}function nte(n){n9(n,"blur",e9)}function gme(n){n.hoverState===e9&&n9(n,"normal",tte)}function y6e(n){n.selected=!0}function b6e(n){n.selected=!1}function zae(n,e,t){e(n,t)}function Fb(n,e,t){zae(n,e,t),n.isGroup&&n.traverse(function(r){zae(r,e,t)})}function XZ(n,e){switch(e){case"emphasis":n.hoverState=t9;break;case"normal":n.hoverState=tte;break;case"blur":n.hoverState=e9;break;case"select":n.selected=!0}}function x6e(n,e,t,r){for(var i=n.style,u={},l=0;l<e.length;l++){var f=e[l],h=i[f];u[f]=h??(r&&r[f])}for(var l=0;l<n.animators.length;l++){var g=n.animators[l];g.__fromStateTransition&&g.__fromStateTransition.indexOf(t)<0&&g.targetName==="style"&&g.saveTo(u,e)}return u}function w6e(n,e,t,r){var i=t&&Di(t,"select")>=0,u=!1;if(n instanceof ja){var l=dme(n),f=i&&l.selectFill||l.normalFill,h=i&&l.selectStroke||l.normalStroke;if(t3(f)||t3(h)){r=r||{};var g=r.style||{};g.fill==="inherit"?(u=!0,r=Gn({},r),g=Gn({},g),g.fill=f):!t3(g.fill)&&t3(f)?(u=!0,r=Gn({},r),g=Gn({},g),g.fill=Bae(f)):!t3(g.stroke)&&t3(h)&&(u||(r=Gn({},r),g=Gn({},g)),g.stroke=Bae(h)),r.style=g}}if(r&&r.z2==null){u||(r=Gn({},r));var y=n.z2EmphasisLift;r.z2=n.z2+(y??hme)}return r}function _6e(n,e,t){if(t&&t.z2==null){t=Gn({},t);var r=n.z2SelectLift;t.z2=n.z2+(r??v6e)}return t}function S6e(n,e,t){var r=Di(n.currentStates,e)>=0,i=n.style.opacity,u=r?null:x6e(n,["opacity"],e,{opacity:1});t=t||{};var l=t.style||{};return l.opacity==null&&(t=Gn({},t),l=Gn({opacity:r?i:u.opacity*.1},l),t.style=l),t}function WK(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return w6e(this,n,e,t);if(n==="blur")return S6e(this,n,t);if(n==="select")return _6e(this,n,t)}return t}function rte(n){n.stateProxy=WK;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=WK),t&&(t.stateProxy=WK)}function Fae(n,e){!xme(n,e)&&!n.__highByOuter&&Fb(n,pme)}function Vae(n,e){!xme(n,e)&&!n.__highByOuter&&Fb(n,mme)}function X3(n,e){n.__highByOuter|=1<<(e||0),Fb(n,pme)}function Y3(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Fb(n,mme)}function C6e(n){Fb(n,nte)}function vme(n){Fb(n,gme)}function yme(n){Fb(n,y6e)}function bme(n){Fb(n,b6e)}function xme(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function wme(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(i,u){var l=ete(u),f=i==="series",h=f?n.getViewOfSeriesModel(u):n.getViewOfComponentModel(u);!f&&r.push(h),l.isBlured&&(h.group.traverse(function(g){gme(g)}),f&&t.push(u)),l.isBlured=!1}),Te(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function YZ(n,e,t,r){var i=r.getModel();t=t||"coordinateSystem";function u(g,y){for(var b=0;b<y.length;b++){var S=g.getItemGraphicEl(y[b]);S&&vme(S)}}if(n!=null&&!(!e||e==="none")){var l=i.getSeriesByIndex(n),f=l.coordinateSystem;f&&f.master&&(f=f.master);var h=[];i.eachSeries(function(g){var y=l===g,b=g.coordinateSystem;b&&b.master&&(b=b.master);var S=b&&f?b===f:y;if(!(t==="series"&&!y||t==="coordinateSystem"&&!S||e==="series"&&y)){var _=r.getViewOfSeriesModel(g);if(_.group.traverse(function(R){R.__highByOuter&&y&&e==="self"||nte(R)}),Gf(e))u(g.getData(),e);else if(no(e))for(var k=va(e),E=0;E<k.length;E++)u(g.getData(k[E]),e[k[E]]);h.push(g),ete(g).isBlured=!0}}),i.eachComponent(function(g,y){if(g!=="series"){var b=r.getViewOfComponentModel(y);b&&b.toggleBlurSeries&&b.toggleBlurSeries(h,!0,i)}})}}function KZ(n,e,t){if(!(n==null||e==null)){var r=t.getModel().getComponent(n,e);if(r){ete(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(u){nte(u)})}}}function T6e(n,e,t){var r=n.seriesIndex,i=n.getData(e.dataType);if(i){var u=_M(i,e);u=(sr(u)?u[0]:u)||0;var l=i.getItemGraphicEl(u);if(!l)for(var f=i.count(),h=0;!l&&h<f;)l=i.getItemGraphicEl(h++);if(l){var g=Ai(l);YZ(r,g.focus,g.blurScope,t)}else{var y=n.get(["emphasis","focus"]),b=n.get(["emphasis","blurScope"]);y!=null&&YZ(r,y,b,t)}}}function ote(n,e,t,r){var i={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return i;var u=r.getModel().getComponent(n,e);if(!u)return i;var l=r.getViewOfComponentModel(u);if(!l||!l.findHighDownDispatchers)return i;for(var f=l.findHighDownDispatchers(t),h,g=0;g<f.length;g++)if(Ai(f[g]).focus==="self"){h=!0;break}return{focusSelf:h,dispatchers:f}}function M6e(n,e,t){var r=Ai(n),i=ote(r.componentMainType,r.componentIndex,r.componentHighDownName,t),u=i.dispatchers,l=i.focusSelf;u?(l&&KZ(r.componentMainType,r.componentIndex,t),Te(u,function(f){return Fae(f,e)})):(YZ(r.seriesIndex,r.focus,r.blurScope,t),r.focus==="self"&&KZ(r.componentMainType,r.componentIndex,t),Fae(n,e))}function k6e(n,e,t){wme(t);var r=Ai(n),i=ote(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?Te(i,function(u){return Vae(u,e)}):Vae(n,e)}function D6e(n,e,t){if(ZZ(e)){var r=e.dataType,i=n.getData(r),u=_M(i,e);sr(u)||(u=[u]),n[e.type===NN?"toggleSelect":e.type===PN?"select":"unselect"](u,r)}}function Hae(n){var e=n.getAllData();Te(e,function(t){var r=t.data,i=t.type;r.eachItemGraphicEl(function(u,l){n.isSelected(l,i)?yme(u):bme(u)})})}function A6e(n){var e=[];return n.eachSeries(function(t){var r=t.getAllData();Te(r,function(i){i.data;var u=i.type,l=t.getSelectedDataIndices();if(l.length>0){var f={dataIndex:l,seriesIndex:t.seriesIndex};u!=null&&(f.dataType=u),e.push(f)}})}),e}function $2(n,e,t){ite(n,!0),Fb(n,rte),O6e(n,e,t)}function E6e(n){ite(n,!1)}function J2(n,e,t,r){r?E6e(n):$2(n,e,t)}function O6e(n,e,t){var r=Ai(n);e!=null?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}var jae=["emphasis","blur","select"],I6e={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function K3(n,e,t,r){t=t||"itemStyle";for(var i=0;i<jae.length;i++){var u=jae[i],l=e.getModel([u,t]),f=n.ensureState(u);f.style=r?r(l):l[I6e[t]]()}}function ite(n,e){var t=e===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function JZ(n){return!!(n&&n.__highDownDispatcher)}function R6e(n,e,t){var r=Ai(n);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=t}function P6e(n){var e=Nae[n];return e==null&&Pae<=32&&(e=Nae[n]=Pae++),e}function ZZ(n){var e=n.type;return e===PN||e===xV||e===NN}function Wae(n){var e=n.type;return e===pM||e===bV}function N6e(n){var e=dme(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var n3=SM.CMD,L6e=[[],[],[]],Uae=Math.sqrt,B6e=Math.atan2;function z6e(n,e){if(e){var t=n.data,r=n.len(),i,u,l,f,h,g,y=n3.M,b=n3.C,S=n3.L,_=n3.R,k=n3.A,E=n3.Q;for(l=0,f=0;l<r;){switch(i=t[l++],f=l,u=0,i){case y:u=1;break;case S:u=1;break;case b:u=3;break;case E:u=2;break;case k:var R=e[4],I=e[5],z=Uae(e[0]*e[0]+e[1]*e[1]),L=Uae(e[2]*e[2]+e[3]*e[3]),q=B6e(-e[1]/L,e[0]/z);t[l]*=z,t[l++]+=R,t[l]*=L,t[l++]+=I,t[l++]*=z,t[l++]*=L,t[l++]+=q,t[l++]+=q,l+=2,f=l;break;case _:g[0]=t[l++],g[1]=t[l++],Ic(g,g,e),t[f++]=g[0],t[f++]=g[1],g[0]+=t[l++],g[1]+=t[l++],Ic(g,g,e),t[f++]=g[0],t[f++]=g[1]}for(h=0;h<u;h++){var X=L6e[h];X[0]=t[l++],X[1]=t[l++],Ic(X,X,e),t[f++]=X[0],t[f++]=X[1]}}n.increaseVersion()}}var UK=Math.sqrt,bF=Math.sin,xF=Math.cos,FP=Math.PI;function qae(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function QZ(n,e){return(n[0]*e[0]+n[1]*e[1])/(qae(n)*qae(e))}function $ae(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(QZ(n,e))}function Gae(n,e,t,r,i,u,l,f,h,g,y){var b=h*(FP/180),S=xF(b)*(n-t)/2+bF(b)*(e-r)/2,_=-1*bF(b)*(n-t)/2+xF(b)*(e-r)/2,k=S*S/(l*l)+_*_/(f*f);k>1&&(l*=UK(k),f*=UK(k));var E=(i===u?-1:1)*UK((l*l*(f*f)-l*l*(_*_)-f*f*(S*S))/(l*l*(_*_)+f*f*(S*S)))||0,R=E*l*_/f,I=E*-f*S/l,z=(n+t)/2+xF(b)*R-bF(b)*I,L=(e+r)/2+bF(b)*R+xF(b)*I,q=$ae([1,0],[(S-R)/l,(_-I)/f]),X=[(S-R)/l,(_-I)/f],Y=[(-1*S-R)/l,(-1*_-I)/f],ae=$ae(X,Y);if(QZ(X,Y)<=-1&&(ae=FP),QZ(X,Y)>=1&&(ae=0),ae<0){var te=Math.round(ae/FP*1e6)/1e6;ae=FP*2+te%2*FP}y.addData(g,z,L,l,f,q,ae,b,u)}var F6e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,V6e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function H6e(n){var e=new SM;if(!n)return e;var t=0,r=0,i=t,u=r,l,f=SM.CMD,h=n.match(F6e);if(!h)return e;for(var g=0;g<h.length;g++){for(var y=h[g],b=y.charAt(0),S=void 0,_=y.match(V6e)||[],k=_.length,E=0;E<k;E++)_[E]=parseFloat(_[E]);for(var R=0;R<k;){var I=void 0,z=void 0,L=void 0,q=void 0,X=void 0,Y=void 0,ae=void 0,te=t,ie=r,le=void 0,ce=void 0;switch(b){case"l":t+=_[R++],r+=_[R++],S=f.L,e.addData(S,t,r);break;case"L":t=_[R++],r=_[R++],S=f.L,e.addData(S,t,r);break;case"m":t+=_[R++],r+=_[R++],S=f.M,e.addData(S,t,r),i=t,u=r,b="l";break;case"M":t=_[R++],r=_[R++],S=f.M,e.addData(S,t,r),i=t,u=r,b="L";break;case"h":t+=_[R++],S=f.L,e.addData(S,t,r);break;case"H":t=_[R++],S=f.L,e.addData(S,t,r);break;case"v":r+=_[R++],S=f.L,e.addData(S,t,r);break;case"V":r=_[R++],S=f.L,e.addData(S,t,r);break;case"C":S=f.C,e.addData(S,_[R++],_[R++],_[R++],_[R++],_[R++],_[R++]),t=_[R-2],r=_[R-1];break;case"c":S=f.C,e.addData(S,_[R++]+t,_[R++]+r,_[R++]+t,_[R++]+r,_[R++]+t,_[R++]+r),t+=_[R-2],r+=_[R-1];break;case"S":I=t,z=r,le=e.len(),ce=e.data,l===f.C&&(I+=t-ce[le-4],z+=r-ce[le-3]),S=f.C,te=_[R++],ie=_[R++],t=_[R++],r=_[R++],e.addData(S,I,z,te,ie,t,r);break;case"s":I=t,z=r,le=e.len(),ce=e.data,l===f.C&&(I+=t-ce[le-4],z+=r-ce[le-3]),S=f.C,te=t+_[R++],ie=r+_[R++],t+=_[R++],r+=_[R++],e.addData(S,I,z,te,ie,t,r);break;case"Q":te=_[R++],ie=_[R++],t=_[R++],r=_[R++],S=f.Q,e.addData(S,te,ie,t,r);break;case"q":te=_[R++]+t,ie=_[R++]+r,t+=_[R++],r+=_[R++],S=f.Q,e.addData(S,te,ie,t,r);break;case"T":I=t,z=r,le=e.len(),ce=e.data,l===f.Q&&(I+=t-ce[le-4],z+=r-ce[le-3]),t=_[R++],r=_[R++],S=f.Q,e.addData(S,I,z,t,r);break;case"t":I=t,z=r,le=e.len(),ce=e.data,l===f.Q&&(I+=t-ce[le-4],z+=r-ce[le-3]),t+=_[R++],r+=_[R++],S=f.Q,e.addData(S,I,z,t,r);break;case"A":L=_[R++],q=_[R++],X=_[R++],Y=_[R++],ae=_[R++],te=t,ie=r,t=_[R++],r=_[R++],S=f.A,Gae(te,ie,t,r,Y,ae,L,q,X,S,e);break;case"a":L=_[R++],q=_[R++],X=_[R++],Y=_[R++],ae=_[R++],te=t,ie=r,t+=_[R++],r+=_[R++],S=f.A,Gae(te,ie,t,r,Y,ae,L,q,X,S,e);break}}(b==="z"||b==="Z")&&(S=f.Z,e.addData(S),t=i,r=u),l=S}return e.toStatic(),e}var _me=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(ja);function Sme(n){return n.setData!=null}function Cme(n,e){var t=H6e(n),r=Gn({},e);return r.buildPath=function(i){if(Sme(i)){i.setData(t.data);var u=i.getContext();u&&i.rebuildPath(u,1)}else{var u=i;t.rebuildPath(u,1)}},r.applyTransform=function(i){z6e(t,i),this.dirtyShape()},r}function Tme(n,e){return new _me(Cme(n,e))}function j6e(n,e){var t=Cme(n,e),r=function(i){Tn(u,i);function u(l){var f=i.call(this,l)||this;return f.applyTransform=t.applyTransform,f.buildPath=t.buildPath,f}return u}(_me);return r}function W6e(n,e){for(var t=[],r=n.length,i=0;i<r;i++){var u=n[i];t.push(u.getUpdatedPathProxy(!0))}var l=new ja(e);return l.createPathProxy(),l.buildPath=function(f){if(Sme(f)){f.appendPath(t);var h=f.getContext();h&&f.rebuildPath(h,1)}},l}var U6e=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),Mme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new U6e},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(ja);Mme.prototype.type="circle";const Dv=Mme;var q6e=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),kme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new q6e},e.prototype.buildPath=function(t,r){var i=.5522848,u=r.cx,l=r.cy,f=r.rx,h=r.ry,g=f*i,y=h*i;t.moveTo(u-f,l),t.bezierCurveTo(u-f,l-y,u-g,l-h,u,l-h),t.bezierCurveTo(u+g,l-h,u+f,l-y,u+f,l),t.bezierCurveTo(u+f,l+y,u+g,l+h,u,l+h),t.bezierCurveTo(u-g,l+h,u-f,l+y,u-f,l),t.closePath()},e}(ja);kme.prototype.type="ellipse";const r9=kme;var Dme=Math.PI,qK=Dme*2,VT=Math.sin,r3=Math.cos,$6e=Math.acos,Hf=Math.atan2,Xae=Math.abs,LN=Math.sqrt,dN=Math.max,ey=Math.min,vv=1e-4;function G6e(n,e,t,r,i,u,l,f){var h=t-n,g=r-e,y=l-i,b=f-u,S=b*h-y*g;if(!(S*S<vv))return S=(y*(e-u)-b*(n-i))/S,[n+S*h,e+S*g]}function wF(n,e,t,r,i,u,l){var f=n-t,h=e-r,g=(l?u:-u)/LN(f*f+h*h),y=g*h,b=-g*f,S=n+y,_=e+b,k=t+y,E=r+b,R=(S+k)/2,I=(_+E)/2,z=k-S,L=E-_,q=z*z+L*L,X=i-u,Y=S*E-k*_,ae=(L<0?-1:1)*LN(dN(0,X*X*q-Y*Y)),te=(Y*L-z*ae)/q,ie=(-Y*z-L*ae)/q,le=(Y*L+z*ae)/q,ce=(-Y*z+L*ae)/q,ne=te-R,Z=ie-I,Ce=le-R,ze=ce-I;return ne*ne+Z*Z>Ce*Ce+ze*ze&&(te=le,ie=ce),{cx:te,cy:ie,x0:-y,y0:-b,x1:te*(i/X-1),y1:ie*(i/X-1)}}function X6e(n){var e;if(sr(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function Y6e(n,e){var t,r=dN(e.r,0),i=dN(e.r0||0,0),u=r>0,l=i>0;if(!(!u&&!l)){if(u||(r=i,i=0),i>r){var f=r;r=i,i=f}var h=e.startAngle,g=e.endAngle;if(!(isNaN(h)||isNaN(g))){var y=e.cx,b=e.cy,S=!!e.clockwise,_=Xae(g-h),k=_>qK&&_%qK;if(k>vv&&(_=k),!(r>vv))n.moveTo(y,b);else if(_>qK-vv)n.moveTo(y+r*r3(h),b+r*VT(h)),n.arc(y,b,r,h,g,!S),i>vv&&(n.moveTo(y+i*r3(g),b+i*VT(g)),n.arc(y,b,i,g,h,S));else{var E=void 0,R=void 0,I=void 0,z=void 0,L=void 0,q=void 0,X=void 0,Y=void 0,ae=void 0,te=void 0,ie=void 0,le=void 0,ce=void 0,ne=void 0,Z=void 0,Ce=void 0,ze=r*r3(h),ke=r*VT(h),_t=i*r3(g),tt=i*VT(g),$=_>vv;if($){var Ze=e.cornerRadius;Ze&&(t=X6e(Ze),E=t[0],R=t[1],I=t[2],z=t[3]);var $e=Xae(r-i)/2;if(L=ey($e,I),q=ey($e,z),X=ey($e,E),Y=ey($e,R),ie=ae=dN(L,q),le=te=dN(X,Y),(ae>vv||te>vv)&&(ce=r*r3(g),ne=r*VT(g),Z=i*r3(h),Ce=i*VT(h),_<Dme)){var mt=G6e(ze,ke,Z,Ce,ce,ne,_t,tt);if(mt){var Qe=ze-mt[0],Et=ke-mt[1],Ot=ce-mt[0],Nt=ne-mt[1],fe=1/VT($6e((Qe*Ot+Et*Nt)/(LN(Qe*Qe+Et*Et)*LN(Ot*Ot+Nt*Nt)))/2),$t=LN(mt[0]*mt[0]+mt[1]*mt[1]);ie=ey(ae,(r-$t)/(fe+1)),le=ey(te,(i-$t)/(fe-1))}}}if(!$)n.moveTo(y+ze,b+ke);else if(ie>vv){var Je=ey(I,ie),Fe=ey(z,ie),St=wF(Z,Ce,ze,ke,r,Je,S),Ue=wF(ce,ne,_t,tt,r,Fe,S);n.moveTo(y+St.cx+St.x0,b+St.cy+St.y0),ie<ae&&Je===Fe?n.arc(y+St.cx,b+St.cy,ie,Hf(St.y0,St.x0),Hf(Ue.y0,Ue.x0),!S):(Je>0&&n.arc(y+St.cx,b+St.cy,Je,Hf(St.y0,St.x0),Hf(St.y1,St.x1),!S),n.arc(y,b,r,Hf(St.cy+St.y1,St.cx+St.x1),Hf(Ue.cy+Ue.y1,Ue.cx+Ue.x1),!S),Fe>0&&n.arc(y+Ue.cx,b+Ue.cy,Fe,Hf(Ue.y1,Ue.x1),Hf(Ue.y0,Ue.x0),!S))}else n.moveTo(y+ze,b+ke),n.arc(y,b,r,h,g,!S);if(!(i>vv)||!$)n.lineTo(y+_t,b+tt);else if(le>vv){var Je=ey(E,le),Fe=ey(R,le),St=wF(_t,tt,ce,ne,i,-Fe,S),Ue=wF(ze,ke,Z,Ce,i,-Je,S);n.lineTo(y+St.cx+St.x0,b+St.cy+St.y0),le<te&&Je===Fe?n.arc(y+St.cx,b+St.cy,le,Hf(St.y0,St.x0),Hf(Ue.y0,Ue.x0),!S):(Fe>0&&n.arc(y+St.cx,b+St.cy,Fe,Hf(St.y0,St.x0),Hf(St.y1,St.x1),!S),n.arc(y,b,i,Hf(St.cy+St.y1,St.cx+St.x1),Hf(Ue.cy+Ue.y1,Ue.cx+Ue.x1),S),Je>0&&n.arc(y+Ue.cx,b+Ue.cy,Je,Hf(Ue.y1,Ue.x1),Hf(Ue.y0,Ue.x0),!S))}else n.lineTo(y+_t,b+tt),n.arc(y,b,i,g,h,S)}n.closePath()}}}var K6e=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),Ame=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new K6e},e.prototype.buildPath=function(t,r){Y6e(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(ja);Ame.prototype.type="sector";const wy=Ame;var J6e=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),Eme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new J6e},e.prototype.buildPath=function(t,r){var i=r.cx,u=r.cy,l=Math.PI*2;t.moveTo(i+r.r,u),t.arc(i,u,r.r,0,l,!1),t.moveTo(i+r.r0,u),t.arc(i,u,r.r0,0,l,!0)},e}(ja);Eme.prototype.type="ring";const LL=Eme;function Z6e(n,e,t,r){var i=[],u=[],l=[],f=[],h,g,y,b;if(r){y=[1/0,1/0],b=[-1/0,-1/0];for(var S=0,_=n.length;S<_;S++)wb(y,y,n[S]),_b(b,b,n[S]);wb(y,y,r[0]),_b(b,b,r[1])}for(var S=0,_=n.length;S<_;S++){var k=n[S];if(t)h=n[S?S-1:_-1],g=n[(S+1)%_];else if(S===0||S===_-1){i.push(ppe(n[S]));continue}else h=n[S-1],g=n[S+1];mpe(u,g,h),cV(u,u,e);var E=GV(k,h),R=GV(k,g),I=E+R;I!==0&&(E/=I,R/=I),cV(l,u,-E),cV(f,u,R);var z=MZ([],k,l),L=MZ([],k,f);r&&(_b(z,z,y),wb(z,z,b),_b(L,L,y),wb(L,L,b)),i.push(z),i.push(L)}return t&&i.push(i.shift()),i}function Ome(n,e,t){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var u=Z6e(i,r,t,e.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var l=i.length,f=0;f<(t?l:l-1);f++){var h=u[f*2],g=u[f*2+1],y=i[(f+1)%l];n.bezierCurveTo(h[0],h[1],g[0],g[1],y[0],y[1])}}else{n.moveTo(i[0][0],i[0][1]);for(var f=1,b=i.length;f<b;f++)n.lineTo(i[f][0],i[f][1])}t&&n.closePath()}}var Q6e=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),Ime=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Q6e},e.prototype.buildPath=function(t,r){Ome(t,r,!0)},e}(ja);Ime.prototype.type="polygon";const _y=Ime;var eBe=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),Rme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new eBe},e.prototype.buildPath=function(t,r){Ome(t,r,!1)},e}(ja);Rme.prototype.type="polyline";const eg=Rme;var tBe={},nBe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),Pme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new nBe},e.prototype.buildPath=function(t,r){var i,u,l,f;if(this.subPixelOptimize){var h=sme(tBe,r,this.style);i=h.x1,u=h.y1,l=h.x2,f=h.y2}else i=r.x1,u=r.y1,l=r.x2,f=r.y2;var g=r.percent;g!==0&&(t.moveTo(i,u),g<1&&(l=i*(1-g)+l*g,f=u*(1-g)+f*g),t.lineTo(l,f))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e}(ja);Pme.prototype.type="line";const Id=Pme;var vh=[],rBe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function Yae(n,e,t){var r=n.cpx2,i=n.cpy2;return r!=null||i!=null?[(t?tae:pc)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?tae:pc)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?nae:Wf)(n.x1,n.cpx1,n.x2,e),(t?nae:Wf)(n.y1,n.cpy1,n.y2,e)]}var Nme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new rBe},e.prototype.buildPath=function(t,r){var i=r.x1,u=r.y1,l=r.x2,f=r.y2,h=r.cpx1,g=r.cpy1,y=r.cpx2,b=r.cpy2,S=r.percent;S!==0&&(t.moveTo(i,u),y==null||b==null?(S<1&&(ZV(i,h,l,S,vh),h=vh[1],l=vh[2],ZV(u,g,f,S,vh),g=vh[1],f=vh[2]),t.quadraticCurveTo(h,g,l,f)):(S<1&&(JV(i,h,y,l,S,vh),h=vh[1],y=vh[2],l=vh[3],JV(u,g,b,f,S,vh),g=vh[1],b=vh[2],f=vh[3]),t.bezierCurveTo(h,g,y,b,l,f)))},e.prototype.pointAt=function(t){return Yae(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=Yae(this.shape,t,!0);return gpe(r,r)},e}(ja);Nme.prototype.type="bezier-curve";const ate=Nme;var oBe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),Lme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new oBe},e.prototype.buildPath=function(t,r){var i=r.cx,u=r.cy,l=Math.max(r.r,0),f=r.startAngle,h=r.endAngle,g=r.clockwise,y=Math.cos(f),b=Math.sin(f);t.moveTo(y*l+i,b*l+u),t.arc(i,u,l,f,h,!g)},e}(ja);Lme.prototype.type="arc";const o9=Lme;var iBe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var i=r.paths||[],u=0;u<i.length;u++)i[u].buildPath(t,i[u].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),ja.prototype.getBoundingRect.call(this)},e}(ja);const ute=iBe;var aBe=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const Bme=aBe;var uBe=function(n){Tn(e,n);function e(t,r,i,u,l,f){var h=n.call(this,l)||this;return h.x=t??0,h.y=r??0,h.x2=i??1,h.y2=u??0,h.type="linear",h.global=f||!1,h}return e}(Bme);const BL=uBe;var sBe=function(n){Tn(e,n);function e(t,r,i,u,l){var f=n.call(this,u)||this;return f.x=t??.5,f.y=r??.5,f.r=i??.5,f.type="radial",f.global=l||!1,f}return e}(Bme);const ste=sBe;var HT=[0,0],jT=[0,0],_F=new di,SF=new di,lBe=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new di;for(var r=0;r<2;r++)this._axes[r]=new di;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,i=this._axes,u=e.x,l=e.y,f=u+e.width,h=l+e.height;if(r[0].set(u,l),r[1].set(f,l),r[2].set(f,h),r[3].set(u,h),t)for(var g=0;g<4;g++)r[g].transform(t);di.sub(i[0],r[1],r[0]),di.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var g=0;g<2;g++)this._origin[g]=i[g].dot(r[0])},n.prototype.intersect=function(e,t){var r=!0,i=!t;return _F.set(1/0,1/0),SF.set(0,0),!this._intersectCheckOneSide(this,e,_F,SF,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,_F,SF,i,-1)&&(r=!1,i)||i||di.copy(t,r?_F:SF),r},n.prototype._intersectCheckOneSide=function(e,t,r,i,u,l){for(var f=!0,h=0;h<2;h++){var g=this._axes[h];if(this._getProjMinMaxOnAxis(h,e._corners,HT),this._getProjMinMaxOnAxis(h,t._corners,jT),HT[1]<jT[0]||HT[0]>jT[1]){if(f=!1,u)return f;var y=Math.abs(jT[0]-HT[1]),b=Math.abs(HT[0]-jT[1]);Math.min(y,b)>i.len()&&(y<b?di.scale(i,g,-y*l):di.scale(i,g,b*l))}else if(r){var y=Math.abs(jT[0]-HT[1]),b=Math.abs(HT[0]-jT[1]);Math.min(y,b)<r.len()&&(y<b?di.scale(r,g,y*l):di.scale(r,g,-b*l))}}return f},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var i=this._axes[e],u=this._origin,l=t[0].dot(i)+u[e],f=l,h=l,g=1;g<t.length;g++){var y=t[g].dot(i)+u[e];f=Math.min(y,f),h=Math.max(y,h)}r[0]=f,r[1]=h},n}();const oH=lBe;var cBe=[],fBe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new vi(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],u=i.getBoundingRect().clone();i.needLocalTransform()&&u.applyTransform(i.getLocalTransform(cBe)),t.union(u)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),u=this.getBoundingRect();if(u.contain(i[0],i[1]))for(var l=0;l<this._displayables.length;l++){var f=this._displayables[l];if(f.contain(t,r))return!0}return!1},e}(Nb);const zme=fBe;var dBe=cu();function lte(n,e,t,r,i){var u;if(e&&e.ecModel){var l=e.ecModel.getUpdatePayload();u=l&&l.animation}var f=e&&e.isAnimationEnabled(),h=n==="update";if(f){var g=void 0,y=void 0,b=void 0;r?(g=Xi(r.duration,200),y=Xi(r.easing,"cubicOut"),b=0):(g=e.getShallow(h?"animationDurationUpdate":"animationDuration"),y=e.getShallow(h?"animationEasingUpdate":"animationEasing"),b=e.getShallow(h?"animationDelayUpdate":"animationDelay")),u&&(u.duration!=null&&(g=u.duration),u.easing!=null&&(y=u.easing),u.delay!=null&&(b=u.delay)),Eo(b)&&(b=b(t,i)),Eo(g)&&(g=g(t));var S={duration:g||0,delay:b,easing:y};return S}else return null}function cte(n,e,t,r,i,u,l){var f=!1,h;Eo(i)?(l=u,u=i,i=null):no(i)&&(u=i.cb,l=i.during,f=i.isFrom,h=i.removeOpt,i=i.dataIndex);var g=n==="leave";g||e.stopAnimation("leave");var y=lte(n,r,i,g?h||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(y&&y.duration>0){var b=y.duration,S=y.delay,_=y.easing,k={duration:b,delay:S||0,easing:_,done:u,force:!!u||!!l,setToFinal:!g,scope:n,during:l};f?e.animateFrom(t,k):e.animateTo(t,k)}else e.stopAnimation(),!f&&e.attr(t),l&&l(1),u&&u()}function tl(n,e,t,r,i,u){cte("update",n,e,t,r,i,u)}function Rd(n,e,t,r,i,u){cte("enter",n,e,t,r,i,u)}function BN(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function nL(n,e,t,r,i,u){BN(n)||cte("leave",n,e,t,r,i,u)}function Kae(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),nL(n,{style:{opacity:0}},e,t,r)}function iH(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||Kae(i,e,t,r)}):Kae(n,e,t,r)}function rL(n){dBe(n).oldStyle=n.style}var aH=Math.max,uH=Math.min,eQ={};function Fme(n){return ja.extend(n)}var hBe=j6e;function Vme(n,e){return hBe(n,e)}function tg(n,e){eQ[n]=e}function fte(n){if(eQ.hasOwnProperty(n))return eQ[n]}function i9(n,e,t,r){var i=Tme(n,e);return t&&(r==="center"&&(t=Hme(t,i.getBoundingRect())),hte(i,t)),i}function dte(n,e,t){var r=new Op({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var u={width:i.width,height:i.height};r.setStyle(Hme(e,u))}}});return r}function Hme(n,e){var t=e.width/e.height,r=n.height*t,i;r<=n.width?i=n.height:(r=n.width,i=r/t);var u=n.x+n.width/2,l=n.y+n.height/2;return{x:u-r/2,y:l-i/2,width:r,height:i}}var qm=W6e;function hte(n,e){if(n.applyTransform){var t=n.getBoundingRect(),r=t.calculateTransform(e);n.applyTransform(r)}}function oL(n,e){return sme(n,n,{lineWidth:e}),n}function pBe(n){return lme(n.shape,n.shape,n.style),n}var mBe=oM;function G2(n,e){for(var t=IL([]);n&&n!==e;)cy(t,n.getLocalTransform(),t),n=n.parent;return t}function Tv(n,e,t){return e&&!Gf(e)&&(e=nM.getLocalTransform(e)),t&&(e=c5([],e)),Ic([],n,e)}function a9(n,e,t){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),u=[n==="left"?-r:n==="right"?r:0,n==="top"?-i:n==="bottom"?i:0];return u=Tv(u,e,t),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"}function Jae(n){return!n.isGroup}function gBe(n){return n.shape!=null}function u9(n,e,t){if(!n||!e)return;function r(l){var f={};return l.traverse(function(h){Jae(h)&&h.anid&&(f[h.anid]=h)}),f}function i(l){var f={x:l.x,y:l.y,rotation:l.rotation};return gBe(l)&&(f.shape=Gn({},l.shape)),f}var u=r(n);e.traverse(function(l){if(Jae(l)&&l.anid){var f=u[l.anid];if(f){var h=i(l);l.attr(i(f)),tl(l,h,t,Ai(l).dataIndex)}}})}function pte(n,e){return br(n,function(t){var r=t[0];r=aH(r,e.x),r=uH(r,e.x+e.width);var i=t[1];return i=aH(i,e.y),i=uH(i,e.y+e.height),[r,i]})}function jme(n,e){var t=aH(n.x,e.x),r=uH(n.x+n.width,e.x+e.width),i=aH(n.y,e.y),u=uH(n.y+n.height,e.y+e.height);if(r>=t&&u>=i)return{x:t,y:i,width:r-t,height:u-i}}function d5(n,e,t){var r=Gn({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(i.image=n.slice(8),To(i,t),new Op(r)):i9(n.replace("path://",""),r,t,"center")}function vBe(n,e,t,r,i){for(var u=0,l=i[i.length-1];u<i.length;u++){var f=i[u];if(Wme(n,e,t,r,f[0],f[1],l[0],l[1]))return!0;l=f}}function Wme(n,e,t,r,i,u,l,f){var h=t-n,g=r-e,y=l-i,b=f-u,S=$K(y,b,h,g);if(yBe(S))return!1;var _=n-i,k=e-u,E=$K(_,k,h,g)/S;if(E<0||E>1)return!1;var R=$K(_,k,y,b)/S;return!(R<0||R>1)}function $K(n,e,t,r){return n*r-t*e}function yBe(n){return n<=1e-6&&n>=-1e-6}function h5(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,i=Lr(e)?{formatter:e}:e,u=t.mainType,l=t.componentIndex,f={componentType:u,name:r,$vars:["name"]};f[u+"Index"]=l;var h=n.formatterParamsExtra;h&&Te(va(h),function(y){Qo(f,y)||(f[y]=h[y],f.$vars.push(y))});var g=Ai(n.el);g.componentMainType=u,g.componentIndex=l,g.tooltipConfig={name:r,option:To({content:r,formatterParams:f},i)}}function Zae(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function s9(n,e){if(n)if(sr(n))for(var t=0;t<n.length;t++)Zae(n[t],e);else Zae(n,e)}tg("circle",Dv);tg("ellipse",r9);tg("sector",wy);tg("ring",LL);tg("polygon",_y);tg("polyline",eg);tg("rect",ya);tg("line",Id);tg("bezierCurve",ate);tg("arc",o9);const l9=Object.freeze(Object.defineProperty({__proto__:null,Arc:o9,BezierCurve:ate,BoundingRect:vi,Circle:Dv,CompoundPath:ute,Ellipse:r9,Group:hi,Image:Op,IncrementalDisplayable:zme,Line:Id,LinearGradient:BL,OrientedBoundingRect:oH,Path:ja,Point:di,Polygon:_y,Polyline:eg,RadialGradient:ste,Rect:ya,Ring:LL,Sector:wy,Text:ba,applyTransform:Tv,clipPointsByRect:pte,clipRectByRect:jme,createIcon:d5,extendPath:Vme,extendShape:Fme,getShapeClass:fte,getTransform:G2,groupTransition:u9,initProps:Rd,isElementRemoved:BN,lineLineIntersect:Wme,linePolygonIntersect:vBe,makeImage:dte,makePath:i9,mergePath:qm,registerShape:tg,removeElement:nL,removeElementWithFadeOut:iH,resizePath:hte,setTooltipConfig:h5,subPixelOptimize:mBe,subPixelOptimizeLine:oL,subPixelOptimizeRect:pBe,transformDirection:a9,traverseElements:s9,updateProps:tl},Symbol.toStringTag,{value:"Module"}));var c9={};function bBe(n,e){for(var t=0;t<Zm.length;t++){var r=Zm[t],i=e[r],u=n.ensureState(r);u.style=u.style||{},u.style.text=i}var l=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(l,!0)}function Qae(n,e,t){var r=n.labelFetcher,i=n.labelDataIndex,u=n.labelDimIndex,l=e.normal,f;r&&(f=r.getFormattedLabel(i,"normal",null,u,l&&l.get("formatter"),t!=null?{interpolatedValue:t}:null)),f==null&&(f=Eo(n.defaultText)?n.defaultText(i,n,t):n.defaultText);for(var h={normal:f},g=0;g<Zm.length;g++){var y=Zm[g],b=e[y];h[y]=Xi(r?r.getFormattedLabel(i,y,null,u,b&&b.get("formatter")):null,f)}return h}function Vb(n,e,t,r){t=t||c9;for(var i=n instanceof ba,u=!1,l=0;l<rH.length;l++){var f=e[rH[l]];if(f&&f.getShallow("show")){u=!0;break}}var h=i?n:n.getTextContent();if(u){i||(h||(h=new ba,n.setTextContent(h)),n.stateProxy&&(h.stateProxy=n.stateProxy));var g=Qae(t,e),y=e.normal,b=!!y.getShallow("show"),S=wl(y,r&&r.normal,t,!1,!i);S.text=g.normal,i||n.setTextConfig(eue(y,t,!1));for(var l=0;l<Zm.length;l++){var _=Zm[l],f=e[_];if(f){var k=h.ensureState(_),E=!!Xi(f.getShallow("show"),b);if(E!==b&&(k.ignore=!E),k.style=wl(f,r&&r[_],t,!0,!i),k.style.text=g[_],!i){var R=n.ensureState(_);R.textConfig=eue(f,t,!0)}}}h.silent=!!y.getShallow("silent"),h.style.x!=null&&(S.x=h.style.x),h.style.y!=null&&(S.y=h.style.y),h.ignore=!b,h.useStyle(S),h.dirty(),t.enableTextSetter&&(f9(h).setLabelText=function(I){var z=Qae(t,e,I);bBe(h,z)})}else h&&(h.ignore=!0);n.dirty()}function Hb(n,e){e=e||"label";for(var t={normal:n.getModel(e)},r=0;r<Zm.length;r++){var i=Zm[r];t[i]=n.getModel([i,e])}return t}function wl(n,e,t,r,i){var u={};return xBe(u,n,t,r,i),e&&Gn(u,e),u}function eue(n,e,t){e=e||{};var r={},i,u=n.getShallow("rotate"),l=Xi(n.getShallow("distance"),t?null:5),f=n.getShallow("offset");return i=n.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),f!=null&&(r.offset=f),u!=null&&(u*=Math.PI/180,r.rotation=u),l!=null&&(r.distance=l),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",r}function xBe(n,e,t,r,i){t=t||c9;var u=e.ecModel,l=u&&u.option.textStyle,f=wBe(e),h;if(f){h={};for(var g in f)if(f.hasOwnProperty(g)){var y=e.getModel(["rich",g]);oue(h[g]={},y,l,t,r,i,!1,!0)}}h&&(n.rich=h);var b=e.get("overflow");b&&(n.overflow=b);var S=e.get("minMargin");S!=null&&(n.margin=S),oue(n,e,l,t,r,i,!0,!1)}function wBe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||c9).rich;if(t){e=e||{};for(var r=va(t),i=0;i<r.length;i++){var u=r[i];e[u]=1}}n=n.parentModel}return e}var tue=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],nue=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],rue=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function oue(n,e,t,r,i,u,l,f){t=!i&&t||c9;var h=r&&r.inheritColor,g=e.getShallow("color"),y=e.getShallow("textBorderColor"),b=Xi(e.getShallow("opacity"),t.opacity);(g==="inherit"||g==="auto")&&(h?g=h:g=null),(y==="inherit"||y==="auto")&&(h?y=h:y=null),u||(g=g||t.color,y=y||t.textBorderColor),g!=null&&(n.fill=g),y!=null&&(n.stroke=y);var S=Xi(e.getShallow("textBorderWidth"),t.textBorderWidth);S!=null&&(n.lineWidth=S);var _=Xi(e.getShallow("textBorderType"),t.textBorderType);_!=null&&(n.lineDash=_);var k=Xi(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);k!=null&&(n.lineDashOffset=k),!i&&b==null&&!f&&(b=r&&r.defaultOpacity),b!=null&&(n.opacity=b),!i&&!u&&n.fill==null&&r.inheritColor&&(n.fill=r.inheritColor);for(var E=0;E<tue.length;E++){var R=tue[E],I=Xi(e.getShallow(R),t[R]);I!=null&&(n[R]=I)}for(var E=0;E<nue.length;E++){var R=nue[E],I=e.getShallow(R);I!=null&&(n[R]=I)}if(n.verticalAlign==null){var z=e.getShallow("baseline");z!=null&&(n.verticalAlign=z)}if(!l||!r.disableBox){for(var E=0;E<rue.length;E++){var R=rue[E],I=e.getShallow(R);I!=null&&(n[R]=I)}var L=e.getShallow("borderType");L!=null&&(n.borderDash=L),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&h&&(n.backgroundColor=h),(n.borderColor==="auto"||n.borderColor==="inherit")&&h&&(n.borderColor=h)}}function _Be(n,e){var t=e&&e.getModel("textStyle");return Xm([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var f9=cu();function SBe(n,e,t,r){if(n){var i=f9(n);i.prevValue=i.value,i.value=t;var u=e.normal;i.valueAnimation=u.get("valueAnimation"),i.valueAnimation&&(i.precision=u.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}var CBe=["textStyle","color"],GK=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],XK=new ba,TBe=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(CBe):null)},n.prototype.getFont=function(){return _Be({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<GK.length;r++)t[GK[r]]=this.getShallow(GK[r]);return XK.useStyle(t),XK.update(),XK.getBoundingRect()},n}();const MBe=TBe;var Ume=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],kBe=G3(Ume),DBe=function(){function n(){}return n.prototype.getLineStyle=function(e){return kBe(this,e)},n}(),qme=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],ABe=G3(qme),EBe=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return ABe(this,e,t)},n}(),RM=function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){},n.prototype.mergeOption=function(e,t){Ho(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,i=r==null?r:r[e];if(i==null&&!t){var u=this.parentModel;u&&(i=u.getShallow(e))}return i},n.prototype.getModel=function(e,t){var r=e!=null,i=r?this.parsePath(e):null,u=r?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new n(u,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(vo(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Ni.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n}();Qee(RM);wLe(RM);ff(RM,DBe);ff(RM,EBe);ff(RM,MLe);ff(RM,MBe);const xs=RM;var OBe=Math.round(Math.random()*10);function p5(n){return[n||"",OBe++].join("_")}function IBe(n){var e={};n.registerSubTypeDefaulter=function(t,r){var i=sy(t);e[i.main]=r},n.determineSubType=function(t,r){var i=r.type;if(!i){var u=sy(t).main;n.hasSubTypes(t)&&e[u]&&(i=e[u](r))}return i}}function RBe(n,e){n.topologicalTravel=function(u,l,f,h){if(!u.length)return;var g=t(l),y=g.graph,b=g.noEntryList,S={};for(Te(u,function(z){S[z]=!0});b.length;){var _=b.pop(),k=y[_],E=!!S[_];E&&(f.call(h,_,k.originalDeps.slice()),delete S[_]),Te(k.successor,E?I:R)}Te(S,function(){var z="";throw new Error(z)});function R(z){y[z].entryCount--,y[z].entryCount===0&&b.push(z)}function I(z){S[z]=!0,R(z)}};function t(u){var l={},f=[];return Te(u,function(h){var g=r(l,h),y=g.originalDeps=e(h),b=i(y,u);g.entryCount=b.length,g.entryCount===0&&f.push(h),Te(b,function(S){Di(g.predecessor,S)<0&&g.predecessor.push(S);var _=r(l,S);Di(_.successor,S)<0&&_.successor.push(h)})}),{graph:l,noEntryList:f}}function r(u,l){return u[l]||(u[l]={predecessor:[],successor:[]}),u[l]}function i(u,l){var f=[];return Te(u,function(h){Di(l,h)>=0&&f.push(h)}),f}}function a_(n,e){return Ho(Ho({},n,!0),e,!0)}const PBe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},NBe={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var sH="ZH",mte="EN",iL=mte,wV={},gte={},$me=Ni.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return n.indexOf(sH)>-1?sH:iL}():iL;function vte(n,e){n=n.toUpperCase(),gte[n]=new xs(e),wV[n]=e}function LBe(n){if(Lr(n)){var e=wV[n.toUpperCase()]||{};return n===sH||n===mte?vo(e):Ho(vo(e),vo(wV[iL]),!1)}else return Ho(vo(n),vo(wV[iL]),!1)}function tQ(n){return gte[n]}function BBe(){return gte[iL]}vte(mte,PBe);vte(sH,NBe);var yte=1e3,bte=yte*60,zN=bte*60,$m=zN*24,iue=$m*365,hN={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},CF="{yyyy}-{MM}-{dd}",aue={year:"{yyyy}",month:"{yyyy}-{MM}",day:CF,hour:CF+" "+hN.hour,minute:CF+" "+hN.minute,second:CF+" "+hN.second,millisecond:hN.none},YK=["year","month","day","hour","minute","second","millisecond"],Gme=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Ad(n,e){return n+="","0000".substr(0,e-n.length)+n}function E3(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function zBe(n){return n===E3(n)}function FBe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function zL(n,e,t,r){var i=Ap(n),u=i[xte(t)](),l=i[O3(t)]()+1,f=Math.floor((l-1)/3)+1,h=i[d9(t)](),g=i["get"+(t?"UTC":"")+"Day"](),y=i[aL(t)](),b=(y-1)%12+1,S=i[h9(t)](),_=i[p9(t)](),k=i[m9(t)](),E=r instanceof xs?r:tQ(r||$me)||BBe(),R=E.getModel("time"),I=R.get("month"),z=R.get("monthAbbr"),L=R.get("dayOfWeek"),q=R.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,Ad(u%100+"",2)).replace(/{Q}/g,f+"").replace(/{MMMM}/g,I[l-1]).replace(/{MMM}/g,z[l-1]).replace(/{MM}/g,Ad(l,2)).replace(/{M}/g,l+"").replace(/{dd}/g,Ad(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,L[g]).replace(/{ee}/g,q[g]).replace(/{e}/g,g+"").replace(/{HH}/g,Ad(y,2)).replace(/{H}/g,y+"").replace(/{hh}/g,Ad(b+"",2)).replace(/{h}/g,b+"").replace(/{mm}/g,Ad(S,2)).replace(/{m}/g,S+"").replace(/{ss}/g,Ad(_,2)).replace(/{s}/g,_+"").replace(/{SSS}/g,Ad(k,3)).replace(/{S}/g,k+"")}function VBe(n,e,t,r,i){var u=null;if(Lr(t))u=t;else if(Eo(t))u=t(n.value,e,{level:n.level});else{var l=Gn({},hN);if(n.level>0)for(var f=0;f<YK.length;++f)l[YK[f]]="{primary|"+l[YK[f]]+"}";var h=t?t.inherit===!1?t:To(t,l):l,g=Xme(n.value,i);if(h[g])u=h[g];else if(h.inherit){for(var y=Gme.indexOf(g),f=y-1;f>=0;--f)if(h[g]){u=h[g];break}u=u||l.none}if(sr(u)){var b=n.level==null?0:n.level>=0?n.level:u.length+n.level;b=Math.min(b,u.length-1),u=u[b]}}return zL(new Date(n.value),u,i,r)}function Xme(n,e){var t=Ap(n),r=t[O3(e)]()+1,i=t[d9(e)](),u=t[aL(e)](),l=t[h9(e)](),f=t[p9(e)](),h=t[m9(e)](),g=h===0,y=g&&f===0,b=y&&l===0,S=b&&u===0,_=S&&i===1,k=_&&r===1;return k?"year":_?"month":S?"day":b?"hour":y?"minute":g?"second":"millisecond"}function uue(n,e,t){var r=lu(n)?Ap(n):n;switch(e=e||Xme(n,t),e){case"year":return r[xte(t)]();case"half-year":return r[O3(t)]()>=6?1:0;case"quarter":return Math.floor((r[O3(t)]()+1)/4);case"month":return r[O3(t)]();case"day":return r[d9(t)]();case"half-day":return r[aL(t)]()/24;case"hour":return r[aL(t)]();case"minute":return r[h9(t)]();case"second":return r[p9(t)]();case"millisecond":return r[m9(t)]()}}function xte(n){return n?"getUTCFullYear":"getFullYear"}function O3(n){return n?"getUTCMonth":"getMonth"}function d9(n){return n?"getUTCDate":"getDate"}function aL(n){return n?"getUTCHours":"getHours"}function h9(n){return n?"getUTCMinutes":"getMinutes"}function p9(n){return n?"getUTCSeconds":"getSeconds"}function m9(n){return n?"getUTCMilliseconds":"getMilliseconds"}function HBe(n){return n?"setUTCFullYear":"setFullYear"}function Yme(n){return n?"setUTCMonth":"setMonth"}function Kme(n){return n?"setUTCDate":"setDate"}function Jme(n){return n?"setUTCHours":"setHours"}function Zme(n){return n?"setUTCMinutes":"setMinutes"}function Qme(n){return n?"setUTCSeconds":"setSeconds"}function ege(n){return n?"setUTCMilliseconds":"setMilliseconds"}function jBe(n,e,t,r,i,u,l,f){var h=new ba({style:{text:n,font:e,align:t,verticalAlign:r,padding:i,rich:u,overflow:l?"truncate":null,lineHeight:f}});return h.getBoundingRect()}function wte(n){if(!Kee(n))return Lr(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function _te(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var m5=Bee;function nQ(n,e,t){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(y){return y&&Xm(y)?y:"-"}function u(y){return!!(y!=null&&!isNaN(y)&&isFinite(y))}var l=e==="time",f=n instanceof Date;if(l||f){var h=l?Ap(n):n;if(isNaN(+h)){if(f)return"-"}else return zL(h,r,t)}if(e==="ordinal")return qV(n)?i(n):lu(n)&&u(n)?n+"":"-";var g=eL(n);return u(g)?wte(g):qV(n)?i(n):typeof n=="boolean"?n+"":"-"}var sue=["a","b","c","d","e","f","g"],KK=function(n,e){return"{"+n+(e??"")+"}"};function Ste(n,e,t){sr(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],u=0;u<i.length;u++){var l=sue[u];n=n.replace(KK(l),KK(l,0))}for(var f=0;f<r;f++)for(var h=0;h<i.length;h++){var g=e[f][i[h]];n=n.replace(KK(sue[h],f),t?bh(g):g)}return n}function WBe(n,e,t){return Te(e,function(r,i){n=n.replace("{"+i+"}",t?bh(r):r)}),n}function tge(n,e){var t=Lr(n)?{color:n,extraCssText:e}:n||{},r=t.color,i=t.type;e=t.extraCssText;var u=t.renderMode||"html";if(!r)return"";if(u==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+bh(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+bh(r)+";"+(e||"")+'"></span>';var l=t.markerId||"markerX";return{renderMode:u,content:"{"+l+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function UBe(n,e,t){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var r=Ap(e),i=t?"getUTC":"get",u=r[i+"FullYear"](),l=r[i+"Month"]()+1,f=r[i+"Date"](),h=r[i+"Hours"](),g=r[i+"Minutes"](),y=r[i+"Seconds"](),b=r[i+"Milliseconds"]();return n=n.replace("MM",Ad(l,2)).replace("M",l).replace("yyyy",u).replace("yy",Ad(u%100+"",2)).replace("dd",Ad(f,2)).replace("d",f).replace("hh",Ad(h,2)).replace("h",h).replace("mm",Ad(g,2)).replace("m",g).replace("ss",Ad(y,2)).replace("s",y).replace("SSS",Ad(b,3)),n}function qBe(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function CM(n,e){return e=e||"transparent",Lr(n)?n:no(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function lue(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var _V=Te,nge=["left","right","top","bottom","width","height"],iM=[["width","left","right"],["height","top","bottom"]];function Cte(n,e,t,r,i){var u=0,l=0;r==null&&(r=1/0),i==null&&(i=1/0);var f=0;e.eachChild(function(h,g){var y=h.getBoundingRect(),b=e.childAt(g+1),S=b&&b.getBoundingRect(),_,k;if(n==="horizontal"){var E=y.width+(S?-S.x+y.x:0);_=u+E,_>r||h.newline?(u=0,_=E,l+=f+t,f=y.height):f=Math.max(f,y.height)}else{var R=y.height+(S?-S.y+y.y:0);k=l+R,k>i||h.newline?(u+=f+t,l=0,k=R,f=y.width):f=Math.max(f,y.width)}h.newline||(h.x=u,h.y=l,h.markRedraw(),n==="horizontal"?u=_+t:l=k+t)})}var mM=Cte;ji(Cte,"vertical");ji(Cte,"horizontal");function Pd(n,e,t){t=m5(t||0);var r=e.width,i=e.height,u=Xo(n.left,r),l=Xo(n.top,i),f=Xo(n.right,r),h=Xo(n.bottom,i),g=Xo(n.width,r),y=Xo(n.height,i),b=t[2]+t[0],S=t[1]+t[3],_=n.aspect;switch(isNaN(g)&&(g=r-f-S-u),isNaN(y)&&(y=i-h-b-l),_!=null&&(isNaN(g)&&isNaN(y)&&(_>r/i?g=r*.8:y=i*.8),isNaN(g)&&(g=_*y),isNaN(y)&&(y=g/_)),isNaN(u)&&(u=r-f-g-S),isNaN(l)&&(l=i-h-y-b),n.left||n.right){case"center":u=r/2-g/2-t[3];break;case"right":u=r-g-S;break}switch(n.top||n.bottom){case"middle":case"center":l=i/2-y/2-t[0];break;case"bottom":l=i-y-b;break}u=u||0,l=l||0,isNaN(g)&&(g=r-S-u-(f||0)),isNaN(y)&&(y=i-b-l-(h||0));var k=new vi(u+t[3],l+t[0],g,y);return k.margin=t,k}function Tte(n,e,t,r,i,u){var l=!i||!i.hv||i.hv[0],f=!i||!i.hv||i.hv[1],h=i&&i.boundingMode||"all";if(u=u||n,u.x=n.x,u.y=n.y,!l&&!f)return!1;var g;if(h==="raw")g=n.type==="group"?new vi(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(g=n.getBoundingRect(),n.needLocalTransform()){var y=n.getLocalTransform();g=g.clone(),g.applyTransform(y)}var b=Pd(To({width:g.width,height:g.height},e),t,r),S=l?b.x-g.x:0,_=f?b.y-g.y:0;return h==="raw"?(u.x=S,u.y=_):(u.x+=S,u.y+=_),u===n&&n.markRedraw(),!0}function $Be(n,e){return n[iM[e][0]]!=null||n[iM[e][1]]!=null&&n[iM[e][2]]!=null}function uL(n){var e=n.layoutMode||n.constructor.layoutMode;return no(e)?e:e?{type:e}:null}function Z2(n,e,t){var r=t&&t.ignoreSize;!sr(r)&&(r=[r,r]);var i=l(iM[0],0),u=l(iM[1],1);g(iM[0],n,i),g(iM[1],n,u);function l(y,b){var S={},_=0,k={},E=0,R=2;if(_V(y,function(L){k[L]=n[L]}),_V(y,function(L){f(e,L)&&(S[L]=k[L]=e[L]),h(S,L)&&_++,h(k,L)&&E++}),r[b])return h(e,y[1])?k[y[2]]=null:h(e,y[2])&&(k[y[1]]=null),k;if(E===R||!_)return k;if(_>=R)return S;for(var I=0;I<y.length;I++){var z=y[I];if(!f(S,z)&&f(n,z)){S[z]=n[z];break}}return S}function f(y,b){return y.hasOwnProperty(b)}function h(y,b){return y[b]!=null&&y[b]!=="auto"}function g(y,b,S){_V(y,function(_){b[_]=S[_]})}}function g5(n){return rge({},n)}function rge(n,e){return e&&n&&_V(nge,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var GBe=cu(),v5=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,t,r,i)||this;return u.uid=p5("ec_cpt_model"),u}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=uL(this),u=i?g5(t):{},l=r.getTheme();Ho(t,l.get(this.mainType)),Ho(t,this.getDefaultOption()),i&&Z2(t,u,i)},e.prototype.mergeOption=function(t,r){Ho(this.option,t,!0);var i=uL(this);i&&Z2(this.option,t,i)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!yLe(t))return t.defaultOption;var r=GBe(this);if(!r.defaultOption){for(var i=[],u=t;u;){var l=u.prototype.defaultOption;l&&i.push(l),u=u.superClass}for(var f={},h=i.length-1;h>=0;h--)f=Ho(f,i[h],!0);r.defaultOption=f}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var i=t+"Index",u=t+"Id";return NL(this.ecModel,t,{index:this.get(i,!0),id:this.get(u,!0)},r)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(xs);Zpe(v5,xs);JH(v5);IBe(v5);RBe(v5,XBe);function XBe(n){var e=[];return Te(v5.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=br(e,function(t){return sy(t).main}),n!=="dataset"&&Di(e,"dataset")<=0&&e.unshift("dataset"),e}const Vi=v5;var oge="";typeof navigator<"u"&&(oge=navigator.platform||"");var o3="rgba(0, 0, 0, 0.2)";const YBe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:o3,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:o3,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:o3,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:o3,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:o3,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:o3,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:oge.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var ige=to(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),ng="original",kh="arrayRows",Av="objectRows",Sy="keyedColumns",X2="typedArray",age="unknown",Db="column",y5="row",nf={Must:1,Might:2,Not:3},uge=cu();function KBe(n){uge(n).datasetMap=to()}function JBe(n,e,t){var r={},i=Mte(e);if(!i||!n)return r;var u=[],l=[],f=e.ecModel,h=uge(f).datasetMap,g=i.uid+"_"+t.seriesLayoutBy,y,b;n=n.slice(),Te(n,function(E,R){var I=no(E)?E:n[R]={name:E};I.type==="ordinal"&&y==null&&(y=R,b=k(I)),r[I.name]=[]});var S=h.get(g)||h.set(g,{categoryWayDim:b,valueWayDim:0});Te(n,function(E,R){var I=E.name,z=k(E);if(y==null){var L=S.valueWayDim;_(r[I],L,z),_(l,L,z),S.valueWayDim+=z}else if(y===R)_(r[I],0,z),_(u,0,z);else{var L=S.categoryWayDim;_(r[I],L,z),_(l,L,z),S.categoryWayDim+=z}});function _(E,R,I){for(var z=0;z<I;z++)E.push(R+z)}function k(E){var R=E.dimsDef;return R?R.length:1}return u.length&&(r.itemName=u),l.length&&(r.seriesName=l),r}function sge(n,e,t){var r={},i=Mte(n);if(!i)return r;var u=e.sourceFormat,l=e.dimensionsDefine,f;(u===Av||u===Sy)&&Te(l,function(y,b){(no(y)?y.name:y)==="name"&&(f=b)});var h=function(){for(var y={},b={},S=[],_=0,k=Math.min(5,t);_<k;_++){var E=cge(e.data,u,e.seriesLayoutBy,l,e.startIndex,_);S.push(E);var R=E===nf.Not;if(R&&y.v==null&&_!==f&&(y.v=_),(y.n==null||y.n===y.v||!R&&S[y.n]===nf.Not)&&(y.n=_),I(y)&&S[y.n]!==nf.Not)return y;R||(E===nf.Might&&b.v==null&&_!==f&&(b.v=_),(b.n==null||b.n===b.v)&&(b.n=_))}function I(z){return z.v!=null&&z.n!=null}return I(y)?y:I(b)?b:null}();if(h){r.value=[h.v];var g=f??h.n;r.itemName=[g],r.seriesName=[g]}return r}function Mte(n){var e=n.get("data",!0);if(!e)return NL(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},mc).models[0]}function ZBe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:NL(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},mc).models}function lge(n,e){return cge(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function cge(n,e,t,r,i,u){var l,f=5;if(Mh(n))return nf.Not;var h,g;if(r){var y=r[u];no(y)?(h=y.name,g=y.type):Lr(y)&&(h=y)}if(g!=null)return g==="ordinal"?nf.Must:nf.Not;if(e===kh){var b=n;if(t===y5){for(var S=b[u],_=0;_<(S||[]).length&&_<f;_++)if((l=q(S[i+_]))!=null)return l}else for(var _=0;_<b.length&&_<f;_++){var k=b[i+_];if(k&&(l=q(k[u]))!=null)return l}}else if(e===Av){var E=n;if(!h)return nf.Not;for(var _=0;_<E.length&&_<f;_++){var R=E[_];if(R&&(l=q(R[h]))!=null)return l}}else if(e===Sy){var I=n;if(!h)return nf.Not;var S=I[h];if(!S||Mh(S))return nf.Not;for(var _=0;_<S.length&&_<f;_++)if((l=q(S[_]))!=null)return l}else if(e===ng)for(var z=n,_=0;_<z.length&&_<f;_++){var R=z[_],L=f5(R);if(!sr(L))return nf.Not;if((l=q(L[u]))!=null)return l}function q(X){var Y=Lr(X);if(X!=null&&isFinite(X)&&X!=="")return Y?nf.Might:nf.Not;if(Y&&X!=="-")return nf.Must}return nf.Not}var rQ=to();function QBe(n,e){Dp(rQ.get(n)==null&&e),rQ.set(n,e)}function eze(n,e,t){var r=rQ.get(e);if(!r)return t;var i=r(n);return i?t.concat(i):t}var cue=cu(),tze=cu(),kte=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var i=Bs(this.get("color",!0)),u=this.get("colorLayer",!0);return fge(this,cue,i,u,e,t,r)},n.prototype.clearColorPalette=function(){rze(this,cue)},n}();function fue(n,e,t,r){var i=Bs(n.get(["aria","decal","decals"]));return fge(n,tze,i,null,e,t,r)}function nze(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}function fge(n,e,t,r,i,u,l){u=u||n;var f=e(u),h=f.paletteIdx||0,g=f.paletteNameMap=f.paletteNameMap||{};if(g.hasOwnProperty(i))return g[i];var y=l==null||!r?t:nze(r,l);if(y=y||t,!(!y||!y.length)){var b=y[h];return i&&(g[i]=b),f.paletteIdx=(h+1)%y.length,b}}function rze(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var TF,VP,due,hue="\0_ec_inner",oze=1,dge=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,i,u,l,f){u=u||{},this.option=null,this._theme=new xs(u),this._locale=new xs(l),this._optionManager=f},e.prototype.setOption=function(t,r,i){var u=gue(r);this._optionManager.setOption(t,i,u),this._resetOption(null,u)},e.prototype.resetOption=function(t,r){return this._resetOption(t,gue(r))},e.prototype._resetOption=function(t,r){var i=!1,u=this._optionManager;if(!t||t==="recreate"){var l=u.mountOption(t==="recreate");!this.option||t==="recreate"?due(this,l):(this.restoreData(),this._mergeOption(l,r)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var f=u.getTimelineOption(this);f&&(i=!0,this._mergeOption(f,r))}if(!t||t==="recreate"||t==="media"){var h=u.getMediaOption(this);h.length&&Te(h,function(g){i=!0,this._mergeOption(g,r)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var i=this.option,u=this._componentsMap,l=this._componentsCount,f=[],h=to(),g=r&&r.replaceMergeMainTypeMap;KBe(this),Te(t,function(b,S){b!=null&&(Vi.hasClass(S)?S&&(f.push(S),h.set(S,!0)):i[S]=i[S]==null?vo(b):Ho(i[S],b,!0))}),g&&g.each(function(b,S){Vi.hasClass(S)&&!h.get(S)&&(f.push(S),h.set(S,!0))}),Vi.topologicalTravel(f,Vi.getAllClassMainTypes(),y,this);function y(b){var S=eze(this,b,Bs(t[b])),_=u.get(b),k=_?g&&g.get(b)?"replaceMerge":"normalMerge":"replaceAll",E=Xpe(_,S,k);sLe(E,b,Vi),i[b]=null,u.set(b,null),l.set(b,0);var R=[],I=[],z=0,L;Te(E,function(q,X){var Y=q.existing,ae=q.newOption;if(!ae)Y&&(Y.mergeOption({},this),Y.optionUpdated({},!1));else{var te=b==="series",ie=Vi.getClass(b,q.keyInfo.subType,!te);if(!ie)return;if(b==="tooltip"){if(L)return;L=!0}if(Y&&Y.constructor===ie)Y.name=q.keyInfo.name,Y.mergeOption(ae,this),Y.optionUpdated(ae,!1);else{var le=Gn({componentIndex:X},q.keyInfo);Y=new ie(ae,this,this,le),Gn(Y,le),q.brandNew&&(Y.__requireNewView=!0),Y.init(ae,this,this),Y.optionUpdated(null,!0)}}Y?(R.push(Y.option),I.push(Y),z++):(R.push(void 0),I.push(void 0))},this),i[b]=R,u.set(b,I),l.set(b,z),b==="series"&&TF(this)}this._seriesIndices||TF(this)},e.prototype.getOption=function(){var t=vo(this.option);return Te(t,function(r,i){if(Vi.hasClass(i)){for(var u=Bs(r),l=u.length,f=!1,h=l-1;h>=0;h--)u[h]&&!tL(u[h])?f=!0:(u[h]=null,!f&&l--);u.length=l,t[i]=u}}),delete t[hue],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var u=i[r||0];if(u)return u;if(r==null){for(var l=0;l<i.length;l++)if(i[l])return i[l]}}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var i=t.index,u=t.id,l=t.name,f=this._componentsMap.get(r);if(!f||!f.length)return[];var h;return i!=null?(h=[],Te(Bs(i),function(g){f[g]&&h.push(f[g])})):u!=null?h=pue("id",u,f):l!=null?h=pue("name",l,f):h=Ls(f,function(g){return!!g}),mue(h,t)},e.prototype.findComponents=function(t){var r=t.query,i=t.mainType,u=f(r),l=u?this.queryComponents(u):Ls(this._componentsMap.get(i),function(g){return!!g});return h(mue(l,t));function f(g){var y=i+"Index",b=i+"Id",S=i+"Name";return g&&(g[y]!=null||g[b]!=null||g[S]!=null)?{mainType:i,index:g[y],id:g[b],name:g[S]}:null}function h(g){return t.filter?Ls(g,t.filter):g}},e.prototype.eachComponent=function(t,r,i){var u=this._componentsMap;if(Eo(t)){var l=r,f=t;u.each(function(b,S){for(var _=0;b&&_<b.length;_++){var k=b[_];k&&f.call(l,S,k,k.componentIndex)}})}else for(var h=Lr(t)?u.get(t):no(t)?this.findComponents(t):null,g=0;h&&g<h.length;g++){var y=h[g];y&&r.call(i,y,y.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=$f(t,null);return Ls(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Ls(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return Ls(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){VP(this),Te(this._seriesIndices,function(i){var u=this._componentsMap.get("series")[i];t.call(r,u,i)},this)},e.prototype.eachRawSeries=function(t,r){Te(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,i){VP(this),Te(this._seriesIndices,function(u){var l=this._componentsMap.get("series")[u];l.subType===t&&r.call(i,l,u)},this)},e.prototype.eachRawSeriesByType=function(t,r,i){return Te(this.getSeriesByType(t),r,i)},e.prototype.isSeriesFiltered=function(t){return VP(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){VP(this);var i=[];Te(this._seriesIndices,function(u){var l=this._componentsMap.get("series")[u];t.call(r,l,u)&&i.push(u)},this),this._seriesIndices=i,this._seriesIndicesMap=to(i)},e.prototype.restoreData=function(t){TF(this);var r=this._componentsMap,i=[];r.each(function(u,l){Vi.hasClass(l)&&i.push(l)}),Vi.topologicalTravel(i,Vi.getAllClassMainTypes(),function(u){Te(r.get(u),function(l){l&&(u!=="series"||!ize(l,t))&&l.restoreData()})})},e.internalField=function(){TF=function(t){var r=t._seriesIndices=[];Te(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=to(r)},VP=function(t){},due=function(t,r){t.option={},t.option[hue]=oze,t._componentsMap=to({series:[]}),t._componentsCount=to();var i=r.aria;no(i)&&i.enabled==null&&(i.enabled=!0),aze(r,t._theme.option),Ho(r,YBe,!1),t._mergeOption(r,null)}}(),e}(xs);function ize(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,i=e.seriesName;return t!=null&&n.componentIndex!==t||r!=null&&n.id!==r||i!=null&&n.name!==i}}function aze(n,e){var t=n.color&&!n.colorLayer;Te(e,function(r,i){i==="colorLayer"&&t||Vi.hasClass(i)||(typeof r=="object"?n[i]=n[i]?Ho(n[i],r,!1):vo(r):n[i]==null&&(n[i]=r))})}function pue(n,e,t){if(sr(e)){var r=to();return Te(e,function(u){if(u!=null){var l=$f(u,null);l!=null&&r.set(u,!0)}}),Ls(t,function(u){return u&&r.get(u[n])})}else{var i=$f(e,null);return Ls(t,function(u){return u&&i!=null&&u[n]===i})}}function mue(n,e){return e.hasOwnProperty("subType")?Ls(n,function(t){return t&&t.subType===e.subType}):n}function gue(n){var e=to();return n&&Te(Bs(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}ff(dge,kte);const hge=dge;var uze=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],sze=function(){function n(e){Te(uze,function(t){this[t]=Wr(e[t],e)},this)}return n}();const pge=sze;var JK={},lze=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var r=[];Te(JK,function(i,u){var l=i.create(e,t);r=r.concat(l||[])}),this._coordinateSystems=r},n.prototype.update=function(e,t){Te(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){JK[e]=t},n.get=function(e){return JK[e]},n}();const g9=lze;var cze=/^(min|max)?(.+)$/,fze=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(Te(Bs(e.series),function(l){l&&l.data&&Mh(l.data)&&$V(l.data)}),Te(Bs(e.dataset),function(l){l&&l.source&&Mh(l.source)&&$V(l.source)})),e=vo(e);var i=this._optionBackup,u=dze(e,t,!i);this._newBaseOption=u.baseOption,i?(u.timelineOptions.length&&(i.timelineOptions=u.timelineOptions),u.mediaList.length&&(i.mediaList=u.mediaList),u.mediaDefault&&(i.mediaDefault=u.mediaDefault)):this._optionBackup=u},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],vo(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(t=vo(r[i.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,u=this._mediaDefault,l=[],f=[];if(!i.length&&!u)return f;for(var h=0,g=i.length;h<g;h++)hze(i[h].query,t,r)&&l.push(h);return!l.length&&u&&(l=[-1]),l.length&&!mze(l,this._currentMediaIndices)&&(f=br(l,function(y){return vo(y===-1?u.option:i[y].option)})),this._currentMediaIndices=l,f},n}();function dze(n,e,t){var r=[],i,u,l=n.baseOption,f=n.timeline,h=n.options,g=n.media,y=!!n.media,b=!!(h||f||l&&l.timeline);l?(u=l,u.timeline||(u.timeline=f)):((b||y)&&(n.options=n.media=null),u=n),y&&(sr(g)&&Te(g,function(_){_&&_.option&&(_.query?r.push(_):i||(i=_))})),S(u),Te(h,function(_){return S(_)}),Te(r,function(_){return S(_.option)});function S(_){Te(e,function(k){k(_,t)})}return{baseOption:u,timelineOptions:h||[],mediaDefault:i,mediaList:r}}function hze(n,e,t){var r={width:e,height:t,aspectratio:e/t},i=!0;return Te(n,function(u,l){var f=l.match(cze);if(!(!f||!f[1]||!f[2])){var h=f[1],g=f[2].toLowerCase();pze(r[g],u,h)||(i=!1)}}),i}function pze(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function mze(n,e){return n.join(",")===e.join(",")}const gze=fze;var mv=Te,sL=no,vue=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ZK(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=vue.length;t<r;t++){var i=vue[t],u=e.normal,l=e.emphasis;u&&u[i]&&(n[i]=n[i]||{},n[i].normal?Ho(n[i].normal,u[i]):n[i].normal=u[i],u[i]=null),l&&l[i]&&(n[i]=n[i]||{},n[i].emphasis?Ho(n[i].emphasis,l[i]):n[i].emphasis=l[i],l[i]=null)}}function Uf(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,i=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,To(n[e],r)):n[e]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[e]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function pN(n){Uf(n,"itemStyle"),Uf(n,"lineStyle"),Uf(n,"areaStyle"),Uf(n,"label"),Uf(n,"labelLine"),Uf(n,"upperLabel"),Uf(n,"edgeLabel")}function bl(n,e){var t=sL(n)&&n[e],r=sL(t)&&t.textStyle;if(r)for(var i=0,u=vae.length;i<u;i++){var l=vae[i];r.hasOwnProperty(l)&&(t[l]=r[l])}}function Fm(n){n&&(pN(n),bl(n,"label"),n.emphasis&&bl(n.emphasis,"label"))}function vze(n){if(sL(n)){ZK(n),pN(n),bl(n,"label"),bl(n,"upperLabel"),bl(n,"edgeLabel"),n.emphasis&&(bl(n.emphasis,"label"),bl(n.emphasis,"upperLabel"),bl(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(ZK(e),Fm(e));var t=n.markLine;t&&(ZK(t),Fm(t));var r=n.markArea;r&&Fm(r);var i=n.data;if(n.type==="graph"){i=i||n.nodes;var u=n.links||n.edges;if(u&&!Mh(u))for(var l=0;l<u.length;l++)Fm(u[l]);Te(n.categories,function(g){pN(g)})}if(i&&!Mh(i))for(var l=0;l<i.length;l++)Fm(i[l]);if(e=n.markPoint,e&&e.data)for(var f=e.data,l=0;l<f.length;l++)Fm(f[l]);if(t=n.markLine,t&&t.data)for(var h=t.data,l=0;l<h.length;l++)sr(h[l])?(Fm(h[l][0]),Fm(h[l][1])):Fm(h[l]);n.type==="gauge"?(bl(n,"axisLabel"),bl(n,"title"),bl(n,"detail")):n.type==="treemap"?(Uf(n.breadcrumb,"itemStyle"),Te(n.levels,function(g){pN(g)})):n.type==="tree"&&pN(n.leaves)}}function mb(n){return sr(n)?n:n?[n]:[]}function yue(n){return(sr(n)?n[0]:n)||{}}function yze(n,e){mv(mb(n.series),function(r){sL(r)&&vze(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),mv(t,function(r){mv(mb(n[r]),function(i){i&&(bl(i,"axisLabel"),bl(i.axisPointer,"label"))})}),mv(mb(n.parallel),function(r){var i=r&&r.parallelAxisDefault;bl(i,"axisLabel"),bl(i&&i.axisPointer,"label")}),mv(mb(n.calendar),function(r){Uf(r,"itemStyle"),bl(r,"dayLabel"),bl(r,"monthLabel"),bl(r,"yearLabel")}),mv(mb(n.radar),function(r){bl(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),mv(mb(n.geo),function(r){sL(r)&&(Fm(r),mv(mb(r.regions),function(i){Fm(i)}))}),mv(mb(n.timeline),function(r){Fm(r),Uf(r,"label"),Uf(r,"itemStyle"),Uf(r,"controlStyle",!0);var i=r.data;sr(i)&&Te(i,function(u){no(u)&&(Uf(u,"label"),Uf(u,"itemStyle"))})}),mv(mb(n.toolbox),function(r){Uf(r,"iconStyle"),mv(r.feature,function(i){Uf(i,"iconStyle")})}),bl(yue(n.axisPointer),"label"),bl(yue(n.tooltip).axisPointer,"label")}function bze(n,e){for(var t=e.split(","),r=n,i=0;i<t.length&&(r=r&&r[t[i]],r!=null);i++);return r}function xze(n,e,t,r){for(var i=e.split(","),u=n,l,f=0;f<i.length-1;f++)l=i[f],u[l]==null&&(u[l]={}),u=u[l];(r||u[i[f]]==null)&&(u[i[f]]=t)}function bue(n){n&&Te(wze,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var wze=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],_ze=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],QK=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function HP(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<QK.length;t++){var r=QK[t][1],i=QK[t][0];e[r]!=null&&(e[i]=e[r])}}function xue(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function wue(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function Sze(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function mge(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&mge(n[t].children,e)}function gge(n,e){yze(n,e),n.series=Bs(n.series),Te(n.series,function(t){if(no(t)){var r=t.type;if(r==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(r==="pie"||r==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),xue(t.label);var i=t.data;if(i&&!Mh(i))for(var u=0;u<i.length;u++)xue(i[u]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(r==="gauge"){var l=bze(t,"pointer.color");l!=null&&xze(t,"itemStyle.color",l)}else if(r==="bar"){HP(t),HP(t.backgroundStyle),HP(t.emphasis);var i=t.data;if(i&&!Mh(i))for(var u=0;u<i.length;u++)typeof i[u]=="object"&&(HP(i[u]),HP(i[u]&&i[u].emphasis))}else if(r==="sunburst"){var f=t.highlightPolicy;f&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=f)),wue(t),mge(t.data,wue)}else r==="graph"||r==="sankey"?Sze(t):r==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&To(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),bue(t)}}),n.dataRange&&(n.visualMap=n.dataRange),Te(_ze,function(t){var r=n[t];r&&(sr(r)||(r=[r]),Te(r,function(i){bue(i)}))})}function Cze(n){var e=to();n.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]),u=t.getData(),l={stackResultDimension:u.getCalculationInfo("stackResultDimension"),stackedOverDimension:u.getCalculationInfo("stackedOverDimension"),stackedDimension:u.getCalculationInfo("stackedDimension"),stackedByDimension:u.getCalculationInfo("stackedByDimension"),isStackedByIndex:u.getCalculationInfo("isStackedByIndex"),data:u,seriesModel:t};if(!l.stackedDimension||!(l.isStackedByIndex||l.stackedByDimension))return;i.length&&u.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(l)}}),e.each(Tze)}function Tze(n){Te(n,function(e,t){var r=[],i=[NaN,NaN],u=[e.stackResultDimension,e.stackedOverDimension],l=e.data,f=e.isStackedByIndex,h=e.seriesModel.get("stackStrategy")||"samesign";l.modify(u,function(g,y,b){var S=l.get(e.stackedDimension,b);if(isNaN(S))return i;var _,k;f?k=l.getRawIndex(b):_=l.get(e.stackedByDimension,b);for(var E=NaN,R=t-1;R>=0;R--){var I=n[R];if(f||(k=I.data.rawIndexOf(I.stackedByDimension,_)),k>=0){var z=I.data.getByRawIndex(I.stackResultDimension,k);if(h==="all"||h==="positive"&&z>0||h==="negative"&&z<0||h==="samesign"&&S>=0&&z>0||h==="samesign"&&S<=0&&z<0){S=KNe(S,z),E=z;break}}}return r[0]=S,r[1]=E,r})})}var v9=function(){function n(e){this.data=e.data||(e.sourceFormat===Sy?{}:[]),this.sourceFormat=e.sourceFormat||age,this.seriesLayoutBy=e.seriesLayoutBy||Db,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];i.type==null&&lge(this,r)===nf.Must&&(i.type="ordinal")}}return n}();function Dte(n){return n instanceof v9}function oQ(n,e,t){t=t||vge(n);var r=e.seriesLayoutBy,i=kze(n,t,r,e.sourceHeader,e.dimensions),u=new v9({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:vo(e)});return u}function Ate(n){return new v9({data:n,sourceFormat:Mh(n)?X2:ng})}function Mze(n){return new v9({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:vo(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function vge(n){var e=age;if(Mh(n))e=X2;else if(sr(n)){n.length===0&&(e=kh);for(var t=0,r=n.length;t<r;t++){var i=n[t];if(i!=null){if(sr(i)){e=kh;break}else if(no(i)){e=Av;break}}}}else if(no(n)){for(var u in n)if(Qo(n,u)&&Gf(n[u])){e=Sy;break}}return e}function kze(n,e,t,r,i){var u,l;if(!n)return{dimensionsDefine:_ue(i),startIndex:l,dimensionsDetectedCount:u};if(e===kh){var f=n;r==="auto"||r==null?Sue(function(g){g!=null&&g!=="-"&&(Lr(g)?l==null&&(l=1):l=0)},t,f,10):l=lu(r)?r:r?1:0,!i&&l===1&&(i=[],Sue(function(g,y){i[y]=g!=null?g+"":""},t,f,1/0)),u=i?i.length:t===y5?f.length:f[0]?f[0].length:null}else if(e===Av)i||(i=Dze(n));else if(e===Sy)i||(i=[],Te(n,function(g,y){i.push(y)}));else if(e===ng){var h=f5(n[0]);u=sr(h)&&h.length||1}return{startIndex:l,dimensionsDefine:_ue(i),dimensionsDetectedCount:u}}function Dze(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return va(t)}function _ue(n){if(n){var e=to();return br(n,function(t,r){t=no(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var u=e.get(i.name);return u?i.name+="-"+u.count++:e.set(i.name,{count:1}),i})}}function Sue(n,e,t,r){if(e===y5)for(var i=0;i<t.length&&i<r;i++)n(t[i]?t[i][0]:null,i);else for(var u=t[0]||[],i=0;i<u.length&&i<r;i++)n(u[i],i)}function yge(n){var e=n.sourceFormat;return e===Av||e===Sy}var WT,UT,qT,Cue,Tue,bge=function(){function n(e,t){var r=Dte(e)?e:Ate(e);this._source=r;var i=this._data=r.data;r.sourceFormat===X2&&(this._offset=0,this._dimSize=t,this._data=i),Tue(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;Tue=function(l,f,h){var g=h.sourceFormat,y=h.seriesLayoutBy,b=h.startIndex,S=h.dimensionsDefine,_=Cue[Ete(g,y)];if(Gn(l,_),g===X2)l.getItem=t,l.count=i,l.fillStorage=r;else{var k=xge(g,y);l.getItem=Wr(k,null,f,b,S);var E=wge(g,y);l.count=Wr(E,null,f,b,S)}};var t=function(l,f){l=l-this._offset,f=f||[];for(var h=this._data,g=this._dimSize,y=g*l,b=0;b<g;b++)f[b]=h[y+b];return f},r=function(l,f,h,g){for(var y=this._data,b=this._dimSize,S=0;S<b;S++){for(var _=g[S],k=_[0]==null?1/0:_[0],E=_[1]==null?-1/0:_[1],R=f-l,I=h[S],z=0;z<R;z++){var L=y[z*b+S];I[l+z]=L,L<k&&(k=L),L>E&&(E=L)}_[0]=k,_[1]=E}},i=function(){return this._data?this._data.length/this._dimSize:0};Cue=(e={},e[kh+"_"+Db]={pure:!0,appendData:u},e[kh+"_"+y5]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Av]={pure:!0,appendData:u},e[Sy]={pure:!0,appendData:function(l){var f=this._data;Te(l,function(h,g){for(var y=f[g]||(f[g]=[]),b=0;b<(h||[]).length;b++)y.push(h[b])})}},e[ng]={appendData:u},e[X2]={persistent:!1,pure:!0,appendData:function(l){this._data=l},clean:function(){this._offset+=this.count(),this._data=null}},e);function u(l){for(var f=0;f<l.length;f++)this._data.push(l[f])}}(),n}(),Mue=function(n,e,t,r){return n[r]},Aze=(WT={},WT[kh+"_"+Db]=function(n,e,t,r){return n[r+e]},WT[kh+"_"+y5]=function(n,e,t,r,i){r+=e;for(var u=i||[],l=n,f=0;f<l.length;f++){var h=l[f];u[f]=h?h[r]:null}return u},WT[Av]=Mue,WT[Sy]=function(n,e,t,r,i){for(var u=i||[],l=0;l<t.length;l++){var f=t[l].name,h=n[f];u[l]=h?h[r]:null}return u},WT[ng]=Mue,WT);function xge(n,e){var t=Aze[Ete(n,e)];return t}var kue=function(n,e,t){return n.length},Eze=(UT={},UT[kh+"_"+Db]=function(n,e,t){return Math.max(0,n.length-e)},UT[kh+"_"+y5]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},UT[Av]=kue,UT[Sy]=function(n,e,t){var r=t[0].name,i=n[r];return i?i.length:0},UT[ng]=kue,UT);function wge(n,e){var t=Eze[Ete(n,e)];return t}var eJ=function(n,e,t){return n[e]},Oze=(qT={},qT[kh]=eJ,qT[Av]=function(n,e,t){return n[t]},qT[Sy]=eJ,qT[ng]=function(n,e,t){var r=f5(n);return r instanceof Array?r[e]:r},qT[X2]=eJ,qT);function _ge(n){var e=Oze[n];return e}function Ete(n,e){return n===kh?n+"_"+e:n}function J3(n,e,t){if(n){var r=n.getRawDataItem(e);if(r!=null){var i=n.getStore(),u=i.getSource().sourceFormat;if(t!=null){var l=n.getDimensionIndex(t),f=i.getDimensionProperty(l);return _ge(u)(r,l,f)}else{var h=r;return u===ng&&(h=f5(r)),h}}}}var Ize=/\{@(.+?)\}/g,Sge=function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),i=this.getRawValue(e,t),u=r.getRawIndex(e),l=r.getName(e),f=r.getRawDataItem(e),h=r.getItemVisual(e,"style"),g=h&&h[r.getItemVisual(e,"drawType")||"fill"],y=h&&h.stroke,b=this.mainType,S=b==="series",_=r.userOutput&&r.userOutput.get();return{componentType:b,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:S?this.subType:null,seriesIndex:this.seriesIndex,seriesId:S?this.id:null,seriesName:S?this.name:null,name:l,dataIndex:u,data:f,dataType:t,value:i,color:g,borderColor:y,dimensionNames:_?_.fullDimensions:null,encode:_?_.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,i,u,l){t=t||"normal";var f=this.getData(r),h=this.getDataParams(e,r);if(l&&(h.value=l.interpolatedValue),i!=null&&sr(h.value)&&(h.value=h.value[i]),!u){var g=f.getItemModel(e);u=g.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Eo(u))return h.status=t,h.dimensionIndex=i,u(h);if(Lr(u)){var y=Ste(u,h);return y.replace(Ize,function(b,S){var _=S.length,k=S;k.charAt(0)==="["&&k.charAt(_-1)==="]"&&(k=+k.slice(1,_-1));var E=J3(f,e,k);if(l&&sr(l.interpolatedValue)){var R=f.getDimensionIndex(k);R>=0&&(E=l.interpolatedValue[R])}return E!=null?E+"":""})}},n.prototype.getRawValue=function(e,t){return J3(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n}();function Due(n){var e,t;return no(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function FN(n){return new Rze(n)}var Rze=function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var u;this._plan&&!r&&(u=this._plan(this.context));var l=y(this._modBy),f=this._modDataCount||0,h=y(e&&e.modBy),g=e&&e.modDataCount||0;(l!==h||f!==g)&&(u="reset");function y(z){return!(z>=1)&&(z=1),z}var b;(this._dirty||u==="reset")&&(this._dirty=!1,b=this._doReset(r)),this._modBy=h,this._modDataCount=g;var S=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var _=this._dueIndex,k=Math.min(S!=null?this._dueIndex+S:1/0,this._dueEnd);if(!r&&(b||_<k)){var E=this._progress;if(sr(E))for(var R=0;R<E.length;R++)this._doProgress(E[R],_,k,h,g);else this._doProgress(E,_,k,h,g)}this._dueIndex=k;var I=this._settedOutputEnd!=null?this._settedOutputEnd:k;this._outputDueEnd=I}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,i,u){Aue.reset(t,r,i,u),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:Aue.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,r;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(r=t.forceFirstProgress,t=t.progress),sr(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),Aue=function(){var n,e,t,r,i,u={reset:function(h,g,y,b){e=h,n=g,t=y,r=b,i=Math.ceil(r/t),u.next=t>1&&r>0?f:l}};return u;function l(){return e<n?e++:null}function f(){var h=e%i*t+Math.ceil(e/i),g=e>=n?null:h<r?h:e;return e++,g}}();function SV(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!lu(n)&&n!=null&&n!=="-"&&(n=+Ap(n)),n==null||n===""?NaN:+n)}to({number:function(n){return parseFloat(n)},time:function(n){return+Ap(n)},trim:function(n){return Lr(n)?Xm(n):n}});var Pze=function(){function n(e,t){var r=e==="desc";this._resultLT=r?1:-1,t==null&&(t=r?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=lu(e)?e:eL(e),i=lu(t)?t:eL(t),u=isNaN(r),l=isNaN(i);if(u&&(r=this._incomparable),l&&(i=this._incomparable),u&&l){var f=Lr(e),h=Lr(t);f&&(r=h?e:0),h&&(i=f?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n}(),Nze=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return SV(e,t)},n}();function Lze(n,e){var t=new Nze,r=n.data,i=t.sourceFormat=n.sourceFormat,u=n.startIndex,l="";n.seriesLayoutBy!==Db&&xh(l);var f=[],h={},g=n.dimensionsDefine;if(g)Te(g,function(E,R){var I=E.name,z={index:R,name:I,displayName:E.displayName};if(f.push(z),I!=null){var L="";Qo(h,I)&&xh(L),h[I]=z}});else for(var y=0;y<n.dimensionsDetectedCount;y++)f.push({index:y});var b=xge(i,Db);e.__isBuiltIn&&(t.getRawDataItem=function(E){return b(r,u,f,E)},t.getRawData=Wr(Bze,null,n)),t.cloneRawData=Wr(zze,null,n);var S=wge(i,Db);t.count=Wr(S,null,r,u,f);var _=_ge(i);t.retrieveValue=function(E,R){var I=b(r,u,f,E);return k(I,R)};var k=t.retrieveValueFromItem=function(E,R){if(E!=null){var I=f[R];if(I)return _(E,R,I.name)}};return t.getDimensionInfo=Wr(Fze,null,f,h),t.cloneAllDimensionInfo=Wr(Vze,null,f),t}function Bze(n){var e=n.sourceFormat;if(!Ote(e)){var t="";xh(t)}return n.data}function zze(n){var e=n.sourceFormat,t=n.data;if(!Ote(e)){var r="";xh(r)}if(e===kh){for(var i=[],u=0,l=t.length;u<l;u++)i.push(t[u].slice());return i}else if(e===Av){for(var i=[],u=0,l=t.length;u<l;u++)i.push(Gn({},t[u]));return i}}function Fze(n,e,t){if(t!=null){if(lu(t)||!isNaN(t)&&!Qo(e,t))return n[t];if(Qo(e,t))return e[t]}}function Vze(n){return vo(n)}var Cge=to();function Hze(n){n=vo(n);var e=n.type,t="";e||xh(t);var r=e.split(":");r.length!==2&&xh(t);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),n.__isBuiltIn=i,Cge.set(e,n)}function jze(n,e,t){var r=Bs(n),i=r.length,u="";i||xh(u);for(var l=0,f=i;l<f;l++){var h=r[l];e=Wze(h,e),l!==f-1&&(e.length=Math.max(e.length,1))}return e}function Wze(n,e,t,r){var i="";e.length||xh(i),no(n)||xh(i);var u=n.type,l=Cge.get(u);l||xh(i);var f=br(e,function(g){return Lze(g,l)}),h=Bs(l.transform({upstream:f[0],upstreamList:f,config:vo(n.config)}));return br(h,function(g,y){var b="";no(g)||xh(b),g.data||xh(b);var S=vge(g.data);Ote(S)||xh(b);var _,k=e[0];if(k&&y===0&&!g.dimensions){var E=k.startIndex;E&&(g.data=k.data.slice(0,E).concat(g.data)),_={seriesLayoutBy:Db,sourceHeader:E,dimensions:k.metaRawOption.dimensions}}else _={seriesLayoutBy:Db,sourceHeader:0,dimensions:g.dimensions};return oQ(g.data,_,null)})}function Ote(n){return n===kh||n===Av}var y9="undefined",Uze=typeof Uint32Array===y9?Array:Uint32Array,qze=typeof Uint16Array===y9?Array:Uint16Array,Tge=typeof Int32Array===y9?Array:Int32Array,Eue=typeof Float64Array===y9?Array:Float64Array,Mge={float:Eue,int:Tge,ordinal:Array,number:Array,time:Eue},tJ;function jP(n){return n>65535?Uze:qze}function i3(){return[1/0,-1/0]}function $ze(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function Oue(n,e,t,r,i){var u=Mge[t||"float"];if(i){var l=n[e],f=l&&l.length;if(f!==r){for(var h=new u(r),g=0;g<f;g++)h[g]=l[g];n[e]=h}}else n[e]=new u(r)}var Gze=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=to()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),u=this.defaultDimValueGetter=tJ[i.sourceFormat];this._dimValueGetter=r||u,this._rawExtent=[],yge(i),this._dimensions=br(t,function(l){return{type:l.type,property:l.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,i=this._dimensions,u=r.get(e);if(u!=null){if(i[u].type===t)return u}else u=i.length;return i[u]={type:t},r.set(e,u),this._chunks[u]=new Mge[t||"float"](this._rawCount),this._rawExtent[u]=i3(),u},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],i=this._dimensions[e],u=this._rawExtent,l=i.ordinalOffset||0,f=r.length;l===0&&(u[e]=i3());for(var h=u[e],g=l;g<f;g++){var y=r[g]=t.parseAndCollect(r[g]);isNaN(y)||(h[0]=Math.min(y,h[0]),h[1]=Math.max(y,h[1]))}i.ordinalMeta=t,i.ordinalOffset=f,i.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],r=t.ordinalMeta;return r},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,i=this._dimensions,u=i.length,l=this._rawExtent,f=this.count(),h=f+Math.max(e.length,t||0),g=0;g<u;g++){var y=i[g];Oue(r,g,y.type,h,!0)}for(var b=[],S=f;S<h;S++)for(var _=S-f,k=0;k<u;k++){var y=i[k],E=tJ.arrayRows.call(this,e[_]||b,y.property,_,k);r[k][S]=E;var R=l[k];E<R[0]&&(R[0]=E),E>R[1]&&(R[1]=E)}return this._rawCount=this._count=h,{start:f,end:h}},n.prototype._initDataFromProvider=function(e,t,r){for(var i=this._provider,u=this._chunks,l=this._dimensions,f=l.length,h=this._rawExtent,g=br(l,function(z){return z.property}),y=0;y<f;y++){var b=l[y];h[y]||(h[y]=i3()),Oue(u,y,b.type,t,r)}if(i.fillStorage)i.fillStorage(e,t,u,h);else for(var S=[],_=e;_<t;_++){S=i.getItem(_,S);for(var k=0;k<f;k++){var E=u[k],R=this._dimValueGetter(S,g[k],_,k);E[_]=R;var I=h[k];R<I[0]&&(I[0]=R),R>I[1]&&(I[1]=R)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],i=[];if(t==null){t=e,e=[];for(var u=0;u<this._dimensions.length;u++)i.push(u)}else i=e;for(var u=0,l=i.length;u<l;u++)r.push(this.get(i[u],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],r=0;if(t)for(var i=0,u=this.count();i<u;i++){var l=this.get(e,i);isNaN(l)||(r+=l)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(u){isNaN(u)||t.push(u)});var r=t.sort(function(u,l){return u-l}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,u=this._count-1;i<=u;){var l=(i+u)/2|0;if(t[l]<e)i=l+1;else if(t[l]>e)u=l-1;else return l}return-1},n.prototype.indicesOfNearest=function(e,t,r){var i=this._chunks,u=i[e],l=[];if(!u)return l;r==null&&(r=1/0);for(var f=1/0,h=-1,g=0,y=0,b=this.count();y<b;y++){var S=this.getRawIndex(y),_=t-u[S],k=Math.abs(_);k<=r&&((k<f||k===f&&_>=0&&h<0)&&(f=k,h=_,g=0),_===h&&(l[g++]=y))}return l.length=g,l},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=t.constructor,i=this._count;if(r===Array){e=new r(i);for(var u=0;u<i;u++)e[u]=t[u]}else e=new r(t.buffer,0,i)}else{var r=jP(this._rawCount);e=new r(this.count());for(var u=0;u<e.length;u++)e[u]=u}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),u=jP(r._rawCount),l=new u(i),f=[],h=e.length,g=0,y=e[0],b=r._chunks,S=0;S<i;S++){var _=void 0,k=r.getRawIndex(S);if(h===0)_=t(S);else if(h===1){var E=b[y][k];_=t(E,S)}else{for(var R=0;R<h;R++)f[R]=b[e[R]][k];f[R]=S,_=t.apply(null,f)}_&&(l[g++]=k)}return g<i&&(r._indices=l),r._count=g,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var i=va(e),u=i.length;if(!u)return this;var l=t.count(),f=jP(t._rawCount),h=new f(l),g=0,y=i[0],b=e[y][0],S=e[y][1],_=t._chunks,k=!1;if(!t._indices){var E=0;if(u===1){for(var R=_[i[0]],I=0;I<r;I++){var z=R[I];(z>=b&&z<=S||isNaN(z))&&(h[g++]=E),E++}k=!0}else if(u===2){for(var R=_[i[0]],L=_[i[1]],q=e[i[1]][0],X=e[i[1]][1],I=0;I<r;I++){var z=R[I],Y=L[I];(z>=b&&z<=S||isNaN(z))&&(Y>=q&&Y<=X||isNaN(Y))&&(h[g++]=E),E++}k=!0}}if(!k)if(u===1)for(var I=0;I<l;I++){var ae=t.getRawIndex(I),z=_[i[0]][ae];(z>=b&&z<=S||isNaN(z))&&(h[g++]=ae)}else for(var I=0;I<l;I++){for(var te=!0,ae=t.getRawIndex(I),ie=0;ie<u;ie++){var le=i[ie],z=_[le][ae];(z<e[le][0]||z>e[le][1])&&(te=!1)}te&&(h[g++]=t.getRawIndex(I))}return g<l&&(t._indices=h),t._count=g,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var i=e._chunks,u=[],l=t.length,f=e.count(),h=[],g=e._rawExtent,y=0;y<t.length;y++)g[t[y]]=i3();for(var b=0;b<f;b++){for(var S=e.getRawIndex(b),_=0;_<l;_++)h[_]=i[t[_]][S];h[l]=b;var k=r&&r.apply(null,h);if(k!=null){typeof k!="object"&&(u[0]=k,k=u);for(var y=0;y<k.length;y++){var E=t[y],R=k[y],I=g[E],z=i[E];z&&(z[S]=R),R<I[0]&&(I[0]=R),R>I[1]&&(I[1]=R)}}}},n.prototype.lttbDownSample=function(e,t){var r=this.clone([e],!0),i=r._chunks,u=i[e],l=this.count(),f=0,h=Math.floor(1/t),g=this.getRawIndex(0),y,b,S,_=new(jP(this._rawCount))(Math.min((Math.ceil(l/h)+2)*2,l));_[f++]=g;for(var k=1;k<l-1;k+=h){for(var E=Math.min(k+h,l-1),R=Math.min(k+h*2,l),I=(R+E)/2,z=0,L=E;L<R;L++){var q=this.getRawIndex(L),X=u[q];isNaN(X)||(z+=X)}z/=R-E;var Y=k,ae=Math.min(k+h,l),te=k-1,ie=u[g];y=-1,S=Y;for(var le=-1,ce=0,L=Y;L<ae;L++){var q=this.getRawIndex(L),X=u[q];if(isNaN(X)){ce++,le<0&&(le=q);continue}b=Math.abs((te-I)*(X-ie)-(te-L)*(z-ie)),b>y&&(y=b,S=q)}ce>0&&ce<ae-Y&&(_[f++]=Math.min(le,S),S=Math.max(le,S)),_[f++]=S,g=S}return _[f++]=this.getRawIndex(l-1),r._count=f,r._indices=_,r.getRawIndex=this._getRawIdx,r},n.prototype.downSample=function(e,t,r,i){for(var u=this.clone([e],!0),l=u._chunks,f=[],h=Math.floor(1/t),g=l[e],y=this.count(),b=u._rawExtent[e]=i3(),S=new(jP(this._rawCount))(Math.ceil(y/h)),_=0,k=0;k<y;k+=h){h>y-k&&(h=y-k,f.length=h);for(var E=0;E<h;E++){var R=this.getRawIndex(k+E);f[E]=g[R]}var I=r(f),z=this.getRawIndex(Math.min(k+i(f,I)||0,y-1));g[z]=I,I<b[0]&&(b[0]=I),I>b[1]&&(b[1]=I),S[_++]=z}return u._count=_,u._indices=S,u._updateGetRawIdx(),u},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,i=this._chunks,u=0,l=this.count();u<l;u++){var f=this.getRawIndex(u);switch(r){case 0:t(u);break;case 1:t(i[e[0]][f],u);break;case 2:t(i[e[0]][f],i[e[1]][f],u);break;default:for(var h=0,g=[];h<r;h++)g[h]=i[e[h]][f];g[h]=u,t.apply(null,g)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=i3();if(!t)return r;var i=this.count(),u=!this._indices,l;if(u)return this._rawExtent[e].slice();if(l=this._extent[e],l)return l.slice();l=r;for(var f=l[0],h=l[1],g=0;g<i;g++){var y=this.getRawIndex(g),b=t[y];b<f&&(f=b),b>h&&(h=b)}return l=[f,h],this._extent[e]=l,l},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,u=0;u<i.length;u++)r.push(i[u][t]);return r},n.prototype.clone=function(e,t){var r=new n,i=this._chunks,u=e&&Km(e,function(f,h){return f[h]=!0,f},{});if(u)for(var l=0;l<i.length;l++)r._chunks[l]=u[l]?$ze(i[l]):i[l];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=vo(this._extent),e._rawExtent=vo(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,r,i,u){return SV(t[u],this._dimensions[u])}tJ={arrayRows:e,objectRows:function(t,r,i,u){return SV(t[r],this._dimensions[u])},keyedColumns:e,original:function(t,r,i,u){var l=t&&(t.value==null?t:t.value);return SV(l instanceof Array?l[u]:l,this._dimensions[u])},typedArray:function(t,r,i,u){return t[u]}}}(),n}();const iQ=Gze;var Xze=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length,i,u;if(MF(e)){var l=e,f=void 0,h=void 0,g=void 0;if(r){var y=t[0];y.prepareSource(),g=y.getSource(),f=g.data,h=g.sourceFormat,u=[y._getVersionSign()]}else f=l.get("data",!0),h=Mh(f)?X2:ng,u=[];var b=this._getSourceMetaRawOption()||{},S=g&&g.metaRawOption||{},_=Xi(b.seriesLayoutBy,S.seriesLayoutBy)||null,k=Xi(b.sourceHeader,S.sourceHeader),E=Xi(b.dimensions,S.dimensions),R=_!==S.seriesLayoutBy||!!k!=!!S.sourceHeader||E;i=R?[oQ(f,{seriesLayoutBy:_,sourceHeader:k,dimensions:E},h)]:[]}else{var I=e;if(r){var z=this._applyTransform(t);i=z.sourceList,u=z.upstreamSignList}else{var L=I.get("source",!0);i=[oQ(L,this._getSourceMetaRawOption(),null)],u=[]}}this._setLocalSource(i,u)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var u="";e.length!==1&&Iue(u)}var l,f=[],h=[];return Te(e,function(g){g.prepareSource();var y=g.getSource(i||0),b="";i!=null&&!y&&Iue(b),f.push(y),h.push(g._getVersionSign())}),r?l=jze(r,f,{datasetIndex:t.componentIndex}):i!=null&&(l=[Mze(f[0])]),{sourceList:l,upstreamSignList:h}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var i=0,u=this._storeList,l=u[i];l||(l=u[i]={});var f=l[r];if(!f){var h=this._getUpstreamSourceManagers()[0];MF(this._sourceHost)&&h?f=h._innerGetDataStore(e,t,r):(f=new iQ,f.initData(new bge(t,e.length),e)),l[r]=f}return f},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(MF(e)){var t=Mte(e);return t?[t.getSourceManager()]:[]}else return br(ZBe(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,r,i;if(MF(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var u=e;t=u.get("seriesLayoutBy",!0),r=u.get("sourceHeader",!0),i=u.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},n}();function MF(n){return n.mainType==="series"}function Iue(n){throw new Error(n)}var kge="line-height:1";function Dge(n,e){var t=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",u=n.color||"#464646",l=n.fontSize||14,f=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+bh(r+"")+"px;color:"+bh(t)+";font-weight:"+bh(i+""),valueStyle:"font-size:"+bh(l+"")+"px;color:"+bh(u)+";font-weight:"+bh(f+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:l,fill:u,fontWeight:f}}}var Yze=[0,10,20,30],Kze=["",`
`,`

`,`


`];function gy(n,e){return e.type=n,e}function aQ(n){return n.type==="section"}function Age(n){return aQ(n)?Jze:Zze}function Ege(n){if(aQ(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return Te(n.blocks,function(i){var u=Ege(i);u>=e&&(e=u+ +(r&&(!u||aQ(i)&&!i.noHeader)))}),e}return 0}function Jze(n,e,t,r){var i=e.noHeader,u=Qze(Ege(e)),l=[],f=e.blocks||[];Dp(!f||sr(f)),f=f||[];var h=n.orderMode;if(e.sortBlocks&&h){f=f.slice();var g={valueAsc:"asc",valueDesc:"desc"};if(Qo(g,h)){var y=new Pze(g[h],null);f.sort(function(k,E){return y.evaluate(k.sortParam,E.sortParam)})}else h==="seriesDesc"&&f.reverse()}Te(f,function(k,E){var R=e.valueFormatter,I=Age(k)(R?Gn(Gn({},n),{valueFormatter:R}):n,k,E>0?u.html:0,r);I!=null&&l.push(I)});var b=n.renderMode==="richText"?l.join(u.richText):uQ(l.join(""),i?t:u.html);if(i)return b;var S=nQ(e.header,"ordinal",n.useUTC),_=Dge(r,n.renderMode).nameStyle;return n.renderMode==="richText"?Oge(n,S,_)+u.richText+b:uQ('<div style="'+_+";"+kge+';">'+bh(S)+"</div>"+b,t)}function Zze(n,e,t,r){var i=n.renderMode,u=e.noName,l=e.noValue,f=!e.markerType,h=e.name,g=n.useUTC,y=e.valueFormatter||n.valueFormatter||function(q){return q=sr(q)?q:[q],br(q,function(X,Y){return nQ(X,sr(_)?_[Y]:_,g)})};if(!(u&&l)){var b=f?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),S=u?"":nQ(h,"ordinal",g),_=e.valueType,k=l?[]:y(e.value),E=!f||!u,R=!f&&u,I=Dge(r,i),z=I.nameStyle,L=I.valueStyle;return i==="richText"?(f?"":b)+(u?"":Oge(n,S,z))+(l?"":n8e(n,k,E,R,L)):uQ((f?"":b)+(u?"":e8e(S,!f,z))+(l?"":t8e(k,E,R,L)),t)}}function Rue(n,e,t,r,i,u){if(n){var l=Age(n),f={useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter};return l(f,n,0,u)}}function Qze(n){return{html:Yze[n],richText:Kze[n]}}function uQ(n,e){var t='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+kge+';">'+n+t+"</div>"}function e8e(n,e,t){var r=e?"margin-left:2px":"";return'<span style="'+t+";"+r+'">'+bh(n)+"</span>"}function t8e(n,e,t,r){var i=t?"10px":"20px",u=e?"float:right;margin-left:"+i:"";return n=sr(n)?n:[n],'<span style="'+u+";"+r+'">'+br(n,function(l){return bh(l)}).join("&nbsp;&nbsp;")+"</span>"}function Oge(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function n8e(n,e,t,r,i){var u=[i],l=r?10:20;return t&&u.push({padding:[0,0,0,l],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(sr(e)?e.join("  "):e,u)}function Ige(n,e){var t=n.getData().getItemVisual(e,"style"),r=t[n.visualDrawType];return CM(r)}function Rge(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var nJ=function(){function n(){this.richTextStyles={},this._nextStyleNameId=Upe()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var i=r==="richText"?this._generateStyleName():null,u=tge({color:t,type:e,renderMode:r,markerId:i});return Lr(u)?u:(this.richTextStyles[i]=u.style,u.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};sr(t)?Te(t,function(u){return Gn(r,u)}):Gn(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},n}();function r8e(n){var e=n.series,t=n.dataIndex,r=n.multipleSeries,i=e.getData(),u=i.mapDimensionsAll("defaultedTooltip"),l=u.length,f=e.getRawValue(t),h=sr(f),g=Ige(e,t),y,b,S,_;if(l>1||h&&!l){var k=o8e(f,e,t,u,g);y=k.inlineValues,b=k.inlineValueTypes,S=k.blocks,_=k.inlineValues[0]}else if(l){var E=i.getDimensionInfo(u[0]);_=y=J3(i,t,u[0]),b=E.type}else _=y=h?f[0]:f;var R=Jee(e),I=R&&e.name||"",z=i.getName(t),L=r?I:z;return gy("section",{header:I,noHeader:r||!R,sortParam:_,blocks:[gy("nameValue",{markerType:"item",markerColor:g,name:L,noName:!Xm(L),value:y,valueType:b})].concat(S||[])})}function o8e(n,e,t,r,i){var u=e.getData(),l=Km(n,function(b,S,_){var k=u.getDimensionInfo(_);return b=b||k&&k.tooltip!==!1&&k.displayName!=null},!1),f=[],h=[],g=[];r.length?Te(r,function(b){y(J3(u,t,b),b)}):Te(n,y);function y(b,S){var _=u.getDimensionInfo(S);!_||_.otherDims.tooltip===!1||(l?g.push(gy("nameValue",{markerType:"subItem",markerColor:i,name:_.displayName,value:b,valueType:_.type})):(f.push(b),h.push(_.type)))}return{inlineValues:f,inlineValueTypes:h,blocks:g}}var y2=cu();function kF(n,e){return n.getName(e)||n.getId(e)}var i8e="__universalTransitionEnabled",b9=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=FN({count:u8e,reset:s8e}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var u=y2(this).sourceManager=new Xze(this);u.prepareSource();var l=this.getInitialData(t,i);Nue(l,this),this.dataTask.context.data=l,y2(this).dataBeforeProcessed=l,Pue(this),this._initSelectedMapFromData(l)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=uL(this),u=i?g5(t):{},l=this.subType;Vi.hasClass(l)&&(l+="Series"),Ho(t,r.getTheme().get(this.subType)),Ho(t,this.getDefaultOption()),tH(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&Z2(t,u,i)},e.prototype.mergeOption=function(t,r){t=Ho(this.option,t,!0),this.fillDataTextStyle(t.data);var i=uL(this);i&&Z2(this.option,t,i);var u=y2(this).sourceManager;u.dirty(),u.prepareSource();var l=this.getInitialData(t,r);Nue(l,this),this.dataTask.dirty(),this.dataTask.context.data=l,y2(this).dataBeforeProcessed=l,Pue(this),this._initSelectedMapFromData(l)},e.prototype.fillDataTextStyle=function(t){if(t&&!Mh(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&tH(t[i],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){var r=this.getRawData();r.appendData(t.data)},e.prototype.getData=function(t){var r=sQ(this);if(r){var i=r.context.data;return t==null?i:i.getLinkedData(t)}else return y2(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=sQ(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}y2(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return to(t)},e.prototype.getSourceManager=function(){return y2(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return y2(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,r,i){return r8e({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Ni.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,i){var u=this.ecModel,l=kte.prototype.getColorFromPalette.call(this,t,r,i);return l||(l=u.getColorFromPalette(t,r,i)),l},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var u=this.option.selectedMode,l=this.getData(r);if(u==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<t.length;f++){var h=t[f],g=kF(l,h);i[g]=!1,this._selectedDataIndicesMap[g]=-1}}},e.prototype.toggleSelect=function(t,r){for(var i=[],u=0;u<t.length;u++)i[0]=t[u],this.isSelected(t[u],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=va(t),i=[],u=0;u<r.length;u++){var l=t[r[u]];l>=0&&i.push(l)}return i},e.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var u=this.getData(r);return(i==="all"||i[kF(u,t)])&&!u.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[i8e])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,r){var i,u,l=this.option,f=l.selectedMode,h=r.length;if(!(!f||!h)){if(f==="series")l.selectedMap="all";else if(f==="multiple"){no(l.selectedMap)||(l.selectedMap={});for(var g=l.selectedMap,y=0;y<h;y++){var b=r[y],S=kF(t,b);g[S]=!0,this._selectedDataIndicesMap[S]=t.getRawIndex(b)}}else if(f==="single"||f===!0){var _=r[h-1],S=kF(t,_);l.selectedMap=(i={},i[S]=!0,i),this._selectedDataIndicesMap=(u={},u[S]=t.getRawIndex(_),u)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var u=t.getRawDataItem(i);u&&u.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return Vi.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(Vi);ff(b9,Sge);ff(b9,kte);Zpe(b9,Vi);function Pue(n){var e=n.name;Jee(n)||(n.name=a8e(n)||e)}function a8e(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return Te(t,function(i){var u=e.getDimensionInfo(i);u.displayName&&r.push(u.displayName)}),r.join(" ")}function u8e(n){return n.model.getRawData().count()}function s8e(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),l8e}function l8e(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Nue(n,e){Te(fpe(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,ji(c8e,e))})}function c8e(n,e){var t=sQ(n);return t&&t.setOutputEnd((e||this).count()),e}function sQ(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}const Dh=b9;var Ite=function(){function n(){this.group=new hi,this.uid=p5("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){},n.prototype.updateLayout=function(e,t,r,i){},n.prototype.updateVisual=function(e,t,r,i){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();Qee(Ite);JH(Ite);const zs=Ite;function Rte(){var n=cu();return function(e){var t=n(e),r=e.pipelineContext,i=!!t.large,u=!!t.progressiveRender,l=t.large=!!(r&&r.large),f=t.progressiveRender=!!(r&&r.progressiveRender);return(i!==l||u!==f)&&"reset"}}var Pge=cu(),f8e=Rte(),Pte=function(){function n(){this.group=new hi,this.uid=p5("viewChart"),this.renderTask=FN({plan:d8e,reset:h8e}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.highlight=function(e,t,r,i){var u=e.getData(i&&i.dataType);u&&Bue(u,i,"emphasis")},n.prototype.downplay=function(e,t,r,i){var u=e.getData(i&&i.dataType);u&&Bue(u,i,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateLayout=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.eachRendered=function(e){s9(this.group,e)},n.markUpdateMethod=function(e,t){Pge(e).updateMethod=t},n.protoInitialize=function(){var e=n.prototype;e.type="chart"}(),n}();function Lue(n,e,t){n&&JZ(n)&&(e==="emphasis"?X3:Y3)(n,t)}function Bue(n,e,t){var r=_M(n,e),i=e&&e.highlightKey!=null?P6e(e.highlightKey):null;r!=null?Te(Bs(r),function(u){Lue(n.getItemGraphicEl(u),t,i)}):n.eachItemGraphicEl(function(u){Lue(u,t,i)})}Qee(Pte);JH(Pte);function d8e(n){return f8e(n.model)}function h8e(n){var e=n.model,t=n.ecModel,r=n.api,i=n.payload,u=e.pipelineContext.progressiveRender,l=n.view,f=i&&Pge(i).updateMethod,h=u?"incrementalPrepareRender":f&&l[f]?f:"render";return h!=="render"&&l[h](e,t,r,i),p8e[h]}var p8e={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const sf=Pte;var lH="\0__throttleOriginMethod",zue="\0__throttleRate",Fue="\0__throttleType";function x9(n,e,t){var r,i=0,u=0,l=null,f,h,g,y;e=e||0;function b(){u=new Date().getTime(),l=null,n.apply(h,g||[])}var S=function(){for(var _=[],k=0;k<arguments.length;k++)_[k]=arguments[k];r=new Date().getTime(),h=this,g=_;var E=y||e,R=y||t;y=null,f=r-(R?i:u)-E,clearTimeout(l),R?l=setTimeout(b,E):f>=0?b():l=setTimeout(b,-f),i=r};return S.clear=function(){l&&(clearTimeout(l),l=null)},S.debounceNextCall=function(_){y=_},S}function FL(n,e,t,r){var i=n[e];if(i){var u=i[lH]||i,l=i[Fue],f=i[zue];if(f!==t||l!==r){if(t==null||!r)return n[e]=u;i=n[e]=x9(u,t,r==="debounce"),i[lH]=u,i[Fue]=r,i[zue]=t}return i}}function lL(n,e){var t=n[e];t&&t[lH]&&(t.clear&&t.clear(),n[e]=t[lH])}var Vue=cu(),Hue={itemStyle:G3(qme,!0),lineStyle:G3(Ume,!0)},m8e={lineStyle:"stroke",itemStyle:"fill"};function Nge(n,e){var t=n.visualStyleMapper||Hue[e];return t||(console.warn("Unknown style type '"+e+"'."),Hue.itemStyle)}function Lge(n,e){var t=n.visualDrawType||m8e[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var g8e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),u=Nge(n,r),l=u(i),f=i.getShallow("decal");f&&(t.setVisual("decal",f),f.dirty=!0);var h=Lge(n,r),g=l[h],y=Eo(g)?g:null,b=l.fill==="auto"||l.stroke==="auto";if(!l[h]||y||b){var S=n.getColorFromPalette(n.name,null,e.getSeriesCount());l[h]||(l[h]=S,t.setVisual("colorFromPalette",!0)),l.fill=l.fill==="auto"||Eo(l.fill)?S:l.fill,l.stroke=l.stroke==="auto"||Eo(l.stroke)?S:l.stroke}if(t.setVisual("style",l),t.setVisual("drawType",h),!e.isSeriesFiltered(n)&&y)return t.setVisual("colorFromPalette",!1),{dataEach:function(_,k){var E=n.getDataParams(k),R=Gn({},l);R[h]=y(E),_.setItemVisual(k,"style",R)}}}},WP=new xs,v8e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=Nge(n,r),u=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(l,f){var h=l.getRawDataItem(f);if(h&&h[r]){WP.option=h[r];var g=i(WP),y=l.ensureUniqueItemVisual(f,"style");Gn(y,g),WP.option.decal&&(l.setItemVisual(f,"decal",WP.option.decal),WP.option.decal.dirty=!0),u in g&&l.setItemVisual(f,"colorFromPalette",!1)}}:null}}}},y8e={performRawSeries:!0,overallReset:function(n){var e=to();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,u=e.get(i);u||(u={},e.set(i,u)),Vue(t).scope=u}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var r=t.getRawData(),i={},u=t.getData(),l=Vue(t).scope,f=t.visualStyleAccessPath||"itemStyle",h=Lge(t,f);u.each(function(g){var y=u.getRawIndex(g);i[y]=g}),r.each(function(g){var y=i[g],b=u.getItemVisual(y,"colorFromPalette");if(b){var S=u.ensureUniqueItemVisual(y,"style"),_=r.getName(g)||g+"",k=r.count();S[h]=t.getColorFromPalette(_,l,k)}})}})}},DF=Math.PI;function b8e(n,e){e=e||{},To(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new hi,r=new ya({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var i=new ba({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),u=new ya({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(u);var l;return e.showSpinner&&(l=new o9({shape:{startAngle:-DF/2,endAngle:-DF/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),l.animateShape(!0).when(1e3,{endAngle:DF*3/2}).start("circularInOut"),l.animateShape(!0).when(1e3,{startAngle:DF*3/2}).delay(300).start("circularInOut"),t.add(l)),t.resize=function(){var f=i.getBoundingRect().width,h=e.showSpinner?e.spinnerRadius:0,g=(n.getWidth()-h*2-(e.showSpinner&&f?10:0)-f)/2-(e.showSpinner&&f?0:5+f/2)+(e.showSpinner?0:f/2)+(f?0:h),y=n.getHeight()/2;e.showSpinner&&l.setShape({cx:g,cy:y}),u.setShape({x:g-h,y:y-h,width:h*2,height:h*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var x8e=function(){function n(e,t,r,i){this._stageTaskMap=to(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,u=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,l=u?r.step:null,f=i&&i.modDataCount,h=f!=null?Math.ceil(f/l):null;return{step:l,modBy:h,modDataCount:f}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),i=e.getData(),u=i.count(),l=r.progressiveEnabled&&t.incrementalPrepareRender&&u>=r.threshold,f=e.get("large")&&u>=e.get("largeThreshold"),h=e.get("progressiveChunkMode")==="mod"?u:null;e.pipelineContext=r.context={progressiveRender:l,modDataCount:h,large:f}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=to();e.eachSeries(function(i){var u=i.getProgressive(),l=i.uid;r.set(l,{id:l,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:u&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(u||700),count:0}),t._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;Te(this._allHandlers,function(i){var u=e.get(i.uid)||e.set(i.uid,{}),l="";Dp(!(i.reset&&i.overallReset),l),i.reset&&this._createSeriesStageTask(i,u,t,r),i.overallReset&&this._createOverallStageTask(i,u,t,r)},this)},n.prototype.prepareView=function(e,t,r,i){var u=e.renderTask,l=u.context;l.model=t,l.ecModel=r,l.api=i,u.__block=!e.incrementalPrepareRender,this._pipe(t,u)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,i){i=i||{};var u=!1,l=this;Te(e,function(h,g){if(!(i.visualType&&i.visualType!==h.visualType)){var y=l._stageTaskMap.get(h.uid),b=y.seriesTaskMap,S=y.overallTask;if(S){var _,k=S.agentStubMap;k.each(function(R){f(i,R)&&(R.dirty(),_=!0)}),_&&S.dirty(),l.updatePayload(S,r);var E=l.getPerformArgs(S,i.block);k.each(function(R){R.perform(E)}),S.perform(E)&&(u=!0)}else b&&b.each(function(R,I){f(i,R)&&R.dirty();var z=l.getPerformArgs(R,i.block);z.skip=!h.performRawSeries&&t.isSeriesFiltered(R.context.model),l.updatePayload(R,r),R.perform(z)&&(u=!0)})}});function f(h,g){return h.setDirty&&(!h.dirtyMap||h.dirtyMap.get(g.__pipeline.id))}this.unfinished=u||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,i){var u=this,l=t.seriesTaskMap,f=t.seriesTaskMap=to(),h=e.seriesType,g=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(y):h?r.eachRawSeriesByType(h,y):g&&g(r,i).each(y);function y(b){var S=b.uid,_=f.set(S,l&&l.get(S)||FN({plan:T8e,reset:M8e,count:D8e}));_.context={model:b,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:u},u._pipe(b,_)}},n.prototype._createOverallStageTask=function(e,t,r,i){var u=this,l=t.overallTask=t.overallTask||FN({reset:w8e});l.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:u};var f=l.agentStubMap,h=l.agentStubMap=to(),g=e.seriesType,y=e.getTargetSeries,b=!0,S=!1,_="";Dp(!e.createOnAllSeries,_),g?r.eachRawSeriesByType(g,k):y?y(r,i).each(k):(b=!1,Te(r.getSeries(),k));function k(E){var R=E.uid,I=h.set(R,f&&f.get(R)||(S=!0,FN({reset:_8e,onDirty:C8e})));I.context={model:E,overallProgress:b},I.agent=l,I.__block=b,u._pipe(E,I)}S&&l.dirty()},n.prototype._pipe=function(e,t){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},n.wrapStageHandler=function(e,t){return Eo(e)&&(e={overallReset:e,seriesType:A8e(e)}),e.uid=p5("stageHandler"),t&&(e.visualType=t),e},n}();function w8e(n){n.overallReset(n.ecModel,n.api,n.payload)}function _8e(n){return n.overallProgress&&S8e}function S8e(){this.agent.dirty(),this.getDownstream().dirty()}function C8e(){this.agent&&this.agent.dirty()}function T8e(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function M8e(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Bs(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?br(e,function(t,r){return Bge(r)}):k8e}var k8e=Bge(0);function Bge(n){return function(e,t){var r=t.data,i=t.resetDefines[n];if(i&&i.dataEach)for(var u=e.start;u<e.end;u++)i.dataEach(r,u);else i&&i.progress&&i.progress(e,r)}}function D8e(n){return n.data.count()}function A8e(n){cH=null;try{n(cL,zge)}catch{}return cH}var cL={},zge={},cH;Fge(cL,hge);Fge(zge,pge);cL.eachSeriesByType=cL.eachRawSeriesByType=function(n){cH=n};cL.eachComponent=function(n){n.mainType==="series"&&n.subType&&(cH=n.subType)};function Fge(n,e){for(var t in e.prototype)n[t]=uf}const Vge=x8e;var jue=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const E8e={color:jue,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],jue]};var Md="#B9B8CE",Wue="#100C2A",AF=function(){return{axisLine:{lineStyle:{color:Md}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Uue=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Hge={darkMode:!0,color:Uue,backgroundColor:Wue,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Md}},textStyle:{color:Md},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Md}},dataZoom:{borderColor:"#71708A",textStyle:{color:Md},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Md}},timeline:{lineStyle:{color:Md},label:{color:Md},controlStyle:{color:Md,borderColor:Md}},calendar:{itemStyle:{color:Wue},dayLabel:{color:Md},monthLabel:{color:Md},yearLabel:{color:Md}},timeAxis:AF(),logAxis:AF(),valueAxis:AF(),categoryAxis:AF(),line:{symbol:"circle"},graph:{color:Uue},gauge:{title:{color:Md},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Md},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Hge.categoryAxis.splitLine.show=!1;const O8e=Hge;var I8e=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},i={};if(Lr(e)){var u=sy(e);t.mainType=u.main||null,t.subType=u.sub||null}else{var l=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};Te(e,function(h,g){for(var y=!1,b=0;b<l.length;b++){var S=l[b],_=g.lastIndexOf(S);if(_>0&&_===g.length-S.length){var k=g.slice(0,_);k!=="data"&&(t.mainType=k,t[S.toLowerCase()]=h,y=!0)}}f.hasOwnProperty(g)&&(r[g]=h,y=!0),y||(i[g]=h)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,u=r.packedEvent,l=r.model,f=r.view;if(!l||!f)return!0;var h=t.cptQuery,g=t.dataQuery;return y(h,l,"mainType")&&y(h,l,"subType")&&y(h,l,"index","componentIndex")&&y(h,l,"name")&&y(h,l,"id")&&y(g,u,"name")&&y(g,u,"dataIndex")&&y(g,u,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(e,t.otherQuery,i,u));function y(b,S,_,k){return b[_]==null||S[k||_]===b[_]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),lQ=["symbol","symbolSize","symbolRotate","symbolOffset"],que=lQ.concat(["symbolKeepAspect"]),R8e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},i={},u=!1,l=0;l<lQ.length;l++){var f=lQ[l],h=n.get(f);Eo(h)?(u=!0,i[f]=h):r[f]=h}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(Gn({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),e.isSeriesFiltered(n))return;var g=va(i);function y(b,S){for(var _=n.getRawValue(S),k=n.getDataParams(S),E=0;E<g.length;E++){var R=g[E];b.setItemVisual(S,R,i[R](_,k))}}return{dataEach:u?y:null}}},P8e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function r(i,u){for(var l=i.getItemModel(u),f=0;f<que.length;f++){var h=que[f],g=l.getShallow(h,!0);g!=null&&i.setItemVisual(u,h,g)}}return{dataEach:t.hasItemOption?r:null}}};function jge(n,e,t){switch(t){case"color":var r=n.getItemVisual(e,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function Wge(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function N8e(n,e,t,r){switch(t){case"color":var i=n.ensureUniqueItemVisual(e,"style");i[n.getVisual("drawType")]=r,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,r);break}}function Uge(n,e){function t(r,i){var u=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(l){u.push(l.seriesIndex)}),u}Te([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(i,u,l){i=Gn({},i),l.dispatchAction(Gn(i,{type:r[1],seriesIndex:t(u,i)}))})})}function a3(n,e,t,r,i){var u=n+e;t.isSilent(u)||r.eachComponent({mainType:"series",subType:"pie"},function(l){for(var f=l.seriesIndex,h=l.option.selectedMap,g=i.selected,y=0;y<g.length;y++)if(g[y].seriesIndex===f){var b=l.getData(),S=_M(b,i.fromActionPayload);t.trigger(u,{type:u,seriesId:l.id,name:sr(S)?b.getName(S[0]):b.getName(S),selected:Lr(h)?h:Gn({},h)})}})}function L8e(n,e,t){n.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(a3("map","selectchanged",e,i,r),a3("pie","selectchanged",e,i,r)):r.fromAction==="select"?(a3("map","selected",e,i,r),a3("pie","selected",e,i,r)):r.fromAction==="unselect"&&(a3("map","unselected",e,i,r),a3("pie","unselected",e,i,r))})}function aM(n,e,t){for(var r;n&&!(e(n)&&(r=n,t));)n=n.__hostTarget||n.parent;return r}var B8e=Math.round(Math.random()*9),z8e=typeof Object.defineProperty=="function",F8e=function(){function n(){this._id="__ec_inner_"+B8e++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return z8e?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const V8e=F8e;var H8e=ja.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,u=e.height/2;n.moveTo(t,r-u),n.lineTo(t+i,r+u),n.lineTo(t-i,r+u),n.closePath()}}),j8e=ja.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,u=e.height/2;n.moveTo(t,r-u),n.lineTo(t+i,r),n.lineTo(t,r+u),n.lineTo(t-i,r),n.closePath()}}),W8e=ja.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,i=e.width/5*3,u=Math.max(i,e.height),l=i/2,f=l*l/(u-l),h=r-u+l+f,g=Math.asin(f/l),y=Math.cos(g)*l,b=Math.sin(g),S=Math.cos(g),_=l*.6,k=l*.7;n.moveTo(t-y,h+f),n.arc(t,h,l,Math.PI-g,Math.PI*2+g),n.bezierCurveTo(t+y-b*_,h+f+S*_,t,r-k,t,r),n.bezierCurveTo(t,r-k,t-y+b*_,h+f+S*_,t-y,h+f),n.closePath()}}),U8e=ja.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.width,i=e.x,u=e.y,l=r/3*2;n.moveTo(i,u),n.lineTo(i+l,u+t),n.lineTo(i,u+t/4*3),n.lineTo(i-l,u+t),n.lineTo(i,u),n.closePath()}}),q8e={line:Id,rect:ya,roundRect:ya,square:ya,circle:Dv,diamond:j8e,pin:W8e,arrow:U8e,triangle:H8e},$8e={line:function(n,e,t,r,i){i.x1=n,i.y1=e+r/2,i.x2=n+t,i.y2=e+r/2},rect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r},roundRect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(n,e,t,r,i){var u=Math.min(t,r);i.x=n,i.y=e,i.width=u,i.height=u},circle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.r=Math.min(t,r)/2},diamond:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r},pin:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},arrow:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},triangle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r}},fH={};Te(q8e,function(n,e){fH[e]=new n});var G8e=ja.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=eH(n,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=t.y+t.height*.4),r},buildPath:function(n,e,t){var r=e.symbolType;if(r!=="none"){var i=fH[r];i||(r="rect",i=fH[r]),$8e[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(n,i.shape,t)}}});function X8e(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function lf(n,e,t,r,i,u,l){var f=n.indexOf("empty")===0;f&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var h;return n.indexOf("image://")===0?h=dte(n.slice(8),new vi(e,t,r,i),l?"center":"cover"):n.indexOf("path://")===0?h=i9(n.slice(7),{},new vi(e,t,r,i),l?"center":"cover"):h=new G8e({shape:{symbolType:n,x:e,y:t,width:r,height:i}}),h.__isEmptyBrush=f,h.setColor=X8e,u&&h.setColor(u),h}function Nte(n){return sr(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function w9(n,e){if(n!=null)return sr(n)||(n=[n,n]),[Xo(n[0],e[0])||0,Xo(Xi(n[1],n[0]),e[1])||0]}function uM(n){return isFinite(n)}function Y8e(n,e,t){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,u=e.y==null?0:e.y,l=e.y2==null?0:e.y2;e.global||(r=r*t.width+t.x,i=i*t.width+t.x,u=u*t.height+t.y,l=l*t.height+t.y),r=uM(r)?r:0,i=uM(i)?i:1,u=uM(u)?u:0,l=uM(l)?l:0;var f=n.createLinearGradient(r,u,i,l);return f}function K8e(n,e,t){var r=t.width,i=t.height,u=Math.min(r,i),l=e.x==null?.5:e.x,f=e.y==null?.5:e.y,h=e.r==null?.5:e.r;e.global||(l=l*r+t.x,f=f*i+t.y,h=h*u),l=uM(l)?l:.5,f=uM(f)?f:.5,h=h>=0&&uM(h)?h:.5;var g=n.createRadialGradient(l,f,0,l,f,h);return g}function cQ(n,e,t){for(var r=e.type==="radial"?K8e(n,e,t):Y8e(n,e,t),i=e.colorStops,u=0;u<i.length;u++)r.addColorStop(i[u].offset,i[u].color);return r}function J8e(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function EF(n){return parseInt(n,10)}function OF(n,e,t){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],u=["paddingLeft","paddingTop"][e],l=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var f=document.defaultView.getComputedStyle(n);return(n[i]||EF(f[r])||EF(n.style[r]))-(EF(f[u])||0)-(EF(f[l])||0)|0}function Z8e(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:lu(n)?[n]:sr(n)?n:null}function qge(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&Z8e(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var i=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&i!==1&&(t=br(t,function(u){return u/i}),r/=i)}return[t,r]}var Q8e=new SM(!0);function dH(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function $ue(n){return typeof n=="string"&&n!=="none"}function hH(n){var e=n.fill;return e!=null&&e!=="none"}function Gue(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function Xue(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function fQ(n,e,t){var r=Qpe(e.image,e.__image,t);if(ZH(r)){var i=n.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var u=new DOMMatrix;u.translateSelf(e.x||0,e.y||0),u.rotateSelf(0,0,(e.rotation||0)*dpe),u.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(u)}return i}}function e7e(n,e,t,r){var i,u=dH(t),l=hH(t),f=t.strokePercent,h=f<1,g=!e.path;(!e.silent||h)&&g&&e.createPathProxy();var y=e.path||Q8e,b=e.__dirty;if(!r){var S=t.fill,_=t.stroke,k=l&&!!S.colorStops,E=u&&!!_.colorStops,R=l&&!!S.image,I=u&&!!_.image,z=void 0,L=void 0,q=void 0,X=void 0,Y=void 0;(k||E)&&(Y=e.getBoundingRect()),k&&(z=b?cQ(n,S,Y):e.__canvasFillGradient,e.__canvasFillGradient=z),E&&(L=b?cQ(n,_,Y):e.__canvasStrokeGradient,e.__canvasStrokeGradient=L),R&&(q=b||!e.__canvasFillPattern?fQ(n,S,e):e.__canvasFillPattern,e.__canvasFillPattern=q),I&&(X=b||!e.__canvasStrokePattern?fQ(n,_,e):e.__canvasStrokePattern,e.__canvasStrokePattern=q),k?n.fillStyle=z:R&&(q?n.fillStyle=q:l=!1),E?n.strokeStyle=L:I&&(X?n.strokeStyle=X:u=!1)}var ae=e.getGlobalScale();y.setScale(ae[0],ae[1],e.segmentIgnoreThreshold);var te,ie;n.setLineDash&&t.lineDash&&(i=qge(e),te=i[0],ie=i[1]);var le=!0;(g||b&v3)&&(y.setDPR(n.dpr),h?y.setContext(null):(y.setContext(n),le=!1),y.reset(),e.buildPath(y,e.shape,r),y.toStatic(),e.pathUpdated()),le&&y.rebuildPath(n,h?f:1),te&&(n.setLineDash(te),n.lineDashOffset=ie),r||(t.strokeFirst?(u&&Xue(n,t),l&&Gue(n,t)):(l&&Gue(n,t),u&&Xue(n,t))),te&&n.setLineDash([])}function t7e(n,e,t){var r=e.__image=Qpe(t.image,e.__image,e,e.onload);if(!(!r||!ZH(r))){var i=t.x||0,u=t.y||0,l=e.getWidth(),f=e.getHeight(),h=r.width/r.height;if(l==null&&f!=null?l=f*h:f==null&&l!=null?f=l/h:l==null&&f==null&&(l=r.width,f=r.height),t.sWidth&&t.sHeight){var g=t.sx||0,y=t.sy||0;n.drawImage(r,g,y,t.sWidth,t.sHeight,i,u,l,f)}else if(t.sx&&t.sy){var g=t.sx,y=t.sy,b=l-g,S=f-y;n.drawImage(r,g,y,b,S,i,u,l,f)}else n.drawImage(r,i,u,l,f)}}function n7e(n,e,t){var r,i=t.text;if(i!=null&&(i+=""),i){n.font=t.font||wM,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var u=void 0,l=void 0;n.setLineDash&&t.lineDash&&(r=qge(e),u=r[0],l=r[1]),u&&(n.setLineDash(u),n.lineDashOffset=l),t.strokeFirst?(dH(t)&&n.strokeText(i,t.x,t.y),hH(t)&&n.fillText(i,t.x,t.y)):(hH(t)&&n.fillText(i,t.x,t.y),dH(t)&&n.strokeText(i,t.x,t.y)),u&&n.setLineDash([])}}var Yue=["shadowBlur","shadowOffsetX","shadowOffsetY"],Kue=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function $ge(n,e,t,r,i){var u=!1;if(!r&&(t=t||{},e===t))return!1;if(r||e.opacity!==t.opacity){wh(n,i),u=!0;var l=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(l)?hM.opacity:l}(r||e.blend!==t.blend)&&(u||(wh(n,i),u=!0),n.globalCompositeOperation=e.blend||hM.blend);for(var f=0;f<Yue.length;f++){var h=Yue[f];(r||e[h]!==t[h])&&(u||(wh(n,i),u=!0),n[h]=n.dpr*(e[h]||0))}return(r||e.shadowColor!==t.shadowColor)&&(u||(wh(n,i),u=!0),n.shadowColor=e.shadowColor||hM.shadowColor),u}function Jue(n,e,t,r,i){var u=fL(e,i.inHover),l=r?null:t&&fL(t,i.inHover)||{};if(u===l)return!1;var f=$ge(n,u,l,r,i);if((r||u.fill!==l.fill)&&(f||(wh(n,i),f=!0),$ue(u.fill)&&(n.fillStyle=u.fill)),(r||u.stroke!==l.stroke)&&(f||(wh(n,i),f=!0),$ue(u.stroke)&&(n.strokeStyle=u.stroke)),(r||u.opacity!==l.opacity)&&(f||(wh(n,i),f=!0),n.globalAlpha=u.opacity==null?1:u.opacity),e.hasStroke()){var h=u.lineWidth,g=h/(u.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==g&&(f||(wh(n,i),f=!0),n.lineWidth=g)}for(var y=0;y<Kue.length;y++){var b=Kue[y],S=b[0];(r||u[S]!==l[S])&&(f||(wh(n,i),f=!0),n[S]=u[S]||b[1])}return f}function r7e(n,e,t,r,i){return $ge(n,fL(e,i.inHover),t&&fL(t,i.inHover),r,i)}function Gge(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}function o7e(n,e,t){for(var r=!1,i=0;i<n.length;i++){var u=n[i];r=r||u.isZeroArea(),Gge(e,u),e.beginPath(),u.buildPath(e,u.shape),e.clip()}t.allClipped=r}function i7e(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var Zue=1,Que=2,ese=3,tse=4;function a7e(n){var e=hH(n),t=dH(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function wh(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function fL(n,e){return e&&n.__hoverStyle||n.style}function Lte(n,e){sM(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function sM(n,e,t,r){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~Cp,e.__isRendered=!1;return}var u=e.__clipPaths,l=t.prevElClipPaths,f=!1,h=!1;if((!l||J8e(u,l))&&(l&&l.length&&(wh(n,t),n.restore(),h=f=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),u&&u.length&&(wh(n,t),n.save(),o7e(u,n,t),f=!0),t.prevElClipPaths=u),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var g=t.prevEl;g||(h=f=!0);var y=e instanceof ja&&e.autoBatch&&a7e(e.style);f||i7e(i,g.transform)?(wh(n,t),Gge(n,e)):y||wh(n,t);var b=fL(e,t.inHover);e instanceof ja?(t.lastDrawType!==Zue&&(h=!0,t.lastDrawType=Zue),Jue(n,e,g,h,t),(!y||!t.batchFill&&!t.batchStroke)&&n.beginPath(),e7e(n,e,b,y),y&&(t.batchFill=b.fill||"",t.batchStroke=b.stroke||"")):e instanceof nH?(t.lastDrawType!==ese&&(h=!0,t.lastDrawType=ese),Jue(n,e,g,h,t),n7e(n,e,b)):e instanceof Op?(t.lastDrawType!==Que&&(h=!0,t.lastDrawType=Que),r7e(n,e,g,h,t),t7e(n,e,b)):e.getTemporalDisplayables&&(t.lastDrawType!==tse&&(h=!0,t.lastDrawType=tse),u7e(n,e,t)),y&&r&&wh(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function u7e(n,e,t){var r=e.getDisplayables(),i=e.getTemporalDisplayables();n.save();var u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},l,f;for(l=e.getCursor(),f=r.length;l<f;l++){var h=r[l];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),sM(n,h,u,l===f-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),u.prevEl=h}for(var g=0,y=i.length;g<y;g++){var h=i[g];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),sM(n,h,u,g===y-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),u.prevEl=h}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var rJ=new V8e,nse=new RL(100),rse=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function pH(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";n.dirty&&rJ.delete(n);var u=rJ.get(n);if(u)return u;var l=To(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});l.backgroundColor==="none"&&(l.backgroundColor=null);var f={repeat:"repeat"};return h(f),f.rotation=l.rotation,f.scaleX=f.scaleY=i?1:1/t,rJ.set(n,f),n.dirty=!1,f;function h(g){for(var y=[t],b=!0,S=0;S<rse.length;++S){var _=l[rse[S]];if(_!=null&&!sr(_)&&!Lr(_)&&!lu(_)&&typeof _!="boolean"){b=!1;break}y.push(_)}var k;if(b){k=y.join(",")+(i?"-svg":"");var E=nse.get(k);E&&(i?g.svgElement=E:g.image=E)}var R=Yge(l.dashArrayX),I=s7e(l.dashArrayY),z=Xge(l.symbol),L=l7e(R),q=Kge(I),X=!i&&Ob.createCanvas(),Y=i&&{tag:"g",attrs:{},key:"dcl",children:[]},ae=ie(),te;X&&(X.width=ae.width*t,X.height=ae.height*t,te=X.getContext("2d")),le(),b&&nse.put(k,X||Y),g.image=X,g.svgElement=Y,g.svgWidth=ae.width,g.svgHeight=ae.height;function ie(){for(var ce=1,ne=0,Z=L.length;ne<Z;++ne)ce=mae(ce,L[ne]);for(var Ce=1,ne=0,Z=z.length;ne<Z;++ne)Ce=mae(Ce,z[ne].length);ce*=Ce;var ze=q*L.length*z.length;return{width:Math.max(1,Math.min(ce,l.maxTileWidth)),height:Math.max(1,Math.min(ze,l.maxTileHeight))}}function le(){te&&(te.clearRect(0,0,X.width,X.height),l.backgroundColor&&(te.fillStyle=l.backgroundColor,te.fillRect(0,0,X.width,X.height)));for(var ce=0,ne=0;ne<I.length;++ne)ce+=I[ne];if(ce<=0)return;for(var Z=-q,Ce=0,ze=0,ke=0;Z<ae.height;){if(Ce%2===0){for(var _t=ze/2%z.length,tt=0,$=0,Ze=0;tt<ae.width*2;){for(var $e=0,ne=0;ne<R[ke].length;++ne)$e+=R[ke][ne];if($e<=0)break;if($%2===0){var mt=(1-l.symbolSize)*.5,Qe=tt+R[ke][$]*mt,Et=Z+I[Ce]*mt,Ot=R[ke][$]*l.symbolSize,Nt=I[Ce]*l.symbolSize,fe=Ze/2%z[_t].length;$t(Qe,Et,Ot,Nt,z[_t][fe])}tt+=R[ke][$],++Ze,++$,$===R[ke].length&&($=0)}++ke,ke===R.length&&(ke=0)}Z+=I[Ce],++ze,++Ce,Ce===I.length&&(Ce=0)}function $t(Je,Fe,St,Ue,Ye){var st=i?1:t,Ft=lf(Ye,Je*st,Fe*st,St*st,Ue*st,l.color,l.symbolKeepAspect);if(i){var Ct=r.painter.renderOneToVNode(Ft);Ct&&Y.children.push(Ct)}else Lte(te,Ft)}}}}function Xge(n){if(!n||n.length===0)return[["rect"]];if(Lr(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!Lr(n[t])){e=!1;break}if(e)return Xge([n]);for(var r=[],t=0;t<n.length;++t)Lr(n[t])?r.push([n[t]]):r.push(n[t]);return r}function Yge(n){if(!n||n.length===0)return[[0,0]];if(lu(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,r=0;r<n.length;++r)if(!lu(n[r])){t=!1;break}if(t)return Yge([n]);for(var i=[],r=0;r<n.length;++r)if(lu(n[r])){var e=Math.ceil(n[r]);i.push([e,e])}else{var e=br(n[r],function(f){return Math.ceil(f)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function s7e(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(lu(n)){var e=Math.ceil(n);return[e,e]}var t=br(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}function l7e(n){return br(n,function(e){return Kge(e)})}function Kge(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function c7e(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(l){var f=r.getItemVisual(l,"decal");if(f){var h=r.ensureUniqueItemVisual(l,"style");h.decal=pH(f,e)}});var i=r.getVisual("decal");if(i){var u=r.getVisual("style");u.decal=pH(i,e)}}})}var f7e=new Qm;const bv=f7e;var Jge={};function d7e(n,e){Jge[n]=e}function Zge(n){return Jge[n]}var h7e="5.4.3",p7e={zrender:"5.4.4"},m7e=1,g7e=800,v7e=900,y7e=1e3,b7e=2e3,x7e=5e3,Qge=1e3,w7e=1100,Bte=2e3,eve=3e3,_7e=4e3,_9=4500,S7e=4600,C7e=5e3,T7e=6e3,tve=7e3,nve={PROCESSOR:{FILTER:y7e,SERIES_FILTER:g7e,STATISTIC:x7e},VISUAL:{LAYOUT:Qge,PROGRESSIVE_LAYOUT:w7e,GLOBAL:Bte,CHART:eve,POST_CHART_LAYOUT:S7e,COMPONENT:_7e,BRUSH:C7e,CHART_ITEM:_9,ARIA:T7e,DECAL:tve}},jf="__flagInMainProcess",yh="__pendingUpdate",oJ="__needsUpdateStatus",ose=/^[a-zA-Z0-9_]+$/,iJ="__connectUpdateStatus",ise=0,M7e=1,k7e=2;function rve(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return ive(this,n,e)}}function ove(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ive(this,n,e)}}function ive(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Qm.prototype[e].apply(n,t)}var ave=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Qm),uve=ave.prototype;uve.on=ove("on");uve.off=ove("off");var u3,aJ,IF,b2,uJ,sJ,lJ,UP,qP,ase,use,cJ,sse,RF,lse,sve,Rm,cse,mH=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,new I8e)||this;u._chartsViews=[],u._chartsMap={},u._componentsViews=[],u._componentsMap={},u._pendingActions=[],i=i||{},Lr(r)&&(r=lve[r]),u._dom=t;var l="canvas",f="auto",h=!1,g=u._zr=WZ(t,{renderer:i.renderer||l,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Xi(i.useDirtyRect,h),useCoarsePointer:Xi(i.useCoarsePointer,f),pointerSize:i.pointerSize});u._ssr=i.ssr,u._throttledZrFlush=x9(Wr(g.flush,g),17),r=vo(r),r&&gge(r,!0),u._theme=r,u._locale=LBe(i.locale||$me),u._coordSysMgr=new g9;var y=u._api=lse(u);function b(S,_){return S.__prio-_.__prio}return dV(vH,b),dV(dQ,b),u._scheduler=new Vge(u,y,dQ,vH),u._messageCenter=new ave,u._initEvents(),u.resize=Wr(u.resize,u),g.animation.on("frame",u._onframe,u),ase(g,u),use(g,u),$V(u),u}return e.prototype._onframe=function(){if(!this._disposed){cse(this);var t=this._scheduler;if(this[yh]){var r=this[yh].silent;this[jf]=!0;try{u3(this),b2.update.call(this,null,this[yh].updateParams)}catch(h){throw this[jf]=!1,this[yh]=null,h}this._zr.flush(),this[jf]=!1,this[yh]=null,UP.call(this,r),qP.call(this,r)}else if(t.unfinished){var i=m7e,u=this._model,l=this._api;t.unfinished=!1;do{var f=+new Date;t.performSeriesTasks(u),t.performDataProcessorTasks(u),sJ(this,u),t.performVisualTasks(u),RF(this,this._model,l,"remain",{}),i-=+new Date-f}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,i){if(!this[jf]){if(this._disposed){this.id;return}var u,l,f;if(no(r)&&(i=r.lazyUpdate,u=r.silent,l=r.replaceMerge,f=r.transition,r=r.notMerge),this[jf]=!0,!this._model||r){var h=new gze(this._api),g=this._theme,y=this._model=new hge;y.scheduler=this._scheduler,y.ssr=this._ssr,y.init(null,null,null,g,this._locale,h)}this._model.setOption(t,{replaceMerge:l},hQ);var b={seriesTransition:f,optionChanged:!0};if(i)this[yh]={silent:u,updateParams:b},this[jf]=!1,this.getZr().wakeUp();else{try{u3(this),b2.update.call(this,null,b)}catch(S){throw this[yh]=null,this[jf]=!1,S}this._ssr||this._zr.flush(),this[yh]=null,this[jf]=!1,UP.call(this,u),qP.call(this,u)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ni.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Ni.svgSupported){var t=this._zr,r=t.storage.getDisplayList();return Te(r,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var r=t.excludeComponents,i=this._model,u=[],l=this;Te(r,function(h){i.eachComponent({mainType:h},function(g){var y=l._componentsMap[g.__viewId];y.group.ignore||(u.push(y),y.group.ignore=!0)})});var f=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Te(u,function(h){h.group.ignore=!1}),f},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var r=t.type==="svg",i=this.group,u=Math.min,l=Math.max,f=1/0;if(yH[i]){var h=f,g=f,y=-f,b=-f,S=[],_=t&&t.pixelRatio||this.getDevicePixelRatio();Te(gM,function(L,q){if(L.group===i){var X=r?L.getZr().painter.getSvgDom().innerHTML:L.renderToCanvas(vo(t)),Y=L.getDom().getBoundingClientRect();h=u(Y.left,h),g=u(Y.top,g),y=l(Y.right,y),b=l(Y.bottom,b),S.push({dom:X,left:Y.left,top:Y.top})}}),h*=_,g*=_,y*=_,b*=_;var k=y-h,E=b-g,R=Ob.createCanvas(),I=WZ(R,{renderer:r?"svg":"canvas"});if(I.resize({width:k,height:E}),r){var z="";return Te(S,function(L){var q=L.left-h,X=L.top-g;z+='<g transform="translate('+q+","+X+')">'+L.dom+"</g>"}),I.painter.getSvgRoot().innerHTML=z,t.connectedBackgroundColor&&I.painter.setBackgroundColor(t.connectedBackgroundColor),I.refreshImmediately(),I.painter.toDataURL()}else return t.connectedBackgroundColor&&I.add(new ya({shape:{x:0,y:0,width:k,height:E},style:{fill:t.connectedBackgroundColor}})),Te(S,function(L){var q=new Op({style:{x:L.left*_-h,y:L.top*_-g,image:L.dom}});I.add(q)}),I.refreshImmediately(),R.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,r){return uJ(this,"convertToPixel",t,r)},e.prototype.convertFromPixel=function(t,r){return uJ(this,"convertFromPixel",t,r)},e.prototype.containPixel=function(t,r){if(this._disposed){this.id;return}var i=this._model,u,l=RN(i,t);return Te(l,function(f,h){h.indexOf("Models")>=0&&Te(f,function(g){var y=g.coordinateSystem;if(y&&y.containPoint)u=u||!!y.containPoint(r);else if(h==="seriesModels"){var b=this._chartsMap[g.__viewId];b&&b.containPoint&&(u=u||b.containPoint(r,g))}},this)},this),!!u},e.prototype.getVisual=function(t,r){var i=this._model,u=RN(i,t,{defaultMainType:"series"}),l=u.seriesModel,f=l.getData(),h=u.hasOwnProperty("dataIndexInside")?u.dataIndexInside:u.hasOwnProperty("dataIndex")?f.indexOfRawIndex(u.dataIndex):null;return h!=null?jge(f,h,r):Wge(f,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;Te(D7e,function(r){var i=function(u){var l=t.getModel(),f=u.target,h,g=r==="globalout";if(g?h={}:f&&aM(f,function(k){var E=Ai(k);if(E&&E.dataIndex!=null){var R=E.dataModel||l.getSeriesByIndex(E.seriesIndex);return h=R&&R.getDataParams(E.dataIndex,E.dataType,f)||{},!0}else if(E.eventData)return h=Gn({},E.eventData),!0},!0),h){var y=h.componentType,b=h.componentIndex;(y==="markLine"||y==="markPoint"||y==="markArea")&&(y="series",b=h.seriesIndex);var S=y&&b!=null&&l.getComponent(y,b),_=S&&t[S.mainType==="series"?"_chartsMap":"_componentsMap"][S.__viewId];h.event=u,h.type=r,t._$eventProcessor.eventInfo={targetEl:f,packedEvent:h,model:S,view:_},t.trigger(r,h)}};i.zrEventfulCallAtLast=!0,t._zr.on(r,i,t)}),Te(VN,function(r,i){t._messageCenter.on(i,function(u){this.trigger(i,u)},t)}),Te(["selectchanged"],function(r){t._messageCenter.on(r,function(i){this.trigger(r,i)},t)}),L8e(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&Kpe(this.getDom(),Fte,"");var r=this,i=r._api,u=r._model;Te(r._componentsViews,function(l){l.dispose(u,i)}),Te(r._chartsViews,function(l){l.dispose(u,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete gM[r.id]},e.prototype.resize=function(t){if(!this[jf]){if(this._disposed){this.id;return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),u=t&&t.silent;this[yh]&&(u==null&&(u=this[yh].silent),i=!0,this[yh]=null),this[jf]=!0;try{i&&u3(this),b2.update.call(this,{type:"resize",animation:Gn({duration:0},t&&t.animation)})}catch(l){throw this[jf]=!1,l}this[jf]=!1,UP.call(this,u),qP.call(this,u)}}},e.prototype.showLoading=function(t,r){if(this._disposed){this.id;return}if(no(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!pQ[t]){var i=pQ[t](this._api,r),u=this._zr;this._loadingFX=i,u.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var r=Gn({},t);return r.type=VN[t.type],r},e.prototype.dispatchAction=function(t,r){if(this._disposed){this.id;return}if(no(r)||(r={silent:!!r}),!!gH[t.type]&&this._model){if(this[jf]){this._pendingActions.push(t);return}var i=r.silent;lJ.call(this,t,i);var u=r.flush;u?this._zr.flush():u!==!1&&Ni.browser.weChat&&this._throttledZrFlush(),UP.call(this,i),qP.call(this,i)}},e.prototype.updateLabelLayout=function(){bv.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var r=t.seriesIndex,i=this.getModel(),u=i.getSeriesByIndex(r);u.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){u3=function(b){var S=b._scheduler;S.restorePipelines(b._model),S.prepareStageTasks(),aJ(b,!0),aJ(b,!1),S.plan()},aJ=function(b,S){for(var _=b._model,k=b._scheduler,E=S?b._componentsViews:b._chartsViews,R=S?b._componentsMap:b._chartsMap,I=b._zr,z=b._api,L=0;L<E.length;L++)E[L].__alive=!1;S?_.eachComponent(function(Y,ae){Y!=="series"&&q(ae)}):_.eachSeries(q);function q(Y){var ae=Y.__requireNewView;Y.__requireNewView=!1;var te="_ec_"+Y.id+"_"+Y.type,ie=!ae&&R[te];if(!ie){var le=sy(Y.type),ce=S?zs.getClass(le.main,le.sub):sf.getClass(le.sub);ie=new ce,ie.init(_,z),R[te]=ie,E.push(ie),I.add(ie.group)}Y.__viewId=ie.__id=te,ie.__alive=!0,ie.__model=Y,ie.group.__ecComponentInfo={mainType:Y.mainType,index:Y.componentIndex},!S&&k.prepareView(ie,Y,_,z)}for(var L=0;L<E.length;){var X=E[L];X.__alive?L++:(!S&&X.renderTask.dispose(),I.remove(X.group),X.dispose(_,z),E.splice(L,1),R[X.__id]===X&&delete R[X.__id],X.__id=X.group.__ecComponentInfo=null)}},IF=function(b,S,_,k,E){var R=b._model;if(R.setUpdatePayload(_),!k){Te([].concat(b._componentsViews).concat(b._chartsViews),X);return}var I={};I[k+"Id"]=_[k+"Id"],I[k+"Index"]=_[k+"Index"],I[k+"Name"]=_[k+"Name"];var z={mainType:k,query:I};E&&(z.subType=E);var L=_.excludeSeriesId,q;L!=null&&(q=to(),Te(Bs(L),function(Y){var ae=$f(Y,null);ae!=null&&q.set(ae,!0)})),R&&R.eachComponent(z,function(Y){var ae=q&&q.get(Y.id)!=null;if(!ae)if(Wae(_))if(Y instanceof Dh)_.type===pM&&!_.notBlur&&!Y.get(["emphasis","disabled"])&&T6e(Y,_,b._api);else{var te=ote(Y.mainType,Y.componentIndex,_.name,b._api),ie=te.focusSelf,le=te.dispatchers;_.type===pM&&ie&&!_.notBlur&&KZ(Y.mainType,Y.componentIndex,b._api),le&&Te(le,function(ce){_.type===pM?X3(ce):Y3(ce)})}else ZZ(_)&&Y instanceof Dh&&(D6e(Y,_,b._api),Hae(Y),Rm(b))},b),R&&R.eachComponent(z,function(Y){var ae=q&&q.get(Y.id)!=null;ae||X(b[k==="series"?"_chartsMap":"_componentsMap"][Y.__viewId])},b);function X(Y){Y&&Y.__alive&&Y[S]&&Y[S](Y.__model,R,b._api,_)}},b2={prepareAndUpdate:function(b){u3(this),b2.update.call(this,b,{optionChanged:b.newOption!=null})},update:function(b,S){var _=this._model,k=this._api,E=this._zr,R=this._coordSysMgr,I=this._scheduler;if(_){_.setUpdatePayload(b),I.restoreData(_,b),I.performSeriesTasks(_),R.create(_,k),I.performDataProcessorTasks(_,b),sJ(this,_),R.update(_,k),t(_),I.performVisualTasks(_,b),cJ(this,_,k,b,S);var z=_.get("backgroundColor")||"transparent",L=_.get("darkMode");E.setBackgroundColor(z),L!=null&&L!=="auto"&&E.setDarkMode(L),bv.trigger("afterupdate",_,k)}},updateTransform:function(b){var S=this,_=this._model,k=this._api;if(_){_.setUpdatePayload(b);var E=[];_.eachComponent(function(I,z){if(I!=="series"){var L=S.getViewOfComponentModel(z);if(L&&L.__alive)if(L.updateTransform){var q=L.updateTransform(z,_,k,b);q&&q.update&&E.push(L)}else E.push(L)}});var R=to();_.eachSeries(function(I){var z=S._chartsMap[I.__viewId];if(z.updateTransform){var L=z.updateTransform(I,_,k,b);L&&L.update&&R.set(I.uid,1)}else R.set(I.uid,1)}),t(_),this._scheduler.performVisualTasks(_,b,{setDirty:!0,dirtyMap:R}),RF(this,_,k,b,{},R),bv.trigger("afterupdate",_,k)}},updateView:function(b){var S=this._model;S&&(S.setUpdatePayload(b),sf.markUpdateMethod(b,"updateView"),t(S),this._scheduler.performVisualTasks(S,b,{setDirty:!0}),cJ(this,S,this._api,b,{}),bv.trigger("afterupdate",S,this._api))},updateVisual:function(b){var S=this,_=this._model;_&&(_.setUpdatePayload(b),_.eachSeries(function(k){k.getData().clearAllVisual()}),sf.markUpdateMethod(b,"updateVisual"),t(_),this._scheduler.performVisualTasks(_,b,{visualType:"visual",setDirty:!0}),_.eachComponent(function(k,E){if(k!=="series"){var R=S.getViewOfComponentModel(E);R&&R.__alive&&R.updateVisual(E,_,S._api,b)}}),_.eachSeries(function(k){var E=S._chartsMap[k.__viewId];E.updateVisual(k,_,S._api,b)}),bv.trigger("afterupdate",_,this._api))},updateLayout:function(b){b2.update.call(this,b)}},uJ=function(b,S,_,k){if(b._disposed){b.id;return}for(var E=b._model,R=b._coordSysMgr.getCoordinateSystems(),I,z=RN(E,_),L=0;L<R.length;L++){var q=R[L];if(q[S]&&(I=q[S](E,z,k))!=null)return I}},sJ=function(b,S){var _=b._chartsMap,k=b._scheduler;S.eachSeries(function(E){k.updateStreamModes(E,_[E.__viewId])})},lJ=function(b,S){var _=this,k=this.getModel(),E=b.type,R=b.escapeConnect,I=gH[E],z=I.actionInfo,L=(z.update||"update").split(":"),q=L.pop(),X=L[0]!=null&&sy(L[0]);this[jf]=!0;var Y=[b],ae=!1;b.batch&&(ae=!0,Y=br(b.batch,function(Ce){return Ce=To(Gn({},Ce),b),Ce.batch=null,Ce}));var te=[],ie,le=ZZ(b),ce=Wae(b);if(ce&&wme(this._api),Te(Y,function(Ce){if(ie=I.action(Ce,_._model,_._api),ie=ie||Gn({},Ce),ie.type=z.event||ie.type,te.push(ie),ce){var ze=Zee(b),ke=ze.queryOptionMap,_t=ze.mainTypeSpecified,tt=_t?ke.keys()[0]:"series";IF(_,q,Ce,tt),Rm(_)}else le?(IF(_,q,Ce,"series"),Rm(_)):X&&IF(_,q,Ce,X.main,X.sub)}),q!=="none"&&!ce&&!le&&!X)try{this[yh]?(u3(this),b2.update.call(this,b),this[yh]=null):b2[q].call(this,b)}catch(Ce){throw this[jf]=!1,Ce}if(ae?ie={type:z.event||E,escapeConnect:R,batch:te}:ie=te[0],this[jf]=!1,!S){var ne=this._messageCenter;if(ne.trigger(ie.type,ie),le){var Z={type:"selectchanged",escapeConnect:R,selected:A6e(k),isFromClick:b.isFromClick||!1,fromAction:b.type,fromActionPayload:b};ne.trigger(Z.type,Z)}}},UP=function(b){for(var S=this._pendingActions;S.length;){var _=S.shift();lJ.call(this,_,b)}},qP=function(b){!b&&this.trigger("updated")},ase=function(b,S){b.on("rendered",function(_){S.trigger("rendered",_),b.animation.isFinished()&&!S[yh]&&!S._scheduler.unfinished&&!S._pendingActions.length&&S.trigger("finished")})},use=function(b,S){b.on("mouseover",function(_){var k=_.target,E=aM(k,JZ);E&&(M6e(E,_,S._api),Rm(S))}).on("mouseout",function(_){var k=_.target,E=aM(k,JZ);E&&(k6e(E,_,S._api),Rm(S))}).on("click",function(_){var k=_.target,E=aM(k,function(z){return Ai(z).dataIndex!=null},!0);if(E){var R=E.selected?"unselect":"select",I=Ai(E);S._api.dispatchAction({type:R,dataType:I.dataType,dataIndexInside:I.dataIndex,seriesIndex:I.seriesIndex,isFromClick:!0})}})};function t(b){b.clearColorPalette(),b.eachSeries(function(S){S.clearColorPalette()})}function r(b){var S=[],_=[],k=!1;if(b.eachComponent(function(z,L){var q=L.get("zlevel")||0,X=L.get("z")||0,Y=L.getZLevelKey();k=k||!!Y,(z==="series"?_:S).push({zlevel:q,z:X,idx:L.componentIndex,type:z,key:Y})}),k){var E=S.concat(_),R,I;dV(E,function(z,L){return z.zlevel===L.zlevel?z.z-L.z:z.zlevel-L.zlevel}),Te(E,function(z){var L=b.getComponent(z.type,z.idx),q=z.zlevel,X=z.key;R!=null&&(q=Math.max(R,q)),X?(q===R&&X!==I&&q++,I=X):I&&(q===R&&q++,I=""),R=q,L.setZLevel(q)})}}cJ=function(b,S,_,k,E){r(S),sse(b,S,_,k,E),Te(b._chartsViews,function(R){R.__alive=!1}),RF(b,S,_,k,E),Te(b._chartsViews,function(R){R.__alive||R.remove(S,_)})},sse=function(b,S,_,k,E,R){Te(R||b._componentsViews,function(I){var z=I.__model;g(z,I),I.render(z,S,_,k),f(z,I),y(z,I)})},RF=function(b,S,_,k,E,R){var I=b._scheduler;E=Gn(E||{},{updatedSeries:S.getSeries()}),bv.trigger("series:beforeupdate",S,_,E);var z=!1;S.eachSeries(function(L){var q=b._chartsMap[L.__viewId];q.__alive=!0;var X=q.renderTask;I.updatePayload(X,k),g(L,q),R&&R.get(L.uid)&&X.dirty(),X.perform(I.getPerformArgs(X))&&(z=!0),q.group.silent=!!L.get("silent"),l(L,q),Hae(L)}),I.unfinished=z||I.unfinished,bv.trigger("series:layoutlabels",S,_,E),bv.trigger("series:transition",S,_,E),S.eachSeries(function(L){var q=b._chartsMap[L.__viewId];f(L,q),y(L,q)}),u(b,S),bv.trigger("series:afterupdate",S,_,E)},Rm=function(b){b[oJ]=!0,b.getZr().wakeUp()},cse=function(b){b[oJ]&&(b.getZr().storage.traverse(function(S){BN(S)||i(S)}),b[oJ]=!1)};function i(b){for(var S=[],_=b.currentStates,k=0;k<_.length;k++){var E=_[k];E==="emphasis"||E==="blur"||E==="select"||S.push(E)}b.selected&&b.states.select&&S.push("select"),b.hoverState===t9&&b.states.emphasis?S.push("emphasis"):b.hoverState===e9&&b.states.blur&&S.push("blur"),b.useStates(S)}function u(b,S){var _=b._zr,k=_.storage,E=0;k.traverse(function(R){R.isGroup||E++}),E>S.get("hoverLayerThreshold")&&!Ni.node&&!Ni.worker&&S.eachSeries(function(R){if(!R.preventUsingHoverLayer){var I=b._chartsMap[R.__viewId];I.__alive&&I.eachRendered(function(z){z.states.emphasis&&(z.states.emphasis.hoverLayer=!0)})}})}function l(b,S){var _=b.get("blendMode")||null;S.eachRendered(function(k){k.isGroup||(k.style.blend=_)})}function f(b,S){if(!b.preventAutoZ){var _=b.get("z")||0,k=b.get("zlevel")||0;S.eachRendered(function(E){return h(E,_,k,-1/0),!0})}}function h(b,S,_,k){var E=b.getTextContent(),R=b.getTextGuideLine(),I=b.isGroup;if(I)for(var z=b.childrenRef(),L=0;L<z.length;L++)k=Math.max(h(z[L],S,_,k),k);else b.z=S,b.zlevel=_,k=Math.max(b.z2,k);if(E&&(E.z=S,E.zlevel=_,isFinite(k)&&(E.z2=k+2)),R){var q=b.textGuideLineConfig;R.z=S,R.zlevel=_,isFinite(k)&&(R.z2=k+(q&&q.showAbove?1:-1))}return k}function g(b,S){S.eachRendered(function(_){if(!BN(_)){var k=_.getTextContent(),E=_.getTextGuideLine();_.stateTransition&&(_.stateTransition=null),k&&k.stateTransition&&(k.stateTransition=null),E&&E.stateTransition&&(E.stateTransition=null),_.hasState()?(_.prevStates=_.currentStates,_.clearStates()):_.prevStates&&(_.prevStates=null)}})}function y(b,S){var _=b.getModel("stateAnimation"),k=b.isAnimationEnabled(),E=_.get("duration"),R=E>0?{duration:E,delay:_.get("delay"),easing:_.get("easing")}:null;S.eachRendered(function(I){if(I.states&&I.states.emphasis){if(BN(I))return;if(I instanceof ja&&N6e(I),I.__dirty){var z=I.prevStates;z&&I.useStates(z)}if(k){I.stateTransition=R;var L=I.getTextContent(),q=I.getTextGuideLine();L&&(L.stateTransition=R),q&&(q.stateTransition=R)}I.__dirty&&i(I)}})}lse=function(b){return new(function(S){Tn(_,S);function _(){return S!==null&&S.apply(this,arguments)||this}return _.prototype.getCoordinateSystems=function(){return b._coordSysMgr.getCoordinateSystems()},_.prototype.getComponentByElement=function(k){for(;k;){var E=k.__ecComponentInfo;if(E!=null)return b._model.getComponent(E.mainType,E.index);k=k.parent}},_.prototype.enterEmphasis=function(k,E){X3(k,E),Rm(b)},_.prototype.leaveEmphasis=function(k,E){Y3(k,E),Rm(b)},_.prototype.enterBlur=function(k){C6e(k),Rm(b)},_.prototype.leaveBlur=function(k){vme(k),Rm(b)},_.prototype.enterSelect=function(k){yme(k),Rm(b)},_.prototype.leaveSelect=function(k){bme(k),Rm(b)},_.prototype.getModel=function(){return b.getModel()},_.prototype.getViewOfComponentModel=function(k){return b.getViewOfComponentModel(k)},_.prototype.getViewOfSeriesModel=function(k){return b.getViewOfSeriesModel(k)},_}(pge))(b)},sve=function(b){function S(_,k){for(var E=0;E<_.length;E++){var R=_[E];R[iJ]=k}}Te(VN,function(_,k){b._messageCenter.on(k,function(E){if(yH[b.group]&&b[iJ]!==ise){if(E&&E.escapeConnect)return;var R=b.makeActionFromEvent(E),I=[];Te(gM,function(z){z!==b&&z.group===b.group&&I.push(z)}),S(I,ise),Te(I,function(z){z[iJ]!==M7e&&z.dispatchAction(R)}),S(I,k7e)}})})}}(),e}(Qm),zte=mH.prototype;zte.on=rve("on");zte.off=rve("off");zte.one=function(n,e,t){var r=this;function i(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];e&&e.apply&&e.apply(this,u),r.off(n,i)}this.on.call(this,n,i,t)};var D7e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var gH={},VN={},dQ=[],hQ=[],vH=[],lve={},pQ={},gM={},yH={},A7e=+new Date-0,E7e=+new Date-0,Fte="_echarts_instance_";function O7e(n,e,t){var r=!(t&&t.ssr);if(r){var i=Vte(n);if(i)return i}var u=new mH(n,e,t);return u.id="ec_"+A7e++,gM[u.id]=u,r&&Kpe(n,Fte,u.id),sve(u),bv.trigger("afterinit",u),u}function I7e(n){if(sr(n)){var e=n;n=null,Te(e,function(t){t.group!=null&&(n=t.group)}),n=n||"g_"+E7e++,Te(e,function(t){t.group=n})}return yH[n]=!0,n}function cve(n){yH[n]=!1}var R7e=cve;function P7e(n){Lr(n)?n=gM[n]:n instanceof mH||(n=Vte(n)),n instanceof mH&&!n.isDisposed()&&n.dispose()}function Vte(n){return gM[hLe(n,Fte)]}function N7e(n){return gM[n]}function Hte(n,e){lve[n]=e}function jte(n){Di(hQ,n)<0&&hQ.push(n)}function Wte(n,e){Ute(dQ,n,e,b7e)}function fve(n){S9("afterinit",n)}function dve(n){S9("afterupdate",n)}function S9(n,e){bv.on(n,e)}function Ev(n,e,t){Eo(e)&&(t=e,e="");var r=no(n)?n.type:[n,n={event:e}][0];n.event=(n.event||r).toLowerCase(),e=n.event,!VN[e]&&(Dp(ose.test(r)&&ose.test(e)),gH[r]||(gH[r]={action:t,actionInfo:n}),VN[e]=r)}function hve(n,e){g9.register(n,e)}function L7e(n){var e=g9.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function pve(n,e){Ute(vH,n,e,Qge,"layout")}function u_(n,e){Ute(vH,n,e,eve,"visual")}var fse=[];function Ute(n,e,t,r,i){if((Eo(e)||no(e))&&(t=e,e=r),!(Di(fse,t)>=0)){fse.push(t);var u=Vge.wrapStageHandler(t,i);u.__prio=e,u.__raw=t,n.push(u)}}function qte(n,e){pQ[n]=e}function B7e(n){npe({createCanvas:n})}function mve(n,e,t){var r=Zge("registerMap");r&&r(n,e,t)}function z7e(n){var e=Zge("getMap");return e&&e(n)}var gve=Hze;u_(Bte,g8e);u_(_9,v8e);u_(_9,y8e);u_(Bte,R8e);u_(_9,P8e);u_(tve,c7e);jte(gge);Wte(v7e,Cze);qte("default",b8e);Ev({type:pM,event:pM,update:pM},uf);Ev({type:bV,event:bV,update:bV},uf);Ev({type:PN,event:PN,update:PN},uf);Ev({type:xV,event:xV,update:xV},uf);Ev({type:NN,event:NN,update:NN},uf);Hte("light",E8e);Hte("dark",O8e);var F7e={};function $P(n){return n==null?0:n.length||1}function dse(n){return n}var V7e=function(){function n(e,t,r,i,u,l){this._old=e,this._new=t,this._oldKeyGetter=r||dse,this._newKeyGetter=i||dse,this.context=u,this._diffModeMultiple=l==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),u=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,u,"_newKeyGetter");for(var l=0;l<e.length;l++){var f=i[l],h=r[f],g=$P(h);if(g>1){var y=h.shift();h.length===1&&(r[f]=h[0]),this._update&&this._update(y,l)}else g===1?(r[f]=null,this._update&&this._update(h,l)):this._remove&&this._remove(l)}this._performRestAdd(u,r)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},u=[],l=[];this._initIndexMap(e,r,u,"_oldKeyGetter"),this._initIndexMap(t,i,l,"_newKeyGetter");for(var f=0;f<u.length;f++){var h=u[f],g=r[h],y=i[h],b=$P(g),S=$P(y);if(b>1&&S===1)this._updateManyToOne&&this._updateManyToOne(y,g),i[h]=null;else if(b===1&&S>1)this._updateOneToMany&&this._updateOneToMany(y,g),i[h]=null;else if(b===1&&S===1)this._update&&this._update(y,g),i[h]=null;else if(b>1&&S>1)this._updateManyToMany&&this._updateManyToMany(y,g),i[h]=null;else if(b>1)for(var _=0;_<b;_++)this._remove&&this._remove(g[_]);else this._remove&&this._remove(g)}this._performRestAdd(l,i)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],u=t[i],l=$P(u);if(l>1)for(var f=0;f<l;f++)this._add&&this._add(u[f]);else l===1&&this._add&&this._add(u);t[i]=null}},n.prototype._initIndexMap=function(e,t,r,i){for(var u=this._diffModeMultiple,l=0;l<e.length;l++){var f="_ec_"+this[i](e[l],l);if(u||(r[l]=f),!!t){var h=t[f],g=$P(h);g===0?(t[f]=l,u&&r.push(f)):g===1?t[f]=[h,l]:h.push(l)}}},n}();const $te=V7e;var H7e=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function j7e(n,e){var t={},r=t.encode={},i=to(),u=[],l=[],f={};Te(n.dimensions,function(S){var _=n.getDimensionInfo(S),k=_.coordDim;if(k){var E=_.coordDimIndex;fJ(r,k)[E]=S,_.isExtraCoord||(i.set(k,1),U7e(_.type)&&(u[0]=S),fJ(f,k)[E]=n.getDimensionIndex(_.name)),_.defaultTooltip&&l.push(S)}ige.each(function(R,I){var z=fJ(r,I),L=_.otherDims[I];L!=null&&L!==!1&&(z[L]=_.name)})});var h=[],g={};i.each(function(S,_){var k=r[_];g[_]=k[0],h=h.concat(k)}),t.dataDimsOnCoord=h,t.dataDimIndicesOnCoord=br(h,function(S){return n.getDimensionInfo(S).storeDimIndex}),t.encodeFirstDimNotExtra=g;var y=r.label;y&&y.length&&(u=y.slice());var b=r.tooltip;return b&&b.length?l=b.slice():l.length||(l=u.slice()),r.defaultedLabel=u,r.defaultedTooltip=l,t.userOutput=new H7e(f,e),t}function fJ(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function W7e(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function U7e(n){return!(n==="ordinal"||n==="time")}var q7e=function(){function n(e){this.otherDims={},e!=null&&Gn(this,e)}return n}();const CV=q7e;var $7e=cu(),G7e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},vve=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=xve(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Xi(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=yge(this.source),r=!wve(e),i="",u=[],l=0,f=0;l<e;l++){var h=void 0,g=void 0,y=void 0,b=this.dimensions[f];if(b&&b.storeDimIndex===l)h=t?b.name:null,g=b.type,y=b.ordinalMeta,f++;else{var S=this.getSourceDimension(l);S&&(h=t?S.name:null,g=S.type)}u.push({property:h,type:g,ordinalMeta:y}),t&&h!=null&&(!b||!b.isCalculationCoord)&&(i+=r?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),i+="$",i+=G7e[g]||"f",y&&(i+=y.uid),i+="$"}var _=this.source,k=[_.seriesLayoutBy,_.startIndex,i].join("$$");return{dimensions:u,hash:k}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,u=this.dimensions[r];if(u&&u.storeDimIndex===t)u.isCalculationCoord||(i=u.name),r++;else{var l=this.getSourceDimension(t);l&&(i=l.name)}e.push(i)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function yve(n){return n instanceof vve}function bve(n){for(var e=to(),t=0;t<(n||[]).length;t++){var r=n[t],i=no(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function xve(n){var e=$7e(n);return e.dimNameMap||(e.dimNameMap=bve(n.dimensionsDefine))}function wve(n){return n>30}var GP=no,x2=br,X7e=typeof Int32Array>"u"?Array:Int32Array,Y7e="e\0\0",hse=-1,K7e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],J7e=["_approximateExtent"],pse,PF,XP,YP,dJ,NF,hJ,Z7e=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;yve(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var u={},l=[],f={},h=!1,g={},y=0;y<r.length;y++){var b=r[y],S=Lr(b)?new CV({name:b}):b instanceof CV?b:new CV(b),_=S.name;S.type=S.type||"float",S.coordDim||(S.coordDim=_,S.coordDimIndex=0);var k=S.otherDims=S.otherDims||{};l.push(_),u[_]=S,g[_]!=null&&(h=!0),S.createInvertedIndices&&(f[_]=[]),k.itemName===0&&(this._nameDimIdx=y),k.itemId===0&&(this._idDimIdx=y),i&&(S.storeDimIndex=y)}if(this.dimensions=l,this._dimInfos=u,this._initGetDimensionInfo(h),this.hostModel=t,this._invertedIndicesMap=f,this._dimOmitted){var E=this._dimIdxToName=to();Te(l,function(R){E.set(u[R].storeDimIndex,R)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(lu(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var i=this,u;if(e instanceof iQ&&(u=e),!u){var l=this.dimensions,f=Dte(e)||Gf(e)?new bge(e,l.length):e;u=new iQ;var h=x2(l,function(g){return{type:i._dimInfos[g].type,property:g}});u.initData(f,h,r)}this._store=u,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,u.count()),this._dimSummary=j7e(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t.length),i=r.start,u=r.end,l=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var f=i;f<u;f++){var h=f-i;this._nameList[f]=t[h],l&&hJ(this,f)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==X2&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var u=this._nameList,l=this._idList,f=i.getSource().sourceFormat,h=f===ng;if(h&&!i.pure)for(var g=[],y=e;y<t;y++){var b=i.getItem(y,g);if(!this.hasItemOption&&eLe(b)&&(this.hasItemOption=!0),b){var S=b.name;u[y]==null&&S!=null&&(u[y]=$f(S,null));var _=b.id;l[y]==null&&_!=null&&(l[y]=$f(_,null))}}if(this._shouldMakeIdFromName())for(var y=e;y<t;y++)hJ(this,y);pse(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){GP(e)?Gn(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=XP(this,this._nameDimIdx,t)),r==null&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},n.prototype.getId=function(e){return PF(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,i=this._store;return sr(e)?i.getValues(x2(e,function(u){return r._getStoreDimIndex(u)}),t):i.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r[t];return i==null||isNaN(i)?hse:i},n.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},n.prototype.each=function(e,t,r){Eo(e)&&(r=t,t=e,e=[]);var i=r||this,u=x2(YP(e),this._getStoreDimIndex,this);this._store.each(u,i?Wr(t,i):t)},n.prototype.filterSelf=function(e,t,r){Eo(e)&&(r=t,t=e,e=[]);var i=r||this,u=x2(YP(e),this._getStoreDimIndex,this);return this._store=this._store.filter(u,i?Wr(t,i):t),this},n.prototype.selectRange=function(e){var t=this,r={},i=va(e);return Te(i,function(u){var l=t._getStoreDimIndex(u);r[l]=e[u]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){Eo(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},n.prototype.map=function(e,t,r,i){var u=r||i||this,l=x2(YP(e),this._getStoreDimIndex,this),f=NF(this);return f._store=this._store.map(l,u?Wr(t,u):t),f},n.prototype.modify=function(e,t,r,i){var u=r||i||this,l=x2(YP(e),this._getStoreDimIndex,this);this._store.modify(l,u?Wr(t,u):t)},n.prototype.downSample=function(e,t,r,i){var u=NF(this);return u._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),u},n.prototype.lttbDownSample=function(e,t){var r=NF(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new xs(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new $te(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return PF(e,r)},function(r){return PF(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},GP(e)?Gn(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var u=i[t];return u==null&&(u=this.getVisual(t),sr(u)?u=u.slice():GP(u)&&(u=Gn({},u)),i[t]=u),u},n.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,GP(t)?Gn(i,t):i[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){GP(e)?Gn(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?Gn(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;g6e(r,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){Te(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:x2(this.dimensions,this._getDimInfo,this),this.hostModel)),dJ(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];Eo(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(XH(arguments)))})},n.internalField=function(){pse=function(e){var t=e._invertedIndicesMap;Te(t,function(r,i){var u=e._dimInfos[i],l=u.ordinalMeta,f=e._store;if(l){r=t[i]=new X7e(l.categories.length);for(var h=0;h<r.length;h++)r[h]=hse;for(var h=0;h<f.count();h++)r[f.get(u.storeDimIndex,h)]=h}})},XP=function(e,t,r){return $f(e._getCategory(t,r),null)},PF=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=XP(e,e._idDimIdx,t)),r==null&&(r=Y7e+t),r},YP=function(e){return sr(e)||(e=e!=null?[e]:[]),e},NF=function(e){var t=new n(e._schema?e._schema:x2(e.dimensions,e._getDimInfo,e),e.hostModel);return dJ(t,e),t},dJ=function(e,t){Te(K7e.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,Te(J7e,function(r){e[r]=vo(t[r])}),e._calculationInfo=Gn({},t._calculationInfo)},hJ=function(e,t){var r=e._nameList,i=e._idList,u=e._nameDimIdx,l=e._idDimIdx,f=r[t],h=i[t];if(f==null&&u!=null&&(r[t]=f=XP(e,u,t)),h==null&&l!=null&&(i[t]=h=XP(e,l,t)),h==null&&f!=null){var g=e._nameRepeatCount,y=g[f]=(g[f]||0)+1;h=f,y>1&&(h+="__ec__"+y),i[t]=h}}}(),n}();const C9=Z7e;function Q7e(n,e){return Gte(n,e).dimensions}function Gte(n,e){Dte(n)||(n=Ate(n)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],i=to(),u=[],l=tFe(n,t,r,e.dimensionsCount),f=e.canOmitUnusedDimensions&&wve(l),h=r===n.dimensionsDefine,g=h?xve(n):bve(r),y=e.encodeDefine;!y&&e.encodeDefaulter&&(y=e.encodeDefaulter(n,l));for(var b=to(y),S=new Tge(l),_=0;_<S.length;_++)S[_]=-1;function k(ie){var le=S[ie];if(le<0){var ce=r[ie],ne=no(ce)?ce:{name:ce},Z=new CV,Ce=ne.name;Ce!=null&&g.get(Ce)!=null&&(Z.name=Z.displayName=Ce),ne.type!=null&&(Z.type=ne.type),ne.displayName!=null&&(Z.displayName=ne.displayName);var ze=u.length;return S[ie]=ze,Z.storeDimIndex=ie,u.push(Z),Z}return u[le]}if(!f)for(var _=0;_<l;_++)k(_);b.each(function(ie,le){var ce=Bs(ie).slice();if(ce.length===1&&!Lr(ce[0])&&ce[0]<0){b.set(le,!1);return}var ne=b.set(le,[]);Te(ce,function(Z,Ce){var ze=Lr(Z)?g.get(Z):Z;ze!=null&&ze<l&&(ne[Ce]=ze,R(k(ze),le,Ce))})});var E=0;Te(t,function(ie){var le,ce,ne,Z;if(Lr(ie))le=ie,Z={};else{Z=ie,le=Z.name;var Ce=Z.ordinalMeta;Z.ordinalMeta=null,Z=Gn({},Z),Z.ordinalMeta=Ce,ce=Z.dimsDef,ne=Z.otherDims,Z.name=Z.coordDim=Z.coordDimIndex=Z.dimsDef=Z.otherDims=null}var ze=b.get(le);if(ze!==!1){if(ze=Bs(ze),!ze.length)for(var ke=0;ke<(ce&&ce.length||1);ke++){for(;E<l&&k(E).coordDim!=null;)E++;E<l&&ze.push(E++)}Te(ze,function(_t,tt){var $=k(_t);if(h&&Z.type!=null&&($.type=Z.type),R(To($,Z),le,tt),$.name==null&&ce){var Ze=ce[tt];!no(Ze)&&(Ze={name:Ze}),$.name=$.displayName=Ze.name,$.defaultTooltip=Ze.defaultTooltip}ne&&To($.otherDims,ne)})}});function R(ie,le,ce){ige.get(le)!=null?ie.otherDims[le]=ce:(ie.coordDim=le,ie.coordDimIndex=ce,i.set(le,!0))}var I=e.generateCoord,z=e.generateCoordCount,L=z!=null;z=I?z||1:0;var q=I||"value";function X(ie){ie.name==null&&(ie.name=ie.coordDim)}if(f)Te(u,function(ie){X(ie)}),u.sort(function(ie,le){return ie.storeDimIndex-le.storeDimIndex});else for(var Y=0;Y<l;Y++){var ae=k(Y),te=ae.coordDim;te==null&&(ae.coordDim=nFe(q,i,L),ae.coordDimIndex=0,(!I||z<=0)&&(ae.isExtraCoord=!0),z--),X(ae),ae.type==null&&(lge(n,Y)===nf.Must||ae.isExtraCoord&&(ae.otherDims.itemName!=null||ae.otherDims.seriesName!=null))&&(ae.type="ordinal")}return eFe(u),new vve({source:n,dimensions:u,fullDimensionCount:l,dimensionOmitted:f})}function eFe(n){for(var e=to(),t=0;t<n.length;t++){var r=n[t],i=r.name,u=e.get(i)||0;u>0&&(r.name=i+(u-1)),u++,e.set(i,u)}}function tFe(n,e,t,r){var i=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return Te(e,function(u){var l;no(u)&&(l=u.dimsDef)&&(i=Math.max(i,l.length))}),i}function nFe(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}var rFe=function(){function n(e){this.coordSysDims=[],this.axisMap=to(),this.categoryAxisMap=to(),this.coordSysName=e}return n}();function oFe(n){var e=n.get("coordinateSystem"),t=new rFe(e),r=iFe[e];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}var iFe={cartesian2d:function(n,e,t,r){var i=n.getReferringComponents("xAxis",mc).models[0],u=n.getReferringComponents("yAxis",mc).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",u),s3(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),s3(u)&&(r.set("y",u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,r){var i=n.getReferringComponents("singleAxis",mc).models[0];e.coordSysDims=["single"],t.set("single",i),s3(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(n,e,t,r){var i=n.getReferringComponents("polar",mc).models[0],u=i.findAxisModel("radiusAxis"),l=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",u),t.set("angle",l),s3(u)&&(r.set("radius",u),e.firstCategoryDimIndex=0),s3(l)&&(r.set("angle",l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,r){var i=n.ecModel,u=i.getComponent("parallel",n.get("parallelIndex")),l=e.coordSysDims=u.dimensions.slice();Te(u.parallelAxisIndex,function(f,h){var g=i.getComponent("parallelAxis",f),y=l[h];t.set(y,g),s3(g)&&(r.set(y,g),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=h))})}};function s3(n){return n.get("type")==="category"}function _ve(n,e,t){t=t||{};var r=t.byIndex,i=t.stackedCoordDimension,u,l,f;aFe(e)?u=e:(l=e.schema,u=l.dimensions,f=e.store);var h=!!(n&&n.get("stack")),g,y,b,S;if(Te(u,function(z,L){Lr(z)&&(u[L]=z={name:z}),h&&!z.isExtraCoord&&(!r&&!g&&z.ordinalMeta&&(g=z),!y&&z.type!=="ordinal"&&z.type!=="time"&&(!i||i===z.coordDim)&&(y=z))}),y&&!r&&!g&&(r=!0),y){b="__\0ecstackresult_"+n.id,S="__\0ecstackedover_"+n.id,g&&(g.createInvertedIndices=!0);var _=y.coordDim,k=y.type,E=0;Te(u,function(z){z.coordDim===_&&E++});var R={name:b,coordDim:_,coordDimIndex:E,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length},I={name:S,coordDim:S,coordDimIndex:E+1,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length+1};l?(f&&(R.storeDimIndex=f.ensureCalculationDimension(S,k),I.storeDimIndex=f.ensureCalculationDimension(b,k)),l.appendCalculationDimension(R),l.appendCalculationDimension(I)):(u.push(R),u.push(I))}return{stackedDimension:y&&y.name,stackedByDimension:g&&g.name,isStackedByIndex:r,stackedOverDimension:S,stackResultDimension:b}}function aFe(n){return!yve(n.schema)}function Q2(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function Sve(n,e){return Q2(n,e)?n.getCalculationInfo("stackResultDimension"):e}function uFe(n,e){var t=n.get("coordinateSystem"),r=g9.get(t),i;return e&&e.coordSysDims&&(i=br(e.coordSysDims,function(u){var l={name:u},f=e.axisMap.get(u);if(f){var h=f.get("type");l.type=W7e(h)}return l})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function sFe(n,e,t){var r,i;return t&&Te(n,function(u,l){var f=u.coordDim,h=t.categoryAxisMap.get(f);h&&(r==null&&(r=l),u.ordinalMeta=h.getOrdinalMeta(),e&&(u.createInvertedIndices=!0)),u.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(n[r].otherDims.itemName=0),r}function VL(n,e,t){t=t||{};var r=e.getSourceManager(),i,u=!1;n?(u=!0,i=Ate(n)):(i=r.getSource(),u=i.sourceFormat===ng);var l=oFe(e),f=uFe(e,l),h=t.useEncodeDefaulter,g=Eo(h)?h:h?ji(JBe,f,e):null,y={coordDimensions:f,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:g,canOmitUnusedDimensions:!u},b=Gte(i,y),S=sFe(b.dimensions,t.createInvertedIndices,l),_=u?null:r.getSharedDataStore(b),k=_ve(e,{schema:b,store:_}),E=new C9(b,e);E.setCalculationInfo(k);var R=S!=null&&lFe(i)?function(I,z,L,q){return q===S?L:this.defaultDimValueGetter(I,z,L,q)}:null;return E.hasItemOption=!1,E.initData(u?i:_,null,R),E}function lFe(n){if(n.sourceFormat===ng){var e=cFe(n.data||[]);return!sr(f5(e))}}function cFe(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}var Cve=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();JH(Cve);const jb=Cve;var fFe=0,dFe=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++fFe}return n.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&br(r,hFe);return new n({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!Lr(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=to(this.categories))},n}();function hFe(n){return no(n)&&n.value!=null?n.value:n+""}const mQ=dFe;function gQ(n){return n.type==="interval"||n.type==="log"}function pFe(n,e,t,r){var i={},u=n[1]-n[0],l=i.interval=Yee(u/e,!0);t!=null&&l<t&&(l=i.interval=t),r!=null&&l>r&&(l=i.interval=r);var f=i.intervalPrecision=Tve(l),h=i.niceTickExtent=[el(Math.ceil(n[0]/l)*l,f),el(Math.floor(n[1]/l)*l,f)];return mFe(h,n),i}function pJ(n){var e=Math.pow(10,KH(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,el(t*e)}function Tve(n){return uy(n)+2}function mse(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function mFe(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),mse(n,0,e),mse(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function T9(n,e){return n>=e[0]&&n<=e[1]}function M9(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function k9(n,e){return n*(e[1]-e[0])+e[0]}var Mve=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new mQ({})),sr(i)&&(i=new mQ({categories:br(i,function(u){return no(u)?u.value:u})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:Lr(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),T9(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),M9(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(k9(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],u=this._ticksByOrdinalNumber=[],l=0,f=this._ordinalMeta.categories.length,h=Math.min(f,r.length);l<h;++l){var g=r[l];i[l]=g,u[g]=l}for(var y=0;l<f;++l){for(;u[y]!=null;)y++;i.push(y),u[y]=l}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(jb);jb.registerClass(Mve);const Xte=Mve;var $T=el,kve=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return T9(t,this._extent)},e.prototype.normalize=function(t){return M9(t,this._extent)},e.prototype.scale=function(t){return k9(t,this._extent)},e.prototype.setExtent=function(t,r){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Tve(t)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,u=this._niceExtent,l=this._intervalPrecision,f=[];if(!r)return f;var h=1e4;i[0]<u[0]&&(t?f.push({value:$T(u[0]-r,l)}):f.push({value:i[0]}));for(var g=u[0];g<=u[1]&&(f.push({value:g}),g=$T(g+r,l),g!==f[f.length-1].value);)if(f.length>h)return[];var y=f.length?f[f.length-1].value:u[1];return i[1]>y&&(t?f.push({value:$T(y+r,l)}):f.push({value:i[1]})),f},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],u=this.getExtent(),l=1;l<r.length;l++){for(var f=r[l],h=r[l-1],g=0,y=[],b=f.value-h.value,S=b/t;g<t-1;){var _=$T(h.value+(g+1)*S);_>u[0]&&_<u[1]&&y.push(_),g++}i.push(y)}return i},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=uy(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var u=$T(t.value,i,!0);return wte(u)},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var u=this._extent,l=u[1]-u[0];if(isFinite(l)){l<0&&(l=-l,u.reverse());var f=pFe(u,t,r,i);this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var u=r[1]-r[0];isFinite(u)||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var l=this._interval;t.fixMin||(r[0]=$T(Math.floor(r[0]/l)*l)),t.fixMax||(r[1]=$T(Math.ceil(r[1]/l)*l))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e}(jb);jb.registerClass(kve);const e_=kve;var Dve=typeof Float32Array<"u",gFe=Dve?Float32Array:Array;function Sb(n){return sr(n)?Dve?new Float32Array(n):n:new gFe(n)}var vFe="__ec_stack_";function Yte(n){return n.get("stack")||vFe+n.seriesIndex}function Kte(n){return n.dim+n.index}function Ave(n,e){var t=[];return e.eachSeriesByType(n,function(r){Rve(r)&&t.push(r)}),t}function yFe(n){var e={};Te(n,function(h){var g=h.coordinateSystem,y=g.getBaseAxis();if(!(y.type!=="time"&&y.type!=="value"))for(var b=h.getData(),S=y.dim+"_"+y.index,_=b.getDimensionIndex(b.mapDimension(y.dim)),k=b.getStore(),E=0,R=k.count();E<R;++E){var I=k.get(_,E);e[S]?e[S].push(I):e[S]=[I]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(h,g){return h-g});for(var u=null,l=1;l<i.length;++l){var f=i[l]-i[l-1];f>0&&(u=u===null?f:Math.min(u,f))}t[r]=u}}return t}function Eve(n){var e=yFe(n),t=[];return Te(n,function(r){var i=r.coordinateSystem,u=i.getBaseAxis(),l=u.getExtent(),f;if(u.type==="category")f=u.getBandWidth();else if(u.type==="value"||u.type==="time"){var h=u.dim+"_"+u.index,g=e[h],y=Math.abs(l[1]-l[0]),b=u.scale.getExtent(),S=Math.abs(b[1]-b[0]);f=g?y/S*g:y}else{var _=r.getData();f=Math.abs(l[1]-l[0])/_.count()}var k=Xo(r.get("barWidth"),f),E=Xo(r.get("barMaxWidth"),f),R=Xo(r.get("barMinWidth")||(Pve(r)?.5:1),f),I=r.get("barGap"),z=r.get("barCategoryGap");t.push({bandWidth:f,barWidth:k,barMaxWidth:E,barMinWidth:R,barGap:I,barCategoryGap:z,axisKey:Kte(u),stackId:Yte(r)})}),bFe(t)}function bFe(n){var e={};Te(n,function(r,i){var u=r.axisKey,l=r.bandWidth,f=e[u]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},h=f.stacks;e[u]=f;var g=r.stackId;h[g]||f.autoWidthCount++,h[g]=h[g]||{width:0,maxWidth:0};var y=r.barWidth;y&&!h[g].width&&(h[g].width=y,y=Math.min(f.remainedWidth,y),f.remainedWidth-=y);var b=r.barMaxWidth;b&&(h[g].maxWidth=b);var S=r.barMinWidth;S&&(h[g].minWidth=S);var _=r.barGap;_!=null&&(f.gap=_);var k=r.barCategoryGap;k!=null&&(f.categoryGap=k)});var t={};return Te(e,function(r,i){t[i]={};var u=r.stacks,l=r.bandWidth,f=r.categoryGap;if(f==null){var h=va(u).length;f=Math.max(35-h*4,15)+"%"}var g=Xo(f,l),y=Xo(r.gap,1),b=r.remainedWidth,S=r.autoWidthCount,_=(b-g)/(S+(S-1)*y);_=Math.max(_,0),Te(u,function(I){var z=I.maxWidth,L=I.minWidth;if(I.width){var q=I.width;z&&(q=Math.min(q,z)),L&&(q=Math.max(q,L)),I.width=q,b-=q+y*q,S--}else{var q=_;z&&z<q&&(q=Math.min(z,b)),L&&L>q&&(q=L),q!==_&&(I.width=q,b-=q+y*q,S--)}}),_=(b-g)/(S+(S-1)*y),_=Math.max(_,0);var k=0,E;Te(u,function(I,z){I.width||(I.width=_),E=I,k+=I.width*(1+y)}),E&&(k-=E.width*y);var R=-k/2;Te(u,function(I,z){t[i][z]=t[i][z]||{bandWidth:l,offset:R,width:I.width},R+=I.width*(1+y)})}),t}function xFe(n,e,t){if(n&&e){var r=n[Kte(e)];return r!=null&&t!=null?r[Yte(t)]:r}}function Ove(n,e){var t=Ave(n,e),r=Eve(t);Te(t,function(i){var u=i.getData(),l=i.coordinateSystem,f=l.getBaseAxis(),h=Yte(i),g=r[Kte(f)][h],y=g.offset,b=g.width;u.setLayout({bandWidth:g.bandWidth,offset:y,size:b})})}function Ive(n){return{seriesType:n,plan:Rte(),reset:function(e){if(Rve(e)){var t=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),u=r.getOtherAxis(i),l=t.getDimensionIndex(t.mapDimension(u.dim)),f=t.getDimensionIndex(t.mapDimension(i.dim)),h=e.get("showBackground",!0),g=t.mapDimension(u.dim),y=t.getCalculationInfo("stackResultDimension"),b=Q2(t,g)&&!!t.getCalculationInfo("stackedOnSeries"),S=u.isHorizontal(),_=wFe(i,u),k=Pve(e),E=e.get("barMinHeight")||0,R=y&&t.getDimensionIndex(y),I=t.getLayout("size"),z=t.getLayout("offset");return{progress:function(L,q){for(var X=L.count,Y=k&&Sb(X*3),ae=k&&h&&Sb(X*3),te=k&&Sb(X),ie=r.master.getRect(),le=S?ie.width:ie.height,ce,ne=q.getStore(),Z=0;(ce=L.next())!=null;){var Ce=ne.get(b?R:l,ce),ze=ne.get(f,ce),ke=_,_t=void 0;b&&(_t=+Ce-ne.get(l,ce));var tt=void 0,$=void 0,Ze=void 0,$e=void 0;if(S){var mt=r.dataToPoint([Ce,ze]);if(b){var Qe=r.dataToPoint([_t,ze]);ke=Qe[0]}tt=ke,$=mt[1]+z,Ze=mt[0]-ke,$e=I,Math.abs(Ze)<E&&(Ze=(Ze<0?-1:1)*E)}else{var mt=r.dataToPoint([ze,Ce]);if(b){var Qe=r.dataToPoint([ze,_t]);ke=Qe[1]}tt=mt[0]+z,$=ke,Ze=I,$e=mt[1]-ke,Math.abs($e)<E&&($e=($e<=0?-1:1)*E)}k?(Y[Z]=tt,Y[Z+1]=$,Y[Z+2]=S?Ze:$e,ae&&(ae[Z]=S?ie.x:tt,ae[Z+1]=S?$:ie.y,ae[Z+2]=le),te[ce]=ce):q.setItemLayout(ce,{x:tt,y:$,width:Ze,height:$e}),Z+=3}k&&q.setLayout({largePoints:Y,largeDataIndices:te,largeBackgroundPoints:ae,valueAxisHorizontal:S})}}}}}}function Rve(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function Pve(n){return n.pipelineContext&&n.pipelineContext.large}function wFe(n,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var _Fe=function(n,e,t,r){for(;t<r;){var i=t+r>>>1;n[i][1]<e?t=i+1:r=i}return t},Nve=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return zL(t.value,aue[FBe(E3(this._minLevelUnit))]||aue.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var u=this.getSetting("useUTC"),l=this.getSetting("locale");return VBe(t,r,i,l,u)},e.prototype.getTicks=function(){var t=this._interval,r=this._extent,i=[];if(!t)return i;i.push({value:r[0],level:0});var u=this.getSetting("useUTC"),l=AFe(this._minLevelUnit,this._approxInterval,u,r);return i=i.concat(l),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=$m,r[1]+=$m),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-$m}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){t=t||10;var u=this._extent,l=u[1]-u[0];this._approxInterval=l/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var f=LF.length,h=Math.min(_Fe(LF,this._approxInterval,0,f),f-1);this._interval=LF[h][1],this._minLevelUnit=LF[Math.max(h-1,0)][0]},e.prototype.parse=function(t){return lu(t)?t:+Ap(t)},e.prototype.contain=function(t){return T9(this.parse(t),this._extent)},e.prototype.normalize=function(t){return M9(this.parse(t),this._extent)},e.prototype.scale=function(t){return k9(t,this._extent)},e.type="time",e}(e_),LF=[["second",yte],["minute",bte],["hour",zN],["quarter-day",zN*6],["half-day",zN*12],["day",$m*1.2],["half-week",$m*3.5],["week",$m*7],["month",$m*31],["quarter",$m*95],["half-year",iue/2],["year",iue]];function SFe(n,e,t,r){var i=Ap(e),u=Ap(t),l=function(k){return uue(i,k,r)===uue(u,k,r)},f=function(){return l("year")},h=function(){return f()&&l("month")},g=function(){return h()&&l("day")},y=function(){return g()&&l("hour")},b=function(){return y()&&l("minute")},S=function(){return b()&&l("second")},_=function(){return S()&&l("millisecond")};switch(n){case"year":return f();case"month":return h();case"day":return g();case"hour":return y();case"minute":return b();case"second":return S();case"millisecond":return _()}}function CFe(n,e){return n/=$m,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function TFe(n){var e=30*$m;return n/=e,n>6?6:n>3?3:n>2?2:1}function MFe(n){return n/=zN,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function gse(n,e){return n/=e?bte:yte,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function kFe(n){return Yee(n,!0)}function DFe(n,e,t){var r=new Date(n);switch(E3(e)){case"year":case"month":r[Yme(t)](0);case"day":r[Kme(t)](1);case"hour":r[Jme(t)](0);case"minute":r[Zme(t)](0);case"second":r[Qme(t)](0),r[ege(t)](0)}return r.getTime()}function AFe(n,e,t,r){var i=1e4,u=Gme,l=0;function f(le,ce,ne,Z,Ce,ze,ke){for(var _t=new Date(ce),tt=ce,$=_t[Z]();tt<ne&&tt<=r[1];)ke.push({value:tt}),$+=le,_t[Ce]($),tt=_t.getTime();ke.push({value:tt,notAdd:!0})}function h(le,ce,ne){var Z=[],Ce=!ce.length;if(!SFe(E3(le),r[0],r[1],t)){Ce&&(ce=[{value:DFe(new Date(r[0]),le,t)},{value:r[1]}]);for(var ze=0;ze<ce.length-1;ze++){var ke=ce[ze].value,_t=ce[ze+1].value;if(ke!==_t){var tt=void 0,$=void 0,Ze=void 0,$e=!1;switch(le){case"year":tt=Math.max(1,Math.round(e/$m/365)),$=xte(t),Ze=HBe(t);break;case"half-year":case"quarter":case"month":tt=TFe(e),$=O3(t),Ze=Yme(t);break;case"week":case"half-week":case"day":tt=CFe(e),$=d9(t),Ze=Kme(t),$e=!0;break;case"half-day":case"quarter-day":case"hour":tt=MFe(e),$=aL(t),Ze=Jme(t);break;case"minute":tt=gse(e,!0),$=h9(t),Ze=Zme(t);break;case"second":tt=gse(e,!1),$=p9(t),Ze=Qme(t);break;case"millisecond":tt=kFe(e),$=m9(t),Ze=ege(t);break}f(tt,ke,_t,$,Ze,$e,Z),le==="year"&&ne.length>1&&ze===0&&ne.unshift({value:ne[0].value-tt})}}for(var ze=0;ze<Z.length;ze++)ne.push(Z[ze]);return Z}}for(var g=[],y=[],b=0,S=0,_=0;_<u.length&&l++<i;++_){var k=E3(u[_]);if(zBe(u[_])){h(u[_],g[g.length-1]||[],y);var E=u[_+1]?E3(u[_+1]):null;if(k!==E){if(y.length){S=b,y.sort(function(le,ce){return le.value-ce.value});for(var R=[],I=0;I<y.length;++I){var z=y[I].value;(I===0||y[I-1].value!==z)&&(R.push(y[I]),z>=r[0]&&z<=r[1]&&b++)}var L=(r[1]-r[0])/e;if(b>L*1.5&&S>L/1.5||(g.push(R),b>L||n===u[_]))break}y=[]}}}for(var q=Ls(br(g,function(ce){return Ls(ce,function(ne){return ne.value>=r[0]&&ne.value<=r[1]&&!ne.notAdd})}),function(ce){return ce.length>0}),X=[],Y=q.length-1,_=0;_<q.length;++_)for(var ae=q[_],te=0;te<ae.length;++te)X.push({value:ae[te].value,level:Y-_});X.sort(function(le,ce){return le.value-ce.value});for(var ie=[],_=0;_<X.length;++_)(_===0||X[_].value!==X[_-1].value)&&ie.push(X[_]);return ie}jb.registerClass(Nve);const Lve=Nve;var vse=jb.prototype,HN=e_.prototype,EFe=el,OFe=Math.floor,IFe=Math.ceil,BF=Math.pow,gv=Math.log,Jte=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new e_,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,i=this._extent,u=r.getExtent(),l=HN.getTicks.call(this,t);return br(l,function(f){var h=f.value,g=el(BF(this.base,h));return g=h===i[0]&&this._fixMin?zF(g,u[0]):g,g=h===i[1]&&this._fixMax?zF(g,u[1]):g,{value:g}},this)},e.prototype.setExtent=function(t,r){var i=gv(this.base);t=gv(Math.max(0,t))/i,r=gv(Math.max(0,r))/i,HN.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=vse.getExtent.call(this);r[0]=BF(t,r[0]),r[1]=BF(t,r[1]);var i=this._originalScale,u=i.getExtent();return this._fixMin&&(r[0]=zF(r[0],u[0])),this._fixMax&&(r[1]=zF(r[1],u[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=gv(t[0])/gv(r),t[1]=gv(t[1])/gv(r),vse.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var u=Wpe(i),l=t/i*u;for(l<=.5&&(u*=10);!isNaN(u)&&Math.abs(u)<1&&Math.abs(u)>0;)u*=10;var f=[el(IFe(r[0]/u)*u),el(OFe(r[1]/u)*u)];this._interval=u,this._niceExtent=f}},e.prototype.calcNiceExtent=function(t){HN.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=gv(t)/gv(this.base),T9(t,this._extent)},e.prototype.normalize=function(t){return t=gv(t)/gv(this.base),M9(t,this._extent)},e.prototype.scale=function(t){return t=k9(t,this._extent),BF(this.base,t)},e.type="log",e}(jb),Bve=Jte.prototype;Bve.getMinorTicks=HN.getMinorTicks;Bve.getLabel=HN.getLabel;function zF(n,e){return EFe(n,uy(e))}jb.registerClass(Jte);const RFe=Jte;var PFe=function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var u=this._modelMinRaw=t.get("min",!0);Eo(u)?this._modelMinNum=FF(e,u({min:r[0],max:r[1]})):u!=="dataMin"&&(this._modelMinNum=FF(e,u));var l=this._modelMaxRaw=t.get("max",!0);if(Eo(l)?this._modelMaxNum=FF(e,l({min:r[0],max:r[1]})):l!=="dataMax"&&(this._modelMaxNum=FF(e,l)),i)this._axisDataLen=t.getCategories().length;else{var f=t.get("boundaryGap"),h=sr(f)?f:[f||0,f||0];typeof h[0]=="boolean"||typeof h[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[kv(h[0],1),kv(h[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,u=this._boundaryGapInner,l=e?null:r-t||Math.abs(t),f=this._modelMinRaw==="dataMin"?t:this._modelMinNum,h=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,g=f!=null,y=h!=null;f==null&&(f=e?i?0:NaN:t-u[0]*l),h==null&&(h=e?i?i-1:NaN:r+u[1]*l),(f==null||!isFinite(f))&&(f=NaN),(h==null||!isFinite(h))&&(h=NaN);var b=KN(f)||KN(h)||e&&!i;this._needCrossZero&&(f>0&&h>0&&!g&&(f=0),f<0&&h<0&&!y&&(h=0));var S=this._determinedMin,_=this._determinedMax;return S!=null&&(f=S,g=!0),_!=null&&(h=_,y=!0),{min:f,max:h,minFixed:g,maxFixed:y,isBlank:b}},n.prototype.modifyDataMinMax=function(e,t){this[LFe[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var r=NFe[e];this[r]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),NFe={min:"_determinedMin",max:"_determinedMax"},LFe={min:"_dataMin",max:"_dataMax"};function zve(n,e,t){var r=n.rawExtentInfo;return r||(r=new PFe(n,e,t),n.rawExtentInfo=r,r)}function FF(n,e){return e==null?null:KN(e)?NaN:n.parse(e)}function Fve(n,e){var t=n.type,r=zve(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,u=r.max,l=e.ecModel;if(l&&t==="time"){var f=Ave("bar",l),h=!1;if(Te(f,function(b){h=h||b.getBaseAxis()===e.axis}),h){var g=Eve(f),y=BFe(i,u,e,g);i=y.min,u=y.max}}return{extent:[i,u],fixMin:r.minFixed,fixMax:r.maxFixed}}function BFe(n,e,t,r){var i=t.axis.getExtent(),u=i[1]-i[0],l=xFe(r,t.axis);if(l===void 0)return{min:n,max:e};var f=1/0;Te(l,function(_){f=Math.min(_.offset,f)});var h=-1/0;Te(l,function(_){h=Math.max(_.offset+_.width,h)}),f=Math.abs(f),h=Math.abs(h);var g=f+h,y=e-n,b=1-(f+h)/u,S=y/b-y;return e+=S*(h/g),n-=S*(f/g),{min:n,max:e}}function Z3(n,e){var t=e,r=Fve(n,t),i=r.extent,u=t.get("splitNumber");n instanceof RFe&&(n.base=t.get("logBase"));var l=n.type,f=t.get("interval"),h=l==="interval"||l==="time";n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:u,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:h?t.get("minInterval"):null,maxInterval:h?t.get("maxInterval"):null}),f!=null&&n.setInterval&&n.setInterval(f)}function D9(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new Xte({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Lve({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(jb.getClass(e)||e_)}}function zFe(n){var e=n.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function HL(n){var e=n.getLabelModel().get("formatter"),t=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(r){return function(i,u){return n.scale.getFormattedLabel(i,u,r)}}(e):Lr(e)?function(r){return function(i){var u=n.scale.getLabel(i),l=r.replace("{value}",u??"");return l}}(e):Eo(e)?function(r){return function(i,u){return t!=null&&(u=i.value-t),r(Zte(n,i),u,i.level!=null?{level:i.level}:null)}}(e):function(r){return n.scale.getLabel(r)}}function Zte(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function FFe(n){var e=n.model,t=n.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,i,u=t.getExtent();t instanceof Xte?i=t.count():(r=t.getTicks(),i=r.length);var l=n.getLabelModel(),f=HL(n),h,g=1;i>40&&(g=Math.ceil(i/40));for(var y=0;y<i;y+=g){var b=r?r[y]:{value:u[0]+y},S=f(b,y),_=l.getTextRect(S),k=VFe(_,l.get("rotate")||0);h?h.union(k):h=k}return h}}function VFe(n,e){var t=e*Math.PI/180,r=n.width,i=n.height,u=r*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),l=r*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),f=new vi(n.x,n.y,u,l);return f}function Qte(n){var e=n.get("interval");return e??"auto"}function Vve(n){return n.type==="category"&&Qte(n.getLabelModel())===0}function bH(n,e){var t={};return Te(n.mapDimensionsAll(e),function(r){t[Sve(n,r)]=!0}),va(t)}function HFe(n,e,t){e&&Te(bH(e,t),function(r){var i=e.getApproximateExtent(r);i[0]<n[0]&&(n[0]=i[0]),i[1]>n[1]&&(n[1]=i[1])})}var jL=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n}();function jFe(n){return VL(null,n)}var WFe={isDimensionStacked:Q2,enableDataStack:_ve,getStackedDimension:Sve};function UFe(n,e){var t=e;e instanceof xs||(t=new xs(e));var r=D9(t);return r.setExtent(n[0],n[1]),Z3(r,t),r}function qFe(n){ff(n,jL)}function $Fe(n,e){return e=e||{},wl(n,null,null,e.state!=="normal")}const GFe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:Q7e,createList:jFe,createScale:UFe,createSymbol:lf,createTextStyle:$Fe,dataStack:WFe,enableHoverEmphasis:$2,getECData:Ai,getLayoutRect:Pd,mixinAxisModelCommonMethods:qFe},Symbol.toStringTag,{value:"Module"}));var yse=[],XFe={registerPreprocessor:jte,registerProcessor:Wte,registerPostInit:fve,registerPostUpdate:dve,registerUpdateLifecycle:S9,registerAction:Ev,registerCoordinateSystem:hve,registerLayout:pve,registerVisual:u_,registerTransform:gve,registerLoading:qte,registerMap:mve,registerImpl:d7e,PRIORITY:nve,ComponentModel:Vi,ComponentView:zs,SeriesModel:Dh,ChartView:sf,registerComponentModel:function(n){Vi.registerClass(n)},registerComponentView:function(n){zs.registerClass(n)},registerSeriesModel:function(n){Dh.registerClass(n)},registerChartView:function(n){sf.registerClass(n)},registerSubTypeDefaulter:function(n,e){Vi.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){Fpe(n,e)}};function Rc(n){if(sr(n)){Te(n,function(e){Rc(e)});return}Di(yse,n)>=0||(yse.push(n),Eo(n)&&(n={install:n}),n.install(XFe))}var YFe=1e-8;function bse(n,e){return Math.abs(n-e)<YFe}function xse(n,e,t){var r=0,i=n[0];if(!i)return!1;for(var u=1;u<n.length;u++){var l=n[u];r+=xb(i[0],i[1],l[0],l[1],e,t),i=l}var f=n[0];return(!bse(i[0],f[0])||!bse(i[1],f[1]))&&(r+=xb(i[0],i[1],f[0],f[1],e,t)),r!==0}var KFe=[];function mJ(n,e){for(var t=0;t<n.length;t++)Ic(n[t],n[t],e)}function wse(n,e,t,r){for(var i=0;i<n.length;i++){var u=n[i];r&&(u=r.project(u)),u&&isFinite(u[0])&&isFinite(u[1])&&(wb(e,e,u),_b(t,t,u))}}function JFe(n){for(var e=0,t=0,r=0,i=n.length,u=n[i-1][0],l=n[i-1][1],f=0;f<i;f++){var h=n[f][0],g=n[f][1],y=u*g-h*l;e+=y,t+=(u+h)*y,r+=(l+g)*y,u=h,l=g}return e?[t/e/3,r/e/3,e]:[n[0][0]||0,n[0][1]||0]}var Hve=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),_se=function(){function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return n}(),Sse=function(){function n(e){this.type="linestring",this.points=e}return n}(),jve=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,t)||this;return u.type="geoJSON",u.geometries=r,u._center=i&&[i[0],i[1]],u}return e.prototype.calcCenter=function(){for(var t=this.geometries,r,i=0,u=0;u<t.length;u++){var l=t[u],f=l.exterior,h=f&&f.length;h>i&&(r=l,i=h)}if(r)return JFe(r.exterior);var g=this.getBoundingRect();return[g.x+g.width/2,g.y+g.height/2]},e.prototype.getBoundingRect=function(t){var r=this._rect;if(r&&!t)return r;var i=[1/0,1/0],u=[-1/0,-1/0],l=this.geometries;return Te(l,function(f){f.type==="polygon"?wse(f.exterior,i,u,t):Te(f.points,function(h){wse(h,i,u,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(u[0])&&isFinite(u[1])||(i[0]=i[1]=u[0]=u[1]=0),r=new vi(i[0],i[1],u[0]-i[0],u[1]-i[1]),t||(this._rect=r),r},e.prototype.contain=function(t){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(t[0],t[1]))return!1;e:for(var u=0,l=i.length;u<l;u++){var f=i[u];if(f.type==="polygon"){var h=f.exterior,g=f.interiors;if(xse(h,t[0],t[1])){for(var y=0;y<(g?g.length:0);y++)if(xse(g[y],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,r,i,u){var l=this.getBoundingRect(),f=l.width/l.height;i?u||(u=i/f):i=f*u;for(var h=new vi(t,r,i,u),g=l.calculateTransform(h),y=this.geometries,b=0;b<y.length;b++){var S=y[b];S.type==="polygon"?(mJ(S.exterior,g),Te(S.interiors,function(_){mJ(_,g)})):Te(S.points,function(_){mJ(_,g)})}l=this._rect,l.copy(h),this._center=[l.x+l.width/2,l.y+l.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var r=new e(t,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},e}(Hve),ZFe=function(n){Tn(e,n);function e(t,r){var i=n.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,r=t.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],u=IL(KFe),l=t;l&&!l.isGeoSVGGraphicRoot;)cy(u,l.getLocalTransform(),u),l=l.parent;return c5(u,u),Ic(i,i,u),i},e}(Hve);function QFe(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;t==null&&(t=1024);var r=e.features;return Te(r,function(i){var u=i.geometry,l=u.encodeOffsets,f=u.coordinates;if(l)switch(u.type){case"LineString":u.coordinates=Wve(f,l,t);break;case"Polygon":gJ(f,l,t);break;case"MultiLineString":gJ(f,l,t);break;case"MultiPolygon":Te(f,function(h,g){return gJ(h,l[g],t)})}}),e.UTF8Encoding=!1,e}function gJ(n,e,t){for(var r=0;r<n.length;r++)n[r]=Wve(n[r],e[r],t)}function Wve(n,e,t){for(var r=[],i=e[0],u=e[1],l=0;l<n.length;l+=2){var f=n.charCodeAt(l)-64,h=n.charCodeAt(l+1)-64;f=f>>1^-(f&1),h=h>>1^-(h&1),f+=i,h+=u,i=f,u=h,r.push([f/t,h/t])}return r}function vQ(n,e){return n=QFe(n),br(Ls(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties,i=t.geometry,u=[];switch(i.type){case"Polygon":var l=i.coordinates;u.push(new _se(l[0],l.slice(1)));break;case"MultiPolygon":Te(i.coordinates,function(h){h[0]&&u.push(new _se(h[0],h.slice(1)))});break;case"LineString":u.push(new Sse([i.coordinates]));break;case"MultiLineString":u.push(new Sse(i.coordinates))}var f=new jve(r[e||"name"],u,r.cp);return f.properties=r,f})}const eVe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:JNe,asc:ay,getPercentWithPrecision:YNe,getPixelPrecision:Gee,getPrecision:uy,getPrecisionSafe:Hpe,isNumeric:Kee,isRadianAroundZero:QN,linearMap:rs,nice:Yee,numericToNumber:eL,parseDate:Ap,quantile:QNe,quantity:Wpe,quantityExponent:KH,reformIntervals:UZ,remRadian:Xee,round:el},Symbol.toStringTag,{value:"Module"})),tVe=Object.freeze(Object.defineProperty({__proto__:null,format:zL,parse:Ap},Symbol.toStringTag,{value:"Module"})),nVe=Object.freeze(Object.defineProperty({__proto__:null,Arc:o9,BezierCurve:ate,BoundingRect:vi,Circle:Dv,CompoundPath:ute,Ellipse:r9,Group:hi,Image:Op,IncrementalDisplayable:zme,Line:Id,LinearGradient:BL,Polygon:_y,Polyline:eg,RadialGradient:ste,Rect:ya,Ring:LL,Sector:wy,Text:ba,clipPointsByRect:pte,clipRectByRect:jme,createIcon:d5,extendPath:Vme,extendShape:Fme,getShapeClass:fte,getTransform:G2,initProps:Rd,makeImage:dte,makePath:i9,mergePath:qm,registerShape:tg,resizePath:hte,updateProps:tl},Symbol.toStringTag,{value:"Module"})),rVe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:wte,capitalFirst:qBe,encodeHTML:bh,formatTime:UBe,formatTpl:Ste,getTextRect:jBe,getTooltipMarker:tge,normalizeCssArray:m5,toCamelCase:_te,truncateText:eme},Symbol.toStringTag,{value:"Module"})),oVe=Object.freeze(Object.defineProperty({__proto__:null,bind:Wr,clone:vo,curry:ji,defaults:To,each:Te,extend:Gn,filter:Ls,indexOf:Di,inherits:Lee,isArray:sr,isFunction:Eo,isObject:no,isString:Lr,map:br,merge:Ho,reduce:Km},Symbol.toStringTag,{value:"Module"}));var dL=cu();function iVe(n){return n.type==="category"?uVe(n):lVe(n)}function aVe(n,e){return n.type==="category"?sVe(n,e):{ticks:br(n.scale.getTicks(),function(t){return t.value})}}function uVe(n){var e=n.getLabelModel(),t=Uve(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function Uve(n,e){var t=qve(n,"labels"),r=Qte(e),i=$ve(t,r);if(i)return i;var u,l;return Eo(r)?u=Yve(n,r):(l=r==="auto"?cVe(n):r,u=Xve(n,l)),Gve(t,r,{labels:u,labelCategoryInterval:l})}function sVe(n,e){var t=qve(n,"ticks"),r=Qte(e),i=$ve(t,r);if(i)return i;var u,l;if((!e.get("show")||n.scale.isBlank())&&(u=[]),Eo(r))u=Yve(n,r,!0);else if(r==="auto"){var f=Uve(n,n.getLabelModel());l=f.labelCategoryInterval,u=br(f.labels,function(h){return h.tickValue})}else l=r,u=Xve(n,l,!0);return Gve(t,r,{ticks:u,tickCategoryInterval:l})}function lVe(n){var e=n.scale.getTicks(),t=HL(n);return{labels:br(e,function(r,i){return{level:r.level,formattedLabel:t(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}function qve(n,e){return dL(n)[e]||(dL(n)[e]=[])}function $ve(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function Gve(n,e,t){return n.push({key:e,value:t}),t}function cVe(n){var e=dL(n).autoInterval;return e??(dL(n).autoInterval=n.calculateCategoryInterval())}function fVe(n){var e=dVe(n),t=HL(n),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=n.scale,u=i.getExtent(),l=i.count();if(u[1]-u[0]<1)return 0;var f=1;l>40&&(f=Math.max(1,Math.floor(l/40)));for(var h=u[0],g=n.dataToCoord(h+1)-n.dataToCoord(h),y=Math.abs(g*Math.cos(r)),b=Math.abs(g*Math.sin(r)),S=0,_=0;h<=u[1];h+=f){var k=0,E=0,R=PL(t({value:h}),e.font,"center","top");k=R.width*1.3,E=R.height*1.3,S=Math.max(S,k,7),_=Math.max(_,E,7)}var I=S/y,z=_/b;isNaN(I)&&(I=1/0),isNaN(z)&&(z=1/0);var L=Math.max(0,Math.floor(Math.min(I,z))),q=dL(n.model),X=n.getExtent(),Y=q.lastAutoInterval,ae=q.lastTickCount;return Y!=null&&ae!=null&&Math.abs(Y-L)<=1&&Math.abs(ae-l)<=1&&Y>L&&q.axisExtent0===X[0]&&q.axisExtent1===X[1]?L=Y:(q.lastTickCount=l,q.lastAutoInterval=L,q.axisExtent0=X[0],q.axisExtent1=X[1]),L}function dVe(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Xve(n,e,t){var r=HL(n),i=n.scale,u=i.getExtent(),l=n.getLabelModel(),f=[],h=Math.max((e||0)+1,1),g=u[0],y=i.count();g!==0&&h>1&&y/h>2&&(g=Math.round(Math.ceil(g/h)*h));var b=Vve(n),S=l.get("showMinLabel")||b,_=l.get("showMaxLabel")||b;S&&g!==u[0]&&E(u[0]);for(var k=g;k<=u[1];k+=h)E(k);_&&k-h!==u[1]&&E(u[1]);function E(R){var I={value:R};f.push(t?R:{formattedLabel:r(I),rawLabel:i.getLabel(I),tickValue:R})}return f}function Yve(n,e,t){var r=n.scale,i=HL(n),u=[];return Te(r.getTicks(),function(l){var f=r.getLabel(l),h=l.value;e(l.value,f)&&u.push(t?h:{formattedLabel:i(l),rawLabel:f,tickValue:h})}),u}var Cse=[0,1],hVe=function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return Gee(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),Tse(r,i.count())),rs(e,Cse,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),Tse(r,i.count()));var u=rs(e,r,Cse,t);return this.scale.scale(u)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=aVe(this,t),i=r.ticks,u=br(i,function(f){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(f):f),tickValue:f}},this),l=t.get("alignWithLabel");return pVe(this,u,l,e.clamp),u},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=br(r,function(u){return br(u,function(l){return{coord:this.dataToCoord(l),tickValue:l}},this)},this);return i},n.prototype.getViewLabels=function(){return iVe(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return fVe(this)},n}();function Tse(n,e){var t=n[1]-n[0],r=e,i=t/r/2;n[0]+=i,n[1]-=i}function pVe(n,e,t,r){var i=e.length;if(!n.onBand||t||!i)return;var u=n.getExtent(),l,f;if(i===1)e[0].coord=u[0],l=e[1]={coord:u[1]};else{var h=e[i-1].tickValue-e[0].tickValue,g=(e[i-1].coord-e[0].coord)/h;Te(e,function(_){_.coord-=g/2});var y=n.scale.getExtent();f=1+y[1]-e[i-1].tickValue,l={coord:e[i-1].coord+g*f},e.push(l)}var b=u[0]>u[1];S(e[0].coord,u[0])&&(r?e[0].coord=u[0]:e.shift()),r&&S(u[0],e[0].coord)&&e.unshift({coord:u[0]}),S(u[1],l.coord)&&(r?l.coord=u[1]:e.pop()),r&&S(l.coord,u[1])&&e.push({coord:u[1]});function S(_,k){return _=el(_),k=el(k),b?_>k:_<k}}const Ov=hVe;function mVe(n){var e=Vi.extend(n);return Vi.registerClass(e),e}function gVe(n){var e=zs.extend(n);return zs.registerClass(e),e}function vVe(n){var e=Dh.extend(n);return Dh.registerClass(e),e}function yVe(n){var e=sf.extend(n);return sf.registerClass(e),e}function Kve(n,e,t,r,i,u,l,f){var h=i-n,g=u-e,y=t-n,b=r-e,S=Math.sqrt(y*y+b*b);y/=S,b/=S;var _=h*y+g*b,k=_/S;f&&(k=Math.min(Math.max(k,0),1)),k*=S;var E=l[0]=n+k*y,R=l[1]=e+k*b;return Math.sqrt((E-i)*(E-i)+(R-u)*(R-u))}var B2=new di,Qs=new di,rf=new di,z2=new di,iy=new di,xH=[],Ed=new di;function bVe(n,e){if(e<=180&&e>0){e=e/180*Math.PI,B2.fromArray(n[0]),Qs.fromArray(n[1]),rf.fromArray(n[2]),di.sub(z2,B2,Qs),di.sub(iy,rf,Qs);var t=z2.len(),r=iy.len();if(!(t<.001||r<.001)){z2.scale(1/t),iy.scale(1/r);var i=z2.dot(iy),u=Math.cos(e);if(u<i){var l=Kve(Qs.x,Qs.y,rf.x,rf.y,B2.x,B2.y,xH,!1);Ed.fromArray(xH),Ed.scaleAndAdd(iy,l/Math.tan(Math.PI-e));var f=rf.x!==Qs.x?(Ed.x-Qs.x)/(rf.x-Qs.x):(Ed.y-Qs.y)/(rf.y-Qs.y);if(isNaN(f))return;f<0?di.copy(Ed,Qs):f>1&&di.copy(Ed,rf),Ed.toArray(n[1])}}}}function xVe(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,B2.fromArray(n[0]),Qs.fromArray(n[1]),rf.fromArray(n[2]),di.sub(z2,Qs,B2),di.sub(iy,rf,Qs);var r=z2.len(),i=iy.len();if(!(r<.001||i<.001)){z2.scale(1/r),iy.scale(1/i);var u=z2.dot(e),l=Math.cos(t);if(u<l){var f=Kve(Qs.x,Qs.y,rf.x,rf.y,B2.x,B2.y,xH,!1);Ed.fromArray(xH);var h=Math.PI/2,g=Math.acos(iy.dot(e)),y=h+g-t;if(y>=h)di.copy(Ed,rf);else{Ed.scaleAndAdd(iy,f/Math.tan(Math.PI/2-y));var b=rf.x!==Qs.x?(Ed.x-Qs.x)/(rf.x-Qs.x):(Ed.y-Qs.y)/(rf.y-Qs.y);if(isNaN(b))return;b<0?di.copy(Ed,Qs):b>1&&di.copy(Ed,rf)}Ed.toArray(n[1])}}}}function Mse(n,e,t,r){var i=t==="normal",u=i?n:n.ensureState(t);u.ignore=e;var l=r.get("smooth");l&&l===!0&&(l=.3),u.shape=u.shape||{},l>0&&(u.shape.smooth=l);var f=r.getModel("lineStyle").getLineStyle();i?n.useStyle(f):u.style=f}function wVe(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=XV(r[0],r[1]),u=XV(r[1],r[2]);if(!i||!u){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var l=Math.min(i,u)*t,f=fV([],r[1],r[0],l/i),h=fV([],r[1],r[2],l/u),g=fV([],f,h,.5);n.bezierCurveTo(f[0],f[1],f[0],f[1],g[0],g[1]),n.bezierCurveTo(h[0],h[1],h[0],h[1],r[2][0],r[2][1])}else for(var y=1;y<r.length;y++)n.lineTo(r[y][0],r[y][1])}function _Ve(n,e,t){var r=n.getTextGuideLine(),i=n.getTextContent();if(!i){r&&n.removeTextGuideLine();return}for(var u=e.normal,l=u.get("show"),f=i.ignore,h=0;h<rH.length;h++){var g=rH[h],y=e[g],b=g==="normal";if(y){var S=y.get("show"),_=b?f:Xi(i.states[g]&&i.states[g].ignore,f);if(_||!Xi(S,l)){var k=b?r:r&&r.states[g];k&&(k.ignore=!0);continue}r||(r=new eg,n.setTextGuideLine(r),!b&&(f||!l)&&Mse(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),Mse(r,!1,g,y)}}if(r){To(r.style,t),r.style.fill=null;var E=u.get("showAbove"),R=n.textGuideLineConfig=n.textGuideLineConfig||{};R.showAbove=E||!1,r.buildPath=wVe}}function SVe(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},r=0;r<Zm.length;r++){var i=Zm[r];t[i]=n.getModel([i,e])}return t}function CVe(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];if(!r.defaultAttr.ignore){var i=r.label,u=i.getComputedTransform(),l=i.getBoundingRect(),f=!u||u[1]<1e-5&&u[2]<1e-5,h=i.style.margin||0,g=l.clone();g.applyTransform(u),g.x-=h/2,g.y-=h/2,g.width+=h,g.height+=h;var y=f?new oH(l,u):null;e.push({label:i,labelLine:r.labelLine,rect:g,localRect:l,obb:y,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:f,transform:u})}}return e}function TVe(n,e,t,r,i,u){var l=n.length;if(l<2)return;n.sort(function(te,ie){return te.rect[e]-ie.rect[e]});for(var f=0,h,g=!1,y=0,b=0;b<l;b++){var S=n[b],_=S.rect;h=_[e]-f,h<0&&(_[e]-=h,S.label[e]-=h,g=!0);var k=Math.max(-h,0);y+=k,f=_[e]+_[t]}y>0&&u&&X(-y/l,0,l);var E=n[0],R=n[l-1],I,z;L(),I<0&&Y(-I,.8),z<0&&Y(z,.8),L(),q(I,z,1),q(z,I,-1),L(),I<0&&ae(-I),z<0&&ae(z);function L(){I=E.rect[e]-r,z=i-R.rect[e]-R.rect[t]}function q(te,ie,le){if(te<0){var ce=Math.min(ie,-te);if(ce>0){X(ce*le,0,l);var ne=ce+te;ne<0&&Y(-ne*le,1)}else Y(-te*le,1)}}function X(te,ie,le){te!==0&&(g=!0);for(var ce=ie;ce<le;ce++){var ne=n[ce],Z=ne.rect;Z[e]+=te,ne.label[e]+=te}}function Y(te,ie){for(var le=[],ce=0,ne=1;ne<l;ne++){var Z=n[ne-1].rect,Ce=Math.max(n[ne].rect[e]-Z[e]-Z[t],0);le.push(Ce),ce+=Ce}if(ce){var ze=Math.min(Math.abs(te)/ce,ie);if(te>0)for(var ne=0;ne<l-1;ne++){var ke=le[ne]*ze;X(ke,0,ne+1)}else for(var ne=l-1;ne>0;ne--){var ke=le[ne-1]*ze;X(-ke,ne,l)}}}function ae(te){var ie=te<0?-1:1;te=Math.abs(te);for(var le=Math.ceil(te/(l-1)),ce=0;ce<l-1;ce++)if(ie>0?X(le,0,ce+1):X(-le,l-ce-1,l),te-=le,te<=0)return}return g}function MVe(n,e,t,r){return TVe(n,"y","height",e,t,r)}function kVe(n){var e=[];n.sort(function(E,R){return R.priority-E.priority});var t=new vi(0,0,0,0);function r(E){if(!E.ignore){var R=E.ensureState("emphasis");R.ignore==null&&(R.ignore=!1)}E.ignore=!0}for(var i=0;i<n.length;i++){var u=n[i],l=u.axisAligned,f=u.localRect,h=u.transform,g=u.label,y=u.labelLine;t.copy(u.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var b=u.obb,S=!1,_=0;_<e.length;_++){var k=e[_];if(t.intersect(k.rect)){if(l&&k.axisAligned){S=!0;break}if(k.obb||(k.obb=new oH(k.localRect,k.transform)),b||(b=new oH(f,h)),b.intersect(k.obb)){S=!0;break}}}S?(r(g),y&&r(y)):(g.attr("ignore",u.defaultAttr.ignore),y&&y.attr("ignore",u.defaultAttr.labelGuideIgnore),e.push(u))}}const kse=Object.freeze(Object.defineProperty({__proto__:null,Axis:Ov,ChartView:sf,ComponentModel:Vi,ComponentView:zs,List:C9,Model:xs,PRIORITY:nve,SeriesModel:Dh,color:dNe,connect:I7e,dataTool:F7e,dependencies:p7e,disConnect:R7e,disconnect:cve,dispose:P7e,env:Ni,extendChartView:yVe,extendComponentModel:mVe,extendComponentView:gVe,extendSeriesModel:vVe,format:rVe,getCoordinateSystemDimensions:L7e,getInstanceByDom:Vte,getInstanceById:N7e,getMap:z7e,graphic:nVe,helper:GFe,init:O7e,innerDrawElementOnCanvas:Lte,matrix:LPe,number:eVe,parseGeoJSON:vQ,parseGeoJson:vQ,registerAction:Ev,registerCoordinateSystem:hve,registerLayout:pve,registerLoading:qte,registerLocale:vte,registerMap:mve,registerPostInit:fve,registerPostUpdate:dve,registerPreprocessor:jte,registerProcessor:Wte,registerTheme:Hte,registerTransform:gve,registerUpdateLifecycle:S9,registerVisual:u_,setCanvasCreator:B7e,setPlatformAPI:npe,throttle:x9,time:tVe,use:Rc,util:oVe,vector:bPe,version:h7e,zrUtil:cPe,zrender:GNe},Symbol.toStringTag,{value:"Module"}));var DVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return VL(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new hi,i=lf("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(i),i.setStyle(t.lineStyle);var u=this.getData().getVisual("symbol"),l=this.getData().getVisual("symbolRotate"),f=u==="none"?"circle":u,h=t.itemHeight*.8,g=lf(f,(t.itemWidth-h)/2,(t.itemHeight-h)/2,h,h,t.itemStyle.fill);r.add(g),g.setStyle(t.itemStyle);var y=t.iconRotate==="inherit"?l:t.iconRotate||0;return g.rotation=y*Math.PI/180,g.setOrigin([t.itemWidth/2,t.itemHeight/2]),f.indexOf("empty")>-1&&(g.style.stroke=g.style.fill,g.style.fill="#fff",g.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Dh);const AVe=DVe;function A9(n,e){var t=n.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var i=J3(n,e,t[0]);return i!=null?i+"":null}else if(r){for(var u=[],l=0;l<t.length;l++)u.push(J3(n,e,t[l]));return u.join(" ")}}function Jve(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!sr(e))return e+"";for(var r=[],i=0;i<t.length;i++){var u=n.getDimensionIndex(t[i]);u>=0&&r.push(e[u])}return r.join(" ")}var EVe=function(n){Tn(e,n);function e(t,r,i,u){var l=n.call(this)||this;return l.updateData(t,r,i,u),l}return e.prototype._createSymbol=function(t,r,i,u,l){this.removeAll();var f=lf(t,-1,-1,2,2,null,l);f.attr({z2:100,culling:!0,scaleX:u[0]/2,scaleY:u[1]/2}),f.drift=OVe,this._symbolType=t,this.add(f)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){X3(this.childAt(0))},e.prototype.downplay=function(){Y3(this.childAt(0))},e.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},e.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},e.prototype.updateData=function(t,r,i,u){this.silent=!1;var l=t.getItemVisual(r,"symbol")||"circle",f=t.hostModel,h=e.getSymbolSize(t,r),g=l!==this._symbolType,y=u&&u.disableAnimation;if(g){var b=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(l,t,r,h,b)}else{var S=this.childAt(0);S.silent=!1;var _={scaleX:h[0]/2,scaleY:h[1]/2};y?S.attr(_):tl(S,_,f,r),rL(S)}if(this._updateCommon(t,r,h,i,u),g){var S=this.childAt(0);if(!y){var _={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:S.style.opacity}};S.scaleX=S.scaleY=0,S.style.opacity=0,Rd(S,_,f,r)}}y&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,i,u,l){var f=this.childAt(0),h=t.hostModel,g,y,b,S,_,k,E,R,I;if(u&&(g=u.emphasisItemStyle,y=u.blurItemStyle,b=u.selectItemStyle,S=u.focus,_=u.blurScope,E=u.labelStatesModels,R=u.hoverScale,I=u.cursorStyle,k=u.emphasisDisabled),!u||t.hasItemOption){var z=u&&u.itemModel?u.itemModel:t.getItemModel(r),L=z.getModel("emphasis");g=L.getModel("itemStyle").getItemStyle(),b=z.getModel(["select","itemStyle"]).getItemStyle(),y=z.getModel(["blur","itemStyle"]).getItemStyle(),S=L.get("focus"),_=L.get("blurScope"),k=L.get("disabled"),E=Hb(z),R=L.getShallow("scale"),I=z.getShallow("cursor")}var q=t.getItemVisual(r,"symbolRotate");f.attr("rotation",(q||0)*Math.PI/180||0);var X=w9(t.getItemVisual(r,"symbolOffset"),i);X&&(f.x=X[0],f.y=X[1]),I&&f.attr("cursor",I);var Y=t.getItemVisual(r,"style"),ae=Y.fill;if(f instanceof Op){var te=f.style;f.useStyle(Gn({image:te.image,x:te.x,y:te.y,width:te.width,height:te.height},Y))}else f.__isEmptyBrush?f.useStyle(Gn({},Y)):f.useStyle(Y),f.style.decal=null,f.setColor(ae,l&&l.symbolInnerColor),f.style.strokeNoScale=!0;var ie=t.getItemVisual(r,"liftZ"),le=this._z2;ie!=null?le==null&&(this._z2=f.z2,f.z2+=ie):le!=null&&(f.z2=le,this._z2=null);var ce=l&&l.useNameLabel;Vb(f,E,{labelFetcher:h,labelDataIndex:r,defaultText:ne,inheritColor:ae,defaultOpacity:Y.opacity});function ne(ze){return ce?t.getName(ze):A9(t,ze)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var Z=f.ensureState("emphasis");Z.style=g,f.ensureState("select").style=b,f.ensureState("blur").style=y;var Ce=R==null||R===!0?Math.max(1.1,3/this._sizeY):isFinite(R)&&R>0?+R:1;Z.scaleX=this._sizeX*Ce,Z.scaleY=this._sizeY*Ce,this.setSymbolScale(1),J2(this,S,_,k)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,i){var u=this.childAt(0),l=Ai(this).dataIndex,f=i&&i.animation;if(this.silent=u.silent=!0,i&&i.fadeLabel){var h=u.getTextContent();h&&nL(h,{style:{opacity:0}},r,{dataIndex:l,removeOpt:f,cb:function(){u.removeTextContent()}})}else u.removeTextContent();nL(u,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:l,cb:t,removeOpt:f})},e.getSymbolSize=function(t,r){return Nte(t.getItemVisual(r,"symbolSize"))},e}(hi);function OVe(n,e){this.parent.drift(n,e)}const ene=EVe;function vJ(n,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function Dse(n){return n!=null&&!no(n)&&(n={isIgnore:n}),n||{}}function Ase(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:Hb(e),cursorStyle:e.get("cursor")}}var IVe=function(){function n(e){this.group=new hi,this._SymbolCtor=e||ene}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=Dse(t);var r=this.group,i=e.hostModel,u=this._data,l=this._SymbolCtor,f=t.disableAnimation,h=Ase(e),g={disableAnimation:f},y=t.getSymbolPoint||function(b){return e.getItemLayout(b)};u||r.removeAll(),e.diff(u).add(function(b){var S=y(b);if(vJ(e,S,b,t)){var _=new l(e,b,h,g);_.setPosition(S),e.setItemGraphicEl(b,_),r.add(_)}}).update(function(b,S){var _=u.getItemGraphicEl(S),k=y(b);if(!vJ(e,k,b,t)){r.remove(_);return}var E=e.getItemVisual(b,"symbol")||"circle",R=_&&_.getSymbolType&&_.getSymbolType();if(!_||R&&R!==E)r.remove(_),_=new l(e,b,h,g),_.setPosition(k);else{_.updateData(e,b,h,g);var I={x:k[0],y:k[1]};f?_.attr(I):tl(_,I,i)}r.add(_),e.setItemGraphicEl(b,_)}).remove(function(b){var S=u.getItemGraphicEl(b);S&&S.fadeOut(function(){r.remove(S)},i)}).execute(),this._getSymbolPoint=y,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,i){var u=e._getSymbolPoint(i);r.setPosition(u),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Ase(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=Dse(r);function i(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var l=t.getItemLayout(u);if(vJ(t,l,u,r)){var f=new this._SymbolCtor(t,u,this._seriesScope);f.traverse(i),f.setPosition(l),this.group.add(f),t.setItemGraphicEl(u,f),this._progressiveEls.push(f)}}},n.prototype.eachRendered=function(e){s9(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},r.hostModel)}):t.removeAll()},n}();const Zve=IVe;function Qve(n,e,t){var r=n.getBaseAxis(),i=n.getOtherAxis(r),u=RVe(i,t),l=r.dim,f=i.dim,h=e.mapDimension(f),g=e.mapDimension(l),y=f==="x"||f==="radius"?1:0,b=br(n.dimensions,function(k){return e.mapDimension(k)}),S=!1,_=e.getCalculationInfo("stackResultDimension");return Q2(e,b[0])&&(S=!0,b[0]=_),Q2(e,b[1])&&(S=!0,b[1]=_),{dataDimsForPoint:b,valueStart:u,valueAxisDim:f,baseAxisDim:l,stacked:!!S,valueDim:h,baseDim:g,baseDataOffset:y,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function RVe(n,e){var t=0,r=n.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:lu(e)&&!isNaN(e)?t=e:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function e0e(n,e,t,r){var i=NaN;n.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=n.valueStart);var u=n.baseDataOffset,l=[];return l[u]=t.get(n.baseDim,r),l[1-u]=i,e.dataToPoint(l)}function PVe(n,e){var t=[];return e.diff(n).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,i){t.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function NVe(n,e,t,r,i,u,l,f){for(var h=PVe(n,e),g=[],y=[],b=[],S=[],_=[],k=[],E=[],R=Qve(i,e,l),I=n.getLayout("points")||[],z=e.getLayout("points")||[],L=0;L<h.length;L++){var q=h[L],X=!0,Y=void 0,ae=void 0;switch(q.cmd){case"=":Y=q.idx*2,ae=q.idx1*2;var te=I[Y],ie=I[Y+1],le=z[ae],ce=z[ae+1];(isNaN(te)||isNaN(ie))&&(te=le,ie=ce),g.push(te,ie),y.push(le,ce),b.push(t[Y],t[Y+1]),S.push(r[ae],r[ae+1]),E.push(e.getRawIndex(q.idx1));break;case"+":var ne=q.idx,Z=R.dataDimsForPoint,Ce=i.dataToPoint([e.get(Z[0],ne),e.get(Z[1],ne)]);ae=ne*2,g.push(Ce[0],Ce[1]),y.push(z[ae],z[ae+1]);var ze=e0e(R,i,e,ne);b.push(ze[0],ze[1]),S.push(r[ae],r[ae+1]),E.push(e.getRawIndex(ne));break;case"-":X=!1}X&&(_.push(q),k.push(k.length))}k.sort(function(Ot,Nt){return E[Ot]-E[Nt]});for(var ke=g.length,_t=Sb(ke),tt=Sb(ke),$=Sb(ke),Ze=Sb(ke),$e=[],L=0;L<k.length;L++){var mt=k[L],Qe=L*2,Et=mt*2;_t[Qe]=g[Et],_t[Qe+1]=g[Et+1],tt[Qe]=y[Et],tt[Qe+1]=y[Et+1],$[Qe]=b[Et],$[Qe+1]=b[Et+1],Ze[Qe]=S[Et],Ze[Qe+1]=S[Et+1],$e[L]=_[mt]}return{current:_t,next:tt,stackedOnCurrent:$,stackedOnNext:Ze,status:$e}}var w2=Math.min,_2=Math.max;function vM(n,e){return isNaN(n)||isNaN(e)}function yQ(n,e,t,r,i,u,l,f,h){for(var g,y,b,S,_,k,E=t,R=0;R<r;R++){var I=e[E*2],z=e[E*2+1];if(E>=i||E<0)break;if(vM(I,z)){if(h){E+=u;continue}break}if(E===t)n[u>0?"moveTo":"lineTo"](I,z),b=I,S=z;else{var L=I-g,q=z-y;if(L*L+q*q<.5){E+=u;continue}if(l>0){for(var X=E+u,Y=e[X*2],ae=e[X*2+1];Y===I&&ae===z&&R<r;)R++,X+=u,E+=u,Y=e[X*2],ae=e[X*2+1],I=e[E*2],z=e[E*2+1],L=I-g,q=z-y;var te=R+1;if(h)for(;vM(Y,ae)&&te<r;)te++,X+=u,Y=e[X*2],ae=e[X*2+1];var ie=.5,le=0,ce=0,ne=void 0,Z=void 0;if(te>=r||vM(Y,ae))_=I,k=z;else{le=Y-g,ce=ae-y;var Ce=I-g,ze=Y-I,ke=z-y,_t=ae-z,tt=void 0,$=void 0;if(f==="x"){tt=Math.abs(Ce),$=Math.abs(ze);var Ze=le>0?1:-1;_=I-Ze*tt*l,k=z,ne=I+Ze*$*l,Z=z}else if(f==="y"){tt=Math.abs(ke),$=Math.abs(_t);var $e=ce>0?1:-1;_=I,k=z-$e*tt*l,ne=I,Z=z+$e*$*l}else tt=Math.sqrt(Ce*Ce+ke*ke),$=Math.sqrt(ze*ze+_t*_t),ie=$/($+tt),_=I-le*l*(1-ie),k=z-ce*l*(1-ie),ne=I+le*l*ie,Z=z+ce*l*ie,ne=w2(ne,_2(Y,I)),Z=w2(Z,_2(ae,z)),ne=_2(ne,w2(Y,I)),Z=_2(Z,w2(ae,z)),le=ne-I,ce=Z-z,_=I-le*tt/$,k=z-ce*tt/$,_=w2(_,_2(g,I)),k=w2(k,_2(y,z)),_=_2(_,w2(g,I)),k=_2(k,w2(y,z)),le=I-_,ce=z-k,ne=I+le*$/tt,Z=z+ce*$/tt}n.bezierCurveTo(b,S,_,k,I,z),b=ne,S=Z}else n.lineTo(I,z)}g=I,y=z,E+=u}return R}var t0e=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),LVe=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new t0e},e.prototype.buildPath=function(t,r){var i=r.points,u=0,l=i.length/2;if(r.connectNulls){for(;l>0&&vM(i[l*2-2],i[l*2-1]);l--);for(;u<l&&vM(i[u*2],i[u*2+1]);u++);}for(;u<l;)u+=yQ(t,i,u,l,l,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,u=i.data,l=SM.CMD,f,h,g=r==="x",y=[],b=0;b<u.length;){var S=u[b++],_=void 0,k=void 0,E=void 0,R=void 0,I=void 0,z=void 0,L=void 0;switch(S){case l.M:f=u[b++],h=u[b++];break;case l.L:if(_=u[b++],k=u[b++],L=g?(t-f)/(_-f):(t-h)/(k-h),L<=1&&L>=0){var q=g?(k-h)*L+h:(_-f)*L+f;return g?[t,q]:[q,t]}f=_,h=k;break;case l.C:_=u[b++],k=u[b++],E=u[b++],R=u[b++],I=u[b++],z=u[b++];var X=g?KV(f,_,E,I,t,y):KV(h,k,R,z,t,y);if(X>0)for(var Y=0;Y<X;Y++){var ae=y[Y];if(ae<=1&&ae>=0){var q=g?pc(h,k,R,z,ae):pc(f,_,E,I,ae);return g?[t,q]:[q,t]}}f=I,h=z;break}}},e}(ja),BVe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(t0e),zVe=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new BVe},e.prototype.buildPath=function(t,r){var i=r.points,u=r.stackedOnPoints,l=0,f=i.length/2,h=r.smoothMonotone;if(r.connectNulls){for(;f>0&&vM(i[f*2-2],i[f*2-1]);f--);for(;l<f&&vM(i[l*2],i[l*2+1]);l++);}for(;l<f;){var g=yQ(t,i,l,f,f,1,r.smooth,h,r.connectNulls);yQ(t,u,l+g-1,g,f,-1,r.stackedOnSmooth,h,r.connectNulls),l+=g+1,t.closePath()}},e}(ja);function n0e(n,e,t,r,i){var u=n.getArea(),l=u.x,f=u.y,h=u.width,g=u.height,y=t.get(["lineStyle","width"])||2;l-=y/2,f-=y/2,h+=y,g+=y,l=Math.floor(l),h=Math.round(h);var b=new ya({shape:{x:l,y:f,width:h,height:g}});if(e){var S=n.getBaseAxis(),_=S.isHorizontal(),k=S.inverse;_?(k&&(b.shape.x+=h),b.shape.width=0):(k||(b.shape.y+=g),b.shape.height=0);var E=Eo(i)?function(R){i(R,b)}:null;Rd(b,{shape:{width:h,height:g,x:l,y:f}},t,null,r,E)}return b}function r0e(n,e,t){var r=n.getArea(),i=el(r.r0,1),u=el(r.r,1),l=new wy({shape:{cx:el(n.cx,1),cy:el(n.cy,1),r0:i,r:u,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var f=n.getBaseAxis().dim==="angle";f?l.shape.endAngle=r.startAngle:l.shape.r=i,Rd(l,{shape:{endAngle:r.endAngle,r:u}},t)}return l}function FVe(n,e,t,r,i){if(n){if(n.type==="polar")return r0e(n,e,t);if(n.type==="cartesian2d")return n0e(n,e,t,r,i)}else return null;return null}function tne(n,e){return n.type===e}function Ese(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function Ose(n){for(var e=1/0,t=1/0,r=-1/0,i=-1/0,u=0;u<n.length;){var l=n[u++],f=n[u++];isNaN(l)||(e=Math.min(l,e),r=Math.max(l,r)),isNaN(f)||(t=Math.min(f,t),i=Math.max(f,i))}return[[e,t],[r,i]]}function Ise(n,e){var t=Ose(n),r=t[0],i=t[1],u=Ose(e),l=u[0],f=u[1];return Math.max(Math.abs(r[0]-l[0]),Math.abs(r[1]-l[1]),Math.abs(i[0]-f[0]),Math.abs(i[1]-f[1]))}function Rse(n){return lu(n)?n:n?.5:0}function VVe(n,e,t){if(!t.valueDim)return[];for(var r=e.count(),i=Sb(r*2),u=0;u<r;u++){var l=e0e(t,n,e,u);i[u*2]=l[0],i[u*2+1]=l[1]}return i}function S2(n,e,t,r){var i=e.getBaseAxis(),u=i.dim==="x"||i.dim==="radius"?0:1,l=[],f=0,h=[],g=[],y=[],b=[];if(r){for(f=0;f<n.length;f+=2)!isNaN(n[f])&&!isNaN(n[f+1])&&b.push(n[f],n[f+1]);n=b}for(f=0;f<n.length-2;f+=2)switch(y[0]=n[f+2],y[1]=n[f+3],g[0]=n[f],g[1]=n[f+1],l.push(g[0],g[1]),t){case"end":h[u]=y[u],h[1-u]=g[1-u],l.push(h[0],h[1]);break;case"middle":var S=(g[u]+y[u])/2,_=[];h[u]=_[u]=S,h[1-u]=g[1-u],_[1-u]=y[1-u],l.push(h[0],h[1]),l.push(_[0],_[1]);break;default:h[u]=g[u],h[1-u]=y[1-u],l.push(h[0],h[1])}return l.push(n[f++],n[f++]),l}function HVe(n,e){var t=[],r=n.length,i,u;function l(y,b,S){var _=y.coord,k=(S-_)/(b.coord-_),E=Wee(k,[y.color,b.color]);return{coord:S,color:E}}for(var f=0;f<r;f++){var h=n[f],g=h.coord;if(g<0)i=h;else if(g>e){u?t.push(l(u,h,e)):i&&t.push(l(i,h,0),l(i,h,e));break}else i&&(t.push(l(i,h,0)),i=null),t.push(h),u=h}return t}function jVe(n,e,t){var r=n.getVisual("visualMeta");if(!(!r||!r.length||!n.count())){if(e.type!=="cartesian2d")return;for(var i,u,l=r.length-1;l>=0;l--){var f=n.getDimensionInfo(r[l].dimension);if(i=f&&f.coordDim,i==="x"||i==="y"){u=r[l];break}}if(!u)return;var h=e.getAxis(i),g=br(u.stops,function(L){return{coord:h.toGlobalCoord(h.dataToCoord(L.value)),color:L.color}}),y=g.length,b=u.outerColors.slice();y&&g[0].coord>g[y-1].coord&&(g.reverse(),b.reverse());var S=HVe(g,i==="x"?t.getWidth():t.getHeight()),_=S.length;if(!_&&y)return g[0].coord<0?b[1]?b[1]:g[y-1].color:b[0]?b[0]:g[0].color;var k=10,E=S[0].coord-k,R=S[_-1].coord+k,I=R-E;if(I<.001)return"transparent";Te(S,function(L){L.offset=(L.coord-E)/I}),S.push({offset:_?S[_-1].offset:.5,color:b[1]||"transparent"}),S.unshift({offset:_?S[0].offset:.5,color:b[0]||"transparent"});var z=new BL(0,0,0,0,S,!0);return z[i]=E,z[i+"2"]=R,z}}function WVe(n,e,t){var r=n.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var u=t.getAxesByScale("ordinal")[0];if(u&&!(i&&UVe(u,e))){var l=e.mapDimension(u.dim),f={};return Te(u.getViewLabels(),function(h){var g=u.scale.getRawOrdinalNumber(h.tickValue);f[g]=1}),function(h){return!f.hasOwnProperty(e.get(l,h))}}}}function UVe(n,e){var t=n.getExtent(),r=Math.abs(t[1]-t[0])/n.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),u=Math.max(1,Math.round(i/5)),l=0;l<i;l+=u)if(ene.getSymbolSize(e,l)[n.isHorizontal()?1:0]*1.5>r)return!1;return!0}function qVe(n,e){return isNaN(n)||isNaN(e)}function $Ve(n){for(var e=n.length/2;e>0&&qVe(n[e*2-2],n[e*2-1]);e--);return e-1}function Pse(n,e){return[n[e*2],n[e*2+1]]}function GVe(n,e,t){for(var r=n.length/2,i=t==="x"?0:1,u,l,f=0,h=-1,g=0;g<r;g++)if(l=n[g*2+i],!(isNaN(l)||isNaN(n[g*2+1-i]))){if(g===0){u=l;continue}if(u<=e&&l>=e||u>=e&&l<=e){h=g;break}f=g,u=l}return{range:[f,h],t:(e-u)/(l-u)}}function o0e(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<Zm.length;e++)if(n.get([Zm[e],"endLabel","show"]))return!0;return!1}function yJ(n,e,t,r){if(tne(e,"cartesian2d")){var i=r.getModel("endLabel"),u=i.get("valueAnimation"),l=r.getData(),f={lastFrameIndex:0},h=o0e(r)?function(_,k){n._endLabelOnDuring(_,k,l,f,u,i,e)}:null,g=e.getBaseAxis().isHorizontal(),y=n0e(e,t,r,function(){var _=n._endLabel;_&&t&&f.originalX!=null&&_.attr({x:f.originalX,y:f.originalY})},h);if(!r.get("clip",!0)){var b=y.shape,S=Math.max(b.width,b.height);g?(b.y-=S,b.height+=S*2):(b.x-=S,b.width+=S*2)}return h&&h(1,y),y}else return r0e(e,t,r)}function XVe(n,e){var t=e.getBaseAxis(),r=t.isHorizontal(),i=t.inverse,u=r?i?"right":"left":"center",l=r?"middle":i?"top":"bottom";return{normal:{align:n.get("align")||u,verticalAlign:n.get("verticalAlign")||l}}}var YVe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new hi,r=new Zve;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t},e.prototype.render=function(t,r,i){var u=this,l=t.coordinateSystem,f=this.group,h=t.getData(),g=t.getModel("lineStyle"),y=t.getModel("areaStyle"),b=h.getLayout("points")||[],S=l.type==="polar",_=this._coordSys,k=this._symbolDraw,E=this._polyline,R=this._polygon,I=this._lineGroup,z=!r.ssr&&t.isAnimationEnabled(),L=!y.isEmpty(),q=y.get("origin"),X=Qve(l,h,q),Y=L&&VVe(l,h,X),ae=t.get("showSymbol"),te=t.get("connectNulls"),ie=ae&&!S&&WVe(t,h,l),le=this._data;le&&le.eachItemGraphicEl(function(Nt,fe){Nt.__temp&&(f.remove(Nt),le.setItemGraphicEl(fe,null))}),ae||k.remove(),f.add(I);var ce=S?!1:t.get("step"),ne;l&&l.getArea&&t.get("clip",!0)&&(ne=l.getArea(),ne.width!=null?(ne.x-=.1,ne.y-=.1,ne.width+=.2,ne.height+=.2):ne.r0&&(ne.r0-=.5,ne.r+=.5)),this._clipShapeForSymbol=ne;var Z=jVe(h,l,i)||h.getVisual("style")[h.getVisual("drawType")];if(!(E&&_.type===l.type&&ce===this._step))ae&&k.updateData(h,{isIgnore:ie,clipShape:ne,disableAnimation:!0,getSymbolPoint:function(Nt){return[b[Nt*2],b[Nt*2+1]]}}),z&&this._initSymbolLabelAnimation(h,l,ne),ce&&(b=S2(b,l,ce,te),Y&&(Y=S2(Y,l,ce,te))),E=this._newPolyline(b),L?R=this._newPolygon(b,Y):R&&(I.remove(R),R=this._polygon=null),S||this._initOrUpdateEndLabel(t,l,CM(Z)),I.setClipPath(yJ(this,l,!0,t));else{L&&!R?R=this._newPolygon(b,Y):R&&!L&&(I.remove(R),R=this._polygon=null),S||this._initOrUpdateEndLabel(t,l,CM(Z));var Ce=I.getClipPath();if(Ce){var ze=yJ(this,l,!1,t);Rd(Ce,{shape:ze.shape},t)}else I.setClipPath(yJ(this,l,!0,t));ae&&k.updateData(h,{isIgnore:ie,clipShape:ne,disableAnimation:!0,getSymbolPoint:function(Nt){return[b[Nt*2],b[Nt*2+1]]}}),(!Ese(this._stackedOnPoints,Y)||!Ese(this._points,b))&&(z?this._doUpdateAnimation(h,Y,l,i,ce,q,te):(ce&&(b=S2(b,l,ce,te),Y&&(Y=S2(Y,l,ce,te))),E.setShape({points:b}),R&&R.setShape({points:b,stackedOnPoints:Y})))}var ke=t.getModel("emphasis"),_t=ke.get("focus"),tt=ke.get("blurScope"),$=ke.get("disabled");if(E.useStyle(To(g.getLineStyle(),{fill:"none",stroke:Z,lineJoin:"bevel"})),K3(E,t,"lineStyle"),E.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var Ze=E.getState("emphasis").style;Ze.lineWidth=+E.style.lineWidth+1}Ai(E).seriesIndex=t.seriesIndex,J2(E,_t,tt,$);var $e=Rse(t.get("smooth")),mt=t.get("smoothMonotone");if(E.setShape({smooth:$e,smoothMonotone:mt,connectNulls:te}),R){var Qe=h.getCalculationInfo("stackedOnSeries"),Et=0;R.useStyle(To(y.getAreaStyle(),{fill:Z,opacity:.7,lineJoin:"bevel",decal:h.getVisual("style").decal})),Qe&&(Et=Rse(Qe.get("smooth"))),R.setShape({smooth:$e,stackedOnSmooth:Et,smoothMonotone:mt,connectNulls:te}),K3(R,t,"areaStyle"),Ai(R).seriesIndex=t.seriesIndex,J2(R,_t,tt,$)}var Ot=function(Nt){u._changePolyState(Nt)};h.eachItemGraphicEl(function(Nt){Nt&&(Nt.onHoverStateChange=Ot)}),this._polyline.onHoverStateChange=Ot,this._data=h,this._coordSys=l,this._stackedOnPoints=Y,this._points=b,this._step=ce,this._valueOrigin=q,t.get("triggerLineEvent")&&(this.packEventData(t,E),R&&this.packEventData(t,R))},e.prototype.packEventData=function(t,r){Ai(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,i,u){var l=t.getData(),f=_M(l,u);if(this._changePolyState("emphasis"),!(f instanceof Array)&&f!=null&&f>=0){var h=l.getLayout("points"),g=l.getItemGraphicEl(f);if(!g){var y=h[f*2],b=h[f*2+1];if(isNaN(y)||isNaN(b)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(y,b))return;var S=t.get("zlevel")||0,_=t.get("z")||0;g=new ene(l,f),g.x=y,g.y=b,g.setZ(S,_);var k=g.getSymbolPath().getTextContent();k&&(k.zlevel=S,k.z=_,k.z2=this._polyline.z2+1),g.__temp=!0,l.setItemGraphicEl(f,g),g.stopSymbolAnimation(!0),this.group.add(g)}g.highlight()}else sf.prototype.highlight.call(this,t,r,i,u)},e.prototype.downplay=function(t,r,i,u){var l=t.getData(),f=_M(l,u);if(this._changePolyState("normal"),f!=null&&f>=0){var h=l.getItemGraphicEl(f);h&&(h.__temp?(l.setItemGraphicEl(f,null),this.group.remove(h)):h.downplay())}else sf.prototype.downplay.call(this,t,r,i,u)},e.prototype._changePolyState=function(t){var r=this._polygon;XZ(this._polyline,t),r&&XZ(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new LVe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new zVe({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,r,i){var u,l,f=r.getBaseAxis(),h=f.inverse;r.type==="cartesian2d"?(u=f.isHorizontal(),l=!1):r.type==="polar"&&(u=f.dim==="angle",l=!0);var g=t.hostModel,y=g.get("animationDuration");Eo(y)&&(y=y(null));var b=g.get("animationDelay")||0,S=Eo(b)?b(null):b;t.eachItemGraphicEl(function(_,k){var E=_;if(E){var R=[_.x,_.y],I=void 0,z=void 0,L=void 0;if(i)if(l){var q=i,X=r.pointToCoord(R);u?(I=q.startAngle,z=q.endAngle,L=-X[1]/180*Math.PI):(I=q.r0,z=q.r,L=X[0])}else{var Y=i;u?(I=Y.x,z=Y.x+Y.width,L=_.x):(I=Y.y+Y.height,z=Y.y,L=_.y)}var ae=z===I?0:(L-I)/(z-I);h&&(ae=1-ae);var te=Eo(b)?b(k):y*ae+S,ie=E.getSymbolPath(),le=ie.getTextContent();E.attr({scaleX:0,scaleY:0}),E.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:te}),le&&le.animateFrom({style:{opacity:0}},{duration:300,delay:te}),ie.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,i){var u=t.getModel("endLabel");if(o0e(t)){var l=t.getData(),f=this._polyline,h=l.getLayout("points");if(!h){f.removeTextContent(),this._endLabel=null;return}var g=this._endLabel;g||(g=this._endLabel=new ba({z2:200}),g.ignoreClip=!0,f.setTextContent(this._endLabel),f.disableLabelAnimation=!0);var y=$Ve(h);y>=0&&(Vb(f,Hb(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:y,defaultText:function(b,S,_){return _!=null?Jve(l,_):A9(l,b)},enableTextSetter:!0},XVe(u,r)),f.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,i,u,l,f,h){var g=this._endLabel,y=this._polyline;if(g){t<1&&u.originalX==null&&(u.originalX=g.x,u.originalY=g.y);var b=i.getLayout("points"),S=i.hostModel,_=S.get("connectNulls"),k=f.get("precision"),E=f.get("distance")||0,R=h.getBaseAxis(),I=R.isHorizontal(),z=R.inverse,L=r.shape,q=z?I?L.x:L.y+L.height:I?L.x+L.width:L.y,X=(I?E:0)*(z?-1:1),Y=(I?0:-E)*(z?-1:1),ae=I?"x":"y",te=GVe(b,q,ae),ie=te.range,le=ie[1]-ie[0],ce=void 0;if(le>=1){if(le>1&&!_){var ne=Pse(b,ie[0]);g.attr({x:ne[0]+X,y:ne[1]+Y}),l&&(ce=S.getRawValue(ie[0]))}else{var ne=y.getPointOn(q,ae);ne&&g.attr({x:ne[0]+X,y:ne[1]+Y});var Z=S.getRawValue(ie[0]),Ce=S.getRawValue(ie[1]);l&&(ce=mLe(i,k,Z,Ce,te.t))}u.lastFrameIndex=ie[0]}else{var ze=t===1||u.lastFrameIndex>0?ie[0]:0,ne=Pse(b,ze);l&&(ce=S.getRawValue(ze)),g.attr({x:ne[0]+X,y:ne[1]+Y})}if(l){var ke=f9(g);typeof ke.setLabelText=="function"&&ke.setLabelText(ce)}}},e.prototype._doUpdateAnimation=function(t,r,i,u,l,f,h){var g=this._polyline,y=this._polygon,b=t.hostModel,S=NVe(this._data,t,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),_=S.current,k=S.stackedOnCurrent,E=S.next,R=S.stackedOnNext;if(l&&(_=S2(S.current,i,l,h),k=S2(S.stackedOnCurrent,i,l,h),E=S2(S.next,i,l,h),R=S2(S.stackedOnNext,i,l,h)),Ise(_,E)>3e3||y&&Ise(k,R)>3e3){g.stopAnimation(),g.setShape({points:E}),y&&(y.stopAnimation(),y.setShape({points:E,stackedOnPoints:R}));return}g.shape.__points=S.current,g.shape.points=_;var I={shape:{points:E}};S.current!==_&&(I.shape.__points=S.next),g.stopAnimation(),tl(g,I,b),y&&(y.setShape({points:_,stackedOnPoints:k}),y.stopAnimation(),tl(y,{shape:{stackedOnPoints:R}},b),g.shape.points!==y.shape.points&&(y.shape.points=g.shape.points));for(var z=[],L=S.status,q=0;q<L.length;q++){var X=L[q].cmd;if(X==="="){var Y=t.getItemGraphicEl(L[q].idx1);Y&&z.push({el:Y,ptIdx:q})}}g.animators&&g.animators.length&&g.animators[0].during(function(){y&&y.dirtyShape();for(var ae=g.shape.__points,te=0;te<z.length;te++){var ie=z[te].el,le=z[te].ptIdx*2;ie.x=ae[le],ie.y=ae[le+1],ie.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(u,l){u.__temp&&(r.remove(u),i.setItemGraphicEl(l,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(sf);const KVe=YVe;function nne(n,e){return{seriesType:n,plan:Rte(),reset:function(t){var r=t.getData(),i=t.coordinateSystem,u=t.pipelineContext,l=e||u.large;if(i){var f=br(i.dimensions,function(_){return r.mapDimension(_)}).slice(0,2),h=f.length,g=r.getCalculationInfo("stackResultDimension");Q2(r,f[0])&&(f[0]=g),Q2(r,f[1])&&(f[1]=g);var y=r.getStore(),b=r.getDimensionIndex(f[0]),S=r.getDimensionIndex(f[1]);return h&&{progress:function(_,k){for(var E=_.end-_.start,R=l&&Sb(E*h),I=[],z=[],L=_.start,q=0;L<_.end;L++){var X=void 0;if(h===1){var Y=y.get(b,L);X=i.dataToPoint(Y,null,z)}else I[0]=y.get(b,L),I[1]=y.get(S,L),X=i.dataToPoint(I,null,z);l?(R[q++]=X[0],R[q++]=X[1]):k.setItemLayout(L,X.slice())}l&&k.setLayout("points",R)}}}}}}var JVe={average:function(n){for(var e=0,t=0,r=0;r<n.length;r++)isNaN(n[r])||(e+=n[r],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},ZVe=function(n){return Math.round(n.length/2)};function i0e(n){return{seriesType:n,reset:function(e,t,r){var i=e.getData(),u=e.get("sampling"),l=e.coordinateSystem,f=i.count();if(f>10&&l.type==="cartesian2d"&&u){var h=l.getBaseAxis(),g=l.getOtherAxis(h),y=h.getExtent(),b=r.getDevicePixelRatio(),S=Math.abs(y[1]-y[0])*(b||1),_=Math.round(f/S);if(isFinite(_)&&_>1){u==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(g.dim),1/_));var k=void 0;Lr(u)?k=JVe[u]:Eo(u)&&(k=u),k&&e.setData(i.downSample(i.mapDimension(g.dim),1/_,k,ZVe))}}}}}function QVe(n){n.registerChartView(KVe),n.registerSeriesModel(AVe),n.registerLayout(nne("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,i0e("line"))}var a0e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return VL(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,r,i){var u=this.coordinateSystem;if(u&&u.clampData){var l=u.clampData(t),f=u.dataToPoint(l);if(i)Te(u.getAxes(),function(S,_){if(S.type==="category"&&r!=null){var k=S.getTicksCoords(),E=l[_],R=r[_]==="x1"||r[_]==="y1";if(R&&(E+=1),k.length<2)return;if(k.length===2){f[_]=S.toGlobalCoord(S.getExtent()[R?1:0]);return}for(var I=void 0,z=void 0,L=1,q=0;q<k.length;q++){var X=k[q].coord,Y=q===k.length-1?k[q-1].tickValue+L:k[q].tickValue;if(Y===E){z=X;break}else if(Y<E)I=X;else if(I!=null&&Y>E){z=(X+I)/2;break}q===1&&(L=Y-k[0].tickValue)}z==null&&(I?I&&(z=k[k.length-1].coord):z=k[0].coord),f[_]=S.toGlobalCoord(z)}});else{var h=this.getData(),g=h.getLayout("offset"),y=h.getLayout("size"),b=u.getBaseAxis().isHorizontal()?0:1;f[b]+=g+y/2}return f}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Dh);Dh.registerClass(a0e);const wH=a0e;var eHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return VL(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,i){return i.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=a_(wH.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(wH);const tHe=eHe;var nHe=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),rHe=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new nHe},e.prototype.buildPath=function(t,r){var i=r.cx,u=r.cy,l=Math.max(r.r0||0,0),f=Math.max(r.r,0),h=(f-l)*.5,g=l+h,y=r.startAngle,b=r.endAngle,S=r.clockwise,_=Math.PI*2,k=S?b-y<_:y-b<_;k||(y=b-(S?_:-_));var E=Math.cos(y),R=Math.sin(y),I=Math.cos(b),z=Math.sin(b);k?(t.moveTo(E*l+i,R*l+u),t.arc(E*g+i,R*g+u,h,-Math.PI+y,y,!S)):t.moveTo(E*f+i,R*f+u),t.arc(i,u,f,y,b,!S),t.arc(I*g+i,z*g+u,h,b-Math.PI*2,b-Math.PI,!S),l!==0&&t.arc(i,u,l,b,y,S)},e}(ja);const Nse=rHe;function oHe(n,e){e=e||{};var t=e.isRoundCap;return function(r,i,u){var l=i.position;if(!l||l instanceof Array)return eH(r,i,u);var f=n(l),h=i.distance!=null?i.distance:5,g=this.shape,y=g.cx,b=g.cy,S=g.r,_=g.r0,k=(S+_)/2,E=g.startAngle,R=g.endAngle,I=(E+R)/2,z=t?Math.abs(S-_)/2:0,L=Math.cos,q=Math.sin,X=y+S*L(E),Y=b+S*q(E),ae="left",te="top";switch(f){case"startArc":X=y+(_-h)*L(I),Y=b+(_-h)*q(I),ae="center",te="top";break;case"insideStartArc":X=y+(_+h)*L(I),Y=b+(_+h)*q(I),ae="center",te="bottom";break;case"startAngle":X=y+k*L(E)+VF(E,h+z,!1),Y=b+k*q(E)+HF(E,h+z,!1),ae="right",te="middle";break;case"insideStartAngle":X=y+k*L(E)+VF(E,-h+z,!1),Y=b+k*q(E)+HF(E,-h+z,!1),ae="left",te="middle";break;case"middle":X=y+k*L(I),Y=b+k*q(I),ae="center",te="middle";break;case"endArc":X=y+(S+h)*L(I),Y=b+(S+h)*q(I),ae="center",te="bottom";break;case"insideEndArc":X=y+(S-h)*L(I),Y=b+(S-h)*q(I),ae="center",te="top";break;case"endAngle":X=y+k*L(R)+VF(R,h+z,!0),Y=b+k*q(R)+HF(R,h+z,!0),ae="left",te="middle";break;case"insideEndAngle":X=y+k*L(R)+VF(R,-h+z,!0),Y=b+k*q(R)+HF(R,-h+z,!0),ae="right",te="middle";break;default:return eH(r,i,u)}return r=r||{},r.x=X,r.y=Y,r.align=ae,r.verticalAlign=te,r}}function iHe(n,e,t,r){if(lu(r)){n.setTextConfig({rotation:r});return}else if(sr(e)){n.setTextConfig({rotation:0});return}var i=n.shape,u=i.clockwise?i.startAngle:i.endAngle,l=i.clockwise?i.endAngle:i.startAngle,f=(u+l)/2,h,g=t(e);switch(g){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":h=f;break;case"startAngle":case"insideStartAngle":h=u;break;case"endAngle":case"insideEndAngle":h=l;break;default:n.setTextConfig({rotation:0});return}var y=Math.PI*1.5-h;g==="middle"&&y>Math.PI/2&&y<Math.PI*1.5&&(y-=Math.PI),n.setTextConfig({rotation:y})}function VF(n,e,t){return e*Math.sin(n)*(t?-1:1)}function HF(n,e,t){return e*Math.cos(n)*(t?1:-1)}function mN(n,e,t){var r=n.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;sr(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:br(r,function(u){return kv(u,i)})}}var bJ=Math.max,xJ=Math.min;function aHe(n,e){var t=n.getArea&&n.getArea();if(tne(n,"cartesian2d")){var r=n.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var uHe=function(n){Tn(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,i,u){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var l=t.get("coordinateSystem");(l==="cartesian2d"||l==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,i):this._renderNormal(t,r,i,u))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){s9(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,i,u){var l=this.group,f=t.getData(),h=this._data,g=t.coordinateSystem,y=g.getBaseAxis(),b;g.type==="cartesian2d"?b=y.isHorizontal():g.type==="polar"&&(b=y.dim==="angle");var S=t.isAnimationEnabled()?t:null,_=sHe(t,g);_&&this._enableRealtimeSort(_,f,i);var k=t.get("clip",!0)||_,E=aHe(g,f);l.removeClipPath();var R=t.get("roundCap",!0),I=t.get("showBackground",!0),z=t.getModel("backgroundStyle"),L=z.get("borderRadius")||0,q=[],X=this._backgroundEls,Y=u&&u.isInitSort,ae=u&&u.type==="changeAxisOrder";function te(ce){var ne=jF[g.type](f,ce),Z=mHe(g,b,ne);return Z.useStyle(z.getItemStyle()),g.type==="cartesian2d"?Z.setShape("r",L):Z.setShape("cornerRadius",L),q[ce]=Z,Z}f.diff(h).add(function(ce){var ne=f.getItemModel(ce),Z=jF[g.type](f,ce,ne);if(I&&te(ce),!(!f.hasValue(ce)||!Vse[g.type](Z))){var Ce=!1;k&&(Ce=Lse[g.type](E,Z));var ze=Bse[g.type](t,f,ce,Z,b,S,y.model,!1,R);_&&(ze.forceLabelAnimation=!0),Hse(ze,f,ce,ne,Z,t,b,g.type==="polar"),Y?ze.attr({shape:Z}):_?zse(_,S,ze,Z,ce,b,!1,!1):Rd(ze,{shape:Z},t,ce),f.setItemGraphicEl(ce,ze),l.add(ze),ze.ignore=Ce}}).update(function(ce,ne){var Z=f.getItemModel(ce),Ce=jF[g.type](f,ce,Z);if(I){var ze=void 0;X.length===0?ze=te(ne):(ze=X[ne],ze.useStyle(z.getItemStyle()),g.type==="cartesian2d"?ze.setShape("r",L):ze.setShape("cornerRadius",L),q[ce]=ze);var ke=jF[g.type](f,ce),_t=s0e(b,ke,g);tl(ze,{shape:_t},S,ce)}var tt=h.getItemGraphicEl(ne);if(!f.hasValue(ce)||!Vse[g.type](Ce)){l.remove(tt);return}var $=!1;if(k&&($=Lse[g.type](E,Ce),$&&l.remove(tt)),tt?rL(tt):tt=Bse[g.type](t,f,ce,Ce,b,S,y.model,!!tt,R),_&&(tt.forceLabelAnimation=!0),ae){var Ze=tt.getTextContent();if(Ze){var $e=f9(Ze);$e.prevValue!=null&&($e.prevValue=$e.value)}}else Hse(tt,f,ce,Z,Ce,t,b,g.type==="polar");Y?tt.attr({shape:Ce}):_?zse(_,S,tt,Ce,ce,b,!0,ae):tl(tt,{shape:Ce},t,ce,null),f.setItemGraphicEl(ce,tt),tt.ignore=$,l.add(tt)}).remove(function(ce){var ne=h.getItemGraphicEl(ce);ne&&iH(ne,t,ce)}).execute();var ie=this._backgroundGroup||(this._backgroundGroup=new hi);ie.removeAll();for(var le=0;le<q.length;++le)ie.add(q[le]);l.add(ie),this._backgroundEls=q,this._data=f},e.prototype._renderLarge=function(t,r,i){this._clear(),Wse(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),Wse(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&FVe(t.coordinateSystem,!1,t),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,i){var u=this;if(r.count()){var l=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,i),this._isFirstFrame=!1;else{var f=function(h){var g=r.getItemGraphicEl(h),y=g&&g.shape;return y&&Math.abs(l.isHorizontal()?y.height:y.width)||0};this._onRendered=function(){u._updateSortWithinSameData(r,f,l,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,i){var u=[];return t.each(t.mapDimension(r.dim),function(l,f){var h=i(f);h=h??NaN,u.push({dataIndex:f,mappedValue:h,ordinalNumber:l})}),u.sort(function(l,f){return f.mappedValue-l.mappedValue}),{ordinalNumbers:br(u,function(l){return l.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,i){for(var u=i.scale,l=t.mapDimension(i.dim),f=Number.MAX_VALUE,h=0,g=u.getOrdinalMeta().categories.length;h<g;++h){var y=t.rawIndexOf(l,u.getRawOrdinalNumber(h)),b=y<0?Number.MIN_VALUE:r(t.indexOfRawIndex(y));if(b>f)return!0;f=b}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var i=r.scale,u=i.getExtent(),l=Math.max(0,u[0]),f=Math.min(u[1],i.getOrdinalMeta().categories.length-1);l<=f;++l)if(t.ordinalNumbers[l]!==i.getRawOrdinalNumber(l))return!0},e.prototype._updateSortWithinSameData=function(t,r,i,u){if(this._isOrderChangedWithinSameData(t,r,i)){var l=this._dataSort(t,i,r);this._isOrderDifferentInView(l,i)&&(this._removeOnRenderedListener(u),u.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:l}))}},e.prototype._dispatchInitSort=function(t,r,i){var u=r.baseAxis,l=this._dataSort(t,u,function(f){return t.get(t.mapDimension(r.otherAxis.dim),f)});i.dispatchAction({type:"changeAxisOrder",componentType:u.dim+"Axis",isInitSort:!0,axisId:u.index,sortInfo:l})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(u){iH(u,t,Ai(u).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(sf),Lse={cartesian2d:function(n,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=n.x+n.width,u=n.y+n.height,l=bJ(e.x,n.x),f=xJ(e.x+e.width,i),h=bJ(e.y,n.y),g=xJ(e.y+e.height,u),y=f<l,b=g<h;return e.x=y&&l>i?f:l,e.y=b&&h>u?g:h,e.width=y?0:f-l,e.height=b?0:g-h,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),y||b},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var i=xJ(e.r,n.r),u=bJ(e.r0,n.r0);e.r=i,e.r0=u;var l=i-u<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return l}},Bse={cartesian2d:function(n,e,t,r,i,u,l,f,h){var g=new ya({shape:Gn({},r),z2:1});if(g.__dataIndex=t,g.name="item",u){var y=g.shape,b=i?"height":"width";y[b]=0}return g},polar:function(n,e,t,r,i,u,l,f,h){var g=!i&&h?Nse:wy,y=new g({shape:r,z2:1});y.name="item";var b=u0e(i);if(y.calculateTextPosition=oHe(b,{isRoundCap:g===Nse}),u){var S=y.shape,_=i?"r":"endAngle",k={};S[_]=i?r.r0:r.startAngle,k[_]=r[_],(f?tl:Rd)(y,{shape:k},u)}return y}};function sHe(n,e){var t=n.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function zse(n,e,t,r,i,u,l,f){var h,g;u?(g={x:r.x,width:r.width},h={y:r.y,height:r.height}):(g={y:r.y,height:r.height},h={x:r.x,width:r.width}),f||(l?tl:Rd)(t,{shape:h},e,i,null);var y=e?n.baseAxis.model:null;(l?tl:Rd)(t,{shape:g},y,i)}function Fse(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var lHe=["x","y","width","height"],cHe=["cx","cy","r","startAngle","endAngle"],Vse={cartesian2d:function(n){return!Fse(n,lHe)},polar:function(n){return!Fse(n,cHe)}},jF={cartesian2d:function(n,e,t){var r=n.getItemLayout(e),i=t?dHe(t,r):0,u=r.width>0?1:-1,l=r.height>0?1:-1;return{x:r.x+u*i/2,y:r.y+l*i/2,width:r.width-u*i,height:r.height-l*i}},polar:function(n,e,t){var r=n.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function fHe(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function u0e(n){return function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(n)}function Hse(n,e,t,r,i,u,l,f){var h=e.getItemVisual(t,"style");if(f){if(!u.get("roundCap")){var g=n.shape,y=mN(r.getModel("itemStyle"),g,!0);Gn(g,y),n.setShape(g)}}else{var b=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",b)}n.useStyle(h);var S=r.getShallow("cursor");S&&n.attr("cursor",S);var _=f?l?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":l?i.height>=0?"bottom":"top":i.width>=0?"right":"left",k=Hb(r);Vb(n,k,{labelFetcher:u,labelDataIndex:t,defaultText:A9(u.getData(),t),inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:_});var E=n.getTextContent();if(f&&E){var R=r.get(["label","position"]);n.textConfig.inside=R==="middle"?!0:null,iHe(n,R==="outside"?_:R,u0e(l),r.get(["label","rotate"]))}SBe(E,k,u.getRawValue(t),function(z){return Jve(e,z)});var I=r.getModel(["emphasis"]);J2(n,I.get("focus"),I.get("blurScope"),I.get("disabled")),K3(n,r),fHe(i)&&(n.style.fill="none",n.style.stroke="none",Te(n.states,function(z){z.style&&(z.style.fill=z.style.stroke="none")}))}function dHe(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),u=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,u)}var hHe=function(){function n(){}return n}(),jse=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new hHe},e.prototype.buildPath=function(t,r){for(var i=r.points,u=this.baseDimIdx,l=1-this.baseDimIdx,f=[],h=[],g=this.barWidth,y=0;y<i.length;y+=3)h[u]=g,h[l]=i[y+2],f[u]=i[y+u],f[l]=i[y+l],t.rect(f[0],f[1],h[0],h[1])},e}(ja);function Wse(n,e,t,r){var i=n.getData(),u=i.getLayout("valueAxisHorizontal")?1:0,l=i.getLayout("largeDataIndices"),f=i.getLayout("size"),h=n.getModel("backgroundStyle"),g=i.getLayout("largeBackgroundPoints");if(g){var y=new jse({shape:{points:g},incremental:!!r,silent:!0,z2:0});y.baseDimIdx=u,y.largeDataIndices=l,y.barWidth=f,y.useStyle(h.getItemStyle()),e.add(y),t&&t.push(y)}var b=new jse({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});b.baseDimIdx=u,b.largeDataIndices=l,b.barWidth=f,e.add(b),b.useStyle(i.getVisual("style")),Ai(b).seriesIndex=n.seriesIndex,n.get("silent")||(b.on("mousedown",Use),b.on("mousemove",Use)),t&&t.push(b)}var Use=x9(function(n){var e=this,t=pHe(e,n.offsetX,n.offsetY);Ai(e).dataIndex=t>=0?t:null},30,!1);function pHe(n,e,t){for(var r=n.baseDimIdx,i=1-r,u=n.shape.points,l=n.largeDataIndices,f=[],h=[],g=n.barWidth,y=0,b=u.length/3;y<b;y++){var S=y*3;if(h[r]=g,h[i]=u[S+2],f[r]=u[S+r],f[i]=u[S+i],h[i]<0&&(f[i]+=h[i],h[i]=-h[i]),e>=f[0]&&e<=f[0]+h[0]&&t>=f[1]&&t<=f[1]+h[1])return l[y]}return-1}function s0e(n,e,t){if(tne(t,"cartesian2d")){var r=e,i=t.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}else{var i=t.getArea(),u=e;return{cx:i.cx,cy:i.cy,r0:n?i.r0:u.r0,r:n?i.r:u.r,startAngle:n?u.startAngle:0,endAngle:n?u.endAngle:Math.PI*2}}}function mHe(n,e,t){var r=n.type==="polar"?wy:ya;return new r({shape:s0e(e,t,n),silent:!0,z2:0})}const gHe=uHe;function vHe(n){n.registerChartView(gHe),n.registerSeriesModel(tHe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,ji(Ove,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ive("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,i0e("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var WF=Math.PI*2,qse=Math.PI/180;function l0e(n,e){return Pd(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function c0e(n,e){var t=l0e(n,e),r=n.get("center"),i=n.get("radius");sr(i)||(i=[0,i]);var u=Xo(t.width,e.getWidth()),l=Xo(t.height,e.getHeight()),f=Math.min(u,l),h=Xo(i[0],f/2),g=Xo(i[1],f/2),y,b,S=n.coordinateSystem;if(S){var _=S.dataToPoint(r);y=_[0]||0,b=_[1]||0}else sr(r)||(r=[r,r]),y=Xo(r[0],u)+t.x,b=Xo(r[1],l)+t.y;return{cx:y,cy:b,r0:h,r:g}}function yHe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.getData(),u=i.mapDimension("value"),l=l0e(r,t),f=c0e(r,t),h=f.cx,g=f.cy,y=f.r,b=f.r0,S=-r.get("startAngle")*qse,_=r.get("minAngle")*qse,k=0;i.each(u,function(le){!isNaN(le)&&k++});var E=i.getSum(u),R=Math.PI/(E||k)*2,I=r.get("clockwise"),z=r.get("roseType"),L=r.get("stillShowZeroSum"),q=i.getDataExtent(u);q[0]=0;var X=WF,Y=0,ae=S,te=I?1:-1;if(i.setLayout({viewRect:l,r:y}),i.each(u,function(le,ce){var ne;if(isNaN(le)){i.setItemLayout(ce,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:I,cx:h,cy:g,r0:b,r:z?NaN:y});return}z!=="area"?ne=E===0&&L?R:le*R:ne=WF/k,ne<_?(ne=_,X-=_):Y+=le;var Z=ae+te*ne;i.setItemLayout(ce,{angle:ne,startAngle:ae,endAngle:Z,clockwise:I,cx:h,cy:g,r0:b,r:z?rs(le,q,[b,y]):y}),ae=Z}),X<WF&&k)if(X<=.001){var ie=WF/k;i.each(u,function(le,ce){if(!isNaN(le)){var ne=i.getItemLayout(ce);ne.angle=ie,ne.startAngle=S+te*ce*ie,ne.endAngle=S+te*(ce+1)*ie}})}else R=X/Y,ae=S,i.each(u,function(le,ce){if(!isNaN(le)){var ne=i.getItemLayout(ce),Z=ne.angle===_?_:le*R;ne.startAngle=ae,ne.endAngle=ae+te*Z,ae+=te*Z}})})}function f0e(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(u){for(var l=i.getName(u),f=0;f<r.length;f++)if(!r[f].isSelected(l))return!1;return!0})}}}}var bHe=Math.PI/180;function $se(n,e,t,r,i,u,l,f,h,g){if(n.length<2)return;function y(E){for(var R=E.rB,I=R*R,z=0;z<E.list.length;z++){var L=E.list[z],q=Math.abs(L.label.y-t),X=r+L.len,Y=X*X,ae=Math.sqrt((1-Math.abs(q*q/I))*Y),te=e+(ae+L.len2)*i,ie=te-L.label.x,le=L.targetTextWidth-ie*i;d0e(L,le,!0),L.label.x=te}}function b(E){for(var R={list:[],maxY:0},I={list:[],maxY:0},z=0;z<E.length;z++)if(E[z].labelAlignTo==="none"){var L=E[z],q=L.label.y>t?I:R,X=Math.abs(L.label.y-t);if(X>=q.maxY){var Y=L.label.x-e-L.len2*i,ae=r+L.len,te=Math.abs(Y)<ae?Math.sqrt(X*X/(1-Y*Y/ae/ae)):ae;q.rB=te,q.maxY=X}q.list.push(L)}y(R),y(I)}for(var S=n.length,_=0;_<S;_++)if(n[_].position==="outer"&&n[_].labelAlignTo==="labelLine"){var k=n[_].label.x-g;n[_].linePoints[1][0]+=k,n[_].label.x=g}MVe(n,h,h+l)&&b(n)}function xHe(n,e,t,r,i,u,l,f){for(var h=[],g=[],y=Number.MAX_VALUE,b=-Number.MAX_VALUE,S=0;S<n.length;S++){var _=n[S].label;wJ(n[S])||(_.x<e?(y=Math.min(y,_.x),h.push(n[S])):(b=Math.max(b,_.x),g.push(n[S])))}for(var S=0;S<n.length;S++){var k=n[S];if(!wJ(k)&&k.linePoints){if(k.labelStyleWidth!=null)continue;var _=k.label,E=k.linePoints,R=void 0;k.labelAlignTo==="edge"?_.x<e?R=E[2][0]-k.labelDistance-l-k.edgeDistance:R=l+i-k.edgeDistance-E[2][0]-k.labelDistance:k.labelAlignTo==="labelLine"?_.x<e?R=y-l-k.bleedMargin:R=l+i-b-k.bleedMargin:_.x<e?R=_.x-l-k.bleedMargin:R=l+i-_.x-k.bleedMargin,k.targetTextWidth=R,d0e(k,R)}}$se(g,e,t,r,1,i,u,l,f,b),$se(h,e,t,r,-1,i,u,l,f,y);for(var S=0;S<n.length;S++){var k=n[S];if(!wJ(k)&&k.linePoints){var _=k.label,E=k.linePoints,I=k.labelAlignTo==="edge",z=_.style.padding,L=z?z[1]+z[3]:0,q=_.style.backgroundColor?0:L,X=k.rect.width+q,Y=E[1][0]-E[2][0];I?_.x<e?E[2][0]=l+k.edgeDistance+X+k.labelDistance:E[2][0]=l+i-k.edgeDistance-X-k.labelDistance:(_.x<e?E[2][0]=_.x+k.labelDistance:E[2][0]=_.x-k.labelDistance,E[1][0]=E[2][0]+Y),E[1][1]=E[2][1]=_.y}}}function d0e(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var r=n.label,i=r.style,u=n.rect,l=i.backgroundColor,f=i.padding,h=f?f[1]+f[3]:0,g=i.overflow,y=u.width+(l?0:h);if(e<y||t){var b=u.height;if(g&&g.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-h);var S=r.getBoundingRect();r.setStyle("width",Math.ceil(S.width)),r.setStyle("backgroundColor",l)}else{var _=e-h,k=e<y?_:t?_>n.unconstrainedWidth?null:_:null;r.setStyle("width",k)}var E=r.getBoundingRect();u.width=E.width;var R=(r.style.margin||0)+2.1;u.height=E.height+R,u.y-=(u.height-b)/2}}}function wJ(n){return n.position==="center"}function wHe(n){var e=n.getData(),t=[],r,i,u=!1,l=(n.get("minShowLabelAngle")||0)*bHe,f=e.getLayout("viewRect"),h=e.getLayout("r"),g=f.width,y=f.x,b=f.y,S=f.height;function _(Y){Y.ignore=!0}function k(Y){if(!Y.ignore)return!0;for(var ae in Y.states)if(Y.states[ae].ignore===!1)return!0;return!1}e.each(function(Y){var ae=e.getItemGraphicEl(Y),te=ae.shape,ie=ae.getTextContent(),le=ae.getTextGuideLine(),ce=e.getItemModel(Y),ne=ce.getModel("label"),Z=ne.get("position")||ce.get(["emphasis","label","position"]),Ce=ne.get("distanceToLabelLine"),ze=ne.get("alignTo"),ke=Xo(ne.get("edgeDistance"),g),_t=ne.get("bleedMargin"),tt=ce.getModel("labelLine"),$=tt.get("length");$=Xo($,g);var Ze=tt.get("length2");if(Ze=Xo(Ze,g),Math.abs(te.endAngle-te.startAngle)<l){Te(ie.states,_),ie.ignore=!0,le&&(Te(le.states,_),le.ignore=!0);return}if(k(ie)){var $e=(te.startAngle+te.endAngle)/2,mt=Math.cos($e),Qe=Math.sin($e),Et,Ot,Nt,fe;r=te.cx,i=te.cy;var $t=Z==="inside"||Z==="inner";if(Z==="center")Et=te.cx,Ot=te.cy,fe="center";else{var Je=($t?(te.r+te.r0)/2*mt:te.r*mt)+r,Fe=($t?(te.r+te.r0)/2*Qe:te.r*Qe)+i;if(Et=Je+mt*3,Ot=Fe+Qe*3,!$t){var St=Je+mt*($+h-te.r),Ue=Fe+Qe*($+h-te.r),Ye=St+(mt<0?-1:1)*Ze,st=Ue;ze==="edge"?Et=mt<0?y+ke:y+g-ke:Et=Ye+(mt<0?-Ce:Ce),Ot=st,Nt=[[Je,Fe],[St,Ue],[Ye,st]]}fe=$t?"center":ze==="edge"?mt>0?"right":"left":mt>0?"left":"right"}var Ft=Math.PI,Ct=0,Rt=ne.get("rotate");if(lu(Rt))Ct=Rt*(Ft/180);else if(Z==="center")Ct=0;else if(Rt==="radial"||Rt===!0){var ur=mt<0?-$e+Ft:-$e;Ct=ur}else if(Rt==="tangential"&&Z!=="outside"&&Z!=="outer"){var Xe=Math.atan2(mt,Qe);Xe<0&&(Xe=Ft*2+Xe);var Bt=Qe>0;Bt&&(Xe=Ft+Xe),Ct=Xe-Ft}if(u=!!Ct,ie.x=Et,ie.y=Ot,ie.rotation=Ct,ie.setStyle({verticalAlign:"middle"}),$t){ie.setStyle({align:fe});var Mn=ie.states.select;Mn&&(Mn.x+=ie.x,Mn.y+=ie.y)}else{var Qt=ie.getBoundingRect().clone();Qt.applyTransform(ie.getComputedTransform());var Zn=(ie.style.margin||0)+2.1;Qt.y-=Zn/2,Qt.height+=Zn,t.push({label:ie,labelLine:le,position:Z,len:$,len2:Ze,minTurnAngle:tt.get("minTurnAngle"),maxSurfaceAngle:tt.get("maxSurfaceAngle"),surfaceNormal:new di(mt,Qe),linePoints:Nt,textAlign:fe,labelDistance:Ce,labelAlignTo:ze,edgeDistance:ke,bleedMargin:_t,rect:Qt,unconstrainedWidth:Qt.width,labelStyleWidth:ie.style.width})}ae.setTextConfig({inside:$t})}}),!u&&n.get("avoidLabelOverlap")&&xHe(t,r,i,h,g,S,y,b);for(var E=0;E<t.length;E++){var R=t[E],I=R.label,z=R.labelLine,L=isNaN(I.x)||isNaN(I.y);if(I){I.setStyle({align:R.textAlign}),L&&(Te(I.states,_),I.ignore=!0);var q=I.states.select;q&&(q.x+=I.x,q.y+=I.y)}if(z){var X=R.linePoints;L||!X?(Te(z.states,_),z.ignore=!0):(bVe(X,R.minTurnAngle),xVe(X,R.surfaceNormal,R.maxSurfaceAngle),z.setShape({points:X}),I.__hostTarget.textGuideLineConfig={anchor:new di(X[0][0],X[0][1])})}}}var _He=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this)||this;u.z2=2;var l=new ba;return u.setTextContent(l),u.updateData(t,r,i,!0),u}return e.prototype.updateData=function(t,r,i,u){var l=this,f=t.hostModel,h=t.getItemModel(r),g=h.getModel("emphasis"),y=t.getItemLayout(r),b=Gn(mN(h.getModel("itemStyle"),y,!0),y);if(isNaN(b.startAngle)){l.setShape(b);return}if(u){l.setShape(b);var S=f.getShallow("animationType");f.ecModel.ssr?(Rd(l,{scaleX:0,scaleY:0},f,{dataIndex:r,isFrom:!0}),l.originX=b.cx,l.originY=b.cy):S==="scale"?(l.shape.r=y.r0,Rd(l,{shape:{r:y.r}},f,r)):i!=null?(l.setShape({startAngle:i,endAngle:i}),Rd(l,{shape:{startAngle:y.startAngle,endAngle:y.endAngle}},f,r)):(l.shape.endAngle=y.startAngle,tl(l,{shape:{endAngle:y.endAngle}},f,r))}else rL(l),tl(l,{shape:b},f,r);l.useStyle(t.getItemVisual(r,"style")),K3(l,h);var _=(y.startAngle+y.endAngle)/2,k=f.get("selectedOffset"),E=Math.cos(_)*k,R=Math.sin(_)*k,I=h.getShallow("cursor");I&&l.attr("cursor",I),this._updateLabel(f,t,r),l.ensureState("emphasis").shape=Gn({r:y.r+(g.get("scale")&&g.get("scaleSize")||0)},mN(g.getModel("itemStyle"),y)),Gn(l.ensureState("select"),{x:E,y:R,shape:mN(h.getModel(["select","itemStyle"]),y)}),Gn(l.ensureState("blur"),{shape:mN(h.getModel(["blur","itemStyle"]),y)});var z=l.getTextGuideLine(),L=l.getTextContent();z&&Gn(z.ensureState("select"),{x:E,y:R}),Gn(L.ensureState("select"),{x:E,y:R}),J2(this,g.get("focus"),g.get("blurScope"),g.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var u=this,l=r.getItemModel(i),f=l.getModel("labelLine"),h=r.getItemVisual(i,"style"),g=h&&h.fill,y=h&&h.opacity;Vb(u,Hb(l),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:g,defaultOpacity:y,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var b=u.getTextContent();u.setTextConfig({position:null,rotation:null}),b.attr({z2:10});var S=t.get(["label","position"]);if(S!=="outside"&&S!=="outer")u.removeTextGuideLine();else{var _=this.getTextGuideLine();_||(_=new eg,this.setTextGuideLine(_)),_Ve(this,SVe(l),{stroke:g,opacity:k3(f.get(["lineStyle","opacity"]),y,1)})}},e}(wy),SHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i,u){var l=t.getData(),f=this._data,h=this.group,g;if(!f&&l.count()>0){for(var y=l.getItemLayout(0),b=1;isNaN(y&&y.startAngle)&&b<l.count();++b)y=l.getItemLayout(b);y&&(g=y.startAngle)}if(this._emptyCircleSector&&h.remove(this._emptyCircleSector),l.count()===0&&t.get("showEmptyCircle")){var S=new wy({shape:c0e(t,i)});S.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=S,h.add(S)}l.diff(f).add(function(_){var k=new _He(l,_,g);l.setItemGraphicEl(_,k),h.add(k)}).update(function(_,k){var E=f.getItemGraphicEl(k);E.updateData(l,_,g),E.off("click"),h.add(E),l.setItemGraphicEl(_,E)}).remove(function(_){var k=f.getItemGraphicEl(_);iH(k,t,_)}).execute(),wHe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=l)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var i=r.getData(),u=i.getItemLayout(0);if(u){var l=t[0]-u.cx,f=t[1]-u.cy,h=Math.sqrt(l*l+f*f);return h<=u.r&&h>=u.r0}},e.type="pie",e}(sf);const CHe=SHe;function rne(n,e,t){e=sr(e)&&{coordDimensions:e}||Gn({encodeDefine:n.getEncode()},e);var r=n.getSource(),i=Gte(r,e).dimensions,u=new C9(i,n);return u.initData(r,t),u}var THe=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},n}();const h0e=THe;var MHe=cu(),kHe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new h0e(Wr(this.getData,this),Wr(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return rne(this,{coordDimensions:["value"],encodeDefaulter:ji(sge,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),i=MHe(r),u=i.seats;if(!u){var l=[];r.each(r.mapDimension("value"),function(h){l.push(h)}),u=i.seats=jpe(l,r.hostModel.get("percentPrecision"))}var f=n.prototype.getDataParams.call(this,t);return f.percent=u[t]||0,f.$vars.push("percent"),f},e.prototype._defaultLabelLine=function(t){tH(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Dh);const DHe=kHe;function AHe(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(i){var u=r.mapDimension("value"),l=r.get(u,i);return!(lu(l)&&!isNaN(l)&&l<0)})}}}function EHe(n){n.registerChartView(CHe),n.registerSeriesModel(DHe),Uge("pie",n.registerAction),n.registerLayout(ji(yHe,"pie")),n.registerProcessor(f0e("pie")),n.registerProcessor(AHe("pie"))}var OHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return VL(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Dh);const IHe=OHe;var p0e=4,RHe=function(){function n(){}return n}(),PHe=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.getDefaultShape=function(){return new RHe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,r){var i=r.points,u=r.size,l=this.symbolProxy,f=l.shape,h=t.getContext?t.getContext():t,g=h&&u[0]<p0e,y=this.softClipShape,b;if(g){this._ctx=h;return}for(this._ctx=null,b=this._off;b<i.length;){var S=i[b++],_=i[b++];isNaN(S)||isNaN(_)||y&&!y.contain(S,_)||(f.x=S-u[0]/2,f.y=_-u[1]/2,f.width=u[0],f.height=u[1],l.buildPath(t,f,!0))}this.incremental&&(this._off=b,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,r=t.points,i=t.size,u=this._ctx,l=this.softClipShape,f;if(u){for(f=this._off;f<r.length;){var h=r[f++],g=r[f++];isNaN(h)||isNaN(g)||l&&!l.contain(h,g)||u.fillRect(h-i[0]/2,g-i[1]/2,i[0],i[1])}this.incremental&&(this._off=f,this.notClear=!0)}},e.prototype.findDataIndex=function(t,r){for(var i=this.shape,u=i.points,l=i.size,f=Math.max(l[0],4),h=Math.max(l[1],4),g=u.length/2-1;g>=0;g--){var y=g*2,b=u[y]-f/2,S=u[y+1]-h/2;if(t>=b&&r>=S&&t<=b+f&&r<=S+h)return g}return-1},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),u=this.getBoundingRect();if(t=i[0],r=i[1],u.contain(t,r)){var l=this.hoverDataIdx=this.findDataIndex(t,r);return l>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,i=r.points,u=r.size,l=u[0],f=u[1],h=1/0,g=1/0,y=-1/0,b=-1/0,S=0;S<i.length;){var _=i[S++],k=i[S++];h=Math.min(_,h),y=Math.max(_,y),g=Math.min(k,g),b=Math.max(k,b)}t=this._rect=new vi(h-l/2,g-f/2,y-h+l,b-g+f)}return t},e}(ja),NHe=function(){function n(){this.group=new hi}return n.prototype.updateData=function(e,t){this._clear();var r=this._create();r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,u=r.startIndex*4*2;t=new Float32Array(t.buffer,u,i)}r.setShape("points",t),r.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,r){var i=this._newAdded[0],u=t.getLayout("points"),l=i&&i.shape.points;if(l&&l.length<2e4){var f=l.length,h=new Float32Array(f+u.length);h.set(l),h.set(u,f),i.endIndex=e.end,i.setShape({points:h})}else{this._newAdded=[];var g=this._create();g.startIndex=e.start,g.endIndex=e.end,g.incremental=!0,g.setShape({points:u}),this._setCommon(g,t,r)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new PHe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,r){var i=t.hostModel;r=r||{};var u=t.getVisual("symbolSize");e.setShape("size",u instanceof Array?u:[u,u]),e.softClipShape=r.clipShape||null,e.symbolProxy=lf(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var l=e.shape.size[0]<p0e;e.useStyle(i.getModel("itemStyle").getItemStyle(l?["color","shadowBlur","shadowColor"]:["color"]));var f=t.getVisual("style"),h=f&&f.fill;h&&e.setColor(h);var g=Ai(e);g.seriesIndex=i.seriesIndex,e.on("mousemove",function(y){g.dataIndex=null;var b=e.hoverDataIdx;b>=0&&(g.dataIndex=b+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const LHe=NHe;var BHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=t.getData(),l=this._updateSymbolDraw(u,t);l.updateData(u,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,i){var u=t.getData(),l=this._updateSymbolDraw(u,t);l.incrementalPrepareUpdate(u),this._finished=!1},e.prototype.incrementalRender=function(t,r,i){this._symbolDraw.incrementalUpdate(t,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=t.end===r.getData().count()},e.prototype.updateTransform=function(t,r,i){var u=t.getData();if(this.group.dirty(),!this._finished||u.count()>1e4)return{update:!0};var l=nne("").reset(t,r,i);l.progress&&l.progress({start:0,end:u.count(),count:u.count()},u),this._symbolDraw.updateLayout(u)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var r=t.coordinateSystem,i=r&&r.getArea&&r.getArea();return t.get("clip",!0)?i:null},e.prototype._updateSymbolDraw=function(t,r){var i=this._symbolDraw,u=r.pipelineContext,l=u.large;return(!i||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=l?new LHe:new Zve,this._isLargeDraw=l,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(sf);const zHe=BHe;var FHe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Vi);const VHe=FHe;var bQ=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",mc).models[0]},e.type="cartesian2dAxis",e}(Vi);ff(bQ,jL);var m0e={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},HHe=Ho({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},m0e),one=Ho({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},m0e),jHe=Ho({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},one),WHe=To({logBase:10},one);const g0e={category:HHe,value:one,time:jHe,log:WHe};var UHe={value:1,category:1,time:1,log:1};function hL(n,e,t,r){Te(UHe,function(i,u){var l=Ho(Ho({},g0e[u],!0),r,!0),f=function(h){Tn(g,h);function g(){var y=h!==null&&h.apply(this,arguments)||this;return y.type=e+"Axis."+u,y}return g.prototype.mergeDefaultAndTheme=function(y,b){var S=uL(this),_=S?g5(y):{},k=b.getTheme();Ho(y,k.get(u+"Axis")),Ho(y,this.getDefaultOption()),y.type=Gse(y),S&&Z2(y,_,S)},g.prototype.optionUpdated=function(){var y=this.option;y.type==="category"&&(this.__ordinalMeta=mQ.createByAxisModel(this))},g.prototype.getCategories=function(y){var b=this.option;if(b.type==="category")return y?b.data:this.__ordinalMeta.categories},g.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},g.type=e+"Axis."+u,g.defaultOption=l,g}(t);n.registerComponentModel(f)}),n.registerSubTypeDefaulter(e+"Axis",Gse)}function Gse(n){return n.type||(n.data?"category":"value")}var qHe=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return br(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ls(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}();const $He=qHe;var xQ=["x","y"];function Xse(n){return n.type==="interval"||n.type==="time"}var GHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=xQ,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!Xse(t)||!Xse(r))){var i=t.getExtent(),u=r.getExtent(),l=this.dataToPoint([i[0],u[0]]),f=this.dataToPoint([i[1],u[1]]),h=i[1]-i[0],g=u[1]-u[0];if(!(!h||!g)){var y=(f[0]-l[0])/h,b=(f[1]-l[1])/g,S=l[0]-i[0]*y,_=l[1]-u[0]*b,k=this._transform=[y,0,0,b,S,_];this._invTransform=c5([],k)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var i=this.dataToPoint(t),u=this.dataToPoint(r),l=this.getArea(),f=new vi(i[0],i[1],u[0]-i[0],u[1]-i[1]);return l.intersect(f)},e.prototype.dataToPoint=function(t,r,i){i=i||[];var u=t[0],l=t[1];if(this._transform&&u!=null&&isFinite(u)&&l!=null&&isFinite(l))return Ic(i,t,this._transform);var f=this.getAxis("x"),h=this.getAxis("y");return i[0]=f.toGlobalCoord(f.dataToCoord(u,r)),i[1]=h.toGlobalCoord(h.dataToCoord(l,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,u=this.getAxis("y").scale,l=i.getExtent(),f=u.getExtent(),h=i.parse(t[0]),g=u.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(l[0],l[1]),h),Math.max(l[0],l[1])),r[1]=Math.min(Math.max(Math.min(f[0],f[1]),g),Math.max(f[0],f[1])),r},e.prototype.pointToData=function(t,r){var i=[];if(this._invTransform)return Ic(i,t,this._invTransform);var u=this.getAxis("x"),l=this.getAxis("y");return i[0]=u.coordToData(u.toLocalCoord(t[0]),r),i[1]=l.coordToData(l.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),u=Math.min(r[0],r[1]),l=Math.max(t[0],t[1])-i,f=Math.max(r[0],r[1])-u;return new vi(i,u,l,f)},e}($He),XHe=function(n){Tn(e,n);function e(t,r,i,u,l){var f=n.call(this,t,r,i)||this;return f.index=0,f.type=u||"value",f.position=l||"bottom",f}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Ov);const YHe=XHe;function wQ(n,e,t){t=t||{};var r=n.coordinateSystem,i=e.axis,u={},l=i.getAxesOnZeroOf()[0],f=i.position,h=l?"onZero":f,g=i.dim,y=r.getRect(),b=[y.x,y.x+y.width,y.y,y.y+y.height],S={left:0,right:1,top:0,bottom:1,onZero:2},_=e.get("offset")||0,k=g==="x"?[b[2]-_,b[3]+_]:[b[0]-_,b[1]+_];if(l){var E=l.toGlobalCoord(l.dataToCoord(0));k[S.onZero]=Math.max(Math.min(E,k[1]),k[0])}u.position=[g==="y"?k[S[h]]:b[0],g==="x"?k[S[h]]:b[3]],u.rotation=Math.PI/2*(g==="x"?0:1);var R={top:-1,bottom:1,left:-1,right:1};u.labelDirection=u.tickDirection=u.nameDirection=R[f],u.labelOffset=l?k[S[f]]-k[S.onZero]:0,e.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),Ib(t.labelInside,e.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var I=e.get(["axisLabel","rotate"]);return u.labelRotate=h==="top"?-I:I,u.z2=1,u}function Yse(n){return n.get("coordinateSystem")==="cartesian2d"}function Kse(n){var e={xAxisModel:null,yAxisModel:null};return Te(e,function(t,r){var i=r.replace(/Model$/,""),u=n.getReferringComponents(i,mc).models[0];e[r]=u}),e}var _J=Math.log;function v0e(n,e,t){var r=e_.prototype,i=r.getTicks.call(t),u=r.getTicks.call(t,!0),l=i.length-1,f=r.getInterval.call(t),h=Fve(n,e),g=h.extent,y=h.fixMin,b=h.fixMax;if(n.type==="log"){var S=_J(n.base);g=[_J(g[0])/S,_J(g[1])/S]}n.setExtent(g[0],g[1]),n.calcNiceExtent({splitNumber:l,fixMin:y,fixMax:b});var _=r.getExtent.call(n);y&&(g[0]=_[0]),b&&(g[1]=_[1]);var k=r.getInterval.call(n),E=g[0],R=g[1];if(y&&b)k=(R-E)/l;else if(y)for(R=g[0]+k*l;R<g[1]&&isFinite(R)&&isFinite(g[1]);)k=pJ(k),R=g[0]+k*l;else if(b)for(E=g[1]-k*l;E>g[0]&&isFinite(E)&&isFinite(g[0]);)k=pJ(k),E=g[1]-k*l;else{var I=n.getTicks().length-1;I>l&&(k=pJ(k));var z=k*l;R=Math.ceil(g[1]/k)*k,E=el(R-z),E<0&&g[0]>=0?(E=0,R=el(z)):R>0&&g[1]<=0&&(R=0,E=-el(z))}var L=(i[0].value-u[0].value)/f,q=(i[l].value-u[l].value)/f;r.setExtent.call(n,E+k*L,R+k*q),r.setInterval.call(n,k),(L||q)&&r.setNiceExtent.call(n,E+k,R-k)}var KHe=function(){function n(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=xQ,this._initCartesian(e,t,r),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function i(l){var f,h=va(l),g=h.length;if(g){for(var y=[],b=g-1;b>=0;b--){var S=+h[b],_=l[S],k=_.model,E=_.scale;gQ(E)&&k.get("alignTicks")&&k.get("interval")==null?y.push(_):(Z3(E,k),gQ(E)&&(f=_))}y.length&&(f||(f=y.pop(),Z3(f.scale,f.model)),Te(y,function(R){v0e(R.scale,R.model,f.scale)}))}}i(r.x),i(r.y);var u={};Te(r.x,function(l){Jse(r,"y",l,u)}),Te(r.y,function(l){Jse(r,"x",l,u)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,r){var i=e.getBoxLayoutParams(),u=!r&&e.get("containLabel"),l=Pd(i,{width:t.getWidth(),height:t.getHeight()});this._rect=l;var f=this._axesList;h(),u&&(Te(f,function(g){if(!g.model.get(["axisLabel","inside"])){var y=FFe(g);if(y){var b=g.isHorizontal()?"height":"width",S=g.model.get(["axisLabel","margin"]);l[b]-=y[b]+S,g.position==="top"?l.y+=y.height+S:g.position==="left"&&(l.x+=y.width+S)}}}),h()),Te(this._coordsList,function(g){g.calcAffineTransform()});function h(){Te(f,function(g){var y=g.isHorizontal(),b=y?[0,l.width]:[0,l.height],S=g.inverse?1:0;g.setExtent(b[S],b[1-S]),JHe(g,y?l.x:l.y)})}},n.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}no(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,u=this._coordsList;i<u.length;i++)if(u[i].getAxis("x").index===e||u[i].getAxis("y").index===t)return u[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",mc).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",mc).models[0],u=e.gridModel,l=this._coordsList,f,h;if(t)f=t.coordinateSystem,Di(l,f)<0&&(f=null);else if(r&&i)f=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)h=this.getAxis("x",r.componentIndex);else if(i)h=this.getAxis("y",i.componentIndex);else if(u){var g=u.coordinateSystem;g===this&&(f=this._coordsList[0])}return{cartesian:f,axis:h}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,r){var i=this,u=this,l={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},h={x:0,y:0};if(t.eachComponent("xAxis",g("x"),this),t.eachComponent("yAxis",g("y"),this),!h.x||!h.y){this._axesMap={},this._axesList=[];return}this._axesMap=f,Te(f.x,function(y,b){Te(f.y,function(S,_){var k="x"+b+"y"+_,E=new GHe(k);E.master=i,E.model=e,i._coordsMap[k]=E,i._coordsList.push(E),E.addAxis(y),E.addAxis(S)})});function g(y){return function(b,S){if(SJ(b,e)){var _=b.get("position");y==="x"?_!=="top"&&_!=="bottom"&&(_=l.bottom?"top":"bottom"):_!=="left"&&_!=="right"&&(_=l.left?"right":"left"),l[_]=!0;var k=new YHe(y,D9(b),[0,0],b.get("type"),_),E=k.type==="category";k.onBand=E&&b.get("boundaryGap"),k.inverse=b.get("inverse"),b.axis=k,k.model=b,k.grid=u,k.index=S,u._axesList.push(k),f[y][S]=k,h[y]++}}}},n.prototype._updateScale=function(e,t){Te(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var u=i.model.get("categorySortInfo");i.scale.setSortInfo(u)}}),e.eachSeries(function(i){if(Yse(i)){var u=Kse(i),l=u.xAxisModel,f=u.yAxisModel;if(!SJ(l,t)||!SJ(f,t))return;var h=this.getCartesian(l.componentIndex,f.componentIndex),g=i.getData(),y=h.getAxis("x"),b=h.getAxis("y");r(g,y),r(g,b)}},this);function r(i,u){Te(bH(i,u.dim),function(l){u.scale.unionExtentFromData(i,l)})}},n.prototype.getTooltipAxes=function(e){var t=[],r=[];return Te(this.getCartesians(),function(i){var u=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),l=i.getOtherAxis(u);Di(t,u)<0&&t.push(u),Di(r,l)<0&&r.push(l)}),{baseAxes:t,otherAxes:r}},n.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,u){var l=new n(i,e,t);l.name="grid_"+u,l.resize(i,t,!0),i.coordinateSystem=l,r.push(l)}),e.eachSeries(function(i){if(Yse(i)){var u=Kse(i),l=u.xAxisModel,f=u.yAxisModel,h=l.getCoordSysModel(),g=h.coordinateSystem;i.coordinateSystem=g.getCartesian(l.componentIndex,f.componentIndex)}}),r},n.dimensions=xQ,n}();function SJ(n,e){return n.getCoordSysModel()===e}function Jse(n,e,t,r){t.getAxesOnZeroOf=function(){return u?[u]:[]};var i=n[e],u,l=t.model,f=l.get(["axisLine","onZero"]),h=l.get(["axisLine","onZeroAxisIndex"]);if(!f)return;if(h!=null)Zse(i[h])&&(u=i[h]);else for(var g in i)if(i.hasOwnProperty(g)&&Zse(i[g])&&!r[y(i[g])]){u=i[g];break}u&&(r[y(u)]=!0);function y(b){return b.dim+"_"+b.index}}function Zse(n){return n&&n.type!=="category"&&n.type!=="time"&&zFe(n)}function JHe(n,e){var t=n.getExtent(),r=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(i){return i+e}:function(i){return r-i+e},n.toLocalCoord=n.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}const ZHe=KHe;var F2=Math.PI,yM=function(){function n(e,t){this.group=new hi,this.opt=t,this.axisModel=e,To(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new hi({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(e){return!!Qse[e]},n.prototype.add=function(e){Qse[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,r){var i=Xee(t-e),u,l;return QN(i)?(l=r>0?"top":"bottom",u="center"):QN(i-F2)?(l=r>0?"bottom":"top",u="center"):(l="middle",i>0&&i<F2?u=r>0?"right":"left":u=r>0?"left":"right"),{rotation:i,textAlign:u,textVerticalAlign:l}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),Qse={axisLine:function(n,e,t,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),!!i){var u=e.axis.getExtent(),l=r.transform,f=[u[0],0],h=[u[1],0],g=f[0]>h[0];l&&(Ic(f,f,l),Ic(h,h,l));var y=Gn({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),b=new Id({shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:y,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});oL(b.shape,b.style.lineWidth),b.anid="line",t.add(b);var S=e.get(["axisLine","symbol"]);if(S!=null){var _=e.get(["axisLine","symbolSize"]);Lr(S)&&(S=[S,S]),(Lr(_)||lu(_))&&(_=[_,_]);var k=w9(e.get(["axisLine","symbolOffset"])||0,_),E=_[0],R=_[1];Te([{rotate:n.rotation+Math.PI/2,offset:k[0],r:0},{rotate:n.rotation-Math.PI/2,offset:k[1],r:Math.sqrt((f[0]-h[0])*(f[0]-h[0])+(f[1]-h[1])*(f[1]-h[1]))}],function(I,z){if(S[z]!=="none"&&S[z]!=null){var L=lf(S[z],-E/2,-R/2,E,R,y.stroke,!0),q=I.r+I.offset,X=g?h:f;L.attr({rotation:I.rotate,x:X[0]+q*Math.cos(n.rotation),y:X[1]-q*Math.sin(n.rotation),silent:!0,z2:11}),t.add(L)}})}}},axisTickLabel:function(n,e,t,r){var i=t9e(t,r,e,n),u=r9e(t,r,e,n);if(e9e(e,u,i),n9e(t,r,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])){var l=CVe(br(u,function(f){return{label:f,priority:f.z2,defaultAttr:{ignore:f.ignore}}}));kVe(l)}},axisName:function(n,e,t,r){var i=Ib(n.axisName,e.get("name"));if(i){var u=e.get("nameLocation"),l=n.nameDirection,f=e.getModel("nameTextStyle"),h=e.get("nameGap")||0,g=e.axis.getExtent(),y=g[0]>g[1]?-1:1,b=[u==="start"?g[0]-y*h:u==="end"?g[1]+y*h:(g[0]+g[1])/2,tle(u)?n.labelOffset+l*h:0],S,_=e.get("nameRotate");_!=null&&(_=_*F2/180);var k;tle(u)?S=yM.innerTextLayout(n.rotation,_??n.rotation,l):(S=QHe(n.rotation,u,_||0,g),k=n.axisNameAvailableWidth,k!=null&&(k=Math.abs(k/Math.sin(S.rotation)),!isFinite(k)&&(k=null)));var E=f.getFont(),R=e.get("nameTruncate",!0)||{},I=R.ellipsis,z=Ib(n.nameTruncateMaxWidth,R.maxWidth,k),L=new ba({x:b[0],y:b[1],rotation:S.rotation,silent:yM.isLabelSilent(e),style:wl(f,{text:i,font:E,overflow:"truncate",width:z,ellipsis:I,fill:f.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:f.get("align")||S.textAlign,verticalAlign:f.get("verticalAlign")||S.textVerticalAlign}),z2:1});if(h5({el:L,componentModel:e,itemName:i}),L.__fullText=i,L.anid="name",e.get("triggerEvent")){var q=yM.makeAxisEventDataBase(e);q.targetType="axisName",q.name=i,Ai(L).eventData=q}r.add(L),L.updateTransform(),t.add(L),L.decomposeTransform()}}};function QHe(n,e,t,r){var i=Xee(t-n),u,l,f=r[0]>r[1],h=e==="start"&&!f||e!=="start"&&f;return QN(i-F2/2)?(l=h?"bottom":"top",u="center"):QN(i-F2*1.5)?(l=h?"top":"bottom",u="center"):(l="middle",i<F2*1.5&&i>F2/2?u=h?"left":"right":u=h?"right":"left"),{rotation:i,textAlign:u,textVerticalAlign:l}}function e9e(n,e,t){if(!Vve(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var u=e[0],l=e[1],f=e[e.length-1],h=e[e.length-2],g=t[0],y=t[1],b=t[t.length-1],S=t[t.length-2];r===!1?(Pm(u),Pm(g)):ele(u,l)&&(r?(Pm(l),Pm(y)):(Pm(u),Pm(g))),i===!1?(Pm(f),Pm(b)):ele(h,f)&&(i?(Pm(h),Pm(S)):(Pm(f),Pm(b)))}}function Pm(n){n&&(n.ignore=!0)}function ele(n,e){var t=n&&n.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var i=IL([]);return i_(i,i,-n.rotation),t.applyTransform(cy([],i,n.getLocalTransform())),r.applyTransform(cy([],i,e.getLocalTransform())),t.intersect(r)}}function tle(n){return n==="middle"||n==="center"}function y0e(n,e,t,r,i){for(var u=[],l=[],f=[],h=0;h<n.length;h++){var g=n[h].coord;l[0]=g,l[1]=0,f[0]=g,f[1]=t,e&&(Ic(l,l,e),Ic(f,f,e));var y=new Id({shape:{x1:l[0],y1:l[1],x2:f[0],y2:f[1]},style:r,z2:2,autoBatch:!0,silent:!0});oL(y.shape,y.style.lineWidth),y.anid=i+"_"+n[h].tickValue,u.push(y)}return u}function t9e(n,e,t,r){var i=t.axis,u=t.getModel("axisTick"),l=u.get("show");if(l==="auto"&&r.handleAutoShown&&(l=r.handleAutoShown("axisTick")),!(!l||i.scale.isBlank())){for(var f=u.getModel("lineStyle"),h=r.tickDirection*u.get("length"),g=i.getTicksCoords(),y=y0e(g,e.transform,h,To(f.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),b=0;b<y.length;b++)n.add(y[b]);return y}}function n9e(n,e,t,r){var i=t.axis,u=t.getModel("minorTick");if(!(!u.get("show")||i.scale.isBlank())){var l=i.getMinorTicksCoords();if(l.length)for(var f=u.getModel("lineStyle"),h=r*u.get("length"),g=To(f.getLineStyle(),To(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),y=0;y<l.length;y++)for(var b=y0e(l[y],e.transform,h,g,"minorticks_"+y),S=0;S<b.length;S++)n.add(b[S])}}function r9e(n,e,t,r){var i=t.axis,u=Ib(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!u||i.scale.isBlank())){var l=t.getModel("axisLabel"),f=l.get("margin"),h=i.getViewLabels(),g=(Ib(r.labelRotate,l.get("rotate"))||0)*F2/180,y=yM.innerTextLayout(r.rotation,g,r.labelDirection),b=t.getCategories&&t.getCategories(!0),S=[],_=yM.isLabelSilent(t),k=t.get("triggerEvent");return Te(h,function(E,R){var I=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(E.tickValue):E.tickValue,z=E.formattedLabel,L=E.rawLabel,q=l;if(b&&b[I]){var X=b[I];no(X)&&X.textStyle&&(q=new xs(X.textStyle,l,t.ecModel))}var Y=q.getTextColor()||t.get(["axisLine","lineStyle","color"]),ae=i.dataToCoord(I),te=new ba({x:ae,y:r.labelOffset+r.labelDirection*f,rotation:y.rotation,silent:_,z2:10+(E.level||0),style:wl(q,{text:z,align:q.getShallow("align",!0)||y.textAlign,verticalAlign:q.getShallow("verticalAlign",!0)||q.getShallow("baseline",!0)||y.textVerticalAlign,fill:Eo(Y)?Y(i.type==="category"?L:i.type==="value"?I+"":I,R):Y})});if(te.anid="label_"+I,k){var ie=yM.makeAxisEventDataBase(t);ie.targetType="axisLabel",ie.value=L,ie.tickIndex=R,i.type==="category"&&(ie.dataIndex=I),Ai(te).eventData=ie}e.add(te),te.updateTransform(),S.push(te),n.add(te),te.decomposeTransform()}),S}}const t_=yM;function o9e(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return i9e(t,n,e),t.seriesInvolved&&u9e(t,n),t}function i9e(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),u=i.get("link",!0)||[],l=[];Te(t.getCoordinateSystems(),function(f){if(!f.axisPointerEnabled)return;var h=pL(f.model),g=n.coordSysAxesInfo[h]={};n.coordSysMap[h]=f;var y=f.model,b=y.getModel("tooltip",r);if(Te(f.getAxes(),ji(E,!1,null)),f.getTooltipAxes&&r&&b.get("show")){var S=b.get("trigger")==="axis",_=b.get(["axisPointer","type"])==="cross",k=f.getTooltipAxes(b.get(["axisPointer","axis"]));(S||_)&&Te(k.baseAxes,ji(E,_?"cross":!0,S)),_&&Te(k.otherAxes,ji(E,"cross",!1))}function E(R,I,z){var L=z.model.getModel("axisPointer",i),q=L.get("show");if(!(!q||q==="auto"&&!R&&!_Q(L))){I==null&&(I=L.get("triggerTooltip")),L=R?a9e(z,b,i,e,R,I):L;var X=L.get("snap"),Y=L.get("triggerEmphasis"),ae=pL(z.model),te=I||X||z.type==="category",ie=n.axesInfo[ae]={key:ae,axis:z,coordSys:f,axisPointerModel:L,triggerTooltip:I,triggerEmphasis:Y,involveSeries:te,snap:X,useHandle:_Q(L),seriesModels:[],linkGroup:null};g[ae]=ie,n.seriesInvolved=n.seriesInvolved||te;var le=s9e(u,z);if(le!=null){var ce=l[le]||(l[le]={axesInfo:{}});ce.axesInfo[ae]=ie,ce.mapper=u[le].mapper,ie.linkGroup=ce}}}})}function a9e(n,e,t,r,i,u){var l=e.getModel("axisPointer"),f=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],h={};Te(f,function(S){h[S]=vo(l.get(S))}),h.snap=n.type!=="category"&&!!u,l.get("type")==="cross"&&(h.type="line");var g=h.label||(h.label={});if(g.show==null&&(g.show=!1),i==="cross"){var y=l.get(["label","show"]);if(g.show=y??!0,!u){var b=h.lineStyle=l.get("crossStyle");b&&To(g,b.textStyle)}}return n.model.getModel("axisPointer",new xs(h,t,r))}function u9e(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),u=t.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||u===!1||t.get(["axisPointer","show"],!0)===!1||Te(n.coordSysAxesInfo[pL(r.model)],function(l){var f=l.axis;r.getAxis(f.dim)===f&&(l.seriesModels.push(t),l.seriesDataCount==null&&(l.seriesDataCount=0),l.seriesDataCount+=t.getData().count())})})}function s9e(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var u=n[i]||{};if(CJ(u[r+"AxisId"],t.id)||CJ(u[r+"AxisIndex"],t.componentIndex)||CJ(u[r+"AxisName"],t.name))return i}}function CJ(n,e){return n==="all"||sr(n)&&Di(n,e)>=0||n===e}function l9e(n){var e=ine(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,u=t.get("status"),l=t.get("value");l!=null&&(l=r.parse(l));var f=_Q(t);u==null&&(i.status=f?"show":"hide");var h=r.getExtent().slice();h[0]>h[1]&&h.reverse(),(l==null||l>h[1])&&(l=h[1]),l<h[0]&&(l=h[0]),i.value=l,f&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function ine(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[pL(n)]}function c9e(n){var e=ine(n);return e&&e.axisPointerModel}function _Q(n){return!!n.get(["handle","show"])}function pL(n){return n.type+"||"+n.id}var nle={},f9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,u){this.axisPointerClass&&l9e(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,u){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var u=e.getAxisPointerClass(this.axisPointerClass);if(u){var l=c9e(t);l?(this._axisPointer||(this._axisPointer=new u)).render(t,l,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){nle[t]=r},e.getAxisPointerClass=function(t){return t&&nle[t]},e.type="axis",e}(zs);const WL=f9e;var SQ=cu();function d9e(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var u=t.getModel("splitArea"),l=u.getModel("areaStyle"),f=l.get("color"),h=r.coordinateSystem.getRect(),g=i.getTicksCoords({tickModel:u,clamp:!0});if(g.length){var y=f.length,b=SQ(n).splitAreaColors,S=to(),_=0;if(b)for(var k=0;k<g.length;k++){var E=b.get(g[k].tickValue);if(E!=null){_=(E+(y-1)*k)%y;break}}var R=i.toGlobalCoord(g[0].coord),I=l.getAreaStyle();f=sr(f)?f:[f];for(var k=1;k<g.length;k++){var z=i.toGlobalCoord(g[k].coord),L=void 0,q=void 0,X=void 0,Y=void 0;i.isHorizontal()?(L=R,q=h.y,X=z-L,Y=h.height,R=L+X):(L=h.x,q=R,X=h.width,Y=z-q,R=q+Y);var ae=g[k-1].tickValue;ae!=null&&S.set(ae,_),e.add(new ya({anid:ae!=null?"area_"+ae:null,shape:{x:L,y:q,width:X,height:Y},style:To({fill:f[_]},I),autoBatch:!0,silent:!0})),_=(_+1)%y}SQ(n).splitAreaColors=S}}}function h9e(n){SQ(n).splitAreaColors=null}var p9e=["axisLine","axisTickLabel","axisName"],m9e=["splitArea","splitLine","minorSplitLine"],b0e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,u){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new hi,this.group.add(this._axisGroup),!!t.get("show")){var f=t.getCoordSysModel(),h=wQ(f,t),g=new t_(t,Gn({handleAutoShown:function(b){for(var S=f.coordinateSystem.getCartesians(),_=0;_<S.length;_++)if(gQ(S[_].getOtherAxis(t.axis).scale))return!0;return!1}},h));Te(p9e,g.add,g),this._axisGroup.add(g.getGroup()),Te(m9e,function(b){t.get([b,"show"])&&g9e[b](this,this._axisGroup,t,f)},this);var y=u&&u.type==="changeAxisOrder"&&u.isInitSort;y||u9(l,this._axisGroup,t),n.prototype.render.call(this,t,r,i,u)}},e.prototype.remove=function(){h9e(this)},e.type="cartesianAxis",e}(WL),g9e={splitLine:function(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var u=t.getModel("splitLine"),l=u.getModel("lineStyle"),f=l.get("color");f=sr(f)?f:[f];for(var h=r.coordinateSystem.getRect(),g=i.isHorizontal(),y=0,b=i.getTicksCoords({tickModel:u}),S=[],_=[],k=l.getLineStyle(),E=0;E<b.length;E++){var R=i.toGlobalCoord(b[E].coord);g?(S[0]=R,S[1]=h.y,_[0]=R,_[1]=h.y+h.height):(S[0]=h.x,S[1]=R,_[0]=h.x+h.width,_[1]=R);var I=y++%f.length,z=b[E].tickValue,L=new Id({anid:z!=null?"line_"+b[E].tickValue:null,autoBatch:!0,shape:{x1:S[0],y1:S[1],x2:_[0],y2:_[1]},style:To({stroke:f[I]},k),silent:!0});oL(L.shape,k.lineWidth),e.add(L)}}},minorSplitLine:function(n,e,t,r){var i=t.axis,u=t.getModel("minorSplitLine"),l=u.getModel("lineStyle"),f=r.coordinateSystem.getRect(),h=i.isHorizontal(),g=i.getMinorTicksCoords();if(g.length)for(var y=[],b=[],S=l.getLineStyle(),_=0;_<g.length;_++)for(var k=0;k<g[_].length;k++){var E=i.toGlobalCoord(g[_][k].coord);h?(y[0]=E,y[1]=f.y,b[0]=E,b[1]=f.y+f.height):(y[0]=f.x,y[1]=E,b[0]=f.x+f.width,b[1]=E);var R=new Id({anid:"minor_line_"+g[_][k].tickValue,autoBatch:!0,shape:{x1:y[0],y1:y[1],x2:b[0],y2:b[1]},style:S,silent:!0});oL(R.shape,S.lineWidth),e.add(R)}},splitArea:function(n,e,t,r){d9e(n,e,t,r)}},x0e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(b0e),v9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=x0e.type,t}return e.type="yAxis",e}(b0e),y9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new ya({shape:t.coordinateSystem.getRect(),style:To({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(zs),rle={offset:0};function w0e(n){n.registerComponentView(y9e),n.registerComponentModel(VHe),n.registerCoordinateSystem("cartesian2d",ZHe),hL(n,"x",bQ,rle),hL(n,"y",bQ,rle),n.registerComponentView(x0e),n.registerComponentView(v9e),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function b9e(n){Rc(w0e),n.registerSeriesModel(IHe),n.registerChartView(zHe),n.registerLayout(nne("scatter"))}function x9e(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),r=[],i=e.coordinateSystem;if(i){var u=i.getIndicatorAxes();Te(u,function(l,f){t.each(t.mapDimension(u[f].dim),function(h,g){r[g]=r[g]||[];var y=i.dataToPoint(h,f);r[g][f]=ole(y)?y:ile(i)})}),t.each(function(l){var f=ape(r[l],function(h){return ole(h)})||ile(i);r[l].push(f.slice()),t.setItemLayout(l,r[l])})}})}function ole(n){return!isNaN(n[0])&&!isNaN(n[1])}function ile(n){return[n.cx,n.cy]}function w9e(n){var e=n.polar;if(e){sr(e)||(e=[e]);var t=[];Te(e,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],sr(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):t.push(r)}),n.polar=t}Te(n.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var _9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=t.coordinateSystem,l=this.group,f=t.getData(),h=this._data;function g(S,_){var k=S.getItemVisual(_,"symbol")||"circle";if(k!=="none"){var E=Nte(S.getItemVisual(_,"symbolSize")),R=lf(k,-1,-1,2,2),I=S.getItemVisual(_,"symbolRotate")||0;return R.attr({style:{strokeNoScale:!0},z2:100,scaleX:E[0]/2,scaleY:E[1]/2,rotation:I*Math.PI/180||0}),R}}function y(S,_,k,E,R,I){k.removeAll();for(var z=0;z<_.length-1;z++){var L=g(E,R);L&&(L.__dimIdx=z,S[z]?(L.setPosition(S[z]),l9[I?"initProps":"updateProps"](L,{x:_[z][0],y:_[z][1]},t,R)):L.setPosition(_[z]),k.add(L))}}function b(S){return br(S,function(_){return[u.cx,u.cy]})}f.diff(h).add(function(S){var _=f.getItemLayout(S);if(_){var k=new _y,E=new eg,R={shape:{points:_}};k.shape.points=b(_),E.shape.points=b(_),Rd(k,R,t,S),Rd(E,R,t,S);var I=new hi,z=new hi;I.add(E),I.add(k),I.add(z),y(E.shape.points,_,z,f,S,!0),f.setItemGraphicEl(S,I)}}).update(function(S,_){var k=h.getItemGraphicEl(_),E=k.childAt(0),R=k.childAt(1),I=k.childAt(2),z={shape:{points:f.getItemLayout(S)}};z.shape.points&&(y(E.shape.points,z.shape.points,I,f,S,!1),rL(R),rL(E),tl(E,z,t),tl(R,z,t),f.setItemGraphicEl(S,k))}).remove(function(S){l.remove(h.getItemGraphicEl(S))}).execute(),f.eachItemGraphicEl(function(S,_){var k=f.getItemModel(_),E=S.childAt(0),R=S.childAt(1),I=S.childAt(2),z=f.getItemVisual(_,"style"),L=z.fill;l.add(S),E.useStyle(To(k.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:L})),K3(E,k,"lineStyle"),K3(R,k,"areaStyle");var q=k.getModel("areaStyle"),X=q.isEmpty()&&q.parentModel.isEmpty();R.ignore=X,Te(["emphasis","select","blur"],function(te){var ie=k.getModel([te,"areaStyle"]),le=ie.isEmpty()&&ie.parentModel.isEmpty();R.ensureState(te).ignore=le&&X}),R.useStyle(To(q.getAreaStyle(),{fill:L,opacity:.7,decal:z.decal}));var Y=k.getModel("emphasis"),ae=Y.getModel("itemStyle").getItemStyle();I.eachChild(function(te){if(te instanceof Op){var ie=te.style;te.useStyle(Gn({image:ie.image,x:ie.x,y:ie.y,width:ie.width,height:ie.height},z))}else te.useStyle(z),te.setColor(L),te.style.strokeNoScale=!0;var le=te.ensureState("emphasis");le.style=vo(ae);var ce=f.getStore().get(f.getDimensionIndex(te.__dimIdx),_);(ce==null||isNaN(ce))&&(ce=""),Vb(te,Hb(k),{labelFetcher:f.hostModel,labelDataIndex:_,labelDimIndex:te.__dimIdx,defaultText:ce,inheritColor:L,defaultOpacity:z.opacity})}),J2(S,Y.get("focus"),Y.get("blurScope"),Y.get("disabled"))}),this._data=f},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(sf);const S9e=_9e;var C9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new h0e(Wr(this.getData,this),Wr(this.getRawData,this))},e.prototype.getInitialData=function(t,r){return rne(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,r,i){var u=this.getData(),l=this.coordinateSystem,f=l.getIndicatorAxes(),h=this.getData().getName(t),g=h===""?this.name:h,y=Ige(this,t);return gy("section",{header:g,sortBlocks:!0,blocks:br(f,function(b){var S=u.get(u.mapDimension(b.dim),t);return gy("nameValue",{markerType:"subItem",markerColor:y,name:b.name,value:S,sortParam:S})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var r=this.getData(),i=this.coordinateSystem,u=r.getValues(br(i.dimensions,function(g){return r.mapDimension(g)}),t),l=0,f=u.length;l<f;l++)if(!isNaN(u[l])){var h=i.getIndicatorAxes();return i.coordToPoint(h[l].dataToCoord(u[l]),l)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Dh);const T9e=C9e;var KP=g0e.value;function UF(n,e){return To({show:e},n)}var M9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),u=this.get("axisLine"),l=this.get("axisTick"),f=this.get("axisLabel"),h=this.get("axisName"),g=this.get(["axisName","show"]),y=this.get(["axisName","formatter"]),b=this.get("axisNameGap"),S=this.get("triggerEvent"),_=br(this.get("indicator")||[],function(k){k.max!=null&&k.max>0&&!k.min?k.min=0:k.min!=null&&k.min<0&&!k.max&&(k.max=0);var E=h;k.color!=null&&(E=To({color:k.color},h));var R=Ho(vo(k),{boundaryGap:t,splitNumber:r,scale:i,axisLine:u,axisTick:l,axisLabel:f,name:k.text,showName:g,nameLocation:"end",nameGap:b,nameTextStyle:E,triggerEvent:S},!1);if(Lr(y)){var I=R.name;R.name=y.replace("{value}",I??"")}else Eo(y)&&(R.name=y(R.name,R));var z=new xs(R,null,this.ecModel);return ff(z,jL.prototype),z.mainType="radar",z.componentIndex=this.componentIndex,z},this);this._indicatorModels=_},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Ho({lineStyle:{color:"#bbb"}},KP.axisLine),axisLabel:UF(KP.axisLabel,!1),axisTick:UF(KP.axisTick,!1),splitLine:UF(KP.splitLine,!0),splitArea:UF(KP.splitArea,!0),indicator:[]},e}(Vi);const k9e=M9e;var D9e=["axisLine","axisTickLabel","axisName"],A9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=this.group;u.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var r=t.coordinateSystem,i=r.getIndicatorAxes(),u=br(i,function(l){var f=l.model.get("showName")?l.name:"",h=new t_(l.model,{axisName:f,position:[r.cx,r.cy],rotation:l.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return h});Te(u,function(l){Te(D9e,l.add,l),this.group.add(l.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var r=t.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var u=t.get("shape"),l=t.getModel("splitLine"),f=t.getModel("splitArea"),h=l.getModel("lineStyle"),g=f.getModel("areaStyle"),y=l.get("show"),b=f.get("show"),S=h.get("color"),_=g.get("color"),k=sr(S)?S:[S],E=sr(_)?_:[_],R=[],I=[];function z(ze,ke,_t){var tt=_t%ke.length;return ze[tt]=ze[tt]||[],tt}if(u==="circle")for(var L=i[0].getTicksCoords(),q=r.cx,X=r.cy,Y=0;Y<L.length;Y++){if(y){var ae=z(R,k,Y);R[ae].push(new Dv({shape:{cx:q,cy:X,r:L[Y].coord}}))}if(b&&Y<L.length-1){var ae=z(I,E,Y);I[ae].push(new LL({shape:{cx:q,cy:X,r0:L[Y].coord,r:L[Y+1].coord}}))}}else for(var te,ie=br(i,function(ke,_t){var tt=ke.getTicksCoords();return te=te==null?tt.length-1:Math.min(tt.length-1,te),br(tt,function($){return r.coordToPoint($.coord,_t)})}),le=[],Y=0;Y<=te;Y++){for(var ce=[],ne=0;ne<i.length;ne++)ce.push(ie[ne][Y]);if(ce[0]&&ce.push(ce[0].slice()),y){var ae=z(R,k,Y);R[ae].push(new eg({shape:{points:ce}}))}if(b&&le){var ae=z(I,E,Y-1);I[ae].push(new _y({shape:{points:ce.concat(le)}}))}le=ce.slice().reverse()}var Z=h.getLineStyle(),Ce=g.getAreaStyle();Te(I,function(ze,ke){this.group.add(qm(ze,{style:To({stroke:"none",fill:E[ke%E.length]},Ce),silent:!0}))},this),Te(R,function(ze,ke){this.group.add(qm(ze,{style:To({fill:"none",stroke:k[ke%k.length]},Z),silent:!0}))},this)},e.type="radar",e}(zs);const E9e=A9e;var O9e=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,t,r,i)||this;return u.type="value",u.angle=0,u.name="",u}return e}(Ov);const I9e=O9e;var R9e=function(){function n(e,t,r){this.dimensions=[],this._model=e,this._indicatorAxes=br(e.getIndicatorModels(),function(i,u){var l="indicator_"+u,f=new I9e(l,new e_);return f.name=i.get("name"),f.model=i,i.axis=f,this.dimensions.push(l),f},this),this.resize(e,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var r=this._indicatorAxes[t];return this.coordToPoint(r.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t],i=r.angle,u=this.cx+e*Math.cos(i),l=this.cy-e*Math.sin(i);return[u,l]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=Math.sqrt(t*t+r*r);t/=i,r/=i;for(var u=Math.atan2(-r,t),l=1/0,f,h=-1,g=0;g<this._indicatorAxes.length;g++){var y=this._indicatorAxes[g],b=Math.abs(u-y.angle);b<l&&(f=y,h=g,l=b)}return[h,+(f&&f.coordToData(i))]},n.prototype.resize=function(e,t){var r=e.get("center"),i=t.getWidth(),u=t.getHeight(),l=Math.min(i,u)/2;this.cx=Xo(r[0],i),this.cy=Xo(r[1],u),this.startAngle=e.get("startAngle")*Math.PI/180;var f=e.get("radius");(Lr(f)||lu(f))&&(f=[0,f]),this.r0=Xo(f[0],l),this.r=Xo(f[1],l),Te(this._indicatorAxes,function(h,g){h.setExtent(this.r0,this.r);var y=this.startAngle+g*Math.PI*2/this._indicatorAxes.length;y=Math.atan2(Math.sin(y),Math.cos(y)),h.angle=y},this)},n.prototype.update=function(e,t){var r=this._indicatorAxes,i=this._model;Te(r,function(f){f.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(f,h){if(!(f.get("coordinateSystem")!=="radar"||e.getComponent("radar",f.get("radarIndex"))!==i)){var g=f.getData();Te(r,function(y){y.scale.unionExtentFromData(g,g.mapDimension(y.dim))})}},this);var u=i.get("splitNumber"),l=new e_;l.setExtent(0,u),l.setInterval(1),Te(r,function(f,h){v0e(f.scale,f.model,l)})},n.prototype.convertToPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var r=[];return e.eachComponent("radar",function(i){var u=new n(i,e,t);r.push(u),i.coordinateSystem=u}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},n.dimensions=[],n}();const P9e=R9e;function _0e(n){n.registerCoordinateSystem("radar",P9e),n.registerComponentModel(k9e),n.registerComponentView(E9e),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(r){t.setItemVisual(r,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function N9e(n){Rc(_0e),n.registerChartView(S9e),n.registerSeriesModel(T9e),n.registerLayout(x9e),n.registerProcessor(f0e("radar")),n.registerPreprocessor(w9e)}var ale="\0_ec_interaction_mutex";function L9e(n,e,t){var r=ane(n);r[e]=t}function B9e(n,e,t){var r=ane(n),i=r[e];i===t&&(r[e]=null)}function ule(n,e){return!!ane(n)[e]}function ane(n){return n[ale]||(n[ale]={})}Ev({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},uf);var z9e=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;r._zr=t;var i=Wr(r._mousedownHandler,r),u=Wr(r._mousemoveHandler,r),l=Wr(r._mouseupHandler,r),f=Wr(r._mousewheelHandler,r),h=Wr(r._pinchHandler,r);return r.enable=function(g,y){this.disable(),this._opt=To(vo(y)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),g==null&&(g=!0),(g===!0||g==="move"||g==="pan")&&(t.on("mousedown",i),t.on("mousemove",u),t.on("mouseup",l)),(g===!0||g==="scale"||g==="zoom")&&(t.on("mousewheel",f),t.on("pinch",h))},r.disable=function(){t.off("mousedown",i),t.off("mousemove",u),t.off("mouseup",l),t.off("mousewheel",f),t.off("pinch",h)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!Gie(t)){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=t.offsetX,u=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,u)&&(this._x=i,this._y=u,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!TV("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||ule(this._zr,"globalPan"))){var r=t.offsetX,i=t.offsetY,u=this._x,l=this._y,f=r-u,h=i-l;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Rb(t.event),S0e(this,"pan","moveOnMouseMove",t,{dx:f,dy:h,oldX:u,oldY:l,newX:r,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){Gie(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var r=TV("zoomOnMouseWheel",t,this._opt),i=TV("moveOnMouseWheel",t,this._opt),u=t.wheelDelta,l=Math.abs(u),f=t.offsetX,h=t.offsetY;if(!(u===0||!r&&!i)){if(r){var g=l>3?1.4:l>1?1.2:1.1,y=u>0?g:1/g;TJ(this,"zoom","zoomOnMouseWheel",t,{scale:y,originX:f,originY:h,isAvailableBehavior:null})}if(i){var b=Math.abs(u),S=(u>0?1:-1)*(b>3?.4:b>1?.15:.05);TJ(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:S,originX:f,originY:h,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!ule(this._zr,"globalPan")){var r=t.pinchScale>1?1.1:.9090909090909091;TJ(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Qm);function TJ(n,e,t,r,i){n.pointerChecker&&n.pointerChecker(r,i.originX,i.originY)&&(Rb(r.event),S0e(n,e,t,r,i))}function S0e(n,e,t,r,i){i.isAvailableBehavior=Wr(TV,null,t,r),n.trigger(e,i)}function TV(n,e,t){var r=t[n];return!n||r&&(!Lr(r)||e.event[r+"Key"])}const C0e=z9e;function F9e(n,e,t){var r=n.target;r.x+=e,r.y+=t,r.dirty()}function V9e(n,e,t,r){var i=n.target,u=n.zoomLimit,l=n.zoom=n.zoom||1;if(l*=e,u){var f=u.min||0,h=u.max||1/0;l=Math.max(Math.min(h,l),f)}var g=l/n.zoom;n.zoom=l,i.x-=(t-i.x)*(g-1),i.y-=(r-i.y)*(g-1),i.scaleX*=g,i.scaleY*=g,i.dirty()}var H9e={axisPointer:1,tooltip:1,brush:1};function T0e(n,e,t){var r=e.getComponentByElement(n.topTarget),i=r&&r.coordinateSystem;return r&&r!==t&&!H9e.hasOwnProperty(r.mainType)&&i&&i.model!==t}function M0e(n){if(Lr(n)){var e=new DOMParser;n=e.parseFromString(n,"text/xml")}var t=n;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var MJ,_H={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},sle=va(_H),SH={"alignment-baseline":"textBaseline","stop-color":"stopColor"},lle=va(SH),j9e=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var r=M0e(e);this._defsUsePending=[];var i=new hi;this._root=i;var u=[],l=r.getAttribute("viewBox")||"",f=parseFloat(r.getAttribute("width")||t.width),h=parseFloat(r.getAttribute("height")||t.height);isNaN(f)&&(f=null),isNaN(h)&&(h=null),bp(r,i,null,!0,!1);for(var g=r.firstChild;g;)this._parseNode(g,i,u,null,!1,!1),g=g.nextSibling;q9e(this._defs,this._defsUsePending),this._defsUsePending=[];var y,b;if(l){var S=E9(l);S.length>=4&&(y={x:parseFloat(S[0]||0),y:parseFloat(S[1]||0),width:parseFloat(S[2]),height:parseFloat(S[3])})}if(y&&f!=null&&h!=null&&(b=D0e(y,{x:0,y:0,width:f,height:h}),!t.ignoreViewBox)){var _=i;i=new hi,i.add(_),_.scaleX=_.scaleY=b.scale,_.x=b.x,_.y=b.y}return!t.ignoreRootClip&&f!=null&&h!=null&&i.setClipPath(new ya({shape:{x:0,y:0,width:f,height:h}})),{root:i,width:f,height:h,viewBoxRect:y,viewBoxTransform:b,named:u}},n.prototype._parseNode=function(e,t,r,i,u,l){var f=e.nodeName.toLowerCase(),h,g=i;if(f==="defs"&&(u=!0),f==="text"&&(l=!0),f==="defs"||f==="switch")h=t;else{if(!u){var y=MJ[f];if(y&&Qo(MJ,f)){h=y.call(this,e,t);var b=e.getAttribute("name");if(b){var S={name:b,namedFrom:null,svgNodeTagLower:f,el:h};r.push(S),f==="g"&&(g=S)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:f,el:h});t.add(h)}}var _=cle[f];if(_&&Qo(cle,f)){var k=_.call(this,e),E=e.getAttribute("id");E&&(this._defs[E]=k)}}if(h&&h.isGroup)for(var R=e.firstChild;R;)R.nodeType===1?this._parseNode(R,h,r,g,u,l):R.nodeType===3&&l&&this._parseText(R,h),R=R.nextSibling},n.prototype._parseText=function(e,t){var r=new nH({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Nm(t,r),bp(e,r,this._defsUsePending,!1,!1),W9e(r,t);var i=r.style,u=i.fontSize;u&&u<9&&(i.fontSize=9,r.scaleX*=u/9,r.scaleY*=u/9);var l=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=l;var f=r.getBoundingRect();return this._textX+=f.width,t.add(r),r},n.internalField=function(){MJ={g:function(e,t){var r=new hi;return Nm(t,r),bp(e,r,this._defsUsePending,!1,!1),r},rect:function(e,t){var r=new ya;return Nm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(e,t){var r=new Dv;return Nm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),r.silent=!0,r},line:function(e,t){var r=new Id;return Nm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(e,t){var r=new r9;return Nm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(e,t){var r=e.getAttribute("points"),i;r&&(i=hle(r));var u=new _y({shape:{points:i||[]},silent:!0});return Nm(t,u),bp(e,u,this._defsUsePending,!1,!1),u},polyline:function(e,t){var r=e.getAttribute("points"),i;r&&(i=hle(r));var u=new eg({shape:{points:i||[]},silent:!0});return Nm(t,u),bp(e,u,this._defsUsePending,!1,!1),u},image:function(e,t){var r=new Op;return Nm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),r.silent=!0,r},text:function(e,t){var r=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",u=e.getAttribute("dx")||"0",l=e.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(u),this._textY=parseFloat(i)+parseFloat(l);var f=new hi;return Nm(t,f),bp(e,f,this._defsUsePending,!1,!0),f},tspan:function(e,t){var r=e.getAttribute("x"),i=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var u=e.getAttribute("dx")||"0",l=e.getAttribute("dy")||"0",f=new hi;return Nm(t,f),bp(e,f,this._defsUsePending,!1,!0),this._textX+=parseFloat(u),this._textY+=parseFloat(l),f},path:function(e,t){var r=e.getAttribute("d")||"",i=Tme(r);return Nm(t,i),bp(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),n}(),cle={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),i=parseInt(n.getAttribute("y2")||"0",10),u=new BL(e,t,r,i);return fle(n,u),dle(n,u),u},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),i=new ste(e,t,r);return fle(n,i),dle(n,i),i}};function fle(n,e){var t=n.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function dle(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var r=t.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var u={};k0e(t,u,u);var l=u.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:l})}t=t.nextSibling}}function Nm(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),To(e.__inheritedStyle,n.__inheritedStyle))}function hle(n){for(var e=E9(n),t=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),u=parseFloat(e[r+1]);t.push([i,u])}return t}function bp(n,e,t,r,i){var u=e,l=u.__inheritedStyle=u.__inheritedStyle||{},f={};n.nodeType===1&&(X9e(n,e),k0e(n,l,f),r||Y9e(n,l,f)),u.style=u.style||{},l.fill!=null&&(u.style.fill=ple(u,"fill",l.fill,t)),l.stroke!=null&&(u.style.stroke=ple(u,"stroke",l.stroke,t)),Te(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){l[h]!=null&&(u.style[h]=parseFloat(l[h]))}),Te(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(h){l[h]!=null&&(u.style[h]=l[h])}),i&&(u.__selfStyle=f),l.lineDash&&(u.style.lineDash=br(E9(l.lineDash),function(h){return parseFloat(h)})),(l.visibility==="hidden"||l.visibility==="collapse")&&(u.invisible=!0),l.display==="none"&&(u.ignore=!0)}function W9e(n,e){var t=e.__selfStyle;if(t){var r=t.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),n.style.textBaseline=i}var u=e.__inheritedStyle;if(u){var l=u.textAlign,f=l;l&&(l==="middle"&&(f="center"),n.style.textAlign=f)}}var U9e=/^url\(\s*#(.*?)\)/;function ple(n,e,t,r){var i=t&&t.match(U9e);if(i){var u=Xm(i[1]);r.push([n,e,u]);return}return t==="none"&&(t=null),t}function q9e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r[0].style[r[1]]=n[r[2]]}}var $9e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function E9(n){return n.match($9e)||[]}var G9e=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,kJ=Math.PI/180;function X9e(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var r=[],i=null;t.replace(G9e,function(b,S,_){return r.push(S,_),""});for(var u=r.length-1;u>0;u-=2){var l=r[u],f=r[u-1],h=E9(l);switch(i=i||Jm(),f){case"translate":Pb(i,i,[parseFloat(h[0]),parseFloat(h[1]||"0")]);break;case"scale":jee(i,i,[parseFloat(h[0]),parseFloat(h[1]||h[0])]);break;case"rotate":i_(i,i,-parseFloat(h[0])*kJ);break;case"skewX":var g=Math.tan(parseFloat(h[0])*kJ);cy(i,[1,0,g,1,0,0],i);break;case"skewY":var y=Math.tan(parseFloat(h[0])*kJ);cy(i,[1,y,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(h[0]),i[1]=parseFloat(h[1]),i[2]=parseFloat(h[2]),i[3]=parseFloat(h[3]),i[4]=parseFloat(h[4]),i[5]=parseFloat(h[5]);break}}e.setLocalTransform(i)}}var mle=/([^\s:;]+)\s*:\s*([^:;]+)/g;function k0e(n,e,t){var r=n.getAttribute("style");if(r){mle.lastIndex=0;for(var i;(i=mle.exec(r))!=null;){var u=i[1],l=Qo(_H,u)?_H[u]:null;l&&(e[l]=i[2]);var f=Qo(SH,u)?SH[u]:null;f&&(t[f]=i[2])}}}function Y9e(n,e,t){for(var r=0;r<sle.length;r++){var i=sle[r],u=n.getAttribute(i);u!=null&&(e[_H[i]]=u)}for(var r=0;r<lle.length;r++){var i=lle[r],u=n.getAttribute(i);u!=null&&(t[SH[i]]=u)}}function D0e(n,e){var t=e.width/n.width,r=e.height/n.height,i=Math.min(t,r);return{scale:i,x:-(n.x+n.width/2)*i+(e.x+e.width/2),y:-(n.y+n.height/2)*i+(e.y+e.height/2)}}function K9e(n,e){var t=new j9e;return t.parse(n,e)}var J9e=to(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Z9e=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=to(),this._freedGraphics=[],this._mapName=e,this._parsedXML=M0e(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=eje(e.named),r=t.regions,i=t.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,r;try{t=e&&K9e(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=t.root,Dp(r!=null)}catch(R){throw new Error(`Invalid svg format
`+R.message)}var i=new hi;i.add(r),i.isGeoSVGGraphicRoot=!0;var u=t.width,l=t.height,f=t.viewBoxRect,h=this._boundingRect;if(!h){var g=void 0,y=void 0,b=void 0,S=void 0;if(u!=null?(g=0,b=u):f&&(g=f.x,b=f.width),l!=null?(y=0,S=l):f&&(y=f.y,S=f.height),g==null||y==null){var _=r.getBoundingRect();g==null&&(g=_.x,b=_.width),y==null&&(y=_.y,S=_.height)}h=this._boundingRect=new vi(g,y,b,S)}if(f){var k=D0e(f,h);r.scaleX=r.scaleY=k.scale,r.x=k.x,r.y=k.y}i.setClipPath(new ya({shape:h.plain()}));var E=[];return Te(t.named,function(R){J9e.get(R.svgNodeTagLower)!=null&&(E.push(R),Q9e(R.el))}),{root:i,boundingRect:h,named:E}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,r),r)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);r&&(t.removeKey(e),this._freedGraphics.push(r))},n}();function Q9e(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}function eje(n){var e=[],t=to();return Te(n,function(r){if(r.namedFrom==null){var i=new ZFe(r.name,r.el);e.push(i),t.set(r.name,i)}}),{regions:e,regionsMap:t}}var CQ=[126,25],gle="南海诸岛",ZT=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var GT=0;GT<ZT.length;GT++)for(var l3=0;l3<ZT[GT].length;l3++)ZT[GT][l3][0]/=10.5,ZT[GT][l3][1]/=-10.5/.75,ZT[GT][l3][0]+=CQ[0],ZT[GT][l3][1]+=CQ[1];function tje(n,e){if(n==="china"){for(var t=0;t<e.length;t++)if(e[t].name===gle)return;e.push(new jve(gle,br(ZT,function(r){return{type:"polygon",exterior:r}}),CQ))}}var nje={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function rje(n,e){if(n==="china"){var t=nje[e.name];if(t){var r=e.getCenter();r[0]+=t[0]/10.5,r[1]+=-t[1]/(10.5/.75),e.setCenter(r)}}}var oje=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function ije(n,e){n==="china"&&e.name==="台湾"&&e.geometries.push({type:"polygon",exterior:oje[0]})}var aje="name",uje=function(){function n(e,t,r){this.type="geoJSON",this._parsedMap=to(),this._mapName=e,this._specialAreas=r,this._geoJSON=lje(t)}return n.prototype.load=function(e,t){t=t||aje;var r=this._parsedMap.get(t);if(!r){var i=this._parseToRegions(t);r=this._parsedMap.set(t,{regions:i,boundingRect:sje(i)})}var u=to(),l=[];return Te(r.regions,function(f){var h=f.name;e&&Qo(e,h)&&(f=f.cloneShallow(h=e[h])),l.push(f),u.set(h,f)}),{regions:l,boundingRect:r.boundingRect||new vi(0,0,0,0),regionsMap:u}},n.prototype._parseToRegions=function(e){var t=this._mapName,r=this._geoJSON,i;try{i=r?vQ(r,e):[]}catch(u){throw new Error(`Invalid geoJson format
`+u.message)}return tje(t,i),Te(i,function(u){var l=u.name;rje(t,u),ije(t,u);var f=this._specialAreas&&this._specialAreas[l];f&&u.transformTo(f.left,f.top,f.width,f.height)},this),i},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function sje(n){for(var e,t=0;t<n.length;t++){var r=n[t].getBoundingRect();e=e||r.clone(),e.union(r)}return e}function lje(n){return Lr(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var JP=to();const Lb={registerMap:function(n,e,t){if(e.svg){var r=new Z9e(n,e.svg);JP.set(n,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?t=e.specialAreas:i=e;var r=new uje(n,i,t);JP.set(n,r)}},getGeoResource:function(n){return JP.get(n)},getMapForUser:function(n){var e=JP.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(n,e,t){var r=JP.get(n);if(r)return r.load(e,t)}};var une=["rect","circle","line","ellipse","polygon","polyline","path"],cje=to(une),fje=to(une.concat(["g"])),dje=to(une.concat(["g"])),A0e=cu();function qF(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function vle(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var hje=function(){function n(e){var t=new hi;this.uid=p5("ec_map_draw"),this._controller=new C0e(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new hi),t.add(this._svgGroup=new hi)}return n.prototype.draw=function(e,t,r,i,u){var l=e.mainType==="geo",f=e.getData&&e.getData();l&&t.eachComponent({mainType:"series",subType:"map"},function(I){!f&&I.getHostGeoModel()===e&&(f=I.getData())});var h=e.coordinateSystem,g=this._regionsGroup,y=this.group,b=h.getTransformInfo(),S=b.raw,_=b.roam,k=!g.childAt(0)||u;k?(y.x=_.x,y.y=_.y,y.scaleX=_.scaleX,y.scaleY=_.scaleY,y.dirty()):tl(y,_,e);var E=f&&f.getVisual("visualMeta")&&f.getVisual("visualMeta").length>0,R={api:r,geo:h,mapOrGeoModel:e,data:f,isVisualEncodedByVisualMap:E,isGeo:l,transformInfoRaw:S};h.resourceType==="geoJSON"?this._buildGeoJSON(R):h.resourceType==="geoSVG"&&this._buildSVG(R),this._updateController(e,t,r),this._updateMapSelectHandler(e,g,r,i)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=to(),r=to(),i=this._regionsGroup,u=e.transformInfoRaw,l=e.mapOrGeoModel,f=e.data,h=e.geo.projection,g=h&&h.stream;function y(_,k){return k&&(_=k(_)),_&&[_[0]*u.scaleX+u.x,_[1]*u.scaleY+u.y]}function b(_){for(var k=[],E=!g&&h&&h.project,R=0;R<_.length;++R){var I=y(_[R],E);I&&k.push(I)}return k}function S(_){return{shape:{points:b(_)}}}i.removeAll(),Te(e.geo.regions,function(_){var k=_.name,E=t.get(k),R=r.get(k)||{},I=R.dataIdx,z=R.regionModel;E||(E=t.set(k,new hi),i.add(E),I=f?f.indexOfName(k):null,z=e.isGeo?l.getRegionModel(k):f?f.getItemModel(I):null,r.set(k,{dataIdx:I,regionModel:z}));var L=[],q=[];Te(_.geometries,function(ae){if(ae.type==="polygon"){var te=[ae.exterior].concat(ae.interiors||[]);g&&(te=Sle(te,g)),Te(te,function(le){L.push(new _y(S(le)))})}else{var ie=ae.points;g&&(ie=Sle(ie,g,!0)),Te(ie,function(le){q.push(new eg(S(le)))})}});var X=y(_.getCenter(),h&&h.project);function Y(ae,te){if(ae.length){var ie=new ute({culling:!0,segmentIgnoreThreshold:1,shape:{paths:ae}});E.add(ie),yle(e,ie,I,z),ble(e,ie,k,z,l,I,X),te&&(vle(ie),Te(ie.states,vle))}}Y(L),Y(q,!0)}),t.each(function(_,k){var E=r.get(k),R=E.dataIdx,I=E.regionModel;xle(e,_,k,I,l,R),wle(e,_,k,I,l),_le(e,_,k,I,l)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,r=e.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=to(),u=!1;Te(this._svgGraphicRecord.named,function(l){var f=l.name,h=e.mapOrGeoModel,g=e.data,y=l.svgNodeTagLower,b=l.el,S=g?g.indexOfName(f):null,_=h.getRegionModel(f);if(cje.get(y)!=null&&b instanceof Nb&&yle(e,b,S,_),b instanceof Nb&&(b.culling=!0),b.z2EmphasisLift=0,!l.namedFrom&&(dje.get(y)!=null&&ble(e,b,f,_,h,S,null),xle(e,b,f,_,h,S),wle(e,b,f,_,h),fje.get(y)!=null)){var k=_le(e,b,f,_,h);k==="self"&&(u=!0);var E=i.get(f)||i.set(f,[]);E.push(b)}},this),this._enableBlurEntireSVG(u,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(u){if(!u.isGroup){rte(u);var l=u.ensureState("blur").style||{};l.opacity==null&&i!=null&&(l.opacity=i),u.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var r=t.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var u=i.get(e);return u?[u]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Lb.getGeoResource(e);if(t&&t.type==="geoSVG"){var r=t.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=Lb.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,r){var i=e.coordinateSystem,u=this._controller,l=this._controllerHost;l.zoomLimit=e.get("scaleLimit"),l.zoom=i.getZoom(),u.enable(e.get("roam")||!1);var f=e.mainType;function h(){var g={type:"geoRoam",componentType:f};return g[f+"Id"]=e.id,g}u.off("pan").on("pan",function(g){this._mouseDownFlag=!1,F9e(l,g.dx,g.dy),r.dispatchAction(Gn(h(),{dx:g.dx,dy:g.dy,animation:{duration:0}}))},this),u.off("zoom").on("zoom",function(g){this._mouseDownFlag=!1,V9e(l,g.scale,g.originX,g.originY),r.dispatchAction(Gn(h(),{zoom:g.scale,originX:g.originX,originY:g.originY,animation:{duration:0}}))},this),u.setPointerChecker(function(g,y,b){return i.containPoint([y,b])&&!T0e(g,r,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=A0e(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,r,i){var u=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){u._mouseDownFlag=!0}),t.on("click",function(l){u._mouseDownFlag&&(u._mouseDownFlag=!1)}))},n}();function yle(n,e,t,r){var i=r.getModel("itemStyle"),u=r.getModel(["emphasis","itemStyle"]),l=r.getModel(["blur","itemStyle"]),f=r.getModel(["select","itemStyle"]),h=qF(i),g=qF(u),y=qF(f),b=qF(l),S=n.data;if(S){var _=S.getItemVisual(t,"style"),k=S.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&_.fill&&(h.fill=_.fill),k&&(h.decal=pH(k,n.api))}e.setStyle(h),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=g,e.ensureState("select").style=y,e.ensureState("blur").style=b,rte(e)}function ble(n,e,t,r,i,u,l){var f=n.data,h=n.isGeo,g=f&&isNaN(f.get(f.mapDimension("value"),u)),y=f&&f.getItemLayout(u);if(h||g||y&&y.showLabel){var b=h?t:u,S=void 0;(!f||u>=0)&&(S=i);var _=l?{normal:{align:"center",verticalAlign:"middle"}}:null;Vb(e,Hb(r),{labelFetcher:S,labelDataIndex:b,defaultText:t},_);var k=e.getTextContent();if(k&&(A0e(k).ignore=k.ignore,e.textConfig&&l)){var E=e.getBoundingRect().clone();e.textConfig.layoutRect=E,e.textConfig.position=[(l[0]-E.x)/E.width*100+"%",(l[1]-E.y)/E.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function xle(n,e,t,r,i,u){n.data?n.data.setItemGraphicEl(u,e):Ai(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:t,region:r&&r.option||{}}}function wle(n,e,t,r,i){n.data||h5({el:e,componentModel:i,itemName:t,itemTooltipOption:r.get("tooltip")})}function _le(n,e,t,r,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var u=r.getModel("emphasis"),l=u.get("focus");return J2(e,l,u.get("blurScope"),u.get("disabled")),n.isGeo&&R6e(e,i,t),l}function Sle(n,e,t){var r=[],i;function u(){i=[]}function l(){i.length&&(r.push(i),i=[])}var f=e({polygonStart:u,polygonEnd:l,lineStart:u,lineEnd:l,point:function(h,g){isFinite(h)&&isFinite(g)&&i.push([h,g])},sphere:function(){}});return!t&&f.polygonStart(),Te(n,function(h){f.lineStart();for(var g=0;g<h.length;g++)f.point(h[g][0],h[g][1]);f.lineEnd()}),!t&&f.polygonEnd(),r}const E0e=hje;var pje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,u){if(!(u&&u.type==="mapToggleSelect"&&u.from===this.uid)){var l=this.group;if(l.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&u&&u.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),u&&u.type==="geoRoam"&&u.componentType==="series"&&u.seriesId===t.id){var f=this._mapDraw;f&&l.add(f.group)}else if(t.needsDrawMap){var f=this._mapDraw||new E0e(i);l.add(f.group),f.draw(t,r,i,this,u),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(t,r,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,r,i){var u=t.originalData,l=this.group;u.each(u.mapDimension("value"),function(f,h){if(!isNaN(f)){var g=u.getItemLayout(h);if(!(!g||!g.point)){var y=g.point,b=g.offset,S=new Dv({style:{fill:t.getData().getVisual("style").fill},shape:{cx:y[0]+b*9,cy:y[1],r:3},silent:!0,z2:8+(b?0:hme+1)});if(!b){var _=t.mainSeries.getData(),k=u.getName(h),E=_.indexOfName(k),R=u.getItemModel(h),I=R.getModel("label"),z=_.getItemGraphicEl(E);Vb(S,Hb(R),{labelFetcher:{getFormattedLabel:function(L,q){return t.getFormattedLabel(E,q)}},defaultText:k}),S.disableLabelAnimation=!0,I.get("position")||S.setTextConfig({position:"bottom"}),z.onHoverStateChange=function(L){XZ(S,L)}}l.add(S)}}})},e.type="map",e}(sf);const mje=pje;var gje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),u=this.coordinateSystem,l=u.getRegion(i);return l&&u.dataToPoint(l.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var r=rne(this,{coordDimensions:["value"],encodeDefaulter:ji(sge,this)}),i=to(),u=[],l=0,f=r.count();l<f;l++){var h=r.getName(l);i.set(h,!0)}var g=Lb.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return Te(g.regions,function(y){var b=y.name;i.get(b)||u.push(b)}),r.appendValues([],u),r},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var r=this.getData();return r.get(r.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var r=this.getData();return r.getItemModel(r.indexOfName(t))},e.prototype.formatTooltip=function(t,r,i){for(var u=this.getData(),l=this.getRawValue(t),f=u.getName(t),h=this.seriesGroup,g=[],y=0;y<h.length;y++){var b=h[y].originalData.indexOfName(f),S=u.mapDimension("value");isNaN(h[y].originalData.get(S,b))||g.push(h[y].name)}return gy("section",{header:g.join(", "),noHeader:!g.length,blocks:[gy("nameValue",{name:f,value:l})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var r=t.icon||"roundRect",i=lf(r,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Dh);const vje=gje;function yje(n,e){var t={};return Te(n,function(r){r.each(r.mapDimension("value"),function(i,u){var l="ec-"+r.getName(u);t[l]=t[l]||[],isNaN(i)||t[l].push(i)})}),n[0].map(n[0].mapDimension("value"),function(r,i){for(var u="ec-"+n[0].getName(i),l=0,f=1/0,h=-1/0,g=t[u].length,y=0;y<g;y++)f=Math.min(f,t[u][y]),h=Math.max(h,t[u][y]),l+=t[u][y];var b;return e==="min"?b=f:e==="max"?b=h:e==="average"?b=l/g:b=l,g===0?NaN:b})}function bje(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getHostGeoModel(),i=r?"o"+r.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),Te(e,function(t,r){for(var i=yje(br(t,function(l){return l.getData()}),t[0].get("mapValueCalculation")),u=0;u<t.length;u++)t[u].originalData=t[u].getData();for(var u=0;u<t.length;u++)t[u].seriesGroup=t,t[u].needsDrawMap=u===0&&!t[u].getHostGeoModel(),t[u].setData(i.cloneShallow()),t[u].mainSeries=t[0]})}function xje(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getMapType();if(!(t.getHostGeoModel()||e[r])){var i={};Te(t.seriesGroup,function(l){var f=l.coordinateSystem,h=l.originalData;l.get("showLegendSymbol")&&n.getComponent("legend")&&h.each(h.mapDimension("value"),function(g,y){var b=h.getName(y),S=f.getRegion(b);if(!(!S||isNaN(g))){var _=i[b]||0,k=f.dataToPoint(S.getCenter());i[b]=_+1,h.setItemLayout(y,{point:k,offset:_})}})});var u=t.getData();u.each(function(l){var f=u.getName(l),h=u.getItemLayout(l)||{};h.showLabel=!i[f],u.setItemLayout(l,h)}),e[r]=!0}})}var Cle=Ic,wje=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new nM,r._rawTransformable=new nM,r.name=t,r}return e.prototype.setBoundingRect=function(t,r,i,u){return this._rect=new vi(t,r,i,u),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,r,i,u){this._transformTo(t,r,i,u),this._viewRect=new vi(t,r,i,u)},e.prototype._transformTo=function(t,r,i,u){var l=this.getBoundingRect(),f=this._rawTransformable;f.transform=l.calculateTransform(new vi(t,r,i,u));var h=f.parent;f.parent=null,f.decomposeTransform(),f.parent=h,this._updateTransform()},e.prototype.setCenter=function(t,r){t&&(this._center=[Xo(t[0],r.getWidth()),Xo(t[1],r.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var r=this.zoomLimit;r&&(r.max!=null&&(t=Math.min(r.max,t)),r.min!=null&&(t=Math.max(r.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),r=t.x+t.width/2,i=t.y+t.height/2;return[r,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),u=this.getCenter(),l=this.getZoom();u=Ic([],u,t),i=Ic([],i,t),r.originX=u[0],r.originY=u[1],r.x=i[0]-u[0],r.y=i[1]-u[1],r.scaleX=r.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,r=this._rawTransformable;r.parent=t,t.updateTransform(),r.updateTransform(),YH(this.transform||(this.transform=[]),r.transform||Jm()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],c5(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,r=this._roamTransformable,i=new nM;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,r,i){var u=r?this._rawTransform:this.transform;return i=i||[],u?Cle(i,t,u):hpe(i,t)},e.prototype.pointToData=function(t){var r=this.invTransform;return r?Cle([],t,r):[t[0],t[1]]},e.prototype.convertToPixel=function(t,r,i){var u=Tle(r);return u===this?u.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var u=Tle(r);return u===this?u.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(nM);function Tle(n){var e=n.seriesModel;return e?e.coordinateSystem:null}const O0e=wje;var _je={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},I0e=["lng","lat"],R0e=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,t)||this;u.dimensions=I0e,u.type="geo",u._nameCoordMap=to(),u.map=r;var l=i.projection,f=Lb.load(r,i.nameMap,i.nameProperty),h=Lb.getGeoResource(r);u.resourceType=h?h.type:null;var g=u.regions=f.regions,y=_je[h.type];u._regionsMap=f.regionsMap,u.regions=f.regions,u.projection=l;var b;if(l)for(var S=0;S<g.length;S++){var _=g[S].getBoundingRect(l);b=b||_.clone(),b.union(_)}else b=f.boundingRect;return u.setBoundingRect(b.x,b.y,b.width,b.height),u.aspectScale=l?1:Xi(i.aspectScale,y.aspectScale),u._invertLongitute=l?!1:y.invertLongitute,u}return e.prototype._transformTo=function(t,r,i,u){var l=this.getBoundingRect(),f=this._invertLongitute;l=l.clone(),f&&(l.y=-l.y-l.height);var h=this._rawTransformable;h.transform=l.calculateTransform(new vi(t,r,i,u));var g=h.parent;h.parent=null,h.decomposeTransform(),h.parent=g,f&&(h.scaleY=-h.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var r=this.regions,i=0;i<r.length;i++){var u=r[i];if(u.type==="geoJSON"&&u.contain(t))return r[i]}},e.prototype.addGeoCoord=function(t,r){this._nameCoordMap.set(t,r)},e.prototype.getGeoCoord=function(t){var r=this._regionsMap.get(t);return this._nameCoordMap.get(t)||r&&r.getCenter()},e.prototype.dataToPoint=function(t,r,i){if(Lr(t)&&(t=this.getGeoCoord(t)),t){var u=this.projection;return u&&(t=u.project(t)),t&&this.projectedToPoint(t,r,i)}},e.prototype.pointToData=function(t){var r=this.projection;return r&&(t=r.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,r,i){return n.prototype.dataToPoint.call(this,t,r,i)},e.prototype.convertToPixel=function(t,r,i){var u=Mle(r);return u===this?u.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var u=Mle(r);return u===this?u.pointToData(i):null},e}(O0e);ff(R0e,O0e);function Mle(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",mc).models[0]||{}).coordinateSystem:null}const kle=R0e;function Dle(n,e){var t=n.get("boundingCoords");if(t!=null){var r=t[0],i=t[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var u=this.projection;if(u){var l=r[0],f=r[1],h=i[0],g=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var y=function(Y,ae,te,ie){for(var le=te-Y,ce=ie-ae,ne=0;ne<=100;ne++){var Z=ne/100,Ce=u.project([Y+le*Z,ae+ce*Z]);wb(r,r,Ce),_b(i,i,Ce)}};y(l,f,h,f),y(h,f,h,g),y(h,g,l,g),y(l,g,h,f)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var b=this.getBoundingRect(),S=n.get("layoutCenter"),_=n.get("layoutSize"),k=e.getWidth(),E=e.getHeight(),R=b.width/b.height*this.aspectScale,I=!1,z,L;S&&_&&(z=[Xo(S[0],k),Xo(S[1],E)],L=Xo(_,Math.min(k,E)),!isNaN(z[0])&&!isNaN(z[1])&&!isNaN(L)&&(I=!0));var q;if(I)q={},R>1?(q.width=L,q.height=L/R):(q.height=L,q.width=L*R),q.y=z[1]-q.height/2,q.x=z[0]-q.width/2;else{var X=n.getBoxLayoutParams();X.aspect=R,q=Pd(X,{width:k,height:E})}this.setViewRect(q.x,q.y,q.width,q.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}function Sje(n,e){Te(e.get("geoCoord"),function(t,r){n.addGeoCoord(r,t)})}var Cje=function(){function n(){this.dimensions=I0e}return n.prototype.create=function(e,t){var r=[];function i(l){return{nameProperty:l.get("nameProperty"),aspectScale:l.get("aspectScale"),projection:l.get("projection")}}e.eachComponent("geo",function(l,f){var h=l.get("map"),g=new kle(h+f,h,Gn({nameMap:l.get("nameMap")},i(l)));g.zoomLimit=l.get("scaleLimit"),r.push(g),l.coordinateSystem=g,g.model=l,g.resize=Dle,g.resize(l,t)}),e.eachSeries(function(l){var f=l.get("coordinateSystem");if(f==="geo"){var h=l.get("geoIndex")||0;l.coordinateSystem=r[h]}});var u={};return e.eachSeriesByType("map",function(l){if(!l.getHostGeoModel()){var f=l.getMapType();u[f]=u[f]||[],u[f].push(l)}}),Te(u,function(l,f){var h=br(l,function(y){return y.get("nameMap")}),g=new kle(f,f,Gn({nameMap:ipe(h)},i(l[0])));g.zoomLimit=Ib.apply(null,br(l,function(y){return y.get("scaleLimit")})),r.push(g),g.resize=Dle,g.resize(l[0],t),Te(l,function(y){y.coordinateSystem=g,Sje(g,y)})}),r},n.prototype.getFilledRegions=function(e,t,r,i){for(var u=(e||[]).slice(),l=to(),f=0;f<u.length;f++)l.set(u[f].name,u[f]);var h=Lb.load(t,r,i);return Te(h.regions,function(g){var y=g.name;!l.get(y)&&u.push({name:y})}),u},n}(),Tje=new Cje;const P0e=Tje;var Mje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){var u=Lb.getGeoResource(t.map);if(u&&u.type==="geoJSON"){var l=t.itemStyle=t.itemStyle||{};"color"in l||(l.color="#eee")}this.mergeDefaultAndTheme(t,i),tH(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,r=this.option;r.regions=P0e.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=Km(r.regions||[],function(u,l){var f=l.name;return f&&(u.set(f,new xs(l,t,t.ecModel)),l.selected&&(i[f]=!0)),u},to()),r.selectedMap||(r.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new xs(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,r){var i=this.getRegionModel(t),u=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),l={name:t};if(Eo(u))return l.status=r,u(l);if(Lr(u))return u.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var u=r.selectedMap||(r.selectedMap={});u[t]=!0}},e.prototype.unSelect=function(t){var r=this.option.selectedMap;r&&(r[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var r=this.option.selectedMap;return!!(r&&r[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Vi);const kje=Mje;function Ale(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function Dje(n,e,t,r){var i=n.getZoom(),u=n.getCenter(),l=e.zoom,f=n.projectedToPoint?n.projectedToPoint(u):n.dataToPoint(u);if(e.dx!=null&&e.dy!=null&&(f[0]-=e.dx,f[1]-=e.dy,n.setCenter(Ale(n,f),r)),l!=null){if(t){var h=t.min||0,g=t.max||1/0;l=Math.max(Math.min(i*l,g),h)/i}n.scaleX*=l,n.scaleY*=l;var y=(e.originX-n.x)*(l-1),b=(e.originY-n.y)*(l-1);n.x-=y,n.y-=b,n.updateTransform(),n.setCenter(Ale(n,f),r),n.setZoom(l*i)}return{center:n.getCenter(),zoom:n.getZoom()}}var Aje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,r){this._api=r},e.prototype.render=function(t,r,i,u){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new E0e(i));var l=this._mapDraw;l.draw(t,r,i,this,u),l.group.on("click",this._handleRegionClick,this),l.group.silent=t.get("silent"),this.group.add(l.group),this.updateSelectStatus(t,r,i)},e.prototype._handleRegionClick=function(t){var r;aM(t.target,function(i){return(r=Ai(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},e.prototype.updateSelectStatus=function(t,r,i){var u=this;this._mapDraw.group.traverse(function(l){var f=Ai(l).eventData;if(f)return u._model.isSelected(f.name)?i.enterSelect(l):i.leaveSelect(l),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(zs);const Eje=Aje;function Oje(n,e,t){Lb.registerMap(n,e,t)}function Ije(n){n.registerCoordinateSystem("geo",P0e),n.registerComponentModel(kje),n.registerComponentView(Eje),n.registerImpl("registerMap",Oje),n.registerImpl("getMap",function(t){return Lb.getMapForUser(t)});function e(t,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(i,u){var l={},f=[];return u.eachComponent({mainType:"geo",query:i},function(h){h[t](i.name);var g=h.coordinateSystem;Te(g.regions,function(b){l[b.name]=h.isSelected(b.name)||!1});var y=[];Te(l,function(b,S){l[S]&&y.push(S)}),f.push({geoIndex:h.componentIndex,name:y})}),{selected:l,allSelected:f,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,r,i){var u=t.componentType||"series";r.eachComponent({mainType:u,query:t},function(l){var f=l.coordinateSystem;if(f.type==="geo"){var h=Dje(f,t,l.get("scaleLimit"),i);l.setCenter&&l.setCenter(h.center),l.setZoom&&l.setZoom(h.zoom),u==="series"&&Te(l.seriesGroup,function(g){g.setCenter(h.center),g.setZoom(h.zoom)})}})})}function Rje(n){Rc(Ije),n.registerChartView(mje),n.registerSeriesModel(vje),n.registerLayout(xje),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,bje),Uge("map",n.registerAction)}var mL=Te,Pje=no,CH=-1,sne=function(){function n(e){var t=e.mappingMethod,r=e.type,i=this.option=vo(e);this.type=r,this.mappingMethod=t,this._normalizeData=Bje[t];var u=n.visualHandlers[r];this.applyVisual=u.applyVisual,this.getColorMapper=u.getColorMapper,this._normalizedToVisual=u._normalizedToVisual[t],t==="piecewise"?(DJ(i),Nje(i)):t==="category"?i.categories?Lje(i):DJ(i,!0):(Dp(t!=="linear"||i.dataExtent),DJ(i))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return Wr(this._normalizeData,this)},n.listVisualTypes=function(){return va(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,r){no(e)?Te(e,t,r):t.call(r,e)},n.mapVisual=function(e,t,r){var i,u=sr(e)?[]:no(e)?{}:(i=!0,null);return n.eachVisual(e,function(l,f){var h=t.call(r,l,f);i?u=h:u[f]=h}),u},n.retrieveVisuals=function(e){var t={},r;return e&&mL(n.visualHandlers,function(i,u){e.hasOwnProperty(u)&&(t[u]=e[u],r=!0)}),r?t:null},n.prepareVisualTypes=function(e){if(sr(e))e=e.slice();else if(Pje(e)){var t=[];mL(e,function(r,i){t.push(i)}),e=t}else return[];return e.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},n.findPieceIndex=function(e,t,r){for(var i,u=1/0,l=0,f=t.length;l<f;l++){var h=t[l].value;if(h!=null){if(h===e||Lr(h)&&h===e+"")return l;r&&S(h,l)}}for(var l=0,f=t.length;l<f;l++){var g=t[l],y=g.interval,b=g.close;if(y){if(y[0]===-1/0){if(GF(b[1],e,y[1]))return l}else if(y[1]===1/0){if(GF(b[0],y[0],e))return l}else if(GF(b[0],y[0],e)&&GF(b[1],e,y[1]))return l;r&&S(y[0],l),r&&S(y[1],l)}}if(r)return e===1/0?t.length-1:e===-1/0?0:i;function S(_,k){var E=Math.abs(_-e);E<u&&(u=E,i=k)}},n.visualHandlers={color:{applyVisual:ZP("color"),getColorMapper:function(){var e=this.option;return Wr(e.mappingMethod==="category"?function(t,r){return!r&&(t=this._normalizeData(t)),gN.call(this,t)}:function(t,r,i){var u=!!i;return!r&&(t=this._normalizeData(t)),i=EN(t,e.parsedVisual,i),u?i:Cv(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Cv(EN(e,this.option.parsedVisual),"rgba")},category:gN,piecewise:function(e,t){var r=MQ.call(this,t);return r==null&&(r=Cv(EN(e,this.option.parsedVisual),"rgba")),r},fixed:QT}},colorHue:$F(function(e,t){return pV(e,t)}),colorSaturation:$F(function(e,t){return pV(e,null,t)}),colorLightness:$F(function(e,t){return pV(e,null,null,t)}),colorAlpha:$F(function(e,t){return Ipe(e,t)}),decal:{applyVisual:ZP("decal"),_normalizedToVisual:{linear:null,category:gN,piecewise:null,fixed:null}},opacity:{applyVisual:ZP("opacity"),_normalizedToVisual:TQ([0,1])},liftZ:{applyVisual:ZP("liftZ"),_normalizedToVisual:{linear:QT,category:QT,piecewise:QT,fixed:QT}},symbol:{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("symbol",i)},_normalizedToVisual:{linear:Ele,category:gN,piecewise:function(e,t){var r=MQ.call(this,t);return r==null&&(r=Ele.call(this,e)),r},fixed:QT}},symbolSize:{applyVisual:ZP("symbolSize"),_normalizedToVisual:TQ([0,1])}},n}();function Nje(n){var e=n.pieceList;n.hasSpecialVisual=!1,Te(e,function(t,r){t.originIndex=r,t.visual!=null&&(n.hasSpecialVisual=!0)})}function Lje(n){var e=n.categories,t=n.categoryMap={},r=n.visual;if(mL(e,function(l,f){t[l]=f}),!sr(r)){var i=[];no(r)?mL(r,function(l,f){var h=t[f];i[h??CH]=l}):i[CH]=r,r=N0e(n,i)}for(var u=e.length-1;u>=0;u--)r[u]==null&&(delete t[e[u]],e.pop())}function DJ(n,e){var t=n.visual,r=[];no(t)?mL(t,function(u){r.push(u)}):t!=null&&r.push(t);var i={color:1,symbol:1};!e&&r.length===1&&!i.hasOwnProperty(n.type)&&(r[1]=r[0]),N0e(n,r)}function $F(n){return{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("color",n(t("color"),i))},_normalizedToVisual:TQ([0,1])}}function Ele(n){var e=this.option.visual;return e[Math.round(rs(n,[0,1],[0,e.length-1],!0))]||{}}function ZP(n){return function(e,t,r){r(n,this.mapValueToVisual(e))}}function gN(n){var e=this.option.visual;return e[this.option.loop&&n!==CH?n%e.length:n]}function QT(){return this.option.visual[0]}function TQ(n){return{linear:function(e){return rs(e,n,this.option.visual,!0)},category:gN,piecewise:function(e,t){var r=MQ.call(this,t);return r==null&&(r=rs(e,n,this.option.visual,!0)),r},fixed:QT}}function MQ(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=sne.findPieceIndex(n,t),i=t[r];if(i&&i.visual)return i.visual[this.type]}}function N0e(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=br(e,function(t){var r=_h(t);return r||[0,0,0,1]})),e}var Bje={linear:function(n){return rs(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=sne.findPieceIndex(n,e,!0);if(t!=null)return rs(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??CH},fixed:uf};function GF(n,e,t){return n?e<=t:e<t}const Sh=sne;function zje(n){Fje(n),Vje(n)}function Fje(n){if(!n.parallel){var e=!1;Te(n.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(n.parallel=[{}])}}function Vje(n){var e=Bs(n.parallelAxis);Te(e,function(t){if(no(t)){var r=t.parallelIndex||0,i=Bs(n.parallel)[r];i&&i.parallelAxisDefault&&Ho(t,i.parallelAxisDefault,!1)}})}var Hje=5,jje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this._model=t,this._api=i,this._handlers||(this._handlers={},Te(Wje,function(u,l){i.getZr().on(l,this._handlers[l]=Wr(u,this))},this)),FL(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,r){lL(this,"_throttledDispatchExpand"),Te(this._handlers,function(i,u){r.getZr().off(u,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Gn({type:"parallelAxisExpand"},t))},e.type="parallel",e}(zs),Wje={mousedown:function(n){AJ(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(AJ(this,"click")&&e){var t=[n.offsetX,n.offsetY],r=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(r>Hje)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!AJ(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=t.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function AJ(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}const Uje=jje;var qje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var r=this.option;t&&Ho(r,t,!0),this._initDimensions()},e.prototype.contains=function(t,r){var i=t.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){Te(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){t.hasOwnProperty(r)&&(this.option[r]=t[r])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],r=this.parallelAxisIndex=[],i=Ls(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(u){return(u.get("parallelIndex")||0)===this.componentIndex},this);Te(i,function(u){t.push("dim"+u.get("dim")),r.push(u.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Vi);const $je=qje;var Gje=function(n){Tn(e,n);function e(t,r,i,u,l){var f=n.call(this,t,r,i)||this;return f.type=u||"value",f.axisIndex=l,f}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(Ov);const Xje=Gje;function PM(n,e,t,r,i,u){n=n||0;var l=t[1]-t[0];if(i!=null&&(i=c3(i,[0,l])),u!=null&&(u=Math.max(u,i??0)),r==="all"){var f=Math.abs(e[1]-e[0]);f=c3(f,[0,l]),i=u=c3(f,[i,u]),r=0}e[0]=c3(e[0],t),e[1]=c3(e[1],t);var h=EJ(e,r);e[r]+=n;var g=i||0,y=t.slice();h.sign<0?y[0]+=g:y[1]-=g,e[r]=c3(e[r],y);var b;return b=EJ(e,r),i!=null&&(b.sign!==h.sign||b.span<i)&&(e[1-r]=e[r]+h.sign*i),b=EJ(e,r),u!=null&&b.span>u&&(e[1-r]=e[r]+b.sign*u),e}function EJ(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function c3(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var OJ=Te,L0e=Math.min,B0e=Math.max,Ole=Math.floor,Yje=Math.ceil,Ile=el,Kje=Math.PI,Jje=function(){function n(e,t,r){this.type="parallel",this._axesMap=to(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var i=e.dimensions,u=e.parallelAxisIndex;OJ(i,function(l,f){var h=u[f],g=t.getComponent("parallelAxis",h),y=this._axesMap.set(l,new Xje(l,D9(g),[0,0],g.get("type"),h)),b=y.type==="category";y.onBand=b&&g.get("boundaryGap"),y.inverse=g.get("inverse"),g.axis=y,y.model=g,y.coordinateSystem=g.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),r=t.axisBase,i=t.layoutBase,u=t.pixelDimIndex,l=e[1-u],f=e[u];return l>=r&&l<=r+t.axisLength&&f>=i&&f<=i+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(r){if(e.contains(r,t)){var i=r.getData();OJ(this.dimensions,function(u){var l=this._axesMap.get(u);l.scale.unionExtentFromData(i,i.mapDimension(u)),Z3(l.scale,l.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=Pd(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,r=["x","y"],i=["width","height"],u=e.get("layout"),l=u==="horizontal"?0:1,f=t[i[l]],h=[0,f],g=this.dimensions.length,y=XF(e.get("axisExpandWidth"),h),b=XF(e.get("axisExpandCount")||0,[0,g]),S=e.get("axisExpandable")&&g>3&&g>b&&b>1&&y>0&&f>0,_=e.get("axisExpandWindow"),k;if(_)k=XF(_[1]-_[0],h),_[1]=_[0]+k;else{k=XF(y*(b-1),h);var E=e.get("axisExpandCenter")||Ole(g/2);_=[y*E-k/2],_[1]=_[0]+k}var R=(f-k)/(g-b);R<3&&(R=0);var I=[Ole(Ile(_[0]/y,1))+1,Yje(Ile(_[1]/y,1))-1],z=R/y*_[0];return{layout:u,pixelDimIndex:l,layoutBase:t[r[l]],layoutLength:f,axisBase:t[r[1-l]],axisLength:t[i[1-l]],axisExpandable:S,axisExpandWidth:y,axisCollapseWidth:R,axisExpandWindow:_,axisCount:g,winInnerIndices:I,axisExpandWindow0Pos:z}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),u=i.layout;t.each(function(l){var f=[0,i.axisLength],h=l.inverse?1:0;l.setExtent(f[h],f[1-h])}),OJ(r,function(l,f){var h=(i.axisExpandable?Qje:Zje)(f,i),g={horizontal:{x:h.position,y:i.axisLength},vertical:{x:0,y:h.position}},y={horizontal:Kje/2,vertical:0},b=[g[u].x+e.x,g[u].y+e.y],S=y[u],_=Jm();i_(_,_,S),Pb(_,_,b),this._axesLayout[l]={position:b,rotation:S,transform:_,axisNameAvailableWidth:h.axisNameAvailableWidth,axisLabelShow:h.axisLabelShow,nameTruncateMaxWidth:h.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,r,i){r==null&&(r=0),i==null&&(i=e.count());var u=this._axesMap,l=this.dimensions,f=[],h=[];Te(l,function(R){f.push(e.mapDimension(R)),h.push(u.get(R).model)});for(var g=this.hasAxisBrushed(),y=r;y<i;y++){var b=void 0;if(!g)b="normal";else{b="active";for(var S=e.getValues(f,y),_=0,k=l.length;_<k;_++){var E=h[_].getActiveState(S[_]);if(E==="inactive"){b="inactive";break}}}t(b,y)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,r=!1,i=0,u=e.length;i<u;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(r=!0);return r},n.prototype.axisCoordToPoint=function(e,t){var r=this._axesLayout[t];return Tv([e,0],r.transform)},n.prototype.getAxisLayout=function(e){return vo(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),r=t.pixelDimIndex,i=t.axisExpandWindow.slice(),u=i[1]-i[0],l=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var f=e[r]-t.layoutBase-t.axisExpandWindow0Pos,h,g="slide",y=t.axisCollapseWidth,b=this._model.get("axisExpandSlideTriggerArea"),S=b[0]!=null;if(y)S&&y&&f<u*b[0]?(g="jump",h=f-u*b[2]):S&&y&&f>u*(1-b[0])?(g="jump",h=f-u*(1-b[2])):(h=f-u*b[1])>=0&&(h=f-u*(1-b[1]))<=0&&(h=0),h*=t.axisExpandWidth/y,h?PM(h,i,l,"all"):g="none";else{var _=i[1]-i[0],k=l[1]*f/_;i=[B0e(0,k-_/2)],i[1]=L0e(l[1],i[0]+_),i[0]=i[1]-_}return{axisExpandWindow:i,behavior:g}},n}();function XF(n,e){return L0e(B0e(n,e[0]),e[1])}function Zje(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function Qje(n,e){var t=e.layoutLength,r=e.axisExpandWidth,i=e.axisCount,u=e.axisCollapseWidth,l=e.winInnerIndices,f,h=u,g=!1,y;return n<l[0]?(f=n*u,y=u):n<=l[1]?(f=e.axisExpandWindow0Pos+n*r-e.axisExpandWindow[0],h=r,g=!0):(f=t-(i-1-n)*u,y=u),{position:f,axisNameAvailableWidth:h,axisLabelShow:g,nameTruncateMaxWidth:y}}const eWe=Jje;function tWe(n,e){var t=[];return n.eachComponent("parallel",function(r,i){var u=new eWe(r,n,e);u.name="parallel_"+i,u.resize(r,e),r.coordinateSystem=u,u.model=r,t.push(u)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",mc).models[0];r.coordinateSystem=i.coordinateSystem}}),t}var nWe={create:tWe};const rWe=nWe;var z0e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return G3([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var r=this.activeIntervals=vo(t);if(r)for(var i=r.length-1;i>=0;i--)ay(r[i])},e.prototype.getActiveState=function(t){var r=this.activeIntervals;if(!r.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var u=0,l=r.length;u<l;u++)if(r[u][0]<=t&&t<=r[u][1])return"active";return"inactive"},e}(Vi);ff(z0e,jL);const Rle=z0e;var TM=!0,gL=Math.min,Q3=Math.max,oWe=Math.pow,iWe=1e4,aWe=6,uWe=6,Ple="globalPan",sWe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},lWe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Nle={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},cWe=0,fWe=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=t,r.group=new hi,r._uid="brushController_"+cWe++,Te(yWe,function(i,u){this._handlers[u]=Wr(i,this)},r),r}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var r=this._zr;this._enableGlobalPan||L9e(r,Ple,this._uid),Te(this._handlers,function(i,u){r.on(u,i)}),this._brushType=t.brushType,this._brushOption=Ho(vo(Nle),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;B9e(t,Ple,this._uid),Te(this._handlers,function(r,i){t.off(i,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var r=this._panels={};Te(t,function(i){r[i.panelId]=vo(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=br(t,function(S){return Ho(vo(Nle),S,!0)});var r="\0-brush-index-",i=this._covers,u=this._covers=[],l=this,f=this._creatingCover;return new $te(i,t,g,h).add(y).update(y).remove(b).execute(),this;function h(S,_){return(S.id!=null?S.id:r+_)+"-"+S.brushType}function g(S,_){return h(S.__brushOption,_)}function y(S,_){var k=t[S];if(_!=null&&i[_]===f)u[S]=i[_];else{var E=u[S]=_!=null?(i[_].__brushOption=k,i[_]):V0e(l,F0e(l,k));lne(l,E)}}function b(S){i[S]!==f&&l.group.remove(i[S])}},e.prototype.unmount=function(){return this.enableBrush(!1),kQ(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Qm);function F0e(n,e){var t=O9[e.brushType].createCover(n,e);return t.__brushOption=e,j0e(t,e),n.group.add(t),t}function V0e(n,e){var t=cne(e);return t.endCreating&&(t.endCreating(n,e),j0e(e,e.__brushOption)),e}function H0e(n,e){var t=e.__brushOption;cne(e).updateCoverShape(n,e,t.range,t)}function j0e(n,e){var t=e.z;t==null&&(t=iWe),n.traverse(function(r){r.z=t,r.z2=t})}function lne(n,e){cne(e).updateCommon(n,e),H0e(n,e)}function cne(n){return O9[n.__brushOption.brushType]}function fne(n,e,t){var r=n._panels;if(!r)return TM;var i,u=n._transform;return Te(r,function(l){l.isTargetByCursor(e,t,u)&&(i=l)}),i}function W0e(n,e){var t=n._panels;if(!t)return TM;var r=e.__brushOption.panelId;return r!=null?t[r]:TM}function kQ(n){var e=n._covers,t=e.length;return Te(e,function(r){n.group.remove(r)},n),e.length=0,!!t}function MM(n,e){var t=br(n._covers,function(r){var i=r.__brushOption,u=vo(i.range);return{brushType:i.brushType,panelId:i.panelId,range:u}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function dWe(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],r=e[0],i=t[0]-r[0],u=t[1]-r[1],l=oWe(i*i+u*u,.5);return l>aWe}function U0e(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function q0e(n,e,t,r){var i=new hi;return i.add(new ya({name:"main",style:dne(t),silent:!0,draggable:!0,cursor:"move",drift:ji(Lle,n,e,i,["n","s","w","e"]),ondragend:ji(MM,e,{isEnd:!0})})),Te(r,function(u){i.add(new ya({name:u.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ji(Lle,n,e,i,u),ondragend:ji(MM,e,{isEnd:!0})}))}),i}function $0e(n,e,t,r){var i=r.brushStyle.lineWidth||0,u=Q3(i,uWe),l=t[0][0],f=t[1][0],h=l-i/2,g=f-i/2,y=t[0][1],b=t[1][1],S=y-u+i/2,_=b-u+i/2,k=y-l,E=b-f,R=k+i,I=E+i;gb(n,e,"main",l,f,k,E),r.transformable&&(gb(n,e,"w",h,g,u,I),gb(n,e,"e",S,g,u,I),gb(n,e,"n",h,g,R,u),gb(n,e,"s",h,_,R,u),gb(n,e,"nw",h,g,u,u),gb(n,e,"ne",S,g,u,u),gb(n,e,"sw",h,_,u,u),gb(n,e,"se",S,_,u,u))}function DQ(n,e){var t=e.__brushOption,r=t.transformable,i=e.childAt(0);i.useStyle(dne(t)),i.attr({silent:!r,cursor:r?"move":"default"}),Te([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(u){var l=e.childOfName(u.join("")),f=u.length===1?AQ(n,u[0]):pWe(n,u);l&&l.attr({silent:!r,invisible:!r,cursor:r?lWe[f]+"-resize":null})})}function gb(n,e,t,r,i,u,l){var f=e.childOfName(t);f&&f.setShape(gWe(hne(n,e,[[r,i],[r+u,i+l]])))}function dne(n){return To({strokeNoScale:!0},n.brushStyle)}function G0e(n,e,t,r){var i=[gL(n,t),gL(e,r)],u=[Q3(n,t),Q3(e,r)];return[[i[0],u[0]],[i[1],u[1]]]}function hWe(n){return G2(n.group)}function AQ(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=a9(t[e],hWe(n));return r[i]}function pWe(n,e){var t=[AQ(n,e[0]),AQ(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function Lle(n,e,t,r,i,u){var l=t.__brushOption,f=n.toRectRange(l.range),h=X0e(e,i,u);Te(r,function(g){var y=sWe[g];f[y[0]][y[1]]+=h[y[0]]}),l.range=n.fromRectRange(G0e(f[0][0],f[1][0],f[0][1],f[1][1])),lne(e,t),MM(e,{isEnd:!1})}function mWe(n,e,t,r){var i=e.__brushOption.range,u=X0e(n,t,r);Te(i,function(l){l[0]+=u[0],l[1]+=u[1]}),lne(n,e),MM(n,{isEnd:!1})}function X0e(n,e,t){var r=n.group,i=r.transformCoordToLocal(e,t),u=r.transformCoordToLocal(0,0);return[i[0]-u[0],i[1]-u[1]]}function hne(n,e,t){var r=W0e(n,e);return r&&r!==TM?r.clipPath(t,n._transform):vo(t)}function gWe(n){var e=gL(n[0][0],n[1][0]),t=gL(n[0][1],n[1][1]),r=Q3(n[0][0],n[1][0]),i=Q3(n[0][1],n[1][1]);return{x:e,y:t,width:r-e,height:i-t}}function vWe(n,e,t){if(!(!n._brushType||bWe(n,e.offsetX,e.offsetY))){var r=n._zr,i=n._covers,u=fne(n,e,t);if(!n._dragging)for(var l=0;l<i.length;l++){var f=i[l].__brushOption;if(u&&(u===TM||f.panelId===u.panelId)&&O9[f.brushType].contain(i[l],t[0],t[1]))return}u&&r.setCursorStyle("crosshair")}}function EQ(n){var e=n.event;e.preventDefault&&e.preventDefault()}function OQ(n,e,t){return n.childOfName("main").contain(e,t)}function Y0e(n,e,t,r){var i=n._creatingCover,u=n._creatingPanel,l=n._brushOption,f;if(n._track.push(t.slice()),dWe(n)||i){if(u&&!i){l.brushMode==="single"&&kQ(n);var h=vo(l);h.brushType=Ble(h.brushType,u),h.panelId=u===TM?null:u.panelId,i=n._creatingCover=F0e(n,h),n._covers.push(i)}if(i){var g=O9[Ble(n._brushType,u)],y=i.__brushOption;y.range=g.getCreatingRange(hne(n,i,n._track)),r&&(V0e(n,i),g.updateCommon(n,i)),H0e(n,i),f={isEnd:r}}}else r&&l.brushMode==="single"&&l.removeOnClick&&fne(n,e,t)&&kQ(n)&&(f={isEnd:r,removeOnClick:!0});return f}function Ble(n,e){return n==="auto"?e.defaultBrushType:n}var yWe={mousedown:function(n){if(this._dragging)zle(this,n);else if(!n.target||!n.target.draggable){EQ(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=fne(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,r=this.group.transformCoordToLocal(e,t);if(vWe(this,n,r),this._dragging){EQ(n);var i=Y0e(this,n,r,!1);i&&MM(this,i)}},mouseup:function(n){zle(this,n)}};function zle(n,e){if(n._dragging){EQ(e);var t=e.offsetX,r=e.offsetY,i=n.group.transformCoordToLocal(t,r),u=Y0e(n,e,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,u&&MM(n,u)}}function bWe(n,e,t){var r=n._zr;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var O9={lineX:Fle(0),lineY:Fle(1),rect:{createCover:function(n,e){function t(r){return r}return q0e({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=U0e(n);return G0e(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,r){$0e(n,e,t,r)},updateCommon:DQ,contain:OQ},polygon:{createCover:function(n,e){var t=new hi;return t.add(new eg({name:"main",style:dne(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new _y({name:"main",draggable:!0,drift:ji(mWe,n,e),ondragend:ji(MM,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,r){e.childAt(0).setShape({points:hne(n,e,t)})},updateCommon:DQ,contain:OQ}};function Fle(n){return{createCover:function(e,t){return q0e({toRectRange:function(r){var i=[r,[0,100]];return n&&i.reverse(),i},fromRectRange:function(r){return r[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=U0e(e),r=gL(t[0][n],t[1][n]),i=Q3(t[0][n],t[1][n]);return[r,i]},updateCoverShape:function(e,t,r,i){var u,l=W0e(e,t);if(l!==TM&&l.getLinearBrushOtherExtent)u=l.getLinearBrushOtherExtent(n);else{var f=e._zr;u=[0,[f.getWidth(),f.getHeight()][1-n]]}var h=[r,u];n&&h.reverse(),$0e(e,t,h,i)},updateCommon:DQ,contain:OQ}}const K0e=fWe;function J0e(n){return n=pne(n),function(e){return pte(e,n)}}function Z0e(n,e){return n=pne(n),function(t){var r=e??t,i=r?n.width:n.height,u=r?n.x:n.y;return[u,u+(i||0)]}}function Q0e(n,e,t){var r=pne(n);return function(i,u){return r.contain(u[0],u[1])&&!T0e(i,e,t)}}function pne(n){return vi.create(n)}var xWe=["axisLine","axisTickLabel","axisName"],wWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){n.prototype.init.apply(this,arguments),(this._brushController=new K0e(r.getZr())).on("brush",Wr(this._onBrush,this))},e.prototype.render=function(t,r,i,u){if(!_We(t,r,u)){this.axisModel=t,this.api=i,this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new hi,this.group.add(this._axisGroup),!!t.get("show")){var f=CWe(t,r),h=f.coordinateSystem,g=t.getAreaSelectStyle(),y=g.width,b=t.axis.dim,S=h.getAxisLayout(b),_=Gn({strokeContainThreshold:y},S),k=new t_(t,_);Te(xWe,k.add,k),this._axisGroup.add(k.getGroup()),this._refreshBrushController(_,g,t,f,y,i),u9(l,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,r,i,u,l,f){var h=i.axis.getExtent(),g=h[1]-h[0],y=Math.min(30,Math.abs(g)*.1),b=vi.create({x:h[0],y:-l/2,width:g,height:l});b.x-=y,b.width+=2*y,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:J0e(b),isTargetByCursor:Q0e(b,f,u),getLinearBrushOtherExtent:Z0e(b,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(SWe(i))},e.prototype._onBrush=function(t){var r=t.areas,i=this.axisModel,u=i.axis,l=br(r,function(f){return[u.coordToData(f.range[0],!0),u.coordToData(f.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:l})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(zs);function _We(n,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}function SWe(n){var e=n.axis;return br(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function CWe(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}const TWe=wWe;var MWe={type:"axisAreaSelect",event:"axisAreaSelected"};function kWe(n){n.registerAction(MWe,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}var DWe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function AWe(n){n.registerComponentView(Uje),n.registerComponentModel($je),n.registerCoordinateSystem("parallel",rWe),n.registerPreprocessor(zje),n.registerComponentModel(Rle),n.registerComponentView(TWe),hL(n,"parallel",Rle,DWe),kWe(n)}var EWe=["itemStyle","borderWidth"],Vle=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],IJ=new Dv,OWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=this.group,l=t.getData(),f=this._data,h=t.coordinateSystem,g=h.getBaseAxis(),y=g.isHorizontal(),b=h.master.getRect(),S={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:h,coordSysExtent:[[b.x,b.x+b.width],[b.y,b.y+b.height]],isHorizontal:y,valueDim:Vle[+y],categoryDim:Vle[1-+y]};return l.diff(f).add(function(_){if(l.hasValue(_)){var k=jle(l,_),E=Hle(l,_,k,S),R=Wle(l,S,E);l.setItemGraphicEl(_,R),u.add(R),qle(R,S,E)}}).update(function(_,k){var E=f.getItemGraphicEl(k);if(!l.hasValue(_)){u.remove(E);return}var R=jle(l,_),I=Hle(l,_,R,S),z=iye(l,I);E&&z!==E.__pictorialShapeStr&&(u.remove(E),l.setItemGraphicEl(_,null),E=null),E?zWe(E,S,I):E=Wle(l,S,I,!0),l.setItemGraphicEl(_,E),E.__pictorialSymbolMeta=I,u.add(E),qle(E,S,I)}).remove(function(_){var k=f.getItemGraphicEl(_);k&&Ule(f,_,k.__pictorialSymbolMeta.animationModel,k)}).execute(),this._data=l,this.group},e.prototype.remove=function(t,r){var i=this.group,u=this._data;t.get("animation")?u&&u.eachItemGraphicEl(function(l){Ule(u,Ai(l).dataIndex,t,l)}):i.removeAll()},e.type="pictorialBar",e}(sf);function Hle(n,e,t,r){var i=n.getItemLayout(e),u=t.get("symbolRepeat"),l=t.get("symbolClip"),f=t.get("symbolPosition")||"start",h=t.get("symbolRotate"),g=(h||0)*Math.PI/180||0,y=t.get("symbolPatternSize")||2,b=t.isAnimationEnabled(),S={dataIndex:e,layout:i,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:l,symbolRepeat:u,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:y,rotation:g,animationModel:b?t:null,hoverScale:b&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};IWe(t,u,i,r,S),RWe(n,e,i,u,l,S.boundingLength,S.pxSign,y,r,S),PWe(t,S.symbolScale,g,r,S);var _=S.symbolSize,k=w9(t.get("symbolOffset"),_);return NWe(t,_,i,u,l,k,f,S.valueLineWidth,S.boundingLength,S.repeatCutLength,r,S),S}function IWe(n,e,t,r,i){var u=r.valueDim,l=n.get("symbolBoundingData"),f=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),h=f.toGlobalCoord(f.dataToCoord(0)),g=1-+(t[u.wh]<=0),y;if(sr(l)){var b=[RJ(f,l[0])-h,RJ(f,l[1])-h];b[1]<b[0]&&b.reverse(),y=b[g]}else l!=null?y=RJ(f,l)-h:e?y=r.coordSysExtent[u.index][g]-h:y=t[u.wh];i.boundingLength=y,e&&(i.repeatCutLength=t[u.wh]),i.pxSign=y>0?1:-1}function RJ(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function RWe(n,e,t,r,i,u,l,f,h,g){var y=h.valueDim,b=h.categoryDim,S=Math.abs(t[b.wh]),_=n.getItemVisual(e,"symbolSize"),k;sr(_)?k=_.slice():_==null?k=["100%","100%"]:k=[_,_],k[b.index]=Xo(k[b.index],S),k[y.index]=Xo(k[y.index],r?S:Math.abs(u)),g.symbolSize=k;var E=g.symbolScale=[k[0]/f,k[1]/f];E[y.index]*=(h.isHorizontal?-1:1)*l}function PWe(n,e,t,r,i){var u=n.get(EWe)||0;u&&(IJ.attr({scaleX:e[0],scaleY:e[1],rotation:t}),IJ.updateTransform(),u/=IJ.getLineScale(),u*=e[r.valueDim.index]),i.valueLineWidth=u||0}function NWe(n,e,t,r,i,u,l,f,h,g,y,b){var S=y.categoryDim,_=y.valueDim,k=b.pxSign,E=Math.max(e[_.index]+f,0),R=E;if(r){var I=Math.abs(h),z=Ib(n.get("symbolMargin"),"15%")+"",L=!1;z.lastIndexOf("!")===z.length-1&&(L=!0,z=z.slice(0,z.length-1));var q=Xo(z,e[_.index]),X=Math.max(E+q*2,0),Y=L?0:q*2,ae=Kee(r),te=ae?r:$le((I+Y)/X),ie=I-te*E;q=ie/2/(L?te:Math.max(te-1,1)),X=E+q*2,Y=L?0:q*2,!ae&&r!=="fixed"&&(te=g?$le((Math.abs(g)+Y)/X):0),R=te*X-Y,b.repeatTimes=te,b.symbolMargin=q}var le=k*(R/2),ce=b.pathPosition=[];ce[S.index]=t[S.wh]/2,ce[_.index]=l==="start"?le:l==="end"?h-le:h/2,u&&(ce[0]+=u[0],ce[1]+=u[1]);var ne=b.bundlePosition=[];ne[S.index]=t[S.xy],ne[_.index]=t[_.xy];var Z=b.barRectShape=Gn({},t);Z[_.wh]=k*Math.max(Math.abs(t[_.wh]),Math.abs(ce[_.index]+le)),Z[S.wh]=t[S.wh];var Ce=b.clipShape={};Ce[S.xy]=-t[S.xy],Ce[S.wh]=y.ecSize[S.wh],Ce[_.xy]=0,Ce[_.wh]=t[_.wh]}function eye(n){var e=n.symbolPatternSize,t=lf(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function tye(n,e,t,r){var i=n.__pictorialBundle,u=t.symbolSize,l=t.valueLineWidth,f=t.pathPosition,h=e.valueDim,g=t.repeatTimes||0,y=0,b=u[e.valueDim.index]+l+t.symbolMargin*2;for(mne(n,function(E){E.__pictorialAnimationIndex=y,E.__pictorialRepeatTimes=g,y<g?I3(E,null,k(y),t,r):I3(E,null,{scaleX:0,scaleY:0},t,r,function(){i.remove(E)}),y++});y<g;y++){var S=eye(t);S.__pictorialAnimationIndex=y,S.__pictorialRepeatTimes=g,i.add(S);var _=k(y);I3(S,{x:_.x,y:_.y,scaleX:0,scaleY:0},{scaleX:_.scaleX,scaleY:_.scaleY,rotation:_.rotation},t,r)}function k(E){var R=f.slice(),I=t.pxSign,z=E;return(t.symbolRepeatDirection==="start"?I>0:I<0)&&(z=g-1-E),R[h.index]=b*(z-g/2+.5)+f[h.index],{x:R[0],y:R[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function nye(n,e,t,r){var i=n.__pictorialBundle,u=n.__pictorialMainPath;u?I3(u,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,r):(u=n.__pictorialMainPath=eye(t),i.add(u),I3(u,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,r))}function rye(n,e,t){var r=Gn({},e.barRectShape),i=n.__pictorialBarRect;i?I3(i,null,{shape:r},e,t):(i=n.__pictorialBarRect=new ya({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,n.add(i))}function oye(n,e,t,r){if(t.symbolClip){var i=n.__pictorialClipPath,u=Gn({},t.clipShape),l=e.valueDim,f=t.animationModel,h=t.dataIndex;if(i)tl(i,{shape:u},f,h);else{u[l.wh]=0,i=new ya({shape:u}),n.__pictorialBundle.setClipPath(i),n.__pictorialClipPath=i;var g={};g[l.wh]=t.clipShape[l.wh],l9[r?"updateProps":"initProps"](i,{shape:g},f,h)}}}function jle(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=LWe,t.isAnimationEnabled=BWe,t}function LWe(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function BWe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Wle(n,e,t,r){var i=new hi,u=new hi;return i.add(u),i.__pictorialBundle=u,u.x=t.bundlePosition[0],u.y=t.bundlePosition[1],t.symbolRepeat?tye(i,e,t):nye(i,e,t),rye(i,t,r),oye(i,e,t,r),i.__pictorialShapeStr=iye(n,t),i.__pictorialSymbolMeta=t,i}function zWe(n,e,t){var r=t.animationModel,i=t.dataIndex,u=n.__pictorialBundle;tl(u,{x:t.bundlePosition[0],y:t.bundlePosition[1]},r,i),t.symbolRepeat?tye(n,e,t,!0):nye(n,e,t,!0),rye(n,t,!0),oye(n,e,t,!0)}function Ule(n,e,t,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var u=[];mne(r,function(l){u.push(l)}),r.__pictorialMainPath&&u.push(r.__pictorialMainPath),r.__pictorialClipPath&&(t=null),Te(u,function(l){nL(l,{scaleX:0,scaleY:0},t,e,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(e,null)}function iye(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function mne(n,e,t){Te(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&e.call(t,r)})}function I3(n,e,t,r,i,u){e&&n.attr(e),r.symbolClip&&!i?t&&n.attr(t):t&&l9[i?"updateProps":"initProps"](n,t,r.animationModel,r.dataIndex,u)}function qle(n,e,t){var r=t.dataIndex,i=t.itemModel,u=i.getModel("emphasis"),l=u.getModel("itemStyle").getItemStyle(),f=i.getModel(["blur","itemStyle"]).getItemStyle(),h=i.getModel(["select","itemStyle"]).getItemStyle(),g=i.getShallow("cursor"),y=u.get("focus"),b=u.get("blurScope"),S=u.get("scale");mne(n,function(E){if(E instanceof Op){var R=E.style;E.useStyle(Gn({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},t.style))}else E.useStyle(t.style);var I=E.ensureState("emphasis");I.style=l,S&&(I.scaleX=E.scaleX*1.1,I.scaleY=E.scaleY*1.1),E.ensureState("blur").style=f,E.ensureState("select").style=h,g&&(E.cursor=g),E.z2=t.z2});var _=e.valueDim.posDesc[+(t.boundingLength>0)],k=n.__pictorialBarRect;Vb(k,Hb(i),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:A9(e.seriesModel.getData(),r),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:_}),J2(n,y,b,u.get("disabled"))}function $le(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}const FWe=OWe;var VWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=a_(wH.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(wH);const HWe=VWe;function jWe(n){n.registerChartView(FWe),n.registerSeriesModel(HWe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,ji(Ove,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ive("pictorialBar"))}function WWe(n,e,t,r){return n&&(n.legacy||n.legacy!==!1&&!t&&!r&&e!=="tspan"&&(e==="text"||Qo(n,"text")))}function UWe(n,e,t){var r=n,i,u,l;if(e==="text")l=r;else{l={},Qo(r,"text")&&(l.text=r.text),Qo(r,"rich")&&(l.rich=r.rich),Qo(r,"textFill")&&(l.fill=r.textFill),Qo(r,"textStroke")&&(l.stroke=r.textStroke),Qo(r,"fontFamily")&&(l.fontFamily=r.fontFamily),Qo(r,"fontSize")&&(l.fontSize=r.fontSize),Qo(r,"fontStyle")&&(l.fontStyle=r.fontStyle),Qo(r,"fontWeight")&&(l.fontWeight=r.fontWeight),u={type:"text",style:l,silent:!0},i={};var f=Qo(r,"textPosition");t?i.position=f?r.textPosition:"inside":f&&(i.position=r.textPosition),Qo(r,"textPosition")&&(i.position=r.textPosition),Qo(r,"textOffset")&&(i.offset=r.textOffset),Qo(r,"textRotation")&&(i.rotation=r.textRotation),Qo(r,"textDistance")&&(i.distance=r.textDistance)}return Gle(l,n),Te(l.rich,function(h){Gle(h,h)}),{textConfig:i,textContent:u}}function Gle(n,e){e&&(e.font=e.textFont||e.font,Qo(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),Qo(e,"textAlign")&&(n.align=e.textAlign),Qo(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),Qo(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),Qo(e,"textWidth")&&(n.width=e.textWidth),Qo(e,"textHeight")&&(n.height=e.textHeight),Qo(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),Qo(e,"textPadding")&&(n.padding=e.textPadding),Qo(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),Qo(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),Qo(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),Qo(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),Qo(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),Qo(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),Qo(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}var aye={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Xle=va(aye);Km(my,function(n,e){return n[e]=1,n},{});my.join(", ");var TH=["","style","shape","extra"],e5=cu();function gne(n,e,t,r,i){var u=n+"Animation",l=lte(n,r,i)||{},f=e5(e).userDuring;return l.duration>0&&(l.during=f?Wr(KWe,{el:e,userDuring:f}):null,l.setToFinal=!0,l.scope=n),Gn(l,t[u]),l}function PJ(n,e,t,r){r=r||{};var i=r.dataIndex,u=r.isInit,l=r.clearStyle,f=t.isAnimationEnabled(),h=e5(n),g=e.style;h.userDuring=e.during;var y={},b={};if(ZWe(n,e,b),Kle("shape",e,b),Kle("extra",e,b),!u&&f&&(JWe(n,e,y),Yle("shape",n,e,y),Yle("extra",n,e,y),QWe(n,e,g,y)),b.style=g,$We(n,b,l),XWe(n,e),f)if(u){var S={};Te(TH,function(k){var E=k?e[k]:e;E&&E.enterFrom&&(k&&(S[k]=S[k]||{}),Gn(k?S[k]:S,E.enterFrom))});var _=gne("enter",n,e,t,i);_.duration>0&&n.animateFrom(S,_)}else GWe(n,e,i||0,t,y);uye(n,e),g?n.dirty():n.markRedraw()}function uye(n,e){for(var t=e5(n).leaveToProps,r=0;r<TH.length;r++){var i=TH[r],u=i?e[i]:e;u&&u.leaveTo&&(t||(t=e5(n).leaveToProps={}),i&&(t[i]=t[i]||{}),Gn(i?t[i]:t,u.leaveTo))}}function qWe(n,e,t,r){if(n){var i=n.parent,u=e5(n).leaveToProps;if(u){var l=gne("update",n,e,t,0);l.done=function(){i.remove(n),r&&r()},n.animateTo(u,l)}else i.remove(n),r&&r()}}function bM(n){return n==="all"}function $We(n,e,t){var r=e.style;if(!n.isGroup&&r){if(t){n.useStyle({});for(var i=n.animators,u=0;u<i.length;u++){var l=i[u];l.targetName==="style"&&l.changeTarget(n.style)}}n.setStyle(r)}e&&(e.style=null,e&&n.attr(e),e.style=r)}function GWe(n,e,t,r,i){if(i){var u=gne("update",n,e,r,t);u.duration>0&&n.animateFrom(i,u)}}function XWe(n,e){Qo(e,"silent")&&(n.silent=e.silent),Qo(e,"ignore")&&(n.ignore=e.ignore),n instanceof Nb&&Qo(e,"invisible")&&(n.invisible=e.invisible),n instanceof ja&&Qo(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}var ty={},YWe={setTransform:function(n,e){return ty.el[n]=e,this},getTransform:function(n){return ty.el[n]},setShape:function(n,e){var t=ty.el,r=t.shape||(t.shape={});return r[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=ty.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=ty.el,r=t.style;return r&&(r[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=ty.el.style;if(e)return e[n]},setExtra:function(n,e){var t=ty.el.extra||(ty.el.extra={});return t[n]=e,this},getExtra:function(n){var e=ty.el.extra;if(e)return e[n]}};function KWe(){var n=this,e=n.el;if(e){var t=e5(e).userDuring,r=n.userDuring;if(t!==r){n.el=n.userDuring=null;return}ty.el=e,r(YWe)}}function Yle(n,e,t,r){var i=t[n];if(i){var u=e[n],l;if(u){var f=t.transition,h=i.transition;if(h)if(!l&&(l=r[n]={}),bM(h))Gn(l,u);else for(var g=Bs(h),y=0;y<g.length;y++){var b=g[y],S=u[b];l[b]=S}else if(bM(f)||Di(f,n)>=0){!l&&(l=r[n]={});for(var _=va(u),y=0;y<_.length;y++){var b=_[y],S=u[b];eUe(i[b],S)&&(l[b]=S)}}}}}function Kle(n,e,t){var r=e[n];if(r)for(var i=t[n]={},u=va(r),l=0;l<u.length;l++){var f=u[l];i[f]=ON(r[f])}}function JWe(n,e,t){for(var r=e.transition,i=bM(r)?my:Bs(r||[]),u=0;u<i.length;u++){var l=i[u];if(!(l==="style"||l==="shape"||l==="extra")){var f=n[l];t[l]=f}}}function ZWe(n,e,t){for(var r=0;r<Xle.length;r++){var i=Xle[r],u=aye[i],l=e[i];l&&(t[u[0]]=l[0],t[u[1]]=l[1])}for(var r=0;r<my.length;r++){var f=my[r];e[f]!=null&&(t[f]=e[f])}}function QWe(n,e,t,r){if(t){var i=n.style,u;if(i){var l=t.transition,f=e.transition;if(l&&!bM(l)){var h=Bs(l);!u&&(u=r.style={});for(var g=0;g<h.length;g++){var y=h[g],b=i[y];u[y]=b}}else if(n.getAnimationStyleProps&&(bM(f)||bM(l)||Di(f,"style")>=0)){var S=n.getAnimationStyleProps(),_=S?S.style:null;if(_){!u&&(u=r.style={});for(var k=va(t),g=0;g<k.length;g++){var y=k[g];if(_[y]){var b=i[y];u[y]=b}}}}}}}function eUe(n,e){return Gf(n)?n!==e:n!=null&&isFinite(n)}var sye=cu(),tUe=["percent","easing","shape","style","extra"];function nUe(n){n.stopAnimation("keyframe"),n.attr(sye(n))}function IQ(n,e,t){if(!(!t.isAnimationEnabled()||!e)){if(sr(e)){Te(e,function(f){IQ(n,f,t)});return}var r=e.keyframes,i=e.duration;if(t&&i==null){var u=lte("enter",t,0);i=u&&u.duration}if(!(!r||!i)){var l=sye(n);Te(TH,function(f){if(!(f&&!n[f])){var h;r.sort(function(g,y){return g.percent-y.percent}),Te(r,function(g){var y=n.animators,b=f?g[f]:g;if(b){var S=va(b);if(f||(S=Ls(S,function(E){return Di(tUe,E)<0})),!!S.length){h||(h=n.animate(f,e.loop,!0),h.scope="keyframe");for(var _=0;_<y.length;_++)y[_]!==h&&y[_].targetName===h.targetName&&y[_].stopTracks(S);f&&(l[f]=l[f]||{});var k=f?l[f]:l;Te(S,function(E){k[E]=((f?n[f]:n)||{})[E]}),h.whenWithKeys(i*g.percent,b,S,g.easing)}}}),h&&h.delay(e.delay||0).duration(i).start(e.easing)}})}}}var eM=cu(),Jle=vo,NJ=Wr,rUe=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var u=t.get("value"),l=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===u&&this._lastStatus===l)){this._lastValue=u,this._lastStatus=l;var f=this._group,h=this._handle;if(!l||l==="hide"){f&&f.hide(),h&&h.hide();return}f&&f.show(),h&&h.show();var g={};this.makeElOption(g,u,e,t,r);var y=g.graphicKey;y!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=y;var b=this._moveAnimation=this.determineAnimation(e,t);if(!f)f=this._group=new hi,this.createPointerEl(f,g,e,t),this.createLabelEl(f,g,e,t),r.getZr().add(f);else{var S=ji(Zle,t,b);this.updatePointerEl(f,g,S),this.updateLabelEl(f,g,S,t)}ece(f,t,!0),this._renderHandle(u)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,u=i.type==="category",l=t.get("snap");if(!l&&!u)return!1;if(r==="auto"||r==null){var f=this.animationThreshold;if(u&&i.getBandWidth()>f)return!0;if(l){var h=ine(e).seriesDataCount,g=i.getExtent();return Math.abs(g[0]-g[1])/h>f}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,i,u){},n.prototype.createPointerEl=function(e,t,r,i){var u=t.pointer;if(u){var l=eM(e).pointerEl=new l9[u.type](Jle(t.pointer));e.add(l)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var u=eM(e).labelEl=new ba(Jle(t.label));e.add(u),Qle(u,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=eM(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var u=eM(e).labelEl;u&&(u.setStyle(t.label.style),r(u,{x:t.label.x,y:t.label.y}),Qle(u,i))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,u=t.getModel("handle"),l=t.get("status");if(!u.get("show")||!l||l==="hide"){i&&r.remove(i),this._handle=null;return}var f;this._handle||(f=!0,i=this._handle=d5(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(g){Rb(g.event)},onmousedown:NJ(this._onHandleDragMove,this,0,0),drift:NJ(this._onHandleDragMove,this),ondragend:NJ(this._onHandleDragEnd,this)}),r.add(i)),ece(i,t,!1),i.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=u.get("size");sr(h)||(h=[h,h]),i.scaleX=h[0]/2,i.scaleY=h[1]/2,FL(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,f)}},n.prototype._moveHandleToValue=function(e,t){Zle(this._axisPointerModel,!t&&this._moveAnimation,this._handle,LJ(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(LJ(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(LJ(i)),eM(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),lL(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n}();function Zle(n,e,t,r){lye(eM(t).lastProp,r)||(eM(t).lastProp=r,e?tl(t,r,n):(t.stopAnimation(),t.attr(r)))}function lye(n,e){if(no(n)&&no(e)){var t=!0;return Te(e,function(r,i){t=t&&lye(n[i],r)}),!!t}else return n===e}function Qle(n,e){n[e.get(["label","show"])?"show":"hide"]()}function LJ(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function ece(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(u){u.type!=="group"&&(r!=null&&(u.z=r),i!=null&&(u.zlevel=i),u.silent=t)})}const cye=rUe;function fye(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function dye(n,e,t,r,i){var u=t.get("value"),l=hye(u,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),f=t.getModel("label"),h=m5(f.get("padding")||0),g=f.getFont(),y=PL(l,g),b=i.position,S=y.width+h[1]+h[3],_=y.height+h[0]+h[2],k=i.align;k==="right"&&(b[0]-=S),k==="center"&&(b[0]-=S/2);var E=i.verticalAlign;E==="bottom"&&(b[1]-=_),E==="middle"&&(b[1]-=_/2),oUe(b,S,_,r);var R=f.get("backgroundColor");(!R||R==="auto")&&(R=e.get(["axisLine","lineStyle","color"])),n.label={x:b[0],y:b[1],style:wl(f,{text:l,font:g,fill:f.getTextColor(),padding:h,backgroundColor:R}),z2:10}}function oUe(n,e,t,r){var i=r.getWidth(),u=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,u)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function hye(n,e,t,r,i){n=e.scale.parse(n);var u=e.scale.getLabel({value:n},{precision:i.precision}),l=i.formatter;if(l){var f={value:Zte(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Te(r,function(h){var g=t.getSeriesByIndex(h.seriesIndex),y=h.dataIndexInside,b=g&&g.getDataParams(y);b&&f.seriesData.push(b)}),Lr(l)?u=l.replace("{value}",u):Eo(l)&&(u=l(f))}return u}function pye(n,e,t){var r=Jm();return i_(r,r,t.rotation),Pb(r,r,t.position),Tv([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function iUe(n,e,t,r,i,u){var l=t_.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),dye(e,r,i,u,{position:pye(r.axis,n,t),align:l.textAlign,verticalAlign:l.textVerticalAlign})}function mye(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function aUe(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}function tce(n,e,t,r,i,u){return{cx:n,cy:e,r0:t,r,startAngle:i,endAngle:u,clockwise:!0}}var uUe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,u,l){var f=i.axis,h=f.grid,g=u.get("type"),y=nce(h,f).getOtherAxis(f).getGlobalExtent(),b=f.toGlobalCoord(f.dataToCoord(r,!0));if(g&&g!=="none"){var S=fye(u),_=sUe[g](f,b,y);_.style=S,t.graphicKey=_.type,t.pointer=_}var k=wQ(h.model,i);iUe(r,t,k,i,u,l)},e.prototype.getHandleTransform=function(t,r,i){var u=wQ(r.axis.grid.model,r,{labelInside:!1});u.labelMargin=i.get(["handle","margin"]);var l=pye(r.axis,t,u);return{x:l[0],y:l[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,u){var l=i.axis,f=l.grid,h=l.getGlobalExtent(!0),g=nce(f,l).getOtherAxis(l).getGlobalExtent(),y=l.dim==="x"?0:1,b=[t.x,t.y];b[y]+=r[y],b[y]=Math.min(h[1],b[y]),b[y]=Math.max(h[0],b[y]);var S=(g[1]+g[0])/2,_=[S,S];_[y]=b[y];var k=[{verticalAlign:"middle"},{align:"center"}];return{x:b[0],y:b[1],rotation:t.rotation,cursorPoint:_,tooltipOption:k[y]}},e}(cye);function nce(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var sUe={line:function(n,e,t){var r=mye([e,t[0]],[e,t[1]],rce(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:aUe([e-r/2,t[0]],[r,i],rce(n))}}};function rce(n){return n.dim==="x"?0:1}const lUe=uUe;var cUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Vi);const fUe=cUe;var Cb=cu(),dUe=Te;function gye(n,e,t){if(!Ni.node){var r=e.getZr();Cb(r).records||(Cb(r).records={}),hUe(r,e);var i=Cb(r).records[n]||(Cb(r).records[n]={});i.handler=t}}function hUe(n,e){if(Cb(n).initialized)return;Cb(n).initialized=!0,t("click",ji(oce,"click")),t("mousemove",ji(oce,"mousemove")),t("globalout",mUe);function t(r,i){n.on(r,function(u){var l=gUe(e);dUe(Cb(n).records,function(f){f&&i(f,u,l.dispatchAction)}),pUe(l.pendings,e)})}}function pUe(n,e){var t=n.showTip.length,r=n.hideTip.length,i;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function mUe(n,e,t){n.handler("leave",null,t)}function oce(n,e,t,r){e.handler(n,t,r)}function gUe(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function RQ(n,e){if(!Ni.node){var t=e.getZr(),r=(Cb(t).records||{})[n];r&&(Cb(t).records[n]=null)}}var vUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=r.getComponent("tooltip"),l=t.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";gye("axisPointer",i,function(f,h,g){l!=="none"&&(f==="leave"||l.indexOf(f)>=0)&&g({type:"updateAxisPointer",currTrigger:f,x:h&&h.offsetX,y:h&&h.offsetY})})},e.prototype.remove=function(t,r){RQ("axisPointer",r)},e.prototype.dispose=function(t,r){RQ("axisPointer",r)},e.type="axisPointer",e}(zs);const yUe=vUe;function vye(n,e){var t=[],r=n.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var u=i.getData(),l=_M(u,n);if(l==null||l<0||sr(l))return{point:[]};var f=u.getItemGraphicEl(l),h=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(l)||[];else if(h&&h.dataToPoint)if(n.isStacked){var g=h.getBaseAxis(),y=h.getOtherAxis(g),b=y.dim,S=g.dim,_=b==="x"||b==="radius"?1:0,k=u.mapDimension(S),E=[];E[_]=u.get(k,l),E[1-_]=u.get(u.getCalculationInfo("stackResultDimension"),l),t=h.dataToPoint(E)||[]}else t=h.dataToPoint(u.getValues(br(h.dimensions,function(I){return u.mapDimension(I)}),l))||[];else if(f){var R=f.getBoundingRect().clone();R.applyTransform(f.transform),t=[R.x+R.width/2,R.y+R.height/2]}return{point:t,el:f}}var ice=cu();function bUe(n,e,t){var r=n.currTrigger,i=[n.x,n.y],u=n,l=n.dispatchAction||Wr(t.dispatchAction,t),f=e.getComponent("axisPointer").coordSysAxesInfo;if(f){MV(i)&&(i=vye({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},e).point);var h=MV(i),g=u.axesInfo,y=f.axesInfo,b=r==="leave"||MV(i),S={},_={},k={list:[],map:{}},E={showPointer:ji(wUe,_),showTooltip:ji(_Ue,k)};Te(f.coordSysMap,function(I,z){var L=h||I.containPoint(i);Te(f.coordSysAxesInfo[z],function(q,X){var Y=q.axis,ae=MUe(g,q);if(!b&&L&&(!g||ae)){var te=ae&&ae.value;te==null&&!h&&(te=Y.pointToData(i)),te!=null&&ace(q,te,E,!1,S)}})});var R={};return Te(y,function(I,z){var L=I.linkGroup;L&&!_[z]&&Te(L.axesInfo,function(q,X){var Y=_[X];if(q!==I&&Y){var ae=Y.value;L.mapper&&(ae=I.axis.scale.parse(L.mapper(ae,uce(q),uce(I)))),R[I.key]=ae}})}),Te(R,function(I,z){ace(y[z],I,E,!0,S)}),SUe(_,y,S),CUe(k,i,n,l),TUe(y,l,t),S}}function ace(n,e,t,r,i){var u=n.axis;if(!(u.scale.isBlank()||!u.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var l=xUe(e,n),f=l.payloadBatch,h=l.snapToValue;f[0]&&i.seriesIndex==null&&Gn(i,f[0]),!r&&n.snap&&u.containData(h)&&h!=null&&(e=h),t.showPointer(n,e,f),t.showTooltip(n,l,h)}}function xUe(n,e){var t=e.axis,r=t.dim,i=n,u=[],l=Number.MAX_VALUE,f=-1;return Te(e.seriesModels,function(h,g){var y=h.getData().mapDimensionsAll(r),b,S;if(h.getAxisTooltipData){var _=h.getAxisTooltipData(y,n,t);S=_.dataIndices,b=_.nestestValue}else{if(S=h.getData().indicesOfNearest(y[0],n,t.type==="category"?.5:null),!S.length)return;b=h.getData().get(y[0],S[0])}if(!(b==null||!isFinite(b))){var k=n-b,E=Math.abs(k);E<=l&&((E<l||k>=0&&f<0)&&(l=E,f=k,i=b,u.length=0),Te(S,function(R){u.push({seriesIndex:h.seriesIndex,dataIndexInside:R,dataIndex:h.getData().getRawIndex(R)})}))}}),{payloadBatch:u,snapToValue:i}}function wUe(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function _Ue(n,e,t,r){var i=t.payloadBatch,u=e.axis,l=u.model,f=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var h=e.coordSys.model,g=pL(h),y=n.map[g];y||(y=n.map[g]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},n.list.push(y)),y.dataByAxis.push({axisDim:u.dim,axisIndex:l.componentIndex,axisType:l.type,axisId:l.id,value:r,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function SUe(n,e,t){var r=t.axesInfo=[];Te(e,function(i,u){var l=i.axisPointerModel.option,f=n[u];f?(!i.useHandle&&(l.status="show"),l.value=f.value,l.seriesDataIndices=(f.payloadBatch||[]).slice()):!i.useHandle&&(l.status="hide"),l.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:l.value})})}function CUe(n,e,t,r){if(MV(e)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function TUe(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",u=ice(r)[i]||{},l=ice(r)[i]={};Te(n,function(g,y){var b=g.axisPointerModel.option;b.status==="show"&&g.triggerEmphasis&&Te(b.seriesDataIndices,function(S){var _=S.seriesIndex+" | "+S.dataIndex;l[_]=S})});var f=[],h=[];Te(u,function(g,y){!l[y]&&h.push(g)}),Te(l,function(g,y){!u[y]&&f.push(g)}),h.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:h}),f.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}function MUe(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function uce(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function MV(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function vne(n){WL.registerAxisPointerClass("CartesianAxisPointer",lUe),n.registerComponentModel(fUe),n.registerComponentView(yUe),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!sr(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=o9e(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},bUe)}function kUe(n){Rc(w0e),Rc(vne)}var DUe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,u,l){var f=i.axis;f.dim==="angle"&&(this.animationThreshold=Math.PI/18);var h=f.polar,g=h.getOtherAxis(f),y=g.getExtent(),b=f.dataToCoord(r),S=u.get("type");if(S&&S!=="none"){var _=fye(u),k=EUe[S](f,h,b,y);k.style=_,t.graphicKey=k.type,t.pointer=k}var E=u.get(["label","margin"]),R=AUe(r,i,u,h,E);dye(t,i,u,l,R)},e}(cye);function AUe(n,e,t,r,i){var u=e.axis,l=u.dataToCoord(n),f=r.getAngleAxis().getExtent()[0];f=f/180*Math.PI;var h=r.getRadiusAxis().getExtent(),g,y,b;if(u.dim==="radius"){var S=Jm();i_(S,S,f),Pb(S,S,[r.cx,r.cy]),g=Tv([l,-i],S);var _=e.getModel("axisLabel").get("rotate")||0,k=t_.innerTextLayout(f,_*Math.PI/180,-1);y=k.textAlign,b=k.textVerticalAlign}else{var E=h[1];g=r.coordToPoint([E+i,l]);var R=r.cx,I=r.cy;y=Math.abs(g[0]-R)/E<.3?"center":g[0]>R?"left":"right",b=Math.abs(g[1]-I)/E<.3?"middle":g[1]>I?"top":"bottom"}return{position:g,align:y,verticalAlign:b}}var EUe={line:function(n,e,t,r){return n.dim==="angle"?{type:"Line",shape:mye(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,r){var i=Math.max(1,n.getBandWidth()),u=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:tce(e.cx,e.cy,r[0],r[1],(-t-i/2)*u,(-t+i/2)*u)}:{type:"Sector",shape:tce(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}};const OUe=DUe;var IUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,i=this.ecModel;return i.eachComponent(t,function(u){u.getCoordSysModel()===this&&(r=u)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Vi);const RUe=IUe;var yne=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",mc).models[0]},e.type="polarAxis",e}(Vi);ff(yne,jL);var PUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(yne),NUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(yne),bne=function(n){Tn(e,n);function e(t,r){return n.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e}(Ov);bne.prototype.dataToRadius=Ov.prototype.dataToCoord;bne.prototype.radiusToData=Ov.prototype.coordToData;const LUe=bne;var BUe=cu(),xne=function(n){Tn(e,n);function e(t,r){return n.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),i=t.scale,u=i.getExtent(),l=i.count();if(u[1]-u[0]<1)return 0;var f=u[0],h=t.dataToCoord(f+1)-t.dataToCoord(f),g=Math.abs(h),y=PL(f==null?"":f+"",r.getFont(),"center","top"),b=Math.max(y.height,7),S=b/g;isNaN(S)&&(S=1/0);var _=Math.max(0,Math.floor(S)),k=BUe(t.model),E=k.lastAutoInterval,R=k.lastTickCount;return E!=null&&R!=null&&Math.abs(E-_)<=1&&Math.abs(R-l)<=1&&E>_?_=E:(k.lastTickCount=l,k.lastAutoInterval=_),_},e}(Ov);xne.prototype.dataToAngle=Ov.prototype.dataToCoord;xne.prototype.angleToData=Ov.prototype.coordToData;const zUe=xne;var yye=["radius","angle"],FUe=function(){function n(e){this.dimensions=yye,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new LUe,this._angleAxis=new zUe,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===e&&t.push(r),i.scale.type===e&&t.push(i),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=this.getAngleAxis(),u=i.getExtent(),l=Math.min(u[0],u[1]),f=Math.max(u[0],u[1]);i.inverse?l=f-360:f=l+360;var h=Math.sqrt(t*t+r*r);t/=h,r/=h;for(var g=Math.atan2(-r,t)/Math.PI*180,y=g<l?1:-1;g<l||g>f;)g+=y*360;return[h,g]},n.prototype.coordToPoint=function(e){var t=e[0],r=e[1]/180*Math.PI,i=Math.cos(r)*t+this.cx,u=-Math.sin(r)*t+this.cy;return[i,u]},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var i=e.getExtent(),u=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*u,endAngle:-i[1]*u,clockwise:e.inverse,contain:function(l,f){var h=l-this.cx,g=f-this.cy,y=h*h+g*g-1e-4,b=this.r,S=this.r0;return y<=b*b&&y>=S*S}}},n.prototype.convertToPixel=function(e,t,r){var i=sce(t);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=sce(t);return i===this?this.pointToData(r):null},n}();function sce(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const VUe=FUe;function HUe(n,e,t){var r=e.get("center"),i=t.getWidth(),u=t.getHeight();n.cx=Xo(r[0],i),n.cy=Xo(r[1],u);var l=n.getRadiusAxis(),f=Math.min(i,u)/2,h=e.get("radius");h==null?h=[0,"100%"]:sr(h)||(h=[0,h]);var g=[Xo(h[0],f),Xo(h[1],f)];l.inverse?l.setExtent(g[1],g[0]):l.setExtent(g[0],g[1])}function jUe(n,e){var t=this,r=t.getAngleAxis(),i=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),n.eachSeries(function(f){if(f.coordinateSystem===t){var h=f.getData();Te(bH(h,"radius"),function(g){i.scale.unionExtentFromData(h,g)}),Te(bH(h,"angle"),function(g){r.scale.unionExtentFromData(h,g)})}}),Z3(r.scale,r.model),Z3(i.scale,i.model),r.type==="category"&&!r.onBand){var u=r.getExtent(),l=360/r.scale.count();r.inverse?u[1]+=l:u[1]-=l,r.setExtent(u[0],u[1])}}function WUe(n){return n.mainType==="angleAxis"}function lce(n,e){if(n.type=e.get("type"),n.scale=D9(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),WUe(e)){n.inverse=n.inverse!==e.get("clockwise");var t=e.get("startAngle");n.setExtent(t,t+(n.inverse?-360:360))}e.axis=n,n.model=e}var UUe={dimensions:yye,create:function(n,e){var t=[];return n.eachComponent("polar",function(r,i){var u=new VUe(i+"");u.update=jUe;var l=u.getRadiusAxis(),f=u.getAngleAxis(),h=r.findAxisModel("radiusAxis"),g=r.findAxisModel("angleAxis");lce(l,h),lce(f,g),HUe(u,r,e),t.push(u),r.coordinateSystem=u,u.model=r}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",mc).models[0];r.coordinateSystem=i.coordinateSystem}}),t}};const qUe=UUe;var $Ue=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function YF(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=n.coordToPoint([e[0],t]),i=n.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function KF(n){var e=n.getRadiusAxis();return e.inverse?0:1}function cce(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var GUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,u=i.polar,l=u.getRadiusAxis().getExtent(),f=i.getTicksCoords(),h=i.getMinorTicksCoords(),g=br(i.getViewLabels(),function(y){y=vo(y);var b=i.scale,S=b.type==="ordinal"?b.getRawOrdinalNumber(y.tickValue):y.tickValue;return y.coord=i.dataToCoord(S),y});cce(g),cce(f),Te($Ue,function(y){t.get([y,"show"])&&(!i.scale.isBlank()||y==="axisLine")&&XUe[y](this.group,t,u,f,h,l,g)},this)}},e.type="angleAxis",e}(WL),XUe={axisLine:function(n,e,t,r,i,u){var l=e.getModel(["axisLine","lineStyle"]),f=KF(t),h=f?0:1,g;u[h]===0?g=new Dv({shape:{cx:t.cx,cy:t.cy,r:u[f]},style:l.getLineStyle(),z2:1,silent:!0}):g=new LL({shape:{cx:t.cx,cy:t.cy,r:u[f],r0:u[h]},style:l.getLineStyle(),z2:1,silent:!0}),g.style.fill=null,n.add(g)},axisTick:function(n,e,t,r,i,u){var l=e.getModel("axisTick"),f=(l.get("inside")?-1:1)*l.get("length"),h=u[KF(t)],g=br(r,function(y){return new Id({shape:YF(t,[h,h+f],y.coord)})});n.add(qm(g,{style:To(l.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,r,i,u){if(i.length){for(var l=e.getModel("axisTick"),f=e.getModel("minorTick"),h=(l.get("inside")?-1:1)*f.get("length"),g=u[KF(t)],y=[],b=0;b<i.length;b++)for(var S=0;S<i[b].length;S++)y.push(new Id({shape:YF(t,[g,g+h],i[b][S].coord)}));n.add(qm(y,{style:To(f.getModel("lineStyle").getLineStyle(),To(l.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,r,i,u,l){var f=e.getCategories(!0),h=e.getModel("axisLabel"),g=h.get("margin"),y=e.get("triggerEvent");Te(l,function(b,S){var _=h,k=b.tickValue,E=u[KF(t)],R=t.coordToPoint([E+g,b.coord]),I=t.cx,z=t.cy,L=Math.abs(R[0]-I)/E<.3?"center":R[0]>I?"left":"right",q=Math.abs(R[1]-z)/E<.3?"middle":R[1]>z?"top":"bottom";if(f&&f[k]){var X=f[k];no(X)&&X.textStyle&&(_=new xs(X.textStyle,h,h.ecModel))}var Y=new ba({silent:t_.isLabelSilent(e),style:wl(_,{x:R[0],y:R[1],fill:_.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:b.formattedLabel,align:L,verticalAlign:q})});if(n.add(Y),y){var ae=t_.makeAxisEventDataBase(e);ae.targetType="axisLabel",ae.value=b.rawLabel,Ai(Y).eventData=ae}},this)},splitLine:function(n,e,t,r,i,u){var l=e.getModel("splitLine"),f=l.getModel("lineStyle"),h=f.get("color"),g=0;h=h instanceof Array?h:[h];for(var y=[],b=0;b<r.length;b++){var S=g++%h.length;y[S]=y[S]||[],y[S].push(new Id({shape:YF(t,u,r[b].coord)}))}for(var b=0;b<y.length;b++)n.add(qm(y[b],{style:To({stroke:h[b%h.length]},f.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,r,i,u){if(i.length){for(var l=e.getModel("minorSplitLine"),f=l.getModel("lineStyle"),h=[],g=0;g<i.length;g++)for(var y=0;y<i[g].length;y++)h.push(new Id({shape:YF(t,u,i[g][y].coord)}));n.add(qm(h,{style:f.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,r,i,u){if(r.length){var l=e.getModel("splitArea"),f=l.getModel("areaStyle"),h=f.get("color"),g=0;h=h instanceof Array?h:[h];for(var y=[],b=Math.PI/180,S=-r[0].coord*b,_=Math.min(u[0],u[1]),k=Math.max(u[0],u[1]),E=e.get("clockwise"),R=1,I=r.length;R<=I;R++){var z=R===I?r[0].coord:r[R].coord,L=g++%h.length;y[L]=y[L]||[],y[L].push(new wy({shape:{cx:t.cx,cy:t.cy,r0:_,r:k,startAngle:S,endAngle:-z*b,clockwise:E},silent:!0})),S=-z*b}for(var R=0;R<y.length;R++)n.add(qm(y[R],{style:To({fill:h[R%h.length]},f.getAreaStyle()),silent:!0}))}}};const YUe=GUe;var KUe=["axisLine","axisTickLabel","axisName"],JUe=["splitLine","splitArea","minorSplitLine"],ZUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=this._axisGroup,u=this._axisGroup=new hi;this.group.add(u);var l=t.axis,f=l.polar,h=f.getAngleAxis(),g=l.getTicksCoords(),y=l.getMinorTicksCoords(),b=h.getExtent()[0],S=l.getExtent(),_=eqe(f,t,b),k=new t_(t,_);Te(KUe,k.add,k),u.add(k.getGroup()),u9(i,u,t),Te(JUe,function(E){t.get([E,"show"])&&!l.scale.isBlank()&&QUe[E](this.group,t,f,b,S,g,y)},this)}},e.type="radiusAxis",e}(WL),QUe={splitLine:function(n,e,t,r,i,u){var l=e.getModel("splitLine"),f=l.getModel("lineStyle"),h=f.get("color"),g=0;h=h instanceof Array?h:[h];for(var y=[],b=0;b<u.length;b++){var S=g++%h.length;y[S]=y[S]||[],y[S].push(new Dv({shape:{cx:t.cx,cy:t.cy,r:Math.max(u[b].coord,0)}}))}for(var b=0;b<y.length;b++)n.add(qm(y[b],{style:To({stroke:h[b%h.length],fill:null},f.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,r,i,u,l){if(l.length){for(var f=e.getModel("minorSplitLine"),h=f.getModel("lineStyle"),g=[],y=0;y<l.length;y++)for(var b=0;b<l[y].length;b++)g.push(new Dv({shape:{cx:t.cx,cy:t.cy,r:l[y][b].coord}}));n.add(qm(g,{style:To({fill:null},h.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,r,i,u){if(u.length){var l=e.getModel("splitArea"),f=l.getModel("areaStyle"),h=f.get("color"),g=0;h=h instanceof Array?h:[h];for(var y=[],b=u[0].coord,S=1;S<u.length;S++){var _=g++%h.length;y[_]=y[_]||[],y[_].push(new wy({shape:{cx:t.cx,cy:t.cy,r0:b,r:u[S].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),b=u[S].coord}for(var S=0;S<y.length;S++)n.add(qm(y[S],{style:To({fill:h[S%h.length]},f.getAreaStyle()),silent:!0}))}}};function eqe(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}const tqe=ZUe;function bye(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function xye(n,e){return e.dim+n.model.componentIndex}function nqe(n,e,t){var r={},i=rqe(Ls(e.getSeriesByType(n),function(u){return!e.isSeriesFiltered(u)&&u.coordinateSystem&&u.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(u){if(u.coordinateSystem.type==="polar"){var l=u.getData(),f=u.coordinateSystem,h=f.getBaseAxis(),g=xye(f,h),y=bye(u),b=i[g][y],S=b.offset,_=b.width,k=f.getOtherAxis(h),E=u.coordinateSystem.cx,R=u.coordinateSystem.cy,I=u.get("barMinHeight")||0,z=u.get("barMinAngle")||0;r[y]=r[y]||[];for(var L=l.mapDimension(k.dim),q=l.mapDimension(h.dim),X=Q2(l,L),Y=h.dim!=="radius"||!u.get("roundCap",!0),ae=k.dataToCoord(0),te=0,ie=l.count();te<ie;te++){var le=l.get(L,te),ce=l.get(q,te),ne=le>=0?"p":"n",Z=ae;X&&(r[y][ce]||(r[y][ce]={p:ae,n:ae}),Z=r[y][ce][ne]);var Ce=void 0,ze=void 0,ke=void 0,_t=void 0;if(k.dim==="radius"){var tt=k.dataToCoord(le)-ae,$=h.dataToCoord(ce);Math.abs(tt)<I&&(tt=(tt<0?-1:1)*I),Ce=Z,ze=Z+tt,ke=$-S,_t=ke-_,X&&(r[y][ce][ne]=ze)}else{var Ze=k.dataToCoord(le,Y)-ae,$e=h.dataToCoord(ce);Math.abs(Ze)<z&&(Ze=(Ze<0?-1:1)*z),Ce=$e+S,ze=Ce+_,ke=Z,_t=Z+Ze,X&&(r[y][ce][ne]=_t)}l.setItemLayout(te,{cx:E,cy:R,r0:Ce,r:ze,startAngle:-ke*Math.PI/180,endAngle:-_t*Math.PI/180,clockwise:ke>=_t})}}})}function rqe(n){var e={};Te(n,function(r,i){var u=r.getData(),l=r.coordinateSystem,f=l.getBaseAxis(),h=xye(l,f),g=f.getExtent(),y=f.type==="category"?f.getBandWidth():Math.abs(g[1]-g[0])/u.count(),b=e[h]||{bandWidth:y,remainedWidth:y,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},S=b.stacks;e[h]=b;var _=bye(r);S[_]||b.autoWidthCount++,S[_]=S[_]||{width:0,maxWidth:0};var k=Xo(r.get("barWidth"),y),E=Xo(r.get("barMaxWidth"),y),R=r.get("barGap"),I=r.get("barCategoryGap");k&&!S[_].width&&(k=Math.min(b.remainedWidth,k),S[_].width=k,b.remainedWidth-=k),E&&(S[_].maxWidth=E),R!=null&&(b.gap=R),I!=null&&(b.categoryGap=I)});var t={};return Te(e,function(r,i){t[i]={};var u=r.stacks,l=r.bandWidth,f=Xo(r.categoryGap,l),h=Xo(r.gap,1),g=r.remainedWidth,y=r.autoWidthCount,b=(g-f)/(y+(y-1)*h);b=Math.max(b,0),Te(u,function(E,R){var I=E.maxWidth;I&&I<b&&(I=Math.min(I,g),E.width&&(I=Math.min(I,E.width)),g-=I,E.width=I,y--)}),b=(g-f)/(y+(y-1)*h),b=Math.max(b,0);var S=0,_;Te(u,function(E,R){E.width||(E.width=b),_=E,S+=E.width*(1+h)}),_&&(S-=_.width*h);var k=-S/2;Te(u,function(E,R){t[i][R]=t[i][R]||{offset:k,width:E.width},k+=E.width*(1+h)})}),t}var oqe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},iqe={splitNumber:5},aqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(zs);function uqe(n){Rc(vne),WL.registerAxisPointerClass("PolarAxisPointer",OUe),n.registerCoordinateSystem("polar",qUe),n.registerComponentModel(RUe),n.registerComponentView(aqe),hL(n,"angle",PUe,oqe),hL(n,"radius",NUe,iqe),n.registerComponentView(YUe),n.registerComponentView(tqe),n.registerLayout(ji(nqe,"bar"))}var sqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){var u=g5(t);n.prototype.init.apply(this,arguments),fce(t,u)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),fce(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Vi);function fce(n,e){var t=n.cellSize,r;sr(t)?r=t:r=n.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var i=br([0,1],function(u){return $Be(e,u)&&(r[u]="auto"),r[u]!=null&&r[u]!=="auto"});Z2(n,e,{type:"box",ignoreSize:i})}const lqe=sqe;var cqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=this.group;u.removeAll();var l=t.coordinateSystem,f=l.getRangeInfo(),h=l.getOrient(),g=r.getLocaleModel();this._renderDayRect(t,f,u),this._renderLines(t,f,h,u),this._renderYearText(t,f,h,u),this._renderMonthText(t,g,h,u),this._renderWeekText(t,g,f,h,u)},e.prototype._renderDayRect=function(t,r,i){for(var u=t.coordinateSystem,l=t.getModel("itemStyle").getItemStyle(),f=u.getCellWidth(),h=u.getCellHeight(),g=r.start.time;g<=r.end.time;g=u.getNextNDay(g,1).time){var y=u.dataToRect([g],!1).tl,b=new ya({shape:{x:y[0],y:y[1],width:f,height:h},cursor:"default",style:l});i.add(b)}},e.prototype._renderLines=function(t,r,i,u){var l=this,f=t.coordinateSystem,h=t.getModel(["splitLine","lineStyle"]).getLineStyle(),g=t.get(["splitLine","show"]),y=h.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var b=r.start,S=0;b.time<=r.end.time;S++){k(b.formatedDate),S===0&&(b=f.getDateInfo(r.start.y+"-"+r.start.m));var _=b.date;_.setMonth(_.getMonth()+1),b=f.getDateInfo(_)}k(f.getNextNDay(r.end.time,1).formatedDate);function k(E){l._firstDayOfMonth.push(f.getDateInfo(E)),l._firstDayPoints.push(f.dataToRect([E],!1).tl);var R=l._getLinePointsOfOneWeek(t,E,i);l._tlpoints.push(R[0]),l._blpoints.push(R[R.length-1]),g&&l._drawSplitline(R,h,u)}g&&this._drawSplitline(l._getEdgesPoints(l._tlpoints,y,i),h,u),g&&this._drawSplitline(l._getEdgesPoints(l._blpoints,y,i),h,u)},e.prototype._getEdgesPoints=function(t,r,i){var u=[t[0].slice(),t[t.length-1].slice()],l=i==="horizontal"?0:1;return u[0][l]=u[0][l]-r/2,u[1][l]=u[1][l]+r/2,u},e.prototype._drawSplitline=function(t,r,i){var u=new eg({z2:20,shape:{points:t},style:r});i.add(u)},e.prototype._getLinePointsOfOneWeek=function(t,r,i){for(var u=t.coordinateSystem,l=u.getDateInfo(r),f=[],h=0;h<7;h++){var g=u.getNextNDay(l.time,h),y=u.dataToRect([g.time],!1);f[2*g.day]=y.tl,f[2*g.day+1]=y[i==="horizontal"?"bl":"tr"]}return f},e.prototype._formatterLabel=function(t,r){return Lr(t)&&t?WBe(t,r):Eo(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,i,u,l){var f=r[0],h=r[1],g=["center","bottom"];u==="bottom"?(h+=l,g=["center","top"]):u==="left"?f-=l:u==="right"?(f+=l,g=["center","top"]):h-=l;var y=0;return(u==="left"||u==="right")&&(y=Math.PI/2),{rotation:y,x:f,y:h,style:{align:g[0],verticalAlign:g[1]}}},e.prototype._renderYearText=function(t,r,i,u){var l=t.getModel("yearLabel");if(l.get("show")){var f=l.get("margin"),h=l.get("position");h||(h=i!=="horizontal"?"top":"left");var g=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],y=(g[0][0]+g[1][0])/2,b=(g[0][1]+g[1][1])/2,S=i==="horizontal"?0:1,_={top:[y,g[S][1]],bottom:[y,g[1-S][1]],left:[g[1-S][0],b],right:[g[S][0],b]},k=r.start.y;+r.end.y>+r.start.y&&(k=k+"-"+r.end.y);var E=l.get("formatter"),R={start:r.start.y,end:r.end.y,nameMap:k},I=this._formatterLabel(E,R),z=new ba({z2:30,style:wl(l,{text:I})});z.attr(this._yearTextPositionControl(z,_[h],i,h,f)),u.add(z)}},e.prototype._monthTextPositionControl=function(t,r,i,u,l){var f="left",h="top",g=t[0],y=t[1];return i==="horizontal"?(y=y+l,r&&(f="center"),u==="start"&&(h="bottom")):(g=g+l,r&&(h="middle"),u==="start"&&(f="right")),{x:g,y,align:f,verticalAlign:h}},e.prototype._renderMonthText=function(t,r,i,u){var l=t.getModel("monthLabel");if(l.get("show")){var f=l.get("nameMap"),h=l.get("margin"),g=l.get("position"),y=l.get("align"),b=[this._tlpoints,this._blpoints];(!f||Lr(f))&&(f&&(r=tQ(f)||r),f=r.get(["time","monthAbbr"])||[]);var S=g==="start"?0:1,_=i==="horizontal"?0:1;h=g==="start"?-h:h;for(var k=y==="center",E=0;E<b[S].length-1;E++){var R=b[S][E].slice(),I=this._firstDayOfMonth[E];if(k){var z=this._firstDayPoints[E];R[_]=(z[_]+b[0][E+1][_])/2}var L=l.get("formatter"),q=f[+I.m-1],X={yyyy:I.y,yy:(I.y+"").slice(2),MM:I.m,M:+I.m,nameMap:q},Y=this._formatterLabel(L,X),ae=new ba({z2:30,style:Gn(wl(l,{text:Y}),this._monthTextPositionControl(R,k,i,g,h))});u.add(ae)}}},e.prototype._weekTextPositionControl=function(t,r,i,u,l){var f="center",h="middle",g=t[0],y=t[1],b=i==="start";return r==="horizontal"?(g=g+u+(b?1:-1)*l[0]/2,f=b?"right":"left"):(y=y+u+(b?1:-1)*l[1]/2,h=b?"bottom":"top"),{x:g,y,align:f,verticalAlign:h}},e.prototype._renderWeekText=function(t,r,i,u,l){var f=t.getModel("dayLabel");if(f.get("show")){var h=t.coordinateSystem,g=f.get("position"),y=f.get("nameMap"),b=f.get("margin"),S=h.getFirstDayOfWeek();if(!y||Lr(y)){y&&(r=tQ(y)||r);var _=r.get(["time","dayOfWeekShort"]);y=_||br(r.get(["time","dayOfWeekAbbr"]),function(X){return X[0]})}var k=h.getNextNDay(i.end.time,7-i.lweek).time,E=[h.getCellWidth(),h.getCellHeight()];b=Xo(b,Math.min(E[1],E[0])),g==="start"&&(k=h.getNextNDay(i.start.time,-(7+i.fweek)).time,b=-b);for(var R=0;R<7;R++){var I=h.getNextNDay(k,R),z=h.dataToRect([I.time],!1).center,L=R;L=Math.abs((R+S)%7);var q=new ba({z2:30,style:Gn(wl(f,{text:y[L]}),this._weekTextPositionControl(z,u,g,b,E))});l.add(q)}}},e.type="calendar",e}(zs);const fqe=cqe;var BJ=864e5,dqe=function(){function n(e,t,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){e=Ap(e);var t=e.getFullYear(),r=e.getMonth()+1,i=r<10?"0"+r:""+r,u=e.getDate(),l=u<10?"0"+u:""+u,f=e.getDay();return f=Math.abs((f+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:l,day:f,time:e.getTime(),formatedDate:t+"-"+i+"-"+l,date:e}},n.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],u=this._model.getCellSize().slice(),l=this._model.getBoxLayoutParams(),f=this._orient==="horizontal"?[r,7]:[7,r];Te([0,1],function(b){y(u,b)&&(l[i[b]]=u[b]*f[b])});var h={width:t.getWidth(),height:t.getHeight()},g=this._rect=Pd(l,h);Te([0,1],function(b){y(u,b)||(u[b]=g[i[b]]/f[b])});function y(b,S){return b[S]!=null&&b[S]!=="auto"}this._sw=u[0],this._sh=u[1]},n.prototype.dataToPoint=function(e,t){sr(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),i=this._rangeInfo,u=r.formatedDate;if(t&&!(r.time>=i.start.time&&r.time<i.end.time+BJ))return[NaN,NaN];var l=r.day,f=this._getRangeInfo([i.start.time,u]).nthWeek;return this._orient==="vertical"?[this._rect.x+l*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var r=this.dataToPoint(e,t);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,i):this._getDateByWeeksAndDay(t,r-1,i)},n.prototype.convertToPixel=function(e,t,r){var i=dce(t);return i===this?i.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=dce(t);return i===this?i.pointToData(r):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(sr(e)&&e.length===1&&(e=e[0]),sr(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),u=i.date;u.setMonth(u.getMonth()+1);var l=this.getNextNDay(u,-1);t=[i.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var f=this._getRangeInfo(t);return f.start.time>f.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var i=Math.floor(t[1].time/BJ)-Math.floor(t[0].time/BJ)+1,u=new Date(t[0].time),l=u.getDate(),f=t[1].date.getDate();u.setDate(l+i-1);var h=u.getDate();if(h!==f)for(var g=u.getTime()-t[1].time>0?1:-1;(h=u.getDate())!==f&&(u.getTime()-t[1].time)*g>0;)i-=g,u.setDate(h-g);var y=Math.floor((i+t[0].day+6)/7),b=r?-y+1:y-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:y,nthWeek:b,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,r){var i=this._getRangeInfo(r);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var u=(e-1)*7-i.fweek+t,l=new Date(i.start.time);return l.setDate(+i.start.d+u),this.getDateInfo(l)},n.create=function(e,t){var r=[];return e.eachComponent("calendar",function(i){var u=new n(i);r.push(u),i.coordinateSystem=u}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},n.dimensions=["time","value"],n}();function dce(n){var e=n.calendarModel,t=n.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}const hqe=dqe;function pqe(n){n.registerComponentModel(lqe),n.registerComponentView(fqe),n.registerCoordinateSystem("calendar",hqe)}function mqe(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function hce(n,e){var t;return Te(e,function(r){n[r]!=null&&n[r]!=="auto"&&(t=!0)}),t}function gqe(n,e,t){var r=Gn({},t),i=n[e],u=t.$action||"merge";u==="merge"?i?(Ho(i,r,!0),Z2(i,r,{ignoreSize:!0}),rge(t,i),JF(t,i),JF(t,i,"shape"),JF(t,i,"style"),JF(t,i,"extra"),t.clipPath=i.clipPath):n[e]=r:u==="replace"?n[e]=r:u==="remove"&&i&&(n[e]=null)}var wye=["transition","enterFrom","leaveTo"],vqe=wye.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function JF(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),!(!n||!e))for(var r=t?wye:vqe,i=0;i<r.length;i++){var u=r[i];n[u]==null&&e[u]!=null&&(n[u]=e[u])}}function yqe(n,e){if(n&&(n.hv=e.hv=[hce(e,["left","right"]),hce(e,["top","bottom"])],n.type==="group")){var t=n,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var bqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var i=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,r),this.option.elements=i},e.prototype.optionUpdated=function(t,r){var i=this.option,u=(r?i:t).elements,l=i.elements=r?[]:i.elements,f=[];this._flatten(u,f,null);var h=Xpe(l,f,"normalMerge"),g=this._elOptionsToUpdate=[];Te(h,function(y,b){var S=y.newOption;S&&(g.push(S),mqe(y,S),gqe(l,b,S),yqe(l[b],S))},this),i.elements=Ls(l,function(y){return y&&delete y.$action,y!=null})},e.prototype._flatten=function(t,r,i){Te(t,function(u){if(u){i&&(u.parentOption=i),r.push(u);var l=u.children;l&&l.length&&this._flatten(l,r,u),delete u.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Vi),pce={path:null,compoundPath:null,group:hi,image:Op,text:ba},Hm=cu(),xqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=to()},e.prototype.render=function(t,r,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(r){var i=this._elMap,u=this.group,l=t.get("z"),f=t.get("zlevel");Te(r,function(h){var g=$f(h.id,null),y=g!=null?i.get(g):null,b=$f(h.parentId,null),S=b!=null?i.get(b):u,_=h.type,k=h.style;_==="text"&&k&&h.hv&&h.hv[1]&&(k.textVerticalAlign=k.textBaseline=k.verticalAlign=k.align=null);var E=h.textContent,R=h.textConfig;if(k&&WWe(k,_,!!R,!!E)){var I=UWe(k,_,!0);!R&&I.textConfig&&(R=h.textConfig=I.textConfig),!E&&I.textContent&&(E=I.textContent)}var z=wqe(h),L=h.$action||"merge",q=L==="merge",X=L==="replace";if(q){var Y=!y,ae=y;Y?ae=mce(g,S,h.type,i):(ae&&(Hm(ae).isNew=!1),nUe(ae)),ae&&(PJ(ae,z,t,{isInit:Y}),gce(ae,h,l,f))}else if(X){kV(y,h,i,t);var te=mce(g,S,h.type,i);te&&(PJ(te,z,t,{isInit:!0}),gce(te,h,l,f))}else L==="remove"&&(uye(y,h),kV(y,h,i,t));var ie=i.get(g);if(ie&&E)if(q){var le=ie.getTextContent();le?le.attr(E):ie.setTextContent(new ba(E))}else X&&ie.setTextContent(new ba(E));if(ie){var ce=h.clipPath;if(ce){var ne=ce.type,Z=void 0,Y=!1;if(q){var Ce=ie.getClipPath();Y=!Ce||Hm(Ce).type!==ne,Z=Y?PQ(ne):Ce}else X&&(Y=!0,Z=PQ(ne));ie.setClipPath(Z),PJ(Z,ce,t,{isInit:Y}),IQ(Z,ce.keyframeAnimation,t)}var ze=Hm(ie);ie.setTextConfig(R),ze.option=h,_qe(ie,t,h),h5({el:ie,componentModel:t,itemName:ie.name,itemTooltipOption:h.tooltip}),IQ(ie,h.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var i=t.option.elements,u=this.group,l=this._elMap,f=r.getWidth(),h=r.getHeight(),g=["x","y"],y=0;y<i.length;y++){var b=i[y],S=$f(b.id,null),_=S!=null?l.get(S):null;if(!(!_||!_.isGroup)){var k=_.parent,E=k===u,R=Hm(_),I=Hm(k);R.width=Xo(R.option.width,E?f:I.width)||0,R.height=Xo(R.option.height,E?h:I.height)||0}}for(var y=i.length-1;y>=0;y--){var b=i[y],S=$f(b.id,null),_=S!=null?l.get(S):null;if(_){var k=_.parent,I=Hm(k),z=k===u?{width:f,height:h}:{width:I.width,height:I.height},L={},q=Tte(_,b,z,null,{hv:b.hv,boundingMode:b.bounding},L);if(!Hm(_).isNew&&q){for(var X=b.transition,Y={},ae=0;ae<g.length;ae++){var te=g[ae],ie=L[te];X&&(bM(X)||Di(X,te)>=0)?Y[te]=ie:_[te]=ie}tl(_,Y,t,0)}else _.attr(L)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(i){kV(i,Hm(i).option,r,t._lastGraphicModel)}),this._elMap=to()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(zs);function PQ(n){var e=Qo(pce,n)?pce[n]:fte(n),t=new e({});return Hm(t).type=n,t}function mce(n,e,t,r){var i=PQ(t);return e.add(i),r.set(n,i),Hm(i).id=n,Hm(i).isNew=!0,i}function kV(n,e,t,r){var i=n&&n.parent;i&&(n.type==="group"&&n.traverse(function(u){kV(u,e,t,r)}),qWe(n,e,r),t.removeKey(Hm(n).id))}function gce(n,e,t,r){n.isGroup||Te([["cursor",Nb.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(i){var u=i[0];Qo(e,u)?n[u]=Xi(e[u],i[1]):n[u]==null&&(n[u]=i[1])}),Te(va(e),function(i){if(i.indexOf("on")===0){var u=e[i];n[i]=Eo(u)?u:null}}),Qo(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}function wqe(n){return n=Gn({},n),Te(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(nge),function(e){delete n[e]}),n}function _qe(n,e,t){var r=Ai(n).eventData;!n.silent&&!n.ignore&&!r&&(r=Ai(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),r&&(r.info=t.info)}function Sqe(n){n.registerComponentModel(bqe),n.registerComponentView(xqe),n.registerPreprocessor(function(e){var t=e.graphic;sr(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var vce=["x","y","radius","angle","single"],Cqe=["cartesian2d","polar","singleAxis"];function Tqe(n){var e=n.get("coordinateSystem");return Di(Cqe,e)>=0}function V2(n){return n+"Axis"}function Mqe(n,e){var t=to(),r=[],i=to();n.eachComponent({mainType:"dataZoom",query:e},function(y){i.get(y.uid)||f(y)});var u;do u=!1,n.eachComponent("dataZoom",l);while(u);function l(y){!i.get(y.uid)&&h(y)&&(f(y),u=!0)}function f(y){i.set(y.uid,!0),r.push(y),g(y)}function h(y){var b=!1;return y.eachTargetAxis(function(S,_){var k=t.get(S);k&&k[_]&&(b=!0)}),b}function g(y){y.eachTargetAxis(function(b,S){(t.get(b)||t.set(b,[]))[S]=!0})}return r}function _ye(n){var e=n.ecModel,t={infoList:[],infoMap:to()};return n.eachTargetAxis(function(r,i){var u=e.getComponent(V2(r),i);if(u){var l=u.getCoordSysModel();if(l){var f=l.uid,h=t.infoMap.get(f);h||(h={model:l,axisModels:[]},t.infoList.push(h),t.infoMap.set(f,h)),h.axisModels.push(u)}}}),t}var zJ=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),kqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,i){var u=yce(t);this.settledOption=u,this.mergeDefaultAndTheme(t,i),this._doInit(u)},e.prototype.mergeOption=function(t){var r=yce(t);Ho(this.option,t,!0),Ho(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;Te([["start","startValue"],["end","endValue"]],function(u,l){this._rangePropMode[l]==="value"&&(r[u[0]]=i[u[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=to(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(u){u.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return Te(vce,function(i){var u=this.getReferringComponents(V2(i),dLe);if(u.specified){r=!0;var l=new zJ;Te(u.models,function(f){l.add(f.componentIndex)}),t.set(i,l)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var i=this.ecModel,u=!0;if(u){var l=r==="vertical"?"y":"x",f=i.findComponents({mainType:l+"Axis"});h(f,l)}if(u){var f=i.findComponents({mainType:"singleAxis",filter:function(y){return y.get("orient",!0)===r}});h(f,"single")}function h(g,y){var b=g[0];if(b){var S=new zJ;if(S.add(b.componentIndex),t.set(y,S),u=!1,y==="x"||y==="y"){var _=b.getReferringComponents("grid",mc).models[0];_&&Te(g,function(k){b.componentIndex!==k.componentIndex&&_===k.getReferringComponents("grid",mc).models[0]&&S.add(k.componentIndex)})}}}u&&Te(vce,function(g){if(u){var y=i.findComponents({mainType:V2(g),filter:function(S){return S.get("type",!0)==="category"}});if(y[0]){var b=new zJ;b.add(y[0].componentIndex),t.set(g,b),u=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,i=this.get("rangeMode");Te([["start","startValue"],["end","endValue"]],function(u,l){var f=t[u[0]]!=null,h=t[u[1]]!=null;f&&!h?r[l]="percent":!f&&h?r[l]="value":i?r[l]=i[l]:f&&(r[l]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,i){t==null&&(t=this.ecModel.getComponent(V2(r),i))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(i,u){Te(i.indexList,function(l){t.call(r,u,l)})})},e.prototype.getAxisProxy=function(t,r){var i=this.getAxisModel(t,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[r])return this.ecModel.getComponent(V2(t),r)},e.prototype.setRawRange=function(t){var r=this.option,i=this.settledOption;Te([["start","startValue"],["end","endValue"]],function(u){(t[u[0]]!=null||t[u[1]]!=null)&&(r[u[0]]=i[u[0]]=t[u[0]],r[u[1]]=i[u[1]]=t[u[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;Te(["start","startValue","end","endValue"],function(i){r[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),u=0;u<i.length;u++)for(var l=i[u],f=this._targetAxisInfoMap.get(l),h=0;h<f.indexList.length;h++){var g=this.getAxisProxy(l,f.indexList[h]);if(g.hostedBy(this))return g;r||(r=g)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Vi);function yce(n){var e={};return Te(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}const vL=kqe;var Dqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(vL);const Aqe=Dqe;var Eqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,u){this.dataZoomModel=t,this.ecModel=r,this.api=i},e.type="dataZoom",e}(zs);const wne=Eqe;var Oqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(wne);const Iqe=Oqe;var b3=Te,bce=ay,Rqe=function(){function n(e,t,r,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=r}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(Tqe(t)){var r=V2(this._dimName),i=t.getReferringComponents(r,mc).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return vo(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,u=this._dataZoomModel.getRangePropMode(),l=[0,100],f=[],h=[],g;b3(["start","end"],function(S,_){var k=e[S],E=e[S+"Value"];u[_]==="percent"?(k==null&&(k=l[_]),E=i.parse(rs(k,l,t))):(g=!0,E=E==null?t[_]:i.parse(E),k=rs(E,t,l)),h[_]=E==null||isNaN(E)?t[_]:E,f[_]=k==null||isNaN(k)?l[_]:k}),bce(h),bce(f);var y=this._minMaxSpan;g?b(h,f,t,l,!1):b(f,h,l,t,!0);function b(S,_,k,E,R){var I=R?"Span":"ValueSpan";PM(0,S,k,"all",y["min"+I],y["max"+I]);for(var z=0;z<2;z++)_[z]=rs(S[z],k,E,!0),R&&(_[z]=i.parse(_[z]))}return{valueWindow:h,percentWindow:f}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=Pqe(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),u=e.get("filterMode"),l=this._valueWindow;if(u==="none")return;b3(i,function(h){var g=h.getData(),y=g.mapDimensionsAll(r);if(y.length){if(u==="weakFilter"){var b=g.getStore(),S=br(y,function(_){return g.getDimensionIndex(_)},g);g.filterSelf(function(_){for(var k,E,R,I=0;I<y.length;I++){var z=b.get(S[I],_),L=!isNaN(z),q=z<l[0],X=z>l[1];if(L&&!q&&!X)return!0;L&&(R=!0),q&&(k=!0),X&&(E=!0)}return R&&k&&E})}else b3(y,function(_){if(u==="empty")h.setData(g=g.map(_,function(E){return f(E)?E:NaN}));else{var k={};k[_]=l,g.selectRange(k)}});b3(y,function(_){g.setApproximateExtent(l,_)})}});function f(h){return h>=l[0]&&h<=l[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;b3(["min","max"],function(i){var u=t.get(i+"Span"),l=t.get(i+"ValueSpan");l!=null&&(l=this.getAxisModel().axis.scale.parse(l)),l!=null?u=rs(r[0]+l,r,[0,100],!0):u!=null&&(l=rs(u,[0,100],r,!0)-r[0]),e[i+"Span"]=u,e[i+"ValueSpan"]=l},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var i=Gee(r,[0,500]);i=Math.min(i,20);var u=e.axis.scale.rawExtentInfo;t[0]!==0&&u.setDeterminedMinMax("min",+r[0].toFixed(i)),t[1]!==100&&u.setDeterminedMinMax("max",+r[1].toFixed(i)),u.freeze()}},n}();function Pqe(n,e,t){var r=[1/0,-1/0];b3(t,function(l){HFe(r,l.getData(),e)});var i=n.getAxisModel(),u=zve(i.axis.scale,i,r).calculate();return[u.min,u.max]}const Nqe=Rqe;var Lqe={getTargetSeries:function(n){function e(i){n.eachComponent("dataZoom",function(u){u.eachTargetAxis(function(l,f){var h=n.getComponent(V2(l),f);i(l,f,h,u)})})}e(function(i,u,l,f){l.__dzAxisProxy=null});var t=[];e(function(i,u,l,f){l.__dzAxisProxy||(l.__dzAxisProxy=new Nqe(i,u,f,n),t.push(l.__dzAxisProxy))});var r=to();return Te(t,function(i){Te(i.getTargetSeriesModels(),function(u){r.set(u.uid,u)})}),r},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).reset(t)}),t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),u=r.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:u[0],endValue:u[1]})}})}};const Bqe=Lqe;function zqe(n){n.registerAction("dataZoom",function(e,t){var r=Mqe(t,e);Te(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var xce=!1;function _ne(n){xce||(xce=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,Bqe),zqe(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Fqe(n){n.registerComponentModel(Aqe),n.registerComponentView(Iqe),_ne(n)}var wv=function(){function n(){}return n}(),Sye={};function QP(n,e){Sye[n]=e}function Cye(n){return Sye[n]}var Vqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;Te(this.option.feature,function(r,i){var u=Cye(i);u&&(u.getDefaultOption&&(u.defaultOption=u.getDefaultOption(t)),Ho(r,u.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Vi);const Hqe=Vqe;function jqe(n,e,t){var r=e.getBoxLayoutParams(),i=e.get("padding"),u={width:t.getWidth(),height:t.getHeight()},l=Pd(r,u,i);mM(e.get("orient"),n,e.get("itemGap"),l.width,l.height),Tte(n,r,u,i)}function Tye(n,e){var t=m5(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),n=new ya({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),n}var Wqe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,u){var l=this.group;if(l.removeAll(),!t.get("show"))return;var f=+t.get("itemSize"),h=t.get("orient")==="vertical",g=t.get("feature")||{},y=this._features||(this._features={}),b=[];Te(g,function(k,E){b.push(E)}),new $te(this._featureNames||[],b).add(S).update(S).remove(ji(S,null)).execute(),this._featureNames=b;function S(k,E){var R=b[k],I=b[E],z=g[R],L=new xs(z,t,t.ecModel),q;if(u&&u.newTitle!=null&&u.featureName===R&&(z.title=u.newTitle),R&&!I){if(Uqe(R))q={onclick:L.option.onclick,featureName:R};else{var X=Cye(R);if(!X)return;q=new X}y[R]=q}else if(q=y[I],!q)return;q.uid=p5("toolbox-feature"),q.model=L,q.ecModel=r,q.api=i;var Y=q instanceof wv;if(!R&&I){Y&&q.dispose&&q.dispose(r,i);return}if(!L.get("show")||Y&&q.unusable){Y&&q.remove&&q.remove(r,i);return}_(L,q,R),L.setIconStatus=function(ae,te){var ie=this.option,le=this.iconPaths;ie.iconStatus=ie.iconStatus||{},ie.iconStatus[ae]=te,le[ae]&&(te==="emphasis"?X3:Y3)(le[ae])},q instanceof wv&&q.render&&q.render(L,r,i,u)}function _(k,E,R){var I=k.getModel("iconStyle"),z=k.getModel(["emphasis","iconStyle"]),L=E instanceof wv&&E.getIcons?E.getIcons():k.get("icon"),q=k.get("title")||{},X,Y;Lr(L)?(X={},X[R]=L):X=L,Lr(q)?(Y={},Y[R]=q):Y=q;var ae=k.iconPaths={};Te(X,function(te,ie){var le=d5(te,{},{x:-f/2,y:-f/2,width:f,height:f});le.setStyle(I.getItemStyle());var ce=le.ensureState("emphasis");ce.style=z.getItemStyle();var ne=new ba({style:{text:Y[ie],align:z.get("textAlign"),borderRadius:z.get("textBorderRadius"),padding:z.get("textPadding"),fill:null},ignore:!0});le.setTextContent(ne),h5({el:le,componentModel:t,itemName:ie,formatterParamsExtra:{title:Y[ie]}}),le.__title=Y[ie],le.on("mouseover",function(){var Z=z.getItemStyle(),Ce=h?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";ne.setStyle({fill:z.get("textFill")||Z.fill||Z.stroke||"#000",backgroundColor:z.get("textBackgroundColor")}),le.setTextConfig({position:z.get("textPosition")||Ce}),ne.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){k.get(["iconStatus",ie])!=="emphasis"&&i.leaveEmphasis(this),ne.hide()}),(k.get(["iconStatus",ie])==="emphasis"?X3:Y3)(le),l.add(le),le.on("click",Wr(E.onclick,E,r,i,ie)),ae[ie]=le})}jqe(l,t,i),l.add(Tye(l.getBoundingRect(),t)),h||l.eachChild(function(k){var E=k.__title,R=k.ensureState("emphasis"),I=R.textConfig||(R.textConfig={}),z=k.getTextContent(),L=z&&z.ensureState("emphasis");if(L&&!Eo(L)&&E){var q=L.style||(L.style={}),X=PL(E,ba.makeFont(q)),Y=k.x+l.x,ae=k.y+l.y+f,te=!1;ae+X.height>i.getHeight()&&(I.position="top",te=!0);var ie=te?-5-X.height:f+10;Y+X.width/2>i.getWidth()?(I.position=["100%",ie],q.align="right"):Y-X.width/2<0&&(I.position=[0,ie],q.align="left")}})},e.prototype.updateView=function(t,r,i,u){Te(this._features,function(l){l instanceof wv&&l.updateView&&l.updateView(l.model,r,i,u)})},e.prototype.remove=function(t,r){Te(this._features,function(i){i instanceof wv&&i.remove&&i.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){Te(this._features,function(i){i instanceof wv&&i.dispose&&i.dispose(t,r)})},e.type="toolbox",e}(zs);function Uqe(n){return n.indexOf("my")===0}const qqe=Wqe;var $qe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var i=this.model,u=i.get("name")||t.get("title.0.text")||"echarts",l=r.getZr().painter.getType()==="svg",f=l?"svg":i.get("type",!0)||"png",h=r.getConnectedDataURL({type:f,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),g=Ni.browser;if(Eo(MouseEvent)&&(g.newEdge||!g.ie&&!g.edge)){var y=document.createElement("a");y.download=u+"."+f,y.target="_blank",y.href=h;var b=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});y.dispatchEvent(b)}else if(window.navigator.msSaveOrOpenBlob||l){var S=h.split(","),_=S[0].indexOf("base64")>-1,k=l?decodeURIComponent(S[1]):S[1];_&&(k=window.atob(k));var E=u+"."+f;if(window.navigator.msSaveOrOpenBlob){for(var R=k.length,I=new Uint8Array(R);R--;)I[R]=k.charCodeAt(R);var z=new Blob([I]);window.navigator.msSaveOrOpenBlob(z,E)}else{var L=document.createElement("iframe");document.body.appendChild(L);var q=L.contentWindow,X=q.document;X.open("image/svg+xml","replace"),X.write(k),X.close(),q.focus(),X.execCommand("SaveAs",!0,E),document.body.removeChild(L)}}else{var Y=i.get("lang"),ae='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(Y&&Y[0]||"")+'" /></body>',te=window.open();te.document.write(ae),te.document.title=u}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e}(wv);const Gqe=$qe;var wce="__ec_magicType_stack__",Xqe=[["line","bar"],["stack"]],Yqe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),i={};return Te(t.get("type"),function(u){r[u]&&(i[u]=r[u])}),i},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,i){var u=this.model,l=u.get(["seriesIndex",i]);if(_ce[i]){var f={series:[]},h=function(b){var S=b.subType,_=b.id,k=_ce[i](S,_,b,u);k&&(To(k,b.option),f.series.push(k));var E=b.coordinateSystem;if(E&&E.type==="cartesian2d"&&(i==="line"||i==="bar")){var R=E.getAxesByScale("ordinal")[0];if(R){var I=R.dim,z=I+"Axis",L=b.getReferringComponents(z,mc).models[0],q=L.componentIndex;f[z]=f[z]||[];for(var X=0;X<=q;X++)f[z][q]=f[z][q]||{};f[z][q].boundaryGap=i==="bar"}}};Te(Xqe,function(b){Di(b,i)>=0&&Te(b,function(S){u.setIconStatus(S,"normal")})}),u.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:l==null?null:{seriesIndex:l}},h);var g,y=i;i==="stack"&&(g=Ho({stack:u.option.title.tiled,tiled:u.option.title.stack},u.option.title),u.get(["iconStatus",i])!=="emphasis"&&(y="tiled")),r.dispatchAction({type:"changeMagicType",currentType:y,newOption:f,newTitle:g,featureName:"magicType"})}},e}(wv),_ce={line:function(n,e,t,r){if(n==="bar")return Ho({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,e,t,r){if(n==="line")return Ho({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,e,t,r){var i=t.get("stack")===wce;if(n==="line"||n==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),Ho({id:e,stack:i?"":wce},r.get(["option","stack"])||{},!0)}};Ev({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});const Kqe=Yqe;var I9=new Array(60).join("-"),t5="	";function Jqe(n){var e={},t=[],r=[];return n.eachRawSeries(function(i){var u=i.coordinateSystem;if(u&&(u.type==="cartesian2d"||u.type==="polar")){var l=u.getBaseAxis();if(l.type==="category"){var f=l.dim+"_"+l.index;e[f]||(e[f]={categoryAxis:l,valueAxis:u.getOtherAxis(l),series:[]},r.push({axisDim:l.dim,axisIndex:l.index})),e[f].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function Zqe(n){var e=[];return Te(n,function(t,r){var i=t.categoryAxis,u=t.valueAxis,l=u.dim,f=[" "].concat(br(t.series,function(_){return _.name})),h=[i.model.getCategories()];Te(t.series,function(_){var k=_.getRawData();h.push(_.getRawData().mapArray(k.mapDimension(l),function(E){return E}))});for(var g=[f.join(t5)],y=0;y<h[0].length;y++){for(var b=[],S=0;S<h.length;S++)b.push(h[S][y]);g.push(b.join(t5))}e.push(g.join(`
`))}),e.join(`

`+I9+`

`)}function Qqe(n){return br(n,function(e){var t=e.getRawData(),r=[e.name],i=[];return t.each(t.dimensions,function(){for(var u=arguments.length,l=arguments[u-1],f=t.getName(l),h=0;h<u-1;h++)i[h]=arguments[h];r.push((f?f+t5:"")+i.join(t5))}),r.join(`
`)}).join(`

`+I9+`

`)}function e$e(n){var e=Jqe(n);return{value:Ls([Zqe(e.seriesGroupByCategoryAxis),Qqe(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+I9+`

`),meta:e.meta}}function MH(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function t$e(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(t5)>=0)return!0}var NQ=new RegExp("["+t5+"]+","g");function n$e(n){for(var e=n.split(/\n+/g),t=MH(e.shift()).split(NQ),r=[],i=br(t,function(h){return{name:h,data:[]}}),u=0;u<e.length;u++){var l=MH(e[u]).split(NQ);r.push(l.shift());for(var f=0;f<l.length;f++)i[f]&&(i[f].data[u]=l[f])}return{series:i,categories:r}}function r$e(n){for(var e=n.split(/\n+/g),t=MH(e.shift()),r=[],i=0;i<e.length;i++){var u=MH(e[i]);if(u){var l=u.split(NQ),f="",h=void 0,g=!1;isNaN(l[0])?(g=!0,f=l[0],l=l.slice(1),r[i]={name:f,value:[]},h=r[i].value):h=r[i]=[];for(var y=0;y<l.length;y++)h.push(+l[y]);h.length===1&&(g?r[i].value=h[0]:r[i]=h[0])}}return{name:t,data:r}}function o$e(n,e){var t=n.split(new RegExp(`
*`+I9+`
*`,"g")),r={series:[]};return Te(t,function(i,u){if(t$e(i)){var l=n$e(i),f=e[u],h=f.axisDim+"Axis";f&&(r[h]=r[h]||[],r[h][f.axisIndex]={data:l.categories},r.series=r.series.concat(l.series))}else{var l=r$e(i);r.series.push(l)}}),r}var i$e=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),u=this.model;this._dom&&i.removeChild(this._dom);var l=document.createElement("div");l.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",l.style.backgroundColor=u.get("backgroundColor")||"#fff";var f=document.createElement("h4"),h=u.get("lang")||[];f.innerHTML=h[0]||u.get("title"),f.style.cssText="margin:10px 20px",f.style.color=u.get("textColor");var g=document.createElement("div"),y=document.createElement("textarea");g.style.cssText="overflow:auto";var b=u.get("optionToContent"),S=u.get("contentToOption"),_=e$e(t);if(Eo(b)){var k=b(r.getOption());Lr(k)?g.innerHTML=k:$3(k)&&g.appendChild(k)}else{y.readOnly=u.get("readOnly");var E=y.style;E.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",E.color=u.get("textColor"),E.borderColor=u.get("textareaBorderColor"),E.backgroundColor=u.get("textareaColor"),y.value=_.value,g.appendChild(y)}var R=_.meta,I=document.createElement("div");I.style.cssText="position:absolute;bottom:5px;left:0;right:0";var z="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",L=document.createElement("div"),q=document.createElement("div");z+=";background-color:"+u.get("buttonColor"),z+=";color:"+u.get("buttonTextColor");var X=this;function Y(){i.removeChild(l),X._dom=null}EZ(L,"click",Y),EZ(q,"click",function(){if(S==null&&b!=null||S!=null&&b==null){Y();return}var ae;try{Eo(S)?ae=S(g,r.getOption()):ae=o$e(y.value,R)}catch(te){throw Y(),new Error("Data view format error "+te)}ae&&r.dispatchAction({type:"changeDataView",newOption:ae}),Y()}),L.innerHTML=h[1],q.innerHTML=h[2],q.style.cssText=L.style.cssText=z,!u.get("readOnly")&&I.appendChild(q),I.appendChild(L),l.appendChild(f),l.appendChild(g),l.appendChild(I),g.style.height=i.clientHeight-80+"px",i.appendChild(l),this._dom=l},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e}(wv);function a$e(n,e){return br(n,function(t,r){var i=e&&e[r];if(no(i)&&!sr(i)){var u=no(t)&&!sr(t);u||(t={value:t});var l=i.name!=null&&t.name==null;return t=To(t,i),l&&delete t.name,t}else return t})}Ev({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];Te(n.newOption.series,function(r){var i=e.getSeriesByName(r.name)[0];if(!i)t.push(Gn({type:"scatter"},r));else{var u=i.get("data");t.push({name:r.name,data:a$e(r.data,u)})}}),e.mergeOption(To({series:t},n.newOption))});const u$e=i$e;var Mye=Te,kye=cu();function s$e(n,e){var t=Sne(n);Mye(e,function(r,i){for(var u=t.length-1;u>=0;u--){var l=t[u];if(l[i])break}if(u<0){var f=n.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(f){var h=f.getPercentRange();t[0][i]={dataZoomId:i,start:h[0],end:h[1]}}}}),t.push(e)}function l$e(n){var e=Sne(n),t=e[e.length-1];e.length>1&&e.pop();var r={};return Mye(t,function(i,u){for(var l=e.length-1;l>=0;l--)if(i=e[l][u],i){r[u]=i;break}}),r}function c$e(n){kye(n).snapshots=null}function f$e(n){return Sne(n).length}function Sne(n){var e=kye(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var d$e=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){c$e(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return r},e}(wv);Ev({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});const h$e=d$e;var p$e=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],m$e=function(){function n(e,t,r){var i=this;this._targetInfoList=[];var u=Sce(t,e);Te(g$e,function(l,f){(!r||!r.include||Di(r.include,f)>=0)&&l(u,i._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,i,u){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var l=FJ[r.brushType](0,u,i);r.__rangeOffset={offset:kce[r.brushType](l.values,r.range,[1,1]),xyMinMax:l.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,r){Te(e,function(i){var u=this.findTargetInfo(i,t);u&&u!==!0&&Te(u.coordSyses,function(l){var f=FJ[i.brushType](1,l,i.range,!0);r(i,f.values,l,t)})},this)},n.prototype.setInputRanges=function(e,t){Te(e,function(r){var i=this.findTargetInfo(r,t);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var u=FJ[r.brushType](0,i.coordSys,r.coordRange),l=r.__rangeOffset;r.range=l?kce[r.brushType](u.values,l.offset,v$e(u.xyMinMax,l.xyMinMax)):u.values}},this)},n.prototype.makePanelOpts=function(e,t){return br(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:J0e(i),isTargetByCursor:Q0e(i,e,r.coordSysModel),getLinearBrushOtherExtent:Z0e(i)}})},n.prototype.controlSeries=function(e,t,r){var i=this.findTargetInfo(e,r);return i===!0||i&&Di(i.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,i=Sce(t,e),u=0;u<r.length;u++){var l=r[u],f=e.panelId;if(f){if(l.panelId===f)return l}else for(var h=0;h<Cce.length;h++)if(Cce[h](i,l))return l}return!0},n}();function LQ(n){return n[0]>n[1]&&n.reverse(),n}function Sce(n,e){return RN(n,e,{includeMainTypes:p$e})}var g$e={grid:function(n,e){var t=n.xAxisModels,r=n.yAxisModels,i=n.gridModels,u=to(),l={},f={};!t&&!r&&!i||(Te(t,function(h){var g=h.axis.grid.model;u.set(g.id,g),l[g.id]=!0}),Te(r,function(h){var g=h.axis.grid.model;u.set(g.id,g),f[g.id]=!0}),Te(i,function(h){u.set(h.id,h),l[h.id]=!0,f[h.id]=!0}),u.each(function(h){var g=h.coordinateSystem,y=[];Te(g.getCartesians(),function(b,S){(Di(t,b.getAxis("x").model)>=0||Di(r,b.getAxis("y").model)>=0)&&y.push(b)}),e.push({panelId:"grid--"+h.id,gridModel:h,coordSysModel:h,coordSys:y[0],coordSyses:y,getPanelRect:Tce.grid,xAxisDeclared:l[h.id],yAxisDeclared:f[h.id]})}))},geo:function(n,e){Te(n.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:Tce.geo})})}},Cce=[function(n,e){var t=n.xAxisModel,r=n.yAxisModel,i=n.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],Tce={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(G2(n)),e}},FJ={lineX:ji(Mce,0),lineY:ji(Mce,1),rect:function(n,e,t,r){var i=n?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),u=n?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),l=[LQ([i[0],u[0]]),LQ([i[1],u[1]])];return{values:l,xyMinMax:l}},polygon:function(n,e,t,r){var i=[[1/0,-1/0],[1/0,-1/0]],u=br(t,function(l){var f=n?e.pointToData(l,r):e.dataToPoint(l,r);return i[0][0]=Math.min(i[0][0],f[0]),i[1][0]=Math.min(i[1][0],f[1]),i[0][1]=Math.max(i[0][1],f[0]),i[1][1]=Math.max(i[1][1],f[1]),f});return{values:u,xyMinMax:i}}};function Mce(n,e,t,r){var i=t.getAxis(["x","y"][n]),u=LQ(br([0,1],function(f){return e?i.coordToData(i.toLocalCoord(r[f]),!0):i.toGlobalCoord(i.dataToCoord(r[f]))})),l=[];return l[n]=u,l[1-n]=[NaN,NaN],{values:u,xyMinMax:l}}var kce={lineX:ji(Dce,0),lineY:ji(Dce,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return br(n,function(r,i){return[r[0]-t[0]*e[i][0],r[1]-t[1]*e[i][1]]})}};function Dce(n,e,t,r){return[e[0]-r[n]*t[0],e[1]-r[n]*t[1]]}function v$e(n,e){var t=Ace(n),r=Ace(e),i=[t[0]/r[0],t[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function Ace(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const Dye=m$e;var BQ=Te,y$e=uLe("toolbox-dataZoom_"),b$e=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,u){this._brushController||(this._brushController=new K0e(i.getZr()),this._brushController.on("brush",Wr(this._onBrush,this)).mount()),_$e(t,r,this,u,i),w$e(t,r)},e.prototype.onclick=function(t,r,i){x$e[i].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var i={},u=this.ecModel;this._brushController.updateCovers([]);var l=new Dye(Cne(this.model),u,{include:["grid"]});l.matchOutputRanges(r,u,function(g,y,b){if(b.type==="cartesian2d"){var S=g.brushType;S==="rect"?(f("x",b,y[0]),f("y",b,y[1])):f({lineX:"x",lineY:"y"}[S],b,y)}}),s$e(u,i),this._dispatchZoomAction(i);function f(g,y,b){var S=y.getAxis(g),_=S.model,k=h(g,_,u),E=k.findRepresentativeAxisProxy(_).getMinMaxSpan();(E.minValueSpan!=null||E.maxValueSpan!=null)&&(b=PM(0,b.slice(),S.scale.getExtent(),0,E.minValueSpan,E.maxValueSpan)),k&&(i[k.id]={dataZoomId:k.id,startValue:b[0],endValue:b[1]})}function h(g,y,b){var S;return b.eachComponent({mainType:"dataZoom",subType:"select"},function(_){var k=_.getAxisModel(g,y.componentIndex);k&&(S=_)}),S}},e.prototype._dispatchZoomAction=function(t){var r=[];BQ(t,function(i,u){r.push(vo(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e}(wv),x$e={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(l$e(this.ecModel))}};function Cne(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function w$e(n,e){n.setIconStatus("back",f$e(e)>1?"emphasis":"normal")}function _$e(n,e,t,r,i){var u=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(u=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=u,n.setIconStatus("zoom",u?"emphasis":"normal");var l=new Dye(Cne(n),e,{include:["grid"]}),f=l.makePanelOpts(i,function(h){return h.xAxisDeclared&&!h.yAxisDeclared?"lineX":!h.xAxisDeclared&&h.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(f).enableBrush(u&&f.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}QBe("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),i=[],u=Cne(r),l=RN(n,u);BQ(l.xAxisModels,function(h){return f(h,"xAxis","xAxisIndex")}),BQ(l.yAxisModels,function(h){return f(h,"yAxis","yAxisIndex")});function f(h,g,y){var b=h.componentIndex,S={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:y$e+g+b};S[y]=b,i.push(S)}return i});const S$e=b$e;function C$e(n){n.registerComponentModel(Hqe),n.registerComponentView(qqe),QP("saveAsImage",Gqe),QP("magicType",Kqe),QP("dataView",u$e),QP("dataZoom",S$e),QP("restore",h$e),Rc(Fqe)}var T$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Vi);const M$e=T$e;function Aye(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function Eye(n){if(Ni.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var Oye=Eye(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),k$e=Eye(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Iye(n,e){if(!n)return e;e=_te(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function D$e(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}var A$e=Iye(k$e,"transition"),Tne=Iye(Oye,"transform"),E$e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Ni.transform3dSupported?"will-change:transform;":"");function O$e(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function I$e(n,e,t){if(!Lr(t)||t==="inside")return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");e=CM(e);var u=O$e(t),l=Math.max(Math.round(i)*1.5,6),f="",h=Tne+":",g;Di(["left","right"],u)>-1?(f+="top:50%",h+="translateY(-50%) rotate("+(g=u==="left"?-225:-45)+"deg)"):(f+="left:50%",h+="translateX(-50%) rotate("+(g=u==="top"?225:45)+"deg)");var y=g*Math.PI/180,b=l+i,S=b*Math.abs(Math.cos(y))+b*Math.abs(Math.sin(y)),_=Math.round(((S-Math.SQRT2*i)/2+Math.SQRT2*i-(S-b)/2)*100)/100;f+=";"+u+":-"+_+"px";var k=e+" solid "+i+"px;",E=["position:absolute;width:"+l+"px;height:"+l+"px;z-index:-1;",f+";"+h+";","border-bottom:"+k,"border-right:"+k,"background-color:"+r+";"];return'<div style="'+E.join("")+'"></div>'}function R$e(n,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+t,i="opacity"+r+",visibility"+r;return e||(r=" "+n+"s "+t,i+=Ni.transformSupported?","+Tne+r:",left"+r+",top"+r),A$e+":"+i}function Ece(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Ni.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var u=Ni.transform3dSupported,l="translate"+(u?"3d":"")+"("+r+","+i+(u?",0":"")+")";return t?"top:0;left:0;"+Tne+":"+l+";":[["top",0],["left",0],[Oye,l]]}function P$e(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var i=n.get("textShadowColor"),u=n.get("textShadowBlur")||0,l=n.get("textShadowOffsetX")||0,f=n.get("textShadowOffsetY")||0;return i&&u&&e.push("text-shadow:"+l+"px "+f+"px "+u+"px "+i),Te(["decoration","align"],function(h){var g=n.get(h);g&&e.push("text-"+h+":"+g)}),e.join(";")}function N$e(n,e,t){var r=[],i=n.get("transitionDuration"),u=n.get("backgroundColor"),l=n.get("shadowBlur"),f=n.get("shadowColor"),h=n.get("shadowOffsetX"),g=n.get("shadowOffsetY"),y=n.getModel("textStyle"),b=Rge(n,"html"),S=h+"px "+g+"px "+l+"px "+f;return r.push("box-shadow:"+S),e&&i&&r.push(R$e(i,t)),u&&r.push("background-color:"+u),Te(["width","color","radius"],function(_){var k="border-"+_,E=_te(k),R=n.get(E);R!=null&&r.push(k+":"+R+(_==="color"?"":"px"))}),r.push(P$e(y)),b!=null&&r.push("padding:"+m5(b).join("px ")+"px"),r.join(";")+";"}function Oce(n,e,t,r,i){var u=e&&e.painter;if(t){var l=u&&u.getViewportRoot();l&&CPe(n,l,document.body,r,i)}else{n[0]=r,n[1]=i;var f=u&&u.getViewportRootOffset();f&&(n[0]+=f.offsetLeft,n[1]+=f.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var L$e=function(){function n(e,t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Ni.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var u=this._zr=t.getZr(),l=this._appendToBody=r&&r.appendToBody;Oce(this._styleCoord,u,l,t.getWidth()/2,t.getHeight()/2),l?document.body.appendChild(i):e.appendChild(i),this._container=e;var f=this;i.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},i.onmousemove=function(h){if(h=h||window.event,!f._enterable){var g=u.handler,y=u.painter.getViewportRoot();zm(y,h,!0),g.dispatch("mousemove",h)}},i.onmouseleave=function(){f._inContent=!1,f._enterable&&f._show&&f.hideLater(f._hideDelay)}}return n.prototype.update=function(e){var t=this._container,r=D$e(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative");var u=e.get("alwaysShowContent");u&&this._moveIfResized(),this._alwaysShowContent=u,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,u=this._styleCoord;r.innerHTML?i.cssText=E$e+N$e(e,!this._firstShow,this._longHide)+Ece(u[0],u[1],!0)+("border-color:"+CM(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,u){var l=this.el;if(e==null){l.innerHTML="";return}var f="";if(Lr(u)&&r.get("trigger")==="item"&&!Aye(r)&&(f=I$e(r,i,u)),Lr(e))l.innerHTML=e+f;else if(e){l.innerHTML="",sr(e)||(e=[e]);for(var h=0;h<e.length;h++)$3(e[h])&&e[h].parentNode!==l&&l.appendChild(e[h]);if(f&&l.childNodes.length){var g=document.createElement("div");g.innerHTML=f,l.appendChild(g)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var r=this._styleCoord;if(Oce(r,this._zr,this._appendToBody,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,u=Ece(r[0],r[1]);Te(u,function(l){i[l[0]]=l[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Ni.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Wr(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const B$e=L$e;var z$e=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Rce(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,u){var l=this;no(e)&&xh(""),this.el&&this._zr.remove(this.el);var f=r.getModel("textStyle");this.el=new ba({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:f.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Rge(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),Te(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(g){l.el.style[g]=r.get(g)}),Te(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(g){l.el.style[g]=f.get(g)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=Ice(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;Rce(i,this._zr,e,t),e=i[0],t=i[1];var u=r.style,l=M2(u.borderWidth||0),f=Ice(u);r.x=e+l+f.left,r.y=t+l+f.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Wr(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function M2(n){return Math.max(0,n)}function Ice(n){var e=M2(n.shadowBlur||0),t=M2(n.shadowOffsetX||0),r=M2(n.shadowOffsetY||0);return{left:M2(e-t),right:M2(e+t),top:M2(e-r),bottom:M2(e+r)}}function Rce(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const F$e=z$e;var V$e=new ya({shape:{x:-1,y:-1,width:2,height:2}}),H$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(Ni.node||!r.getDom())){var i=t.getComponent("tooltip"),u=this._renderMode=pLe(i.get("renderMode"));this._tooltipContent=u==="richText"?new F$e(r):new B$e(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,r,i){if(!(Ni.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var u=this._tooltipContent;u.update(t),u.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?FL(this,"_updatePosition",50,"fixRate"):lL(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");gye("itemTooltip",this._api,Wr(function(i,u,l){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(u,l):i==="leave"&&this._hide(l))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,u=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&u!=="none"&&u!=="click"){var l=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&l.manuallyShowTip(t,r,i,{x:l._lastX,y:l._lastY,dataByCoordSys:l._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,u){if(!(u.from===this.uid||Ni.node||!i.getDom())){var l=Pce(u,i);this._ticket="";var f=u.dataByCoordSys,h=q$e(u,r,i);if(h){var g=h.el.getBoundingRect().clone();g.applyTransform(h.el.transform),this._tryShow({offsetX:g.x+g.width/2,offsetY:g.y+g.height/2,target:h.el,position:u.position,positionDefault:"bottom"},l)}else if(u.tooltip&&u.x!=null&&u.y!=null){var y=V$e;y.x=u.x,y.y=u.y,y.update(),Ai(y).tooltipConfig={name:null,option:u.tooltip},this._tryShow({offsetX:u.x,offsetY:u.y,target:y},l)}else if(f)this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,dataByCoordSys:f,tooltipOption:u.tooltipOption},l);else if(u.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,u))return;var b=vye(u,r),S=b.point[0],_=b.point[1];S!=null&&_!=null&&this._tryShow({offsetX:S,offsetY:_,target:b.el,position:u.position,positionDefault:"bottom"},l)}else u.x!=null&&u.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:u.x,y:u.y}),this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,target:i.getZr().findHover(u.x,u.y).target},l))}},e.prototype.manuallyHideTip=function(t,r,i,u){var l=this._tooltipContent;this._tooltipModel&&l.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,u.from!==this.uid&&this._hide(Pce(u,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,u){var l=u.seriesIndex,f=u.dataIndex,h=r.getComponent("axisPointer").coordSysAxesInfo;if(!(l==null||f==null||h==null)){var g=r.getSeriesByIndex(l);if(g){var y=g.getData(),b=eN([y.getItemModel(f),g,(g.coordinateSystem||{}).model],this._tooltipModel);if(b.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:l,dataIndex:f,position:u.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,u=this._tooltipModel;if(u){this._lastX=t.offsetX,this._lastY=t.offsetY;var l=t.dataByCoordSys;if(l&&l.length)this._showAxisTooltip(l,t);else if(i){this._lastDataByCoordSys=null;var f,h;aM(i,function(g){if(Ai(g).dataIndex!=null)return f=g,!0;if(Ai(g).tooltipConfig!=null)return h=g,!0},!0),f?this._showSeriesItemTooltip(t,f,r):h?this._showComponentItemTooltip(t,h,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=Wr(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,u=this._tooltipModel,l=[r.offsetX,r.offsetY],f=eN([r.tooltipOption],u),h=this._renderMode,g=[],y=gy("section",{blocks:[],noHeader:!0}),b=[],S=new nJ;Te(t,function(z){Te(z.dataByAxis,function(L){var q=i.getComponent(L.axisDim+"Axis",L.axisIndex),X=L.value;if(!(!q||X==null)){var Y=hye(X,q.axis,i,L.seriesDataIndices,L.valueLabelOpt),ae=gy("section",{header:Y,noHeader:!Xm(Y),sortBlocks:!0,blocks:[]});y.blocks.push(ae),Te(L.seriesDataIndices,function(te){var ie=i.getSeriesByIndex(te.seriesIndex),le=te.dataIndexInside,ce=ie.getDataParams(le);if(!(ce.dataIndex<0)){ce.axisDim=L.axisDim,ce.axisIndex=L.axisIndex,ce.axisType=L.axisType,ce.axisId=L.axisId,ce.axisValue=Zte(q.axis,{value:X}),ce.axisValueLabel=Y,ce.marker=S.makeTooltipMarker("item",CM(ce.color),h);var ne=Due(ie.formatTooltip(le,!0,null)),Z=ne.frag;if(Z){var Ce=eN([ie],u).get("valueFormatter");ae.blocks.push(Ce?Gn({valueFormatter:Ce},Z):Z)}ne.text&&b.push(ne.text),g.push(ce)}})}})}),y.blocks.reverse(),b.reverse();var _=r.position,k=f.get("order"),E=Rue(y,S,h,k,i.get("useUTC"),f.get("textStyle"));E&&b.unshift(E);var R=h==="richText"?`

`:"<br/>",I=b.join(R);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(t,g)?this._updatePosition(f,_,l[0],l[1],this._tooltipContent,g):this._showTooltipContent(f,I,g,Math.random()+"",l[0],l[1],_,null,S)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var u=this._ecModel,l=Ai(r),f=l.seriesIndex,h=u.getSeriesByIndex(f),g=l.dataModel||h,y=l.dataIndex,b=l.dataType,S=g.getData(b),_=this._renderMode,k=t.positionDefault,E=eN([S.getItemModel(y),g,h&&(h.coordinateSystem||{}).model],this._tooltipModel,k?{position:k}:null),R=E.get("trigger");if(!(R!=null&&R!=="item")){var I=g.getDataParams(y,b),z=new nJ;I.marker=z.makeTooltipMarker("item",CM(I.color),_);var L=Due(g.formatTooltip(y,!1,b)),q=E.get("order"),X=E.get("valueFormatter"),Y=L.frag,ae=Y?Rue(X?Gn({valueFormatter:X},Y):Y,z,_,q,u.get("useUTC"),E.get("textStyle")):L.text,te="item_"+g.name+"_"+y;this._showOrMove(E,function(){this._showTooltipContent(E,ae,I,te,t.offsetX,t.offsetY,t.position,t.target,z)}),i({type:"showTip",dataIndexInside:y,dataIndex:S.getRawIndex(y),seriesIndex:f,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var u=Ai(r),l=u.tooltipConfig,f=l.option||{};if(Lr(f)){var h=f;f={content:h,formatter:h}}var g=[f],y=this._ecModel.getComponent(u.componentMainType,u.componentIndex);y&&g.push(y),g.push({formatter:f.content});var b=t.positionDefault,S=eN(g,this._tooltipModel,b?{position:b}:null),_=S.get("content"),k=Math.random()+"",E=new nJ;this._showOrMove(S,function(){var R=vo(S.get("formatterParams")||{});this._showTooltipContent(S,_,R,k,t.offsetX,t.offsetY,t.position,r,E)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,u,l,f,h,g,y){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var b=this._tooltipContent;b.setEnterable(t.get("enterable"));var S=t.get("formatter");h=h||t.get("position");var _=r,k=this._getNearestPoint([l,f],i,t.get("trigger"),t.get("borderColor")),E=k.color;if(S)if(Lr(S)){var R=t.ecModel.get("useUTC"),I=sr(i)?i[0]:i,z=I&&I.axisType&&I.axisType.indexOf("time")>=0;_=S,z&&(_=zL(I.axisValue,_,R)),_=Ste(_,i,!0)}else if(Eo(S)){var L=Wr(function(q,X){q===this._ticket&&(b.setContent(X,y,t,E,h),this._updatePosition(t,h,l,f,b,i,g))},this);this._ticket=u,_=S(i,u,L)}else _=S;b.setContent(_,y,t,E,h),b.show(t,E),this._updatePosition(t,h,l,f,b,i,g)}},e.prototype._getNearestPoint=function(t,r,i,u){if(i==="axis"||sr(r))return{color:u||(this._renderMode==="html"?"#fff":"none")};if(!sr(r))return{color:u||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,u,l,f,h){var g=this._api.getWidth(),y=this._api.getHeight();r=r||t.get("position");var b=l.getSize(),S=t.get("align"),_=t.get("verticalAlign"),k=h&&h.getBoundingRect().clone();if(h&&k.applyTransform(h.transform),Eo(r)&&(r=r([i,u],f,l.el,k,{viewSize:[g,y],contentSize:b.slice()})),sr(r))i=Xo(r[0],g),u=Xo(r[1],y);else if(no(r)){var E=r;E.width=b[0],E.height=b[1];var R=Pd(E,{width:g,height:y});i=R.x,u=R.y,S=null,_=null}else if(Lr(r)&&h){var I=U$e(r,k,b,t.get("borderWidth"));i=I[0],u=I[1]}else{var I=j$e(i,u,l,g,y,S?null:20,_?null:20);i=I[0],u=I[1]}if(S&&(i-=Nce(S)?b[0]/2:S==="right"?b[0]:0),_&&(u-=Nce(_)?b[1]/2:_==="bottom"?b[1]:0),Aye(t)){var I=W$e(i,u,l,g,y);i=I[0],u=I[1]}l.moveTo(i,u)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,u=this._cbParamsList,l=!!i&&i.length===t.length;return l&&Te(i,function(f,h){var g=f.dataByAxis||[],y=t[h]||{},b=y.dataByAxis||[];l=l&&g.length===b.length,l&&Te(g,function(S,_){var k=b[_]||{},E=S.seriesDataIndices||[],R=k.seriesDataIndices||[];l=l&&S.value===k.value&&S.axisType===k.axisType&&S.axisId===k.axisId&&E.length===R.length,l&&Te(E,function(I,z){var L=R[z];l=l&&I.seriesIndex===L.seriesIndex&&I.dataIndex===L.dataIndex}),u&&Te(S.seriesDataIndices,function(I){var z=I.seriesIndex,L=r[z],q=u[z];L&&q&&q.data!==L.data&&(l=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!l},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){Ni.node||!r.getDom()||(lL(this,"_updatePosition"),this._tooltipContent.dispose(),RQ("itemTooltip",r))},e.type="tooltip",e}(zs);function eN(n,e,t){var r=e.ecModel,i;t?(i=new xs(t,r,r),i=new xs(e.option,i,r)):i=e;for(var u=n.length-1;u>=0;u--){var l=n[u];l&&(l instanceof xs&&(l=l.get("tooltip",!0)),Lr(l)&&(l={formatter:l}),l&&(i=new xs(l,i,r)))}return i}function Pce(n,e){return n.dispatchAction||Wr(e.dispatchAction,e)}function j$e(n,e,t,r,i,u,l){var f=t.getSize(),h=f[0],g=f[1];return u!=null&&(n+h+u+2>r?n-=h+u:n+=u),l!=null&&(e+g+l>i?e-=g+l:e+=l),[n,e]}function W$e(n,e,t,r,i){var u=t.getSize(),l=u[0],f=u[1];return n=Math.min(n+l,r)-l,e=Math.min(e+f,i)-f,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function U$e(n,e,t,r){var i=t[0],u=t[1],l=Math.ceil(Math.SQRT2*r)+8,f=0,h=0,g=e.width,y=e.height;switch(n){case"inside":f=e.x+g/2-i/2,h=e.y+y/2-u/2;break;case"top":f=e.x+g/2-i/2,h=e.y-u-l;break;case"bottom":f=e.x+g/2-i/2,h=e.y+y+l;break;case"left":f=e.x-i-l,h=e.y+y/2-u/2;break;case"right":f=e.x+g+l,h=e.y+y/2-u/2}return[f,h]}function Nce(n){return n==="center"||n==="middle"}function q$e(n,e,t){var r=Zee(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var u=NL(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),l=u.models[0];if(l){var f=t.getViewOfComponentModel(l),h;if(f.group.traverse(function(g){var y=Ai(g).tooltipConfig;if(y&&y.name===n.name)return h=g,!0}),h)return{componentMainType:i,componentIndex:l.componentIndex,el:h}}}}const $$e=H$e;function G$e(n){Rc(vne),n.registerComponentModel(M$e),n.registerComponentView($$e),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},uf),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},uf)}var Lce=Te;function Bce(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function zce(n,e,t){var r={};return Lce(e,function(u){var l=r[u]=i();Lce(n[u],function(f,h){if(Sh.isValidType(h)){var g={type:h,visual:f};t&&t(g,u),l[h]=new Sh(g),h==="opacity"&&(g=vo(g),g.type="colorAlpha",l.__hidden.__alphaForOpacity=new Sh(g))}})}),r;function i(){var u=function(){};u.prototype.__hidden=u.prototype;var l=new u;return l}}function X$e(n,e,t){var r;Te(t,function(i){e.hasOwnProperty(i)&&Bce(e[i])&&(r=!0)}),r&&Te(t,function(i){e.hasOwnProperty(i)&&Bce(e[i])?n[i]=vo(e[i]):delete n[i]})}function Y$e(n,e,t,r){var i={};return Te(n,function(u){var l=Sh.prepareVisualTypes(e[u]);i[u]=l}),{progress:function(u,l){var f;r!=null&&(f=l.getDimensionIndex(r));function h(q){return jge(l,y,q)}function g(q,X){N8e(l,y,q,X)}for(var y,b=l.getStore();(y=u.next())!=null;){var S=l.getRawDataItem(y);if(!(S&&S.visualMap===!1))for(var _=r!=null?b.get(f,y):y,k=t(_),E=e[k],R=i[k],I=0,z=R.length;I<z;I++){var L=R[I];E[L]&&E[L].applyVisual(_,h,g)}}}}}var K$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Vi),J$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var u=this.group,l=t.getModel("textStyle"),f=t.getModel("subtextStyle"),h=t.get("textAlign"),g=Xi(t.get("textBaseline"),t.get("textVerticalAlign")),y=new ba({style:wl(l,{text:t.get("text"),fill:l.getTextColor()},{disableBox:!0}),z2:10}),b=y.getBoundingRect(),S=t.get("subtext"),_=new ba({style:wl(f,{text:S,fill:f.getTextColor(),y:b.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),k=t.get("link"),E=t.get("sublink"),R=t.get("triggerEvent",!0);y.silent=!k&&!R,_.silent=!E&&!R,k&&y.on("click",function(){lue(k,"_"+t.get("target"))}),E&&_.on("click",function(){lue(E,"_"+t.get("subtarget"))}),Ai(y).eventData=Ai(_).eventData=R?{componentType:"title",componentIndex:t.componentIndex}:null,u.add(y),S&&u.add(_);var I=u.getBoundingRect(),z=t.getBoxLayoutParams();z.width=I.width,z.height=I.height;var L=Pd(z,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));h||(h=t.get("left")||t.get("right"),h==="middle"&&(h="center"),h==="right"?L.x+=L.width:h==="center"&&(L.x+=L.width/2)),g||(g=t.get("top")||t.get("bottom"),g==="center"&&(g="middle"),g==="bottom"?L.y+=L.height:g==="middle"&&(L.y+=L.height/2),g=g||"top"),u.x=L.x,u.y=L.y,u.markRedraw();var q={align:h,verticalAlign:g};y.setStyle(q),_.setStyle(q),I=u.getBoundingRect();var X=L.margin,Y=t.getItemStyle(["color","opacity"]);Y.fill=t.get("backgroundColor");var ae=new ya({shape:{x:I.x-X[3],y:I.y-X[0],width:I.width+X[1]+X[3],height:I.height+X[0]+X[2],r:t.get("borderRadius")},style:Y,subPixelOptimize:!0,silent:!0});u.add(ae)}},e.type="title",e}(zs);function Z$e(n){n.registerComponentModel(K$e),n.registerComponentView(J$e)}var Q$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],i=t.axisType,u=this._names=[],l;i==="category"?(l=[],Te(r,function(g,y){var b=$f(f5(g),""),S;no(g)?(S=vo(g),S.value=y):S=y,l.push(S),u.push(b)})):l=r;var f={category:"ordinal",time:"time",value:"number"}[i]||"number",h=this._data=new C9([{name:"value",type:f}],this);h.initData(l,u)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Vi);const Fce=Q$e;var Rye=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=a_(Fce.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(Fce);ff(Rye,Sge.prototype);const eGe=Rye;var tGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}(zs);const nGe=tGe;var rGe=function(n){Tn(e,n);function e(t,r,i,u){var l=n.call(this,t,r,i)||this;return l.type=u||"value",l}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(Ov);const oGe=rGe;var VJ=Math.PI,Vce=cu(),iGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,i){if(this.model=t,this.api=i,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var u=this._layout(t,i),l=this._createGroup("_mainGroup"),f=this._createGroup("_labelGroup"),h=this._axis=this._createAxis(u,t);t.formatTooltip=function(g){var y=h.scale.getLabel({value:g});return gy("nameValue",{noName:!0,value:y})},Te(["AxisLine","AxisTick","Control","CurrentPointer"],function(g){this["_render"+g](u,l,h,t)},this),this._renderAxisLabel(u,f,h,t),this._position(u,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var i=t.get(["label","position"]),u=t.get("orient"),l=uGe(t,r),f;i==null||i==="auto"?f=u==="horizontal"?l.y+l.height/2<r.getHeight()/2?"-":"+":l.x+l.width/2<r.getWidth()/2?"+":"-":Lr(i)?f={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][i]:f=i;var h={horizontal:"center",vertical:f>=0||f==="+"?"left":"right"},g={horizontal:f>=0||f==="+"?"top":"bottom",vertical:"middle"},y={horizontal:0,vertical:VJ/2},b=u==="vertical"?l.height:l.width,S=t.getModel("controlStyle"),_=S.get("show",!0),k=_?S.get("itemSize"):0,E=_?S.get("itemGap"):0,R=k+E,I=t.get(["label","rotate"])||0;I=I*VJ/180;var z,L,q,X=S.get("position",!0),Y=_&&S.get("showPlayBtn",!0),ae=_&&S.get("showPrevBtn",!0),te=_&&S.get("showNextBtn",!0),ie=0,le=b;X==="left"||X==="bottom"?(Y&&(z=[0,0],ie+=R),ae&&(L=[ie,0],ie+=R),te&&(q=[le-k,0],le-=R)):(Y&&(z=[le-k,0],le-=R),ae&&(L=[0,0],ie+=R),te&&(q=[le-k,0],le-=R));var ce=[ie,le];return t.get("inverse")&&ce.reverse(),{viewRect:l,mainLength:b,orient:u,rotation:y[u],labelRotation:I,labelPosOpt:f,labelAlign:t.get(["label","align"])||h[u],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||g[u],playPosition:z,prevBtnPosition:L,nextBtnPosition:q,axisExtent:ce,controlSize:k,controlGap:E}},e.prototype._position=function(t,r){var i=this._mainGroup,u=this._labelGroup,l=t.viewRect;if(t.orient==="vertical"){var f=Jm(),h=l.x,g=l.y+l.height;Pb(f,f,[-h,-g]),i_(f,f,-VJ/2),Pb(f,f,[h,g]),l=l.clone(),l.applyTransform(f)}var y=z(l),b=z(i.getBoundingRect()),S=z(u.getBoundingRect()),_=[i.x,i.y],k=[u.x,u.y];k[0]=_[0]=y[0][0];var E=t.labelPosOpt;if(E==null||Lr(E)){var R=E==="+"?0:1;L(_,b,y,1,R),L(k,S,y,1,1-R)}else{var R=E>=0?0:1;L(_,b,y,1,R),k[1]=_[1]+E}i.setPosition(_),u.setPosition(k),i.rotation=u.rotation=t.rotation,I(i),I(u);function I(q){q.originX=y[0][0]-q.x,q.originY=y[1][0]-q.y}function z(q){return[[q.x,q.x+q.width],[q.y,q.y+q.height]]}function L(q,X,Y,ae,te){q[ae]+=Y[ae][te]-X[ae][te]}},e.prototype._createAxis=function(t,r){var i=r.getData(),u=r.get("axisType"),l=aGe(r,u);l.getTicks=function(){return i.mapArray(["value"],function(g){return{value:g}})};var f=i.getDataExtent("value");l.setExtent(f[0],f[1]),l.calcNiceTicks();var h=new oGe("value",l,t.axisExtent,u);return h.model=r,h},e.prototype._createGroup=function(t){var r=this[t]=new hi;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,i,u){var l=i.getExtent();if(u.get(["lineStyle","show"])){var f=new Id({shape:{x1:l[0],y1:0,x2:l[1],y2:0},style:Gn({lineCap:"round"},u.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(f);var h=this._progressLine=new Id({shape:{x1:l[0],x2:this._currentPointer?this._currentPointer.x:l[0],y1:0,y2:0},style:To({lineCap:"round",lineWidth:f.style.lineWidth},u.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(h)}},e.prototype._renderAxisTick=function(t,r,i,u){var l=this,f=u.getData(),h=i.scale.getTicks();this._tickSymbols=[],Te(h,function(g){var y=i.dataToCoord(g.value),b=f.getItemModel(g.value),S=b.getModel("itemStyle"),_=b.getModel(["emphasis","itemStyle"]),k=b.getModel(["progress","itemStyle"]),E={x:y,y:0,onclick:Wr(l._changeTimeline,l,g.value)},R=Hce(b,S,r,E);R.ensureState("emphasis").style=_.getItemStyle(),R.ensureState("progress").style=k.getItemStyle(),$2(R);var I=Ai(R);b.get("tooltip")?(I.dataIndex=g.value,I.dataModel=u):I.dataIndex=I.dataModel=null,l._tickSymbols.push(R)})},e.prototype._renderAxisLabel=function(t,r,i,u){var l=this,f=i.getLabelModel();if(f.get("show")){var h=u.getData(),g=i.getViewLabels();this._tickLabels=[],Te(g,function(y){var b=y.tickValue,S=h.getItemModel(b),_=S.getModel("label"),k=S.getModel(["emphasis","label"]),E=S.getModel(["progress","label"]),R=i.dataToCoord(y.tickValue),I=new ba({x:R,y:0,rotation:t.labelRotation-t.rotation,onclick:Wr(l._changeTimeline,l,b),silent:!1,style:wl(_,{text:y.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});I.ensureState("emphasis").style=wl(k),I.ensureState("progress").style=wl(E),r.add(I),$2(I),Vce(I).dataIndex=b,l._tickLabels.push(I)})}},e.prototype._renderControl=function(t,r,i,u){var l=t.controlSize,f=t.rotation,h=u.getModel("controlStyle").getItemStyle(),g=u.getModel(["emphasis","controlStyle"]).getItemStyle(),y=u.getPlayState(),b=u.get("inverse",!0);S(t.nextBtnPosition,"next",Wr(this._changeTimeline,this,b?"-":"+")),S(t.prevBtnPosition,"prev",Wr(this._changeTimeline,this,b?"+":"-")),S(t.playPosition,y?"stop":"play",Wr(this._handlePlayClick,this,!y),!0);function S(_,k,E,R){if(_){var I=kv(Xi(u.get(["controlStyle",k+"BtnSize"]),l),l),z=[0,-I/2,I,I],L=sGe(u,k+"Icon",z,{x:_[0],y:_[1],originX:l/2,originY:0,rotation:R?-f:0,rectHover:!0,style:h,onclick:E});L.ensureState("emphasis").style=g,r.add(L),$2(L)}}},e.prototype._renderCurrentPointer=function(t,r,i,u){var l=u.getData(),f=u.getCurrentIndex(),h=l.getItemModel(f).getModel("checkpointStyle"),g=this,y={onCreate:function(b){b.draggable=!0,b.drift=Wr(g._handlePointerDrag,g),b.ondragend=Wr(g._handlePointerDragend,g),jce(b,g._progressLine,f,i,u,!0)},onUpdate:function(b){jce(b,g._progressLine,f,i,u)}};this._currentPointer=Hce(h,h,this._mainGroup,{},this._currentPointer,y)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var i=this._toAxisCoord(t)[0],u=this._axis,l=ay(u.getExtent().slice());i>l[1]&&(i=l[1]),i<l[0]&&(i=l[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var f=this._progressLine;f&&(f.shape.x2=i,f.dirty());var h=this._findNearestTick(i),g=this.model;(r||h!==g.getCurrentIndex()&&g.get("realtime"))&&this._changeTimeline(h)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return Tv(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),i=1/0,u,l=this._axis;return r.each(["value"],function(f,h){var g=l.dataToCoord(f),y=Math.abs(g-t);y<i&&(i=y,u=h)}),u},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var u=0;u<r.length;u++)r&&r[u]&&r[u].toggleState("progress",u<t);if(i)for(var u=0;u<i.length;u++)i&&i[u]&&i[u].toggleState("progress",Vce(i[u]).dataIndex<=t)},e.type="timeline.slider",e}(nGe);function aGe(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new Xte({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new Lve({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new e_}}function uGe(n,e){return Pd(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},n.get("padding"))}function sGe(n,e,t,r){var i=r.style,u=d5(n.get(["controlStyle",e]),r||{},new vi(t[0],t[1],t[2],t[3]));return i&&u.setStyle(i),u}function Hce(n,e,t,r,i,u){var l=e.get("color");if(i)i.setColor(l),t.add(i),u&&u.onUpdate(i);else{var f=n.get("symbol");i=lf(f,-1,-1,2,2,l),i.setStyle("strokeNoScale",!0),t.add(i),u&&u.onCreate(i)}var h=e.getItemStyle(["color"]);i.setStyle(h),r=Ho({rectHover:!0,z2:100},r,!0);var g=Nte(n.get("symbolSize"));r.scaleX=g[0]/2,r.scaleY=g[1]/2;var y=w9(n.get("symbolOffset"),g);y&&(r.x=(r.x||0)+y[0],r.y=(r.y||0)+y[1]);var b=n.get("symbolRotate");return r.rotation=(b||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function jce(n,e,t,r,i,u){if(!n.dragging){var l=i.getModel("checkpointStyle"),f=r.dataToCoord(i.getData().get("value",t));if(u||!l.get("animation",!0))n.attr({x:f,y:0}),e&&e.attr({shape:{x2:f}});else{var h={duration:l.get("animationDuration",!0),easing:l.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:f,y:0},h),e&&e.animateTo({shape:{x2:f}},h)}}}const lGe=iGe;function cGe(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),To({currentIndex:i.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function fGe(n){var e=n&&n.timeline;sr(e)||(e=e?[e]:[]),Te(e,function(t){t&&dGe(t)})}function dGe(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),Wce(n),tM(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});tM(r,"position")||(r.position=n.controlPosition),r.position==="none"&&!tM(r,"show")&&(r.show=!1,delete r.position),delete n.controlPosition}Te(n.data||[],function(i){no(i)&&!sr(i)&&(!tM(i,"value")&&tM(i,"name")&&(i.value=i.name),Wce(i))})}function Wce(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=n.label||n.label||{},i=r.normal||(r.normal={}),u={normal:1,emphasis:1};Te(r,function(l,f){!u[f]&&!tM(i,f)&&(i[f]=l)}),t.label&&!tM(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function tM(n,e){return n.hasOwnProperty(e)}function hGe(n){n.registerComponentModel(eGe),n.registerComponentView(lGe),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),cGe(n),n.registerPreprocessor(fGe)}var pGe=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},mGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),sr(r)&&Te(r,function(u,l){Lr(u)&&(u={type:u}),r[l]=Ho(u,pGe(i,u.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var u=t[i].get("name");if(this.isSelected(u)){this.select(u),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(h){var g=h.name;i.push(g);var y;if(h.legendVisualProvider){var b=h.legendVisualProvider,S=b.getAllNames();t.isSeriesFiltered(h)||(i=i.concat(S)),S.length?r=r.concat(S):y=!0}else y=!0;y&&Jee(h)&&r.push(h.name)}),this._availableNames=i;var u=this.get("data")||r,l=to(),f=br(u,function(h){return(Lr(h)||lu(h))&&(h={name:h}),l.get(h.name)?null:(l.set(h.name,!0),new xs(h,this,this.ecModel))},this);this._data=Ls(f,function(h){return!!h})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var u=this._data;Te(u,function(l){r[l.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;Te(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;Te(t,function(i){var u=i.get("name",!0);r.hasOwnProperty(u)||(r[u]=!0),r[u]=!r[u]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&Di(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Vi);const zQ=mGe;var f3=ji,FQ=Te,ZF=hi,gGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new ZF),this.group.add(this._selectorGroup=new ZF),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var u=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var l=t.get("align"),f=t.get("orient");(!l||l==="auto")&&(l=t.get("left")==="right"&&f==="vertical"?"right":"left");var h=t.get("selector",!0),g=t.get("selectorPosition",!0);h&&(!g||g==="auto")&&(g=f==="horizontal"?"end":"start"),this.renderInner(l,t,r,i,h,f,g);var y=t.getBoxLayoutParams(),b={width:i.getWidth(),height:i.getHeight()},S=t.get("padding"),_=Pd(y,b,S),k=this.layoutInner(t,l,_,u,h,g),E=Pd(To({width:k.width,height:k.height},y),b,S);this.group.x=E.x-k.x,this.group.y=E.y-k.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Tye(k,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,u,l,f,h){var g=this.getContentGroup(),y=to(),b=r.get("selectedMode"),S=[];i.eachRawSeries(function(_){!_.get("legendHoverLink")&&S.push(_.id)}),FQ(r.getData(),function(_,k){var E=_.get("name");if(!this.newlineDisabled&&(E===""||E===`
`)){var R=new ZF;R.newline=!0,g.add(R);return}var I=i.getSeriesByName(E)[0];if(!y.get(E))if(I){var z=I.getData(),L=z.getVisual("legendLineStyle")||{},q=z.getVisual("legendIcon"),X=z.getVisual("style"),Y=this._createItem(I,E,k,_,r,t,L,X,q,b,u);Y.on("click",f3(Uce,E,null,u,S)).on("mouseover",f3(VQ,I.name,null,u,S)).on("mouseout",f3(HQ,I.name,null,u,S)),y.set(E,!0)}else i.eachRawSeries(function(ae){if(!y.get(E)&&ae.legendVisualProvider){var te=ae.legendVisualProvider;if(!te.containName(E))return;var ie=te.indexOfName(E),le=te.getItemVisual(ie,"style"),ce=te.getItemVisual(ie,"legendIcon"),ne=_h(le.fill);ne&&ne[3]===0&&(ne[3]=.2,le=Gn(Gn({},le),{fill:Cv(ne,"rgba")}));var Z=this._createItem(ae,E,k,_,r,t,{},le,ce,b,u);Z.on("click",f3(Uce,null,E,u,S)).on("mouseover",f3(VQ,null,E,u,S)).on("mouseout",f3(HQ,null,E,u,S)),y.set(E,!0)}},this)},this),l&&this._createSelector(l,r,u,f,h)},e.prototype._createSelector=function(t,r,i,u,l){var f=this.getSelectorGroup();FQ(t,function(h){var g=h.type,y=new ba({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:g==="all"?"legendAllSelect":"legendInverseSelect"})}});f.add(y);var b=r.getModel("selectorLabel"),S=r.getModel(["emphasis","selectorLabel"]);Vb(y,{normal:b,emphasis:S},{defaultText:h.title}),$2(y)})},e.prototype._createItem=function(t,r,i,u,l,f,h,g,y,b,S){var _=t.visualDrawType,k=l.get("itemWidth"),E=l.get("itemHeight"),R=l.isSelected(r),I=u.get("symbolRotate"),z=u.get("symbolKeepAspect"),L=u.get("icon");y=L||y||"roundRect";var q=vGe(y,u,h,g,_,R,S),X=new ZF,Y=u.getModel("textStyle");if(Eo(t.getLegendIcon)&&(!L||L==="inherit"))X.add(t.getLegendIcon({itemWidth:k,itemHeight:E,icon:y,iconRotate:I,itemStyle:q.itemStyle,lineStyle:q.lineStyle,symbolKeepAspect:z}));else{var ae=L==="inherit"&&t.getData().getVisual("symbol")?I==="inherit"?t.getData().getVisual("symbolRotate"):I:0;X.add(yGe({itemWidth:k,itemHeight:E,icon:y,iconRotate:ae,itemStyle:q.itemStyle,lineStyle:q.lineStyle,symbolKeepAspect:z}))}var te=f==="left"?k+5:-5,ie=f,le=l.get("formatter"),ce=r;Lr(le)&&le?ce=le.replace("{name}",r??""):Eo(le)&&(ce=le(r));var ne=R?Y.getTextColor():u.get("inactiveColor");X.add(new ba({style:wl(Y,{text:ce,x:te,y:E/2,fill:ne,align:ie,verticalAlign:"middle"},{inheritColor:ne})}));var Z=new ya({shape:X.getBoundingRect(),invisible:!0}),Ce=u.getModel("tooltip");return Ce.get("show")&&h5({el:Z,componentModel:l,itemName:r,itemTooltipOption:Ce.option}),X.add(Z),X.eachChild(function(ze){ze.silent=!0}),Z.silent=!b,this.getContentGroup().add(X),$2(X),X.__legendDataIndex=i,X},e.prototype.layoutInner=function(t,r,i,u,l,f){var h=this.getContentGroup(),g=this.getSelectorGroup();mM(t.get("orient"),h,t.get("itemGap"),i.width,i.height);var y=h.getBoundingRect(),b=[-y.x,-y.y];if(g.markRedraw(),h.markRedraw(),l){mM("horizontal",g,t.get("selectorItemGap",!0));var S=g.getBoundingRect(),_=[-S.x,-S.y],k=t.get("selectorButtonGap",!0),E=t.getOrient().index,R=E===0?"width":"height",I=E===0?"height":"width",z=E===0?"y":"x";f==="end"?_[E]+=y[R]+k:b[E]+=S[R]+k,_[1-E]+=y[I]/2-S[I]/2,g.x=_[0],g.y=_[1],h.x=b[0],h.y=b[1];var L={x:0,y:0};return L[R]=y[R]+k+S[R],L[I]=Math.max(y[I],S[I]),L[z]=Math.min(0,S[z]+_[1-E]),L}else return h.x=b[0],h.y=b[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(zs);function vGe(n,e,t,r,i,u,l){function f(R,I){R.lineWidth==="auto"&&(R.lineWidth=I.lineWidth>0?2:0),FQ(R,function(z,L){R[L]==="inherit"&&(R[L]=I[L])})}var h=e.getModel("itemStyle"),g=h.getItemStyle(),y=n.lastIndexOf("empty",0)===0?"fill":"stroke",b=h.getShallow("decal");g.decal=!b||b==="inherit"?r.decal:pH(b,l),g.fill==="inherit"&&(g.fill=r[i]),g.stroke==="inherit"&&(g.stroke=r[y]),g.opacity==="inherit"&&(g.opacity=(i==="fill"?r:t).opacity),f(g,r);var S=e.getModel("lineStyle"),_=S.getLineStyle();if(f(_,t),g.fill==="auto"&&(g.fill=r.fill),g.stroke==="auto"&&(g.stroke=r.fill),_.stroke==="auto"&&(_.stroke=r.fill),!u){var k=e.get("inactiveBorderWidth"),E=g[y];g.lineWidth=k==="auto"?r.lineWidth>0&&E?2:0:g.lineWidth,g.fill=e.get("inactiveColor"),g.stroke=e.get("inactiveBorderColor"),_.stroke=S.get("inactiveColor"),_.lineWidth=S.get("inactiveWidth")}return{itemStyle:g,lineStyle:_}}function yGe(n){var e=n.icon||"roundRect",t=lf(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function Uce(n,e,t,r){HQ(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),VQ(n,e,t,r)}function Pye(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function VQ(n,e,t,r){Pye(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function HQ(n,e,t,r){Pye(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}const Nye=gGe;function bGe(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function tN(n,e,t){var r={},i=n==="toggleSelected",u;return t.eachComponent("legend",function(l){i&&u!=null?l[u?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?l[n]():(l[n](e.name),u=l.isSelected(e.name));var f=l.getData();Te(f,function(h){var g=h.get("name");if(!(g===`
`||g==="")){var y=l.isSelected(g);r.hasOwnProperty(g)?r[g]=r[g]&&y:r[g]=y}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function xGe(n){n.registerAction("legendToggleSelect","legendselectchanged",ji(tN,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",ji(tN,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",ji(tN,"inverseSelect")),n.registerAction("legendSelect","legendselected",ji(tN,"select")),n.registerAction("legendUnSelect","legendunselected",ji(tN,"unSelect"))}function Lye(n){n.registerComponentModel(zQ),n.registerComponentView(Nye),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,bGe),n.registerSubTypeDefaulter("legend",function(){return"plain"}),xGe(n)}var wGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var u=g5(t);n.prototype.init.call(this,t,r,i),qce(this,t,u)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),qce(this,this.option,t)},e.type="legend.scroll",e.defaultOption=a_(zQ.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(zQ);function qce(n,e,t){var r=n.getOrient(),i=[1,1];i[r.index]=0,Z2(e,t,{type:"box",ignoreSize:!!i})}const _Ge=wGe;var $ce=hi,HJ=["width","height"],jJ=["x","y"],SGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new $ce),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new $ce)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,u,l,f,h){var g=this;n.prototype.renderInner.call(this,t,r,i,u,l,f,h);var y=this._controllerGroup,b=r.get("pageIconSize",!0),S=sr(b)?b:[b,b];k("pagePrev",0);var _=r.getModel("pageTextStyle");y.add(new ba({name:"pageText",style:{text:"xx/xx",fill:_.getTextColor(),font:_.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),k("pageNext",1);function k(E,R){var I=E+"DataIndex",z=d5(r.get("pageIcons",!0)[r.getOrient().name][R],{onclick:Wr(g._pageGo,g,I,r,u)},{x:-S[0]/2,y:-S[1]/2,width:S[0],height:S[1]});z.name=E,y.add(z)}},e.prototype.layoutInner=function(t,r,i,u,l,f){var h=this.getSelectorGroup(),g=t.getOrient().index,y=HJ[g],b=jJ[g],S=HJ[1-g],_=jJ[1-g];l&&mM("horizontal",h,t.get("selectorItemGap",!0));var k=t.get("selectorButtonGap",!0),E=h.getBoundingRect(),R=[-E.x,-E.y],I=vo(i);l&&(I[y]=i[y]-E[y]-k);var z=this._layoutContentAndController(t,u,I,g,y,S,_,b);if(l){if(f==="end")R[g]+=z[y]+k;else{var L=E[y]+k;R[g]-=L,z[b]-=L}z[y]+=E[y]+k,R[1-g]+=z[_]+z[S]/2-E[S]/2,z[S]=Math.max(z[S],E[S]),z[_]=Math.min(z[_],E[_]+R[1-g]),h.x=R[0],h.y=R[1],h.markRedraw()}return z},e.prototype._layoutContentAndController=function(t,r,i,u,l,f,h,g){var y=this.getContentGroup(),b=this._containerGroup,S=this._controllerGroup;mM(t.get("orient"),y,t.get("itemGap"),u?i.width:null,u?null:i.height),mM("horizontal",S,t.get("pageButtonItemGap",!0));var _=y.getBoundingRect(),k=S.getBoundingRect(),E=this._showController=_[l]>i[l],R=[-_.x,-_.y];r||(R[u]=y[g]);var I=[0,0],z=[-k.x,-k.y],L=Xi(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(E){var q=t.get("pageButtonPosition",!0);q==="end"?z[u]+=i[l]-k[l]:I[u]+=k[l]+L}z[1-u]+=_[f]/2-k[f]/2,y.setPosition(R),b.setPosition(I),S.setPosition(z);var X={x:0,y:0};if(X[l]=E?i[l]:_[l],X[f]=Math.max(_[f],k[f]),X[h]=Math.min(0,k[h]+z[1-u]),b.__rectSize=i[l],E){var Y={x:0,y:0};Y[l]=Math.max(i[l]-k[l]-L,0),Y[f]=X[f],b.setClipPath(new ya({shape:Y})),b.__rectSize=Y[l]}else S.eachChild(function(te){te.attr({invisible:!0,silent:!0})});var ae=this._getPageInfo(t);return ae.pageIndex!=null&&tl(y,{x:ae.contentPosition[0],y:ae.contentPosition[1]},E?t:null),this._updatePageInfoView(t,ae),X},e.prototype._pageGo=function(t,r,i){var u=this._getPageInfo(r)[t];u!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;Te(["pagePrev","pageNext"],function(y){var b=y+"DataIndex",S=r[b]!=null,_=i.childOfName(y);_&&(_.setStyle("fill",S?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),_.cursor=S?"pointer":"default")});var u=i.childOfName("pageText"),l=t.get("pageFormatter"),f=r.pageIndex,h=f!=null?f+1:0,g=r.pageCount;u&&l&&u.setStyle("text",Lr(l)?l.replace("{current}",h==null?"":h+"").replace("{total}",g==null?"":g+""):l({current:h,total:g}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),u=this._containerGroup.__rectSize,l=t.getOrient().index,f=HJ[l],h=jJ[l],g=this._findTargetItemIndex(r),y=i.children(),b=y[g],S=y.length,_=S?1:0,k={contentPosition:[i.x,i.y],pageCount:_,pageIndex:_-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!b)return k;var E=q(b);k.contentPosition[l]=-E.s;for(var R=g+1,I=E,z=E,L=null;R<=S;++R)L=q(y[R]),(!L&&z.e>I.s+u||L&&!X(L,I.s))&&(z.i>I.i?I=z:I=L,I&&(k.pageNextDataIndex==null&&(k.pageNextDataIndex=I.i),++k.pageCount)),z=L;for(var R=g-1,I=E,z=E,L=null;R>=-1;--R)L=q(y[R]),(!L||!X(z,L.s))&&I.i<z.i&&(z=I,k.pagePrevDataIndex==null&&(k.pagePrevDataIndex=I.i),++k.pageCount,++k.pageIndex),I=L;return k;function q(Y){if(Y){var ae=Y.getBoundingRect(),te=ae[h]+Y[h];return{s:te,e:te+ae[f],i:Y.__legendDataIndex}}}function X(Y,ae){return Y.e>=ae&&Y.s<=ae+u}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),u;return i.eachChild(function(l,f){var h=l.__legendDataIndex;u==null&&h!=null&&(u=f),h===t&&(r=f)}),r??u},e.type="legend.scroll",e}(Nye);const CGe=SGe;function TGe(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function MGe(n){Rc(Lye),n.registerComponentModel(_Ge),n.registerComponentView(CGe),TGe(n)}function kGe(n){Rc(Lye),Rc(MGe)}var DGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=a_(vL.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(vL);const AGe=DGe;var Mne=cu();function EGe(n,e,t){Mne(n).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function OGe(n,e){for(var t=Mne(n).coordSysRecordMap,r=t.keys(),i=0;i<r.length;i++){var u=r[i],l=t.get(u),f=l.dataZoomInfoMap;if(f){var h=e.uid,g=f.get(h);g&&(f.removeKey(h),f.keys().length||Bye(t,l))}}}function Bye(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function IGe(n,e){var t={model:e,containsPoint:ji(PGe,e),dispatchAction:ji(RGe,n),dataZoomInfoMap:null,controller:null},r=t.controller=new C0e(n.getZr());return Te(["pan","zoom","scrollMove"],function(i){r.on(i,function(u){var l=[];t.dataZoomInfoMap.each(function(f){if(u.isAvailableBehavior(f.model.option)){var h=(f.getRange||{})[i],g=h&&h(f.dzReferCoordSysInfo,t.model.mainType,t.controller,u);!f.model.get("disabled",!0)&&g&&l.push({dataZoomId:f.model.id,start:g[0],end:g[1]})}}),l.length&&t.dispatchAction(l)})}),t}function RGe(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function PGe(n,e,t,r){return n.coordinateSystem.containPoint([t,r])}function NGe(n){var e,t="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return n.each(function(u){var l=u.model,f=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;r[t+f]>r[t+e]&&(e=f),i=i&&l.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function LGe(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=Mne(t),i=r.coordSysRecordMap||(r.coordSysRecordMap=to());i.each(function(u){u.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(u){var l=_ye(u);Te(l.infoList,function(f){var h=f.model.uid,g=i.get(h)||i.set(h,IGe(t,f.model)),y=g.dataZoomInfoMap||(g.dataZoomInfoMap=to());y.set(u.uid,{dzReferCoordSysInfo:f,model:u,getRange:null})})}),i.each(function(u){var l=u.controller,f,h=u.dataZoomInfoMap;if(h){var g=h.keys()[0];g!=null&&(f=h.get(g))}if(!f){Bye(i,u);return}var y=NGe(h);l.enable(y.controlType,y.opt),l.setPointerChecker(u.containsPoint),FL(u,"dispatchAction",f.model.get("throttle",!0),"fixRate")})})}var BGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,i){if(n.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),EGe(i,t,{pan:Wr(WJ.pan,this),zoom:Wr(WJ.zoom,this),scrollMove:Wr(WJ.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){OGe(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(wne),WJ={zoom:function(n,e,t,r){var i=this.range,u=i.slice(),l=n.axisModels[0];if(l){var f=UJ[e](null,[r.originX,r.originY],l,t,n),h=(f.signal>0?f.pixelStart+f.pixelLength-f.pixel:f.pixel-f.pixelStart)/f.pixelLength*(u[1]-u[0])+u[0],g=Math.max(1/r.scale,0);u[0]=(u[0]-h)*g+h,u[1]=(u[1]-h)*g+h;var y=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(PM(0,u,[0,100],0,y.minSpan,y.maxSpan),this.range=u,i[0]!==u[0]||i[1]!==u[1])return u}},pan:Gce(function(n,e,t,r,i,u){var l=UJ[r]([u.oldX,u.oldY],[u.newX,u.newY],e,i,t);return l.signal*(n[1]-n[0])*l.pixel/l.pixelLength}),scrollMove:Gce(function(n,e,t,r,i,u){var l=UJ[r]([0,0],[u.scrollDelta,u.scrollDelta],e,i,t);return l.signal*(n[1]-n[0])*u.scrollDelta})};function Gce(n){return function(e,t,r,i){var u=this.range,l=u.slice(),f=e.axisModels[0];if(f){var h=n(l,f,e,t,r,i);if(PM(h,l,[0,100],"all"),this.range=l,u[0]!==l[0]||u[1]!==l[1])return l}}}var UJ={grid:function(n,e,t,r,i){var u=t.axis,l={},f=i.model.coordinateSystem.getRect();return n=n||[0,0],u.dim==="x"?(l.pixel=e[0]-n[0],l.pixelLength=f.width,l.pixelStart=f.x,l.signal=u.inverse?1:-1):(l.pixel=e[1]-n[1],l.pixelLength=f.height,l.pixelStart=f.y,l.signal=u.inverse?-1:1),l},polar:function(n,e,t,r,i){var u=t.axis,l={},f=i.model.coordinateSystem,h=f.getRadiusAxis().getExtent(),g=f.getAngleAxis().getExtent();return n=n?f.pointToCoord(n):[0,0],e=f.pointToCoord(e),t.mainType==="radiusAxis"?(l.pixel=e[0]-n[0],l.pixelLength=h[1]-h[0],l.pixelStart=h[0],l.signal=u.inverse?1:-1):(l.pixel=e[1]-n[1],l.pixelLength=g[1]-g[0],l.pixelStart=g[0],l.signal=u.inverse?-1:1),l},singleAxis:function(n,e,t,r,i){var u=t.axis,l=i.model.coordinateSystem.getRect(),f={};return n=n||[0,0],u.orient==="horizontal"?(f.pixel=e[0]-n[0],f.pixelLength=l.width,f.pixelStart=l.x,f.signal=u.inverse?1:-1):(f.pixel=e[1]-n[1],f.pixelLength=l.height,f.pixelStart=l.y,f.signal=u.inverse?-1:1),f}};const zGe=BGe;function FGe(n){_ne(n),n.registerComponentModel(AGe),n.registerComponentView(zGe),LGe(n)}var VGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=a_(vL.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(vL);const HGe=VGe;var nN=ya,Xce=7,jGe=1,qJ=30,WGe=7,rN="horizontal",Yce="vertical",UGe=5,qGe=["line","bar","candlestick","scatter"],$Ge={easing:"cubicOut",duration:100,delay:0},GGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=Wr(this._onBrush,this),this._onBrushEnd=Wr(this._onBrushEnd,this)},e.prototype.render=function(t,r,i,u){if(n.prototype.render.apply(this,arguments),FL(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!u||u.type!=="dataZoom"||u.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){lL(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new hi;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,i=t.get("brushSelect"),u=i?WGe:0,l=this._findCoordRect(),f={width:r.getWidth(),height:r.getHeight()},h=this._orient===rN?{right:f.width-l.x-l.width,top:f.height-qJ-Xce-u,width:l.width,height:qJ}:{right:Xce,top:l.y,width:qJ,height:l.height},g=g5(t.option);Te(["right","top","width","height"],function(b){g[b]==="ph"&&(g[b]=h[b])});var y=Pd(g,f);this._location={x:y.x,y:y.y},this._size=[y.width,y.height],this._orient===Yce&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,i=this._orient,u=this.dataZoomModel.getFirstTargetAxisModel(),l=u&&u.get("inverse"),f=this._displayables.sliderGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(i===rN&&!l?{scaleY:h?1:-1,scaleX:1}:i===rN&&l?{scaleY:h?1:-1,scaleX:-1}:i===Yce&&!l?{scaleY:h?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:h?-1:1,scaleX:-1,rotation:Math.PI/2});var g=t.getBoundingRect([f]);t.x=r.x-g.x,t.y=r.y-g.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,u=t.get("brushSelect");i.add(new nN({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var l=new nN({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:Wr(this._onClickPanel,this)}),f=this.api.getZr();u?(l.on("mousedown",this._onBrushStart,this),l.cursor="crosshair",f.on("mousemove",this._onBrush),f.on("mouseup",this._onBrushEnd)):(f.off("mousemove",this._onBrush),f.off("mouseup",this._onBrushEnd)),i.add(l)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,i=this._shadowSize||[],u=t.series,l=u.getRawData(),f=u.getShadowDim&&u.getShadowDim(),h=f&&l.getDimensionInfo(f)?u.getShadowDim():t.otherDim;if(h==null)return;var g=this._shadowPolygonPts,y=this._shadowPolylinePts;if(l!==this._shadowData||h!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var b=l.getDataExtent(h),S=(b[1]-b[0])*.3;b=[b[0]-S,b[1]+S];var _=[0,r[1]],k=[0,r[0]],E=[[r[0],0],[0,0]],R=[],I=k[1]/(l.count()-1),z=0,L=Math.round(l.count()/r[0]),q;l.each([h],function(ie,le){if(L>0&&le%L){z+=I;return}var ce=ie==null||isNaN(ie)||ie==="",ne=ce?0:rs(ie,b,_,!0);ce&&!q&&le?(E.push([E[E.length-1][0],0]),R.push([R[R.length-1][0],0])):!ce&&q&&(E.push([z,0]),R.push([z,0])),E.push([z,ne]),R.push([z,ne]),z+=I,q=ce}),g=this._shadowPolygonPts=E,y=this._shadowPolylinePts=R}this._shadowData=l,this._shadowDim=h,this._shadowSize=[r[0],r[1]];var X=this.dataZoomModel;function Y(ie){var le=X.getModel(ie?"selectedDataBackground":"dataBackground"),ce=new hi,ne=new _y({shape:{points:g},segmentIgnoreThreshold:1,style:le.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Z=new eg({shape:{points:y},segmentIgnoreThreshold:1,style:le.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return ce.add(ne),ce.add(Z),ce}for(var ae=0;ae<3;ae++){var te=Y(ae===1);this._displayables.sliderGroup.add(te),this._displayables.dataShadowSegs.push(te)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var i,u=this.ecModel;return t.eachTargetAxis(function(l,f){var h=t.getAxisProxy(l,f).getTargetSeriesModels();Te(h,function(g){if(!i&&!(r!==!0&&Di(qGe,g.get("type"))<0)){var y=u.getComponent(V2(l),f).axis,b=XGe(l),S,_=g.coordinateSystem;b!=null&&_.getOtherAxis&&(S=_.getOtherAxis(y).inverse),b=g.getData().mapDimension(b),i={thisAxis:y,series:g,thisDim:l,otherDim:b,otherAxisInverse:S}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,i=r.handles=[null,null],u=r.handleLabels=[null,null],l=this._displayables.sliderGroup,f=this._size,h=this.dataZoomModel,g=this.api,y=h.get("borderRadius")||0,b=h.get("brushSelect"),S=r.filler=new nN({silent:b,style:{fill:h.get("fillerColor")},textConfig:{position:"inside"}});l.add(S),l.add(new nN({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:f[0],height:f[1],r:y},style:{stroke:h.get("dataBackgroundColor")||h.get("borderColor"),lineWidth:jGe,fill:"rgba(0,0,0,0)"}})),Te([0,1],function(L){var q=h.get("handleIcon");!fH[q]&&q.indexOf("path://")<0&&q.indexOf("image://")<0&&(q="path://"+q);var X=lf(q,-1,0,2,2,null,!0);X.attr({cursor:Kce(this._orient),draggable:!0,drift:Wr(this._onDragMove,this,L),ondragend:Wr(this._onDragEnd,this),onmouseover:Wr(this._showDataInfo,this,!0),onmouseout:Wr(this._showDataInfo,this,!1),z2:5});var Y=X.getBoundingRect(),ae=h.get("handleSize");this._handleHeight=Xo(ae,this._size[1]),this._handleWidth=Y.width/Y.height*this._handleHeight,X.setStyle(h.getModel("handleStyle").getItemStyle()),X.style.strokeNoScale=!0,X.rectHover=!0,X.ensureState("emphasis").style=h.getModel(["emphasis","handleStyle"]).getItemStyle(),$2(X);var te=h.get("handleColor");te!=null&&(X.style.fill=te),l.add(i[L]=X);var ie=h.getModel("textStyle");t.add(u[L]=new ba({silent:!0,invisible:!0,style:wl(ie,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:ie.getTextColor(),font:ie.getFont()}),z2:10}))},this);var _=S;if(b){var k=Xo(h.get("moveHandleSize"),f[1]),E=r.moveHandle=new ya({style:h.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:f[1]-.5,height:k}}),R=k*.8,I=r.moveHandleIcon=lf(h.get("moveHandleIcon"),-R/2,-R/2,R,R,"#fff",!0);I.silent=!0,I.y=f[1]+k/2-.5,E.ensureState("emphasis").style=h.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var z=Math.min(f[1]/2,Math.max(k,10));_=r.moveZone=new ya({invisible:!0,shape:{y:f[1]-z,height:k+z}}),_.on("mouseover",function(){g.enterEmphasis(E)}).on("mouseout",function(){g.leaveEmphasis(E)}),l.add(E),l.add(I),l.add(_)}_.attr({draggable:!0,cursor:Kce(this._orient),drift:Wr(this._onDragMove,this,"all"),ondragstart:Wr(this._showDataInfo,this,!0),ondragend:Wr(this._onDragEnd,this),onmouseover:Wr(this._showDataInfo,this,!0),onmouseout:Wr(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[rs(t[0],[0,100],r,!0),rs(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var i=this.dataZoomModel,u=this._handleEnds,l=this._getViewExtent(),f=i.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];PM(r,u,l,i.get("zoomLock")?"all":t,f.minSpan!=null?rs(f.minSpan,h,l,!0):null,f.maxSpan!=null?rs(f.maxSpan,h,l,!0):null);var g=this._range,y=this._range=ay([rs(u[0],l,h,!0),rs(u[1],l,h,!0)]);return!g||g[0]!==y[0]||g[1]!==y[1]},e.prototype._updateView=function(t){var r=this._displayables,i=this._handleEnds,u=ay(i.slice()),l=this._size;Te([0,1],function(_){var k=r.handles[_],E=this._handleHeight;k.attr({scaleX:E/2,scaleY:E/2,x:i[_]+(_?-1:1),y:l[1]/2-E/2})},this),r.filler.setShape({x:u[0],y:0,width:u[1]-u[0],height:l[1]});var f={x:u[0],width:u[1]-u[0]};r.moveHandle&&(r.moveHandle.setShape(f),r.moveZone.setShape(f),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",f.x+f.width/2));for(var h=r.dataShadowSegs,g=[0,u[0],u[1],l[0]],y=0;y<h.length;y++){var b=h[y],S=b.getClipPath();S||(S=new ya,b.setClipPath(S)),S.setShape({x:g[y],y:0,width:g[y+1]-g[y],height:l[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,i=this._displayables,u=i.handleLabels,l=this._orient,f=["",""];if(r.get("showDetail")){var h=r.findRepresentativeAxisProxy();if(h){var g=h.getAxisModel().axis,y=this._range,b=t?h.calculateDataWindow({start:y[0],end:y[1]}).valueWindow:h.getDataValueWindow();f=[this._formatLabel(b[0],g),this._formatLabel(b[1],g)]}}var S=ay(this._handleEnds.slice());_.call(this,0),_.call(this,1);function _(k){var E=G2(i.handles[k].parent,this.group),R=a9(k===0?"right":"left",E),I=this._handleWidth/2+UGe,z=Tv([S[k]+(k===0?-I:I),this._size[1]/2],E);u[k].setStyle({x:z[0],y:z[1],verticalAlign:l===rN?"middle":R,align:l===rN?R:"center",text:f[k]})}},e.prototype._formatLabel=function(t,r){var i=this.dataZoomModel,u=i.get("labelFormatter"),l=i.get("labelPrecision");(l==null||l==="auto")&&(l=r.getPixelPrecision());var f=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(l,20));return Eo(u)?u(t,f):Lr(u)?u.replace("{value}",f):f},e.prototype._showDataInfo=function(t){t=this._dragging||t;var r=this._displayables,i=r.handleLabels;i[0].attr("invisible",!t),i[1].attr("invisible",!t),r.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},e.prototype._onDragMove=function(t,r,i,u){this._dragging=!0,Rb(u.event);var l=this._displayables.sliderGroup.getLocalTransform(),f=Tv([r,i],l,!0),h=this._updateInterval(t,f[0]),g=this.dataZoomModel.get("realtime");this._updateView(!g),h&&g&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var u=this._handleEnds,l=(u[0]+u[1])/2,f=this._updateInterval("all",i[0]-l);this._updateView(),f&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,i=t.offsetY;this._brushStart=new di(r,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,u=+new Date;if(!(u-this._brushStartTime<200&&Math.abs(i.width)<5)){var l=this._getViewExtent(),f=[0,100];this._range=ay([rs(i.x,l,f,!0),rs(i.x+i.width,l,f,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Rb(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var i=this._displayables,u=this.dataZoomModel,l=i.brushRect;l||(l=i.brushRect=new nN({silent:!0,style:u.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(l)),l.attr("ignore",!1);var f=this._brushStart,h=this._displayables.sliderGroup,g=h.transformCoordToLocal(t,r),y=h.transformCoordToLocal(f.x,f.y),b=this._size;g[0]=Math.max(Math.min(b[0],g[0]),0),l.setShape({x:y[0],y:0,width:g[0]-y[0],height:b[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?$Ge:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=_ye(this.dataZoomModel).infoList;if(!t&&r.length){var i=r[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var u=this.api.getWidth(),l=this.api.getHeight();t={x:u*.2,y:l*.2,width:u*.6,height:l*.6}}return t},e.type="dataZoom.slider",e}(wne);function XGe(n){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[n]}function Kce(n){return n==="vertical"?"ns-resize":"ew-resize"}const YGe=GGe;function KGe(n){n.registerComponentModel(HGe),n.registerComponentView(YGe),_ne(n)}function JGe(n){Rc(FGe),Rc(KGe)}var ZGe={get:function(n,e,t){var r=vo((QGe[n]||{})[e]);return t&&sr(r)?r[r.length-1]:r}},QGe={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const zye=ZGe;var Jce=Sh.mapVisual,eXe=Sh.eachVisual,tXe=sr,Zce=Te,nXe=ay,rXe=rs,oXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&X$e(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=Wr(t,this),this.controllerVisuals=zce(this.option.controller,r,t),this.targetVisuals=zce(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return t==null||t==="all"?this.ecModel.eachSeries(function(i,u){r.push(u)}):r=Bs(t),r},e.prototype.eachTargetSeries=function(t,r){Te(this.getTargetSeriesIndices(),function(i){var u=this.ecModel.getSeriesByIndex(i);u&&t.call(r,u)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(i){i===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,i){var u=this.option,l=u.precision,f=this.dataBound,h=u.formatter,g;i=i||["<",">"],sr(t)&&(t=t.slice(),g=!0);var y=r?t:g?[b(t[0]),b(t[1])]:b(t);if(Lr(h))return h.replace("{value}",g?y[0]:y).replace("{value2}",g?y[1]:y);if(Eo(h))return g?h(t[0],t[1]):h(t);if(g)return t[0]===f[0]?i[0]+" "+y[1]:t[1]===f[1]?i[1]+" "+y[0]:y[0]+" - "+y[1];return y;function b(S){return S===f[0]?"min":S===f[1]?"max":(+S).toFixed(Math.min(l,20))}},e.prototype.resetExtent=function(){var t=this.option,r=nXe([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var i=t.dimensions,u=i.length-1;u>=0;u--){var l=i[u],f=t.getDimensionInfo(l);if(!f.isCalculationCoord)return f.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},u=r.target||(r.target={}),l=r.controller||(r.controller={});Ho(u,i),Ho(l,i);var f=this.isCategory();h.call(this,u),h.call(this,l),g.call(this,u,"inRange","outOfRange"),y.call(this,l);function h(b){tXe(r.color)&&!b.inRange&&(b.inRange={color:r.color.slice().reverse()}),b.inRange=b.inRange||{color:t.get("gradientColor")}}function g(b,S,_){var k=b[S],E=b[_];k&&!E&&(E=b[_]={},Zce(k,function(R,I){if(Sh.isValidType(I)){var z=zye.get(I,"inactive",f);z!=null&&(E[I]=z,I==="color"&&!E.hasOwnProperty("opacity")&&!E.hasOwnProperty("colorAlpha")&&(E.opacity=[0,0]))}}))}function y(b){var S=(b.inRange||{}).symbol||(b.outOfRange||{}).symbol,_=(b.inRange||{}).symbolSize||(b.outOfRange||{}).symbolSize,k=this.get("inactiveColor"),E=this.getItemSymbol(),R=E||"roundRect";Zce(this.stateList,function(I){var z=this.itemSize,L=b[I];L||(L=b[I]={color:f?k:[k]}),L.symbol==null&&(L.symbol=S&&vo(S)||(f?R:[R])),L.symbolSize==null&&(L.symbolSize=_&&vo(_)||(f?z[0]:[z[0],z[0]])),L.symbol=Jce(L.symbol,function(Y){return Y==="none"?R:Y});var q=L.symbolSize;if(q!=null){var X=-1/0;eXe(q,function(Y){Y>X&&(X=Y)}),L.symbolSize=Jce(q,function(Y){return rXe(Y,[0,X],[0,z[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Vi);const kH=oXe;var Qce=[20,140],iXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=Qce[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=Qce[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):sr(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),Te(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=ay((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=t)&&(r[1]>=i[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(i){var u=[],l=i.getData();l.each(this.getDataDimensionIndex(l),function(f,h){t[0]<=f&&f<=t[1]&&u.push(h)},this),r.push({seriesId:i.id,dataIndex:u})},this),r},e.prototype.getVisualMeta=function(t){var r=efe(this,"outOfRange",this.getExtent()),i=efe(this,"inRange",this.option.range.slice()),u=[];function l(_,k){u.push({value:_,color:t(_,k)})}for(var f=0,h=0,g=i.length,y=r.length;h<y&&(!i.length||r[h]<=i[0]);h++)r[h]<i[f]&&l(r[h],"outOfRange");for(var b=1;f<g;f++,b=0)b&&u.length&&l(i[f],"outOfRange"),l(i[f],"inRange");for(var b=1;h<y;h++)(!i.length||i[i.length-1]<r[h])&&(b&&(u.length&&l(u[u.length-1].value,"outOfRange"),b=0),l(r[h],"outOfRange"));var S=u.length;return{stops:u,outerColors:[S?u[0].color:"transparent",S?u[S-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=a_(kH.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(kH);function efe(n,e,t){if(t[0]===t[1])return t.slice();for(var r=200,i=(t[1]-t[0])/r,u=t[0],l=[],f=0;f<=r&&u<t[1];f++)l.push(u),u+=i;return l.push(t[1]),l}const aXe=iXe;var uXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,i,u){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,i,u)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,i=m5(r.get("padding")||0),u=t.getBoundingRect();t.add(new ya({z2:-1,silent:!0,shape:{x:u.x-i[3],y:u.y-i[0],width:u.width+i[3]+i[1],height:u.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,i){i=i||{};var u=i.forceState,l=this.visualMapModel,f={};if(r==="color"){var h=l.get("contentColor");f.color=h}function g(_){return f[_]}function y(_,k){f[_]=k}var b=l.controllerVisuals[u||l.getValueState(t)],S=Sh.prepareVisualTypes(b);return Te(S,function(_){var k=b[_];i.convertOpacityToAlpha&&_==="opacity"&&(_="colorAlpha",k=b.__alphaForOpacity),Sh.dependsOn(_,r)&&k&&k.applyVisual(t,g,y)}),f[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,i=this.api;Tte(t,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,r,i,u){},e.type="visualMap",e}(zs);const Fye=uXe;var tfe=[["left","right","width"],["top","bottom","height"]];function Vye(n,e,t){var r=n.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var u={width:e.getWidth(),height:e.getHeight()},l=r.orient==="horizontal"?1:0,f=tfe[l],h=[0,null,10],g={},y=0;y<3;y++)g[tfe[1-l][y]]=h[y],g[f[y]]=y===2?t[0]:r[f[y]];var b=[["x","width",3],["y","height",0]][l],S=Pd(g,u,r.padding);return f[(S.margin[b[2]]||0)+S[b[0]]+S[b[1]]*.5<u[b[1]]*.5?0:1]}function DV(n,e){return Te(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var ny=rs,sXe=Te,nfe=Math.min,$J=Math.max,lXe=12,cXe=6,fXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.doRender=function(t,r,i,u){this._api=i,(!u||u.type!=="selectDataRange"||u.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var i=t.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,i){if(r){var u=r[1-i];u=u!=null?u+"":"";var l=this.visualMapModel,f=l.get("textGap"),h=l.itemSize,g=this._shapes.mainGroup,y=this._applyTransform([h[0]/2,i===0?-f:h[1]+f],g),b=this._applyTransform(i===0?"bottom":"top",g),S=this._orient,_=this.visualMapModel.textStyleModel;this.group.add(new ba({style:wl(_,{x:y[0],y:y[1],verticalAlign:S==="horizontal"?"middle":b,align:S==="horizontal"?b:"center",text:u})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,i=this._shapes,u=r.itemSize,l=this._orient,f=this._useHandle,h=Vye(r,this.api,u),g=i.mainGroup=this._createBarGroup(h),y=new hi;g.add(y),y.add(i.outOfRange=rfe()),y.add(i.inRange=rfe(null,f?ife(this._orient):null,Wr(this._dragHandle,this,"all",!1),Wr(this._dragHandle,this,"all",!0))),y.setClipPath(new ya({shape:{x:0,y:0,width:u[0],height:u[1],r:3}}));var b=r.textStyleModel.getTextRect("国"),S=$J(b.width,b.height);f&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,g,0,u,S,l),this._createHandle(r,g,1,u,S,l)),this._createIndicator(r,g,u,S,l),t.add(g)},e.prototype._createHandle=function(t,r,i,u,l,f){var h=Wr(this._dragHandle,this,i,!1),g=Wr(this._dragHandle,this,i,!0),y=kv(t.get("handleSize"),u[0]),b=lf(t.get("handleIcon"),-y/2,-y/2,y,y,null,!0),S=ife(this._orient);b.attr({cursor:S,draggable:!0,drift:h,ondragend:g,onmousemove:function(I){Rb(I.event)}}),b.x=u[0]/2,b.useStyle(t.getModel("handleStyle").getItemStyle()),b.setStyle({strokeNoScale:!0,strokeFirst:!0}),b.style.lineWidth*=2,b.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),ite(b,!0),r.add(b);var _=this.visualMapModel.textStyleModel,k=new ba({cursor:S,draggable:!0,drift:h,onmousemove:function(I){Rb(I.event)},ondragend:g,style:wl(_,{x:0,y:0,text:""})});k.ensureState("blur").style={opacity:.1},k.stateTransition={duration:200},this.group.add(k);var E=[y,0],R=this._shapes;R.handleThumbs[i]=b,R.handleLabelPoints[i]=E,R.handleLabels[i]=k},e.prototype._createIndicator=function(t,r,i,u,l){var f=kv(t.get("indicatorSize"),i[0]),h=lf(t.get("indicatorIcon"),-f/2,-f/2,f,f,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var g=t.getModel("indicatorStyle").getItemStyle();if(h instanceof Op){var y=h.style;h.useStyle(Gn({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},g))}else h.useStyle(g);r.add(h);var b=this.visualMapModel.textStyleModel,S=new ba({silent:!0,invisible:!0,style:wl(b,{x:0,y:0,text:""})});this.group.add(S);var _=[(l==="horizontal"?u/2:cXe)+i[0]/2,0],k=this._shapes;k.indicator=h,k.indicatorLabel=S,k.indicatorLabelPoint=_,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,i,u){if(this._useHandle){if(this._dragging=!r,!r){var l=this._applyTransform([i,u],this._shapes.mainGroup,!0);this._updateInterval(t,l[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():ofe(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),i=t.getExtent(),u=[0,t.itemSize[1]];this._handleEnds=[ny(r[0],i,u,!0),ny(r[1],i,u,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var i=this.visualMapModel,u=this._handleEnds,l=[0,i.itemSize[1]];PM(r,u,l,t,0);var f=i.getExtent();this._dataInterval=[ny(u[0],l,f,!0),ny(u[1],l,f,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,i=r.getExtent(),u=this._shapes,l=[0,r.itemSize[1]],f=t?l:this._handleEnds,h=this._createBarVisual(this._dataInterval,i,f,"inRange"),g=this._createBarVisual(i,i,l,"outOfRange");u.inRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),u.outOfRange.setStyle({fill:g.barColor}).setShape("points",g.barPoints),this._updateHandle(f,h)},e.prototype._createBarVisual=function(t,r,i,u){var l={forceState:u,convertOpacityToAlpha:!0},f=this._makeColorGradient(t,l),h=[this.getControllerVisual(t[0],"symbolSize",l),this.getControllerVisual(t[1],"symbolSize",l)],g=this._createBarPoints(i,h);return{barColor:new BL(0,0,0,1,f),barPoints:g,handlesColor:[f[0].color,f[f.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var i=100,u=[],l=(t[1]-t[0])/i;u.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var f=1;f<i;f++){var h=t[0]+l*f;if(h>t[1])break;u.push({color:this.getControllerVisual(h,"color",r),offset:f/i})}return u.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),u},e.prototype._createBarPoints=function(t,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,i=this.visualMapModel.get("inverse");return new hi(r==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(this._useHandle){var i=this._shapes,u=this.visualMapModel,l=i.handleThumbs,f=i.handleLabels,h=u.itemSize,g=u.getExtent();sXe([0,1],function(y){var b=l[y];b.setStyle("fill",r.handlesColor[y]),b.y=t[y];var S=ny(t[y],[0,h[1]],g,!0),_=this.getControllerVisual(S,"symbolSize");b.scaleX=b.scaleY=_/h[0],b.x=h[0]-_/2;var k=Tv(i.handleLabelPoints[y],G2(b,this.group));f[y].setStyle({x:k[0],y:k[1],text:u.formatValueText(this._dataInterval[y]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,i,u){var l=this.visualMapModel,f=l.getExtent(),h=l.itemSize,g=[0,h[1]],y=this._shapes,b=y.indicator;if(b){b.attr("invisible",!1);var S={convertOpacityToAlpha:!0},_=this.getControllerVisual(t,"color",S),k=this.getControllerVisual(t,"symbolSize"),E=ny(t,f,g,!0),R=h[0]-k/2,I={x:b.x,y:b.y};b.y=E,b.x=R;var z=Tv(y.indicatorLabelPoint,G2(b,this.group)),L=y.indicatorLabel;L.attr("invisible",!1);var q=this._applyTransform("left",y.mainGroup),X=this._orient,Y=X==="horizontal";L.setStyle({text:(i||"")+l.formatValueText(r),verticalAlign:Y?q:"middle",align:Y?"center":q});var ae={x:R,y:E,style:{fill:_}},te={style:{x:z[0],y:z[1]}};if(l.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var ie={duration:100,easing:"cubicInOut",additive:!0};b.x=I.x,b.y=I.y,b.animateTo(ae,ie),L.animateTo(te,ie)}else b.attr(ae),L.attr(te);this._firstShowIndicator=!1;var le=this._shapes.handleLabels;if(le)for(var ce=0;ce<le.length;ce++)this._api.enterBlur(le[ce])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,u=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);u[1]=nfe($J(0,u[1]),i[1]),t._doHoverLinkToSeries(u[1],0<=u[0]&&u[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var i=this.visualMapModel,u=i.itemSize;if(i.option.hoverLink){var l=[0,u[1]],f=i.getExtent();t=nfe($J(l[0],t),l[1]);var h=dXe(i,f,l),g=[t-h,t+h],y=ny(t,l,f,!0),b=[ny(g[0],l,f,!0),ny(g[1],l,f,!0)];g[0]<l[0]&&(b[0]=-1/0),g[1]>l[1]&&(b[1]=1/0),r&&(b[0]===-1/0?this._showIndicator(y,b[1],"< ",h):b[1]===1/0?this._showIndicator(y,b[0],"> ",h):this._showIndicator(y,y,"≈ ",h));var S=this._hoverLinkDataIndices,_=[];(r||ofe(i))&&(_=this._hoverLinkDataIndices=i.findTargetDataIndices(b));var k=cLe(S,_);this._dispatchHighDown("downplay",DV(k[0],i)),this._dispatchHighDown("highlight",DV(k[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(aM(t.target,function(h){var g=Ai(h);if(g.dataIndex!=null)return r=g,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),u=this.visualMapModel;if(u.isTargetSeries(i)){var l=i.getData(r.dataType),f=l.getStore().get(u.getDataDimensionIndex(l),r.dataIndex);isNaN(f)||this._showIndicator(f,f)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this._api.leaveBlur(r[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",DV(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,i,u){var l=G2(r,u?null:this.group);return sr(t)?Tv(t,l,i):a9(t,l,i)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Fye);function rfe(n,e,t,r){return new _y({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){Rb(i.event)},ondragend:r})}function dXe(n,e,t){var r=lXe/2,i=n.get("hoverLinkDataSize");return i&&(r=ny(i,e,t,!0)/2),r}function ofe(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function ife(n){return n==="vertical"?"ns-resize":"ew-resize"}const hXe=fXe;var pXe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},mXe=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},gXe=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(r){var i=n.pipelineContext;!r.isTargetSeries(n)||i&&i.large||t.push(Y$e(r.stateList,r.targetVisuals,Wr(r.getValueState,r),r.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),r=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(n)){var u=i.getVisualMeta(Wr(vXe,null,n,i))||{stops:[],outerColors:[]},l=i.getDataDimensionIndex(t);l>=0&&(u.dimension=l,r.push(u))}}),n.getData().setVisual("visualMeta",r)}}];function vXe(n,e,t,r){for(var i=e.targetVisuals[r],u=Sh.prepareVisualTypes(i),l={color:Wge(n.getData(),"color")},f=0,h=u.length;f<h;f++){var g=u[f],y=i[g==="opacity"?"__alphaForOpacity":g];y&&y.applyVisual(t,b,S)}return l.color;function b(_){return l[_]}function S(_,k){l[_]=k}}var afe=Te;function yXe(n){var e=n&&n.visualMap;sr(e)||(e=e?[e]:[]),afe(e,function(t){if(t){d3(t,"splitList")&&!d3(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&sr(r)&&afe(r,function(i){no(i)&&(d3(i,"start")&&!d3(i,"min")&&(i.min=i.start),d3(i,"end")&&!d3(i,"max")&&(i.max=i.end))})}})}function d3(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var ufe=!1;function Hye(n){ufe||(ufe=!0,n.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),n.registerAction(pXe,mXe),Te(gXe,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(yXe))}function bXe(n){n.registerComponentModel(aXe),n.registerComponentView(hXe),Hye(n)}var xXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],wXe[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var u=this.option.categories;this.resetVisual(function(l,f){i==="categories"?(l.mappingMethod="category",l.categories=vo(u)):(l.dataExtent=this.getExtent(),l.mappingMethod="piecewise",l.pieceList=br(this._pieceList,function(h){return h=vo(h),f!=="inRange"&&(h.visual=null),h}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},i=Sh.listVisualTypes(),u=this.isCategory();Te(t.pieces,function(f){Te(i,function(h){f.hasOwnProperty(h)&&(r[h]=1)})}),Te(r,function(f,h){var g=!1;Te(this.stateList,function(y){g=g||l(t,y,h)||l(t.target,y,h)},this),!g&&Te(this.stateList,function(y){(t[y]||(t[y]={}))[h]=zye.get(h,y==="inRange"?"active":"inactive",u)})},this);function l(f,h,g){return f&&f[h]&&f[h].hasOwnProperty(g)}n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var i=this.option,u=this._pieceList,l=(r?i:t).selected||{};if(i.selected=l,Te(u,function(h,g){var y=this.getSelectedMapKey(h);l.hasOwnProperty(y)||(l[y]=!0)},this),i.selectedMode==="single"){var f=!1;Te(u,function(h,g){var y=this.getSelectedMapKey(h);l[y]&&(f?l[y]=!1:f=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=vo(t)},e.prototype.getValueState=function(t){var r=Sh.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],i=this._pieceList;return this.eachTargetSeries(function(u){var l=[],f=u.getData();f.each(this.getDataDimensionIndex(f),function(h,g){var y=Sh.findPieceIndex(h,i);y===t&&l.push(g)},this),r.push({seriesId:u.id,dataIndex:l})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var i=t.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],i=["",""],u=this;function l(y,b){var S=u.getRepresentValue({interval:y});b||(b=u.getValueState(S));var _=t(S,b);y[0]===-1/0?i[0]=_:y[1]===1/0?i[1]=_:r.push({value:y[0],color:_},{value:y[1],color:_})}var f=this._pieceList.slice();if(!f.length)f.push({interval:[-1/0,1/0]});else{var h=f[0].interval[0];h!==-1/0&&f.unshift({interval:[-1/0,h]}),h=f[f.length-1].interval[1],h!==1/0&&f.push({interval:[h,1/0]})}var g=-1/0;return Te(f,function(y){var b=y.interval;b&&(b[0]>g&&l([g,b[0]],"outOfRange"),l(b.slice()),g=b[1])},this),{stops:r,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=a_(kH.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(kH),wXe={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var u=(r[1]-r[0])/i;+u.toFixed(t)!==u&&t<5;)t++;e.precision=t,u=+u.toFixed(t),e.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var l=0,f=r[0];l<i;f+=u,l++){var h=l===i-1?r[1]:f+u;n.push({interval:[f,h],close:[1,1]})}e.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),UZ(n),Te(n,function(g,y){g.index=y,g.text=this.formatValueText(g.interval)},this)},categories:function(n){var e=this.option;Te(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),sfe(e,n)},pieces:function(n){var e=this.option;Te(e.pieces,function(t,r){no(t)||(t={value:t});var i={text:"",index:r};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var u=i.value=t.value;i.interval=[u,u],i.close=[1,1]}else{for(var l=i.interval=[],f=i.close=[0,0],h=[1,0,1],g=[-1/0,1/0],y=[],b=0;b<2;b++){for(var S=[["gte","gt","min"],["lte","lt","max"]][b],_=0;_<3&&l[b]==null;_++)l[b]=t[S[_]],f[b]=h[_],y[b]=_===2;l[b]==null&&(l[b]=g[b])}y[0]&&l[1]===1/0&&(f[0]=0),y[1]&&l[0]===-1/0&&(f[1]=0),l[0]===l[1]&&f[0]&&f[1]&&(i.value=l[0])}i.visual=Sh.retrieveVisuals(t),n.push(i)},this),sfe(e,n),UZ(n),Te(n,function(t){var r=t.close,i=[["<","≤"][r[1]],[">","≥"][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function sfe(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}const _Xe=xXe;var SXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,i=r.get("textGap"),u=r.textStyleModel,l=u.getFont(),f=u.getTextColor(),h=this._getItemAlign(),g=r.itemSize,y=this._getViewData(),b=y.endsText,S=Ib(r.get("showLabel",!0),!b);b&&this._renderEndsText(t,b[0],g,S,h),Te(y.viewPieceList,function(_){var k=_.piece,E=new hi;E.onclick=Wr(this._onItemClick,this,k),this._enableHoverLink(E,_.indexInModelPieceList);var R=r.getRepresentValue(k);if(this._createItemSymbol(E,R,[0,0,g[0],g[1]]),S){var I=this.visualMapModel.getValueState(R);E.add(new ba({style:{x:h==="right"?-i:g[0]+i,y:g[1]/2,text:k.text,verticalAlign:"middle",align:h,font:l,fill:f,opacity:I==="outOfRange"?.5:1}}))}t.add(E)},this),b&&this._renderEndsText(t,b[1],g,S,h),mM(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var i=this;t.on("mouseover",function(){return u("highlight")}).on("mouseout",function(){return u("downplay")});var u=function(l){var f=i.visualMapModel;f.option.hoverLink&&i.api.dispatchAction({type:l,batch:DV(f.findTargetDataIndices(r),f)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return Vye(t,this.api,t.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,r,i,u,l){if(r){var f=new hi,h=this.visualMapModel.textStyleModel;f.add(new ba({style:wl(h,{x:u?l==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:u?l:"center",text:r})})),t.add(f)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=br(t.getPieceList(),function(f,h){return{piece:f,indexInModelPieceList:h}}),i=t.get("text"),u=t.get("orient"),l=t.get("inverse");return(u==="horizontal"?l:!l)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},e.prototype._createItemSymbol=function(t,r,i){t.add(lf(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},e.prototype._onItemClick=function(t){var r=this.visualMapModel,i=r.option,u=i.selectedMode;if(u){var l=vo(i.selected),f=r.getSelectedMapKey(t);u==="single"||u===!0?(l[f]=!0,Te(l,function(h,g){l[g]=g===f})):l[f]=!l[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})}},e.type="visualMap.piecewise",e}(Fye);const CXe=SXe;function TXe(n){n.registerComponentModel(_Xe),n.registerComponentView(CXe),Hye(n)}function MXe(n){Rc(bXe),Rc(TXe)}var kXe={label:{enabled:!0},decal:{show:!1}},lfe=cu(),DXe={};function AXe(n,e){var t=n.getModel("aria");if(!t.get("enabled"))return;var r=vo(kXe);Ho(r.label,n.getLocaleModel().get("aria"),!1),Ho(t.option,r,!1),i(),u();function i(){var g=t.getModel("decal"),y=g.get("show");if(y){var b=to();n.eachSeries(function(S){if(!S.isColorBySeries()){var _=b.get(S.type);_||(_={},b.set(S.type,_)),lfe(S).scope=_}}),n.eachRawSeries(function(S){if(n.isSeriesFiltered(S))return;if(Eo(S.enableAriaDecal)){S.enableAriaDecal();return}var _=S.getData();if(S.isColorBySeries()){var k=fue(S.ecModel,S.name,DXe,n.getSeriesCount()),E=_.getVisual("decal");_.setVisual("decal",q(E,k))}else{var R=S.getRawData(),I={},z=lfe(S).scope;_.each(function(X){var Y=_.getRawIndex(X);I[Y]=X});var L=R.count();R.each(function(X){var Y=I[X],ae=R.getName(X)||X+"",te=fue(S.ecModel,ae,z,L),ie=_.getItemVisual(Y,"decal");_.setItemVisual(Y,"decal",q(ie,te))})}function q(X,Y){var ae=X?Gn(Gn({},Y),X):Y;return ae.dirty=!0,ae}})}}function u(){var g=n.getLocaleModel().get("aria"),y=t.getModel("label");if(y.option=To(y.option,g),!!y.get("enabled")){var b=e.getZr().dom;if(y.get("description")){b.setAttribute("aria-label",y.get("description"));return}var S=n.getSeriesCount(),_=y.get(["data","maxCount"])||10,k=y.get(["series","maxCount"])||10,E=Math.min(S,k),R;if(!(S<1)){var I=f();if(I){var z=y.get(["general","withTitle"]);R=l(z,{title:I})}else R=y.get(["general","withoutTitle"]);var L=[],q=S>1?y.get(["series","multiple","prefix"]):y.get(["series","single","prefix"]);R+=l(q,{seriesCount:S}),n.eachSeries(function(te,ie){if(ie<E){var le=void 0,ce=te.get("name"),ne=ce?"withName":"withoutName";le=S>1?y.get(["series","multiple",ne]):y.get(["series","single",ne]),le=l(le,{seriesId:te.seriesIndex,seriesName:te.get("name"),seriesType:h(te.subType)});var Z=te.getData();if(Z.count()>_){var Ce=y.get(["data","partialData"]);le+=l(Ce,{displayCnt:_})}else le+=y.get(["data","allData"]);for(var ze=y.get(["data","separator","middle"]),ke=y.get(["data","separator","end"]),_t=[],tt=0;tt<Z.count();tt++)if(tt<_){var $=Z.getName(tt),Ze=Z.getValues(tt),$e=y.get(["data",$?"withName":"withoutName"]);_t.push(l($e,{name:$,value:Ze.join(ze)}))}le+=_t.join(ze)+ke,L.push(le)}});var X=y.getModel(["series","multiple","separator"]),Y=X.get("middle"),ae=X.get("end");R+=L.join(Y)+ae,b.setAttribute("aria-label",R)}}}function l(g,y){if(!Lr(g))return g;var b=g;return Te(y,function(S,_){b=b.replace(new RegExp("\\{\\s*"+_+"\\s*\\}","g"),S)}),b}function f(){var g=n.get("title");return g&&g.length&&(g=g[0]),g&&g.text}function h(g){return n.getLocaleModel().get(["series","typeNames"])[g]||"自定义图"}}function EXe(n){if(!(!n||!n.aria)){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},Te(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function OXe(n){n.registerPreprocessor(EXe),n.registerVisual(n.PRIORITY.VISUAL.ARIA,AXe)}function cfe(n,e,t){var r=Ob.createCanvas(),i=e.getWidth(),u=e.getHeight(),l=r.style;return l&&(l.position="absolute",l.left="0",l.top="0",l.width=i+"px",l.height=u+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*t,r.height=u*t,r}var IXe=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this)||this;u.motionBlur=!1,u.lastFrameAlpha=.7,u.dpr=1,u.virtual=!1,u.config={},u.incremental=!1,u.zlevel=0,u.maxRepaintRectCount=5,u.__dirty=!0,u.__firstTimePaint=!0,u.__used=!1,u.__drawIndex=0,u.__startIndex=0,u.__endIndex=0,u.__prevStartIndex=null,u.__prevEndIndex=null;var l;i=i||QV,typeof t=="string"?l=cfe(t,r,i):no(t)&&(l=t,t=l.id),u.id=t,u.dom=l;var f=l.style;return f&&(zee(l),l.onselectstart=function(){return!1},f.padding="0",f.margin="0",f.borderWidth="0"),u.painter=r,u.dpr=i,u}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=cfe("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,u){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var l=[],f=this.maxRepaintRectCount,h=!1,g=new vi(0,0,0,0);function y(z){if(!(!z.isFinite()||z.isZero()))if(l.length===0){var L=new vi(0,0,0,0);L.copy(z),l.push(L)}else{for(var q=!1,X=1/0,Y=0,ae=0;ae<l.length;++ae){var te=l[ae];if(te.intersect(z)){var ie=new vi(0,0,0,0);ie.copy(te),ie.union(z),l[ae]=ie,q=!0;break}else if(h){g.copy(z),g.union(te);var le=z.width*z.height,ce=te.width*te.height,ne=g.width*g.height,Z=ne-le-ce;Z<X&&(X=Z,Y=ae)}}if(h&&(l[Y].union(z),q=!0),!q){var L=new vi(0,0,0,0);L.copy(z),l.push(L)}h||(h=l.length>=f)}}for(var b=this.__startIndex;b<this.__endIndex;++b){var S=t[b];if(S){var _=S.shouldBePainted(i,u,!0,!0),k=S.__isRendered&&(S.__dirty&Cp||!_)?S.getPrevPaintRect():null;k&&y(k);var E=_&&(S.__dirty&Cp||!S.__isRendered)?S.getPaintRect():null;E&&y(E)}}for(var b=this.__prevStartIndex;b<this.__prevEndIndex;++b){var S=r[b],_=S.shouldBePainted(i,u,!0,!0);if(S&&(!_||!S.__zr)&&S.__isRendered){var k=S.getPrevPaintRect();k&&y(k)}}var R;do{R=!1;for(var b=0;b<l.length;){if(l[b].isZero()){l.splice(b,1);continue}for(var I=b+1;I<l.length;)l[b].intersect(l[I])?(R=!0,l[b].union(l[I]),l.splice(I,1)):I++;b++}}while(R);return this._paintRects=l,l},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,u=this.dom,l=u.style,f=this.domBack;l&&(l.width=t+"px",l.height=r+"px"),u.width=t*i,u.height=r*i,f&&(f.width=t*i,f.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var u=this.dom,l=this.ctx,f=u.width,h=u.height;r=r||this.clearColor;var g=this.motionBlur&&!t,y=this.lastFrameAlpha,b=this.dpr,S=this;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(u,0,0,f/b,h/b));var _=this.domBack;function k(E,R,I,z){if(l.clearRect(E,R,I,z),r&&r!=="transparent"){var L=void 0;if(EL(r)){var q=r.global||r.__width===I&&r.__height===z;L=q&&r.__canvasGradient||cQ(l,r,{x:0,y:0,width:I,height:z}),r.__canvasGradient=L,r.__width=I,r.__height=z}else upe(r)&&(r.scaleX=r.scaleX||b,r.scaleY=r.scaleY||b,L=fQ(l,r,{dirty:function(){S.setUnpainted(),S.__painter.refresh()}}));l.save(),l.fillStyle=L||r,l.fillRect(E,R,I,z),l.restore()}g&&(l.save(),l.globalAlpha=y,l.drawImage(_,E,R,I,z),l.restore())}!i||g?k(0,0,f,h):i.length&&Te(i,function(E){k(E.x*b,E.y*b,E.width*b,E.height*b)})},e}(Qm);const GJ=IXe;var ffe=1e5,XT=314159,QF=.01,RXe=.001;function PXe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function NXe(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var LXe=function(){function n(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var u=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=Gn({},r||{}),this.dpr=r.devicePixelRatio||QV,this._singleCanvas=u,this.root=e;var l=e.style;l&&(zee(e),e.innerHTML=""),this.storage=t;var f=this._zlevelList;this._prevDisplayList=[];var h=this._layers;if(u){var g=e,y=g.width,b=g.height;r.width!=null&&(y=r.width),r.height!=null&&(b=r.height),this.dpr=r.devicePixelRatio||1,g.width=y*this.dpr,g.height=b*this.dpr,this._width=y,this._height=b;var S=new GJ(g,this,this.dpr);S.__builtin__=!0,S.initContext(),h[XT]=S,S.zlevel=XT,f.push(XT),this._domRoot=e}else{this._width=OF(e,0,r),this._height=OF(e,1,r);var _=this._domRoot=NXe(this._width,this._height);e.appendChild(_)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var u=0;u<i.length;u++){var l=i[u],f=this._layers[l];if(!f.__builtin__&&f.refresh){var h=u===0?this._backgroundColor:null;f.refresh(h)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},u,l=0;l<t;l++){var f=e[l];f.__inHover&&(r||(r=this._hoverlayer=this.getLayer(ffe)),u||(u=r.ctx,u.save()),sM(u,f,i,l===t-1))}u&&u.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(ffe)},n.prototype.paintOne=function(e,t){Lte(e,t)},n.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var u=this._doPaintList(e,t,r),l=u.finished,f=u.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),f&&this._paintHoverList(e),l)this.eachLayer(function(g){g.afterBrush&&g.afterBrush()});else{var h=this;OZ(function(){h._paintList(e,t,r,i)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(XT).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var i=this,u=[],l=this._opts.useDirtyRect,f=0;f<this._zlevelList.length;f++){var h=this._zlevelList[f],g=this._layers[h];g.__builtin__&&g!==this._hoverlayer&&(g.__dirty||r)&&u.push(g)}for(var y=!0,b=!1,S=function(E){var R=u[E],I=R.ctx,z=l&&R.createRepaintRects(e,t,_._width,_._height),L=r?R.__startIndex:R.__drawIndex,q=!r&&R.incremental&&Date.now,X=q&&Date.now(),Y=R.zlevel===_._zlevelList[0]?_._backgroundColor:null;if(R.__startIndex===R.__endIndex)R.clear(!1,Y,z);else if(L===R.__startIndex){var ae=e[L];(!ae.incremental||!ae.notClear||r)&&R.clear(!1,Y,z)}L===-1&&(console.error("For some unknown reason. drawIndex is -1"),L=R.__startIndex);var te,ie=function(Z){var Ce={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(te=L;te<R.__endIndex;te++){var ze=e[te];if(ze.__inHover&&(b=!0),i._doPaintEl(ze,R,l,Z,Ce,te===R.__endIndex-1),q){var ke=Date.now()-X;if(ke>15)break}}Ce.prevElClipPaths&&I.restore()};if(z)if(z.length===0)te=R.__endIndex;else for(var le=_.dpr,ce=0;ce<z.length;++ce){var ne=z[ce];I.save(),I.beginPath(),I.rect(ne.x*le,ne.y*le,ne.width*le,ne.height*le),I.clip(),ie(ne),I.restore()}else I.save(),ie(),I.restore();R.__drawIndex=te,R.__drawIndex<R.__endIndex&&(y=!1)},_=this,k=0;k<u.length;k++)S(k);return Ni.wxa&&Te(this._layers,function(E){E&&E.ctx&&E.ctx.draw&&E.ctx.draw()}),{finished:y,needsRefreshHover:b}},n.prototype._doPaintEl=function(e,t,r,i,u,l){var f=t.ctx;if(r){var h=e.getPaintRect();(!i||h&&h.intersect(i))&&(sM(f,e,u,l),e.setPrevPaintRect(h))}else sM(f,e,u,l)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=XT);var r=this._layers[e];return r||(r=new GJ("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?Ho(r,this._layerConfig[e],!0):this._layerConfig[e-QF]&&Ho(r,this._layerConfig[e-QF],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,u=i.length,l=this._domRoot,f=null,h=-1;if(!r[e]&&PXe(t)){if(u>0&&e>i[0]){for(h=0;h<u-1&&!(i[h]<e&&i[h+1]>e);h++);f=r[i[h]]}if(i.splice(h+1,0,e),r[e]=t,!t.virtual)if(f){var g=f.dom;g.nextSibling?l.insertBefore(t.dom,g.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var u=r[i];e.call(t,this._layers[u],u)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var u=r[i],l=this._layers[u];l.__builtin__&&e.call(t,l,u)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var u=r[i],l=this._layers[u];l.__builtin__||e.call(t,l,u)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(b,S){b.__dirty=b.__used=!1});function t(b){u&&(u.__endIndex!==b&&(u.__dirty=!0),u.__endIndex=b)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var u=null,l=0,f,h;for(h=0;h<e.length;h++){var i=e[h],g=i.zlevel,y=void 0;f!==g&&(f=g,l=0),i.incremental?(y=this.getLayer(g+RXe,this._needsManuallyCompositing),y.incremental=!0,l=1):y=this.getLayer(g+(l>0?QF:0),this._needsManuallyCompositing),y.__builtin__||GH("ZLevel "+g+" has been used by unkown layer "+y.id),y!==u&&(y.__used=!0,y.__startIndex!==h&&(y.__dirty=!0),y.__startIndex=h,y.incremental?y.__drawIndex=-1:y.__drawIndex=h,t(h),u=y),i.__dirty&Cp&&!i.__inHover&&(y.__dirty=!0,y.incremental&&y.__drawIndex<0&&(y.__drawIndex=h))}t(h),this.eachBuiltinLayer(function(b,S){!b.__used&&b.getElementCount()>0&&(b.__dirty=!0,b.__startIndex=b.__endIndex=b.__drawIndex=0),b.__dirty&&b.__drawIndex<0&&(b.__drawIndex=b.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Te(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?Ho(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var u=this._zlevelList[i];if(u===e||u===e+QF){var l=this._layers[u];Ho(l,r[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(Di(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,u=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=OF(u,0,i),t=OF(u,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var l in this._layers)this._layers.hasOwnProperty(l)&&this._layers[l].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(XT).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[XT].dom;var t=new GJ("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,u=t.dom.height;this.eachLayer(function(b){b.__builtin__?r.drawImage(b.dom,0,0,i,u):b.renderToCanvas&&(r.save(),b.renderToCanvas(r),r.restore())})}else for(var l={inHover:!1,viewWidth:this._width,viewHeight:this._height},f=this.storage.getDisplayList(!0),h=0,g=f.length;h<g;h++){var y=f[h];sM(r,y,l,h===g-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const BXe=LXe;function zXe(n){n.registerPainter("canvas",BXe)}Rc([kGe,Z$e,G$e,kUe,uqe,OXe,AWe,vHe,QVe,EHe,Rje,N9e,zXe,jWe,_0e,C$e,JGe,MXe,hGe,pqe,Sqe,b9e]);function FXe(n,e,t="default"){Y2(n)||(n=Ao(n));let r=null;const i=i3e(y,200),u=Ao({});let l=null;const f=No(()=>({backgroundColor:"transparent",...u.value}));function h(S=t){const _=io(n);_&&(r=kse.init(_,S),e==null||e(r),l=GN(window,"resize",i))}function g(S,_=!0){u.value=S,!(!r&&(h(),!r))&&(_&&(r==null||r.clear()),r==null||r.setOption(io(f)))}function y(){r==null||r.resize({animation:{duration:50,easing:"quadraticIn"}})}l3e(()=>{r&&(l==null||l(),r.dispose(),r=null)});function b(){return r}return{setOptions:g,resize:y,echarts:kse,getInstance:b}}const VXe=Wa({name:"EchartsRenderer",__name:"echarts",props:{style:{default:()=>({height:"400px"})},options:{default:()=>({})},events:{default:()=>({})}},setup(n){const e=n,t=Ao(null),{setOptions:r}=FXe(t,i=>{Object.keys(e.events).forEach(u=>{i==null||i.on(u,e.events[u])})});return r5(()=>{r(e.options)}),su(()=>e.options,()=>{r(e.options)},{deep:!0,flush:"post"}),(i,u)=>(Pr(),Hi("div",{ref_key:"chartRef",ref:t,style:n5(i.style)},null,4))}}),HXe=cf(VXe),jXe={...mSe,fields:{type:dc(Array),default:()=>[]},inline:{type:Boolean,default:!1},model:{type:dc(Object),default:()=>({})},labelWidth:{type:dc([String,Number])},enableEffect:{type:Boolean,default:!1}},lM={REGISTER:"register",SUBMIT:"submit",RESET:"reset",EFFECT:"effect"},WXe={[lM.REGISTER]:n=>!0,[lM.SUBMIT]:n=>!0,[lM.RESET]:n=>!0,[lM.EFFECT]:n=>!!n};function UXe(n){const{fields:e,isWatch:t=!0}=n,r=Th({}),i=24,u=Ao(0),l=Ao(0),f=Th({isAdvanced:!0,hideAdvanceBtn:!1,span:5});t&&su([e,()=>f.isAdvanced],()=>{y()},{immediate:!0,deep:!0});const h=No(()=>(console.log("lastRowSpaceSpan.value",u.value),console.log("advanceState.span",f.span),{span:f.span>u.value?i:f.span,offset:f.span>u.value?0:u.value-f.span}));function g(){f.isAdvanced=!f.isAdvanced}function y(){u.value=0;let b=0,S=0;if(f.isAdvanced||(S+=f.span,b+=f.span),l.value++,e.value.forEach(_=>{var k;const E=((k=_.col)==null?void 0:k.span)||i;S+=E;const R=i-S;R<=0&&(l.value++,S=E);const I=!f.isAdvanced&&(b>24||R+E<E);r[_.key]=!I,b+=E}),u.value=i-S,!f.isAdvanced){const _=e.value.filter(E=>r[E.key]).map(E=>{var R;return{span:((R=E.col)==null?void 0:R.span)||i}});let k=0;_.forEach(({span:E})=>{k+=E}),k>=i?u.value=0:u.value=i-k}l.value<=1?f.hideAdvanceBtn=!0:f.hideAdvanceBtn=!1}return{fieldsIsCollapsedMap:r,toggleCollapse:g,updateCollapce:y,advanceState:f,advancedSpanColAttrs:h}}const qXe=n=>{const{props:e,emits:t}=n,{inline:r}=e,i=No(()=>e.fields.filter(q=>(X=>{const{show:Y=!0,key:ae}=X;return Tb(Y)?Y(l[ae],{...l}):Y})(q))),u=Ao(null),l=Th({}),{fieldsIsCollapsedMap:f,toggleCollapse:h,advanceState:g,advancedSpanColAttrs:y,updateCollapce:b}=UXe({fields:i,isWatch:r,model:l});su([l,i],()=>{b()}),e.enableEffect&&su(l,()=>{t("effect",R3(l))}),su(()=>e.model,()=>{I()});const S=(q,X)=>{l[q]=X},_=q=>l[q],k=q=>{var X;(X=u.value)==null||X.validate(Y=>{Y&&(q==null||q(R3(l)))})},E=q=>{var X;(X=u.value)==null||X.resetFields(),R(),q==null||q()},R=(...q)=>{var X;(X=u.value)==null||X.clearValidate(...q)};function I(q){const X=Object.assign(e.model,q||{});Object.keys(X).forEach(Y=>{l[Y]=X[Y]})}const z=q=>{u.value=q,t(lM.REGISTER,L)},L={forceUpdateModel:I,resetFields:E,clearValidate:R,validate:k,setFieldValue:S,getFieldValue:_,validateField:()=>{},scrollToField:()=>{}};return{setFieldValue:S,getFieldValue:_,formSchemaes:i,formExposeMethods:L,advanceState:No(()=>g),formModel:l,setFormRef:z,resetFields:E,validate:k,fieldsIsCollapsedMap:f,toggleCollapse:h,advancedSpanColAttrs:y}},jye=Symbol("formContenxt");function $Xe(n){return fee(n,jye,{native:!0})}function Wye(){return dee(jye)}const GXe={style:{"margin-right":"5px"}},XXe=Wa({__name:"toggle-arrow",props:{expand:{type:Boolean,default:!1},expandText:{default:"折叠"},unExpandText:{default:"展开"}},emits:{click:()=>!0},setup(n,{emit:e}){const t=e,r=()=>{t("click")};return(i,u)=>(Pr(),Hi("span",{class:"toggle",onClick:r},[Ia("span",GXe,Ch(i.expand?i.expandText:i.unExpandText),1),Co(io(FSe),{class:bL(["toggle-arrow ",i.expand?"":"active"])},{default:go(()=>[Co(io(zSe))]),_:1},8,["class"])]))}}),YXe=Xf(XXe,[["__scopeId","data-v-f5543914"]]),KXe={class:"form-action"},JXe=Wa({__name:"form-action",props:{collapsed:{type:Boolean},hiddenCollapseButton:{type:Boolean}},setup(n){const{submit:e,reset:t,toggleCollapse:r}=Wye();return(i,u)=>{const l=ia("el-button"),f=ia("el-space");return Pr(),Hi("div",KXe,[Co(f,null,{default:go(()=>[Co(l,{type:"primary",onClick:io(e)},{default:go(()=>[qf("查询")]),_:1},8,["onClick"]),Co(l,{onClick:io(t)},{default:go(()=>[qf("重置")]),_:1},8,["onClick"]),i.hiddenCollapseButton?oa("v-if",!0):(Pr(),Wi(YXe,{key:0,expand:i.collapsed,onClick:io(r)},null,8,["expand","onClick"]))]),_:1})])}}}),ZXe=Xf(JXe,[["__scopeId","data-v-8814dd9b"]]),QXe={class:"pro-form-item__label"},eYe=Wa({__name:"form-item",props:{label:{},el:{},tip:{},fill:{type:Boolean},required:{type:Boolean},requiredMessage:{},show:{type:[Boolean,Function]},disabled:{type:[Boolean,Function]},attrs:{default:()=>({})},events:{default:()=>({})},rules:{},col:{},labelWidth:{},size:{},prop:{}},setup(n){const e=n,t=Wye(),r=No(()=>{const{attrs:l={},label:f,disabled:h}=e;return{placeholder:f,...l,disabled:l.disabled!==void 0||l.disabled!==null?GQ(h)?h==null?void 0:h(t==null?void 0:t.getFieldValue(e.prop),t.formModel):h:l.disabled}}),i=No(()=>{const{required:l,requiredMessage:f}=e,h=[];if(l&&h.push({required:l,message:f||"此项为必填"}),e.rules&&h.push(...e.rules),l!==void 0){const g=h.map((y,b)=>[y,b]).filter(([y])=>Object.keys(y).includes("required"));if(g.length>0)for(const[y,b]of g)y.required!==l&&(h[b]={...y,required:l});else h.push({required:l})}return h}),u=No(()=>i.value.some(l=>l.required));return(l,f)=>(Pr(),Wi(io(Sfe),{prop:String(l.prop),required:u.value,rules:i.value},aSe({default:go(()=>[xl(l.$slots,"default",{},()=>{var h;return[io(t)?(Pr(),Wi(n_(l.el),Od({key:0,"model-value":(h=io(t))==null?void 0:h.getFieldValue(l.prop),style:{width:l.fill?"100%":""}},r.value,{"onUpdate:modelValue":f[0]||(f[0]=g=>{var y;return(y=io(t))==null?void 0:y.setFieldValue(l.prop,g)})},uSe(l.events||{})),null,16,["model-value","style"])):oa("v-if",!0)]},!0)]),_:2},[l.label?{name:"label",fn:go(()=>[Ia("span",QXe,[Ia("span",null,Ch(l.label),1),l.tip?(Pr(),Wi(io(zde),{key:0,class:"pro-form-item__tip",text:l.tip},null,8,["text"])):oa("v-if",!0)])]),key:"0"}:void 0]),1032,["prop","required","rules"]))}}),Uye=Xf(eYe,[["__scopeId","data-v-3d3f49d2"]]),tYe=Wa({name:"ProForm",__name:"base-form",props:jXe,emits:WXe,setup(n,{expose:e,emit:t}){const r=n,i=t,{formSchemaes:u,advanceState:l,formModel:f,setFormRef:h,validate:g,resetFields:y,toggleCollapse:b,formExposeMethods:S,fieldsIsCollapsedMap:_,advancedSpanColAttrs:k,getFieldValue:E,setFieldValue:R}=qXe({props:r,emits:i});return $Xe({formModel:f,submit:()=>{g(()=>{i(lM.SUBMIT,f)})},reset:()=>{y(()=>{i(lM.RESET,f)})},toggleCollapse:b,getFieldValue:E,setFieldValue:R}),e(S),(I,z)=>{const L=ia("el-col"),q=ia("el-row");return Pr(),Wi(io(_fe),Od({...I.$attrs},{ref:X=>io(h)(X),model:io(f),"label-width":I.labelWidth,"label-position":I.labelPosition,disabled:I.disabled,"inline-message":I.inlineMessage,"label-suffix":I.labelSuffix,"require-asterisk-position":I.requireAsteriskPosition,"hide-required-asterisk":I.hideRequiredAsterisk,"scroll-into-view-options":I.scrollIntoViewOptions,"scroll-to-error":I.scrollToError,"show-message":I.showMessage,size:I.size,"status-icon":I.statusIcon,"validate-on-rule-change":I.validateOnRuleChange,onSubmit:z[0]||(z[0]=nSe(()=>{},["prevent"]))}),{default:go(()=>[Co(q,{gutter:20},{default:go(()=>[(Pr(!0),Hi(af,null,H2(io(u),X=>jQ((Pr(),Wi(L,K2(Od({key:X.key},X.col)),{default:go(()=>[xl(I.$slots,X.key,{field:X},()=>[Co(Uye,Od(X,{prop:X.key}),null,16,["prop"])])]),_:2},1040)),[[tSe,I.inline?io(_)[X.key]:!0]])),128)),xl(I.$slots,"default"),I.inline?(Pr(),Wi(L,K2(Od({key:0},io(k))),{default:go(()=>[Co(ZXe,{collapsed:io(l).isAdvanced,"hidden-collapse-button":io(l).hideAdvanceBtn},null,8,["collapsed","hidden-collapse-button"])]),_:1},16)):oa("v-if",!0)]),_:3}),oa(" 只提供 inline 模式下的操作按钮 ")]),_:3},16,["model","label-width","label-position","disabled","inline-message","label-suffix","require-asterisk-position","hide-required-asterisk","scroll-into-view-options","scroll-to-error","show-message","size","status-icon","validate-on-rule-change"])}}}),nYe=cf(tYe,{FormItem:Uye}),rYe=Wa({name:"ProSelect",__name:"pro-select",props:{modelValue:{},options:{default:()=>[]},size:{},multiple:{type:Boolean},clearable:{type:Boolean,default:!0},remote:{type:Boolean},onChange:{},group:{type:Boolean,default:!1},fields:{default:()=>({})},filterable:{type:Boolean,default:!1},paramns:{default:()=>({})},request:{},remoteMethod:{}},emits:["update:model-value","change"],setup(n,{emit:e}){const t={label:"label",value:"value",options:"options"},r=n,i=e,u=Ao([]),l=Ao(!1),f=Ao(),h=a3e((..._)=>{S(..._)},50);su(()=>r.options,()=>{u.value=r.options},{immediate:!0}),su(()=>r.multiple,()=>{f.value=new Date().getTime(),i("update:model-value",void 0)}),r.paramns&&r.request&&su(()=>r.paramns,()=>{h()},{immediate:!0});const g=No(()=>Object.assign({},t,r.fields)),y=(..._)=>{i("update:model-value",_[0]),i("change",..._)},b=_=>{_&&h({_keyworkd:_})};function S(_={}){console.log("query"),r.request&&Tb(r.request)&&(l.value=!0,r.request({...r.paramns,..._}).then(k=>{u.value=k}).catch(()=>{u.value=[]}).finally(()=>{l.value=!1}))}return(_,k)=>{const E=ia("el-option"),R=ia("el-option-group");return Pr(),Wi(io(gSe),Od(_.$attrs,{key:f.value,"model-value":_.modelValue,clearable:_.clearable,filterable:_.filterable,remote:_.remote,"remote-method":b,multiple:_.multiple,loading:l.value,onChange:y}),{default:go(()=>[_.group?(Pr(!0),Hi(af,{key:0},H2(u.value,I=>(Pr(),Wi(R,{key:I[g.value.value],label:I.label||""},{default:go(()=>[(Pr(!0),Hi(af,null,H2(I.options,z=>(Pr(),Wi(E,{key:z[g.value.value],label:z[g.value.label],value:z[g.value.value],disabled:z.disabled},{default:go(()=>[xl(_.$slots,"default",K2(jN(z)))]),_:2},1032,["label","value","disabled"]))),128))]),_:2},1032,["label"]))),128)):(Pr(!0),Hi(af,{key:1},H2(u.value,I=>(Pr(),Wi(E,{key:I[g.value.value],label:I[g.value.label],value:I[g.value.value],disabled:I.disabled},{default:go(()=>[xl(_.$slots,"default",K2(jN(I)))]),_:2},1032,["label","value","disabled"]))),128))]),_:3},16,["model-value","clearable","filterable","remote","multiple","loading"])}}}),oYe=cf(rYe),iYe=Wa({name:"ProCheckboxGroup",__name:"pro-checkbox-group",props:{modelValue:{},options:{default:()=>[]},size:{},tag:{default:"checkbox"},onChange:{}},emits:["update:model-value","change"],setup(n,{emit:e}){const t={"checkbox-button":ySe,checkbox:bSe},r=e,i=(...u)=>{r("update:model-value",u[0]),r("change",...u)};return(u,l)=>{const f=ia("el-checkbox-group");return Pr(),Wi(f,Od(u.$attrs,{"model-value":u.modelValue,onChange:i}),{default:go(()=>[(Pr(!0),Hi(af,null,H2(u.options,h=>(Pr(),Wi(n_(t[u.tag]),{key:h.value,label:h.value,disabled:h.disabled},{default:go(()=>[xl(u.$slots,"default",K2(jN(h)),()=>[qf(Ch(h.label),1)])]),_:2},1032,["label","disabled"]))),128))]),_:3},16,["model-value"])}}}),aYe=cf(iYe),uYe=Wa({name:"ProRadioGroup",__name:"pro-radio-group",props:{modelValue:{},options:{default:()=>[]},size:{},tag:{default:"radio"}},emits:["update:model-value","change"],setup(n,{emit:e}){const t={"radio-button":xSe,radio:wSe},r=e,i=(...u)=>{r("update:model-value",u[0]),r("change",...u)};return(u,l)=>{const f=ia("el-radio-group");return Pr(),Wi(f,Od(u.$attrs,{"model-value":u.modelValue,onChange:i}),{default:go(()=>[(Pr(!0),Hi(af,null,H2(u.options,h=>(Pr(),Wi(n_(t[u.tag]),{key:h.value,label:h.value,disabled:h.disabled},{default:go(()=>[xl(u.$slots,"default",K2(jN(h)),()=>[qf(Ch(h.label),1)])]),_:2},1032,["label","disabled"]))),128))]),_:3},16,["model-value"])}}}),sYe=cf(uYe),lYe=Wa({name:"ProConfigProvider",__name:"pro-config-provider",props:{proTable:{}},setup(n){return vN(Nde,sSe(n)),(e,t)=>xl(e.$slots,"default")}}),cYe=cf(lYe),fYe={class:"el-upload__tip"},dYe=Wa({name:"ProUpload",__name:"upload",props:{limit:{default:1/0},listType:{default:"text"},multiple:{type:Boolean},drag:{type:Boolean},showFileList:{type:Boolean},accept:{},onExceed:{},onSuccess:{},autoUpload:{type:Boolean,default:!0},httpRequest:{},disabled:{type:Boolean},modelValue:{default:()=>[]},size:{default:1024*1024*20}},emits:["change","update:model-value"],setup(n,{emit:e}){const t=n,r=e,i=Th({visible:!1,src:""}),u=Ao([]);su(()=>t.modelValue,k=>{u.value=k},{immediate:!0}),su(()=>i.visible,k=>{k?document.body.classList.add("uplode-viewer--hidden"):document.body.classList.remove("uplode-viewer--hidden")});const l=()=>{const k=[];return t.accept&&k.push(t.accept),t.size&&k.push(`文件大小不超过 ${JSe(t.size)}`),k.join(",")},f=k=>t.httpRequest?t.httpRequest(k):Promise.reject("upload error"),h=(k,E)=>{r("change",k,E),r("update:model-value",E)},g=k=>{var E;if(!k.raw)return;const R=new Blob([k.raw],{type:(E=k.raw)==null?void 0:E.type});i.src=URL.createObjectURL(R),i.visible=!0},y=(k,E,R)=>{if(t.onSuccess){t.onSuccess(k,E,R);return}},b=(k,E)=>{var R;if(t.onExceed){(R=t.onExceed)==null||R.call(t,k,E);return}},S=()=>{i.visible=!1},_=()=>!(t.limit&&u.value.length<t.limit);return(k,E)=>{const R=ia("el-button");return Pr(),Hi(af,null,[Co(io(SSe),Od({"file-list":u.value,"onUpdate:fileList":E[0]||(E[0]=I=>u.value=I),"on-success":y,"http-request":f,"on-preview":g,"on-exceed":b,multiple:k.multiple,limit:k.limit,"list-type":k.listType,drag:k.drag,class:["upload",_()?"hide-trigger":""],"auto-upload":k.autoUpload,accept:k.accept},k.$attrs,{onChange:h}),{file:go(({file:I})=>[xl(k.$slots,"file",{file:I},void 0,!0)]),tip:go(()=>[xl(k.$slots,"tip",{},()=>[Ia("div",fYe,Ch(l()),1)],!0)]),default:go(()=>[_()?oa("v-if",!0):xl(k.$slots,"default",{key:0},()=>[Co(R,{icon:io(_Se),type:"primary"},{default:go(()=>[qf("上传")]),_:1},8,["icon"])],!0)]),_:3},16,["file-list","multiple","limit","list-type","drag","class","auto-upload","accept"]),i.visible?(Pr(),Wi(io(CSe),{key:0,"url-list":[i.src],onClose:S},null,8,["url-list"])):oa("v-if",!0)],64)}}}),hYe=Xf(dYe,[["__scopeId","data-v-ddf96e64"]]),pYe=cf(hYe),NYe=Object.freeze(Object.defineProperty({__proto__:null,Density:_de,DragSortTable:L5e,EchartsRenderer:HXe,EditableProTable:H5e,FadeTransition:NEe,IframePage:KSe,LANGS:oZ,OUTPUT_FORMAT:Tde,PageCard:hEe,PageWrapper:gEe,ProCheckboxGroup:aYe,ProConfigProvider:cYe,ProForm:nYe,ProIcon:EEe,ProRadioGroup:sYe,ProSelect:oYe,ProTable:Vde,ProTinymce:FEe,THEME_MODE:RV,TOOLBAR:Cde,Tree:yEe,Upload:pYe,tinymceProps:Mde,useProForm:qRe,useProTable:mee},Symbol.toStringTag,{value:"Module"}));export{RYe as A,pYe as B,YOe as C,PYe as D,H4e as E,mee as F,SYe as G,oK as H,CYe as I,ede as J,yYe as K,_Ye as L,bYe as M,N3 as N,nYe as O,xYe as P,M3 as Q,K7 as R,H5e as S,OYe as T,KSe as U,vYe as V,Vde as W,NYe as X,dRe as Z,DYe as _,NEe as a,$he as b,EYe as c,EEe as d,IYe as e,HRe as f,TYe as g,_ee as h,tpe as i,FXe as j,vhe as k,hEe as l,MYe as m,gEe as n,mZ as o,cf as p,FEe as q,Xf as r,qRe as s,dee as t,Qfe as u,yEe as v,L5e as w,AYe as x,kYe as y,wYe as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/basic-layout-c87db05f.8V9ZLwW0.js","assets/chunks/framework.kGBdJdCt.js","assets/app.4OzQX80d.js","assets/chunks/theme.IDZC-AZR.js","assets/chunks/index-f62365c4.uRTyQ08r.js","assets/chunks/echarts-04c16a48.0UsEAswU.js","assets/chunks/pro-table-page-520f3d12.j-efUgJL.js","assets/chunks/pro-table-edit-bdc92476.LMj7A-NK.js","assets/chunks/editable-pro-table-0bcbc36e.2HU2Y5Sh.js","assets/chunks/drag-sort-table-72a3a776.QCvo3ALh.js","assets/chunks/rich-editor-0debf4d8.sQ0SwpYx.js","assets/chunks/pro-form-bcbafcbe.Qczh7s9Q.js","assets/chunks/pro-form-ref-69f5014c.jGJFSUim.js","assets/chunks/dynamic-db80c851.9Euk_gyw.js","assets/chunks/modal-form-a58cdde7.-6UqQ_qe.js","assets/chunks/drawer-form-e55d305f.aQiv75LG.js","assets/chunks/steps-form-e9e1a4a9.Svd-LuHQ.js","assets/chunks/Upload-5eae2a5d.PWWVmev-.js","assets/chunks/anchor-demo-a32cd598.DTFGDA7o.js","assets/chunks/segmented-7aa56383.MHMO7lJO.js","assets/chunks/context-menu-5f5f5fa9.8anw1Ltn.js","assets/chunks/tree-select-cb6625df.Cip31mUa.js","assets/chunks/tree-009bc3ff.tT5ZXXsm.js","assets/chunks/error-404-830ba0bf.TVWcx1fv.js","assets/chunks/error-403-4853ddff.9RUjgWbF.js","assets/chunks/watermark-e536771f.ijAm-YKK.js","assets/chunks/qrcode-fc87a38f.7eHHzhIx.js","assets/chunks/tab-page-dafc2a4a.GX9nbC8L.js","assets/chunks/use-tabs-2c035dc0.qVDPHtix.js","assets/chunks/detail-f1d2198c.dcBqAlk-.js","assets/chunks/image-viwer-20c104ce.chJg8nL4.js","assets/chunks/message-76c8794f.bxI6Y34J.js","assets/chunks/encrypt-aba09083.VBY51IcY.js","assets/chunks/print-b42217ba.Iczglvda.js","assets/chunks/html2canvas.esm-1a1724a1.715FhcXw.js","assets/chunks/excel-b1d0ab02.C_l5S6pI.js","assets/chunks/index-8da3eede.xmckvDwl.js","assets/chunks/mutiple-header-c171983b.KbtnOfdF.js","assets/chunks/import-f785c59a.POf3O1Xt.js","assets/chunks/html-to-docx-77a9e43f.dDxFN7W1.js","assets/chunks/index-c6368b41.HIoBPkOL.js","assets/chunks/template-e10af6b6.U-jrtTwb.js","assets/chunks/WelcomeTo-8756d6a5.aYtfXDEb.js","assets/chunks/modal-e6b3f9ce.3cBveGKo.js","assets/chunks/iframe-6b058708.gI8OZSIV.js","assets/chunks/DayJs-58f2ea87.AbwLRtwT.js","assets/chunks/CanvsToPdf-927d4378.Ngu24_2z.js","assets/chunks/menu-e6046c62.MguDw34S.js","assets/chunks/login-f04f989c.cezkCWQ1.js","assets/chunks/redirect-6964838b.no_Lz9Co.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
