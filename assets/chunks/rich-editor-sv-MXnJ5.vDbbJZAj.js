import{ab as R$,z as bL,a as yL,n as A$,b as mL,W as gL,K as wE,a5 as B$,a6 as z$,aj as wR,x as pL,y as N$,ae as P$,ak as F$,B as kP,o as L$,X as hL,m as I$,q as H$,al as V$}from"./index.CXx_r3g5.js";import"./framework.CtQlGyLl.js";import"./theme.lKphzJcC.js";var xL={exports:{}};(function(vr){(function(){var Ge=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var e=typeof t;return e==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":e==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":e},Ae=function(t){return["undefined","boolean","number","string","function","xml","null"].indexOf(t)!==-1},cr=function(t,e){var o=Array.prototype.slice.call(t);return o.sort(e)},Ce=function(t,e){return De(function(o,a){return t.eq(e(o),e(a))})},De=function(t){return{eq:t}},Be=De(function(t,e){return t===e}),Ne=Be,ce=function(t){return De(function(e,o){if(e.length!==o.length)return!1;for(var a=e.length,c=0;c<a;c++)if(!t.eq(e[c],o[c]))return!1;return!0})},Or=function(t,e){return Ce(ce(t),function(o){return cr(o,e)})},Wn=function(t){return De(function(e,o){var a=Object.keys(e),c=Object.keys(o);if(!Or(Ne).eq(a,c))return!1;for(var f=a.length,p=0;p<f;p++){var b=a[p];if(!t.eq(e[b],o[b]))return!1}return!0})},Bt=De(function(t,e){if(t===e)return!0;var o=Ge(t),a=Ge(e);return o!==a?!1:Ae(o)?t===e:o==="array"?ce(Bt).eq(t,e):o==="object"?Wn(Bt).eq(t,e):!1}),_n=function(t){var e=typeof t;return t===null?"null":e==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":e==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":e},on=function(t){return function(e){return _n(e)===t}},It=function(t){return function(e){return typeof e===t}},At=function(t){return function(e){return t===e}},Sn=on("string"),Xt=on("object"),fe=on("array"),X=At(null),Yt=It("boolean"),un=At(void 0),tr=function(t){return t==null},Me=function(t){return!tr(t)},Ft=It("function"),xn=It("number"),en=function(){},pn=function(t,e){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return t(e.apply(null,o))}},J=function(t,e){return function(o){return t(e(o))}},H=function(t){return function(){return t}},fn=function(t){return t},Ke=function(t,e){return t===e};function Cn(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var f=e.concat(a);return t.apply(null,f)}}var br=function(t){return function(e){return!t(e)}},ar=function(t){return function(){throw new Error(t)}},D=function(t){return t()},Dn=function(t){t()},Lt=H(!1),An=H(!0),$t=function(){return oe},oe=function(){var t=function(a){return a()},e=fn,o={fold:function(a,c){return a()},isSome:Lt,isNone:An,getOr:e,getOrThunk:t,getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:H(null),getOrUndefined:H(void 0),or:e,orThunk:t,map:$t,each:en,bind:$t,exists:Lt,forall:An,filter:function(){return $t()},toArray:function(){return[]},toString:H("none()")};return o}(),Pn=function(t){var e=H(t),o=function(){return c},a=function(f){return f(t)},c={fold:function(f,p){return p(t)},isSome:An,isNone:Lt,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:o,orThunk:o,map:function(f){return Pn(f(t))},each:function(f){f(t)},bind:a,exists:a,forall:a,filter:function(f){return f(t)?c:oe},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return c},ie=function(t){return t==null?oe:Pn(t)},K={some:Pn,none:$t,from:ie},xr=Array.prototype.slice,Zt=Array.prototype.indexOf,Pt=Array.prototype.push,ye=function(t,e){return Zt.call(t,e)},Ot=function(t,e){var o=ye(t,e);return o===-1?K.none():K.some(o)},Dt=function(t,e){return ye(t,e)>-1},Qt=function(t,e){for(var o=0,a=t.length;o<a;o++){var c=t[o];if(e(c,o))return!0}return!1},jn=function(t,e){for(var o=t.length,a=new Array(o),c=0;c<o;c++){var f=t[c];a[c]=e(f,c)}return a},nn=function(t,e){for(var o=0,a=t.length;o<a;o++){var c=t[o];e(c,o)}},kn=function(t,e){for(var o=t.length-1;o>=0;o--){var a=t[o];e(a,o)}},Ye=function(t,e){for(var o=[],a=[],c=0,f=t.length;c<f;c++){var p=t[c],b=e(p,c)?o:a;b.push(p)}return{pass:o,fail:a}},pt=function(t,e){for(var o=[],a=0,c=t.length;a<c;a++){var f=t[a];e(f,a)&&o.push(f)}return o},sn=function(t,e,o){return kn(t,function(a,c){o=e(o,a,c)}),o},le=function(t,e,o){return nn(t,function(a,c){o=e(o,a,c)}),o},zn=function(t,e,o){for(var a=0,c=t.length;a<c;a++){var f=t[a];if(e(f,a))return K.some(f);if(o(f,a))break}return K.none()},Ue=function(t,e){return zn(t,e,Lt)},er=function(t,e){for(var o=0,a=t.length;o<a;o++){var c=t[o];if(e(c,o))return K.some(o)}return K.none()},qr=function(t){for(var e=[],o=0,a=t.length;o<a;++o){if(!fe(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);Pt.apply(e,t[o])}return e},ao=function(t,e){return qr(jn(t,e))},ko=function(t,e){for(var o=0,a=t.length;o<a;++o){var c=t[o];if(e(c,o)!==!0)return!1}return!0},Xn=function(t){var e=xr.call(t,0);return e.reverse(),e},Jn=function(t,e){return pt(t,function(o){return!Dt(e,o)})},En=function(t,e){for(var o={},a=0,c=t.length;a<c;a++){var f=t[a];o[String(f)]=e(f,a)}return o},zt=function(t,e){var o=xr.call(t,0);return o.sort(e),o},jt=function(t,e){return e>=0&&e<t.length?K.some(t[e]):K.none()},qn=function(t){return jt(t,0)},xe=function(t){return jt(t,t.length-1)},Qn=Ft(Array.from)?Array.from:function(t){return xr.call(t)},Mt=function(t,e){for(var o=0;o<t.length;o++){var a=e(t[o],o);if(a.isSome())return a}return K.none()},Fn=Object.keys,me=Object.hasOwnProperty,te=function(t,e){for(var o=Fn(t),a=0,c=o.length;a<c;a++){var f=o[a],p=t[f];e(p,f)}},Ie=function(t,e){return ht(t,function(o,a){return{k:a,v:e(o,a)}})},ht=function(t,e){var o={};return te(t,function(a,c){var f=e(a,c);o[f.k]=f.v}),o},dn=function(t){return function(e,o){t[o]=e}},tn=function(t,e,o,a){var c={};return te(t,function(f,p){(e(f,p)?o:a)(f,p)}),c},Hn=function(t,e){var o={},a={};return tn(t,e,dn(o),dn(a)),{t:o,f:a}},Pe=function(t,e){var o={};return tn(t,e,dn(o),en),o},Er=function(t,e){var o=[];return te(t,function(a,c){o.push(e(a,c))}),o},Eo=function(t){return Er(t,fn)},_r=function(t,e){return Rr(t,e)?K.from(t[e]):K.none()},Rr=function(t,e){return me.call(t,e)},Bo=function(t,e){return Rr(t,e)&&t[e]!==void 0&&t[e]!==null},Mi=function(t,e,o){return o===void 0&&(o=Bt),Wn(o).eq(t,e)},oi=Array.isArray,Wo=function(t){if(oi(t))return t;for(var e=[],o=0,a=t.length;o<a;o++)e[o]=t[o];return e},ci=function(t,e,o){var a,c;if(!t)return!1;if(o=o||t,t.length!==void 0){for(a=0,c=t.length;a<c;a++)if(e.call(o,t[a],a,t)===!1)return!1}else for(a in t)if(Rr(t,a)&&e.call(o,t[a],a,t)===!1)return!1;return!0},Fi=function(t,e){var o=[];return ci(t,function(a,c){o.push(e(a,c,t))}),o},di=function(t,e){var o=[];return ci(t,function(a,c){(!e||e(a,c,t))&&o.push(a)}),o},ti=function(t,e){if(t){for(var o=0,a=t.length;o<a;o++)if(t[o]===e)return o}return-1},Li=function(t,e,o,a){for(var c=un(o)?t[0]:o,f=0;f<t.length;f++)c=e.call(a,c,t[f],f);return c},Jr=function(t,e,o){var a,c;for(a=0,c=t.length;a<c;a++)if(e.call(o,t[a],a,t))return a;return-1},Ii=function(t){return t[t.length-1]},Ze=function(){return Ze=Object.assign||function(t){for(var e,o=1,a=arguments.length;o<a;o++){e=arguments[o];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c])}return t},Ze.apply(this,arguments)};function Na(t,e){var o={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(t);c<a.length;c++)e.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(t,a[c])&&(o[a[c]]=t[a[c]]);return o}function Ei(t,e,o){if(o||arguments.length===2)for(var a=0,c=e.length,f;a<c;a++)(f||!(a in e))&&(f||(f=Array.prototype.slice.call(e,0,a)),f[a]=e[a]);return t.concat(f||Array.prototype.slice.call(e))}var Wi=function(t){var e=!1,o;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return e||(e=!0,o=t.apply(null,a)),o}},hi=function(t,e,o,a){var c=t.isiOS()&&/ipad/i.test(o)===!0,f=t.isiOS()&&!c,p=t.isiOS()||t.isAndroid(),b=p||a("(pointer:coarse)"),w=c||!f&&p&&a("(min-device-width:768px)"),_=f||p&&!w,F=e.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,I=!_&&!w&&!F;return{isiPad:H(c),isiPhone:H(f),isTablet:H(w),isPhone:H(_),isTouch:H(b),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:H(F),isDesktop:H(I)}},Qi=function(t,e){for(var o=0;o<t.length;o++){var a=t[o];if(a.test(e))return a}},Pa=function(t,e){var o=Qi(t,e);if(!o)return{major:0,minor:0};var a=function(c){return Number(e.replace(o,"$"+c))};return ot(a(1),a(2))},Zi=function(t,e){var o=String(e).toLowerCase();return t.length===0?du():Pa(t,o)},du=function(){return ot(0,0)},ot=function(t,e){return{major:t,minor:e}},xt={nu:ot,detect:Zi,unknown:du},st=function(t,e){return Mt(e.brands,function(o){var a=o.brand.toLowerCase();return Ue(t,function(c){var f;return a===((f=c.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(c){return{current:c.name,version:xt.nu(parseInt(o.version,10),0)}})})},Gt=function(t,e){var o=String(e).toLowerCase();return Ue(t,function(a){return a.search(o)})},pe=function(t,e){return Gt(t,e).map(function(o){var a=xt.detect(o.versionRegexes,e);return{current:o.name,version:a}})},He=function(t,e){return Gt(t,e).map(function(o){var a=xt.detect(o.versionRegexes,e);return{current:o.name,version:a}})},nt=function(t,e){return t.substring(e)},dt=function(t,e,o){return e===""||t.length>=e.length&&t.substr(o,o+e.length)===e},Kt=function(t,e){return P(t,e)?nt(t,e.length):t},Tn=function(t,e){return t.indexOf(e)!==-1},P=function(t,e){return dt(t,e,0)},Y=function(t){return function(e){return e.replace(t,"")}},ft=Y(/^\s+|\s+$/g),St=Y(/^\s+/g),Ut=Y(/\s+$/g),qt=function(t){return t.length>0},de=function(t){return!qt(t)},Ee=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fr=function(t){return function(e){return Tn(e,t)}},Jt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Tn(t,"edge/")&&Tn(t,"chrome")&&Tn(t,"safari")&&Tn(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ee],search:function(t){return Tn(t,"chrome")&&!Tn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Tn(t,"msie")||Tn(t,"trident")}},{name:"Opera",versionRegexes:[Ee,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fr("firefox")},{name:"Safari",versionRegexes:[Ee,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Tn(t,"safari")||Tn(t,"mobile/"))&&Tn(t,"applewebkit")}}],rr=[{name:"Windows",search:fr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Tn(t,"iphone")||Tn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:fr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fr("linux"),versionRegexes:[]},{name:"Solaris",search:fr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],zr={browsers:H(Jt),oses:H(rr)},wo="Edge",mi="Chrome",jr="IE",Ou="Opera",mu="Firefox",si="Safari",vc=function(){return ga({current:void 0,version:xt.unknown()})},ga=function(t){var e=t.current,o=t.version,a=function(c){return function(){return e===c}};return{current:e,version:o,isEdge:a(wo),isChrome:a(mi),isIE:a(jr),isOpera:a(Ou),isFirefox:a(mu),isSafari:a(si)}},Oa={unknown:vc,nu:ga,edge:H(wo),chrome:H(mi),ie:H(jr),opera:H(Ou),firefox:H(mu),safari:H(si)},Lo="Windows",bc="iOS",Fu="Android",tc="Linux",Hc="OSX",Ea="Solaris",Ya="FreeBSD",Vc="ChromeOS",Fa=function(){return _a({current:void 0,version:xt.unknown()})},_a=function(t){var e=t.current,o=t.version,a=function(c){return function(){return e===c}};return{current:e,version:o,isWindows:a(Lo),isiOS:a(bc),isAndroid:a(Fu),isOSX:a(Hc),isLinux:a(tc),isSolaris:a(Ea),isFreeBSD:a(Ya),isChromeOS:a(Vc)}},W={unknown:Fa,nu:_a,windows:H(Lo),ios:H(bc),android:H(Fu),linux:H(tc),osx:H(Hc),solaris:H(Ea),freebsd:H(Ya),chromeos:H(Vc)},bt=function(t,e,o){var a=zr.browsers(),c=zr.oses(),f=e.bind(function(w){return st(a,w)}).orThunk(function(){return pe(a,t)}).fold(Oa.unknown,Oa.nu),p=He(c,t).fold(W.unknown,W.nu),b=hi(p,f,t,o);return{browser:f,os:p,deviceType:b}},Vt={detect:bt},Mn=function(t){return window.matchMedia(t).matches},ae=Wi(function(){return Vt.detect(navigator.userAgent,K.from(navigator.userAgentData),Mn)}),ur=function(){return ae()},yo=navigator.userAgent,_o=ur(),Gr=_o.browser,Vo=_o.os,ni=_o.deviceType,Lu=/WebKit/.test(yo)&&!Gr.isEdge(),qi="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Eu=yo.indexOf("Windows Phone")!==-1,mr={opera:Gr.isOpera(),webkit:Lu,ie:Gr.isIE()||Gr.isEdge()?Gr.version.major:!1,gecko:Gr.isFirefox(),mac:Vo.isOSX()||Vo.isiOS(),iOS:ni.isiPad()||ni.isiPhone(),android:Vo.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Gr.isIE()?document.documentMode||7:10,fileApi:qi,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Gr.isIE(),desktop:ni.isDesktop(),windowsPhone:Eu,browser:{current:Gr.current,version:Gr.version,isChrome:Gr.isChrome,isEdge:Gr.isEdge,isFirefox:Gr.isFirefox,isIE:Gr.isIE,isOpera:Gr.isOpera,isSafari:Gr.isSafari},os:{current:Vo.current,version:Vo.version,isAndroid:Vo.isAndroid,isChromeOS:Vo.isChromeOS,isFreeBSD:Vo.isFreeBSD,isiOS:Vo.isiOS,isLinux:Vo.isLinux,isOSX:Vo.isOSX,isSolaris:Vo.isSolaris,isWindows:Vo.isWindows},deviceType:{isDesktop:ni.isDesktop,isiPad:ni.isiPad,isiPhone:ni.isiPhone,isPhone:ni.isPhone,isTablet:ni.isTablet,isTouch:ni.isTouch,isWebView:ni.isWebView}},nc=/^\s*|\s*$/g,Ys=function(t){return t==null?"":(""+t).replace(nc,"")},so=function(t,e){return e?e==="array"&&oi(t)?!0:typeof t===e:t!==void 0},Ss=function(t,e,o){var a;for(t=t||[],e=e||",",typeof t=="string"&&(t=t.split(e)),o=o||{},a=t.length;a--;)o[t[a]]={};return o},ks=Rr,El=function(t,e,o){var a=this,c,f,p,b=0;t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t);var w=t[3].match(/(^|\.)(\w+)$/i)[2],_=a.createNS(t[3].replace(/\.\w+$/,""),o);if(!_[w]){if(t[2]==="static"){_[w]=e,this.onCreate&&this.onCreate(t[2],t[3],_[w]);return}e[w]||(e[w]=function(){},b=1),_[w]=e[w],a.extend(_[w].prototype,e),t[5]&&(c=a.resolve(t[5]).prototype,f=t[5].match(/\.(\w+)$/i)[1],p=_[w],b?_[w]=function(){return c[f].apply(this,arguments)}:_[w]=function(){return this.parent=c[f],p.apply(this,arguments)},_[w].prototype[w]=_[w],a.each(c,function(F,I){_[w].prototype[I]=c[I]}),a.each(e,function(F,I){c[I]?_[w].prototype[I]=function(){return this.parent=c[I],F.apply(this,arguments)}:I!==w&&(_[w].prototype[I]=F)})),a.each(e.static,function(F,I){_[w][I]=F})}},zo=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var a=0;a<e.length;a++){var c=e[a];for(var f in c)if(Rr(c,f)){var p=c[f];p!==void 0&&(t[f]=p)}}return t},Qa=function(t,e,o,a){a=a||this,t&&(o&&(t=t[o]),ci(t,function(c,f){if(e.call(a,c,f,o)===!1)return!1;Qa(c,e,o,a)}))},cf=function(t,e){var o,a;for(e=e||window,t=t.split("."),o=0;o<t.length;o++)a=t[o],e[a]||(e[a]={}),e=e[a];return e},gu=function(t,e){var o,a;for(e=e||window,t=t.split("."),o=0,a=t.length;o<a&&(e=e[t[o]],!!e);o++);return e},vi=function(t,e){return!t||so(t,"array")?t:Fi(t.split(e||","),Ys)},yc=function(t){var e=mr.cacheSuffix;return e&&(t+=(t.indexOf("?")===-1?"?":"&")+e),t},hn={trim:Ys,isArray:oi,is:so,toArray:Wo,makeMap:Ss,each:ci,map:Fi,grep:di,inArray:ti,hasOwn:ks,extend:zo,create:El,walk:Qa,createNS:cf,resolve:gu,explode:vi,_addCacheSuffix:yc},Uc=function(t,e){var o=e||document,a=o.createElement("div");if(a.innerHTML=t,!a.hasChildNodes()||a.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ec(a.childNodes[0])},bi=function(t,e){var o=e||document,a=o.createElement(t);return ec(a)},Qs=function(t,e){var o=e||document,a=o.createTextNode(t);return ec(a)},ec=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},B=function(t,e,o){return K.from(t.dom.elementFromPoint(e,o)).map(ec)},k={fromHtml:Uc,fromTag:bi,fromText:Qs,fromDom:ec,fromPoint:B},x=function(t,e){var o=[],a=function(f){return o.push(f),e(f)},c=e(t);do c=c.bind(a);while(c.isSome());return o},M=function(t,e,o){return(t.compareDocumentPosition(e)&o)!==0},U=function(t,e){return M(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)},rt=8,Rt=9,Ln=11,nr=1,gr=3,be=function(t,e){var o=t.dom;if(o.nodeType!==nr)return!1;var a=o;if(a.matches!==void 0)return a.matches(e);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(e);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(e);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Xe=function(t){return t.nodeType!==nr&&t.nodeType!==Rt&&t.nodeType!==Ln||t.childElementCount===0},Ir=function(t,e){var o=e===void 0?document:e.dom;return Xe(o)?[]:jn(o.querySelectorAll(t),k.fromDom)},Hr=function(t,e){var o=e===void 0?document:e.dom;return Xe(o)?K.none():K.from(o.querySelector(t)).map(k.fromDom)},Mr=function(t,e){return t.dom===e.dom},Xo=function(t,e){var o=t.dom,a=e.dom;return o===a?!1:o.contains(a)},Cr=function(t,e){return U(t.dom,e.dom)},No=function(t,e){return ur().browser.isIE()?Cr(t,e):Xo(t,e)};typeof window<"u"||Function("return this;")();var Do=function(t){var e=t.dom.nodeName;return e.toLowerCase()},pa=function(t){return t.dom.nodeType},Kr=function(t){return function(e){return pa(e)===t}},xc=function(t){return pa(t)===rt||Do(t)==="#comment"},yi=Kr(nr),_i=Kr(gr),bv=Kr(Rt),La=Kr(Ln),Dp=function(t){return function(e){return yi(e)&&Do(e)===t}},Ts=function(t){return k.fromDom(t.dom.ownerDocument)},Br=function(t){return bv(t)?t:Ts(t)},wc=function(t){return k.fromDom(Br(t).dom.documentElement)},Ri=function(t){return k.fromDom(Br(t).dom.defaultView)},Ai=function(t){return K.from(t.dom.parentNode).map(k.fromDom)},ha=function(t,e){for(var o=Ft(e)?e:Lt,a=t.dom,c=[];a.parentNode!==null&&a.parentNode!==void 0;){var f=a.parentNode,p=k.fromDom(f);if(c.push(p),o(p)===!0)break;a=f}return c},ta=function(t){var e=function(o){return pt(o,function(a){return!Mr(t,a)})};return Ai(t).map(_u).map(e).getOr([])},sf=function(t){return K.from(t.dom.previousSibling).map(k.fromDom)},$c=function(t){return K.from(t.dom.nextSibling).map(k.fromDom)},Mo=function(t){return Xn(x(t,sf))},li=function(t){return x(t,$c)},_u=function(t){return jn(t.dom.childNodes,k.fromDom)},Zs=function(t,e){var o=t.dom.childNodes;return K.from(o[e]).map(k.fromDom)},ua=function(t){return Zs(t,0)},Cc=function(t){return Zs(t,t.dom.childNodes.length-1)},yv=function(t){return t.dom.childNodes.length},lf=function(t){var e=t.dom.head;if(e==null)throw new Error("Head is not available yet");return k.fromDom(e)},Jo=function(t){return La(t)&&Me(t.dom.host)},es=Ft(Element.prototype.attachShadow)&&Ft(Node.prototype.getRootNode),_l=H(es),Iu=es?function(t){return k.fromDom(t.dom.getRootNode())}:Br,Hi=function(t){return Jo(t)?t:lf(Br(t))},Dl=function(t){var e=Iu(t);return Jo(e)?K.some(e):K.none()},tl=function(t){return k.fromDom(t.dom.host)},pu=function(t){if(_l()&&Me(t.target)){var e=k.fromDom(t.target);if(yi(e)&&Hu(e)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return qn(o)}}return K.from(t.target)},Hu=function(t){return Me(t.dom.shadowRoot)},Za=function(t,e){var o=Ai(t);o.each(function(a){a.dom.insertBefore(e.dom,t.dom)})},Qf=function(t,e){var o=$c(t);o.fold(function(){var a=Ai(t);a.each(function(c){va(c,e)})},function(a){Za(a,e)})},rs=function(t,e){var o=ua(t);o.fold(function(){va(t,e)},function(a){t.dom.insertBefore(e.dom,a.dom)})},va=function(t,e){t.dom.appendChild(e.dom)},Zd=function(t,e){Za(t,e),va(e,t)},xv=function(t,e){nn(e,function(o){Za(t,o)})},ff=function(t,e){nn(e,function(o){va(t,o)})},df=function(t){t.dom.textContent="",nn(_u(t),function(e){Vi(e)})},Vi=function(t){var e=t.dom;e.parentNode!==null&&e.parentNode.removeChild(e)},mf=function(t){var e=_u(t);e.length>0&&xv(t,e),Vi(t)},gf=function(t){var e=_i(t)?t.dom.parentNode:t.dom;if(e==null||e.ownerDocument===null)return!1;var o=e.ownerDocument;return Dl(k.fromDom(e)).fold(function(){return o.body.contains(e)},J(gf,tl))},hu=function(t,e){var o=function(a,c){return hu(t+a,e+c)};return{left:t,top:e,translate:o}},nl=hu,pf=function(t){var e=t.getBoundingClientRect();return nl(e.left,e.top)},el=function(t,e){return t!==void 0?t:e!==void 0?e:0},wi=function(t){var e=t.dom.ownerDocument,o=e.body,a=e.defaultView,c=e.documentElement;if(o===t.dom)return nl(o.offsetLeft,o.offsetTop);var f=el(a==null?void 0:a.pageYOffset,c.scrollTop),p=el(a==null?void 0:a.pageXOffset,c.scrollLeft),b=el(c.clientTop,o.clientTop),w=el(c.clientLeft,o.clientLeft);return rc(t).translate(p-w,f-b)},rc=function(t){var e=t.dom,o=e.ownerDocument,a=o.body;return a===e?nl(a.offsetLeft,a.offsetTop):gf(t)?pf(e):nl(0,0)},lg=function(t){var e=t!==void 0?t.dom:document,o=e.body.scrollLeft||e.documentElement.scrollLeft,a=e.body.scrollTop||e.documentElement.scrollTop;return nl(o,a)},Sc=function(t,e,o){var a=o!==void 0?o.dom:document,c=a.defaultView;c&&c.scrollTo(t,e)},fg=function(t,e){var o=ur().browser.isSafari();o&&Ft(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)},wv=function(t){var e=t===void 0?window:t;return ur().browser.isFirefox()?K.none():K.from(e.visualViewport)},Mp=function(t,e,o,a){return{x:t,y:e,width:o,height:a,right:t+o,bottom:e+a}},hf=function(t){var e=t===void 0?window:t,o=e.document,a=lg(k.fromDom(o));return wv(e).fold(function(){var c=e.document.documentElement,f=c.clientWidth,p=c.clientHeight;return Mp(a.left,a.top,f,p)},function(c){return Mp(Math.max(c.pageLeft,a.left),Math.max(c.pageTop,a.top),c.width,c.height)})},vf=function(t){return function(e){return!!e&&e.nodeType===t}},Ml=function(t){return!!t&&!Object.getPrototypeOf(t)},Fr=vf(1),jc=function(t){var e=t.map(function(o){return o.toLowerCase()});return function(o){if(o&&o.nodeName){var a=o.nodeName.toLowerCase();return Dt(e,a)}return!1}},Vu=function(t,e){var o=e.toLowerCase().split(" ");return function(a){if(Fr(a))for(var c=0;c<o.length;c++){var f=a.ownerDocument.defaultView.getComputedStyle(a,null),p=f?f.getPropertyValue(t):null;if(p===o[c])return!0}return!1}},vu=function(t){return function(e){return Fr(e)&&e.hasAttribute(t)}},Wc=function(t,e){return function(o){return Fr(o)&&o.getAttribute(t)===e}},Gi=function(t){return Fr(t)&&t.hasAttribute("data-mce-bogus")},ba=function(t){return Fr(t)&&t.getAttribute("data-mce-bogus")==="all"},na=function(t){return Fr(t)&&t.tagName==="TABLE"},Rl=function(t){return function(e){return!!(Fr(e)&&(e.contentEditable===t||e.getAttribute("data-mce-contenteditable")===t))}},tu=jc(["textarea","input"]),je=vf(3),bf=vf(8),Rp=vf(9),Yr=vf(11),Yo=jc(["br"]),dg=jc(["img"]),Os=Rl("true"),xi=Rl("false"),mg=jc(["td","th"]),oc=jc(["video","audio","object","embed"]),tm=function(t,e,o){return o===void 0&&(o=Ke),t.exists(function(a){return o(a,e)})},to=function(t){for(var e=[],o=function(c){e.push(c)},a=0;a<t.length;a++)t[a].each(o);return e},Du=function(t,e,o){return t.isSome()&&e.isSome()?K.some(o(t.getOrDie(),e.getOrDie())):K.none()},U0=function(t,e,o,a){return t.isSome()&&e.isSome()&&o.isSome()?K.some(a(t.getOrDie(),e.getOrDie(),o.getOrDie())):K.none()},$0=function(t,e){return t?K.some(e):K.none()},Ci=function(t){return t.style!==void 0&&Ft(t.style.getPropertyValue)},gg=function(t,e,o){if(Sn(o)||Yt(o)||xn(o))t.setAttribute(e,o+"");else throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},E=function(t,e,o){gg(t.dom,e,o)},L=function(t,e){var o=t.dom;te(e,function(a,c){gg(o,c,a)})},j=function(t,e){var o=t.dom.getAttribute(e);return o===null?void 0:o},ct=function(t,e){return K.from(j(t,e))},Nt=function(t,e){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(e):!1},On=function(t,e){t.dom.removeAttribute(e)},ir=function(t){return le(t.dom.attributes,function(e,o){return e[o.name]=o.value,e},{})},Vr=function(t,e,o){if(!Sn(o))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Ci(t)&&t.style.setProperty(e,o)},lo=function(t,e){var o=t.dom;te(e,function(a,c){Vr(o,c,a)})},no=function(t,e){var o=t.dom,a=window.getComputedStyle(o),c=a.getPropertyValue(e);return c===""&&!gf(t)?ei(o,e):c},ei=function(t,e){return Ci(t)?t.style.getPropertyValue(e):""},nu=function(t,e){var o=t.dom,a=ei(o,e);return K.from(a).filter(function(c){return c.length>0})},Bi=function(t){var e={},o=t.dom;if(Ci(o))for(var a=0;a<o.style.length;a++){var c=o.style.item(a);e[c]=o.style[c]}return e},mk=function(t){return t.dom.offsetWidth},rx=ur().browser,ox=function(t){return Ue(t,yi)},gk=function(t){return rx.isFirefox()&&Do(t)==="table"?ox(_u(t)).filter(function(e){return Do(e)==="caption"}).bind(function(e){return ox(li(e)).map(function(o){var a=o.dom.offsetTop,c=e.dom.offsetTop,f=e.dom.offsetHeight;return a<=c?-f:0})}).getOr(0):0},rl=function(t,e){return t.children&&Dt(t.children,e)},Ap=function(t,e,o){var a=0,c=0,f=t.ownerDocument;if(o=o||t,e){if(o===t&&e.getBoundingClientRect&&no(k.fromDom(t),"position")==="static"){var p=e.getBoundingClientRect();return a=p.left+(f.documentElement.scrollLeft||t.scrollLeft)-f.documentElement.clientLeft,c=p.top+(f.documentElement.scrollTop||t.scrollTop)-f.documentElement.clientTop,{x:a,y:c}}for(var b=e;b&&b!==o&&b.nodeType&&!rl(b,o);){var w=b;a+=w.offsetLeft||0,c+=w.offsetTop||0,b=w.offsetParent}for(b=e.parentNode;b&&b!==o&&b.nodeType&&!rl(b,o);)a-=b.scrollLeft||0,c-=b.scrollTop||0,b=b.parentNode;c+=gk(k.fromDom(e))}return{x:a,y:c}},ic={},pg={exports:ic};(function(t,e,o,a){(function(c,f){typeof e=="object"&&typeof o<"u"?o.exports=f():typeof t=="function"&&t.amd?t(f):(c=typeof globalThis<"u"?globalThis:c||self,c.EphoxContactWrapper=f())})(this,function(){var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof wR<"u"?wR:typeof self<"u"?self:{},f={exports:{}};(function(_){(function(F){var I=setTimeout;function V(){}function Z(vt,Wt){return function(){vt.apply(Wt,arguments)}}function Q(vt){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof vt!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ht(vt,this)}function et(vt,Wt){for(;vt._state===3;)vt=vt._value;if(vt._state===0){vt._deferreds.push(Wt);return}vt._handled=!0,Q._immediateFn(function(){var yn=vt._state===1?Wt.onFulfilled:Wt.onRejected;if(yn===null){(vt._state===1?it:gt)(Wt.promise,vt._value);return}var ee;try{ee=yn(vt._value)}catch(hr){gt(Wt.promise,hr);return}it(Wt.promise,ee)})}function it(vt,Wt){try{if(Wt===vt)throw new TypeError("A promise cannot be resolved with itself.");if(Wt&&(typeof Wt=="object"||typeof Wt=="function")){var yn=Wt.then;if(Wt instanceof Q){vt._state=3,vt._value=Wt,mt(vt);return}else if(typeof yn=="function"){Ht(Z(yn,Wt),vt);return}}vt._state=1,vt._value=Wt,mt(vt)}catch(ee){gt(vt,ee)}}function gt(vt,Wt){vt._state=2,vt._value=Wt,mt(vt)}function mt(vt){vt._state===2&&vt._deferreds.length===0&&Q._immediateFn(function(){vt._handled||Q._unhandledRejectionFn(vt._value)});for(var Wt=0,yn=vt._deferreds.length;Wt<yn;Wt++)et(vt,vt._deferreds[Wt]);vt._deferreds=null}function wt(vt,Wt,yn){this.onFulfilled=typeof vt=="function"?vt:null,this.onRejected=typeof Wt=="function"?Wt:null,this.promise=yn}function Ht(vt,Wt){var yn=!1;try{vt(function(ee){yn||(yn=!0,it(Wt,ee))},function(ee){yn||(yn=!0,gt(Wt,ee))})}catch(ee){if(yn)return;yn=!0,gt(Wt,ee)}}Q.prototype.catch=function(vt){return this.then(null,vt)},Q.prototype.then=function(vt,Wt){var yn=new this.constructor(V);return et(this,new wt(vt,Wt,yn)),yn},Q.all=function(vt){var Wt=Array.prototype.slice.call(vt);return new Q(function(yn,ee){if(Wt.length===0)return yn([]);var hr=Wt.length;function Le(Ar,se){try{if(se&&(typeof se=="object"||typeof se=="function")){var Fe=se.then;if(typeof Fe=="function"){Fe.call(se,function(ue){Le(Ar,ue)},ee);return}}Wt[Ar]=se,--hr===0&&yn(Wt)}catch(ue){ee(ue)}}for(var Gn=0;Gn<Wt.length;Gn++)Le(Gn,Wt[Gn])})},Q.resolve=function(vt){return vt&&typeof vt=="object"&&vt.constructor===Q?vt:new Q(function(Wt){Wt(vt)})},Q.reject=function(vt){return new Q(function(Wt,yn){yn(vt)})},Q.race=function(vt){return new Q(function(Wt,yn){for(var ee=0,hr=vt.length;ee<hr;ee++)vt[ee].then(Wt,yn)})},Q._immediateFn=typeof setImmediate=="function"?function(vt){setImmediate(vt)}:function(vt){I(vt,0)},Q._unhandledRejectionFn=function(vt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",vt)},Q._setImmediateFn=function(vt){Q._immediateFn=vt},Q._setUnhandledRejectionFn=function(vt){Q._unhandledRejectionFn=vt},_.exports?_.exports=Q:F.Promise||(F.Promise=Q)})(c)})(f);var p=f.exports,b=function(){return typeof window<"u"?window:Function("return this;")()}(),w={boltExport:b.Promise||p};return w})})(void 0,ic,pg);var j0=pg.exports.boltExport,Bp=function(t){var e=K.none(),o=[],a=function(_){return Bp(function(F){c(function(I){F(_(I))})})},c=function(_){p()?w(_):o.push(_)},f=function(_){p()||(e=K.some(_),b(o),o=[])},p=function(){return e.isSome()},b=function(_){nn(_,w)},w=function(_){e.each(function(F){setTimeout(function(){_(F)},0)})};return t(f),{get:c,map:a,isReady:p}},Cv=function(t){return Bp(function(e){e(t)})},ix={nu:Bp,pure:Cv},pk=function(t){setTimeout(function(){throw t},0)},ol=function(t){var e=function(w){t().then(w,pk)},o=function(w){return ol(function(){return t().then(w)})},a=function(w){return ol(function(){return t().then(function(_){return w(_).toPromise()})})},c=function(w){return ol(function(){return t().then(function(){return w.toPromise()})})},f=function(){return ix.nu(e)},p=function(){var w=null;return ol(function(){return w===null&&(w=t()),w})},b=t;return{map:o,bind:a,anonBind:c,toLazy:f,toCached:p,toPromise:b,get:e}},zp=function(t){return ol(function(){return new j0(t)})},hk=function(t){return ol(function(){return j0.resolve(t)})},W0={nu:zp,pure:hk},vk=function(t,e){return e(function(o){var a=[],c=0,f=function(p){return function(b){a[p]=b,c++,c>=t.length&&o(a)}};t.length===0?o([]):nn(t,function(p,b){p.get(f(b))})})},bk=function(t){return vk(t,W0.nu)},hg=function(t){var e=function(I){return hg(t)},o=function(I){return hg(t)},a=function(I){return hg(I(t))},c=function(I){return hg(t)},f=function(I){I(t)},p=function(I){return I(t)},b=function(I,V){return V(t)},w=function(I){return I(t)},_=function(I){return I(t)},F=function(){return K.some(t)};return{isValue:An,isError:Lt,getOr:H(t),getOrThunk:H(t),getOrDie:H(t),or:e,orThunk:o,fold:b,map:a,mapError:c,each:f,bind:p,exists:w,forall:_,toOptional:F}},Np=function(t){var e=function(_){return _()},o=function(){return ar(String(t))()},a=fn,c=function(_){return _()},f=function(_){return Np(t)},p=function(_){return Np(_(t))},b=function(_){return Np(t)},w=function(_,F){return _(t)};return{isValue:Lt,isError:An,getOr:fn,getOrThunk:e,getOrDie:o,or:a,orThunk:c,fold:w,map:f,mapError:p,each:en,bind:b,exists:Lt,forall:An,toOptional:K.none}},ax=function(t,e){return t.fold(function(){return Np(e)},hg)},ux={value:hg,error:Np,fromOption:ax},kc=function(t){if(!fe(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var e=[],o={};return nn(t,function(a,c){var f=Fn(a);if(f.length!==1)throw new Error("one and only one name per case");var p=f[0],b=a[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!fe(b))throw new Error("case arguments must be an array");e.push(p),o[p]=function(){for(var w=[],_=0;_<arguments.length;_++)w[_]=arguments[_];var F=w.length;if(F!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+F);var I=function(V){var Z=Fn(V);if(e.length!==Z.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+`
Actual: `+Z.join(","));var Q=ko(e,function(et){return Dt(Z,et)});if(!Q)throw new Error("Not all branches were specified when using match. Specified: "+Z.join(", ")+`
Required: `+e.join(", "));return V[p].apply(null,w)};return{fold:function(){for(var V=[],Z=0;Z<arguments.length;Z++)V[Z]=arguments[Z];if(V.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+V.length);var Q=V[c];return Q.apply(null,w)},match:I,log:function(V){console.log(V,{constructors:e,constructor:p,params:w})}}}}),o},dr={generate:kc};dr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var yf=function(t){return t.fold(fn,fn)};function Pp(t,e,o,a,c){return t(o,a)?K.some(o):Ft(c)&&c(o)?K.none():e(o,a,c)}var Zf=function(t,e,o){for(var a=t.dom,c=Ft(o)?o:Lt;a.parentNode;){a=a.parentNode;var f=k.fromDom(a);if(e(f))return K.some(f);if(c(f))break}return K.none()},vg=function(t,e,o){var a=function(c,f){return f(c)};return Pp(a,Zf,t,e,o)},q0=function(t,e){var o=t.dom;return o.parentNode?Es(k.fromDom(o.parentNode),function(a){return!Mr(t,a)&&e(a)}):K.none()},Es=function(t,e){var o=function(c){return e(k.fromDom(c))},a=Ue(t.dom.childNodes,o);return a.map(k.fromDom)},nm=function(t,e,o){return Zf(t,function(a){return be(a,e)},o)},bg=function(t,e){return Hr(e,t)},Ki=function(t,e,o){var a=function(c,f){return be(c,f)};return Pp(a,nm,t,e,o)},Ia=window.Promise?window.Promise:j0,Fp,Al=function(t,e){for(var o=window.requestAnimationFrame,a=["ms","moz","webkit"],c=function(p){window.setTimeout(p,0)},f=0;f<a.length&&!o;f++)o=window[a[f]+"RequestAnimationFrame"];o||(o=c),o(t,e)},Lp=function(t,e){return typeof e!="number"&&(e=0),setTimeout(t,e)},Sv=function(t,e){return typeof e!="number"&&(e=1),setInterval(t,e)},kv=function(t){return clearTimeout(t)},yk=function(t){return clearInterval(t)},yg=function(t,e){var o,a=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];clearTimeout(o),o=Lp(function(){t.apply(this,c)},e)};return a.stop=function(){clearTimeout(o)},a},bu={requestAnimationFrame:function(t,e){if(Fp){Fp.then(t);return}Fp=new Ia(function(o){e||(e=document.body),Al(o,e)}).then(t)},setTimeout:Lp,setInterval:Sv,setEditorTimeout:function(t,e,o){return Lp(function(){t.removed||e()},o)},setEditorInterval:function(t,e,o){var a=Sv(function(){t.removed?clearInterval(a):e()},o);return a},debounce:yg,throttle:yg,clearInterval:yk,clearTimeout:kv},cx=function(t,e){e===void 0&&(e={});var o=0,a={},c=k.fromDom(t),f=Br(c),p=e.maxLoadTime||5e3,b=function(it){e.referrerPolicy=it},w=function(it){va(Hi(c),it)},_=function(it){var gt=Hi(c);bg(gt,"#"+it).each(Vi)},F=function(it){return _r(a,it).getOrThunk(function(){return{id:"mce-u"+o++,passed:[],failed:[],count:0}})},I=function(it,gt,mt){var wt,Ht=hn._addCacheSuffix(it),vt=F(Ht);a[Ht]=vt,vt.count++;var Wt=function(se,Fe){for(var ue=se.length;ue--;)se[ue]();vt.status=Fe,vt.passed=[],vt.failed=[],wt&&(wt.onload=null,wt.onerror=null,wt=null)},yn=function(){return Wt(vt.passed,2)},ee=function(){return Wt(vt.failed,3)},hr=function(se,Fe){se()||(Date.now()-Ar<p?bu.setTimeout(Fe):ee())},Le=function(){hr(function(){for(var se=t.styleSheets,Fe=se.length;Fe--;){var ue=se[Fe],Te=ue.ownerNode;if(Te&&Te.id===wt.id)return yn(),!0}return!1},Le)};if(gt&&vt.passed.push(gt),mt&&vt.failed.push(mt),vt.status!==1){if(vt.status===2){yn();return}if(vt.status===3){ee();return}vt.status=1;var Gn=k.fromTag("link",f.dom);L(Gn,{rel:"stylesheet",type:"text/css",id:vt.id});var Ar=Date.now();e.contentCssCors&&E(Gn,"crossOrigin","anonymous"),e.referrerPolicy&&E(Gn,"referrerpolicy",e.referrerPolicy),wt=Gn.dom,wt.onload=Le,wt.onerror=ee,w(Gn),E(Gn,"href",Ht)}},V=function(it){return W0.nu(function(gt){I(it,pn(gt,H(ux.value(it))),pn(gt,H(ux.error(it))))})},Z=function(it,gt,mt){bk(jn(it,V)).get(function(wt){var Ht=Ye(wt,function(vt){return vt.isValue()});Ht.fail.length>0?mt(Ht.fail.map(yf)):gt(Ht.pass.map(yf))})},Q=function(it){var gt=hn._addCacheSuffix(it);_r(a,gt).each(function(mt){var wt=--mt.count;wt===0&&(delete a[gt],_(mt.id))})},et=function(it){nn(it,function(gt){Q(gt)})};return{load:I,loadAll:Z,unload:Q,unloadAll:et,_setReferrerPolicy:b}},Di=function(){var t=new WeakMap,e=function(o,a){var c=Iu(o),f=c.dom;return K.from(t.get(f)).getOrThunk(function(){var p=cx(f,a);return t.set(f,p),p})};return{forElement:e}},_s=Di(),Io=function(){function t(e,o){this.node=e,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},t.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},t.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},t.prototype.findSibling=function(e,o,a,c){var f,p;if(e){if(!c&&e[o])return e[o];if(e!==this.rootNode){if(f=e[a],f)return f;for(p=e.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(f=p[a],f)return f}}},t.prototype.findPreviousNode=function(e,o,a,c){var f,p,b;if(e){if(f=e[a],this.rootNode&&f===this.rootNode)return;if(f){if(!c){for(b=f[o];b;b=b[o])if(!b[o])return b}return f}if(p=e.parentNode,p&&p!==this.rootNode)return p}},t}(),td=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],os=["td","th"],xk=["thead","tbody","tfoot"],ya=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Uu=["h1","h2","h3","h4","h5","h6"],sx=["li","dd","dt"],Nn=["ul","ol","dl"],ac=["pre","script","textarea","style"],xf=function(t){var e;return function(o){return e=e||En(t,An),Rr(e,Do(o))}},Lr=xf(Uu),qc=xf(td),wk=function(t){return Do(t)==="table"},Mu=function(t){return yi(t)&&!qc(t)},xg=function(t){return yi(t)&&Do(t)==="br"},Bl=xf(ya),Ds=xf(Nn),yu=xf(sx),Ro=xf(xk),il=xf(os),em=xf(ac),ii=function(t,e,o){return nm(t,e,o).isSome()},nd="\uFEFF",Tc=" ",Oc=function(t){return t===nd},Ck=function(t){return t.replace(/\uFEFF/g,"")},Et=nd,$u=Oc,al=Ck,wg=Fr,Gc=je,Qo=function(t){return Gc(t)&&(t=t.parentNode),wg(t)&&t.hasAttribute("data-mce-caret")},ai=function(t){return Gc(t)&&$u(t.data)},uc=function(t){return Qo(t)||ai(t)},wf=function(t){return t.firstChild!==t.lastChild||!Yo(t.firstChild)},G0=function(t,e){var o=t.ownerDocument,a=o.createTextNode(Et),c=t.parentNode;if(e){var f=t.previousSibling;if(Gc(f)){if(uc(f))return f;if(Hp(f))return f.splitText(f.data.length-1)}c.insertBefore(a,t)}else{var f=t.nextSibling;if(Gc(f)){if(uc(f))return f;if(Ip(f))return f.splitText(1),f}t.nextSibling?c.insertBefore(a,t.nextSibling):c.appendChild(a)}return a},wr=function(t){var e=t.container();return je(e)?e.data.charAt(t.offset())===Et||t.isAtStart()&&ai(e.previousSibling):!1},Tv=function(t){var e=t.container();return je(e)?e.data.charAt(t.offset()-1)===Et||t.isAtEnd()&&ai(e.nextSibling):!1},Kc=function(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},lx=function(t,e,o){var a=e.ownerDocument,c=a.createElement(t);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(Kc());var f=e.parentNode;return o?f.insertBefore(c,e):e.nextSibling?f.insertBefore(c,e.nextSibling):f.appendChild(c),c},Ip=function(t){return Gc(t)&&t.data[0]===Et},Hp=function(t){return Gc(t)&&t.data[t.data.length-1]===Et},K0=function(t){var e=t.getElementsByTagName("br"),o=e[e.length-1];Gi(o)&&o.parentNode.removeChild(o)},X0=function(t){return t&&t.hasAttribute("data-mce-caret")?(K0(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},zl=function(t){return Qo(t.startContainer)},Cf=Os,Sk=xi,J0=Yo,kk=je,fx=jc(["script","style","textarea"]),Vp=jc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Cg=jc(["table"]),dx=uc,Nl=function(t){return dx(t)?!1:kk(t)?!fx(t.parentNode):Vp(t)||J0(t)||Cg(t)||Y0(t)},Sg=function(t){return Fr(t)&&t.getAttribute("unselectable")==="true"},Y0=function(t){return Sg(t)===!1&&Sk(t)},mx=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(Y0(t))return!1;if(Cf(t))return!0}return!0},Tk=function(t){return Y0(t)?le(Qn(t.getElementsByTagName("*")),function(e,o){return e||Cf(o)},!1)!==!0:!1},Ok=function(t){return Vp(t)||Tk(t)},ca=function(t,e){return Nl(t)&&mx(t,e)},Pl=/^[ \t\r\n]*$/,Ms=function(t){return Pl.test(t)},ed=function(t,e){var o=k.fromDom(e),a=k.fromDom(t);return ii(a,"pre,code",Cn(Mr,o))},gx=function(t,e){return je(t)&&Ms(t.data)&&ed(t,e)===!1},Rs=function(t){return Fr(t)&&t.nodeName==="A"&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id"))},rm=function(t,e){return Nl(t)&&gx(t,e)===!1||Rs(t)||Q0(t)},Q0=vu("data-mce-bookmark"),Z0=vu("data-mce-bogus"),Sf=Wc("data-mce-bogus","all"),is=function(t,e){var o=0;if(rm(t,t))return!1;var a=t.firstChild;if(!a)return!0;var c=new Io(a,t);do{if(e){if(Sf(a)){a=c.next(!0);continue}if(Z0(a)){a=c.next();continue}}if(Yo(a)){o++,a=c.next();continue}if(rm(a,t))return!1;a=c.next()}while(a);return o<=1},eu=function(t,e){return e===void 0&&(e=!0),is(t.dom,e)},Ov=function(t){return t.nodeName.toLowerCase()==="span"},tb=function(t,e){return Me(t)&&(rm(t,e)||Mu(k.fromDom(t)))},om=function(t,e){var o=new Io(t,e).prev(!1),a=new Io(t,e).next(!1),c=un(o)||tb(o,e),f=un(a)||tb(a,e);return c&&f},kg=function(t){return Ov(t)&&t.getAttribute("data-mce-type")==="bookmark"},Tg=function(t,e){return je(t)&&t.data.length>0&&om(t,e)},Ek=function(t){return Fr(t)?t.childNodes.length>0:!1},Og=function(t){return Yr(t)||Rp(t)},nb=function(t,e,o){var a=o||e;if(Fr(e)&&kg(e))return e;for(var c=e.childNodes,f=c.length-1;f>=0;f--)nb(t,c[f],a);if(Fr(e)){var p=e.childNodes;p.length===1&&kg(p[0])&&e.parentNode.insertBefore(p[0],e)}return!Og(e)&&!rm(e,a)&&!Ek(e)&&!Tg(e,a)&&t.remove(e),e},_k=hn.makeMap,zi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ev=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rd=/[<>&\"\']/g,eb=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,rb={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},as={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Xc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},im=function(t){var e=k.fromTag("div").dom;return e.innerHTML=t,e.textContent||e.innerText||t},od=function(t,e){var o,a,c,f={};if(t){for(t=t.split(","),e=e||10,o=0;o<t.length;o+=2)a=String.fromCharCode(parseInt(t[o],e)),as[a]||(c="&"+t[o+1]+";",f[a]=c,f[c]=a);return f}},_v=od("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Up=function(t,e){return t.replace(e?zi:Ev,function(o){return as[o]||o})},ob=function(t){return(""+t).replace(rd,function(e){return as[e]||e})},am=function(t,e){return t.replace(e?zi:Ev,function(o){return o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":as[o]||"&#"+o.charCodeAt(0)+";"})},Dv=function(t,e,o){return o=o||_v,t.replace(e?zi:Ev,function(a){return as[a]||o[a]||a})},Dk=function(t,e){var o=od(e)||_v,a=function(p,b){return p.replace(b?zi:Ev,function(w){return as[w]!==void 0?as[w]:o[w]!==void 0?o[w]:w.length>1?"&#"+((w.charCodeAt(0)-55296)*1024+(w.charCodeAt(1)-56320)+65536)+";":"&#"+w.charCodeAt(0)+";"})},c=function(p,b){return Dv(p,b,o)},f=_k(t.replace(/\+/g,","));return f.named&&f.numeric?a:f.named?e?c:Dv:f.numeric?am:Up},ib=function(t){return t.replace(eb,function(e,o){return o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):rb[o]||String.fromCharCode(o)):Xc[e]||_v[e]||im(e)})},Jc={encodeRaw:Up,encodeAllRaw:ob,encodeNumeric:am,encodeNamed:Dv,getEncodeFunc:Dk,decode:ib},Ec={},Eg={},As=hn.makeMap,Ru=hn.each,Mv=hn.extend,kf=hn.explode,px=hn.inArray,ru=function(t,e){return t=hn.trim(t),t?t.split(e||" "):[]},hx=function(t){var e={},o,a,c,f,p,b,w=function(F,I,V){var Z,Q,et,it=function(mt,wt){var Ht={},vt,Wt;for(vt=0,Wt=mt.length;vt<Wt;vt++)Ht[mt[vt]]=wt||{};return Ht};V=V||[],I=I||"",typeof V=="string"&&(V=ru(V));var gt=ru(F);for(Z=gt.length;Z--;)Q=ru([o,I].join(" ")),et={attributes:it(Q),attributesOrder:Q,children:it(V,Eg)},e[gt[Z]]=et},_=function(F,I){var V,Z,Q,et,it=ru(F);V=it.length;for(var gt=ru(I);V--;)for(Z=e[it[V]],Q=0,et=gt.length;Q<et;Q++)Z.attributes[gt[Q]]={},Z.attributesOrder.push(gt[Q])};return Ec[t]?Ec[t]:(o="id accesskey class dir lang style tabindex title role",a="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",a+=" article aside details dialog figure main header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),t!=="html5-strict"&&(o+=" xml:lang",b="acronym applet basefont big font strike tt",c=[c,b].join(" "),Ru(ru(b),function(F){w(F,"",c)}),p="center dir isindex noframes",a=[a,p].join(" "),f=[a,c].join(" "),Ru(ru(p),function(F){w(F,"",f)})),f=f||[a,c].join(" "),w("html","manifest","head body"),w("head","","base command link meta noscript script style title"),w("title hr noscript br"),w("base","href target"),w("link","href rel media hreflang type sizes hreflang"),w("meta","name http-equiv content charset"),w("style","media type scoped"),w("script","src async defer type charset"),w("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),w("address dt dd div caption","",f),w("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),w("blockquote","cite",f),w("ol","reversed start type","li"),w("ul","","li"),w("li","value",f),w("dl","","dt dd"),w("a","href target rel media hreflang type",c),w("q","cite",c),w("ins del","cite datetime",f),w("img","src sizes srcset alt usemap ismap width height"),w("iframe","src name width height",f),w("embed","src type width height"),w("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),w("param","name value"),w("map","name",[f,"area"].join(" ")),w("area","alt coords shape href target rel media hreflang type"),w("table","border","caption colgroup thead tfoot tbody tr"+(t==="html4"?" col":"")),w("colgroup","span","col"),w("col","span"),w("tbody thead tfoot","","tr"),w("tr","","td th"),w("td","colspan rowspan headers",f),w("th","colspan rowspan headers scope abbr",f),w("form","accept-charset action autocomplete enctype method name novalidate target",f),w("fieldset","disabled form name",[f,"legend"].join(" ")),w("label","form for",c),w("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),w("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",t==="html4"?f:c),w("select","disabled form multiple name required size","option optgroup"),w("optgroup","disabled label","option"),w("option","disabled label selected value"),w("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),w("menu","type label",[f,"li"].join(" ")),w("noscript","",f),t!=="html4"&&(w("wbr"),w("ruby","",[c,"rt rp"].join(" ")),w("figcaption","",f),w("mark rt rp summary bdi","",c),w("canvas","width height",f),w("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),w("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),w("picture","","img source"),w("source","src srcset type media sizes"),w("track","kind src srclang label default"),w("datalist","",[c,"option"].join(" ")),w("article section nav aside main header footer","",f),w("hgroup","","h1 h2 h3 h4 h5 h6"),w("figure","",[f,"figcaption"].join(" ")),w("time","datetime",c),w("dialog","open",f),w("command","type label icon disabled checked radiogroup command"),w("output","for form name",c),w("progress","value max",c),w("meter","value min max low high optimum",c),w("details","open",[f,"summary"].join(" ")),w("keygen","autofocus challenge disabled form keytype name")),t!=="html5-strict"&&(_("script","language xml:space"),_("style","xml:space"),_("object","declare classid code codebase codetype archive standby align border hspace vspace"),_("embed","align name hspace vspace"),_("param","valuetype type"),_("a","charset name rev shape coords"),_("br","clear"),_("applet","codebase archive code object alt name width height align hspace vspace"),_("img","name longdesc align border hspace vspace"),_("iframe","longdesc frameborder marginwidth marginheight scrolling align"),_("font basefont","size color face"),_("input","usemap align"),_("select"),_("textarea"),_("h1 h2 h3 h4 h5 h6 div p legend caption","align"),_("ul","type compact"),_("li","type"),_("ol dl menu dir","compact"),_("pre","width xml:space"),_("hr","align noshade size width"),_("isindex","prompt"),_("table","summary width frame rules cellspacing cellpadding align bgcolor"),_("col","width align char charoff valign"),_("colgroup","width align char charoff valign"),_("thead","align char charoff valign"),_("tr","align char charoff valign bgcolor"),_("th","axis align char charoff valign nowrap bgcolor width height"),_("form","accept"),_("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),_("tfoot","align char charoff valign"),_("tbody","align char charoff valign"),_("area","nohref"),_("body","background bgcolor text link vlink alink")),t!=="html4"&&(_("input button select textarea","autofocus"),_("input textarea","placeholder"),_("a","download"),_("link script img","crossorigin"),_("img","loading"),_("iframe","sandbox seamless allowfullscreen loading")),Ru(ru("a form meter progress dfn"),function(F){e[F]&&delete e[F].children[F]}),delete e.caption.children.table,delete e.script,Ec[t]=e,e)},$p=function(t,e){var o;return t&&(o={},typeof t=="string"&&(t={"*":t}),Ru(t,function(a,c){o[c]=o[c.toUpperCase()]=e==="map"?As(a,/[, ]/):kf(a,/[, ]/)})),o},uo=function(t){var e={},o={},a=[],c={},f={},p=function(Yn,an,re){var cn=t[Yn];return cn?cn=As(cn,/[, ]/,As(cn.toUpperCase(),/[, ]/)):(cn=Ec[Yn],cn||(cn=As(an," ",As(an.toUpperCase()," ")),cn=Mv(cn,re),Ec[Yn]=cn)),cn};t=t||{};var b=hx(t.schema);t.verify_html===!1&&(t.valid_elements="*[*]");var w=$p(t.valid_styles),_=$p(t.invalid_styles,"map"),F=$p(t.valid_classes,"map"),I=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),V=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Z=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),Q=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),et="td th iframe video audio object script code",it=p("non_empty_elements",et+" pre",Z),gt=p("move_caret_before_on_enter_elements",et+" table",Z),mt=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),wt=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",mt),Ht=p("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Ru((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Yn){f[Yn]=new RegExp("</"+Yn+"[^>]*>","gi")});var vt=function(Yn){return new RegExp("^"+Yn.replace(/([?+*])/g,".$1")+"$")},Wt=function(Yn){var an,re,cn,Qe,Se,Dr,co,Ti,mc,Ic,kl,gc,pc,za,sg,Tu,Tl,Xd,Ni=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,fi=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Ta=/[*?+]/;if(Yn){var of=ru(Yn,",");for(e["@"]&&(Tu=e["@"].attributes,Tl=e["@"].attributesOrder),an=0,re=of.length;an<re;an++)if(Se=Ni.exec(of[an]),Se){if(za=Se[1],mc=Se[2],sg=Se[3],Ti=Se[5],gc={},pc=[],Dr={attributes:gc,attributesOrder:pc},za==="#"&&(Dr.paddEmpty=!0),za==="-"&&(Dr.removeEmpty=!0),Se[4]==="!"&&(Dr.removeEmptyAttrs=!0),Tu&&(te(Tu,function(Jd,af){gc[af]=Jd}),pc.push.apply(pc,Tl)),Ti){for(Ti=ru(Ti,"|"),cn=0,Qe=Ti.length;cn<Qe;cn++)if(Se=fi.exec(Ti[cn]),Se){if(co={},kl=Se[1],Ic=Se[2].replace(/[\\:]:/g,":"),za=Se[3],Xd=Se[4],kl==="!"&&(Dr.attributesRequired=Dr.attributesRequired||[],Dr.attributesRequired.push(Ic),co.required=!0),kl==="-"){delete gc[Ic],pc.splice(px(pc,Ic),1);continue}za&&(za==="="&&(Dr.attributesDefault=Dr.attributesDefault||[],Dr.attributesDefault.push({name:Ic,value:Xd}),co.defaultValue=Xd),za===":"&&(Dr.attributesForced=Dr.attributesForced||[],Dr.attributesForced.push({name:Ic,value:Xd}),co.forcedValue=Xd),za==="<"&&(co.validValues=As(Xd,"?"))),Ta.test(Ic)?(Dr.attributePatterns=Dr.attributePatterns||[],co.pattern=vt(Ic),Dr.attributePatterns.push(co)):(gc[Ic]||pc.push(Ic),gc[Ic]=co)}}!Tu&&mc==="@"&&(Tu=gc,Tl=pc),sg&&(Dr.outputName=mc,e[sg]=Dr),Ta.test(mc)?(Dr.pattern=vt(mc),a.push(Dr)):e[mc]=Dr}}},yn=function(Yn){e={},a=[],Wt(Yn),Ru(b,function(an,re){o[re]=an.children})},ee=function(Yn){var an=/^(~)?(.+)$/;Yn&&(Ec.text_block_elements=Ec.block_elements=null,Ru(ru(Yn,","),function(re){var cn=an.exec(re),Qe=cn[1]==="~",Se=Qe?"span":"div",Dr=cn[2];if(o[Dr]=o[Se],c[Dr]=Se,Qe||(wt[Dr.toUpperCase()]={},wt[Dr]={}),!e[Dr]){var co=e[Se];co=Mv({},co),delete co.removeEmptyAttrs,delete co.removeEmpty,e[Dr]=co}Ru(o,function(Ti,mc){Ti[Se]&&(o[mc]=Ti=Mv({},o[mc]),Ti[Dr]=Ti[Se])})}))},hr=function(Yn){var an=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ec[t.schema]=null,Yn&&Ru(ru(Yn,","),function(re){var cn=an.exec(re),Qe,Se;cn&&(Se=cn[1],Se?Qe=o[cn[2]]:Qe=o[cn[2]]={"#comment":{}},Qe=o[cn[2]],Ru(ru(cn[3],"|"),function(Dr){Se==="-"?delete Qe[Dr]:Qe[Dr]={}}))})},Le=function(Yn){var an=e[Yn],re;if(an)return an;for(re=a.length;re--;)if(an=a[re],an.pattern.test(Yn))return an};t.valid_elements?yn(t.valid_elements):(Ru(b,function(Yn,an){e[an]={attributes:Yn.attributes,attributesOrder:Yn.attributesOrder},o[an]=Yn.children}),t.schema!=="html5"&&Ru(ru("strong/b em/i"),function(Yn){var an=ru(Yn,"/");e[an[1]].outputName=an[0]}),Ru(ru("ol ul sub sup blockquote span font a table tbody strong em b i"),function(Yn){e[Yn]&&(e[Yn].removeEmpty=!0)}),Ru(ru("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Yn){e[Yn].paddEmpty=!0}),Ru(ru("span"),function(Yn){e[Yn].removeEmptyAttrs=!0})),ee(t.custom_elements),hr(t.valid_children),Wt(t.extended_valid_elements),hr("+ol[ul|ol],+ul[ul|ol]"),Ru({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Yn,an){e[an]&&(e[an].parentsRequired=ru(Yn))}),t.invalid_elements&&Ru(kf(t.invalid_elements),function(Yn){e[Yn]&&delete e[Yn]}),Le("span")||Wt("span[!data-mce-type|*]");var Gn=H(w),Ar=H(_),se=H(F),Fe=H(Q),ue=H(wt),Te=H(mt),$e=H(Ht),Zn=H(Z),qe=H(V),Wr=H(it),$o=H(gt),xo=H(I),da=H(f),ka=function(Yn,an){var re=o[Yn.toLowerCase()];return!!(re&&re[an.toLowerCase()])},ns=function(Yn,an){var re,cn,Qe=Le(Yn);if(Qe)if(an){if(Qe.attributes[an])return!0;if(re=Qe.attributePatterns,re){for(cn=re.length;cn--;)if(re[cn].pattern.test(Yn))return!0}}else return!0;return!1},Cs=H(c);return{children:o,elements:e,getValidStyles:Gn,getValidClasses:se,getBlockElements:ue,getInvalidStyles:Ar,getShortEndedElements:Zn,getTextBlockElements:Te,getTextInlineElements:$e,getBoolAttrs:Fe,getElementRule:Le,getSelfClosingElements:qe,getNonEmptyElements:Wr,getMoveCaretBeforeOnEnterElements:$o,getWhiteSpaceElements:xo,getSpecialElements:da,isValidChild:ka,isValid:ns,getCustomElements:Cs,addValidElements:Wt,setValidElements:yn,addCustomElements:ee,addValidChildren:hr}},Sr=function(t,e,o,a){var c=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+c(e)+c(o)+c(a)},Tf=function(t,e){var o=this,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,p=/\s+$/,b,w={},_,F,I=nd;t=t||{},e&&(_=e.getValidStyles(),F=e.getInvalidStyles());var V=(`\\" \\' \\; \\: ; : `+I).split(" ");for(b=0;b<V.length;b++)w[V[b]]=I+b,w[I+b]=V[b];return{toHex:function(Z){return Z.replace(a,Sr)},parse:function(Z){var Q={},et,it,gt,mt,wt=t.url_converter,Ht=t.url_converter_scope||o,vt=function(se,Fe,ue){var Te=Q[se+"-top"+Fe];if(Te){var $e=Q[se+"-right"+Fe];if($e){var Zn=Q[se+"-bottom"+Fe];if(Zn){var qe=Q[se+"-left"+Fe];if(qe){var Wr=[Te,$e,Zn,qe];for(b=Wr.length-1;b--&&Wr[b]===Wr[b+1];);b>-1&&ue||(Q[se+Fe]=b===-1?Wr[0]:Wr.join(" "),delete Q[se+"-top"+Fe],delete Q[se+"-right"+Fe],delete Q[se+"-bottom"+Fe],delete Q[se+"-left"+Fe])}}}}},Wt=function(se){var Fe=Q[se],ue;if(Fe){for(Fe=Fe.split(" "),ue=Fe.length;ue--;)if(Fe[ue]!==Fe[0])return!1;return Q[se]=Fe[0],!0}},yn=function(se,Fe,ue,Te){Wt(Fe)&&Wt(ue)&&Wt(Te)&&(Q[se]=Q[Fe]+" "+Q[ue]+" "+Q[Te],delete Q[Fe],delete Q[ue],delete Q[Te])},ee=function(se){return mt=!0,w[se]},hr=function(se,Fe){return mt&&(se=se.replace(/\uFEFF[0-9]/g,function(ue){return w[ue]})),Fe||(se=se.replace(/\\([\'\";:])/g,"$1")),se},Le=function(se){return String.fromCharCode(parseInt(se.slice(1),16))},Gn=function(se){return se.replace(/\\[0-9a-f]+/gi,Le)},Ar=function(se,Fe,ue,Te,$e,Zn){if($e=$e||Zn,$e)return $e=hr($e),"'"+$e.replace(/\'/g,"\\'")+"'";if(Fe=hr(Fe||ue||Te),!t.allow_script_urls){var qe=Fe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(qe)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(qe))return""}return wt&&(Fe=wt.call(Ht,Fe,"style")),"url('"+Fe.replace(/\'/g,"\\'")+"')"};if(Z){for(Z=Z.replace(/[\u0000-\u001F]/g,""),Z=Z.replace(/\\[\"\';:\uFEFF]/g,ee).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(se){return se.replace(/[;:]/g,ee)});et=f.exec(Z);)if(f.lastIndex=et.index+et[0].length,it=et[1].replace(p,"").toLowerCase(),gt=et[2].replace(p,""),it&&gt){if(it=Gn(it),gt=Gn(gt),it.indexOf(I)!==-1||it.indexOf('"')!==-1||!t.allow_script_urls&&(it==="behavior"||/expression\s*\(|\/\*|\*\//.test(gt)))continue;it==="font-weight"&&gt==="700"?gt="bold":(it==="color"||it==="background-color")&&(gt=gt.toLowerCase()),gt=gt.replace(a,Sr),gt=gt.replace(c,Ar),Q[it]=mt?hr(gt,!0):gt}vt("border","",!0),vt("border","-width"),vt("border","-color"),vt("border","-style"),vt("padding",""),vt("margin",""),yn("border","border-width","border-style","border-color"),Q.border==="medium none"&&delete Q.border,Q["border-image"]==="none"&&delete Q["border-image"]}return Q},serialize:function(Z,Q){var et="",it=function(mt){var wt,Ht=_[mt];if(Ht)for(var vt=0,Wt=Ht.length;vt<Wt;vt++)mt=Ht[vt],wt=Z[mt],wt&&(et+=(et.length>0?" ":"")+mt+": "+wt+";")},gt=function(mt,wt){var Ht=F["*"];return Ht&&Ht[mt]?!1:(Ht=F[wt],!(Ht&&Ht[mt]))};return Q&&_?(it("*"),it(Q)):te(Z,function(mt,wt){mt&&(!F||gt(wt,Q))&&(et+=(et.length>0?" ":"")+wt+": "+mt+";")}),et}}},ab={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Bs=function(t){return t instanceof Event||Ft(t.initEvent)},vx=function(t){return t.isDefaultPrevented===An||t.isDefaultPrevented===Lt},ui=function(t){return tr(t.preventDefault)||Bs(t)},ub=function(t,e){var o=e??{};for(var a in t)Rr(ab,a)||(o[a]=t[a]);return Me(o.composedPath)&&(o.composedPath=function(){return t.composedPath()}),o},jp=function(t,e,o,a){var c,f=ub(e,a);return f.type=t,tr(f.target)&&(f.target=(c=f.srcElement)!==null&&c!==void 0?c:o),ui(e)&&(f.preventDefault=function(){f.defaultPrevented=!0,f.isDefaultPrevented=An,Ft(e.preventDefault)?e.preventDefault():Bs(e)&&(e.returnValue=!1)},f.stopPropagation=function(){f.cancelBubble=!0,f.isPropagationStopped=An,Ft(e.stopPropagation)?e.stopPropagation():Bs(e)&&(e.cancelBubble=!0)},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=An,f.stopPropagation()},vx(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?An:Lt,f.isPropagationStopped=f.cancelBubble===!0?An:Lt,f.isImmediatePropagationStopped=Lt)),f},Rv="mce-data-",Un=/^(?:mouse|contextmenu)|click/,Wp=function(t,e,o,a){t.addEventListener?t.addEventListener(e,o,a||!1):t.attachEvent&&t.attachEvent("on"+e,o)},_g=function(t,e,o,a){t.removeEventListener?t.removeEventListener(e,o,a||!1):t.detachEvent&&t.detachEvent("on"+e,o)},Dg=function(t){return Me(t)&&Un.test(t.type)},um=function(t,e){var o=jp(t.type,t,document,e);if(Dg(t)&&un(t.pageX)&&!un(t.clientX)){var a=o.target.ownerDocument||document,c=a.documentElement,f=a.body,p=o;p.pageX=t.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),p.pageY=t.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}return un(o.metaKey)&&(o.metaKey=!1),o},cm=function(t,e,o){var a=t.document,c={type:"ready"};if(o.domLoaded){e(c);return}var f=function(){return a.readyState==="complete"||a.readyState==="interactive"&&a.body},p=function(){_g(t,"DOMContentLoaded",p),_g(t,"load",p),o.domLoaded||(o.domLoaded=!0,e(c)),t=null};f()?p():Wp(t,"DOMContentLoaded",p),o.domLoaded||Wp(t,"load",p)},id=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando=Rv+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return t.prototype.bind=function(e,o,a,c){var f=this,p,b,w,_,F,I,V,Z=window,Q=function(it){f.executeHandlers(um(it||Z.event),p)};if(!(!e||e.nodeType===3||e.nodeType===8)){e[f.expando]?p=e[f.expando]:(p=f.count++,e[f.expando]=p,f.events[p]={}),c=c||e;var et=o.split(" ");for(w=et.length;w--;){if(_=et[w],I=Q,F=V=!1,_==="DOMContentLoaded"&&(_="ready"),f.domLoaded&&_==="ready"&&e.readyState==="complete"){a.call(c,um({type:_}));continue}f.hasMouseEnterLeave||(F=f.mouseEnterLeave[_],F&&(I=function(it){var gt=it.currentTarget,mt=it.relatedTarget;if(mt&&gt.contains)mt=gt.contains(mt);else for(;mt&&mt!==gt;)mt=mt.parentNode;mt||(it=um(it||Z.event),it.type=it.type==="mouseout"?"mouseleave":"mouseenter",it.target=gt,f.executeHandlers(it,p))})),!f.hasFocusIn&&(_==="focusin"||_==="focusout")&&(V=!0,F=_==="focusin"?"focus":"blur",I=function(it){it=um(it||Z.event),it.type=it.type==="focus"?"focusin":"focusout",f.executeHandlers(it,p)}),b=f.events[p][_],b?_==="ready"&&f.domLoaded?a(um({type:_})):b.push({func:a,scope:c}):(f.events[p][_]=b=[{func:a,scope:c}],b.fakeName=F,b.capture=V,b.nativeHandler=I,_==="ready"?cm(e,I,f):Wp(e,F||_,I,V))}return e=b=null,a}},t.prototype.unbind=function(e,o,a){var c,f,p,b,w;if(!e||e.nodeType===3||e.nodeType===8)return this;var _=e[this.expando];if(_){if(w=this.events[_],o){var F=o.split(" ");for(f=F.length;f--;)if(b=F[f],c=w[b],c){if(a){for(p=c.length;p--;)if(c[p].func===a){var I=c.nativeHandler,V=c.fakeName,Z=c.capture;c=c.slice(0,p).concat(c.slice(p+1)),c.nativeHandler=I,c.fakeName=V,c.capture=Z,w[b]=c}}(!a||c.length===0)&&(delete w[b],_g(e,c.fakeName||b,c.nativeHandler,c.capture))}}else te(w,function(Q,et){_g(e,Q.fakeName||et,Q.nativeHandler,Q.capture)}),w={};for(b in w)if(Rr(w,b))return this;delete this.events[_];try{delete e[this.expando]}catch{e[this.expando]=null}}return this},t.prototype.fire=function(e,o,a){var c;if(!e||e.nodeType===3||e.nodeType===8)return this;var f=um({type:o,target:e},a);do c=e[this.expando],c&&this.executeHandlers(f,c),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!f.isPropagationStopped());return this},t.prototype.clean=function(e){var o,a;if(!e||e.nodeType===3||e.nodeType===8)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),a=e.getElementsByTagName("*"),o=a.length;o--;)e=a[o],e[this.expando]&&this.unbind(e);return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(e,o){var a=this.events[o],c=a&&a[e.type];if(c)for(var f=0,p=c.length;f<p;f++){var b=c[f];if(b&&b.func.call(b.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}},t.Event=new t,t}(),Xi,gi,Of,Si,_c,cb,zs,Av,cc,ul,Ef,Ha,Bv,xu,Va,Mg,Mk,qp,sa="sizzle"+-new Date,We=window.document,us=0,Rk=0,bx=mb(),Rg=mb(),yx=mb(),Gp=function(t,e){return t===e&&(ul=!0),0},Fl="undefined",sm=1<<31,sb={}.hasOwnProperty,cl=[],Ak=cl.pop,lm=cl.push,Ll=cl.push,ad=cl.slice,fm=cl.indexOf||function(t){for(var e=0,o=this.length;e<o;e++)if(this[e]===t)return e;return-1},xx="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ea="[\\x20\\t\\r\\n\\f]",ud="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",dm="\\["+ea+"*("+ud+")(?:"+ea+"*([*^$|!~]?=)"+ea+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ud+"))|)"+ea+"*\\]",Dc=":("+ud+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+dm+")*)|.*)\\)|)",Ua=new RegExp("^"+ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ea+"+$","g"),Bk=new RegExp("^"+ea+"*,"+ea+"*"),zk=new RegExp("^"+ea+"*([>+~]|"+ea+")"+ea+"*"),Nk=new RegExp("="+ea+`*([^\\]'"]*?)`+ea+"*\\]","g"),wx=new RegExp(Dc),sl=new RegExp("^"+ud+"$"),zv={ID:new RegExp("^#("+ud+")"),CLASS:new RegExp("^\\.("+ud+")"),TAG:new RegExp("^("+ud+"|[*])"),ATTR:new RegExp("^"+dm),PSEUDO:new RegExp("^"+Dc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ea+"*(even|odd|(([+-]|)(\\d*)n|)"+ea+"*(?:([+-]|)"+ea+"*(\\d+)|))"+ea+"*\\)|)","i"),bool:new RegExp("^(?:"+xx+")$","i"),needsContext:new RegExp("^"+ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ea+"*((?:-\\d)?\\d*)"+ea+"*\\)|)(?=[^-]|$)","i")},Ag=/^(?:input|select|textarea|button)$/i,Pk=/^h\d$/i,lb=/^[^{]+\{\s*\[native \w/,Cx=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fb=/[+~]/,db=/'|\\/g,cd=new RegExp("\\\\([\\da-f]{1,6}"+ea+"?|("+ea+")|.)","ig"),sd=function(t,e,o){var a="0x"+e-65536;return a!==a||o?e:a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)};try{Ll.apply(cl=ad.call(We.childNodes),We.childNodes),cl[We.childNodes.length].nodeType}catch{Ll={apply:cl.length?function(t,e){lm.apply(t,ad.call(e))}:function(t,e){for(var o=t.length,a=0;t[o++]=e[a++];);t.length=o-1}}}var ri=function(t,e,o,a){var c,f,p,b,w,_,F,I,V,Z;if((e?e.ownerDocument||e:We)!==Ha&&Ef(e),e=e||Ha,o=o||[],!t||typeof t!="string")return o;if((b=e.nodeType)!==1&&b!==9)return[];if(xu&&!a){if(c=Cx.exec(t))if(p=c[1]){if(b===9)if(f=e.getElementById(p),f&&f.parentNode){if(f.id===p)return o.push(f),o}else return o;else if(e.ownerDocument&&(f=e.ownerDocument.getElementById(p))&&qp(e,f)&&f.id===p)return o.push(f),o}else{if(c[2])return Ll.apply(o,e.getElementsByTagName(t)),o;if((p=c[3])&&Xi.getElementsByClassName)return Ll.apply(o,e.getElementsByClassName(p)),o}if(Xi.qsa&&(!Va||!Va.test(t))){if(I=F=sa,V=e,Z=b===9&&t,b===1&&e.nodeName.toLowerCase()!=="object"){for(_=_c(t),(F=e.getAttribute("id"))?I=F.replace(db,"\\$&"):e.setAttribute("id",I),I="[id='"+I+"'] ",w=_.length;w--;)_[w]=I+Kp(_[w]);V=fb.test(t)&&Ns(e.parentNode)||e,Z=_.join(",")}if(Z)try{return Ll.apply(o,V.querySelectorAll(Z)),o}catch{}finally{F||e.removeAttribute("id")}}}return zs(t.replace(Ua,"$1"),e,o,a)};function mb(){var t=[];function e(o,a){return t.push(o+" ")>gi.cacheLength&&delete e[t.shift()],e[o+" "]=a}return e}function cs(t){return t[sa]=!0,t}function gb(t,e){var o=e&&t,a=o&&t.nodeType===1&&e.nodeType===1&&(~e.sourceIndex||sm)-(~t.sourceIndex||sm);if(a)return a;if(o){for(;o=o.nextSibling;)if(o===e)return-1}return t?1:-1}function Fk(t){return function(e){var o=e.nodeName.toLowerCase();return o==="input"&&e.type===t}}function Lk(t){return function(e){var o=e.nodeName.toLowerCase();return(o==="input"||o==="button")&&e.type===t}}function ju(t){return cs(function(e){return e=+e,cs(function(o,a){for(var c,f=t([],o.length,e),p=f.length;p--;)o[c=f[p]]&&(o[c]=!(a[c]=o[c]))})})}function Ns(t){return t&&typeof t.getElementsByTagName!==Fl&&t}Xi=ri.support={},Si=ri.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?e.nodeName!=="HTML":!1},Ef=ri.setDocument=function(t){var e,o=t?t.ownerDocument||t:We,a=o.defaultView;function c(f){try{return f.top}catch{}return null}return o===Ha||o.nodeType!==9||!o.documentElement?Ha:(Ha=o,Bv=o.documentElement,xu=!Si(o),a&&a!==c(a)&&(a.addEventListener?a.addEventListener("unload",function(){Ef()},!1):a.attachEvent&&a.attachEvent("onunload",function(){Ef()})),Xi.attributes=!0,Xi.getElementsByTagName=!0,Xi.getElementsByClassName=lb.test(o.getElementsByClassName),Xi.getById=!0,gi.find.ID=function(f,p){if(typeof p.getElementById!==Fl&&xu){var b=p.getElementById(f);return b&&b.parentNode?[b]:[]}},gi.filter.ID=function(f){var p=f.replace(cd,sd);return function(b){return b.getAttribute("id")===p}},gi.find.TAG=Xi.getElementsByTagName?function(f,p){if(typeof p.getElementsByTagName!==Fl)return p.getElementsByTagName(f)}:function(f,p){var b,w=[],_=0,F=p.getElementsByTagName(f);if(f==="*"){for(;b=F[_++];)b.nodeType===1&&w.push(b);return w}return F},gi.find.CLASS=Xi.getElementsByClassName&&function(f,p){if(xu)return p.getElementsByClassName(f)},Mg=[],Va=[],Xi.disconnectedMatch=!0,Va=Va.length&&new RegExp(Va.join("|")),Mg=Mg.length&&new RegExp(Mg.join("|")),e=lb.test(Bv.compareDocumentPosition),qp=e||lb.test(Bv.contains)?function(f,p){var b=f.nodeType===9?f.documentElement:f,w=p&&p.parentNode;return f===w||!!(w&&w.nodeType===1&&(b.contains?b.contains(w):f.compareDocumentPosition&&f.compareDocumentPosition(w)&16))}:function(f,p){if(p){for(;p=p.parentNode;)if(p===f)return!0}return!1},Gp=e?function(f,p){if(f===p)return ul=!0,0;var b=!f.compareDocumentPosition-!p.compareDocumentPosition;return b||(b=(f.ownerDocument||f)===(p.ownerDocument||p)?f.compareDocumentPosition(p):1,b&1||!Xi.sortDetached&&p.compareDocumentPosition(f)===b?f===o||f.ownerDocument===We&&qp(We,f)?-1:p===o||p.ownerDocument===We&&qp(We,p)?1:cc?fm.call(cc,f)-fm.call(cc,p):0:b&4?-1:1)}:function(f,p){if(f===p)return ul=!0,0;var b,w=0,_=f.parentNode,F=p.parentNode,I=[f],V=[p];if(!_||!F)return f===o?-1:p===o?1:_?-1:F?1:cc?fm.call(cc,f)-fm.call(cc,p):0;if(_===F)return gb(f,p);for(b=f;b=b.parentNode;)I.unshift(b);for(b=p;b=b.parentNode;)V.unshift(b);for(;I[w]===V[w];)w++;return w?gb(I[w],V[w]):I[w]===We?-1:V[w]===We?1:0},o)},ri.matches=function(t,e){return ri(t,null,null,e)},ri.matchesSelector=function(t,e){if((t.ownerDocument||t)!==Ha&&Ef(t),e=e.replace(Nk,"='$1']"),Xi.matchesSelector&&xu&&(!Mg||!Mg.test(e))&&(!Va||!Va.test(e)))try{var o=Mk.call(t,e);if(o||Xi.disconnectedMatch||t.document&&t.document.nodeType!==11)return o}catch{}return ri(e,Ha,null,[t]).length>0},ri.contains=function(t,e){return(t.ownerDocument||t)!==Ha&&Ef(t),qp(t,e)},ri.attr=function(t,e){(t.ownerDocument||t)!==Ha&&Ef(t);var o=gi.attrHandle[e.toLowerCase()],a=o&&sb.call(gi.attrHandle,e.toLowerCase())?o(t,e,!xu):void 0;return a!==void 0?a:Xi.attributes||!xu?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},ri.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ri.uniqueSort=function(t){var e,o=[],a=0,c=0;if(ul=!Xi.detectDuplicates,cc=!Xi.sortStable&&t.slice(0),t.sort(Gp),ul){for(;e=t[c++];)e===t[c]&&(a=o.push(c));for(;a--;)t.splice(o[a],1)}return cc=null,t},Of=ri.getText=function(t){var e,o="",a=0,c=t.nodeType;if(c){if(c===1||c===9||c===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)o+=Of(t)}else if(c===3||c===4)return t.nodeValue}else for(;e=t[a++];)o+=Of(e);return o},gi=ri.selectors={cacheLength:50,createPseudo:cs,match:zv,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(cd,sd),t[3]=(t[3]||t[4]||t[5]||"").replace(cd,sd),t[2]==="~="&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),t[1].slice(0,3)==="nth"?(t[3]||ri.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(t[3]==="even"||t[3]==="odd")),t[5]=+(t[7]+t[8]||t[3]==="odd")):t[3]&&ri.error(t[0]),t},PSEUDO:function(t){var e,o=!t[6]&&t[2];return zv.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":o&&wx.test(o)&&(e=_c(o,!0))&&(e=o.indexOf(")",o.length-e)-o.length)&&(t[0]=t[0].slice(0,e),t[2]=o.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(cd,sd).toLowerCase();return t==="*"?function(){return!0}:function(o){return o.nodeName&&o.nodeName.toLowerCase()===e}},CLASS:function(t){var e=bx[t+" "];return e||(e=new RegExp("(^|"+ea+")"+t+"("+ea+"|$)"))&&bx(t,function(o){return e.test(typeof o.className=="string"&&o.className||typeof o.getAttribute!==Fl&&o.getAttribute("class")||"")})},ATTR:function(t,e,o){return function(a){var c=ri.attr(a,t);return c==null?e==="!=":e?(c+="",e==="="?c===o:e==="!="?c!==o:e==="^="?o&&c.indexOf(o)===0:e==="*="?o&&c.indexOf(o)>-1:e==="$="?o&&c.slice(-o.length)===o:e==="~="?(" "+c+" ").indexOf(o)>-1:e==="|="?c===o||c.slice(0,o.length+1)===o+"-":!1):!0}},CHILD:function(t,e,o,a,c){var f=t.slice(0,3)!=="nth",p=t.slice(-4)!=="last",b=e==="of-type";return a===1&&c===0?function(w){return!!w.parentNode}:function(w,_,F){var I,V,Z,Q,et,it,gt=f!==p?"nextSibling":"previousSibling",mt=w.parentNode,wt=b&&w.nodeName.toLowerCase(),Ht=!F&&!b;if(mt){if(f){for(;gt;){for(Z=w;Z=Z[gt];)if(b?Z.nodeName.toLowerCase()===wt:Z.nodeType===1)return!1;it=gt=t==="only"&&!it&&"nextSibling"}return!0}if(it=[p?mt.firstChild:mt.lastChild],p&&Ht){for(V=mt[sa]||(mt[sa]={}),I=V[t]||[],et=I[0]===us&&I[1],Q=I[0]===us&&I[2],Z=et&&mt.childNodes[et];Z=++et&&Z&&Z[gt]||(Q=et=0)||it.pop();)if(Z.nodeType===1&&++Q&&Z===w){V[t]=[us,et,Q];break}}else if(Ht&&(I=(w[sa]||(w[sa]={}))[t])&&I[0]===us)Q=I[1];else for(;(Z=++et&&Z&&Z[gt]||(Q=et=0)||it.pop())&&!((b?Z.nodeName.toLowerCase()===wt:Z.nodeType===1)&&++Q&&(Ht&&((Z[sa]||(Z[sa]={}))[t]=[us,Q]),Z===w)););return Q-=c,Q===a||Q%a===0&&Q/a>=0}}},PSEUDO:function(t,e){var o,a=gi.pseudos[t]||gi.setFilters[t.toLowerCase()]||ri.error("unsupported pseudo: "+t);return a[sa]?a(e):a.length>1?(o=[t,t,"",e],gi.setFilters.hasOwnProperty(t.toLowerCase())?cs(function(c,f){for(var p,b=a(c,e),w=b.length;w--;)p=fm.call(c,b[w]),c[p]=!(f[p]=b[w])}):function(c){return a(c,0,o)}):a}},pseudos:{not:cs(function(t){var e=[],o=[],a=cb(t.replace(Ua,"$1"));return a[sa]?cs(function(c,f,p,b){for(var w,_=a(c,null,b,[]),F=c.length;F--;)(w=_[F])&&(c[F]=!(f[F]=w))}):function(c,f,p){return e[0]=c,a(e,null,p,o),e[0]=null,!o.pop()}}),has:cs(function(t){return function(e){return ri(t,e).length>0}}),contains:cs(function(t){return t=t.replace(cd,sd),function(e){return(e.textContent||e.innerText||Of(e)).indexOf(t)>-1}}),lang:cs(function(t){return sl.test(t||"")||ri.error("unsupported lang: "+t),t=t.replace(cd,sd).toLowerCase(),function(e){var o;do if(o=xu?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return o=o.toLowerCase(),o===t||o.indexOf(t+"-")===0;while((e=e.parentNode)&&e.nodeType===1);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===Bv},focus:function(t){return t===Ha.activeElement&&(!Ha.hasFocus||Ha.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&!!t.checked||e==="option"&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!gi.pseudos.empty(t)},header:function(t){return Pk.test(t.nodeName)},input:function(t){return Ag.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&t.type==="button"||e==="button"},text:function(t){var e;return t.nodeName.toLowerCase()==="input"&&t.type==="text"&&((e=t.getAttribute("type"))==null||e.toLowerCase()==="text")},first:ju(function(){return[0]}),last:ju(function(t,e){return[e-1]}),eq:ju(function(t,e,o){return[o<0?o+e:o]}),even:ju(function(t,e){for(var o=0;o<e;o+=2)t.push(o);return t}),odd:ju(function(t,e){for(var o=1;o<e;o+=2)t.push(o);return t}),lt:ju(function(t,e,o){for(var a=o<0?o+e:o;--a>=0;)t.push(a);return t}),gt:ju(function(t,e,o){for(var a=o<0?o+e:o;++a<e;)t.push(a);return t})}},gi.pseudos.nth=gi.pseudos.eq,nn(["radio","checkbox","file","password","image"],function(t){gi.pseudos[t]=Fk(t)}),nn(["submit","reset"],function(t){gi.pseudos[t]=Lk(t)});function pb(){}pb.prototype=gi.filters=gi.pseudos,gi.setFilters=new pb,_c=ri.tokenize=function(t,e){var o,a,c,f,p,b,w,_=Rg[t+" "];if(_)return e?0:_.slice(0);for(p=t,b=[],w=gi.preFilter;p;){(!o||(a=Bk.exec(p)))&&(a&&(p=p.slice(a[0].length)||p),b.push(c=[])),o=!1,(a=zk.exec(p))&&(o=a.shift(),c.push({value:o,type:a[0].replace(Ua," ")}),p=p.slice(o.length));for(f in gi.filter)gi.filter.hasOwnProperty(f)&&(a=zv[f].exec(p))&&(!w[f]||(a=w[f](a)))&&(o=a.shift(),c.push({value:o,type:f,matches:a}),p=p.slice(o.length));if(!o)break}return e?p.length:p?ri.error(t):Rg(t,b).slice(0)};function Kp(t){for(var e=0,o=t.length,a="";e<o;e++)a+=t[e].value;return a}function Bg(t,e,o){var a=e.dir,c=o&&a==="parentNode",f=Rk++;return e.first?function(p,b,w){for(;p=p[a];)if(p.nodeType===1||c)return t(p,b,w)}:function(p,b,w){var _,F,I=[us,f];if(w){for(;p=p[a];)if((p.nodeType===1||c)&&t(p,b,w))return!0}else for(;p=p[a];)if(p.nodeType===1||c){if(F=p[sa]||(p[sa]={}),(_=F[a])&&_[0]===us&&_[1]===f)return I[2]=_[2];if(F[a]=I,I[2]=t(p,b,w))return!0}}}function hb(t){return t.length>1?function(e,o,a){for(var c=t.length;c--;)if(!t[c](e,o,a))return!1;return!0}:t[0]}function Sx(t,e,o){for(var a=0,c=e.length;a<c;a++)ri(t,e[a],o);return o}function ld(t,e,o,a,c){for(var f,p=[],b=0,w=t.length,_=e!=null;b<w;b++)(f=t[b])&&(!o||o(f,a,c))&&(p.push(f),_&&e.push(b));return p}function vb(t,e,o,a,c,f){return a&&!a[sa]&&(a=vb(a)),c&&!c[sa]&&(c=vb(c,f)),cs(function(p,b,w,_){var F,I,V,Z=[],Q=[],et=b.length,it=p||Sx(e||"*",w.nodeType?[w]:w,[]),gt=t&&(p||!e)?ld(it,Z,t,w,_):it,mt=o?c||(p?t:et||a)?[]:b:gt;if(o&&o(gt,mt,w,_),a)for(F=ld(mt,Q),a(F,[],w,_),I=F.length;I--;)(V=F[I])&&(mt[Q[I]]=!(gt[Q[I]]=V));if(p){if(c||t){if(c){for(F=[],I=mt.length;I--;)(V=mt[I])&&F.push(gt[I]=V);c(null,mt=[],F,_)}for(I=mt.length;I--;)(V=mt[I])&&(F=c?fm.call(p,V):Z[I])>-1&&(p[F]=!(b[F]=V))}}else mt=ld(mt===b?mt.splice(et,mt.length):mt),c?c(null,b,mt,_):Ll.apply(b,mt)})}function bb(t){for(var e,o,a,c=t.length,f=gi.relative[t[0].type],p=f||gi.relative[" "],b=f?1:0,w=Bg(function(I){return I===e},p,!0),_=Bg(function(I){return fm.call(e,I)>-1},p,!0),F=[function(I,V,Z){var Q=!f&&(Z||V!==Av)||((e=V).nodeType?w(I,V,Z):_(I,V,Z));return e=null,Q}];b<c;b++)if(o=gi.relative[t[b].type])F=[Bg(hb(F),o)];else{if(o=gi.filter[t[b].type].apply(null,t[b].matches),o[sa]){for(a=++b;a<c&&!gi.relative[t[a].type];a++);return vb(b>1&&hb(F),b>1&&Kp(t.slice(0,b-1).concat({value:t[b-2].type===" "?"*":""})).replace(Ua,"$1"),o,b<a&&bb(t.slice(b,a)),a<c&&bb(t=t.slice(a)),a<c&&Kp(t))}F.push(o)}return hb(F)}function Nv(t,e){var o=e.length>0,a=t.length>0,c=function(f,p,b,w,_){var F,I,V,Z=0,Q="0",et=f&&[],it=[],gt=Av,mt=f||a&&gi.find.TAG("*",_),wt=us+=gt==null?1:Math.random()||.1,Ht=mt.length;for(_&&(Av=p!==Ha&&p);Q!==Ht&&(F=mt[Q])!=null;Q++){if(a&&F){for(I=0;V=t[I++];)if(V(F,p,b)){w.push(F);break}_&&(us=wt)}o&&((F=!V&&F)&&Z--,f&&et.push(F))}if(Z+=Q,o&&Q!==Z){for(I=0;V=e[I++];)V(et,it,p,b);if(f){if(Z>0)for(;Q--;)et[Q]||it[Q]||(it[Q]=Ak.call(w));it=ld(it)}Ll.apply(w,it),_&&!f&&it.length>0&&Z+e.length>1&&ri.uniqueSort(w)}return _&&(us=wt,Av=gt),et};return o?cs(c):c}cb=ri.compile=function(t,e){var o,a=[],c=[],f=yx[t+" "];if(!f){for(e||(e=_c(t)),o=e.length;o--;)f=bb(e[o]),f[sa]?a.push(f):c.push(f);f=yx(t,Nv(c,a)),f.selector=t}return f},zs=ri.select=function(t,e,o,a){var c,f,p,b,w,_=typeof t=="function"&&t,F=!a&&_c(t=_.selector||t);if(o=o||[],F.length===1){if(f=F[0]=F[0].slice(0),f.length>2&&(p=f[0]).type==="ID"&&Xi.getById&&e.nodeType===9&&xu&&gi.relative[f[1].type]){if(e=(gi.find.ID(p.matches[0].replace(cd,sd),e)||[])[0],e)_&&(e=e.parentNode);else return o;t=t.slice(f.shift().value.length)}for(c=zv.needsContext.test(t)?0:f.length;c--&&(p=f[c],!gi.relative[b=p.type]);)if((w=gi.find[b])&&(a=w(p.matches[0].replace(cd,sd),fb.test(f[0].type)&&Ns(e.parentNode)||e))){if(f.splice(c,1),t=a.length&&Kp(f),!t)return Ll.apply(o,a),o;break}}return(_||cb(t,F))(a,e,!xu,o,fb.test(t)&&Ns(e.parentNode)||e),o},Xi.sortStable=sa.split("").sort(Gp).join("")===sa,Xi.detectDuplicates=!!ul,Ef(),Xi.sortDetached=!0;var Pv=document,mm=Array.prototype.push,kx=Array.prototype.slice,$a=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ll=id.Event,la=hn.makeMap("children,contents,next,prev"),Wu=function(t){return typeof t<"u"},_f=function(t){return typeof t=="string"},Il=function(t){return t&&t===t.window},yb=function(t,e){e=e||Pv;var o=e.createElement("div"),a=e.createDocumentFragment();o.innerHTML=t;for(var c;c=o.firstChild;)a.appendChild(c);return a},Mc=function(t,e,o,a){var c;if(_f(e))e=yb(e,ra(t[0]));else if(e.length&&!e.nodeType){if(e=Qr.makeArray(e),a)for(c=e.length-1;c>=0;c--)Mc(t,e[c],o,a);else for(c=0;c<e.length;c++)Mc(t,e[c],o,a);return t}if(e.nodeType)for(c=t.length;c--;)o.call(t[c],e);return t},zg=function(t,e){return t&&e&&(" "+t.className+" ").indexOf(" "+e+" ")!==-1},Tx=function(t,e,o){var a,c;return e=Qr(e)[0],t.each(function(){var f=this;(!o||a!==f.parentNode)&&(a=f.parentNode,c=e.cloneNode(!1),f.parentNode.insertBefore(c,f)),c.appendChild(f)}),t},Ik=hn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Hk=hn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Vk={for:"htmlFor",class:"className",readonly:"readOnly"},Uk={float:"cssFloat"},xb={},Fv={},Yc=function(t,e){return new Qr.fn.init(t,e)},Ox=function(t,e){var o;if(e.indexOf)return e.indexOf(t);for(o=e.length;o--;)if(e[o]===t)return o;return-1},fd=/^\s*|\s*$/g,Xp=function(t){return t==null?"":(""+t).replace(fd,"")},fl=function(t,e){var o,a,c,f;if(t)if(o=t.length,o===void 0){for(a in t)if(t.hasOwnProperty(a)&&(f=t[a],e.call(f,a,f)===!1))break}else for(c=0;c<o&&(f=t[c],e.call(f,c,f)!==!1);c++);return t},ss=function(t,e){var o=[];return fl(t,function(a,c){e(c,a)&&o.push(c)}),o},ra=function(t){return t?t.nodeType===9?t:t.ownerDocument:Pv};Yc.fn=Yc.prototype={constructor:Yc,selector:"",context:null,length:0,init:function(t,e){var o=this,a,c;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(e&&e.nodeType)o.context=e;else{if(e)return Qr(t).attr(e);o.context=e=document}if(_f(t))if(o.selector=t,t.charAt(0)==="<"&&t.charAt(t.length-1)===">"&&t.length>=3?a=[null,t,null]:a=$a.exec(t),a)if(a[1])for(c=yb(t,ra(e)).firstChild;c;)mm.call(o,c),c=c.nextSibling;else{if(c=ra(e).getElementById(a[2]),!c)return o;if(c.id!==a[2])return o.find(t);o.length=1,o[0]=c}else return Qr(e).find(t);else this.add(t,!1);return o},toArray:function(){return hn.toArray(this)},add:function(t,e){var o=this,a,c;if(_f(t))return o.add(Qr(t));if(e!==!1)for(a=Qr.unique(o.toArray().concat(Qr.makeArray(t))),o.length=a.length,c=0;c<a.length;c++)o[c]=a[c];else mm.apply(o,Qr.makeArray(t));return o},attr:function(t,e){var o=this,a;if(typeof t=="object")fl(t,function(c,f){o.attr(c,f)});else if(Wu(e))this.each(function(){var c;if(this.nodeType===1){if(c=xb[t],c&&c.set){c.set(this,e);return}e===null?this.removeAttribute(t,2):this.setAttribute(t,e,2)}});else{if(o[0]&&o[0].nodeType===1){if(a=xb[t],a&&a.get)return a.get(o[0],t);if(Hk[t])return o.prop(t)?t:void 0;e=o[0].getAttribute(t,2),e===null&&(e=void 0)}return e}return o},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var o=this;if(t=Vk[t]||t,typeof t=="object")fl(t,function(a,c){o.prop(a,c)});else if(Wu(e))this.each(function(){this.nodeType===1&&(this[t]=e)});else return o[0]&&o[0].nodeType&&t in o[0]?o[0][t]:e;return o},css:function(t,e){var o=this,a,c,f=function(b){return b.replace(/-(\D)/g,function(w,_){return _.toUpperCase()})},p=function(b){return b.replace(/[A-Z]/g,function(w){return"-"+w})};if(typeof t=="object")fl(t,function(b,w){o.css(b,w)});else if(Wu(e))t=f(t),typeof e=="number"&&!Ik[t]&&(e=e.toString()+"px"),o.each(function(){var b=this.style;if(c=Fv[t],c&&c.set){c.set(this,e);return}try{this.style[Uk[t]||t]=e}catch{}(e===null||e==="")&&(b.removeProperty?b.removeProperty(p(t)):b.removeAttribute(t))});else{if(a=o[0],c=Fv[t],c&&c.get)return c.get(a);if(a.ownerDocument.defaultView)try{return a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(p(t))}catch{return}else return a.currentStyle?a.currentStyle[f(t)]:""}return o},remove:function(){for(var t=this,e,o=this.length;o--;)e=t[o],ll.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var t=this,e,o=this.length;o--;)for(e=t[o];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var e=this,o;if(Wu(t)){o=e.length;try{for(;o--;)e[o].innerHTML=t}catch{Qr(e[o]).empty().append(t)}return e}return e[0]?e[0].innerHTML:""},text:function(t){var e=this,o;if(Wu(t)){for(o=e.length;o--;)"innerText"in e[o]?e[o].innerText=t:e[0].textContent=t;return e}return e[0]?e[0].innerText||e[0].textContent:""},append:function(){return Mc(this,arguments,function(t){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(t)})},prepend:function(){return Mc(this,arguments,function(t){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?Mc(t,arguments,function(e){this.parentNode.insertBefore(e,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?Mc(t,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):t},appendTo:function(t){return Qr(t).append(this),this},prependTo:function(t){return Qr(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Tx(this,t)},wrapAll:function(t){return Tx(this,t,!0)},wrapInner:function(t){return this.each(function(){Qr(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){Qr(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),Qr(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var o=this;return typeof t!="string"||(t.indexOf(" ")!==-1?fl(t.split(" "),function(){o.toggleClass(this,e)}):o.each(function(a,c){var f=zg(c,t);if(f!==e){var p=c.className;f?c.className=Xp((" "+p+" ").replace(" "+t+" "," ")):c.className+=p?" "+t:t}})),o},hasClass:function(t){return zg(this[0],t)},each:function(t){return fl(this,t)},on:function(t,e){return this.each(function(){ll.bind(this,t,e)})},off:function(t,e){return this.each(function(){ll.unbind(this,t,e)})},trigger:function(t){return this.each(function(){typeof t=="object"?ll.fire(this,t.type,t):ll.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Qr(kx.apply(this,arguments))},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,o,a=[];for(e=0,o=this.length;e<o;e++)Qr.find(t,this[e],a);return Qr(a)},filter:function(t){return Qr(typeof t=="function"?ss(this.toArray(),function(e,o){return t(o,e)}):Qr.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof Qr&&(t=t[0]),this.each(function(o,a){for(;a;){if(typeof t=="string"&&Qr(a).is(t)){e.push(a);break}else if(a===t){e.push(a);break}a=a.parentNode}}),Qr(e)},offset:function(t){var e,o,a,c=0,f=0,p;return t?this.css(t):(e=this[0],e&&(o=e.ownerDocument,a=o.documentElement,e.getBoundingClientRect&&(p=e.getBoundingClientRect(),c=p.left+(a.scrollLeft||o.body.scrollLeft)-a.clientLeft,f=p.top+(a.scrollTop||o.body.scrollTop)-a.clientTop)),{left:c,top:f})},push:mm,sort:Array.prototype.sort,splice:Array.prototype.splice},hn.extend(Yc,{extend:hn.extend,makeArray:function(t){return Il(t)||t.nodeType?[t]:hn.toArray(t)},inArray:Ox,isArray:hn.isArray,each:fl,trim:Xp,grep:ss,find:ri,expr:ri.selectors,unique:ri.uniqueSort,text:ri.getText,contains:ri.contains,filter:function(t,e,o){var a=e.length;for(o&&(t=":not("+t+")");a--;)e[a].nodeType!==1&&e.splice(a,1);return e.length===1?e=Qr.find.matchesSelector(e[0],t)?[e[0]]:[]:e=Qr.find.matches(t,e),e}});var Qc=function(t,e,o){var a=[],c=t[e];for(typeof o!="string"&&o instanceof Qr&&(o=o[0]);c&&c.nodeType!==9&&!(o!==void 0&&(c===o||typeof o=="string"&&Qr(c).is(o)));)c.nodeType===1&&a.push(c),c=c[e];return a},dd=function(t,e,o,a){var c=[];for(a instanceof Qr&&(a=a[0]);t;t=t[e])if(!(o&&t.nodeType!==o)){if(a!==void 0&&(t===a||typeof a=="string"&&Qr(t).is(a)))break;c.push(t)}return c},wb=function(t,e,o){for(t=t[e];t;t=t[e])if(t.nodeType===o)return t;return null};fl({parent:function(t){var e=t.parentNode;return e&&e.nodeType!==11?e:null},parents:function(t){return Qc(t,"parentNode")},next:function(t){return wb(t,"nextSibling",1)},prev:function(t){return wb(t,"previousSibling",1)},children:function(t){return dd(t.firstChild,"nextSibling",1)},contents:function(t){return hn.toArray((t.nodeName==="iframe"?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){Yc.fn[t]=function(o){var a=this,c=[];a.each(function(){var p=e.call(c,this,o,c);p&&(Qr.isArray(p)?c.push.apply(c,p):c.push(p))}),this.length>1&&(la[t]||(c=Qr.unique(c)),t.indexOf("parents")===0&&(c=c.reverse()));var f=Qr(c);return o?f.filter(o):f}}),fl({parentsUntil:function(t,e){return Qc(t,"parentNode",e)},nextUntil:function(t,e){return dd(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return dd(t,"previousSibling",1,e).slice(1)}},function(t,e){Yc.fn[t]=function(o,a){var c=this,f=[];c.each(function(){var b=e.call(f,this,o,f);b&&(Qr.isArray(b)?f.push.apply(f,b):f.push(b))}),this.length>1&&(f=Qr.unique(f),(t.indexOf("parents")===0||t==="prevUntil")&&(f=f.reverse()));var p=Qr(f);return a?p.filter(a):p}}),Yc.fn.is=function(t){return!!t&&this.filter(t).length>0},Yc.fn.init.prototype=Yc.fn,Yc.overrideDefaults=function(t){var e,o=function(a,c){return e=e||t(),arguments.length===0&&(a=e.element),c||(c=e.context),new o.fn.init(a,c)};return Qr.extend(o,this),o},Yc.attrHooks=xb,Yc.cssHooks=Fv;var Qr=Yc,Jp=hn.each,$k=hn.grep,Lv=mr.ie,Iv=/^([a-z0-9],?)+$/i,jk=function(t,e,o){var a=e.keep_values,c={set:function(p,b,w){e.url_converter&&b!==null&&(b=e.url_converter.call(e.url_converter_scope||o(),b,w,p[0])),p.attr("data-mce-"+w,b).attr(w,b)},get:function(p,b){return p.attr("data-mce-"+b)||p.attr(b)}},f={style:{set:function(p,b){if(b!==null&&typeof b=="object"){p.css(b);return}a&&p.attr("data-mce-style",b),b!==null&&typeof b=="string"?(p.removeAttr("style"),p.css(t.parse(b))):p.attr("style",b)},get:function(p){var b=p.attr("data-mce-style")||p.attr("style");return b=t.serialize(t.parse(b),p[0].nodeName),b}}};return a&&(f.href=f.src=c),f},fa=function(t,e){var o=e.attr("style"),a=t.serialize(t.parse(o),e[0].nodeName);a||(a=null),e.attr("data-mce-style",a)},Au=function(t,e){var o=0,a,c;if(t)for(a=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)c=t.nodeType,!(e&&c===3&&(c===a||!t.nodeValue.length))&&(o++,a=c);return o},pi=function(t,e){e===void 0&&(e={});var o={},a=window,c={},f=0,p=!0,b=!0,w=_s.forElement(k.fromDom(t),{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),_=[],F=e.schema?e.schema:uo({}),I=Tf({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),V=e.ownEvents?new id:id.Event,Z=F.getBlockElements(),Q=Qr.overrideDefaults(function(){return{context:t,element:hv.getRoot()}}),et=function(Ct){if(typeof Ct=="string")return!!Z[Ct];if(Ct){var ln=Ct.nodeType;if(ln)return!!(ln===1&&Z[Ct.nodeName])}return!1},it=function(Ct){return Ct&&t&&Sn(Ct)?t.getElementById(Ct):Ct},gt=function(Ct){return Q(typeof Ct=="string"?it(Ct):Ct)},mt=function(Ct,ln,ge){var ke,Xr,Fo=gt(Ct);return Fo.length&&(ke=mE[ln],ke&&ke.get?Xr=ke.get(Fo,ln):Xr=Fo.attr(ln)),typeof Xr>"u"&&(Xr=ge||""),Xr},wt=function(Ct){var ln=it(Ct);return ln?ln.attributes:[]},Ht=function(Ct,ln,ge){ge===""&&(ge=null);var ke=gt(Ct),Xr=ke.attr(ln);if(ke.length){var Fo=mE[ln];Fo&&Fo.set?Fo.set(ke,ge,ln):ke.attr(ln,ge),Xr!==ge&&e.onSetAttrib&&e.onSetAttrib({attrElm:ke,attrName:ln,attrValue:ge})}},vt=function(Ct,ln){if(!Lv||Ct.nodeType!==1||ln)return Ct.cloneNode(ln);var ge=t.createElement(Ct.nodeName);return Jp(wt(Ct),function(ke){Ht(ge,ke.nodeName,mt(Ct,ke.nodeName))}),ge},Wt=function(){return e.root_element||t.body},yn=function(Ct){var ln=hf(Ct);return{x:ln.x,y:ln.y,w:ln.width,h:ln.height}},ee=function(Ct,ln){return Ap(t.body,it(Ct),ln)},hr=function(Ct,ln,ge){var ke=Sn(ln)?gt(Ct).css(ln,ge):gt(Ct).css(ln);e.update_styles&&fa(I,ke)},Le=function(Ct,ln){var ge=gt(Ct).css(ln);e.update_styles&&fa(I,ge)},Gn=function(Ct,ln,ge){var ke=gt(Ct);return ge?ke.css(ln):(ln=ln.replace(/-(\D)/g,function(Xr,Fo){return Fo.toUpperCase()}),ln==="float"&&(ln=mr.browser.isIE()?"styleFloat":"cssFloat"),ke[0]&&ke[0].style?ke[0].style[ln]:void 0)},Ar=function(Ct){var ln,ge;return Ct=it(Ct),ln=Gn(Ct,"width"),ge=Gn(Ct,"height"),ln.indexOf("px")===-1&&(ln=0),ge.indexOf("px")===-1&&(ge=0),{w:parseInt(ln,10)||Ct.offsetWidth||Ct.clientWidth,h:parseInt(ge,10)||Ct.offsetHeight||Ct.clientHeight}},se=function(Ct){Ct=it(Ct);var ln=ee(Ct),ge=Ar(Ct);return{x:ln.x,y:ln.y,w:ge.w,h:ge.h}},Fe=function(Ct,ln){var ge;if(!Ct)return!1;if(!Array.isArray(Ct)){if(ln==="*")return Ct.nodeType===1;if(Iv.test(ln)){var ke=ln.toLowerCase().split(/,/),Xr=Ct.nodeName.toLowerCase();for(ge=ke.length-1;ge>=0;ge--)if(ke[ge]===Xr)return!0;return!1}if(Ct.nodeType&&Ct.nodeType!==1)return!1}var Fo=Array.isArray(Ct)?Ct:[Ct];return ri(ln,Fo[0].ownerDocument||Fo[0],null,Fo).length>0},ue=function(Ct,ln,ge,ke){var Xr=[],Fo,Oi=it(Ct);for(ke=ke===void 0,ge=ge||(Wt().nodeName!=="BODY"?Wt().parentNode:null),hn.is(ln,"string")&&(Fo=ln,ln==="*"?ln=function(_p){return _p.nodeType===1}:ln=function(_p){return Fe(_p,Fo)});Oi&&!(Oi===ge||tr(Oi.nodeType)||Rp(Oi)||Yr(Oi));){if(!ln||typeof ln=="function"&&ln(Oi))if(ke)Xr.push(Oi);else return[Oi];Oi=Oi.parentNode}return ke?Xr:null},Te=function(Ct,ln,ge){var ke=ue(Ct,ln,ge,!1);return ke&&ke.length>0?ke[0]:null},$e=function(Ct,ln,ge){var ke=ln;if(Ct){for(typeof ln=="string"&&(ke=function(Xr){return Fe(Xr,ln)}),Ct=Ct[ge];Ct;Ct=Ct[ge])if(typeof ke=="function"&&ke(Ct))return Ct}return null},Zn=function(Ct,ln){return $e(Ct,ln,"nextSibling")},qe=function(Ct,ln){return $e(Ct,ln,"previousSibling")},Wr=function(Ct,ln){return ri(Ct,it(ln)||e.root_element||t,[])},$o=function(Ct,ln,ge){var ke,Xr=typeof Ct=="string"?it(Ct):Ct;if(!Xr)return!1;if(hn.isArray(Xr)&&(Xr.length||Xr.length===0))return ke=[],Jp(Xr,function(Oi,_p){Oi&&ke.push(ln.call(ge,typeof Oi=="string"?it(Oi):Oi,_p))}),ke;var Fo=ge||this;return ln.call(Fo,Xr)},xo=function(Ct,ln){gt(Ct).each(function(ge,ke){Jp(ln,function(Xr,Fo){Ht(ke,Fo,Xr)})})},da=function(Ct,ln){var ge=gt(Ct);Lv?ge.each(function(ke,Xr){if(Xr.canHaveHTML!==!1){for(;Xr.firstChild;)Xr.removeChild(Xr.firstChild);try{Xr.innerHTML="<br>"+ln,Xr.removeChild(Xr.firstChild)}catch{Qr("<div></div>").html("<br>"+ln).contents().slice(1).appendTo(Xr)}return ln}}):ge.html(ln)},ka=function(Ct,ln,ge,ke,Xr){return $o(Ct,function(Fo){var Oi=typeof ln=="string"?t.createElement(ln):ln;return xo(Oi,ge),ke&&(typeof ke!="string"&&ke.nodeType?Oi.appendChild(ke):typeof ke=="string"&&da(Oi,ke)),Xr?Oi:Fo.appendChild(Oi)})},ns=function(Ct,ln,ge){return ka(t.createElement(Ct),Ct,ln,ge,!0)},Cs=Jc.decode,Yn=Jc.encodeAllRaw,an=function(Ct,ln,ge){var ke="",Xr;ke+="<"+Ct;for(Xr in ln)Bo(ln,Xr)&&(ke+=" "+Xr+'="'+Yn(ln[Xr])+'"');return typeof ge<"u"?ke+">"+ge+"</"+Ct+">":ke+" />"},re=function(Ct){var ln,ge=t.createElement("div"),ke=t.createDocumentFragment();for(ke.appendChild(ge),Ct&&(ge.innerHTML=Ct);ln=ge.firstChild;)ke.appendChild(ln);return ke.removeChild(ge),ke},cn=function(Ct,ln){var ge=gt(Ct);return ln?ge.each(function(){for(var ke;ke=this.firstChild;)ke.nodeType===3&&ke.data.length===0?this.removeChild(ke):this.parentNode.insertBefore(ke,this)}).remove():ge.remove(),ge.length>1?ge.toArray():ge[0]},Qe=function(Ct){return $o(Ct,function(ln){var ge,ke=ln.attributes;for(ge=ke.length-1;ge>=0;ge--)ln.removeAttributeNode(ke.item(ge))})},Se=function(Ct){return I.parse(Ct)},Dr=function(Ct,ln){return I.serialize(Ct,ln)},co=function(Ct){var ln,ge;if(hv!==pi.DOM&&t===document){if(o[Ct])return;o[Ct]=!0}ge=t.getElementById("mceDefaultStyles"),ge||(ge=t.createElement("style"),ge.id="mceDefaultStyles",ge.type="text/css",ln=t.getElementsByTagName("head")[0],ln.firstChild?ln.insertBefore(ge,ln.firstChild):ln.appendChild(ge)),ge.styleSheet?ge.styleSheet.cssText+=Ct:ge.appendChild(t.createTextNode(Ct))},Ti=function(Ct){Ct||(Ct=""),nn(Ct.split(","),function(ln){c[ln]=!0,w.load(ln,en)})},mc=function(Ct,ln,ge){gt(Ct).toggleClass(ln,ge).each(function(){this.className===""&&Qr(this).attr("class",null)})},Ic=function(Ct,ln){gt(Ct).addClass(ln)},kl=function(Ct,ln){mc(Ct,ln,!1)},gc=function(Ct,ln){return gt(Ct).hasClass(ln)},pc=function(Ct){gt(Ct).show()},za=function(Ct){gt(Ct).hide()},sg=function(Ct){return gt(Ct).css("display")==="none"},Tu=function(Ct){return(Ct||"mce_")+f++},Tl=function(Ct){var ln=typeof Ct=="string"?it(Ct):Ct;return Fr(ln)?ln.outerHTML:Qr("<div></div>").append(Qr(ln).clone()).html()},Xd=function(Ct,ln){gt(Ct).each(function(){try{if("outerHTML"in this){this.outerHTML=ln;return}}catch{}cn(Qr(this).html(ln),!0)})},Ni=function(Ct,ln){var ge=it(ln);return $o(Ct,function(ke){var Xr=ge.parentNode,Fo=ge.nextSibling;return Fo?Xr.insertBefore(ke,Fo):Xr.appendChild(ke),ke})},fi=function(Ct,ln,ge){return $o(ln,function(ke){return hn.is(ke,"array")&&(Ct=Ct.cloneNode(!0)),ge&&Jp($k(ke.childNodes),function(Xr){Ct.appendChild(Xr)}),ke.parentNode.replaceChild(Ct,ke)})},Ta=function(Ct,ln){var ge;return Ct.nodeName!==ln.toUpperCase()&&(ge=ns(ln),Jp(wt(Ct),function(ke){Ht(ge,ke.nodeName,mt(Ct,ke.nodeName))}),fi(ge,Ct,!0)),ge||Ct},of=function(Ct,ln){for(var ge=Ct,ke;ge;){for(ke=ln;ke&&ge!==ke;)ke=ke.parentNode;if(ge===ke)break;ge=ge.parentNode}return!ge&&Ct.ownerDocument?Ct.ownerDocument.documentElement:ge},Jd=function(Ct){return I.toHex(hn.trim(Ct))},af=function(Ct){if(Fr(Ct)){var ln=Ct.nodeName.toLowerCase()==="a"&&!mt(Ct,"href")&&mt(Ct,"id");if(mt(Ct,"name")||mt(Ct,"data-mce-bookmark")||ln)return!0}return!1},Kf=function(Ct,ln){var ge,ke,Xr=0;if(af(Ct))return!1;if(Ct=Ct.firstChild,Ct){var Fo=new Io(Ct,Ct.parentNode),Oi=F?F.getWhiteSpaceElements():{};ln=ln||(F?F.getNonEmptyElements():null);do{if(ge=Ct.nodeType,Fr(Ct)){var _p=Ct.getAttribute("data-mce-bogus");if(_p){Ct=Fo.next(_p==="all");continue}if(ke=Ct.nodeName.toLowerCase(),ln&&ln[ke]){if(ke==="br"){Xr++,Ct=Fo.next();continue}return!1}if(af(Ct))return!1}if(ge===8||ge===3&&!Ms(Ct.nodeValue)||ge===3&&Ct.parentNode&&Oi[Ct.parentNode.nodeName]&&Ms(Ct.nodeValue))return!1;Ct=Fo.next()}while(Ct)}return Xr<=1},Q2=function(){return t.createRange()},A7=function(Ct,ln,ge){var ke=Q2(),Xr,Fo,Oi;if(Ct&&ln)return ke.setStart(Ct.parentNode,Au(Ct)),ke.setEnd(ln.parentNode,Au(ln)),Xr=ke.extractContents(),ke=Q2(),ke.setStart(ln.parentNode,Au(ln)+1),ke.setEnd(Ct.parentNode,Au(Ct)+1),Fo=ke.extractContents(),Oi=Ct.parentNode,Oi.insertBefore(nb(hv,Xr),Ct),ge?Oi.insertBefore(ge,Ct):Oi.insertBefore(ln,Ct),Oi.insertBefore(nb(hv,Fo),Ct),cn(Ct),ge||ln},Z5=function(Ct,ln,ge,ke){if(hn.isArray(Ct)){for(var Xr=Ct.length,Fo=[];Xr--;)Fo[Xr]=Z5(Ct[Xr],ln,ge,ke);return Fo}e.collect&&(Ct===t||Ct===a)&&_.push([Ct,ln,ge,ke]);var Oi=V.bind(Ct,ln,ge,ke||hv);return Oi},Z2=function(Ct,ln,ge){if(hn.isArray(Ct)){for(var ke=Ct.length,Xr=[];ke--;)Xr[ke]=Z2(Ct[ke],ln,ge);return Xr}else{if(_.length>0&&(Ct===t||Ct===a))for(var ke=_.length;ke--;){var Fo=_[ke];Ct===Fo[0]&&(!ln||ln===Fo[1])&&(!ge||ge===Fo[2])&&V.unbind(Fo[0],Fo[1],Fo[2])}return V.unbind(Ct,ln,ge)}},tR=function(Ct,ln,ge){return V.fire(Ct,ln,ge)},dE=function(Ct){if(Ct&&Fr(Ct)){var ln=Ct.getAttribute("data-mce-contenteditable");return ln&&ln!=="inherit"?ln:Ct.contentEditable!=="inherit"?Ct.contentEditable:null}else return null},B7=function(Ct){for(var ln=Wt(),ge=null;Ct&&Ct!==ln&&(ge=dE(Ct),ge===null);Ct=Ct.parentNode);return ge},nR=function(){if(_.length>0)for(var Ct=_.length;Ct--;){var ln=_[Ct];V.unbind(ln[0],ln[1],ln[2])}te(c,function(ge,ke){w.unload(ke),delete c[ke]}),ri.setDocument&&ri.setDocument()},z7=function(Ct,ln){if(Lv){for(;Ct;){if(ln===Ct)return!0;Ct=Ct.parentNode}return!1}else return Ct===ln||ln.contains(Ct)},N7=function(Ct){return"startContainer: "+Ct.startContainer.nodeName+", startOffset: "+Ct.startOffset+", endContainer: "+Ct.endContainer.nodeName+", endOffset: "+Ct.endOffset},hv={doc:t,settings:e,win:a,files:c,stdMode:p,boxModel:b,styleSheetLoader:w,boundEvents:_,styles:I,schema:F,events:V,isBlock:et,$:Q,$$:gt,root:null,clone:vt,getRoot:Wt,getViewPort:yn,getRect:se,getSize:Ar,getParent:Te,getParents:ue,get:it,getNext:Zn,getPrev:qe,select:Wr,is:Fe,add:ka,create:ns,createHTML:an,createFragment:re,remove:cn,setStyle:hr,getStyle:Gn,setStyles:Le,removeAllAttribs:Qe,setAttrib:Ht,setAttribs:xo,getAttrib:mt,getPos:ee,parseStyle:Se,serializeStyle:Dr,addStyle:co,loadCSS:Ti,addClass:Ic,removeClass:kl,hasClass:gc,toggleClass:mc,show:pc,hide:za,isHidden:sg,uniqueId:Tu,setHTML:da,getOuterHTML:Tl,setOuterHTML:Xd,decode:Cs,encode:Yn,insertAfter:Ni,replace:fi,rename:Ta,findCommonAncestor:of,toHex:Jd,run:$o,getAttribs:wt,isEmpty:Kf,createRng:Q2,nodeIndex:Au,split:A7,bind:Z5,unbind:Z2,fire:tR,getContentEditable:dE,getContentEditableParent:B7,destroy:nR,isChildOf:z7,dumpRng:N7},mE=jk(I,e,H(hv));return hv};pi.DOM=pi(document),pi.nodeIndex=Au;var Ex=pi.DOM,Cb=hn.each,gm=hn.grep,_x=0,pm=1,Ng=2,Dx=3,Hl=function(){function t(e){e===void 0&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return t.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},t.prototype.loadScript=function(e,o,a){var c=Ex,f,p=function(){c.remove(_),f&&(f.onerror=f.onload=f=null)},b=function(){p(),o()},w=function(){p(),Ft(a)?a():typeof console<"u"&&console.log&&console.log("Failed to load script: "+e)},_=c.uniqueId();f=document.createElement("script"),f.id=_,f.type="text/javascript",f.src=hn._addCacheSuffix(e),this.settings.referrerPolicy&&c.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=b,f.onerror=w,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},t.prototype.isDone=function(e){return this.states[e]===Ng},t.prototype.markDone=function(e){this.states[e]=Ng},t.prototype.add=function(e,o,a,c){var f=this.states[e];this.queue.push(e),f===void 0&&(this.states[e]=_x),o&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:o,failure:c,scope:a||this}))},t.prototype.load=function(e,o,a,c){return this.add(e,o,a,c)},t.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},t.prototype.loadQueue=function(e,o,a){this.loadScripts(this.queue,e,o,a)},t.prototype.loadScripts=function(e,o,a,c){var f=this,p=[],b=function(_,F){Cb(f.scriptLoadedCallbacks[F],function(I){Ft(I[_])&&I[_].call(I.scope)}),f.scriptLoadedCallbacks[F]=void 0};f.queueLoadedCallbacks.push({success:o,failure:c,scope:a||this});var w=function(){var _=gm(e);if(e.length=0,Cb(_,function(I){if(f.states[I]===Ng){b("success",I);return}if(f.states[I]===Dx){b("failure",I);return}f.states[I]!==pm&&(f.states[I]=pm,f.loading++,f.loadScript(I,function(){f.states[I]=Ng,f.loading--,b("success",I),w()},function(){f.states[I]=Dx,f.loading--,p.push(I),b("failure",I),w()}))}),!f.loading){var F=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,Cb(F,function(I){p.length===0?Ft(I.success)&&I.success.call(I.scope):Ft(I.failure)&&I.failure.call(I.scope,p)})}};w()},t.ScriptLoader=new t,t}(),qu=function(t){var e=t,o=function(){return e},a=function(c){e=c};return{get:o,set:a}},Wk=function(t){return Xt(t)&&Rr(t,"raw")},qk=function(t){return fe(t)&&t.length>1},hm={},Sb=qu("en"),md=function(){return _r(hm,Sb.get())},vm=function(){return Ie(hm,function(t){return Ze({},t)})},kb=function(t){t&&Sb.set(t)},Gk=function(){return Sb.get()},Kk=function(t,e){var o=hm[t];o||(hm[t]=o={}),te(e,function(a,c){o[c.toLowerCase()]=a})},bm=function(t){var e=md().getOr({}),o=function(w){return Ft(w)?Object.prototype.toString.call(w):a(w)?"":""+w},a=function(w){return w===""||w===null||w===void 0},c=function(w){var _=o(w);return _r(e,_.toLowerCase()).map(o).getOr(_)},f=function(w){return w.replace(/{context:\w+}$/,"")};if(a(t))return"";if(Wk(t))return o(t.raw);if(qk(t)){var p=t.slice(1),b=c(t[0]).replace(/\{([0-9]+)\}/g,function(w,_){return Rr(p,_)?o(p[_]):w});return f(b)}return f(c(t))},ym=function(){return md().bind(function(t){return _r(t,"_dir")}).exists(function(t){return t==="rtl"})},Hv=function(t){return Rr(hm,t)},oo={getData:vm,setCode:kb,getCode:Gk,add:Kk,translate:bm,isRtl:ym,hasCode:Hv},Zo=function(){var t=[],e={},o={},a=[],c=function(et,it){var gt=pt(a,function(mt){return mt.name===et&&mt.state===it});nn(gt,function(mt){return mt.callback()})},f=function(et){if(o[et])return o[et].instance},p=function(et){var it;return o[et]&&(it=o[et].dependencies),it||[]},b=function(et,it){Zo.languageLoad!==!1&&Q(et,function(){var gt=oo.getCode(),mt=","+(it||"")+",";!gt||it&&mt.indexOf(","+gt+",")===-1||Hl.ScriptLoader.add(e[et]+"/langs/"+gt+".js")},"loaded")},w=function(et,it,gt){var mt=it;return t.push(mt),o[et]={instance:mt,dependencies:gt},c(et,"added"),mt},_=function(et){delete e[et],delete o[et]},F=function(et,it){return typeof it=="object"?it:typeof et=="string"?{prefix:"",resource:it,suffix:""}:{prefix:et.prefix,resource:it,suffix:et.suffix}},I=function(et,it){var gt=e[et];nn(it,function(mt){Hl.ScriptLoader.add(gt+"/"+mt)})},V=function(et,it,gt,mt){var wt=p(et);nn(wt,function(Ht){var vt=F(it,Ht);Z(vt.resource,vt,void 0,void 0)}),gt&&(mt?gt.call(mt):gt.call(Hl))},Z=function(et,it,gt,mt,wt){if(!e[et]){var Ht=typeof it=="string"?it:it.prefix+it.resource+it.suffix;Ht.indexOf("/")!==0&&Ht.indexOf("://")===-1&&(Ht=Zo.baseURL+"/"+Ht),e[et]=Ht.substring(0,Ht.lastIndexOf("/"));var vt=function(){c(et,"loaded"),V(et,it,gt,mt)};o[et]?vt():Hl.ScriptLoader.add(Ht,vt,mt,wt)}},Q=function(et,it,gt){gt===void 0&&(gt="added"),Rr(o,et)&&gt==="added"||Rr(e,et)&&gt==="loaded"?it():a.push({name:et,state:gt,callback:it})};return{items:t,urls:e,lookup:o,_listeners:a,get:f,dependencies:p,requireLangPack:b,add:w,remove:_,createUrl:F,addComponents:I,load:Z,waitFor:Q}};Zo.languageLoad=!0,Zo.baseURL="",Zo.PluginManager=Zo(),Zo.ThemeManager=Zo();var xm=function(t){var e=qu(K.none()),o=function(){return e.get().each(t)},a=function(){o(),e.set(K.none())},c=function(){return e.get().isSome()},f=function(){return e.get()},p=function(b){o(),e.set(K.some(b))};return{clear:a,isSet:c,get:f,set:p}},gd=function(){var t=xm(en),e=function(o){return t.get().each(o)};return Ze(Ze({},t),{on:e})},qo=function(t,e){var o=null,a=function(){X(o)||(clearTimeout(o),o=null)},c=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];X(o)&&(o=setTimeout(function(){o=null,t.apply(null,f)},e))};return{cancel:a,throttle:c}},Vv=function(t,e){var o=null,a=function(){X(o)||(clearTimeout(o),o=null)},c=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];a(),o=setTimeout(function(){o=null,t.apply(null,f)},e)};return{cancel:a,throttle:c}},Uv=function(t,e){var o=j(t,e);return o===void 0||o===""?[]:o.split(" ")},ja=function(t,e,o){var a=Uv(t,e),c=a.concat([o]);return E(t,e,c.join(" ")),!0},pd=function(t,e,o){var a=pt(Uv(t,e),function(c){return c!==o});return a.length>0?E(t,e,a.join(" ")):On(t,e),!1},$v=function(t){return t.dom.classList!==void 0},Xk=function(t){return Uv(t,"class")},Jk=function(t,e){return ja(t,"class",e)},jv=function(t,e){return pd(t,"class",e)},Pg=function(t,e){$v(t)?t.dom.classList.add(e):Jk(t,e)},Tb=function(t){var e=$v(t)?t.dom.classList:Xk(t);e.length===0&&On(t,"class")},Wv=function(t,e){if($v(t)){var o=t.dom.classList;o.remove(e)}else jv(t,e);Tb(t)},Fg=function(t,e){return $v(t)&&t.dom.classList.contains(e)},qv=function(t,e){var o=[];return nn(_u(t),function(a){e(a)&&(o=o.concat([a])),o=o.concat(qv(a,e))}),o},sc=function(t,e){return Ir(e,t)},wm=H("mce-annotation"),Vl=H("data-mce-annotation"),lc=H("data-mce-annotation-uid"),Mx=function(t,e){var o=t.selection.getRng(),a=k.fromDom(o.startContainer),c=k.fromDom(t.getBody()),f=e.fold(function(){return"."+wm()},function(_){return"["+Vl()+'="'+_+'"]'}),p=Zs(a,o.startOffset).getOr(a),b=Ki(p,f,function(_){return Mr(_,c)}),w=function(_,F){return Nt(_,F)?K.some(j(_,F)):K.none()};return b.bind(function(_){return w(_,""+lc()).bind(function(F){return w(_,""+Vl()).map(function(I){var V=Ob(t,F);return{uid:F,name:I,elements:V}})})})},ou=function(t){return yi(t)&&Fg(t,wm())},Ob=function(t,e){var o=k.fromDom(t.getBody());return sc(o,"["+lc()+'="'+e+'"]')},Df=function(t,e){var o=k.fromDom(t.getBody()),a=sc(o,"["+Vl()+'="'+e+'"]'),c={};return nn(a,function(f){var p=j(f,lc()),b=_r(c,p).getOr([]);c[p]=b.concat([f])}),c},Eb=function(t,e){var o=qu({}),a=function(){return{listeners:[],previous:gd()}},c=function(F,I){f(F,function(V){return I(V),V})},f=function(F,I){var V=o.get(),Z=_r(V,F).getOrThunk(a),Q=I(Z);V[F]=Q,o.set(V)},p=function(F,I,V){c(F,function(Z){nn(Z.listeners,function(Q){return Q(!0,F,{uid:I,nodes:jn(V,function(et){return et.dom})})})})},b=function(F){c(F,function(I){nn(I.listeners,function(V){return V(!1,F)})})},w=Vv(function(){var F=o.get(),I=zt(Fn(F));nn(I,function(V){f(V,function(Z){var Q=Z.previous.get();return Mx(t,K.some(V)).fold(function(){Q.isSome()&&(b(V),Z.previous.clear())},function(et){var it=et.uid,gt=et.name,mt=et.elements;tm(Q,it)||(p(gt,it,mt),Z.previous.set(it))}),{previous:Z.previous,listeners:Z.listeners}})})},30);t.on("remove",function(){w.cancel()}),t.on("NodeChange",function(){w.throttle()});var _=function(F,I){f(F,function(V){return{previous:V.previous,listeners:V.listeners.concat([I])}})};return{addListener:_}},_b=function(t,e){var o=function(a){return K.from(a.attr(Vl())).bind(e.lookup)};t.on("init",function(){t.serializer.addNodeFilter("span",function(a){nn(a,function(c){o(c).each(function(f){f.persistent===!1&&c.unwrap()})})})})},Rx=function(){var t={},e=function(a,c){t[a]={name:a,settings:c}},o=function(a){return _r(t,a).map(function(c){return c.settings})};return{register:e,lookup:o}},Gv=0,Lg=function(t){var e=new Date,o=e.getTime(),a=Math.floor(Math.random()*1e9);return Gv++,t+"_"+a+Gv+String(o)},Db=function(t,e){nn(e,function(o){Pg(t,o)})},Yk=function(t,e){var o=e||document,a=o.createElement("div");return a.innerHTML=t,_u(k.fromDom(a))},Qk=function(t){return jn(t,k.fromDom)},wu=function(t){return t.dom.innerHTML},xa=function(t,e){var o=Ts(t),a=o.dom,c=k.fromDom(a.createDocumentFragment()),f=Yk(e,a);ff(c,f),df(t),va(t,c)},Bu=function(t,e){return k.fromDom(t.dom.cloneNode(e))},Wa=function(t){return Bu(t,!1)},fc=function(t){return Bu(t,!0)},iu=function(t,e,o){o===void 0&&(o=Lt);var a=new Io(t,e),c=function(f){var p;do p=a[f]();while(p&&!je(p)&&!o(p));return K.from(p).filter(je)};return{current:function(){return K.from(a.current()).filter(je)},next:function(){return c("next")},prev:function(){return c("prev")},prev2:function(){return c("prev2")}}},Kv=function(t,e){var o=e||function(p){return t.isBlock(p)||Yo(p)||xi(p)},a=function(p,b,w,_){if(je(p)){var F=_(p,b,p.data);if(F!==-1)return K.some({container:p,offset:F})}return w().bind(function(I){return a(I.container,I.offset,w,_)})},c=function(p,b,w,_){var F=iu(p,_,o);return a(p,b,function(){return F.prev().map(function(I){return{container:I,offset:I.length}})},w).getOrNull()},f=function(p,b,w,_){var F=iu(p,_,o);return a(p,b,function(){return F.next().map(function(I){return{container:I,offset:0}})},w).getOrNull()};return{backwards:c,forwards:f}},hd=Math.round,vd=function(t){return t?{left:hd(t.left),top:hd(t.top),bottom:hd(t.bottom),right:hd(t.right),width:hd(t.width),height:hd(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Mb=function(t,e){return t=vd(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},Ax=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},Xv=function(t,e,o){return t>=0&&t<=Math.min(e.height,o.height)/2},Mf=function(t,e){var o=Math.min(e.height/2,t.height/2);return t.bottom-o<e.top?!0:t.top>e.bottom?!1:Xv(e.top-t.bottom,t,e)},bd=function(t,e){return t.top>e.bottom?!0:t.bottom<e.top?!1:Xv(e.bottom-t.top,t,e)},Bx=function(t,e,o){return e>=t.left&&e<=t.right&&o>=t.top&&o<=t.bottom},Zk=function(t,e,o){return Math.min(Math.max(t,e),o)},Jv=function(t){var e=t.startContainer,o=t.startOffset;return e.hasChildNodes()&&t.endOffset===o+1?e.childNodes[o]:null},Gu=function(t,e){if(Fr(t)&&t.hasChildNodes()){var o=t.childNodes,a=Zk(e,0,o.length-1);return o[a]}else return t},Yv=function(t,e){if(!(e<0&&Fr(t)&&t.hasChildNodes()))return Gu(t,e)},wa=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),zx=function(t){return typeof t=="string"&&t.charCodeAt(0)>=768&&wa.test(t)},t4=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(o){for(var a=0;a<t.length;a++)if(t[a](o))return!0;return!1}},Rb=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(o){for(var a=0;a<t.length;a++)if(!t[a](o))return!1;return!0}},Nx=Fr,Px=Nl,we=Vu("display","block table"),n4=Vu("float","left right"),Ji=Rb(Nx,Px,br(n4)),Ab=br(Vu("white-space","pre pre-line pre-wrap")),Cm=je,Qv=Yo,Rc=pi.nodeIndex,Ig=Yv,Yp=function(t){return"createRange"in t?t.createRange():pi.DOM.createRng()},Zv=function(t){return t&&/[\r\n\t ]/.test(t)},Ul=function(t){return!!t.setStart&&!!t.setEnd},Qp=function(t){var e=t.startContainer,o=t.startOffset;if(Zv(t.toString())&&Ab(e.parentNode)&&je(e)){var a=e.data;if(Zv(a[o-1])||Zv(a[o+1]))return!0}return!1},t1=function(t){var e=t.ownerDocument,o=Yp(e),a=e.createTextNode(Tc),c=t.parentNode;c.insertBefore(a,t),o.setStart(a,0),o.setEnd(a,1);var f=vd(o.getBoundingClientRect());return c.removeChild(a),f},Ac=function(t){var e=t.startContainer,o=t.endContainer,a=t.startOffset,c=t.endOffset;if(e===o&&je(o)&&a===0&&c===1){var f=t.cloneRange();return f.setEndAfter(o),Rf(f)}else return null},Ps=function(t){return t.left===0&&t.right===0&&t.top===0&&t.bottom===0},Rf=function(t){var e,o=t.getClientRects();return o.length>0?e=vd(o[0]):e=vd(t.getBoundingClientRect()),!Ul(t)&&Qv(t)&&Ps(e)?t1(t):Ps(e)&&Ul(t)?Ac(t):e},Ca=function(t,e){var o=Mb(t,e);return o.width=1,o.right=o.left+1,o},Bb=function(t){var e=[],o=function(w){w.height!==0&&(e.length>0&&Ax(w,e[e.length-1])||e.push(w))},a=function(w,_){var F=Yp(w.ownerDocument);if(_<w.data.length){if(zx(w.data[_]))return e;if(zx(w.data[_-1])&&(F.setStart(w,_),F.setEnd(w,_+1),!Qp(F)))return o(Ca(Rf(F),!1)),e}_>0&&(F.setStart(w,_-1),F.setEnd(w,_),Qp(F)||o(Ca(Rf(F),!1))),_<w.data.length&&(F.setStart(w,_),F.setEnd(w,_+1),Qp(F)||o(Ca(Rf(F),!0)))},c=t.container(),f=t.offset();if(Cm(c))return a(c,f),e;if(Nx(c))if(t.isAtEnd()){var p=Ig(c,f);Cm(p)&&a(p,p.data.length),Ji(p)&&!Qv(p)&&o(Ca(Rf(p),!1))}else{var p=Ig(c,f);if(Cm(p)&&a(p,0),Ji(p)&&t.isAtEnd())return o(Ca(Rf(p),!1)),e;var b=Ig(t.container(),t.offset()-1);Ji(b)&&!Qv(b)&&(we(b)||we(p)||!Ji(p))&&o(Ca(Rf(b),!1)),Ji(p)&&o(Ca(Rf(p),!0))}return e},mn=function(t,e,o){var a=function(){return Cm(t),e===0},c=function(){return Cm(t)?e>=t.data.length:e>=t.childNodes.length},f=function(){var F=Yp(t.ownerDocument);return F.setStart(t,e),F.setEnd(t,e),F},p=function(){return o||(o=Bb(mn(t,e))),o},b=function(){return p().length>0},w=function(F){return F&&t===F.container()&&e===F.offset()},_=function(F){return Ig(t,F?e-1:e)};return{container:H(t),offset:H(e),toRange:f,getClientRects:p,isVisible:b,isAtStart:a,isAtEnd:c,isEqual:w,getNode:_}};mn.fromRangeStart=function(t){return mn(t.startContainer,t.startOffset)},mn.fromRangeEnd=function(t){return mn(t.endContainer,t.endOffset)},mn.after=function(t){return mn(t.parentNode,Rc(t)+1)},mn.before=function(t){return mn(t.parentNode,Rc(t))},mn.isAbove=function(t,e){return Du(qn(e.getClientRects()),xe(t.getClientRects()),Mf).getOr(!1)},mn.isBelow=function(t,e){return Du(xe(e.getClientRects()),qn(t.getClientRects()),bd).getOr(!1)},mn.isAtStart=function(t){return t?t.isAtStart():!1},mn.isAtEnd=function(t){return t?t.isAtEnd():!1},mn.isTextPosition=function(t){return t?je(t.container()):!1},mn.isElementPosition=function(t){return mn.isTextPosition(t)===!1};var yd=function(t,e){je(e)&&e.data.length===0&&t.remove(e)},Zp=function(t,e,o){e.insertNode(o),yd(t,o.previousSibling),yd(t,o.nextSibling)},Hg=function(t,e,o){var a=K.from(o.firstChild),c=K.from(o.lastChild);e.insertNode(o),a.each(function(f){return yd(t,f.previousSibling)}),c.each(function(f){return yd(t,f.nextSibling)})},xd=function(t,e,o){Yr(o)?Hg(t,e,o):Zp(t,e,o)},dl=je,zb=Gi,Nb=pi.nodeIndex,n1=function(t){var e=t.parentNode;return zb(e)?n1(e):e},e1=function(t){return t?Li(t.childNodes,function(e,o){return zb(o)&&o.nodeName!=="BR"?e=e.concat(e1(o)):e.push(o),e},[]):[]},Fx=function(t,e){for(;(t=t.previousSibling)&&dl(t);)e+=t.data.length;return e},Pb=function(t){return function(e){return t===e}},Fb=function(t){var e,o;e=e1(n1(t)),o=Jr(e,Pb(t),t),e=e.slice(0,o+1);var a=Li(e,function(c,f,p){return dl(f)&&dl(e[p-1])&&c++,c},0);return e=di(e,jc([t.nodeName])),o=Jr(e,Pb(t),t),o-a},Lb=function(t){var e;return dl(t)?e="text()":e=t.nodeName.toLowerCase(),e+"["+Fb(t)+"]"},Ib=function(t,e,o){var a=[];for(e=e.parentNode;e!==t&&!(o&&o(e));e=e.parentNode)a.push(e);return a},Hb=function(t,e){var o,a,c=[],f,p,b;return o=e.container(),a=e.offset(),dl(o)?f=Fx(o,a):(p=o.childNodes,a>=p.length?(f="after",a=p.length-1):f="before",o=p[a]),c.push(Lb(o)),b=Ib(t,o),b=di(b,br(Gi)),c=c.concat(Fi(b,function(w){return Lb(w)})),c.reverse().join("/")+","+f},Sm=function(t,e,o){var a=e1(t);return a=di(a,function(c,f){return!dl(c)||!dl(a[f-1])}),a=di(a,jc([e])),a[o]},e4=function(t,e){for(var o=t,a=0,c;dl(o);){if(c=o.data.length,e>=a&&e<=a+c){t=o,e=e-a;break}if(!dl(o.nextSibling)){t=o,e=c;break}a+=c,o=o.nextSibling}return dl(t)&&e>t.data.length&&(e=t.data.length),mn(t,e)},Lx=function(t,e){var o;if(!e)return null;var a=e.split(","),c=a[0].split("/");o=a.length>1?a[1]:"before";var f=Li(c,function(p,b){var w=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return w?(w[1]==="text()"&&(w[1]="#text"),Sm(p,w[1],parseInt(w[2],10))):null},t);return f?dl(f)?e4(f,parseInt(o,10)):(o==="after"?o=Nb(f)+1:o=Nb(f),mn(f.parentNode,o)):null},r1=xi,th=function(t,e,o){var a,c;for(c=t(e.data.slice(0,o)).length,a=e.previousSibling;a&&je(a);a=a.previousSibling)c+=t(a.data).length;return c},o1=function(t,e,o,a,c){var f=a[c?"startContainer":"endContainer"],p=a[c?"startOffset":"endOffset"],b=[],w,_=0,F=t.getRoot();for(je(f)?b.push(o?th(e,f,p):p):(w=f.childNodes,p>=w.length&&w.length&&(_=1,p=Math.max(0,w.length-1)),b.push(t.nodeIndex(w[p],o)+_));f&&f!==F;f=f.parentNode)b.push(t.nodeIndex(f,o));return b},i1=function(t,e,o,a){var c=e.dom,f={};return f.start=o1(c,t,o,a,!0),e.isCollapsed()||(f.end=o1(c,t,o,a,!1)),zl(a)&&(f.isFakeCaret=!0),f},a1=function(t,e,o){var a=0;return hn.each(t.select(e),function(c){if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;a++}}),a},km=function(t,e){var o,a,c,f=e?"start":"end";o=t[f+"Container"],a=t[f+"Offset"],Fr(o)&&o.nodeName==="TR"&&(c=o.childNodes,o=c[Math.min(e?a:a-1,c.length-1)],o&&(a=e?0:o.childNodes.length,t["set"+(e?"Start":"End")](o,a)))},Ix=function(t){return km(t,!0),km(t,!1),t},Ui=function(t,e){var o;if(Fr(t)&&(t=Gu(t,e),r1(t)))return t;if(uc(t)&&(je(t)&&Qo(t)&&(t=t.parentNode),o=t.previousSibling,r1(o)||(o=t.nextSibling,r1(o))))return o},u1=function(t){return Ui(t.startContainer,t.startOffset)||Ui(t.endContainer,t.endOffset)},Yi=function(t,e,o){var a=o.getNode(),c=a?a.nodeName:null,f=o.getRng();if(r1(a)||c==="IMG")return{name:c,index:a1(o.dom,c,a)};var p=u1(f);return p?(c=p.tagName,{name:c,index:a1(o.dom,c,p)}):i1(t,o,e,f)},c1=function(t){var e=t.getRng();return{start:Hb(t.dom.getRoot(),mn.fromRangeStart(e)),end:Hb(t.dom.getRoot(),mn.fromRangeEnd(e))}},Vg=function(t){return{rng:t.getRng()}},s1=function(t,e,o){var a={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return o?t.create("span",a,"&#xFEFF;"):t.create("span",a)},Ug=function(t,e){var o=t.dom,a=t.getRng(),c=o.uniqueId(),f=t.isCollapsed(),p=t.getNode(),b=p.nodeName;if(b==="IMG")return{name:b,index:a1(o,b,p)};var w=Ix(a.cloneRange());if(!f){w.collapse(!1);var _=s1(o,c+"_end",e);xd(o,w,_)}a=Ix(a),a.collapse(!0);var F=s1(o,c+"_start",e);return xd(o,a,F),t.moveToBookmark({id:c,keep:!0}),{id:c}},Hx=function(t,e,o){return e===2?Yi(al,o,t):e===3?c1(t):e?Vg(t):Ug(t,!1)},Vx=Cn(Yi,fn,!0),r4=pi.DOM,o4="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Ux=function(t,e,o){var a=t.getParam(e,o);if(a.indexOf("=")!==-1){var c=t.getParam(e,"","hash");return _r(c,t.id).getOr(o)}else return a},l1=function(t){return t.getParam("iframe_attrs",{})},f1=function(t){return t.getParam("doctype","<!DOCTYPE html>")},i4=function(t){return t.getParam("document_base_url","")},$x=function(t){return Ux(t,"body_id","tinymce")},Vb=function(t){return Ux(t,"body_class","")},jx=function(t){return t.getParam("content_security_policy","")},a4=function(t){return t.getParam("br_in_pre",!0)},au=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return e===!1?"":e===!0?"p":e},Tm=function(t){return t.getParam("forced_root_block_attrs",{})},Ub=function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Wx=function(t){return t.getParam("no_newline_selector","")},$g=function(t){return t.getParam("keep_styles",!0)},qx=function(t){return t.getParam("end_container_on_empty_block",!1)},u4=function(t){return hn.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},nh=function(t){return hn.explode(t.getParam("font_size_classes",""))},eh=function(t){return t.getParam("images_dataimg_filter",An,"function")},wd=function(t){return t.getParam("automatic_uploads",!0,"boolean")},d1=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},m1=function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},g1=function(t){return t.getParam("icons","","string")},c4=function(t){return t.getParam("icons_url","","string")},Af=function(t){return t.getParam("images_upload_url","","string")},p1=function(t){return t.getParam("images_upload_base_path","","string")},s4=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},Cd=function(t){return t.getParam("images_upload_handler",null,"function")},Sd=function(t){return t.getParam("content_css_cors",!1,"boolean")},Gx=function(t){return t.getParam("referrer_policy","","string")},rh=function(t){return t.getParam("language","en","string")},$b=function(t){return t.getParam("language_url","","string")},h1=function(t){return t.getParam("indent_use_margin",!1)},qa=function(t){return t.getParam("indentation","40px","string")},l4=function(t){var e=t.getParam("content_css");return Sn(e)?jn(e.split(","),ft):fe(e)?e:e===!1||t.inline?[]:["default"]},v1=function(t){var e=t.getParam("font_css",[]);return fe(e)?e:jn(e.split(","),ft)},Kx=function(t){return t.getParam("directionality",oo.isRtl()?"rtl":void 0)},f4=function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Fs=function(t){var e=t.getParam("object_resizing");return e===!1||mr.iOS?!1:Sn(e)?e:"table,img,figure.image,div,video,iframe"},Bf=function(t){return t.getParam("resize_img_proportional",!0,"boolean")},d4=function(t){return t.getParam("placeholder",r4.getAttrib(t.getElement(),"placeholder"),"string")},jb=function(t){return t.getParam("event_root")},Wb=function(t){return t.getParam("service_message")},Om=function(t){return t.getParam("theme")},Xx=function(t){return t.getParam("validate")},jg=function(t){return t.getParam("inline_boundaries")!==!1},m4=function(t){return t.getParam("formats")},g4=function(t){var e=t.getParam("preview_styles",o4);return Sn(e)?e:""},p4=function(t){return t.getParam("format_empty_lines",!1,"boolean")},Wg=function(t){return t.getParam("custom_ui_selector","","string")},Em=function(t){return t.getParam("theme_url")},qb=function(t){return t.getParam("inline")},Jx=function(t){return t.getParam("hidden_input")},h4=function(t){return t.getParam("submit_patch")},Yx=function(t){return t.getParam("encoding")==="xml"},Qx=function(t){return t.getParam("add_form_submit_trigger")},Gb=function(t){return t.getParam("add_unload_trigger")},v4=function(t){return au(t)!==""},b1=function(t){return t.getParam("custom_undo_redo_levels",0,"number")},b4=function(t){return t.getParam("disable_nodechange")},oh=function(t){return t.getParam("readonly")},y4=function(t){return t.getParam("content_css_cors")},Kb=function(t){return t.getParam("plugins","","string")},x4=function(t){return t.getParam("external_plugins")},Zx=function(t){return t.getParam("block_unsupported_drop",!0,"boolean")},w4=function(t){return t.getParam("visual",!0,"boolean")},qg=function(t){return t.getParam("visual_table_class","mce-item-table","string")},tw=function(t){return t.getParam("visual_anchor_class","mce-item-anchor","string")},C4=function(t){return t.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},Xb=Fr,Jb=je,y1=function(t){var e=t.parentNode;e&&e.removeChild(t)},nw=function(t){var e=al(t);return{count:t.length-e.length,text:e}},ew=function(t){for(var e;(e=t.data.lastIndexOf(Et))!==-1;)t.deleteData(e,1)},Gg=function(t,e){return _m(t),e},rw=function(t,e){var o=nw(t.data.substr(0,e.offset())),a=nw(t.data.substr(e.offset())),c=o.text+a.text;return c.length>0?(ew(t),mn(t,e.offset()-o.count)):e},ow=function(t,e){var o=e.container(),a=Ot(Qn(o.childNodes),t).map(function(c){return c<e.offset()?mn(o,e.offset()-1):e}).getOr(e);return _m(t),a},S4=function(t,e){return Jb(t)&&e.container()===t?rw(t,e):Gg(t,e)},k4=function(t,e){return e.container()===t.parentNode?ow(t,e):Gg(t,e)},Yb=function(t,e){return mn.isTextPosition(e)?S4(t,e):k4(t,e)},_m=function(t){Xb(t)&&uc(t)&&(wf(t)?t.removeAttribute("data-mce-caret"):y1(t)),Jb(t)&&(ew(t),t.data.length===0&&y1(t))},x1=ur().browser,iw=xi,w1=oc,aw=mg,T4="*[contentEditable=false],video,audio,embed,object",Qb=function(t,e,o){var a=Mb(e.getBoundingClientRect(),o),c,f;if(t.tagName==="BODY"){var p=t.ownerDocument.documentElement;c=t.scrollLeft||p.scrollLeft,f=t.scrollTop||p.scrollTop}else{var b=t.getBoundingClientRect();c=t.scrollLeft-b.left,f=t.scrollTop-b.top}a.left+=c,a.right+=c,a.top+=f,a.bottom+=f,a.width=1;var w=e.offsetWidth-e.clientWidth;return w>0&&(o&&(w*=-1),a.left+=w,a.right+=w),a},O4=function(t){for(var e=sc(k.fromDom(t),T4),o=0;o<e.length;o++){var a=e[o].dom,c=a.previousSibling;if(Hp(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(f.length-1,1)}if(c=a.nextSibling,Ip(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(0,1)}}},uw=function(t,e,o,a){var c=gd(),f,p,b=au(t),w=b.length>0?b:"p",_=function(et,it){var gt;if(F(),aw(it))return null;if(o(it)){p=lx(w,it,et);var mt=Qb(e,it,et);Qr(p).css("top",mt.top);var wt=Qr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Ze({},mt)).appendTo(e)[0];c.set({caret:wt,element:it,before:et}),et&&Qr(wt).addClass("mce-visual-caret-before"),I(),gt=it.ownerDocument.createRange(),gt.setStart(p,0),gt.setEnd(p,0)}else return p=G0(it,et),gt=it.ownerDocument.createRange(),Da(p.nextSibling)?(gt.setStart(p,0),gt.setEnd(p,0)):(gt.setStart(p,1),gt.setEnd(p,1)),gt;return gt},F=function(){O4(e),p&&(_m(p),p=null),c.on(function(et){Qr(et.caret).remove(),c.clear()}),f&&(bu.clearInterval(f),f=void 0)},I=function(){f=bu.setInterval(function(){a()?Qr("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):Qr("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},V=function(){c.on(function(et){var it=Qb(e,et.element,et.before);Qr(et.caret).css(Ze({},it))})},Z=function(){return bu.clearInterval(f)},Q=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:_,hide:F,getCss:Q,reposition:V,destroy:Z}},Dm=function(){return x1.isIE()||x1.isEdge()||x1.isFirefox()},Da=function(t){return iw(t)||w1(t)},kd=function(t){return Da(t)||na(t)&&Dm()},C1=xi,E4=oc,cw=Vu("display","block table table-cell table-caption list-item"),sw=uc,Zb=Qo,ty=Fr,Bc=Nl,zf=function(t){return t>0},Mm=function(t){return t<0},ih=function(t,e){for(var o;o=t(e);)if(!Zb(o))return o;return null},Rm=function(t,e,o,a,c){var f=new Io(t,a),p=C1(t)||Zb(t);if(Mm(e)){if(p&&(t=ih(f.prev.bind(f),!0),o(t)))return t;for(;t=ih(f.prev.bind(f),c);)if(o(t))return t}if(zf(e)){if(p&&(t=ih(f.next.bind(f),!0),o(t)))return t;for(;t=ih(f.next.bind(f),c);)if(o(t))return t}return null},$l=function(t,e){for(;t&&t!==e;){if(cw(t))return t;t=t.parentNode}return null},Ls=function(t,e,o){return $l(t.container(),o)===$l(e.container(),o)},Kg=function(t,e){if(!e)return null;var o=e.container(),a=e.offset();return ty(o)?o.childNodes[a+t]:null},ny=function(t,e){var o=e.ownerDocument.createRange();return t?(o.setStartBefore(e),o.setEndBefore(e)):(o.setStartAfter(e),o.setEndAfter(e)),o},lw=function(t,e,o){return $l(e,t)===$l(o,t)},S1=function(t,e,o){for(var a=t?"previousSibling":"nextSibling";o&&o!==e;){var c=o[a];if(sw(c)&&(c=c[a]),C1(c)||E4(c)){if(lw(e,c,o))return c;break}if(Bc(c))break;o=o.parentNode}return null},Am=Cn(ny,!0),Nf=Cn(ny,!1),k1=function(t,e,o){var a,c=Cn(S1,!0,e),f=Cn(S1,!1,e),p=o.startContainer,b=o.startOffset;if(Qo(p)){ty(p)||(p=p.parentNode);var w=p.getAttribute("data-mce-caret");if(w==="before"&&(a=p.nextSibling,kd(a)))return Am(a);if(w==="after"&&(a=p.previousSibling,kd(a)))return Nf(a)}if(!o.collapsed)return o;if(je(p)){if(sw(p)){if(t===1){if(a=f(p),a)return Am(a);if(a=c(p),a)return Nf(a)}if(t===-1){if(a=c(p),a)return Nf(a);if(a=f(p),a)return Am(a)}return o}if(Hp(p)&&b>=p.data.length-1)return t===1&&(a=f(p),a)?Am(a):o;if(Ip(p)&&b<=1)return t===-1&&(a=c(p),a)?Nf(a):o;if(b===p.data.length)return a=f(p),a?Am(a):o;if(b===0)return a=c(p),a?Nf(a):o}return o},ey=function(t,e){return K.from(Kg(t?0:-1,e)).filter(C1)},Ga=function(t,e,o){var a=k1(t,e,o);return t===-1?mn.fromRangeStart(a):mn.fromRangeEnd(a)},Td=function(t){return K.from(t.getNode()).map(k.fromDom)},fw=function(t){return K.from(t.getNode(!0)).map(k.fromDom)},ry=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},T1=function(t,e){var o=Ls(t,e);return!o&&Yo(t.getNode())?!0:o},uu;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(uu||(uu={}));var _4=xi,jl=je,dw=Fr,oy=Yo,Od=Nl,mw=Ok,O1=ca,gw=function(t,e){for(var o=[];t&&t!==e;)o.push(t),t=t.parentNode;return o},iy=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},pw=function(t,e){if(zf(t)){if(Od(e.previousSibling)&&!jl(e.previousSibling))return mn.before(e);if(jl(e))return mn(e,0)}if(Mm(t)){if(Od(e.nextSibling)&&!jl(e.nextSibling))return mn.after(e);if(jl(e))return mn(e,e.data.length)}return Mm(t)?oy(e)?mn.before(e):mn.after(e):mn.before(e)},D4=function(t,e){var o=e.nextSibling;return o&&Od(o)?jl(o)?mn(o,0):mn.before(o):ay(uu.Forwards,mn.after(e),t)},ay=function(t,e,o){var a,c,f,p;if(!dw(o)||!e)return null;if(e.isEqual(mn.after(o))&&o.lastChild){if(p=mn.after(o.lastChild),Mm(t)&&Od(o.lastChild)&&dw(o.lastChild))return oy(o.lastChild)?mn.before(o.lastChild):p}else p=e;var b=p.container(),w=p.offset();if(jl(b)){if(Mm(t)&&w>0)return mn(b,--w);if(zf(t)&&w<b.length)return mn(b,++w);a=b}else{if(Mm(t)&&w>0&&(c=iy(b,w-1),Od(c)))return!mw(c)&&(f=Rm(c,t,O1,c),f)?jl(f)?mn(f,f.data.length):mn.after(f):jl(c)?mn(c,c.data.length):mn.before(c);if(zf(t)&&w<b.childNodes.length&&(c=iy(b,w),Od(c)))return oy(c)?D4(o,c):!mw(c)&&(f=Rm(c,t,O1,c),f)?jl(f)?mn(f,0):mn.before(f):jl(c)?mn(c,0):mn.after(c);a=c||p.getNode()}if((zf(t)&&p.isAtEnd()||Mm(t)&&p.isAtStart())&&(a=Rm(a,t,An,o,!0),O1(a,o)))return pw(t,a);c=Rm(a,t,O1,o);var _=Ii(pt(gw(b,o),_4));return _&&(!c||!_.contains(c))?(zf(t)?p=mn.after(_):p=mn.before(_),p):c?pw(t,c):null},ml=function(t){return{next:function(e){return ay(uu.Forwards,e,t)},prev:function(e){return ay(uu.Backwards,e,t)}}},E1=function(t,e,o){var a=t?mn.before(o):mn.after(o);return Cu(t,e,a)},Ku=function(t){return Yo(t)?mn.before(t):mn.after(t)},ah=function(t){return mn.isTextPosition(t)?t.offset()===0:Nl(t.getNode())},uh=function(t){if(mn.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}else return Nl(t.getNode(!0))},uy=function(t,e){return!mn.isTextPosition(t)&&!mn.isTextPosition(e)&&t.getNode()===e.getNode(!0)},M4=function(t){return!mn.isTextPosition(t)&&Yo(t.getNode())},hw=function(t,e,o){return t?!uy(e,o)&&!M4(e)&&uh(e)&&ah(o):!uy(o,e)&&ah(e)&&uh(o)},Cu=function(t,e,o){var a=ml(e);return K.from(t?a.next(o):a.prev(o))},Bm=function(t,e,o){return Cu(t,e,o).bind(function(a){return Ls(o,a,e)&&hw(t,o,a)?Cu(t,e,a):K.some(a)})},ch=function(t,e,o,a){return Bm(t,e,o).bind(function(c){return a(c)?ch(t,e,c,a):K.some(c)})},ls=function(t,e){var o=t?e.firstChild:e.lastChild;return je(o)?K.some(mn(o,t?0:o.data.length)):o?Nl(o)?K.some(t?mn.before(o):Ku(o)):E1(t,e,o):K.none()},fs=Cn(Cu,!0),ds=Cn(Cu,!1),Xu=Cn(ls,!0),gl=Cn(ls,!1),_1="_mce_caret",ms=function(t){return Fr(t)&&t.id===_1},pl=function(t,e){for(;e&&e!==t;){if(e.id===_1)return e;e=e.parentNode}return null},R4=function(t){return Sn(t.start)},A4=function(t){return Rr(t,"rng")},vw=function(t){return Rr(t,"id")},bw=function(t){return Rr(t,"name")},yw=function(t){return hn.isArray(t.start)},xw=function(t,e){return Fr(e)&&t.isBlock(e)&&!e.innerHTML&&!mr.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},B4=function(t,e){var o,a=t.createRng();return o=Lx(t.getRoot(),e.start),a.setStart(o.container(),o.offset()),o=Lx(t.getRoot(),e.end),a.setEnd(o.container(),o.offset()),a},z4=function(t,e){var o=t.ownerDocument.createTextNode(Et);t.appendChild(o),e.setStart(o,0),e.setEnd(o,0)},ww=function(t){return t.hasChildNodes()===!1},N4=function(t,e){return gl(t).fold(Lt,function(o){return e.setStart(o.container(),o.offset()),e.setEnd(o.container(),o.offset()),!0})},cy=function(t,e,o){return ww(e)&&pl(t,e)?(z4(e,o),!0):!1},Cw=function(t,e,o,a){var c=o[e?"start":"end"],f,p,b,w,_=t.getRoot();if(c){for(b=c[0],p=_,f=c.length-1;f>=1;f--){if(w=p.childNodes,cy(_,p,a))return!0;if(c[f]>w.length-1)return cy(_,p,a)?!0:N4(p,a);p=w[c[f]]}p.nodeType===3&&(b=Math.min(c[0],p.nodeValue.length)),p.nodeType===1&&(b=Math.min(c[0],p.childNodes.length)),e?a.setStart(p,b):a.setEnd(p,b)}return!0},sy=function(t){return je(t)&&t.data.length>0},Sw=function(t,e,o){var a=t.get(o.id+"_"+e),c,f,p,b,w=o.keep,_,F;if(a){if(c=a.parentNode,e==="start"?(w?a.hasChildNodes()?(c=a.firstChild,f=1):sy(a.nextSibling)?(c=a.nextSibling,f=0):sy(a.previousSibling)?(c=a.previousSibling,f=a.previousSibling.data.length):(c=a.parentNode,f=t.nodeIndex(a)+1):f=t.nodeIndex(a),_=c,F=f):(w?a.hasChildNodes()?(c=a.firstChild,f=1):sy(a.previousSibling)?(c=a.previousSibling,f=a.previousSibling.data.length):(c=a.parentNode,f=t.nodeIndex(a)):f=t.nodeIndex(a),_=c,F=f),!w){for(b=a.previousSibling,p=a.nextSibling,hn.each(hn.grep(a.childNodes),function(I){je(I)&&(I.nodeValue=I.nodeValue.replace(/\uFEFF/g,""))});a=t.get(o.id+"_"+e);)t.remove(a,!0);b&&p&&b.nodeType===p.nodeType&&je(b)&&!mr.opera&&(f=b.nodeValue.length,b.appendData(p.nodeValue),t.remove(p),_=b,F=f)}return K.some(mn(_,F))}else return K.none()},P4=function(t,e){var o=t.createRng();return Cw(t,!0,e,o)&&Cw(t,!1,e,o)?K.some(o):K.none()},F4=function(t,e){var o=Sw(t,"start",e),a=Sw(t,"end",e);return Du(o,a.or(o),function(c,f){var p=t.createRng();return p.setStart(xw(t,c.container()),c.offset()),p.setEnd(xw(t,f.container()),f.offset()),p})},L4=function(t,e){return K.from(t.select(e.name)[e.index]).map(function(o){var a=t.createRng();return a.selectNode(o),a})},go=function(t,e){var o=t.dom;if(e){if(yw(e))return P4(o,e);if(R4(e))return K.some(B4(o,e));if(vw(e))return F4(o,e);if(bw(e))return L4(o,e);if(A4(e))return K.some(e.rng)}return K.none()},zm=function(t,e,o){return Hx(t,e,o)},Xg=function(t,e){go(t,e).each(function(o){t.setRng(o)})},zc=function(t){return Fr(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark"},I4=function(t){return function(e){return t===e}},Ed=I4(Tc),Jg=function(t){return t!==""&&` \f
\r	\v`.indexOf(t)!==-1},sh=function(t){return!Jg(t)&&!Ed(t)},Yg=function(t){return!!t.nodeType},kw=function(t){return t&&/^(IMG)$/.test(t.nodeName)},Tw=function(t,e,o){var a=o.startOffset,c=o.startContainer;if(!(c===o.endContainer&&kw(c.childNodes[a]))&&Fr(c)){var f=c.childNodes,p=void 0;a<f.length?(c=f[a],p=new Io(c,t.getParent(c,t.isBlock))):(c=f[f.length-1],p=new Io(c,t.getParent(c,t.isBlock)),p.next(!0));for(var b=p.current();b;b=p.next())if(je(b)&&!dy(b)){o.setStart(b,0),e.setRng(o);return}}},ly=function(t,e,o){if(t){var a=e?"nextSibling":"previousSibling";for(t=o?t:t[a];t;t=t[a])if(Fr(t)||!dy(t))return t}},fy=function(t,e){return Yg(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},Nm=function(t,e,o){return t.schema.isValidChild(e,o)},dy=function(t,e){if(e===void 0&&(e=!1),Me(t)&&je(t)){var o=e?t.data.replace(/ /g," "):t.data;return Ms(o)}else return!1},H4=function(t){return Me(t)&&je(t)&&t.length===0},Wl=function(t,e){return Ft(t)?t=t(e):Me(e)&&(t=t.replace(/%(\w+)/g,function(o,a){return e[a]||o})),t},my=function(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},D1=function(t,e,o){return(o==="color"||o==="backgroundColor")&&(e=t.toHex(e)),o==="fontWeight"&&e===700&&(e="bold"),o==="fontFamily"&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},M1=function(t,e,o){return D1(t,t.getStyle(e,o),o)},Ow=function(t,e){var o;return t.getParent(e,function(a){return o=t.getStyle(a,"text-decoration"),o&&o!=="none"}),o},Qg=function(t,e,o){return t.getParents(e,o,t.getRoot())},Ew=function(t,e){var o=function(a){var c=function(f){return f.length>1&&f.charAt(0)==="%"};return Qt(["styles","attributes"],function(f){return _r(a,f).exists(function(p){var b=fe(p)?p:Eo(p);return Qt(b,c)})})};return Qt(t.formatter.get(e),o)},_w=function(t,e,o){var a=["inline","block","selector","attributes","styles","classes"],c=function(f){return Pe(f,function(p,b){return Qt(a,function(w){return w===b})})};return Qt(t.formatter.get(e),function(f){var p=c(f);return Qt(t.formatter.get(o),function(b){var w=c(b);return Mi(p,w)})})},hl=function(t){return Bo(t,"block")},Zc=function(t){return Bo(t,"selector")},cu=function(t){return Bo(t,"inline")},Dw=function(t){return Zc(t)&&cu(t)&&tm(_r(t,"mixed"),!0)},gy=function(t){return Zc(t)&&t.expand!==!1&&!cu(t)},Zg=zc,Mw=Qg,Rw=dy,Aw=fy,R1=function(t){return Yo(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},A1=function(t,e){for(var o=e;o;){if(Fr(o)&&t.getContentEditable(o))return t.getContentEditable(o)==="false"?o:e;o=o.parentNode}return e},Bw=function(t,e,o,a){for(var c=e.data,f=o;t?f>=0:f<c.length;t?f--:f++)if(a(c.charAt(f)))return t?f+1:f;return-1},_e=function(t,e,o){return Bw(t,e,o,function(a){return Ed(a)||Jg(a)})},Ma=function(t,e,o){return Bw(t,e,o,sh)},Pm=function(t,e,o,a,c,f){var p,b=t.getParent(o,t.isBlock)||e,w=function(F,I,V){var Z=Kv(t),Q=c?Z.backwards:Z.forwards;return K.from(Q(F,I,function(et,it){return Zg(et.parentNode)?-1:(p=et,V(c,et,it))},b))},_=w(o,a,_e);return _.bind(function(F){return f?w(F.container,F.offset+(c?-1:0),Ma):K.some(F)}).orThunk(function(){return p?K.some({container:p,offset:c?0:p.length}):K.none()})},Ra=function(t,e,o,a,c){je(a)&&de(a.data)&&a[c]&&(a=a[c]);for(var f=Mw(t,a),p=0;p<f.length;p++)for(var b=0;b<e.length;b++){var w=e[b];if(!(Me(w.collapsed)&&w.collapsed!==o.collapsed)&&Zc(w)&&t.is(f[p],w.selector))return f[p]}return a},gs=function(t,e,o,a){var c=o,f=t.dom,p=f.getRoot(),b=e[0];if(hl(b)&&(c=b.wrapper?null:f.getParent(o,b.block,p)),!c){var w=f.getParent(o,"LI,TD,TH");c=f.getParent(je(o)?o.parentNode:o,function(_){return _!==p&&Aw(t,_)},w)}if(c&&hl(b)&&b.wrapper&&(c=Mw(f,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c[a]&&!f.isBlock(c[a])&&(c=c[a],!my(c,"br")););return c||o},py=function(t,e,o,a){var c=o.parentNode;return Me(o[a])?!1:c===e||tr(c)||t.isBlock(c)?!0:py(t,e,c,a)},Fm=function(t,e,o,a,c){var f=o,p=c?"previousSibling":"nextSibling",b=t.getRoot();if(je(o)&&!Rw(o)&&(c?a>0:a<o.data.length))return o;for(;;){if(!e[0].block_expand&&t.isBlock(f))return f;for(var w=f[p];w;w=w[p]){var _=je(w)&&!py(t,b,w,p);if(!Zg(w)&&!R1(w)&&!Rw(w,_))return f}if(f===b||f.parentNode===b){o=f;break}f=f.parentNode}return o},B1=function(t){return Zg(t.parentNode)||Zg(t)},tp=function(t,e,o,a){a===void 0&&(a=!1);var c=e.startContainer,f=e.startOffset,p=e.endContainer,b=e.endOffset,w=t.dom,_=o[0];if(Fr(c)&&c.hasChildNodes()&&(c=Gu(c,f),je(c)&&(f=0)),Fr(p)&&p.hasChildNodes()&&(p=Gu(p,e.collapsed?b:b-1),je(p)&&(b=p.nodeValue.length)),c=A1(w,c),p=A1(w,p),B1(c)&&(c=Zg(c)?c:c.parentNode,e.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,je(c)&&(f=e.collapsed?c.length:0)),B1(p)&&(p=Zg(p)?p:p.parentNode,e.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,je(p)&&(b=e.collapsed?0:p.length)),e.collapsed){var F=Pm(w,t.getBody(),c,f,!0,a);F.each(function(V){var Z=V.container,Q=V.offset;c=Z,f=Q});var I=Pm(w,t.getBody(),p,b,!1,a);I.each(function(V){var Z=V.container,Q=V.offset;p=Z,b=Q})}return(cu(_)||_.block_expand)&&((!cu(_)||!je(c)||f===0)&&(c=Fm(w,o,c,f,!0)),(!cu(_)||!je(p)||b===p.nodeValue.length)&&(p=Fm(w,o,p,b,!1))),gy(_)&&(c=Ra(w,o,e,c,"previousSibling"),p=Ra(w,o,e,p,"nextSibling")),(hl(_)||Zc(_))&&(c=gs(t,o,c,"previousSibling"),p=gs(t,o,p,"nextSibling"),hl(_)&&(w.isBlock(c)||(c=Fm(w,o,c,f,!0)),w.isBlock(p)||(p=Fm(w,o,p,b,!1)))),Fr(c)&&(f=w.nodeIndex(c),c=c.parentNode),Fr(p)&&(b=w.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:f,endContainer:p,endOffset:b}},Lm=function(t,e,o){var a=e.startOffset,c=Gu(e.startContainer,a),f=e.endOffset,p=Gu(e.endContainer,f-1),b=function(et){var it=et[0];je(it)&&it===c&&a>=it.data.length&&et.splice(0,1);var gt=et[et.length-1];return f===0&&et.length>0&&gt===p&&je(gt)&&et.splice(et.length-1,1),et},w=function(et,it,gt){for(var mt=[];et&&et!==gt;et=et[it])mt.push(et);return mt},_=function(et,it){return t.getParent(et,function(gt){return gt.parentNode===it},it)},F=function(et,it,gt){for(var mt=gt?"nextSibling":"previousSibling",wt=et,Ht=wt.parentNode;wt&&wt!==it;wt=Ht){Ht=wt.parentNode;var vt=w(wt===et?wt:wt[mt],mt);vt.length&&(gt||vt.reverse(),o(b(vt)))}};if(c===p)return o(b([c]));var I=t.findCommonAncestor(c,p);if(t.isChildOf(c,p))return F(c,I,!0);if(t.isChildOf(p,c))return F(p,I);var V=_(c,I)||c,Z=_(p,I)||p;F(c,V,!0);var Q=w(V===c?V:V.nextSibling,"nextSibling",Z===p?Z.nextSibling:Z);Q.length&&o(b(Q)),F(p,Z)},lh=function(t){var e=[];if(t)for(var o=0;o<t.rangeCount;o++)e.push(t.getRangeAt(o));return e},V4=function(t){return ao(t,function(e){var o=Jv(e);return o?[k.fromDom(o)]:[]})},U4=function(t){return lh(t).length>1},hy=function(t){return pt(V4(t),il)},vy=function(t){return sc(t,"td[data-mce-selected],th[data-mce-selected]")},zw=function(t,e){var o=vy(e);return o.length>0?o:hy(t)},Im=function(t){return zw(lh(t.selection.getSel()),k.fromDom(t.getBody()))},Is=function(t,e){return nm(t,"table",e)},fh=function(t){var e=t.startContainer,o=t.startOffset;return je(e)?o===0?K.some(k.fromDom(e)):K.none():K.from(e.childNodes[o]).map(k.fromDom)},by=function(t){var e=t.endContainer,o=t.endOffset;return je(e)?o===e.data.length?K.some(k.fromDom(e)):K.none():K.from(e.childNodes[o-1]).map(k.fromDom)},Hm=function(t){return ua(t).fold(H([t]),function(e){return[t].concat(Hm(e))})},dh=function(t){return Cc(t).fold(H([t]),function(e){return Do(e)==="br"?sf(e).map(function(o){return[t].concat(dh(o))}).getOr([]):[t].concat(dh(e))})},mh=function(t,e){return Du(fh(e),by(e),function(o,a){var c=Ue(Hm(t),Cn(Mr,o)),f=Ue(dh(t),Cn(Mr,a));return c.isSome()&&f.isSome()}).getOr(!1)},ql=function(t,e,o,a){var c=o,f=new Io(o,c),p=Pe(t.schema.getMoveCaretBeforeOnEnterElements(),function(b,w){return!Dt(["td","th","table"],w.toLowerCase())});do{if(je(o)&&hn.trim(o.nodeValue).length!==0){a?e.setStart(o,0):e.setEnd(o,o.nodeValue.length);return}if(p[o.nodeName]){a?e.setStartBefore(o):o.nodeName==="BR"?e.setEndBefore(o):e.setEndAfter(o);return}}while(o=a?f.next():f.prev());c.nodeName==="BODY"&&(a?e.setStart(c,0):e.setEnd(c,c.childNodes.length))},ps=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},_d=function(t,e){var o=Im(t);o.length>0?nn(o,function(a){var c=a.dom,f=t.dom.createRng();f.setStartBefore(c),f.setEndAfter(c),e(f,!0)}):e(t.selection.getRng(),!1)},Vm=function(t,e,o){var a=Ug(t,e);o(a),t.moveToBookmark(a)},gh=function(t,e){var o=function(f){if(!t(f))throw new Error("Can only get "+e+" value of a "+e+" node");return a(f).getOr("")},a=function(f){return t(f)?K.from(f.dom.nodeValue):K.none()},c=function(f,p){if(!t(f))throw new Error("Can only set raw "+e+" value of a "+e+" node");f.dom.nodeValue=p};return{get:o,getOption:a,set:c}},z1=gh(_i,"text"),ph=function(t){return z1.get(t)},yy=function(t){return _i(t)&&ph(t)===Et},$4=function(t,e,o,a){return Ai(e).fold(function(){return"skipping"},function(c){return a==="br"||yy(e)?"valid":ou(e)?"existing":ms(e.dom)?"caret":!Nm(t,o,a)||!Nm(t,Do(c),o)?"invalid-child":"valid"})},N1=function(t,e){var o=tp(t,e,[{inline:"span"}]);e.setStart(o.startContainer,o.startOffset),e.setEnd(o.endContainer,o.endOffset),t.selection.setRng(e)},Ka=function(t,e,o,a){var c=e.uid,f=c===void 0?Lg("mce-annotation"):c,p=Na(e,["uid"]),b=k.fromTag("span",t);Pg(b,wm()),E(b,""+lc(),f),E(b,""+Vl(),o);var w=a(f,p),_=w.attributes,F=_===void 0?{}:_,I=w.classes,V=I===void 0?[]:I;return L(b,F),Db(b,V),b},ts=function(t,e,o,a,c){var f=[],p=Ka(t.getDoc(),c,o,a),b=gd(),w=function(){b.clear()},_=function(){return b.get().getOrThunk(function(){var Z=Wa(p);return f.push(Z),b.set(Z),Z})},F=function(Z){nn(Z,I)},I=function(Z){var Q=$4(t,Z,"span",Do(Z));switch(Q){case"invalid-child":{w();var et=_u(Z);F(et),w();break}case"valid":{var it=_();Zd(Z,it);break}}},V=function(Z){var Q=jn(Z,k.fromDom);F(Q)};return Lm(t.dom,e,function(Z){w(),V(Z)}),f},Hs=function(t,e,o,a){t.undoManager.transact(function(){var c=t.selection,f=c.getRng(),p=Im(t).length>0;if(f.collapsed&&!p&&N1(t,f),c.getRng().collapsed&&!p){var b=Ka(t.getDoc(),a,e,o.decorate);xa(b,Tc),c.getRng().insertNode(b.dom),c.select(b.dom)}else Vm(c,!1,function(){_d(t,function(w){ts(t,w,e,o.decorate,a)})})})},vl=function(t){var e=Rx();_b(t,e);var o=Eb(t);return{register:function(a,c){e.register(a,c)},annotate:function(a,c){e.lookup(a).each(function(f){Hs(t,a,f,c)})},annotationChanged:function(a,c){o.addListener(a,c)},remove:function(a){Mx(t,K.some(a)).each(function(c){var f=c.elements;nn(f,mf)})},getAll:function(a){var c=Df(t,a);return Ie(c,function(f){return jn(f,function(p){return p.dom})})}}},Gl=function(t){return{getBookmark:Cn(zm,t),moveToBookmark:Cn(Xg,t)}};Gl.isBookmarkNode=zc;var Dd=function(t,e){for(;e&&e!==t;){if(Os(e)||xi(e))return e;e=e.parentNode}return null},np=function(t,e,o){if(o.collapsed)return!1;if(mr.browser.isIE()&&o.startOffset===o.endOffset-1&&o.startContainer===o.endContainer){var a=o.startContainer.childNodes[o.startOffset];if(Fr(a))return Qt(a.getClientRects(),function(c){return Bx(c,t,e)})}return Qt(o.getClientRects(),function(c){return Bx(c,t,e)})},Nw=function(t,e){return t.fire("PreProcess",e)},hh=function(t,e){return t.fire("PostProcess",e)},j4=function(t){return t.fire("remove")},xy=function(t){return t.fire("detach")},Pw=function(t,e){return t.fire("SwitchMode",{mode:e})},Fw=function(t,e,o,a,c){t.fire("ObjectResizeStart",{target:e,width:o,height:a,origin:c})},wy=function(t,e,o,a,c){t.fire("ObjectResized",{target:e,width:o,height:a,origin:c})},Cy=function(t){return t.fire("PreInit")},Go=function(t){return t.fire("PostRender")},Kl=function(t){return t.fire("Init")},Lw=function(t,e){return t.fire("PlaceholderToggle",{state:e})},Sy=function(t,e,o){return t.fire(e,o)},ky=function(t,e,o,a){return t.fire("FormatApply",{format:e,node:o,vars:a})},vh=function(t,e,o,a){return t.fire("FormatRemove",{format:e,node:o,vars:a})},Tr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||Tr.metaKeyPressed(t)},metaKeyPressed:function(t){return mr.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Ty=xi,Iw=function(t,e){var o="data-mce-selected",a=e.dom,c=hn.each,f,p,b,w,_,F,I,V,Z,Q,et,it,gt,mt,wt,Ht=e.getDoc(),vt=document,Wt=Math.abs,yn=Math.round,ee=e.getBody(),hr,Le,Gn={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ar=function(cn){return cn&&(cn.nodeName==="IMG"||e.dom.is(cn,"figure.image"))},se=function(cn){return oc(cn)||a.hasClass(cn,"mce-preview-object")},Fe=function(cn,Qe){if(cn.type==="longpress"||cn.type.indexOf("touch")===0){var Se=cn.touches[0];return Ar(cn.target)&&!np(Se.clientX,Se.clientY,Qe)}else return Ar(cn.target)&&!np(cn.clientX,cn.clientY,Qe)},ue=function(cn){var Qe=cn.target;Fe(cn,e.selection.getRng())&&!cn.isDefaultPrevented()&&e.selection.select(Qe)},Te=function(cn){return a.is(cn,"figure.image")?[cn.querySelector("img")]:a.hasClass(cn,"mce-preview-object")&&Me(cn.firstElementChild)?[cn,cn.firstElementChild]:[cn]},$e=function(cn){var Qe=Fs(e);return!Qe||cn.getAttribute("data-mce-resize")==="false"||cn===e.getBody()?!1:a.hasClass(cn,"mce-preview-object")?be(k.fromDom(cn.firstElementChild),Qe):be(k.fromDom(cn),Qe)},Zn=function(cn){return se(cn)?a.create("img",{src:mr.transparentSrc}):cn.cloneNode(!0)},qe=function(cn,Qe,Se){if(Me(Se)){var Dr=Te(cn);nn(Dr,function(co){co.style[Qe]||!e.schema.isValid(co.nodeName.toLowerCase(),Qe)?a.setStyle(co,Qe,Se):a.setAttrib(co,Qe,""+Se)})}},Wr=function(cn,Qe,Se){qe(cn,"width",Qe),qe(cn,"height",Se)},$o=function(cn){var Qe,Se,Dr,co,Ti;Qe=cn.screenX-F,Se=cn.screenY-I,mt=Qe*w[2]+Q,wt=Se*w[3]+et,mt=mt<5?5:mt,wt=wt<5?5:wt,(Ar(f)||se(f))&&Bf(e)!==!1?Dr=!Tr.modifierPressed(cn):Dr=Tr.modifierPressed(cn),Dr&&(Wt(Qe)>Wt(Se)?(wt=yn(mt*it),mt=yn(wt/it)):(mt=yn(wt/it),wt=yn(mt*it))),Wr(p,mt,wt),co=w.startPos.x+Qe,Ti=w.startPos.y+Se,co=co>0?co:0,Ti=Ti>0?Ti:0,a.setStyles(b,{left:co,top:Ti,display:"block"}),b.innerHTML=mt+" &times; "+wt,w[2]<0&&p.clientWidth<=mt&&a.setStyle(p,"left",V+(Q-mt)),w[3]<0&&p.clientHeight<=wt&&a.setStyle(p,"top",Z+(et-wt)),Qe=ee.scrollWidth-hr,Se=ee.scrollHeight-Le,Qe+Se!==0&&a.setStyles(b,{left:co-Qe,top:Ti-Se}),gt||(Fw(e,f,Q,et,"corner-"+w.name),gt=!0)},xo=function(){var cn=gt;gt=!1,cn&&(qe(f,"width",mt),qe(f,"height",wt)),a.unbind(Ht,"mousemove",$o),a.unbind(Ht,"mouseup",xo),vt!==Ht&&(a.unbind(vt,"mousemove",$o),a.unbind(vt,"mouseup",xo)),a.remove(p),a.remove(b),a.remove(_),da(f),cn&&(wy(e,f,mt,wt,"corner-"+w.name),a.setAttrib(f,"style",a.getAttrib(f,"style"))),e.nodeChanged()},da=function(cn){Yn();var Qe=a.getPos(cn,ee),Se=Qe.x,Dr=Qe.y,co=cn.getBoundingClientRect(),Ti=co.width||co.right-co.left,mc=co.height||co.bottom-co.top;f!==cn&&(ka(),f=cn,mt=wt=0);var Ic=e.fire("ObjectSelected",{target:cn}),kl=a.getAttrib(f,o,"1");$e(cn)&&!Ic.isDefaultPrevented()?c(Gn,function(gc,pc){var za,sg=function(Tu){var Tl=Te(f)[0];F=Tu.screenX,I=Tu.screenY,Q=Tl.clientWidth,et=Tl.clientHeight,it=et/Q,w=gc,w.name=pc,w.startPos={x:Ti*gc[0]+Se,y:mc*gc[1]+Dr},hr=ee.scrollWidth,Le=ee.scrollHeight,_=a.add(ee,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),a.setStyles(_,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=Zn(f),a.addClass(p,"mce-clonedresizable"),a.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",a.setStyles(p,{left:Se,top:Dr,margin:0}),Wr(p,Ti,mc),p.removeAttribute(o),ee.appendChild(p),a.bind(Ht,"mousemove",$o),a.bind(Ht,"mouseup",xo),vt!==Ht&&(a.bind(vt,"mousemove",$o),a.bind(vt,"mouseup",xo)),b=a.add(ee,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},Q+" &times; "+et)};za=a.get("mceResizeHandle"+pc),za&&a.remove(za),za=a.add(ee,"div",{id:"mceResizeHandle"+pc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+pc+"-resize; margin:0; padding:0"}),mr.ie===11&&(za.contentEditable=!1),a.bind(za,"mousedown",function(Tu){Tu.stopImmediatePropagation(),Tu.preventDefault(),sg(Tu)}),gc.elm=za,a.setStyles(za,{left:Ti*gc[0]+Se-za.offsetWidth/2,top:mc*gc[1]+Dr-za.offsetHeight/2})}):ka(),a.getAttrib(f,o)||f.setAttribute(o,kl)},ka=function(){Yn(),f&&f.removeAttribute(o),te(Gn,function(cn,Qe){var Se=a.get("mceResizeHandle"+Qe);Se&&(a.unbind(Se),a.remove(Se))})},ns=function(cn){var Qe,Se,Dr=function(co,Ti){if(co)do if(co===Ti)return!0;while(co=co.parentNode)};if(!(gt||e.removed)){if(c(a.select("img[data-mce-selected],hr[data-mce-selected]"),function(co){co.removeAttribute(o)}),Se=cn.type==="mousedown"?cn.target:t.getNode(),Se=a.$(Se).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Dr(Se,ee)&&(an(),Qe=t.getStart(!0),Dr(Qe,Se)&&Dr(t.getEnd(!0),Se))){da(Se);return}ka()}},Cs=function(cn){return Ty(Dd(e.getBody(),cn))},Yn=function(){te(Gn,function(cn){cn.elm&&(a.unbind(cn.elm),delete cn.elm)})},an=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};e.on("init",function(){if(an(),mr.browser.isIE()||mr.browser.isEdge()){e.on("mousedown click",function(Se){var Dr=Se.target,co=Dr.nodeName;!gt&&/^(TABLE|IMG|HR)$/.test(co)&&!Cs(Dr)&&(Se.button!==2&&e.selection.select(Dr,co==="TABLE"),Se.type==="mousedown"&&e.nodeChanged())});var cn=function(Se){var Dr=function(co){bu.setEditorTimeout(e,function(){return e.selection.select(co)})};if(Cs(Se.target)||oc(Se.target)){Se.preventDefault(),Dr(Se.target);return}/^(TABLE|IMG|HR)$/.test(Se.target.nodeName)&&(Se.preventDefault(),Se.target.tagName==="IMG"&&Dr(Se.target))};a.bind(ee,"mscontrolselect",cn),e.on("remove",function(){return a.unbind(ee,"mscontrolselect",cn)})}var Qe=bu.throttle(function(Se){e.composing||ns(Se)});e.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",Qe),e.on("keyup compositionend",function(Se){f&&f.nodeName==="TABLE"&&Qe(Se)}),e.on("hide blur",ka),e.on("contextmenu longpress",ue,!0)}),e.on("remove",Yn);var re=function(){f=p=_=null};return{isResizable:$e,showResizeRect:da,hideResizeRect:ka,updateResizeRect:ns,destroy:re}},W4=function(t){return Os(t)||xi(t)},Hw=function(t,e,o){for(;t&&t!==e;){if(o(t))return t;t=t.parentNode}return null},Vw=function(t,e,o){var a,c=o.elementFromPoint(t,e),f=o.body.createTextRange();if((!c||c.tagName==="HTML")&&(c=o.body),f.moveToElementText(c),a=hn.toArray(f.getClientRects()),a=a.sort(function(p,b){return p=Math.abs(Math.max(p.top-e,p.bottom-e)),b=Math.abs(Math.max(b.top-e,b.bottom-e)),p-b}),a.length>0){e=(a[0].bottom+a[0].top)/2;try{return f.moveToPoint(t,e),f.collapse(!0),f}catch{}}return null},Oy=function(t,e){var o=t&&t.parentElement?t.parentElement():null;return xi(Hw(o,e,W4))?null:t},Ey=function(t,e,o){var a,c,f=o;if(f.caretPositionFromPoint)c=f.caretPositionFromPoint(t,e),c&&(a=o.createRange(),a.setStart(c.offsetNode,c.offset),a.collapse(!0));else if(f.caretRangeFromPoint)a=f.caretRangeFromPoint(t,e);else if(f.body.createTextRange){a=f.body.createTextRange();try{a.moveToPoint(t,e),a.collapse(!0)}catch{a=Vw(t,e,o)}return Oy(a,o.body)}return a},P1=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},q4=function(t,e,o){for(;t&&t!==e;){if(o(t))return t;t=t.parentNode}return null},Uw=function(t,e,o){return q4(t,e,o)!==null},G4=function(t,e,o){return Uw(t,e,function(a){return a.nodeName===o})},Nc=function(t){return t&&t.nodeName==="TABLE"},Ju=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Md=function(t,e){return uc(t)&&Uw(t,e,ms)===!1},$w=function(t,e,o){for(var a=new Io(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=a[o?"prev":"next"]();)if(Yo(e))return!0},K4=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},jw=function(t,e){for(;e&&e!==t;){if(xi(e))return!0;e=e.parentNode}return!1},io=function(t,e,o,a,c){var f,p=t.getRoot(),b,w=t.schema.getNonEmptyElements(),_=t.getParent(c.parentNode,t.isBlock)||p;if(a&&Yo(c)&&e&&t.isEmpty(_))return K.some(mn(c.parentNode,t.nodeIndex(c)));for(var F=new Io(c,_);b=F[a?"prev":"next"]();){if(t.getContentEditableParent(b)==="false"||Md(b,p))return K.none();if(je(b)&&b.nodeValue.length>0)return G4(b,p,"A")===!1?K.some(mn(b,a?b.nodeValue.length:0)):K.none();if(t.isBlock(b)||w[b.nodeName.toLowerCase()])return K.none();f=b}return o&&f?K.some(mn(f,0)):K.none()},Ww=function(t,e,o,a){var c,f,p=t.getRoot(),b,w,_=!1;c=a[(o?"start":"end")+"Container"],f=a[(o?"start":"end")+"Offset"];var F=Fr(c)&&f===c.childNodes.length,I=t.schema.getNonEmptyElements();if(w=o,uc(c))return K.none();if(Fr(c)&&f>c.childNodes.length-1&&(w=!1),Rp(c)&&(c=p,f=0),c===p){if(w&&(b=c.childNodes[f>0?f-1:0],b&&(uc(b)||I[b.nodeName]||Nc(b))))return K.none();if(c.hasChildNodes()){if(f=Math.min(!w&&f>0?f-1:f,c.childNodes.length-1),c=c.childNodes[f],f=je(c)&&F?c.data.length:0,!e&&c===p.lastChild&&Nc(c)||jw(p,c)||uc(c))return K.none();if(c.hasChildNodes()&&Nc(c)===!1){b=c;var V=new Io(c,p);do{if(xi(b)||uc(b)){_=!1;break}if(je(b)&&b.nodeValue.length>0){f=w?0:b.nodeValue.length,c=b,_=!0;break}if(I[b.nodeName.toLowerCase()]&&!Ju(b)){f=t.nodeIndex(b),c=b.parentNode,w||f++,_=!0;break}}while(b=w?V.next():V.prev())}}}return e&&(je(c)&&f===0&&io(t,F,e,!0,c).each(function(Z){c=Z.container(),f=Z.offset(),_=!0}),Fr(c)&&(b=c.childNodes[f],b||(b=c.childNodes[f-1]),b&&Yo(b)&&!K4(b,"A")&&!$w(t,b,!1)&&!$w(t,b,!0)&&io(t,F,e,!0,b).each(function(Z){c=Z.container(),f=Z.offset(),_=!0}))),w&&!e&&je(c)&&f===c.nodeValue.length&&io(t,F,e,!1,c).each(function(Z){c=Z.container(),f=Z.offset(),_=!0}),_?K.some(mn(c,f)):K.none()},bh=function(t,e){var o=e.collapsed,a=e.cloneRange(),c=mn.fromRangeStart(e);return Ww(t,o,!0,a).each(function(f){(!o||!mn.isAbove(c,f))&&a.setStart(f.container(),f.offset())}),o||Ww(t,o,!1,a).each(function(f){a.setEnd(f.container(),f.offset())}),o&&a.collapse(!0),P1(e,a)?K.none():K.some(a)},ep=function(t,e){return t.splitText(e)},F1=function(t){var e=t.startContainer,o=t.startOffset,a=t.endContainer,c=t.endOffset;return e===a&&je(e)?o>0&&o<e.nodeValue.length&&(a=ep(e,o),e=a.previousSibling,c>o?(c=c-o,e=a=ep(a,c).previousSibling,c=a.nodeValue.length,o=0):c=0):(je(e)&&o>0&&o<e.nodeValue.length&&(e=ep(e,o),o=0),je(a)&&c>0&&c<a.nodeValue.length&&(a=ep(a,c).previousSibling,c=a.nodeValue.length)),{startContainer:e,startOffset:o,endContainer:a,endOffset:c}},rp=function(t){var e=function(c,f){return Lm(t,c,f)},o=F1,a=function(c){return bh(t,c).fold(Lt,function(f){return c.setStart(f.startContainer,f.startOffset),c.setEnd(f.endContainer,f.endOffset),!0})};return{walk:e,split:o,normalize:a}};rp.compareRanges=P1,rp.getCaretRangeFromPoint=Ey,rp.getSelectedNode=Jv,rp.getNode=Gu;var op=function(t,e){var o=function(b,w){if(!xn(w)&&!w.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+w);var _=b.dom;Ci(_)&&(_.style[t]=w+"px")},a=function(b){var w=e(b);if(w<=0||w===null){var _=no(b,t);return parseFloat(_)||0}return w},c=a,f=function(b,w){return le(w,function(_,F){var I=no(b,F),V=I===void 0?0:parseInt(I,10);return isNaN(V)?_:_+V},0)},p=function(b,w,_){var F=f(b,_),I=w>F?w-F:0;return I};return{set:o,get:a,getOuter:c,aggregate:f,max:p}},X4=op("height",function(t){var e=t.dom;return gf(t)?e.getBoundingClientRect().height:e.offsetHeight}),J4=function(t){return X4.get(t)},_y=function(t,e){var o=t.view(e);return o.fold(H([]),function(a){var c=t.owner(a),f=_y(t,c);return[a].concat(f)})},Dy=function(t,e){var o=e.owner(t);return _y(e,o)},Um=function(t){var e,o=t.dom===document?K.none():K.from((e=t.dom.defaultView)===null||e===void 0?void 0:e.frameElement);return o.map(k.fromDom)},L1=function(t){return Br(t)},qw=Object.freeze({__proto__:null,view:Um,owner:L1}),Y4=function(t){var e=k.fromDom(document),o=lg(e),a=Dy(t,qw),c=rc(t),f=sn(a,function(p,b){var w=rc(b);return{left:p.left+w.left,top:p.top+w.top}},{left:0,top:0});return nl(f.left+c.left+o.left,f.top+c.top+o.top)},My=function(t){return Do(t)==="textarea"},Q4=function(t,e){var o=t.fire("ScrollIntoView",e);return o.isDefaultPrevented()},yh=function(t,e){t.fire("AfterScrollIntoView",e)},Ry=function(t,e){var o=_u(t);if(o.length===0||My(t))return{element:t,offset:e};if(e<o.length&&!My(o[e]))return{element:o[e],offset:0};var a=o[o.length-1];return My(a)?{element:t,offset:e}:Do(a)==="img"?{element:a,offset:1}:_i(a)?{element:a,offset:ph(a).length}:{element:a,offset:_u(a).length}},pr=function(t,e){var o=wi(t),a=J4(t);return{element:t,bottom:o.top+a,height:a,pos:o,cleanup:e}},Gw=function(t,e){var o=Ry(t,e),a=k.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Et+"</span>");return Za(o.element,a),pr(a,function(){return Vi(a)})},Z4=function(t){return pr(k.fromDom(t),en)},Kw=function(t,e,o,a){t3(t,function(c,f){return Yu(t,e,o,a)},o)},ip=function(t,e,o,a,c){var f={elm:a.element.dom,alignToTop:c};if(!Q4(t,f)){var p=lg(e).top;o(e,p,a,c),yh(t,f)}},Yu=function(t,e,o,a){var c=k.fromDom(t.getBody()),f=k.fromDom(t.getDoc());mk(c);var p=Gw(k.fromDom(o.startContainer),o.startOffset);ip(t,f,e,p,a),p.cleanup()},xh=function(t,e,o,a){var c=k.fromDom(t.getDoc());ip(t,c,o,Z4(e),a)},t3=function(t,e,o){var a=o.startContainer,c=o.startOffset,f=o.endContainer,p=o.endOffset;e(k.fromDom(a),k.fromDom(f));var b=t.dom.createRng();b.setStart(a,c),b.setEnd(f,p),t.selection.setRng(o)},Ay=function(t,e,o,a){var c=t.pos;if(o)Sc(c.left,c.top,a);else{var f=c.top-e+t.height;Sc(c.left,f,a)}},I1=function(t,e,o,a,c){var f=o+e,p=a.pos.top,b=a.bottom,w=b-p>=o;if(p<e)Ay(a,o,c!==!1,t);else if(p>f){var _=w?c!==!1:c===!0;Ay(a,o,_,t)}else b>f&&!w&&Ay(a,o,c===!0,t)},Xw=function(t,e,o,a){var c=t.dom.defaultView.innerHeight;I1(t,e,c,o,a)},Jw=function(t,e,o,a){var c=t.dom.defaultView.innerHeight;I1(t,e,c,o,a);var f=Y4(o.element),p=hf(window);f.top<p.y?fg(o.element,a!==!1):f.top>p.bottom&&fg(o.element,a===!0)},Yw=function(t,e,o){return Kw(t,Xw,e,o)},Qw=function(t,e,o){return xh(t,e,Xw,o)},Pf=function(t,e,o){return Kw(t,Jw,e,o)},n3=function(t,e,o){return xh(t,e,Jw,o)},e3=function(t,e,o){var a=t.inline?Qw:n3;a(t,e,o)},ap=function(t,e,o){var a=t.inline?Yw:Pf;a(t,e,o)},r3=function(){return k.fromDom(document)},o3=function(t){return t.dom.focus()},Ao=function(t){var e=Iu(t).dom;return t.dom===e.activeElement},up=function(t){return t===void 0&&(t=r3()),K.from(t.dom.activeElement).map(k.fromDom)},Rd=function(t){return up(Iu(t)).filter(function(e){return t.dom.contains(e.dom)})},Xl=function(t,e,o,a){return{start:t,soffset:e,finish:o,foffset:a}},Ad={create:Xl},zu=dr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),H1=function(t,e,o,a){return t.fold(e,o,a)},wh=function(t){return t.fold(fn,fn,fn)},cp=zu.before,Bd=zu.on,i3=zu.after,Zw={before:cp,on:Bd,after:i3,cata:H1,getStart:wh},V1=dr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),a3=function(t){return V1.exact(t.start,t.soffset,t.finish,t.foffset)},fo=function(t){return t.match({domRange:function(e){return k.fromDom(e.startContainer)},relative:function(e,o){return Zw.getStart(e)},exact:function(e,o,a,c){return e}})},Vs=V1.domRange,sp=V1.relative,tC=V1.exact,Ch=function(t){var e=fo(t);return Ri(e)},po=Ad.create,By={domRange:Vs,relative:sp,exact:tC,exactFromRange:a3,getWin:Ch,range:po},nC=ur().browser,Sh=function(t,e){var o=_i(e)?ph(e).length:_u(e).length+1;return t>o?o:t<0?0:t},eC=function(t){return By.range(t.start,Sh(t.soffset,t.start),t.finish,Sh(t.foffset,t.finish))},kh=function(t,e){return!Ml(e.dom)&&(No(t,e)||Mr(t,e))},Ff=function(t){return function(e){return kh(t,e.start)&&kh(t,e.finish)}},zy=function(t){return t.inline===!0||nC.isIE()},rC=function(t){return By.range(k.fromDom(t.startContainer),t.startOffset,k.fromDom(t.endContainer),t.endOffset)},u3=function(t){var e=t.getSelection(),o=!e||e.rangeCount===0?K.none():K.from(e.getRangeAt(0));return o.map(rC)},c3=function(t){var e=Ri(t);return u3(e.dom).filter(Ff(t))},zd=function(t,e){return K.from(e).filter(Ff(t)).map(eC)},$m=function(t){var e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),K.some(e)}catch{return K.none()}},lp=function(t){var e=zy(t)?c3(k.fromDom(t.getBody())):K.none();t.bookmark=e.isSome()?e:t.bookmark},oC=function(t,e){var o=k.fromDom(t.getBody()),a=zy(t)?K.from(e):K.none(),c=a.map(rC).filter(Ff(o));t.bookmark=c.isSome()?c:t.bookmark},Ny=function(t){var e=t.bookmark?t.bookmark:K.none();return e.bind(function(o){return zd(k.fromDom(t.getBody()),o)}).bind($m)},s3=function(t){Ny(t).each(function(e){return t.selection.setRng(e)})},U1=function(t){var e=t.className.toString();return e.indexOf("tox-")!==-1||e.indexOf("mce-")!==-1},$1={isEditorUIElement:U1},Py=function(t){return t.type==="nodechange"&&t.selectionChange},l3=function(t,e){var o=function(){e.throttle()};pi.DOM.bind(document,"mouseup",o),t.on("remove",function(){pi.DOM.unbind(document,"mouseup",o)})},Fy=function(t){t.on("focusout",function(){lp(t)})},j1=function(t,e){t.on("mouseup touchend",function(o){e.throttle()})},W1=function(t,e){var o=ur().browser;o.isIE()?Fy(t):j1(t,e),t.on("keyup NodeChange",function(a){Py(a)||lp(t)})},Ly=function(t){var e=qo(function(){lp(t)},0);t.on("init",function(){t.inline&&l3(t,e),W1(t,e)}),t.on("remove",function(){e.cancel()})},jm,q1=pi.DOM,Iy=function(t){return $1.isEditorUIElement(t)},G1=function(t){var e=t.classList;return e!==void 0?e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"):!1},Th=function(t,e){var o=Wg(t),a=q1.getParent(e,function(c){return Iy(c)||(o?t.dom.is(c,o):!1)});return a!==null},iC=function(t){try{var e=Iu(k.fromDom(t.getElement()));return up(e).fold(function(){return document.body},function(o){return o.dom})}catch{return document.body}},f3=function(t,e){var o=e.editor;Ly(o),o.on("focusin",function(){var a=t.focusedEditor;a!==o&&(a&&a.fire("blur",{focusedEditor:o}),t.setActive(o),t.focusedEditor=o,o.fire("focus",{blurredEditor:a}),o.focus(!0))}),o.on("focusout",function(){bu.setEditorTimeout(o,function(){var a=t.focusedEditor;!Th(o,iC(o))&&a===o&&(o.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),jm||(jm=function(a){var c=t.activeEditor;c&&pu(a).each(function(f){f.ownerDocument===document&&f!==document.body&&!Th(c,f)&&t.focusedEditor===c&&(c.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})},q1.bind(document,"focusin",jm))},aC=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(q1.unbind(document,"focusin",jm),jm=null)},uC=function(t){t.on("AddEditor",Cn(f3,t)),t.on("RemoveEditor",Cn(aC,t))},Hy=function(t,e){return t.dom.getParent(e,function(o){return t.dom.getContentEditable(o)==="true"})},cC=function(t){return t.collapsed?K.from(Gu(t.startContainer,t.startOffset)).map(k.fromDom):K.none()},sC=function(t,e){return cC(e).bind(function(o){return Ro(o)?K.some(o):No(t,o)===!1?K.some(t):K.none()})},Vy=function(t,e){sC(k.fromDom(t.getBody()),e).bind(function(o){return Xu(o.dom)}).fold(function(){t.selection.normalize()},function(o){return t.selection.setRng(o.toRange())})},Uy=function(t){if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},d3=function(t){return Ao(t)||Rd(t).isSome()},m3=function(t){return t.iframeElement&&Ao(k.fromDom(t.iframeElement))},fp=function(t){var e=t.getBody();return e&&d3(k.fromDom(e))},g3=function(t){var e=Iu(k.fromDom(t.getElement()));return up(e).filter(function(o){return!G1(o.dom)&&Th(t,o.dom)}).isSome()},Nd=function(t){return t.inline?fp(t):m3(t)},lC=function(t){return Nd(t)||g3(t)},Wm=function(t){var e=t.selection,o=t.getBody(),a=e.getRng();t.quirks.refreshContentEditable(),t.bookmark!==void 0&&Nd(t)===!1&&Ny(t).each(function(f){t.selection.setRng(f),a=f});var c=Hy(t,e.getNode());if(t.$.contains(o,c)){Uy(c),Vy(t,a),K1(t);return}t.inline||(mr.opera||Uy(o),t.getWin().focus()),(mr.gecko||t.inline)&&(Uy(o),Vy(t,a)),K1(t)},K1=function(t){return t.editorManager.setActive(t)},fC=function(t,e){t.removed||(e?K1(t):Wm(t))},$y=function(t,e,o,a,c){var f=o?e.startContainer:e.endContainer,p=o?e.startOffset:e.endOffset;return K.from(f).map(k.fromDom).map(function(b){return!a||!e.collapsed?Zs(b,c(b,p)).getOr(b):b}).bind(function(b){return yi(b)?K.some(b):Ai(b).filter(yi)}).map(function(b){return b.dom}).getOr(t)},Oh=function(t,e,o){return $y(t,e,!0,o,function(a,c){return Math.min(yv(a),c)})},jy=function(t,e,o){return $y(t,e,!1,o,function(a,c){return c>0?c-1:c})},qm=function(t,e){for(var o=t;t&&je(t)&&t.length===0;)t=e?t.nextSibling:t.previousSibling;return t||o},Eh=function(t,e){var o,a,c;if(!e)return t;a=e.startContainer,c=e.endContainer;var f=e.startOffset,p=e.endOffset;return o=e.commonAncestorContainer,!e.collapsed&&(a===c&&p-f<2&&a.hasChildNodes()&&(o=a.childNodes[f]),a.nodeType===3&&c.nodeType===3&&(a.length===f?a=qm(a.nextSibling,!0):a=a.parentNode,p===0?c=qm(c.previousSibling,!1):c=c.parentNode,a&&a===c))?a:o&&o.nodeType===3?o.parentNode:o},p3=function(t,e,o,a){var c,f=[],p=t.getRoot();if(o=t.getParent(o||Oh(p,e,e.collapsed),t.isBlock),a=t.getParent(a||jy(p,e,e.collapsed),t.isBlock),o&&o!==p&&f.push(o),o&&a&&o!==a){c=o;for(var b=new Io(o,p);(c=b.next())&&c!==a;)t.isBlock(c)&&f.push(c)}return a&&o!==a&&a!==p&&f.push(a),f},dC=function(t,e,o){return K.from(e).map(function(a){var c=t.nodeIndex(a),f=t.createRng();return f.setStart(a.parentNode,c),f.setEnd(a.parentNode,c+1),o&&(ql(t,f,a,!0),ql(t,f,a,!1)),f})},dp=function(t,e){return jn(e,function(o){var a=t.fire("GetSelectionRange",{range:o});return a.range!==o?a.range:o})},h3={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},_h=function(t,e,o){var a=o?"lastChild":"firstChild",c=o?"prev":"next";if(t[a])return t[a];if(t!==e){var f=t[c];if(f)return f;for(var p=t.parent;p&&p!==e;p=p.parent)if(f=p[c],f)return f}},Dh=function(t){if(!Ms(t.value))return!1;var e=t.parent;return!(e&&(e.name!=="span"||e.attr("style"))&&/^[ ]+$/.test(t.value))},mC=function(t){var e=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e},hs=function(){function t(e,o){this.name=e,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,o){var a=new t(e,h3[e]||1);return o&&te(o,function(c,f){a.attr(f,c)}),a},t.prototype.replace=function(e){var o=this;return e.parent&&e.remove(),o.insert(e,o),o.remove(),o},t.prototype.attr=function(e,o){var a=this,c;if(typeof e!="string")return e!=null&&te(e,function(p,b){a.attr(b,p)}),a;if(c=a.attributes){if(o!==void 0){if(o===null){if(e in c.map){delete c.map[e];for(var f=c.length;f--;)if(c[f].name===e)return c.splice(f,1),a}return a}if(e in c.map){for(var f=c.length;f--;)if(c[f].name===e){c[f].value=o;break}}else c.push({name:e,value:o});return c.map[e]=o,a}return c.map[e]}},t.prototype.clone=function(){var e=this,o=new t(e.name,e.type),a;if(a=e.attributes){var c=[];c.map={};for(var f=0,p=a.length;f<p;f++){var b=a[f];b.name!=="id"&&(c[c.length]={name:b.name,value:b.value},c.map[b.name]=b.value)}o.attributes=c}return o.value=e.value,o.shortEnded=e.shortEnded,o},t.prototype.wrap=function(e){var o=this;return o.parent.insert(e,o),e.append(o),o},t.prototype.unwrap=function(){for(var e=this,o=e.firstChild;o;){var a=o.next;e.insert(o,e,!0),o=a}e.remove()},t.prototype.remove=function(){var e=this,o=e.parent,a=e.next,c=e.prev;return o&&(o.firstChild===e?(o.firstChild=a,a&&(a.prev=null)):c.next=a,o.lastChild===e?(o.lastChild=c,c&&(c.next=null)):a.prev=c,e.parent=e.next=e.prev=null),e},t.prototype.append=function(e){var o=this;e.parent&&e.remove();var a=o.lastChild;return a?(a.next=e,e.prev=a,o.lastChild=e):o.lastChild=o.firstChild=e,e.parent=o,e},t.prototype.insert=function(e,o,a){e.parent&&e.remove();var c=o.parent||this;return a?(o===c.firstChild?c.firstChild=e:o.prev.next=e,e.prev=o.prev,e.next=o,o.prev=e):(o===c.lastChild?c.lastChild=e:o.next.prev=e,e.next=o.next,e.prev=o,o.next=e),e.parent=c,e},t.prototype.getAll=function(e){for(var o=this,a=[],c=o.firstChild;c;c=_h(c,o))c.name===e&&a.push(c);return a},t.prototype.children=function(){for(var e=this,o=[],a=e.firstChild;a;a=a.next)o.push(a);return o},t.prototype.empty=function(){var e=this;if(e.firstChild){for(var o=[],a=e.firstChild;a;a=_h(a,e))o.push(a);for(var c=o.length;c--;){var a=o[c];a.parent=a.firstChild=a.lastChild=a.next=a.prev=null}}return e.firstChild=e.lastChild=null,e},t.prototype.isEmpty=function(e,o,a){o===void 0&&(o={});var c=this,f=c.firstChild;if(mC(c))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(e[f.name]||mC(f))return!1}if(f.type===8||f.type===3&&!Dh(f)||f.type===3&&f.parent&&o[f.parent.name]&&Ms(f.value)||a&&a(f))return!1}while(f=_h(f,c));return!0},t.prototype.walk=function(e){return _h(this,null,e)},t}(),Wy=function(t){for(var e=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,o=[],a={},c=Lg("img"),f,p=0,b=0;f=e.exec(t);){var w=f[0],_=c+"_"+b++;a[_]=w,p<f.index&&o.push(t.substr(p,f.index-p)),o.push(_),p=f.index+w.length}var F=new RegExp(c+"_[0-9]+","g");return p===0?{prefix:c,uris:a,html:t,re:F}:(p<t.length&&o.push(t.substr(p)),{prefix:c,uris:a,html:o.join(""),re:F})},X1=function(t,e){return t.replace(e.re,function(o){return _r(e.uris,o).getOr(o)})},v3=function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(t);return e?K.some({type:e[1],data:decodeURIComponent(e[2])}):K.none()},qy=hn.each,gC=hn.trim,J1="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Mh={ftp:21,http:80,https:443,mailto:25},Gy=["img","video"],pC=function(t,e){return Me(t)?!t:Me(e)?!Dt(Gy,e):!0},hC=function(t,e,o){return t.allow_html_data_urls?!1:/^data:image\//i.test(e)?pC(t.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e)},Lf=function(){function t(e,o){e=gC(e),this.settings=o||{};var a=this.settings.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){c.source=e;return}var f=e.indexOf("//")===0;if(e.indexOf("/")===0&&!f&&(e=(a&&a.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var p=this.settings.base_uri?this.settings.base_uri.path:new t(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")e="//mce_host"+c.toAbsPath(p,e);else{var b=/([^#?]*)([#?]?.*)/.exec(e);e=(a&&a.protocol||"http")+"://mce_host"+c.toAbsPath(p,b[1])+b[2]}}e=e.replace(/@@/g,"(mce_at)");var w=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);qy(J1,function(_,F){var I=w[F];I&&(I=I.replace(/\(mce_at\)/g,"@@")),c[_]=I}),a&&(c.protocol||(c.protocol=a.protocol),c.userInfo||(c.userInfo=a.userInfo),!c.port&&c.host==="mce_host"&&(c.port=a.port),(!c.host||c.host==="mce_host")&&(c.host=a.host),c.source=""),f&&(c.protocol="")}return t.parseDataUri=function(e){var o,a=decodeURIComponent(e).split(","),c=/data:([^;]+)/.exec(a[0]);return c&&(o=c[1]),{type:o,data:a[1]}},t.isDomSafe=function(e,o,a){if(a===void 0&&(a={}),a.allow_script_urls)return!0;var c=Jc.decode(e).replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch{c=unescape(c)}return/((java|vb)script|mhtml):/i.test(c)?!1:!hC(a,c,o)},t.getDocumentBaseUrl=function(e){var o;return e.protocol.indexOf("http")!==0&&e.protocol!=="file:"?o=e.href:o=e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o},t.prototype.setPath=function(e){var o=/^(.*?)\/?(\w+)?$/.exec(e);this.path=o[0],this.directory=o[1],this.file=o[2],this.source="",this.getURI()},t.prototype.toRelative=function(e){var o;if(e==="./")return e;var a=new t(e,{base_uri:this});if(a.host!=="mce_host"&&this.host!==a.host&&a.host||this.port!==a.port||this.protocol!==a.protocol&&a.protocol!=="")return a.getURI();var c=this.getURI(),f=a.getURI();return c===f||c.charAt(c.length-1)==="/"&&c.substr(0,c.length-1)===f?c:(o=this.toRelPath(this.path,a.path),a.query&&(o+="?"+a.query),a.anchor&&(o+="#"+a.anchor),o)},t.prototype.toAbsolute=function(e,o){var a=new t(e,{base_uri:this});return a.getURI(o&&this.isSameOrigin(a))},t.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var o=Mh[this.protocol];if(o&&(this.port||o)==(e.port||o))return!0}return!1},t.prototype.toRelPath=function(e,o){var a=0,c="",f,p,b=e.substring(0,e.lastIndexOf("/")).split("/"),w=o.split("/");if(b.length>=w.length){for(f=0,p=b.length;f<p;f++)if(f>=w.length||b[f]!==w[f]){a=f+1;break}}if(b.length<w.length){for(f=0,p=w.length;f<p;f++)if(f>=b.length||b[f]!==w[f]){a=f+1;break}}if(a===1)return o;for(f=0,p=b.length-(a-1);f<p;f++)c+="../";for(f=a-1,p=w.length;f<p;f++)f!==a-1?c+="/"+w[f]:c+=w[f];return c},t.prototype.toAbsPath=function(e,o){var a,c=0,f=[],p,b=/\/$/.test(o)?"/":"",w=e.split("/"),_=o.split("/");for(qy(w,function(F){F&&f.push(F)}),w=f,a=_.length-1,f=[];a>=0;a--)if(!(_[a].length===0||_[a]===".")){if(_[a]===".."){c++;continue}if(c>0){c--;continue}f.push(_[a])}return a=w.length-c,a<=0?p=Xn(f).join("/"):p=w.slice(0,a).join("/")+"/"+Xn(f).join("/"),p.indexOf("/")!==0&&(p="/"+p),b&&p.lastIndexOf("/")!==p.length-1&&(p+=b),p},t.prototype.getURI=function(e){e===void 0&&(e=!1);var o;return(!this.source||e)&&(o="",e||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source},t}(),Y1=hn.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),b3=function(t){return t.indexOf("data-")===0||t.indexOf("aria-")===0},Ky=function(t,e,o){for(var a=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,c=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=t.getShortEndedElements(),p=1,b=o;p!==0;)for(a.lastIndex=b;;){var w=a.exec(e);if(w===null)return b;if(w[1]==="!"){P(w[2],"--")?b=Xy(e,!1,w.index+3):b=Xy(e,!0,w.index+1);break}else{c.lastIndex=a.lastIndex;var _=c.exec(e);if(X(_)||_.index!==a.lastIndex)continue;w[1]==="/"?p-=1:Rr(f,w[2])||(p+=1),b=a.lastIndex+_[0].length;break}}return b},y3=function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))},Xy=function(t,e,o){o===void 0&&(o=0);var a=t.toLowerCase();if(a.indexOf("[if ",o)!==-1&&y3(a,o)){var c=a.indexOf("[endif]",o);return a.indexOf(">",c)}else if(e){var f=a.indexOf(">",o);return f!==-1?f:a.length}else{var p=/--!?>/g;p.lastIndex=o;var b=p.exec(t);return b?b.index+b[0].length:a.length}},mp=function(t,e){var o=t.exec(e);if(o){var a=o[1],c=o[2];return typeof a=="string"&&a.toLowerCase()==="data-mce-bogus"?c:null}else return null},Q1=function(t,e){var o;e===void 0&&(e=uo()),t=t||{};var a=(o=t.document)!==null&&o!==void 0?o:document,c=a.createElement("form");t.fix_self_closing!==!1&&(t.fix_self_closing=!0);var f=t.comment?t.comment:en,p=t.cdata?t.cdata:en,b=t.text?t.text:en,w=t.start?t.start:en,_=t.end?t.end:en,F=t.pi?t.pi:en,I=t.doctype?t.doctype:en,V=function(Q,et){et===void 0&&(et="html");for(var it=Q.html,gt,mt=0,wt,Ht,vt=[],Wt,yn,ee,hr,Le,Gn,Ar,se,Fe,ue,Te,$e,Zn,qe,Wr,$o,xo,da=0,ka=Jc.decode,ns=hn.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Cs=et==="html"?0:1,Yn=function(Ni){var fi,Ta;for(fi=vt.length;fi--&&vt[fi].name!==Ni;);if(fi>=0){for(Ta=vt.length-1;Ta>=fi;Ta--)Ni=vt[Ta],Ni.valid&&_(Ni.name);vt.length=fi}},an=function(Ni,fi){return b(X1(Ni,Q),fi)},re=function(Ni){Ni!==""&&(Ni.charAt(0)===">"&&(Ni=" "+Ni),!t.allow_conditional_comments&&Ni.substr(0,3).toLowerCase()==="[if"&&(Ni=" "+Ni),f(X1(Ni,Q)))},cn=function(Ni){return X1(Ni,Q)},Qe=function(Ni,fi){var Ta=Ni||"",of=!P(Ta,"--"),Jd=Xy(it,of,fi);return Ni=it.substr(fi,Jd-fi),re(of?Ta+Ni:Ni),Jd+1},Se=function(Ni,fi,Ta,of,Jd){if(fi=fi.toLowerCase(),Ta=cn(fi in Ic?fi:ka(Ta||of||Jd||"")),kl&&!Le&&b3(fi)===!1){var af=Te[fi];if(!af&&$e){for(var Kf=$e.length;Kf--&&(af=$e[Kf],!af.pattern.test(fi)););Kf===-1&&(af=null)}if(!af||af.validValues&&!(Ta in af.validValues))return}var Q2=fi==="name"||fi==="id";Q2&&Ni in Y1&&(Ta in a||Ta in c)||ns[fi]&&!Lf.isDomSafe(Ta,Ni,t)||Le&&(fi in ns||fi.indexOf("on")===0)||(Wt.map[fi]=Ta,Wt.push({name:fi,value:Ta}))},Dr=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),co=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ti=e.getShortEndedElements(),mc=t.self_closing_elements||e.getSelfClosingElements(),Ic=e.getBoolAttrs(),kl=t.validate,gc=t.remove_internals,pc=t.fix_self_closing,za=e.getSpecialElements(),sg=it+">";gt=Dr.exec(sg);){var Tu=gt[0];if(mt<gt.index&&an(ka(it.substr(mt,gt.index-mt))),wt=gt[7])wt=wt.toLowerCase(),wt.charAt(0)===":"&&(wt=wt.substr(1)),Yn(wt);else if(wt=gt[8]){if(gt.index+Tu.length>it.length){an(ka(it.substr(gt.index))),mt=gt.index+Tu.length;continue}wt=wt.toLowerCase(),wt.charAt(0)===":"&&(wt=wt.substr(1)),Gn=wt in Ti,pc&&mc[wt]&&vt.length>0&&vt[vt.length-1].name===wt&&Yn(wt);var Tl=mp(co,gt[9]);if(Tl!==null){if(Tl==="all"){mt=Ky(e,it,Dr.lastIndex),Dr.lastIndex=mt;continue}se=!1}if(!kl||(Ar=e.getElementRule(wt))){if(se=!0,kl&&(Te=Ar.attributes,$e=Ar.attributePatterns),(ue=gt[9])?(Le=ue.indexOf("data-mce-type")!==-1,Le&&gc&&(se=!1),Wt=[],Wt.map={},ue.replace(co,function(Ni,fi,Ta,of,Jd){return Se(wt,fi,Ta,of,Jd),""})):(Wt=[],Wt.map={}),kl&&!Le){if(Zn=Ar.attributesRequired,qe=Ar.attributesDefault,Wr=Ar.attributesForced,$o=Ar.removeEmptyAttrs,$o&&!Wt.length&&(se=!1),Wr)for(yn=Wr.length;yn--;)Fe=Wr[yn],hr=Fe.name,xo=Fe.value,xo==="{$uid}"&&(xo="mce_"+da++),Wt.map[hr]=xo,Wt.push({name:hr,value:xo});if(qe)for(yn=qe.length;yn--;)Fe=qe[yn],hr=Fe.name,hr in Wt.map||(xo=Fe.value,xo==="{$uid}"&&(xo="mce_"+da++),Wt.map[hr]=xo,Wt.push({name:hr,value:xo}));if(Zn){for(yn=Zn.length;yn--&&!(Zn[yn]in Wt.map););yn===-1&&(se=!1)}if(Fe=Wt.map["data-mce-bogus"]){if(Fe==="all"){mt=Ky(e,it,Dr.lastIndex),Dr.lastIndex=mt;continue}se=!1}}se&&w(wt,Wt,Gn)}else se=!1;if(Ht=za[wt]){Ht.lastIndex=mt=gt.index+Tu.length,(gt=Ht.exec(it))?(se&&(ee=it.substr(mt,gt.index-mt)),mt=gt.index+gt[0].length):(ee=it.substr(mt),mt=it.length),se&&(ee.length>0&&an(ee,!0),_(wt)),Dr.lastIndex=mt;continue}Gn||(!ue||ue.indexOf("/")!==ue.length-1?vt.push({name:wt,valid:se}):se&&_(wt))}else if(wt=gt[1])re(wt);else if(wt=gt[2]){var Xd=Cs===1||t.preserve_cdata||vt.length>0&&e.isValidChild(vt[vt.length-1].name,"#cdata");if(Xd)p(wt);else{mt=Qe("",gt.index+2),Dr.lastIndex=mt;continue}}else if(wt=gt[3])I(wt);else if((wt=gt[4])||Tu==="<!"){mt=Qe(wt,gt.index+Tu.length),Dr.lastIndex=mt;continue}else if(wt=gt[5])if(Cs===1)F(wt,gt[6]);else{mt=Qe("?",gt.index+2),Dr.lastIndex=mt;continue}mt=gt.index+Tu.length}for(mt<it.length&&an(ka(it.substr(mt))),yn=vt.length-1;yn>=0;yn--)wt=vt[yn],wt.valid&&_(wt.name)},Z=function(Q,et){et===void 0&&(et="html"),V(Wy(Q),et)};return{parse:Z}};Q1.findEndTag=Ky;var x3=function(t,e){var o=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(o,"")},vC=function(t,e){for(var o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,a=t.schema,c=x3(t.getTempAttrs(),e),f=a.getShortEndedElements(),p;p=o.exec(c);){var b=o.lastIndex,w=p[0].length,_=void 0;f[p[1]]?_=b:_=Q1.findEndTag(a,c,b),c=c.substring(0,b-w)+c.substring(_),o.lastIndex=b-w}return al(c)},Jy=vC,Yy=function(t,e){var o=au(t),a=new RegExp("^(<"+o+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+o+`>[\r
]*|<br \\/>[\r
]*)$`);return e.replace(a,"")},w3=function(t,e){return Ze(Ze({},t),{format:e,get:!0,getInner:!0})},Z1=function(t,e,o,a){var c=w3(e,o),f=e.no_events?c:t.fire("BeforeGetContent",c),p;return f.format==="raw"?p=hn.trim(Jy(t.serializer,a.innerHTML)):f.format==="text"?p=t.dom.isEmpty(a)?"":al(a.innerText||a.textContent):f.format==="tree"?p=t.serializer.serialize(a,f):p=Yy(t,t.serializer.serialize(a,f)),!Dt(["text","tree"],f.format)&&!em(k.fromDom(a))?f.content=hn.trim(p):f.content=p,f.no_events?f.content:t.fire("GetContent",f).content},bC=function(t,e,o){return K.from(t.getBody()).fold(H(e.format==="tree"?new hs("body",11):""),function(a){return Z1(t,e,o,a)})},yC=hn.each,xC=function(t){var e=function(o,a){if(o.nodeName!==a.nodeName)return!1;var c=function(p){var b={};return yC(t.getAttribs(p),function(w){var _=w.nodeName.toLowerCase();_.indexOf("_")!==0&&_!=="style"&&_.indexOf("data-")!==0&&(b[_]=t.getAttrib(p,_))}),b},f=function(p,b){var w,_;for(_ in p)if(Rr(p,_)){if(w=b[_],typeof w>"u"||p[_]!==w)return!1;delete b[_]}for(_ in b)if(Rr(b,_))return!1;return!0};return!f(c(o),c(a))||!f(t.parseStyle(t.getAttrib(o,"style")),t.parseStyle(t.getAttrib(a,"style")))?!1:!zc(o)&&!zc(a)};return{compare:e}},Rh=hn.makeMap,Ah=function(t){var e=[];t=t||{};var o=t.indent,a=Rh(t.indent_before||""),c=Rh(t.indent_after||""),f=Jc.getEncodeFunc(t.entity_encoding||"raw",t.entities),p=t.element_format==="html";return{start:function(b,w,_){var F,I,V,Z;if(o&&a[b]&&e.length>0&&(Z=e[e.length-1],Z.length>0&&Z!==`
`&&e.push(`
`)),e.push("<",b),w)for(F=0,I=w.length;F<I;F++)V=w[F],e.push(" ",V.name,'="',f(V.value,!0),'"');!_||p?e[e.length]=">":e[e.length]=" />",_&&o&&c[b]&&e.length>0&&(Z=e[e.length-1],Z.length>0&&Z!==`
`&&e.push(`
`))},end:function(b){var w;e.push("</",b,">"),o&&c[b]&&e.length>0&&(w=e[e.length-1],w.length>0&&w!==`
`&&e.push(`
`))},text:function(b,w){b.length>0&&(e[e.length]=w?b:f(b))},cdata:function(b){e.push("<![CDATA[",b,"]]>")},comment:function(b){e.push("<!--",b,"-->")},pi:function(b,w){w?e.push("<?",b," ",f(w),"?>"):e.push("<?",b,"?>"),o&&e.push(`
`)},doctype:function(b){e.push("<!DOCTYPE",b,">",o?`
`:"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}},Gm=function(t,e){e===void 0&&(e=uo());var o=Ah(t);t=t||{},t.validate="validate"in t?t.validate:!0;var a=function(c){var f=t.validate,p={3:function(w){o.text(w.value,w.raw)},8:function(w){o.comment(w.value)},7:function(w){o.pi(w.name,w.value)},10:function(w){o.doctype(w.value)},4:function(w){o.cdata(w.value)},11:function(w){if(w=w.firstChild)do b(w);while(w=w.next)}};o.reset();var b=function(w){var _=p[w.type];if(_)_(w);else{var F=w.name,I=w.shortEnded,V=w.attributes;if(f&&V&&V.length>1){var Z=[];Z.map={};var Q=e.getElementRule(w.name);if(Q){for(var et=0,it=Q.attributesOrder.length;et<it;et++){var gt=Q.attributesOrder[et];if(gt in V.map){var mt=V.map[gt];Z.map[gt]=mt,Z.push({name:gt,value:mt})}}for(var et=0,it=V.length;et<it;et++){var gt=V[et].name;if(!(gt in Z.map)){var mt=V.map[gt];Z.map[gt]=mt,Z.push({name:gt,value:mt})}}V=Z}}if(o.start(w.name,V,I),!I){if(w=w.firstChild)do b(w);while(w=w.next);o.end(F)}}};return c.type===1&&!t.inner?b(c):p[11](c),o.getContent()};return{serialize:a}},wC=new Set;(function(){var t=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];nn(t,function(e){wC.add(e)})})();var CC=["font","text-decoration","text-emphasis"],t0=function(t,e){return Fn(t.parseStyle(t.getAttrib(e,"style")))},n0=function(t){return wC.has(t)},Qy=function(t,e){return ko(t0(t,e),function(o){return!n0(o)})},Zy=function(t){return pt(t,function(e){return Qt(CC,function(o){return P(e,o)})})},SC=function(t,e,o){var a=t0(t,e),c=t0(t,o),f=function(p){var b=t.getStyle(e,p),w=t.getStyle(o,p);return qt(b)&&qt(w)&&b!==w};return Qt(a,function(p){var b=function(_){return Qt(_,function(F){return F===p})};if(!b(c)&&b(CC)){var w=Zy(c);return Qt(w,f)}else return f(p)})},Jl=function(t,e,o){return K.from(o.container()).filter(je).exists(function(a){var c=t?0:-1;return e(a.data.charAt(o.offset()+c))})},t2=Cn(Jl,!0,Jg),Yl=Cn(Jl,!1,Jg),C3=function(t){var e=t.container();return je(e)&&(e.data.length===0||$u(e.data)&&Gl.isBookmarkNode(e.parentNode))},If=function(t,e){return function(o){return K.from(Kg(t?0:-1,o)).filter(e).isSome()}},kC=function(t){return dg(t)&&no(k.fromDom(t),"display")==="block"},TC=function(t){return xi(t)&&!ba(t)},S3=If(!0,kC),k3=If(!1,kC),gp=If(!0,oc),pp=If(!1,oc),e0=If(!0,na),OC=If(!1,na),Pd=If(!0,TC),Fd=If(!1,TC),EC=function(t){for(var e=[],o=t.dom;o;)e.push(k.fromDom(o)),o=o.lastChild;return e},Bh=function(t){var e=sc(t,"br"),o=pt(EC(t).slice(-1),xg);e.length===o.length&&nn(o,Vi)},Km=function(t){df(t),va(t,k.fromHtml('<br data-mce-bogus="1">'))},kr=function(t){Cc(t).each(function(e){sf(e).each(function(o){qc(t)&&xg(e)&&qc(o)&&Vi(e)})})},n2=function(t){return t.slice(0,-1)},r0=function(t,e,o){return No(e,t)?n2(ha(t,function(a){return o(a)||Mr(a,e)})):[]},e2=function(t,e){return r0(t,e,Lt)},Hf=function(t,e){return[t].concat(e2(t,e))},o0=function(t,e,o){return ch(t,e,o,C3)},zh=function(t,e){return Ue(Hf(k.fromDom(e.container()),t),qc)},i0=function(t,e,o){return o0(t,e.dom,o).forall(function(a){return zh(e,o).fold(function(){return Ls(a,o,e.dom)===!1},function(c){return Ls(a,o,e.dom)===!1&&No(c,k.fromDom(a.container()))})})},r2=function(t,e,o){return zh(e,o).fold(function(){return o0(t,e.dom,o).forall(function(a){return Ls(a,o,e.dom)===!1})},function(a){return o0(t,a.dom,o).isNone()})},o2=Cn(r2,!1),Ur=Cn(r2,!0),_C=Cn(i0,!1),Zr=Cn(i0,!0),DC=function(t){return Td(t).exists(xg)},Nh=function(t,e,o){var a=pt(Hf(k.fromDom(o.container()),e),qc),c=qn(a).getOr(e);return Cu(t,c.dom,o).filter(DC)},a0=function(t,e){return Td(e).exists(xg)||Nh(!0,t,e).isSome()},Ld=function(t,e){return fw(e).exists(xg)||Nh(!1,t,e).isSome()},i2=Cn(Nh,!1),u0=Cn(Nh,!0),Ph=function(t){return mn.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},MC=function(t,e){var o=pt(Hf(k.fromDom(e.container()),t),qc);return qn(o).getOr(t)},Nr=function(t,e){return Ph(e)?Yl(e):Yl(e)||ds(MC(t,e).dom,e).exists(Yl)},RC=function(t,e){return Ph(e)?t2(e):t2(e)||fs(MC(t,e).dom,e).exists(t2)},AC=function(t){return Dt(["pre","pre-wrap"],t)},hp=function(t){return Td(t).bind(function(e){return vg(e,yi)}).exists(function(e){return AC(no(e,"white-space"))})},Xm=function(t,e){return ds(t.dom,e).isNone()},BC=function(t,e){return fs(t.dom,e).isNone()},zC=function(t,e){return Xm(t,e)||BC(t,e)||o2(t,e)||Ur(t,e)||Ld(t,e)||a0(t,e)},a2=function(t,e){return hp(e)?!1:zC(t,e)||Nr(t,e)||RC(t,e)},c0=function(t,e){return hp(e)?!1:o2(t,e)||_C(t,e)||Ld(t,e)||Nr(t,e)},NC=function(t){var e=t.container(),o=t.offset();return je(e)&&o<e.data.length?mn(e,o+1):t},s0=function(t,e){return hp(e)?!1:Ur(t,e)||Zr(t,e)||a0(t,e)||RC(t,e)},PC=function(t,e){return c0(t,e)||s0(t,NC(e))},FC=function(t,e){return Ed(t.charAt(e))},T3=function(t){var e=t.container();return je(e)&&Tn(e.data,Tc)},O3=function(t){var e=t.split("");return jn(e,function(o,a){return Ed(o)&&a>0&&a<e.length-1&&sh(e[a-1])&&sh(e[a+1])?" ":o}).join("")},E3=function(t,e){var o=e.data,a=mn(e,0);return FC(o,0)&&!PC(t,a)?(e.data=" "+o.slice(1),!0):!1},_3=function(t){var e=t.data,o=O3(e);return o!==e?(t.data=o,!0):!1},LC=function(t,e){var o=e.data,a=mn(e,o.length-1);return FC(o,o.length-1)&&!PC(t,a)?(e.data=o.slice(0,-1)+" ",!0):!1},u2=function(t,e){return K.some(e).filter(T3).bind(function(o){var a=o.container(),c=E3(t,a)||_3(a)||LC(t,a);return c?K.some(o):K.none()})},ho=function(t){var e=k.fromDom(t.getBody());t.selection.isCollapsed()&&u2(e,mn.fromRangeStart(t.selection.getRng())).each(function(o){t.selection.setRng(o.toRange())})},IC=function(t,e,o){var a=le(t,function(c,f){return Jg(f)||Ed(f)?c.previousCharIsSpace||c.str===""&&e||c.str.length===t.length-1&&o?{previousCharIsSpace:!1,str:c.str+Tc}:{previousCharIsSpace:!0,str:c.str+" "}:{previousCharIsSpace:!1,str:c.str+f}},{previousCharIsSpace:!1,str:""});return a.str},Fh=function(t,e,o){if(o!==0){var a=k.fromDom(t),c=Zf(a,qc).getOr(a),f=t.data.slice(e,e+o),p=e+o>=t.data.length&&s0(c,mn(t,t.data.length)),b=e===0&&c0(c,mn(t,0));t.replaceData(e,o,IC(f,b,p))}},Lh=function(t,e){var o=t.data.slice(e),a=o.length-St(o).length;Fh(t,e,a)},l0=function(t,e){var o=t.data.slice(0,e),a=o.length-Ut(o).length;Fh(t,e-a,a)},f0=function(t,e,o,a){a===void 0&&(a=!0);var c=Ut(t.data).length,f=a?t:e,p=a?e:t;return a?f.appendData(p.data):f.insertData(0,p.data),Vi(k.fromDom(p)),o&&Lh(f,c),f},HC=function(t,e){var o=t.container(),a=t.offset();return mn.isTextPosition(t)===!1&&o===e.parentNode&&a>mn.before(e).offset()},VC=function(t,e){return HC(e,t)?mn(e.container(),e.offset()-1):e},u=function(t){return je(t)?mn(t,0):mn.before(t)},l=function(t){return je(t)?mn(t,t.data.length):mn.after(t)},m=function(t){return Nl(t.previousSibling)?K.some(l(t.previousSibling)):t.previousSibling?gl(t.previousSibling):K.none()},h=function(t){return Nl(t.nextSibling)?K.some(u(t.nextSibling)):t.nextSibling?Xu(t.nextSibling):K.none()},y=function(t,e){var o=mn.before(e.previousSibling?e.previousSibling:e.parentNode);return ds(t,o).fold(function(){return fs(t,mn.after(e))},K.some)},T=function(t,e){return fs(t,mn.after(e)).fold(function(){return ds(t,mn.before(e))},K.some)},R=function(t,e){return m(e).orThunk(function(){return h(e)}).orThunk(function(){return y(t,e)})},N=function(t,e){return h(e).orThunk(function(){return m(e)}).orThunk(function(){return T(t,e)})},G=function(t,e,o){return t?N(e,o):R(e,o)},at=function(t,e,o){return G(t,e,o).map(Cn(VC,o))},yt=function(t,e,o){o.fold(function(){t.focus()},function(a){t.selection.setRng(a.toRange(),e)})},vn=function(t){return function(e){return e.dom===t}},ne=function(t,e){return e&&Rr(t.schema.getBlockElements(),Do(e))},In=function(t){if(eu(t)){var e=k.fromHtml('<br data-mce-bogus="1">');return df(t),va(t,e),K.some(mn.before(e.dom))}else return K.none()},bn=function(t,e,o){var a=sf(t).filter(_i),c=$c(t).filter(_i);return Vi(t),U0(a,c,e,function(f,p,b){var w=f.dom,_=p.dom,F=w.data.length;return f0(w,_,o),b.container()===_?mn(w,F):b}).orThunk(function(){return o&&(a.each(function(f){return l0(f.dom,f.dom.length)}),c.each(function(f){return Lh(f.dom,0)})),e})},ve=function(t,e){return Rr(t.schema.getTextInlineElements(),Do(e))},he=function(t,e,o,a){a===void 0&&(a=!0);var c=at(e,t.getBody(),o.dom),f=Zf(o,Cn(ne,t),vn(t.getBody())),p=bn(o,c,ve(t,o));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):f.bind(In).fold(function(){a&&yt(t,e,p)},function(b){a&&yt(t,e,K.some(b))})},sr=function(t){return function(e){return Mr(t,e)}},Co=function(t){return sc(t,"td,th")},yr=function(t,e){var o=function(_){return Is(k.fromDom(_),e)},a=o(t.startContainer),c=o(t.endContainer),f=a.isSome(),p=c.isSome(),b=Du(a,c,Mr).getOr(!1),w=!b&&f&&p;return{startTable:a,endTable:c,isStartInTable:f,isEndInTable:p,isSameTable:b,isMultiTable:w}},Pr=function(t,e){return{start:t,end:e}},mo=function(t,e,o){return{rng:t,table:e,cells:o}},eo=dr.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),$i=function(t,e){return Ki(k.fromDom(t),"td,th",e)},Aa=function(t){return!Mr(t.start,t.end)},Nu=function(t,e){return Is(t.start,e).bind(function(o){return Is(t.end,e).bind(function(a){return $0(Mr(o,a),o)})})},To=function(t,e){return!Aa(t)&&Nu(t,e).exists(function(o){var a=o.dom.rows;return a.length===1&&a[0].cells.length===1})},$r=function(t,e){var o=$i(t.startContainer,e),a=$i(t.endContainer,e);return Du(o,a,Pr)},vo=function(t){return function(e){return Is(e,t).bind(function(o){return xe(Co(o)).map(function(a){return Pr(e,a)})})}},Uo=function(t){return function(e){return Is(e,t).bind(function(o){return qn(Co(o)).map(function(a){return Pr(a,e)})})}},ki=function(t){return function(e){return Nu(e,t).map(function(o){return mo(e,o,Co(o))})}},Ql=function(t,e,o,a){if(o.collapsed||!t.forall(Aa))return K.none();if(e.isSameTable){var c=t.bind(ki(a));return K.some({start:c,end:c})}else{var f=$i(o.startContainer,a),p=$i(o.endContainer,a),b=f.bind(vo(a)).bind(ki(a)),w=p.bind(Uo(a)).bind(ki(a));return K.some({start:b,end:w})}},Ho=function(t,e){return er(t,function(o){return Mr(o,e)})},Pc=function(t){return Du(Ho(t.cells,t.rng.start),Ho(t.cells,t.rng.end),function(e,o){return t.cells.slice(e,o+1)})},su=function(t,e,o){return t.exists(function(a){return To(a,o)&&mh(a.start,e)})},Ih=function(t,e){var o=e.startTable,a=e.endTable,c=t.cloneRange();return o.each(function(f){return c.setStartAfter(f.dom)}),a.each(function(f){return c.setEndBefore(f.dom)}),c},Jm=function(t,e,o,a){return Ql(t,e,o,a).bind(function(c){var f=c.start,p=c.end;return f.or(p)}).bind(function(c){var f=e.isSameTable,p=Pc(c).getOr([]);if(f&&c.cells.length===p.length)return K.some(eo.fullTable(c.table));if(p.length>0){if(f)return K.some(eo.partialTable(p,K.none()));var b=Ih(o,e);return K.some(eo.partialTable(p,K.some(Ze(Ze({},e),{rng:b}))))}else return K.none()})},bl=function(t,e,o,a){return Ql(t,e,o,a).bind(function(c){var f=c.start,p=c.end,b=f.bind(Pc).getOr([]),w=p.bind(Pc).getOr([]);if(b.length>0&&w.length>0){var _=Ih(o,e);return K.some(eo.multiTable(b,w,_))}else return K.none()})},vs=function(t,e){var o=sr(t),a=$r(e,o),c=yr(e,o);return su(a,e,o)?a.map(function(f){return eo.singleCellTable(e,f.start)}):c.isMultiTable?bl(a,c,e,o):Jm(a,c,e,o)},yl=function(t){var e=xc(t)?sf(t):Cc(t);return e.bind(yl).orThunk(function(){return K.some(t)})},Hh=function(t){return nn(t,function(e){On(e,"contenteditable"),Km(e)})},vp=function(t,e){return K.from(t.dom.getParent(e,t.dom.isBlock)).map(k.fromDom)},Vh=function(t,e,o){o.each(function(a){e?Vi(a):(Km(a),t.selection.setCursorLocation(a.dom,0))})},Ym=function(t,e,o,a){var c=o.cloneRange();a?(c.setStart(o.startContainer,o.startOffset),c.setEndAfter(e.dom.lastChild)):(c.setStartBefore(e.dom.firstChild),c.setEnd(o.endContainer,o.endOffset)),m0(t,c,e,!1)},Us=function(t){var e=Im(t),o=k.fromDom(t.selection.getNode());mg(o.dom)&&eu(o)?t.selection.setCursorLocation(o.dom,0):t.selection.collapse(!0),e.length>1&&Qt(e,function(a){return Mr(a,o)})&&E(o,"data-mce-selected","1")},Qm=function(t,e,o){var a=t.selection.getRng(),c=o.bind(function(f){var p=f.rng,b=f.isStartInTable,w=vp(t,b?p.endContainer:p.startContainer);p.deleteContents(),Vh(t,b,w.filter(eu));var _=b?e[0]:e[e.length-1];return Ym(t,_,a,b),eu(_)?K.none():K.some(b?e.slice(1):e.slice(0,-1))}).getOr(e);return Hh(c),Us(t),!0},d0=function(t,e,o,a){var c=t.selection.getRng(),f=e[0],p=o[o.length-1];Ym(t,f,c,!0),Ym(t,p,c,!1);var b=eu(f)?e:e.slice(1),w=eu(p)?o:o.slice(0,-1);return Hh(b.concat(w)),a.deleteContents(),Us(t),!0},m0=function(t,e,o,a){a===void 0&&(a=!0),e.deleteContents();var c=yl(o).getOr(o),f=k.fromDom(t.dom.getParent(c.dom,t.dom.isBlock));if(eu(f)&&(Km(f),a&&t.selection.setCursorLocation(f.dom,0)),!Mr(o,f)){var p=tm(Ai(f),o)?[]:ta(f);nn(p.concat(_u(o)),function(b){!Mr(b,f)&&!No(b,f)&&eu(b)&&Vi(b)})}return!0},Uh=function(t,e){return he(t,!1,e),!0},CE=function(t,e,o){return vs(e,o).map(function(a){return a.fold(Cn(m0,t),Cn(Uh,t),Cn(Qm,t),Cn(d0,t))})},CR=function(t,e){return $s(t,e)},SR=function(t,e,o,a){return Qu(e,a).fold(function(){return CE(t,e,o)},function(c){return CR(t,c)}).getOr(!1)},Zm=function(t,e,o){var a=k.fromDom(t.getBody()),c=t.selection.getRng();return o.length!==0?Qm(t,o,K.none()):SR(t,a,c,e)},SE=function(t,e){return Ue(Hf(e,t),il)},Qu=function(t,e){return Ue(Hf(e,t),Dp("caption"))},Po=function(t,e,o,a,c){return Bm(o,t.getBody(),c).bind(function(f){return SE(e,k.fromDom(f.getNode())).map(function(p){return Mr(p,a)===!1})})},$s=function(t,e){return Km(e),t.selection.setCursorLocation(e.dom,0),K.some(!0)},kR=function(t,e,o,a){return Xu(t.dom).bind(function(c){return gl(t.dom).map(function(f){return e?o.isEqual(c)&&a.isEqual(f):o.isEqual(f)&&a.isEqual(c)})}).getOr(!0)},kE=function(t,e){return $s(t,e)},D3=function(t,e,o){return Qu(t,k.fromDom(o.getNode())).map(function(a){return Mr(a,e)===!1})},M3=function(t,e,o,a,c){return Bm(o,t.getBody(),c).bind(function(f){return kR(a,o,c,f)?kE(t,a):D3(e,a,f)}).or(K.some(!0))},TE=function(t,e,o,a){var c=mn.fromRangeStart(t.selection.getRng());return SE(o,a).bind(function(f){return eu(f)?$s(t,f):Po(t,o,e,f,c)}).getOr(!1)},OE=function(t,e,o,a){var c=mn.fromRangeStart(t.selection.getRng());return eu(a)?$s(t,a):M3(t,o,e,a,c)},EE=function(t,e){return t?e0(e):OC(e)},TR=function(t,e){var o=mn.fromRangeStart(t.selection.getRng());return EE(e,o)||Cu(e,t.getBody(),o).exists(function(a){return EE(e,a)})},R3=function(t,e,o){var a=k.fromDom(t.getBody());return Qu(a,o).fold(function(){return TE(t,e,a,o)||TR(t,e)},function(c){return OE(t,e,a,c).getOr(!1)})},c2=function(t,e){var o=k.fromDom(t.selection.getStart(!0)),a=Im(t);return t.selection.isCollapsed()&&a.length===0?R3(t,e,o):Zm(t,o,a)},Vf=function(t,e,o,a){var c=document.createRange();return c.setStart(t,e),c.setEnd(o,a),c},OR=function(t){var e=mn.fromRangeStart(t),o=mn.fromRangeEnd(t),a=t.commonAncestorContainer;return Cu(!1,a,o).map(function(c){return!Ls(e,o,a)&&Ls(e,c,a)?Vf(e.container(),e.offset(),c.container(),c.offset()):t}).getOr(t)},A3=function(t){return t.collapsed?t:OR(t)},ER=function(t){return t.firstChild&&t.firstChild===t.lastChild},B3=function(t){return t.name==="br"||t.value===Tc},_R=function(t,e){var o=t.getBlockElements();return o[e.name]&&ER(e)&&B3(e.firstChild)},DR=function(t,e){var o=t.getNonEmptyElements();return e&&(e.isEmpty(o)||_R(t,e))},z3=function(t,e){var o=e.firstChild,a=e.lastChild;return o&&o.name==="meta"&&(o=o.next),a&&a.attr("id")==="mce_marker"&&(a=a.prev),DR(t,a)&&(a=a.prev),!o||o!==a?!1:o.name==="ul"||o.name==="ol"},MR=function(t){var e=t.firstChild,o=t.lastChild;return e&&e.nodeName==="META"&&e.parentNode.removeChild(e),o&&o.id==="mce_marker"&&o.parentNode.removeChild(o),t},RR=function(t,e,o){var a=e.serialize(o),c=t.createFragment(a);return MR(c)},_E=function(t){return pt(t.childNodes,function(e){return e.nodeName==="LI"})},AR=function(t){return t.data===Tc||Yo(t)},BR=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&AR(t.firstChild)},UC=function(t){return!t.firstChild||BR(t)},zR=function(t){return t.length>0&&UC(t[t.length-1])?t.slice(0,-1):t},$C=function(t,e){var o=t.getParent(e,t.isBlock);return o&&o.nodeName==="LI"?o:null},DE=function(t,e){return!!$C(t,e)},N3=function(t,e){var o=e.cloneRange(),a=e.cloneRange();return o.setStartBefore(t),a.setEndAfter(t),[o.cloneContents(),a.cloneContents()]},NR=function(t,e){var o=mn.before(t),a=ml(e),c=a.next(o);return c?c.toRange():null},ME=function(t,e){var o=mn.after(t),a=ml(e),c=a.prev(o);return c?c.toRange():null},P3=function(t,e,o,a){var c=N3(t,a),f=t.parentNode;return f.insertBefore(c[0],t),hn.each(e,function(p){f.insertBefore(p,t)}),f.insertBefore(c[1],t),f.removeChild(t),ME(e[e.length-1],o)},PR=function(t,e,o){var a=t.parentNode;return hn.each(e,function(c){a.insertBefore(c,t)}),NR(t,o)},FR=function(t,e,o,a){return a.insertAfter(e.reverse(),t),ME(e[0],o)},s2=function(t,e,o,a){var c=RR(e,t,a),f=$C(e,o.startContainer),p=zR(_E(c.firstChild)),b=1,w=2,_=e.getRoot(),F=function(I){var V=mn.fromRangeStart(o),Z=ml(e.getRoot()),Q=I===b?Z.prev(V):Z.next(V);return Q?$C(e,Q.getNode())!==f:!0};return F(b)?PR(f,p,_):F(w)?FR(f,p,_,e):P3(f,p,_,o)},F3=function(t,e,o){var a=k.fromDom(t.getRoot());return c0(a,mn.fromRangeStart(e))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),s0(a,mn.fromRangeEnd(e))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},L3=mg,LR=function(t,e,o){if(o!==null){var a=t.getParent(e.endContainer,L3);return o===a&&mh(k.fromDom(o),e)}else return!1},RE=function(t,e,o){if(o.getAttribute("data-mce-bogus")==="all")o.parentNode.insertBefore(t.dom.createFragment(e),o);else{var a=o.firstChild,c=o.lastChild;!a||a===c&&a.nodeName==="BR"?t.dom.setHTML(o,e):t.selection.setContent(e)}},AE=function(t,e){K.from(t.getParent(e,"td,th")).map(k.fromDom).each(kr)},IR=function(t,e){var o=t.schema.getTextInlineElements(),a=t.dom;if(e){var c=t.getBody(),f=xC(a);hn.each(a.select("*[data-mce-fragment]"),function(p){var b=Me(o[p.nodeName.toLowerCase()]);if(b&&Qy(a,p))for(var w=p.parentNode;Me(w)&&w!==c;w=w.parentNode){var _=SC(a,p,w);if(_)break;if(f.compare(w,p)){a.remove(p,!0);break}}})}},HR=function(t){for(var e=t;e=e.walk();)e.type===1&&e.attr("data-mce-fragment","1")},VR=function(t){hn.each(t.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},UR=function(t){return!!t.getAttribute("data-mce-fragment")},BE=function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},zE=function(t,e){var o,a=t.dom,c=t.selection;if(e){c.scrollIntoView(e);var f=Dd(t.getBody(),e);if(a.getContentEditable(f)==="false"){a.remove(e),c.select(f);return}var p=a.createRng(),b=e.previousSibling;if(je(b)){if(p.setStart(b,b.nodeValue.length),!mr.ie){var w=e.nextSibling;je(w)&&(b.appendData(w.data),w.parentNode.removeChild(w))}}else p.setStartBefore(e),p.setEndBefore(e);var _=function(I){var V=mn.fromRangeStart(I),Z=ml(t.getBody());if(V=Z.next(V),V)return V.toRange()},F=a.getParent(e,a.isBlock);a.remove(e),F&&a.isEmpty(F)&&(t.$(F).empty(),p.setStart(F,0),p.setEnd(F,0),!L3(F)&&!UR(F)&&(o=_(p))?(p=o,a.remove(F)):a.add(F,a.create("br",{"data-mce-bogus":"1"}))),c.setRng(p)}},$R=function(t){var e=t.dom,o=A3(t.selection.getRng());t.selection.setRng(o);var a=e.getParent(o.startContainer,L3);LR(e,o,a)?m0(t,o,k.fromDom(a)):t.getDoc().execCommand("Delete",!1,null)},jR=function(t,e,o){var a,c,f,p=t.selection,b=t.dom;/^ | $/.test(e)&&(e=F3(b,p.getRng(),e));var w=t.parser,_=o.merge,F=Gm({validate:Xx(t)},t.schema),I='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',V=t.fire("BeforeSetContent",{content:e,format:"html",selection:!0,paste:o.paste});if(V.isDefaultPrevented()){t.fire("SetContent",{content:V.content,format:"html",selection:!0,paste:o.paste});return}e=V.content,e.indexOf("{$caret}")===-1&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,I),c=p.getRng();var Z=c.startContainer||(c.parentElement?c.parentElement():null),Q=t.getBody();Z===Q&&p.isCollapsed()&&b.isBlock(Q.firstChild)&&BE(t,Q.firstChild)&&b.isEmpty(Q.firstChild)&&(c=b.createRng(),c.setStart(Q.firstChild,0),c.setEnd(Q.firstChild,0),p.setRng(c)),p.isCollapsed()||$R(t),a=p.getNode();var et={context:a.nodeName.toLowerCase(),data:o.data,insert:!0},it=w.parse(e,et);if(o.paste===!0&&z3(t.schema,it)&&DE(b,a)){c=s2(F,b,p.getRng(),it),p.setRng(c),t.fire("SetContent",V);return}if(HR(it),f=it.lastChild,f.attr("id")==="mce_marker"){var gt=f;for(f=f.prev;f;f=f.walk(!0))if(f.type===3||!b.isBlock(f.name)){t.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(gt,f,f.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(a),!et.invalid)e=F.serialize(it),RE(t,e,a);else{t.selection.setContent(I),a=p.getNode();var mt=t.getBody();for(a.nodeType===9?a=f=mt:f=a;f!==mt;)a=f,f=f.parentNode;e=a===mt?mt.innerHTML:b.getOuterHTML(a),e=F.serialize(w.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return F.serialize(it)}))),a===mt?b.setHTML(mt,e):b.setOuterHTML(a,e)}IR(t,_),zE(t,b.get("mce_marker")),VR(t.getBody()),AE(b,p.getStart()),t.fire("SetContent",V),t.addVisual()},I3=function(t,e){e(t),t.firstChild&&I3(t.firstChild,e),t.next&&I3(t.next,e)},WR=function(t,e,o){var a={},c={},f=[];o.firstChild&&I3(o.firstChild,function(w){nn(t,function(_){_.name===w.name&&(a[_.name]?a[_.name].nodes.push(w):a[_.name]={filter:_,nodes:[w]})}),nn(e,function(_){typeof w.attr(_.name)=="string"&&(c[_.name]?c[_.name].nodes.push(w):c[_.name]={filter:_,nodes:[w]})})});for(var p in a)Rr(a,p)&&f.push(a[p]);for(var b in c)Rr(c,b)&&f.push(c[b]);return f},qR=function(t,e,o){var a=WR(t,e,o);nn(a,function(c){nn(c.filter.callbacks,function(f){f(c.nodes,c.filter.name,{})})})},GR="html",$h=function(t){return t instanceof hs},KR=function(t){Nd(t)&&Xu(t.getBody()).each(function(e){var o=e.getNode(),a=na(o)?Xu(o).getOr(e):e;t.selection.setRng(a.toRange())})},jC=function(t,e,o){t.dom.setHTML(t.getBody(),e),o!==!0&&KR(t)},H3=function(t,e,o,a){if(o.length===0||/^\s+$/.test(o)){var c='<br data-mce-bogus="1">';e.nodeName==="TABLE"?o="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(o="<li>"+c+"</li>");var f=au(t);f&&t.schema.isValidChild(e.nodeName.toLowerCase(),f.toLowerCase())?(o=c,o=t.dom.createHTML(f,Tm(t),o)):o||(o='<br data-mce-bogus="1">'),jC(t,o,a.no_selection),t.fire("SetContent",a)}else a.format!=="raw"&&(o=Gm({validate:t.validate},t.schema).serialize(t.parser.parse(o,{isRootContent:!0,insert:!0}))),a.content=em(k.fromDom(e))?o:hn.trim(o),jC(t,a.content,a.no_selection),a.no_events||t.fire("SetContent",a);return a.content},XR=function(t,e,o,a){qR(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),o);var c=Gm({validate:t.validate},t.schema).serialize(o);return a.content=em(k.fromDom(e))?c:hn.trim(c),jC(t,a.content,a.no_selection),a.no_events||t.fire("SetContent",a),o},NE=function(t,e){return Ze(Ze({format:GR},t),{set:!0,content:$h(e)?"":e})},PE=function(t,e,o){var a=NE(o,e),c=o.no_events?a:t.fire("BeforeSetContent",a);return $h(e)||(e=c.content),K.from(t.getBody()).fold(H(e),function(f){return $h(e)?XR(t,f,e,c):H3(t,f,e,c)})},JR=function(t,e){return q0(t,e).isSome()},FE=function(t){return Ft(t)?t:Lt},YR=function(t,e,o){for(var a=t.dom,c=FE(o);a.parentNode;){a=a.parentNode;var f=k.fromDom(a),p=e(f);if(p.isSome())return p;if(c(f))break}return K.none()},V3=function(t,e,o){var a=e(t),c=FE(o);return a.orThunk(function(){return c(t)?K.none():YR(t,e,c)})},U3=my,LE=function(t,e,o){var a=t.formatter.get(o);if(a)for(var c=0;c<a.length;c++){var f=a[c];if(Zc(f)&&f.inherit===!1&&t.dom.is(e,f.selector))return!0}return!1},$3=function(t,e,o,a,c){var f=t.dom.getRoot();return e===f?!1:(e=t.dom.getParent(e,function(p){return LE(t,p,o)?!0:p.parentNode===f||!!Id(t,p,o,a,!0)}),!!Id(t,e,o,a,c))},j3=function(t,e,o){if(U3(e,o.inline)||U3(e,o.block))return!0;if(o.selector)return e.nodeType===1&&t.is(e,o.selector)},IE=function(t,e,o,a,c,f){var p=o[a];if(Ft(o.onmatch))return o.onmatch(e,o,a);if(p){if(un(p.length)){for(var b in p)if(Rr(p,b)){var w=a==="attributes"?t.getAttrib(e,b):M1(t,e,b),_=Wl(p[b],f),F=tr(w)||de(w);if(F&&tr(_))continue;if(c&&F&&!o.exact||(!c||o.exact)&&!U3(w,D1(t,_,b)))return!1}}else for(var I=0;I<p.length;I++)if(a==="attributes"?t.getAttrib(e,p[I]):M1(t,e,p[I]))return!0}return!0},Id=function(t,e,o,a,c){var f=t.formatter.get(o),p=t.dom;if(f&&e)for(var b=0;b<f.length;b++){var w=f[b];if(j3(t.dom,e,w)&&IE(p,e,w,"attributes",c,a)&&IE(p,e,w,"styles",c,a)){var _=w.classes;if(_){for(var F=0;F<_.length;F++)if(!t.dom.hasClass(e,Wl(_[F],a)))return}return w}}},W3=function(t,e,o,a,c){if(a)return $3(t,a,e,o,c);if(a=t.selection.getNode(),$3(t,a,e,o,c))return!0;var f=t.selection.getStart();return!!(f!==a&&$3(t,f,e,o,c))},q3=function(t,e,o){var a=[],c={},f=t.selection.getStart();return t.dom.getParent(f,function(p){for(var b=0;b<e.length;b++){var w=e[b];!c[w]&&Id(t,p,w,o)&&(c[w]=!0,a.push(w))}},t.dom.getRoot()),a},Uf=function(t,e){var o=function(c){return Mr(c,k.fromDom(t.getBody()))},a=function(c,f){return Id(t,c.dom,f)?K.some(f):K.none()};return K.from(t.selection.getStart(!0)).bind(function(c){return V3(k.fromDom(c),function(f){return Mt(e,function(p){return a(f,p)})},o)}).getOrNull()},G3=function(t,e){var o=t.formatter.get(e),a=t.dom;if(o)for(var c=t.selection.getStart(),f=Qg(a,c),p=o.length-1;p>=0;p--){var b=o[p];if(!Zc(b)||Me(b.defaultBlock))return!0;for(var w=f.length-1;w>=0;w--)if(a.is(f[w],b.selector))return!0}return!1},K3=function(t,e,o){return le(o,function(a,c){var f=Ew(t,c);return t.formatter.matchNode(e,c,{},f)?a.concat([c]):a},[])},bp=Et,HE="_mce_caret",VE=function(t,e){return t.importNode(e,!0)},QR=function(t){for(var e=[];t;){if(t.nodeType===3&&t.nodeValue!==bp||t.childNodes.length>1)return[];t.nodeType===1&&e.push(t),t=t.firstChild}return e},X3=function(t){return QR(t).length>0},WC=function(t){if(t){var e=new Io(t,t);for(t=e.current();t;t=e.next())if(je(t))return t}return null},J3=function(t){var e=k.fromTag("span");return L(e,{id:HE,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&va(e,k.fromText(bp)),e},UE=function(t){var e=WC(t);return e&&e.nodeValue.charAt(0)===bp&&e.deleteData(0,1),e},Y3=function(t,e,o){o===void 0&&(o=!0);var a=t.dom,c=t.selection;if(X3(e))he(t,!1,k.fromDom(e),o);else{var f=c.getRng(),p=a.getParent(e,a.isBlock),b=f.startContainer,w=f.startOffset,_=f.endContainer,F=f.endOffset,I=UE(e);a.remove(e,!0),b===I&&w>0&&f.setStart(I,w-1),_===I&&F>0&&f.setEnd(I,F-1),p&&a.isEmpty(p)&&Km(k.fromDom(p)),c.setRng(f)}},jh=function(t,e,o){o===void 0&&(o=!0);var a=t.dom,c=t.selection;if(e)Y3(t,e,o);else if(e=pl(t.getBody(),c.getStart()),!e)for(;e=a.get(HE);)Y3(t,e,!1)},$E=function(t,e,o){var a=t.dom,c=a.getParent(o,Cn(fy,t));c&&a.isEmpty(c)?o.parentNode.replaceChild(e,o):(Bh(k.fromDom(o)),a.isEmpty(o)?o.parentNode.replaceChild(e,o):a.insertAfter(e,o))},jE=function(t,e){return t.appendChild(e),e},Q3=function(t,e){var o=sn(t,function(a,c){return jE(a,c.cloneNode(!1))},e);return jE(o,o.ownerDocument.createTextNode(bp))},ZR=function(t,e,o,a,c,f){var p=t.formatter,b=t.dom,w=pt(Fn(p.get()),function(V){return V!==a&&!Tn(V,"removeformat")}),_=K3(t,o,w),F=pt(_,function(V){return!_w(t,V,a)});if(F.length>0){var I=o.cloneNode(!1);return b.add(e,I),p.remove(a,c,I,f),b.remove(I),K.some(I)}else return K.none()},tA=function(t,e,o){var a,c,f=t.selection,p=f.getRng(),b=p.startOffset,w=p.startContainer,_=w.nodeValue;a=pl(t.getBody(),f.getStart()),a&&(c=WC(a));var F=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(_&&b>0&&b<_.length&&F.test(_.charAt(b))&&F.test(_.charAt(b-1))){var I=f.getBookmark();p.collapse(!0);var V=tp(t,p,t.formatter.get(e));V=F1(V),t.formatter.apply(e,o,V),f.moveToBookmark(I)}else(!a||c.nodeValue!==bp)&&(a=VE(t.getDoc(),J3(!0).dom),c=a.firstChild,p.insertNode(a),b=1),t.formatter.apply(e,o,a),f.setCursorLocation(c,b)},nA=function(t,e,o,a){var c=t.dom,f=t.selection,p,b,w,_=[],F=f.getRng(),I=F.startContainer,V=F.startOffset;for(b=I,I.nodeType===3&&(V!==I.nodeValue.length&&(p=!0),b=b.parentNode);b;){if(Id(t,b,e,o,a)){w=b;break}b.nextSibling&&(p=!0),_.push(b),b=b.parentNode}if(w)if(p){var Z=f.getBookmark();F.collapse(!0);var Q=tp(t,F,t.formatter.get(e),!0);Q=F1(Q),t.formatter.remove(e,o,Q,a),f.moveToBookmark(Z)}else{var et=pl(t.getBody(),w),it=J3(!1).dom;$E(t,it,et!==null?et:w);var gt=ZR(t,it,w,e,o,a),mt=Q3(_.concat(gt.toArray()),it);Y3(t,et,!1),f.setCursorLocation(mt,1),c.isEmpty(w)&&c.remove(w)}},eA=function(t,e){var o=t.selection,a=t.getBody();jh(t,null,!1),(e===8||e===46)&&o.isCollapsed()&&o.getStart().innerHTML===bp&&jh(t,pl(a,o.getStart())),(e===37||e===39)&&jh(t,pl(a,o.getStart()))},rA=function(t){t.on("mouseup keydown",function(e){eA(t,e.keyCode)})},WE=function(t,e){var o=J3(!1),a=Q3(e,o.dom);return Za(k.fromDom(t),o),Vi(k.fromDom(t)),mn(a,0)},oA=function(t,e){var o=t.schema.getTextInlineElements();return Rr(o,Do(e))&&!ms(e.dom)&&!Gi(e.dom)},Z3=function(t){return ms(t.dom)&&X3(t.dom)},tg={},qE=di,GE=ci,qC=function(t,e){var o=tg[t];o||(tg[t]=[]),tg[t].push(e)},tT=function(t,e){GE(tg[t],function(o){o(e)})};qC("pre",function(t){var e=t.selection.getRng(),o,a=function(p){return f(p.previousSibling)&&ti(o,p.previousSibling)!==-1},c=function(p,b){Qr(b).remove(),Qr(p).append("<br><br>").append(b.childNodes)},f=jc(["pre"]);e.collapsed||(o=t.selection.getSelectedBlocks(),GE(qE(qE(o,f),a),function(p){c(p.previousSibling,p)}))});var nT=hn.each,eT=function(t){return Fr(t)&&!zc(t)&&!ms(t)&&!Gi(t)},rT=function(t,e){for(var o=t;o;o=o[e]){if(je(o)&&qt(o.data))return t;if(Fr(o)&&!zc(o))return o}return t},GC=function(t,e,o){var a=xC(t);if(e&&o&&(e=rT(e,"previousSibling"),o=rT(o,"nextSibling"),a.compare(e,o))){for(var c=e.nextSibling;c&&c!==o;){var f=c;c=c.nextSibling,e.appendChild(f)}return t.remove(o),hn.each(hn.grep(o.childNodes),function(p){e.appendChild(p)}),e}return o},KE=function(t,e,o,a){if(a&&e.merge_siblings!==!1){var c=GC(t,ly(a),a);GC(t,c,ly(c,!0))}},KC=function(t,e,o){if(e.clear_child_styles){var a=e.links?"*:not(a)":"*";nT(t.select(a,o),function(c){eT(c)&&nT(e.styles,function(f,p){t.setStyle(c,p,"")})})}},$f=function(t,e,o){nT(t.childNodes,function(a){eT(a)&&(e(a)&&o(a),a.hasChildNodes()&&$f(a,e,o))})},iA=function(t,e){e.nodeName==="SPAN"&&t.getAttribs(e).length===0&&t.remove(e,!0)},XC=function(t,e){return function(o){return!!(o&&M1(t,o,e))}},XE=function(t,e,o){return function(a){t.setStyle(a,e,o),a.getAttribute("style")===""&&a.removeAttribute("style"),iA(t,a)}},l2=dr.generate([{keep:[]},{rename:["name"]},{removed:[]}]),aA=/^(src|href|style)$/,oT=hn.each,Wh=my,uA=function(t){return/^(TR|TH|TD)$/.test(t.nodeName)},qh=function(t,e,o){return t.isChildOf(e,o)&&e!==o&&!t.isBlock(o)},JE=function(t,e,o){var a=e[o?"startContainer":"endContainer"],c=e[o?"startOffset":"endOffset"];if(Fr(a)){var f=a.childNodes.length-1;!o&&c&&c--,a=a.childNodes[c>f?f:c]}return je(a)&&o&&c>=a.nodeValue.length&&(a=new Io(a,t.getBody()).next()||a),je(a)&&!o&&c===0&&(a=new Io(a,t.getBody()).prev()||a),a},YE=function(t,e){var o=e?"firstChild":"lastChild";if(uA(t)&&t[o]){var a=t[o];return t.nodeName==="TR"&&a[o]||a}return t},iT=function(t,e,o,a){var c=t.create(o,a);return e.parentNode.insertBefore(c,e),c.appendChild(e),c},QE=function(t,e,o,a,c){var f=k.fromDom(e),p=k.fromDom(t.create(a,c)),b=o?li(f):Mo(f);return ff(p,b),o?(Za(f,p),rs(p,f)):(Qf(f,p),va(p,f)),p.dom},ZE=function(t,e,o){if(cu(o)&&Wh(e,o.inline)||hl(o)&&Wh(e,o.block))return!0;if(Zc(o))return Fr(e)&&t.is(e,o.selector)},cA=function(t,e){return e.links&&t.nodeName==="A"},JC=function(t,e,o,a){var c=ly(e,o,a);return tr(c)||c.nodeName==="BR"||t.isBlock(c)},sA=function(t,e,o){var a=e.parentNode,c,f=t.dom,p=au(t);hl(o)&&(p?a===f.getRoot()&&(!o.list_block||!Wh(e,o.list_block))&&nn(Qn(e.childNodes),function(b){Nm(t,p,b.nodeName.toLowerCase())?c?c.appendChild(b):(c=iT(f,b,p),f.setAttribs(c,t.settings.forced_root_block_attrs)):c=null}):f.isBlock(e)&&!f.isBlock(a)&&(!JC(f,e,!1)&&!JC(f,e.firstChild,!0,!0)&&e.insertBefore(f.create("br"),e.firstChild),!JC(f,e,!0)&&!JC(f,e.lastChild,!1,!0)&&e.appendChild(f.create("br")))),!(Dw(o)&&!Wh(o.inline,e))&&f.remove(e,!0)},t_=function(t,e,o,a,c){var f,p=t.dom;if(!ZE(p,a,e)&&!cA(a,e))return l2.keep();var b=a;if(cu(e)&&e.remove==="all"&&fe(e.preserve_attributes)){var w=pt(p.getAttribs(b),function(V){return Dt(e.preserve_attributes,V.name.toLowerCase())});if(p.removeAllAttribs(b),nn(w,function(V){return p.setAttrib(b,V.name,V.value)}),w.length>0)return l2.rename("span")}if(e.remove!=="all"){oT(e.styles,function(V,Z){V=D1(p,Wl(V,o),Z+""),xn(Z)&&(Z=V,c=null),(e.remove_similar||!c||Wh(M1(p,c,Z),V))&&p.setStyle(b,Z,""),f=!0}),f&&p.getAttrib(b,"style")===""&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),oT(e.attributes,function(V,Z){var Q;if(V=Wl(V,o),xn(Z)&&(Z=V,c=null),e.remove_similar||!c||Wh(p.getAttrib(c,Z),V)){if(Z==="class"&&(V=p.getAttrib(b,Z),V&&(Q="",nn(V.split(/\s+/),function(et){/mce\-\w+/.test(et)&&(Q+=(Q?" ":"")+et)}),Q))){p.setAttrib(b,Z,Q);return}if(aA.test(Z)&&b.removeAttribute("data-mce-"+Z),Z==="style"&&jc(["li"])(b)&&p.getStyle(b,"list-style-type")==="none"){b.removeAttribute(Z),p.setStyle(b,"list-style-type","none");return}Z==="class"&&b.removeAttribute("className"),b.removeAttribute(Z)}}),oT(e.classes,function(V){V=Wl(V,o),(!c||p.hasClass(c,V))&&p.removeClass(b,V)});for(var _=p.getAttribs(b),F=0;F<_.length;F++){var I=_[F].nodeName;if(I.indexOf("_")!==0&&I.indexOf("data-")!==0)return l2.keep()}}return e.remove!=="none"?(sA(t,b,e),l2.removed()):l2.keep()},g0=function(t,e,o,a,c){return t_(t,e,o,a,c).fold(Lt,function(f){return t.dom.rename(a,f),!0},An)},lA=function(t,e,o,a,c){var f;return nn(Qg(t.dom,e.parentNode).reverse(),function(p){if(!f&&p.id!=="_start"&&p.id!=="_end"){var b=Id(t,p,o,a,c);b&&b.split!==!1&&(f=p)}}),f},fA=function(t,e,o,a){return t_(t,e,o,a,a).fold(H(a),function(c){var f=t.dom.createFragment();return f.appendChild(a),t.dom.rename(a,c)},H(null))},dA=function(t,e,o,a,c,f,p,b){var w,_,F,I=t.dom;if(o){for(var V=o.parentNode,Z=a.parentNode;Z&&Z!==V;Z=Z.parentNode){w=I.clone(Z,!1);for(var Q=0;Q<e.length&&(w=fA(t,e[Q],b,w),w!==null);Q++);w&&(_&&w.appendChild(_),F||(F=w),_=w)}f&&(!p.mixed||!I.isBlock(o))&&(a=I.split(o,a)),_&&(c.parentNode.insertBefore(_,c),F.appendChild(c),cu(p)&&KE(I,p,b,_))}return a},n_=function(t,e,o,a,c){var f=t.formatter.get(e),p=f[0],b=!0,w=t.dom,_=t.selection,F=function(mt){var wt=lA(t,mt,e,o,c);return dA(t,f,wt,mt,mt,!0,p,o)},I=function(mt){return zc(mt)&&Fr(mt)&&(mt.id==="_start"||mt.id==="_end")},V=function(mt){return Qt(f,function(wt){return g0(t,wt,o,mt,mt)})},Z=function(mt){var wt=!0,Ht=!1;Fr(mt)&&w.getContentEditable(mt)&&(wt=b,b=w.getContentEditable(mt)==="true",Ht=!0);var vt=Qn(mt.childNodes);if(b&&!Ht){var Wt=V(mt),yn=Wt||Qt(f,function(Gn){return j3(w,mt,Gn)}),ee=mt.parentNode;!yn&&Me(ee)&&gy(p)&&V(ee)}if(p.deep&&vt.length){for(var hr=0;hr<vt.length;hr++)Z(vt[hr]);Ht&&(b=wt)}var Le=["underline","line-through","overline"];nn(Le,function(Gn){Fr(mt)&&t.dom.getStyle(mt,"text-decoration")===Gn&&mt.parentNode&&Ow(w,mt.parentNode)===Gn&&g0(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Gn}},null,mt)})},Q=function(mt){var wt=w.get(mt?"_start":"_end"),Ht=wt[mt?"firstChild":"lastChild"];return I(Ht)&&(Ht=Ht[mt?"firstChild":"lastChild"]),je(Ht)&&Ht.data.length===0&&(Ht=mt?wt.previousSibling||wt.nextSibling:wt.nextSibling||wt.previousSibling),w.remove(wt,!0),Ht},et=function(mt){var wt,Ht,vt=tp(t,mt,f,mt.collapsed);if(p.split){if(vt=F1(vt),wt=JE(t,vt,!0),Ht=JE(t,vt),wt!==Ht){if(wt=YE(wt,!0),Ht=YE(Ht,!1),qh(w,wt,Ht)){var Wt=K.from(wt.firstChild).getOr(wt);F(QE(w,Wt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),Q(!0);return}if(qh(w,Ht,wt)){var Wt=K.from(Ht.lastChild).getOr(Ht);F(QE(w,Wt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),Q(!1);return}wt=iT(w,wt,"span",{id:"_start","data-mce-type":"bookmark"}),Ht=iT(w,Ht,"span",{id:"_end","data-mce-type":"bookmark"});var yn=w.createRng();yn.setStartAfter(wt),yn.setEndBefore(Ht),Lm(w,yn,function(ee){nn(ee,function(hr){!zc(hr)&&!zc(hr.parentNode)&&F(hr)})}),F(wt),F(Ht),wt=Q(!0),Ht=Q()}else wt=Ht=F(wt);vt.startContainer=wt.parentNode?wt.parentNode:wt,vt.startOffset=w.nodeIndex(wt),vt.endContainer=Ht.parentNode?Ht.parentNode:Ht,vt.endOffset=w.nodeIndex(Ht)+1}Lm(w,vt,function(ee){nn(ee,Z)})};if(a){if(Yg(a)){var it=w.createRng();it.setStartBefore(a),it.setEndAfter(a),et(it)}else et(a);vh(t,e,a,o);return}if(w.getContentEditable(_.getNode())==="false"){a=_.getNode();for(var gt=0;gt<f.length&&!(f[gt].ceFalseOverride&&g0(t,f[gt],o,a,a));gt++);vh(t,e,a,o);return}!_.isCollapsed()||!cu(p)||Im(t).length?(Vm(_,!0,function(){_d(t,et)}),cu(p)&&W3(t,e,o,_.getStart())&&Tw(w,_,_.getRng()),t.nodeChanged()):nA(t,e,o,c),vh(t,e,a,o)},e_=hn.each,aT=function(t,e,o,a){var c=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var p=Ow(t,f.parentNode);t.getStyle(f,"color")&&p?t.setStyle(f,"text-decoration",p):t.getStyle(f,"text-decoration")===p&&t.setStyle(f,"text-decoration",null)}};e.styles&&(e.styles.color||e.styles.textDecoration)&&(hn.walk(a,c,"childNodes"),c(a))},r_=function(t,e,o,a){e.styles&&e.styles.backgroundColor&&$f(a,XC(t,"fontSize"),XE(t,"backgroundColor",Wl(e.styles.backgroundColor,o)))},mA=function(t,e,o,a){cu(e)&&(e.inline==="sub"||e.inline==="sup")&&($f(a,XC(t,"fontSize"),XE(t,"fontSize","")),t.remove(t.select(e.inline==="sup"?"sub":"sup",a),!0))},YC=function(t,e,o,a){e_(e,function(c){cu(c)&&e_(t.dom.select(c.inline,a),function(f){eT(f)&&g0(t,c,o,f,c.exact?f:null)}),KC(t.dom,c,a)})},o_=function(t,e,o,a,c){Id(t,c.parentNode,o,a)&&g0(t,e,a,c)||e.merge_with_parents&&t.dom.getParent(c.parentNode,function(f){if(Id(t,f,o,a))return g0(t,e,a,c),!0})},yp=hn.each,f2=function(t){return Fr(t)&&!zc(t)&&!ms(t)&&!Gi(t)},i_=function(t,e,o,a){if(p4(t)&&cu(e)){var c=Ze(Ze({},t.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),f=JR(k.fromDom(o),function(p){return ms(p.dom)});return Bo(c,a)&&eu(k.fromDom(o.parentNode),!1)&&!f}else return!1},uT=function(t,e,o,a){var c=t.formatter.get(e),f=c[0],p=!a&&t.selection.isCollapsed(),b=t.dom,w=t.selection,_=function(wt,Ht){if(Ht===void 0&&(Ht=f),Ft(Ht.onformat)&&Ht.onformat(wt,Ht,o,a),yp(Ht.styles,function(Wt,yn){b.setStyle(wt,yn,Wl(Wt,o))}),Ht.styles){var vt=b.getAttrib(wt,"style");vt&&b.setAttrib(wt,"data-mce-style",vt)}yp(Ht.attributes,function(Wt,yn){b.setAttrib(wt,yn,Wl(Wt,o))}),yp(Ht.classes,function(Wt){Wt=Wl(Wt,o),b.hasClass(wt,Wt)||b.addClass(wt,Wt)})},F=function(wt,Ht){var vt=!1;return yp(wt,function(Wt){if(!Zc(Wt))return!1;if(!(Me(Wt.collapsed)&&Wt.collapsed!==p)&&b.is(Ht,Wt.selector)&&!ms(Ht))return _(Ht,Wt),vt=!0,!1}),vt},I=function(wt){if(Sn(wt)){var Ht=b.create(wt);return _(Ht),Ht}else return null},V=function(wt,Ht,vt){var Wt=[],yn=!0,ee=f.inline||f.block,hr=I(ee);Lm(wt,Ht,function(Le){var Gn,Ar=function(se){var Fe=!1,ue=yn,Te=se.nodeName.toLowerCase(),$e=se.parentNode,Zn=$e.nodeName.toLowerCase();if(Fr(se)&&wt.getContentEditable(se)&&(ue=yn,yn=wt.getContentEditable(se)==="true",Fe=!0),Yo(se)&&!i_(t,f,se,Zn)){Gn=null,hl(f)&&wt.remove(se);return}if(hl(f)&&f.wrapper&&Id(t,se,e,o)){Gn=null;return}if(yn&&!Fe&&hl(f)&&!f.wrapper&&fy(t,Te)&&Nm(t,Zn,ee)){var qe=wt.rename(se,ee);_(qe),Wt.push(qe),Gn=null;return}if(Zc(f)){var Wr=F(c,se);if(!Wr&&Me($e)&&gy(f)&&(Wr=F(c,$e)),!cu(f)||Wr){Gn=null;return}}yn&&!Fe&&Nm(t,ee,Te)&&Nm(t,Zn,ee)&&!(!vt&&je(se)&&$u(se.data))&&!ms(se)&&(!cu(f)||!wt.isBlock(se))?(Gn||(Gn=wt.clone(hr,!1),se.parentNode.insertBefore(Gn,se),Wt.push(Gn)),Gn.appendChild(se)):(Gn=null,nn(Qn(se.childNodes),Ar),Fe&&(yn=ue),Gn=null)};nn(Le,Ar)}),f.links===!0&&nn(Wt,function(Le){var Gn=function(Ar){Ar.nodeName==="A"&&_(Ar,f),nn(Qn(Ar.childNodes),Gn)};Gn(Le)}),nn(Wt,function(Le){var Gn=function(Fe){var ue=0;return nn(Fe.childNodes,function(Te){!H4(Te)&&!zc(Te)&&ue++}),ue},Ar=function(Fe){var ue=Ue(Fe.childNodes,f2).filter(function(Te){return j3(wt,Te,f)});return ue.map(function(Te){var $e=wt.clone(Te,!1);return _($e),wt.replace($e,Fe,!0),wt.remove(Te,!0),$e}).getOr(Fe)},se=Gn(Le);if((Wt.length>1||!wt.isBlock(Le))&&se===0){wt.remove(Le,!0);return}(cu(f)||hl(f)&&f.wrapper)&&(!f.exact&&se===1&&(Le=Ar(Le)),YC(t,c,o,Le),o_(t,f,e,o,Le),r_(wt,f,o,Le),aT(wt,f,o,Le),mA(wt,f,o,Le),KE(wt,f,o,Le))})};if(b.getContentEditable(w.getNode())==="false"){a=w.getNode();for(var Z=0,Q=c.length;Z<Q;Z++){var et=c[Z];if(et.ceFalseOverride&&Zc(et)&&b.is(a,et.selector)){_(a,et);break}}ky(t,e,a,o);return}if(f){if(a)if(Yg(a)){if(!F(c,a)){var it=b.createRng();it.setStartBefore(a),it.setEndAfter(a),V(b,tp(t,it,c),!0)}}else V(b,a,!0);else if(!p||!cu(f)||Im(t).length){var gt=w.getNode(),mt=c[0];!t.settings.forced_root_block&&mt.defaultBlock&&!b.getParent(gt,b.isBlock)&&uT(t,mt.defaultBlock),w.setRng(A3(w.getRng())),Vm(w,!0,function(){_d(t,function(wt,Ht){var vt=Ht?wt:tp(t,wt,c);V(b,vt,!1)})}),Tw(b,w,w.getRng()),t.nodeChanged()}else tA(t,e,o);tT(e,t)}ky(t,e,a,o)},a_=function(t){return Rr(t,"vars")},gA=function(t,e){t.set({}),e.on("NodeChange",function(o){l_(e,o.element,t.get())}),e.on("FormatApply FormatRemove",function(o){var a=K.from(o.node).map(function(c){return Yg(c)?c:c.startContainer}).bind(function(c){return Fr(c)?K.some(c):K.from(c.parentElement)}).getOrThunk(function(){return u_(e)});l_(e,a,t.get())})},u_=function(t){return t.selection.getStart()},c_=function(t,e,o,a,c){var f=function(b){var w=t.formatter.matchNode(b,o,c??{},a);return!un(w)},p=function(b){return LE(t,b,o)?!0:a?!1:Me(t.formatter.matchNode(b,o,c,!0))};return zn(e,f,p)},s_=function(t,e){var o=e??u_(t);return pt(Qg(t.dom,o),function(a){return Fr(a)&&!Gi(a)})},l_=function(t,e,o){var a=s_(t,e);te(o,function(c,f){var p=function(b){var w=c_(t,a,f,b.similar,a_(b)?b.vars:void 0),_=w.isSome();if(b.state.get()!==_){b.state.set(_);var F=w.getOr(e);a_(b)?b.callback(_,{node:F,format:f,parents:a}):nn(b.callbacks,function(I){return I(_,{node:F,format:f,parents:a})})}};nn([c.withSimilar,c.withoutSimilar],p),nn(c.withVars,p)})},f_=function(t,e,o,a,c,f){var p=e.get();nn(o.split(","),function(b){var w=_r(p,b).getOrThunk(function(){var I={withSimilar:{state:qu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:qu(!1),similar:!1,callbacks:[]},withVars:[]};return p[b]=I,I}),_=function(){var I=s_(t);return c_(t,I,b,c,f).isSome()};if(un(f)){var F=c?w.withSimilar:w.withoutSimilar;F.callbacks.push(a),F.callbacks.length===1&&F.state.set(_())}else w.withVars.push({state:qu(_()),similar:c,vars:f,callback:a})}),e.set(p)},pA=function(t,e,o){var a=t.get();nn(e.split(","),function(c){return _r(a,c).each(function(f){a[c]={withSimilar:Ze(Ze({},f.withSimilar),{callbacks:pt(f.withSimilar.callbacks,function(p){return p!==o})}),withoutSimilar:Ze(Ze({},f.withoutSimilar),{callbacks:pt(f.withoutSimilar.callbacks,function(p){return p!==o})}),withVars:pt(f.withVars,function(p){return p.callback!==o})}})}),t.set(a)},d2=function(t,e,o,a,c,f){return e.get()===null&&gA(e,t),f_(t,e,o,a,c,f),{unbind:function(){return pA(e,o,a)}}},hA=function(t,e,o,a){var c=t.formatter.get(e);W3(t,e,o,a)&&(!("toggle"in c[0])||c[0].toggle)?n_(t,e,o,a):uT(t,e,o,a)},cT=function(t,e){var o=e||document,a=o.createDocumentFragment();return nn(t,function(c){a.appendChild(c.dom)}),k.fromDom(a)},sT=function(t,e,o){return{element:t,width:e,rows:o}},d_=function(t,e){return{element:t,cells:e}},m_=function(t,e){return{x:t,y:e}},lT=function(t,e){var o=parseInt(j(t,e),10);return isNaN(o)?1:o},g_=function(t,e,o,a,c){for(var f=lT(c,"rowspan"),p=lT(c,"colspan"),b=t.rows,w=o;w<o+f;w++){b[w]||(b[w]=d_(fc(a),[]));for(var _=e;_<e+p;_++){var F=b[w].cells;F[_]=w===o&&_===e?c:Wa(c)}}},p_=function(t,e,o){var a=t.rows,c=a[o]?a[o].cells:[];return!!c[e]},fT=function(t,e,o){for(;p_(t,e,o);)e++;return e},dT=function(t){return le(t,function(e,o){return o.cells.length>e?o.cells.length:e},0)},h_=function(t,e){for(var o=t.rows,a=0;a<o.length;a++)for(var c=o[a].cells,f=0;f<c.length;f++)if(Mr(c[f],e))return K.some(m_(f,a));return K.none()},v_=function(t,e,o,a,c){for(var f=[],p=t.rows,b=o;b<=c;b++){var w=p[b].cells,_=e<a?w.slice(e,a+1):w.slice(a,e+1);f.push(d_(p[b].element,_))}return f},vA=function(t,e,o){var a=e.x,c=e.y,f=o.x,p=o.y,b=c<p?v_(t,a,c,f,p):v_(t,a,p,f,c);return sT(t.element,dT(b),b)},bA=function(t,e){var o=Wa(t.element),a=k.fromTag("tbody");return ff(a,e),va(o,a),o},yA=function(t){return jn(t.rows,function(e){var o=jn(e.cells,function(c){var f=fc(c);return On(f,"colspan"),On(f,"rowspan"),f}),a=Wa(e.element);return ff(a,o),a})},mT=function(t){var e=sT(Wa(t),0,[]);return nn(sc(t,"tr"),function(o,a){nn(sc(o,"td,th"),function(c,f){g_(e,fT(e,f,a),a,o,c)})}),sT(e.element,dT(e.rows),e.rows)},gT=function(t){return bA(t,yA(t))},b_=function(t,e,o){return h_(t,e).bind(function(a){return h_(t,o).map(function(c){return vA(t,a,c)})})},QC=function(t){return Ue(t,function(e){return Do(e)==="ul"||Do(e)==="ol"})},js=function(t,e){return Ue(t,function(o){return Do(o)==="li"&&mh(o,e)}).fold(H([]),function(o){return QC(t).map(function(a){var c=k.fromTag(Do(a)),f=Pe(Bi(a),function(p,b){return P(b,"list-style")});return lo(c,f),[k.fromTag("li"),c]}).getOr([])})},m2=function(t,e){var o=le(e,function(a,c){return va(c,a),c},t);return e.length>0?cT([o]):o},Gh=function(t){return yu(t)?Ai(t).filter(Ds).fold(H([]),function(e){return[t,e]}):Ds(t)?[t]:[]},xA=function(t,e){var o=k.fromDom(e.commonAncestorContainer),a=Hf(o,t),c=pt(a,function(b){return Mu(b)||Lr(b)}),f=js(a,e),p=c.concat(f.length?f:Gh(o));return jn(p,Wa)},pT=function(){return cT([])},y_=function(t,e){return m2(k.fromDom(e.cloneContents()),xA(t,e))},wA=function(t,e){return nm(e,"table",Cn(Mr,t))},CA=function(t,e){return wA(t,e[0]).bind(function(o){var a=e[0],c=e[e.length-1],f=mT(o);return b_(f,a,c).map(function(p){return cT([gT(p)])})}).getOrThunk(pT)},SA=function(t,e){return e.length>0&&e[0].collapsed?pT():y_(t,e[0])},x_=function(t,e){var o=zw(e,t);return o.length>0?CA(t,o):SA(t,e)},ZC=function(t){return t.replace(/^[ \f\n\r\t\v]+/,"")},g2=function(t,e){return e>=0&&e<t.length&&Jg(t.charAt(e))},hT=function(t,e){var o=al(t.innerText);return e?ZC(o):o},tS=function(t){return t.map(function(e){return e.nodeName}).getOr("div").toLowerCase()},kA=function(t){return K.from(t.selection.getRng()).map(function(e){var o=K.from(t.dom.getParent(e.commonAncestorContainer,t.dom.isBlock)),a=t.getBody(),c=tS(o),f=mr.browser.isIE()&&c!=="pre",p=t.dom.add(a,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),b=hT(p,f),w=al(p.textContent);if(t.dom.remove(p),g2(w,0)||g2(w,w.length-1)){var _=o.getOr(a),F=hT(_,f),I=F.indexOf(b);if(I===-1)return b;var V=g2(F,I-1),Z=g2(F,I+b.length);return(V?" ":"")+b+(Z?" ":"")}else return b}).getOr("")},TA=function(t,e){var o=t.selection.getRng(),a=t.dom.create("body"),c=t.selection.getSel(),f=dp(t,lh(c)),p=e.contextual?x_(k.fromDom(t.getBody()),f).dom:o.cloneContents();return p&&a.appendChild(p),t.selection.serializer.serialize(a,e)},OA=function(t,e){return Ze(Ze({},t),{format:e,get:!0,selection:!0})},EA=function(t,e,o){o===void 0&&(o={});var a=OA(o,e),c=t.fire("BeforeGetContent",a);if(c.isDefaultPrevented())return t.fire("GetContent",c),c.content;if(c.format==="text")return kA(t);c.getInner=!0;var f=TA(t,c);return c.format==="tree"?f:(c.content=t.selection.isCollapsed()?"":f,t.fire("GetContent",c),c.content)},vT=0,w_=1,C_=2,_A=function(t,e){var o=t.length+e.length+2,a=new Array(o),c=new Array(o),f=function(F,I,V){return{start:F,end:I,diag:V}},p=function(F,I,V,Z,Q){var et=w(F,I,V,Z);if(et===null||et.start===I&&et.diag===I-Z||et.end===F&&et.diag===F-V)for(var it=F,gt=V;it<I||gt<Z;)it<I&&gt<Z&&t[it]===e[gt]?(Q.push([vT,t[it]]),++it,++gt):I-F>Z-V?(Q.push([C_,t[it]]),++it):(Q.push([w_,e[gt]]),++gt);else{p(F,et.start,V,et.start-et.diag,Q);for(var mt=et.start;mt<et.end;++mt)Q.push([vT,t[mt]]);p(et.end,I,et.end-et.diag,Z,Q)}},b=function(F,I,V,Z){for(var Q=F;Q-I<Z&&Q<V&&t[Q]===e[Q-I];)++Q;return f(F,Q,I)},w=function(F,I,V,Z){var Q=I-F,et=Z-V;if(Q===0||et===0)return null;var it=Q-et,gt=et+Q,mt=(gt%2===0?gt:gt+1)/2;a[1+mt]=F,c[1+mt]=I+1;var wt,Ht,vt,Wt,yn;for(wt=0;wt<=mt;++wt){for(Ht=-wt;Ht<=wt;Ht+=2){for(vt=Ht+mt,Ht===-wt||Ht!==wt&&a[vt-1]<a[vt+1]?a[vt]=a[vt+1]:a[vt]=a[vt-1]+1,Wt=a[vt],yn=Wt-F+V-Ht;Wt<I&&yn<Z&&t[Wt]===e[yn];)a[vt]=++Wt,++yn;if(it%2!==0&&it-wt<=Ht&&Ht<=it+wt&&c[vt-it]<=a[vt])return b(c[vt-it],Ht+F-V,I,Z)}for(Ht=it-wt;Ht<=it+wt;Ht+=2){for(vt=Ht+mt-it,Ht===it-wt||Ht!==it+wt&&c[vt+1]<=c[vt-1]?c[vt]=c[vt+1]-1:c[vt]=c[vt-1],Wt=c[vt]-1,yn=Wt-F+V-Ht;Wt>=F&&yn>=V&&t[Wt]===e[yn];)c[vt]=Wt--,yn--;if(it%2===0&&-wt<=Ht&&Ht<=wt&&c[vt]<=a[vt+it])return b(c[vt],Ht+F-V,I,Z)}}},_=[];return p(0,t.length,0,e.length,_),_},S_=function(t){return Fr(t)?t.outerHTML:je(t)?Jc.encodeRaw(t.data,!1):bf(t)?"<!--"+t.data+"-->":""},DA=function(t){var e,o=document.createElement("div"),a=document.createDocumentFragment();for(t&&(o.innerHTML=t);e=o.firstChild;)a.appendChild(e);return a},MA=function(t,e,o){var a=DA(e);if(t.hasChildNodes()&&o<t.childNodes.length){var c=t.childNodes[o];c.parentNode.insertBefore(a,c)}else t.appendChild(a)},RA=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var o=t.childNodes[e];o.parentNode.removeChild(o)}},bT=function(t,e){var o=0;nn(t,function(a){a[0]===vT?o++:a[0]===w_?(MA(e,a[1],o),o++):a[0]===C_&&RA(e,o)})},AA=function(t){return pt(jn(Qn(t.childNodes),S_),function(e){return e.length>0})},p0=function(t,e){var o=jn(Qn(e.childNodes),S_);return bT(_A(o,t),e),e},k_=Wi(function(){return document.implementation.createHTMLDocument("undo")}),Ba=function(t){return t.indexOf("</iframe>")!==-1},BA=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},zA=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},yT=function(t){var e=AA(t.getBody()),o=ao(e,function(c){var f=vC(t.serializer,c);return f.length>0?[f]:[]}),a=o.join("");return Ba(a)?BA(o):zA(a)},xT=function(t,e,o){var a=o?e.beforeBookmark:e.bookmark;e.type==="fragmented"?p0(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw",no_selection:Me(a)&&yw(a)?!a.isFakeCaret:!0}),t.selection.moveToBookmark(a)},Ws=function(t){return t.type==="fragmented"?t.fragments.join(""):t.content},p2=function(t){var e=k.fromTag("body",k_());return xa(e,Ws(t)),nn(sc(e,"*[data-mce-bogus]"),mf),wu(e)},h2=function(t,e){return Ws(t)===Ws(e)},v2=function(t,e){return p2(t)===p2(e)},h0=function(t,e){return!t||!e?!1:h2(t,e)?!0:v2(t,e)},wT=function(t){return t.get()===0},nS=function(t,e,o){wT(o)&&(t.typing=e)},Kh=function(t,e){t.typing&&(nS(t,!1,e),t.add())},v0=function(t){t.typing&&(t.typing=!1,t.add())},b0=function(t,e,o){wT(e)&&o.set(Vx(t.selection))},CT=function(t,e,o,a,c,f,p){var b=yT(t);if(f=f||{},f=hn.extend(f,b),wT(a)===!1||t.removed)return null;var w=e.data[o.get()];if(t.fire("BeforeAddUndo",{level:f,lastLevel:w,originalEvent:p}).isDefaultPrevented()||w&&h0(w,f))return null;e.data[o.get()]&&c.get().each(function(V){e.data[o.get()].beforeBookmark=V});var _=b1(t);if(_&&e.data.length>_){for(var F=0;F<e.data.length-1;F++)e.data[F]=e.data[F+1];e.data.length--,o.set(e.data.length)}f.bookmark=Vx(t.selection),o.get()<e.data.length-1&&(e.data.length=o.get()+1),e.data.push(f),o.set(e.data.length-1);var I={level:f,lastLevel:w,originalEvent:p};return o.get()>0?(t.setDirty(!0),t.fire("AddUndo",I),t.fire("change",I)):t.fire("AddUndo",I),f},NA=function(t,e,o){e.data=[],o.set(0),e.typing=!1,t.fire("ClearUndos")},ST=function(t,e,o,a,c){if(e.transact(a)){var f=e.data[o.get()].bookmark,p=e.data[o.get()-1];xT(t,p,!0),e.transact(c)&&(e.data[o.get()-1].beforeBookmark=f)}},T_=function(t,e,o){var a;return e.get()<o.length-1&&(e.set(e.get()+1),a=o[e.get()],xT(t,a,!1),t.setDirty(!0),t.fire("Redo",{level:a})),a},O_=function(t,e,o,a){var c;return e.typing&&(e.add(),e.typing=!1,nS(e,!1,o)),a.get()>0&&(a.set(a.get()-1),c=e.data[a.get()],xT(t,c,!0),t.setDirty(!0),t.fire("Undo",{level:c})),c},PA=function(t){t.clear(),t.add()},FA=function(t,e,o){return o.get()>0||e.typing&&e.data[0]&&!h0(yT(t),e.data[0])},E_=function(t,e){return e.get()<t.data.length-1&&!t.typing},LA=function(t,e,o){return Kh(t,e),t.beforeChange(),t.ignore(o),t.add()},IA=function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}},HA=function(t,e){var o=t.dom,a=Me(e)?e:t.getBody();un(t.hasVisual)&&(t.hasVisual=w4(t)),nn(o.select("table,a",a),function(c){switch(c.nodeName){case"TABLE":var f=qg(t),p=o.getAttrib(c,"border");(!p||p==="0")&&t.hasVisual?o.addClass(c,f):o.removeClass(c,f);break;case"A":if(!o.getAttrib(c,"href")){var b=o.getAttrib(c,"name")||c.id,w=tw(t);b&&t.hasVisual?o.addClass(c,w):o.removeClass(c,w)}break}}),t.fire("VisualAid",{element:e,hasVisual:t.hasVisual})},__=function(t){return{undoManager:{beforeChange:function(e,o){return b0(t,e,o)},add:function(e,o,a,c,f,p){return CT(t,e,o,a,c,f,p)},undo:function(e,o,a){return O_(t,e,o,a)},redo:function(e,o){return T_(t,e,o)},clear:function(e,o){return NA(t,e,o)},reset:function(e){return PA(e)},hasUndo:function(e,o){return FA(t,e,o)},hasRedo:function(e,o){return E_(e,o)},transact:function(e,o,a){return LA(e,o,a)},ignore:function(e,o){return IA(e,o)},extra:function(e,o,a,c){return ST(t,e,o,a,c)}},formatter:{match:function(e,o,a,c){return W3(t,e,o,a,c)},matchAll:function(e,o){return q3(t,e,o)},matchNode:function(e,o,a,c){return Id(t,e,o,a,c)},canApply:function(e){return G3(t,e)},closest:function(e){return Uf(t,e)},apply:function(e,o,a){return uT(t,e,o,a)},remove:function(e,o,a,c){return n_(t,e,o,a,c)},toggle:function(e,o,a){return hA(t,e,o,a)},formatChanged:function(e,o,a,c,f){return d2(t,e,o,a,c,f)}},editor:{getContent:function(e,o){return bC(t,e,o)},setContent:function(e,o){return PE(t,e,o)},insertContent:function(e,o){return jR(t,e,o)},addVisual:function(e){return HA(t,e)}},selection:{getContent:function(e,o){return EA(t,e,o)}},raw:{getModel:function(){return K.none()}}}},VA=function(t){var e=function(b){return Xt(b)?b:{}},o=t.undoManager,a=t.formatter,c=t.editor,f=t.selection,p=t.raw;return{undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:function(b,w,_){return o.transact(_)},ignore:function(b,w){return o.ignore(w)},extra:function(b,w,_,F){return o.extra(_,F)}},formatter:{match:function(b,w,_,F){return a.match(b,e(w),F)},matchAll:a.matchAll,matchNode:a.matchNode,canApply:function(b){return a.canApply(b)},closest:function(b){return a.closest(b)},apply:function(b,w,_){return a.apply(b,e(w))},remove:function(b,w,_,F){return a.remove(b,e(w))},toggle:function(b,w,_){return a.toggle(b,e(w))},formatChanged:function(b,w,_,F,I){return a.formatChanged(w,_,F,I)}},editor:{getContent:function(b,w){return c.getContent(b)},setContent:function(b,w){return c.setContent(b,w)},insertContent:function(b,w){return c.insertContent(b)},addVisual:c.addVisual},selection:{getContent:function(b,w){return f.getContent(w)}},raw:{getModel:function(){return K.some(p.getRawModel())}}}},D_=function(){var t=H(null),e=H("");return{undoManager:{beforeChange:en,add:t,undo:t,redo:t,clear:en,reset:en,hasUndo:Lt,hasRedo:Lt,transact:t,ignore:en,extra:en},formatter:{match:Lt,matchAll:H([]),matchNode:H(void 0),canApply:Lt,closest:e,apply:en,remove:en,toggle:en,formatChanged:H({unbind:en})},editor:{getContent:e,setContent:e,insertContent:en,addVisual:en},selection:{getContent:e},raw:{getModel:H(K.none())}}},ng=function(t){return Rr(t.plugins,"rtc")},b2=function(t){return _r(t.plugins,"rtc").bind(function(e){return K.from(e.setup)})},M_=function(t){var e=t;return b2(t).fold(function(){return e.rtcInstance=__(t),K.none()},function(o){return e.rtcInstance=D_(),K.some(function(){return o().then(function(a){return e.rtcInstance=VA(a),a.rtc.isRemote})})})},kT=function(t){return t.rtcInstance?t.rtcInstance:__(t)},Xa=function(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},UA=function(t,e,o){Xa(t).undoManager.beforeChange(e,o)},R_=function(t,e,o,a,c,f,p){return Xa(t).undoManager.add(e,o,a,c,f,p)},$A=function(t,e,o,a){return Xa(t).undoManager.undo(e,o,a)},jA=function(t,e,o){return Xa(t).undoManager.redo(e,o)},A_=function(t,e,o){Xa(t).undoManager.clear(e,o)},B_=function(t,e){Xa(t).undoManager.reset(e)},z_=function(t,e,o){return Xa(t).undoManager.hasUndo(e,o)},N_=function(t,e,o){return Xa(t).undoManager.hasRedo(e,o)},P_=function(t,e,o,a){return Xa(t).undoManager.transact(e,o,a)},WA=function(t,e,o){Xa(t).undoManager.ignore(e,o)},qA=function(t,e,o,a,c){Xa(t).undoManager.extra(e,o,a,c)},GA=function(t,e,o,a,c){return Xa(t).formatter.match(e,o,a,c)},KA=function(t,e,o){return Xa(t).formatter.matchAll(e,o)},TT=function(t,e,o,a,c){return Xa(t).formatter.matchNode(e,o,a,c)},y2=function(t,e){return Xa(t).formatter.canApply(e)},F_=function(t,e){return Xa(t).formatter.closest(e)},L_=function(t,e,o,a){Xa(t).formatter.apply(e,o,a)},eS=function(t,e,o,a,c){Xa(t).formatter.remove(e,o,a,c)},XA=function(t,e,o,a){Xa(t).formatter.toggle(e,o,a)},JA=function(t,e,o,a,c,f){return Xa(t).formatter.formatChanged(e,o,a,c,f)},xp=function(t,e,o){return kT(t).editor.getContent(e,o)},OT=function(t,e,o){return kT(t).editor.setContent(e,o)},I_=function(t,e,o){return kT(t).editor.insertContent(e,o)},x2=function(t,e,o){return Xa(t).selection.getContent(e,o)},H_=function(t,e){return Xa(t).editor.addVisual(e)},V_=function(t,e){e===void 0&&(e={});var o=e.format?e.format:"html";return x2(t,o,e)},ET=function(t){return t.dom.length===0?(Vi(t),K.none()):K.some(t)},U_=function(t,e){return t.filter(function(o){return Gl.isBookmarkNode(o.dom)}).bind(e?$c:sf)},YA=function(t,e,o,a){var c=t.dom,f=e.dom,p=a?c.length:f.length;a?(f0(c,f,!1,!a),o.setStart(f,p)):(f0(f,c,!1,!a),o.setEnd(f,p))},QA=function(t,e){Ai(t).each(function(o){var a=t.dom;e&&c0(o,mn(a,0))?Lh(a,0):!e&&s0(o,mn(a,a.length))&&l0(a,a.length)})},$_=function(t,e,o,a){t.bind(function(c){var f=a?l0:Lh;return f(c.dom,a?c.dom.length:0),e.filter(_i).map(function(p){return YA(c,p,o,a)})}).orThunk(function(){var c=U_(e,a).or(e).filter(_i);return c.map(function(f){return QA(f,a)})})},_T=function(t,e){var o=K.from(e.firstChild).map(k.fromDom),a=K.from(e.lastChild).map(k.fromDom);t.deleteContents(),t.insertNode(e);var c=o.bind(sf).filter(_i).bind(ET),f=a.bind($c).filter(_i).bind(ET);$_(c,o,t,!0),$_(f,a,t,!1),t.collapse(!1)},ZA=function(t,e){return Ze(Ze({format:"html"},t),{set:!0,selection:!0,content:e})},tB=function(t,e){if(e.format!=="raw"){var o=t.selection.getRng(),a=t.dom.getParent(o.commonAncestorContainer,t.dom.isBlock),c=a?{context:a.nodeName.toLowerCase()}:{},f=t.parser.parse(e.content,Ze(Ze({isRootContent:!0,forced_root_block:!1},c),e));return Gm({validate:t.validate},t.schema).serialize(f)}else return e.content},w2=function(t,e,o){o===void 0&&(o={});var a=ZA(o,e),c=a;if(!a.no_events){var f=t.fire("BeforeSetContent",a);if(f.isDefaultPrevented()){t.fire("SetContent",f);return}else c=f}c.content=tB(t,c);var p=t.selection.getRng();_T(p,p.createContextualFragment(c.content)),t.selection.setRng(p),ap(t,p),c.no_events||t.fire("SetContent",c)},rS=function(t,e,o){if(t&&Rr(t,e)){var a=pt(t[e],function(c){return c!==o});a.length===0?delete t[e]:t[e]=a}};function nB(t,e){var o,a,c=function(p,b){return Ue(b,function(w){return t.is(w,p)})},f=function(p){return t.getParents(p,null,t.getRoot())};return{selectorChangedWithUnbind:function(p,b){return o||(o={},a={},e.on("NodeChange",function(w){var _=w.element,F=f(_),I={};hn.each(o,function(V,Z){c(Z,F).each(function(Q){a[Z]||(nn(V,function(et){et(!0,{node:Q,selector:Z,parents:F})}),a[Z]=V),I[Z]=V})}),hn.each(a,function(V,Z){I[Z]||(delete a[Z],hn.each(V,function(Q){Q(!1,{node:_,selector:Z,parents:F})}))})})),o[p]||(o[p]=[]),o[p].push(b),c(p,f(e.selection.getStart())).each(function(){a[p]=o[p]}),{unbind:function(){rS(o,p,b),rS(a,p,b)}}}}}var DT=function(t){return!!t.select},j_=function(t){return!!(t&&t.ownerDocument)&&No(k.fromDom(t.ownerDocument),k.fromDom(t))},oS=function(t){return t?DT(t)?!0:j_(t.startContainer)&&j_(t.endContainer):!1},MT=function(t,e,o,a){var c,f,p=nB(t,a).selectorChangedWithUnbind,b=function(Zn,qe){var Wr=t.createRng();Me(Zn)&&Me(qe)?(Wr.setStart(Zn,qe),Wr.setEnd(Zn,qe),wt(Wr),it(!1)):(ql(t,Wr,a.getBody(),!0),wt(Wr))},w=function(Zn){return V_(a,Zn)},_=function(Zn,qe){return w2(a,Zn,qe)},F=function(Zn){return Oh(a.getBody(),mt(),Zn)},I=function(Zn){return jy(a.getBody(),mt(),Zn)},V=function(Zn,qe){return Te.getBookmark(Zn,qe)},Z=function(Zn){return Te.moveToBookmark(Zn)},Q=function(Zn,qe){return dC(t,Zn,qe).each(wt),Zn},et=function(){var Zn=mt(),qe=gt();return!Zn||Zn.item?!1:Zn.compareEndPoints?Zn.compareEndPoints("StartToEnd",Zn)===0:!qe||Zn.collapsed},it=function(Zn){var qe=mt();qe.collapse(!!Zn),wt(qe)},gt=function(){return e.getSelection?e.getSelection():e.document.selection},mt=function(){var Zn,qe,Wr,$o=function(ka,ns,Cs){try{return ns.compareBoundaryPoints(ka,Cs)}catch{return-1}},xo=e.document;if(a.bookmark!==void 0&&Nd(a)===!1){var da=Ny(a);if(da.isSome())return da.map(function(ka){return dp(a,[ka])[0]}).getOr(xo.createRange())}try{(Zn=gt())&&!Ml(Zn.anchorNode)&&(Zn.rangeCount>0?qe=Zn.getRangeAt(0):qe=Zn.createRange?Zn.createRange():xo.createRange(),qe=dp(a,[qe])[0])}catch{}return qe||(qe=xo.createRange?xo.createRange():xo.body.createTextRange()),qe.setStart&&qe.startContainer.nodeType===9&&qe.collapsed&&(Wr=t.getRoot(),qe.setStart(Wr,0),qe.setEnd(Wr,0)),c&&f&&($o(qe.START_TO_START,qe,c)===0&&$o(qe.END_TO_END,qe,c)===0?qe=f:(c=null,f=null)),qe},wt=function(Zn,qe){var Wr;if(oS(Zn)){var $o=DT(Zn)?Zn:null;if($o){f=null;try{$o.select()}catch{}return}var xo=gt(),da=a.fire("SetSelectionRange",{range:Zn,forward:qe});if(Zn=da.range,xo){f=Zn;try{xo.removeAllRanges(),xo.addRange(Zn)}catch{}qe===!1&&xo.extend&&(xo.collapse(Zn.endContainer,Zn.endOffset),xo.extend(Zn.startContainer,Zn.startOffset)),c=xo.rangeCount>0?xo.getRangeAt(0):null}!Zn.collapsed&&Zn.startContainer===Zn.endContainer&&xo.setBaseAndExtent&&!mr.ie&&Zn.endOffset-Zn.startOffset<2&&Zn.startContainer.hasChildNodes()&&(Wr=Zn.startContainer.childNodes[Zn.startOffset],Wr&&Wr.tagName==="IMG"&&(xo.setBaseAndExtent(Zn.startContainer,Zn.startOffset,Zn.endContainer,Zn.endOffset),(xo.anchorNode!==Zn.startContainer||xo.focusNode!==Zn.endContainer)&&xo.setBaseAndExtent(Wr,0,Wr,1))),a.fire("AfterSetSelectionRange",{range:Zn,forward:qe})}},Ht=function(Zn){return _(t.getOuterHTML(Zn)),Zn},vt=function(){return Eh(a.getBody(),mt())},Wt=function(Zn,qe){return p3(t,mt(),Zn,qe)},yn=function(){var Zn=gt(),qe=Zn==null?void 0:Zn.anchorNode,Wr=Zn==null?void 0:Zn.focusNode;if(!Zn||!qe||!Wr||Ml(qe)||Ml(Wr))return!0;var $o=t.createRng();$o.setStart(qe,Zn.anchorOffset),$o.collapse(!0);var xo=t.createRng();return xo.setStart(Wr,Zn.focusOffset),xo.collapse(!0),$o.compareBoundaryPoints($o.START_TO_START,xo)<=0},ee=function(){var Zn=mt(),qe=gt();if(!U4(qe)&&ps(a)){var Wr=bh(t,Zn);return Wr.each(function($o){wt($o,yn())}),Wr.getOr(Zn)}return Zn},hr=function(Zn,qe){return p(Zn,qe),ue},Le=function(){for(var Zn,qe=t.getRoot();qe&&qe.nodeName!=="BODY";){if(qe.scrollHeight>qe.clientHeight){Zn=qe;break}qe=qe.parentNode}return Zn},Gn=function(Zn,qe){Me(Zn)?e3(a,Zn,qe):ap(a,mt(),qe)},Ar=function(Zn,qe){return wt(Ey(Zn,qe,a.getDoc()))},se=function(){var Zn=mt();return Zn.collapsed?mn.fromRangeStart(Zn).getClientRects()[0]:Zn.getBoundingClientRect()},Fe=function(){e=c=f=null,$e.destroy()},ue={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:o,editor:a,collapse:it,setCursorLocation:b,getContent:w,setContent:_,getBookmark:V,moveToBookmark:Z,select:Q,isCollapsed:et,isForward:yn,setNode:Ht,getNode:vt,getSel:gt,setRng:wt,getRng:mt,getStart:F,getEnd:I,getSelectedBlocks:Wt,normalize:ee,selectorChanged:hr,selectorChangedWithUnbind:p,getScrollContainer:Le,scrollIntoView:Gn,placeCaretAt:Ar,getBoundingClientRect:se,destroy:Fe},Te=Gl(ue),$e=Iw(ue,a);return ue.bookmarkManager=Te,ue.controlSelection=$e,ue},eB=function(t,e){nn(e,function(o){t.attr(o,null)})},Ja=function(t,e,o){t.addNodeFilter("font",function(a){nn(a,function(c){var f=e.parse(c.attr("style")),p=c.attr("color"),b=c.attr("face"),w=c.attr("size");p&&(f.color=p),b&&(f["font-family"]=b),w&&(f["font-size"]=o[parseInt(c.attr("size"),10)-1]),c.name="span",c.attr("style",e.serialize(f)),eB(c,["color","face","size"])})})},rB=function(t,e){t.addNodeFilter("strike",function(o){nn(o,function(a){var c=e.parse(a.attr("style"));c["text-decoration"]="line-through",a.name="span",a.attr("style",e.serialize(c))})})},W_=function(t,e){var o=Tf();e.convert_fonts_to_spans&&Ja(t,o,hn.explode(e.font_size_legacy_values)),rB(t,o)},oB=function(t,e){e.inline_styles&&W_(t,e)},iB=function(t){return new Ia(function(e,o){var a=function(){o("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var c=new XMLHttpRequest;c.open("GET",t,!0),c.responseType="blob",c.onload=function(){c.status===200?e(c.response):a()},c.onerror=a,c.send()}catch{a()}})},iS=function(t){var e,o=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(o[0]);return a&&(e=a[1]),{type:e,data:o[1]}},q_=function(t,e){var o;try{o=atob(e)}catch{return K.none()}for(var a=new Uint8Array(o.length),c=0;c<a.length;c++)a[c]=o.charCodeAt(c);return K.some(new Blob([a],{type:t}))},RT=function(t){return new Ia(function(e){var o=iS(t),a=o.type,c=o.data;q_(a,c).fold(function(){return e(new Blob([]))},e)})},G_=function(t){return t.indexOf("blob:")===0?iB(t):t.indexOf("data:")===0?RT(t):null},K_=function(t){return new Ia(function(e){var o=new FileReader;o.onloadend=function(){e(o.result)},o.readAsDataURL(t)})},AT=0,BT=function(t){return(t||"blobid")+AT++},aB=function(t,e,o,a){var c,f;if(e.src.indexOf("blob:")===0){f=t.getByUri(e.src),f?o({image:e,blobInfo:f}):G_(e.src).then(function(_){K_(_).then(function(F){c=iS(F).data,f=t.create(BT(),_,c),t.add(f),o({image:e,blobInfo:f})})},function(_){a(_)});return}var p=iS(e.src),b=p.data,w=p.type;c=b,f=t.getByData(c,w),f?o({image:e,blobInfo:f}):G_(e.src).then(function(_){f=t.create(BT(),_,c),t.add(f),o({image:e,blobInfo:f})},function(_){a(_)})},uB=function(t){return t?Qn(t.getElementsByTagName("img")):[]},cB=function(t,e){var o={},a=function(c,f){f||(f=An);var p=pt(uB(c),function(w){var _=w.src;return!mr.fileApi||w.hasAttribute("data-mce-bogus")||w.hasAttribute("data-mce-placeholder")||!_||_===mr.transparentSrc?!1:_.indexOf("blob:")===0?!t.isUploaded(_)&&f(w):_.indexOf("data:")===0?f(w):!1}),b=jn(p,function(w){if(o[w.src]!==void 0)return new Ia(function(F){o[w.src].then(function(I){if(typeof I=="string")return I;F({image:w,blobInfo:I.blobInfo})})});var _=new Ia(function(F,I){aB(e,w,F,I)}).then(function(F){return delete o[F.image.src],F}).catch(function(F){return delete o[w.src],F});return o[w.src]=_,_});return Ia.all(b)};return{findAll:a}},X_=function(t,e,o,a){var c=t.padd_empty_with_br||e.insert;c&&o[a.name]?a.empty().append(new hs("br",1)).shortEnded=!0:a.empty().append(new hs("#text",3)).value=Tc},J_=function(t){return zT(t,"#text")&&t.firstChild.value===Tc},zT=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},NT=function(t,e){var o=t.getElementRule(e.name);return o&&o.paddEmpty},y0=function(t,e,o,a){return a.isEmpty(e,o,function(c){return NT(t,c)})},Y_=function(t,e){return t&&(Rr(e,t.name)||t.name==="br")},Q_=function(t){return Me(t.attr("data-mce-bogus"))},Z_=function(t){return t.attr("src")===mr.transparentSrc||Me(t.attr("data-mce-placeholder"))},tD=function(t,e){if(e.images_dataimg_filter){var o=new Image;return o.src=t.attr("src"),te(t.attributes.map,function(a,c){o.setAttribute(c,a)}),e.images_dataimg_filter(o)}else return!0},nD=function(t,e){var o=e.blob_cache,a=function(c){var f=c.attr("src");Z_(c)||Q_(c)||v3(f).filter(function(){return tD(c,e)}).bind(function(p){var b=p.type,w=p.data;return K.from(o.getByData(w,b)).orThunk(function(){return q_(b,w).map(function(_){var F=o.create(BT(),_,w);return o.add(F),F})})}).each(function(p){c.attr("src",p.blobUri())})};o&&t.addAttributeFilter("src",function(c){return nn(c,a)})},sB=function(t,e){var o=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",function(a,c,f){var p,b=a.length,w,_=hn.extend({},o.getBlockElements()),F=o.getNonEmptyElements(),I,V,Z,Q,et=o.getWhiteSpaceElements(),it,gt;for(_.body=1,p=0;p<b;p++)if(w=a[p],I=w.parent,_[w.parent.name]&&w===I.lastChild){for(Z=w.prev;Z;){if(Q=Z.name,Q!=="span"||Z.attr("data-mce-type")!=="bookmark"){Q==="br"&&(w=null);break}Z=Z.prev}w&&(w.remove(),y0(o,F,et,I)&&(it=o.getElementRule(I.name),it&&(it.removeEmpty?I.remove():it.paddEmpty&&X_(e,f,_,I))))}else{for(V=w;I&&I.firstChild===V&&I.lastChild===V&&(V=I,!_[I.name]);)I=I.parent;V===I&&e.padd_empty_with_br!==!0&&(gt=new hs("#text",3),gt.value=Tc,w.replace(gt))}}),t.addAttributeFilter("href",function(a){var c=a.length,f=function(w){var _=w.split(" ").filter(function(F){return F.length>0});return _.concat(["noopener"]).sort().join(" ")},p=function(w){var _=w?hn.trim(w):"";return/\b(noopener)\b/g.test(_)?_:f(_)};if(!e.allow_unsafe_link_target)for(;c--;){var b=a[c];b.name==="a"&&b.attr("target")==="_blank"&&b.attr("rel",p(b.attr("rel")))}}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(a){for(var c=a.length,f,p,b,w;c--;)if(w=a[c],w.name==="a"&&w.firstChild&&!w.attr("href")){b=w.parent,f=w.lastChild;do p=f.prev,b.insert(f,w),f=p;while(f)}}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(a){for(var c=a.length,f,p;c--;)if(f=a[c],p=f.parent,p.name==="ul"||p.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var b=new hs("li",1);b.attr("style","list-style-type: none"),f.wrap(b)}}),e.validate&&o.getValidClasses()&&t.addAttributeFilter("class",function(a){for(var c=o.getValidClasses(),f=a.length;f--;){for(var p=a[f],b=p.attr("class").split(" "),w="",_=0;_<b.length;_++){var F=b[_],I=!1,V=c["*"];V&&V[F]&&(I=!0),V=c[p.name],!I&&V&&V[F]&&(I=!0),I&&(w&&(w+=" "),w+=F)}w.length||(w=null),p.attr("class",w)}}),nD(t,e)},aS=hn.makeMap,eD=hn.each,C2=hn.explode,lB=hn.extend,PT=function(t,e){e===void 0&&(e=uo());var o={},a=[],c={},f={};t=t||{},t.validate="validate"in t?t.validate:!0,t.root_name=t.root_name||"body";var p=function(Q){for(var et=aS("tr,td,th,tbody,thead,tfoot,table"),it=e.getNonEmptyElements(),gt=e.getWhiteSpaceElements(),mt=e.getTextBlockElements(),wt=e.getSpecialElements(),Ht=function(Te,$e){if($e===void 0&&($e=Te.parent),wt[Te.name])Te.empty().remove();else{for(var Zn=Te.children(),qe=0,Wr=Zn;qe<Wr.length;qe++){var $o=Wr[qe];e.isValidChild($e.name,$o.name)||Ht($o,$e)}Te.unwrap()}},vt=0;vt<Q.length;vt++){var Wt=Q[vt],yn=void 0,ee=void 0,hr=void 0;if(!(!Wt.parent||Wt.fixed)){if(mt[Wt.name]&&Wt.parent.name==="li"){for(var Le=Wt.next;Le&&mt[Le.name];)Le.name="li",Le.fixed=!0,Wt.parent.insert(Le,Wt.parent),Le=Le.next;Wt.unwrap();continue}var Gn=[Wt];for(yn=Wt.parent;yn&&!e.isValidChild(yn.name,Wt.name)&&!et[yn.name];yn=yn.parent)Gn.push(yn);if(yn&&Gn.length>1)if(e.isValidChild(yn.name,Wt.name)){Gn.reverse(),ee=b(Gn[0].clone());for(var Ar=ee,se=0;se<Gn.length-1;se++){e.isValidChild(Ar.name,Gn[se].name)?(hr=b(Gn[se].clone()),Ar.append(hr)):hr=Ar;for(var Fe=Gn[se].firstChild;Fe&&Fe!==Gn[se+1];){var ue=Fe.next;hr.append(Fe),Fe=ue}Ar=hr}y0(e,it,gt,ee)?yn.insert(Wt,Gn[0],!0):(yn.insert(ee,Gn[0],!0),yn.insert(Wt,ee)),yn=Gn[0],(y0(e,it,gt,yn)||zT(yn,"br"))&&yn.empty().remove()}else Ht(Wt);else if(Wt.parent){if(Wt.name==="li"){var Le=Wt.prev;if(Le&&(Le.name==="ul"||Le.name==="ol")){Le.append(Wt);continue}if(Le=Wt.next,Le&&(Le.name==="ul"||Le.name==="ol")){Le.insert(Wt,Le.firstChild,!0);continue}Wt.wrap(b(new hs("ul",1)));continue}e.isValidChild(Wt.parent.name,"div")&&e.isValidChild("div",Wt.name)?Wt.wrap(b(new hs("div",1))):Ht(Wt)}}}},b=function(Q){var et=Q.name;if(et in o){var it=c[et];it?it.push(Q):c[et]=[Q]}for(var gt=a.length;gt--;){var mt=a[gt].name;if(mt in Q.attributes.map){var it=f[mt];it?it.push(Q):f[mt]=[Q]}}return Q},w=function(Q,et){eD(C2(Q),function(it){var gt=o[it];gt||(o[it]=gt=[]),gt.push(et)})},_=function(){var Q=[];for(var et in o)Rr(o,et)&&Q.push({name:et,callbacks:o[et]});return Q},F=function(Q,et){eD(C2(Q),function(it){var gt;for(gt=0;gt<a.length;gt++)if(a[gt].name===it){a[gt].callbacks.push(et);return}a.push({name:it,callbacks:[et]})})},I=function(){return[].concat(a)},V=function(Q,et){var it,gt,mt,wt,Ht,vt,Wt,yn=[],ee,hr=function(an){return an===!1?"":an===!0?"p":an};et=et||{},c={},f={};var Le=lB(aS("script,style,head,html,body,title,meta,param"),e.getBlockElements()),Gn=e.getNonEmptyElements(),Ar=e.children,se=t.validate,Fe="forced_root_block"in et?et.forced_root_block:t.forced_root_block,ue=hr(Fe),Te=e.getWhiteSpaceElements(),$e=/^[ \t\r\n]+/,Zn=/[ \t\r\n]+$/,qe=/[ \t\r\n]+/g,Wr=/^[ \t\r\n]+$/,$o=Rr(Te,et.context)||Rr(Te,t.root_name),xo=function(){var an=Yn.firstChild,re=null,cn=function(Se){Se&&(an=Se.firstChild,an&&an.type===3&&(an.value=an.value.replace($e,"")),an=Se.lastChild,an&&an.type===3&&(an.value=an.value.replace(Zn,"")))};if(e.isValidChild(Yn.name,ue.toLowerCase())){for(;an;){var Qe=an.next;an.type===3||an.type===1&&an.name!=="p"&&!Le[an.name]&&!an.attr("data-mce-type")?(re||(re=da(ue,1),re.attr(t.forced_root_block_attrs),Yn.insert(re,an)),re.append(an)):(cn(re),re=null),an=Qe}cn(re)}},da=function(an,re){var cn=new hs(an,re),Qe;return an in o&&(Qe=c[an],Qe?Qe.push(cn):c[an]=[cn]),cn},ka=function(an){for(var re=e.getBlockElements(),cn=an.prev;cn&&cn.type===3;){var Qe=cn.value.replace(Zn,"");if(Qe.length>0){cn.value=Qe;return}var Se=cn.next;if(Se){if(Se.type===3&&Se.value.length){cn=cn.prev;continue}if(!re[Se.name]&&Se.name!=="script"&&Se.name!=="style"){cn=cn.prev;continue}}var Dr=cn.prev;cn.remove(),cn=Dr}},ns=function(an){var re={};for(var cn in an)cn!=="li"&&cn!=="p"&&(re[cn]=an[cn]);return re},Cs=Q1({validate:se,document:t.document,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:ns(e.getSelfClosingElements()),cdata:function(an){ee.append(da("#cdata",4)).value=an},text:function(an,re){var cn;$o||(an=an.replace(qe," "),Y_(ee.lastChild,Le)&&(an=an.replace($e,""))),an.length!==0&&(cn=da("#text",3),cn.raw=!!re,ee.append(cn).value=an)},comment:function(an){ee.append(da("#comment",8)).value=an},pi:function(an,re){ee.append(da(an,7)).value=re,ka(ee)},doctype:function(an){var re=ee.append(da("#doctype",10));re.value=an,ka(ee)},start:function(an,re,cn){var Qe=se?e.getElementRule(an):{};if(Qe){var Se=da(Qe.outputName||an,1);Se.attributes=re,Se.shortEnded=cn,ee.append(Se);var Dr=Ar[ee.name];Dr&&Ar[Se.name]&&!Dr[Se.name]&&yn.push(Se);for(var co=a.length;co--;){var Ti=a[co].name;Ti in re.map&&(vt=f[Ti],vt?vt.push(Se):f[Ti]=[Se])}Le[an]&&ka(Se),cn||(ee=Se),!$o&&Te[an]&&($o=!0)}},end:function(an){var re,cn,Qe,Se,Dr=se?e.getElementRule(an):{};if(Dr){if(Le[an]&&!$o){if(re=ee.firstChild,re&&re.type===3)if(cn=re.value.replace($e,""),cn.length>0)re.value=cn,re=re.next;else for(Qe=re.next,re.remove(),re=Qe;re&&re.type===3;)cn=re.value,Qe=re.next,(cn.length===0||Wr.test(cn))&&(re.remove(),re=Qe),re=Qe;if(re=ee.lastChild,re&&re.type===3)if(cn=re.value.replace(Zn,""),cn.length>0)re.value=cn,re=re.prev;else for(Qe=re.prev,re.remove(),re=Qe;re&&re.type===3;)cn=re.value,Qe=re.prev,(cn.length===0||Wr.test(cn))&&(re.remove(),re=Qe),re=Qe}if($o&&Te[an]&&($o=!1),Dr.removeEmpty&&y0(e,Gn,Te,ee)){Se=ee.parent,Le[ee.name]?ee.empty().remove():ee.unwrap(),ee=Se;return}Dr.paddEmpty&&(J_(ee)||y0(e,Gn,Te,ee))&&X_(t,et,Le,ee),ee=ee.parent}}},e),Yn=ee=new hs(et.context||t.root_name,11);if(Cs.parse(Q,et.format),se&&yn.length&&(et.context?et.invalid=!0:p(yn)),ue&&(Yn.name==="body"||et.isRootContent)&&xo(),!et.invalid){for(Wt in c)if(Rr(c,Wt)){for(vt=o[Wt],it=c[Wt],wt=it.length;wt--;)it[wt].parent||it.splice(wt,1);for(gt=0,mt=vt.length;gt<mt;gt++)vt[gt](it,Wt,et)}for(gt=0,mt=a.length;gt<mt;gt++)if(vt=a[gt],vt.name in f){for(it=f[vt.name],wt=it.length;wt--;)it[wt].parent||it.splice(wt,1);for(wt=0,Ht=vt.callbacks.length;wt<Ht;wt++)vt.callbacks[wt](it,vt.name,et)}}return Yn},Z={schema:e,addAttributeFilter:F,getAttributeFilters:I,addNodeFilter:w,getNodeFilters:_,filterNode:b,parse:V};return sB(Z,t),oB(Z,t),Z},fB=function(t,e,o){t.addAttributeFilter("data-mce-tabindex",function(a,c){for(var f=a.length;f--;){var p=a[f];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}}),t.addAttributeFilter("src,href,style",function(a,c){for(var f="data-mce-"+c,p=e.url_converter,b=e.url_converter_scope,w=a.length;w--;){var _=a[w],F=_.attr(f);F!==void 0?(_.attr(c,F.length>0?F:null),_.attr(f,null)):(F=_.attr(c),c==="style"?F=o.serializeStyle(o.parseStyle(F),_.name):p&&(F=p.call(b,F,c,_.name)),_.attr(c,F.length>0?F:null))}}),t.addAttributeFilter("class",function(a){for(var c=a.length;c--;){var f=a[c],p=f.attr("class");p&&(p=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",p.length>0?p:null))}}),t.addAttributeFilter("data-mce-type",function(a,c,f){for(var p=a.length;p--;){var b=a[p];if(b.attr("data-mce-type")==="bookmark"&&!f.cleanup){var w=K.from(b.firstChild).exists(function(_){return!$u(_.value)});w?b.unwrap():b.remove()}}}),t.addNodeFilter("noscript",function(a){for(var c=a.length;c--;){var f=a[c].firstChild;f&&(f.value=Jc.decode(f.value))}}),t.addNodeFilter("script,style",function(a,c){for(var f=function(F){return F.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},p=a.length;p--;){var b=a[p],w=b.firstChild?b.firstChild.value:"";if(c==="script"){var _=b.attr("type");_&&b.attr("type",_==="mce-no/type"?null:_.replace(/^mce\-/,"")),e.element_format==="xhtml"&&w.length>0&&(b.firstChild.value=`// <![CDATA[
`+f(w)+`
// ]]>`)}else e.element_format==="xhtml"&&w.length>0&&(b.firstChild.value=`<!--
`+f(w)+`
-->`)}}),t.addNodeFilter("#comment",function(a){for(var c=a.length;c--;){var f=a[c];e.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=o.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}}),t.addNodeFilter("xml:namespace,input",function(a,c){for(var f=a.length;f--;){var p=a[f];p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}}),t.addAttributeFilter("data-mce-type",function(a){nn(a,function(c){c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(t.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(a,c){for(var f=a.length;f--;)a[f].attr(c,null)})},rD=function(t){var e=function(c){return c&&c.name==="br"},o=t.lastChild;if(e(o)){var a=o.prev;e(a)&&(o.remove(),a.remove())}},oD=function(t,e,o){var a,c=t.dom,f=e.cloneNode(!0),p=document.implementation;if(p.createHTMLDocument){var b=p.createHTMLDocument("");hn.each(f.nodeName==="BODY"?f.childNodes:[f],function(w){b.body.appendChild(b.importNode(w,!0))}),f.nodeName!=="BODY"?f=b.body.firstChild:f=b.body,a=c.doc,c.doc=b}return Nw(t,Ze(Ze({},o),{node:f})),a&&(c.doc=a),f},dB=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},mB=function(t,e,o){return dB(t,o)?oD(t,e,o):e},gB=function(t,e,o){hn.inArray(e,o)===-1&&(t.addAttributeFilter(o,function(a,c){for(var f=a.length;f--;)a[f].attr(c,null)}),e.push(o))},pB=function(t,e,o){if(!e.no_events&&t){var a=hh(t,Ze(Ze({},e),{content:o}));return a.content}else return o},iD=function(t,e,o){var a=al(o.getInner?e.innerHTML:t.getOuterHTML(e));return o.selection||em(k.fromDom(e))?a:hn.trim(a)},hB=function(t,e,o){var a=o.selection?Ze({forced_root_block:!1},o):o,c=t.parse(e,a);return rD(c),c},vB=function(t,e,o){var a=Gm(t,e);return a.serialize(o)},bB=function(t,e,o,a,c){var f=vB(e,o,a);return pB(t,c,f)},yB=function(t,e){var o=["data-mce-selected"],a=e&&e.dom?e.dom:pi.DOM,c=e&&e.schema?e.schema:uo(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0;var f=PT(t,c);fB(f,t,a);var p=function(b,w){w===void 0&&(w={});var _=Ze({format:"html"},w),F=mB(e,b,_),I=iD(a,F,_),V=hB(f,I,_);return _.format==="tree"?V:bB(e,t,c,V,_)};return{schema:c,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:p,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:Cn(gB,f,o),getTempAttrs:H(o),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},aD=function(t,e){var o=yB(t,e);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters}},xB="html",wB=function(t,e){e===void 0&&(e={});var o=e.format?e.format:xB;return xp(t,e,o)},FT=function(t,e,o){return o===void 0&&(o={}),OT(t,e,o)},S2=pi.DOM,CB=function(t){S2.setStyle(t.id,"display",t.orgDisplay)},uS=function(t){return K.from(t).each(function(e){return e.destroy()})},SB=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},kB=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),S2.unbind(e,"submit reset",t.formEventDelegate))},TB=function(t){if(!t.removed){var e=t._selectionOverrides,o=t.editorUpload,a=t.getBody(),c=t.getElement();a&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&c&&S2.remove(c.nextSibling),j4(t),t.editorManager.remove(t),!t.inline&&a&&CB(t),xy(t),S2.remove(t.getContainer()),uS(e),uS(o),t.destroy()}},k2=function(t,e){var o=t.selection,a=t.dom;if(!t.destroyed){if(!e&&!t.removed){t.remove();return}e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),uS(o),uS(a)),kB(t),SB(t),t.destroyed=!0}},OB=function(t,e){var o=Xt(t)&&Xt(e);return o?LT(t,e):e},EB=function(t){return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];if(e.length===0)throw new Error("Can't merge zero objects");for(var a={},c=0;c<e.length;c++){var f=e[c];for(var p in f)Rr(f,p)&&(a[p]=t(a[p],f[p]))}return a}},LT=EB(OB),uD="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),_B="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),DB="imagetools,toc".split(","),MB=function(t){var e=pt(uD,function(a){return Rr(t,a)}),o=t.forced_root_block;return(o===!1||o==="")&&e.push("forced_root_block (false only)"),zt(e)},T2=function(t){var e=hn.makeMap(t.plugins," "),o=function(c){return Rr(e,c)},a=Ei(Ei([],pt(_B,o),!0),ao(DB,function(c){return o(c)?[c+" (moving to premium)"]:[]}),!0);return zt(a)},cD=function(t,e){var o=MB(t),a=T2(e),c=a.length>0,f=o.length>0,p=e.theme==="mobile";if(c||f||p){var b=`
- `,w=p?`

Themes:`+b+"mobile":"",_=c?`

Plugins:`+b+a.join(b):"",F=f?`

Settings:`+b+o.join(b):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+w+_+F)}},sD=function(t,e){return{sections:H(t),settings:H(e)}},IT=ur().deviceType,lD=IT.isTouch(),fD=IT.isPhone(),RB=IT.isTablet(),AB=["lists","autolink","autosave"],HT={table_grid:!1,object_resizing:!1,resize:!1},O2=function(t){var e=fe(t)?t.join(" "):t,o=jn(Sn(e)?e.split(" "):[],ft);return pt(o,function(a){return a.length>0})},BB=function(t){return pt(t,Cn(Dt,AB))},zB=function(t,e){var o=Hn(e,function(a,c){return Dt(t,c)});return sD(o.t,o.f)},dD=function(t,e,o){o===void 0&&(o={});var a=t.sections(),c=_r(a,e).getOr({});return hn.extend({},o,c)},cS=function(t,e){return Rr(t.sections(),e)},NB=function(t,e,o){var a=t.sections();return cS(t,e)&&a[e].theme===o},E2=function(t,e){return cS(t,e)?t.sections()[e]:{}},VT=function(t,e){return _r(t,"toolbar_mode").orThunk(function(){return _r(t,"toolbar_drawer").map(function(o){return o===!1?"wrap":o})}).getOr(e)},mD=function(t,e,o,a,c){var f={id:e,theme:"silver",toolbar_mode:VT(t,"floating"),plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c};return Ze(Ze({},f),a?HT:{})},PB=function(t,e){var o={resize:!1,toolbar_mode:VT(t,"scrolling"),toolbar_sticky:!1},a={menubar:!1};return Ze(Ze(Ze({},HT),o),e?a:{})},FB=function(t,e){var o=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?hn.extend({},t.external_plugins,o):o},LB=function(t,e){return[].concat(O2(t)).concat(O2(e))},gD=function(t,e,o,a){return t&&NB(e,"mobile","mobile")?BB(a):t&&cS(e,"mobile")?a:o},IB=function(t,e,o,a){var c=O2(o.forced_plugins),f=O2(a.plugins),p=E2(e,"mobile"),b=p.plugins?O2(p.plugins):f,w=gD(t,e,f,b),_=LB(c,w);if(mr.browser.isIE()&&Dt(_,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return hn.extend(a,{plugins:_.join(" ")})},HB=function(t,e){return t&&cS(e,"mobile")},VB=function(t,e,o,a,c){var f=t?{mobile:PB(c.mobile||{},e)}:{},p=zB(["mobile"],LT(f,c)),b=hn.extend(o,a,p.settings(),HB(t,p)?dD(p,"mobile"):{},{validate:!0,external_plugins:FB(a,p.settings())});return IB(t,p,a,b)},UB=function(t,e,o,a,c){var f=mD(c,e,o,lD,t),p=VB(fD||RB,fD,f,a,c);return p.deprecation_warnings!==!1&&cD(c,p),p},Xh=function(t,e,o){return K.from(e.settings[o]).filter(t)},Zu=function(t){var e={};return typeof t=="string"?nn(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(o){var a=o.split("=");a.length>1?e[hn.trim(a[0])]=hn.trim(a[1]):e[hn.trim(a[0])]=hn.trim(a[0])}):e=t,e},pD=function(t){return function(e){return fe(e)&&ko(e,t)}},$B=function(t,e,o,a){var c=e in t.settings?t.settings[e]:o;return a==="hash"?Zu(c):a==="string"?Xh(Sn,t,e).getOr(o):a==="number"?Xh(xn,t,e).getOr(o):a==="boolean"?Xh(Yt,t,e).getOr(o):a==="object"?Xh(Xt,t,e).getOr(o):a==="array"?Xh(fe,t,e).getOr(o):a==="string[]"?Xh(pD(Sn),t,e).getOr(o):a==="function"?Xh(Ft,t,e).getOr(o):c},jB=function(){var t={},e=function(c,f){t[c]=f},o=function(c){return t[c]?t[c]:{icons:{}}},a=function(c){return Rr(t,c)};return{add:e,get:o,has:a}},sS=jB(),hD=function(t,e){var o=e.dom;return o[t]},Oo=function(t,e){return parseInt(no(e,t),10)},WB=Cn(hD,"clientWidth"),qB=Cn(hD,"clientHeight"),GB=Cn(Oo,"margin-top"),oa=Cn(Oo,"margin-left"),KB=function(t){return t.dom.getBoundingClientRect()},_2=function(t,e,o){var a=WB(t),c=qB(t);return e>=0&&o>=0&&e<=a&&o<=c},XB=function(t,e,o,a){var c=KB(e),f=t?c.left+e.dom.clientLeft+oa(e):0,p=t?c.top+e.dom.clientTop+GB(e):0,b=o-f,w=a-p;return{x:b,y:w}},vD=function(t,e,o){var a=k.fromDom(t.getBody()),c=t.inline?a:wc(a),f=XB(t.inline,c,e,o);return _2(c,f.x,f.y)},JB=function(t){return K.from(t).map(k.fromDom)},bD=function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return JB(e).map(gf).getOr(!1)},wp=function(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}},bs=function(t){var e=[],o=function(){var V=t.theme;return V&&V.getNotificationManagerImpl?V.getNotificationManagerImpl():wp()},a=function(){return K.from(e[0])},c=function(V,Z){return V.type===Z.type&&V.text===Z.text&&!V.progressBar&&!V.timeout&&!Z.progressBar&&!Z.timeout},f=function(){e.length>0&&o().reposition(e)},p=function(V){e.push(V)},b=function(V){er(e,function(Z){return Z===V}).each(function(Z){e.splice(Z,1)})},w=function(V,Z){if(Z===void 0&&(Z=!0),!(t.removed||!bD(t)))return Z&&t.fire("BeforeOpenNotification",{notification:V}),Ue(e,function(Q){return c(o().getArgs(Q),V)}).getOrThunk(function(){t.editorManager.setActive(t);var Q=o().open(V,function(){b(Q),f(),a().fold(function(){return t.focus()},function(et){return o3(k.fromDom(et.getEl()))})});return p(Q),f(),t.fire("OpenNotification",{notification:Ze({},Q)}),Q})},_=function(){a().each(function(V){o().close(V),b(V),f()})},F=H(e),I=function(V){V.on("SkinLoaded",function(){var Z=Wb(V);Z&&w({text:Z,type:"warning",timeout:0},!1),f()}),V.on("show ResizeEditor ResizeWindow NodeChange",function(){bu.requestAnimationFrame(f)}),V.on("remove",function(){nn(e.slice(),function(Z){o().close(Z)})})};return I(t),{open:w,close:_,getNotifications:F}},ys=Zo.PluginManager,qs=Zo.ThemeManager;function Hd(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}var x0=function(t){var e=[],o=function(){var et=t.theme;return et&&et.getWindowManagerImpl?et.getWindowManagerImpl():Hd()},a=function(et,it){return function(){for(var gt=[],mt=0;mt<arguments.length;mt++)gt[mt]=arguments[mt];return it?it.apply(et,gt):void 0}},c=function(et){t.fire("OpenWindow",{dialog:et})},f=function(et){t.fire("CloseWindow",{dialog:et})},p=function(et){e.push(et),c(et)},b=function(et){f(et),e=pt(e,function(it){return it!==et}),e.length===0&&t.focus()},w=function(){return K.from(e[e.length-1])},_=function(et){t.editorManager.setActive(t),lp(t);var it=et();return p(it),it},F=function(et,it){return _(function(){return o().open(et,it,b)})},I=function(et){return _(function(){return o().openUrl(et,b)})},V=function(et,it,gt){var mt=o();mt.alert(et,a(gt||mt,it))},Z=function(et,it,gt){var mt=o();mt.confirm(et,a(gt||mt,it))},Q=function(){w().each(function(et){o().close(et),b(et)})};return t.on("remove",function(){nn(e,function(et){o().close(et)})}),{open:F,openUrl:I,alert:V,confirm:Z,close:Q}},lS=function(t,e){t.notificationManager.open({type:"error",text:e})},w0=function(t,e){t._skinLoaded?lS(t,e):t.on("SkinLoaded",function(){lS(t,e)})},yD=function(t,e){w0(t,oo.translate(["Failed to upload image: {0}",e]))},fS=function(t,e,o){Sy(t,e,{message:o}),console.error(o)},UT=function(t,e,o){return o?"Failed to load "+t+": "+o+" from url "+e:"Failed to load "+t+" url: "+e},dS=function(t,e,o){fS(t,"PluginLoadError",UT("plugin",e,o))},xD=function(t,e,o){fS(t,"IconsLoadError",UT("icons",e,o))},YB=function(t,e,o){fS(t,"LanguageLoadError",UT("language",e,o))},wD=function(t,e,o){var a=oo.translate(["Failed to initialize plugin: {0}",e]);Sy(t,"PluginLoadError",{message:a}),mS(a,o),w0(t,a)},mS=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var a=window.console;a&&(a.error?a.error.apply(a,Ei([t],e,!1)):a.log.apply(a,Ei([t],e,!1)))},D2=function(t){return/^[a-z0-9\-]+$/i.test(t)},CD=function(t){return Vd(t,l4(t))},SD=function(t){return Vd(t,v1(t))},Vd=function(t,e){var o=t.editorManager.baseURL+"/skins/content",a=t.editorManager.suffix,c="content"+a+".css",f=t.inline===!0;return jn(e,function(p){return D2(p)&&!f?o+"/"+p+"/"+c:t.documentBaseURI.toAbsolute(p)})},$T=function(t){t.contentCSS=t.contentCSS.concat(CD(t),SD(t))},kD=function(){var t=1,e=2,o={},a=function(V,Z){return{status:V,resultUri:Z}},c=function(V){return V in o},f=function(V){var Z=o[V];return Z?Z.resultUri:null},p=function(V){return c(V)?o[V].status===t:!1},b=function(V){return c(V)?o[V].status===e:!1},w=function(V){o[V]=a(t,null)},_=function(V,Z){o[V]=a(e,Z)},F=function(V){delete o[V]},I=function(){o={}};return{hasBlobUri:c,getResultUri:f,isPending:p,isUploaded:b,markPending:w,markUploaded:_,removeFailed:F,destroy:I}},QB=0,ZB=function(){var t=function(){return Math.round(Math.random()*4294967295).toString(36)},e=new Date().getTime();return"s"+e.toString(36)+t()+t()+t()},Jh=function(t){return t+QB+++ZB()},tz=function(){var t=[],e=function(I){var V={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return V[I.toLowerCase()]||"dat"},o=function(I,V,Z,Q,et){if(Sn(I)){var it=I;return a({id:it,name:Q,filename:et,blob:V,base64:Z})}else{if(Xt(I))return a(I);throw new Error("Unknown input type")}},a=function(I){if(!I.blob||!I.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var V=I.id||Jh("blobid"),Z=I.name||V,Q=I.blob;return{id:H(V),name:H(Z),filename:H(I.filename||Z+"."+e(Q.type)),blob:H(Q),base64:H(I.base64),blobUri:H(I.blobUri||URL.createObjectURL(Q)),uri:H(I.uri)}},c=function(I){p(I.id())||t.push(I)},f=function(I){return Ue(t,I).getOrUndefined()},p=function(I){return f(function(V){return V.id()===I})},b=function(I){return f(function(V){return V.blobUri()===I})},w=function(I,V){return f(function(Z){return Z.base64()===I&&Z.blob().type===V})},_=function(I){t=pt(t,function(V){return V.blobUri()===I?(URL.revokeObjectURL(V.blobUri()),!1):!0})},F=function(){nn(t,function(I){URL.revokeObjectURL(I.blobUri())}),t=[]};return{create:o,add:c,get:p,getByUri:b,getByData:w,findFirst:f,removeByUri:_,destroy:F}},nz=function(t,e){var o={},a=function(Q,et){return Q?Q.replace(/\/$/,"")+"/"+et.replace(/^\//,""):et},c=function(Q,et,it,gt){var mt=new XMLHttpRequest;mt.open("POST",e.url),mt.withCredentials=e.credentials,mt.upload.onprogress=function(Ht){gt(Ht.loaded/Ht.total*100)},mt.onerror=function(){it("Image upload failed due to a XHR Transport error. Code: "+mt.status)},mt.onload=function(){if(mt.status<200||mt.status>=300){it("HTTP Error: "+mt.status);return}var Ht=JSON.parse(mt.responseText);if(!Ht||typeof Ht.location!="string"){it("Invalid JSON: "+mt.responseText);return}et(a(e.basePath,Ht.location))};var wt=new FormData;wt.append("file",Q.blob(),Q.filename()),mt.send(wt)},f=function(){return new Ia(function(Q){Q([])})},p=function(Q,et){return{url:et,blobInfo:Q,status:!0}},b=function(Q,et,it){return{url:"",blobInfo:Q,status:!1,error:{message:et,options:it}}},w=function(Q,et){hn.each(o[Q],function(it){it(et)}),delete o[Q]},_=function(Q,et,it){return t.markPending(Q.blobUri()),new Ia(function(gt){var mt,wt;try{var Ht=function(){mt&&(mt.close(),wt=en)},vt=function(yn){Ht(),t.markUploaded(Q.blobUri(),yn),w(Q.blobUri(),p(Q,yn)),gt(p(Q,yn))},Wt=function(yn,ee){var hr=ee||{};Ht(),t.removeFailed(Q.blobUri()),w(Q.blobUri(),b(Q,yn,hr)),gt(b(Q,yn,hr))};wt=function(yn){yn<0||yn>100||K.from(mt).orThunk(function(){return K.from(it).map(D)}).each(function(ee){mt=ee,ee.progressBar.value(yn)})},et(Q,vt,Wt,wt)}catch(yn){gt(b(Q,yn.message,{}))}})},F=function(Q){return Q===c},I=function(Q){var et=Q.blobUri();return new Ia(function(it){o[et]=o[et]||[],o[et].push(it)})},V=function(Q,et){return Q=hn.grep(Q,function(it){return!t.isUploaded(it.blobUri())}),Ia.all(hn.map(Q,function(it){return t.isPending(it.blobUri())?I(it):_(it,e.handler,et)}))},Z=function(Q,et){return!e.url&&F(e.handler)?f():V(Q,et)};return Ft(e.handler)===!1&&(e.handler=c),{upload:Z}},Su=function(t){return function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},TD=function(t,e){return nz(e,{url:Af(t),basePath:p1(t),credentials:s4(t),handler:Cd(t)})},OD=function(t){var e=kD(),o=TD(t,e);return{upload:function(a,c){return c===void 0&&(c=!0),o.upload(a,c?Su(t):void 0)}}},ED=function(t){var e=qu(null);t.on("change AddUndo",function(a){e.set(Ze({},a.level))});var o=function(){var a=t.undoManager.data;xe(a).filter(function(c){return!h0(e.get(),c)}).each(function(c){t.setDirty(!0),t.fire("change",{level:c,lastLevel:jt(a,a.length-2).getOrNull()})})};return{fireIfChanged:o}},_D=function(t){var e=tz(),o,a,c=kD(),f=[],p=ED(t),b=function(Ht){return function(vt){return t.selection?Ht(vt):[]}},w=function(Ht){return Ht+(Ht.indexOf("?")===-1?"?":"&")+new Date().getTime()},_=function(Ht,vt,Wt){var yn=0;do yn=Ht.indexOf(vt,yn),yn!==-1&&(Ht=Ht.substring(0,yn)+Wt+Ht.substr(yn+vt.length),yn+=Wt.length-vt.length+1);while(yn!==-1);return Ht},F=function(Ht,vt,Wt){var yn='src="'+Wt+'"'+(Wt===mr.transparentSrc?' data-mce-placeholder="1"':"");return Ht=_(Ht,'src="'+vt+'"',yn),Ht=_(Ht,'data-mce-src="'+vt+'"','data-mce-src="'+Wt+'"'),Ht},I=function(Ht,vt){nn(t.undoManager.data,function(Wt){Wt.type==="fragmented"?Wt.fragments=jn(Wt.fragments,function(yn){return F(yn,Ht,vt)}):Wt.content=F(Wt.content,Ht,vt)})},V=function(Ht,vt){var Wt=t.convertURL(vt,"src");I(Ht.src,vt),t.$(Ht).attr({src:d1(t)?w(vt):vt,"data-mce-src":Wt})},Z=function(Ht){return o||(o=TD(t,c)),gt().then(b(function(vt){var Wt=jn(vt,function(yn){return yn.blobInfo});return o.upload(Wt,Su(t)).then(b(function(yn){var ee=[],hr=jn(yn,function(Le,Gn){var Ar=vt[Gn].blobInfo,se=vt[Gn].image;return Le.status&&m1(t)?(e.removeByUri(se.src),ng(t)||V(se,Le.url)):Le.error&&(Le.error.options.remove&&(I(se.getAttribute("src"),mr.transparentSrc),ee.push(se)),yD(t,Le.error.message)),{element:se,status:Le.status,uploadUri:Le.url,blobInfo:Ar}});return hr.length>0&&p.fireIfChanged(),ee.length>0&&(ng(t)?console.error("Removing images on failed uploads is currently unsupported for RTC"):t.undoManager.transact(function(){nn(ee,function(Le){t.dom.remove(Le),e.removeByUri(Le.src)})})),Ht&&Ht(hr),hr}))}))},Q=function(Ht){if(wd(t))return Z(Ht)},et=function(Ht){if(ko(f,function(Wt){return Wt(Ht)})===!1)return!1;if(Ht.getAttribute("src").indexOf("data:")===0){var vt=eh(t);return vt(Ht)}return!0},it=function(Ht){f.push(Ht)},gt=function(){return a||(a=cB(c,e)),a.findAll(t.getBody(),et).then(b(function(Ht){return Ht=pt(Ht,function(vt){return typeof vt=="string"?(w0(t,vt),!1):!0}),ng(t)||nn(Ht,function(vt){I(vt.image.src,vt.blobInfo.blobUri()),vt.image.src=vt.blobInfo.blobUri(),vt.image.removeAttribute("data-mce-src")}),Ht}))},mt=function(){e.destroy(),c.destroy(),a=o=null},wt=function(Ht){return Ht.replace(/src="(blob:[^"]+)"/g,function(vt,Wt){var yn=c.getResultUri(Wt);if(yn)return'src="'+yn+'"';var ee=e.getByUri(Wt);if(ee||(ee=le(t.editorManager.get(),function(Le,Gn){return Le||Gn.editorUpload&&Gn.editorUpload.blobCache.getByUri(Wt)},null)),ee){var hr=ee.blob();return'src="data:'+hr.type+";base64,"+ee.base64()+'"'}return vt})};return t.on("SetContent",function(){wd(t)?Q():gt()}),t.on("RawSaveContent",function(Ht){Ht.content=wt(Ht.content)}),t.on("GetContent",function(Ht){Ht.source_view||Ht.format==="raw"||Ht.format==="tree"||(Ht.content=wt(Ht.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(Ht){nn(Ht,function(vt){var Wt=vt.attr("src");if(!e.getByUri(Wt)){var yn=c.getResultUri(Wt);yn&&vt.attr("src",yn)}})})}),{blobCache:e,addFilter:it,uploadImages:Z,uploadImagesAuto:Q,scanForImages:gt,destroy:mt}},DD=function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(o,a,c){return Fr(o)&&o.hasAttribute("href")},onformat:function(o,a,c){hn.each(c,function(f,p){t.setAttrib(o,p,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(o){var a;return(a=o==null?void 0:o.customValue)!==null&&a!==void 0?a:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return hn.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(o){e[o]={block:o,remove:"all"}}),e},jT=function(t){var e={},o=function(p){return Me(p)?e[p]:e},a=function(p){return Rr(e,p)},c=function(p,b){p&&(Sn(p)?(fe(b)||(b=[b]),nn(b,function(w){un(w.deep)&&(w.deep=!Zc(w)),un(w.split)&&(w.split=!Zc(w)||cu(w)),un(w.remove)&&Zc(w)&&!cu(w)&&(w.remove="none"),Zc(w)&&cu(w)&&(w.mixed=!0,w.block_expand=!0),Sn(w.classes)&&(w.classes=w.classes.split(/\s+/))}),e[p]=b):te(p,function(w,_){c(_,w)}))},f=function(p){return p&&e[p]&&delete e[p],e};return c(DD(t.dom)),c(m4(t)),{get:o,has:a,register:c,unregister:f}},gS=hn.each,Fc=pi.DOM,MD=function(t,e){var o,a,c,f=e&&e.schema||uo({}),p=function(F,I){I.classes.length&&Fc.addClass(F,I.classes.join(" ")),Fc.setAttribs(F,I.attrs)},b=function(F){a=typeof F=="string"?{name:F,classes:[],attrs:{}}:F;var I=Fc.create(a.name);return p(I,a),I},w=function(F,I){var V=typeof F!="string"?F.nodeName.toLowerCase():F,Z=f.getElementRule(V),Q=Z&&Z.parentsRequired;return Q&&Q.length?I&&hn.inArray(Q,I)!==-1?I:Q[0]:!1},_=function(F,I,V){var Z,Q,et=I.length>0&&I[0],it=et&&et.name,gt=w(F,it);if(gt)it===gt?(Q=I[0],I=I.slice(1)):Q=gt;else if(et)Q=I[0],I=I.slice(1);else if(!V)return F;return Q&&(Z=b(Q),Z.appendChild(F)),V&&(Z||(Z=Fc.create("div"),Z.appendChild(F)),hn.each(V,function(mt){var wt=b(mt);Z.insertBefore(wt,F)})),_(Z,I,Q&&Q.siblings)};return t&&t.length?(a=t[0],o=b(a),c=Fc.create("div"),c.appendChild(_(o,t.slice(1),a.siblings)),c):""},ez=function(t){var e,o={classes:[],attrs:{}};return t=o.selector=hn.trim(t),t!=="*"&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(a,c,f,p,b){switch(c){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":hn.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(p==="["){var w=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);w&&(o.attrs[w[1]]=w[2])}return""})),o.name=e||"div",o},rz=function(t){return!t||typeof t!="string"?[]:(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),hn.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var o=hn.map(e.split(/(?:~\+|~|\+)/),ez),a=o.pop();return o.length&&(a.siblings=o),a}).reverse())},Ud=function(t,e){var o,a,c="",f,p=g4(t);if(p==="")return"";var b=function(I){return I.replace(/%(\w+)/g,"")};if(typeof e=="string"){if(e=t.formatter.get(e),!e)return;e=e[0]}if("preview"in e){var w=_r(e,"preview");if(tm(w,!1))return"";p=w.getOr(p)}o=e.block||e.inline||"span";var _=rz(e.selector);_.length?(_[0].name||(_[0].name=o),o=e.selector,a=MD(_,t)):a=MD([o],t);var F=Fc.select(o,a)[0]||a.firstChild;return gS(e.styles,function(I,V){var Z=b(I);Z&&Fc.setStyle(F,V,Z)}),gS(e.attributes,function(I,V){var Z=b(I);Z&&Fc.setAttrib(F,V,Z)}),gS(e.classes,function(I){var V=b(I);Fc.hasClass(F,V)||Fc.addClass(F,V)}),t.fire("PreviewFormats"),Fc.setStyles(a,{position:"absolute",left:-65535}),t.getBody().appendChild(a),f=Fc.getStyle(t.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,gS(p.split(" "),function(I){var V=Fc.getStyle(F,I,!0);if(!(I==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(V)&&(V=Fc.getStyle(t.getBody(),I,!0),Fc.toHex(V).toLowerCase()==="#ffffff"))&&!(I==="color"&&Fc.toHex(V).toLowerCase()==="#000000")){if(I==="font-size"&&/em|%$/.test(V)){if(f===0)return;var Z=parseFloat(V)/(/%$/.test(V)?100:1);V=Z*f+"px"}I==="border"&&V&&(c+="padding:0 2px;"),c+=I+":"+V+";"}}),t.fire("AfterPreviewFormats"),Fc.remove(a),c},oz=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},RD=function(t){var e=jT(t),o=qu(null);return oz(t),rA(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(a,c,f){L_(t,a,c,f)},remove:function(a,c,f,p){eS(t,a,c,f,p)},toggle:function(a,c,f){XA(t,a,c,f)},match:function(a,c,f,p){return GA(t,a,c,f,p)},closest:function(a){return F_(t,a)},matchAll:function(a,c){return KA(t,a,c)},matchNode:function(a,c,f,p){return TT(t,a,c,f,p)},canApply:function(a){return y2(t,a)},formatChanged:function(a,c,f,p){return JA(t,o,a,c,f,p)},getCssText:Cn(Ud,t)}},AD=function(t){switch(t.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},iz=function(t,e,o){var a=qu(!1),c=function(w){nS(e,!1,o),e.add({},w)};t.on("init",function(){e.add()}),t.on("BeforeExecCommand",function(w){var _=w.command;AD(_)||(Kh(e,o),e.beforeChange())}),t.on("ExecCommand",function(w){var _=w.command;AD(_)||c(w)}),t.on("ObjectResizeStart cut",function(){e.beforeChange()}),t.on("SaveContent ObjectResized blur",c),t.on("dragend",c),t.on("keyup",function(w){var _=w.keyCode;w.isDefaultPrevented()||((_>=33&&_<=36||_>=37&&_<=40||_===45||w.ctrlKey)&&(c(),t.nodeChanged()),(_===46||_===8)&&t.nodeChanged(),a.get()&&e.typing&&h0(yT(t),e.data[0])===!1&&(t.isDirty()===!1&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),a.set(!1),t.nodeChanged()))}),t.on("keydown",function(w){var _=w.keyCode;if(!w.isDefaultPrevented()){if(_>=33&&_<=36||_>=37&&_<=40||_===45){e.typing&&c(w);return}var F=w.ctrlKey&&!w.altKey||w.metaKey;(_<16||_>20)&&_!==224&&_!==91&&!e.typing&&!F&&(e.beforeChange(),nS(e,!0,o),e.add({},w),a.set(!0))}}),t.on("mousedown",function(w){e.typing&&c(w)});var f=function(w){return w.inputType==="insertReplacementText"},p=function(w){return w.inputType==="insertText"&&w.data===null},b=function(w){return w.inputType==="insertFromPaste"||w.inputType==="insertFromDrop"};t.on("input",function(w){w.inputType&&(f(w)||p(w)||b(w))&&c(w)}),t.on("AddUndo Undo Redo ClearUndos",function(w){w.isDefaultPrevented()||t.nodeChanged()})},az=function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},ia=function(t){var e=gd(),o=qu(0),a=qu(0),c={data:[],typing:!1,beforeChange:function(){UA(t,o,e)},add:function(f,p){return R_(t,c,a,o,e,f,p)},undo:function(){return $A(t,c,o,a)},redo:function(){return jA(t,a,c.data)},clear:function(){A_(t,c,a)},reset:function(){B_(t,c)},hasUndo:function(){return z_(t,c,a)},hasRedo:function(){return N_(t,c,a)},transact:function(f){return P_(t,c,o,f)},ignore:function(f){WA(t,o,f)},extra:function(f,p){qA(t,c,a,f,p)}};return ng(t)||iz(t,c,o),az(t),c},BD=[9,27,Tr.HOME,Tr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Tr.DOWN,Tr.UP,Tr.LEFT,Tr.RIGHT].concat(mr.browser.isFirefox()?[224]:[]),WT="data-mce-placeholder",Zl=function(t){return t.type==="keydown"||t.type==="keyup"},qT=function(t){var e=t.keyCode;return e===Tr.BACKSPACE||e===Tr.DELETE},uz=function(t){if(Zl(t)){var e=t.keyCode;return!qT(t)&&(Tr.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||Dt(BD,e))}else return!1},cz=function(t){return Zl(t)&&!(qT(t)||t.type==="keyup"&&t.keyCode===229)},GT=function(t,e,o){if(eu(k.fromDom(e),!1)){var a=o==="",c=e.firstElementChild;return c?t.getStyle(e.firstElementChild,"padding-left")||t.getStyle(e.firstElementChild,"padding-right")?!1:a?!t.isBlock(c):o===c.nodeName.toLowerCase():!0}else return!1},sz=function(t){var e=t.dom,o=au(t),a=d4(t),c=function(f,p){if(!uz(f)){var b=t.getBody(),w=cz(f)?!1:GT(e,b,o),_=e.getAttrib(b,WT)!=="";(_!==w||p)&&(e.setAttrib(b,WT,w?a:null),e.setAttrib(b,"aria-placeholder",w?a:null),Lw(t,w),t.on(w?"keydown":"keyup",c),t.off(w?"keyup":"keydown",c))}};a&&t.on("init",function(f){c(f,!0),t.on("change SetContent ExecCommand",c),t.on("paste",function(p){return bu.setEditorTimeout(t,function(){return c(p)})})})},C0=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,lz=function(t){return C0.test(t)},Cp=function(t,e){return be(k.fromDom(e),f4(t))},zD=function(t){return pi.DOM.getStyle(t,"direction",!0)==="rtl"||lz(t.textContent)},KT=function(t,e,o){return pt(pi.DOM.getParents(o.container(),"*",e),t)},eg=function(t,e,o){var a=KT(t,e,o);return K.from(a[a.length-1])},XT=function(t,e,o){var a=$l(e,t),c=$l(o,t);return a&&a===c},fz=function(t){return wr(t)||Tv(t)},xl=function(t,e){if(!e)return e;var o=e.container(),a=e.offset();return t?ai(o)?je(o.nextSibling)?mn(o.nextSibling,0):mn.after(o):wr(e)?mn(o,a+1):e:ai(o)?je(o.previousSibling)?mn(o.previousSibling,o.previousSibling.data.length):mn.before(o):Tv(e)?mn(o,a-1):e},ND=Cn(xl,!0),wl=Cn(xl,!1),dz=function(t){return function(e){return Mr(t,k.fromDom(e.dom.parentNode))}},mz=function(t){return Bl(t)||yu(t)},pS=function(t,e){return No(t,e)?vg(e,mz,dz(t)):K.none()},M2=function(t){var e=t.getBody(),o=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(o,0)},PD=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),M2(t))},FD=function(t,e,o){return Du(Xu(o),gl(o),function(a,c){var f=xl(!0,a),p=xl(!1,c),b=xl(!1,e);return t?fs(o,b).exists(function(w){return w.isEqual(p)&&e.isEqual(f)}):ds(o,b).exists(function(w){return w.isEqual(f)&&e.isEqual(p)})}).getOr(!0)},LD=function(t,e){return{block:t,position:e}},ID=function(t,e){return{from:t,to:e}},JT=function(t,e){var o=k.fromDom(t),a=k.fromDom(e.container());return pS(o,a).map(function(c){return LD(c,e)})},gz=function(t){return Mr(t.from.block,t.to.block)===!1},Sp=function(t){return Ai(t.from.block).bind(function(e){return Ai(t.to.block).filter(function(o){return Mr(e,o)})}).isSome()},pz=function(t){return xi(t.from.block.dom)===!1&&xi(t.to.block.dom)===!1},hz=function(t,e,o){return Yo(o.position.getNode())&&eu(o.block)===!1?ls(!1,o.block.dom).bind(function(a){return a.isEqual(o.position)?Cu(e,t,a).bind(function(c){return JT(t,c)}):K.some(o)}).getOr(o):o},vz=function(t,e,o){var a=JT(t,mn.fromRangeStart(o)),c=a.bind(function(f){return Cu(e,t,f.position).bind(function(p){return JT(t,p).map(function(b){return hz(t,e,b)})})});return Du(a,c,ID).filter(function(f){return gz(f)&&Sp(f)&&pz(f)})},bz=function(t,e,o){return o.collapsed?vz(t,e,o):K.none()},yz=function(t){var e=_u(t);return er(e,qc).fold(H(e),function(o){return e.slice(0,o)})},HD=function(t){var e=yz(t);return nn(e,Vi),e},VD=function(t,e){var o=Hf(e,t);return Ue(o.reverse(),function(a){return eu(a)}).each(Vi)},xz=function(t){return pt(Mo(t),function(e){return!eu(e)}).length===0},wz=function(t,e,o,a){if(eu(o))return Km(o),Xu(o.dom);xz(a)&&eu(e)&&Za(a,k.fromTag("br"));var c=ds(o.dom,mn.before(a.dom));return nn(HD(e),function(f){Za(a,f)}),VD(t,e),c},Cz=function(t,e,o){if(eu(o))return Vi(o),eu(e)&&Km(e),Xu(e.dom);var a=gl(o.dom);return nn(HD(e),function(c){va(o,c)}),VD(t,e),a},Sz=function(t,e){var o=Hf(e,t);return K.from(o[o.length-1])},kz=function(t,e){return No(e,t)?Sz(e,t):K.none()},S0=function(t,e){ls(t,e.dom).map(function(o){return o.getNode()}).map(k.fromDom).filter(xg).each(Vi)},UD=function(t,e,o){return S0(!0,e),S0(!1,o),kz(e,o).fold(Cn(Cz,t,e,o),Cn(wz,t,e,o))},hS=function(t,e,o,a){return e?UD(t,a,o):UD(t,o,a)},vS=function(t,e){var o=k.fromDom(t.getBody()),a=bz(o.dom,e,t.selection.getRng()).bind(function(c){return hS(o,e,c.from.block,c.to.block)});return a.each(function(c){t.selection.setRng(c.toRange())}),a.isSome()},Tz=function(t,e){var o=e.getRng();return Du(pS(t,k.fromDom(o.startContainer)),pS(t,k.fromDom(o.endContainer)),function(a,c){return Mr(a,c)===!1?(o.deleteContents(),hS(t,!0,a,c).each(function(f){e.setRng(f.toRange())}),!0):!1}).getOr(!1)},$D=function(t,e){var o=k.fromDom(e),a=Cn(Mr,t);return Zf(o,il,a).isSome()},Oz=function(t,e){return $D(t,e.startContainer)||$D(t,e.endContainer)},Yh=function(t,e){var o=ds(t.dom,mn.fromRangeStart(e)).isNone(),a=fs(t.dom,mn.fromRangeEnd(e)).isNone();return!Oz(t,e)&&o&&a},Qh=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},bS=function(t){var e=k.fromDom(t.getBody()),o=t.selection.getRng();return Yh(e,o)?Qh(t):Tz(e,t.selection)},Zh=function(t,e){return t.selection.isCollapsed()?!1:bS(t)},tv=Os,nv=xi,tf=function(t,e,o,a,c){return K.from(e._selectionOverrides.showCaret(t,o,a,c))},yS=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},ev=function(t,e){var o=t.fire("BeforeObjectSelected",{target:e});return o.isDefaultPrevented()?K.none():K.some(yS(e))},xS=function(t,e,o){var a=k1(1,t.getBody(),e),c=mn.fromRangeStart(a),f=c.getNode();if(Da(f))return tf(1,t,f,!c.isAtEnd(),!1);var p=c.getNode(!0);if(Da(p))return tf(1,t,p,!1,!1);var b=t.dom.getParent(c.getNode(),function(w){return nv(w)||tv(w)});return Da(b)?tf(1,t,b,!1,o):K.none()},R2=function(t,e,o){return e.collapsed?xS(t,e,o).getOr(e):e},jD=function(t){return Pd(t)||gp(t)},WD=function(t){return Fd(t)||pp(t)},k0=function(t,e){je(e)&&e.data.length===0&&t.remove(e)},YT=function(t,e,o,a,c,f){return tf(a,t,f.getNode(!c),c,!0).each(function(p){if(e.collapsed){var b=e.cloneRange();c?b.setEnd(p.startContainer,p.startOffset):b.setStart(p.endContainer,p.endOffset),b.deleteContents()}else e.deleteContents();t.selection.setRng(p)}),k0(t.dom,o),!0},qD=function(t,e){var o=t.selection.getRng();if(!je(o.commonAncestorContainer))return!1;var a=e?uu.Forwards:uu.Backwards,c=ml(t.getBody()),f=Cn(ry,e?c.next:c.prev),p=e?jD:WD,b=Ga(a,t.getBody(),o),w=xl(e,f(b));if(!w||!T1(b,w))return!1;if(p(w))return YT(t,o,b.getNode(),a,e,w);var _=f(w);return _&&p(_)&&T1(w,_)?YT(t,o,b.getNode(),a,e,_):!1},A2=function(t,e){return qD(t,e)},wS=function(t){return il(k.fromDom(t))||yu(k.fromDom(t))},Gs=dr.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),GD=function(t,e){var o=e.getNode(t===!1),a=t?"after":"before";return Fr(o)&&o.getAttribute("data-mce-caret")===a},KD=function(t,e,o,a){var c=function(f){return Mu(k.fromDom(f))&&!Ls(o,a,t)};return ey(!e,o).fold(function(){return ey(e,a).fold(Lt,c)},c)},XD=function(t,e,o,a){var c=a.getNode(e===!1);return pS(k.fromDom(t),k.fromDom(o.getNode())).map(function(f){return eu(f)?Gs.remove(f.dom):Gs.moveToElement(c)}).orThunk(function(){return K.some(Gs.moveToElement(c))})},$d=function(t,e,o){return Cu(e,t,o).bind(function(a){return wS(a.getNode())||KD(t,e,o,a)?K.none():e&&xi(a.getNode())||e===!1&&xi(a.getNode(!0))?XD(t,e,o,a):e&&Fd(o)||e===!1&&Pd(o)?K.some(Gs.moveToPosition(a)):K.none()})},JD=function(t,e){return t&&xi(e.nextSibling)?K.some(Gs.moveToElement(e.nextSibling)):t===!1&&xi(e.previousSibling)?K.some(Gs.moveToElement(e.previousSibling)):K.none()},YD=function(t,e,o){return o.fold(function(a){return K.some(Gs.remove(a))},function(a){return K.some(Gs.moveToElement(a))},function(a){return Ls(e,a,t)?K.none():K.some(Gs.moveToPosition(a))})},kp=function(t,e,o){return GD(e,o)?JD(e,o.getNode(e===!1)).fold(function(){return $d(t,e,o)},K.some):$d(t,e,o).bind(function(a){return YD(t,o,a)})},nf=function(t,e,o){var a=k1(e?1:-1,t,o),c=mn.fromRangeStart(a),f=k.fromDom(t);return e===!1&&Fd(c)?K.some(Gs.remove(c.getNode(!0))):e&&Pd(c)?K.some(Gs.remove(c.getNode())):e===!1&&Pd(c)&&Ld(f,c)?i2(f,c).map(function(p){return Gs.remove(p.getNode())}):e&&Fd(c)&&a0(f,c)?u0(f,c).map(function(p){return Gs.remove(p.getNode())}):kp(t,e,c)},Ez=function(t,e){return function(o){return t._selectionOverrides.hideFakeCaret(),he(t,e,k.fromDom(o)),!0}},_z=function(t,e){return function(o){var a=e?mn.before(o):mn.after(o);return t.selection.setRng(a.toRange()),!0}},Dz=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},QD=function(t,e){return K.from(Dd(t.getBody(),e))},Mz=function(t,e){var o=t.selection.getNode();return QD(t,o).filter(xi).fold(function(){return nf(t.getBody(),e,t.selection.getRng()).exists(function(a){return a.fold(Ez(t,e),_z(t,e),Dz(t))})},An)},Rz=function(t){nn(sc(t,".mce-offscreen-selection"),Vi)},Az=function(t,e){var o=t.selection.getNode();if(xi(o)&&!mg(o)){var a=QD(t,o.parentNode).filter(xi);return a.fold(function(){return Rz(k.fromDom(t.getBody())),he(t,e,k.fromDom(t.selection.getNode())),PD(t),!0},An)}return!1},ZD=function(t){var e=t.dom,o=t.selection,a=Dd(t.getBody(),o.getNode());if(Os(a)&&e.isBlock(a)&&e.isEmpty(a)){var c=e.create("br",{"data-mce-bogus":"1"});e.setHTML(a,""),a.appendChild(c),o.setRng(mn.before(c).toRange())}return!0},CS=function(t,e){return t.selection.isCollapsed()?Mz(t,e):Az(t,e)},Bz=function(t,e){var o=mn.fromRangeStart(t.selection.getRng());return Cu(e,t.getBody(),o).filter(function(a){return e?S3(a):k3(a)}).bind(function(a){return K.from(Kg(e?0:-1,a))}).exists(function(a){return t.selection.select(a),!0})},SS=function(t,e){return t.selection.isCollapsed()?Bz(t,e):!1},T0=je,kS=function(t){return T0(t)&&t.data[0]===Et},TS=function(t){return T0(t)&&t.data[t.data.length-1]===Et},QT=function(t){return t.ownerDocument.createTextNode(Et)},zz=function(t){if(T0(t.previousSibling))return TS(t.previousSibling)||t.previousSibling.appendData(Et),t.previousSibling;if(T0(t))return kS(t)||t.insertData(0,Et),t;var e=QT(t);return t.parentNode.insertBefore(e,t),e},Nz=function(t){if(T0(t.nextSibling))return kS(t.nextSibling)||t.nextSibling.insertData(0,Et),t.nextSibling;if(T0(t))return TS(t)||t.appendData(Et),t;var e=QT(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},B2=function(t,e){return t?zz(e):Nz(e)},tM=Cn(B2,!0),ZT=Cn(B2,!1),tO=function(t,e){return je(t.container())?B2(e,t.container()):B2(e,t.getNode())},nO=function(t,e){var o=e.get();return o&&t.container()===o&&ai(o)},z2=function(t,e){return e.fold(function(o){_m(t.get());var a=tM(o);return t.set(a),K.some(mn(a,a.length-1))},function(o){return Xu(o).map(function(a){if(nO(a,t))return mn(t.get(),1);_m(t.get());var c=tO(a,!0);return t.set(c),mn(c,1)})},function(o){return gl(o).map(function(a){if(nO(a,t))return mn(t.get(),t.get().length-1);_m(t.get());var c=tO(a,!1);return t.set(c),mn(c,c.length-1)})},function(o){_m(t.get());var a=ZT(o);return t.set(a),K.some(mn(a,1))})},nM=function(t,e){for(var o=0;o<t.length;o++){var a=t[o].apply(null,e);if(a.isSome())return a}return K.none()},Lc=dr.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),jf=function(t,e){var o=$l(e,t);return o||t},ef=function(t,e,o){var a=ND(o),c=jf(e,a.container());return eg(t,c,a).fold(function(){return fs(c,a).bind(Cn(eg,t,c)).map(function(f){return Lc.before(f)})},K.none)},OS=function(t,e){return pl(t,e)===null},eO=function(t,e,o){return eg(t,e,o).filter(Cn(OS,e))},ES=function(t,e,o){var a=wl(o);return eO(t,e,a).bind(function(c){var f=ds(c,a);return f.isNone()?K.some(Lc.start(c)):K.none()})},eM=function(t,e,o){var a=ND(o);return eO(t,e,a).bind(function(c){var f=fs(c,a);return f.isNone()?K.some(Lc.end(c)):K.none()})},rM=function(t,e,o){var a=wl(o),c=jf(e,a.container());return eg(t,c,a).fold(function(){return ds(c,a).bind(Cn(eg,t,c)).map(function(f){return Lc.after(f)})},K.none)},rO=function(t){return zD(_S(t))===!1},Wf=function(t,e,o){var a=nM([ef,ES,eM,rM],[t,e,o]);return a.filter(rO)},_S=function(t){return t.fold(fn,fn,fn,fn)},oO=function(t){return t.fold(H("before"),H("start"),H("end"),H("after"))},rv=function(t){return t.fold(Lc.before,Lc.before,Lc.after,Lc.after)},O0=function(t){return t.fold(Lc.start,Lc.start,Lc.end,Lc.end)},iO=function(t,e){return oO(t)===oO(e)&&_S(t)===_S(e)},Pz=function(t,e,o,a,c,f){return Du(eg(e,o,a),eg(e,o,c),function(p,b){return p!==b&&XT(o,p,b)?Lc.after(t?p:b):f}).getOr(f)},Fz=function(t,e){return t.fold(An,function(o){return!iO(o,e)})},Lz=function(t,e,o,a,c){var f=xl(t,c),p=Cu(t,o,f).map(Cn(xl,t)),b=p.fold(function(){return a.map(rv)},function(w){return Wf(e,o,w).map(Cn(Pz,t,e,o,f,w)).filter(Cn(Fz,a))});return b.filter(rO)},Iz=function(t,e){return t?e.fold(pn(K.some,Lc.start),K.none,pn(K.some,Lc.after),K.none):e.fold(K.none,pn(K.some,Lc.before),K.none,pn(K.some,Lc.end))},DS=function(t,e,o,a){var c=xl(t,a),f=Wf(e,o,c);return Wf(e,o,c).bind(Cn(Iz,t)).orThunk(function(){return Lz(t,e,o,f,a)})};Cn(DS,!1),Cn(DS,!0);var Hz=function(t){return Ft(t.selection.getSel().modify)},oM=function(t,e,o){var a=t?1:-1;return e.setRng(mn(o.container(),o.offset()+a).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},aO=function(t,e){var o=e.selection.getRng(),a=t?mn.fromRangeEnd(o):mn.fromRangeStart(o);return Hz(e)?t&&wr(a)?oM(!0,e.selection,a):!t&&Tv(a)?oM(!1,e.selection,a):!1:!1},jd;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(jd||(jd={}));var MS=function(t,e){return t===uu.Backwards?Xn(e):e},Vz=function(t,e,o){return t===uu.Forwards?e.next(o):e.prev(o)},Uz=function(t,e,o,a){return Yo(a.getNode(e===uu.Forwards))?jd.Br:Ls(o,a)===!1?jd.Block:jd.Wrap},iM=function(t,e,o,a){for(var c=ml(o),f=a,p=[];f;){var b=Vz(e,c,f);if(!b)break;if(Yo(b.getNode(!1)))return e===uu.Forwards?{positions:MS(e,p).concat([b]),breakType:jd.Br,breakAt:K.some(b)}:{positions:MS(e,p),breakType:jd.Br,breakAt:K.some(b)};if(!b.isVisible()){f=b;continue}if(t(f,b)){var w=Uz(o,e,f,b);return{positions:MS(e,p),breakType:w,breakAt:K.some(b)}}p.push(b),f=b}return{positions:MS(e,p),breakType:jd.Eol,breakAt:K.none()}},aM=function(t,e,o,a){return e(o,a).breakAt.map(function(c){var f=e(o,c).positions;return t===uu.Backwards?f.concat(c):[c].concat(f)}).getOr([])},uO=function(t,e){return le(t,function(o,a){return o.fold(function(){return K.some(a)},function(c){return Du(qn(c.getClientRects()),qn(a.getClientRects()),function(f,p){var b=Math.abs(e-f.left),w=Math.abs(e-p.left);return w<=b?a:c}).or(o)})},K.none())},N2=function(t,e){return qn(e.getClientRects()).bind(function(o){return uO(t,o.left)})},Tp=Cn(iM,mn.isAbove,-1),ov=Cn(iM,mn.isBelow,1),$z=Cn(aM,-1,Tp),jz=Cn(aM,1,ov),Wz=function(t,e){return Tp(t,e).breakAt.isNone()},qz=function(t,e){return ov(t,e).breakAt.isNone()},uM=function(t){return Xu(t).map(function(e){return[e].concat(ov(t,e).positions)}).getOr([])},Gz=function(t){return gl(t).map(function(e){return Tp(t,e).positions.concat(e)}).getOr([])},Kz=function(t){var e=function(a){return jn(a,function(c){var f=vd(c);return f.node=t,f})};if(Fr(t))return e(t.getClientRects());if(je(t)){var o=t.ownerDocument.createRange();return o.setStart(t,0),o.setEnd(t,t.data.length),e(o.getClientRects())}},P2=function(t){return ao(t,Kz)},iv;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(iv||(iv={}));var Xz=function(t,e,o,a){for(;a=Rm(a,t,ca,e);)if(o(a))return},cM=function(t,e,o,a,c,f){var p=0,b=[],w=function(I){var V=P2([I]);t===-1&&(V=V.reverse());for(var Z=0;Z<V.length;Z++){var Q=V[Z];if(!o(Q,_)){if(b.length>0&&e(Q,Ii(b))&&p++,Q.line=p,c(Q))return!0;b.push(Q)}}},_=Ii(f.getClientRects());if(!_)return b;var F=f.getNode();return w(F),Xz(t,a,w,F),b},Jz=function(t,e){return e.line>t},Yz=function(t,e){return e.line===t},Qz=Cn(cM,iv.Up,Mf,bd),Zz=Cn(cM,iv.Down,bd,Mf),RS=function(t,e,o,a){var c=ml(e),f,p,b,w,_=[],F=0,I=function(et){return Ii(et.getClientRects())};t===1?(f=c.next,p=bd,b=Mf,w=mn.after(a)):(f=c.prev,p=Mf,b=bd,w=mn.before(a));var V=I(w);do if(w.isVisible()){var Z=I(w);if(!b(Z,V)){_.length>0&&p(Z,Ii(_))&&F++;var Q=vd(Z);if(Q.position=w,Q.line=F,o(Q))return _;_.push(Q)}}while(w=f(w));return _},F2=function(t){return function(e){return Jz(t,e)}},cO=function(t){return function(e){return Yz(t,e)}},tN=xi,L2=Rm,sO=function(t,e){return Math.abs(t.left-e)},lO=function(t,e){return Math.abs(t.right-e)},sM=function(t,e){return t>=e.left&&t<=e.right},nN=function(t,e){return t>=e.top&&t<=e.bottom},eN=function(t){return Bo(t,"node")},AS=function(t,e,o){return o===void 0&&(o=An),Li(t,function(a,c){if(sM(e,c))return o(c)?c:a;if(sM(e,a))return o(a)?a:c;var f=Math.min(sO(a,e),lO(a,e)),p=Math.min(sO(c,e),lO(c,e));return p===f&&eN(c)&&tN(c.node)||p<f?c:a})},lM=function(t,e,o,a,c){var f=L2(a,t,ca,e,!c);do if(!f||o(f))return;while(f=L2(f,t,ca,e))},rN=function(t,e,o){o===void 0&&(o=!0);var a=[],c=function(f,p){var b=pt(P2([p]),function(w){return!f(w,e)});return a=a.concat(b),b.length===0};return a.push(e),lM(iv.Up,t,Cn(c,Mf),e.node,o),lM(iv.Down,t,Cn(c,bd),e.node,o),a},oN=function(t){return pt(Qn(t.getElementsByTagName("*")),kd)},iN=function(t,e){return{node:t.node,before:sO(t,e)<lO(t,e)}},aN=function(t,e,o){var a=P2(oN(t)),c=pt(a,Cn(nN,o)),f=function(w){return!na(w.node)&&!oc(w.node)},p=AS(c,e,f);if(p){var b=f(p);if(p=AS(rN(t,p,b),e,f),p&&kd(p.node))return iN(p,e)}return null},rg=function(t,e){t.selection.setRng(e),ap(t,t.selection.getRng())},Cl=function(t,e,o){return K.some(R2(t,e,o))},BS=function(t,e,o,a,c,f){var p=e===uu.Forwards,b=ml(t.getBody()),w=Cn(ry,p?b.next:b.prev),_=p?a:c;if(!o.collapsed){var F=Jv(o);if(f(F))return tf(e,t,F,e===uu.Backwards,!1)}var I=Ga(e,t.getBody(),o);if(_(I))return ev(t,I.getNode(!p));var V=xl(p,w(I)),Z=zl(o);if(!V)return Z?K.some(o):K.none();if(_(V))return tf(e,t,V.getNode(!p),p,!1);var Q=w(V);return Q&&_(Q)&&T1(V,Q)?tf(e,t,Q.getNode(!p),p,!1):Z?Cl(t,V.toRange(),!1):K.none()},fO=function(t,e,o,a,c,f){var p=Ga(e,t.getBody(),o),b=Ii(p.getClientRects()),w=e===iv.Down;if(!b)return K.none();var _=w?Zz:Qz,F=_(t.getBody(),F2(1),p),I=pt(F,cO(1)),V=b.left,Z=AS(I,V);if(Z&&f(Z.node)){var Q=Math.abs(V-Z.left),et=Math.abs(V-Z.right);return tf(e,t,Z.node,Q<et,!1)}var it;if(a(p)?it=p.getNode():c(p)?it=p.getNode(!0):it=Jv(o),it){var gt=RS(e,t.getBody(),F2(1),it),mt=AS(pt(gt,cO(1)),V);if(mt||(mt=Ii(pt(gt,cO(0))),mt))return Cl(t,mt.position.toRange(),!1)}return I.length===0?zS(t,w).filter(w?c:a).map(function(wt){return R2(t,wt.toRange(),!1)}):K.none()},zS=function(t,e){var o=t.selection.getRng(),a=t.getBody();if(e){var c=mn.fromRangeEnd(o),f=ov(a,c);return xe(f.positions)}else{var c=mn.fromRangeStart(o),f=Tp(a,c);return qn(f.positions)}},fM=function(t,e,o){return zS(t,e).filter(o).exists(function(a){return t.selection.setRng(a.toRange()),!0})},I2=function(t,e){var o=t.dom.createRng();o.setStart(e.container(),e.offset()),o.setEnd(e.container(),e.offset()),t.selection.setRng(o)},dM=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},dO=function(t,e,o){return z2(e,o).map(function(a){return I2(t,a),o})},uN=function(t,e,o){var a=t.getBody(),c=mn.fromRangeStart(t.selection.getRng()),f=Cn(Cp,t),p=DS(o,f,a,c);return p.bind(function(b){return dO(t,e,b)})},cN=function(t,e,o){var a=jn(sc(k.fromDom(e.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(p){return p.dom}),c=pt(a,t),f=pt(o,t);nn(Jn(c,f),Cn(dM,!1)),nn(Jn(f,c),Cn(dM,!0))},sN=function(t,e){if(t.selection.isCollapsed()&&t.composing!==!0&&e.get()){var o=mn.fromRangeStart(t.selection.getRng());mn.isTextPosition(o)&&fz(o)===!1&&(I2(t,Yb(e.get(),o)),e.set(null))}},E0=function(t,e,o,a){if(e.selection.isCollapsed()){var c=pt(a,t);nn(c,function(f){var p=mn.fromRangeStart(e.selection.getRng());Wf(t,e.getBody(),p).bind(function(b){return dO(e,o,b)})})}},mO=function(t,e,o){return jg(t)?uN(t,e,o).isSome():!1},gO=function(t,e,o){return jg(e)?aO(t,e):!1},mM=function(t){var e=qu(null),o=Cn(Cp,t);return t.on("NodeChange",function(a){jg(t)&&!(mr.browser.isIE()&&a.initial)&&(cN(o,t.dom,a.parents),sN(t,e),E0(o,t,e,a.parents))}),e},pO=Cn(gO,!0),lN=Cn(gO,!1),NS=function(t,e,o){if(jg(t)){var a=zS(t,e).getOrThunk(function(){var c=t.selection.getRng();return e?mn.fromRangeEnd(c):mn.fromRangeStart(c)});return Wf(Cn(Cp,t),t.getBody(),a).exists(function(c){var f=rv(c);return z2(o,f).exists(function(p){return I2(t,p),!0})})}else return!1},fN=function(t,e){var o=document.createRange();return o.setStart(t.container(),t.offset()),o.setEnd(e.container(),e.offset()),o},dN=function(t){return Du(Xu(t),gl(t),function(e,o){var a=xl(!0,e),c=xl(!1,o);return fs(t,a).forall(function(f){return f.isEqual(c)})}).getOr(!0)},gM=function(t,e){return function(o){return z2(e,o).exists(function(a){return I2(t,a),!0})}},pM=function(t,e,o,a){var c=t.getBody(),f=Cn(Cp,t);t.undoManager.ignore(function(){t.selection.setRng(fN(o,a)),t.execCommand("Delete"),Wf(f,c,mn.fromRangeStart(t.selection.getRng())).map(O0).map(gM(t,e))}),t.nodeChanged()},qf=function(t,e){var o=$l(e,t);return o||t},mN=function(t,e,o,a){var c=qf(t.getBody(),a.container()),f=Cn(Cp,t),p=Wf(f,c,a);return p.bind(function(b){return o?b.fold(H(K.some(O0(b))),K.none,H(K.some(rv(b))),K.none):b.fold(K.none,H(K.some(rv(b))),K.none,H(K.some(O0(b))))}).map(gM(t,e)).getOrThunk(function(){var b=Bm(o,c,a),w=b.bind(function(_){return Wf(f,c,_)});return Du(p,w,function(){return eg(f,c,a).exists(function(_){return dN(_)?(he(t,o,k.fromDom(_)),!0):!1})}).orThunk(function(){return w.bind(function(_){return b.map(function(F){return o?pM(t,e,a,F):pM(t,e,F,a),!0})})}).getOr(!1)})},PS=function(t,e,o){if(t.selection.isCollapsed()&&jg(t)){var a=mn.fromRangeStart(t.selection.getRng());return mN(t,e,o,a)}return!1},gN=function(t,e){var o=Hf(e,t);return er(o,qc).fold(H(o),function(a){return o.slice(0,a)})},pN=function(t){return yv(t)===1},hN=function(t,e,o,a){var c=Cn(oA,e),f=jn(pt(a,c),function(b){return b.dom});if(f.length===0)he(e,t,o);else{var p=WE(o.dom,f);e.selection.setRng(p.toRange())}},vN=function(t,e){var o=k.fromDom(t.getBody()),a=k.fromDom(t.selection.getStart()),c=pt(gN(o,a),pN);return xe(c).exists(function(f){var p=mn.fromRangeStart(t.selection.getRng());return FD(e,p,f.dom)&&!Z3(f)?(hN(e,t,f,c),!0):!1})},FS=function(t,e){return t.selection.isCollapsed()?vN(t,e):!1},Wd=function(t,e,o){return t._selectionOverrides.hideFakeCaret(),he(t,e,k.fromDom(o)),!0},bN=function(t,e){var o=e?gp:pp,a=e?uu.Forwards:uu.Backwards,c=Ga(a,t.getBody(),t.selection.getRng());return o(c)?Wd(t,e,c.getNode(!e)):K.from(xl(e,c)).filter(function(f){return o(f)&&T1(c,f)}).exists(function(f){return Wd(t,e,f.getNode(!e))})},yN=function(t,e){var o=t.selection.getNode();return oc(o)?Wd(t,e,o):!1},H2=function(t,e){return t.selection.isCollapsed()?bN(t,e):yN(t,e)},hO=function(t){return vg(t,function(e){return Os(e.dom)||xi(e.dom)}).exists(function(e){return Os(e.dom)})},vO=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},hM=function(t,e){var o=t||wk(e)?"margin":"padding",a=no(e,"direction")==="rtl"?"-right":"-left";return o+a},xN=function(t,e,o,a,c,f){var p=hM(o,k.fromDom(f));if(e==="outdent"){var b=Math.max(0,vO(f.style[p])-a);t.setStyle(f,p,b?b+c:"")}else{var b=vO(f.style[p])+a+c;t.setStyle(f,p,b)}},av=function(t,e){return ko(e,function(o){var a=hM(h1(t),o),c=nu(o,a).map(vO).getOr(0),f=t.dom.getContentEditable(o.dom);return f!=="false"&&c>0})},vM=function(t){var e=yM(t);return!t.mode.isReadOnly()&&(e.length>1||av(t,e))},bM=function(t){return Ds(t)||yu(t)},wN=function(t){return Ai(t).exists(bM)},yM=function(t){return pt(Qk(t.selection.getSelectedBlocks()),function(e){return!bM(e)&&!wN(e)&&hO(e)})},LS=function(t,e){var o=t.dom,a=t.selection,c=t.formatter,f=qa(t),p=/[a-z%]+$/i.exec(f)[0],b=parseInt(f,10),w=h1(t),_=au(t);!t.queryCommandState("InsertUnorderedList")&&!t.queryCommandState("InsertOrderedList")&&_===""&&!o.getParent(a.getNode(),o.isBlock)&&c.apply("div"),nn(yM(t),function(F){xN(o,e,w,b,p,F.dom)})},IS=function(t,e){if(t.selection.isCollapsed()&&vM(t)){var o=t.dom,a=t.selection.getRng(),c=mn.fromRangeStart(a),f=o.getParent(a.startContainer,o.isBlock);if(f!==null&&o2(k.fromDom(f),c))return LS(t,"outdent"),!0}return!1},bO=function(t,e){t.getDoc().execCommand(e,!1,null)},xM=function(t,e){if(!IS(t)){if(CS(t,!1)||A2(t,!1)||PS(t,e,!1)||vS(t,!1)||c2(t)||SS(t,!1)||H2(t,!1)||Zh(t)||FS(t,!1))return;bO(t,"Delete"),PD(t)}},wM=function(t,e){if(!CS(t,!0)){if(A2(t,!0)||PS(t,e,!0)||vS(t,!0)||c2(t)||SS(t,!0)||H2(t,!0)||Zh(t)||FS(t,!0))return;bO(t,"ForwardDelete")}},CN=function(t,e){t.addCommand("delete",function(){xM(t,e)}),t.addCommand("forwardDelete",function(){wM(t,e)})},_0=5,SN=400,CM=function(t){return t.touches===void 0||t.touches.length!==1?K.none():K.some(t.touches[0])},kN=function(t,e){var o=Math.abs(t.clientX-e.x),a=Math.abs(t.clientY-e.y);return o>_0||a>_0},D0=function(t){var e=gd(),o=qu(!1),a=Vv(function(c){t.fire("longpress",Ze(Ze({},c),{type:"longpress"})),o.set(!0)},SN);t.on("touchstart",function(c){CM(c).each(function(f){a.cancel();var p={x:f.clientX,y:f.clientY,target:c.target};a.throttle(c),o.set(!1),e.set(p)})},!0),t.on("touchmove",function(c){a.cancel(),CM(c).each(function(f){e.on(function(p){kN(f,p)&&(e.clear(),o.set(!1),t.fire("longpresscancel"))})})},!0),t.on("touchend touchcancel",function(c){a.cancel(),c.type!=="touchcancel"&&e.get().filter(function(f){return f.target.isEqualNode(c.target)}).each(function(){o.get()?c.preventDefault():t.fire("tap",Ze(Ze({},c),{type:"tap"}))})},!0)},yO=function(t,e){return Rr(t,e.nodeName)},og=function(t,e){return je(e)?!0:Fr(e)?!yO(t,e)&&!zc(e):!1},TN=function(t,e,o){return Qt(e2(k.fromDom(o),k.fromDom(e)),function(a){return yO(t,a.dom)})},xO=function(t,e){return!!(je(e)&&(e.nodeValue.length===0||/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||yO(t,e.nextSibling))))},wO=function(t){var e=t.dom,o=t.selection,a=t.schema,c=a.getBlockElements(),f=o.getStart(),p=t.getBody(),b,w,_,F=au(t);if(!(!f||!Fr(f)||!F)){var I=p.nodeName.toLowerCase();if(!(!a.isValidChild(I,F.toLowerCase())||TN(c,p,f))){var V=o.getRng(),Z=V.startContainer,Q=V.startOffset,et=V.endContainer,it=V.endOffset,gt=Nd(t);for(f=p.firstChild;f;)if(og(c,f)){if(xO(c,f)){w=f,f=f.nextSibling,e.remove(w);continue}b||(b=e.create(F,Tm(t)),f.parentNode.insertBefore(b,f),_=!0),w=f,f=f.nextSibling,b.appendChild(w)}else b=null,f=f.nextSibling;_&&gt&&(V.setStart(Z,Q),V.setEnd(et,it),o.setRng(V),t.nodeChanged())}}},ON=function(t){au(t)&&t.on("NodeChange",Cn(wO,t))},EN=function(t){return bg(k.fromDom(t.getBody()),"*[data-mce-caret]").map(function(e){return e.dom}).getOrNull()},_N=function(t){t.selection.setRng(t.selection.getRng())},CO=function(t,e){e.hasAttribute("data-mce-caret")&&(X0(e),_N(t),t.selection.scrollIntoView(e))},DN=function(t,e){var o=EN(t);if(o){if(e.type==="compositionstart"){e.preventDefault(),e.stopPropagation(),CO(t,o);return}wf(o)&&(CO(t,o),t.undoManager.add())}},MN=function(t){t.on("keyup compositionstart",Cn(DN,t))},SM=xi,RN=function(t,e,o){return BS(e,t,o,Pd,Fd,SM)},kM=function(t,e,o){var a=function(f){return Pd(f)||e0(f)},c=function(f){return Fd(f)||OC(f)};return fO(e,t,o,a,c,SM)},AN=function(t){var e=t.dom.create(au(t));return(!mr.ie||mr.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e},Op=function(t,e,o){var a=ml(t.getBody()),c=Cn(ry,e===1?a.next:a.prev);if(o.collapsed&&v4(t)){var f=t.dom.getParent(o.startContainer,"PRE");if(!f)return;var p=c(mn.fromRangeStart(o));if(!p){var b=AN(t);e===1?t.$(f).after(b):t.$(f).before(b),t.selection.select(b,!0),t.selection.collapse()}}},BN=function(t,e){var o=e?uu.Forwards:uu.Backwards,a=t.selection.getRng();return RN(o,t,a).orThunk(function(){return Op(t,o,a),K.none()})},V2=function(t,e){var o=e?1:-1,a=t.selection.getRng();return kM(o,t,a).orThunk(function(){return Op(t,o,a),K.none()})},SO=function(t,e){return BN(t,e).exists(function(o){return rg(t,o),!0})},HS=function(t,e){return V2(t,e).exists(function(o){return rg(t,o),!0})},VS=function(t,e){var o=e?Fd:Pd;return fM(t,e,o)},zN=function(t){return Dt(["figcaption"],Do(t))},TM=function(t){var e=document.createRange();return e.setStartBefore(t.dom),e.setEndBefore(t.dom),e},OM=function(t,e,o){o?va(t,e):rs(t,e)},kO=function(t,e){var o=k.fromTag("br");return OM(t,o,e),TM(o)},NN=function(t,e,o,a){var c=k.fromTag(o),f=k.fromTag("br");return L(c,a),va(c,f),OM(t,c,e),TM(f)},PN=function(t,e,o,a){return e===""?kO(t,a):NN(t,a,e,o)},FN=function(t,e){var o=Cn(Mr,e);return vg(k.fromDom(t.container()),qc,o).filter(zN)},LN=function(t,e,o){return e?qz(t.dom,o):Wz(t.dom,o)},EM=function(t,e){var o=k.fromDom(t.getBody()),a=mn.fromRangeStart(t.selection.getRng()),c=au(t),f=Tm(t);return FN(a,o).exists(function(){if(LN(o,e,a)){var p=PN(o,c,f,e);return t.selection.setRng(p),!0}else return!1})},_M=function(t,e){return t.selection.isCollapsed()?EM(t,e):!1},IN=function(t){return jn(t,function(e){return Ze({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:en},e)})},HN=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},VN=function(t,e){return ao(IN(t),function(o){return HN(o,e)?[o]:[]})},So=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return function(){return t.apply(null,e)}},M0=function(t,e){return Ue(VN(t,e),function(o){return o.action()})},DM=function(t,e){var o=e?uu.Forwards:uu.Backwards,a=t.selection.getRng();return BS(t,o,a,gp,pp,oc).exists(function(c){return rg(t,c),!0})},MM=function(t,e){var o=e?1:-1,a=t.selection.getRng();return fO(t,o,a,gp,pp,oc).exists(function(c){return rg(t,c),!0})},TO=function(t,e){var o=e?pp:gp;return fM(t,e,o)},UN=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+e*2,bottom:t.bottom+e*2,width:t.width+e,height:t.height+e}},RM=function(t,e){return ao(e,function(o){var a=UN(vd(o.getBoundingClientRect()),-1);return[{x:a.left,y:t(a),cell:o},{x:a.right,y:t(a),cell:o}]})},$N=function(t,e,o){return le(t,function(a,c){return a.fold(function(){return K.some(c)},function(f){var p=Math.sqrt(Math.abs(f.x-e)+Math.abs(f.y-o)),b=Math.sqrt(Math.abs(c.x-e)+Math.abs(c.y-o));return K.some(b<p?c:f)})},K.none())},AM=function(t,e,o,a,c){var f=sc(k.fromDom(o),"td,th,caption").map(function(b){return b.dom}),p=pt(RM(t,f),function(b){return e(b,c)});return $N(p,a,c).map(function(b){return b.cell})},jN=function(t){return t.bottom},WN=function(t){return t.top},qN=function(t,e){return t.y<e},GN=function(t,e){return t.y>e},KN=Cn(AM,jN,qN),XN=Cn(AM,WN,GN),JN=function(t,e){return qn(e.getClientRects()).bind(function(o){return KN(t,o.left,o.top)}).bind(function(o){return N2(Gz(o),e)})},YN=function(t,e){return xe(e.getClientRects()).bind(function(o){return XN(t,o.left,o.top)}).bind(function(o){return N2(uM(o),e)})},QN=function(t,e,o){return o.breakAt.exists(function(a){return t(e,a).breakAt.isSome()})},ZN=function(t){return t.breakType===jd.Wrap&&t.positions.length===0},t6=function(t){return t.breakType===jd.Br&&t.positions.length===1},OO=function(t,e,o){var a=t(e,o);return ZN(a)||!Yo(o.getNode())&&t6(a)?!QN(t,e,a):a.breakAt.isNone()},n6=Cn(OO,Tp),e6=Cn(OO,ov),BM=function(t,e,o){var a=mn.fromRangeStart(e);return ls(!t,o).exists(function(c){return c.isEqual(a)})},zM=function(t,e,o,a){var c=t.selection.getRng(),f=e?1:-1;return Dm()&&BM(e,c,o)?(tf(f,t,o,!e,!1).each(function(p){rg(t,p)}),!0):!1},US=function(t,e,o){return JN(e,o).orThunk(function(){return qn(o.getClientRects()).bind(function(a){return uO($z(t,mn.before(e)),a.left)})}).getOr(mn.before(e))},NM=function(t,e,o){return YN(e,o).orThunk(function(){return qn(o.getClientRects()).bind(function(a){return uO(jz(t,mn.after(e)),a.left)})}).getOr(mn.after(e))},EO=function(t,e){var o=e.getNode(t);return Fr(o)&&o.nodeName==="TABLE"?K.some(o):K.none()},_O=function(t,e,o,a){var c=au(e);c?e.undoManager.transact(function(){var f=k.fromTag(c);L(f,Tm(e)),va(f,k.fromTag("br")),t?Qf(k.fromDom(o),f):Za(k.fromDom(o),f);var p=e.dom.createRng();p.setStart(f.dom,0),p.setEnd(f.dom,0),rg(e,p)}):rg(e,a.toRange())},DO=function(t,e,o){var a=EO(!!e,o),c=e===!1;a.fold(function(){return rg(t,o.toRange())},function(f){return ls(c,t.getBody()).filter(function(p){return p.isEqual(o)}).fold(function(){return rg(t,o.toRange())},function(p){return _O(e,t,f,o)})})},r6=function(t,e,o,a){var c=t.selection.getRng(),f=mn.fromRangeStart(c),p=t.getBody();if(!e&&n6(a,f)){var b=US(p,o,f);return DO(t,e,b),!0}else if(e&&e6(a,f)){var b=NM(p,o,f);return DO(t,e,b),!0}else return!1},MO=function(t,e,o){return K.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(a){return K.from(t.dom.getParent(a,"table")).map(function(c){return o(t,e,c,a)})}).getOr(!1)},uv=function(t,e){return MO(t,e,zM)},RO=function(t,e){return MO(t,e,r6)},AO=function(t,e,o){var a=ur().os;M0([{keyCode:Tr.RIGHT,action:So(SO,t,!0)},{keyCode:Tr.LEFT,action:So(SO,t,!1)},{keyCode:Tr.UP,action:So(HS,t,!1)},{keyCode:Tr.DOWN,action:So(HS,t,!0)},{keyCode:Tr.RIGHT,action:So(uv,t,!0)},{keyCode:Tr.LEFT,action:So(uv,t,!1)},{keyCode:Tr.UP,action:So(RO,t,!1)},{keyCode:Tr.DOWN,action:So(RO,t,!0)},{keyCode:Tr.RIGHT,action:So(DM,t,!0)},{keyCode:Tr.LEFT,action:So(DM,t,!1)},{keyCode:Tr.UP,action:So(MM,t,!1)},{keyCode:Tr.DOWN,action:So(MM,t,!0)},{keyCode:Tr.RIGHT,action:So(mO,t,e,!0)},{keyCode:Tr.LEFT,action:So(mO,t,e,!1)},{keyCode:Tr.RIGHT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:So(pO,t,e)},{keyCode:Tr.LEFT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:So(lN,t,e)},{keyCode:Tr.UP,action:So(_M,t,!1)},{keyCode:Tr.DOWN,action:So(_M,t,!0)}],o).each(function(c){o.preventDefault()})},o6=function(t,e){t.on("keydown",function(o){o.isDefaultPrevented()===!1&&AO(t,e,o)})},BO=function(t,e,o){M0([{keyCode:Tr.BACKSPACE,action:So(IS,t,!1)},{keyCode:Tr.BACKSPACE,action:So(CS,t,!1)},{keyCode:Tr.DELETE,action:So(CS,t,!0)},{keyCode:Tr.BACKSPACE,action:So(A2,t,!1)},{keyCode:Tr.DELETE,action:So(A2,t,!0)},{keyCode:Tr.BACKSPACE,action:So(PS,t,e,!1)},{keyCode:Tr.DELETE,action:So(PS,t,e,!0)},{keyCode:Tr.BACKSPACE,action:So(c2,t,!1)},{keyCode:Tr.DELETE,action:So(c2,t,!0)},{keyCode:Tr.BACKSPACE,action:So(SS,t,!1)},{keyCode:Tr.DELETE,action:So(SS,t,!0)},{keyCode:Tr.BACKSPACE,action:So(H2,t,!1)},{keyCode:Tr.DELETE,action:So(H2,t,!0)},{keyCode:Tr.BACKSPACE,action:So(Zh,t,!1)},{keyCode:Tr.DELETE,action:So(Zh,t,!0)},{keyCode:Tr.BACKSPACE,action:So(vS,t,!1)},{keyCode:Tr.DELETE,action:So(vS,t,!0)},{keyCode:Tr.BACKSPACE,action:So(FS,t,!1)},{keyCode:Tr.DELETE,action:So(FS,t,!0)}],o).each(function(a){o.preventDefault()})},i6=function(t,e){M0([{keyCode:Tr.BACKSPACE,action:So(ZD,t)},{keyCode:Tr.DELETE,action:So(ZD,t)}],e)},a6=function(t,e){t.on("keydown",function(o){o.isDefaultPrevented()===!1&&BO(t,e,o)}),t.on("keyup",function(o){o.isDefaultPrevented()===!1&&i6(t,o)})},u6=function(t){for(;t;){if(t.nodeType===1||t.nodeType===3&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},U2=function(t,e){var o,a=e,c=t.dom,f=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var p=u6(e.firstChild);p&&/^(UL|OL|DL)$/.test(p.nodeName)&&e.insertBefore(c.doc.createTextNode(Tc),e.firstChild)}var b=c.createRng();if(e.normalize(),e.hasChildNodes()){for(var w=new Io(e,e);o=w.current();){if(je(o)){b.setStart(o,0),b.setEnd(o,0);break}if(f[o.nodeName.toLowerCase()]){b.setStartBefore(o),b.setEndBefore(o);break}a=o,o=w.next()}o||(b.setStart(a,0),b.setEnd(a,0))}else Yo(e)?e.nextSibling&&c.isBlock(e.nextSibling)?(b.setStartBefore(e),b.setEndBefore(e)):(b.setStartAfter(e),b.setEndAfter(e)):(b.setStart(e,0),b.setEnd(e,0));t.selection.setRng(b),ap(t,b)}},c6=function(t,e){var o=t.getRoot(),a,c;for(a=e;a!==o&&t.getContentEditable(a)!=="false";)t.getContentEditable(a)==="true"&&(c=a),a=a.parentNode;return a!==o?c:o},zO=function(t){return K.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},PM=function(t){return zO(t).fold(H(""),function(e){return e.nodeName.toUpperCase()})},R0=function(t){return zO(t).filter(function(e){return yu(k.fromDom(e))}).isSome()},s6=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},NO=function(t){var e;return((e=t.parentNode)===null||e===void 0?void 0:e.firstChild)===t},FM=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},PO=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},LM=function(t){return PO(t)&&PO(t.parentNode)},$2=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},j2=function(t,e,o){for(var a=t[o?"firstChild":"lastChild"];a&&!Fr(a);)a=a[o?"nextSibling":"previousSibling"];return a===e},FO=function(t,e,o,a,c){var f=t.dom,p=t.selection.getRng();if(o!==t.getBody()){LM(o)&&(c="LI");var b=c?e(c):f.create("BR");if(j2(o,a,!0)&&j2(o,a,!1))if(FM(o,"LI")){var w=$2(o);f.insertAfter(b,w),NO(o)?f.remove(w):f.remove(o)}else f.replace(b,o);else if(j2(o,a,!0))FM(o,"LI")?(f.insertAfter(b,$2(o)),b.appendChild(f.doc.createTextNode(" ")),b.appendChild(o)):o.parentNode.insertBefore(b,o),f.remove(a);else if(j2(o,a,!1))f.insertAfter(b,$2(o)),f.remove(a);else{o=$2(o);var _=p.cloneRange();_.setStartAfter(a),_.setEndAfter(o);var F=_.extractContents();c==="LI"&&s6(F,"LI")?(b=F.firstChild,f.insertAfter(F,o)):(f.insertAfter(F,o),f.insertAfter(b,o)),f.remove(a)}U2(t,b)}},IM=function(t){nn(qv(k.fromDom(t),_i),function(e){var o=e.dom;o.nodeValue=al(o.nodeValue)})},l6=function(t,e){return e&&e.nodeName==="A"&&t.isEmpty(e)},f6=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},A0=function(t){t.innerHTML='<br data-mce-bogus="1">'},LO=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},HM=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&t.getContentEditable(e)!=="true"},d6=function(t,e,o){var a=o,c=[],f;if(a){for(;a=a.firstChild;){if(t.isBlock(a))return;Fr(a)&&!e[a.nodeName.toLowerCase()]&&c.push(a)}for(f=c.length;f--;)a=c[f],(!a.hasChildNodes()||a.firstChild===a.lastChild&&a.firstChild.nodeValue===""||l6(t,a))&&t.remove(a)}},$S=function(t,e,o){return je(e)===!1?o:t?o===1&&e.data.charAt(o-1)===Et?0:o:o===e.data.length-1&&e.data.charAt(o)===Et?e.data.length:o},m6=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,$S(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,$S(!1,t.endContainer,t.endOffset)),e},g6=function(t){do je(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},xs=function(t,e){var o=t.getRoot(),a,c;for(a=e;a!==o&&t.getContentEditable(a)!=="false";)t.getContentEditable(a)==="true"&&(c=a),a=a.parentNode;return a!==o?c:o},p6=function(t,e,o){var a=t.dom;K.from(o.style).map(a.parseStyle).each(function(w){var _=Bi(k.fromDom(e)),F=Ze(Ze({},_),w);a.setStyles(e,F)});var c=K.from(o.class).map(function(w){return w.split(/\s+/)}),f=K.from(e.className).map(function(w){return pt(w.split(/\s+/),function(_){return _!==""})});Du(c,f,function(w,_){var F=pt(_,function(V){return!Dt(w,V)}),I=Ei(Ei([],w,!0),F,!0);a.setAttrib(e,"class",I.join(" "))});var p=["style","class"],b=Pe(o,function(w,_){return!Dt(p,_)});a.setAttribs(e,b)},cv=function(t,e){var o=au(t);if(o&&o.toLowerCase()===e.tagName.toLowerCase()){var a=Tm(t);p6(t,e,a)}},VM=function(t,e,o,a,c){var f,p,b,w,_,F,I=e||"P",V=t.dom,Z=xs(V,a);if(p=V.getParent(a,V.isBlock),!p||!HM(V,p)){if(p=p||Z,p===t.getBody()||f6(p)?F=p.nodeName.toLowerCase():F=p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return f=V.create(I),cv(t,f),p.appendChild(f),o.setStart(f,0),o.setEnd(f,0),f;for(w=a;w.parentNode!==p;)w=w.parentNode;for(;w&&!V.isBlock(w);)b=w,w=w.previousSibling;if(b&&t.schema.isValidChild(F,I.toLowerCase())){for(f=V.create(I),cv(t,f),b.parentNode.insertBefore(f,b),w=b;w&&!V.isBlock(w);)_=w.nextSibling,f.appendChild(w),w=_;o.setStart(a,c),o.setEnd(a,c)}}return a},IO=function(t,e){e.normalize();var o=e.lastChild;(!o||/^(left|right)$/gi.test(t.getStyle(o,"float",!0)))&&t.add(e,"br")},h6=function(t,e){var o,a,c,f,p,b,w,_,F,I,V=t.dom,Z=t.schema,Q=Z.getNonEmptyElements(),et=t.selection.getRng(),it=function(yn){var ee=a,hr,Le,Gn,Ar=Z.getTextInlineElements();if(yn||_==="TABLE"||_==="HR"?hr=V.create(yn||F):hr=f.cloneNode(!1),Gn=hr,$g(t)===!1)V.setAttrib(hr,"style",null),V.setAttrib(hr,"class",null);else do if(Ar[ee.nodeName]){if(ms(ee)||zc(ee))continue;Le=ee.cloneNode(!1),V.setAttrib(Le,"id",""),hr.hasChildNodes()?(Le.appendChild(hr.firstChild),hr.appendChild(Le)):(Gn=Le,hr.appendChild(Le))}while((ee=ee.parentNode)&&ee!==vt);return cv(t,hr),A0(Gn),hr},gt=function(yn){var ee,hr,Le=$S(yn,a,c);if(je(a)&&(yn?Le>0:Le<a.nodeValue.length))return!1;if(a.parentNode===f&&I&&!yn||yn&&Fr(a)&&a===f.firstChild)return!0;if(LO(a,"TABLE")||LO(a,"HR"))return I&&!yn||!I&&yn;var Gn=new Io(a,f);for(je(a)&&(yn&&Le===0?Gn.prev():!yn&&Le===a.nodeValue.length&&Gn.next());ee=Gn.current();){if(Fr(ee)){if(!ee.getAttribute("data-mce-bogus")&&(hr=ee.nodeName.toLowerCase(),Q[hr]&&hr!=="br"))return!1}else if(je(ee)&&!Ms(ee.nodeValue))return!1;yn?Gn.prev():Gn.next()}return!0},mt=function(){/^(H[1-6]|PRE|FIGURE)$/.test(_)&&Wt!=="HGROUP"?p=it(F):p=it(),qx(t)&&HM(V,w)&&V.isEmpty(f)?p=V.split(w,f):V.insertAfter(p,f),U2(t,p)};bh(V,et).each(function(yn){et.setStart(yn.startContainer,yn.startOffset),et.setEnd(yn.endContainer,yn.endOffset)}),a=et.startContainer,c=et.startOffset,F=au(t);var wt=!!(e&&e.shiftKey),Ht=!!(e&&e.ctrlKey);Fr(a)&&a.hasChildNodes()&&(I=c>a.childNodes.length-1,a=a.childNodes[Math.min(c,a.childNodes.length-1)]||a,I&&je(a)?c=a.nodeValue.length:c=0);var vt=xs(V,a);if(vt){(F&&!wt||!F&&wt)&&(a=VM(t,F,et,a,c)),f=V.getParent(a,V.isBlock),w=f?V.getParent(f.parentNode,V.isBlock):null,_=f?f.nodeName.toUpperCase():"";var Wt=w?w.nodeName.toUpperCase():"";if(Wt==="LI"&&!Ht&&(f=w,w=w.parentNode,_=Wt),/^(LI|DT|DD)$/.test(_)&&V.isEmpty(f)){FO(t,it,w,f,F);return}F&&f===t.getBody()||(F=F||"P",Qo(f)?(p=X0(f),V.isEmpty(f)&&A0(f),cv(t,p),U2(t,p)):gt()?mt():gt(!0)?(p=f.parentNode.insertBefore(it(),f),U2(t,LO(f,"HR")?p:f)):(o=m6(et).cloneRange(),o.setEndAfter(f),b=o.extractContents(),IM(b),g6(b),p=b.firstChild,V.insertAfter(b,f),d6(V,Q,p),IO(V,f),V.isEmpty(f)&&A0(f),p.normalize(),V.isEmpty(p)?(V.remove(p),mt()):(cv(t,p),U2(t,p))),V.setAttrib(p,"id",""),t.fire("NewBlock",{newBlock:p}))}},v6=function(t,e,o){for(var a=new Io(e,o),c,f=t.getNonEmptyElements();c=a.next();)if(f[c.nodeName.toLowerCase()]||c.length>0)return!0},HO=function(t,e,o){var a=t.dom.createRng();o?(a.setStartBefore(e),a.setEndBefore(e)):(a.setStartAfter(e),a.setEndAfter(e)),t.selection.setRng(a),ap(t,a)},b6=function(t,e){var o=t.selection,a=t.dom,c=o.getRng(),f,p;bh(a,c).each(function(Q){c.setStart(Q.startContainer,Q.startOffset),c.setEnd(Q.endContainer,Q.endOffset)});var b=c.startOffset,w=c.startContainer;if(w.nodeType===1&&w.hasChildNodes()){var _=b>w.childNodes.length-1;w=w.childNodes[Math.min(b,w.childNodes.length-1)]||w,_&&w.nodeType===3?b=w.nodeValue.length:b=0}var F=a.getParent(w,a.isBlock),I=F?a.getParent(F.parentNode,a.isBlock):null,V=I?I.nodeName.toUpperCase():"",Z=!!(e&&e.ctrlKey);V==="LI"&&!Z&&(F=I),w&&w.nodeType===3&&b>=w.nodeValue.length&&(v6(t.schema,w,F)||(f=a.create("br"),c.insertNode(f),c.setStartAfter(f),c.setEndAfter(f),p=!0)),f=a.create("br"),xd(a,c,f),HO(t,f,p),t.undoManager.add()},y6=function(t,e){var o=k.fromTag("br");Za(k.fromDom(e),o),t.undoManager.add()},x6=function(t,e){C6(t.getBody(),e)||Qf(k.fromDom(e),k.fromTag("br"));var o=k.fromTag("br");Qf(k.fromDom(e),o),HO(t,o.dom,!1),t.undoManager.add()},w6=function(t){return Yo(t.getNode())},C6=function(t,e){return w6(mn.after(e))?!0:fs(t,mn.after(e)).map(function(o){return Yo(o.getNode())}).getOr(!1)},UM=function(t){return t&&t.nodeName==="A"&&"href"in t},S6=function(t){return t.fold(Lt,UM,UM,Lt)},k6=function(t){var e=Cn(Cp,t),o=mn.fromRangeStart(t.selection.getRng());return Wf(e,t.getBody(),o).filter(S6)},T6=function(t,e){e.fold(en,Cn(y6,t),Cn(x6,t),en)},Pu=function(t,e){var o=k6(t);o.isSome()?o.each(Cn(T6,t)):b6(t,e)},$M=function(t,e){return zO(t).filter(function(o){return e.length>0&&be(k.fromDom(o),e)}).isSome()},O6=function(t){return $M(t,Ub(t))},E6=function(t){return $M(t,Wx(t))},ji=dr.generate([{br:[]},{block:[]},{none:[]}]),_6=function(t,e){return E6(t)},jS=function(t){return function(e,o){var a=au(e)==="";return a===t}},jM=function(t){return function(e,o){return R0(e)===t}},sv=function(t,e){return function(o,a){var c=PM(o)===t.toUpperCase();return c===e}},WS=function(t){return sv("pre",t)},D6=function(){return sv("summary",!0)},B0=function(t){return function(e,o){return a4(e)===t}},M6=function(t,e){return O6(t)},W2=function(t,e){return e},WM=function(t){var e=au(t),o=c6(t.dom,t.selection.getStart());return o&&t.schema.isValidChild(o.nodeName,e||"P")},Sl=function(t,e){return function(o,a){var c=le(t,function(f,p){return f&&p(o,a)},!0);return c?K.some(e):K.none()}},R6=function(t,e){return nM([Sl([_6],ji.none()),Sl([D6()],ji.br()),Sl([WS(!0),B0(!1),W2],ji.br()),Sl([WS(!0),B0(!1)],ji.block()),Sl([WS(!0),B0(!0),W2],ji.block()),Sl([WS(!0),B0(!0)],ji.br()),Sl([jM(!0),W2],ji.br()),Sl([jM(!0)],ji.block()),Sl([jS(!0),W2,WM],ji.block()),Sl([jS(!0)],ji.br()),Sl([M6],ji.br()),Sl([jS(!1),W2],ji.br()),Sl([WM],ji.block())],[t,!!(e&&e.shiftKey)]).getOr(ji.none())},qM=function(t,e){R6(t,e).fold(function(){Pu(t,e)},function(){h6(t,e)},en)},qS=function(t,e){e.isDefaultPrevented()||(e.preventDefault(),v0(t.undoManager),t.undoManager.transact(function(){t.selection.isCollapsed()===!1&&t.execCommand("Delete"),qM(t,e)}))},GM=function(t){t.on("keydown",function(e){e.keyCode===Tr.ENTER&&qS(t,e)})},A6=function(t,e,o){M0([{keyCode:Tr.END,action:So(VS,t,!0)},{keyCode:Tr.HOME,action:So(VS,t,!1)},{keyCode:Tr.END,action:So(TO,t,!0)},{keyCode:Tr.HOME,action:So(TO,t,!1)},{keyCode:Tr.END,action:So(NS,t,!0,e)},{keyCode:Tr.HOME,action:So(NS,t,!1,e)}],o).each(function(a){o.preventDefault()})},B6=function(t,e){t.on("keydown",function(o){o.isDefaultPrevented()===!1&&A6(t,e,o)})},z6=ur().browser,N6=function(t){var e=qo(function(){t.composing||ho(t)},0);z6.isIE()&&(t.on("keypress",function(o){e.throttle()}),t.on("remove",function(o){e.cancel()}))},P6=function(t){N6(t),t.on("input",function(e){e.isComposing===!1&&ho(t)})},VO=ur(),KM=function(t,e,o){M0([{keyCode:Tr.PAGE_UP,action:So(NS,t,!1,e)},{keyCode:Tr.PAGE_DOWN,action:So(NS,t,!0,e)}],o)},UO=function(t){return t.stopImmediatePropagation()},$O=function(t){return t.keyCode===Tr.PAGE_UP||t.keyCode===Tr.PAGE_DOWN},XM=function(t,e,o){o&&!t.get()?e.on("NodeChange",UO,!0):!o&&t.get()&&e.off("NodeChange",UO),t.set(o)},F6=function(t,e){if(!VO.os.isOSX()){var o=qu(!1);t.on("keydown",function(a){$O(a)&&XM(o,t,!0)}),t.on("keyup",function(a){a.isDefaultPrevented()===!1&&KM(t,e,a),$O(a)&&o.get()&&(XM(o,t,!1),t.nodeChanged())})}},JM=function(t,e){var o=e.container(),a=e.offset();return je(o)?(o.insertData(a,t),K.some(mn(o,a+t.length))):Td(e).map(function(c){var f=k.fromText(t);return e.isAtEnd()?Qf(c,f):Za(c,f),mn(f.dom,t.length)})},L6=Cn(JM,Tc),I6=Cn(JM," "),H6=function(t){return function(e){return e.fold(function(o){return ds(t.dom,mn.before(o))},function(o){return Xu(o)},function(o){return gl(o)},function(o){return fs(t.dom,mn.after(o))})}},YM=function(t,e){return function(o){return a2(t,o)?L6(e):I6(e)}},V6=function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}},U6=function(t){var e=mn.fromRangeStart(t.selection.getRng()),o=k.fromDom(t.getBody());if(t.selection.isCollapsed()){var a=Cn(Cp,t),c=mn.fromRangeStart(t.selection.getRng());return Wf(a,t.getBody(),c).bind(H6(o)).bind(YM(o,e)).exists(V6(t))}else return!1},$6=function(t,e){M0([{keyCode:Tr.SPACEBAR,action:So(U6,t)}],e).each(function(o){e.preventDefault()})},j6=function(t){t.on("keydown",function(e){e.isDefaultPrevented()===!1&&$6(t,e)})},QM=function(t){var e=mM(t);return MN(t),o6(t,e),a6(t,e),GM(t),j6(t),P6(t),B6(t,e),F6(t,e),e},W6=function(t){return ng(t)?qu(null):QM(t)},q6=function(){function t(e){this.lastPath=[],this.editor=e;var o,a=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",function(c){var f=e.selection.getRng(),p={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(c.type==="nodechange"||!P1(p,o))&&e.fire("SelectionChange"),o=p}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var c=e.selection.getStart(!0);!c||!mr.range&&e.selection.isCollapsed()||ps(e)&&!a.isSameElementPath(c)&&e.dom.isChildOf(c,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",function(c){!c.isDefaultPrevented()&&ps(e)&&(e.selection.getNode().nodeName==="IMG"?bu.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())})}return t.prototype.nodeChanged=function(e){var o=this.editor.selection,a,c,f;this.editor.initialized&&o&&!b4(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),a=o.getStart(!0)||f,(a.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(a,f))&&(a=f),c=[],this.editor.dom.getParent(a,function(p){if(p===f)return!0;c.push(p)}),e=e||{},e.element=a,e.parents=c,this.editor.fire("NodeChange",e))},t.prototype.isSameElementPath=function(e){var o,a=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(a.length===this.lastPath.length){for(o=a.length;o>=0&&a[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=a,!0}return this.lastPath=a,!1},t}(),G6=function(t){t.on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})},K6=function(t){t.parser.addNodeFilter("details",function(e){nn(e,function(o){o.attr("data-mce-open",o.attr("open")),o.attr("open","open")})}),t.serializer.addNodeFilter("details",function(e){nn(e,function(o){var a=o.attr("data-mce-open");o.attr("open",Sn(a)?a:null),o.attr("data-mce-open",null)})})},ZM=function(t){G6(t),K6(t)},q2=function(t){return Fr(t)&&Bl(k.fromDom(t))},t5=function(t){var e=t.selection.getRng(),o=mn.fromRangeStart(e),a=mn.fromRangeEnd(e);if(mn.isElementPosition(o)){var c=o.container();q2(c)&&Xu(c).each(function(f){return e.setStart(f.container(),f.offset())})}if(mn.isElementPosition(a)){var c=o.container();q2(c)&&gl(c).each(function(p){return e.setEnd(p.container(),p.offset())})}t.selection.setRng(A3(e))},n5=function(t){t.on("click",function(e){e.detail>=3&&t5(t)})},e5=function(t){var e=t.getBoundingClientRect(),o=t.ownerDocument,a=o.documentElement,c=o.defaultView;return{top:e.top+c.pageYOffset-a.clientTop,left:e.left+c.pageXOffset-a.clientLeft}},X6=function(t){return t.inline?e5(t.getBody()):{left:0,top:0}},jO=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},J6=function(t){var e=t.getBody(),o=t.getDoc().documentElement,a={left:e.scrollLeft,top:e.scrollTop},c={left:e.scrollLeft||o.scrollLeft,top:e.scrollTop||o.scrollTop};return t.inline?a:c},Y6=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var o=e5(t.getContentAreaContainer()),a=J6(t);return{left:e.pageX-o.left+a.left,top:e.pageY-o.top+a.top}}return{left:e.pageX,top:e.pageY}},Q6=function(t,e,o){return{pageX:o.left-t.left+e.left,pageY:o.top-t.top+e.top}},Z6=function(t,e){return Q6(X6(t),jO(t),Y6(t,e))},ws=xi,r5=Os,o5=function(t,e){return ws(e)&&e!==t},t8=function(t,e,o){return e===o||t.dom.isChildOf(e,o)?!1:!ws(e)},n8=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},e8=function(t,e,o,a){var c=t.dom,f=e.cloneNode(!0);c.setStyles(f,{width:o,height:a}),c.setAttrib(f,"data-mce-selected",null);var p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:a}),c.setStyles(f,{margin:0,boxSizing:"border-box"}),p.appendChild(f),p},r8=function(t,e){t.parentNode!==e&&e.appendChild(t)},o8=function(t,e,o,a,c,f){var p=0,b=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+o>c&&(p=e.pageX+o-c),e.pageY+a>f&&(b=e.pageY+a-f),t.style.width=o-p+"px",t.style.height=a-b+"px"},i5=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},i8=function(t){return t.button===0},WO=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},a8=function(t,e){return function(o){if(i8(o)){var a=Ue(e.dom.getParents(o.target),t4(ws,r5)).getOr(null);if(o5(e.getBody(),a)){var c=e.dom.getPos(a),f=e.getBody(),p=e.getDoc().documentElement;t.set({element:a,dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(e.inline?f.scrollWidth:p.offsetWidth)-2,maxY:(e.inline?f.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:a.offsetWidth,height:a.offsetHeight,ghost:e8(e,a,a.offsetWidth,a.offsetHeight)})}}}},u8=function(t,e){var o=bu.throttle(function(a,c){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(a,c)},0);return e.on("remove",o.stop),function(a){return t.on(function(c){var f=Math.max(Math.abs(a.screenX-c.screenX),Math.abs(a.screenY-c.screenY));if(!c.dragging&&f>10){var p=e.fire("dragstart",{target:c.element});if(p.isDefaultPrevented())return;c.dragging=!0,e.focus()}if(c.dragging){var b=WO(c,Z6(e,a));r8(c.ghost,e.getBody()),o8(c.ghost,b,c.width,c.height,c.maxX,c.maxY),o(a.clientX,a.clientY)}})}},a5=function(t){var e=t.getSel().getRangeAt(0),o=e.startContainer;return o.nodeType===3?o.parentNode:o},c8=function(t,e){return function(o){t.on(function(a){if(a.dragging){if(t8(e,a5(e.selection),a.element)){var c=n8(a.element),f=e.fire("drop",{clientX:o.clientX,clientY:o.clientY});f.isDefaultPrevented()||e.undoManager.transact(function(){i5(a.element),e.insertContent(e.dom.getOuterHTML(c)),e._selectionOverrides.hideFakeCaret()})}e.fire("dragend")}}),u5(t)}},s8=function(t,e){return function(){t.on(function(o){o.dragging&&e.fire("dragend")}),u5(t)}},u5=function(t){t.on(function(e){i5(e.ghost)}),t.clear()},l8=function(t){var e=gd(),o=pi.DOM,a=document,c=a8(e,t),f=u8(e,t),p=c8(e,t),b=s8(e,t);t.on("mousedown",c),t.on("mousemove",f),t.on("mouseup",p),o.bind(a,"mousemove",f),o.bind(a,"mouseup",b),t.on("remove",function(){o.unbind(a,"mousemove",f),o.unbind(a,"mouseup",b)}),t.on("keydown",function(w){w.keyCode===Tr.ESC&&b()})},f8=function(t){t.on("drop",function(e){var o=typeof e.clientX<"u"?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(ws(o)||t.dom.getContentEditableParent(o)==="false")&&e.preventDefault()})},d8=function(t){var e=function(c){if(!c.isDefaultPrevented()){var f=c.dataTransfer;f&&(Dt(f.types,"Files")||f.files.length>0)&&(c.preventDefault(),c.type==="drop"&&w0(t,"Dropped file type is not supported"))}},o=function(c){Th(t,c.target)&&e(c)},a=function(){var c=pi.DOM,f=t.dom,p=document,b=t.inline?t.getBody():t.getDoc(),w=["drop","dragover"];nn(w,function(_){c.bind(p,_,o),f.bind(b,_,e)}),t.on("remove",function(){nn(w,function(_){c.unbind(p,_,o),f.unbind(b,_,e)})})};t.on("init",function(){bu.setEditorTimeout(t,a,0)})},qO=function(t){l8(t),f8(t),Zx(t)&&d8(t)},m8=function(t){var e=qo(function(){if(!t.removed&&t.getBody().contains(document.activeElement)){var o=t.selection.getRng();if(o.collapsed){var a=R2(t,o,!1);t.selection.setRng(a)}}},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})},c5=function(t){t.on("init",function(){t.on("focusin",function(e){var o=e.target;if(oc(o)){var a=Dd(t.getBody(),o),c=xi(a)?a:o;t.selection.getNode()!==c&&ev(t,c).each(function(f){return t.selection.setRng(f)})}})})},s5=Os,lv=xi,GS=function(t,e){return Dd(t.getBody(),e)},g8=function(t){var e=t.selection,o=t.dom,a=o.isBlock,c=t.getBody(),f=uw(t,c,a,function(){return Nd(t)}),p="sel-"+o.uniqueId(),b="data-mce-selected",w,_=function(Gn){return o.hasClass(Gn,"mce-offscreen-selection")},F=function(Gn){return Gn!==c&&(lv(Gn)||oc(Gn))&&o.isChildOf(Gn,c)},I=function(Gn){return Pd(Gn)||Fd(Gn)||gp(Gn)||pp(Gn)},V=function(){var Gn=o.get(p);return Gn&&Gn.getElementsByTagName("*")[0]},Z=function(Gn){Gn&&e.setRng(Gn)},Q=e.getRng,et=function(Gn,Ar,se,Fe){Fe===void 0&&(Fe=!0);var ue=t.fire("ShowCaret",{target:Ar,direction:Gn,before:se});return ue.isDefaultPrevented()?null:(Fe&&e.scrollIntoView(Ar,Gn===-1),f.show(se,Ar))},it=function(Gn){Gn.hasAttribute("data-mce-caret")&&(X0(Gn),Z(Q()),e.scrollIntoView(Gn))},gt=function(){t.on("mouseup",function(ue){var Te=Q();Te.collapsed&&vD(t,ue.clientX,ue.clientY)&&xS(t,Te,!1).each(Z)}),t.on("click",function(ue){var Te=GS(t,ue.target);Te&&(lv(Te)&&(ue.preventDefault(),t.focus()),s5(Te)&&o.isChildOf(Te,e.getNode())&&ee())}),t.on("blur NewBlock",ee),t.on("ResizeWindow FullscreenStateChanged",f.reposition);var Gn=function(ue){var Te=ue.firstChild;if(tr(Te))return!1;var $e=mn.before(Te);if(Yo($e.getNode())&&ue.childNodes.length===1)return!I($e);var Zn=ml(ue),qe=Zn.next($e);return qe&&!I(qe)},Ar=function(ue,Te){var $e=o.getParent(ue,a),Zn=o.getParent(Te,a);return $e===Zn},se=function(ue,Te){var $e=o.getParent(ue,a),Zn=o.getParent(Te,a);return tr($e)?!1:ue!==Zn&&o.isChildOf($e,Zn)&&lv(GS(t,$e))===!1?!0:!o.isChildOf(Zn,$e)&&!Ar($e,Zn)&&Gn($e)};t.on("tap",function(ue){var Te=ue.target,$e=GS(t,Te);lv($e)?(ue.preventDefault(),ev(t,$e).each(yn)):F(Te)&&ev(t,Te).each(yn)},!0),t.on("mousedown",function(ue){var Te=ue.target;if(!(Te!==c&&Te.nodeName!=="HTML"&&!o.isChildOf(Te,c))&&vD(t,ue.clientX,ue.clientY)!==!1){var $e=GS(t,Te);if($e)lv($e)?(ue.preventDefault(),ev(t,$e).each(yn)):(ee(),!(s5($e)&&ue.shiftKey)&&!np(ue.clientX,ue.clientY,e.getRng())&&(Le(),e.placeCaretAt(ue.clientX,ue.clientY)));else if(F(Te))ev(t,Te).each(yn);else if(kd(Te)===!1){ee(),Le();var Zn=aN(c,ue.clientX,ue.clientY);if(Zn&&!se(Te,Zn.node)){ue.preventDefault();var qe=et(1,Zn.node,Zn.before,!1);Z(qe),t.getBody().focus()}}}}),t.on("keypress",function(ue){Tr.modifierPressed(ue)||lv(e.getNode())&&ue.preventDefault()}),t.on("GetSelectionRange",function(ue){var Te=ue.range;if(w){if(!w.parentNode){w=null;return}Te=Te.cloneRange(),Te.selectNode(w),ue.range=Te}}),t.on("SetSelectionRange",function(ue){ue.range=Ht(ue.range);var Te=yn(ue.range,ue.forward);Te&&(ue.range=Te)});var Fe=function(ue){return ue.id==="mcepastebin"};t.on("AfterSetSelectionRange",function(ue){var Te=ue.range,$e=Te.startContainer.parentNode;!wt(Te)&&!Fe($e)&&Le(),_($e)||ee()}),t.on("copy",function(ue){var Te=ue.clipboardData;if(!ue.isDefaultPrevented()&&ue.clipboardData&&!mr.ie){var $e=V();$e&&(ue.preventDefault(),Te.clearData(),Te.setData("text/html",$e.outerHTML),Te.setData("text/plain",$e.outerText||$e.innerText))}}),qO(t),m8(t),c5(t)},mt=function(Gn){return uc(Gn)||Ip(Gn)||Hp(Gn)},wt=function(Gn){return mt(Gn.startContainer)||mt(Gn.endContainer)},Ht=function(Gn){var Ar=t.schema.getShortEndedElements(),se=o.createRng(),Fe=Gn.startContainer,ue=Gn.startOffset,Te=Gn.endContainer,$e=Gn.endOffset;return Rr(Ar,Fe.nodeName.toLowerCase())?ue===0?se.setStartBefore(Fe):se.setStartAfter(Fe):se.setStart(Fe,ue),Rr(Ar,Te.nodeName.toLowerCase())?$e===0?se.setEndBefore(Te):se.setEndAfter(Te):se.setEnd(Te,$e),se},vt=function(Gn,Ar,se){var Fe=t.$,ue=bg(k.fromDom(t.getBody()),"#"+p).fold(function(){return Fe([])},function(Zn){return Fe([Zn.dom])});ue.length===0&&(ue=Fe('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",p),ue.appendTo(t.getBody()));var Te=o.createRng();Ar===se&&mr.ie?(ue.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(Ar),Te.setStartAfter(ue[0].firstChild.firstChild),Te.setEndAfter(Ar)):(ue.empty().append(Tc).append(Ar).append(Tc),Te.setStart(ue[0].firstChild,1),Te.setEnd(ue[0].lastChild,0)),ue.css({top:o.getPos(Gn,t.getBody()).y}),ue[0].focus();var $e=e.getSel();return $e.removeAllRanges(),$e.addRange(Te),Te},Wt=function(Gn){var Ar=Gn.cloneNode(!0),se=t.fire("ObjectSelected",{target:Gn,targetClone:Ar});if(se.isDefaultPrevented())return null;var Fe=vt(Gn,se.targetClone,Ar),ue=k.fromDom(Gn);return nn(sc(k.fromDom(t.getBody()),"*[data-mce-selected]"),function(Te){Mr(ue,Te)||On(Te,b)}),o.getAttrib(Gn,b)||Gn.setAttribute(b,"1"),w=Gn,Le(),Fe},yn=function(Gn,Ar){if(!Gn)return null;if(Gn.collapsed){if(!wt(Gn)){var se=Ar?1:-1,Fe=Ga(se,c,Gn),ue=Fe.getNode(!Ar);if(kd(ue))return et(se,ue,Ar?!Fe.isAtEnd():!1,!1);var Te=Fe.getNode(Ar);if(kd(Te))return et(se,Te,Ar?!1:!Fe.isAtEnd(),!1)}return null}var $e=Gn.startContainer,Zn=Gn.startOffset,qe=Gn.endOffset;if($e.nodeType===3&&Zn===0&&lv($e.parentNode)&&($e=$e.parentNode,Zn=o.nodeIndex($e),$e=$e.parentNode),$e.nodeType!==1)return null;if(qe===Zn+1&&$e===Gn.endContainer){var Wr=$e.childNodes[Zn];if(F(Wr))return Wt(Wr)}return null},ee=function(){w&&w.removeAttribute(b),bg(k.fromDom(t.getBody()),"#"+p).each(Vi),w=null},hr=function(){f.destroy(),w=null},Le=function(){f.hide()};return mr.ceFalse&&!ng(t)&&gt(),{showCaret:et,showBlockCaretContainer:it,hideFakeCaret:Le,destroy:hr}},lu=function(t){var e=hn.each,o=Tr.BACKSPACE,a=Tr.DELETE,c=t.dom,f=t.selection,p=t.parser,b=mr.gecko,w=mr.ie,_=mr.webkit,F="data:text/mce-internal,",I=w?"Text":"URL",V=function(Yn,an){try{t.getDoc().execCommand(Yn,!1,an)}catch{}},Z=function(Yn){return Yn.isDefaultPrevented()},Q=function(Yn){var an,re;Yn.dataTransfer&&(t.selection.isCollapsed()&&Yn.target.tagName==="IMG"&&f.select(Yn.target),an=t.selection.getContent(),an.length>0&&(re=F+escape(t.id)+","+escape(an),Yn.dataTransfer.setData(I,re)))},et=function(Yn){var an;return Yn.dataTransfer&&(an=Yn.dataTransfer.getData(I),an&&an.indexOf(F)>=0)?(an=an.substr(F.length).split(","),{id:unescape(an[0]),html:unescape(an[1])}):null},it=function(Yn,an){t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:Yn,internal:an}):t.execCommand("mceInsertContent",!1,Yn)},gt=function(){var Yn=function(re){var cn=c.create("body"),Qe=re.cloneContents();return cn.appendChild(Qe),f.serializer.serialize(cn,{format:"html"})},an=function(re){var cn=Yn(re),Qe=c.createRng();Qe.selectNode(t.getBody());var Se=Yn(Qe);return cn===Se};t.on("keydown",function(re){var cn=re.keyCode,Qe,Se;if(!Z(re)&&(cn===a||cn===o)){if(Qe=t.selection.isCollapsed(),Se=t.getBody(),Qe&&!c.isEmpty(Se)||!Qe&&!an(t.selection.getRng()))return;re.preventDefault(),t.setContent(""),Se.firstChild&&c.isBlock(Se.firstChild)?t.selection.setCursorLocation(Se.firstChild,0):t.selection.setCursorLocation(Se,0),t.nodeChanged()}})},mt=function(){t.shortcuts.add("meta+a",null,"SelectAll")},wt=function(){t.inline||c.bind(t.getDoc(),"mousedown mouseup",function(Yn){var an;if(Yn.target===t.getDoc().documentElement)if(an=f.getRng(),t.getBody().focus(),Yn.type==="mousedown"){if(uc(an.startContainer))return;f.placeCaretAt(Yn.clientX,Yn.clientY)}else f.setRng(an)})},Ht=function(){t.on("keydown",function(Yn){if(!Z(Yn)&&Yn.keyCode===o){if(!t.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var an=f.getNode(),re=an.previousSibling;if(an.nodeName==="HR"){c.remove(an),Yn.preventDefault();return}re&&re.nodeName&&re.nodeName.toLowerCase()==="hr"&&(c.remove(re),Yn.preventDefault())}}})},vt=function(){Range.prototype.getClientRects||t.on("mousedown",function(Yn){if(!Z(Yn)&&Yn.target.nodeName==="HTML"){var an=t.getBody();an.blur(),bu.setEditorTimeout(t,function(){an.focus()})}})},Wt=function(){t.on("click",function(Yn){var an=Yn.target;/^(IMG|HR)$/.test(an.nodeName)&&c.getContentEditableParent(an)!=="false"&&(Yn.preventDefault(),t.selection.select(an),t.nodeChanged()),an.nodeName==="A"&&c.hasClass(an,"mce-item-anchor")&&(Yn.preventDefault(),f.select(an))})},yn=function(){var Yn=function(){var re=c.getAttribs(f.getStart().cloneNode(!1));return function(){var cn=f.getStart();cn!==t.getBody()&&(c.setAttrib(cn,"style",null),e(re,function(Qe){cn.setAttributeNode(Qe.cloneNode(!0))}))}},an=function(){return!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!==c.getParent(f.getEnd(),c.isBlock)};t.on("keypress",function(re){var cn;if(!Z(re)&&(re.keyCode===8||re.keyCode===46)&&an())return cn=Yn(),t.getDoc().execCommand("delete",!1,null),cn(),re.preventDefault(),!1}),c.bind(t.getDoc(),"cut",function(re){var cn;!Z(re)&&an()&&(cn=Yn(),bu.setEditorTimeout(t,function(){cn()}))})},ee=function(){t.on("keydown",function(Yn){if(!Z(Yn)&&Yn.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){var an=f.getNode().previousSibling;if(an&&an.nodeName&&an.nodeName.toLowerCase()==="table")return Yn.preventDefault(),!1}})},hr=function(){t.on("keydown",function(Yn){var an,re;if(!(Z(Yn)||Yn.keyCode!==Tr.BACKSPACE)){an=f.getRng();var cn=an.startContainer,Qe=an.startOffset,Se=c.getRoot();if(re=cn,!(!an.collapsed||Qe!==0)){for(;re&&re.parentNode&&re.parentNode.firstChild===re&&re.parentNode!==Se;)re=re.parentNode;re.tagName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",null,re),an=c.createRng(),an.setStart(cn,0),an.setEnd(cn,0),f.setRng(an))}}})},Le=function(){var Yn=function(){V("StyleWithCSS",!1),V("enableInlineTableEditing",!1),Fs(t)||V("enableObjectResizing",!1)};oh(t)||t.on("BeforeExecCommand mousedown",Yn)},Gn=function(){var Yn=function(){e(c.select("a"),function(an){var re=an.parentNode,cn=c.getRoot();if(re.lastChild===an){for(;re&&!c.isBlock(re);){if(re.parentNode.lastChild!==re||re===cn)return;re=re.parentNode}c.add(re,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",function(an){(an.type==="setcontent"||an.command==="mceInsertLink")&&Yn()})},Ar=function(){au(t)&&t.on("init",function(){V("DefaultParagraphSeparator",au(t))})},se=function(){t.on("keyup focusin mouseup",function(Yn){Tr.modifierPressed(Yn)||f.normalize()},!0)},Fe=function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ue=function(){t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()})},Te=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(Yn){var an;if(Yn.target.nodeName==="HTML"){if(mr.ie>11){t.getBody().focus();return}an=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(an),t.selection.normalize(),t.nodeChanged()}}))},$e=function(){mr.mac&&t.on("keydown",function(Yn){if(Tr.metaKeyPressed(Yn)&&!Yn.shiftKey&&(Yn.keyCode===37||Yn.keyCode===39)){Yn.preventDefault();var an=t.selection.getSel();an.modify("move",Yn.keyCode===37?"backward":"forward","lineboundary")}})},Zn=function(){V("AutoUrlDetect",!1)},qe=function(){t.on("click",function(Yn){var an=Yn.target;do if(an.tagName==="A"){Yn.preventDefault();return}while(an=an.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Wr=function(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(Yn){Yn.preventDefault()})})},$o=function(){p.addNodeFilter("br",function(Yn){for(var an=Yn.length;an--;)Yn[an].attr("class")==="Apple-interchange-newline"&&Yn[an].remove()})},xo=function(){t.on("dragstart",function(Yn){Q(Yn)}),t.on("drop",function(Yn){if(!Z(Yn)){var an=et(Yn);if(an&&an.id!==t.id){Yn.preventDefault();var re=Ey(Yn.x,Yn.y,t.getDoc());f.setRng(re),it(an.html,!0)}}})},da=en,ka=function(){if(!b||t.removed)return!1;var Yn=t.selection.getSel();return!Yn||!Yn.rangeCount||Yn.rangeCount===0},ns=function(){_&&(wt(),Wt(),Wr(),mt(),mr.iOS&&(ue(),Te(),qe())),b&&(vt(),Le(),Fe(),$e())},Cs=function(){hr(),gt(),mr.windowsPhone||se(),_&&(wt(),Wt(),Ar(),Wr(),ee(),$o(),mr.iOS?(ue(),Te(),qe()):mt()),mr.ie>=11&&(Te(),ee()),mr.ie&&(mt(),Zn(),xo()),b&&(Ht(),vt(),yn(),Le(),Gn(),Fe(),$e(),ee())};return ng(t)?ns():Cs(),{refreshContentEditable:da,isHidden:ka}},GO=pi.DOM,p8=function(t,e){var o=k.fromDom(t.getBody()),a=Hi(Iu(o)),c=k.fromTag("style");E(c,"type","text/css"),va(c,k.fromText(e)),va(a,c),t.on("remove",function(){Vi(c)})},h8=function(t){return t.inline?t.getElement().nodeName.toLowerCase():void 0},KO=function(t){return Pe(t,function(e){return un(e)===!1})},KS=function(t){var e=t.settings,o=t.editorUpload.blobCache;return KO({allow_conditional_comments:e.allow_conditional_comments,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_html_in_named_anchor:e.allow_html_in_named_anchor,allow_script_urls:e.allow_script_urls,allow_unsafe_link_target:e.allow_unsafe_link_target,convert_fonts_to_spans:e.convert_fonts_to_spans,fix_list_elements:e.fix_list_elements,font_size_legacy_values:e.font_size_legacy_values,forced_root_block:e.forced_root_block,forced_root_block_attrs:e.forced_root_block_attrs,padd_empty_with_br:e.padd_empty_with_br,preserve_cdata:e.preserve_cdata,remove_trailing_brs:e.remove_trailing_brs,inline_styles:e.inline_styles,root_name:h8(t),validate:!0,blob_cache:o,document:t.getDoc(),images_dataimg_filter:e.images_dataimg_filter})},v8=function(t){var e=t.settings;return Ze(Ze({},KS(t)),KO({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope,element_format:e.element_format,entities:e.entities,entity_encoding:e.entity_encoding,indent:e.indent,indent_after:e.indent_after,indent_before:e.indent_before,block_elements:e.block_elements,boolean_attributes:e.boolean_attributes,custom_elements:e.custom_elements,extended_valid_elements:e.extended_valid_elements,invalid_elements:e.invalid_elements,invalid_styles:e.invalid_styles,move_caret_before_on_enter_elements:e.move_caret_before_on_enter_elements,non_empty_elements:e.non_empty_elements,schema:e.schema,self_closing_elements:e.self_closing_elements,short_ended_elements:e.short_ended_elements,special:e.special,text_block_elements:e.text_block_elements,text_inline_elements:e.text_inline_elements,valid_children:e.valid_children,valid_classes:e.valid_classes,valid_elements:e.valid_elements,valid_styles:e.valid_styles,verify_html:e.verify_html,whitespace_elements:e.whitespace_elements}))},l5=function(t){var e=PT(KS(t),t.schema);return e.addAttributeFilter("src,href,style,tabindex",function(o,a){for(var c=o.length,f,p,b=t.dom,w="data-mce-"+a;c--;)if(f=o[c],p=f.attr(a),p&&!f.attr(w)){if(p.indexOf("data:")===0||p.indexOf("blob:")===0)continue;a==="style"?(p=b.serializeStyle(b.parseStyle(p),f.name),p.length||(p=null),f.attr(w,p),f.attr(a,p)):a==="tabindex"?(f.attr(w,p),f.attr(a,null)):f.attr(w,t.convertURL(p,a,f.name))}}),e.addNodeFilter("script",function(o){for(var a=o.length;a--;){var c=o[a],f=c.attr("type")||"no/type";f.indexOf("mce-")!==0&&c.attr("type","mce-"+f)}}),t.settings.preserve_cdata&&e.addNodeFilter("#cdata",function(o){for(var a=o.length;a--;){var c=o[a];c.type=8,c.name="#comment",c.value="[CDATA["+t.dom.encode(c.value)+"]]"}}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(o){for(var a=o.length,c=t.schema.getNonEmptyElements();a--;){var f=o[a];f.isEmpty(c)&&f.getAll("br").length===0&&(f.append(new hs("br",1)).shortEnded=!0)}}),e},b8=function(t){t.settings.auto_focus&&bu.setEditorTimeout(t,function(){var e;t.settings.auto_focus===!0?e=t:e=t.editorManager.get(t.settings.auto_focus),e.destroyed||e.focus()},100)},y8=function(t){var e=t.dom.getRoot();!t.inline&&(!ps(t)||t.selection.getStart(!0)===e)&&Xu(e).each(function(o){var a=o.getNode(),c=na(a)?Xu(a).getOr(o):o;mr.browser.isIE()?oC(t,c.toRange()):t.selection.setRng(c.toRange())})},x8=function(t){t.bindPendingEventDelegates(),t.initialized=!0,Kl(t),t.focus(!0),y8(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),b8(t)},f5=function(t){return t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader},w8=function(t,e,o){var a=[new Ia(function(c,f){return f5(t).loadAll(e,c,f)})];return t.inline?a:a.concat([new Ia(function(c,f){return t.ui.styleSheetLoader.loadAll(o,c,f)})])},d5=function(t){var e=f5(t),o=v1(t),a=t.contentCSS,c=function(){e.unloadAll(a),t.inline||t.ui.styleSheetLoader.unloadAll(o)},f=function(){t.removed?c():t.on("remove",c)};if(t.contentStyles.length>0){var p="";hn.each(t.contentStyles,function(w){p+=w+`\r
`}),t.dom.addStyle(p)}var b=Ia.all(w8(t,a,o)).then(f).catch(f);return t.settings.content_style&&p8(t,t.settings.content_style),b},C8=function(t){var e=t.settings,o=t.getDoc(),a=t.getBody();Cy(t),!e.browser_spellcheck&&!e.gecko_spellcheck&&(o.body.spellcheck=!1,GO.setAttrib(a,"spellcheck","false")),t.quirks=lu(t),Go(t);var c=Kx(t);c!==void 0&&(a.dir=c),e.protect&&t.on("BeforeSetContent",function(f){hn.each(e.protect,function(p){f.content=f.content.replace(p,function(b){return"<!--mce:protected "+escape(b)+"-->"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),t.on("compositionstart compositionend",function(f){t.composing=f.type==="compositionstart"})},S8=function(t){ng(t)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"})},XO=function(t){t.removed!==!0&&(S8(t),x8(t))},JO=function(t,e){var o=t.settings,a=t.getElement(),c=t.getDoc();o.inline||(t.getElement().style.visibility=t.orgVisibility),!e&&!t.inline&&(c.open(),c.write(t.iframeHTML),c.close()),t.inline&&(GO.addClass(a,"mce-content-body"),t.contentDocument=c=document,t.contentWindow=window,t.bodyElement=a,t.contentAreaContainer=a);var f=t.getBody();f.disabled=!0,t.readonly=!!o.readonly,t.readonly||(t.inline&&GO.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=t.getParam("content_editable_state",!0)),f.disabled=!1,t.editorUpload=_D(t),t.schema=uo(o),t.dom=pi(c,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:o.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:Sd(t),referrerPolicy:Gx(t),onSetAttrib:function(w){t.fire("SetAttrib",w)}}),t.parser=l5(t),t.serializer=aD(v8(t),t),t.selection=MT(t.dom,t.getWin(),t.serializer,t),t.annotator=vl(t),t.formatter=RD(t),t.undoManager=ia(t),t._nodeChangeDispatcher=new q6(t),t._selectionOverrides=g8(t),D0(t),ZM(t),ng(t)||n5(t);var p=W6(t);CN(t,p),ON(t),sz(t);var b=M_(t);C8(t),b.fold(function(){d5(t).then(function(){return XO(t)})},function(w){t.setProgressState(!0),d5(t).then(function(){w().then(function(_){t.setProgressState(!1),XO(t)},function(_){t.notificationManager.open({type:"error",text:String(_)}),XO(t)})})})},G2=pi.DOM,k8=function(t,e){if(document.domain!==window.location.hostname&&mr.browser.isIE()){var o=Jh("mce");t[o]=function(){JO(t)};var a='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+o+"(true);})()";return G2.setAttrib(e,"src",a),!0}return!1},T8=function(t,e,o,a){var c=k.fromTag("iframe");return L(c,a),L(c,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),Pg(c,"tox-edit-area__iframe"),c},m5=function(t){var e=f1(t)+"<html><head>";i4(t)!==t.documentBaseUrl&&(e+='<base href="'+t.documentBaseURI.getURI()+'" />'),e+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var o=$x(t),a=Vb(t),c=t.translate(C4(t));return jx(t)&&(e+='<meta http-equiv="Content-Security-Policy" content="'+jx(t)+'" />'),e+="</head>"+('<body id="'+o+'" class="mce-content-body '+a+'" data-id="'+t.id+'" aria-label="'+c+'">')+"<br></body></html>",e},O8=function(t,e){var o=t.translate("Rich Text Area"),a=T8(t.id,o,e.height,l1(t)).dom;a.onload=function(){a.onload=null,t.fire("load")};var c=k8(t,a);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=a,t.iframeHTML=m5(t),G2.add(e.iframeContainer,a),c},E8=function(t,e){var o=O8(t,e);e.editorContainer&&(G2.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=G2.isHidden(e.editorContainer)),t.getElement().style.display="none",G2.setAttrib(t.id,"aria-hidden","true"),o||JO(t)},g5=pi.DOM,p5=function(t,e,o){var a=ys.get(o),c=ys.urls[o]||t.documentBaseUrl.replace(/\/$/,"");if(o=hn.trim(o),a&&hn.inArray(e,o)===-1){if(hn.each(ys.dependencies(o),function(p){p5(t,e,p)}),t.plugins[o])return;try{var f=new a(t,c,t.$);t.plugins[o]=f,f.init&&(f.init(t,c),e.push(o))}catch(p){wD(t,o,p)}}},YO=function(t){return t.replace(/^\-/,"")},_8=function(t){var e=[];hn.each(Kb(t).split(/[ ,]/),function(o){p5(t,e,YO(o))})},h5=function(t){var e=hn.trim(g1(t)),o=t.ui.registry.getAll().icons,a=Ze(Ze({},sS.get("default").icons),sS.get(e).icons);te(a,function(c,f){Rr(o,f)||t.ui.registry.addIcon(f,c)})},v5=function(t){var e=Om(t);if(Sn(e)){t.settings.theme=YO(e);var o=qs.get(e);t.theme=new o(t,qs.urls[e]),t.theme.init&&t.theme.init(t,qs.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}},b5=function(t){return t.theme.renderUI()},D8=function(t){var e=t.getElement(),o=Om(t),a=o(t,e);return a.editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||t.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||t.id+"_iframecontainer"),a.height=a.iframeHeight?a.iframeHeight:e.offsetHeight,a},y5=function(t){return{editorContainer:t,iframeContainer:t,api:{}}},M8=function(t){var e=g5.create("div");return g5.insertAfter(e,t),y5(e)},x5=function(t){var e=t.getElement();return t.inline?y5(null):M8(e)},R8=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,Sn(Om(t))?b5(t):Ft(Om(t))?D8(t):x5(t)},A8=function(t,e){var o={show:K.from(e.show).getOr(en),hide:K.from(e.hide).getOr(en),disable:K.from(e.disable).getOr(en),isDisabled:K.from(e.isDisabled).getOr(Lt),enable:function(){t.mode.isReadOnly()||K.from(e.enable).map(Dn)}};t.ui=Ze(Ze({},t.ui),o)},QO=function(t){t.fire("ScriptsLoaded"),h5(t),v5(t),_8(t);var e=R8(t);A8(t,K.from(e.api).getOr({}));var o={editorContainer:e.editorContainer,iframeContainer:e.iframeContainer};return t.editorContainer=o.editorContainer?o.editorContainer:null,$T(t),t.inline?JO(t):E8(t,o)},fv=pi.DOM,w5=function(t){return t.charAt(0)==="-"},C5=function(t,e){var o=rh(e),a=$b(e);if(oo.hasCode(o)===!1&&o!=="en"){var c=a!==""?a:e.editorManager.baseURL+"/langs/"+o+".js";t.add(c,en,void 0,function(){YB(e,c,o)})}},B8=function(t,e,o,a){var c=Om(e);if(Sn(c)){if(!w5(c)&&!Rr(qs.urls,c)){var f=Em(e);f?qs.load(c,e.documentBaseURI.toAbsolute(f)):qs.load(c,"themes/"+c+"/theme"+o+".js")}t.loadQueue(function(){qs.waitFor(c,a)})}else a()},z8=function(t){return K.from(c4(t)).filter(function(e){return e.length>0}).map(function(e){return{url:e,name:K.none()}})},S5=function(t,e,o){return K.from(e).filter(function(a){return a.length>0&&!sS.has(a)}).map(function(a){return{url:t.editorManager.baseURL+"/icons/"+a+"/icons"+o+".js",name:K.some(a)}})},k5=function(t,e,o){var a=S5(e,"default",o),c=z8(e).orThunk(function(){return S5(e,g1(e),"")});nn(to([a,c]),function(f){t.add(f.url,en,void 0,function(){xD(e,f.url,f.name.getOrUndefined())})})},T5=function(t,e){hn.each(x4(t),function(o,a){ys.load(a,o,en,void 0,function(){dS(t,o,a)}),t.settings.plugins+=" "+a}),hn.each(Kb(t).split(/[ ,]/),function(o){if(o=hn.trim(o),o&&!ys.urls[o])if(w5(o)){o=o.substr(1,o.length);var a=ys.dependencies(o);hn.each(a,function(f){var p={prefix:"plugins/",resource:f,suffix:"/plugin"+e+".js"},b=ys.createUrl(p,f);ys.load(b.resource,b,en,void 0,function(){dS(t,b.prefix+b.resource+b.suffix,b.resource)})})}else{var c={prefix:"plugins/",resource:o,suffix:"/plugin"+e+".js"};ys.load(o,c,en,void 0,function(){dS(t,c.prefix+c.resource+c.suffix,o)})}})},N8=function(t,e){var o=Hl.ScriptLoader;B8(o,t,e,function(){C5(o,t),k5(o,t,e),T5(t,e),o.loadQueue(function(){t.removed||QO(t)},t,function(){t.removed||QO(t)})})},P8=function(t,e){return _s.forElement(t,{contentCssCors:y4(e),referrerPolicy:Gx(e)})},F8=function(t){var e=t.id;oo.setCode(rh(t));var o=function(){fv.unbind(window,"ready",o),t.render()};if(!id.Event.domLoaded){fv.bind(window,"ready",o);return}if(t.getElement()&&mr.contentEditable){var a=k.fromDom(t.getElement()),c=ir(a);t.on("remove",function(){kn(a.dom.attributes,function(p){return On(a,p.name)}),L(a,c)}),t.ui.styleSheetLoader=P8(a,t),qb(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var f=t.getElement().form||fv.getParent(e,"form");f&&(t.formElement=f,Jx(t)&&!tu(t.getElement())&&(fv.insertAfter(fv.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(p){t.fire(p.type,p)},fv.bind(f,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),h4(t)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),f._mceOldSubmit(f)})),t.windowManager=x0(t),t.notificationManager=bs(t),Yx(t)&&t.on("GetContent",function(p){p.save&&(p.content=fv.encode(p.content))}),Qx(t)&&t.on("submit",function(){t.initialized&&t.save()}),Gb(t)&&(t._beforeUnload=function(){t.initialized&&!t.destroyed&&!t.isHidden()&&t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),N8(t,t.suffix)}},L8=function(t,e){return H_(t,e)},I8={"font-size":"size","font-family":"face"},H8=function(t,e,o){var a=function(f){return nu(f,t).orThunk(function(){return Do(f)==="font"?_r(I8,t).bind(function(p){return ct(f,p)}):K.none()})},c=function(f){return Mr(k.fromDom(e),f)};return V3(k.fromDom(o),function(f){return a(f)},c)},V8=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},U8=function(t,e){return K.from(pi.DOM.getStyle(e,t,!0))},O5=function(t){return function(e,o){return K.from(o).map(k.fromDom).filter(yi).bind(function(a){return H8(t,e,a.dom).or(U8(t,a.dom))}).getOr("")}},$8=O5("font-size"),XS=pn(V8,O5("font-family")),E5=function(t){return Xu(t.getBody()).map(function(e){var o=e.container();return je(o)?o.parentNode:o})},_5=function(t){return K.from(t.selection.getRng()).bind(function(e){var o=t.getBody(),a=e.startContainer===o&&e.startOffset===0;return a?K.none():K.from(t.selection.getStart(!0))})},j8=function(t,e){return _5(t).orThunk(Cn(E5,t)).map(k.fromDom).filter(yi).bind(e)},JS=function(t,e){return j8(t,J(K.some,e))},ZO=function(t,e){if(/^[0-9.]+$/.test(e)){var o=parseInt(e,10);if(o>=1&&o<=7){var a=u4(t),c=nh(t);return c?c[o-1]||e:a[o-1]||e}else return e}else return e},W8=function(t){var e=t.split(/\s*,\s*/);return jn(e,function(o){return o.indexOf(" ")!==-1&&!(P(o,'"')||P(o,"'"))?"'"+o+"'":o}).join(",")},q8=function(t,e){var o=ZO(t,e);t.formatter.toggle("fontname",{value:W8(o)}),t.nodeChanged()},G8=function(t){return JS(t,function(e){return XS(t.getBody(),e.dom)}).getOr("")},tE=function(t,e){t.formatter.toggle("fontsize",{value:ZO(t,e)}),t.nodeChanged()},K8=function(t){return JS(t,function(e){return $8(t.getBody(),e.dom)}).getOr("")},nE=function(t){return JS(t,function(e){var o=k.fromDom(t.getBody()),a=V3(e,function(f){return nu(f,"line-height")},Cn(Mr,o)),c=function(){var f=parseFloat(no(e,"line-height")),p=parseFloat(no(e,"font-size"));return String(f/p)};return a.getOrThunk(c)}).getOr("")},X8=function(t,e){t.formatter.toggle("lineheight",{value:String(e)}),t.nodeChanged()},J8=function(t){if(typeof t!="string"){var e=hn.extend({paste:t.paste,data:{paste:t.paste}},t);return{content:t.content,details:e}}return{content:t,details:{}}},Y8=function(t,e){var o=J8(e);I_(t,o.content,o.details)},K2=hn.each,Q8=hn.map,Z8=hn.inArray,D5=function(){function t(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return t.prototype.execCommand=function(e,o,a,c){var f,p=!1,b=this;if(!b.editor.removed){if(e.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)&&(!c||!c.skip_focus)?b.editor.focus():s3(b.editor)),c=b.editor.fire("BeforeExecCommand",{command:e,ui:o,value:a}),c.isDefaultPrevented())return!1;var w=e.toLowerCase();if(f=b.commands.exec[w])return f(w,o,a),b.editor.fire("ExecCommand",{command:e,ui:o,value:a}),!0;if(K2(this.editor.plugins,function(_){if(_.execCommand&&_.execCommand(e,o,a))return b.editor.fire("ExecCommand",{command:e,ui:o,value:a}),p=!0,!1}),p)return p;if(b.editor.theme&&b.editor.theme.execCommand&&b.editor.theme.execCommand(e,o,a))return b.editor.fire("ExecCommand",{command:e,ui:o,value:a}),!0;try{p=b.editor.getDoc().execCommand(e,o,a)}catch{}return p?(b.editor.fire("ExecCommand",{command:e,ui:o,value:a}),!0):!1}},t.prototype.queryCommandState=function(e){var o;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(e=e.toLowerCase(),o=this.commands.state[e])return o(e);try{return this.editor.getDoc().queryCommandState(e)}catch{}return!1}},t.prototype.queryCommandValue=function(e){var o;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(e=e.toLowerCase(),o=this.commands.value[e])return o(e);try{return this.editor.getDoc().queryCommandValue(e)}catch{}}},t.prototype.addCommands=function(e,o){o===void 0&&(o="exec");var a=this;K2(e,function(c,f){K2(f.toLowerCase().split(","),function(p){a.commands[o][p]=c})})},t.prototype.addCommand=function(e,o,a){var c=this;e=e.toLowerCase(),this.commands.exec[e]=function(f,p,b,w){return o.call(a||c.editor,p,b,w)}},t.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch{}return!1},t.prototype.addQueryStateHandler=function(e,o,a){var c=this;e=e.toLowerCase(),this.commands.state[e]=function(){return o.call(a||c.editor)}},t.prototype.addQueryValueHandler=function(e,o,a){var c=this;e=e.toLowerCase(),this.commands.value[e]=function(){return o.call(a||c.editor)}},t.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},t.prototype.execNativeCommand=function(e,o,a){return o===void 0&&(o=!1),a===void 0&&(a=null),this.editor.getDoc().execCommand(e,o,a)},t.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},t.prototype.toggleFormat=function(e,o){this.editor.formatter.toggle(e,o),this.editor.nodeChanged()},t.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(e){var o=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":en,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},mceFocus:function(c,f,p){fC(e,p)},"Cut,Copy,Paste":function(c){var f=e.getDoc(),p;try{o.execNativeCommand(c)}catch{p=!0}if(c==="paste"&&!f.queryCommandEnabled(c)&&(p=!0),p||!f.queryCommandSupported(c)){var b=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");mr.mac&&(b=b.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:b,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var c=e.dom.getParent(e.selection.getStart(),"a");c&&e.dom.remove(c,!0);return}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(c){var f=c.substring(7);f==="full"&&(f="justify"),K2("left,center,right,justify".split(","),function(p){f!==p&&e.formatter.remove("align"+p)}),f!=="none"&&o.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(c){var f;o.execNativeCommand(c);var p=e.dom.getParent(e.selection.getNode(),"ol,ul");p&&(f=p.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(o.storeSelection(),e.dom.split(f,p),o.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){o.toggleFormat(c)},"ForeColor,HiliteColor":function(c,f,p){o.toggleFormat(c,{value:p})},FontName:function(c,f,p){q8(e,p)},FontSize:function(c,f,p){tE(e,p)},LineHeight:function(c,f,p){X8(e,p)},Lang:function(c,f,p){o.toggleFormat(c,{value:p.code,customValue:p.customCode})},RemoveFormat:function(c){e.formatter.remove(c)},mceBlockQuote:function(){o.toggleFormat("blockquote")},FormatBlock:function(c,f,p){return o.toggleFormat(p||"p")},mceCleanup:function(){var c=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(c)},mceRemoveNode:function(c,f,p){var b=p||e.selection.getNode();b!==e.getBody()&&(o.storeSelection(),e.dom.remove(b,!0),o.restoreSelection())},mceSelectNodeDepth:function(c,f,p){var b=0;e.dom.getParent(e.selection.getNode(),function(w){if(w.nodeType===1&&b++===p)return e.selection.select(w),!1},e.getBody())},mceSelectNode:function(c,f,p){e.selection.select(p)},mceInsertContent:function(c,f,p){Y8(e,p)},mceInsertRawHTML:function(c,f,p){e.selection.setContent("tiny_mce_marker");var b=e.getContent();e.setContent(b.replace(/tiny_mce_marker/g,function(){return p}))},mceInsertNewLine:function(c,f,p){qM(e,p)},mceToggleFormat:function(c,f,p){o.toggleFormat(p)},mceSetContent:function(c,f,p){e.setContent(p)},"Indent,Outdent":function(c){LS(e,c)},mceRepaint:en,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(c,f,p){e.execCommand("mceInsertContent",!1,p.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(c,f,p){typeof p=="string"&&(p={href:p});var b=e.dom.getParent(e.selection.getNode(),"a");p.href=p.href.replace(/ /g,"%20"),(!b||!p.href)&&e.formatter.remove("link"),p.href&&e.formatter.apply("link",p,b)},selectAll:function(){var c=e.dom.getParent(e.selection.getStart(),Os);if(c){var f=e.dom.createRng();f.selectNodeContents(c),e.selection.setRng(f)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(c,f,p){return Pu(e,p),!0}});var a=function(c){return function(){var f=e.selection,p=f.isCollapsed()?[e.dom.getParent(f.getNode(),e.dom.isBlock)]:f.getSelectedBlocks(),b=Q8(p,function(w){return!!e.formatter.matchNode(w,c)});return Z8(b,!0)!==-1}};o.addCommands({JustifyLeft:a("alignleft"),JustifyCenter:a("aligncenter"),JustifyRight:a("alignright"),JustifyFull:a("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){return o.isFormatMatch(c)},mceBlockQuote:function(){return o.isFormatMatch("blockquote")},Outdent:function(){return vM(e)},"InsertUnorderedList,InsertOrderedList":function(c){var f=e.dom.getParent(e.selection.getNode(),"ul,ol");return f&&(c==="insertunorderedlist"&&f.tagName==="UL"||c==="insertorderedlist"&&f.tagName==="OL")}},"state"),o.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),o.addQueryValueHandler("FontName",function(){return G8(e)},this),o.addQueryValueHandler("FontSize",function(){return K8(e)},this),o.addQueryValueHandler("LineHeight",function(){return nE(e)},this)},t}(),dv="data-mce-contenteditable",t7=function(t,e,o){Fg(t,e)&&o===!1?Wv(t,e):o&&Pg(t,e)},dc=function(t,e,o){try{t.getDoc().execCommand(e,!1,String(o))}catch{}},qd=function(t,e){t.dom.contentEditable=e?"true":"false"},n7=function(t){nn(sc(t,'*[contenteditable="true"]'),function(e){E(e,dv,"true"),qd(e,!1)})},e7=function(t){nn(sc(t,"*["+dv+'="true"]'),function(e){On(e,dv),qd(e,!0)})},r7=function(t){K.from(t.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")})},o7=function(t){t.selection.setRng(t.selection.getRng())},i7=function(t,e){var o=k.fromDom(t.getBody());t7(o,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),r7(t),t.readonly=!0,qd(o,!1),n7(o)):(t.readonly=!1,qd(o,!0),e7(o),dc(t,"StyleWithCSS",!1),dc(t,"enableInlineTableEditing",!1),dc(t,"enableObjectResizing",!1),lC(t)&&t.focus(),o7(t),t.nodeChanged())},mv=function(t){return t.readonly},eE=function(t){t.parser.addAttributeFilter("contenteditable",function(e){mv(t)&&nn(e,function(o){o.attr(dv,o.attr("contenteditable")),o.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(dv,function(e){mv(t)&&nn(e,function(o){o.attr("contenteditable",o.attr(dv))})}),t.serializer.addTempAttr(dv)},z0=function(t){t.serializer?eE(t):t.on("PreInit",function(){eE(t)})},a7=function(t){return t.type==="click"},u7=function(t,e){var o=function(a){return Mr(a,k.fromDom(t.getBody()))};return Ki(e,"a",o).bind(function(a){return ct(a,"href")})},c7=function(t,e){if(a7(e)&&!Tr.metaKeyPressed(e)){var o=k.fromDom(e.target);u7(t,o).each(function(a){if(e.preventDefault(),/^#/.test(a)){var c=t.dom.select(a+',[name="'+Kt(a,"#")+'"]');c.length&&t.selection.scrollIntoView(c[0],!0)}else window.open(a,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},Gf=function(t){t.on("ShowCaret",function(e){mv(t)&&e.preventDefault()}),t.on("ObjectSelected",function(e){mv(t)&&e.preventDefault()})},s7=hn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),rE=function(){function t(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Lt}return t.isNative=function(e){return!!s7[e.toLowerCase()]},t.prototype.fire=function(e,o){var a=e.toLowerCase(),c=jp(a,o||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);var f=this.bindings[a];if(f)for(var p=0,b=f.length;p<b;p++){var w=f[p];if(!w.removed){if(w.once&&this.off(a,w.func),c.isImmediatePropagationStopped())return c;if(w.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c},t.prototype.on=function(e,o,a,c){if(o===!1&&(o=Lt),o){var f={func:o,removed:!1};c&&hn.extend(f,c);for(var p=e.toLowerCase().split(" "),b=p.length;b--;){var w=p[b],_=this.bindings[w];_||(_=[],this.toggleEvent(w,!0)),a?_=Ei([f],_,!0):_=Ei(Ei([],_,!0),[f],!1),this.bindings[w]=_}}return this},t.prototype.off=function(e,o){var a=this;if(e)for(var c=e.toLowerCase().split(" "),f=c.length;f--;){var p=c[f],b=this.bindings[p];if(!p)return te(this.bindings,function(_,F){a.toggleEvent(F,!1),delete a.bindings[F]}),this;if(b){if(!o)b.length=0;else{var w=Ye(b,function(_){return _.func===o});b=w.fail,this.bindings[p]=b,nn(w.pass,function(_){_.removed=!0})}b.length||(this.toggleEvent(e,!1),delete this.bindings[p])}}else te(this.bindings,function(_,F){a.toggleEvent(F,!1)}),this.bindings={};return this},t.prototype.once=function(e,o,a){return this.on(e,o,a,{once:!0})},t.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||this.bindings[e].length===0)},t}(),N0=function(t){return t._eventDispatcher||(t._eventDispatcher=new rE({scope:t,toggleEvent:function(e,o){rE.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,o)}})),t._eventDispatcher},YS={fire:function(t,e,o){var a=this;if(a.removed&&t!=="remove"&&t!=="detach")return e;var c=N0(a).fire(t,e);if(o!==!1&&a.parent)for(var f=a.parent();f&&!c.isPropagationStopped();)f.fire(t,c,!1),f=f.parent();return c},on:function(t,e,o){return N0(this).on(t,e,o)},off:function(t,e){return N0(this).off(t,e)},once:function(t,e){return N0(this).once(t,e)},hasEventListeners:function(t){return N0(this).has(t)}},X2=pi.DOM,Ep,P0=function(t,e){if(e==="selectionchange")return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e))return t.getDoc().documentElement;var o=jb(t);return o?(t.eventRoot||(t.eventRoot=X2.select(o)[0]),t.eventRoot):t.getBody()},l7=function(t){return!t.hidden&&!mv(t)},M5=function(t,e,o){l7(t)?t.fire(e,o):mv(t)&&c7(t,o)},R5=function(t,e){var o;if(t.delegates||(t.delegates={}),!(t.delegates[e]||t.removed)){var a=P0(t,e);if(jb(t)){if(Ep||(Ep={},t.editorManager.on("removeEditor",function(){t.editorManager.activeEditor||Ep&&(te(Ep,function(c,f){t.dom.unbind(P0(t,f))}),Ep=null)})),Ep[e])return;o=function(c){for(var f=c.target,p=t.editorManager.get(),b=p.length;b--;){var w=p[b].getBody();(w===f||X2.isChildOf(f,w))&&M5(p[b],e,c)}},Ep[e]=o,X2.bind(a,e,o)}else o=function(c){M5(t,e,c)},X2.bind(a,e,o),t.delegates[e]=o}},A5=Ze(Ze({},YS),{bindPendingEventDelegates:function(){var t=this;hn.each(t._pendingNativeEvents,function(e){R5(t,e)})},toggleNativeEvent:function(t,e){var o=this;t==="focus"||t==="blur"||o.removed||(e?o.initialized?R5(o,t):o._pendingNativeEvents?o._pendingNativeEvents.push(t):o._pendingNativeEvents=[t]:o.initialized&&(o.dom.unbind(P0(o,t),t,o.delegates[t]),delete o.delegates[t]))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),o=t.dom;t.delegates&&(te(t.delegates,function(a,c){t.dom.unbind(P0(t,c),c,a)}),delete t.delegates),!t.inline&&e&&o&&(e.onload=null,o.unbind(t.getWin()),o.unbind(t.getDoc())),o&&(o.unbind(e),o.unbind(t.getContainer()))}}),f7=["design","readonly"],oE=function(t,e,o,a){var c=o[e.get()],f=o[a];try{f.activate()}catch(p){console.error("problem while activating editor mode "+a+":",p);return}c.deactivate(),c.editorReadOnly!==f.editorReadOnly&&i7(t,f.editorReadOnly),e.set(a),Pw(t,a)},B5=function(t,e,o,a){if(a!==o.get()){if(!Rr(e,a))throw new Error("Editor mode '"+a+"' is invalid");t.initialized?oE(t,o,e,a):t.on("init",function(){return oE(t,o,e,a)})}},d7=function(t,e,o){var a;if(Dt(f7,e))throw new Error("Cannot override default mode "+e);return Ze(Ze({},t),(a={},a[e]=Ze(Ze({},o),{deactivate:function(){try{o.deactivate()}catch(c){console.error("problem while deactivating editor mode "+e+":",c)}}}),a))},z5=function(t){var e=qu("design"),o=qu({design:{activate:en,deactivate:en,editorReadOnly:!1},readonly:{activate:en,deactivate:en,editorReadOnly:!0}});return z0(t),Gf(t),{isReadOnly:function(){return mv(t)},set:function(a){return B5(t,o.get(),e,a)},get:function(){return e.get()},register:function(a,c){o.set(d7(o.get(),a,c))}}},iE=hn.each,aE=hn.explode,m7={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},N5=hn.makeMap("alt,ctrl,shift,meta,access"),P5=function(t){var e,o={};iE(aE(t.toLowerCase(),"+"),function(c){c in N5?o[c]=!0:/^[0-9]{2,}$/.test(c)?o.keyCode=parseInt(c,10):(o.charCode=c.charCodeAt(0),o.keyCode=m7[c]||c.toUpperCase().charCodeAt(0))});var a=[o.keyCode];for(e in N5)o[e]?a.push(e):o[e]=!1;return o.id=a.join(","),o.access&&(o.alt=!0,mr.mac?o.ctrl=!0:o.shift=!0),o.meta&&(mr.mac?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o},QS=function(){function t(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var o=this;e.on("keyup keypress keydown",function(a){(o.hasModifier(a)||o.isFunctionKey(a))&&!a.isDefaultPrevented()&&(iE(o.shortcuts,function(c){if(o.matchShortcut(a,c))return o.pendingPatterns=c.subpatterns.slice(0),a.type==="keydown"&&o.executeShortcutAction(c),!0}),o.matchShortcut(a,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&a.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}return t.prototype.add=function(e,o,a,c){var f=this,p=f.normalizeCommandFunc(a);return iE(aE(hn.trim(e)),function(b){var w=f.createShortcut(b,o,p,c);f.shortcuts[w.id]=w}),!0},t.prototype.remove=function(e){var o=this.createShortcut(e);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1},t.prototype.normalizeCommandFunc=function(e){var o=this,a=e;return typeof a=="string"?function(){o.editor.execCommand(a,!1,null)}:hn.isArray(a)?function(){o.editor.execCommand(a[0],a[1],a[2])}:a},t.prototype.createShortcut=function(e,o,a,c){var f=hn.map(aE(e,">"),P5);return f[f.length-1]=hn.extend(f[f.length-1],{func:a,scope:c||this.editor}),hn.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})},t.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},t.prototype.isFunctionKey=function(e){return e.type==="keydown"&&e.keyCode>=112&&e.keyCode<=123},t.prototype.matchShortcut=function(e,o){return!o||o.ctrl!==e.ctrlKey||o.meta!==e.metaKey||o.alt!==e.altKey||o.shift!==e.shiftKey?!1:e.keyCode===o.keyCode||e.charCode&&e.charCode===o.charCode?(e.preventDefault(),!0):!1},t.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},t}(),F5=function(){var t={},e={},o={},a={},c={},f={},p={},b=function(_,F){return function(I,V){return _[I.toLowerCase()]=Ze(Ze({},V),{type:F})}},w=function(_,F){return a[_.toLowerCase()]=F};return{addButton:b(t,"button"),addGroupToolbarButton:b(t,"grouptoolbarbutton"),addToggleButton:b(t,"togglebutton"),addMenuButton:b(t,"menubutton"),addSplitButton:b(t,"splitbutton"),addMenuItem:b(e,"menuitem"),addNestedMenuItem:b(e,"nestedmenuitem"),addToggleMenuItem:b(e,"togglemenuitem"),addAutocompleter:b(o,"autocompleter"),addContextMenu:b(c,"contextmenu"),addContextToolbar:b(f,"contexttoolbar"),addContextForm:b(f,"contextform"),addSidebar:b(p,"sidebar"),addIcon:w,getAll:function(){return{buttons:t,menuItems:e,icons:a,popups:o,contextMenus:c,contextToolbars:f,sidebars:p}}}},g7=function(){var t=F5();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},gv=pi.DOM,ZS=hn.extend,L5=hn.each,I5=hn.resolve,p7=mr.ie,tk=function(){function t(e,o,a){var c=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=a,this.documentBaseUrl=a.documentBaseURL,ZS(this,A5),this.settings=UB(this,e,this.documentBaseUrl,a.defaultSettings,o),this.settings.suffix&&(a.suffix=this.settings.suffix),this.suffix=a.suffix,this.settings.base_url&&a._setBaseUrl(this.settings.base_url),this.baseUri=a.baseURI,this.settings.referrer_policy&&(Hl.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),pi.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Zo.languageLoad=this.settings.language_load,Zo.baseURL=a.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new Lf(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new QS(this),this.editorCommands=new D5(this),this.settings.cache_suffix&&(mr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:g7(),styleSheetLoader:void 0,show:en,hide:en,enable:en,disable:en,isDisabled:Lt};var f=this,p=z5(f);this.mode=p,this.setMode=p.set,a.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Qr.overrideDefaults(function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()}})}return t.prototype.render=function(){F8(this)},t.prototype.focus=function(e){this.execCommand("mceFocus",!1,e)},t.prototype.hasFocus=function(){return Nd(this)},t.prototype.execCallback=function(e){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];var c=this,f=c.settings[e],p;if(f)return c.callbackLookup&&(p=c.callbackLookup[e])&&(f=p.func,p=p.scope),typeof f=="string"&&(p=f.replace(/\.\w+$/,""),p=p?I5(p):0,f=I5(f),c.callbackLookup=c.callbackLookup||{},c.callbackLookup[e]={func:f,scope:p}),f.apply(p||c,o)},t.prototype.translate=function(e){return oo.translate(e)},t.prototype.getParam=function(e,o,a){return $B(this,e,o,a)},t.prototype.hasPlugin=function(e,o){var a=Dt(Kb(this).split(/[ ,]/),e);return a?o?ys.get(e)!==void 0:!0:!1},t.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},t.prototype.addCommand=function(e,o,a){this.editorCommands.addCommand(e,o,a)},t.prototype.addQueryStateHandler=function(e,o,a){this.editorCommands.addQueryStateHandler(e,o,a)},t.prototype.addQueryValueHandler=function(e,o,a){this.editorCommands.addQueryValueHandler(e,o,a)},t.prototype.addShortcut=function(e,o,a,c){this.shortcuts.add(e,o,a,c)},t.prototype.execCommand=function(e,o,a,c){return this.editorCommands.execCommand(e,o,a,c)},t.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},t.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},t.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},t.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(gv.show(e.getContainer()),gv.hide(e.id)),e.load(),e.fire("show"))},t.prototype.hide=function(){var e=this,o=e.getDoc();e.hidden||(p7&&o&&!e.inline&&o.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(gv.hide(e.getContainer()),gv.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(e,o){this.fire("ProgressState",{state:e,time:o})},t.prototype.load=function(e){var o=this,a=o.getElement(),c;if(o.removed)return"";if(a){e=e||{},e.load=!0;var f=tu(a)?a.value:a.innerHTML;return c=o.setContent(f,e),e.element=a,e.no_events||o.fire("LoadContent",e),e.element=a=null,c}},t.prototype.save=function(e){var o=this,a=o.getElement(),c,f;if(!(!a||!o.initialized||o.removed))return e=e||{},e.save=!0,e.element=a,c=e.content=o.getContent(e),e.no_events||o.fire("SaveContent",e),e.format==="raw"&&o.fire("RawSaveContent",e),c=e.content,tu(a)?a.value=c:((e.is_removing||!o.inline)&&(a.innerHTML=c),(f=gv.getParent(o.id,"form"))&&L5(f.elements,function(p){if(p.name===o.id)return p.value=c,!1})),e.element=a=null,e.set_dirty!==!1&&o.setDirty(!1),c},t.prototype.setContent=function(e,o){return FT(this,e,o)},t.prototype.getContent=function(e){return wB(this,e)},t.prototype.insertContent=function(e,o){o&&(e=ZS({content:e},o)),this.execCommand("mceInsertContent",!1,e)},t.prototype.resetContent=function(e){e===void 0?FT(this,this.startContent,{format:"raw"}):FT(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(e){var o=!this.isNotDirty;this.isNotDirty=!e,e&&e!==o&&this.fire("dirty")},t.prototype.getContainer=function(){var e=this;return e.container||(e.container=gv.get(e.editorContainer||e.id+"_parent")),e.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=gv.get(this.id)),this.targetElm},t.prototype.getWin=function(){var e=this,o;return e.contentWindow||(o=e.iframeElement,o&&(e.contentWindow=o.contentWindow)),e.contentWindow},t.prototype.getDoc=function(){var e=this,o;return e.contentDocument||(o=e.getWin(),o&&(e.contentDocument=o.document)),e.contentDocument},t.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},t.prototype.convertURL=function(e,o,a){var c=this,f=c.settings;return f.urlconverter_callback?c.execCallback("urlconverter_callback",e,a,!0,o):!f.convert_urls||a&&a.nodeName==="LINK"||e.indexOf("file:")===0||e.length===0?e:f.relative_urls?c.documentBaseURI.toRelative(e):(e=c.documentBaseURI.toAbsolute(e,f.remove_script_host),e)},t.prototype.addVisual=function(e){L8(this,e)},t.prototype.remove=function(){TB(this)},t.prototype.destroy=function(e){k2(this,e)},t.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),rf=pi.DOM,h7=hn.explode,Gd=hn.each,v7=hn.extend,b7=0,H5=!1,ku,Kd=[],Sa=[],V5=function(t){return t!=="length"},uE=function(t){var e=t.type;Gd(ig.get(),function(o){switch(e){case"scroll":o.fire("ScrollWindow",t);break;case"resize":o.fire("ResizeWindow",t);break}})},U5=function(t){t!==H5&&(t?Qr(window).on("resize scroll",uE):Qr(window).off("resize scroll",uE),H5=t)},nk=function(t){var e=Sa;delete Kd[t.id];for(var o=0;o<Kd.length;o++)if(Kd[o]===t){Kd.splice(o,1);break}return Sa=pt(Sa,function(a){return t!==a}),ig.activeEditor===t&&(ig.activeEditor=Sa.length>0?Sa[0]:null),ig.focusedEditor===t&&(ig.focusedEditor=null),e.length!==Sa.length},cE=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(nk(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t},$5=document.compatMode!=="CSS1Compat",ig=Ze(Ze({},YS),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Qr,majorVersion:"5",minorVersion:"10.3",releaseDate:"2022-02-09",editors:Kd,i18n:oo,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t=this,e,o,a="";o=Lf.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/"));var c=window.tinymce||window.tinyMCEPreInit;if(c)e=c.base||c.baseURL,a=c.suffix;else{for(var f=document.getElementsByTagName("script"),p=0;p<f.length;p++){var b=f[p].src||"";if(b!==""){var w=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){w.indexOf(".min")!==-1&&(a=".min"),e=b.substring(0,b.lastIndexOf("/"));break}}}if(!e&&document.currentScript){var b=document.currentScript.src;b.indexOf(".min")!==-1&&(a=".min"),e=b.substring(0,b.lastIndexOf("/"))}}t.baseURL=new Lf(o).toAbsolute(e),t.documentBaseURL=o,t.baseURI=new Lf(t.baseURL),t.suffix=a,uC(t)},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e);var o=t.suffix;t.suffix&&(this.suffix=o),this.defaultSettings=t;var a=t.plugin_base_urls;a!==void 0&&te(a,function(c,f){Zo.PluginManager.urls[f]=c})},init:function(t){var e=this,o,a=hn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=function(I,V){return I.inline&&V.tagName.toLowerCase()in a},f=function(I){var V=I.id;return V||(V=_r(I,"name").filter(function(Z){return!rf.get(Z)}).getOrThunk(rf.uniqueId),I.setAttribute("id",V)),V},p=function(I){var V=t[I];if(V)return V.apply(e,[])},b=function(I,V){return V.constructor===RegExp?V.test(I.className):rf.hasClass(I,V)},w=function(I){var V=[];if(mr.browser.isIE()&&mr.browser.version.major<11)return mS("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if($5)return mS("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(I.types)return Gd(I.types,function(Q){V=V.concat(rf.select(Q.selector))}),V;if(I.selector)return rf.select(I.selector);if(I.target)return[I.target];switch(I.mode){case"exact":var Z=I.elements||"";Z.length>0&&Gd(h7(Z),function(Q){var et=rf.get(Q);et?V.push(et):Gd(document.forms,function(it){Gd(it.elements,function(gt){gt.name===Q&&(Q="mce_editor_"+b7++,rf.setAttrib(gt,"id",Q),V.push(gt))})})});break;case"textareas":case"specific_textareas":Gd(rf.select("textarea"),function(Q){I.editor_deselector&&b(Q,I.editor_deselector)||(!I.editor_selector||b(Q,I.editor_selector))&&V.push(Q)});break}return V},_=function(I){o=I},F=function(){var I=0,V=[],Z,Q=function(et,it,gt){var mt=new tk(et,it,e);V.push(mt),mt.on("init",function(){++I===Z.length&&_(V)}),mt.targetElm=mt.targetElm||gt,mt.render()};if(rf.unbind(window,"ready",F),p("onpageload"),Z=Qr.unique(w(t)),t.types){Gd(t.types,function(et){hn.each(Z,function(it){return rf.is(it,et.selector)?(Q(f(it),v7({},t,et),it),!1):!0})});return}hn.each(Z,function(et){cE(e.get(et.id))}),Z=hn.grep(Z,function(et){return!e.get(et.id)}),Z.length===0?_([]):Gd(Z,function(et){c(t,et)?mS("Could not initialize inline editor on invalid inline target element",et):Q(f(et),t,et)})};return e.settings=t,rf.bind(window,"ready",F),new Ia(function(I){o?I(o):_=function(V){I(V)}})},get:function(t){return arguments.length===0?Sa.slice(0):Sn(t)?Ue(Sa,function(e){return e.id===t}).getOr(null):xn(t)&&Sa[t]?Sa[t]:null},add:function(t){var e=this,o=Kd[t.id];return o===t||(e.get(t.id)===null&&(V5(t.id)&&(Kd[t.id]=t),Kd.push(t),Sa.push(t)),U5(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),ku||(ku=function(a){var c=e.fire("BeforeUnload");if(c.returnValue)return a.preventDefault(),a.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",ku))),t},createEditor:function(t,e){return this.add(new tk(t,e,this))},remove:function(t){var e=this,o,a;if(!t){for(o=Sa.length-1;o>=0;o--)e.remove(Sa[o]);return}if(Sn(t)){Gd(rf.select(t),function(c){a=e.get(c.id),a&&e.remove(a)});return}return a=t,X(e.get(a.id))?null:(nk(a)&&e.fire("RemoveEditor",{editor:a}),Sa.length===0&&window.removeEventListener("beforeunload",ku),a.remove(),U5(Sa.length>0),a)},execCommand:function(t,e,o){var a=this,c=a.get(o);switch(t){case"mceAddEditor":return a.get(o)||new tk(o,a.settings,a).render(),!0;case"mceRemoveEditor":return c&&c.remove(),!0;case"mceToggleEditor":return c?(c.isHidden()?c.show():c.hide(),!0):(a.execCommand("mceAddEditor",!1,o),!0)}return a.activeEditor?a.activeEditor.execCommand(t,e,o):!1},triggerSave:function(){Gd(Sa,function(t){t.save()})},addI18n:function(t,e){oo.add(t,e)},translate:function(t){return oo.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new Lf(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Lf(this.baseURL)}});ig.setup();var j5=Math.min,F0=Math.max,ek=Math.round,W5=function(t,e,o){var a=e.x,c=e.y,f=t.w,p=t.h,b=e.w,w=e.h,_=(o||"").split("");return _[0]==="b"&&(c+=w),_[1]==="r"&&(a+=b),_[0]==="c"&&(c+=ek(w/2)),_[1]==="c"&&(a+=ek(b/2)),_[3]==="b"&&(c-=p),_[4]==="r"&&(a-=f),_[3]==="c"&&(c-=ek(p/2)),_[4]==="c"&&(a-=ek(f/2)),L0(a,c,f,p)},y7=function(t,e,o,a){var c,f;for(f=0;f<a.length;f++)if(c=W5(t,e,a[f]),c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return a[f];return null},q5=function(t,e,o){return L0(t.x-e,t.y-o,t.w+e*2,t.h+o*2)},x7=function(t,e){var o=F0(t.x,e.x),a=F0(t.y,e.y),c=j5(t.x+t.w,e.x+e.w),f=j5(t.y+t.h,e.y+e.h);return c-o<0||f-a<0?null:L0(o,a,c-o,f-a)},w7=function(t,e,o){var a=t.x,c=t.y,f=t.x+t.w,p=t.y+t.h,b=e.x+e.w,w=e.y+e.h,_=F0(0,e.x-a),F=F0(0,e.y-c),I=F0(0,f-b),V=F0(0,p-w);return a+=_,c+=F,o&&(f+=_,p+=F,a-=I,c-=V),f-=I,p-=V,L0(a,c,f-a,p-c)},L0=function(t,e,o,a){return{x:t,y:e,w:o,h:a}},C7=function(t){return L0(t.left,t.top,t.width,t.height)},S7={inflate:q5,relativePosition:W5,findBestRelativePosition:y7,intersect:x7,clamp:w7,create:L0,fromClientRect:C7},k7=function(t,e,o){o===void 0&&(o=1e3);var a=!1,c=null,f=function(_){return function(){for(var F=[],I=0;I<arguments.length;I++)F[I]=arguments[I];a||(a=!0,c!==null&&(clearTimeout(c),c=null),_.apply(null,F))}},p=f(t),b=f(e),w=function(){for(var _=[],F=0;F<arguments.length;F++)_[F]=arguments[F];!a&&c===null&&(c=setTimeout(function(){return b.apply(null,_)},o))};return{start:w,resolve:p,reject:b}},G5=function(){var t={},e={},o=function(c,f){var p='Script at URL "'+f+'" failed to load',b='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+c+"', data)` within 1 second";if(t[c]!==void 0)return t[c];var w=new Ia(function(_,F){var I=k7(_,F);e[c]=I.resolve,Hl.ScriptLoader.loadScript(f,function(){return I.start(b)},function(){return I.reject(p)})});return t[c]=w,w},a=function(c,f){e[c]!==void 0&&(e[c](f),delete e[c]),t[c]=Ia.resolve(f)};return{load:o,add:a}},T7=G5(),rk=hn.each,O7=hn.extend,ok,pv,ag=function(){};ag.extend=ok=function(t){var e=this,o=e.prototype,a=function(){var b,w,_,F=this;if(!pv&&(F.init&&F.init.apply(F,arguments),w=F.Mixins,w))for(b=w.length;b--;)_=w[b],_.init&&_.init.apply(F,arguments)},c=function(){return this},f=function(b,w){return function(){var _=this,F=_._super;_._super=o[b];var I=w.apply(_,arguments);return _._super=F,I}};pv=!0;var p=new e;return pv=!1,t.Mixins&&(rk(t.Mixins,function(b){for(var w in b)w!=="init"&&(t[w]=b[w])}),o.Mixins&&(t.Mixins=o.Mixins.concat(t.Mixins))),t.Methods&&rk(t.Methods.split(","),function(b){t[b]=c}),t.Properties&&rk(t.Properties.split(","),function(b){var w="_"+b;t[b]=function(_){var F=this;return _!==void 0?(F[w]=_,F):F[w]}}),t.Statics&&rk(t.Statics,function(b,w){a[w]=b}),t.Defaults&&o.Defaults&&(t.Defaults=O7({},o.Defaults,t.Defaults)),te(t,function(b,w){typeof b=="function"&&o[w]?p[w]=f(w,b):p[w]=b}),a.prototype=p,a.constructor=a,a.extend=ok,a};var ug=Math.min,I0=Math.max,cg=Math.round,K5=function(t){var e={},o=0,a=0,c=0,f=function(I,V,Z){var Q,et,it;Q=0,et=0,it=0,I=I/255,V=V/255,Z=Z/255;var gt=ug(I,ug(V,Z)),mt=I0(I,I0(V,Z));if(gt===mt)return it=gt,{h:0,s:0,v:it*100};var wt=I===gt?V-Z:Z===gt?I-V:Z-I;return Q=I===gt?3:Z===gt?1:5,Q=60*(Q-wt/(mt-gt)),et=(mt-gt)/mt,it=mt,{h:cg(Q),s:cg(et*100),v:cg(it*100)}},p=function(I,V,Z){if(I=(parseInt(I,10)||0)%360,V=parseInt(V,10)/100,Z=parseInt(Z,10)/100,V=I0(0,ug(V,1)),Z=I0(0,ug(Z,1)),V===0){o=a=c=cg(255*Z);return}var Q=I/60,et=Z*V,it=et*(1-Math.abs(Q%2-1)),gt=Z-et;switch(Math.floor(Q)){case 0:o=et,a=it,c=0;break;case 1:o=it,a=et,c=0;break;case 2:o=0,a=et,c=it;break;case 3:o=0,a=it,c=et;break;case 4:o=it,a=0,c=et;break;case 5:o=et,a=0,c=it;break;default:o=a=c=0}o=cg(255*(o+gt)),a=cg(255*(a+gt)),c=cg(255*(c+gt))},b=function(){var I=function(V){return V=parseInt(V,10).toString(16),V.length>1?V:"0"+V};return"#"+I(o)+I(a)+I(c)},w=function(){return{r:o,g:a,b:c}},_=function(){return f(o,a,c)},F=function(I){var V;return typeof I=="object"?"r"in I?(o=I.r,a=I.g,c=I.b):"v"in I&&p(I.h,I.s,I.v):(V=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(I))?(o=parseInt(V[1],10),a=parseInt(V[2],10),c=parseInt(V[3],10)):(V=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(I))?(o=parseInt(V[1],16),a=parseInt(V[2],16),c=parseInt(V[3],16)):(V=/#([0-F])([0-F])([0-F])/gi.exec(I))&&(o=parseInt(V[1]+V[1],16),a=parseInt(V[2]+V[2],16),c=parseInt(V[3]+V[3],16)),o=o<0?0:o>255?255:o,a=a<0?0:a>255?255:a,c=c<0?0:c>255?255:c,e};return t&&F(t),e.toRgb=w,e.toHsv=_,e.toHex=b,e.parse=F,e},X5=function(t){var e=JSON.stringify(t);return Sn(e)?e.replace(/[\u0080-\uFFFF]/g,function(o){var a=o.charCodeAt(0).toString(16);return"\\u"+"0000".substring(a.length)+a}):e},sE={serialize:X5,parse:function(t){try{return JSON.parse(t)}catch{}}},J5={callbacks:{},count:0,send:function(t){var e=this,o=pi.DOM,a=t.count!==void 0?t.count:e.count,c="tinymce_jsonp_"+a;e.callbacks[a]=function(f){o.remove(c),delete e.callbacks[a],t.callback(f)},o.add(o.doc.body,"script",{id:c,src:t.url,type:"text/javascript"}),e.count++}},J2=Ze(Ze({},YS),{send:function(t){var e,o=0,a=function(){!t.async||e.readyState===4||o++>1e4?(t.success&&o<1e4&&e.status===200?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,o>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):bu.setTimeout(a,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=t.async!==!1,t.data=t.data||"",J2.fire("beforeInitialize",{settings:t}),e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&hn.each(t.requestheaders,function(c){e.setRequestHeader(c.key,c.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e=J2.fire("beforeSend",{xhr:e,settings:t}).xhr,e.send(t.data),!t.async)return a();bu.setTimeout(a,10)}}),Y5=hn.extend,E7=function(){function t(e){this.settings=Y5({},e),this.count=0}return t.sendRPC=function(e){return new t().send(e)},t.prototype.send=function(e){var o=e.error,a=e.success,c=Y5(this.settings,e);c.success=function(f,p){f=sE.parse(f),typeof f>"u"&&(f={error:"JSON Parse error."}),f.error?o.call(c.error_scope||c.scope,f.error,p):a.call(c.success_scope||c.scope,f.result)},c.error=function(f,p){o&&o.call(c.error_scope||c.scope,f,p)},c.data=sE.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),c.content_type="application/json",J2.send(c)},t}(),_7=function(){return function(){var t={},e=[],o={getItem:function(a){var c=t[a];return c||null},setItem:function(a,c){e.push(a),t[a]=String(c)},key:function(a){return e[a]},removeItem:function(a){e=e.filter(function(c){return c===a}),delete t[a]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(o,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),o}()},Y2;try{var lE="__storage_test__";Y2=window.localStorage,Y2.setItem(lE,lE),Y2.removeItem(lE)}catch{Y2=_7()}var D7=Y2,Q5={geom:{Rect:S7},util:{Promise:Ia,Delay:bu,Tools:hn,VK:Tr,URI:Lf,Class:ag,EventDispatcher:rE,Observable:YS,I18n:oo,XHR:J2,JSON:sE,JSONRequest:E7,JSONP:J5,LocalStorage:D7,Color:K5,ImageUploader:OD},dom:{EventUtils:id,Sizzle:ri,DomQuery:Qr,TreeWalker:Io,TextSeeker:Kv,DOMUtils:pi,ScriptLoader:Hl,RangeUtils:rp,Serializer:aD,StyleSheetLoader:cx,ControlSelection:Iw,BookmarkManager:Gl,Selection:MT,Event:id.Event},html:{Styles:Tf,Entities:Jc,Node:hs,Schema:uo,SaxParser:Q1,DomParser:PT,Writer:Ah,Serializer:Gm},Env:mr,AddOnManager:Zo,Annotator:vl,Formatter:RD,UndoManager:ia,EditorCommands:D5,WindowManager:x0,NotificationManager:bs,EditorObservable:A5,Shortcuts:QS,Editor:tk,FocusManager:$1,EditorManager:ig,DOM:pi.DOM,ScriptLoader:Hl.ScriptLoader,PluginManager:ys,ThemeManager:qs,IconManager:sS,Resource:T7,trim:hn.trim,isArray:hn.isArray,is:hn.is,toArray:hn.toArray,makeMap:hn.makeMap,each:hn.each,map:hn.map,grep:hn.grep,inArray:hn.inArray,extend:hn.extend,create:hn.create,walk:hn.walk,createNS:hn.createNS,resolve:hn.resolve,explode:hn.explode,_addCacheSuffix:hn._addCacheSuffix,isOpera:mr.opera,isWebKit:mr.webkit,isIE:mr.ie,isGecko:mr.gecko,isMac:mr.mac},fE=hn.extend(ig,Q5),M7=function(t){try{vr.exports=t}catch{}},R7=function(t){window.tinymce=t,window.tinyMCE=t};R7(fE),M7(fE)})()})(xL);var U$=xL.exports;const xR=V$(U$);(function(){var vr=function(n){var r=typeof n;return n===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="String")?"string":r},Ge=function(n){return function(r){return vr(r)===n}},Ae=function(n){return function(r){return typeof r===n}},cr=function(n){return function(r){return n===r}},Ce=Ge("string"),De=Ge("object"),Be=Ge("array"),Ne=cr(null),ce=Ae("boolean"),Or=cr(void 0),Wn=function(n){return n==null},Bt=function(n){return!Wn(n)},_n=Ae("function"),on=Ae("number"),It=function(n,r){if(Be(n)){for(var i=0,s=n.length;i<s;++i)if(!r(n[i]))return!1;return!0}return!1},At=function(){},Sn=function(n){return function(){return n()}},Xt=function(n,r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n(r.apply(null,i))}},fe=function(n,r){return function(i){return n(r(i))}},X=function(n){return function(){return n}},Yt=function(n){return n},un=function(n,r){return n===r};function tr(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var g=r.concat(s);return n.apply(null,g)}}var Me=function(n){return function(r){return!n(r)}},Ft=function(n){return function(){throw new Error(n)}},xn=X(!1),en=X(!0),pn=tinymce.util.Tools.resolve("tinymce.ThemeManager"),J=function(){return J=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},J.apply(this,arguments)};function H(n,r){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(n);d<s.length;d++)r.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(n,s[d])&&(i[s[d]]=n[s[d]]);return i}function fn(n,r,i){if(i||arguments.length===2)for(var s=0,d=r.length,g;s<d;s++)(g||!(s in r))&&(g||(g=Array.prototype.slice.call(r,0,s)),g[s]=r[s]);return n.concat(g||Array.prototype.slice.call(r))}var Ke=function(){return Cn},Cn=function(){var n=function(s){return s()},r=Yt,i={fold:function(s,d){return s()},isSome:xn,isNone:en,getOr:r,getOrThunk:n,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:X(null),getOrUndefined:X(void 0),or:r,orThunk:n,map:Ke,each:At,bind:Ke,exists:xn,forall:en,filter:function(){return Ke()},toArray:function(){return[]},toString:X("none()")};return i}(),br=function(n){var r=X(n),i=function(){return d},s=function(g){return g(n)},d={fold:function(g,v){return v(n)},isSome:en,isNone:xn,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:i,orThunk:i,map:function(g){return br(g(n))},each:function(g){g(n)},bind:s,exists:s,forall:s,filter:function(g){return g(n)?d:Cn},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return d},ar=function(n){return n==null?Cn:br(n)},D={some:br,none:Ke,from:ar},Dn=Array.prototype.slice,Lt=Array.prototype.indexOf,An=Array.prototype.push,$t=function(n,r){return Lt.call(n,r)},oe=function(n,r){var i=$t(n,r);return i===-1?D.none():D.some(i)},Pn=function(n,r){return $t(n,r)>-1},ie=function(n,r){for(var i=0,s=n.length;i<s;i++){var d=n[i];if(r(d,i))return!0}return!1},K=function(n,r){for(var i=[],s=0;s<n;s++)i.push(r(s));return i},xr=function(n,r){for(var i=[],s=0;s<n.length;s+=r){var d=Dn.call(n,s,s+r);i.push(d)}return i},Zt=function(n,r){for(var i=n.length,s=new Array(i),d=0;d<i;d++){var g=n[d];s[d]=r(g,d)}return s},Pt=function(n,r){for(var i=0,s=n.length;i<s;i++){var d=n[i];r(d,i)}},ye=function(n,r){for(var i=n.length-1;i>=0;i--){var s=n[i];r(s,i)}},Ot=function(n,r){for(var i=[],s=[],d=0,g=n.length;d<g;d++){var v=n[d],C=r(v,d)?i:s;C.push(v)}return{pass:i,fail:s}},Dt=function(n,r){for(var i=[],s=0,d=n.length;s<d;s++){var g=n[s];r(g,s)&&i.push(g)}return i},Qt=function(n,r,i){return ye(n,function(s,d){i=r(i,s,d)}),i},jn=function(n,r,i){return Pt(n,function(s,d){i=r(i,s,d)}),i},nn=function(n,r,i){for(var s=0,d=n.length;s<d;s++){var g=n[s];if(r(g,s))return D.some(g);if(i(g,s))break}return D.none()},kn=function(n,r){return nn(n,r,xn)},Ye=function(n,r){for(var i=0,s=n.length;i<s;i++){var d=n[i];if(r(d,i))return D.some(i)}return D.none()},pt=function(n){for(var r=[],i=0,s=n.length;i<s;++i){if(!Be(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);An.apply(r,n[i])}return r},sn=function(n,r){return pt(Zt(n,r))},le=function(n,r){for(var i=0,s=n.length;i<s;++i){var d=n[i];if(r(d,i)!==!0)return!1}return!0},zn=function(n){var r=Dn.call(n,0);return r.reverse(),r},Ue=function(n,r){return Dt(n,function(i){return!Pn(r,i)})},er=function(n,r){for(var i={},s=0,d=n.length;s<d;s++){var g=n[s];i[String(g)]=r(g,s)}return i},qr=function(n){return[n]},ao=function(n,r){var i=Dn.call(n,0);return i.sort(r),i},ko=function(n,r){return r>=0&&r<n.length?D.some(n[r]):D.none()},Xn=function(n){return ko(n,0)},Jn=function(n){return ko(n,n.length-1)},En=_n(Array.from)?Array.from:function(n){return Dn.call(n)},zt=function(n,r){for(var i=0;i<n.length;i++){var s=r(n[i],i);if(s.isSome())return s}return D.none()},jt=Object.keys,qn=Object.hasOwnProperty,xe=function(n,r){for(var i=jt(n),s=0,d=i.length;s<d;s++){var g=i[s],v=n[g];r(v,g)}},Qn=function(n,r){return Mt(n,function(i,s){return{k:s,v:r(i,s)}})},Mt=function(n,r){var i={};return xe(n,function(s,d){var g=r(s,d);i[g.k]=g.v}),i},Fn=function(n){return function(r,i){n[i]=r}},me=function(n,r,i,s){var d={};return xe(n,function(g,v){(r(g,v)?i:s)(g,v)}),d},te=function(n,r){var i={};return me(n,r,Fn(i),At),i},Ie=function(n,r){var i=[];return xe(n,function(s,d){i.push(r(s,d))}),i},ht=function(n,r){for(var i=jt(n),s=0,d=i.length;s<d;s++){var g=i[s],v=n[g];if(r(v,g,n))return D.some(v)}return D.none()},dn=function(n){return Ie(n,Yt)},tn=function(n,r){return Hn(n,r)?D.from(n[r]):D.none()},Hn=function(n,r){return qn.call(n,r)},Pe=function(n,r){return Hn(n,r)&&n[r]!==void 0&&n[r]!==null},Er=function(n,r,i){return i===void 0&&(i=un),n.exists(function(s){return i(s,r)})},Eo=function(n,r,i){return i===void 0&&(i=un),Bo(n,r,i).getOr(n.isNone()&&r.isNone())},_r=function(n){for(var r=[],i=function(d){r.push(d)},s=0;s<n.length;s++)n[s].each(i);return r},Rr=function(n){for(var r=[],i=0;i<n.length;i++){var s=n[i];if(s.isSome())r.push(s.getOrDie());else return D.none()}return D.some(r)},Bo=function(n,r,i){return n.isSome()&&r.isSome()?D.some(i(n.getOrDie(),r.getOrDie())):D.none()},Mi=function(n,r,i,s){return n.isSome()&&r.isSome()&&i.isSome()?D.some(s(n.getOrDie(),r.getOrDie(),i.getOrDie())):D.none()},oi=function(n,r){return n!=null?D.some(r(n)):D.none()},Wo=function(n,r){return n?D.some(r):D.none()},ci=function(n,r){return n+r},Fi=function(n,r){return n.substring(r)},di=function(n,r,i){return r===""||n.length>=r.length&&n.substr(i,i+r.length)===r},ti=function(n,r){return Ii(n,r)?Fi(n,r.length):n},Li=function(n,r){return Ze(n,r)?n:ci(n,r)},Jr=function(n,r){return n.indexOf(r)!==-1},Ii=function(n,r){return di(n,r,0)},Ze=function(n,r){return di(n,r,n.length-r.length)},Na=function(n){return function(r){return r.replace(n,"")}},Ei=Na(/^\s+|\s+$/g),Wi=function(n){return n.length>0},hi=function(n){return!Wi(n)},Qi=function(n){return n.style!==void 0&&_n(n.style.getPropertyValue)},Pa=function(n,r){var i=r||document,s=i.createElement("div");if(s.innerHTML=n,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return ot(s.childNodes[0])},Zi=function(n,r){var i=r||document,s=i.createElement(n);return ot(s)},du=function(n,r){var i=r||document,s=i.createTextNode(n);return ot(s)},ot=function(n){if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},xt=function(n,r,i){return D.from(n.dom.elementFromPoint(r,i)).map(ot)},st={fromHtml:Pa,fromTag:Zi,fromText:du,fromDom:ot,fromPoint:xt};typeof window<"u"||Function("return this;")();var Gt=9,pe=11,He=1,nt=3,dt=function(n){var r=n.dom.nodeName;return r.toLowerCase()},Kt=function(n){return n.dom.nodeType},Tn=function(n){return function(r){return Kt(r)===n}},P=Tn(He),Y=Tn(nt),ft=Tn(Gt),St=Tn(pe),Ut=function(n){var r=!1,i;return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return r||(r=!0,i=n.apply(null,s)),i}},qt=function(n,r,i,s){var d=n.isiOS()&&/ipad/i.test(i)===!0,g=n.isiOS()&&!d,v=n.isiOS()||n.isAndroid(),C=v||s("(pointer:coarse)"),S=d||!g&&v&&s("(min-device-width:768px)"),O=g||v&&!S,A=r.isSafari()&&n.isiOS()&&/safari/i.test(i)===!1,z=!O&&!S&&!A;return{isiPad:X(d),isiPhone:X(g),isTablet:X(S),isPhone:X(O),isTouch:X(C),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:X(A),isDesktop:X(z)}},de=function(n,r){for(var i=0;i<n.length;i++){var s=n[i];if(s.test(r))return s}},Ee=function(n,r){var i=de(n,r);if(!i)return{major:0,minor:0};var s=function(d){return Number(r.replace(i,"$"+d))};return rr(s(1),s(2))},fr=function(n,r){var i=String(r).toLowerCase();return n.length===0?Jt():Ee(n,i)},Jt=function(){return rr(0,0)},rr=function(n,r){return{major:n,minor:r}},zr={nu:rr,detect:fr,unknown:Jt},wo=function(n,r){return zt(r.brands,function(i){var s=i.brand.toLowerCase();return kn(n,function(d){var g;return s===((g=d.brand)===null||g===void 0?void 0:g.toLowerCase())}).map(function(d){return{current:d.name,version:zr.nu(parseInt(i.version,10),0)}})})},mi=function(n,r){var i=String(r).toLowerCase();return kn(n,function(s){return s.search(i)})},jr=function(n,r){return mi(n,r).map(function(i){var s=zr.detect(i.versionRegexes,r);return{current:i.name,version:s}})},Ou=function(n,r){return mi(n,r).map(function(i){var s=zr.detect(i.versionRegexes,r);return{current:i.name,version:s}})},mu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,si=function(n){return function(r){return Jr(r,n)}},vc=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(n){return Jr(n,"edge/")&&Jr(n,"chrome")&&Jr(n,"safari")&&Jr(n,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,mu],search:function(n){return Jr(n,"chrome")&&!Jr(n,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(n){return Jr(n,"msie")||Jr(n,"trident")}},{name:"Opera",versionRegexes:[mu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:si("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:si("firefox")},{name:"Safari",versionRegexes:[mu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(n){return(Jr(n,"safari")||Jr(n,"mobile/"))&&Jr(n,"applewebkit")}}],ga=[{name:"Windows",search:si("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(n){return Jr(n,"iphone")||Jr(n,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:si("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:si("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:si("linux"),versionRegexes:[]},{name:"Solaris",search:si("sunos"),versionRegexes:[]},{name:"FreeBSD",search:si("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:si("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Oa={browsers:X(vc),oses:X(ga)},Lo="Edge",bc="Chrome",Fu="IE",tc="Opera",Hc="Firefox",Ea="Safari",Ya=function(){return Vc({current:void 0,version:zr.unknown()})},Vc=function(n){var r=n.current,i=n.version,s=function(d){return function(){return r===d}};return{current:r,version:i,isEdge:s(Lo),isChrome:s(bc),isIE:s(Fu),isOpera:s(tc),isFirefox:s(Hc),isSafari:s(Ea)}},Fa={unknown:Ya,nu:Vc,edge:X(Lo),chrome:X(bc),ie:X(Fu),opera:X(tc),firefox:X(Hc),safari:X(Ea)},_a="Windows",W="iOS",bt="Android",Vt="Linux",Mn="OSX",ae="Solaris",ur="FreeBSD",yo="ChromeOS",_o=function(){return Gr({current:void 0,version:zr.unknown()})},Gr=function(n){var r=n.current,i=n.version,s=function(d){return function(){return r===d}};return{current:r,version:i,isWindows:s(_a),isiOS:s(W),isAndroid:s(bt),isOSX:s(Mn),isLinux:s(Vt),isSolaris:s(ae),isFreeBSD:s(ur),isChromeOS:s(yo)}},Vo={unknown:_o,nu:Gr,windows:X(_a),ios:X(W),android:X(bt),linux:X(Vt),osx:X(Mn),solaris:X(ae),freebsd:X(ur),chromeos:X(yo)},ni=function(n,r,i){var s=Oa.browsers(),d=Oa.oses(),g=r.bind(function(S){return wo(s,S)}).orThunk(function(){return jr(s,n)}).fold(Fa.unknown,Fa.nu),v=Ou(d,n).fold(Vo.unknown,Vo.nu),C=qt(v,g,n,i);return{browser:g,os:v,deviceType:C}},Lu={detect:ni},qi=function(n){return window.matchMedia(n).matches},Eu=Ut(function(){return Lu.detect(navigator.userAgent,D.from(navigator.userAgentData),qi)}),mr=function(){return Eu()},nc=function(n,r,i){return(n.compareDocumentPosition(r)&i)!==0},Ys=function(n,r){return nc(n,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},so=function(n,r){var i=n.dom;if(i.nodeType!==He)return!1;var s=i;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},Ss=function(n){return n.nodeType!==He&&n.nodeType!==Gt&&n.nodeType!==pe||n.childElementCount===0},ks=function(n,r){var i=r===void 0?document:r.dom;return Ss(i)?[]:Zt(i.querySelectorAll(n),st.fromDom)},El=function(n,r){var i=r===void 0?document:r.dom;return Ss(i)?D.none():D.from(i.querySelector(n)).map(st.fromDom)},zo=function(n,r){return n.dom===r.dom},Qa=function(n,r){var i=n.dom,s=r.dom;return i===s?!1:i.contains(s)},cf=function(n,r){return Ys(n.dom,r.dom)},gu=function(n,r){return mr().browser.isIE()?cf(n,r):Qa(n,r)},vi=function(n){return st.fromDom(n.dom.ownerDocument)},yc=function(n){return ft(n)?n:vi(n)},hn=function(n){return st.fromDom(yc(n).dom.documentElement)},Uc=function(n){return st.fromDom(yc(n).dom.defaultView)},bi=function(n){return D.from(n.dom.parentNode).map(st.fromDom)},Qs=function(n){return bi(n)},ec=function(n){return D.from(n.dom.offsetParent).map(st.fromDom)},B=function(n){return D.from(n.dom.nextSibling).map(st.fromDom)},k=function(n){return Zt(n.dom.childNodes,st.fromDom)},x=function(n,r){var i=n.dom.childNodes;return D.from(i[r]).map(st.fromDom)},M=function(n){return x(n,0)},U=function(n,r){return{element:n,offset:r}},rt=function(n,r){var i=k(n);return i.length>0&&r<i.length?U(i[r],0):U(n,r)},Rt=function(n){return St(n)&&Bt(n.dom.host)},Ln=_n(Element.prototype.attachShadow)&&_n(Node.prototype.getRootNode),nr=X(Ln),gr=Ln?function(n){return st.fromDom(n.dom.getRootNode())}:yc,be=function(n){return Rt(n)?n:st.fromDom(yc(n).dom.body)},Xe=function(n){return Ir(n).isSome()},Ir=function(n){var r=gr(n);return Rt(r)?D.some(r):D.none()},Hr=function(n){return st.fromDom(n.dom.host)},Mr=function(n){if(nr()&&Bt(n.target)){var r=st.fromDom(n.target);if(P(r)&&Xo(r)&&n.composed&&n.composedPath){var i=n.composedPath();if(i)return Xn(i)}}return D.from(n.target)},Xo=function(n){return Bt(n.dom.shadowRoot)},Cr=function(n){var r=Y(n)?n.dom.parentNode:n.dom;if(r==null||r.ownerDocument===null)return!1;var i=r.ownerDocument;return Ir(st.fromDom(r)).fold(function(){return i.body.contains(r)},fe(Cr,Hr))},No=function(){return Do(st.fromDom(document))},Do=function(n){var r=n.dom.body;if(r==null)throw new Error("Body is not available yet");return st.fromDom(r)},pa=function(n,r,i){if(Ce(i)||ce(i)||on(i))n.setAttribute(r,i+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple")},Kr=function(n,r,i){pa(n.dom,r,i)},xc=function(n,r){var i=n.dom;xe(r,function(s,d){pa(i,d,s)})},yi=function(n,r){var i=n.dom.getAttribute(r);return i===null?void 0:i},_i=function(n,r){return D.from(yi(n,r))},bv=function(n,r){var i=n.dom;return i&&i.hasAttribute?i.hasAttribute(r):!1},La=function(n,r){n.dom.removeAttribute(r)},Dp=function(n,r,i){if(!Ce(i))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);Qi(n)&&n.style.setProperty(r,i)},Ts=function(n,r){Qi(n)&&n.style.removeProperty(r)},Br=function(n,r,i){var s=n.dom;Dp(s,r,i)},wc=function(n,r){var i=n.dom;xe(r,function(s,d){Dp(i,d,s)})},Ri=function(n,r){var i=n.dom;xe(r,function(s,d){s.fold(function(){Ts(i,d)},function(g){Dp(i,d,g)})})},Ai=function(n,r){var i=n.dom,s=window.getComputedStyle(i),d=s.getPropertyValue(r);return d===""&&!Cr(n)?ha(i,r):d},ha=function(n,r){return Qi(n)?n.style.getPropertyValue(r):""},ta=function(n,r){var i=n.dom,s=ha(i,r);return D.from(s).filter(function(d){return d.length>0})},sf=function(n){var r={},i=n.dom;if(Qi(i))for(var s=0;s<i.style.length;s++){var d=i.style.item(s);r[d]=i.style[d]}return r},$c=function(n,r,i){var s=st.fromTag(n);Br(s,r,i);var d=ta(s,r);return d.isSome()},Mo=function(n,r){var i=n.dom;Ts(i,r),Er(_i(n,"style").map(Ei),"")&&La(n,"style")},li=function(n){return n.dom.offsetWidth},_u=function(n,r){var i=function(C,S){if(!on(S)&&!S.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+S);var O=C.dom;Qi(O)&&(O.style[n]=S+"px")},s=function(C){var S=r(C);if(S<=0||S===null){var O=Ai(C,n);return parseFloat(O)||0}return S},d=s,g=function(C,S){return jn(S,function(O,A){var z=Ai(C,A),$=z===void 0?0:parseInt(z,10);return isNaN($)?O:O+$},0)},v=function(C,S,O){var A=g(C,O),z=S>A?S-A:0;return z};return{set:i,get:s,getOuter:d,aggregate:g,max:v}},Zs=_u("height",function(n){var r=n.dom;return Cr(n)?r.getBoundingClientRect().height:r.offsetHeight}),ua=function(n){return Zs.get(n)},Cc=function(n){return Zs.getOuter(n)},yv=function(n,r){var i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=Zs.max(n,r,i);Br(n,"max-height",s+"px")},lf=function(n,r){var i=function(s,d){return lf(n+s,r+d)};return{left:n,top:r,translate:i}},Jo=lf,es=function(n){var r=n.getBoundingClientRect();return Jo(r.left,r.top)},_l=function(n,r){return n!==void 0?n:r!==void 0?r:0},Iu=function(n){var r=n.dom.ownerDocument,i=r.body,s=r.defaultView,d=r.documentElement;if(i===n.dom)return Jo(i.offsetLeft,i.offsetTop);var g=_l(s==null?void 0:s.pageYOffset,d.scrollTop),v=_l(s==null?void 0:s.pageXOffset,d.scrollLeft),C=_l(d.clientTop,i.clientTop),S=_l(d.clientLeft,i.clientLeft);return Hi(n).translate(v-S,g-C)},Hi=function(n){var r=n.dom,i=r.ownerDocument,s=i.body;return s===r?Jo(s.offsetLeft,s.offsetTop):Cr(n)?es(r):Jo(0,0)},Dl=_u("width",function(n){return n.dom.offsetWidth}),tl=function(n,r){return Dl.set(n,r)},pu=function(n){return Dl.get(n)},Hu=function(n){return Dl.getOuter(n)},Za=function(n,r){var i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Dl.max(n,r,i);Br(n,"max-width",s+"px")},Qf=function(n,r,i,s,d,g,v){return{target:n,x:r,y:i,stop:s,prevent:d,kill:g,raw:v}},rs=function(n){var r=st.fromDom(Mr(n).getOr(n.target)),i=function(){return n.stopPropagation()},s=function(){return n.preventDefault()},d=Xt(s,i);return Qf(r,n.clientX,n.clientY,i,s,d,n)},va=function(n,r){return function(i){n(i)&&r(rs(i))}},Zd=function(n,r,i,s,d){var g=va(i,s);return n.dom.addEventListener(r,g,d),{unbind:tr(df,n,r,g,d)}},xv=function(n,r,i,s){return Zd(n,r,i,s,!1)},ff=function(n,r,i,s){return Zd(n,r,i,s,!0)},df=function(n,r,i,s){n.dom.removeEventListener(r,i,s)},Vi=function(n,r){var i=bi(n);i.each(function(s){s.dom.insertBefore(r.dom,n.dom)})},mf=function(n,r){var i=B(n);i.fold(function(){var s=bi(n);s.each(function(d){hu(d,r)})},function(s){Vi(s,r)})},gf=function(n,r){var i=M(n);i.fold(function(){hu(n,r)},function(s){n.dom.insertBefore(r.dom,s.dom)})},hu=function(n,r){n.dom.appendChild(r.dom)},nl=function(n,r,i){x(n,i).fold(function(){hu(n,r)},function(s){Vi(s,r)})},pf=function(n,r){Pt(r,function(i){Vi(n,i)})},el=function(n,r){Pt(r,function(i){hu(n,i)})},wi=function(n){n.dom.textContent="",Pt(k(n),function(r){rc(r)})},rc=function(n){var r=n.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},lg=function(n){var r=k(n);r.length>0&&pf(n,r),rc(n)},Sc=function(n){var r=n!==void 0?n.dom:document,i=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return Jo(i,s)},fg=function(n,r,i){var s=i!==void 0?i.dom:document,d=s.defaultView;d&&d.scrollTo(n,r)},wv=function(n){var r=n===void 0?window:n;return mr().browser.isFirefox()?D.none():D.from(r.visualViewport)},Mp=function(n,r,i,s){return{x:n,y:r,width:i,height:s,right:n+i,bottom:r+s}},hf=function(n){var r=n===void 0?window:n,i=r.document,s=Sc(st.fromDom(i));return wv(r).fold(function(){var d=r.document.documentElement,g=d.clientWidth,v=d.clientHeight;return Mp(s.left,s.top,g,v)},function(d){return Mp(Math.max(d.pageLeft,s.left),Math.max(d.pageTop,s.top),d.width,d.height)})},vf=function(n,r){var i=n.view(r);return i.fold(X([]),function(s){var d=n.owner(s),g=vf(n,d);return[s].concat(g)})},Ml=function(n,r){var i=r.owner(n),s=vf(r,i);return D.some(s)},Fr=function(n){var r,i=n.dom===document?D.none():D.from((r=n.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return i.map(st.fromDom)},jc=function(n){return vi(n)},Vu=Object.freeze({__proto__:null,view:Fr,owner:jc}),vu=function(n){var r=st.fromDom(document),i=Sc(r),s=Ml(n,Vu);return s.fold(tr(Iu,n),function(d){var g=Hi(n),v=Qt(d,function(C,S){var O=Hi(S);return{left:C.left+O.left,top:C.top+O.top}},{left:0,top:0});return Jo(v.left+g.left+i.left,v.top+g.top+i.top)})},Wc=function(n,r,i){return{point:n,width:r,height:i}},Gi=function(n,r,i,s){return{x:n,y:r,width:i,height:s}},ba=function(n,r,i,s){return{x:n,y:r,width:i,height:s,right:n+i,bottom:r+s}},na=function(n){var r=Iu(n),i=Hu(n),s=Cc(n);return ba(r.left,r.top,i,s)},Rl=function(n){var r=vu(n),i=Hu(n),s=Cc(n);return ba(r.left,r.top,i,s)},tu=function(){return hf(window)},je=function(n){var r=function(z){return je(n)},i=function(z){return je(n)},s=function(z){return je(z(n))},d=function(z){return je(n)},g=function(z){z(n)},v=function(z){return z(n)},C=function(z,$){return $(n)},S=function(z){return z(n)},O=function(z){return z(n)},A=function(){return D.some(n)};return{isValue:en,isError:xn,getOr:X(n),getOrThunk:X(n),getOrDie:X(n),or:r,orThunk:i,fold:C,map:s,mapError:d,each:g,bind:v,exists:S,forall:O,toOptional:A}},bf=function(n){var r=function(O){return O()},i=function(){return Ft(String(n))()},s=Yt,d=function(O){return O()},g=function(O){return bf(n)},v=function(O){return bf(O(n))},C=function(O){return bf(n)},S=function(O,A){return O(n)};return{isValue:xn,isError:en,getOr:Yt,getOrThunk:r,getOrDie:i,or:s,orThunk:d,fold:S,map:g,mapError:v,each:At,bind:C,exists:xn,forall:en,toOptional:D.none}},Rp=function(n,r){return n.fold(function(){return bf(r)},je)},Yr={value:je,error:bf,fromOption:Rp},Yo;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Yo||(Yo={}));var dg=function(n,r,i){return n.stype===Yo.Error?r(n.serror):i(n.svalue)},Os=function(n){var r=[],i=[];return Pt(n,function(s){dg(s,function(d){return i.push(d)},function(d){return r.push(d)})}),{values:r,errors:i}},xi=function(n,r){return n.stype===Yo.Error?{stype:Yo.Error,serror:r(n.serror)}:n},mg=function(n,r){return n.stype===Yo.Value?{stype:Yo.Value,svalue:r(n.svalue)}:n},oc=function(n,r){return n.stype===Yo.Value?r(n.svalue):n},tm=function(n,r){return n.stype===Yo.Error?r(n.serror):n},to=function(n){return{stype:Yo.Value,svalue:n}},Du=function(n){return{stype:Yo.Error,serror:n}},U0=function(n){return dg(n,Yr.error,Yr.value)},$0=function(n){return n.fold(Du,to)},Ci={fromResult:$0,toResult:U0,svalue:to,partition:Os,serror:Du,bind:oc,bindError:tm,map:mg,mapError:xi,fold:dg},gg=function(n,r,i,s){return{tag:"field",key:n,newKey:r,presence:i,prop:s}},E=function(n,r){return{tag:"custom",newKey:n,instantiator:r}},L=function(n,r,i){switch(n.tag){case"field":return r(n.key,n.newKey,n.presence,n.prop);case"custom":return i(n.newKey,n.instantiator)}},j=function(n,r){return r},ct=function(n,r){var i=De(n)&&De(r);return i?On(n,r):r},Nt=function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},d=0;d<r.length;d++){var g=r[d];for(var v in g)Hn(g,v)&&(s[v]=n(s[v],g[v]))}return s}},On=Nt(ct),ir=Nt(j),Vr=function(){return{tag:"required",process:{}}},lo=function(n){return{tag:"defaultedThunk",process:n}},no=function(n){return lo(X(n))},ei=function(){return{tag:"option",process:{}}},nu=function(n){return{tag:"mergeWithThunk",process:n}},Bi=function(n){return nu(X(n))},mk=function(n,r){return n.length>0?Ci.svalue(On(r,ir.apply(void 0,n))):Ci.svalue(r)},rx=function(n){return Xt(Ci.serror,pt)(n)},ox=function(n,r){var i=Ci.partition(n);return i.errors.length>0?rx(i.errors):mk(i.values,r)},gk=function(n){var r=Ci.partition(n);return r.errors.length>0?rx(r.errors):Ci.svalue(r.values)},rl={consolidateObj:ox,consolidateArr:gk},Ap=function(n){return De(n)&&jt(n).length>100?" removed due to size":JSON.stringify(n,null,2)},ic=function(n){var r=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:X("... (only showing first ten failures)")}]):n;return Zt(r,function(i){return"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo()})},pg=function(n,r){return Ci.serror([{path:n,getErrorInfo:r}])},j0=function(n,r,i){return pg(n,function(){return'Could not find valid *required* value for "'+r+'" in '+Ap(i)})},Bp=function(n,r){return pg(n,function(){return'Choice schema did not contain choice key: "'+r+'"'})},Cv=function(n,r,i){return pg(n,function(){return'The chosen schema: "'+i+'" did not exist in branches: '+Ap(r)})},ix=function(n,r){return pg(n,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},pk=function(n,r){return pg(n,X(r))},ol=function(n){var r=function(s,d){return Ci.bindError(n(d),function(g){return pk(s,g)})},i=X("val");return{extract:r,toString:i}},zp=ol(Ci.svalue),hk=function(n,r,i,s){return tn(r,i).fold(function(){return j0(n,i,r)},s)},W0=function(n,r,i,s){var d=tn(n,r).getOrThunk(function(){return i(n)});return s(d)},vk=function(n,r,i){return i(tn(n,r))},bk=function(n,r,i,s){var d=tn(n,r).map(function(g){return g===!0?i(n):g});return s(d)},hg=function(n,r,i,s,d){var g=function(C){return d.extract(r.concat([s]),C)},v=function(C){return C.fold(function(){return Ci.svalue(D.none())},function(S){var O=d.extract(r.concat([s]),S);return Ci.map(O,D.some)})};switch(n.tag){case"required":return hk(r,i,s,g);case"defaultedThunk":return W0(i,s,n.process,g);case"option":return vk(i,s,v);case"defaultedOptionThunk":return bk(i,s,n.process,v);case"mergeWithThunk":return W0(i,s,X({}),function(C){var S=On(n.process(i),C);return g(S)})}},Np=function(n,r,i){for(var s={},d=[],g=0,v=i;g<v.length;g++){var C=v[g];L(C,function(S,O,A,z){var $=hg(A,n,r,S,z);Ci.fold($,function(q){d.push.apply(d,q)},function(q){s[O]=q})},function(S,O){s[S]=O(r)})}return d.length>0?Ci.serror(d):Ci.svalue(s)},ax=function(n){var r=function(s,d){return n().extract(s,d)},i=function(){return n().toString()};return{extract:r,toString:i}},ux=function(n){return jt(te(n,Bt))},kc=function(n){var r=dr(n),i=Qt(n,function(d,g){return L(g,function(v){var C;return On(d,(C={},C[v]=!0,C))},X(d))},{}),s=function(d,g){var v=ce(g)?[]:ux(g),C=Dt(v,function(S){return!Pe(i,S)});return C.length===0?r.extract(d,g):ix(d,C)};return{extract:s,toString:r.toString}},dr=function(n){var r=function(s,d){return Np(s,d,n)},i=function(){var s=Zt(n,function(d){return L(d,function(g,v,C,S){return g+" -> "+S.toString()},function(g,v){return"state("+g+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:i}},yf=function(n){var r=function(s,d){var g=Zt(d,function(v,C){return n.extract(s.concat(["["+C+"]"]),v)});return rl.consolidateArr(g)},i=function(){return"array("+n.toString()+")"};return{extract:r,toString:i}},Pp=function(n){var r=function(s,d){for(var g=[],v=0,C=n;v<C.length;v++){var S=C[v],O=S.extract(s,d);if(O.stype===Yo.Value)return O;g.push(O)}return rl.consolidateArr(g)},i=function(){return"oneOf("+Zt(n,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:i}},Zf=function(n,r){var i=function(g,v){return yf(ol(n)).extract(g,v)},s=function(g,v){var C=jt(v),S=i(g,C);return Ci.bind(S,function(O){var A=Zt(O,function(z){return gg(z,z,Vr(),r)});return dr(A).extract(g,v)})},d=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:d}},vg=function(n,r){var i=Ut(r),s=function(g,v){return i().extract(g,v)},d=function(){return i().toString()};return{extract:s,toString:d}},q0=Xt(yf,dr),Es=X(zp),nm=function(n,r){return ol(function(i){var s=typeof i;return n(i)?Ci.svalue(i):Ci.serror("Expected type: "+r+" but got: "+s)})},bg=nm(on,"number"),Ki=nm(Ce,"string"),Ia=nm(ce,"boolean"),Fp=nm(_n,"function"),Al=function(n){if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(function(r){return Al(n[r])});default:return!1}},Lp=ol(function(n){return Al(n)?Ci.svalue(n):Ci.serror("Expected value to be acceptable for sending via postMessage")}),Sv=function(n,r,i,s){var d=tn(i,s);return d.fold(function(){return Cv(n,i,s)},function(g){return g.extract(n.concat(["branch: "+s]),r)})},kv=function(n,r){var i=function(d,g){var v=tn(g,n);return v.fold(function(){return Bp(d,n)},function(C){return Sv(d,g,r,C)})},s=function(){return"chooseOn("+n+"). Possible values: "+jt(r)};return{extract:i,toString:s}},yk=function(){return yf(zp)},yg=function(n){return ol(function(r){return n(r).fold(Ci.serror,Ci.svalue)})},bu=function(n,r){return Zf(function(i){return Ci.fromResult(n(i))},r)},cx=function(n,r,i){var s=r.extract([n],i);return Ci.mapError(s,function(d){return{input:i,errors:d}})},Di=function(n,r,i){return Ci.toResult(cx(n,r,i))},_s=function(n){return n.fold(function(r){throw new Error(td(r))},Yt)},Io=function(n,r,i){return _s(Di(n,r,i))},td=function(n){return`Errors: 
`+ic(n.errors).join(`
`)+`

Input object: `+Ap(n.input)},os=function(n,r){return kv(n,Qn(r,dr))},xk=function(n,r){return vg(n,r)},ya=gg,Uu=E,sx=function(n){return yg(function(r){return Pn(n,r)?Yr.value(r):Yr.error('Unsupported value: "'+r+'", choose one of "'+n.join(", ")+'".')})},Nn=function(n){return ya(n,n,Vr(),Es())},ac=function(n,r){return ya(n,n,Vr(),r)},xf=function(n){return ac(n,bg)},Lr=function(n){return ac(n,Ki)},qc=function(n,r){return ya(n,n,Vr(),sx(r))},wk=function(n){return ac(n,Ia)},Mu=function(n){return ac(n,Fp)},xg=function(n,r){return ya(n,n,ei(),ol(function(i){return Ci.serror("The field: "+n+" is forbidden. "+r)}))},Bl=function(n,r){return ya(n,n,Vr(),dr(r))},Ds=function(n,r){return ya(n,n,Vr(),q0(r))},yu=function(n,r){return ya(n,n,Vr(),yf(r))},Ro=function(n){return ya(n,n,ei(),Es())},il=function(n,r){return ya(n,n,ei(),r)},em=function(n){return il(n,bg)},ii=function(n){return il(n,Ki)},nd=function(n){return il(n,Fp)},Tc=function(n,r){return il(n,yf(r))},Oc=function(n,r){return il(n,dr(r))},Ck=function(n,r){return il(n,kc(r))},Et=function(n,r){return ya(n,n,no(r),Es())},$u=function(n,r,i){return ya(n,n,no(r),i)},al=function(n,r){return $u(n,r,bg)},wg=function(n,r){return $u(n,r,Ki)},Gc=function(n,r,i){return $u(n,r,sx(i))},Qo=function(n,r){return $u(n,r,Ia)},ai=function(n,r){return $u(n,r,Fp)},uc=function(n,r){return $u(n,r,Lp)},wf=function(n,r,i){return $u(n,r,yf(i))},G0=function(n,r,i){return $u(n,r,dr(i))},wr=function(n){var r=n,i=function(){return r},s=function(d){r=d};return{get:i,set:s}},Tv=function(n){if(!Be(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");var r=[],i={};return Pt(n,function(s,d){var g=jt(s);if(g.length!==1)throw new Error("one and only one name per case");var v=g[0],C=s[v];if(i[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(C))throw new Error("case arguments must be an array");r.push(v),i[v]=function(){for(var S=[],O=0;O<arguments.length;O++)S[O]=arguments[O];var A=S.length;if(A!==C.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+C.length+" ("+C+"), got "+A);var z=function($){var q=jt($);if(r.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+q.join(","));var tt=le(r,function(lt){return Pn(q,lt)});if(!tt)throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+r.join(", "));return $[v].apply(null,S)};return{fold:function(){for(var $=[],q=0;q<arguments.length;q++)$[q]=arguments[q];if($.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+$.length);var tt=$[d];return tt.apply(null,S)},match:z,log:function($){console.log($,{constructors:r,constructor:v,params:S})}}}}),i},Kc={generate:Tv};Kc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var lx=function(n){var r=[],i=[];return Pt(n,function(s){s.fold(function(d){r.push(d)},function(d){i.push(d)})}),{errors:r,values:i}},Ip=function(n,r){var i={};return xe(n,function(s,d){Pn(r,d)||(i[d]=s)}),i},Hp=function(n,r){var i;return i={},i[n]=r,i},K0=function(n){var r={};return Pt(n,function(i){r[i.key]=i.value}),r},X0=function(n,r){return Ip(n,r)},zl=function(n,r){return Hp(n,r)},Cf=function(n){return K0(n)},Sk=function(n,r){return n.length===0?Yr.value(r):Yr.value(On(r,ir.apply(void 0,n)))},J0=function(n){return Yr.error(pt(n))},kk=function(n,r){var i=lx(n);return i.errors.length>0?J0(i.errors):Sk(i.values,r)},fx=function(n){return _n(n)?n:xn},Vp=function(n,r,i){for(var s=n.dom,d=fx(i);s.parentNode;){s=s.parentNode;var g=st.fromDom(s),v=r(g);if(v.isSome())return v;if(d(g))break}return D.none()},Cg=function(n,r,i){var s=r(n),d=fx(i);return s.orThunk(function(){return d(n)?D.none():Vp(n,r,d)})},dx=function(n,r){return zo(n.element,r.event.target)},Nl={can:en,abort:xn,run:At},Sg=function(n){if(!Pe(n,"can")&&!Pe(n,"abort")&&!Pe(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return J(J({},Nl),n)},Y0=function(n,r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return jn(n,function(d,g){return d&&r(g).apply(void 0,i)},!0)}},mx=function(n,r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return jn(n,function(d,g){return d||r(g).apply(void 0,i)},!1)}},Tk=function(n){return _n(n)?{can:en,abort:xn,run:n}:n},Ok=function(n){var r=Y0(n,function(d){return d.can}),i=mx(n,function(d){return d.abort}),s=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];Pt(n,function(v){v.run.apply(void 0,d)})};return{can:r,abort:i,run:s}},ca=X,Pl=ca("touchstart"),Ms=ca("touchmove"),ed=ca("touchend"),gx=ca("touchcancel"),Rs=ca("mousedown"),rm=ca("mousemove"),Q0=ca("mouseout"),Z0=ca("mouseup"),Sf=ca("mouseover"),is=ca("focusin"),eu=ca("focusout"),Ov=ca("keydown"),tb=ca("keyup"),om=ca("input"),kg=ca("change"),Tg=ca("click"),Ek=ca("transitioncancel"),Og=ca("transitionend"),nb=ca("transitionstart"),_k=ca("selectstart"),zi=function(n){return X("alloy."+n)},Ev={tap:zi("tap")},rd=zi("focus"),eb=zi("blur.post"),rb=zi("paste.post"),as=zi("receive"),Xc=zi("execute"),im=zi("focus.item"),od=Ev.tap,_v=zi("longpress"),Up=zi("sandbox.close"),ob=zi("typeahead.cancel"),am=zi("system.init"),Dv=zi("system.touchmove"),Dk=zi("system.touchend"),ib=zi("system.scroll"),Jc=zi("system.resize"),Ec=zi("system.attached"),Eg=zi("system.detached"),As=zi("system.dismissRequested"),Ru=zi("system.repositionRequested"),Mv=zi("focusmanager.shifted"),kf=zi("slotcontainer.visibility"),px=zi("change.tab"),ru=zi("dismiss.tab"),hx=zi("highlight"),$p=zi("dehighlight"),uo=function(n,r){Bs(n,n.element,r,{})},Sr=function(n,r,i){Bs(n,n.element,r,i)},Tf=function(n){uo(n,Xc())},ab=function(n,r,i){Bs(n,r,i,{})},Bs=function(n,r,i,s){var d=J({target:r},s);n.getSystem().triggerEvent(i,r,d)},vx=function(n,r,i,s){n.getSystem().triggerEvent(i,r,s.event)},ui=function(n){return Cf(n)},ub=function(n,r){return{key:n,value:Sg({abort:r})}},jp=function(n,r){return{key:n,value:Sg({can:r})}},Rv=function(n){return{key:n,value:Sg({run:function(r,i){i.event.prevent()}})}},Un=function(n,r){return{key:n,value:Sg({run:r})}},Wp=function(n,r,i){return{key:n,value:Sg({run:function(s,d){r.apply(void 0,[s,d].concat(i))}})}},_g=function(n){return function(r){return Un(n,r)}},Dg=function(n){return function(r){return{key:n,value:Sg({run:function(i,s){dx(i,s)&&r(i,s)}})}}},um=function(n,r){return Un(n,function(i,s){i.getSystem().getByUid(r).each(function(d){vx(d,d.element,n,s)})})},cm=function(n,r,i){var s=r.partUids[i];return um(n,s)},id=function(n,r){return Un(n,function(i,s){var d=s.event,g=i.getSystem().getByDom(d.target).getOrThunk(function(){var v=Cg(d.target,function(C){return i.getSystem().getByDom(C).toOptional()},xn);return v.getOr(i)});r(i,g,s)})},Xi=function(n){return Un(n,function(r,i){i.cut()})},gi=function(n){return Un(n,function(r,i){i.stop()})},Of=function(n,r){return Dg(n)(r)},Si=Dg(Ec()),_c=Dg(Eg()),cb=Dg(am()),zs=_g(Xc()),Av=function(n,r){var i=r||document,s=i.createElement("div");return s.innerHTML=n,k(st.fromDom(s))},cc=function(n){return n.dom.innerHTML},ul=function(n,r){var i=vi(n),s=i.dom,d=st.fromDom(s.createDocumentFragment()),g=Av(r,s);el(d,g),wi(n),hu(n,d)},Ef=function(n){var r=st.fromTag("div"),i=st.fromDom(n.dom.cloneNode(!0));return hu(r,i),cc(r)},Ha=function(n,r){return st.fromDom(n.dom.cloneNode(r))},Bv=function(n){return Ha(n,!1)},xu=function(n){if(Rt(n))return"#shadow-root";var r=Bv(n);return Ef(r)},Va=function(n){return xu(n)},Mg=function(n,r,i){return zo(r,n.element)&&!zo(r,i)},Mk=ui([jp(rd(),function(n,r){var i=r.event,s=i.originator,d=i.target;return Mg(n,s,d)?(console.warn(rd()+` did not get interpreted by the desired target. 
Originator: `+Va(s)+`
Target: `+Va(d)+`
Check the `+rd()+" event handlers"),!1):!0})]),qp=Object.freeze({__proto__:null,events:Mk}),sa=0,We=function(n){var r=new Date,i=r.getTime(),s=Math.floor(Math.random()*1e9);return sa++,n+"_"+s+sa+String(i)},us=X("alloy-id-"),Rk=X("data-alloy-id"),bx=us(),Rg=Rk(),yx=function(n,r){var i=We(bx+n);return Gp(r,i),i},Gp=function(n,r){Object.defineProperty(n.dom,Rg,{value:r,writable:!0})},Fl=function(n){var r=P(n)?n.dom[Rg]:null;return D.from(r)},sm=function(n){return We(n)},sb=Yt,cl=function(n){var r=function(d){return"The component must be in a context to execute: "+d+(n?`
`+Va(n().element)+" is not in context.":"")},i=function(d){return function(){throw new Error(r(d))}},s=function(d){return function(){console.warn(r(d))}};return{debugInfo:X("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:i("build"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:xn}},Ak=cl(),lm=function(n,r,i){var s=i.toString(),d=s.indexOf(")")+1,g=s.indexOf("("),v=s.substring(g+1,d-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:r,parameters:Ll(v.slice(0,1).concat(v.slice(3)))}},n},Ll=function(n){return Zt(n,function(r){return Ze(r,"/*")?r.substring(0,r.length-2):r})},ad=function(n,r){var i=n.toString(),s=i.indexOf(")")+1,d=i.indexOf("("),g=i.substring(d+1,s-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:r,parameters:Ll(g)}},n},fm=function(n,r){var i=r.toString(),s=i.indexOf(")")+1,d=i.indexOf("("),g=i.substring(d+1,s-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Ll(g.slice(1))}},n},xx=We("alloy-premade"),ea=function(n){return zl(xx,n)},ud=function(n){return tn(n,xx)},dm=function(n){return fm(function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return n.apply(void 0,fn([r.getApis(),r],i,!1))},n)},Dc={init:function(){return Ua({readState:X("No State required")})}},Ua=function(n){return n},Bk=function(n,r){var i=Zt(r,function(d){return Oc(d.name(),[Nn("config"),Et("state",Dc)])}),s=Di("component.behaviours",dr(i),n.behaviours).fold(function(d){throw new Error(td(d)+`
Complete spec:
`+JSON.stringify(n,null,2))},Yt);return{list:r,data:Qn(s,function(d){var g=d.map(function(v){return{config:v.config,state:v.state.init(v.config)}});return X(g)})}},zk=function(n){return n.list},Nk=function(n){return n.data},wx=function(n,r){var i={};return xe(n,function(s,d){xe(s,function(g,v){var C=tn(i,v).getOr([]);i[v]=C.concat([r(d,g)])})}),i},sl=function(n){return{classes:Or(n.classes)?[]:n.classes,attributes:Or(n.attributes)?{}:n.attributes,styles:Or(n.styles)?{}:n.styles}},zv=function(n,r){return J(J({},n),{attributes:J(J({},n.attributes),r.attributes),styles:J(J({},n.styles),r.styles),classes:n.classes.concat(r.classes)})},Ag=function(n,r,i,s){var d=J({},r);Pt(i,function(A){d[A.name()]=A.exhibit(n,s)});var g=wx(d,function(A,z){return{name:A,modification:z}}),v=function(A){return Qt(A,function(z,$){return J(J({},$.modification),z)},{})},C=Qt(g.classes,function(A,z){return z.modification.concat(A)},[]),S=v(g.attributes),O=v(g.styles);return sl({classes:C,attributes:S,styles:O})},Pk=function(n,r,i,s){try{var d=ao(i,function(g,v){var C=g[r],S=v[r],O=s.indexOf(C),A=s.indexOf(S);if(O===-1)throw new Error("The ordering for "+n+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(s,null,2));if(A===-1)throw new Error("The ordering for "+n+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(s,null,2));return O<A?-1:A<O?1:0});return Yr.value(d)}catch(g){return Yr.error([g])}},lb=function(n,r){return{handler:n,purpose:r}},Cx=function(n,r){return{cHandler:n,purpose:r}},fb=function(n,r){return Cx(tr.apply(void 0,[n.handler].concat(r)),n.purpose)},db=function(n){return n.cHandler},cd=function(n,r){return{name:n,handler:r}},sd=function(n,r){var i={};return Pt(n,function(s){i[s.name()]=s.handlers(r)}),i},ri=function(n,r,i){var s=J(J({},i),sd(r,n));return wx(s,cd)},mb=function(n,r,i,s){var d=ri(n,i,s);return Lk(d,r)},cs=function(n){var r=Tk(n);return function(i,s){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];var v=[i,s].concat(d);r.abort.apply(void 0,v)?s.stop():r.can.apply(void 0,v)&&r.run.apply(void 0,v)}},gb=function(n,r){return Yr.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Zt(r,function(i){return i.name}),null,2)])},Fk=function(n,r,i){var s=r[i];return s?Pk("Event: "+i,"name",n,s).map(function(d){var g=Zt(d,function(v){return v.handler});return Ok(g)}):gb(i,n)},Lk=function(n,r){var i=Ie(n,function(s,d){var g=s.length===1?Yr.value(s[0].handler):Fk(s,r,d);return g.map(function(v){var C=cs(v),S=s.length>1?Dt(r[d],function(O){return ie(s,function(A){return A.name===O})}).join(" > "):s[0].name;return zl(d,lb(C,S))})});return kk(i,{})},ju,Ns="alloy.base.behaviour",pb=dr([ya("dom","dom",Vr(),dr([Nn("tag"),Et("styles",{}),Et("classes",[]),Et("attributes",{}),Ro("value"),Ro("innerHtml")])),Nn("components"),Nn("uid"),Et("events",{}),Et("apis",{}),ya("eventOrder","eventOrder",Bi((ju={},ju[Xc()]=["disabling",Ns,"toggling","typeaheadevents"],ju[rd()]=[Ns,"focusing","keying"],ju[am()]=[Ns,"disabling","toggling","representing"],ju[om()]=[Ns,"representing","streaming","invalidating"],ju[Eg()]=[Ns,"representing","item-events","tooltipping"],ju[Rs()]=["focusing",Ns,"item-type-events"],ju[Pl()]=["focusing",Ns,"item-type-events"],ju[Sf()]=["item-type-events","tooltipping"],ju[as()]=["receiving","reflecting","tooltipping"],ju)),Es()),Ro("domModification")]),Kp=function(n){return Di("custom.definition",pb,n)},Bg=function(n){return J(J({},n.dom),{uid:n.uid,domChildren:Zt(n.components,function(r){return r.element})})},hb=function(n){return n.domModification.fold(function(){return sl({})},sl)},Sx=function(n){return n.events},ld=function(n,r){var i=yi(n,r);return i===void 0||i===""?[]:i.split(" ")},vb=function(n,r,i){var s=ld(n,r),d=s.concat([i]);return Kr(n,r,d.join(" ")),!0},bb=function(n,r,i){var s=Dt(ld(n,r),function(d){return d!==i});return s.length>0?Kr(n,r,s.join(" ")):La(n,r),!1},Nv=function(n){return n.dom.classList!==void 0},Pv=function(n){return ld(n,"class")},mm=function(n,r){return vb(n,"class",r)},kx=function(n,r){return bb(n,"class",r)},$a=function(n,r){Nv(n)?n.dom.classList.add(r):mm(n,r)},ll=function(n){var r=Nv(n)?n.dom.classList:Pv(n);r.length===0&&La(n,"class")},la=function(n,r){if(Nv(n)){var i=n.dom.classList;i.remove(r)}else kx(n,r);ll(n)},Wu=function(n,r){return Nv(n)&&n.dom.classList.contains(r)},_f=function(n,r){Pt(r,function(i){$a(n,i)})},Il=function(n,r){Pt(r,function(i){la(n,i)})},yb=function(n,r){return le(r,function(i){return Wu(n,i)})},Mc=function(n){return n.dom.value},zg=function(n,r){if(r===void 0)throw new Error("Value.set was undefined");n.dom.value=r},Tx=function(n){var r=st.fromTag(n.tag);xc(r,n.attributes),_f(r,n.classes),wc(r,n.styles),n.innerHtml.each(function(s){return ul(r,s)});var i=n.domChildren;if(el(r,i),n.value.each(function(s){zg(r,s)}),!n.uid)debugger;return Gp(r,n.uid),r},Ik=function(n){var r=tn(n,"behaviours").getOr({});return sn(jt(r),function(i){var s=r[i];return Bt(s)?[s.me]:[]})},Hk=function(n,r){return Bk(n,r)},Vk=function(n){var r=Ik(n);return Hk(n,r)},Uk=function(n,r,i){var s=Bg(n),d=hb(n),g={"alloy.base.modification":d},v=r.length>0?Ag(i,g,r,s):d;return zv(s,v)},xb=function(n,r,i){var s={"alloy.base.behaviour":Sx(n)};return mb(i,n.eventOrder,r,s).getOrDie()},Fv=function(n){var r=function(){return _t},i=wr(Ak),s=_s(Kp(n)),d=Vk(n),g=zk(d),v=Nk(d),C=Uk(s,g,v),S=Tx(C),O=xb(s,g,v),A=wr(s.components),z=function(gn){i.set(gn)},$=function(){i.set(cl(r))},q=function(){var gn=k(S),wn=sn(gn,function(kt){return i.get().getByDom(kt).fold(function(){return[]},qr)});A.set(wn)},tt=function(gn){var wn=v,kt=_n(wn[gn.name()])?wn[gn.name()]:function(){throw new Error("Could not find "+gn.name()+" in "+JSON.stringify(n,null,2))};return kt()},lt=function(gn){return _n(v[gn.name()])},Tt=function(){return s.apis},ut=function(gn){return v[gn]().map(function(wn){return wn.state.readState()}).getOr("not enabled")},_t={uid:n.uid,getSystem:i.get,config:tt,hasConfigured:lt,spec:n,readState:ut,getApis:Tt,connect:z,disconnect:$,element:S,syncComponents:q,components:A.get,events:O};return _t},Yc=function(n){var r=tn(n,"components").getOr([]);return Zt(r,ra)},Ox=function(n){var r=sb(n),i=r.events,s=H(r,["events"]),d=Yc(s),g=J(J({},s),{events:J(J({},qp),i),components:d});return Yr.value(Fv(g))},fd=function(n){var r=st.fromText(n);return Xp({element:r})},Xp=function(n){var r=Io("external.component",kc([Nn("element"),Ro("uid")]),n),i=wr(cl()),s=function(C){i.set(C)},d=function(){i.set(cl(function(){return v}))},g=r.uid.getOrThunk(function(){return sm("external")});Gp(r.element,g);var v={uid:g,getSystem:i.get,config:D.none,hasConfigured:xn,connect:s,disconnect:d,getApis:function(){return{}},element:r.element,spec:n,readState:X("No state"),syncComponents:At,components:X([]),events:{}};return ea(v)},fl=sm,ss=function(n){return Hn(n,"uid")},ra=function(n){return ud(n).getOrThunk(function(){var r=ss(n)?n:J({uid:fl("")},n);return Ox(r).getOrDie()})},Qc=ea;function dd(n,r,i,s,d){return n(i,s)?D.some(i):_n(d)&&d(i)?D.none():r(i,s,d)}var wb=function(n,r,i){for(var s=n.dom,d=_n(i)?i:xn;s.parentNode;){s=s.parentNode;var g=st.fromDom(s);if(r(g))return D.some(g);if(d(g))break}return D.none()},Qr=function(n,r,i){var s=function(d,g){return g(d)};return dd(s,wb,n,r,i)},Jp=function(n,r){var i=function(d){return r(st.fromDom(d))},s=kn(n.dom.childNodes,i);return s.map(st.fromDom)},$k=function(n,r){var i=function(s){for(var d=0;d<s.childNodes.length;d++){var g=st.fromDom(s.childNodes[d]);if(r(g))return D.some(g);var v=i(s.childNodes[d]);if(v.isSome())return v}return D.none()};return i(n.dom)},Lv=function(n,r,i){return Qr(n,r,i).isSome()},Iv=function(n,r,i){return wb(n,function(s){return so(s,r)},i)},jk=function(n,r){return Jp(n,function(i){return so(i,r)})},fa=function(n,r){return El(r,n)},Au=function(n,r,i){var s=function(d,g){return so(d,g)};return dd(s,Iv,n,r,i)},pi=function(n){var r=Qr(n,function(i){if(!P(i))return!1;var s=yi(i,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(i){var s=yi(i,"id"),d=gr(i);return fa(d,'[aria-owns="'+s+'"]')})},Ex=function(){var n=We("aria-owns"),r=function(s){Kr(s,"aria-owns",n)},i=function(s){La(s,"aria-owns")};return{id:n,link:r,unlink:i}},Cb=function(n,r){return pi(r).exists(function(i){return gm(n,i)})},gm=function(n,r){return Lv(r,function(i){return zo(i,n.element)},xn)||Cb(n,r)},_x="unknown",pm;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(pm||(pm={}));var Ng=wr({}),Dx=function(n,r){var i=[],s=new Date().getTime();return{logEventCut:function(d,g,v){i.push({outcome:"cut",target:g,purpose:v})},logEventStopped:function(d,g,v){i.push({outcome:"stopped",target:g,purpose:v})},logNoParent:function(d,g,v){i.push({outcome:"no-parent",target:g,purpose:v})},logEventNoHandlers:function(d,g){i.push({outcome:"no-handlers-left",target:g})},logEventResponse:function(d,g,v){i.push({outcome:"response",purpose:v,target:g})},write:function(){var d=new Date().getTime();Pn(["mousemove","mouseover","mouseout",am()],n)||console.log(n,{event:n,time:d-s,target:r.dom,sequence:Zt(i,function(g){return Pn(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+Va(g.target)+")":g.outcome})})}}},Hl=function(n,r,i){var s=tn(Ng.get(),n).orThunk(function(){var v=jt(Ng.get());return zt(v,function(C){return n.indexOf(C)>-1?D.some(Ng.get()[C]):D.none()})}).getOr(pm.NORMAL);switch(s){case pm.NORMAL:return i(Sb());case pm.LOGGING:{var d=Dx(n,r),g=i(d);return d.write(),g}case pm.STOP:return!0}},qu=["alloy/data/Fields","alloy/debugging/Debugging"],Wk=function(){var n=new Error;if(n.stack!==void 0){var r=n.stack.split(`
`);return kn(r,function(i){return i.indexOf("alloy")>0&&!ie(qu,function(s){return i.indexOf(s)>-1})}).getOr(_x)}else return _x},qk={logEventCut:At,logEventStopped:At,logNoParent:At,logEventNoHandlers:At,logEventResponse:At,write:At},hm=function(n,r,i){return Hl(n,r,i)},Sb=X(qk),md=X([Nn("menu"),Nn("selectedMenu")]),vm=X([Nn("item"),Nn("selectedItem")]);X(dr(vm().concat(md())));var kb=X(dr(vm())),Gk=Bl("initSize",[Nn("numColumns"),Nn("numRows")]),Kk=function(){return ac("markers",kb())},bm=function(){return Bl("markers",[Nn("backgroundMenu")].concat(md()).concat(vm()))},ym=function(n){return Bl("markers",Zt(n,Nn))},Hv=function(n,r,i){return Wk(),ya(r,r,i,yg(function(s){return Yr.value(function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return s.apply(void 0,d)})}))},oo=function(n){return Hv("onHandler",n,no(At))},Zo=function(n){return Hv("onKeyboardHandler",n,no(D.none))},xm=function(n){return Hv("onHandler",n,Vr())},gd=function(n){return Hv("onKeyboardHandler",n,Vr())},qo=function(n,r){return Uu(n,X(r))},Vv=function(n){return Uu(n,Yt)},Uv=X(Gk),ja=function(n,r,i,s,d,g,v,C){return C===void 0&&(C=!1),{x:n,y:r,bubble:i,direction:s,placement:d,restriction:g,label:v+"-"+d,alwaysFit:C}},pd=Kc.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),$v=function(n,r,i,s,d,g,v,C,S){return n.fold(r,i,s,d,g,v,C,S)},Xk=function(n,r,i,s){return n.fold(r,r,s,s,r,s,i,i)},Jk=function(n,r,i,s){return n.fold(r,s,r,s,i,i,r,s)},jv=pd.southeast,Pg=pd.southwest,Tb=pd.northeast,Wv=pd.northwest,Fg=pd.south,qv=pd.north,sc=pd.east,wm=pd.west,Vl=function(n,r,i,s){var d=n+r;return d>s?i:d<i?s:d},lc=function(n,r,i){return Math.min(Math.max(n,r),i)},Mx=function(n,r){switch(r){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},ou=function(n,r){return er(["left","right","top","bottom"],function(i){return tn(r,i).map(function(s){return Mx(n,s)})})},Ob=function(n,r,i){var s=function(S,O){return r[S].map(function(A){var z=S==="top"||S==="bottom",$=z?i.top:i.left,q=S==="left"||S==="top"?Math.max:Math.min,tt=q(A,O)+$;return z?lc(tt,n.y,n.bottom):lc(tt,n.x,n.right)}).getOr(O)},d=s("left",n.x),g=s("top",n.y),v=s("right",n.right),C=s("bottom",n.bottom);return ba(d,g,v-d,C-g)},Df="layout",Eb=function(n){return n.x},_b=function(n,r){return n.x+n.width/2-r.width/2},Rx=function(n,r){return n.x+n.width-r.width},Gv=function(n,r){return n.y-r.height},Lg=function(n){return n.y+n.height},Db=function(n,r){return n.y+n.height/2-r.height/2},Yk=function(n){return n.x+n.width},Qk=function(n,r){return n.x-r.width},wu=function(n,r,i){return ja(Eb(n),Lg(n),i.southeast(),jv(),"southeast",ou(n,{left:1,top:3}),Df)},xa=function(n,r,i){return ja(Rx(n,r),Lg(n),i.southwest(),Pg(),"southwest",ou(n,{right:0,top:3}),Df)},Bu=function(n,r,i){return ja(Eb(n),Gv(n,r),i.northeast(),Tb(),"northeast",ou(n,{left:1,bottom:2}),Df)},Wa=function(n,r,i){return ja(Rx(n,r),Gv(n,r),i.northwest(),Wv(),"northwest",ou(n,{right:0,bottom:2}),Df)},fc=function(n,r,i){return ja(_b(n,r),Gv(n,r),i.north(),qv(),"north",ou(n,{bottom:2}),Df)},iu=function(n,r,i){return ja(_b(n,r),Lg(n),i.south(),Fg(),"south",ou(n,{top:3}),Df)},Kv=function(n,r,i){return ja(Yk(n),Db(n,r),i.east(),sc(),"east",ou(n,{left:0}),Df)},hd=function(n,r,i){return ja(Qk(n,r),Db(n,r),i.west(),wm(),"west",ou(n,{right:1}),Df)},vd=function(){return[wu,xa,Bu,Wa,iu,fc,Kv,hd]},Mb=function(){return[xa,wu,Wa,Bu,iu,fc,Kv,hd]},Ax=function(){return[Bu,Wa,wu,xa,fc,iu]},Xv=function(){return[Wa,Bu,xa,wu,fc,iu]},Mf=function(){return[wu,xa,Bu,Wa,iu,fc]},bd=function(){return[xa,wu,Wa,Bu,iu,fc]},Bx=function(n,r){return r.universal?n:Dt(n,function(i){return Pn(r.channels,i)})},Zk=function(n){return ui([Un(as(),function(r,i){var s=n.channels,d=jt(s),g=i,v=Bx(d,g);Pt(v,function(C){var S=s[C],O=S.schema,A=Io("channel["+C+`] data
Receiver: `+Va(r.element),O,g.data);S.onReceive(r,A)})})])},Jv=Object.freeze({__proto__:null,events:Zk}),Gu=[ac("channels",bu(Yr.value,kc([xm("onReceive"),Et("schema",Es())])))],Yv=function(n,r,i){return zs(function(s){i(s,n,r)})},wa=function(n,r,i){return cb(function(s,d){i(s,n,r)})},zx=function(n,r,i,s,d,g){var v=kc(n),C=Oc(r,[Ck("config",n)]);return Px(v,C,r,i,s,d,g)},t4=function(n,r,i,s,d,g){var v=n,C=Oc(r,[il("config",n)]);return Px(v,C,r,i,s,d,g)},Rb=function(n,r,i){var s=function(d){for(var g=[],v=1;v<arguments.length;v++)g[v-1]=arguments[v];var C=[d].concat(g);return d.config({name:X(n)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+i)},function(S){var O=Array.prototype.slice.call(C,1);return r.apply(void 0,[d,S.config,S.state].concat(O))})};return lm(s,i,r)},Nx=function(n){return{key:n,value:void 0}},Px=function(n,r,i,s,d,g,v){var C=function(z){return Pe(z,i)?z[i]():D.none()},S=Qn(d,function(z,$){return Rb(i,z,$)}),O=Qn(g,function(z,$){return ad(z,$)}),A=J(J(J({},O),S),{revoke:tr(Nx,i),config:function(z){var $=Io(i+"-config",n,z);return{key:i,value:{config:$,me:A,configAsRaw:Ut(function(){return Io(i+"-config",n,z)}),initialConfig:z,state:v}}},schema:X(r),exhibit:function(z,$){return Bo(C(z),tn(s,"exhibit"),function(q,tt){return tt($,q.config,q.state)}).getOrThunk(function(){return sl({})})},name:X(i),handlers:function(z){return C(z).map(function($){var q=tn(s,"events").getOr(function(){return{}});return q($.config,$.state)}).getOr({})}});return A},we=function(n){return Cf(n)},n4=kc([Nn("fields"),Nn("name"),Et("active",{}),Et("apis",{}),Et("state",Dc),Et("extra",{})]),Ji=function(n){var r=Io("Creating behaviour: "+n.name,n4,n);return zx(r.fields,r.name,r.active,r.apis,r.extra,r.state)},Ab=kc([Nn("branchKey"),Nn("branches"),Nn("name"),Et("active",{}),Et("apis",{}),Et("state",Dc),Et("extra",{})]),Cm=function(n){var r=Io("Creating behaviour: "+n.name,Ab,n);return t4(os(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},Qv=X(void 0),Rc=Ji({fields:Gu,name:"receiving",active:Jv}),Ig=function(n,r){return sl({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},Yp=Object.freeze({__proto__:null,exhibit:Ig}),Zv=function(){return st.fromDom(document)},Ul=function(n){return n.dom.focus()},Qp=function(n){return n.dom.blur()},t1=function(n){var r=gr(n).dom;return n.dom===r.activeElement},Ac=function(n){return n===void 0&&(n=Zv()),D.from(n.dom.activeElement).map(st.fromDom)},Ps=function(n){return Ac(gr(n)).filter(function(r){return n.dom.contains(r.dom)})},Rf=function(n,r){var i=gr(r),s=Ac(i).bind(function(g){var v=function(C){return zo(g,C)};return v(r)?D.some(r):$k(r,v)}),d=n(r);return s.each(function(g){Ac(i).filter(function(v){return zo(v,g)}).fold(function(){Ul(g)},At)}),d},Ca=function(n,r,i,s,d){var g=function(v){return v+"px"};return{position:n,left:r.map(g),top:i.map(g),right:s.map(g),bottom:d.map(g)}},Bb=function(n){return J(J({},n),{position:D.some(n.position)})},mn=function(n,r){Ri(n,Bb(r))},yd=Kc.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Zp=function(n,r,i,s,d,g){var v=r.rect,C=v.x-i,S=v.y-s,O=v.width,A=v.height,z=d-(C+O),$=g-(S+A),q=D.some(C),tt=D.some(S),lt=D.some(z),Tt=D.some($),ut=D.none();return $v(r.direction,function(){return Ca(n,q,tt,ut,ut)},function(){return Ca(n,ut,tt,lt,ut)},function(){return Ca(n,q,ut,ut,Tt)},function(){return Ca(n,ut,ut,lt,Tt)},function(){return Ca(n,q,tt,ut,ut)},function(){return Ca(n,q,ut,ut,Tt)},function(){return Ca(n,q,tt,ut,ut)},function(){return Ca(n,ut,tt,lt,ut)})},Hg=function(n,r){return n.fold(function(){var i=r.rect;return Ca("absolute",D.some(i.x),D.some(i.y),D.none(),D.none())},function(i,s,d,g){return Zp("absolute",r,i,s,d,g)},function(i,s,d,g){return Zp("fixed",r,i,s,d,g)})},xd=function(n,r){var i=tr(vu,r),s=n.fold(i,i,function(){var v=Sc();return vu(r).translate(-v.left,-v.top)}),d=Hu(r),g=Cc(r);return ba(s.left,s.top,d,g)},dl=function(n,r){return r.fold(function(){return n.fold(tu,tu,ba)},function(i){return n.fold(i,i,function(){var s=i(),d=zb(n,s.x,s.y);return ba(d.left,d.top,s.width,s.height)})})},zb=function(n,r,i){var s=Jo(r,i),d=function(){var g=Sc();return s.translate(-g.left,-g.top)};return n.fold(X(s),X(s),d)},Nb=function(n,r,i,s){return n.fold(r,i,s)};yd.none;var n1=yd.relative,e1=yd.fixed,Fx=function(n,r){return{anchorBox:n,origin:r}},Pb=function(n,r){return Fx(n,r)},Fb="data-alloy-placement",Lb=function(n,r){Kr(n,Fb,r)},Ib=function(n){return _i(n,Fb)},Hb=function(n){return La(n,Fb)},Sm=Kc.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),e4=function(n,r){var i=r.x,s=r.y,d=r.right,g=r.bottom,v=n.x,C=n.y,S=n.right,O=n.bottom,A=n.width,z=n.height,$=v>=i&&v<=d,q=C>=s&&C<=g,tt=$&&q,lt=S<=d&&S>=i,Tt=O<=g&&O>=s,ut=lt&&Tt,_t=Math.min(A,v>=i?d-v:S-i),gn=Math.min(z,C>=s?g-C:O-s);return{originInBounds:tt,sizeInBounds:ut,visibleW:_t,visibleH:gn}},Lx=function(n,r){var i=r.x,s=r.y,d=r.right,g=r.bottom,v=n.x,C=n.y,S=n.width,O=n.height,A=Math.max(i,d-S),z=Math.max(s,g-O),$=lc(v,i,A),q=lc(C,s,z),tt=Math.min($+S,d)-$,lt=Math.min(q+O,g)-q;return ba($,q,tt,lt)},r1=function(n,r,i){var s=X(r.bottom-i.y),d=X(i.bottom-r.y),g=Xk(n,d,d,s),v=X(r.right-i.x),C=X(i.right-r.x),S=Jk(n,C,C,v);return{maxWidth:S,maxHeight:g}},th=function(n,r,i,s){var d=n.bubble,g=d.offset,v=Ob(s,n.restriction,g),C=n.x+g.left,S=n.y+g.top,O=ba(C,S,r,i),A=e4(O,v),z=A.originInBounds,$=A.sizeInBounds,q=A.visibleW,tt=A.visibleH,lt=z&&$,Tt=lt?O:Lx(O,v),ut=Tt.width>0&&Tt.height>0,_t=r1(n.direction,Tt,s),gn=_t.maxWidth,wn=_t.maxHeight,kt={rect:Tt,maxHeight:wn,maxWidth:gn,direction:n.direction,placement:n.placement,classes:{on:d.classesOn,off:d.classesOff},layout:n.label,testY:S};return lt||n.alwaysFit?Sm.fit(kt):Sm.nofit(kt,q,tt,ut)},o1=function(n,r,i,s,d,g){var v=s.width,C=s.height,S=function(A,z,$,q,tt){var lt=A(i,s,d,n,g),Tt=th(lt,v,C,g);return Tt.fold(X(Tt),function(ut,_t,gn,wn){var kt=tt===wn?gn>q||_t>$:!tt&&wn;return kt?Tt:Sm.nofit(z,$,q,tt)})},O=jn(r,function(A,z){var $=tr(S,z);return A.fold(X(A),$)},Sm.nofit({rect:i,maxHeight:s.height,maxWidth:s.width,direction:jv(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:i.y},-1,-1,!1));return O.fold(Yt,Yt)},i1=function(n){var r=wr(D.none()),i=function(){return r.get().each(n)},s=function(){i(),r.set(D.none())},d=function(){return r.get().isSome()},g=function(){return r.get()},v=function(C){i(),r.set(D.some(C))};return{clear:s,isSet:d,get:g,set:v}},a1=function(){return i1(function(n){return n.destroy()})},km=function(){return i1(function(n){return n.unbind()})},Ix=function(){var n=a1(),r=function(i){return n.get().each(i)};return J(J({},n),{run:r})},Ui=function(){var n=i1(At),r=function(i){return n.get().each(i)};return J(J({},n),{on:r})},u1=en,Yi=function(n,r,i){return xv(n,r,u1,i)},c1=function(n,r,i){return ff(n,r,u1,i)},Vg=rs,s1=["top","bottom","right","left"],Ug="data-alloy-transition-timer",Hx=function(n,r){return yb(n,r.classes)},Vx=function(n,r,i){return i.exists(function(s){var d=n.mode;return d==="all"?!0:s[d]!==r[d]})},r4=function(n,r){var i=function(s){return parseFloat(s).toFixed(3)};return ht(r,function(s,d){var g=n[d].map(i),v=s.map(i);return!Eo(g,v)}).isSome()},o4=function(n){var r=function(g){var v=Ai(n,g),C=Ce(v)?v.split(/\s*,\s*/):[];return Dt(C,Wi)},i=function(g){if(Ce(g)&&/^[\d.]+/.test(g)){var v=parseFloat(g);return Ze(g,"ms")?v:v*1e3}else return 0},s=r("transition-delay"),d=r("transition-duration");return jn(d,function(g,v,C){var S=i(s[C])+i(v);return Math.max(g,S)},0)},Ux=function(n,r){var i=km(),s=km(),d,g=function(A){var z,$=(z=A.raw.pseudoElement)!==null&&z!==void 0?z:"";return zo(A.target,n)&&hi($)&&Pn(s1,A.raw.propertyName)},v=function(A){if(Wn(A)||g(A)){i.clear(),s.clear();var z=A==null?void 0:A.raw.type;(Wn(z)||z===Og())&&(clearTimeout(d),La(n,Ug),Il(n,r.classes))}},C=function(){i.set(Yi(n,Og(),v)),s.set(Yi(n,Ek(),v))};if("ontransitionstart"in n.dom)var S=Yi(n,nb(),function(A){g(A)&&(S.unbind(),C())});else C();var O=o4(n);requestAnimationFrame(function(){d=setTimeout(v,O+17),Kr(n,Ug,d)})},l1=function(n,r){_f(n,r.classes),_i(n,Ug).each(function(i){clearTimeout(parseInt(i,10)),La(n,Ug)}),Ux(n,r)},f1=function(n,r,i,s,d,g){var v=Vx(s,d,g);if(v||Hx(n,s)){Br(n,"position",i.position);var C=xd(r,n),S=Hg(r,J(J({},d),{rect:C})),O=er(s1,function(A){return S[A]});r4(i,O)&&(Ri(n,O),v&&l1(n,s),li(n))}else Il(n,s.classes)},i4=function(n){return{width:Hu(n),height:Cc(n)}},$x=function(n,r,i,s){Mo(r,"max-height"),Mo(r,"max-width");var d=i4(r);return o1(r,s.preference,n,d,i,s.bounds)},Vb=function(n,r){var i=r.classes;Il(n,i.off),_f(n,i.on)},jx=function(n,r,i){var s=i.maxHeightFunction;s(n,r.maxHeight)},a4=function(n,r,i){var s=i.maxWidthFunction;s(n,r.maxWidth)},au=function(n,r,i){var s=Hg(i.origin,r);i.transition.each(function(d){f1(n,i.origin,s,d,r,i.lastPlacement)}),mn(n,s)},Tm=function(n,r){Lb(n,r.placement)},Ub=function(n,r){yv(n,Math.floor(r))},Wx=X(function(n,r){Ub(n,r),wc(n,{"overflow-x":"hidden","overflow-y":"auto"})}),$g=X(function(n,r){Ub(n,r)}),qx=function(n,r,i){return n[r]===void 0?i:n[r]},u4=function(n,r,i,s,d,g,v,C){var S=qx(v,"maxHeightFunction",Wx()),O=qx(v,"maxWidthFunction",At),A=n.anchorBox,z=n.origin,$={bounds:dl(z,g),origin:z,preference:s,maxHeightFunction:S,maxWidthFunction:O,lastPlacement:d,transition:C};return nh(A,r,i,$)},nh=function(n,r,i,s){var d=$x(n,r,i,s);return au(r,d,s),Tm(r,d),Vb(r,d),jx(r,d,s),a4(r,d,s),{layout:d.layout,placement:d.placement}},eh=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],wd=function(n,r,i,s){s===void 0&&(s=1);var d=n*s,g=r*s,v=function(S){return tn(i,S).getOr([])},C=function(S,O,A){var z=Ue(eh,A);return{offset:Jo(S,O),classesOn:sn(A,v),classesOff:sn(z,v)}};return{southeast:function(){return C(-n,r,["top","alignLeft"])},southwest:function(){return C(n,r,["top","alignRight"])},south:function(){return C(-n/2,r,["top","alignCentre"])},northeast:function(){return C(-n,-r,["bottom","alignLeft"])},northwest:function(){return C(n,-r,["bottom","alignRight"])},north:function(){return C(-n/2,-r,["bottom","alignCentre"])},east:function(){return C(n,-r/2,["valignCentre","left"])},west:function(){return C(-n,-r/2,["valignCentre","right"])},insetNortheast:function(){return C(d,g,["top","alignLeft","inset"])},insetNorthwest:function(){return C(-d,g,["top","alignRight","inset"])},insetNorth:function(){return C(-d/2,g,["top","alignCentre","inset"])},insetSoutheast:function(){return C(d,-g,["bottom","alignLeft","inset"])},insetSouthwest:function(){return C(-d,-g,["bottom","alignRight","inset"])},insetSouth:function(){return C(-d/2,-g,["bottom","alignCentre","inset"])},insetEast:function(){return C(-d,-g/2,["valignCentre","right","inset"])},insetWest:function(){return C(d,-g/2,["valignCentre","left","inset"])}}},d1=function(){return wd(0,0,{})},m1=Yt,g1=function(n,r){return function(i){return c4(i)==="rtl"?r:n}},c4=function(n){return Ai(n,"direction")==="rtl"?"rtl":"ltr"},Af;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Af||(Af={}));var p1="data-alloy-vertical-dir",s4=function(n){return Lv(n,function(r){return P(r)&&yi(r,"data-alloy-vertical-dir")===Af.BottomToTop})},Cd=function(){return Oc("layouts",[Nn("onLtr"),Nn("onRtl"),Ro("onBottomLtr"),Ro("onBottomRtl")])},Sd=function(n,r,i,s,d,g,v){var C=v.map(s4).getOr(!1),S=r.layouts.map(function(q){return q.onLtr(n)}),O=r.layouts.map(function(q){return q.onRtl(n)}),A=C?r.layouts.bind(function(q){return q.onBottomLtr.map(function(tt){return tt(n)})}).or(S).getOr(d):S.getOr(i),z=C?r.layouts.bind(function(q){return q.onBottomRtl.map(function(tt){return tt(n)})}).or(O).getOr(g):O.getOr(s),$=g1(A,z);return $(n)},Gx=function(n,r,i){var s=r.hotspot,d=xd(i,s.element),g=Sd(n.element,r,Mf(),bd(),Ax(),Xv(),D.some(r.hotspot.element));return D.some(m1({anchorBox:d,bubble:r.bubble.getOr(d1()),overrides:r.overrides,layouts:g,placer:D.none()}))},rh=[Nn("hotspot"),Ro("bubble"),Et("overrides",{}),Cd(),qo("placement",Gx)],$b=function(n,r,i){var s=zb(i,r.x,r.y),d=ba(s.left,s.top,r.width,r.height),g=Sd(n.element,r,vd(),Mb(),vd(),Mb(),D.none());return D.some(m1({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:g,placer:D.none()}))},h1=[Nn("x"),Nn("y"),Et("height",0),Et("width",0),Et("bubble",d1()),Et("overrides",{}),Cd(),qo("placement",$b)],qa=Kc.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),l4=function(n){return n.fold(Yt,function(r,i,s){return r.translate(-i,-s)})},v1=function(n){return n.fold(Yt,Yt)},Kx=function(n){return jn(n,function(r,i){return r.translate(i.left,i.top)},Jo(0,0))},f4=function(n){var r=Zt(n,l4);return Kx(r)},Fs=function(n){var r=Zt(n,v1);return Kx(r)},Bf=qa.screen,d4=qa.absolute,jb=function(n,r,i){var s=Uc(i.root).dom,d=function(g){var v=vi(g),C=vi(n.element);return zo(v,C)};return D.from(s.frameElement).map(st.fromDom).filter(d).map(Iu)},Wb=function(n,r,i){var s=vi(n.element),d=Sc(s),g=jb(n,r,i).getOr(d);return d4(g,d.left,d.top)},Om=function(n,r,i,s){var d=Bf(Jo(n,r));return D.some(Wc(d,i,s))},Xx=function(n,r,i,s,d){return n.map(function(g){var v=[r,g.point],C=Nb(s,function(){return Fs(v)},function(){return Fs(v)},function(){return f4(v)}),S=Gi(C.left,C.top,g.width,g.height),O=i.showAbove?Ax():Mf(),A=i.showAbove?Xv():bd(),z=Sd(d,i,O,A,O,A,D.none());return m1({anchorBox:S,bubble:i.bubble.getOr(d1()),overrides:i.overrides,layouts:z,placer:D.none()})})},jg=function(n,r,i){var s=Wb(n,i,r);return r.node.filter(Cr).bind(function(d){var g=d.dom.getBoundingClientRect(),v=Om(g.left,g.top,g.width,g.height),C=r.node.getOr(n.element);return Xx(v,s,r,i,C)})},m4=[Nn("node"),Nn("root"),Ro("bubble"),Cd(),Et("overrides",{}),Et("showAbove",!1),qo("placement",jg)],g4="\uFEFF",p4=" ",Wg=function(n,r,i,s){return{start:n,soffset:r,finish:i,foffset:s}},Em={create:Wg},qb=Kc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Jx=function(n,r,i,s){return n.fold(r,i,s)},h4=function(n){return n.fold(Yt,Yt,Yt)},Yx=qb.before,Qx=qb.on,Gb=qb.after,v4={before:Yx,on:Qx,after:Gb,cata:Jx,getStart:h4},b1=Kc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),b4=function(n){return b1.exact(n.start,n.soffset,n.finish,n.foffset)},oh=function(n){return n.match({domRange:function(r){return st.fromDom(r.startContainer)},relative:function(r,i){return v4.getStart(r)},exact:function(r,i,s,d){return r}})},y4=b1.domRange,Kb=b1.relative,x4=b1.exact,Zx=function(n){var r=oh(n);return Uc(r)},w4=Em.create,qg={domRange:y4,relative:Kb,exact:x4,exactFromRange:b4,getWin:Zx,range:w4},tw=function(n,r){r.fold(function(i){n.setStartBefore(i.dom)},function(i,s){n.setStart(i.dom,s)},function(i){n.setStartAfter(i.dom)})},C4=function(n,r){r.fold(function(i){n.setEndBefore(i.dom)},function(i,s){n.setEnd(i.dom,s)},function(i){n.setEndAfter(i.dom)})},Xb=function(n,r,i){var s=n.document.createRange();return tw(s,r),C4(s,i),s},Jb=function(n,r,i,s,d){var g=n.document.createRange();return g.setStart(r.dom,i),g.setEnd(s.dom,d),g},y1=function(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}},nw=function(n){var r=n.getClientRects(),i=r.length>0?r[0]:n.getBoundingClientRect();return i.width>0||i.height>0?D.some(i).map(y1):D.none()},ew=function(n){var r=n.getBoundingClientRect();return r.width>0||r.height>0?D.some(r).map(y1):D.none()},Gg=Kc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),rw=function(n,r,i){return r(st.fromDom(i.startContainer),i.startOffset,st.fromDom(i.endContainer),i.endOffset)},ow=function(n,r){return r.match({domRange:function(i){return{ltr:X(i),rtl:D.none}},relative:function(i,s){return{ltr:Ut(function(){return Xb(n,i,s)}),rtl:Ut(function(){return D.some(Xb(n,s,i))})}},exact:function(i,s,d,g){return{ltr:Ut(function(){return Jb(n,i,s,d,g)}),rtl:Ut(function(){return D.some(Jb(n,d,g,i,s))})}}})},S4=function(n,r){var i=r.ltr();if(i.collapsed){var s=r.rtl().filter(function(d){return d.collapsed===!1});return s.map(function(d){return Gg.rtl(st.fromDom(d.endContainer),d.endOffset,st.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return rw(n,Gg.ltr,i)})}else return rw(n,Gg.ltr,i)},k4=function(n,r){var i=ow(n,r);return S4(n,i)},Yb=function(n,r){var i=k4(n,r);return i.match({ltr:function(s,d,g,v){var C=n.document.createRange();return C.setStart(s.dom,d),C.setEnd(g.dom,v),C},rtl:function(s,d,g,v){var C=n.document.createRange();return C.setStart(g.dom,v),C.setEnd(s.dom,d),C}})};Gg.ltr,Gg.rtl;var _m=function(n,r){var i=function(g){if(!n(g))throw new Error("Can only get "+r+" value of a "+r+" node");return s(g).getOr("")},s=function(g){return n(g)?D.from(g.dom.nodeValue):D.none()},d=function(g,v){if(!n(g))throw new Error("Can only set raw "+r+" value of a "+r+" node");g.dom.nodeValue=v};return{get:i,getOption:s,set:d}},x1=_m(Y,"text"),iw=function(n){return x1.get(n)},w1=function(n){return x1.getOption(n)},aw=function(n){return dt(n)==="img"?1:w1(n).fold(function(){return k(n).length},function(r){return r.length})},T4=function(n){return w1(n).filter(function(r){return r.trim().length!==0||r.indexOf(p4)>-1}).isSome()},Qb=["img","br"],O4=function(n){var r=T4(n);return r||Pn(Qb,dt(n))},uw=function(n){return Dm(n,O4)},Dm=function(n,r){var i=function(s){for(var d=k(s),g=d.length-1;g>=0;g--){var v=d[g];if(r(v))return D.some(v);var C=i(v);if(C.isSome())return C}return D.none()};return i(n)},Da=function(n,r){return ks(r,n)},kd=function(n,r,i,s){var d=vi(n),g=d.dom.createRange();return g.setStart(n.dom,r),g.setEnd(i.dom,s),g},C1=function(n,r,i,s){var d=kd(n,r,i,s),g=zo(n,i)&&r===s;return d.collapsed&&!g},E4=function(n){return D.from(n.getSelection())},cw=function(n){if(n.rangeCount>0){var r=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return D.some(Em.create(st.fromDom(r.startContainer),r.startOffset,st.fromDom(i.endContainer),i.endOffset))}else return D.none()},sw=function(n){if(n.anchorNode===null||n.focusNode===null)return cw(n);var r=st.fromDom(n.anchorNode),i=st.fromDom(n.focusNode);return C1(r,n.anchorOffset,i,n.focusOffset)?D.some(Em.create(r,n.anchorOffset,i,n.focusOffset)):cw(n)},Zb=function(n){return E4(n).filter(function(r){return r.rangeCount>0}).bind(sw)},ty=function(n,r){var i=Yb(n,r);return nw(i)},Bc=function(n,r){var i=Yb(n,r);return ew(i)},zf=function(n,r){return{element:n,offset:r}},Mm=function(n,r){var i=k(n);if(i.length===0)return zf(n,r);if(r<i.length)return zf(i[r],0);var s=i[i.length-1],d=Y(s)?iw(s).length:k(s).length;return zf(s,d)},ih=function(n,r){return Y(n)?zf(n,r):Mm(n,r)},Rm=function(n,r){var i=r.getSelection.getOrThunk(function(){return function(){return Zb(n)}});return i().map(function(s){var d=ih(s.start,s.soffset),g=ih(s.finish,s.foffset);return qg.range(d.element,d.offset,g.element,g.offset)})},$l=function(n,r,i){var s=Uc(r.root).dom,d=Wb(n,i,r),g=Rm(s,r).bind(function(S){var O=Bc(s,qg.exactFromRange(S)).orThunk(function(){var A=st.fromText(g4);Vi(S.start,A);var z=ty(s,qg.exact(A,0,A,1));return rc(A),z});return O.bind(function(A){return Om(A.left,A.top,A.width,A.height)})}),v=Rm(s,r).bind(function(S){return P(S.start)?D.some(S.start):Qs(S.start)}),C=v.getOr(n.element);return Xx(g,d,r,i,C)},Ls=[Ro("getSelection"),Nn("root"),Ro("bubble"),Cd(),Et("overrides",{}),Et("showAbove",!1),qo("placement",$l)],Kg="link-layout",ny=function(n){return n.x+n.width},lw=function(n,r){return n.x-r.width},S1=function(n,r){return n.y-r.height+n.height},Am=function(n){return n.y},Nf=function(n,r,i){return ja(ny(n),Am(n),i.southeast(),jv(),"southeast",ou(n,{left:0,top:2}),Kg)},k1=function(n,r,i){return ja(lw(n,r),Am(n),i.southwest(),Pg(),"southwest",ou(n,{right:1,top:2}),Kg)},ey=function(n,r,i){return ja(ny(n),S1(n,r),i.northeast(),Tb(),"northeast",ou(n,{left:0,bottom:3}),Kg)},Ga=function(n,r,i){return ja(lw(n,r),S1(n,r),i.northwest(),Wv(),"northwest",ou(n,{right:1,bottom:3}),Kg)},Td=function(){return[Nf,k1,ey,Ga]},fw=function(){return[k1,Nf,Ga,ey]},ry=function(n,r,i){var s=xd(i,r.item.element),d=Sd(n.element,r,Td(),fw(),Td(),fw(),D.none());return D.some(m1({anchorBox:s,bubble:d1(),overrides:r.overrides,layouts:d,placer:D.none()}))},T1=[Nn("item"),Cd(),Et("overrides",{}),qo("placement",ry)],uu=os("type",{selection:Ls,node:m4,hotspot:rh,submenu:T1,makeshift:h1}),_4=[yu("classes",Ki),Gc("mode","all",["all","layout","placement"])],jl=[Et("useFixed",xn),Ro("getBounds")],dw=[ac("anchor",uu),Oc("transition",_4)],oy=function(){var n=document.documentElement;return e1(0,0,n.clientWidth,n.clientHeight)},Od=function(n){var r=Iu(n.element),i=n.element.dom.getBoundingClientRect();return n1(r.left,r.top,i.width,i.height)},mw=function(n,r,i,s,d,g,v){var C=Pb(i.anchorBox,r);return u4(C,d.element,i.bubble,i.layouts,g,s,i.overrides,v)},O1=function(n,r,i,s,d){gw(n,r,i,s,d,D.none())},gw=function(n,r,i,s,d,g){var v=g.map(na);return iy(n,r,i,s,d,v)},iy=function(n,r,i,s,d,g){var v=Io("placement.info",dr(dw),d),C=v.anchor,S=s.element,O=i.get(s.uid);Rf(function(){Br(S,"position","fixed");var A=ta(S,"visibility");Br(S,"visibility","hidden");var z=r.useFixed()?oy():Od(n),$=C.placement,q=g.map(X).or(r.getBounds);$(n,C,z).each(function(tt){var lt=tt.placer.getOr(mw),Tt=lt(n,z,tt,q,s,O,v.transition);i.set(s.uid,Tt)}),A.fold(function(){Mo(S,"visibility")},function(tt){Br(S,"visibility",tt)}),ta(S,"left").isNone()&&ta(S,"top").isNone()&&ta(S,"right").isNone()&&ta(S,"bottom").isNone()&&Er(ta(S,"position"),"fixed")&&Mo(S,"position")},S)},pw=function(n,r,i){return r.useFixed()?"fixed":"absolute"},D4=function(n,r,i,s){var d=s.element;Pt(["position","left","right","top","bottom"],function(g){return Mo(d,g)}),Hb(d),i.clear(s.uid)},ay=Object.freeze({__proto__:null,position:O1,positionWithin:gw,positionWithinBounds:iy,getMode:pw,reset:D4}),ml=function(){var n={},r=function(d,g){n[d]=g},i=function(d){return tn(n,d)},s=function(d){Bt(d)?delete n[d]:n={}};return Ua({readState:function(){return n},clear:s,set:r,get:i})},E1=Object.freeze({__proto__:null,init:ml}),Ku=Ji({fields:jl,name:"positioning",active:Yp,apis:ay,state:E1}),ah=function(n){uo(n,Eg());var r=n.components();Pt(r,ah)},uh=function(n){var r=n.components();Pt(r,uh),uo(n,Ec())},uy=function(n,r){hu(n.element,r.element)},M4=function(n){Pt(n.components(),function(r){return rc(r.element)}),wi(n.element),n.syncComponents()},hw=function(n,r){var i=n.components();M4(n);var s=Ue(i,r);Pt(s,function(d){ah(d),n.getSystem().removeFromWorld(d)}),Pt(r,function(d){d.getSystem().isConnected()?uy(n,d):(n.getSystem().addToWorld(d),uy(n,d),Cr(n.element)&&uh(d)),n.syncComponents()})},Cu=function(n,r){Bm(n,r,hu)},Bm=function(n,r,i){n.getSystem().addToWorld(r),i(n.element,r.element),Cr(n.element)&&uh(r),n.syncComponents()},ch=function(n){ah(n),rc(n.element),n.getSystem().removeFromWorld(n)},ls=function(n){var r=bi(n.element).bind(function(i){return n.getSystem().getByDom(i).toOptional()});ch(n),r.each(function(i){i.syncComponents()})},fs=function(n){var r=n.components();Pt(r,ch),wi(n.element),n.syncComponents()},ds=function(n,r){gl(n,r,hu)},Xu=function(n,r){gl(n,r,mf)},gl=function(n,r,i){i(n,r.element);var s=k(r.element);Pt(s,function(d){r.getByDom(d).each(uh)})},_1=function(n){var r=k(n.element);Pt(r,function(i){n.getByDom(i).each(ah)}),rc(n.element)},ms=function(n,r,i,s){i.get().each(function(v){fs(n)});var d=r.getAttachPoint(n);Cu(d,n);var g=n.getSystem().build(s);return Cu(n,g),i.set(g),g},pl=function(n,r,i,s){var d=ms(n,r,i,s);return r.onOpen(n,d),d},R4=function(n,r,i,s){return i.get().map(function(){return ms(n,r,i,s)})},A4=function(n,r,i,s,d){ww(n,r),pl(n,r,i,s),d(),cy(n,r)},vw=function(n,r,i){i.get().each(function(s){fs(n),ls(n),r.onClose(n,s),i.clear()})},bw=function(n,r,i){return i.isOpen()},yw=function(n,r,i,s){return bw(n,r,i)&&i.get().exists(function(d){return r.isPartOf(n,d,s)})},xw=function(n,r,i){return i.get()},B4=function(n,r,i,s){ta(n.element,r).fold(function(){La(n.element,i)},function(d){Kr(n.element,i,d)}),Br(n.element,r,s)},z4=function(n,r,i){_i(n.element,i).fold(function(){return Mo(n.element,r)},function(s){return Br(n.element,r,s)})},ww=function(n,r,i){var s=r.getAttachPoint(n);Br(n.element,"position",Ku.getMode(s)),B4(n,"visibility",r.cloakVisibilityAttr,"hidden")},N4=function(n){return ie(["top","left","right","bottom"],function(r){return ta(n,r).isSome()})},cy=function(n,r,i){N4(n.element)||Mo(n.element,"position"),z4(n,"visibility",r.cloakVisibilityAttr)},Cw=Object.freeze({__proto__:null,cloak:ww,decloak:cy,open:pl,openWhileCloaked:A4,close:vw,isOpen:bw,isPartOf:yw,getState:xw,setContent:R4}),sy=function(n,r){return ui([Un(Up(),function(i,s){vw(i,n,r)})])},Sw=Object.freeze({__proto__:null,events:sy}),P4=[oo("onOpen"),oo("onClose"),Nn("isPartOf"),Nn("getAttachPoint"),Et("cloakVisibilityAttr","data-precloak-visibility")],F4=function(){var n=Ui(),r=X("not-implemented");return Ua({readState:r,isOpen:n.isSet,clear:n.clear,set:n.set,get:n.get})},L4=Object.freeze({__proto__:null,init:F4}),go=Ji({fields:P4,name:"sandboxing",active:Sw,apis:Cw,state:L4}),zm=X("dismiss.popups"),Xg=X("reposition.popups"),zc=X("mouse.released"),I4=kc([Et("isExtraPart",xn),Oc("fireEventInstead",[Et("event",As())])]),Ed=function(n){var r,i=Io("Dismissal",I4,n);return r={},r[zm()]={schema:kc([Nn("target")]),onReceive:function(s,d){if(go.isOpen(s)){var g=go.isPartOf(s,d.target)||i.isExtraPart(s,d.target);g||i.fireEventInstead.fold(function(){return go.close(s)},function(v){return uo(s,v.event)})}}},r},Jg=kc([Oc("fireEventInstead",[Et("event",Ru())]),Mu("doReposition")]),sh=function(n){var r,i=Io("Reposition",Jg,n);return r={},r[Xg()]={onReceive:function(s){go.isOpen(s)&&i.fireEventInstead.fold(function(){return i.doReposition(s)},function(d){return uo(s,d.event)})}},r},Yg=function(n,r,i){r.store.manager.onLoad(n,r,i)},kw=function(n,r,i){r.store.manager.onUnload(n,r,i)},Tw=function(n,r,i,s){r.store.manager.setValue(n,r,i,s)},ly=function(n,r,i){return r.store.manager.getValue(n,r,i)},fy=function(n,r,i){return i},Nm=Object.freeze({__proto__:null,onLoad:Yg,onUnload:kw,setValue:Tw,getValue:ly,getState:fy}),dy=function(n,r){var i=n.resetOnDom?[Si(function(s,d){Yg(s,n,r)}),_c(function(s,d){kw(s,n,r)})]:[wa(n,r,Yg)];return ui(i)},H4=Object.freeze({__proto__:null,events:dy}),Wl=function(){var n=wr(null),r=function(){return{mode:"memory",value:n.get()}},i=function(){return n.get()===null},s=function(){n.set(null)};return Ua({set:n.set,get:n.get,isNotSet:i,clear:s,readState:r})},my=function(){var n=At;return Ua({readState:n})},D1=function(){var n=wr({}),r=wr({}),i=function(){return{mode:"dataset",dataByValue:n.get(),dataByText:r.get()}},s=function(){n.set({}),r.set({})},d=function(v){return tn(n.get(),v).orThunk(function(){return tn(r.get(),v)})},g=function(v){var C=n.get(),S=r.get(),O={},A={};Pt(v,function(z){O[z.value]=z,tn(z,"meta").each(function($){tn($,"text").each(function(q){A[q]=z})})}),n.set(J(J({},C),O)),r.set(J(J({},S),A))};return Ua({readState:i,lookup:d,update:g,clear:s})},M1=function(n){return n.store.manager.state(n)},Ow=Object.freeze({__proto__:null,memory:Wl,dataset:D1,manual:my,init:M1}),Qg=function(n,r,i,s){var d=r.store;i.update([s]),d.setValue(n,s),r.onSetValue(n,s)},Ew=function(n,r,i){var s=r.store,d=s.getDataKey(n);return i.lookup(d).getOrThunk(function(){return s.getFallbackEntry(d)})},_w=function(n,r,i){var s=r.store;s.initialValue.each(function(d){Qg(n,r,i,d)})},hl=function(n,r,i){i.clear()},Zc=[Ro("initialValue"),Nn("getFallbackEntry"),Nn("getDataKey"),Nn("setValue"),qo("manager",{setValue:Qg,getValue:Ew,onLoad:_w,onUnload:hl,state:D1})],cu=function(n,r,i){return r.store.getValue(n)},Dw=function(n,r,i,s){r.store.setValue(n,s),r.onSetValue(n,s)},gy=function(n,r,i){r.store.initialValue.each(function(s){r.store.setValue(n,s)})},Zg=[Nn("getValue"),Et("setValue",At),Ro("initialValue"),qo("manager",{setValue:Dw,getValue:cu,onLoad:gy,onUnload:At,state:Dc.init})],Mw=function(n,r,i,s){i.set(s),r.onSetValue(n,s)},Rw=function(n,r,i){return i.get()},Aw=function(n,r,i){r.store.initialValue.each(function(s){i.isNotSet()&&i.set(s)})},R1=function(n,r,i){i.clear()},A1=[Ro("initialValue"),qo("manager",{setValue:Mw,getValue:Rw,onLoad:Aw,onUnload:R1,state:Wl})],Bw=[$u("store",{mode:"memory"},os("mode",{memory:A1,manual:Zg,dataset:Zc})),oo("onSetValue"),Et("resetOnDom",!1)],_e=Ji({fields:Bw,name:"representing",active:H4,apis:Nm,extra:{setValueFrom:function(n,r){var i=_e.getValue(r);_e.setValue(n,i)}},state:Ow}),Ma=function(n,r){return G0(n,{},Zt(r,function(i){return xg(i.name(),"Cannot configure "+i.name()+" for "+n)}).concat([Uu("dump",Yt)]))},Pm=function(n){return n.dump},Ra=function(n,r){return J(J({},we(r)),n.dump)},gs={field:Ma,augment:Ra,get:Pm},py="placeholder",Fm=Kc.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),B1=function(n){return Hn(n,"uiType")},tp=function(n,r,i,s){return n.exists(function(d){return d!==i.owner})?Fm.single(!0,X(i)):tn(s,i.name).fold(function(){throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+jt(s)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},function(d){return d.replace()})},Lm=function(n,r,i,s){return B1(i)&&i.uiType===py?tp(n,r,i,s):Fm.single(!1,X(i))},lh=function(n,r,i,s){var d=Lm(n,r,i,s);return d.fold(function(g,v){var C=B1(i)?v(r,i.config,i.validated):v(r),S=tn(C,"components").getOr([]),O=sn(S,function(A){return lh(n,r,A,s)});return[J(J({},C),{components:O})]},function(g,v){if(B1(i)){var C=v(r,i.config,i.validated),S=i.validated.preprocess.getOr(Yt);return S(C)}else return v(r)})},V4=function(n,r,i,s){return sn(i,function(d){return lh(n,r,d,s)})},U4=function(n,r){var i=!1,s=function(){return i},d=function(){if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,r},g=function(){return r.fold(function(v,C){return v},function(v,C){return v})};return{name:X(n),required:g,used:s,replace:d}},hy=function(n,r,i,s){var d=Qn(s,function(v,C){return U4(C,v)}),g=V4(n,r,i,d);return xe(d,function(v){if(v.used()===!1&&v.required())throw new Error("Placeholder: "+v.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),g},vy=Fm.single,zw=Fm.multiple,Im=X(py),Is=Kc.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),fh=Et("factory",{sketch:Yt}),by=Et("schema",[]),Hm=Nn("name"),dh=ya("pname","pname",lo(function(n){return"<alloy."+We(n.name)+">"}),Es()),mh=Uu("schema",function(){return[Ro("preprocess")]}),ql=Et("defaults",X({})),ps=Et("overrides",X({})),_d=dr([fh,by,Hm,dh,ql,ps]),Vm=dr([fh,by,Hm,ql,ps]),gh=dr([fh,by,Hm,dh,ql,ps]),z1=dr([fh,mh,Hm,Nn("unit"),dh,ql,ps]),ph=function(n){return n.fold(D.some,D.none,D.some,D.some)},yy=function(n){var r=function(i){return i.name};return n.fold(r,r,r,r)},$4=function(n){return n.fold(Yt,Yt,Yt,Yt)},N1=function(n,r){return function(i){var s=Io("Converting part type",r,i);return n(s)}},Ka=N1(Is.required,_d),ts=N1(Is.external,Vm),Hs=N1(Is.optional,gh),vl=N1(Is.group,z1),Gl=X("entirety"),Dd=Object.freeze({__proto__:null,required:Ka,external:ts,optional:Hs,group:vl,asNamedPart:ph,name:yy,asCommon:$4,original:Gl}),np=function(n,r,i,s){return On(r.defaults(n,i,s),i,{uid:n.partUids[r.name]},r.overrides(n,i,s))},Nw=function(n,r,i){var s={},d={};return Pt(i,function(g){g.fold(function(v){s[v.pname]=vy(!0,function(C,S,O){return v.factory.sketch(np(C,v,S,O))})},function(v){var C=r.parts[v.name];d[v.name]=X(v.factory.sketch(np(r,v,C[Gl()]),C))},function(v){s[v.pname]=vy(!1,function(C,S,O){return v.factory.sketch(np(C,v,S,O))})},function(v){s[v.pname]=zw(!0,function(C,S,O){var A=C[v.name];return Zt(A,function(z){return v.factory.sketch(On(v.defaults(C,z,O),z,v.overrides(C,z)))})})})}),{internals:X(s),externals:X(d)}},hh=function(n,r){var i={};return Pt(r,function(s){ph(s).each(function(d){var g=j4(n,d.pname);i[d.name]=function(v){var C=Io("Part: "+d.name+" in "+n,dr(d.schema),v);return J(J({},g),{config:v,validated:C})}})}),i},j4=function(n,r){return{uiType:Im(),owner:n,name:r}},xy=function(n,r,i){return{uiType:Im(),owner:n,name:r,config:i,validated:{}}},Pw=function(n){return sn(n,function(r){return r.fold(D.none,D.some,D.none,D.none).map(function(i){return Bl(i.name,i.schema.concat([Vv(Gl())]))}).toArray()})},Fw=function(n){return Zt(n,yy)},wy=function(n,r,i){return Nw(n,r,i)},Cy=function(n,r,i){return hy(D.some(n),r,r.components,i)},Go=function(n,r,i){var s=r.partUids[i];return n.getSystem().getByUid(s).toOptional()},Kl=function(n,r,i){return Go(n,r,i).getOrDie("Could not find part: "+i)},Lw=function(n,r,i){var s={},d=r.partUids,g=n.getSystem();return Pt(i,function(v){s[v]=X(g.getByUid(d[v]))}),s},Sy=function(n,r){var i=n.getSystem();return Qn(r.partUids,function(s,d){return X(i.getByUid(s))})},ky=function(n){return jt(n.partUids)},vh=function(n,r,i){var s={},d=r.partUids,g=n.getSystem();return Pt(i,function(v){s[v]=X(g.getByUid(d[v]).getOrDie())}),s},Tr=function(n,r){var i=Fw(r);return Cf(Zt(i,function(s){return{key:s,value:n+"-"+s}}))},Ty=function(n){return ya("partUids","partUids",nu(function(r){return Tr(r.uid,n)}),Es())},Iw=Object.freeze({__proto__:null,generate:hh,generateOne:xy,schemas:Pw,names:Fw,substitutes:wy,components:Cy,defaultUids:Tr,defaultUidsSchema:Ty,getAllParts:Sy,getAllPartNames:ky,getPart:Go,getPartOrDie:Kl,getParts:Lw,getPartsOrDie:vh}),W4=function(n,r){var i=n.length>0?[Bl("parts",n)]:[];return i.concat([Nn("uid"),Et("dom",{}),Et("components",[]),Vv("originalSpec"),Et("debug.sketcher",{})]).concat(r)},Hw=function(n,r,i,s,d){var g=W4(s,d);return Io(n+" [SpecSchema]",kc(g.concat(r)),i)},Vw=function(n,r,i,s){var d=P1(s),g=Hw(n,r,d,[],[]);return i(g,d)},Oy=function(n,r,i,s,d){var g=P1(d),v=Pw(i),C=Ty(i),S=Hw(n,r,g,v,[C]),O=wy(n,S,i),A=Cy(n,S,O.internals());return s(S,A,g,O.externals())},Ey=function(n){return Hn(n,"uid")},P1=function(n){return Ey(n)?n:J(J({},n),{uid:sm("uid")})},q4=function(n){return n.uid!==void 0},Uw=kc([Nn("name"),Nn("factory"),Nn("configFields"),Et("apis",{}),Et("extraApis",{})]),G4=kc([Nn("name"),Nn("factory"),Nn("configFields"),Nn("partFields"),Et("apis",{}),Et("extraApis",{})]),Nc=function(n){var r=Io("Sketcher for "+n.name,Uw,n),i=function(g){return Vw(r.name,r.configFields,r.factory,g)},s=Qn(r.apis,dm),d=Qn(r.extraApis,function(g,v){return ad(g,v)});return J(J({name:r.name,configFields:r.configFields,sketch:i},s),d)},Ju=function(n){var r=Io("Sketcher for "+n.name,G4,n),i=function(v){return Oy(r.name,r.configFields,r.partFields,r.factory,v)},s=hh(r.name,r.partFields),d=Qn(r.apis,dm),g=Qn(r.extraApis,function(v,C){return ad(v,C)});return J(J({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:i,parts:s},d),g)},Md=function(n){return dt(n)==="input"&&yi(n,"type")!=="radio"||dt(n)==="textarea"},$w=function(n,r,i){return r.find(n)},K4=Object.freeze({__proto__:null,getCurrent:$w}),jw=[Nn("find")],io=Ji({fields:jw,name:"composing",apis:K4}),Ww=["input","button","textarea","select"],bh=function(n,r,i){var s=r.disabled()?Dy:Um;s(n,r)},ep=function(n,r){return r.useNative===!0&&Pn(Ww,dt(n.element))},F1=function(n){return bv(n.element,"disabled")},rp=function(n){Kr(n.element,"disabled","disabled")},op=function(n){La(n.element,"disabled")},X4=function(n){return yi(n.element,"aria-disabled")==="true"},J4=function(n){Kr(n.element,"aria-disabled","true")},_y=function(n){Kr(n.element,"aria-disabled","false")},Dy=function(n,r,i){r.disableClass.each(function(d){$a(n.element,d)});var s=ep(n,r)?rp:J4;s(n),r.onDisabled(n)},Um=function(n,r,i){r.disableClass.each(function(d){la(n.element,d)});var s=ep(n,r)?op:_y;s(n),r.onEnabled(n)},L1=function(n,r){return ep(n,r)?F1(n):X4(n)},qw=function(n,r,i,s){var d=s?Dy:Um;d(n,r)},Y4=Object.freeze({__proto__:null,enable:Um,disable:Dy,isDisabled:L1,onLoad:bh,set:qw}),My=function(n,r){return sl({classes:r.disabled()?r.disableClass.toArray():[]})},Q4=function(n,r){return ui([ub(Xc(),function(i,s){return L1(i,n)}),wa(n,r,bh)])},yh=Object.freeze({__proto__:null,exhibit:My,events:Q4}),Ry=[ai("disabled",xn),Et("useNative",!0),Ro("disableClass"),oo("onDisabled"),oo("onEnabled")],pr=Ji({fields:Ry,name:"disabling",active:yh,apis:Y4}),Gw=function(n,r,i,s){var d=Da(n.element,"."+r.highlightClass);Pt(d,function(g){ie(s,function(v){return v.element===g})||(la(g,r.highlightClass),n.getSystem().getByDom(g).each(function(v){r.onDehighlight(n,v),uo(v,$p())}))})},Z4=function(n,r,i){return Gw(n,r,i,[])},Kw=function(n,r,i,s){I1(n,r,i,s)&&(la(s.element,r.highlightClass),r.onDehighlight(n,s),uo(s,$p()))},ip=function(n,r,i,s){Gw(n,r,i,[s]),I1(n,r,i,s)||($a(s.element,r.highlightClass),r.onHighlight(n,s),uo(s,hx()))},Yu=function(n,r,i){Yw(n,r).each(function(s){ip(n,r,i,s)})},xh=function(n,r,i){Qw(n,r).each(function(s){ip(n,r,i,s)})},t3=function(n,r,i,s){Jw(n,r,i,s).fold(function(d){throw d},function(d){ip(n,r,i,d)})},Ay=function(n,r,i,s){var d=ap(n,r),g=kn(d,s);g.each(function(v){ip(n,r,i,v)})},I1=function(n,r,i,s){return Wu(s.element,r.highlightClass)},Xw=function(n,r,i){return fa(n.element,"."+r.highlightClass).bind(function(s){return n.getSystem().getByDom(s).toOptional()})},Jw=function(n,r,i,s){var d=Da(n.element,"."+r.itemClass);return D.from(d[s]).fold(function(){return Yr.error(new Error("No element found with index "+s))},n.getSystem().getByDom)},Yw=function(n,r,i){return fa(n.element,"."+r.itemClass).bind(function(s){return n.getSystem().getByDom(s).toOptional()})},Qw=function(n,r,i){var s=Da(n.element,"."+r.itemClass),d=s.length>0?D.some(s[s.length-1]):D.none();return d.bind(function(g){return n.getSystem().getByDom(g).toOptional()})},Pf=function(n,r,i,s){var d=Da(n.element,"."+r.itemClass),g=Ye(d,function(v){return Wu(v,r.highlightClass)});return g.bind(function(v){var C=Vl(v,s,0,d.length-1);return n.getSystem().getByDom(d[C]).toOptional()})},n3=function(n,r,i){return Pf(n,r,i,-1)},e3=function(n,r,i){return Pf(n,r,i,1)},ap=function(n,r,i){var s=Da(n.element,"."+r.itemClass);return _r(Zt(s,function(d){return n.getSystem().getByDom(d).toOptional()}))},r3=Object.freeze({__proto__:null,dehighlightAll:Z4,dehighlight:Kw,highlight:ip,highlightFirst:Yu,highlightLast:xh,highlightAt:t3,highlightBy:Ay,isHighlighted:I1,getHighlighted:Xw,getFirst:Yw,getLast:Qw,getPrevious:n3,getNext:e3,getCandidates:ap}),o3=[Nn("highlightClass"),Nn("itemClass"),oo("onHighlight"),oo("onDehighlight")],Ao=Ji({fields:o3,name:"highlighting",apis:r3}),up=[8],Rd=[9],Xl=[13],Ad=[27],zu=[32],H1=[37],wh=[38],cp=[39],Bd=[40],i3=function(n,r,i){var s=zn(n.slice(0,r)),d=zn(n.slice(r+1));return kn(s.concat(d),i)},Zw=function(n,r,i){var s=zn(n.slice(0,r));return kn(s,i)},V1=function(n,r,i){var s=n.slice(0,r),d=n.slice(r+1);return kn(d.concat(s),i)},a3=function(n,r,i){var s=n.slice(r+1);return kn(s,i)},fo=function(n){return function(r){var i=r.raw;return Pn(n,i.which)}},Vs=function(n){return function(r){return le(n,function(i){return i(r)})}},sp=function(n){var r=n.raw;return r.shiftKey===!0},tC=function(n){var r=n.raw;return r.ctrlKey===!0},Ch=Me(sp),po=function(n,r){return{matches:n,classification:r}},By=function(n,r){var i=kn(n,function(s){return s.matches(r)});return i.map(function(s){return s.classification})},nC=function(n,r,i){var s=r.exists(function(d){return i.exists(function(g){return zo(g,d)})});s||Sr(n,Mv(),{prevFocus:r,newFocus:i})},Sh=function(){var n=function(i){return Ps(i.element)},r=function(i,s){var d=n(i);i.getSystem().triggerFocus(s,i.element);var g=n(i);nC(i,d,g)};return{get:n,set:r}},eC=function(){var n=function(i){return Ao.getHighlighted(i).map(function(s){return s.element})},r=function(i,s){var d=n(i);i.getSystem().getByDom(s).fold(At,function(v){Ao.highlight(i,v)});var g=n(i);nC(i,d,g)};return{get:n,set:r}},kh;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(kh||(kh={}));var Ff=function(n,r,i,s,d){var g=function(){return n.concat([Et("focusManager",Sh()),$u("focusInside","onFocus",yg(function(O){return Pn(["onFocus","onEnterOrSpace","onApi"],O)?Yr.value(O):Yr.error("Invalid value for focusInside")})),qo("handler",S),qo("state",r),qo("sendFocusIn",d)])},v=function(O,A,z,$,q){var tt=z(O,A,$,q);return By(tt,A.event).bind(function(lt){return lt(O,A,$,q)})},C=function(O,A){var z=O.focusInside!==kh.OnFocusMode?D.none():d(O).map(function(tt){return Un(rd(),function(lt,Tt){tt(lt,O,A),Tt.stop()})}),$=function(tt,lt){var Tt=fo(zu.concat(Xl))(lt.event);O.focusInside===kh.OnEnterOrSpaceMode&&Tt&&dx(tt,lt)&&d(O).each(function(ut){ut(tt,O,A),lt.stop()})},q=[Un(Ov(),function(tt,lt){v(tt,lt,i,O,A).fold(function(){$(tt,lt)},function(Tt){lt.stop()})}),Un(tb(),function(tt,lt){v(tt,lt,s,O,A).each(function(Tt){lt.stop()})})];return ui(z.toArray().concat(q))},S={schema:g,processKey:v,toEvents:C};return S},zy=function(n){var r=[Ro("onEscape"),Ro("onEnter"),Et("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Et("firstTabstop",0),Et("useTabstopAt",en),Ro("visibilitySelector")].concat([n]),i=function(lt,Tt){var ut=lt.visibilitySelector.bind(function(_t){return Au(Tt,_t)}).getOr(Tt);return ua(ut)>0},s=function(lt,Tt){var ut=Da(lt.element,Tt.selector),_t=Dt(ut,function(gn){return i(Tt,gn)});return D.from(_t[Tt.firstTabstop])},d=function(lt,Tt){return Tt.focusManager.get(lt).bind(function(ut){return Au(ut,Tt.selector)})},g=function(lt,Tt){return i(lt,Tt)&&lt.useTabstopAt(Tt)},v=function(lt,Tt,ut){s(lt,Tt).each(function(_t){Tt.focusManager.set(lt,_t)})},C=function(lt,Tt,ut,_t,gn){return gn(Tt,ut,function(wn){return g(_t,wn)}).fold(function(){return _t.cyclic?D.some(!0):D.none()},function(wn){return _t.focusManager.set(lt,wn),D.some(!0)})},S=function(lt,Tt,ut,_t){var gn=Da(lt.element,ut.selector);return d(lt,ut).bind(function(wn){var kt=Ye(gn,tr(zo,wn));return kt.bind(function(rn){return C(lt,gn,rn,ut,_t)})})},O=function(lt,Tt,ut){var _t=ut.cyclic?i3:Zw;return S(lt,Tt,ut,_t)},A=function(lt,Tt,ut){var _t=ut.cyclic?V1:a3;return S(lt,Tt,ut,_t)},z=function(lt,Tt,ut){return ut.onEnter.bind(function(_t){return _t(lt,Tt)})},$=function(lt,Tt,ut){return ut.onEscape.bind(function(_t){return _t(lt,Tt)})},q=X([po(Vs([sp,fo(Rd)]),O),po(fo(Rd),A),po(fo(Ad),$),po(Vs([Ch,fo(Xl)]),z)]),tt=X([]);return Ff(r,Dc.init,q,tt,function(){return D.some(v)})},rC=zy(Uu("cyclic",xn)),u3=zy(Uu("cyclic",en)),c3=function(n,r,i){return ab(n,i,Xc()),D.some(!0)},zd=function(n,r,i){var s=Md(i)&&fo(zu)(r.event);return s?D.none():c3(n,r,i)},$m=function(n,r){return D.some(!0)},lp=[Et("execute",zd),Et("useSpace",!1),Et("useEnter",!0),Et("useControlEnter",!1),Et("useDown",!1)],oC=function(n,r,i){return i.execute(n,r,n.element)},Ny=function(n,r,i,s){var d=i.useSpace&&!Md(n.element)?zu:[],g=i.useEnter?Xl:[],v=i.useDown?Bd:[],C=d.concat(g).concat(v);return[po(fo(C),oC)].concat(i.useControlEnter?[po(Vs([tC,fo(Xl)]),oC)]:[])},s3=function(n,r,i,s){return i.useSpace&&!Md(n.element)?[po(fo(zu),$m)]:[]},U1=Ff(lp,Dc.init,Ny,s3,function(){return D.none()}),$1=function(){var n=Ui(),r=function(d,g){n.set({numRows:d,numColumns:g})},i=function(){return n.get().map(function(d){return d.numRows})},s=function(){return n.get().map(function(d){return d.numColumns})};return Ua({readState:function(){return n.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:i,getNumColumns:s})},Py=function(n){return n.state(n)},l3=Object.freeze({__proto__:null,flatgrid:$1,init:Py}),Fy=function(n){return function(r,i,s,d){var g=n(r.element);return jm(g,r,i,s,d)}},j1=function(n,r){var i=g1(n,r);return Fy(i)},W1=function(n,r){var i=g1(r,n);return Fy(i)},Ly=function(n){return function(r,i,s,d){return jm(n,r,i,s,d)}},jm=function(n,r,i,s,d){var g=s.focusManager.get(r).bind(function(v){return n(r.element,v,s,d)});return g.map(function(v){return s.focusManager.set(r,v),!0})},q1=Ly,Iy=Ly,G1=Ly,Th=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0},iC=function(n){return!Th(n.dom)},f3=function(n,r){return Ye(n,r).map(function(i){return{index:i,candidates:n}})},aC=function(n,r,i){var s=function(v){return zo(v,r)},d=Da(n,i),g=Dt(d,iC);return f3(g,s)},uC=function(n,r){return Ye(n,function(i){return zo(r,i)})},Hy=function(n,r,i,s){var d=Math.floor(r/i),g=r%i;return s(d,g).bind(function(v){var C=v.row*i+v.column;return C>=0&&C<n.length?D.some(n[C]):D.none()})},cC=function(n,r,i,s,d){return Hy(n,r,s,function(g,v){var C=g===i-1,S=C?n.length-g*s:s,O=Vl(v,d,0,S-1);return D.some({row:g,column:O})})},sC=function(n,r,i,s,d){return Hy(n,r,s,function(g,v){var C=Vl(g,d,0,i-1),S=C===i-1,O=S?n.length-C*s:s,A=lc(v,0,O-1);return D.some({row:C,column:A})})},Vy=function(n,r,i,s){return cC(n,r,i,s,1)},Uy=function(n,r,i,s){return cC(n,r,i,s,-1)},d3=function(n,r,i,s){return sC(n,r,i,s,-1)},m3=function(n,r,i,s){return sC(n,r,i,s,1)},fp=[Nn("selector"),Et("execute",zd),Zo("onEscape"),Et("captureTab",!1),Uv()],g3=function(n,r,i){fa(n.element,r.selector).each(function(s){r.focusManager.set(n,s)})},Nd=function(n,r){return r.focusManager.get(n).bind(function(i){return Au(i,r.selector)})},lC=function(n,r,i,s){return Nd(n,i).bind(function(d){return i.execute(n,r,d)})},Wm=function(n){return function(r,i,s,d){return aC(r,i,s.selector).bind(function(g){return n(g.candidates,g.index,d.getNumRows().getOr(s.initSize.numRows),d.getNumColumns().getOr(s.initSize.numColumns))})}},K1=function(n,r,i){return i.captureTab?D.some(!0):D.none()},fC=function(n,r,i){return i.onEscape(n,r)},$y=Wm(Uy),Oh=Wm(Vy),jy=Wm(d3),qm=Wm(m3),Eh=X([po(fo(H1),j1($y,Oh)),po(fo(cp),W1($y,Oh)),po(fo(wh),q1(jy)),po(fo(Bd),Iy(qm)),po(Vs([sp,fo(Rd)]),K1),po(Vs([Ch,fo(Rd)]),K1),po(fo(Ad),fC),po(fo(zu.concat(Xl)),lC)]),p3=X([po(fo(zu),$m)]),dC=Ff(fp,$1,Eh,p3,function(){return D.some(g3)}),dp=function(n,r,i,s){var d=function(v){return dt(v)==="button"&&yi(v,"disabled")==="disabled"},g=function(v,C,S){var O=Vl(C,s,0,S.length-1);return O===v?D.none():d(S[O])?g(v,O,S):D.from(S[O])};return aC(n,i,r).bind(function(v){var C=v.index,S=v.candidates;return g(C,C,S)})},h3=[Nn("selector"),Et("getInitial",D.none),Et("execute",zd),Zo("onEscape"),Et("executeOnMove",!1),Et("allowVertical",!0)],_h=function(n,r){return r.focusManager.get(n).bind(function(i){return Au(i,r.selector)})},Dh=function(n,r,i){return _h(n,i).bind(function(s){return i.execute(n,r,s)})},mC=function(n,r,i){r.getInitial(n).orThunk(function(){return fa(n.element,r.selector)}).each(function(s){r.focusManager.set(n,s)})},hs=function(n,r,i){return dp(n,i.selector,r,-1)},Wy=function(n,r,i){return dp(n,i.selector,r,1)},X1=function(n){return function(r,i,s,d){return n(r,i,s,d).bind(function(){return s.executeOnMove?Dh(r,i,s):D.some(!0)})}},v3=function(n,r,i){return i.onEscape(n,r)},qy=function(n,r,i,s){var d=H1.concat(i.allowVertical?wh:[]),g=cp.concat(i.allowVertical?Bd:[]);return[po(fo(d),X1(j1(hs,Wy))),po(fo(g),X1(W1(hs,Wy))),po(fo(Xl),Dh),po(fo(zu),Dh),po(fo(Ad),v3)]},gC=X([po(fo(zu),$m)]),J1=Ff(h3,Dc.init,qy,gC,function(){return D.some(mC)}),Mh=function(n,r,i){return D.from(n[r]).bind(function(s){return D.from(s[i]).map(function(d){return{rowIndex:r,columnIndex:i,cell:d}})})},Gy=function(n,r,i,s){var d=n[r],g=d.length,v=Vl(i,s,0,g-1);return Mh(n,r,v)},pC=function(n,r,i,s){var d=Vl(i,s,0,n.length-1),g=n[d].length,v=lc(r,0,g-1);return Mh(n,d,v)},hC=function(n,r,i,s){var d=n[r],g=d.length,v=lc(i+s,0,g-1);return Mh(n,r,v)},Lf=function(n,r,i,s){var d=lc(i+s,0,n.length-1),g=n[d].length,v=lc(r,0,g-1);return Mh(n,d,v)},Y1=function(n,r,i){return Gy(n,r,i,1)},b3=function(n,r,i){return Gy(n,r,i,-1)},Ky=function(n,r,i){return pC(n,i,r,-1)},y3=function(n,r,i){return pC(n,i,r,1)},Xy=function(n,r,i){return hC(n,r,i,-1)},mp=function(n,r,i){return hC(n,r,i,1)},Q1=function(n,r,i){return Lf(n,i,r,-1)},x3=function(n,r,i){return Lf(n,i,r,1)},vC=[Bl("selectors",[Nn("row"),Nn("cell")]),Et("cycles",!0),Et("previousSelector",D.none),Et("execute",zd)],Jy=function(n,r,i){var s=r.previousSelector(n).orThunk(function(){var d=r.selectors;return fa(n.element,d.cell)});s.each(function(d){r.focusManager.set(n,d)})},Yy=function(n,r,i){return Ps(n.element).bind(function(s){return i.execute(n,r,s)})},w3=function(n,r){return Zt(n,function(i){return Da(i,r.selectors.cell)})},Z1=function(n,r){return function(i,s,d){var g=d.cycles?n:r;return Au(s,d.selectors.row).bind(function(v){var C=Da(v,d.selectors.cell);return uC(C,s).bind(function(S){var O=Da(i,d.selectors.row);return uC(O,v).bind(function(A){var z=w3(O,d);return g(z,A,S).map(function($){return $.cell})})})})}},bC=Z1(b3,Xy),yC=Z1(Y1,mp),xC=Z1(Ky,Q1),Rh=Z1(y3,x3),Ah=X([po(fo(H1),j1(bC,yC)),po(fo(cp),W1(bC,yC)),po(fo(wh),q1(xC)),po(fo(Bd),Iy(Rh)),po(fo(zu.concat(Xl)),Yy)]),Gm=X([po(fo(zu),$m)]),wC=Ff(vC,Dc.init,Ah,Gm,function(){return D.some(Jy)}),CC=[Nn("selector"),Et("execute",zd),Et("moveOnTab",!1)],t0=function(n,r,i){return i.focusManager.get(n).bind(function(s){return i.execute(n,r,s)})},n0=function(n,r,i){fa(n.element,r.selector).each(function(s){r.focusManager.set(n,s)})},Qy=function(n,r,i){return dp(n,i.selector,r,-1)},Zy=function(n,r,i){return dp(n,i.selector,r,1)},SC=function(n,r,i,s){return i.moveOnTab?G1(Qy)(n,r,i,s):D.none()},Jl=function(n,r,i,s){return i.moveOnTab?G1(Zy)(n,r,i,s):D.none()},t2=X([po(fo(wh),G1(Qy)),po(fo(Bd),G1(Zy)),po(Vs([sp,fo(Rd)]),SC),po(Vs([Ch,fo(Rd)]),Jl),po(fo(Xl),t0),po(fo(zu),t0)]),Yl=X([po(fo(zu),$m)]),C3=Ff(CC,Dc.init,t2,Yl,function(){return D.some(n0)}),If=[Zo("onSpace"),Zo("onEnter"),Zo("onShiftEnter"),Zo("onLeft"),Zo("onRight"),Zo("onTab"),Zo("onShiftTab"),Zo("onUp"),Zo("onDown"),Zo("onEscape"),Et("stopSpaceKeyup",!1),Ro("focusIn")],kC=function(n,r,i){return[po(fo(zu),i.onSpace),po(Vs([Ch,fo(Xl)]),i.onEnter),po(Vs([sp,fo(Xl)]),i.onShiftEnter),po(Vs([sp,fo(Rd)]),i.onShiftTab),po(Vs([Ch,fo(Rd)]),i.onTab),po(fo(wh),i.onUp),po(fo(Bd),i.onDown),po(fo(H1),i.onLeft),po(fo(cp),i.onRight),po(fo(zu),i.onSpace),po(fo(Ad),i.onEscape)]},TC=function(n,r,i){return i.stopSpaceKeyup?[po(fo(zu),$m)]:[]},S3=Ff(If,Dc.init,kC,TC,function(n){return n.focusIn}),k3=rC.schema(),gp=u3.schema(),pp=J1.schema(),e0=dC.schema(),OC=wC.schema(),Pd=U1.schema(),Fd=C3.schema(),EC=S3.schema(),Bh=Object.freeze({__proto__:null,acyclic:k3,cyclic:gp,flow:pp,flatgrid:e0,matrix:OC,execution:Pd,menu:Fd,special:EC}),Km=function(n){return Pe(n,"setGridSize")},kr=Cm({branchKey:"mode",branches:Bh,name:"keying",active:{events:function(n,r){var i=n.handler;return i.toEvents(n,r)}},apis:{focusIn:function(n,r,i){r.sendFocusIn(r).fold(function(){n.getSystem().triggerFocus(n.element,n.element)},function(s){s(n,r,i)})},setGridSize:function(n,r,i,s,d){Km(i)?i.setGridSize(s,d):console.error("Layout does not support setGridSize")}},state:l3}),n2=function(n,r,i,s){Rf(function(){var d=Zt(s,n.getSystem().build);hw(n,d)},n.element)},r0=function(n,r,i,s){var d=n.getSystem().build(s);Bm(n,d,i)},e2=function(n,r,i,s){r0(n,r,hu,s)},Hf=function(n,r,i,s){r0(n,r,gf,s)},o0=function(n,r,i,s){var d=zh(n),g=kn(d,function(v){return zo(s.element,v.element)});g.each(ls)},zh=function(n,r){return n.components()},i0=function(n,r,i,s,d){var g=zh(n);return D.from(g[s]).map(function(v){return o0(n,r,i,v),d.each(function(C){r0(n,r,function(S,O){nl(S,O,s)},C)}),v})},r2=function(n,r,i,s,d){var g=zh(n);return Ye(g,s).bind(function(v){return i0(n,r,i,v,d)})},o2=Object.freeze({__proto__:null,append:e2,prepend:Hf,remove:o0,replaceAt:i0,replaceBy:r2,set:n2,contents:zh}),Ur=Ji({fields:[],name:"replacing",apis:o2}),_C=function(n,r){var i=ui(r);return Ji({fields:[Nn("enabled")],name:n,active:{events:X(i)}})},Zr=function(n,r){var i=_C(n,r);return{key:n,value:{config:{},me:i,configAsRaw:X({}),initialConfig:{},state:Dc}}},DC=function(n,r){r.ignore||(Ul(n.element),r.onFocus(n))},Nh=function(n,r){r.ignore||Qp(n.element)},a0=function(n){return t1(n.element)},Ld=Object.freeze({__proto__:null,focus:DC,blur:Nh,isFocused:a0}),i2=function(n,r){var i=r.ignore?{}:{attributes:{tabindex:"-1"}};return sl(i)},u0=function(n){return ui([Un(rd(),function(r,i){DC(r,n),i.stop()})].concat(n.stopMousedown?[Un(Rs(),function(r,i){i.event.prevent()})]:[]))},Ph=Object.freeze({__proto__:null,exhibit:i2,events:u0}),MC=[oo("onFocus"),Et("stopMousedown",!1),Et("ignore",!1)],Nr=Ji({fields:MC,name:"focusing",active:Ph,apis:Ld}),RC=function(n){var r=function(){var i=wr(n),s=function(){return i.get()},d=function(C){return i.set(C)},g=function(){return i.set(n)},v=function(){return i.get()};return{get:s,set:d,clear:g,readState:v}};return{init:r}},AC=function(n,r,i){var s=r.aria;s.update(n,s,i.get())},hp=function(n,r,i){r.toggleClass.each(function(s){i.get()?$a(n.element,s):la(n.element,s)})},Xm=function(n,r,i){a2(n,r,i,!i.get())},BC=function(n,r,i){i.set(!0),hp(n,r,i),AC(n,r,i)},zC=function(n,r,i){i.set(!1),hp(n,r,i),AC(n,r,i)},a2=function(n,r,i,s){var d=s?BC:zC;d(n,r,i)},c0=function(n,r,i){return i.get()},NC=function(n,r,i){a2(n,r,i,r.selected)},s0=Object.freeze({__proto__:null,onLoad:NC,toggle:Xm,isOn:c0,on:BC,off:zC,set:a2}),PC=function(){return sl({})},FC=function(n,r){var i=Yv(n,r,Xm),s=wa(n,r,NC);return ui(pt([n.toggleOnExecute?[i]:[],[s]]))},T3=Object.freeze({__proto__:null,exhibit:PC,events:FC}),O3=function(n,r,i){Kr(n.element,"aria-pressed",i),r.syncWithExpanded&&LC(n,r,i)},E3=function(n,r,i){Kr(n.element,"aria-selected",i)},_3=function(n,r,i){Kr(n.element,"aria-checked",i)},LC=function(n,r,i){Kr(n.element,"aria-expanded",i)},u2=[Et("selected",!1),Ro("toggleClass"),Et("toggleOnExecute",!0),$u("aria",{mode:"none"},os("mode",{pressed:[Et("syncWithExpanded",!1),qo("update",O3)],checked:[qo("update",_3)],expanded:[qo("update",LC)],selected:[qo("update",E3)],none:[qo("update",At)]}))],ho=Ji({fields:u2,name:"toggling",active:T3,apis:s0,state:RC(!1)}),IC=function(){var n=function(r,i){i.stop(),Tf(r)};return[Un(Tg(),n),Un(od(),n),Xi(Pl()),Xi(Rs())]},Fh=function(n){var r=function(i){return zs(function(s,d){i(s),d.stop()})};return ui(pt([n.map(r).toArray(),IC()]))},Lh="alloy.item-hover",l0="alloy.item-focus",f0=function(n){(Ps(n.element).isNone()||Nr.isFocused(n))&&(Nr.isFocused(n)||Nr.focus(n),Sr(n,Lh,{item:n}))},HC=function(n){Sr(n,l0,{item:n})},VC=X(Lh),u=X(l0),l=function(n){return{dom:n.dom,domModification:J(J({},n.domModification),{attributes:J(J(J({role:n.toggling.isSome()?"menuitemcheckbox":"menuitem"},n.domModification.attributes),{"aria-haspopup":n.hasSubmenu}),n.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:gs.augment(n.itemBehaviours,[n.toggling.fold(ho.revoke,function(r){return ho.config(J({aria:{mode:"checked"}},r))}),Nr.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:function(r){HC(r)}}),kr.config({mode:"execution"}),_e.config({store:{mode:"memory",initialValue:n.data}}),Zr("item-type-events",fn(fn([],IC(),!0),[Un(Sf(),f0),Un(im(),Nr.focus)],!1))]),components:n.components,eventOrder:n.eventOrder}},m=[Nn("data"),Nn("components"),Nn("dom"),Et("hasSubmenu",!1),Ro("toggling"),gs.field("itemBehaviours",[ho,Nr,kr,_e]),Et("ignoreFocus",!1),Et("domModification",{}),qo("builder",l),Et("eventOrder",{})],h=function(n){return{dom:n.dom,components:n.components,events:ui([gi(im())])}},y=[Nn("dom"),Nn("components"),qo("builder",h)],T=X("item-widget"),R=X([Ka({name:"widget",overrides:function(n){return{behaviours:we([_e.config({store:{mode:"manual",getValue:function(r){return n.data},setValue:At}})])}}})]),N=function(n){var r=wy(T(),n,R()),i=Cy(T(),n,r.internals()),s=function(g){return Go(g,n,"widget").map(function(v){return kr.focusIn(v),v})},d=function(g,v){return Md(v.event.target)?D.none():function(){return n.autofocus&&v.setSource(g.element),D.none()}()};return{dom:n.dom,components:i,domModification:n.domModification,events:ui([zs(function(g,v){s(g).each(function(C){v.stop()})}),Un(Sf(),f0),Un(im(),function(g,v){n.autofocus?s(g):Nr.focus(g)})]),behaviours:gs.augment(n.widgetBehaviours,[_e.config({store:{mode:"memory",initialValue:n.data}}),Nr.config({ignore:n.ignoreFocus,onFocus:function(g){HC(g)}}),kr.config({mode:"special",focusIn:n.autofocus?function(g){s(g)}:Qv(),onLeft:d,onRight:d,onEscape:function(g,v){return!Nr.isFocused(g)&&!n.autofocus?(Nr.focus(g),D.some(!0)):(n.autofocus&&v.setSource(g.element),D.none())}})])}},G=[Nn("uid"),Nn("data"),Nn("components"),Nn("dom"),Et("autofocus",!1),Et("ignoreFocus",!1),gs.field("widgetBehaviours",[_e,Nr,kr]),Et("domModification",{}),Ty(R()),qo("builder",N)],at=os("type",{widget:G,item:m,separator:y}),yt=function(n,r){return{mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:n.focusManager}},vn=function(n,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+n.markers.item},focusManager:n.focusManager}},ne=function(n,r){return{mode:"menu",selector:"."+n.markers.item,moveOnTab:r.moveOnTab,focusManager:n.focusManager}},In=X([vl({factory:{sketch:function(n){var r=Io("menu.spec item",at,n);return r.builder(r)}},name:"items",unit:"item",defaults:function(n,r){return Hn(r,"uid")?r:J(J({},r),{uid:sm("item")})},overrides:function(n,r){return{type:r.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}}}})]),bn=X([Nn("value"),Nn("items"),Nn("dom"),Nn("components"),Et("eventOrder",{}),Ma("menuBehaviours",[Ao,_e,io,kr]),$u("movement",{mode:"menu",moveOnTab:!0},os("mode",{grid:[Uv(),qo("config",yt)],matrix:[qo("config",vn),Nn("rowSelector")],menu:[Et("moveOnTab",!0),qo("config",ne)]})),Kk(),Et("fakeFocus",!1),Et("focusManager",Sh()),oo("onHighlight")]),ve=X("alloy.menu-focus"),he=function(n,r,i,s){return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Ra(n.menuBehaviours,[Ao.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight}),_e.config({store:{mode:"memory",initialValue:n.value}}),io.config({find:D.some}),kr.config(n.movement.config(n,n.movement))]),events:ui([Un(u(),function(d,g){var v=g.event;d.getSystem().getByDom(v.target).each(function(C){Ao.highlight(d,C),g.stop(),Sr(d,ve(),{menu:d,item:C})})}),Un(VC(),function(d,g){var v=g.event.item;Ao.highlight(d,v)})]),components:r,eventOrder:n.eventOrder,domModification:{attributes:{role:"menu"}}}},sr=Ju({name:"Menu",configFields:bn(),partFields:In(),factory:he}),Co=function(n){return Mt(n,function(r,i){return{k:r,v:i}})},yr=function(n,r,i,s){return tn(i,s).bind(function(d){return tn(n,d).bind(function(g){var v=yr(n,r,i,g);return D.some([g].concat(v))})}).getOr([])},Pr=function(n,r){var i={};xe(n,function(v,C){Pt(v,function(S){i[S]=C})});var s=r,d=Co(r),g=Qn(d,function(v,C){return[C].concat(yr(i,s,d,C))});return Qn(i,function(v){return tn(g,v).getOr([v])})},mo=function(){var n=wr({}),r=wr({}),i=wr({}),s=Ui(),d=wr({}),g=function(){n.set({}),r.set({}),i.set({}),s.clear()},v=function(){return s.get().isNone()},C=function(kt,rn){var Bn;r.set(J(J({},r.get()),(Bn={},Bn[kt]={type:"prepared",menu:rn},Bn)))},S=function(kt,rn,Bn,Re){s.set(kt),n.set(Bn),r.set(rn),d.set(Re);var Vn=Pr(Re,Bn);i.set(Vn)},O=function(kt){return ht(n.get(),function(rn,Bn){return rn===kt})},A=function(kt,rn,Bn){return lt(kt).bind(function(Re){return O(kt).bind(function(Vn){return rn(Vn).map(function(ze){return{triggeredMenu:Re,triggeringItem:ze,triggeringPath:Bn}})})})},z=function(kt,rn){var Bn=Dt(ut(kt).toArray(),function(Re){return lt(Re).isSome()});return tn(i.get(),kt).bind(function(Re){var Vn=zn(Bn.concat(Re)),ze=sn(Vn,function(Kn,Rn){return A(Kn,rn,Vn.slice(0,Rn+1)).fold(function(){return Er(s.get(),Kn)?[]:[D.none()]},function(Oe){return[D.some(Oe)]})});return Rr(ze)})},$=function(kt){return tn(n.get(),kt).map(function(rn){var Bn=tn(i.get(),kt).getOr([]);return[rn].concat(Bn)})},q=function(kt){return tn(i.get(),kt).bind(function(rn){return rn.length>1?D.some(rn.slice(1)):D.none()})},tt=function(kt){return tn(i.get(),kt)},lt=function(kt){return Tt(kt).bind(eo)},Tt=function(kt){return tn(r.get(),kt)},ut=function(kt){return tn(n.get(),kt)},_t=function(kt){var rn=d.get();return Ue(jt(rn),kt)},gn=function(){return s.get().bind(lt)},wn=function(){return r.get()};return{setMenuBuilt:C,setContents:S,expand:$,refresh:tt,collapse:q,lookupMenu:Tt,lookupItem:ut,otherMenus:_t,getPrimary:gn,getMenus:wn,clear:g,isClear:v,getTriggeringPath:z}},eo=function(n){return n.type==="prepared"?D.some(n.menu):D.none()},$i={init:mo,extractPreparedMenu:eo},Aa=function(n,r){var i=Ui(),s=function($n,Je,lr){return Qn(lr,function(bo,jo){var Pi=function(){return sr.sketch(J(J({},bo),{value:jo,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:n.onHighlight,focusManager:n.fakeFocus?eC():Sh()}))};return jo===Je?{type:"prepared",menu:$n.getSystem().build(Pi())}:{type:"notbuilt",nbMenu:Pi}})},d=$i.init(),g=function($n){var Je=s($n,n.data.primary,n.data.menus),lr=S();return d.setContents(n.data.primary,Je,n.data.expansions,lr),d.getPrimary()},v=function($n){return _e.getValue($n).value},C=function($n,Je,lr){return zt(Je,function(bo){if(!bo.getSystem().isConnected())return D.none();var jo=Ao.getCandidates(bo);return kn(jo,function(Pi){return v(Pi)===lr})})},S=function($n){return Qn(n.data.menus,function(Je,lr){return sn(Je.items,function(bo){return bo.type==="separator"?[]:[bo.data.value]})})},O=function($n,Je){Ao.highlight($n,Je),Ao.getHighlighted(Je).orThunk(function(){return Ao.getFirst(Je)}).each(function(lr){ab($n,lr.element,im())})},A=function($n,Je){return _r(Zt(Je,function(lr){return $n.lookupMenu(lr).bind(function(bo){return bo.type==="prepared"?D.some(bo.menu):D.none()})}))},z=function($n,Je,lr){var bo=A(Je,Je.otherMenus(lr));Pt(bo,function(jo){Il(jo.element,[n.markers.backgroundMenu]),n.stayInDom||Ur.remove($n,jo)})},$=function($n){return i.get().getOrThunk(function(){var Je={},lr=Da($n.element,"."+n.markers.item),bo=Dt(lr,function(jo){return yi(jo,"aria-haspopup")==="true"});return Pt(bo,function(jo){$n.getSystem().getByDom(jo).each(function(Pi){var Jf=v(Pi);Je[Jf]=Pi})}),i.set(Je),Je})},q=function($n,Je){var lr=$($n);xe(lr,function(bo,jo){var Pi=Pn(Je,jo);Kr(bo.element,"aria-expanded",Pi)})},tt=function($n,Je,lr){return D.from(lr[0]).bind(function(bo){return Je.lookupMenu(bo).bind(function(jo){if(jo.type==="notbuilt")return D.none();var Pi=jo.menu,Jf=A(Je,lr.slice(1));return Pt(Jf,function(uf){$a(uf.element,n.markers.backgroundMenu)}),Cr(Pi.element)||Ur.append($n,Qc(Pi)),Il(Pi.element,[n.markers.backgroundMenu]),O($n,Pi),z($n,Je,lr),D.some(Pi)})})},lt;(function($n){$n[$n.HighlightSubmenu=0]="HighlightSubmenu",$n[$n.HighlightParent=1]="HighlightParent"})(lt||(lt={}));var Tt=function($n,Je,lr){if(lr.type==="notbuilt"){var bo=$n.getSystem().build(lr.nbMenu());return d.setMenuBuilt(Je,bo),bo}else return lr.menu},ut=function($n,Je,lr){if(lr===void 0&&(lr=lt.HighlightSubmenu),Je.hasConfigured(pr)&&pr.isDisabled(Je))return D.some(Je);var bo=v(Je);return d.expand(bo).bind(function(jo){return q($n,jo),D.from(jo[0]).bind(function(Pi){return d.lookupMenu(Pi).bind(function(Jf){var uf=Tt($n,Pi,Jf);return Cr(uf.element)||Ur.append($n,Qc(uf)),n.onOpenSubmenu($n,Je,uf,zn(jo)),lr===lt.HighlightSubmenu?(Ao.highlightFirst(uf),tt($n,d,jo)):(Ao.dehighlightAll(uf),D.some(Je))})})})},_t=function($n,Je){var lr=v(Je);return d.collapse(lr).bind(function(bo){return q($n,bo),tt($n,d,bo).map(function(jo){return n.onCollapseMenu($n,Je,jo),jo})})},gn=function($n,Je){var lr=v(Je);return d.refresh(lr).bind(function(bo){return q($n,bo),tt($n,d,bo)})},wn=function($n,Je){return Md(Je.element)?D.none():ut($n,Je,lt.HighlightSubmenu)},kt=function($n,Je){return Md(Je.element)?D.none():_t($n,Je)},rn=function($n,Je){return _t($n,Je).orThunk(function(){return n.onEscape($n,Je).map(function(){return $n})})},Bn=function($n){return function(Je,lr){return Au(lr.getSource(),"."+n.markers.item).bind(function(bo){return Je.getSystem().getByDom(bo).toOptional().bind(function(jo){return $n(Je,jo).map(en)})})}},Re=ui([Un(ve(),function($n,Je){var lr=Je.event.item;d.lookupItem(v(lr)).each(function(){var bo=Je.event.menu;Ao.highlight($n,bo);var jo=v(Je.event.item);d.refresh(jo).each(function(Pi){return z($n,d,Pi)})})}),zs(function($n,Je){var lr=Je.event.target;$n.getSystem().getByDom(lr).each(function(bo){var jo=v(bo);jo.indexOf("collapse-item")===0&&_t($n,bo),ut($n,bo,lt.HighlightSubmenu).fold(function(){n.onExecute($n,bo)},At)})}),Si(function($n,Je){g($n).each(function(lr){Ur.append($n,Qc(lr)),n.onOpenMenu($n,lr),n.highlightImmediately&&O($n,lr)})})].concat(n.navigateOnHover?[Un(VC(),function($n,Je){var lr=Je.event.item;gn($n,lr),ut($n,lr,lt.HighlightParent),n.onHover($n,lr)})]:[])),Vn=function($n){return Ao.getHighlighted($n).bind(Ao.getHighlighted)},ze=function($n){Vn($n).each(function(Je){_t($n,Je)})},Kn=function($n){d.getPrimary().each(function(Je){O($n,Je)})},Rn=function($n){return D.from($n.components()[0]).filter(function(Je){return yi(Je.element,"role")==="menu"})},Oe=function($n){var Je=d.getPrimary().bind(function(lr){return Vn($n).bind(function(bo){var jo=v(bo),Pi=dn(d.getMenus()),Jf=_r(Zt(Pi,$i.extractPreparedMenu));return d.getTriggeringPath(jo,function(uf){return C($n,Jf,uf)})}).map(function(bo){return{primary:lr,triggeringPath:bo}})});Je.fold(function(){Rn($n).each(function(lr){n.onRepositionMenu($n,lr,[])})},function(lr){var bo=lr.primary,jo=lr.triggeringPath;n.onRepositionMenu($n,bo,jo)})},or={collapseMenu:ze,highlightPrimary:Kn,repositionMenus:Oe};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Ra(n.tmenuBehaviours,[kr.config({mode:"special",onRight:Bn(wn),onLeft:Bn(kt),onEscape:Bn(rn),focusIn:function($n,Je){d.getPrimary().each(function(lr){ab($n,lr.element,im())})}}),Ao.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),io.config({find:function($n){return Ao.getHighlighted($n)}}),Ur.config({})]),eventOrder:n.eventOrder,apis:or,events:Re}},Nu=X("collapse-item"),To=function(n,r,i){return{primary:n,menus:r,expansions:i}},$r=function(n,r){return{primary:n,menus:zl(n,r),expansions:{}}},vo=function(n){return{value:We(Nu()),meta:{text:n}}},Uo=Nc({name:"TieredMenu",configFields:[gd("onExecute"),gd("onEscape"),xm("onOpenMenu"),xm("onOpenSubmenu"),oo("onRepositionMenu"),oo("onCollapseMenu"),Et("highlightImmediately",!0),Bl("data",[Nn("primary"),Nn("menus"),Nn("expansions")]),Et("fakeFocus",!1),oo("onHighlight"),oo("onHover"),bm(),Nn("dom"),Et("navigateOnHover",!0),Et("stayInDom",!1),Ma("tmenuBehaviours",[kr,Ao,io,Ur]),Et("eventOrder",{})],apis:{collapseMenu:function(n,r){n.collapseMenu(r)},highlightPrimary:function(n,r){n.highlightPrimary(r)},repositionMenus:function(n,r){n.repositionMenus(r)}},factory:Aa,extraApis:{tieredData:To,singleData:$r,collapseItem:vo}}),ki=function(n,r,i,s,d){var g=function(){return n.lazySink(r)},v=s.type==="horizontal"?{layouts:{onLtr:function(){return Mf()},onRtl:function(){return bd()}}}:{},C=function(O){return O.length===2},S=function(O){return C(O)?v:{}};return Uo.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return go.close(r),n.onEscape.map(function(O){return O(r)}),D.some(!0)},onExecute:function(){return D.some(!0)},onOpenMenu:function(O,A){Ku.positionWithinBounds(g().getOrDie(),A,i,d())},onOpenSubmenu:function(O,A,z,$){var q=g().getOrDie();Ku.position(q,z,{anchor:J({type:"submenu",item:A},S($))})},onRepositionMenu:function(O,A,z){var $=g().getOrDie();Ku.positionWithinBounds($,A,i,d()),Pt(z,function(q){var tt=S(q.triggeringPath);Ku.position($,q.triggeredMenu,{anchor:J({type:"submenu",item:q.triggeringItem},tt)})})}})},Ql=function(n,r){var i=function(q,tt){var lt=n.getRelated(q);return lt.exists(function(Tt){return gm(Tt,tt)})},s=function(q,tt){go.setContent(q,tt)},d=function(q,tt,lt){g(q,tt,lt,D.none())},g=function(q,tt,lt,Tt){v(q,tt,lt,function(){return Tt.map(function(ut){return na(ut)})})},v=function(q,tt,lt,Tt){var ut=n.lazySink(q).getOrDie();go.openWhileCloaked(q,tt,function(){return Ku.positionWithinBounds(ut,q,lt,Tt())}),_e.setValue(q,D.some({mode:"position",config:lt,getBounds:Tt}))},C=function(q,tt,lt){S(q,tt,lt,D.none)},S=function(q,tt,lt,Tt){var ut=ki(n,q,tt,lt,Tt);go.open(q,ut),_e.setValue(q,D.some({mode:"menu",menu:ut}))},O=function(q){go.isOpen(q)&&(_e.setValue(q,D.none()),go.close(q))},A=function(q){return go.getState(q)},z=function(q){go.isOpen(q)&&_e.getValue(q).each(function(tt){switch(tt.mode){case"menu":go.getState(q).each(Uo.repositionMenus);break;case"position":var lt=n.lazySink(q).getOrDie();Ku.positionWithinBounds(lt,q,tt.config,tt.getBounds());break}})},$={setContent:s,showAt:d,showWithin:g,showWithinBounds:v,showMenuAt:C,showMenuWithinBounds:S,hide:O,getContent:A,reposition:z,isOpen:go.isOpen};return{uid:n.uid,dom:n.dom,behaviours:Ra(n.inlineBehaviours,[go.config({isPartOf:function(q,tt,lt){return gm(tt,lt)||i(q,lt)},getAttachPoint:function(q){return n.lazySink(q).getOrDie()},onOpen:function(q){n.onShow(q)},onClose:function(q){n.onHide(q)}}),_e.config({store:{mode:"memory",initialValue:D.none()}}),Rc.config({channels:J(J({},Ed(J({isExtraPart:r.isExtraPart},n.fireDismissalEventInstead.map(function(q){return{fireEventInstead:{event:q.event}}}).getOr({})))),sh(J(J({},n.fireRepositionEventInstead.map(function(q){return{fireEventInstead:{event:q.event}}}).getOr({})),{doReposition:z})))})]),eventOrder:n.eventOrder,apis:$}},Ho=Nc({name:"InlineView",configFields:[Nn("lazySink"),oo("onShow"),oo("onHide"),nd("onEscape"),Ma("inlineBehaviours",[go,_e,Rc]),Oc("fireDismissalEventInstead",[Et("event",As())]),Oc("fireRepositionEventInstead",[Et("event",Ru())]),Et("getRelated",D.none),Et("isExtraPart",xn),Et("eventOrder",D.none)],factory:Ql,apis:{showAt:function(n,r,i,s){n.showAt(r,i,s)},showWithin:function(n,r,i,s,d){n.showWithin(r,i,s,d)},showWithinBounds:function(n,r,i,s,d){n.showWithinBounds(r,i,s,d)},showMenuAt:function(n,r,i,s){n.showMenuAt(r,i,s)},showMenuWithinBounds:function(n,r,i,s,d){n.showMenuWithinBounds(r,i,s,d)},hide:function(n,r){n.hide(r)},isOpen:function(n,r){return n.isOpen(r)},getContent:function(n,r){return n.getContent(r)},setContent:function(n,r,i){n.setContent(r,i)},reposition:function(n,r){n.reposition(r)}}}),Pc="layout-inset",su=function(n){return n.x},Ih=function(n,r){return n.x+n.width/2-r.width/2},Jm=function(n,r){return n.x+n.width-r.width},bl=function(n){return n.y},vs=function(n,r){return n.y+n.height-r.height},yl=function(n,r){return n.y+n.height/2-r.height/2},Hh=function(n,r,i){return ja(Jm(n,r),vs(n,r),i.insetSouthwest(),Wv(),"southwest",ou(n,{right:0,bottom:3}),Pc)},vp=function(n,r,i){return ja(su(n),vs(n,r),i.insetSoutheast(),Tb(),"southeast",ou(n,{left:1,bottom:3}),Pc)},Vh=function(n,r,i){return ja(Jm(n,r),bl(n),i.insetNorthwest(),Pg(),"northwest",ou(n,{right:0,top:2}),Pc)},Ym=function(n,r,i){return ja(su(n),bl(n),i.insetNortheast(),jv(),"northeast",ou(n,{left:1,top:2}),Pc)},Us=function(n,r,i){return ja(Ih(n,r),bl(n),i.insetNorth(),Fg(),"north",ou(n,{top:2}),Pc)},Qm=function(n,r,i){return ja(Ih(n,r),vs(n,r),i.insetSouth(),qv(),"south",ou(n,{bottom:3}),Pc)},d0=function(n,r,i){return ja(Jm(n,r),yl(n,r),i.insetEast(),wm(),"east",ou(n,{right:0}),Pc)},m0=function(n,r,i){return ja(su(n),yl(n,r),i.insetWest(),sc(),"west",ou(n,{left:1}),Pc)},Uh=function(n){switch(n){case"north":return Us;case"northeast":return Ym;case"northwest":return Vh;case"south":return Qm;case"southeast":return vp;case"southwest":return Hh;case"east":return d0;case"west":return m0}},CE=function(n,r,i,s,d){var g=Ib(s).map(Uh).getOr(Us);return g(n,r,i,s,d)},CR=function(n){switch(n){case"north":return Qm;case"northeast":return vp;case"northwest":return Hh;case"south":return Us;case"southeast":return Ym;case"southwest":return Vh;case"east":return m0;case"west":return d0}},SR=function(n,r,i,s,d){var g=Ib(s).map(CR).getOr(Us);return g(n,r,i,s,d)},Zm=tinymce.util.Tools.resolve("tinymce.util.Delay"),SE=function(n){var r=Fh(n.action),i=n.dom.tag,s=function(g){return tn(n.dom,"attributes").bind(function(v){return tn(v,g)})},d=function(){if(i==="button"){var g=s("type").getOr("button"),v=s("role").map(function(S){return{role:S}}).getOr({});return J({type:g},v)}else{var C=s("role").getOr("button");return{role:C}}};return{uid:n.uid,dom:n.dom,components:n.components,events:r,behaviours:gs.augment(n.buttonBehaviours,[Nr.config({}),kr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:n.eventOrder}},Qu=Nc({name:"Button",factory:SE,configFields:[Et("uid",void 0),Nn("dom"),Et("components",[]),gs.field("buttonBehaviours",[Nr,kr]),Ro("action"),Ro("role"),Et("eventOrder",{})]}),Po=function(n){var r=q4(n)&&Pe(n,"uid")?n.uid:sm("memento"),i=function(g){return g.getSystem().getByUid(r).getOrDie()},s=function(g){return g.getSystem().getByUid(r).toOptional()},d=function(){return J(J({},n),{uid:r})};return{get:i,getOpt:s,asSpec:d}},$s=tinymce.util.Tools.resolve("tinymce.util.I18n"),kR={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},kE="temporary-placeholder",D3=function(n){return function(){return tn(n,kE).getOr("!not found!")}},M3=function(n,r){var i=n.toLowerCase();if($s.isRtl()){var s=Li(i,"-rtl");return Hn(r,s)?s:i}else return i},TE=function(n,r){return tn(r,M3(n,r))},OE=function(n,r){var i=r();return TE(n,i).getOrThunk(D3(i))},EE=function(n,r,i){var s=r();return TE(n,s).or(i).getOrThunk(D3(s))},TR=function(n){return $s.isRtl()?Hn(kR,n):!1},R3=function(){return Zr("add-focusable",[Si(function(n){jk(n.element,"svg").each(function(r){return Kr(r,"focusable","false")})})])},c2=function(n,r,i,s){var d,g,v=TR(r)?["tox-icon--flip"]:[],C=tn(i,M3(r,i)).or(s).getOrThunk(D3(i));return{dom:{tag:n.tag,attributes:(d=n.attributes)!==null&&d!==void 0?d:{},classes:n.classes.concat(v),innerHtml:C},behaviours:we(fn(fn([],(g=n.behaviours)!==null&&g!==void 0?g:[],!0),[R3()],!1))}},Vf=function(n,r,i,s){return s===void 0&&(s=D.none()),c2(r,n,i(),s)},OR=function(n,r,i){var s=i(),d=kn(n,function(g){return Hn(s,M3(g,s))});return c2(r,d.getOr(kE),s,D.none())},A3={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ER=function(n){var r=Po({dom:{tag:"p",innerHtml:n.translationProvider(n.text)},behaviours:we([Ur.config({})])}),i=function(q){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+q+"%"}}}},s=function(q){return{dom:{tag:"div",classes:["tox-text"],innerHtml:q+"%"}}},d=Po({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},s(0)],behaviours:we([Ur.config({})])}),g=function(q,tt){q.getSystem().isConnected()&&d.getOpt(q).each(function(lt){Ur.set(lt,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(tt)]},s(tt)])})},v=function(q,tt){if(q.getSystem().isConnected()){var lt=r.get(q);Ur.set(lt,[fd(tt)])}},C={updateProgress:g,updateText:v},S=pt([n.icon.toArray(),n.level.toArray(),n.level.bind(function(q){return D.from(A3[q])}).toArray()]),O=Po(Qu.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Vf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":n.translationProvider("Close")}},n.iconProvider)],action:function(q){n.onAction(q)}})),A=OR(S,{tag:"div",classes:["tox-notification__icon"]},n.iconProvider),z={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:we([Ur.config({})])},$=[A,z];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert"},classes:n.level.map(function(q){return["tox-notification","tox-notification--in","tox-notification--"+q]}).getOr(["tox-notification","tox-notification--in"])},behaviours:we([Nr.config({}),Zr("notification-events",[Un(is(),function(q){O.getOpt(q).each(Nr.focus)})])]),components:$.concat(n.progress?[d.asSpec()]:[]).concat(n.closeButton?[O.asSpec()]:[]),apis:C}},B3=Nc({name:"Notification",factory:ER,configFields:[Ro("level"),Nn("progress"),Nn("icon"),Nn("onAction"),Nn("text"),Nn("iconProvider"),Nn("translationProvider"),Qo("closeButton",!0)],apis:{updateProgress:function(n,r,i){n.updateProgress(r,i)},updateText:function(n,r,i){n.updateText(r,i)}}});function _R(n,r,i){var s=r.backstage.shared,d=function(O){switch(O){case"bc-bc":return Qm;case"tc-tc":return Us;case"tc-bc":return fc;case"bc-tc":default:return iu}},g=function(O){O.length>0&&Pt(O,function(A,z){z===0?A.moveRel(null,"banner"):A.moveRel(O[z-1].getEl(),"bc-tc")})},v=function(O,A){var z=!O.closeButton&&O.timeout&&(O.timeout>0||O.timeout<0),$=function(){A(),Ho.hide(tt)},q=ra(B3.sketch({text:O.text,level:Pn(["success","error","warning","warn","info"],O.type)?O.type:void 0,progress:O.progressBar===!0,icon:D.from(O.icon),closeButton:!z,onAction:$,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),tt=ra(Ho.sketch(J({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));i.add(tt),O.timeout>0&&Zm.setTimeout(function(){$()},O.timeout);var lt=function(){var Tt=na(st.fromDom(n.getContentAreaContainer())),ut=tu(),_t=lc(ut.x,Tt.x,Tt.right),gn=lc(ut.y,Tt.y,Tt.bottom),wn=Math.max(Tt.right,ut.right),kt=Math.max(Tt.bottom,ut.bottom);return D.some(ba(_t,gn,wn-_t,kt-gn))};return{close:$,moveTo:function(Tt,ut){Ho.showAt(tt,Qc(q),{anchor:{type:"makeshift",x:Tt,y:ut}})},moveRel:function(Tt,ut){var _t=Qc(q),gn={maxHeightFunction:$g()};if(ut!=="banner"&&Bt(Tt)){var wn=d(ut),kt={type:"node",root:No(),node:D.some(st.fromDom(Tt)),overrides:gn,layouts:{onRtl:function(){return[wn]},onLtr:function(){return[wn]}}};Ho.showWithinBounds(tt,_t,{anchor:kt},lt)}else{var rn=J(J({},s.anchors.banner()),{overrides:gn});Ho.showWithinBounds(tt,_t,{anchor:rn},lt)}},text:function(Tt){B3.updateText(q,Tt)},settings:O,getEl:function(){return q.element.dom},progressBar:{value:function(Tt){B3.updateProgress(q,Tt)}}}},C=function(O){O.close()},S=function(O){return O.settings};return{open:v,close:C,reposition:g,getArgs:S}}var DR=function(n,r){var i=null,s=function(){Ne(i)||(clearTimeout(i),i=null)},d=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];Ne(i)&&(i=setTimeout(function(){i=null,n.apply(null,g)},r))};return{cancel:s,throttle:d}},z3=function(n,r){var i=null,s=function(){Ne(i)||(clearTimeout(i),i=null)},d=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];s(),i=setTimeout(function(){i=null,n.apply(null,g)},r)};return{cancel:s,throttle:d}},MR=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),RR=function(n,r){return n.isBlock(r)||Pn(["BR","IMG","HR","INPUT"],r.nodeName)||n.getContentEditable(r)==="false"},_E=function(n,r,i,s,d){var g=MR(n,function(v){return RR(n,v)});return D.from(g.backwards(r,i,s,d))},AR="[data-mce-autocompleter]",BR=function(n,r){return UC(st.fromDom(n.selection.getNode())).getOrThunk(function(){var i=st.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',n.getDoc());return hu(i,st.fromDom(r.extractContents())),r.insertNode(i.dom),bi(i).each(function(s){return s.dom.normalize()}),uw(i).map(function(s){n.selection.setCursorLocation(s.dom,aw(s))}),i})},UC=function(n){return Au(n,AR)},zR=function(n){return n.collapsed&&n.startContainer.nodeType===3},$C=function(n){return n.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},DE=function(n){return n!==""&&`  \f
\r	\v`.indexOf(n)!==-1},N3=function(n,r){return n.substring(r.length)},NR=function(n,r,i){var s;for(s=r-1;s>=0;s--){var d=n.charAt(s);if(DE(d))return D.none();if(d===i)break}return D.some(s)},ME=function(n,r,i,s){if(s===void 0&&(s=0),!zR(r))return D.none();var d=function(v,C,S){return NR(S,C,i).getOr(C)},g=n.getParent(r.startContainer,n.isBlock)||n.getRoot();return _E(n,r.startContainer,r.startOffset,d,g).bind(function(v){var C=r.cloneRange();if(C.setStart(v.container,v.offset),C.setEnd(r.endContainer,r.endOffset),C.collapsed)return D.none();var S=$C(C),O=S.lastIndexOf(i);return O!==0||N3(S,i).length<s?D.none():D.some({text:N3(S,i),range:C,triggerChar:i})})},P3=function(n,r,i,s){return s===void 0&&(s=0),UC(st.fromDom(r.startContainer)).fold(function(){return ME(n,r,i,s)},function(d){var g=n.createRng();g.selectNode(d.dom);var v=$C(g);return D.some({range:g,text:N3(v,i),triggerChar:i})})},PR=function(n,r){r.on("keypress compositionend",n.onKeypress.throttle),r.on("remove",n.onKeypress.cancel);var i=function(s,d){Sr(s,Ov(),{raw:d})};r.on("keydown",function(s){var d=function(){return n.getView().bind(Ao.getHighlighted)};s.which===8&&n.onKeypress.throttle(s),n.isActive()&&(s.which===27&&n.cancelIfNecessary(),n.isMenuOpen()?s.which===13?(d().each(Tf),s.preventDefault()):s.which===40?(d().fold(function(){n.getView().each(Ao.highlightFirst)},function(g){i(g,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&d().each(function(g){i(g,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&n.cancelIfNecessary())}),r.on("NodeChange",function(s){n.isActive()&&!n.isProcessingAction()&&UC(st.fromDom(s.element)).isNone()&&n.cancelIfNecessary()})},FR={setup:PR},s2=tinymce.util.Tools.resolve("tinymce.util.Promise"),F3=function(n,r){return{container:n,offset:r}},L3=function(n){return n.nodeType===nt},LR=function(n){return n.nodeType===He},RE=function(n){if(L3(n))return F3(n,n.data.length);var r=n.childNodes;return r.length>0?RE(r[r.length-1]):F3(n,r.length)},AE=function(n,r){var i=n.childNodes;return i.length>0&&r<i.length?AE(i[r],0):i.length>0&&LR(n)&&i.length===r?RE(i[i.length-1]):F3(n,r)},IR=function(n,r){return _E(n,r.container,r.offset,function(i,s){return s===0?-1:s},n.getRoot()).filter(function(i){var s=i.container.data.charAt(i.offset-1);return!DE(s)}).isSome()},HR=function(n){return function(r){var i=AE(r.startContainer,r.startOffset);return!IR(n,i)}},VR=function(n,r,i){return zt(i.triggerChars,function(s){return P3(n,r,s)})},UR=function(n,r){var i=r(),s=n.selection.getRng();return VR(n.dom,s,i).bind(function(d){return BE(n,r,d)})},BE=function(n,r,i,s){s===void 0&&(s={});var d=r(),g=n.selection.getRng(),v=g.startContainer.nodeValue,C=Dt(d.lookupByChar(i.triggerChar),function(O){return i.text.length>=O.minChars&&O.matches.getOrThunk(function(){return HR(n.dom)})(i.range,v,i.text)});if(C.length===0)return D.none();var S=s2.all(Zt(C,function(O){var A=O.fetch(i.text,O.maxResults,s);return A.then(function(z){return{matchText:i.text,items:z,columns:O.columns,onAction:O.onAction,highlightOn:O.highlightOn}})}));return D.some({lookupData:S,context:i})},zE=dr([Lr("type"),ii("text")]),$R=function(n){return Di("separatormenuitem",zE,n)},jR=dr([Et("type","autocompleteitem"),Et("active",!1),Et("disabled",!1),Et("meta",{}),Lr("value"),ii("text"),ii("icon")]),I3=dr([Lr("type"),Lr("ch"),al("minChars",1),Et("columns",1),al("maxResults",10),nd("matches"),Mu("fetch"),Mu("onAction"),wf("highlightOn",[],Ki)]),WR=function(n){return Di("Autocompleter.Separator",zE,n)},qR=function(n){return Di("Autocompleter.Item",jR,n)},GR=function(n){return Di("Autocompleter",I3,n)},$h=[Qo("disabled",!1),ii("tooltip"),ii("icon"),ii("text"),ai("onSetup",function(){return At})],KR=dr([Lr("type"),Mu("onAction")].concat($h)),jC=function(n){return Di("toolbarbutton",KR,n)},H3=[Qo("active",!1)].concat($h),XR=dr(H3.concat([Lr("type"),Mu("onAction")])),NE=function(n){return Di("ToggleButton",XR,n)},PE=[ai("predicate",xn),Gc("scope","node",["node","editor"]),Gc("position","selection",["node","selection","line"])],JR=$h.concat([Et("type","contextformbutton"),Et("primary",!1),Mu("onAction"),Uu("original",Yt)]),FE=H3.concat([Et("type","contextformbutton"),Et("primary",!1),Mu("onAction"),Uu("original",Yt)]),YR=$h.concat([Et("type","contextformbutton")]),V3=H3.concat([Et("type","contextformtogglebutton")]),U3=os("type",{contextformbutton:JR,contextformtogglebutton:FE}),LE=dr([Et("type","contextform"),ai("initValue",X("")),ii("label"),yu("commands",U3),il("launch",os("type",{contextformbutton:YR,contextformtogglebutton:V3}))].concat(PE)),$3=function(n){return Di("ContextForm",LE,n)},j3=dr([Et("type","contexttoolbar"),Lr("items")].concat(PE)),IE=function(n){return Di("ContextToolbar",j3,n)},Id=function(n){var r={};return Pt(n,function(i){r[i]={}}),jt(r)},W3=function(n){var r=n.ui.registry.getAll().popups,i=Qn(r,function(v){return GR(v).fold(function(C){throw new Error(td(C))},Yt)}),s=Id(Ie(i,function(v){return v.ch})),d=dn(i),g=function(v){return Dt(d,function(C){return C.ch===v})};return{dataset:i,triggerChars:s,lookupByChar:g}},q3;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(q3||(q3={}));var Uf=q3,G3="tox-menu-nav__js",K3="tox-collection__item",bp="tox-swatch",HE={normal:G3,color:bp},VE="tox-collection__item--enabled",QR="tox-collection__group-heading",X3="tox-collection__item-icon",WC="tox-collection__item-label",J3="tox-collection__item-accessory",UE="tox-collection__item-caret",Y3="tox-collection__item-checkmark",jh="tox-collection__item--active",$E="tox-collection__item-container",jE="tox-collection__item-container--column",Q3="tox-collection__item-container--row",ZR="tox-collection__item-container--align-right",tA="tox-collection__item-container--align-left",nA="tox-collection__item-container--valign-top",eA="tox-collection__item-container--valign-middle",rA="tox-collection__item-container--valign-bottom",WE=function(n){return tn(HE,n).getOr(G3)},oA=function(n){return n==="color"?"tox-swatches":"tox-menu"},Z3=function(n){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:oA(n),tieredMenu:"tox-tiered-menu"}},tg=function(n){var r=Z3(n);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:WE(n)}},qE=function(n,r,i){var s=Z3(i);return{tag:"div",classes:pt([[s.menu,"tox-menu-"+r+"-column"],n?[s.hasIcons]:[]])}},GE=[sr.parts.items({})],qC=function(n,r,i){var s=Z3(i),d={tag:"div",classes:pt([[s.tieredMenu]])};return{dom:d,markers:tg(i)}},tT=function(n,r){return function(i){var s=xr(i,r);return Zt(s,function(d){return{dom:n,components:d}})}},nT=function(n){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[sr.parts.items({preprocess:n!=="auto"?tT({tag:"div",classes:["tox-swatches__row"]},n):Yt})]}]}},eT=function(n){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[sr.parts.items({preprocess:tT({tag:"div",classes:["tox-collection__group"]},n)})]}},rT=function(n,r){var i=[],s=[];return Pt(n,function(d,g){r(d,g)?(s.length>0&&i.push(s),s=[],Hn(d.dom,"innerHtml")&&s.push(d)):s.push(d)}),s.length>0&&i.push(s),Zt(i,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},GC=function(n,r,i){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[sr.parts.items({preprocess:function(s){return n!=="auto"&&n>1?tT({tag:"div",classes:["tox-collection__group"]},n)(s):rT(s,function(d,g){return r[g].type==="separator"})}})]}},KE=function(n,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[sr.parts.items({preprocess:function(i){return rT(i,function(s,d){return n[d].type==="separator"})}})]}},KC=function(n){return ie(n,function(r){return"icon"in r&&r.icon!==void 0})},$f=function(n){return console.error(td(n)),console.log(n),D.none()},iA=function(n,r,i,s,d){var g=KE(i);return{value:n,dom:g.dom,components:g.components,items:i}},XC=function(n,r,i,s,d){if(d==="color"){var g=nT(s);return{value:n,dom:g.dom,components:g.components,items:i}}if(d==="normal"&&s==="auto"){var g=GC(s,i);return{value:n,dom:g.dom,components:g.components,items:i}}if(d==="normal"&&s===1){var g=GC(1,i);return{value:n,dom:g.dom,components:g.components,items:i}}if(d==="normal"){var g=GC(s,i);return{value:n,dom:g.dom,components:g.components,items:i}}if(d==="listpreview"&&s!=="auto"){var g=eT(s);return{value:n,dom:g.dom,components:g.components,items:i}}return{value:n,dom:qE(r,s,d),components:GE,items:i}},XE=[Lr("type"),Lr("src"),ii("alt"),wf("classes",[],Ki)],l2=dr(XE),aA=[Lr("type"),Lr("text"),ii("name"),wf("classes",["tox-collection__item-label"],Ki)],oT=dr(aA),Wh=ax(function(){return kv("type",{cardimage:l2,cardtext:oT,cardcontainer:uA})}),uA=dr([Lr("type"),wg("direction","horizontal"),wg("align","left"),wg("valign","middle"),yu("items",Wh)]),qh=[Qo("disabled",!1),ii("text"),ii("shortcut"),ya("value","value",lo(function(){return We("menuitem-value")}),Es()),Et("meta",{})],JE=dr([Lr("type"),ii("label"),yu("items",Wh),ai("onSetup",function(){return At}),ai("onAction",At)].concat(qh)),YE=function(n){return Di("cardmenuitem",JE,n)},iT=dr([Lr("type"),Qo("active",!1),ii("icon")].concat(qh)),QE=function(n){return Di("choicemenuitem",iT,n)},ZE=[Lr("type"),Lr("fancytype"),ai("onAction",At)],cA=[Et("initData",{})].concat(ZE),JC=[G0("initData",{},[Qo("allowCustomColors",!0),Tc("colors",Es())])].concat(ZE),sA=os("fancytype",{inserttable:cA,colorswatch:JC}),t_=function(n){return Di("fancymenuitem",sA,n)},g0=dr([Lr("type"),ai("onSetup",function(){return At}),ai("onAction",At),ii("icon")].concat(qh)),lA=function(n){return Di("menuitem",g0,n)},fA=dr([Lr("type"),Mu("getSubmenuItems"),ai("onSetup",function(){return At}),ii("icon")].concat(qh)),dA=function(n){return Di("nestedmenuitem",fA,n)},n_=dr([Lr("type"),ii("icon"),Qo("active",!1),ai("onSetup",function(){return At}),Mu("onAction")].concat(qh)),e_=function(n){return Di("togglemenuitem",n_,n)},aT=function(n,r,i){var s=Da(n.element,"."+i);if(s.length>0){var d=Ye(s,function(g){var v=g.dom.getBoundingClientRect().top,C=s[0].dom.getBoundingClientRect().top;return Math.abs(v-C)>r}).getOr(s.length);return D.some({numColumns:d,numRows:Math.ceil(s.length/d)})}else return D.none()},r_=function(n,r){return we([Zr(n,r)])},mA=function(n){return r_(We("unnamed-events"),n)},YC={namedEvents:r_,unnamedEvents:mA},o_=We("tooltip.exclusive"),yp=We("tooltip.show"),f2=We("tooltip.hide"),i_=function(n,r,i){n.getSystem().broadcastOn([o_],{})},uT=function(n,r,i,s){i.getTooltip().each(function(d){d.getSystem().isConnected()&&Ur.set(d,s)})},a_=Object.freeze({__proto__:null,hideAllExclusive:i_,setComponents:uT}),gA=function(n,r){var i=function(d){r.getTooltip().each(function(g){ls(g),n.onHide(d,g),r.clearTooltip()}),r.clearTimer()},s=function(d){if(!r.isShowing()){i_(d);var g=n.lazySink(d).getOrDie(),v=d.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:ui(n.mode==="normal"?[Un(Sf(),function(C){uo(d,yp)}),Un(Q0(),function(C){uo(d,f2)})]:[]),behaviours:we([Ur.config({})])});r.setTooltip(v),Cu(g,v),n.onShow(d,v),Ku.position(g,v,{anchor:n.anchor(d)})}};return ui(pt([[Un(yp,function(d){r.resetTimer(function(){s(d)},n.delay)}),Un(f2,function(d){r.resetTimer(function(){i(d)},n.delay)}),Un(as(),function(d,g){var v=g;v.universal||Pn(v.channels,o_)&&i(d)}),_c(function(d){i(d)})],n.mode==="normal"?[Un(is(),function(d){uo(d,yp)}),Un(eb(),function(d){uo(d,f2)}),Un(Sf(),function(d){uo(d,yp)}),Un(Q0(),function(d){uo(d,f2)})]:[Un(hx(),function(d,g){uo(d,yp)}),Un($p(),function(d){uo(d,f2)})]]))},u_=Object.freeze({__proto__:null,events:gA}),c_=[Nn("lazySink"),Nn("tooltipDom"),Et("exclusive",!0),Et("tooltipComponents",[]),Et("delay",300),Gc("mode","normal",["normal","follow-highlight"]),Et("anchor",function(n){return{type:"hotspot",hotspot:n,layouts:{onLtr:X([iu,fc,wu,Bu,xa,Wa]),onRtl:X([iu,fc,wu,Bu,xa,Wa])}}}),oo("onHide"),oo("onShow")],s_=function(){var n=Ui(),r=Ui(),i=function(){n.on(clearTimeout)},s=function(g,v){i(),n.set(setTimeout(g,v))},d=X("not-implemented");return Ua({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:i,resetTimer:s,readState:d})},l_=Object.freeze({__proto__:null,init:s_}),f_=Ji({fields:c_,name:"tooltipping",active:u_,state:l_,apis:a_}),pA=function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},d2=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),hA=tinymce.util.Tools.resolve("tinymce.EditorManager"),cT=function(n){var r=n.getParam("skin"),i=n.getParam("skin_url");if(r!==!1){var s=r||"oxide";i?i=n.documentBaseURI.toAbsolute(i):i=hA.baseURL+"/skins/ui/"+s}return i},sT=function(n){return n.getParam("readonly",!1,"boolean")},d_=function(n){return n.getParam("skin")===!1},m_=function(n){return n.getParam("height",Math.max(n.getElement().offsetHeight,200))},lT=function(n){return n.getParam("width",d2.DOM.getStyle(n.getElement(),"width"))},g_=function(n){return D.from(n.getParam("min_width")).filter(on)},p_=function(n){return D.from(n.getParam("min_height")).filter(on)},fT=function(n){return D.from(n.getParam("max_width")).filter(on)},dT=function(n){return D.from(n.getParam("max_height")).filter(on)},h_=function(n){return D.from(n.getParam("style_formats")).filter(Be)},v_=function(n){return n.getParam("style_formats_merge",!1,"boolean")},vA=function(n){return n.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},bA=function(n){return n.getParam("content_langs",void 0,"array")},yA=function(n){return n.getParam("removed_menuitems","")},mT=function(n){return n.getParam("menubar",!0,"boolean")!==!1},gT=function(n){var r=n.getParam("toolbar",!0),i=r===!0,s=Ce(r),d=Be(r)&&r.length>0;return!QC(n)&&(d||s||i)},b_=function(n){var r=K(9,function(s){return n.getParam("toolbar"+(s+1),!1,"string")}),i=Dt(r,function(s){return typeof s=="string"});return i.length>0?D.some(i):D.none()},QC=function(n){return b_(n).fold(function(){var r=n.getParam("toolbar",[],"string[]");return r.length>0},en)},js;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(js||(js={}));var m2=function(n){return n.getParam("toolbar_mode","","string")},Gh;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})(Gh||(Gh={}));var xA=function(n){return n.getParam("toolbar_groups",{},"object")},pT=function(n){return n.getParam("toolbar_location",Gh.auto,"string")},y_=function(n){return pT(n)===Gh.bottom},wA=function(n){return n.getParam("fixed_toolbar_container","","string")},CA=function(n){return n.getParam("fixed_toolbar_container_target")},SA=function(n){return n.getParam("toolbar_persist",!1,"boolean")},x_=function(n){if(!n.inline)return D.none();var r=wA(n);if(r.length>0)return fa(No(),r);var i=CA(n);return Bt(i)?D.some(st.fromDom(i)):D.none()},ZC=function(n){return n.inline&&x_(n).isSome()},g2=function(n){var r=x_(n);return r.getOrThunk(function(){return be(gr(st.fromDom(n.getElement())))})},hT=function(n){return n.inline&&!mT(n)&&!gT(n)&&!QC(n)},tS=function(n){var r=n.getParam("toolbar_sticky",!1,"boolean");return(r||n.inline)&&!ZC(n)&&!hT(n)},kA=function(n){return n.getParam("toolbar_sticky_offset",0,"number")},TA=function(n){return n.getParam("draggable_modal",!1,"boolean")},OA=function(n){var r=n.getParam("menu");return r?Qn(r,function(i){return J(J({},i),{items:i.items})}):{}},EA=function(n){return n.getParam("menubar")},vT=function(n){return n.getParam("toolbar",!0)},w_=function(n){return n.getParam("file_picker_callback")},C_=function(n){return n.getParam("file_picker_types")},_A=function(n){return n.getParam("file_browser_callback_types")},S_=function(n){return n.getParam("typeahead_urls")===!1},DA=function(n){return n.getParam("anchor_top","#top")},MA=function(n){return n.getParam("anchor_bottom","#bottom")},RA=function(n){var r=n.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?n.getParam("filepicker_validator_handler",void 0,"function"):r},bT="silver.readonly",AA=dr([wk("readonly")]),p0=function(n,r){var i=n.outerContainer,s=i.element;r&&(n.mothership.broadcastOn([zm()],{target:s}),n.uiMothership.broadcastOn([zm()],{target:s})),n.mothership.broadcastOn([bT],{readonly:r}),n.uiMothership.broadcastOn([bT],{readonly:r})},k_=function(n,r){n.on("init",function(){n.mode.isReadOnly()&&p0(r,!0)}),n.on("SwitchMode",function(){return p0(r,n.mode.isReadOnly())}),sT(n)&&n.setMode("readonly")},Ba=function(){var n;return Rc.config({channels:(n={},n[bT]={schema:AA,onReceive:function(r,i){pr.set(r,i.readonly)}},n)})},BA=function(n){return pr.config({disabled:n,disableClass:"tox-collection__item--state-disabled"})},zA=function(n){return pr.config({disabled:n})},yT=function(n){return pr.config({disabled:n,disableClass:"tox-tbtn--disabled"})},xT=function(n){return pr.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},Ws={item:BA,button:zA,splitButton:yT,toolbarButton:xT},p2=function(n,r){var i=n.getApi(r);return function(s){s(i)}},h2=function(n,r){return Si(function(i){var s=p2(n,i);s(function(d){var g=n.onSetup(d);_n(g)&&r.set(g)})})},v2=function(n,r){return _c(function(i){return p2(n,i)(r.get())})},h0,wT=function(n,r){return zs(function(i,s){p2(n,i)(n.onAction),!n.triggersSubmenu&&r===Uf.CLOSE_ON_EXECUTE&&(uo(i,Up()),s.stop())})},nS=(h0={},h0[Xc()]=["disabling","alloy.base.behaviour","toggling","item-events"],h0),Kh=_r,v0=function(n,r,i,s){var d=wr(At);return{type:"item",dom:r.dom,components:Kh(r.optComponents),data:n.data,eventOrder:nS,hasSubmenu:n.triggersSubmenu,itemBehaviours:we([Zr("item-events",[wT(n,i),h2(n,d),v2(n,d)]),Ws.item(function(){return n.disabled||s.isDisabled()}),Ba(),Ur.config({})].concat(n.itemBehaviours))}},b0=function(n){return{value:n.value,meta:J({text:n.text.getOr("")},n.meta)}},CT=tinymce.util.Tools.resolve("tinymce.Env"),NA=function(n){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},i={meta:"Ctrl",access:"Shift+Alt"},s=CT.mac?r:i,d=n.split("+"),g=Zt(d,function(v){var C=v.toLowerCase().trim();return Hn(s,C)?s[C]:v});return CT.mac?g.join(""):g.join("+")},ST=function(n,r,i){return i===void 0&&(i=[X3]),Vf(n,{tag:"div",classes:i},r)},T_=function(n){return{dom:{tag:"div",classes:[WC]},components:[fd($s.translate(n))]}},O_=function(n,r){return{dom:{tag:"div",classes:r,innerHtml:n}}},PA=function(n,r){return{dom:{tag:"div",classes:[WC]},components:[{dom:{tag:n.tag,styles:n.styles},components:[fd($s.translate(r))]}]}},FA=function(n){return{dom:{tag:"div",classes:[J3],innerHtml:NA(n)}}},E_=function(n){return ST("checkmark",n,[Y3])},LA=function(n){return ST("chevron-right",n,[UE])},IA=function(n){return ST("chevron-down",n,[UE])},HA=function(n,r){var i=n.direction==="vertical"?jE:Q3,s=n.align==="left"?tA:ZR,d=function(){switch(n.valign){case"top":return nA;case"middle":return eA;case"bottom":return rA}};return{dom:{tag:"div",classes:[$E,i,s,d()]},components:r}},__=function(n,r,i){return{dom:{tag:"img",classes:r,attributes:{src:n,alt:i.getOr("")}}}},VA=function(n,r,i){var s="custom",d="remove",g=n.ariaLabel,v=n.value,C=n.iconContent.map(function(O){return EE(O,r.icons,i)}),S=function(){var O=bp,A=C.getOr(""),z=g.map(function(q){return{title:r.translate(q)}}).getOr({}),$={tag:"div",attributes:z,classes:[O]};return v===s?J(J({},$),{tag:"button",classes:fn(fn([],$.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:A}):v===d?J(J({},$),{classes:fn(fn([],$.classes,!0),["tox-swatch--remove"],!1),innerHtml:A}):J(J({},$),{attributes:J(J({},$.attributes),{"data-mce-color":v}),styles:{"background-color":v}})};return{dom:S(),optComponents:[]}},D_=function(n){var r=n.map(function(i){return{attributes:{title:$s.translate(i)}}}).getOr({});return J({tag:"div",classes:[G3,K3]},r)},ng=function(n,r,i,s){var d={tag:"div",classes:[X3]},g=function($){return Vf($,d,r.icons,s)},v=function(){return D.some({dom:d})},C=i?n.iconContent.map(g).orThunk(v):D.none(),S=n.checkMark,O=D.from(n.meta).fold(function(){return T_},function($){return Hn($,"style")?tr(PA,$.style):T_}),A=n.htmlContent.fold(function(){return n.textContent.map(O)},function($){return D.some(O_($,[WC]))}),z={dom:D_(n.ariaLabel),optComponents:[C,A,n.shortcutContent.map(FA),S,n.caret]};return z},b2=function(n,r,i,s){return s===void 0&&(s=D.none()),n.presets==="color"?VA(n,r,s):ng(n,r,i,s)},M_=function(n,r){return tn(n,"tooltipWorker").map(function(i){return[f_.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:$g}}},mode:"follow-highlight",onShow:function(s,d){i(function(g){f_.setComponents(s,[Xp({element:st.fromDom(g)})])})}})]}).getOr([])},kT=function(n){return d2.DOM.encode(n)},Xa=function(n,r){var i=$s.translate(n),s=kT(i);if(r.length>0){var d=new RegExp(pA(r),"gi");return s.replace(d,function(g){return'<span class="tox-autocompleter-highlight">'+g+"</span>"})}else return s},UA=function(n,r,i,s,d,g,v,C){C===void 0&&(C=!0);var S=b2({presets:s,textContent:D.none(),htmlContent:i?n.text.map(function(O){return Xa(O,r)}):D.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:D.none(),checkMark:D.none(),caret:D.none(),value:n.value},v.providers,C,n.icon);return v0({data:b0(n),disabled:n.disabled,getApi:X({}),onAction:function(O){return d(n.value,n.meta)},onSetup:X(At),triggersSubmenu:!1,itemBehaviours:M_(n.meta,v)},S,g,v.providers)},R_=function(n,r){return Zt(n,function(i){switch(i.type){case"cardcontainer":return HA(i,R_(i.items,r));case"cardimage":return __(i.src,i.classes,i.alt);case"cardtext":var s=i.name.exists(function(g){return Pn(r.cardText.highlightOn,g)}),d=s?D.from(r.cardText.matchText).getOr(""):"";return O_(Xa(i.text,d),i.classes)}})},$A=function(n,r,i,s){var d=function(v){return{isDisabled:function(){return pr.isDisabled(v)},setDisabled:function(C){pr.set(v,C),Pt(Da(v.element,"*"),function(S){v.getSystem().getByDom(S).each(function(O){O.hasConfigured(pr)&&pr.set(O,C)})})}}},g={dom:D_(n.label),optComponents:[D.some({dom:{tag:"div",classes:[$E,Q3]},components:R_(n.items,s)})]};return v0({data:b0(J({text:D.none()},n)),disabled:n.disabled,getApi:d,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:D.from(s.itemBehaviours).getOr([])},g,r,i.providers)},jA=function(n,r,i,s,d,g,v,C){C===void 0&&(C=!0);var S=function(A){return{setActive:function(z){ho.set(A,z)},isActive:function(){return ho.isOn(A)},isDisabled:function(){return pr.isDisabled(A)},setDisabled:function(z){return pr.set(A,z)}}},O=b2({presets:i,textContent:r?n.text:D.none(),htmlContent:D.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:r?n.shortcut:D.none(),checkMark:r?D.some(E_(v.icons)):D.none(),caret:D.none(),value:n.value},v,C);return On(v0({data:b0(n),disabled:n.disabled,getApi:S,onAction:function(A){return s(n.value)},onSetup:function(A){return A.setActive(d),At},triggersSubmenu:!1,itemBehaviours:[]},O,g,v),{toggling:{toggleClass:VE,toggleOnExecute:!1,selected:n.active}})},A_=hh(T(),R()),B_=function(n){return{value:n}},z_=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,N_=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,P_=function(n){return z_.test(n)||N_.test(n)},WA=function(n){return ti(n,"#").toUpperCase()},qA=function(n){return P_(n)?D.some({value:WA(n)}):D.none()},GA=function(n){var r=n.value.replace(z_,function(i,s,d,g){return s+s+d+d+g+g});return{value:r}},KA=function(n){var r=GA(n),i=N_.exec(r.value);return i===null?["FFFFFF","FF","FF","FF"]:i},TT=function(n){var r=n.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},y2=function(n){var r=TT(n.red)+TT(n.green)+TT(n.blue);return B_(r)},F_=Math.min,L_=Math.max,eS=Math.round,XA=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,JA=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,xp=function(n,r,i,s){return{red:n,green:r,blue:i,alpha:s}},OT=function(n){var r=parseInt(n,10);return r.toString()===n&&r>=0&&r<=255},I_=function(n){var r,i,s,d=(n.hue||0)%360,g=n.saturation/100,v=n.value/100;if(g=L_(0,F_(g,1)),v=L_(0,F_(v,1)),g===0)return r=i=s=eS(255*v),xp(r,i,s,1);var C=d/60,S=v*g,O=S*(1-Math.abs(C%2-1)),A=v-S;switch(Math.floor(C)){case 0:r=S,i=O,s=0;break;case 1:r=O,i=S,s=0;break;case 2:r=0,i=S,s=O;break;case 3:r=0,i=O,s=S;break;case 4:r=O,i=0,s=S;break;case 5:r=S,i=0,s=O;break;default:r=i=s=0}return r=eS(255*(r+A)),i=eS(255*(i+A)),s=eS(255*(s+A)),xp(r,i,s,1)},x2=function(n){var r=KA(n),i=parseInt(r[1],16),s=parseInt(r[2],16),d=parseInt(r[3],16);return xp(i,s,d,1)},H_=function(n,r,i,s){var d=parseInt(n,10),g=parseInt(r,10),v=parseInt(i,10),C=parseFloat(s);return xp(d,g,v,C)},V_=function(n){if(n==="transparent")return D.some(xp(0,0,0,0));var r=XA.exec(n);if(r!==null)return D.some(H_(r[1],r[2],r[3],"1"));var i=JA.exec(n);return i!==null?D.some(H_(i[1],i[2],i[3],i[4])):D.none()},ET=function(n){return"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")"},U_=xp(255,0,0,1),YA=function(n){return n.fire("SkinLoaded")},QA=function(n,r){return n.fire("SkinLoadError",r)},$_=function(n){return n.fire("ResizeEditor")},_T=function(n,r){return n.fire("ResizeContent",r)},ZA=function(n,r){return n.fire("ScrollContent",r)},tB=function(n,r){return n.fire("TextColorChange",r)},w2=function(n,r,i){return{hue:n,saturation:r,value:i}},rS=function(n){var r=0,i=0,s=0,d=n.red/255,g=n.green/255,v=n.blue/255,C=Math.min(d,Math.min(g,v)),S=Math.max(d,Math.max(g,v));if(C===S)return s=C,w2(0,0,s*100);var O=d===C?g-v:v===C?d-g:v-d;return r=d===C?3:v===C?1:5,r=60*(r-O/(S-C)),i=(S-C)/S,s=S,w2(Math.round(r),Math.round(i*100),Math.round(s*100))},nB=function(n){return rS(x2(n))},DT=function(n){return y2(I_(n))},j_=function(n){return qA(n).orThunk(function(){return V_(n).map(y2)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var i=r.getContext("2d");i.clearRect(0,0,r.width,r.height),i.fillStyle="#FFFFFF",i.fillStyle=n,i.fillRect(0,0,1,1);var s=i.getImageData(0,0,1,1).data,d=s[0],g=s[1],v=s[2],C=s[3];return y2(xp(d,g,v,C))})},oS=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),MT="tinymce-custom-colors";function eB(n){n===void 0&&(n=10);var r=oS.getItem(MT),i=Ce(r)?JSON.parse(r):[],s=function(S){var O=n-S.length;return O<0?S.slice(0,n):S},d=s(i),g=function(S){oe(d,S).each(v),d.unshift(S),d.length>n&&d.pop(),oS.setItem(MT,JSON.stringify(d))},v=function(S){d.splice(S,1)},C=function(){return d.slice(0)};return{add:g,state:C}}var Ja="choiceitem",rB=[{type:Ja,text:"Light Green",value:"#BFEDD2"},{type:Ja,text:"Light Yellow",value:"#FBEEB8"},{type:Ja,text:"Light Red",value:"#F8CAC6"},{type:Ja,text:"Light Purple",value:"#ECCAFA"},{type:Ja,text:"Light Blue",value:"#C2E0F4"},{type:Ja,text:"Green",value:"#2DC26B"},{type:Ja,text:"Yellow",value:"#F1C40F"},{type:Ja,text:"Red",value:"#E03E2D"},{type:Ja,text:"Purple",value:"#B96AD9"},{type:Ja,text:"Blue",value:"#3598DB"},{type:Ja,text:"Dark Turquoise",value:"#169179"},{type:Ja,text:"Orange",value:"#E67E23"},{type:Ja,text:"Dark Red",value:"#BA372A"},{type:Ja,text:"Dark Purple",value:"#843FA1"},{type:Ja,text:"Dark Blue",value:"#236FA1"},{type:Ja,text:"Light Gray",value:"#ECF0F1"},{type:Ja,text:"Medium Gray",value:"#CED4D9"},{type:Ja,text:"Gray",value:"#95A5A6"},{type:Ja,text:"Dark Gray",value:"#7E8C8D"},{type:Ja,text:"Navy Blue",value:"#34495E"},{type:Ja,text:"Black",value:"#000000"},{type:Ja,text:"White",value:"#ffffff"}],W_=eB(10),oB=function(n){for(var r=[],i=0;i<n.length;i+=2)r.push({text:n[i+1],value:"#"+j_(n[i]).value,type:"choiceitem"});return r},iB=function(n,r){return n.getParam("color_cols",r,"number")},iS=function(n){return n.getParam("custom_colors")!==!1},q_=function(n){return n.getParam("color_map")},RT=function(n){var r=q_(n);return r!==void 0?oB(r):rB},G_=function(){return Zt(W_.state(),function(n){return{type:Ja,text:n,value:n}})},K_=function(n){W_.add(n)},AT="#000000",BT=function(n,r){var i;return n.dom.getParents(n.selection.getStart(),function(s){var d;(d=s.style[r==="forecolor"?"color":"background-color"])&&(i=i||d)}),D.from(i)},aB=function(n,r,i){n.undoManager.transact(function(){n.focus(),n.formatter.apply(r,{value:i}),n.nodeChanged()})},uB=function(n,r){n.undoManager.transact(function(){n.focus(),n.formatter.remove(r,{value:null},null,!0),n.nodeChanged()})},cB=function(n){n.addCommand("mceApplyTextcolor",function(r,i){aB(n,r,i)}),n.addCommand("mceRemoveTextcolor",function(r){uB(n,r)})},X_=function(n){return Math.max(5,Math.ceil(Math.sqrt(n)))},J_=function(n){var r=RT(n),i=X_(r.length);return iB(n,i)},zT=function(n){var r="choiceitem",i={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return n?[i,s]:[i]},NT=function(n,r,i,s){if(i==="custom"){var d=nD(n);d(function(g){g.each(function(v){K_(v),n.execCommand("mceApplyTextcolor",r,v),s(v)})},AT)}else i==="remove"?(s(""),n.execCommand("mceRemoveTextcolor",r)):(s(i),n.execCommand("mceApplyTextcolor",r,i))},y0=function(n,r){return n.concat(G_().concat(zT(r)))},Y_=function(n,r){return function(i){i(y0(n,r))}},Q_=function(n,r,i){var s=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";n.setIconFill(s,i)},Z_=function(n,r,i,s,d){n.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(g){var v=BT(n,i);return v.bind(function(C){return V_(C).map(function(S){var O=y2(S).value;return Jr(g.toLowerCase(),O)})}).getOr(!1)},columns:J_(n),fetch:Y_(RT(n),iS(n)),onAction:function(g){NT(n,i,d.get(),At)},onItemAction:function(g,v){NT(n,i,v,function(C){d.set(C),tB(n,{name:r,color:C})})},onSetup:function(g){Q_(g,r,d.get());var v=function(C){C.name===r&&Q_(g,C.name,C.color)};return n.on("TextColorChange",v),function(){n.off("TextColorChange",v)}}})},tD=function(n,r,i,s){n.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){NT(n,i,d.value,At)}}]}})},nD=function(n){return function(r,i){var s=!1,d=function(C){var S=C.getData(),O=S.colorpicker;s?(r(D.from(O)),C.close()):n.windowManager.alert(n.translate(["Invalid hex color code: {0}",O]))},g=function(C,S){S.name==="hex-valid"&&(s=S.value)},v={colorpicker:i};n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:v,onAction:g,onSubmit:d,onClose:At,onCancel:function(){r(D.none())}})}},sB=function(n){cB(n);var r=wr(AT),i=wr(AT);Z_(n,"forecolor","forecolor","Text color",r),Z_(n,"backcolor","hilitecolor","Background color",i),tD(n,"forecolor","forecolor","Text color"),tD(n,"backcolor","hilitecolor","Background color")},aS=function(n,r,i,s,d,g,v,C){var S=KC(r),O=d!=="color"?"normal":"color",A=eD(r,i,s,O,g,v,C);return XC(n,S,A,s,d)},eD=function(n,r,i,s,d,g,v){return _r(Zt(n,function(C){return C.type==="choiceitem"?QE(C).fold($f,function(S){return D.some(jA(S,i===1,s,r,g(C.value),d,v,KC(n)))}):D.none()}))},C2=function(n,r){var i=tg(r);if(n===1)return{mode:"menu",moveOnTab:!0};if(n==="auto")return{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},lB=function(n,r){return n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+bp:"."+K3}}},PT=function(n,r){var i=fB(n,r),s=r.colorinput.getColorCols(),d="color",g=aS(We("menu-value"),i,function(C){n.onAction({value:C})},s,d,Uf.CLOSE_ON_EXECUTE,xn,r.shared.providers),v=J(J({},g),{markers:tg(d),movement:C2(s,d)});return{type:"widget",data:{value:We("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[A_.widget(sr.sketch(v))]}},fB=function(n,r){var i=n.initData.allowCustomColors&&r.colorinput.hasCustomColors();return n.initData.colors.fold(function(){return y0(r.colorinput.getColors(),i)},function(s){return s.concat(zT(i))})},rD=We("cell-over"),oD=We("cell-execute"),dB=function(n,r,i){var s,d=function(C){return Sr(C,rD,{row:n,col:r})},g=function(C){return Sr(C,oD,{row:n,col:r})},v=function(C,S){S.stop(),g(C)};return ra({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=i,s)},behaviours:we([Zr("insert-table-picker-cell",[Un(Sf(),Nr.focus),Un(Xc(),g),Un(Tg(),v),Un(od(),v)]),ho.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Nr.config({onFocus:d})])})},mB=function(n,r,i){for(var s=[],d=0;d<r;d++){for(var g=[],v=0;v<i;v++)g.push(dB(d,v,n));s.push(g)}return s},gB=function(n,r,i,s,d){for(var g=0;g<s;g++)for(var v=0;v<d;v++)ho.set(n[g][v],g<=r&&v<=i)},pB=function(n){return sn(n,function(r){return Zt(r,Qc)})},iD=function(n,r){return fd(r+"x"+n)},hB=function(n){var r=10,i=10,s=We("size-label"),d=mB(s,r,i),g=iD(0,0),v=Po({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[g],behaviours:we([Ur.config({})])});return{type:"widget",data:{value:We("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[A_.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:pB(d).concat(v.asSpec()),behaviours:we([Zr("insert-table-picker",[Si(function(C){Ur.set(v.get(C),[g])}),id(rD,function(C,S,O){var A=O.event,z=A.row,$=A.col;gB(d,z,$,r,i),Ur.set(v.get(C),[iD(z+1,$+1)])}),id(oD,function(C,S,O){var A=O.event,z=A.row,$=A.col;n.onAction({numRows:z+1,numColumns:$+1}),uo(C,Up())})]),kr.config({initSize:{numRows:r,numColumns:i},mode:"flatgrid",selector:'[role="button"]'})])})]}},vB={inserttable:hB,colorswatch:PT},bB=function(n,r){return tn(vB,n.fancytype).map(function(i){return i(n,r)})},yB=function(n,r,i,s,d){s===void 0&&(s=!0),d===void 0&&(d=!1);var g=d?IA(i.icons):LA(i.icons),v=function(S){return{isDisabled:function(){return pr.isDisabled(S)},setDisabled:function(O){return pr.set(S,O)}}},C=b2({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:D.none(),ariaLabel:n.text,caret:D.some(g),checkMark:D.none(),shortcutContent:n.shortcut},i,s);return v0({data:b0(n),getApi:v,disabled:n.disabled,onAction:At,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},C,r,i)},aD=function(n,r,i,s){s===void 0&&(s=!0);var d=function(v){return{isDisabled:function(){return pr.isDisabled(v)},setDisabled:function(C){return pr.set(v,C)}}},g=b2({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:D.none(),ariaLabel:n.text,caret:D.none(),checkMark:D.none(),shortcutContent:n.shortcut},i,s);return v0({data:b0(n),getApi:d,disabled:n.disabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,i)},xB=function(n){var r=n.text.fold(function(){return{}},function(i){return{innerHtml:i}});return{type:"separator",dom:J({tag:"div",classes:[K3,QR]},r),components:[]}},wB=function(n,r,i,s){s===void 0&&(s=!0);var d=function(v){return{setActive:function(C){ho.set(v,C)},isActive:function(){return ho.isOn(v)},isDisabled:function(){return pr.isDisabled(v)},setDisabled:function(C){return pr.set(v,C)}}},g=b2({iconContent:n.icon,textContent:n.text,htmlContent:D.none(),ariaLabel:n.text,checkMark:D.some(E_(i.icons)),caret:D.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},i,s);return On(v0({data:b0(n),disabled:n.disabled,getApi:d,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,i),{toggling:{toggleClass:VE,toggleOnExecute:!1,selected:n.active}})},FT=UA,S2=xB,CB=aD,uS=yB,SB=wB,kB=bB,TB=$A,k2;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(k2||(k2={}));var OB=function(n,r,i,s,d){var g=i.shared.providers,v=function(C){return d?J(J({},C),{shortcut:D.none(),icon:C.text.isSome()?D.none():C.icon}):C};switch(n.type){case"menuitem":return lA(n).fold($f,function(C){return D.some(CB(v(C),r,g,s))});case"nestedmenuitem":return dA(n).fold($f,function(C){return D.some(uS(v(C),r,g,s,d))});case"togglemenuitem":return e_(n).fold($f,function(C){return D.some(SB(v(C),r,g,s))});case"separator":return $R(n).fold($f,function(C){return D.some(S2(C))});case"fancymenuitem":return t_(n).fold($f,function(C){return kB(v(C),i)});default:return console.error("Unknown item in general menu",n),D.none()}},EB=function(n,r,i,s,d,g,v){var C=s===1,S=!C||KC(n);return _r(Zt(n,function(O){switch(O.type){case"separator":return WR(O).fold($f,function(A){return D.some(S2(A))});case"cardmenuitem":return YE(O).fold($f,function(A){return D.some(TB(J(J({},A),{onAction:function(z){A.onAction(z),i(A.value,A.meta)}}),d,g,{itemBehaviours:M_(A.meta,g),cardText:{matchText:r,highlightOn:v}}))});case"autocompleteitem":default:return qR(O).fold($f,function(A){return D.some(FT(A,r,C,"normal",i,d,g,S))})}}))},LT=function(n,r,i,s,d){var g=KC(r),v=_r(Zt(r,function(S){var O=function(z){return d?!Hn(z,"text"):g},A=function(z){return OB(z,i,s,O(z),d)};return S.type==="nestedmenuitem"&&S.getSubmenuItems().length<=0?A(J(J({},S),{disabled:!0})):A(S)})),C=d?iA:XC;return C(n,g,v,1,"normal")},uD=function(n){return Uo.singleData(n.value,n)},_B=function(n,r,i,s){var d=i===k2.ContentFocus?eC():Sh(),g=C2(r,s),v=tg(s);return{dom:n.dom,components:n.components,items:n.items,value:n.value,markers:{selectedItem:v.selectedItem,item:v.item},movement:g,fakeFocus:i===k2.ContentFocus,focusManager:d,menuBehaviours:YC.unnamedEvents(r!=="auto"?[]:[Si(function(C,S){aT(C,4,v.item).each(function(O){var A=O.numColumns,z=O.numRows;kr.setGridSize(C,z,A)})})])}},DB=function(n,r){var i=Ui(),s=wr(!1),d=ra(Ho.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:we([Zr("dismissAutocompleter",[Un(As(),function(){return S()})])]),lazySink:r.getSink})),g=function(){return Ho.isOpen(d)},v=function(){return i.get().isSome()},C=function(){v()&&Ho.hide(d)},S=function(){if(v()){var ut=i.get().map(function(_t){return _t.element});UC(ut.getOr(st.fromDom(n.selection.getNode()))).each(lg),C(),i.clear(),s.set(!1)}},O=Ut(function(){return W3(n)}),A=function(ut,_t){var gn=zt(_t,function(wn){return D.from(wn.columns)}).getOr(1);return sn(_t,function(wn){var kt=wn.items;return EB(kt,wn.matchText,function(rn,Bn){var Re=n.selection.getRng();P3(n.dom,Re,ut).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Vn){var ze=Vn.range,Kn={hide:function(){S()},reload:function(Rn){C(),tt(Rn)}};s.set(!0),wn.onAction(Kn,ze,rn,Bn),s.set(!1)})},gn,Uf.BUBBLE_TO_SANDBOX,r,wn.highlightOn)})},z=function(ut){if(!v()){var _t=BR(n,ut.range);i.set({triggerChar:ut.triggerChar,element:_t,matchLength:ut.text.length}),s.set(!1)}},$=function(ut,_t,gn,wn){ut.matchLength=_t.text.length;var kt=zt(gn,function(rn){return D.from(rn.columns)}).getOr(1);Ho.showAt(d,sr.sketch(_B(XC("autocompleter-value",!0,wn,kt,"normal"),kt,k2.ContentFocus,"normal")),{anchor:{type:"node",root:st.fromDom(n.getBody()),node:D.from(ut.element)}}),Ho.getContent(d).each(Ao.highlightFirst)},q=function(ut){return i.get().map(function(_t){return P3(n.dom,n.selection.getRng(),_t.triggerChar).bind(function(gn){return BE(n,O,gn,ut)})}).getOrThunk(function(){return UR(n,O)})},tt=function(ut){q(ut).fold(S,function(_t){z(_t.context),_t.lookupData.then(function(gn){i.get().map(function(wn){var kt=_t.context;if(wn.triggerChar===kt.triggerChar){var rn=A(kt.triggerChar,gn);rn.length>0?$(wn,kt,gn,rn):kt.text.length-wn.matchLength>=10?S():C()}})})})},lt=z3(function(ut){ut.which!==27&&tt()},50),Tt={onKeypress:lt,cancelIfNecessary:S,isMenuOpen:g,isActive:v,isProcessingAction:s.get,getView:function(){return Ho.getContent(d)}};n.hasPlugin("rtc")===!1&&FR.setup(Tt,n)},MB={register:DB},T2=function(n,r,i){return Au(n,r,i).isSome()},cD=function(n,r){var i=null,s=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];i=setTimeout(function(){n.apply(null,g),i=null},r)},d=function(){i!==null&&(clearTimeout(i),i=null)};return{cancel:d,schedule:s}},sD=5,IT=400,lD=function(n){var r=n.raw;return r.touches===void 0||r.touches.length!==1?D.none():D.some(r.touches[0])},fD=function(n,r){var i=Math.abs(n.clientX-r.x),s=Math.abs(n.clientY-r.y);return i>sD||s>sD},RB=function(n){var r=Ui(),i=wr(!1),s=cD(function(O){n.triggerEvent(_v(),O),i.set(!0)},IT),d=function(O){return lD(O).each(function(A){s.cancel();var z={x:A.clientX,y:A.clientY,target:O.target};s.schedule(O),i.set(!1),r.set(z)}),D.none()},g=function(O){return s.cancel(),lD(O).each(function(A){r.on(function(z){fD(A,z)&&r.clear()})}),D.none()},v=function(O){s.cancel();var A=function(z){return zo(z.target,O.target)};return r.get().filter(A).map(function(z){return i.get()?(O.prevent(),!1):n.triggerEvent(od(),O)})},C=Cf([{key:Pl(),value:d},{key:Ms(),value:g},{key:ed(),value:v}]),S=function(O,A){return tn(C,A).bind(function(z){return z(O)})};return{fireIfReady:S}},AB=function(n){var r=n.raw;return r.which===up[0]&&!Pn(["input","textarea"],dt(n.target))&&!T2(n.target,'[contenteditable="true"]')},HT=function(){return mr().browser.isFirefox()},O2=function(n,r){return HT()?c1(n,"focus",r):Yi(n,"focusin",r)},BB=function(n,r){return HT()?c1(n,"blur",r):Yi(n,"focusout",r)},zB=function(n,r){var i=J({stopBackspace:!0},r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=RB(i),g=Zt(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(q){return Yi(n,q,function(tt){d.fireIfReady(tt,q).each(function(Tt){Tt&&tt.kill()});var lt=i.triggerEvent(q,tt);lt&&tt.kill()})}),v=Ui(),C=Yi(n,"paste",function(q){d.fireIfReady(q,"paste").each(function(lt){lt&&q.kill()});var tt=i.triggerEvent("paste",q);tt&&q.kill(),v.set(setTimeout(function(){i.triggerEvent(rb(),q)},0))}),S=Yi(n,"keydown",function(q){var tt=i.triggerEvent("keydown",q);tt?q.kill():i.stopBackspace&&AB(q)&&q.prevent()}),O=O2(n,function(q){var tt=i.triggerEvent("focusin",q);tt&&q.kill()}),A=Ui(),z=BB(n,function(q){var tt=i.triggerEvent("focusout",q);tt&&q.kill(),A.set(setTimeout(function(){i.triggerEvent(eb(),q)},0))}),$=function(){Pt(g,function(q){q.unbind()}),S.unbind(),O.unbind(),z.unbind(),C.unbind(),v.on(clearTimeout),A.on(clearTimeout)};return{unbind:$}},dD=function(n,r){var i=tn(n,"target").getOr(r);return wr(i)},cS=function(n,r){var i=wr(!1),s=wr(!1),d=function(){i.set(!0)},g=function(){s.set(!0)};return{stop:d,cut:g,isStopped:i.get,isCut:s.get,event:n,setSource:r.set,getSource:r.get}},NB=function(n){var r=wr(!1),i=function(){r.set(!0)};return{stop:i,cut:At,isStopped:r.get,isCut:xn,event:n,setSource:Ft("Cannot set source of a broadcasted event"),getSource:Ft("Cannot get source of a broadcasted event")}},E2=Kc.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),VT=function(n,r,i,s,d,g){var v=n(r,s),C=cS(i,d);return v.fold(function(){return g.logEventNoHandlers(r,s),E2.complete()},function(S){var O=S.descHandler,A=db(O);return A(C),C.isStopped()?(g.logEventStopped(r,S.element,O.purpose),E2.stopped()):C.isCut()?(g.logEventCut(r,S.element,O.purpose),E2.complete()):bi(S.element).fold(function(){return g.logNoParent(r,S.element,O.purpose),E2.complete()},function(z){return g.logEventResponse(r,S.element,O.purpose),E2.resume(z)})})},mD=function(n,r,i,s,d,g){return VT(n,r,i,s,d,g).fold(en,function(v){return mD(n,r,i,v,d,g)},xn)},PB=function(n,r,i,s,d){var g=dD(i,s);return VT(n,r,i,s,g,d)},FB=function(n,r,i){var s=NB(r);return Pt(n,function(d){var g=d.descHandler,v=db(g);v(s)}),s.isStopped()},LB=function(n,r,i,s){return gD(n,r,i,i.target,s)},gD=function(n,r,i,s,d){var g=dD(i,s);return mD(n,r,i,s,g,d)},IB=function(n,r){return{element:n,descHandler:r}},HB=function(n,r){return{id:n,descHandler:r}},VB=function(){var n={},r=function(v,C,S){xe(S,function(O,A){var z=n[A]!==void 0?n[A]:{};z[C]=fb(O,v),n[A]=z})},i=function(v,C){return Fl(C).bind(function(S){return tn(v,S)}).map(function(S){return IB(C,S)})},s=function(v){return tn(n,v).map(function(C){return Ie(C,function(S,O){return HB(O,S)})}).getOr([])},d=function(v,C,S){return tn(n,C).bind(function(O){return Cg(S,function(A){return i(O,A)},v)})},g=function(v){xe(n,function(C,S){Hn(C,v)&&delete C[v]})};return{registerId:r,unregisterId:g,filterByType:s,find:d}},UB=function(){var n=VB(),r={},i=function(O){var A=O.element;return Fl(A).getOrThunk(function(){return yx("uid-",O.element)})},s=function(O,A){var z=r[A];if(z===O)g(O);else throw new Error('The tagId "'+A+'" is already used by: '+Va(z.element)+`
Cannot use it for: `+Va(O.element)+`
The conflicting element is`+(Cr(z.element)?" ":" not ")+"already in the DOM")},d=function(O){var A=i(O);Pe(r,A)&&s(O,A);var z=[O];n.registerId(z,A,O.events),r[A]=O},g=function(O){Fl(O.element).each(function(A){delete r[A],n.unregisterId(A)})},v=function(O){return n.filterByType(O)},C=function(O,A,z){return n.find(O,A,z)},S=function(O){return tn(r,O)};return{find:C,filter:v,register:d,unregister:g,getById:S}},Xh=function(n){var r=n.dom,i=r.attributes,s=H(r,["attributes"]);return{uid:n.uid,dom:J({tag:"div",attributes:J({role:"presentation"},i)},s),components:n.components,behaviours:Pm(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},Zu=Nc({name:"Container",factory:Xh,configFields:[Et("components",[]),Ma("containerBehaviours",[]),Et("events",{}),Et("domModification",{}),Et("eventOrder",{})]}),pD=function(n){var r=function(ut){return bi(n.element).fold(en,function(_t){return zo(ut,_t)})},i=UB(),s=function(ut,_t){return i.find(r,ut,_t)},d=zB(n.element,{triggerEvent:function(ut,_t){return hm(ut,_t.target,function(gn){return LB(s,ut,_t,gn)})}}),g={debugInfo:X("real"),triggerEvent:function(ut,_t,gn){hm(ut,_t,function(wn){return gD(s,ut,gn,_t,wn)})},triggerFocus:function(ut,_t){Fl(ut).fold(function(){Ul(ut)},function(gn){hm(rd(),ut,function(wn){return PB(s,rd(),{originator:_t,kill:At,prevent:At,target:ut},ut,wn),!1})})},triggerEscape:function(ut,_t){g.triggerEvent("keydown",ut.element,_t.event)},getByUid:function(ut){return lt(ut)},getByDom:function(ut){return Tt(ut)},build:ra,addToGui:function(ut){S(ut)},removeFromGui:function(ut){O(ut)},addToWorld:function(ut){v(ut)},removeFromWorld:function(ut){C(ut)},broadcast:function(ut){$(ut)},broadcastOn:function(ut,_t){q(ut,_t)},broadcastEvent:function(ut,_t){tt(ut,_t)},isConnected:en},v=function(ut){ut.connect(g),Y(ut.element)||(i.register(ut),Pt(ut.components(),v),g.triggerEvent(am(),ut.element,{target:ut.element}))},C=function(ut){Y(ut.element)||(Pt(ut.components(),C),i.unregister(ut)),ut.disconnect()},S=function(ut){Cu(n,ut)},O=function(ut){ls(ut)},A=function(){d.unbind(),rc(n.element)},z=function(ut){var _t=i.filter(as());Pt(_t,function(gn){var wn=gn.descHandler,kt=db(wn);kt(ut)})},$=function(ut){z({universal:!0,data:ut})},q=function(ut,_t){z({universal:!1,channels:ut,data:_t})},tt=function(ut,_t){var gn=i.filter(ut);return FB(gn,_t)},lt=function(ut){return i.getById(ut).fold(function(){return Yr.error(new Error('Could not find component with uid: "'+ut+'" in system.'))},Yr.value)},Tt=function(ut){var _t=Fl(ut).getOr("not found");return lt(_t)};return v(n),{root:n,element:n.element,destroy:A,add:S,remove:O,getByUid:lt,getByDom:Tt,addToWorld:v,removeFromWorld:C,broadcast:$,broadcastOn:q,broadcastEvent:tt}},$B=function(n,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Zt(n.items,r.interpreter)}},jB=X([Et("prefix","form-field"),Ma("fieldBehaviours",[io,_e])]),sS=X([Hs({schema:[Nn("dom")],name:"label"}),Hs({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[Nn("text")],name:"aria-descriptor"}),Ka({factory:{sketch:function(n){var r=X0(n,["factory"]);return n.factory.sketch(r)}},schema:[Nn("factory")],name:"field"})]),hD=function(n,r,i,s){var d=Ra(n.fieldBehaviours,[io.config({find:function(C){return Go(C,n,"field")}}),_e.config({store:{mode:"manual",getValue:function(C){return io.getCurrent(C).bind(_e.getValue)},setValue:function(C,S){io.getCurrent(C).each(function(O){_e.setValue(O,S)})}}})]),g=ui([Si(function(C,S){var O=Lw(C,n,["label","field","aria-descriptor"]);O.field().each(function(A){var z=We(n.prefix);O.label().each(function($){Kr($.element,"for",z),Kr(A.element,"id",z)}),O["aria-descriptor"]().each(function($){var q=We(n.prefix);Kr($.element,"id",q),Kr(A.element,"aria-describedby",q)})})})]),v={getField:function(C){return Go(C,n,"field")},getLabel:function(C){return Go(C,n,"label")}};return{uid:n.uid,dom:n.dom,components:r,behaviours:d,events:g,apis:v}},Oo=Ju({name:"FormField",configFields:jB(),partFields:sS(),factory:hD,apis:{getField:function(n,r){return n.getField(r)},getLabel:function(n,r){return n.getLabel(r)}}}),WB=function(n,r){return sl({attributes:Cf([{key:r.tabAttr,value:"true"}])})},qB=Object.freeze({__proto__:null,exhibit:WB}),GB=[Et("tabAttr","data-alloy-tabstop")],oa=Ji({fields:GB,name:"tabstopping",active:qB}),KB=tinymce.util.Tools.resolve("tinymce.html.Entities"),_2=function(n,r,i,s){var d=vD(n,r,i,s);return Oo.sketch(d)},XB=function(n,r){return _2(n,r,[],[])},vD=function(n,r,i,s){return{dom:bD(i),components:n.toArray().concat([r]),fieldBehaviours:we(s)}},JB=function(){return bD([])},bD=function(n){return{tag:"div",classes:["tox-form__group"].concat(n)}},wp=function(n,r){return Oo.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(n)}})},bs=We("form-component-change"),ys=We("form-close"),qs=We("form-cancel"),Hd=We("form-action"),x0=We("form-submit"),lS=We("form-block"),w0=We("form-unblock"),yD=We("form-tabchange"),fS=We("form-resize"),UT=function(n,r){var i,s=n.label.map(function(z){return wp(z,r)}),d=function(z){return function($,q){Au(q.event.target,"[data-collection-item-value]").each(function(tt){z($,q,tt,yi(tt,"data-collection-item-value"))})}},g=function(z,$){var q=Zt($,function(Tt){var ut=$s.translate(Tt.text),_t=n.columns===1?'<div class="tox-collection__item-label">'+ut+"</div>":"",gn='<div class="tox-collection__item-icon">'+Tt.icon+"</div>",wn={_:" "," - ":" ","-":" "},kt=ut.replace(/\_| \- |\-/g,function(Bn){return wn[Bn]}),rn=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+rn+'" tabindex="-1" data-collection-item-value="'+KB.encodeAllRaw(Tt.value)+'" title="'+kt+'" aria-label="'+kt+'">'+gn+_t+"</div>"}),tt=n.columns!=="auto"&&n.columns>1?xr(q,n.columns):[q],lt=Zt(tt,function(Tt){return'<div class="tox-collection__group">'+Tt.join("")+"</div>"});ul(z.element,lt.join(""))},v=d(function(z,$,q,tt){$.stop(),r.isDisabled()||Sr(z,Hd,{name:n.name,value:tt})}),C=[Un(Sf(),d(function(z,$,q){Ul(q)})),Un(Tg(),v),Un(od(),v),Un(is(),d(function(z,$,q){fa(z.element,"."+jh).each(function(tt){la(tt,jh)}),$a(q,jh)})),Un(eu(),d(function(z){fa(z.element,"."+jh).each(function($){la($,jh)})})),zs(d(function(z,$,q,tt){Sr(z,Hd,{name:n.name,value:tt})}))],S=function(z,$){return Zt(Da(z.element,".tox-collection__item"),$)},O=Oo.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Yt},behaviours:we([pr.config({disabled:r.isDisabled,onDisabled:function(z){S(z,function($){$a($,"tox-collection__item--state-disabled"),Kr($,"aria-disabled",!0)})},onEnabled:function(z){S(z,function($){la($,"tox-collection__item--state-disabled"),La($,"aria-disabled")})}}),Ba(),Ur.config({}),_e.config({store:{mode:"memory",initialValue:[]},onSetValue:function(z,$){g(z,$),n.columns==="auto"&&aT(z,5,"tox-collection__item").each(function(q){var tt=q.numRows,lt=q.numColumns;kr.setGridSize(z,tt,lt)}),uo(z,fS)}}),oa.config({}),kr.config(lB(n.columns,"normal")),Zr("collection-events",C)]),eventOrder:(i={},i[Xc()]=["disabling","alloy.base.behaviour","collection-events"],i)}),A=["tox-form__group--collection"];return _2(s,O,A,[])},dS=X([Ro("data"),Et("inputAttributes",{}),Et("inputStyles",{}),Et("tag","input"),Et("inputClasses",[]),oo("onSetValue"),Et("styles",{}),Et("eventOrder",{}),Ma("inputBehaviours",[_e,Nr]),Et("selectOnFocus",!0)]),xD=function(n){return we([Nr.config({onFocus:n.selectOnFocus?function(r){var i=r.element,s=Mc(i);i.dom.setSelectionRange(0,s.length)}:At})])},YB=function(n){return J(J({},xD(n)),Ra(n.inputBehaviours,[_e.config({store:J(J({mode:"manual"},n.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return Mc(r.element)},setValue:function(r,i){var s=Mc(r.element);s!==i&&zg(r.element,i)}}),onSetValue:n.onSetValue})]))},wD=function(n){return{tag:n.tag,attributes:J({type:"text"},n.inputAttributes),styles:n.inputStyles,classes:n.inputClasses}},mS=function(n,r){return{uid:n.uid,dom:wD(n),components:[],behaviours:YB(n),eventOrder:n.eventOrder}},D2=Nc({name:"Input",configFields:dS(),factory:mS}),CD={},SD={exports:CD};(function(n,r,i,s){(function(d,g){typeof r=="object"&&typeof i<"u"?i.exports=g():typeof n=="function"&&n.amd?n(g):(d=typeof globalThis<"u"?globalThis:d||self,d.EphoxContactWrapper=g())})(this,function(){var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof wR<"u"?wR:typeof self<"u"?self:{},g={exports:{}};(function(O){(function(A){var z=setTimeout;function $(){}function q(kt,rn){return function(){kt.apply(rn,arguments)}}function tt(kt){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof kt!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],wn(kt,this)}function lt(kt,rn){for(;kt._state===3;)kt=kt._value;if(kt._state===0){kt._deferreds.push(rn);return}kt._handled=!0,tt._immediateFn(function(){var Bn=kt._state===1?rn.onFulfilled:rn.onRejected;if(Bn===null){(kt._state===1?Tt:ut)(rn.promise,kt._value);return}var Re;try{Re=Bn(kt._value)}catch(Vn){ut(rn.promise,Vn);return}Tt(rn.promise,Re)})}function Tt(kt,rn){try{if(rn===kt)throw new TypeError("A promise cannot be resolved with itself.");if(rn&&(typeof rn=="object"||typeof rn=="function")){var Bn=rn.then;if(rn instanceof tt){kt._state=3,kt._value=rn,_t(kt);return}else if(typeof Bn=="function"){wn(q(Bn,rn),kt);return}}kt._state=1,kt._value=rn,_t(kt)}catch(Re){ut(kt,Re)}}function ut(kt,rn){kt._state=2,kt._value=rn,_t(kt)}function _t(kt){kt._state===2&&kt._deferreds.length===0&&tt._immediateFn(function(){kt._handled||tt._unhandledRejectionFn(kt._value)});for(var rn=0,Bn=kt._deferreds.length;rn<Bn;rn++)lt(kt,kt._deferreds[rn]);kt._deferreds=null}function gn(kt,rn,Bn){this.onFulfilled=typeof kt=="function"?kt:null,this.onRejected=typeof rn=="function"?rn:null,this.promise=Bn}function wn(kt,rn){var Bn=!1;try{kt(function(Re){Bn||(Bn=!0,Tt(rn,Re))},function(Re){Bn||(Bn=!0,ut(rn,Re))})}catch(Re){if(Bn)return;Bn=!0,ut(rn,Re)}}tt.prototype.catch=function(kt){return this.then(null,kt)},tt.prototype.then=function(kt,rn){var Bn=new this.constructor($);return lt(this,new gn(kt,rn,Bn)),Bn},tt.all=function(kt){var rn=Array.prototype.slice.call(kt);return new tt(function(Bn,Re){if(rn.length===0)return Bn([]);var Vn=rn.length;function ze(Rn,Oe){try{if(Oe&&(typeof Oe=="object"||typeof Oe=="function")){var or=Oe.then;if(typeof or=="function"){or.call(Oe,function($n){ze(Rn,$n)},Re);return}}rn[Rn]=Oe,--Vn===0&&Bn(rn)}catch($n){Re($n)}}for(var Kn=0;Kn<rn.length;Kn++)ze(Kn,rn[Kn])})},tt.resolve=function(kt){return kt&&typeof kt=="object"&&kt.constructor===tt?kt:new tt(function(rn){rn(kt)})},tt.reject=function(kt){return new tt(function(rn,Bn){Bn(kt)})},tt.race=function(kt){return new tt(function(rn,Bn){for(var Re=0,Vn=kt.length;Re<Vn;Re++)kt[Re].then(rn,Bn)})},tt._immediateFn=typeof setImmediate=="function"?function(kt){setImmediate(kt)}:function(kt){z(kt,0)},tt._unhandledRejectionFn=function(kt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",kt)},tt._setImmediateFn=function(kt){tt._immediateFn=kt},tt._setUnhandledRejectionFn=function(kt){tt._unhandledRejectionFn=kt},O.exports?O.exports=tt:A.Promise||(A.Promise=tt)})(d)})(g);var v=g.exports,C=function(){return typeof window<"u"?window:Function("return this;")()}(),S={boltExport:C.Promise||v};return S})})(void 0,CD,SD);var Vd=SD.exports.boltExport,$T=function(n){var r=D.none(),i=[],s=function(O){return $T(function(A){d(function(z){A(O(z))})})},d=function(O){v()?S(O):i.push(O)},g=function(O){v()||(r=D.some(O),C(i),i=[])},v=function(){return r.isSome()},C=function(O){Pt(O,S)},S=function(O){r.each(function(A){setTimeout(function(){O(A)},0)})};return n(g),{get:d,map:s,isReady:v}},kD=function(n){return $T(function(r){r(n)})},QB={nu:$T,pure:kD},ZB=function(n){setTimeout(function(){throw n},0)},Jh=function(n){var r=function(S){n().then(S,ZB)},i=function(S){return Jh(function(){return n().then(S)})},s=function(S){return Jh(function(){return n().then(function(O){return S(O).toPromise()})})},d=function(S){return Jh(function(){return n().then(function(){return S.toPromise()})})},g=function(){return QB.nu(r)},v=function(){var S=null;return Jh(function(){return S===null&&(S=n()),S})},C=n;return{map:i,bind:s,anonBind:d,toLazy:g,toCached:v,toPromise:C,get:r}},tz=function(n){return Jh(function(){return new Vd(n)})},nz=function(n){return Jh(function(){return Vd.resolve(n)})},Su={nu:tz,pure:nz},TD=["input","textarea"],OD=function(n){var r=dt(n);return Pn(TD,r)},ED=function(n,r){var i=r.getRoot(n).getOr(n.element);la(i,r.invalidClass),r.notify.each(function(s){OD(n.element)&&Kr(n.element,"aria-invalid",!1),s.getContainer(n).each(function(d){ul(d,s.validHtml)}),s.onValid(n)})},_D=function(n,r,i,s){var d=r.getRoot(n).getOr(n.element);$a(d,r.invalidClass),r.notify.each(function(g){OD(n.element)&&Kr(n.element,"aria-invalid",!0),g.getContainer(n).each(function(v){ul(v,s)}),g.onInvalid(n,s)})},DD=function(n,r,i){return r.validator.fold(function(){return Su.pure(Yr.value(!0))},function(s){return s.validate(n)})},jT=function(n,r,i){return r.notify.each(function(s){s.onValidate(n)}),DD(n,r).map(function(s){return n.getSystem().isConnected()?s.fold(function(d){return _D(n,r,i,d),Yr.error(d)},function(d){return ED(n,r),Yr.value(d)}):Yr.error("No longer in system")})},gS=function(n,r){var i=r.getRoot(n).getOr(n.element);return Wu(i,r.invalidClass)},Fc=Object.freeze({__proto__:null,markValid:ED,markInvalid:_D,query:DD,run:jT,isInvalid:gS}),MD=function(n,r){return n.validator.map(function(i){return ui([Un(i.onEvent,function(s){jT(s,n,r).get(Yt)})].concat(i.validateOnLoad?[Si(function(s){jT(s,n,r).get(At)})]:[]))}).getOr({})},ez=Object.freeze({__proto__:null,events:MD}),rz=[Nn("invalidClass"),Et("getRoot",D.none),Oc("notify",[Et("aria","alert"),Et("getContainer",D.none),Et("validHtml",""),oo("onValid"),oo("onInvalid"),oo("onValidate")]),Oc("validator",[Nn("validate"),Et("onEvent","input"),Et("validateOnLoad",!0)])],Ud=Ji({fields:rz,name:"invalidating",active:ez,apis:Fc,extra:{validation:function(n){return function(r){var i=_e.getValue(r);return Su.pure(n(i))}}}}),oz=function(n,r,i,s){return i.getOrCreate(n,r,s)},RD=Object.freeze({__proto__:null,getCoupled:oz}),AD=[ac("others",bu(Yr.value,Es()))],iz=function(){var n={},r=function(s,d,g){var v=jt(d.others);if(v)return tn(n,g).getOrThunk(function(){var C=tn(d.others,g).getOrDie("No information found for coupled component: "+g),S=C(s),O=s.getSystem().build(S);return n[g]=O,O});throw new Error("Cannot find coupled component: "+g+". Known coupled components: "+JSON.stringify(v,null,2))},i=X({});return Ua({readState:i,getOrCreate:r})},az=Object.freeze({__proto__:null,init:iz}),ia=Ji({fields:AD,name:"coupling",apis:RD,state:az}),BD=X("sink"),WT=X(Hs({name:BD(),overrides:X({dom:{tag:"div"},behaviours:we([Ku.config({useFixed:en})]),events:ui([Xi(Ov()),Xi(Rs()),Xi(Tg())])})})),Zl;(function(n){n[n.HighlightFirst=0]="HighlightFirst",n[n.HighlightNone=1]="HighlightNone"})(Zl||(Zl={}));var qT=function(n,r){var i=n.getHotspot(r).getOr(r),s="hotspot",d=n.getAnchorOverrides();return n.layouts.fold(function(){return{type:s,hotspot:i,overrides:d}},function(g){return{type:s,hotspot:i,overrides:d,layouts:g}})},uz=function(n,r,i){var s=n.fetch;return s(i).map(r)},cz=function(n,r,i,s,d,g,v){var C=uz(n,r,s),S=Cp(s,n);return C.map(function(O){return O.bind(function(A){return D.from(Uo.sketch(J(J({},g.menu()),{uid:sm(""),data:A,highlightImmediately:v===Zl.HighlightFirst,onOpenMenu:function(z,$){var q=S().getOrDie();Ku.position(q,$,{anchor:i}),go.decloak(d)},onOpenSubmenu:function(z,$,q){var tt=S().getOrDie();Ku.position(tt,q,{anchor:{type:"submenu",item:$}}),go.decloak(d)},onRepositionMenu:function(z,$,q){var tt=S().getOrDie();Ku.position(tt,$,{anchor:i}),Pt(q,function(lt){Ku.position(tt,lt.triggeredMenu,{anchor:{type:"submenu",item:lt.triggeringItem}})})},onEscape:function(){return Nr.focus(s),go.close(d),D.some(!0)}})))})})},GT=function(n,r,i,s,d,g,v){var C=qT(n,i),S=cz(n,r,C,i,s,d,v);return S.map(function(O){return O.fold(function(){go.isOpen(s)&&go.close(s)},function(A){go.cloak(s),go.open(s,A),g(s)}),s})},sz=function(n,r,i,s,d,g,v){return go.close(s),Su.pure(s)},C0=function(n,r,i,s,d,g){var v=ia.getCoupled(i,"sandbox"),C=go.isOpen(v),S=C?sz:GT;return S(n,r,i,v,s,d,g)},lz=function(n,r,i){var s=io.getCurrent(r).getOr(r),d=pu(n.element);i?Br(s.element,"min-width",d+"px"):tl(s.element,d)},Cp=function(n,r){return n.getSystem().getByUid(r.uid+"-"+BD()).map(function(i){return function(){return Yr.value(i)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return Yr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(i){return function(){return i(n)}})})},zD=function(n){go.getState(n).each(function(r){Uo.repositionMenus(r)})},KT=function(n,r,i){var s=Ex(),d=function(C,S){var O=qT(n,r);s.link(r.element),n.matchWidth&&lz(O.hotspot,S,n.useMinWidth),n.onOpen(O,C,S),i!==void 0&&i.onOpen!==void 0&&i.onOpen(C,S)},g=function(C,S){s.unlink(r.element),i!==void 0&&i.onClose!==void 0&&i.onClose(C,S)},v=Cp(r,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:gs.augment(n.sandboxBehaviours,[_e.config({store:{mode:"memory",initialValue:r}}),go.config({onOpen:d,onClose:g,isPartOf:function(C,S,O){return gm(S,O)||gm(r,O)},getAttachPoint:function(){return v().getOrDie()}}),io.config({find:function(C){return go.getState(C).bind(function(S){return io.getCurrent(S)})}}),Rc.config({channels:J(J({},Ed({isExtraPart:xn})),sh({doReposition:zD}))})])}},eg=function(n){var r=ia.getCoupled(n,"sandbox");zD(r)},XT=function(){return[Et("sandboxClasses",[]),gs.field("sandboxBehaviours",[io,Rc,go,_e])]},fz=X([Nn("dom"),Nn("fetch"),oo("onOpen"),Zo("onExecute"),Et("getHotspot",D.some),Et("getAnchorOverrides",X({})),Cd(),Ma("dropdownBehaviours",[ho,ia,kr,Nr]),Nn("toggleClass"),Et("eventOrder",{}),Ro("lazySink"),Et("matchWidth",!1),Et("useMinWidth",!1),Ro("role")].concat(XT())),xl=X([ts({schema:[bm()],name:"menu",defaults:function(n){return{onExecute:n.onExecute}}}),WT()]),ND=function(n,r,i,s){var d,g=function(A){return tn(n.dom,"attributes").bind(function(z){return tn(z,A)})},v=function(A){go.getState(A).each(function(z){Uo.highlightPrimary(z)})},C=function(A){var z=v;C0(n,Yt,A,s,z,Zl.HighlightFirst).get(At)},S={expand:function(A){ho.isOn(A)||C0(n,Yt,A,s,At,Zl.HighlightNone).get(At)},open:function(A){ho.isOn(A)||C0(n,Yt,A,s,At,Zl.HighlightFirst).get(At)},isOpen:ho.isOn,close:function(A){ho.isOn(A)&&C0(n,Yt,A,s,At,Zl.HighlightFirst).get(At)},repositionMenus:function(A){ho.isOn(A)&&eg(A)}},O=function(A,z){return Tf(A),D.some(!0)};return{uid:n.uid,dom:n.dom,components:r,behaviours:Ra(n.dropdownBehaviours,[ho.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),ia.config({others:{sandbox:function(A){return KT(n,A,{onOpen:function(){return ho.on(A)},onClose:function(){return ho.off(A)}})}}}),kr.config({mode:"special",onSpace:O,onEnter:O,onDown:function(A,z){if(wl.isOpen(A)){var $=ia.getCoupled(A,"sandbox");v($)}else wl.open(A);return D.some(!0)},onEscape:function(A,z){return wl.isOpen(A)?(wl.close(A),D.some(!0)):D.none()}}),Nr.config({})]),events:Fh(D.some(C)),eventOrder:J(J({},n.eventOrder),(d={},d[Xc()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:S,domModification:{attributes:J(J({"aria-haspopup":"true"},n.role.fold(function(){return{}},function(A){return{role:A}})),n.dom.tag==="button"?{type:g("type").getOr("button")}:{})}}},wl=Ju({name:"Dropdown",configFields:fz(),partFields:xl(),factory:ND,apis:{open:function(n,r){return n.open(r)},expand:function(n,r){return n.expand(r)},close:function(n,r){return n.close(r)},isOpen:function(n,r){return n.isOpen(r)},repositionMenus:function(n,r){return n.repositionMenus(r)}}}),dz=function(){return sl({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},mz=function(){return ui([ub(_k(),en)])},pS=Object.freeze({__proto__:null,events:mz,exhibit:dz}),M2=Ji({fields:[],name:"unselecting",active:pS}),PD=function(n,r){return wl.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:we([Ws.button(r.providers.isDisabled),Ba(),M2.config({}),oa.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(i){return Su.nu(function(s){return n.fetch(s)}).map(function(s){return D.from(uD(On(aS(We("menu-value"),s,function(d){n.onItemAction(i,d)},n.columns,n.presets,Uf.CLOSE_ON_EXECUTE,xn,r.providers),{movement:C2(n.columns,n.presets)})))})},parts:{menu:qC(!1,1,n.presets)}})},FD=We("color-input-change"),LD=We("color-swatch-change"),ID=We("color-picker-cancel"),JT=function(n,r,i){var s=Oo.parts.field({factory:D2,inputClasses:["tox-textfield"],onSetValue:function(S){return Ud.run(S).get(At)},inputBehaviours:we([pr.config({disabled:r.providers.isDisabled}),Ba(),oa.config({}),Ud.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(S){return bi(S.element)},notify:{onValid:function(S){var O=_e.getValue(S);Sr(S,FD,{color:O})}},validator:{validateOnLoad:!1,validate:function(S){var O=_e.getValue(S);if(O.length===0)return Su.pure(Yr.value(!0));var A=st.fromTag("span");Br(A,"background-color",O);var z=ta(A,"background-color").fold(function(){return Yr.error("blah")},function($){return Yr.value(O)});return Su.pure(z)}}})]),selectOnFocus:!1}),d=n.label.map(function(S){return wp(S,r.providers)}),g=function(S,O){Sr(S,LD,{value:O})},v=function(S,O){C.getOpt(S).each(function(A){O==="custom"?i.colorPicker(function(z){z.fold(function(){return uo(A,ID)},function($){g(A,$),K_($)})},"#ffffff"):O==="remove"?g(A,""):g(A,O)})},C=Po(PD({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[xa,wu,iu]},onLtr:function(){return[wu,xa,iu]}},components:[],fetch:Y_(i.getColors(),i.hasCustomColors()),columns:i.getColorCols(),presets:"color",onItemAction:v},r));return Oo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,C.asSpec()]}]),fieldBehaviours:we([Zr("form-field-events",[Un(FD,function(S,O){C.getOpt(S).each(function(A){Br(A.element,"background-color",O.event.color)}),Sr(S,bs,{name:n.name})}),Un(LD,function(S,O){Oo.getField(S).each(function(A){_e.setValue(A,O.event.value),io.getCurrent(S).each(Nr.focus)})}),Un(ID,function(S,O){Oo.getField(S).each(function(A){io.getCurrent(S).each(Nr.focus)})})])])})},gz=Hs({schema:[Nn("dom")],name:"label"}),Sp=function(n){return Hs({name:""+n+"-edge",overrides:function(r){var i=r.model.manager.edgeActions[n];return i.fold(function(){return{}},function(s){return{events:ui([Wp(Pl(),function(d,g,v){return s(d,v)},[r]),Wp(Rs(),function(d,g,v){return s(d,v)},[r]),Wp(rm(),function(d,g,v){v.mouseIsDown.get()&&s(d,v)},[r])])}})}})},pz=Sp("top-left"),hz=Sp("top"),vz=Sp("top-right"),bz=Sp("right"),yz=Sp("bottom-right"),HD=Sp("bottom"),VD=Sp("bottom-left"),xz=Sp("left"),wz=Ka({name:"thumb",defaults:X({dom:{styles:{position:"absolute"}}}),overrides:function(n){return{events:ui([cm(Pl(),n,"spectrum"),cm(Ms(),n,"spectrum"),cm(ed(),n,"spectrum"),cm(Rs(),n,"spectrum"),cm(rm(),n,"spectrum"),cm(Z0(),n,"spectrum")])}}}),Cz=Ka({schema:[Uu("mouseIsDown",function(){return wr(!1)})],name:"spectrum",overrides:function(n){var r=n.model,i=r.manager,s=function(d,g){return i.getValueFromEvent(g).map(function(v){return i.setValueFrom(d,n,v)})};return{behaviours:we([kr.config({mode:"special",onLeft:function(d){return i.onLeft(d,n)},onRight:function(d){return i.onRight(d,n)},onUp:function(d){return i.onUp(d,n)},onDown:function(d){return i.onDown(d,n)}}),Nr.config({})]),events:ui([Un(Pl(),s),Un(Ms(),s),Un(Rs(),s),Un(rm(),function(d,g){n.mouseIsDown.get()&&s(d,g)})])}}}),Sz=[gz,xz,bz,hz,HD,pz,vz,VD,yz,wz,Cz],kz="slider.change.value",S0=X(kz),UD=function(n){return n.type.indexOf("touch")!==-1},hS=function(n){var r=n.event.raw;if(UD(r)){var i=r;return i.touches!==void 0&&i.touches.length===1?D.some(i.touches[0]).map(function(d){return Jo(d.clientX,d.clientY)}):D.none()}else{var s=r;return s.clientX!==void 0?D.some(s).map(function(d){return Jo(d.clientX,d.clientY)}):D.none()}},vS="top",Tz="right",$D="bottom",Oz="left",Yh=function(n){return n.model.minX},Qh=function(n){return n.model.minY},bS=function(n){return n.model.minX-1},Zh=function(n){return n.model.minY-1},tv=function(n){return n.model.maxX},nv=function(n){return n.model.maxY},tf=function(n){return n.model.maxX+1},yS=function(n){return n.model.maxY+1},ev=function(n,r,i){return r(n)-i(n)},xS=function(n){return ev(n,tv,Yh)},R2=function(n){return ev(n,nv,Qh)},jD=function(n){return xS(n)/2},WD=function(n){return R2(n)/2},k0=function(n){return n.stepSize},YT=function(n){return n.snapToGrid},qD=function(n){return n.snapStart},A2=function(n){return n.rounded},wS=function(n,r){return n[r+"-edge"]!==void 0},Gs=function(n){return wS(n,Oz)},GD=function(n){return wS(n,Tz)},KD=function(n){return wS(n,vS)},XD=function(n){return wS(n,$D)},$d=function(n){return n.model.value.get()},JD=function(n){return{x:n}},YD=function(n){return{y:n}},kp=function(n,r){return{x:n,y:r}},nf=function(n,r){Sr(n,S0(),{value:r})},Ez=function(n,r){nf(n,kp(bS(r),Zh(r)))},_z=function(n,r){nf(n,YD(Zh(r)))},Dz=function(n,r){nf(n,kp(jD(r),Zh(r)))},QD=function(n,r){nf(n,kp(tf(r),Zh(r)))},Mz=function(n,r){nf(n,JD(tf(r)))},Rz=function(n,r){nf(n,kp(tf(r),WD(r)))},Az=function(n,r){nf(n,kp(tf(r),yS(r)))},ZD=function(n,r){nf(n,YD(yS(r)))},CS=function(n,r){nf(n,kp(jD(r),yS(r)))},Bz=function(n,r){nf(n,kp(bS(r),yS(r)))},SS=function(n,r){nf(n,JD(bS(r)))},T0=function(n,r){nf(n,kp(bS(r),WD(r)))},kS=function(n,r,i,s){return n<r?n:n>i?i:n===r?r-1:Math.max(r,n-s)},TS=function(n,r,i,s){return n>i?n:n<r?r:n===i?i+1:Math.min(i,n+s)},QT=function(n,r,i){return Math.max(r,Math.min(i,n))},zz=function(n,r,i,s,d){return d.fold(function(){var g=n-r,v=Math.round(g/s)*s;return QT(r+v,r-1,i+1)},function(g){var v=(n-g)%s,C=Math.round(v/s),S=Math.floor((n-g)/s),O=Math.floor((i-g)/s),A=Math.min(O,S+C),z=g+A*s;return Math.max(g,z)})},Nz=function(n,r,i){return Math.min(i,Math.max(n,r))-r},B2=function(n){var r=n.min,i=n.max,s=n.range,d=n.value,g=n.step,v=n.snap,C=n.snapStart,S=n.rounded,O=n.hasMinEdge,A=n.hasMaxEdge,z=n.minBound,$=n.maxBound,q=n.screenRange,tt=O?r-1:r,lt=A?i+1:i;if(d<z)return tt;if(d>$)return lt;var Tt=Nz(d,z,$),ut=QT(Tt/q*s+r,tt,lt);return v&&ut>=r&&ut<=i?zz(ut,r,i,g,C):S?Math.round(ut):ut},tM=function(n){var r=n.min,i=n.max,s=n.range,d=n.value,g=n.hasMinEdge,v=n.hasMaxEdge,C=n.maxBound,S=n.maxOffset,O=n.centerMinEdge,A=n.centerMaxEdge;return d<r?g?0:O:d>i?v?C:A:(d-r)/s*S},ZT="top",tO="right",nO="bottom",z2="left",nM="width",Lc="height",jf=function(n){return n.element.dom.getBoundingClientRect()},ef=function(n,r){return n[r]},OS=function(n){var r=jf(n);return ef(r,z2)},eO=function(n){var r=jf(n);return ef(r,tO)},ES=function(n){var r=jf(n);return ef(r,ZT)},eM=function(n){var r=jf(n);return ef(r,nO)},rM=function(n){var r=jf(n);return ef(r,nM)},rO=function(n){var r=jf(n);return ef(r,Lc)},Wf=function(n,r,i){return(n+r)/2-i},_S=function(n,r){var i=jf(n),s=jf(r),d=ef(i,z2),g=ef(i,tO),v=ef(s,z2);return Wf(d,g,v)},oO=function(n,r){var i=jf(n),s=jf(r),d=ef(i,ZT),g=ef(i,nO),v=ef(s,ZT);return Wf(d,g,v)},rv=function(n,r){Sr(n,S0(),{value:r})},O0=function(n){return{x:n}},iO=function(n,r,i){var s={min:Yh(r),max:tv(r),range:xS(r),value:i,step:k0(r),snap:YT(r),snapStart:qD(r),rounded:A2(r),hasMinEdge:Gs(r),hasMaxEdge:GD(r),minBound:OS(n),maxBound:eO(n),screenRange:rM(n)};return B2(s)},Pz=function(n,r,i){var s=iO(n,r,i),d=O0(s);return rv(n,d),s},Fz=function(n,r){var i=Yh(r);rv(n,O0(i))},Lz=function(n,r){var i=tv(r);rv(n,O0(i))},Iz=function(n,r,i){var s=n>0?TS:kS,d=s($d(i).x,Yh(i),tv(i),k0(i));return rv(r,O0(d)),D.some(d)},DS=function(n){return function(r,i){return Iz(n,r,i).map(en)}},Hz=function(n){var r=hS(n);return r.map(function(i){return i.left})},oM=function(n,r,i,s,d){var g=0,v=rM(n),C=s.bind(function(A){return D.some(_S(A,n))}).getOr(g),S=d.bind(function(A){return D.some(_S(A,n))}).getOr(v),O={min:Yh(r),max:tv(r),range:xS(r),value:i,hasMinEdge:Gs(r),hasMaxEdge:GD(r),minBound:OS(n),minOffset:g,maxBound:eO(n),maxOffset:v,centerMinEdge:C,centerMaxEdge:S};return tM(O)},aO=function(n,r,i,s,d,g){var v=oM(r,g,i,s,d);return OS(r)-OS(n)+v},jd=function(n,r,i,s){var d=$d(i),g=aO(n,s.getSpectrum(n),d.x,s.getLeftEdge(n),s.getRightEdge(n),i),v=pu(r.element)/2;Br(r.element,"left",g-v+"px")},MS=DS(-1),Vz=DS(1),Uz=D.none,iM=D.none,aM={"top-left":D.none(),top:D.none(),"top-right":D.none(),right:D.some(Mz),"bottom-right":D.none(),bottom:D.none(),"bottom-left":D.none(),left:D.some(SS)},uO=Object.freeze({__proto__:null,setValueFrom:Pz,setToMin:Fz,setToMax:Lz,findValueOfOffset:iO,getValueFromEvent:Hz,findPositionOfValue:aO,setPositionFromValue:jd,onLeft:MS,onRight:Vz,onUp:Uz,onDown:iM,edgeActions:aM}),N2=function(n,r){Sr(n,S0(),{value:r})},Tp=function(n){return{y:n}},ov=function(n,r,i){var s={min:Qh(r),max:nv(r),range:R2(r),value:i,step:k0(r),snap:YT(r),snapStart:qD(r),rounded:A2(r),hasMinEdge:KD(r),hasMaxEdge:XD(r),minBound:ES(n),maxBound:eM(n),screenRange:rO(n)};return B2(s)},$z=function(n,r,i){var s=ov(n,r,i),d=Tp(s);return N2(n,d),s},jz=function(n,r){var i=Qh(r);N2(n,Tp(i))},Wz=function(n,r){var i=nv(r);N2(n,Tp(i))},qz=function(n,r,i){var s=n>0?TS:kS,d=s($d(i).y,Qh(i),nv(i),k0(i));return N2(r,Tp(d)),D.some(d)},uM=function(n){return function(r,i){return qz(n,r,i).map(en)}},Gz=function(n){var r=hS(n);return r.map(function(i){return i.top})},Kz=function(n,r,i,s,d){var g=0,v=rO(n),C=s.bind(function(A){return D.some(oO(A,n))}).getOr(g),S=d.bind(function(A){return D.some(oO(A,n))}).getOr(v),O={min:Qh(r),max:nv(r),range:R2(r),value:i,hasMinEdge:KD(r),hasMaxEdge:XD(r),minBound:ES(n),minOffset:g,maxBound:eM(n),maxOffset:v,centerMinEdge:C,centerMaxEdge:S};return tM(O)},P2=function(n,r,i,s,d,g){var v=Kz(r,g,i,s,d);return ES(r)-ES(n)+v},iv=function(n,r,i,s){var d=$d(i),g=P2(n,s.getSpectrum(n),d.y,s.getTopEdge(n),s.getBottomEdge(n),i),v=ua(r.element)/2;Br(r.element,"top",g-v+"px")},Xz=D.none,cM=D.none,Jz=uM(-1),Yz=uM(1),Qz={"top-left":D.none(),top:D.some(_z),"top-right":D.none(),right:D.none(),"bottom-right":D.none(),bottom:D.some(ZD),"bottom-left":D.none(),left:D.none()},Zz=Object.freeze({__proto__:null,setValueFrom:$z,setToMin:jz,setToMax:Wz,findValueOfOffset:ov,getValueFromEvent:Gz,findPositionOfValue:P2,setPositionFromValue:iv,onLeft:Xz,onRight:cM,onUp:Jz,onDown:Yz,edgeActions:Qz}),RS=function(n,r){Sr(n,S0(),{value:r})},F2=function(n,r){return{x:n,y:r}},cO=function(n,r,i){var s=iO(n,r,i.left),d=ov(n,r,i.top),g=F2(s,d);return RS(n,g),g},tN=function(n,r,i,s){var d=n>0?TS:kS,g=r?$d(s).x:d($d(s).x,Yh(s),tv(s),k0(s)),v=r?d($d(s).y,Qh(s),nv(s),k0(s)):$d(s).y;return RS(i,F2(g,v)),D.some(g)},L2=function(n,r){return function(i,s){return tN(n,r,i,s).map(en)}},sO=function(n,r){var i=Yh(r),s=Qh(r);RS(n,F2(i,s))},lO=function(n,r){var i=tv(r),s=nv(r);RS(n,F2(i,s))},sM=function(n){return hS(n)},nN=function(n,r,i,s){var d=$d(i),g=aO(n,s.getSpectrum(n),d.x,s.getLeftEdge(n),s.getRightEdge(n),i),v=P2(n,s.getSpectrum(n),d.y,s.getTopEdge(n),s.getBottomEdge(n),i),C=pu(r.element)/2,S=ua(r.element)/2;Br(r.element,"left",g-C+"px"),Br(r.element,"top",v-S+"px")},eN=L2(-1,!1),AS=L2(1,!1),lM=L2(-1,!0),rN=L2(1,!0),oN={"top-left":D.some(Ez),top:D.some(Dz),"top-right":D.some(QD),right:D.some(Rz),"bottom-right":D.some(Az),bottom:D.some(CS),"bottom-left":D.some(Bz),left:D.some(T0)},iN=Object.freeze({__proto__:null,setValueFrom:cO,setToMin:sO,setToMax:lO,getValueFromEvent:sM,setPositionFromValue:nN,onLeft:eN,onRight:AS,onUp:lM,onDown:rN,edgeActions:oN}),aN=[Et("stepSize",1),Et("onChange",At),Et("onChoose",At),Et("onInit",At),Et("onDragStart",At),Et("onDragEnd",At),Et("snapToGrid",!1),Et("rounded",!0),Ro("snapStart"),ac("model",os("mode",{x:[Et("minX",0),Et("maxX",100),Uu("value",function(n){return wr(n.mode.minX)}),Nn("getInitialValue"),qo("manager",uO)],y:[Et("minY",0),Et("maxY",100),Uu("value",function(n){return wr(n.mode.minY)}),Nn("getInitialValue"),qo("manager",Zz)],xy:[Et("minX",0),Et("maxX",100),Et("minY",0),Et("maxY",100),Uu("value",function(n){return wr({x:n.mode.minX,y:n.mode.minY})}),Nn("getInitialValue"),qo("manager",iN)]})),Ma("sliderBehaviours",[kr,_e]),Uu("mouseIsDown",function(){return wr(!1)})],rg=function(n,r,i,s){var d,g=function(kt){return Kl(kt,n,"thumb")},v=function(kt){return Kl(kt,n,"spectrum")},C=function(kt){return Go(kt,n,"left-edge")},S=function(kt){return Go(kt,n,"right-edge")},O=function(kt){return Go(kt,n,"top-edge")},A=function(kt){return Go(kt,n,"bottom-edge")},z=n.model,$=z.manager,q=function(kt,rn){$.setPositionFromValue(kt,rn,n,{getLeftEdge:C,getRightEdge:S,getTopEdge:O,getBottomEdge:A,getSpectrum:v})},tt=function(kt,rn){z.value.set(rn);var Bn=g(kt);q(kt,Bn)},lt=function(kt,rn){tt(kt,rn);var Bn=g(kt);return n.onChange(kt,Bn,rn),D.some(!0)},Tt=function(kt){$.setToMin(kt,n)},ut=function(kt){$.setToMax(kt,n)},_t=function(kt){var rn=function(){Go(kt,n,"thumb").each(function(Re){var Vn=z.value.get();n.onChoose(kt,Re,Vn)})},Bn=n.mouseIsDown.get();n.mouseIsDown.set(!1),Bn&&rn()},gn=function(kt,rn){rn.stop(),n.mouseIsDown.set(!0),n.onDragStart(kt,g(kt))},wn=function(kt,rn){rn.stop(),n.onDragEnd(kt,g(kt)),_t(kt)};return{uid:n.uid,dom:n.dom,components:r,behaviours:Ra(n.sliderBehaviours,[kr.config({mode:"special",focusIn:function(kt){return Go(kt,n,"spectrum").map(kr.focusIn).map(en)}}),_e.config({store:{mode:"manual",getValue:function(kt){return z.value.get()}}}),Rc.config({channels:(d={},d[zc()]={onReceive:_t},d)})]),events:ui([Un(S0(),function(kt,rn){lt(kt,rn.event.value)}),Si(function(kt,rn){var Bn=z.getInitialValue();z.value.set(Bn);var Re=g(kt);q(kt,Re);var Vn=v(kt);n.onInit(kt,Re,Vn,z.value.get())}),Un(Pl(),gn),Un(ed(),wn),Un(Rs(),gn),Un(Z0(),wn)]),apis:{resetToMin:Tt,resetToMax:ut,setValue:tt,refresh:q},domModification:{styles:{position:"relative"}}}},Cl=Ju({name:"Slider",configFields:aN,partFields:Sz,factory:rg,apis:{setValue:function(n,r,i){n.setValue(r,i)},resetToMin:function(n,r){n.resetToMin(r)},resetToMax:function(n,r){n.resetToMax(r)},refresh:function(n,r){n.refresh(r)}}}),BS=We("rgb-hex-update"),fO=We("slider-update"),zS=We("palette-update"),fM=function(n,r){var i=Cl.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=Cl.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return Cl.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:X({y:0})},components:[i,s],sliderBehaviours:we([Nr.config({})]),onChange:function(d,g,v){Sr(d,fO,{value:v})}})},I2="form",dM=[Ma("formBehaviours",[_e])],dO=function(n){return"<alloy.field."+n+">"},uN=function(n){var r=function(){var g=[],v=function(C,S){return g.push(C),xy(I2,dO(C),S)};return{field:v,record:X(g)}}(),i=n(r),s=r.record(),d=Zt(s,function(g){return Ka({name:g,pname:dO(g)})});return Oy(I2,dM,d,sN,i)},cN=function(n,r){return n.fold(function(){return Yr.error(r)},Yr.value)},sN=function(n,r){return{uid:n.uid,dom:n.dom,components:r,behaviours:Ra(n.formBehaviours,[_e.config({store:{mode:"manual",getValue:function(i){var s=Sy(i,n);return Qn(s,function(d,g){return d().bind(function(v){var C=io.getCurrent(v);return cN(C,new Error("Cannot find a current component to extract the value from for form part '"+g+"': "+Va(v.element)))}).map(_e.getValue)})},setValue:function(i,s){xe(s,function(d,g){Go(i,n,g).each(function(v){io.getCurrent(v).each(function(C){_e.setValue(C,d)})})})}}})]),apis:{getField:function(i,s){return Go(i,n,s).bind(io.getCurrent)}}}},E0={getField:dm(function(n,r,i){return n.getField(r,i)}),sketch:uN},mO=We("valid-input"),gO=We("invalid-input"),mM=We("validating-input"),pO="colorcustom.rgb.",lN=function(n,r,i,s){var d=function($,q){return Ud.config({invalidClass:r("invalid"),notify:{onValidate:function(tt){Sr(tt,mM,{type:$})},onValid:function(tt){Sr(tt,mO,{type:$,value:_e.getValue(tt)})},onInvalid:function(tt){Sr(tt,gO,{type:$,value:_e.getValue(tt)})}},validator:{validate:function(tt){var lt=_e.getValue(tt),Tt=q(lt)?Yr.value(!0):Yr.error(n("aria.input.invalid"));return Su.pure(Tt)},validateOnLoad:!1}})},g=function($,q,tt,lt,Tt){var ut=n(pO+"range"),_t=Oo.parts.label({dom:{tag:"label",innerHtml:tt,attributes:{"aria-label":lt}}}),gn=Oo.parts.field({data:Tt,factory:D2,inputAttributes:J({type:"text"},q==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:we([d(q,$),oa.config({})]),onSetValue:function(Bn){if(Ud.isInvalid(Bn)){var Re=Ud.run(Bn);Re.get(At)}}}),wn=[_t,gn],kt=q!=="hex"?[Oo.parts["aria-descriptor"]({text:ut})]:[],rn=wn.concat(kt);return{dom:{tag:"div",attributes:{role:"presentation"}},components:rn}},v=function($,q){var tt=y2(q);return E0.getField($,"hex").each(function(lt){Nr.isFocused(lt)||_e.setValue($,{hex:tt.value})}),tt},C=function($,q){var tt=q.red,lt=q.green,Tt=q.blue;_e.setValue($,{red:tt,green:lt,blue:Tt})},S=Po({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),O=function($,q){S.getOpt($).each(function(tt){Br(tt.element,"background-color","#"+q.value)})},A=function(){var $={red:wr(D.some(255)),green:wr(D.some(255)),blue:wr(D.some(255)),hex:wr(D.some("ffffff"))},q=function(Rn,Oe){var or=x2(Oe);C(Rn,or),ut(or)},tt=function(Rn){return $[Rn].get()},lt=function(Rn,Oe){$[Rn].set(Oe)},Tt=function(){return tt("red").bind(function(Rn){return tt("green").bind(function(Oe){return tt("blue").map(function(or){return xp(Rn,Oe,or,1)})})})},ut=function(Rn){var Oe=Rn.red,or=Rn.green,$n=Rn.blue;lt("red",D.some(Oe)),lt("green",D.some(or)),lt("blue",D.some($n))},_t=function(Rn,Oe){var or=Oe.event;or.type!=="hex"?lt(or.type,D.none()):s(Rn)},gn=function(Rn,Oe){i(Rn);var or=B_(Oe);lt("hex",D.some(Oe));var $n=x2(or);C(Rn,$n),ut($n),Sr(Rn,BS,{hex:or}),O(Rn,or)},wn=function(Rn,Oe,or){var $n=parseInt(or,10);lt(Oe,D.some($n)),Tt().each(function(Je){var lr=v(Rn,Je);Sr(Rn,BS,{hex:lr}),O(Rn,lr)})},kt=function(Rn){return Rn.type==="hex"},rn=function(Rn,Oe){var or=Oe.event;kt(or)?gn(Rn,or.value):wn(Rn,or.type,or.value)},Bn=function(Rn){return{label:n(pO+Rn+".label"),description:n(pO+Rn+".description")}},Re=Bn("red"),Vn=Bn("green"),ze=Bn("blue"),Kn=Bn("hex");return On(E0.sketch(function(Rn){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[Rn.field("red",Oo.sketch(g(OT,"red",Re.label,Re.description,255))),Rn.field("green",Oo.sketch(g(OT,"green",Vn.label,Vn.description,255))),Rn.field("blue",Oo.sketch(g(OT,"blue",ze.label,ze.description,255))),Rn.field("hex",Oo.sketch(g(P_,"hex",Kn.label,Kn.description,"ffffff"))),S.asSpec()],formBehaviours:we([Ud.config({invalidClass:r("form-invalid")}),Zr("rgb-form-events",[Un(mO,rn),Un(gO,_t),Un(mM,_t)])])}}),{apis:{updateHex:function(Rn,Oe){_e.setValue(Rn,{hex:Oe.value}),q(Rn,Oe),O(Rn,Oe)}}})},z=Nc({factory:A,name:"RgbForm",configFields:[],apis:{updateHex:function($,q,tt){$.updateHex(q,tt)}},extraApis:{}});return z},NS=function(n,r){var i=Cl.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=Cl.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function(O,A){var z=O.width,$=O.height,q=O.getContext("2d");if(q!==null){q.fillStyle=A,q.fillRect(0,0,z,$);var tt=q.createLinearGradient(0,0,z,0);tt.addColorStop(0,"rgba(255,255,255,1)"),tt.addColorStop(1,"rgba(255,255,255,0)"),q.fillStyle=tt,q.fillRect(0,0,z,$);var lt=q.createLinearGradient(0,0,0,$);lt.addColorStop(0,"rgba(0,0,0,0)"),lt.addColorStop(1,"rgba(0,0,0,1)"),q.fillStyle=lt,q.fillRect(0,0,z,$)}},g=function(O,A){var z=O.components()[0].element.dom,$=w2(A,100,100),q=I_($);d(z,ET(q))},v=function(O,A){var z=rS(x2(A));Cl.setValue(O,{x:z.saturation,y:100-z.value})},C=function(O){var A=X({x:0,y:0}),z=function(tt,lt,Tt){Sr(tt,zS,{value:Tt})},$=function(tt,lt,Tt,ut){d(Tt.element.dom,ET(U_))},q=we([io.config({find:D.some}),Nr.config({})]);return Cl.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:A},rounded:!1,components:[i,s],onChange:z,onInit:$,sliderBehaviours:q})},S=Nc({factory:C,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(O,A,z){g(A,z)},setThumb:function(O,A,z){v(A,z)}},extraApis:{}});return S},fN=function(n,r){var i=function(d){var g=lN(n,r,d.onValidHex,d.onInvalidHex),v=NS(n,r),C=function(rn){return(100-rn)/100*360},S=function(rn){return 100-rn/360*100},O={paletteRgba:wr(U_),paletteHue:wr(0)},A=Po(fM(n,r)),z=Po(v.sketch({})),$=Po(g.sketch({})),q=function(rn,Bn,Re){z.getOpt(rn).each(function(Vn){v.setHue(Vn,Re)})},tt=function(rn,Bn){$.getOpt(rn).each(function(Re){g.updateHex(Re,Bn)})},lt=function(rn,Bn,Re){A.getOpt(rn).each(function(Vn){Cl.setValue(Vn,{y:S(Re)})})},Tt=function(rn,Bn){z.getOpt(rn).each(function(Re){v.setThumb(Re,Bn)})},ut=function(rn,Bn){var Re=x2(rn);O.paletteRgba.set(Re),O.paletteHue.set(Bn)},_t=function(rn,Bn,Re,Vn){ut(Bn,Re),Pt(Vn,function(ze){ze(rn,Bn,Re)})},gn=function(){var rn=[tt];return function(Bn,Re){var Vn=Re.event.value,ze=O.paletteHue.get(),Kn=w2(ze,Vn.x,100-Vn.y),Rn=DT(Kn);_t(Bn,Rn,ze,rn)}},wn=function(){var rn=[q,tt];return function(Bn,Re){var Vn=C(Re.event.value.y),ze=O.paletteRgba.get(),Kn=rS(ze),Rn=w2(Vn,Kn.saturation,Kn.value),Oe=DT(Rn);_t(Bn,Oe,Vn,rn)}},kt=function(){var rn=[q,lt,Tt];return function(Bn,Re){var Vn=Re.event.hex,ze=nB(Vn);_t(Bn,Vn,ze.hue,rn)}};return{uid:d.uid,dom:d.dom,components:[z.asSpec(),A.asSpec(),$.asSpec()],behaviours:we([Zr("colour-picker-events",[Un(BS,kt()),Un(zS,gn()),Un(fO,wn())]),io.config({find:function(rn){return $.getOpt(rn)}}),kr.config({mode:"acyclic"})])}},s=Nc({name:"ColourPicker",configFields:[Nn("dom"),Et("onValidHex",At),Et("onInvalidHex",At)],factory:i});return s},dN=function(){return io.config({find:D.some})},gM=function(n){return io.config({find:n.getOpt})},pM=function(n){return io.config({find:function(r){return x(r.element,n).bind(function(i){return r.getSystem().getByDom(i).toOptional()})}})},qf={self:dN,memento:gM,childAt:pM},mN={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},PS=function(n){return mN[n]},gN=function(n){return PS(n)},pN=function(n){var r=function(v){return"tox-"+v},i=fN(gN,r),s=function(v){Sr(v,Hd,{name:"hex-valid",value:!0})},d=function(v){Sr(v,Hd,{name:"hex-valid",value:!1})},g=Po(i.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:d}));return{dom:{tag:"div"},components:[g.asSpec()],behaviours:we([_e.config({store:{mode:"manual",getValue:function(v){var C=g.get(v),S=io.getCurrent(C),O=S.bind(function(A){var z=_e.getValue(A);return z.hex});return O.map(function(A){return"#"+A}).getOr("")},setValue:function(v,C){var S=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,O=S.exec(C),A=g.get(v),z=io.getCurrent(A);z.fold(function(){console.log("Can not find form")},function($){_e.setValue($,{hex:D.from(O[1]).getOr("")}),E0.getField($,"hex").each(function(q){uo(q,om())})})}}}),qf.self()])}},hN=tinymce.util.Tools.resolve("tinymce.Resource"),vN=function(n){return Hn(n,"init")},FS=function(n){var r=Ui(),i=Po({dom:{tag:n.tag}}),s=Ui();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:we([Zr("custom-editor-events",[Si(function(d){i.getOpt(d).each(function(g){(vN(n)?n.init(g.element.dom):hN.load(n.scriptId,n.scriptUrl).then(function(v){return v(g.element.dom,n.settings)})).then(function(v){s.on(function(C){v.setValue(C)}),s.clear(),r.set(v)})})})]),_e.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,g){r.get().fold(function(){s.set(g)},function(v){return v.setValue(g)})}}}),qf.self()]),components:[i.asSpec()]}},Wd=tinymce.util.Tools.resolve("tinymce.util.Tools"),bN=dr([Et("preprocess",Yt),Et("postprocess",Yt)]),yN=function(n,r){var i=Io("RepresentingConfigs.memento processors",bN,r);return _e.config({store:{mode:"manual",getValue:function(s){var d=n.get(s),g=_e.getValue(d);return i.postprocess(g)},setValue:function(s,d){var g=i.preprocess(d),v=n.get(s);_e.setValue(v,g)}}})},H2=function(n,r,i){return _e.config(On({store:{mode:"manual",getValue:r,setValue:i}},n.map(function(s){return{store:{initialValue:s}}}).getOr({})))},hO=function(n,r,i){return H2(n,function(s){return r(s.element)},function(s,d){return i(s.element,d)})},vO=function(n){return hO(n,Mc,zg)},hM=function(n){return hO(n,cc,ul)},xN=function(n){return _e.config({store:{mode:"memory",initialValue:n}})},av={memento:yN,withElement:hO,withComp:H2,domValue:vO,domHtml:hM,memory:xN},vM="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",bM=function(n,r){var i=Wd.explode(r.getSetting("images_file_types",vM,"string")),s=function(d){return ie(i,function(g){return Ze(d.name.toLowerCase(),"."+g.toLowerCase())})};return Dt(En(n),s)},wN=function(n,r){var i=function(z,$){$.stop()},s=function(z){return function($,q){Pt(z,function(tt){tt($,q)})}},d=function(z,$){if(!pr.isDisabled(z)){var q=$.event.raw;v(z,q.dataTransfer.files)}},g=function(z,$){var q=$.event.raw.target;v(z,q.files)},v=function(z,$){_e.setValue(z,bM($,r)),Sr(z,bs,{name:n.name})},C=Po({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:we([Zr("input-file-events",[Xi(Tg()),Xi(od())])])}),S=function(z){return{uid:z.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:we([av.memory([]),qf.self(),pr.config({}),ho.config({toggleClass:"dragenter",toggleOnExecute:!1}),Zr("dropzone-events",[Un("dragenter",s([i,ho.toggle])),Un("dragleave",s([i,ho.toggle])),Un("dragover",i),Un("drop",s([i,d])),Un(kg(),g)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},Qu.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[C.asSpec()],action:function($){var q=C.get($);q.element.dom.click()},buttonBehaviours:we([oa.config({}),Ws.button(r.isDisabled),Ba()])})]}]}},O=n.label.map(function(z){return wp(z,r)}),A=Oo.parts.field({factory:{sketch:S}});return _2(O,A,["tox-form__group--stretched"],[])},yM=function(n,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+n.columns+"col"]},components:Zt(n.items,r.interpreter)}},LS=We("alloy-fake-before-tabstop"),IS=We("alloy-fake-after-tabstop"),bO=function(n){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:we([Nr.config({ignore:!0}),oa.config({})])}},xM=function(n){return{dom:{tag:"div",classes:["tox-navobj"]},components:[bO([LS]),n,bO([IS])],behaviours:we([qf.childAt(1)])}},wM=function(n,r){Sr(n,Ov(),{raw:{which:9,shiftKey:r}})},CN=function(n,r){var i=r.element;Wu(i,LS)?wM(n,!0):Wu(i,IS)&&wM(n,!1)},_0=function(n){return T2(n,["."+LS,"."+IS].join(","),xn)},SN=!(mr().browser.isIE()||mr().browser.isEdge()),CM=function(n){var r=wr("");return{getValue:function(i){return r.get()},setValue:function(i,s){if(n)Kr(i.element,"srcdoc",s);else{Kr(i.element,"src","javascript:''");var d=i.element.dom.contentWindow.document;d.open(),d.write(s),d.close()}r.set(s)}}},kN=function(n,r){var i=SN&&n.sandboxed,s=J(J({},n.label.map(function(S){return{title:S}}).getOr({})),i?{sandbox:"allow-scripts allow-same-origin"}:{}),d=CM(i),g=n.label.map(function(S){return wp(S,r)}),v=function(S){return xM({uid:S.uid,dom:{tag:"iframe",attributes:s},behaviours:we([oa.config({}),Nr.config({}),av.withComp(D.none(),d.getValue,d.setValue)])})},C=Oo.parts.field({factory:{sketch:v}});return _2(g,C,["tox-form__group--stretched"],[])},D0=function(n,r){return TN(document.createElement("canvas"),n,r)},yO=function(n){var r=D0(n.width,n.height),i=og(r);return i.drawImage(n,0,0),r},og=function(n){return n.getContext("2d")},TN=function(n,r,i){return n.width=r,n.height=i,n},xO=function(n){return n.naturalWidth||n.width},wO=function(n){return n.naturalHeight||n.height},ON=function(n){return new Vd(function(r,i){var s=URL.createObjectURL(n),d=new Image,g=function(){d.removeEventListener("load",v),d.removeEventListener("error",C)},v=function(){g(),r(d)},C=function(){g(),i("Unable to load data of type "+n.type+": "+s)};d.addEventListener("load",v),d.addEventListener("error",C),d.src=s,d.complete&&setTimeout(v,0)})},EN=function(n){var r=n.split(","),i=/data:([^;]+)/.exec(r[0]);if(!i)return D.none();for(var s=i[1],d=r[1],g=1024,v=atob(d),C=v.length,S=Math.ceil(C/g),O=new Array(S),A=0;A<S;++A){for(var z=A*g,$=Math.min(z+g,C),q=new Array($-z),tt=z,lt=0;tt<$;++lt,++tt)q[lt]=v[tt].charCodeAt(0);O[A]=new Uint8Array(q)}return D.some(new Blob(O,{type:s}))},_N=function(n){return new Vd(function(r,i){EN(n).fold(function(){i("uri is not base64: "+n)},r)})},CO=function(n,r,i){return r=r||"image/png",_n(HTMLCanvasElement.prototype.toBlob)?new Vd(function(s,d){n.toBlob(function(g){g?s(g):d()},r,i)}):_N(n.toDataURL(r,i))},DN=function(n,r,i){return r=r||"image/png",n.toDataURL(r,i)},MN=function(n){return ON(n).then(function(r){RN(r);var i=D0(xO(r),wO(r)),s=og(i);return s.drawImage(r,0,0),i})},SM=function(n){return new Vd(function(r){var i=new FileReader;i.onloadend=function(){r(i.result)},i.readAsDataURL(n)})},RN=function(n){URL.revokeObjectURL(n.src)},kM=function(n,r,i){var s=r.type,d=X(s),g=function(){return Vd.resolve(r)},v=X(i),C=function(){return i.split(",")[1]},S=function($,q){return n.then(function(tt){return CO(tt,$,q)})},O=function($,q){return n.then(function(tt){return DN(tt,$,q)})},A=function($,q){return O($,q).then(function(tt){return tt.split(",")[1]})},z=function(){return n.then(yO)};return{getType:d,toBlob:g,toDataURL:v,toBase64:C,toAdjustedBlob:S,toAdjustedDataURL:O,toAdjustedBase64:A,toCanvas:z}},AN=function(n){return SM(n).then(function(r){return kM(MN(n),n,r)})},Op=function(n,r){return CO(n,r).then(function(i){return kM(Vd.resolve(n),i,n.toDataURL())})},BN=function(n){return AN(n)},V2=function(n,r,i){var s=typeof n=="string"?parseFloat(n):n;return s>i?s=i:s<r&&(s=r),s},SO=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},HS=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],VS=function(n,r){for(var i=[],s=new Array(25),d,g=0;g<5;g++){for(var v=0;v<5;v++)i[v]=r[v+g*5];for(var v=0;v<5;v++){d=0;for(var C=0;C<5;C++)d+=n[v+C*5]*i[C];s[v+g*5]=d}}return s},zN=function(n,r){var i;return r=V2(r,-1,1),r*=100,r<0?i=127+r/100*127:(i=r%1,i===0?i=HS[r]:i=HS[Math.floor(r)]*(1-i)+HS[Math.floor(r)+1]*i,i=i*127+127),VS(n,[i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1])},TM=function(n,r){return r=V2(255*r,-255,255),VS(n,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},OM=function(n,r,i,s){return r=V2(r,0,2),i=V2(i,0,2),s=V2(s,0,2),VS(n,[r,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},kO=function(n,r){return n.toCanvas().then(function(i){return NN(i,n.getType(),r)})},NN=function(n,r,i){var s=og(n),d=function(v,C){for(var S,O,A,z,$=v.data,q=C[0],tt=C[1],lt=C[2],Tt=C[3],ut=C[4],_t=C[5],gn=C[6],wn=C[7],kt=C[8],rn=C[9],Bn=C[10],Re=C[11],Vn=C[12],ze=C[13],Kn=C[14],Rn=C[15],Oe=C[16],or=C[17],$n=C[18],Je=C[19],lr=0;lr<$.length;lr+=4)S=$[lr],O=$[lr+1],A=$[lr+2],z=$[lr+3],$[lr]=S*q+O*tt+A*lt+z*Tt+ut,$[lr+1]=S*_t+O*gn+A*wn+z*kt+rn,$[lr+2]=S*Bn+O*Re+A*Vn+z*ze+Kn,$[lr+3]=S*Rn+O*Oe+A*or+z*$n+Je;return v},g=d(s.getImageData(0,0,n.width,n.height),i);return s.putImageData(g,0,0),Op(n,r)},PN=function(n,r){return n.toCanvas().then(function(i){return FN(i,n.getType(),r)})},FN=function(n,r,i){var s=og(n),d=function(C,S,O){for(var A=function(Oe,or,$n){return Oe>$n?Oe=$n:Oe<or&&(Oe=or),Oe},z=Math.round(Math.sqrt(O.length)),$=Math.floor(z/2),q=C.data,tt=S.data,lt=C.width,Tt=C.height,ut=0;ut<Tt;ut++)for(var _t=0;_t<lt;_t++){for(var gn=0,wn=0,kt=0,rn=0;rn<z;rn++)for(var Bn=0;Bn<z;Bn++){var Re=A(_t+Bn-$,0,lt-1),Vn=A(ut+rn-$,0,Tt-1),ze=(Vn*lt+Re)*4,Kn=O[rn*z+Bn];gn+=q[ze]*Kn,wn+=q[ze+1]*Kn,kt+=q[ze+2]*Kn}var Rn=(ut*lt+_t)*4;tt[Rn]=A(gn,0,255),tt[Rn+1]=A(wn,0,255),tt[Rn+2]=A(kt,0,255)}return S},g=s.getImageData(0,0,n.width,n.height),v=s.getImageData(0,0,n.width,n.height);return v=d(g,v,i),s.putImageData(v,0,0),Op(n,r)},LN=function(n){var r=function(i,s,d){for(var g=og(i),v=new Array(256),C=function(A,z){for(var $=A.data,q=0;q<$.length;q+=4)$[q]=z[$[q]],$[q+1]=z[$[q+1]],$[q+2]=z[$[q+2]];return A},S=0;S<v.length;S++)v[S]=n(S,d);var O=C(g.getImageData(0,0,i.width,i.height),v);return g.putImageData(O,0,0),Op(i,s)};return function(i,s){return i.toCanvas().then(function(d){return r(d,i.getType(),s)})}},EM=function(n){return function(r,i){return kO(r,n(SO(),i))}},_M=function(n){return function(r){return kO(r,n)}},IN=function(n){return function(r){return PN(r,n)}},HN=_M([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),VN=EM(TM),So=EM(zN),M0=function(n,r,i,s){return kO(n,OM(SO(),r,i,s))},DM=IN([0,-1,0,-1,5,-1,0,-1,0]),MM=LN(function(n,r){return Math.pow(n/255,1-r)*255}),TO=function(n,r,i){var s=xO(n),d=wO(n),g=r/s,v=i/d,C=!1;(g<.5||g>2)&&(g=g<.5?.5:2,C=!0),(v<.5||v>2)&&(v=v<.5?.5:2,C=!0);var S=UN(n,g,v);return C?S.then(function(O){return TO(O,r,i)}):S},UN=function(n,r,i){return new Vd(function(s){var d=xO(n),g=wO(n),v=Math.floor(d*r),C=Math.floor(g*i),S=D0(v,C),O=og(S);O.drawImage(n,0,0,d,g,0,0,v,C),s(S)})},RM=function(n,r){r===void 0&&(r=2);var i=Math.pow(10,r),s=Math.round(n*i);return Math.ceil(s/i)},$N=function(n,r){return n.toCanvas().then(function(i){return AM(i,n.getType(),r)})},AM=function(n,r,i){var s=i<0?360+i:i,d=s*Math.PI/180,g=n.width,v=n.height,C=Math.sin(d),S=Math.cos(d),O=RM(Math.abs(g*S)+Math.abs(v*C)),A=RM(Math.abs(g*C)+Math.abs(v*S)),z=D0(O,A),$=og(z);return $.translate(O/2,A/2),$.rotate(d),$.drawImage(n,-g/2,-v/2),Op(z,r)},jN=function(n,r){return n.toCanvas().then(function(i){return WN(i,n.getType(),r)})},WN=function(n,r,i){var s=D0(n.width,n.height),d=og(s);return i==="v"?(d.scale(1,-1),d.drawImage(n,0,-s.height)):(d.scale(-1,1),d.drawImage(n,-s.width,0)),Op(s,r)},qN=function(n,r,i,s,d){return n.toCanvas().then(function(g){return GN(g,n.getType(),r,i,s,d)})},GN=function(n,r,i,s,d,g){var v=D0(d,g),C=og(v);return C.drawImage(n,-i,-s),Op(v,r)},KN=function(n,r,i){return n.toCanvas().then(function(s){return TO(s,r,i).then(function(d){return Op(d,n.getType())})})},XN=function(n){return HN(n)},JN=function(n){return DM(n)},YN=function(n,r){return MM(n,r)},QN=function(n,r,i,s){return M0(n,r,i,s)},ZN=function(n,r){return VN(n,r)},t6=function(n,r){return So(n,r)},OO=function(n,r){return jN(n,r)},n6=function(n,r,i,s,d){return qN(n,r,i,s,d)},e6=function(n,r,i){return KN(n,r,i)},BM=function(n,r){return $N(n,r)},zM=function(n,r,i){return Vf(n,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},r)},US=function(n,r){return zM(n,r,[])},NM=function(n,r){return zM(n,r,[Ur.config({})])},EO=function(n,r,i){return{dom:{tag:"span",innerHtml:i.translate(n),classes:[r+"__select-label"]},behaviours:we([Ur.config({})])}},_O,DO=We("toolbar.button.execute"),r6=function(n){return zs(function(r,i){p2(n,r)(function(s){Sr(r,DO,{buttonApi:s}),n.onAction(s)})})},MO=(_O={},_O[Xc()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],_O),uv=We("update-menu-text"),RO=We("update-menu-icon"),AO=function(n,r,i){var s=wr(At),d=n.text.map(function(z){return Po(EO(z,r,i.providers))}),g=n.icon.map(function(z){return Po(NM(z,i.providers.icons))}),v=function(z,$){var q=_e.getValue(z);return Nr.focus(q),Sr(q,"keydown",{raw:$.event.raw}),wl.close(q),D.some(!0)},C=n.role.fold(function(){return{}},function(z){return{role:z}}),S=n.tooltip.fold(function(){return{}},function(z){var $=i.providers.translate(z);return{title:$,"aria-label":$}}),O=Vf("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},i.providers.icons),A=Po(wl.sketch(J(J(J({},n.uid?{uid:n.uid}:{}),C),{dom:{tag:"button",classes:[r,r+"--select"].concat(Zt(n.classes,function(z){return r+"--"+z})),attributes:J({},S)},components:Kh([g.map(function(z){return z.asSpec()}),d.map(function(z){return z.asSpec()}),D.some(O)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:we(fn(fn([],n.dropdownBehaviours,!0),[Ws.button(function(){return n.disabled||i.providers.isDisabled()}),Ba(),M2.config({}),Ur.config({}),Zr("dropdown-events",[h2(n,s),v2(n,s)]),Zr("menubutton-update-display-text",[Un(uv,function(z,$){d.bind(function(q){return q.getOpt(z)}).each(function(q){Ur.set(q,[fd(i.providers.translate($.event.text))])})}),Un(RO,function(z,$){g.bind(function(q){return q.getOpt(z)}).each(function(q){Ur.set(q,[NM($.event.icon,i.providers.icons)])})})])],!1)),eventOrder:On(MO,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:we([kr.config({mode:"special",onLeft:v,onRight:v})]),lazySink:i.getSink,toggleClass:r+"--active",parts:{menu:qC(!1,n.columns,n.presets)},fetch:function(z){return Su.nu(tr(n.fetch,z))}})));return A.asSpec()},o6=function(n){return Ce(n)},BO=function(n){return n.type==="separator"},i6=function(n){return Hn(n,"getSubmenuItems")},a6={type:"separator"},u6=function(n,r){var i=jn(n,function(s,d){return o6(d)?d===""?s:d==="|"?s.length>0&&!BO(s[s.length-1])?s.concat([a6]):s:Hn(r,d.toLowerCase())?s.concat([r[d.toLowerCase()]]):s:s.concat([d])},[]);return i.length>0&&BO(i[i.length-1])&&i.pop(),i},U2=function(n,r){var i=n.getSubmenuItems(),s=PM(i,r),d=On(s.menus,zl(n.value,s.items)),g=On(s.expansions,zl(n.value,n.value));return{item:n,menus:d,expansions:g}},c6=function(n,r){return i6(n)?U2(n,r):{item:n,menus:{},expansions:{}}},zO=function(n){if(BO(n))return n;var r=tn(n,"value").getOrThunk(function(){return We("generated-menu-item")});return On({value:r},n)},PM=function(n,r){var i=u6(Ce(n)?n.split(" "):n,r);return Qt(i,function(s,d){var g=zO(d),v=c6(g,r);return{menus:On(s.menus,v.menus),items:[v.item].concat(s.items),expansions:On(s.expansions,v.expansions)}},{menus:{},expansions:{},items:[]})},R0=function(n,r,i,s){var d=We("primary-menu"),g=PM(n,i.shared.providers.menuItems());if(g.items.length===0)return D.none();var v=LT(d,g.items,r,i,s),C=Qn(g.menus,function(O,A){return LT(A,O,r,i,!1)}),S=On(C,zl(d,v));return D.from(Uo.tieredData(d,S,g.expansions))},s6=function(n){return{isDisabled:function(){return pr.isDisabled(n)},setDisabled:function(r){return pr.set(n,r)},setActive:function(r){var i=n.element;r?($a(i,"tox-tbtn--enabled"),Kr(i,"aria-pressed",!0)):(la(i,"tox-tbtn--enabled"),La(i,"aria-pressed"))},isActive:function(){return Wu(n.element,"tox-tbtn--enabled")}}},NO=function(n,r,i,s){return AO({text:n.text,icon:n.icon,tooltip:n.tooltip,role:s,fetch:function(d,g){n.fetch(function(v){g(R0(v,Uf.CLOSE_ON_EXECUTE,i,!1))})},onSetup:n.onSetup,getApi:s6,columns:1,presets:"normal",classes:[],dropdownBehaviours:[oa.config({})]},r,i.shared)},FM=function(n,r,i){var s=function(g){return function(v){var C=!v.isActive();v.setActive(C),g.storage.set(C),i.shared.getSink().each(function(S){r().getOpt(S).each(function(O){Ul(O.element),Sr(O,Hd,{name:g.name,value:g.storage.get()})})})}},d=function(g){return function(v){v.setActive(g.storage.get())}};return function(g){g(Zt(n,function(v){var C=v.text.fold(function(){return{}},function(S){return{text:S}});return J(J({type:v.type,active:!1},C),{onAction:s(v),onSetup:d(v)})}))}},PO=function(n,r,i,s,d,g){i===void 0&&(i=[]);var v=r.fold(function(){return{}},function(O){return{action:O}}),C=J({buttonBehaviours:we([Ws.button(function(){return n.disabled||g.isDisabled()}),Ba(),oa.config({}),Zr("button press",[Rv("click"),Rv("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},v),S=On(C,{dom:s});return On(S,{components:d})},LM=function(n,r,i,s){s===void 0&&(s=[]);var d=n.tooltip.map(function(S){return{"aria-label":i.translate(S),title:i.translate(S)}}).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},v=n.icon.map(function(S){return US(S,i.icons)}),C=Kh([v]);return PO(n,r,s,g,C,i)},$2=function(n,r,i,s){s===void 0&&(s=[]);var d=LM(n,D.some(r),i,s);return Qu.sketch(d)},j2=function(n,r,i,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=i.translate(n.text),v=n.icon?n.icon.map(function(z){return US(z,i.icons)}):D.none(),C=v.isSome()?Kh([v]):[],S=v.isSome()?{}:{innerHtml:g},O=fn(fn(fn(fn([],!n.primary&&!n.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),v.isSome()?["tox-button--icon"]:[],!0),n.borderless?["tox-button--naked"]:[],!0),d,!0),A=J(J({tag:"button",classes:O},S),{attributes:{title:g}});return PO(n,r,s,A,C,i)},FO=function(n,r,i,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=j2(n,D.some(r),i,s,d);return Qu.sketch(g)},IM=function(n,r){return function(i){r==="custom"?Sr(i,Hd,{name:n,value:{}}):r==="submit"?uo(i,x0):r==="cancel"?uo(i,qs):console.error("Unknown button type: ",r)}},l6=function(n,r){return r==="menu"},f6=function(n,r){return r==="custom"||r==="cancel"||r==="submit"},A0=function(n,r,i){if(l6(n,r)){var s=function(){return v},d=n,g=J(J({},n),{onSetup:function(O){return O.setDisabled(n.disabled),At},fetch:FM(d.items,s,i)}),v=Po(NO(g,"tox-tbtn",i,D.none()));return v.asSpec()}else if(f6(n,r)){var C=IM(n.name,r),S=J(J({},n),{borderless:!1});return FO(S,C,i.shared.providers,[])}else console.error("Unknown footer button type: ",r)},LO=function(n,r){var i=IM(n.name,"custom");return XB(D.none(),Oo.parts.field(J({factory:Qu},j2(n,D.some(i),r,[av.memory(""),qf.self()]))))},HM=X([Et("field1Name","field1"),Et("field2Name","field2"),xm("onLockedChange"),ym(["lockClass"]),Et("locked",!1),gs.field("coupledFieldBehaviours",[io,_e])]),d6=function(n,r,i){return Go(n,r,i).bind(io.getCurrent)},$S=function(n,r){return Ka({factory:Oo,name:n,overrides:function(i){return{fieldBehaviours:we([Zr("coupled-input-behaviour",[Un(om(),function(s){d6(s,i,r).each(function(d){Go(s,i,"lock").each(function(g){ho.isOn(g)&&i.onLockedChange(s,d,g)})})})])])}}})},m6=X([$S("field1","field2"),$S("field2","field1"),Ka({factory:Qu,schema:[Nn("dom")],name:"lock",overrides:function(n){return{buttonBehaviours:we([ho.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])}}})]),g6=function(n,r,i,s){return{uid:n.uid,dom:n.dom,components:r,behaviours:gs.augment(n.coupledFieldBehaviours,[io.config({find:D.some}),_e.config({store:{mode:"manual",getValue:function(d){var g,v=vh(d,n,["field1","field2"]);return g={},g[n.field1Name]=_e.getValue(v.field1()),g[n.field2Name]=_e.getValue(v.field2()),g},setValue:function(d,g){var v=vh(d,n,["field1","field2"]);Pe(g,n.field1Name)&&_e.setValue(v.field1(),g[n.field1Name]),Pe(g,n.field2Name)&&_e.setValue(v.field2(),g[n.field2Name])}}})]),apis:{getField1:function(d){return Go(d,n,"field1")},getField2:function(d){return Go(d,n,"field2")},getLock:function(d){return Go(d,n,"lock")}}}},xs=Ju({name:"FormCoupledInputs",configFields:HM(),partFields:m6(),factory:g6,apis:{getField1:function(n,r){return n.getField1(r)},getField2:function(n,r){return n.getField2(r)},getLock:function(n,r){return n.getLock(r)}}}),p6=function(n){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=function(d){return d in r?r[d]:1},s=n.value.toFixed(i(n.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+n.unit},cv=function(n){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,i=r.exec(n);if(i!==null){var s=parseFloat(i[1]),d=i[2];return Yr.value({value:s,unit:d})}else return Yr.error(n)},VM=function(n,r){var i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(d){return Hn(i,d)};return n.unit===r?D.some(n.value):s(n.unit)&&s(r)?i[n.unit]===i[r]?D.some(n.value):D.some(n.value/i[n.unit]*i[r]):D.none()},IO=function(n){return D.none()},h6=function(n,r){return function(i){return VM(i,r).map(function(s){return{value:s*n,unit:r}})}},v6=function(n,r){var i=cv(n).toOptional(),s=cv(r).toOptional();return Bo(i,s,function(d,g){return VM(d,g.unit).map(function(v){return g.value/v}).map(function(v){return h6(v,g.unit)}).getOr(IO)}).getOr(IO)},HO=function(n,r){var i=IO,s=We("ratio-event"),d=function(z){return Vf(z,{tag:"span",classes:["tox-icon","tox-lock-icon__"+z]},r.icons)},g=xs.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(n.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:we([pr.config({disabled:function(){return n.disabled||r.isDisabled()}}),Ba(),oa.config({})])}),v=function(z){return{dom:{tag:"div",classes:["tox-form__group"]},components:z}},C=function(z){return Oo.parts.field({factory:D2,inputClasses:["tox-textfield"],inputBehaviours:we([pr.config({disabled:function(){return n.disabled||r.isDisabled()}}),Ba(),oa.config({}),Zr("size-input-events",[Un(is(),function($,q){Sr($,s,{isField1:z})}),Un(kg(),function($,q){Sr($,bs,{name:n.name})})])]),selectOnFocus:!1})},S=function(z){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(z)}}},O=xs.parts.field1(v([Oo.parts.label(S("Width")),C(!0)])),A=xs.parts.field2(v([Oo.parts.label(S("Height")),C(!1)]));return xs.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[O,A,v([S("&nbsp;"),g])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(z,$,q){cv(_e.getValue(z)).each(function(tt){i(tt).each(function(lt){_e.setValue($,p6(lt))})})},coupledFieldBehaviours:we([pr.config({disabled:function(){return n.disabled||r.isDisabled()},onDisabled:function(z){xs.getField1(z).bind(Oo.getField).each(pr.disable),xs.getField2(z).bind(Oo.getField).each(pr.disable),xs.getLock(z).each(pr.disable)},onEnabled:function(z){xs.getField1(z).bind(Oo.getField).each(pr.enable),xs.getField2(z).bind(Oo.getField).each(pr.enable),xs.getLock(z).each(pr.enable)}}),Ba(),Zr("size-input-events2",[Un(s,function(z,$){var q=$.event.isField1,tt=q?xs.getField1(z):xs.getField2(z),lt=q?xs.getField2(z):xs.getField1(z),Tt=tt.map(_e.getValue).getOr(""),ut=lt.map(_e.getValue).getOr("");i=v6(Tt,ut)})])])})},b6=X(We("undo")),y6=X(We("redo")),x6=X(We("zoom")),w6=X(We("back")),C6=X(We("apply")),UM=X(We("swap")),S6=X(We("transform")),k6=X(We("temp-transform")),T6=X(We("transform-apply")),Pu={undo:b6,redo:y6,zoom:x6,back:w6,apply:C6,swap:UM,transform:S6,tempTransform:k6,transformApply:T6},$M=X("save-state"),O6=X("disable"),E6=X("enable"),ji={formActionEvent:Hd,saveState:$M,disable:O6,enable:E6},_6=function(n,r){var i=function(Ve,ro,Ko,aa){return Po(FO({name:Ve,text:Ve,disabled:Ko,primary:aa,icon:D.none(),borderless:!1},ro,r))},s=function(Ve,ro,Ko,aa){return Po($2({name:Ve,icon:D.some(Ve),tooltip:D.some(ro),disabled:aa,primary:!1,borderless:!1},Ko,r))},d=function(Ve,ro){Ve.map(function(Ko){var aa=Ko.get(ro);aa.hasConfigured(pr)&&pr.disable(aa)})},g=function(Ve,ro){Ve.map(function(Ko){var aa=Ko.get(ro);aa.hasConfigured(pr)&&pr.enable(aa)})},v={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},C=At,S=function(Ve,ro,Ko){Sr(Ve,ro,Ko)},O=function(Ve){return uo(Ve,ji.disable())},A=function(Ve){return uo(Ve,ji.enable())},z=function(Ve,ro){O(Ve),S(Ve,Pu.transform(),{transform:ro}),A(Ve)},$=function(Ve,ro){O(Ve),S(Ve,Pu.tempTransform(),{transform:ro}),A(Ve)},q=function(Ve){return function(){fk.getOpt(Ve).each(function(ro){Ur.set(ro,[lk])})}},tt=function(Ve,ro){O(Ve),S(Ve,Pu.transformApply(),{transform:ro,swap:q(Ve)}),A(Ve)},lt=function(){return i("Back",function(Ve){return S(Ve,Pu.back(),{swap:q(Ve)})},!1,!1)},Tt=function(){return Po({dom:{tag:"div",classes:["tox-spacer"]},behaviours:we([pr.config({})])})},ut=function(){return i("Apply",function(Ve){return S(Ve,Pu.apply(),{swap:q(Ve)})},!0,!0)},_t=function(){return function(Ve){var ro=n.getRect();return n6(Ve,ro.x,ro.y,ro.w,ro.h)}},gn=[lt(),Tt(),i("Apply",function(Ve){var ro=_t();tt(Ve,ro),n.hideCrop()},!1,!0)],wn=Zu.sketch({dom:v,components:gn.map(function(Ve){return Ve.asSpec()}),containerBehaviours:we([Zr("image-tools-crop-buttons-events",[Un(ji.disable(),function(Ve,ro){d(gn,Ve)}),Un(ji.enable(),function(Ve,ro){g(gn,Ve)})])])}),kt=Po(HO({name:"size",label:D.none(),constrain:!0,disabled:!1},r)),rn=function(Ve,ro){return function(Ko){return e6(Ko,Ve,ro)}},Bn=[lt(),Tt(),kt,Tt(),i("Apply",function(Ve){kt.getOpt(Ve).each(function(ro){var Ko=_e.getValue(ro),aa=parseInt(Ko.width,10),Xs=parseInt(Ko.height,10),Js=rn(aa,Xs);tt(Ve,Js)})},!1,!0)],Re=Zu.sketch({dom:v,components:Bn.map(function(Ve){return Ve.asSpec()}),containerBehaviours:we([Zr("image-tools-resize-buttons-events",[Un(ji.disable(),function(Ve,ro){d(Bn,Ve)}),Un(ji.enable(),function(Ve,ro){g(Bn,Ve)})])])}),Vn=function(Ve,ro){return function(Ko){return Ve(Ko,ro)}},ze=Vn(OO,"h"),Kn=Vn(OO,"v"),Rn=Vn(BM,-90),Oe=Vn(BM,90),or=function(Ve,ro){$(Ve,ro)},$n=[lt(),Tt(),s("flip-horizontally","Flip horizontally",function(Ve){or(Ve,ze)},!1),s("flip-vertically","Flip vertically",function(Ve){or(Ve,Kn)},!1),s("rotate-left","Rotate counterclockwise",function(Ve){or(Ve,Rn)},!1),s("rotate-right","Rotate clockwise",function(Ve){or(Ve,Oe)},!1),Tt(),ut()],Je=Zu.sketch({dom:v,components:$n.map(function(Ve){return Ve.asSpec()}),containerBehaviours:we([Zr("image-tools-fliprotate-buttons-events",[Un(ji.disable(),function(Ve,ro){d($n,Ve)}),Un(ji.enable(),function(Ve,ro){g($n,Ve)})])])}),lr=function(Ve,ro,Ko,aa,Xs){var Js=Cl.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(Ve)}}),Yf=Cl.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),dk=Cl.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Po(Cl.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Ko,maxX:Xs,getInitialValue:X({x:aa})},components:[Js,Yf,dk],sliderBehaviours:we([Nr.config({})]),onChoose:ro}))},bo=function(Ve,ro,Ko,aa,Xs){var Js=function(Yf,dk,CP){var SP=Vn(ro,CP.x/100);z(Yf,SP)};return lr(Ve,Js,Ko,aa,Xs)},jo=function(Ve,ro,Ko,aa,Xs){return[lt(),bo(Ve,ro,Ko,aa,Xs),ut()]},Pi=function(Ve,ro,Ko,aa,Xs){var Js=jo(Ve,ro,Ko,aa,Xs);return Zu.sketch({dom:v,components:Js.map(function(Yf){return Yf.asSpec()}),containerBehaviours:we([Zr("image-tools-filter-panel-buttons-events",[Un(ji.disable(),function(Yf,dk){d(Js,Yf)}),Un(ji.enable(),function(Yf,dk){g(Js,Yf)})])])})},Jf=[lt(),Tt(),ut()],uf=Zu.sketch({dom:v,components:Jf.map(function(Ve){return Ve.asSpec()})}),gP=Pi("Brightness",ZN,-100,0,100),pP=Pi("Contrast",t6,-100,0,100),vR=Pi("Gamma",YN,-100,0,100),hP=function(Ve,ro,Ko){return function(aa){return QN(aa,Ve,ro,Ko)}},bE=function(Ve){var ro=function(Ko,aa,Xs){var Js=bR.getOpt(Ko),Yf=yR.getOpt(Ko),dk=yE.getOpt(Ko);Js.each(function(CP){Yf.each(function(SP){dk.each(function(O$){var E$=_e.getValue(CP).x/100,_$=_e.getValue(O$).x/100,D$=_e.getValue(SP).x/100,M$=hP(E$,_$,D$);z(Ko,M$)})})})};return lr(Ve,ro,0,100,200)},bR=bE("R"),yE=bE("G"),yR=bE("B"),Qd=[lt(),bR,yE,yR,ut()],xE=Zu.sketch({dom:v,components:Qd.map(function(Ve){return Ve.asSpec()})}),Ks=function(Ve,ro,Ko){return function(aa){var Xs=function(){fk.getOpt(aa).each(function(Js){Ur.set(Js,[Ve]),Ko(Js)})};S(aa,Pu.swap(),{transform:ro,swap:Xs})}},vP=function(Ve){n.showCrop()},bP=function(Ve){kt.getOpt(Ve).each(function(ro){var Ko=n.getMeasurements(),aa=Ko.width,Xs=Ko.height;_e.setValue(ro,{width:aa,height:Xs})})},yP=D.some(JN),hc=D.some(XN),V0=[s("crop","Crop",Ks(wn,D.none(),vP),!1),s("resize","Resize",Ks(Re,D.none(),bP),!1),s("orientation","Orientation",Ks(Je,D.none(),C),!1),s("brightness","Brightness",Ks(gP,D.none(),C),!1),s("sharpen","Sharpen",Ks(uf,yP,C),!1),s("contrast","Contrast",Ks(pP,D.none(),C),!1),s("color-levels","Color levels",Ks(xE,D.none(),C),!1),s("gamma","Gamma",Ks(vR,D.none(),C),!1),s("invert","Invert",Ks(uf,hc,C),!1)],lk=Zu.sketch({dom:v,components:V0.map(function(Ve){return Ve.asSpec()})}),xP=Zu.sketch({dom:{tag:"div"},components:[lk],containerBehaviours:we([Ur.config({})])}),fk=Po(xP),wP=function(Ve){return fk.getOpt(Ve).map(function(ro){var Ko=ro.components()[0];return Ko.components()[Ko.components().length-1]})};return{memContainer:fk,getApplyButton:wP}},jS=tinymce.util.Tools.resolve("tinymce.geom.Rect"),jM=tinymce.util.Tools.resolve("tinymce.util.Observable"),sv=tinymce.util.Tools.resolve("tinymce.util.VK"),WS=function(n){var r=Math.max,i=n.documentElement,s=n.body,d=r(i.scrollWidth,s.scrollWidth),g=r(i.clientWidth,s.clientWidth),v=r(i.offsetWidth,s.offsetWidth),C=r(i.scrollHeight,s.scrollHeight),S=r(i.clientHeight,s.clientHeight),O=r(i.offsetHeight,s.offsetHeight);return{width:d<v?g:d,height:C<O?S:C}},D6=function(n){return Bt(n.changedTouches)},B0=function(n){if(D6(n))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),i=0;i<r.length;i++)n[r[i]]=n.changedTouches[0][r[i]]};function M6(n,r){var i,s,d,g,v=[],C=[],S=(i=r.document)!==null&&i!==void 0?i:document,O=(s=r.root)!==null&&s!==void 0?s:S,A=st.fromDom(S),z,$,q,tt=st.fromDom(O.getElementById((d=r.handle)!==null&&d!==void 0?d:n)),lt=function(gn){var wn=gn.raw,kt=WS(S);B0(wn),gn.prevent(),z=wn.button,$=wn.screenX,q=wn.screenY;var rn=Ai(tt,"cursor");g=st.fromTag("div",S),wc(g,{position:"absolute",top:"0",left:"0",width:kt.width+"px",height:kt.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:rn}),hu(Do(A),g),C.push(Yi(A,"mousemove",Tt),Yi(A,"touchmove",Tt),Yi(A,"mouseup",ut),Yi(A,"touchend",ut)),r.start(wn)},Tt=function(gn){var wn=gn.raw;if(B0(wn),wn.button!==z)return ut(gn);wn.deltaX=wn.screenX-$,wn.deltaY=wn.screenY-q,gn.prevent(),r.drag(wn)},ut=function(gn){B0(gn.raw),Pt(C,function(wn){return wn.unbind()}),C=[],rc(g),r.stop&&r.stop(gn.raw)},_t=function(){Pt(C.concat(v),function(gn){return gn.unbind()}),C=[],v=[],Bt(g)&&rc(g)};return v.push(Yi(tt,"mousedown",lt),Yi(tt,"touchstart",lt)),{destroy:_t}}var W2=0,WM=function(n,r,i,s,d){var g,v=[],C="tox-",S=C+"crid-"+W2++,O=st.fromDom(s),A=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],z=["top","right","bottom","left"],$=function(Vn,ze){return{x:ze.x+Vn.x,y:ze.y+Vn.y,w:ze.w,h:ze.h}},q=function(Vn,ze){return{x:ze.x-Vn.x,y:ze.y-Vn.y,w:ze.w,h:ze.h}},tt=function(){return q(i,n)},lt=function(Vn,ze,Kn,Rn){var Oe=ze.x+Kn*Vn.deltaX,or=ze.y+Rn*Vn.deltaY,$n=Math.max(20,ze.w+Kn*Vn.deltaW),Je=Math.max(20,ze.h+Rn*Vn.deltaH),lr=n=jS.clamp({x:Oe,y:or,w:$n,h:Je},i,Vn.name==="move");lr=q(i,lr),Re.fire("updateRect",{rect:lr}),kt(lr)},Tt=function(){var Vn=function(Oe){var or;return M6(S,{document:s.ownerDocument,root:gr(O).dom,handle:S+"-"+Oe.name,start:function(){or=n},drag:function($n){lt(Oe,or,$n.deltaX,$n.deltaY)}})},ze=st.fromTag("div");xc(ze,{id:S,class:C+"croprect-container",role:"grid","aria-dropeffect":"execute"}),hu(O,ze),Pt(z,function(Oe){fa(O,"#"+S).each(function(or){var $n=st.fromTag("div");xc($n,{id:S+"-"+Oe,class:C+"croprect-block","data-mce-bogus":"all"}),Br($n,"display","none"),hu(or,$n)})}),Pt(A,function(Oe){fa(O,"#"+S).each(function(or){var $n=st.fromTag("div");xc($n,{id:S+"-"+Oe.name,"aria-label":Oe.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Oe.label}),_f($n,[C+"croprect-handle",C+"croprect-handle-"+Oe.name]),Br($n,"display","none"),hu(or,$n)})}),g=Zt(A,Vn),_t(n);var Kn=function(Oe){Kr(Oe.target,"aria-grabbed",Oe.raw.type==="focus"?"true":"false")},Rn=function(Oe){var or;Pt(A,function(Je){if(yi(Oe.target,"id")===S+"-"+Je.name)return or=Je,!1});var $n=function(Je,lr,bo,jo,Pi){Je.stopPropagation(),Je.preventDefault(),lt(or,bo,jo,Pi)};switch(Oe.raw.keyCode){case sv.LEFT:$n(Oe,or,n,-10,0);break;case sv.RIGHT:$n(Oe,or,n,10,0);break;case sv.UP:$n(Oe,or,n,0,-10);break;case sv.DOWN:$n(Oe,or,n,0,10);break;case sv.ENTER:case sv.SPACEBAR:Oe.prevent(),d();break}};v.push(Yi(O,"focusin",Kn),Yi(O,"focusout",Kn),Yi(O,"keydown",Rn))},ut=function(Vn){var ze=fn(fn([],Zt(A,function(Rn){return"#"+S+"-"+Rn.name}),!0),Zt(z,function(Rn){return"#"+S+"-"+Rn}),!0).join(","),Kn=Da(O,ze);Vn?Pt(Kn,function(Rn){return Mo(Rn,"display")}):Pt(Kn,function(Rn){return Br(Rn,"display","none")})},_t=function(Vn){var ze=function(Kn,Rn){fa(O,"#"+S+"-"+Kn).each(function(Oe){wc(Oe,{left:Rn.x+"px",top:Rn.y+"px",width:Math.max(0,Rn.w)+"px",height:Math.max(0,Rn.h)+"px"})})};Pt(A,function(Kn){fa(O,"#"+S+"-"+Kn.name).each(function(Rn){wc(Rn,{left:Vn.w*Kn.xMul+Vn.x+"px",top:Vn.h*Kn.yMul+Vn.y+"px"})})}),ze("top",{x:r.x,y:r.y,w:r.w,h:Vn.y-r.y}),ze("right",{x:Vn.x+Vn.w,y:Vn.y,w:r.w-Vn.x-Vn.w+r.x,h:Vn.h}),ze("bottom",{x:r.x,y:Vn.y+Vn.h,w:r.w,h:r.h-Vn.y-Vn.h+r.y}),ze("left",{x:r.x,y:Vn.y,w:Vn.x-r.x,h:Vn.h}),ze("move",Vn)},gn=function(Vn){n=Vn,_t(n)},wn=function(Vn){r=Vn,_t(n)},kt=function(Vn){gn($(i,Vn))},rn=function(Vn){i=Vn,_t(n)},Bn=function(){Pt(g,function(Vn){return Vn.destroy()}),g=[],Pt(v,function(Vn){return Vn.unbind()}),v=[]};Tt();var Re=J(J({},jM),{toggleVisibility:ut,setClampRect:rn,setRect:gn,getInnerRect:tt,setInnerRect:kt,setViewPortRect:wn,destroy:Bn});return Re},Sl={create:WM},R6=function(n){return new s2(function(r){var i=function(){n.removeEventListener("load",i),r(n)};n.complete?r(n):n.addEventListener("load",i)})},qM=function(n){var r=Po({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),i=wr(1),s=Ix(),d=wr({x:0,y:0,w:1,h:1}),g=wr({x:0,y:0,w:1,h:1}),v=function(Tt,ut){tt.getOpt(Tt).each(function(_t){var gn=i.get(),wn=pu(_t.element),kt=ua(_t.element),rn=ut.dom.naturalWidth*gn,Bn=ut.dom.naturalHeight*gn,Re=Math.max(0,wn/2-rn/2),Vn=Math.max(0,kt/2-Bn/2),ze={left:Re.toString()+"px",top:Vn.toString()+"px",width:rn.toString()+"px",height:Bn.toString()+"px",position:"absolute"};wc(ut,ze),r.getOpt(_t).each(function(Kn){wc(Kn.element,ze)}),s.run(function(Kn){var Rn=d.get();Kn.setRect({x:Rn.x*gn+Re,y:Rn.y*gn+Vn,w:Rn.w*gn,h:Rn.h*gn}),Kn.setClampRect({x:Re,y:Vn,w:rn,h:Bn}),Kn.setViewPortRect({x:0,y:0,w:wn,h:kt})})})},C=function(Tt,ut){tt.getOpt(Tt).each(function(_t){var gn=pu(_t.element),wn=ua(_t.element),kt=ut.dom.naturalWidth,rn=ut.dom.naturalHeight,Bn=Math.min(gn/kt,wn/rn);Bn>=1?i.set(1):i.set(Bn)})},S=function(Tt,ut){var _t=st.fromTag("img");return Kr(_t,"src",ut),R6(_t.dom).then(function(){Tt.getSystem().isConnected()&&tt.getOpt(Tt).map(function(gn){var wn=Xp({element:_t});Ur.replaceAt(gn,1,D.some(wn));var kt=g.get(),rn={x:0,y:0,w:_t.dom.naturalWidth,h:_t.dom.naturalHeight};g.set(rn);var Bn=jS.inflate(rn,-20,-20);d.set(Bn),(kt.w!==rn.w||kt.h!==rn.h)&&C(gn,_t),v(gn,_t)})})},O=function(Tt,ut){var _t=i.get(),gn=ut>0?Math.min(2,_t+.1):Math.max(.1,_t-.1);i.set(gn),tt.getOpt(Tt).each(function(wn){var kt=wn.components()[1].element;v(wn,kt)})},A=function(){s.run(function(Tt){Tt.toggleVisibility(!0)})},z=function(){s.run(function(Tt){Tt.toggleVisibility(!1)})},$=function(){return d.get()},q=Zu.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:n}}},{dom:{tag:"div"},behaviours:we([Zr("image-panel-crop-events",[Si(function(Tt){tt.getOpt(Tt).each(function(ut){var _t=ut.element.dom,gn=Sl.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},_t,At);gn.toggleVisibility(!1),gn.on("updateRect",function(wn){var kt=wn.rect,rn=i.get(),Bn={x:Math.round(kt.x/rn),y:Math.round(kt.y/rn),w:Math.round(kt.w/rn),h:Math.round(kt.h/rn)};d.set(Bn)}),s.set(gn)})}),_c(function(){s.clear()})])])}],containerBehaviours:we([Ur.config({}),Zr("image-panel-events",[Si(function(Tt){S(Tt,n)})])])}),tt=Po(q),lt=function(){var Tt=g.get();return{width:Tt.w,height:Tt.h}};return{memContainer:tt,updateSrc:S,zoom:O,showCrop:A,hideCrop:z,getRect:$,getMeasurements:lt}},qS=function(n,r,i,s,d){return $2({name:n,icon:D.some(r),disabled:i,tooltip:D.some(n),primary:!1,borderless:!1},s,d)},GM=function(n,r){r?pr.enable(n):pr.disable(n)},A6=function(n){var r=function(g,v,C){i.getOpt(g).each(function(S){GM(S,v)}),s.getOpt(g).each(function(S){GM(S,C)})},i=Po(qS("Undo","undo",!0,function(g){Sr(g,Pu.undo(),{direction:1})},n)),s=Po(qS("Redo","redo",!0,function(g){Sr(g,Pu.redo(),{direction:1})},n)),d=Zu.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[i.asSpec(),s.asSpec(),qS("Zoom in","zoom-in",!1,function(g){Sr(g,Pu.zoom(),{direction:1})},n),qS("Zoom out","zoom-out",!1,function(g){Sr(g,Pu.zoom(),{direction:-1})},n)]});return{container:d,updateButtonUndoStates:r}};function B6(){var n=[],r=-1,i=function(C){var S=n.splice(++r);return n.push(C),{state:C,removed:S}},s=function(){if(g())return n[--r]},d=function(){if(v())return n[++r]},g=function(){return r>0},v=function(){return r!==-1&&r<n.length-1};return{data:n,add:i,undo:s,redo:d,canUndo:g,canRedo:v}}var z6=function(n){var r=wr(n),i=Ui(),s=B6();s.add(n);var d=function(){return r.get()},g=function(_t){r.set(_t)},v=function(){return i.get().getOrThunk(r.get)},C=function(_t){var gn=S(_t);return z(),i.set(gn),gn.url},S=function(_t){return{blob:_t,url:URL.createObjectURL(_t)}},O=function(_t){URL.revokeObjectURL(_t.url)},A=function(_t){Wd.each(_t,O)},z=function(){i.on(O),i.clear()},$=function(_t){var gn=S(_t);g(gn);var wn=s.add(gn).removed;return A(wn),gn.url},q=function(_t){var gn=S(_t);return i.set(gn),gn.url},tt=function(_t){return i.get().fold(At,function(gn){$(gn.blob),_t()})},lt=function(){var _t=s.undo();return g(_t),_t.url},Tt=function(){var _t=s.redo();return g(_t),_t.url},ut=function(){var _t=s.canUndo(),gn=s.canRedo();return{undoEnabled:_t,redoEnabled:gn}};return{getBlobState:d,setBlobState:g,addBlobState:$,getTempState:v,updateTempState:C,addTempState:q,applyTempState:tt,destroyTempState:z,undo:lt,redo:Tt,getHistoryStates:ut}},N6=function(n,r){var i=z6(n.currentState),s=function(Kn,Rn){var Oe=Rn.event.direction;Bn.zoom(Kn,Oe)},d=function(Kn){var Rn=i.getHistoryStates();Re.updateButtonUndoStates(Kn,Rn.undoEnabled,Rn.redoEnabled),Sr(Kn,ji.formActionEvent,{name:ji.saveState(),value:Rn.undoEnabled})},g=function(Kn){Re.updateButtonUndoStates(Kn,!1,!1)},v=function(Kn,Rn){var Oe=i.undo();z(Kn,Oe).then(function(or){A(Kn),d(Kn)})},C=function(Kn,Rn){var Oe=i.redo();z(Kn,Oe).then(function(or){A(Kn),d(Kn)})},S=function(Kn){return Kn.toBlob()},O=function(Kn){Sr(Kn,ji.formActionEvent,{name:ji.disable(),value:{}})},A=function(Kn){Vn.getApplyButton(Kn).each(function(Rn){pr.enable(Rn)}),Sr(Kn,ji.formActionEvent,{name:ji.enable(),value:{}})},z=function(Kn,Rn){return O(Kn),Bn.updateSrc(Kn,Rn)},$=function(Kn,Rn,Oe,or,$n){O(Kn),BN(Rn).then(Oe).then(S).then(or).then(function(Je){return z(Kn,Je)}).then(function(){d(Kn),$n(),A(Kn)}).catch(function(Je){console.log(Je),Kn.getSystem().isConnected()&&A(Kn)})},q=function(Kn,Rn,Oe){var or=i.getBlobState().blob,$n=function(Je){return i.updateTempState(Je)};$(Kn,or,Rn,$n,Oe)},tt=function(Kn,Rn){var Oe=i.getTempState().blob,or=function($n){return i.addTempState($n)};$(Kn,Oe,Rn,or,At)},lt=function(Kn,Rn,Oe){var or=i.getBlobState().blob,$n=function(Je){var lr=i.addBlobState(Je);return ut(Kn),lr};$(Kn,or,Rn,$n,Oe)},Tt=function(Kn,Rn){var Oe=function(){ut(Kn);var or=Rn.event.swap;or()};i.applyTempState(Oe)},ut=function(Kn){var Rn=i.getBlobState().url;return i.destroyTempState(),d(Kn),Rn},_t=function(Kn){var Rn=ut(Kn);z(Kn,Rn).then(function(Oe){A(Kn)})},gn=function(Kn,Rn){_t(Kn);var Oe=Rn.event.swap;Oe(),Bn.hideCrop()},wn=function(Kn,Rn){return q(Kn,Rn.event.transform,At)},kt=function(Kn,Rn){return tt(Kn,Rn.event.transform)},rn=function(Kn,Rn){return lt(Kn,Rn.event.transform,Rn.event.swap)},Bn=qM(n.currentState.url),Re=A6(r),Vn=_6(Bn,r),ze=function(Kn,Rn){g(Kn);var Oe=Rn.event.transform,or=Rn.event.swap;Oe.fold(function(){or()},function($n){q(Kn,$n,or)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Vn.memContainer.asSpec(),Bn.memContainer.asSpec(),Re.container],behaviours:we([_e.config({store:{mode:"manual",getValue:function(){return i.getBlobState()}}}),Zr("image-tools-events",[Un(Pu.undo(),v),Un(Pu.redo(),C),Un(Pu.zoom(),s),Un(Pu.back(),gn),Un(Pu.apply(),Tt),Un(Pu.transform(),wn),Un(Pu.tempTransform(),kt),Un(Pu.transformApply(),rn),Un(Pu.swap(),ze)]),qf.self()])}},P6=function(n,r){var i={dom:{tag:"label",innerHtml:r.providers.translate(n.label),classes:["tox-label"]}},s=Zt(n.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[i].concat(s),behaviours:we([qf.self(),Ur.config({}),av.domHtml(D.none()),kr.config({mode:"acyclic"})])}},VO=function(n){return!Hn(n,"items")},KM="data-value",UO=function(n,r,i,s){return Zt(i,function(d){return VO(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===s,onAction:function(){_e.setValue(n,d.value),Sr(n,bs,{name:r}),Nr.focus(n)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return UO(n,r,d.items,s)}}})},$O=function(n,r){return zt(n,function(i){return VO(i)?Wo(i.value===r,i):$O(i.items,r)})},XM=function(n,r){var i=r.shared.providers,s=Xn(n.items).filter(VO),d=n.label.map(function(C){return wp(C,i)}),g=Oo.parts.field({dom:{},factory:{sketch:function(C){return AO({uid:C.uid,text:s.map(function(S){return S.text}),icon:D.none(),tooltip:n.label,role:D.none(),fetch:function(S,O){var A=UO(S,n.name,n.items,_e.getValue(S));O(R0(A,Uf.CLOSE_ON_EXECUTE,r,!1))},onSetup:X(At),getApi:X({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[oa.config({}),_e.config({store:{mode:"manual",initialValue:s.map(function(S){return S.value}).getOr(""),getValue:function(S){return yi(S.element,KM)},setValue:function(S,O){$O(n.items,O).each(function(A){Kr(S.element,KM,A.value),Sr(S,uv,{text:A.text})})}}})]},"tox-listbox",r.shared)}}}),v={dom:{tag:"div",classes:["tox-listboxfield"]},components:[g]};return Oo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:pt([d.toArray(),[v]]),fieldBehaviours:we([pr.config({disabled:X(n.disabled),onDisabled:function(C){Oo.getField(C).each(pr.disable)},onEnabled:function(C){Oo.getField(C).each(pr.enable)}})])})},F6=function(n,r){return{dom:{tag:"div",classes:n.classes},components:Zt(n.items,r.shared.interpreter)}},JM=function(n,r){var i=Zt(n.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),s=n.data.map(function(d){return zl("initialValue",d)}).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:Ra(n.selectBehaviours,[Nr.config({}),_e.config({store:J({mode:"manual",getValue:function(d){return Mc(d.element)},setValue:function(d,g){var v=kn(n.options,function(C){return C.value===g});v.isSome()&&zg(d.element,g)}},s)})])}},L6=Nc({name:"HtmlSelect",configFields:[Nn("options"),Ma("selectBehaviours",[Nr,_e]),Et("selectClasses",[]),Et("selectAttributes",{}),Ro("data")],factory:JM}),I6=function(n,r){var i=Zt(n.items,function(C){return{text:r.translate(C.text),value:C.value}}),s=n.label.map(function(C){return wp(C,r)}),d=Oo.parts.field({dom:{},selectAttributes:{size:n.size},options:i,factory:L6,selectBehaviours:we([pr.config({disabled:function(){return n.disabled||r.isDisabled()}}),oa.config({}),Zr("selectbox-change",[Un(kg(),function(C,S){Sr(C,bs,{name:n.name})})])])}),g=n.size>1?D.none():D.some(Vf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),v={dom:{tag:"div",classes:["tox-selectfield"]},components:pt([[d],g.toArray()])};return Oo.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:pt([s.toArray(),[v]]),fieldBehaviours:we([pr.config({disabled:function(){return n.disabled||r.isDisabled()},onDisabled:function(C){Oo.getField(C).each(pr.disable)},onEnabled:function(C){Oo.getField(C).each(pr.enable)}}),Ba()])})},H6=function(n,r){var i=function(C){return{dom:{tag:"th",innerHtml:r.translate(C)}}},s=function(C){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Zt(C,i)}]}},d=function(C){return{dom:{tag:"td",innerHtml:r.translate(C)}}},g=function(C){return{dom:{tag:"tr"},components:Zt(C,d)}},v=function(C){return{dom:{tag:"tbody"},components:Zt(C,g)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(n.header),v(n.cells)],behaviours:we([oa.config({}),Nr.config({})])}},YM=function(n,r){var i=n.label.map(function($){return wp($,r)}),s=[pr.config({disabled:function(){return n.disabled||r.isDisabled()}}),Ba(),kr.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:function($){return uo($,x0),D.some(!0)}}),Zr("textfield-change",[Un(om(),function($,q){Sr($,bs,{name:n.name})}),Un(rb(),function($,q){Sr($,bs,{name:n.name})})]),oa.config({})],d=n.validation.map(function($){return Ud.config({getRoot:function(q){return bi(q.element)},invalidClass:"tox-invalid",validator:{validate:function(q){var tt=_e.getValue(q),lt=$.validator(tt);return Su.pure(lt===!0?Yr.value(tt):Yr.error(lt))},validateOnLoad:$.validateOnLoad}})}).toArray(),g=n.placeholder.fold(X({}),function($){return{placeholder:r.translate($)}}),v=n.inputMode.fold(X({}),function($){return{inputmode:$}}),C=J(J({},g),v),S=Oo.parts.field({tag:n.multiline===!0?"textarea":"input",inputAttributes:C,inputClasses:[n.classname],inputBehaviours:we(pt([s,d])),selectOnFocus:!1,factory:D2}),O=n.flex?["tox-form__group--stretched"]:[],A=O.concat(n.maximized?["tox-form-group--maximize"]:[]),z=[pr.config({disabled:function(){return n.disabled||r.isDisabled()},onDisabled:function($){Oo.getField($).each(pr.disable)},onEnabled:function($){Oo.getField($).each(pr.enable)}}),Ba()];return _2(i,S,A,z)},V6=function(n,r){return YM({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:n.disabled,classname:"tox-textfield",validation:D.none(),maximized:n.maximized},r)},U6=function(n,r){return YM({name:n.name,multiline:!0,label:n.label,inputMode:D.none(),placeholder:n.placeholder,flex:!0,disabled:n.disabled,classname:"tox-textarea",validation:D.none(),maximized:n.maximized},r)},$6=function(n,r){var i=n.stream.streams,s=i.setup(n,r);return ui([Un(n.event,s),_c(function(){return r.cancel()})].concat(n.cancelEvent.map(function(d){return[Un(d,function(){return r.cancel()})]}).getOr([])))},j6=Object.freeze({__proto__:null,events:$6}),QM=function(n){var r=wr(null),i=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(g){r.set(g)},d=function(){var g=r.get();g!==null&&g.cancel()};return Ua({readState:i,setTimer:s,cancel:d})},W6=function(n){return n.stream.streams.state(n)},q6=Object.freeze({__proto__:null,throttle:QM,init:W6}),G6=function(n,r){var i=n.stream,s=z3(n.onStream,i.delay);return r.setTimer(s),function(d,g){s.throttle(d,g),i.stopEvent&&g.stop()}},K6=[ac("stream",os("mode",{throttle:[Nn("delay"),Et("stopEvent",!0),qo("streams",{setup:G6,state:QM})]})),Et("event","input"),Ro("cancelEvent"),xm("onStream")],ZM=Ji({fields:K6,name:"streaming",active:j6,state:q6}),q2=function(n,r,i){var s=_e.getValue(i);_e.setValue(r,s),n5(r)},t5=function(n,r){var i=n.element,s=Mc(i),d=i.dom;yi(i,"type")!=="number"&&r(d,s)},n5=function(n){t5(n,function(r,i){return r.setSelectionRange(i.length,i.length)})},e5=function(n,r){t5(n,function(i,s){return i.setSelectionRange(r,s.length)})},X6=function(n,r,i){if(n.selectsOver){var s=_e.getValue(r),d=n.getDisplayText(s),g=_e.getValue(i),v=n.getDisplayText(g);return v.indexOf(d)===0?D.some(function(){q2(n,r,i),e5(r,d.length)}):D.none()}else return D.none()},jO=X("alloy.typeahead.itemexecute"),J6=function(n,r,i,s){var d=function(S,O,A){n.previewing.set(!1);var z=ia.getCoupled(S,"sandbox");if(go.isOpen(z))io.getCurrent(z).each(function(q){Ao.getHighlighted(q).fold(function(){A(q)},function(){vx(z,q.element,"keydown",O)})});else{var $=function(q){io.getCurrent(q).each(A)};GT(n,v(S),S,z,s,$,Zl.HighlightFirst).get(At)}},g=xD(n),v=function(S){return function(O){return O.map(function(A){var z=dn(A.menus),$=sn(z,function(tt){return Dt(tt.items,function(lt){return lt.type==="item"})}),q=_e.getState(S);return q.update(Zt($,function(tt){return tt.data})),A})}},C=[Nr.config({}),_e.config({onSetValue:n.onSetValue,store:J({mode:"dataset",getDataKey:function(S){return Mc(S.element)},getFallbackEntry:function(S){return{value:S,meta:{}}},setValue:function(S,O){zg(S.element,n.model.getDisplayText(O))}},n.initialData.map(function(S){return zl("initialValue",S)}).getOr({}))}),ZM.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:function(S,O){var A=ia.getCoupled(S,"sandbox"),z=Nr.isFocused(S);if(z&&Mc(S.element).length>=n.minChars){var $=io.getCurrent(A).bind(function(tt){return Ao.getHighlighted(tt).map(_e.getValue)});n.previewing.set(!0);var q=function(tt){io.getCurrent(A).each(function(lt){$.fold(function(){n.model.selectsOver&&Ao.highlightFirst(lt)},function(Tt){Ao.highlightBy(lt,function(ut){var _t=_e.getValue(ut);return _t.value===Tt.value}),Ao.getHighlighted(lt).orThunk(function(){return Ao.highlightFirst(lt),D.none()})})})};GT(n,v(S),S,A,s,q,Zl.HighlightFirst).get(At)}},cancelEvent:ob()}),kr.config({mode:"special",onDown:function(S,O){return d(S,O,Ao.highlightFirst),D.some(!0)},onEscape:function(S){var O=ia.getCoupled(S,"sandbox");return go.isOpen(O)?(go.close(O),D.some(!0)):D.none()},onUp:function(S,O){return d(S,O,Ao.highlightLast),D.some(!0)},onEnter:function(S){var O=ia.getCoupled(S,"sandbox"),A=go.isOpen(O);if(A&&!n.previewing.get())return io.getCurrent(O).bind(function($){return Ao.getHighlighted($)}).map(function($){return Sr(S,jO(),{item:$}),!0});var z=_e.getValue(S);return uo(S,ob()),n.onExecute(O,S,z),A&&go.close(O),D.some(!0)}}),ho.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),ia.config({others:{sandbox:function(S){return KT(n,S,{onOpen:function(){return ho.on(S)},onClose:function(){return ho.off(S)}})}}}),Zr("typeaheadevents",[zs(function(S){var O=At;C0(n,v(S),S,s,O,Zl.HighlightFirst).get(At)}),Un(jO(),function(S,O){var A=ia.getCoupled(S,"sandbox");q2(n.model,S,O.event.item),uo(S,ob()),n.onItemExecute(S,A,O.event.item,_e.getValue(S)),go.close(A),n5(S)})].concat(n.dismissOnBlur?[Un(eb(),function(S){var O=ia.getCoupled(S,"sandbox");Ps(O.element).isNone()&&go.close(O)})]:[]))];return{uid:n.uid,dom:wD(On(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:J(J({},g),Ra(n.typeaheadBehaviours,C)),eventOrder:n.eventOrder}},Y6=X([Ro("lazySink"),Nn("fetch"),Et("minChars",5),Et("responseTime",1e3),oo("onOpen"),Et("getHotspot",D.some),Et("getAnchorOverrides",X({})),Et("layouts",D.none()),Et("eventOrder",{}),G0("model",{},[Et("getDisplayText",function(n){return n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value}),Et("selectsOver",!0),Et("populateFromBrowse",!0)]),oo("onSetValue"),Zo("onExecute"),oo("onItemExecute"),Et("inputClasses",[]),Et("inputAttributes",{}),Et("inputStyles",{}),Et("matchWidth",!0),Et("useMinWidth",!1),Et("dismissOnBlur",!0),ym(["openClass"]),Ro("initialData"),Ma("typeaheadBehaviours",[Nr,_e,ZM,kr,ho,ia]),Uu("previewing",function(){return wr(!0)})].concat(dS()).concat(XT())),Q6=X([ts({schema:[bm()],name:"menu",overrides:function(n){return{fakeFocus:!0,onHighlight:function(r,i){n.previewing.get()?r.getSystem().getByUid(n.uid).each(function(s){X6(n.model,s,i).fold(function(){return Ao.dehighlight(r,i)},function(d){return d()})}):r.getSystem().getByUid(n.uid).each(function(s){n.model.populateFromBrowse&&q2(n.model,s,i)}),n.previewing.set(!1)},onExecute:function(r,i){return r.getSystem().getByUid(n.uid).toOptional().map(function(s){return Sr(s,jO(),{item:i}),!0})},onHover:function(r,i){n.previewing.set(!1),r.getSystem().getByUid(n.uid).each(function(s){n.model.populateFromBrowse&&q2(n.model,s,i)})}}}})]),Z6=Ju({name:"Typeahead",configFields:Y6(),partFields:Q6(),factory:J6}),ws=function(n){var r=function(){return ws(n.toCached())},i=function(S){return ws(n.bind(function(O){return O.fold(function(A){return Su.pure(Yr.error(A))},function(A){return S(A)})}))},s=function(S){return ws(n.map(function(O){return O.bind(S)}))},d=function(S){return ws(n.map(function(O){return O.map(S)}))},g=function(S){return ws(n.map(function(O){return O.mapError(S)}))},v=function(S,O){return n.map(function(A){return A.fold(S,O)})},C=function(S,O){return ws(Su.nu(function(A){var z=!1,$=setTimeout(function(){z=!0,A(Yr.error(O()))},S);n.get(function(q){z||(clearTimeout($),A(q))})}))};return J(J({},n),{toCached:r,bindFuture:i,bindResult:s,mapResult:d,mapError:g,foldResult:v,withTimeout:C})},r5=function(n){return ws(Su.nu(n))},o5=function(n){return ws(Su.pure(Yr.value(n)))},t8=function(n){return ws(Su.pure(Yr.error(n)))},n8=function(n){return ws(Su.pure(n))},e8=function(n){return ws(n.map(Yr.value))},r8=function(n){return r5(function(r){n.then(function(i){r(Yr.value(i))},function(i){r(Yr.error(i))})})},o8={nu:r5,wrap:ws,pure:o5,value:o5,error:t8,fromResult:n8,fromFuture:e8,fromPromise:r8},i5={type:"separator"},i8=function(n){return{type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:At}},WO=function(n,r){return{type:"menuitem",value:r,text:n,meta:{attach:void 0},onAction:At}},a8=function(n){return Zt(n,i8)},u8=function(n,r){return Dt(r,function(i){return i.type===n})},a5=function(n,r){return a8(u8(n,r))},c8=function(n){return a5("header",n.targets)},s8=function(n){return a5("anchor",n.targets)},u5=function(n){return D.from(n.anchorTop).map(function(r){return WO("<top>",r)}).toArray()},l8=function(n){return D.from(n.anchorBottom).map(function(r){return WO("<bottom>",r)}).toArray()},f8=function(n){return Zt(n,function(r){return WO(r,r)})},d8=function(n){return jn(n,function(r,i){var s=r.length===0||i.length===0;return s?r.concat(i):r.concat(i5,i)},[])},qO=function(n,r){var i=n.toLowerCase();return Dt(r,function(s){var d=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return Jr(d.toLowerCase(),i)||Jr(s.value.toLowerCase(),i)})},m8=function(n,r,i){var s=_e.getValue(r),d=s.meta.text!==void 0?s.meta.text:s.value,g=i.getLinkInformation();return g.fold(function(){return[]},function(v){var C=qO(d,f8(i.getHistory(n)));return n==="file"?d8([C,qO(d,c8(v)),qO(d,pt([u5(v),s8(v),l8(v)]))]):C})},c5=We("aria-invalid"),s5=function(n,r,i){var s,d=r.shared.providers,g=function(ut){var _t=_e.getValue(ut);i.addToHistory(_t.value,n.filetype)},v=Oo.parts.field({factory:Z6,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":c5,type:"url"},minChars:0,responseTime:0,fetch:function(ut){var _t=m8(n.filetype,ut,i),gn=R0(_t,Uf.BUBBLE_TO_SANDBOX,r,!1);return Su.pure(gn)},getHotspot:function(ut){return q.getOpt(ut)},onSetValue:function(ut,_t){ut.hasConfigured(Ud)&&Ud.run(ut).get(At)},typeaheadBehaviours:we(pt([i.getValidationHandler().map(function(ut){return Ud.config({getRoot:function(_t){return bi(_t.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(_t,gn){O.getOpt(_t).each(function(wn){Kr(wn.element,"title",d.translate(gn))})}},validator:{validate:function(_t){var gn=_e.getValue(_t);return o8.nu(function(wn){ut({type:n.filetype,url:gn.value},function(kt){if(kt.status==="invalid"){var rn=Yr.error(kt.message);wn(rn)}else{var Bn=Yr.value(kt.message);wn(Bn)}})})},validateOnLoad:!1}})}).toArray(),[pr.config({disabled:function(){return n.disabled||d.isDisabled()}}),oa.config({}),Zr("urlinput-events",pt([n.filetype==="file"?[Un(om(),function(ut){Sr(ut,bs,{name:n.name})})]:[],[Un(kg(),function(ut){Sr(ut,bs,{name:n.name}),g(ut)}),Un(rb(),function(ut){Sr(ut,bs,{name:n.name}),g(ut)})]]))]])),eventOrder:(s={},s[om()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(ut){return ut.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:qC(!1,1,"normal")},onExecute:function(ut,_t,gn){Sr(_t,x0,{})},onItemExecute:function(ut,_t,gn,wn){g(ut),Sr(ut,bs,{name:n.name})}}),C=n.label.map(function(ut){return wp(ut,d)}),S=function(ut,_t,gn,wn){return gn===void 0&&(gn=ut),wn===void 0&&(wn=ut),Vf(gn,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ut],attributes:J({title:d.translate(wn),"aria-live":"polite"},_t.fold(function(){return{}},function(kt){return{id:kt}}))},d.icons)},O=Po(S("invalid",D.some(c5),"warning")),A=Po({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[O.asSpec()]}),z=i.getUrlPicker(n.filetype),$=We("browser.url.event"),q=Po({dom:{tag:"div",classes:["tox-control-wrap"]},components:[v,A.asSpec()],behaviours:we([pr.config({disabled:function(){return n.disabled||d.isDisabled()}})])}),tt=Po(FO({name:n.name,icon:D.some("browse"),text:n.label.getOr(""),disabled:n.disabled,primary:!1,borderless:!0},function(ut){return uo(ut,$)},d,[],["tox-browse-url"])),lt=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:pt([[q.asSpec()],z.map(function(){return tt.asSpec()}).toArray()])}},Tt=function(ut){io.getCurrent(ut).each(function(_t){var gn=_e.getValue(_t),wn=J({fieldname:n.name},gn);z.each(function(kt){kt(wn).get(function(rn){_e.setValue(_t,rn),Sr(ut,bs,{name:n.name})})})})};return Oo.sketch({dom:JB(),components:C.toArray().concat([lt()]),fieldBehaviours:we([pr.config({disabled:function(){return n.disabled||d.isDisabled()},onDisabled:function(ut){Oo.getField(ut).each(pr.disable),tt.getOpt(ut).each(pr.disable)},onEnabled:function(ut){Oo.getField(ut).each(pr.enable),tt.getOpt(ut).each(pr.enable)}}),Ba(),Zr("url-input-events",[Un($,Tt)])])})},lv=function(n,r){return Zu.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+n.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Qu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:OE(n.icon,r.icons),attributes:{title:r.translate(n.iconTooltip)}},action:function(i){Sr(i,Hd,{name:"alert-banner",value:n.url})},buttonBehaviours:we([R3()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(n.text)}}]})},GS=function(n,r){var i=_e.config({store:{mode:"manual",getValue:function(S){var O=S.element.dom;return O.checked},setValue:function(S,O){var A=S.element.dom;A.checked=O}}}),s=function(S){return S.element.dom.click(),D.some(!0)},d=Oo.parts.field({factory:{sketch:Yt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:we([qf.self(),pr.config({disabled:function(){return n.disabled||r.isDisabled()}}),oa.config({}),Nr.config({}),i,kr.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),Zr("checkbox-events",[Un(kg(),function(S,O){Sr(S,bs,{name:n.name})})])])}),g=Oo.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(n.label)},behaviours:we([M2.config({})])}),v=function(S){var O=S==="checked"?"selected":"unselected";return Vf(O,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S]},r.icons)},C=Po({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[v("checked"),v("unchecked")]});return Oo.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,C.asSpec(),g],fieldBehaviours:we([pr.config({disabled:function(){return n.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(S){Oo.getField(S).each(pr.disable)},onEnabled:function(S){Oo.getField(S).each(pr.enable)}}),Ba()])})},g8=function(n){return n.presets==="presentation"?Zu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html}}):Zu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:we([oa.config({}),Nr.config({})])})},lu=function(n){return function(r,i,s){return tn(i,"name").fold(function(){return n(i,s)},function(d){return r.field(d,n(i,s))})}},GO=function(n){return function(r,i,s){var d=On(i,{source:"dynamic"});return lu(n)(r,d,s)}},p8={bar:lu(function(n,r){return $B(n,r.shared)}),collection:lu(function(n,r){return UT(n,r.shared.providers)}),alertbanner:lu(function(n,r){return lv(n,r.shared.providers)}),input:lu(function(n,r){return V6(n,r.shared.providers)}),textarea:lu(function(n,r){return U6(n,r.shared.providers)}),label:lu(function(n,r){return P6(n,r.shared)}),iframe:GO(function(n,r){return kN(n,r.shared.providers)}),button:lu(function(n,r){return LO(n,r.shared.providers)}),checkbox:lu(function(n,r){return GS(n,r.shared.providers)}),colorinput:lu(function(n,r){return JT(n,r.shared,r.colorinput)}),colorpicker:lu(pN),dropzone:lu(function(n,r){return wN(n,r.shared.providers)}),grid:lu(function(n,r){return yM(n,r.shared)}),listbox:lu(function(n,r){return XM(n,r)}),selectbox:lu(function(n,r){return I6(n,r.shared.providers)}),sizeinput:lu(function(n,r){return HO(n,r.shared.providers)}),urlinput:lu(function(n,r){return s5(n,r,r.urlinput)}),customeditor:lu(FS),htmlpanel:lu(g8),imagetools:lu(function(n,r){return N6(n,r.shared.providers)}),table:lu(function(n,r){return H6(n,r.shared.providers)}),panel:lu(function(n,r){return F6(n,r)})},h8={field:function(n,r){return r}},KO=function(n,r,i){var s=On(i,{shared:{interpreter:function(d){return KS(n,d,s)}}});return KS(n,r,s)},KS=function(n,r,i){return tn(p8,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(n,r,i)})},v8=function(n,r){var i=h8;return KS(i,n,r)},l5={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},b8=function(n,r,i){var s=12,d={maxHeightFunction:$g()},g=function(){return{type:"node",root:be(n()),node:D.from(n()),bubble:wd(s,s,l5),layouts:{onRtl:function(){return[Ym]},onLtr:function(){return[Vh]}},overrides:d}},v=function(){return{type:"hotspot",hotspot:r(),bubble:wd(-s,s,l5),layouts:{onRtl:function(){return[wu]},onLtr:function(){return[xa]}},overrides:d}};return function(){return i()?g():v()}},y8=function(n,r,i){var s=function(){return{type:"node",root:be(n()),node:D.from(n()),layouts:{onRtl:function(){return[Us]},onLtr:function(){return[Us]}}}},d=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[iu]},onLtr:function(){return[iu]}}}};return function(){return i()?s():d()}},x8=function(n,r){return function(){return{type:"selection",root:r(),getSelection:function(){var i=n.selection.getRng();return D.some(qg.range(st.fromDom(i.startContainer),i.startOffset,st.fromDom(i.endContainer),i.endOffset))}}}},f5=function(n){return function(r){return{type:"node",root:n(),node:r}}},w8=function(n,r,i){var s=ZC(n),d=function(){return st.fromDom(n.getBody())},g=function(){return st.fromDom(n.getContentAreaContainer())},v=function(){return s||!i()};return{inlineDialog:b8(g,r,v),banner:y8(g,r,v),cursor:x8(n,d),node:f5(d)}},d5=function(n){return function(r,i){var s=nD(n);s(r,i)}},C8=function(n){return function(){return iS(n)}},S8=function(n){return function(){return RT(n)}},XO=function(n){return function(){return J_(n)}},JO=function(n){return{colorPicker:d5(n),hasCustomColors:C8(n),getColors:S8(n),getColorCols:XO(n)}},G2=function(n){return function(){return TA(n)}},k8=function(n){return{isDraggableModal:G2(n)}},T8=function(n){var r=wr(y_(n)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},m5=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],O8=function(n){return Hn(n,"items")},E8=function(n){return Hn(n,"block")},g5=function(n){return Hn(n,"inline")},p5=function(n){return Hn(n,"selector")},YO=function(n){return jn(n,function(r,i){if(O8(i)){var s=YO(i.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:i.title,items:s.formats}])}}else if(g5(i)||E8(i)||p5(i)){var d=Ce(i.name)?i.name:i.title.toLowerCase(),g="custom-"+d;return{customFormats:r.customFormats.concat([{name:g,format:i}]),formats:r.formats.concat([{title:i.title,format:g,icon:i.icon}])}}else return J(J({},r),{formats:r.formats.concat(i)})},{customFormats:[],formats:[]})},_8=function(n,r){var i=YO(r),s=function(d){Pt(d,function(g){n.formatter.has(g.name)||n.formatter.register(g.name,g.format)})};return n.formatter?s(i.customFormats):n.on("init",function(){s(i.customFormats)}),i.formats},h5=function(n){return h_(n).map(function(r){var i=_8(n,r);return v_(n)?m5.concat(i):i}).getOr(m5)},v5=function(n,r,i){var s={type:"formatter",isSelected:r(n.format),getStylePreview:i(n.format)};return On(n,s)},b5=function(n,r,i,s){var d=function(S){return v5(S,i,s)},g=function(S){var O={type:"submenu"};return On(S,O)},v=function(S){var O=Ce(S.name)?S.name:We(S.title),A="custom-"+O,z={type:"formatter",format:A,isSelected:i(A),getStylePreview:s(A)},$=On(S,z);return n.formatter.register(O,$),$},C=function(S){return Zt(S,function(O){var A=jt(O);if(Pe(O,"items")){var z=C(O.items);return On(g(O),{getStyleItems:X(z)})}else return Pe(O,"format")?d(O):A.length===1&&Pn(A,"title")?On(O,{type:"separator"}):v(O)})};return C(r)},D8=function(n){var r=function(z){return function(){return n.formatter.match(z)}},i=function(z){return function(){var $=n.formatter.get(z);return $!==void 0?D.some({tag:$.length>0&&($[0].inline||$[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(z))}):D.none()}},s=function(z){var $=z.items;return $!==void 0&&$.length>0?sn($,s):[z.format]},d=wr([]),g=wr([]),v=wr([]),C=wr([]),S=wr(!1);n.on("PreInit",function(z){var $=h5(n),q=b5(n,$,r,i);d.set(q),g.set(sn(q,s))}),n.on("addStyleModifications",function(z){var $=b5(n,z.items,r,i);v.set($),S.set(z.replace),C.set(sn($,s))});var O=function(){var z=S.get()?[]:d.get(),$=v.get();return z.concat($)},A=function(){var z=S.get()?[]:g.get(),$=C.get();return z.concat($)};return{getData:O,getFlattenedKeys:A}},y5=function(n){return Bt(n)&&n.nodeType===1},M8=Wd.trim,x5=function(n){return function(r){return!!(y5(r)&&(r.contentEditable===n||r.getAttribute("data-mce-contenteditable")===n))}},R8=x5("true"),A8=x5("false"),QO=function(n,r,i,s,d){return{type:n,title:r,url:i,level:s,attach:d}},fv=function(n){for(;n=n.parentNode;){var r=n.contentEditable;if(r&&r!=="inherit")return R8(n)}return!1},w5=function(n,r){return Zt(Da(st.fromDom(r),n),function(i){return i.dom})},C5=function(n){return n.innerText||n.textContent},B8=function(n){return n.id?n.id:We("h")},z8=function(n){return n&&n.nodeName==="A"&&(n.id||n.name)!==void 0},S5=function(n){return z8(n)&&T5(n)},k5=function(n){return n&&/^(H[1-6])$/.test(n.nodeName)},T5=function(n){return fv(n)&&!A8(n)},N8=function(n){return k5(n)&&T5(n)},P8=function(n){return k5(n)?parseInt(n.nodeName.substr(1),10):0},F8=function(n){var r=B8(n),i=function(){n.id=r};return QO("header",C5(n),"#"+r,P8(n),i)},L8=function(n){var r=n.id||n.name,i=C5(n);return QO("anchor",i||"#"+r,"#"+r,0,At)},I8=function(n){return Zt(Dt(n,N8),F8)},H8=function(n){return Zt(Dt(n,S5),L8)},V8=function(n){var r=w5("h1,h2,h3,h4,h5,h6,a:not([href])",n);return r},U8=function(n){return M8(n.title).length>0},O5=function(n){var r=V8(n);return Dt(I8(r).concat(H8(r)),U8)},$8={find:O5},XS="tinymce-url-history",E5=5,_5=function(n){return Ce(n)&&/^https?/.test(n)},j8=function(n){return Be(n)&&n.length<=E5&&le(n,_5)},JS=function(n){return De(n)&&ht(n,function(r){return!j8(r)}).isNone()},ZO=function(){var n=oS.getItem(XS);if(n===null)return{};var r;try{r=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+XS+" was not valid JSON",i),{};throw i}return JS(r)?r:(console.log("Local storage "+XS+" was not valid format",r),{})},W8=function(n){if(!JS(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));oS.setItem(XS,JSON.stringify(n))},q8=function(n){var r=ZO();return tn(r,n).getOr([])},G8=function(n,r){if(_5(n)){var i=ZO(),s=tn(i,r).getOr([]),d=Dt(s,function(g){return g!==n});i[r]=[n].concat(d).slice(0,E5),W8(i)}},tE=function(n){return!!n},K8=function(n){return Qn(Wd.makeMap(n,/[, ]/),tE)},nE=function(n){return D.from(w_(n)).filter(_n)},X8=function(n){var r=D.some(C_(n)).filter(tE),i=D.some(_A(n)).filter(tE),s=r.or(i).map(K8);return nE(n).fold(xn,function(d){return s.fold(en,function(g){return jt(g).length>0?g:!1})})},J8=function(n,r){var i=X8(n);return ce(i)?i?nE(n):D.none():i[r]?nE(n):D.none()},Y8=function(n,r){return J8(n,r).map(function(i){return function(s){return Su.nu(function(d){var g=function(C,S){if(!Ce(C))throw new Error("Expected value to be string");if(S!==void 0&&!De(S))throw new Error("Expected meta to be a object");var O={value:C,meta:S};d(O)},v=J({filetype:r,fieldname:s.fieldname},D.from(s.meta).getOr({}));i.call(n,g,s.value,v)})}})},K2=function(n){return D.from(n).filter(Ce).getOrUndefined()},Q8=function(n){return S_(n)?D.none():D.some({targets:$8.find(n.getBody()),anchorTop:K2(DA(n)),anchorBottom:K2(MA(n))})},Z8=function(n){return D.from(RA(n))},D5=function(n){return{getHistory:q8,addToHistory:G8,getLinkInformation:function(){return Q8(n)},getValidationHandler:function(){return Z8(n)},getUrlPicker:function(r){return Y8(n,r)}}},dv=function(n,r,i){var s=wr(!1),d=T8(r),g={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:$s.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(v){return v8(v,g)},anchors:w8(r,i,d.isPositionedAtTop),header:d,getSink:function(){return Yr.value(n)}},urlinput:D5(r),styleselect:D8(r),colorinput:JO(r),dialog:k8(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(v){return s.set(v)}};return g},t7=function(n,r,i){var s=function(wn,kt){Pt([r,i],function(rn){rn.broadcastEvent(wn,kt)})},d=function(wn,kt){Pt([r,i],function(rn){rn.broadcastOn([wn],kt)})},g=function(wn){return d(zm(),{target:wn.target})},v=Zv(),C=Yi(v,"touchstart",g),S=Yi(v,"touchmove",function(wn){return s(Dv(),wn)}),O=Yi(v,"touchend",function(wn){return s(Dk(),wn)}),A=Yi(v,"mousedown",g),z=Yi(v,"mouseup",function(wn){wn.raw.button===0&&d(zc(),{target:wn.target})}),$=function(wn){return d(zm(),{target:st.fromDom(wn.target)})},q=function(wn){wn.button===0&&d(zc(),{target:st.fromDom(wn.target)})},tt=function(){Pt(n.editorManager.get(),function(wn){n!==wn&&wn.fire("DismissPopups",{relatedTarget:n})})},lt=function(wn){return s(ib(),Vg(wn))},Tt=function(wn){d(Xg(),{}),s(Jc(),Vg(wn))},ut=function(){return d(Xg(),{})},_t=function(wn){wn.state&&d(zm(),{target:st.fromDom(n.getContainer())})},gn=function(wn){d(zm(),{target:st.fromDom(wn.relatedTarget.getContainer())})};n.on("PostRender",function(){n.on("click",$),n.on("tap",$),n.on("mouseup",q),n.on("mousedown",tt),n.on("ScrollWindow",lt),n.on("ResizeWindow",Tt),n.on("ResizeEditor",ut),n.on("AfterProgressState",_t),n.on("DismissPopups",gn)}),n.on("remove",function(){n.off("click",$),n.off("tap",$),n.off("mouseup",q),n.off("mousedown",tt),n.off("ScrollWindow",lt),n.off("ResizeWindow",Tt),n.off("ResizeEditor",ut),n.off("AfterProgressState",_t),n.off("DismissPopups",gn),A.unbind(),C.unbind(),S.unbind(),O.unbind(),z.unbind()}),n.on("detach",function(){_1(r),_1(i),r.destroy(),i.destroy()})},dc=Iw,qd=Dd,n7=X([Et("shell",!1),Nn("makeItem"),Et("setupItem",At),gs.field("listBehaviours",[Ur])]),e7=function(){return{behaviours:we([Ur.config({})])}},r7=Hs({name:"items",overrides:e7}),o7=X([r7]),i7=X("CustomList"),mv=function(n,r,i,s){var d=function(C,S){v(C).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(O){var A=Ur.contents(O),z=S.length,$=z-A.length,q=$>0?K($,function(){return n.makeItem()}):[],tt=A.slice(z);Pt(tt,function(Tt){return Ur.remove(O,Tt)}),Pt(q,function(Tt){return Ur.append(O,Tt)});var lt=Ur.contents(O);Pt(lt,function(Tt,ut){n.setupItem(C,Tt,S[ut],ut)})})},g=n.shell?{behaviours:[Ur.config({})],components:[]}:{behaviours:[],components:r},v=function(C){return n.shell?D.some(C):Go(C,n,"items")};return{uid:n.uid,dom:n.dom,components:g.components,behaviours:Ra(n.listBehaviours,g.behaviours),apis:{setItems:d}}},eE=Ju({name:i7(),configFields:n7(),partFields:o7(),factory:mv,apis:{setItems:function(n,r,i){n.setItems(r,i)}}}),z0=X([Nn("dom"),Et("shell",!0),Ma("toolbarBehaviours",[Ur])]),a7=function(){return{behaviours:we([Ur.config({})])}},u7=X([Hs({name:"groups",overrides:a7})]),c7=function(n,r,i,s){var d=function(C,S){g(C).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(O){Ur.set(O,S)})},g=function(C){return n.shell?D.some(C):Go(C,n,"groups")},v=n.shell?{behaviours:[Ur.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:v.components,behaviours:Ra(n.toolbarBehaviours,v.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},Gf=Ju({name:"Toolbar",configFields:z0(),partFields:u7(),factory:c7,apis:{setGroups:function(n,r,i){n.setGroups(r,i)}}}),s7=At,rE=xn,N0=X([]),YS=Object.freeze({__proto__:null,setup:s7,isDocked:rE,getBehaviours:N0}),X2=function(n){var r=Er(ta(n,"position"),"fixed"),i=r?D.none():ec(n);return i.orThunk(function(){var s=st.fromTag("span");return bi(n).bind(function(d){hu(d,s);var g=ec(s);return rc(s),g})})},Ep=function(n){return X2(n).map(Iu).getOrThunk(function(){return Jo(0,0)})},P0=Kc.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),l7=function(n,r){var i=n.element;$a(i,r.transitionClass),la(i,r.fadeOutClass),$a(i,r.fadeInClass),r.onShow(n)},M5=function(n,r){var i=n.element;$a(i,r.transitionClass),la(i,r.fadeInClass),$a(i,r.fadeOutClass),r.onHide(n)},R5=function(n,r){return n.y<r.bottom&&n.bottom>r.y},A5=function(n,r){return n.y>=r.y},f7=function(n,r){return n.bottom<=r.bottom},oE=function(n,r,i){return le(n,function(s){switch(s){case"bottom":return f7(r,i);case"top":return A5(r,i)}})},B5=function(n,r){return r.getInitialPos().map(function(i){return ba(i.bounds.x,i.bounds.y,pu(n),ua(n))})},d7=function(n,r,i){i.setInitialPos({style:sf(n),position:Ai(n,"position")||"static",bounds:r})},z5=function(n,r,i){return i.getInitialPos().bind(function(s){switch(i.clearInitialPos(),s.position){case"static":return D.some(P0.static());case"absolute":var d=X2(n).map(na).getOrThunk(function(){return na(No())});return D.some(P0.absolute(Ca("absolute",tn(s.style,"left").map(function(g){return r.x-d.x}),tn(s.style,"top").map(function(g){return r.y-d.y}),tn(s.style,"right").map(function(g){return d.right-r.right}),tn(s.style,"bottom").map(function(g){return d.bottom-r.bottom}))));default:return D.none()}})},iE=function(n,r,i){return B5(n,i).filter(function(s){return oE(i.getModes(),s,r)}).bind(function(s){return z5(n,s,i)})},aE=function(n,r,i){var s=na(n);if(oE(i.getModes(),s,r))return D.none();d7(n,s,i);var d=tu(),g=s.x-d.x,v=r.y-d.y,C=d.bottom-r.bottom,S=s.y<=r.y;return D.some(P0.fixed(Ca("fixed",D.some(g),S?D.some(v):D.none(),D.none(),S?D.none():D.some(C))))},m7=function(n,r,i){var s=n.element,d=Er(ta(s,"position"),"fixed");return d?iE(s,r,i):aE(s,r,i)},N5=function(n,r){var i=n.element;return B5(i,r).bind(function(s){return z5(i,s,r)})},P5=function(n,r,i){i.setDocked(!1),Pt(["left","right","top","bottom","position"],function(s){return Mo(n.element,s)}),r.onUndocked(n)},QS=function(n,r,i,s){var d=s.position==="fixed";i.setDocked(d),mn(n.element,s);var g=d?r.onDocked:r.onUndocked;g(n)},F5=function(n,r,i,s,d){d===void 0&&(d=!1),r.contextual.each(function(g){g.lazyContext(n).each(function(v){var C=R5(v,s);if(C!==i.isVisible())if(i.setVisible(C),d&&!C)_f(n.element,[g.fadeOutClass]),g.onHide(n);else{var S=C?l7:M5;S(n,g)}})})},g7=function(n,r,i){var s=r.lazyViewport(n),d=i.isDocked();d&&F5(n,r,i,s),m7(n,s,i).each(function(g){g.fold(function(){return P5(n,r,i)},function(v){return QS(n,r,i,v)},function(v){F5(n,r,i,s,!0),QS(n,r,i,v)})})},gv=function(n,r,i){var s=n.element;i.setDocked(!1),N5(n,i).each(function(d){d.fold(function(){return P5(n,r,i)},function(g){return QS(n,r,i,g)},At)}),i.setVisible(!0),r.contextual.each(function(d){Il(s,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(n)}),ZS(n,r,i)},ZS=function(n,r,i){n.getSystem().isConnected()&&g7(n,r,i)},L5=function(n,r,i){i.isDocked()&&gv(n,r,i)},I5=function(n,r,i){return i.isDocked()},p7=function(n,r,i,s){return i.setModes(s)},tk=function(n,r,i){return i.getModes()},rf=Object.freeze({__proto__:null,refresh:ZS,reset:L5,isDocked:I5,getModes:tk,setModes:p7}),h7=function(n,r){return ui([Of(Og(),function(i,s){n.contextual.each(function(d){if(Wu(i.element,d.transitionClass)){Il(i.element,[d.transitionClass,d.fadeInClass]);var g=r.isVisible()?d.onShown:d.onHidden;g(i)}s.stop()})}),Un(ib(),function(i,s){ZS(i,n,r)}),Un(Jc(),function(i,s){L5(i,n,r)})])},Gd=Object.freeze({__proto__:null,events:h7}),v7=[Oc("contextual",[Lr("fadeInClass"),Lr("fadeOutClass"),Lr("transitionClass"),Mu("lazyContext"),oo("onShow"),oo("onShown"),oo("onHide"),oo("onHidden")]),ai("lazyViewport",tu),wf("modes",["top","bottom"],Ki),oo("onDocked"),oo("onUndocked")],b7=function(n){var r=wr(!1),i=wr(!0),s=Ui(),d=wr(n.modes),g=function(){return"docked:  "+r.get()+", visible: "+i.get()+", modes: "+d.get().join(",")};return Ua({isDocked:r.get,setDocked:r.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:i.get,setVisible:i.set,getModes:d.get,setModes:d.set,readState:g})},H5=Object.freeze({__proto__:null,init:b7}),ku=Ji({fields:v7,name:"docking",active:Gd,apis:rf,state:H5}),Kd=X(We("toolbar-height-change")),Sa={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},V5="tox-tinymce--toolbar-sticky-on",uE="tox-tinymce--toolbar-sticky-off",U5=function(n,r){var i=vi(r),s=i.dom.defaultView.innerHeight,d=Sc(i),g=st.fromDom(n.elm),v=Rl(g),C=ua(g),S=v.y,O=S+C,A=Iu(r),z=ua(r),$=A.top,q=$+z,tt=Math.abs($-d.top)<2,lt=Math.abs(q-(d.top+s))<2;if(tt&&S<q)fg(d.left,S-z,i);else if(lt&&O>$){var Tt=S-s+C+z;fg(d.left,Tt,i)}},nk=function(n,r){return Pn(ku.getModes(n),r)},cE=function(n){var r=function(s){return Cc(s)+(parseInt(Ai(s,"margin-top"),10)||0)+(parseInt(Ai(s,"margin-bottom"),10)||0)},i=n.element;bi(i).each(function(s){var d="padding-"+ku.getModes(n)[0];if(ku.isDocked(n)){var g=pu(s);Br(i,"width",g+"px"),Br(s,d,r(i)+"px")}else Mo(i,"width"),Mo(s,d)})},$5=function(n,r){r?(la(n,Sa.fadeOutClass),_f(n,[Sa.transitionClass,Sa.fadeInClass])):(la(n,Sa.fadeInClass),_f(n,[Sa.fadeOutClass,Sa.transitionClass]))},ig=function(n,r){var i=st.fromDom(n.getContainer());r?($a(i,V5),la(i,uE)):($a(i,uE),la(i,V5))},j5=function(n,r){var i=vi(r);Ac(i).filter(function(s){return!zo(r,s)}).filter(function(s){return zo(s,st.fromDom(i.dom.body))||gu(n,s)}).each(function(){return Ul(r)})},F0=function(n,r){return Ps(n).orThunk(function(){return r().toOptional().bind(function(i){return Ps(i.element)})})},ek=function(n,r,i){n.inline||(r.header.isPositionedAtTop()||n.on("ResizeEditor",function(){i().each(ku.reset)}),n.on("ResizeWindow ResizeEditor",function(){i().each(cE)}),n.on("SkinLoaded",function(){i().each(function(s){ku.isDocked(s)?ku.reset(s):ku.refresh(s)})}),n.on("FullscreenStateChanged",function(){i().each(ku.reset)})),n.on("AfterScrollIntoView",function(s){i().each(function(d){ku.refresh(d);var g=d.element;iC(g)&&U5(s,g)})}),n.on("PostRender",function(){ig(n,!1)})},W5=function(n){return n().map(ku.isDocked).getOr(!1)},y7=function(){var n;return[Rc.config({channels:(n={},n[Kd()]={onReceive:cE},n)})]},q5=function(n,r){var i=Ui(),s=r.getSink,d=function(C){s().each(function(S){return C(S.element)})},g=function(C){n.inline||cE(C),ig(n,ku.isDocked(C)),C.getSystem().broadcastOn([Xg()],{}),s().each(function(S){return S.getSystem().broadcastOn([Xg()],{})})},v=n.inline?[]:y7();return fn([Nr.config({}),ku.config({contextual:J({lazyContext:function(C){var S=Cc(C.element),O=n.inline?n.getContentAreaContainer():n.getContainer(),A=na(st.fromDom(O)),z=A.height-S,$=A.y+(nk(C,"top")?0:S);return D.some(ba(A.x,$,A.width,z))},onShow:function(){d(function(C){return $5(C,!0)})},onShown:function(C){d(function(S){return Il(S,[Sa.transitionClass,Sa.fadeInClass])}),i.get().each(function(S){j5(C.element,S),i.clear()})},onHide:function(C){F0(C.element,s).fold(i.clear,i.set),d(function(S){return $5(S,!1)})},onHidden:function(){d(function(C){return Il(C,[Sa.transitionClass])})}},Sa),lazyViewport:function(C){var S=tu(),O=kA(n),A=S.y+(nk(C,"top")?O:0),z=S.height-(nk(C,"bottom")?O:0);return ba(S.x,A,S.width,z)},modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g})],v,!0)},x7=Object.freeze({__proto__:null,setup:ek,isDocked:W5,getBehaviours:q5}),w7=function(n){var r=n.editor,i=n.sticky?q5:N0;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:we(i(r,n.sharedBackstage))}},L0=dr([Lr("type"),ac("items",Pp([q0([Lr("name"),yu("items",Ki)]),Ki]))].concat($h)),C7=function(n){return Di("GroupToolbarButton",L0,n)},S7=[ii("text"),ii("tooltip"),ii("icon"),Mu("fetch"),ai("onSetup",function(){return At})],k7=dr(fn([Lr("type")],S7,!0)),G5=function(n){return Di("menubutton",k7,n)},T7=dr([Lr("type"),ii("tooltip"),ii("icon"),ii("text"),nd("select"),Mu("fetch"),ai("onSetup",function(){return At}),Gc("presets","normal",["normal","color","listpreview"]),Et("columns",1),Mu("onAction"),Mu("onItemAction")]),rk=function(n){return Di("SplitButton",T7,n)},O7=function(n,r){var i=function(d,g){var v=Zt(g,function(C){var S={type:"menubutton",text:C.text,fetch:function(A){A(C.getItems())}},O=G5(S).mapError(function(A){return td(A)}).getOrDie();return NO(O,"tox-mbtn",r.backstage,D.some("menuitem"))});Ur.set(d,v)},s={focus:kr.focusIn,setMenus:i};return{uid:n.uid,dom:n.dom,components:[],behaviours:we([Ur.config({}),Zr("menubar-events",[Si(function(d){n.onSetup(d)}),Un(Sf(),function(d,g){fa(d.element,".tox-mbtn--active").each(function(v){Au(g.event.target,".tox-mbtn").each(function(C){zo(v,C)||d.getSystem().getByDom(v).each(function(S){d.getSystem().getByDom(C).each(function(O){wl.expand(O),wl.close(S),Nr.focus(O)})})})})}),Un(Mv(),function(d,g){g.event.prevFocus.bind(function(v){return d.getSystem().getByDom(v).toOptional()}).each(function(v){g.event.newFocus.bind(function(C){return d.getSystem().getByDom(C).toOptional()}).each(function(C){wl.isOpen(v)&&(wl.expand(C),wl.close(v))})})})]),kr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return n.onEscape(d),D.some(!0)}}),oa.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},ok=Nc({factory:O7,name:"silver.Menubar",configFields:[Nn("dom"),Nn("uid"),Nn("onEscape"),Nn("backstage"),Et("onSetup",At)],apis:{focus:function(n,r){n.focus(r)},setMenus:function(n,r,i){n.setMenus(r,i)}}}),pv=function(n,r){return r.getAnimationRoot.fold(function(){return n.element},function(i){return i(n)})},ag=function(n){return n.dimension.property},ug=function(n,r){return n.dimension.getDimension(r)},I0=function(n,r){var i=pv(n,r);Il(i,[r.shrinkingClass,r.growingClass])},cg=function(n,r){la(n.element,r.openClass),$a(n.element,r.closedClass),Br(n.element,ag(r),"0px"),li(n.element)},K5=function(n,r){la(n.element,r.closedClass),$a(n.element,r.openClass),Mo(n.element,ag(r))},X5=function(n,r,i,s){i.setCollapsed(),Br(n.element,ag(r),ug(r,n.element)),li(n.element),I0(n,r),cg(n,r),r.onStartShrink(n),r.onShrunk(n)},sE=function(n,r,i,s){var d=s.getOrThunk(function(){return ug(r,n.element)});i.setCollapsed(),Br(n.element,ag(r),d),li(n.element);var g=pv(n,r);la(g,r.growingClass),$a(g,r.shrinkingClass),cg(n,r),r.onStartShrink(n)},J5=function(n,r,i){var s=ug(r,n.element),d=s==="0px"?X5:sE;d(n,r,i,D.some(s))},J2=function(n,r,i){var s=pv(n,r),d=Wu(s,r.shrinkingClass),g=ug(r,n.element);K5(n,r);var v=ug(r,n.element),C=function(){Br(n.element,ag(r),g),li(n.element)},S=function(){cg(n,r)},O=d?C:S;O(),la(s,r.shrinkingClass),$a(s,r.growingClass),K5(n,r),Br(n.element,ag(r),v),i.setExpanded(),r.onStartGrow(n)},Y5=function(n,r,i){if(i.isExpanded()){Mo(n.element,ag(r));var s=ug(r,n.element);Br(n.element,ag(r),s)}},E7=function(n,r,i){i.isExpanded()||J2(n,r,i)},_7=function(n,r,i){i.isExpanded()&&J5(n,r,i)},Y2=function(n,r,i){i.isExpanded()&&X5(n,r,i)},lE=function(n,r,i){return i.isExpanded()},D7=function(n,r,i){return i.isCollapsed()},Q5=function(n,r,i){var s=pv(n,r);return Wu(s,r.growingClass)===!0},fE=function(n,r,i){var s=pv(n,r);return Wu(s,r.shrinkingClass)===!0},M7=function(n,r,i){return Q5(n,r)||fE(n,r)},R7=function(n,r,i){var s=i.isExpanded()?J5:J2;s(n,r,i)},t=Object.freeze({__proto__:null,refresh:Y5,grow:E7,shrink:_7,immediateShrink:Y2,hasGrown:lE,hasShrunk:D7,isGrowing:Q5,isShrinking:fE,isTransitioning:M7,toggleGrow:R7,disableTransitions:I0}),e=function(n,r,i){var s=r.expanded;return sl(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:zl(r.dimension.property,"0px")})},o=function(n,r){return ui([Of(Og(),function(i,s){var d=s.event.raw;if(d.propertyName===n.dimension.property){I0(i,n),r.isExpanded()&&Mo(i.element,n.dimension.property);var g=r.isExpanded()?n.onGrown:n.onShrunk;g(i)}})])},a=Object.freeze({__proto__:null,exhibit:e,events:o}),c=[Nn("closedClass"),Nn("openClass"),Nn("shrinkingClass"),Nn("growingClass"),Ro("getAnimationRoot"),oo("onShrunk"),oo("onStartShrink"),oo("onGrown"),oo("onStartGrow"),Et("expanded",!1),ac("dimension",os("property",{width:[qo("property","width"),qo("getDimension",function(n){return pu(n)+"px"})],height:[qo("property","height"),qo("getDimension",function(n){return ua(n)+"px"})]}))],f=function(n){var r=wr(n.expanded),i=function(){return"expanded: "+r.get()};return Ua({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:tr(r.set,!1),setExpanded:tr(r.set,!0),readState:i})},p=Object.freeze({__proto__:null,init:f}),b=Ji({fields:c,name:"sliding",active:a,apis:t,state:p}),w="container",_=[Ma("slotBehaviours",[])],F=function(n){return"<alloy.field."+n+">"},I=function(n){var r=function(){var g=[],v=function(C,S){return g.push(C),xy(w,F(C),S)};return{slot:v,record:X(g)}}(),i=n(r),s=r.record(),d=Zt(s,function(g){return Ka({name:g,pname:F(g)})});return Oy(w,_,d,V,i)},V=function(n,r){var i=function(lt){return ky(n)},s=function(lt,Tt){return Go(lt,n,Tt)},d=function(lt,Tt){return function(ut,_t){return Go(ut,n,_t).map(function(gn){return lt(gn,_t)}).getOr(Tt)}},g=function(lt){return function(Tt,ut){Pt(ut,function(_t){return lt(Tt,_t)})}},v=function(lt,Tt){return yi(lt.element,"aria-hidden")!=="true"},C=function(lt,Tt){if(!v(lt)){var ut=lt.element;Mo(ut,"display"),La(ut,"aria-hidden"),Sr(lt,kf(),{name:Tt,visible:!0})}},S=function(lt,Tt){if(v(lt)){var ut=lt.element;Br(ut,"display","none"),Kr(ut,"aria-hidden","true"),Sr(lt,kf(),{name:Tt,visible:!1})}},O=d(v,!1),A=d(S),z=g(A),$=function(lt){return z(lt,i())},q=d(C),tt={getSlotNames:i,getSlot:s,isShowing:O,hideSlot:A,hideAllSlots:$,showSlot:q};return{uid:n.uid,dom:n.dom,components:r,behaviours:Pm(n.slotBehaviours),apis:tt}},Z=Qn({getSlotNames:function(n,r){return n.getSlotNames(r)},getSlot:function(n,r,i){return n.getSlot(r,i)},isShowing:function(n,r,i){return n.isShowing(r,i)},hideSlot:function(n,r,i){return n.hideSlot(r,i)},hideAllSlots:function(n,r){return n.hideAllSlots(r)},showSlot:function(n,r,i){return n.showSlot(r,i)}},function(n){return dm(n)}),Q=J(J({},Z),{sketch:I}),et=dr([ii("icon"),ii("tooltip"),ai("onShow",At),ai("onHide",At),ai("onSetup",function(){return At})]),it=function(n){return Di("sidebar",et,n)},gt=function(n){var r=n.ui.registry.getAll().sidebars;Pt(jt(r),function(i){var s=r[i],d=function(){return Er(D.from(n.queryCommandValue("ToggleSidebar")),i)};n.ui.registry.addToggleButton(i,{icon:s.icon,tooltip:s.tooltip,onAction:function(g){n.execCommand("ToggleSidebar",!1,i),g.setActive(d())},onSetup:function(g){var v=function(){return g.setActive(d())};return n.on("ToggleSidebar",v),function(){n.off("ToggleSidebar",v)}}})})},mt=function(n){return{element:function(){return n.element.dom}}},wt=function(n,r){var i=Zt(jt(r),function(s){var d=r[s],g=_s(it(d));return{name:s,getApi:mt,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return Zt(i,function(s){var d=wr(At);return n.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:YC.unnamedEvents([h2(s,d),v2(s,d),Un(kf(),function(g,v){var C=v.event,S=kn(i,function(O){return O.name===C.name});S.each(function(O){var A=C.visible?O.onShow:O.onHide;A(O.getApi(g))})})])})})},Ht=function(n){return Q.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:wt(r,n),slotBehaviours:YC.unnamedEvents([Si(function(i){return Q.hideAllSlots(i)})])}})},vt=function(n,r){var i=io.getCurrent(n);i.each(function(s){return Ur.set(s,[Ht(r)])})},Wt=function(n,r){var i=io.getCurrent(n);i.each(function(s){var d=io.getCurrent(s);d.each(function(g){b.hasGrown(s)?Q.isShowing(g,r)?b.shrink(s):(Q.hideAllSlots(g),Q.showSlot(g,r)):(Q.hideAllSlots(g),Q.showSlot(g,r),b.grow(s))})})},yn=function(n){var r=io.getCurrent(n);return r.bind(function(i){var s=b.isGrowing(i)||b.hasGrown(i);if(s){var d=io.getCurrent(i);return d.bind(function(g){return kn(Q.getSlotNames(g),function(v){return Q.isShowing(g,v)})})}else return D.none()})},ee=We("FixSizeEvent"),hr=We("AutoSizeEvent"),Le=function(n){return{uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:we([oa.config({}),Nr.config({}),b.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var i=io.getCurrent(r);i.each(Q.hideAllSlots),uo(r,hr)},onGrown:function(r){uo(r,hr)},onStartGrow:function(r){Sr(r,ee,{width:ta(r.element,"width").getOr("")})},onStartShrink:function(r){Sr(r,ee,{width:pu(r.element)+"px"})}}),Ur.config({}),io.config({find:function(r){var i=Ur.contents(r);return Xn(i)}})])}],behaviours:we([qf.childAt(0),Zr("sidebar-sliding-events",[Un(ee,function(r,i){Br(r.element,"width",i.event.width)}),Un(hr,function(r,i){Mo(r.element,"width")})])])}},Gn=function(n,r,i,s){Kr(n.element,"aria-busy",!0);var d=r.getRoot(n).getOr(n),g=we([kr.config({mode:"special",onTab:function(){return D.some(!0)},onShiftTab:function(){return D.some(!0)}}),Nr.config({})]),v=s(d,g),C=d.getSystem().build(v);Ur.append(d,Qc(C)),C.hasConfigured(kr)&&r.focus&&kr.focusIn(C),i.isBlocked()||r.onBlock(n),i.blockWith(function(){return Ur.remove(d,C)})},Ar=function(n,r,i){La(n.element,"aria-busy"),i.isBlocked()&&r.onUnblock(n),i.clear()},se=Object.freeze({__proto__:null,block:Gn,unblock:Ar}),Fe=[ai("getRoot",D.none),Qo("focus",!0),oo("onBlock"),oo("onUnblock")],ue=function(){var n=a1(),r=function(i){n.set({destroy:i})};return Ua({readState:n.isSet,blockWith:r,clear:n.clear,isBlocked:n.isSet})},Te=Object.freeze({__proto__:null,init:ue}),$e=Ji({fields:Fe,name:"blocking",apis:se,state:Te}),Zn=function(n){var r=n.dom.attributes!==void 0?n.dom.attributes:[];return jn(r,function(i,s){var d;return s.name==="class"?i:J(J({},i),(d={},d[s.name]=s.value,d))},{})},qe=function(n){return Array.prototype.slice.call(n.dom.classList,0)},Wr=function(n){var r=st.fromHtml(n),i=k(r),s=Zn(r),d=qe(r),g=i.length===0?{}:{innerHtml:cc(r)};return J({tag:dt(r),classes:d,attributes:s},g)},$o=function(n){return function(r,i){return{dom:{tag:"div",attributes:{"aria-label":n.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Wr('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},xo=function(n){return io.getCurrent(n).each(function(r){return Ul(r.element)})},da=function(n,r){var i="tabindex",s="data-mce-"+i;D.from(n.iframeElement).map(st.fromDom).each(function(d){r?(_i(d,i).each(function(g){return Kr(d,s,g)}),Kr(d,i,-1)):(La(d,i),_i(d,s).each(function(g){Kr(d,i,g),La(d,s)}))})},ka=function(n,r,i,s){var d=r.element;if(da(n,i),i)$e.block(r,$o(s)),Mo(d,"display"),La(d,"aria-hidden"),n.hasFocus()&&xo(r);else{var g=io.getCurrent(r).exists(function(v){return t1(v.element)});$e.unblock(r),Br(d,"display","none"),Kr(d,"aria-hidden","true"),g&&n.focus()}},ns=function(n){return{uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:we([Ur.config({}),$e.config({focus:!1}),io.config({find:function(r){return Xn(r.components())}})]),components:[]}},Cs=function(n){return n.type==="focusin"},Yn=function(n){if(Cs(n)){var r=n.composed?Xn(n.composedPath()):D.from(n.target);return r.map(st.fromDom).filter(P).exists(function(i){return Wu(i,"mce-pastebin")})}else return!1},an=function(n,r,i){var s=wr(!1),d=Ui(),g=function(C){s.get()&&!Yn(C)&&(C.preventDefault(),xo(r()),n.editorManager.setActive(n))};n.inline||n.on("PreInit",function(){n.dom.bind(n.getWin(),"focusin",g),n.on("BeforeExecCommand",function(C){C.command.toLowerCase()==="mcefocus"&&C.value!==!0&&g(C)})});var v=function(C){C!==s.get()&&(s.set(C),ka(n,r(),C,i.providers),n.fire("AfterProgressState",{state:C}))};n.on("ProgressState",function(C){if(d.on(Zm.clearTimeout),on(C.time)){var S=Zm.setEditorTimeout(n,function(){return v(C.state)},C.time);d.set(S)}else v(C.state),d.clear()})},re=function(n,r){var i={len:0,list:[]},s=jn(n,function(d,g){var v=r(g,d.len);return v.fold(X(d),function(C){return{len:C.finish,list:d.list.concat([C])}})},i);return s.list},cn=function(n,r,i){return{within:n,extra:r,withinWidth:i}},Qe=function(n,r,i){var s=re(n,function(C,S){var O=i(C);return D.some({element:C,start:S,finish:S+O,width:O})}),d=Dt(s,function(C){return C.finish<=r}),g=Qt(d,function(C,S){return C+S.width},0),v=s.slice(d.length);return{within:d,extra:v,withinWidth:g}},Se=function(n){return Zt(n,function(r){return r.element})},Dr=function(n,r,i){var s=Se(n.concat(r));return cn(s,[],i)},co=function(n,r,i,s){var d=Se(n).concat([i]);return cn(d,Se(r),s)},Ti=function(n,r,i){return cn(Se(n),[],i)},mc=function(n,r,i){var s=Qe(r,n,i);return s.extra.length===0?D.some(s):D.none()},Ic=function(n,r,i,s){var d=mc(n,r,i).getOrThunk(function(){return Qe(r,n-i(s),i)}),g=d.within,v=d.extra,C=d.withinWidth;return v.length===1&&v[0].width<=i(s)?Dr(g,v,C):v.length>=1?co(g,v,s,C):Ti(g,v,C)},kl=function(n,r){var i=Zt(r,function(s){return Qc(s)});Gf.setGroups(n,i)},gc=function(n){return zt(n,function(r){return Ps(r.element).bind(function(i){return r.getSystem().getByDom(i).toOptional()})})},pc=function(n,r,i){var s=r.builtGroups.get();if(s.length!==0){var d=Kl(n,r,"primary"),g=ia.getCoupled(n,"overflowGroup");Br(d.element,"visibility","hidden");var v=s.concat([g]),C=gc(v);i([]),kl(d,v);var S=pu(d.element),O=Ic(S,r.builtGroups.get(),function(A){return pu(A.element)},g);O.extra.length===0?(Ur.remove(d,g),i([])):(kl(d,O.within),i(O.extra)),Mo(d.element,"visibility"),li(d.element),C.each(Nr.focus)}},za=X([Ma("splitToolbarBehaviours",[ia]),Uu("builtGroups",function(){return wr([])})]),sg=X([ym(["overflowToggledClass"]),nd("getOverflowBounds"),Nn("lazySink"),Uu("overflowGroups",function(){return wr([])})].concat(za())),Tu=X([Ka({factory:Gf,schema:z0(),name:"primary"}),ts({schema:z0(),name:"overflow"}),ts({name:"overflow-button"}),ts({name:"overflow-group"})]),Tl=X(function(n,r){Za(n,Math.floor(r))}),Xd=X([ym(["toggledClass"]),Nn("lazySink"),Mu("fetch"),nd("getBounds"),Oc("fireDismissalEventInstead",[Et("event",As())]),Cd()]),Ni=X([ts({name:"button",overrides:function(n){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:we([ho.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),ts({factory:Gf,schema:z0(),name:"toolbar",overrides:function(n){return{toolbarBehaviours:we([kr.config({mode:"cyclic",onEscape:function(r){return Go(r,n,"button").each(Nr.focus),D.none()}})])}}})]),fi=function(n,r){var i=ia.getCoupled(n,"toolbarSandbox");go.isOpen(i)?go.close(i):go.open(i,r.toolbar())},Ta=function(n,r,i,s){var d=i.getBounds.map(function(v){return v()}),g=i.lazySink(n).getOrDie();Ku.positionWithinBounds(g,r,{anchor:{type:"hotspot",hotspot:n,layouts:s,overrides:{maxWidthFunction:Tl()}}},d)},of=function(n,r,i,s,d){Gf.setGroups(r,d),Ta(n,r,i,s),ho.on(n)},Jd=function(n,r,i){var s=Ex(),d=function(v,C){i.fetch().get(function(S){of(n,C,i,r.layouts,S),s.link(n.element),kr.focusIn(C)})},g=function(){ho.off(n),Nr.focus(n),s.unlink(n.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:we([kr.config({mode:"special",onEscape:function(v){return go.close(v),D.some(!0)}}),go.config({onOpen:d,onClose:g,isPartOf:function(v,C,S){return gm(C,S)||gm(n,S)},getAttachPoint:function(){return i.lazySink(n).getOrDie()}}),Rc.config({channels:J(J({},Ed(J({isExtraPart:xn},i.fireDismissalEventInstead.map(function(v){return{fireEventInstead:{event:v.event}}}).getOr({})))),sh({doReposition:function(){go.getState(ia.getCoupled(n,"toolbarSandbox")).each(function(v){Ta(n,v,i,r.layouts)})}}))})])}},af=function(n,r,i,s){return J(J({},Qu.sketch(J(J({},s.button()),{action:function(d){fi(d,s)},buttonBehaviours:gs.augment({dump:s.button().buttonBehaviours},[ia.config({others:{toolbarSandbox:function(d){return Jd(d,i,n)}}})])}))),{apis:{setGroups:function(d,g){go.getState(ia.getCoupled(d,"toolbarSandbox")).each(function(v){of(d,v,n,i.layouts,g)})},reposition:function(d){go.getState(ia.getCoupled(d,"toolbarSandbox")).each(function(g){Ta(d,g,n,i.layouts)})},toggle:function(d){fi(d,s)},getToolbar:function(d){return go.getState(ia.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return go.isOpen(ia.getCoupled(d,"toolbarSandbox"))}}})},Kf=Ju({name:"FloatingToolbarButton",factory:af,configFields:Xd(),partFields:Ni(),apis:{setGroups:function(n,r,i){n.setGroups(r,i)},reposition:function(n,r){n.reposition(r)},toggle:function(n,r){n.toggle(r)},getToolbar:function(n,r){return n.getToolbar(r)},isOpen:function(n,r){return n.isOpen(r)}}}),Q2=X([Nn("items"),ym(["itemSelector"]),Ma("tgroupBehaviours",[kr])]),A7=X([vl({name:"items",unit:"item"})]),Z5=function(n,r,i,s){return{uid:n.uid,dom:n.dom,components:r,behaviours:Ra(n.tgroupBehaviours,[kr.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},Z2=Ju({name:"ToolbarGroup",configFields:Q2(),partFields:A7(),factory:Z5}),tR=function(n){return Zt(n,function(r){return Qc(r)})},dE=function(n,r,i){pc(n,i,function(s){i.overflowGroups.set(s),r.getOpt(n).each(function(d){Kf.setGroups(d,tR(s))})})},B7=function(n,r,i,s){var d=Po(Kf.sketch({fetch:function(){return Su.nu(function(g){g(tR(n.overflowGroups.get()))})},layouts:{onLtr:function(){return[xa,wu]},onRtl:function(){return[wu,xa]},onBottomLtr:function(){return[Wa,Bu]},onBottomRtl:function(){return[Bu,Wa]}},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:n.uid,dom:n.dom,components:r,behaviours:Ra(n.splitToolbarBehaviours,[ia.config({others:{overflowGroup:function(){return Z2.sketch(J(J({},s["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(g,v){n.builtGroups.set(Zt(v,g.getSystem().build)),dE(g,d,n)},refresh:function(g){return dE(g,d,n)},toggle:function(g){d.getOpt(g).each(function(v){Kf.toggle(v)})},isOpen:function(g){return d.getOpt(g).map(Kf.isOpen).getOr(!1)},reposition:function(g){d.getOpt(g).each(function(v){Kf.reposition(v)})},getOverflow:function(g){return d.getOpt(g).bind(Kf.getToolbar)}},domModification:{attributes:{role:"group"}}}},nR=Ju({name:"SplitFloatingToolbar",configFields:sg(),partFields:Tu(),factory:B7,apis:{setGroups:function(n,r,i){n.setGroups(r,i)},refresh:function(n,r){n.refresh(r)},reposition:function(n,r){n.reposition(r)},toggle:function(n,r){n.toggle(r)},isOpen:function(n,r){return n.isOpen(r)},getOverflow:function(n,r){return n.getOverflow(r)}}}),z7=X([ym(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),oo("onOpened"),oo("onClosed")].concat(za())),N7=X([Ka({factory:Gf,schema:z0(),name:"primary"}),Ka({factory:Gf,schema:z0(),name:"overflow",overrides:function(n){return{toolbarBehaviours:we([b.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:function(r){Go(r,n,"overflow-button").each(function(i){ho.off(i),Nr.focus(i)}),n.onClosed(r)},onGrown:function(r){kr.focusIn(r),n.onOpened(r)},onStartGrow:function(r){Go(r,n,"overflow-button").each(ho.on)}}),kr.config({mode:"acyclic",onEscape:function(r){return Go(r,n,"overflow-button").each(Nr.focus),D.some(!0)}})])}}}),ts({name:"overflow-button",overrides:function(n){return{buttonBehaviours:we([ho.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),ts({name:"overflow-group"})]),hv=function(n,r){return Go(n,r,"overflow").map(b.hasGrown).getOr(!1)},mE=function(n,r){Go(n,r,"overflow-button").bind(function(){return Go(n,r,"overflow")}).each(function(i){Ct(n,r),b.toggleGrow(i)})},Ct=function(n,r){Go(n,r,"overflow").each(function(i){pc(n,r,function(s){var d=Zt(s,function(g){return Qc(g)});Gf.setGroups(i,d)}),Go(n,r,"overflow-button").each(function(s){b.hasGrown(i)&&ho.on(s)}),b.refresh(i)})},ln=function(n,r,i,s){var d="alloy.toolbar.toggle",g=function(v,C){var S=Zt(C,v.getSystem().build);n.builtGroups.set(S)};return{uid:n.uid,dom:n.dom,components:r,behaviours:Ra(n.splitToolbarBehaviours,[ia.config({others:{overflowGroup:function(v){return Z2.sketch(J(J({},s["overflow-group"]()),{items:[Qu.sketch(J(J({},s["overflow-button"]()),{action:function(C){uo(v,d)}}))]}))}}}),Zr("toolbar-toggle-events",[Un(d,function(v){mE(v,n)})])]),apis:{setGroups:function(v,C){g(v,C),Ct(v,n)},refresh:function(v){return Ct(v,n)},toggle:function(v){return mE(v,n)},isOpen:function(v){return hv(v,n)}},domModification:{attributes:{role:"group"}}}},ge=Ju({name:"SplitSlidingToolbar",configFields:z7(),partFields:N7(),factory:ln,apis:{setGroups:function(n,r,i){n.setGroups(r,i)},refresh:function(n,r){n.refresh(r)},toggle:function(n,r){n.toggle(r)},isOpen:function(n,r){return n.isOpen(r)}}}),ke=function(n){var r=n.title.fold(function(){return{}},function(i){return{attributes:{title:i}}});return{dom:J({tag:"div",classes:["tox-toolbar__group"]},r),components:[Z2.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:we([oa.config({}),Nr.config({})])}},Xr=function(n){return Z2.sketch(ke(n))},Fo=function(n,r){var i=Si(function(s){var d=Zt(n.initGroups,Xr);Gf.setGroups(s,d)});return we([Ws.toolbarButton(n.providers.isDisabled),Ba(),kr.config({mode:r,onEscape:n.onEscape,selector:".tox-toolbar__group"}),Zr("toolbar-events",[i])])},Oi=function(n){var r=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":ke({title:D.none(),items:[]}),"overflow-button":LM({name:"more",icon:D.some("more-drawer"),disabled:!1,tooltip:D.some("More..."),primary:!1,borderless:!1},D.none(),n.providers)},splitToolbarBehaviours:Fo(n,r)}},_p=function(n){var r=Oi(n),i=4,s=nR.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return nR.sketch(J(J({},r),{lazySink:n.getSink,getOverflowBounds:function(){var d=n.moreDrawerData.lazyHeader().element,g=Rl(d),v=hn(d),C=Rl(v),S=Math.max(v.dom.scrollHeight,C.height);return ba(g.x+i,C.y,g.width-i*2,S)},parts:J(J({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},wL=function(n){var r=ge.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=ge.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=Oi(n);return ge.sketch(J(J({},s),{components:[r,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([Kd()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([Kd()],{type:"closed"})}}))},eR=function(n){var r=n.cyclicKeying?"cyclic":"acyclic";return Gf.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===js.scrolling?["tox-toolbar--scrolling"]:[])},components:[Gf.parts.groups({})],toolbarBehaviours:Fo(n,r)})},CL=function(n,r,i){var s={getSocket:function(d){return dc.getPart(d,n,"socket")},setSidebar:function(d,g){dc.getPart(d,n,"sidebar").each(function(v){return vt(v,g)})},toggleSidebar:function(d,g){dc.getPart(d,n,"sidebar").each(function(v){return Wt(v,g)})},whichSidebar:function(d){return dc.getPart(d,n,"sidebar").bind(yn).getOrNull()},getHeader:function(d){return dc.getPart(d,n,"header")},getToolbar:function(d){return dc.getPart(d,n,"toolbar")},setToolbar:function(d,g){dc.getPart(d,n,"toolbar").each(function(v){v.getApis().setGroups(v,g)})},setToolbars:function(d,g){dc.getPart(d,n,"multiple-toolbar").each(function(v){eE.setItems(v,g)})},refreshToolbar:function(d){var g=dc.getPart(d,n,"toolbar");g.each(function(v){return v.getApis().refresh(v)})},toggleToolbarDrawer:function(d){dc.getPart(d,n,"toolbar").each(function(g){oi(g.getApis().toggle,function(v){return v(g)})})},isToolbarDrawerToggled:function(d){return dc.getPart(d,n,"toolbar").bind(function(g){return D.from(g.getApis().isOpen).map(function(v){return v(g)})}).getOr(!1)},getThrobber:function(d){return dc.getPart(d,n,"throbber")},focusToolbar:function(d){var g=dc.getPart(d,n,"toolbar").orThunk(function(){return dc.getPart(d,n,"multiple-toolbar")});g.each(function(v){kr.focusIn(v)})},setMenubar:function(d,g){dc.getPart(d,n,"menubar").each(function(v){ok.setMenus(v,g)})},focusMenubar:function(d){dc.getPart(d,n,"menubar").each(function(g){ok.focus(g)})}};return{uid:n.uid,dom:n.dom,components:r,apis:s,behaviours:n.behaviours}},SL=qd.optional({factory:ok,name:"menubar",schema:[Nn("backstage")]}),kL=function(n){return n.type===js.sliding?wL:n.type===js.floating?_p:eR},TL=qd.optional({factory:{sketch:function(n){return eE.sketch({uid:n.uid,dom:n.dom,listBehaviours:we([kr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return eR({type:n.type,uid:We("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:function(){return n.onEscape(),D.some(!0)}})},setupItem:function(r,i,s,d){Gf.setGroups(i,s)},shell:!0})}},name:"multiple-toolbar",schema:[Nn("dom"),Nn("onEscape")]}),OL=qd.optional({factory:{sketch:function(n){var r=kL(n),i={type:n.type,uid:n.uid,onEscape:function(){return n.onEscape(),D.some(!0)},cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return r(i)}},name:"toolbar",schema:[Nn("dom"),Nn("onEscape"),Nn("getSink")]}),EL=qd.optional({factory:{sketch:w7},name:"header",schema:[Nn("dom")]}),_L=qd.optional({name:"socket",schema:[Nn("dom")]}),DL=qd.optional({factory:{sketch:Le},name:"sidebar",schema:[Nn("dom")]}),ML=qd.optional({factory:{sketch:ns},name:"throbber",schema:[Nn("dom")]}),ma=Ju({name:"OuterContainer",factory:CL,configFields:[Nn("dom"),Nn("behaviours")],partFields:[EL,SL,OL,TL,_L,DL,ML],apis:{getSocket:function(n,r){return n.getSocket(r)},setSidebar:function(n,r,i){n.setSidebar(r,i)},toggleSidebar:function(n,r,i){n.toggleSidebar(r,i)},whichSidebar:function(n,r){return n.whichSidebar(r)},getHeader:function(n,r){return n.getHeader(r)},getToolbar:function(n,r){return n.getToolbar(r)},setToolbar:function(n,r,i){var s=Zt(i,function(d){return Xr(d)});n.setToolbar(r,s)},setToolbars:function(n,r,i){var s=Zt(i,function(d){return Zt(d,Xr)});n.setToolbars(r,s)},refreshToolbar:function(n,r){return n.refreshToolbar(r)},toggleToolbarDrawer:function(n,r){n.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(n,r){return n.isToolbarDrawerToggled(r)},getThrobber:function(n,r){return n.getThrobber(r)},setMenubar:function(n,r,i){n.setMenubar(r,i)},focusMenubar:function(n,r){n.focusMenubar(r)},focusToolbar:function(n,r){n.focusToolbar(r)}}}),RL="file edit view insert format tools table help",OP={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},AL=function(n,r,i){var s=yA(i).split(/[ ,]/);return{text:n.title,getItems:function(){return sn(n.items,function(d){var g=d.toLowerCase();return g.trim().length===0?[]:ie(s,function(v){return v===g})?[]:g==="separator"||g==="|"?[{type:"separator"}]:r.menuItems[g]?[r.menuItems[g]]:[]})}}},P7=function(n){return typeof n=="string"?n.split(" "):n},EP=function(n,r){var i=J(J({},OP),r.menus),s=jt(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?P7(RL):P7(r.menubar===!1?"":r.menubar),g=Dt(d,function(C){var S=Hn(OP,C);return s?S||tn(r.menus,C).exists(function(O){return Hn(O,"items")}):S}),v=Zt(g,function(C){var S=i[C];return AL({title:S.title,items:P7(S.items)},r,n)});return Dt(v,function(C){var S=function(O){return O.type!=="separator"};return C.getItems().length>0&&ie(C.getItems(),S)})},_P=function(n){var r=function(){n._skinLoaded=!0,YA(n)};return function(){n.initialized?r():n.on("init",r)}},BL=function(n,r){return function(){return QA(n,{message:r})}},DP=function(n,r,i){return new s2(function(s,d){i.load(r,s,d),n.on("remove",function(){return i.unload(r)})})},zL=function(n,r){var i=r+"/skin.min.css";return DP(n,i,n.ui.styleSheetLoader)},NL=function(n,r){var i=Xe(st.fromDom(n.getElement()));if(i){var s=r+"/skin.shadowdom.min.css";return DP(n,s,d2.DOM.styleSheetLoader)}else return s2.resolve()},MP=function(n,r){var i=cT(r);i&&r.contentCSS.push(i+(n?"/content.inline":"/content")+".min.css"),d_(r)===!1&&Ce(i)?s2.all([zL(r,i),NL(r,i)]).then(_P(r),BL(r,"Skin could not be loaded")):_P(r)()},PL=tr(MP,!1),FL=tr(MP,!0),rR=function(n,r){return function(i){var s=km(),d=function(){i.setActive(n.formatter.match(r));var g=n.formatter.formatChanged(r,i.setActive);s.set(g)};return n.initialized?d():n.once("init",d),function(){n.off("init",d),s.clear()}}},oR=function(n,r,i){return function(s){var d=function(){return i(s)},g=function(){i(s),n.on(r,d)};return n.initialized?g():n.once("init",g),function(){n.off("init",g),n.off(r,d)}}},RP=function(n){return function(r){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("mceToggleFormat",!1,r.format)})}}},Xf=function(n,r){return function(){return n.execCommand(r)}},LL=function(n,r,i){var s=function(C,S,O,A){var z=r.shared.providers.translate(C.title);if(C.type==="separator")return D.some({type:"separator",text:z});if(C.type==="submenu"){var $=sn(C.getStyleItems(),function(q){return d(q,S,A)});return S===0&&$.length<=0?D.none():D.some({type:"nestedmenuitem",text:z,disabled:$.length<=0,getSubmenuItems:function(){return sn(C.getStyleItems(),function(q){return d(q,S,A)})}})}else return D.some(J({type:"togglemenuitem",text:z,icon:C.icon,active:C.isSelected(A),disabled:O,onAction:i.onAction(C)},C.getStylePreview().fold(function(){return{}},function(q){return{meta:{style:q}}})))},d=function(C,S,O){var A=C.type==="formatter"&&i.isInvalid(C);return S===0?A?[]:s(C,S,!1,O).toArray():s(C,S,A,O).toArray()},g=function(C){var S=i.getCurrentValue(),O=i.shouldHide?0:1;return sn(C,function(A){return d(A,O,S)})},v=function(C,S){return function(O,A){var z=S(),$=g(z),q=R0($,Uf.CLOSE_ON_EXECUTE,C,!1);A(q)}};return{validateItems:g,getFetch:v}},ik=function(n,r,i){var s=i.dataset,d=s.type==="basic"?function(){return Zt(s.data,function(g){return v5(g,i.isSelectedFor,i.getPreviewFor)})}:s.getData;return{items:LL(n,r,i),getStyleItems:d}},gE=function(n,r,i){var s=ik(n,r,i),d=s.items,g=s.getStyleItems,v=function(S){return{getComponent:X(S)}},C=oR(n,"NodeChange",function(S){var O=S.getComponent();i.updateText(O)});return AO({text:i.icon.isSome()?D.none():i.text,icon:i.icon,tooltip:D.from(i.tooltip),role:D.none(),fetch:d.getFetch(r,g),onSetup:C,getApi:v,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},IL=function(n){return Zt(n,function(r){var i=r,s=r,d=r.split("=");return d.length>1&&(i=d[0],s=d[1]),{title:i,format:s}})},HL=function(n){return{type:"basic",data:n}},ak;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(ak||(ak={}));var VL=function(n,r){return r===ak.SemiColon?n.replace(/;$/,"").split(";"):n.split(" ")},F7=function(n,r,i,s){var d=n.getParam(r,i,"string"),g=IL(VL(d,s));return{type:"basic",data:g}},L7=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],AP=function(n){var r=function(){return kn(L7,function(C){return n.formatter.match(C.format)})},i=function(C){return function(){return n.formatter.match(C)}},s=function(C){return D.none},d=function(C){var S=r(),O=S.fold(X("left"),function(A){return A.title.toLowerCase()});Sr(C,RO,{icon:"align-"+O})},g=HL(L7),v=function(C){return function(){return kn(L7,function(S){return S.format===C.format}).each(function(S){return n.execCommand(S.command)})}};return{tooltip:"Align",text:D.none(),icon:D.some("align-left"),isSelectedFor:i,getCurrentValue:D.none,getPreviewFor:s,onAction:v,updateText:d,dataset:g,shouldHide:!1,isInvalid:function(C){return!n.formatter.canApply(C.format)}}},UL=function(n,r){return gE(n,r,AP(n))},$L=function(n,r){var i=ik(n,r,AP(n));n.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},jL="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",WL=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],BP=function(n){var r=n.split(/\s*,\s*/);return Zt(r,function(i){return i.replace(/^['"]+|['"]+$/g,"")})},qL=function(n){var r=function(){var i=BP(n.toLowerCase());return le(WL,function(s){return i.indexOf(s.toLowerCase())>-1})};return n.indexOf("-apple-system")===0&&r()},zP=function(n){var r="System Font",i=function(){var O=function(tt){return tt?BP(tt)[0]:""},A=n.queryCommandValue("FontName"),z=S.data,$=A?A.toLowerCase():"",q=kn(z,function(tt){var lt=tt.format;return lt.toLowerCase()===$||O(lt).toLowerCase()===O($).toLowerCase()}).orThunk(function(){return Wo(qL($),{title:r,format:$})});return{matchOpt:q,font:A}},s=function(O){return function(A){return A.exists(function(z){return z.format===O})}},d=function(){var O=i().matchOpt;return O},g=function(O){return function(){return D.some({tag:"div",styles:O.indexOf("dings")===-1?{"font-family":O}:{}})}},v=function(O){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontName",!1,O.format)})}},C=function(O){var A=i(),z=A.matchOpt,$=A.font,q=z.fold(X($),function(tt){return tt.title});Sr(O,uv,{text:q})},S=F7(n,"font_formats",jL,ak.SemiColon);return{tooltip:"Fonts",text:D.some(r),icon:D.none(),isSelectedFor:s,getCurrentValue:d,getPreviewFor:g,onAction:v,updateText:C,dataset:S,shouldHide:!1,isInvalid:xn}},GL=function(n,r){return gE(n,r,zP(n))},KL=function(n,r){var i=ik(n,r,zP(n));n.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},XL="8pt 10pt 12pt 14pt 18pt 24pt 36pt",JL={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},YL={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},QL=function(n,r){var i=Math.pow(10,r);return Math.round(n*i)/i},ZL=function(n,r){return/[0-9.]+px$/.test(n)?QL(parseInt(n,10)*72/96,r||0)+"pt":tn(YL,n).getOr(n)},tI=function(n){return tn(JL,n).getOr("")},NP=function(n){var r=function(){var S=D.none(),O=C.data,A=n.queryCommandValue("FontSize");if(A)for(var z=function(q){var tt=ZL(A,q),lt=tI(tt);S=kn(O,function(Tt){return Tt.format===A||Tt.format===tt||Tt.format===lt})},$=3;S.isNone()&&$>=0;$--)z($);return{matchOpt:S,size:A}},i=function(S){return function(O){return O.exists(function(A){return A.format===S})}},s=function(){var S=r().matchOpt;return S},d=X(D.none),g=function(S){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontSize",!1,S.format)})}},v=function(S){var O=r(),A=O.matchOpt,z=O.size,$=A.fold(X(z),function(q){return q.title});Sr(S,uv,{text:$})},C=F7(n,"fontsize_formats",XL,ak.Space);return{tooltip:"Font sizes",text:D.some("12pt"),icon:D.none(),isSelectedFor:i,getPreviewFor:d,getCurrentValue:s,onAction:g,updateText:v,dataset:C,shouldHide:!1,isInvalid:xn}},nI=function(n,r){return gE(n,r,NP(n))},eI=function(n,r){var i=ik(n,r,NP(n));n.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},PP=function(n,r){var i=r(),s=Zt(i,function(d){return d.format});return D.from(n.formatter.closest(s)).bind(function(d){return kn(i,function(g){return g.format===d})}).orThunk(function(){return Wo(n.formatter.match("p"),{title:"Paragraph",format:"p"})})},rI="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",FP=function(n){var r="Paragraph",i=function(v){return function(){return n.formatter.match(v)}},s=function(v){return function(){var C=n.formatter.get(v);return D.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(v))})}},d=function(v){var C=PP(n,function(){return g.data}),S=C.fold(X(r),function(O){return O.title});Sr(v,uv,{text:S})},g=F7(n,"block_formats",rI,ak.SemiColon);return{tooltip:"Blocks",text:D.some(r),icon:D.none(),isSelectedFor:i,getCurrentValue:D.none,getPreviewFor:s,onAction:RP(n),updateText:d,dataset:g,shouldHide:!1,isInvalid:function(v){return!n.formatter.canApply(v.format)}}},oI=function(n,r){return gE(n,r,FP(n))},iI=function(n,r){var i=ik(n,r,FP(n));n.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},LP=function(n,r){var i="Paragraph",s=function(v){return function(){return n.formatter.match(v)}},d=function(v){return function(){var C=n.formatter.get(v);return C!==void 0?D.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(v))}):D.none()}},g=function(v){var C=function(z){var $=z.items;return $!==void 0&&$.length>0?sn($,C):[{title:z.title,format:z.format}]},S=sn(h5(n),C),O=PP(n,X(S)),A=O.fold(X(i),function(z){return z.title});Sr(v,uv,{text:A})};return{tooltip:"Formats",text:D.some(i),icon:D.none(),isSelectedFor:s,getCurrentValue:D.none,getPreviewFor:d,onAction:RP(n),updateText:g,shouldHide:n.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(v){return!n.formatter.canApply(v.format)},dataset:r}},aI=function(n,r){var i=J({type:"advanced"},r.styleselect);return gE(n,r,LP(n,i))},uI=function(n,r){var i=J({type:"advanced"},r.styleselect),s=ik(n,r,LP(n,i));n.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},cI=function(n,r){var i=function(s,d){n.updateState.each(function(g){var v=g(s,d);r.set(v)}),n.renderComponents.each(function(g){var v=g(d,r.get()),C=Zt(v,s.getSystem().build);hw(s,C)})};return ui([Un(as(),function(s,d){var g=d;if(!g.universal){var v=n.channel;Pn(g.channels,v)&&i(s,g.data)}}),Si(function(s,d){n.initialData.each(function(g){i(s,g)})})])},sI=Object.freeze({__proto__:null,events:cI}),lI=function(n,r,i){return i},fI=Object.freeze({__proto__:null,getState:lI}),dI=[Nn("channel"),Ro("renderComponents"),Ro("updateState"),Ro("initialData")],mI=function(){var n=wr(D.none()),r=function(){return n.set(D.none())},i=function(){return n.get().getOr("none")};return{readState:i,get:n.get,set:n.set,clear:r}},gI=Object.freeze({__proto__:null,init:mI}),Ol=Ji({fields:dI,name:"reflecting",active:sI,apis:fI,state:gI}),pI=X([Nn("toggleClass"),Nn("fetch"),xm("onExecute"),Et("getHotspot",D.some),Et("getAnchorOverrides",X({})),Cd(),xm("onItemExecute"),Ro("lazySink"),Nn("dom"),oo("onOpen"),Ma("splitDropdownBehaviours",[ia,kr,Nr]),Et("matchWidth",!1),Et("useMinWidth",!1),Et("eventOrder",{}),Ro("role")].concat(XT())),hI=Ka({factory:Qu,schema:[Nn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:we([Nr.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(n.uid).each(Tf)},buttonBehaviours:we([ho.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])}}}),vI=Ka({factory:Qu,schema:[Nn("dom")],name:"button",defaults:function(){return{buttonBehaviours:we([Nr.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(n.uid).each(function(i){n.onExecute(i,r)})}}}}),bI=X([hI,vI,Hs({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[Nn("text")],name:"aria-descriptor"}),ts({schema:[bm()],name:"menu",defaults:function(n){return{onExecute:function(r,i){r.getSystem().getByUid(n.uid).each(function(s){n.onItemExecute(s,r,i)})}}}}),WT()]),yI=function(n,r,i,s){var d,g=function(z){io.getCurrent(z).each(function($){Ao.highlightFirst($),kr.focusIn($)})},v=function(z){var $=g;C0(n,Yt,z,s,$,Zl.HighlightFirst).get(At)},C=function(z){return v(z),D.some(!0)},S=function(z){var $=Kl(z,n,"button");return Tf($),D.some(!0)},O=J(J({},ui([Si(function(z,$){var q=Go(z,n,"aria-descriptor");q.each(function(tt){var lt=We("aria");Kr(tt.element,"id",lt),Kr(z.element,"aria-describedby",lt)})})])),Fh(D.some(v))),A={repositionMenus:function(z){ho.isOn(z)&&eg(z)}};return{uid:n.uid,dom:n.dom,components:r,apis:A,eventOrder:J(J({},n.eventOrder),(d={},d[Xc()]=["disabling","toggling","alloy.base.behaviour"],d)),events:O,behaviours:Ra(n.splitDropdownBehaviours,[ia.config({others:{sandbox:function(z){var $=Kl(z,n,"arrow"),q={onOpen:function(){ho.on($),ho.on(z)},onClose:function(){ho.off($),ho.off(z)}};return KT(n,z,q)}}}),kr.config({mode:"special",onSpace:S,onEnter:S,onDown:C}),Nr.config({}),ho.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},iR=Ju({name:"SplitDropdown",configFields:pI(),partFields:bI(),factory:yI,apis:{repositionMenus:function(n,r){return n.repositionMenus(r)}}}),xI=function(n){return{isDisabled:function(){return pr.isDisabled(n)},setDisabled:function(r){return pr.set(n,r)}}},wI=function(n){return{setActive:function(r){ho.set(n,r)},isActive:function(){return ho.isOn(n)},isDisabled:function(){return pr.isDisabled(n)},setDisabled:function(r){return pr.set(n,r)}}},IP=function(n,r){return n.map(function(i){return{"aria-label":r.translate(i),title:r.translate(i)}}).getOr({})},HP=We("focus-button"),I7=function(n,r,i,s,d,g){var v;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:IP(i,g)},components:Kh([n.map(function(C){return US(C,g.icons)}),r.map(function(C){return EO(C,"tox-tbtn",g)})]),eventOrder:(v={},v[Rs()]=["focusing","alloy.base.behaviour","common-button-display-events"],v),buttonBehaviours:we([Ws.toolbarButton(g.isDisabled),Ba(),Zr("common-button-display-events",[Un(Rs(),function(C,S){S.event.prevent(),uo(C,HP)})])].concat(s.map(function(C){return Ol.config({channel:C,initialData:{icon:n,text:r},renderComponents:function(S,O){return Kh([S.icon.map(function(A){return US(A,g.icons)}),S.text.map(function(A){return EO(A,"tox-tbtn",g)})])}})}).toArray()).concat(d.getOr([])))}},CI=function(n,r,i,s){var d=r.shared;return Kf.sketch({lazySink:d.getSink,fetch:function(){return Su.nu(function(g){g(Zt(i(n.items),Xr))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:I7(n.icon,n.text,n.tooltip,D.none(),D.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},VP=function(n,r,i){var s=wr(At),d=I7(n.icon,n.text,n.tooltip,D.none(),D.none(),i);return Qu.sketch({dom:d.dom,components:d.components,eventOrder:MO,buttonBehaviours:we([Zr("toolbar-button-events",[r6({onAction:n.onAction,getApi:r.getApi}),h2(r,s),v2(r,s)]),Ws.toolbarButton(function(){return n.disabled||i.isDisabled()}),Ba()].concat(r.toolbarButtonBehaviours))})},SI=function(n,r){return UP(n,r,[])},UP=function(n,r,i){return VP(n,{toolbarButtonBehaviours:[].concat(i.length>0?[Zr("toolbarButtonWith",i)]:[]),getApi:xI,onSetup:n.onSetup},r)},kI=function(n,r){return $P(n,r,[])},$P=function(n,r,i){return On(VP(n,{toolbarButtonBehaviours:[Ur.config({}),ho.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[Zr("toolbarToggleButtonWith",i)]:[]),getApi:wI,onSetup:n.onSetup},r))},TI=function(n,r,i){return function(s){return Su.nu(function(d){return r.fetch(d)}).map(function(d){return D.from(uD(On(aS(We("menu-value"),d,function(g){r.onItemAction(n(s),g)},r.columns,r.presets,Uf.CLOSE_ON_EXECUTE,r.select.getOr(xn),i),{movement:C2(r.columns,r.presets),menuBehaviours:YC.unnamedEvents(r.columns!=="auto"?[]:[Si(function(g,v){aT(g,4,WE(r.presets)).each(function(C){var S=C.numRows,O=C.numColumns;kr.setGridSize(g,S,O)})})])})))})}},OI=function(n,r){var i,s=We("channel-update-split-dropdown-display"),d=function(C){return{isDisabled:function(){return pr.isDisabled(C)},setDisabled:function(S){return pr.set(C,S)},setIconFill:function(S,O){fa(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(A){Kr(A,"fill",O)})},setIconStroke:function(S,O){fa(C.element,'svg path[id="'+S+'"], rect[id="'+S+'"]').each(function(A){Kr(A,"stroke",O)})},setActive:function(S){Kr(C.element,"aria-pressed",S),fa(C.element,"span").each(function(O){C.getSystem().getByDom(O).each(function(A){return ho.set(A,S)})})},isActive:function(){return fa(C.element,"span").exists(function(S){return C.getSystem().getByDom(S).exists(ho.isOn)})}}},g=wr(At),v={getApi:d,onSetup:n.onSetup};return iR.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:J({"aria-pressed":!1},IP(n.tooltip,r.providers))},onExecute:function(C){n.onAction(d(C))},onItemExecute:function(C,S,O){},splitDropdownBehaviours:we([Ws.splitButton(r.providers.isDisabled),Ba(),Zr("split-dropdown-events",[Un(HP,Nr.focus),h2(v,g),v2(v,g)]),M2.config({})]),eventOrder:(i={},i[Ec()]=["alloy.base.behaviour","split-dropdown-events"],i),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:TI(d,n,r.providers),parts:{menu:qC(!1,n.columns,n.presets)},components:[iR.parts.button(I7(n.icon,n.text,D.none(),D.some(s),D.some([ho.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),iR.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:OE("chevron-down",r.providers.icons)},buttonBehaviours:we([Ws.splitButton(r.providers.isDisabled),Ba(),R3()])}),iR.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},EI=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],pE=function(n,r){return function(i,s,d){var g=n(i).mapError(function(v){return td(v)}).getOrDie();return r(g,s,d)}},uk={button:pE(jC,function(n,r){return SI(n,r.backstage.shared.providers)}),togglebutton:pE(NE,function(n,r){return kI(n,r.backstage.shared.providers)}),menubutton:pE(G5,function(n,r){return NO(n,"tox-tbtn",r.backstage,D.none())}),splitbutton:pE(rk,function(n,r){return OI(n,r.backstage.shared)}),grouptoolbarbutton:pE(C7,function(n,r,i){var s,d=i.ui.registry.getAll().buttons,g=function(C){return aR(i,{buttons:d,toolbar:C,allowToolbarGroups:!1},r,D.none())},v=(s={},s[p1]=r.backstage.shared.header.isPositionedAtTop()?Af.TopToBottom:Af.BottomToTop,s);switch(m2(i)){case js.floating:return CI(n,r.backstage,g,v);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(n,r){return aI(n,r.backstage)},fontsizeSelectButton:function(n,r){return nI(n,r.backstage)},fontSelectButton:function(n,r){return GL(n,r.backstage)},formatButton:function(n,r){return oI(n,r.backstage)},alignMenuButton:function(n,r){return UL(n,r.backstage)}},_I=function(n,r,i){return tn(uk,n.type).fold(function(){return console.error("skipping button defined by",n),D.none()},function(s){return D.some(s(n,r,i))})},jP={styleselect:uk.styleSelectButton,fontsizeselect:uk.fontsizeSelectButton,fontselect:uk.fontSelectButton,formatselect:uk.formatButton,align:uk.alignMenuButton},DI=function(n){var r=Zt(EI,function(i){var s=Dt(i.items,function(d){return Hn(n,d)||Hn(jP,d)});return{name:i.name,items:s}});return Dt(r,function(i){return i.items.length>0})},MI=function(n){var r=n.split("|");return Zt(r,function(i){return{items:i.trim().split(" ")}})},RI=function(n){return It(n,function(r){return Hn(r,"name")&&Hn(r,"items")})},AI=function(n){var r=n.toolbar,i=n.buttons;return r===!1?[]:r===void 0||r===!0?DI(i):Ce(r)?MI(r):RI(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},BI=function(n,r,i,s,d,g){return tn(r,i.toLowerCase()).orThunk(function(){return g.bind(function(v){return zt(v,function(C){return tn(r,C+i.toLowerCase())})})}).fold(function(){return tn(jP,i.toLowerCase()).map(function(v){return v(n,d)}).orThunk(function(){return D.none()})},function(v){return v.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+i+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),D.none()):_I(v,d,n)})},aR=function(n,r,i,s){var d=AI(r),g=Zt(d,function(v){var C=sn(v.items,function(S){return S.trim().length===0?[]:BI(n,r.buttons,S,r.allowToolbarGroups,i,s).toArray()});return{title:D.from(n.translate(v.name)),items:C}});return Dt(g,function(v){return v.items.length>0})},WP=function(n,r,i,s){var d=r.outerContainer,g=i.toolbar,v=i.buttons;if(It(g,Ce)){var C=g.map(function(S){var O={toolbar:S,buttons:v,allowToolbarGroups:i.allowToolbarGroups};return aR(n,O,{backstage:s},D.none())});ma.setToolbars(d,C)}else ma.setToolbar(d,aR(n,i,{backstage:s},D.none()))},qP=mr(),zI=qP.os.isiOS()&&qP.os.version.major<=12,NI=function(n,r){var i=n.dom,s=n.getWin(),d=n.getDoc().documentElement,g=wr(Jo(s.innerWidth,s.innerHeight)),v=wr(Jo(d.offsetWidth,d.offsetHeight)),C=function(){var $=g.get();($.left!==s.innerWidth||$.top!==s.innerHeight)&&(g.set(Jo(s.innerWidth,s.innerHeight)),_T(n))},S=function(){var $=n.getDoc().documentElement,q=v.get();(q.left!==$.offsetWidth||q.top!==$.offsetHeight)&&(v.set(Jo($.offsetWidth,$.offsetHeight)),_T(n))},O=function($){return ZA(n,$)};i.bind(s,"resize",C),i.bind(s,"scroll",O);var A=c1(st.fromDom(n.getBody()),"load",S),z=r.uiMothership.element;n.on("hide",function(){Br(z,"display","none")}),n.on("show",function(){Mo(z,"display")}),n.on("NodeChange",S),n.on("remove",function(){A.unbind(),i.unbind(s,"resize",C),i.unbind(s,"scroll",O),s=null})},PI=function(n,r,i,s,d){var g=wr(0),v=r.outerContainer;PL(n);var C=st.fromDom(d.targetNode),S=be(gr(C));Xu(C,r.mothership),ds(S,r.uiMothership),n.on("PostRender",function(){WP(n,r,i,s),g.set(n.getWin().innerWidth),ma.setMenubar(v,EP(n,i)),ma.setSidebar(v,i.sidebar),NI(n,r)});var O=ma.getSocket(v).getOrDie("Could not find expected socket element");if(zI){wc(O.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var A=DR(function(){n.fire("ScrollContent")},20),z=Yi(O.element,"scroll",A.throttle);n.on("remove",z.unbind)}k_(n,r),n.addCommand("ToggleSidebar",function(lt,Tt){ma.toggleSidebar(v,Tt),n.fire("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",function(){return ma.whichSidebar(v)});var $=m2(n),q=function(){ma.refreshToolbar(r.outerContainer)};($===js.sliding||$===js.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",function(){var lt=n.getWin().innerWidth;lt!==g.get()&&(q(),g.set(lt))});var tt={enable:function(){p0(r,!1)},disable:function(){p0(r,!0)},isDisabled:function(){return pr.isDisabled(v)}};return{iframeContainer:O.element.dom,editorContainer:v.element.dom,api:tt}},FI=Object.freeze({__proto__:null,render:PI}),H7=function(n){var r=/^[0-9\.]+(|px)$/i;return r.test(""+n)?D.some(parseInt(""+n,10)):D.none()},V7=function(n){return on(n)?n+"px":n},uR=function(n,r,i){var s=r.filter(function(g){return n<g}),d=i.filter(function(g){return n>g});return s.or(d).getOr(n)},LI=function(n){var r=m_(n),i=p_(n),s=dT(n);return H7(r).map(function(d){return uR(d,i,s)})},II=function(n){var r=LI(n);return r.getOr(m_(n))},GP=function(n){var r=lT(n),i=g_(n),s=fT(n);return H7(r).map(function(d){return uR(d,i,s)})},HI=function(n){var r=GP(n);return r.getOr(lT(n))},VI=function(n,r,i,s,d){var g=i.uiMothership,v=i.outerContainer,C=d2.DOM,S=ZC(n),O=tS(n),A=fT(n).or(GP(n)),z=s.shared.header,$=z.isPositionedAtTop,q=m2(n),tt=q===js.sliding||q===js.floating,lt=wr(!1),Tt=function(){return lt.get()&&!n.removed},ut=function(Kn){return tt?Kn.fold(X(0),function(Rn){return Rn.components().length>1?ua(Rn.components()[1].element):0}):0},_t=function(Kn){switch(pT(n)){case Gh.auto:var Rn=ma.getToolbar(v),Oe=ut(Rn),or=ua(Kn.element)-Oe,$n=na(r),Je=$n.y>or;if(Je)return"top";var lr=hn(r),bo=Math.max(lr.dom.scrollHeight,ua(lr)),jo=$n.bottom<bo-or;if(jo)return"bottom";var Pi=tu(),Jf=Pi.bottom<$n.bottom-or;return Jf?"bottom":"top";case Gh.bottom:return"bottom";case Gh.top:default:return"top"}},gn=function(Kn){var Rn=d.get();ku.setModes(Rn,[Kn]),z.setDockingMode(Kn);var Oe=$()?Af.TopToBottom:Af.BottomToTop;Kr(Rn.element,p1,Oe)},wn=function(){var Kn=A.getOrThunk(function(){var Rn=H7(Ai(No(),"margin-left")).getOr(0);return pu(No())-Iu(r).left+Rn});Br(d.get().element,"max-width",Kn+"px")},kt=function(){var Kn=ma.getToolbar(v),Rn=ut(Kn),Oe=na(r),or=$()?Math.max(Oe.y-ua(d.get().element)+Rn,0):Oe.bottom;wc(v.element,{position:"absolute",top:Math.round(or)+"px",left:Math.round(Oe.x)+"px"})},rn=function(){g.broadcastOn([Xg()],{})},Bn=function(Kn){if(Kn===void 0&&(Kn=!1),!!Tt()){if(S||wn(),tt&&ma.refreshToolbar(v),S||kt(),O){var Rn=d.get();Kn?ku.reset(Rn):ku.refresh(Rn)}rn()}},Re=function(Kn){if(Kn===void 0&&(Kn=!0),!(S||!O||!Tt())){var Rn=z.getDockingMode(),Oe=_t(d.get());Oe!==Rn&&(gn(Oe),Kn&&Bn(!0))}},Vn=function(){lt.set(!0),Br(v.element,"display","flex"),C.addClass(n.getBody(),"mce-edit-focus"),Mo(g.element,"display"),Re(!1),Bn()},ze=function(){lt.set(!1),i.outerContainer&&(Br(v.element,"display","none"),C.removeClass(n.getBody(),"mce-edit-focus")),Br(g.element,"display","none")};return{isVisible:Tt,isPositionedAtTop:$,show:Vn,hide:ze,update:Bn,updateMode:Re,repositionPopups:rn}},KP=function(n,r){var i=na(n);return{pos:r?i.y:i.bottom,bounds:i}},UI=function(n,r,i,s){var d=wr(KP(r,i.isPositionedAtTop())),g=function(C){var S=KP(r,i.isPositionedAtTop()),O=S.pos,A=S.bounds,z=d.get(),$=z.pos,q=z.bounds,tt=A.height!==q.height||A.width!==q.width;d.set({pos:O,bounds:A}),tt&&_T(n,C),i.isVisible()&&($!==O?i.update(!0):tt&&(i.updateMode(),i.repositionPopups()))};s||(n.on("activate",i.show),n.on("deactivate",i.hide)),n.on("SkinLoaded ResizeWindow",function(){return i.update(!0)}),n.on("NodeChange keydown",function(C){Zm.requestAnimationFrame(function(){return g(C)})}),n.on("ScrollWindow",function(){return i.updateMode()});var v=km();v.set(c1(st.fromDom(n.getBody()),"load",g)),n.on("remove",function(){v.clear()})},$I=function(n,r,i,s,d){var g=r.mothership,v=r.uiMothership,C=r.outerContainer,S=wr(null),O=st.fromDom(d.targetNode),A=VI(n,O,r,s,S),z=SA(n);FL(n);var $=function(){if(S.get()){A.show();return}S.set(ma.getHeader(C).getOrDie());var lt=g2(n);ds(lt,g),ds(lt,v),WP(n,r,i,s),ma.setMenubar(C,EP(n,i)),A.show(),UI(n,O,A,z),n.nodeChanged()},q=function(){return Zm.setEditorTimeout(n,$,0)};n.on("show",$),n.on("hide",A.hide),z||(n.on("focus",q),n.on("blur",A.hide)),n.on("init",function(){(n.hasFocus()||z)&&q()}),k_(n,r);var tt={show:function(){A.show()},hide:function(){A.hide()},enable:function(){p0(r,!1)},disable:function(){p0(r,!0)},isDisabled:function(){return pr.isDisabled(C)}};return{editorContainer:C.element.dom,api:tt}},jI=Object.freeze({__proto__:null,render:$I}),WI="contexttoolbar-show",XP="contexttoolbar-hide",qI=function(n){return{hide:function(){return uo(n,Up())},getValue:function(){return _e.getValue(n)}}},JP=function(n,r){return Un(DO,function(i,s){var d=n.get(i),g=qI(d);r.onAction(g,s.event.buttonApi)})},GI=function(n,r,i){var s=r.original;s.primary;var d=H(s,["primary"]),g=_s(jC(J(J({},d),{type:"button",onAction:At})));return UP(g,i.backstage.shared.providers,[JP(n,r)])},KI=function(n,r,i){var s=r.original;s.primary;var d=H(s,["primary"]),g=_s(NE(J(J({},d),{type:"togglebutton",onAction:At})));return $P(g,i.backstage.shared.providers,[JP(n,r)])},XI=function(n,r,i){var s={backstage:{shared:{providers:i}}};return r.type==="contextformtogglebutton"?KI(n,r,s):GI(n,r,s)},JI=function(n,r,i){var s=Zt(r,function(v){return Po(XI(n,v,i))}),d=function(){return Zt(s,function(v){return v.asSpec()})},g=function(v){return zt(r,function(C,S){return C.primary?D.from(s[S]).bind(function(O){return O.getOpt(v)}).filter(Me(pr.isDisabled)):D.none()})};return{asSpecs:d,findPrimary:g}},YP=function(n,r){var i=n.label.fold(function(){return{}},function(g){return{"aria-label":g}}),s=Po(D2.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:we([kr.config({mode:"special",onEnter:function(g){return d.findPrimary(g).map(function(v){return Tf(v),!0})},onLeft:function(g,v){return v.cut(),D.none()},onRight:function(g,v){return v.cut(),D.none()}})])})),d=JI(s,n.commands,r);return[{title:D.none(),items:[s.asSpec()]},{title:D.none(),items:d.asSpecs()}]},YI=function(n,r,i){return eR({type:n,uid:We("context-toolbar"),initGroups:YP(r,i),onEscape:D.none,cyclicKeying:!0,providers:i})},QI={renderContextForm:YI,buildInitGroups:YP},QP=function(n,r,i){return i===void 0&&(i=.01),r.bottom-n.y>=i&&n.bottom-r.y>=i},ZI=function(n){var r=n.getBoundingClientRect();if(r.height<=0&&r.width<=0){var i=rt(st.fromDom(n.startContainer),n.startOffset).element,s=Y(i)?bi(i):D.some(i);return s.filter(P).map(function(d){return d.dom.getBoundingClientRect()}).getOr(r)}else return r},U7=function(n){var r=n.selection.getRng(),i=ZI(r);if(n.inline){var s=Sc();return ba(s.left+i.left,s.top+i.top,i.width,i.height)}else{var d=Rl(st.fromDom(n.getBody()));return ba(d.x+i.left,d.y+i.top,i.width,i.height)}},tH=function(n,r){return r.filter(Cr).map(Rl).getOrThunk(function(){return U7(n)})},nH=function(n,r,i){var s=Math.max(n.x+i,r.x),d=Math.min(n.right-i,r.right);return{x:s,width:d-s}},eH=function(n,r,i,s,d,g){var v=st.fromDom(n.getContainer()),C=fa(v,".tox-editor-header").getOr(v),S=na(C),O=S.y>=r.bottom,A=s&&!O;if(n.inline&&A)return{y:Math.max(S.bottom+g,i.y),bottom:i.bottom};if(n.inline&&!A)return{y:i.y,bottom:Math.min(S.y-g,i.bottom)};var z=d==="line"?na(v):r;return A?{y:Math.max(S.bottom+g,i.y),bottom:Math.min(z.bottom-g,i.bottom)}:{y:Math.max(z.y+g,i.y),bottom:Math.min(S.y-g,i.bottom)}},ZP=function(n,r,i,s){s===void 0&&(s=0);var d=hf(window),g=na(st.fromDom(n.getContentAreaContainer())),v=mT(n)||gT(n)||QC(n),C=nH(g,d,s),S=C.x,O=C.width;if(n.inline&&!v)return ba(S,d.y,O,d.height);var A=r.header.isPositionedAtTop(),z=eH(n,g,d,A,i,s),$=z.y,q=z.bottom;return ba(S,$,O,q-$)},cR=12,tF={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},nF={maxHeightFunction:$g(),maxWidthFunction:Tl()},rH=function(n,r){var i=n.selection.getRng(),s=rt(st.fromDom(i.startContainer),i.startOffset);return i.startContainer===i.endContainer&&i.startOffset===i.endOffset-1&&zo(s.element,r)},oH=function(n,r,i){var s=ta(n,"position");Br(n,"position",r);var d=i(n);return s.each(function(g){return Br(n,"position",g)}),d},eF=function(n){return n==="node"},iH=function(n,r,i,s,d){var g=U7(n),v=s.lastElement().exists(function(O){return zo(i,O)});if(rH(n,i))return v?CE:Us;if(v)return oH(r,s.getMode(),function(){var O=QP(g,na(r));return O&&!s.isReposition()?SR:CE});var C=s.getMode()==="fixed"?d.y+Sc().top:d.y,S=ua(r)+cR;return C+S<=g.y?Us:Qm},aH=function(n,r,i,s){var d=function(S){return function(O,A,z,$,q){var tt=iH(n,$,S,i,q),lt=J(J({},O),{y:q.y,height:q.height});return J(J({},tt(lt,A,z,$,q)),{alwaysFit:!0})}},g=function(S){return eF(s)?[d(S)]:[]},v={onLtr:function(S){return[fc,iu,Bu,wu,Wa,xa].concat(g(S))},onRtl:function(S){return[fc,iu,Wa,xa,Bu,wu].concat(g(S))}},C={onLtr:function(S){return[iu,wu,xa,Bu,Wa,fc].concat(g(S))},onRtl:function(S){return[iu,xa,wu,Wa,Bu,fc].concat(g(S))}};return r?C:v},uH=function(n,r,i,s){return r==="line"?{bubble:wd(cR,0,tF),layouts:{onLtr:function(){return[Kv]},onRtl:function(){return[hd]}},overrides:nF}:{bubble:wd(0,cR,tF,1/cR),layouts:aH(n,i,s,r),overrides:nF}},$7=function(n,r){var i=Dt(r,function(v){return v.predicate(n.dom)}),s=Ot(i,function(v){return v.type==="contexttoolbar"}),d=s.pass,g=s.fail;return{contextToolbars:d,contextForms:g}},cH=function(n){if(n.length<=1)return n;var r=function(C){return ie(n,function(S){return S.position===C})},i=function(C){return Dt(n,function(S){return S.position===C})},s=r("selection"),d=r("node");if(s||d)if(d&&s){var g=i("node"),v=Zt(i("selection"),function(C){return J(J({},C),{position:"node"})});return g.concat(v)}else return i(s?"selection":"node");else return i("line")},sH=function(n){if(n.length<=1)return n;var r=function(s){return kn(n,function(d){return d.position===s})},i=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return i.fold(function(){return[]},function(s){return Dt(n,function(d){return d.position===s})})},lH=function(n,r,i){var s=$7(n,r);if(s.contextForms.length>0)return D.some({elem:n,toolbars:[s.contextForms[0]]});var d=$7(n,i);if(d.contextForms.length>0)return D.some({elem:n,toolbars:[d.contextForms[0]]});if(s.contextToolbars.length>0||d.contextToolbars.length>0){var g=cH(s.contextToolbars.concat(d.contextToolbars));return D.some({elem:n,toolbars:g})}else return D.none()},fH=function(n,r,i){return n(r)?D.none():Vp(r,function(s){if(P(s)){var d=$7(s,i.inNodeScope),g=d.contextToolbars,v=d.contextForms,C=v.length>0?v:sH(g);return C.length>0?D.some({elem:s,toolbars:C}):D.none()}else return D.none()},n)},dH=function(n,r){var i=st.fromDom(r.getBody()),s=function(v){return zo(v,i)},d=function(v){return!s(v)&&!gu(i,v)},g=st.fromDom(r.selection.getNode());return d(g)?D.none():lH(g,n.inNodeScope,n.inEditorScope).orThunk(function(){return fH(s,g,n)})},mH=function(n,r){var i={},s=[],d=[],g={},v={},C=function(A,z){var $=_s($3(z));i[A]=$,$.launch.map(function(q){g["form:"+A]=J(J({},z.launch),{type:q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r($)}})}),$.scope==="editor"?d.push($):s.push($),v[A]=$},S=function(A,z){IE(z).each(function($){z.scope==="editor"?d.push($):s.push($),v[A]=$})},O=jt(n);return Pt(O,function(A){var z=n[A];z.type==="contextform"?C(A,z):z.type==="contexttoolbar"&&S(A,z)}),{forms:i,inNodeScope:s,inEditorScope:d,lookupTable:v,formNavigators:g}},rF=We("forward-slide"),oF=We("backward-slide"),j7=We("change-slide-event"),W7="tox-pop--resizing",gH=function(n){var r=wr([]);return Ho.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(i){r.set([]),Ho.getContent(i).each(function(s){Mo(s.element,"visibility")}),la(i.element,W7),Mo(i.element,"width")},inlineBehaviours:we([Zr("context-toolbar-events",[Of(Og(),function(i,s){s.event.raw.propertyName==="width"&&(la(i.element,W7),Mo(i.element,"width"))}),Un(j7,function(i,s){var d=i.element;Mo(d,"width");var g=pu(d);Ho.setContent(i,s.event.contents),$a(d,W7);var v=pu(d);Br(d,"width",g+"px"),Ho.getContent(i).each(function(C){s.event.focus.bind(function(S){return Ul(S),Ps(d)}).orThunk(function(){return kr.focusIn(C),Ac(gr(d))})}),Zm.setTimeout(function(){Br(i.element,"width",v+"px")},0)}),Un(rF,function(i,s){Ho.getContent(i).each(function(d){r.set(r.get().concat([{bar:d,focus:Ac(gr(i.element))}]))}),Sr(i,j7,{contents:s.event.forwardContents,focus:D.none()})}),Un(oF,function(i,s){Jn(r.get()).each(function(d){r.set(r.get().slice(0,r.get().length-1)),Sr(i,j7,{contents:Qc(d.bar),focus:d.focus})})})]),kr.config({mode:"special",onEscape:function(i){return Jn(r.get()).fold(function(){return n.onEscape()},function(s){return uo(i,oF),D.some(!0)})}})]),lazySink:function(){return Yr.value(n.sink)}})},q7="tox-pop--transition",pH=function(n,r,i,s){var d=s.backstage,g=d.shared,v=mr().deviceType.isTouch,C=Ui(),S=Ui(),O=Ui(),A=ra(gH({sink:i,onEscape:function(){return n.focus(),D.some(!0)}})),z=function(){var Vn=O.get().getOr("node"),ze=eF(Vn)?1:0;return ZP(n,g,Vn,ze)},$=function(){return!n.removed&&!(v()&&d.isContextMenuOpen())},q=function(Vn){return Er(Bo(Vn,C.get(),zo),!0)},tt=function(){if($()){var Vn=z(),ze=Er(O.get(),"node")?tH(n,C.get()):U7(n);return Vn.height<=0||!QP(ze,Vn)}else return!0},lt=function(){C.clear(),S.clear(),O.clear(),Ho.hide(A)},Tt=function(){if(Ho.isOpen(A)){var Vn=A.element;Mo(Vn,"display"),tt()?Br(Vn,"display","none"):(S.set(0),Ho.reposition(A))}},ut=function(Vn){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Vn],behaviours:we([kr.config({mode:"acyclic"}),Zr("pop-dialog-wrap-events",[Si(function(ze){n.shortcuts.add("ctrl+F9","focus statusbar",function(){return kr.focusIn(ze)})}),_c(function(ze){n.shortcuts.remove("ctrl+F9")})])])}},_t=Ut(function(){return mH(r,function(Vn){var ze=kt([Vn]);Sr(A,rF,{forwardContents:ut(ze)})})}),gn=function(Vn,ze){return aR(n,{buttons:Vn,toolbar:ze.items,allowToolbarGroups:!1},s,D.some(["form:"]))},wn=function(Vn,ze){return QI.buildInitGroups(Vn,ze)},kt=function(Vn){var ze=n.ui.registry.getAll().buttons,Kn=_t(),Rn=J(J({},ze),Kn.formNavigators),Oe=m2(n)===js.scrolling?js.scrolling:js.default,or=pt(Zt(Vn,function($n){return $n.type==="contexttoolbar"?gn(Rn,$n):wn($n,g.providers)}));return eR({type:Oe,uid:We("context-toolbar"),initGroups:or,onEscape:D.none,cyclicKeying:!0,providers:g.providers})},rn=function(Vn,ze){var Kn=Vn==="node"?g.anchors.node(ze):g.anchors.cursor(),Rn=uH(n,Vn,v(),{lastElement:C.get,isReposition:function(){return Er(S.get(),0)},getMode:function(){return Ku.getMode(i)}});return On(Kn,Rn)},Bn=function(Vn,ze){if(Re.cancel(),!!$()){var Kn=kt(Vn),Rn=Vn[0].position,Oe=rn(Rn,ze);O.set(Rn),S.set(1);var or=A.element;Mo(or,"display"),q(ze)||(la(or,q7),Ku.reset(i,A)),Ho.showWithinBounds(A,ut(Kn),{anchor:Oe,transition:{classes:[q7],mode:"placement"}},function(){return D.some(z())}),ze.fold(C.clear,C.set),tt()&&Br(or,"display","none")}},Re=z3(function(){if(!(!n.hasFocus()||n.removed))if(Wu(A.element,q7))Re.throttle();else{var Vn=_t();dH(Vn,n).fold(lt,function(ze){Bn(ze.toolbars,D.some(ze.elem))})}},17);n.on("init",function(){n.on("remove",lt),n.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Tt),n.on("click keyup focus SetContent",Re.throttle),n.on(XP,lt),n.on(WI,function(Vn){var ze=_t();tn(ze.lookupTable,Vn.toolbarKey).each(function(Kn){Bn([Kn],Wo(Vn.target!==n,Vn.target)),Ho.getContent(A).each(kr.focusIn)})}),n.on("focusout",function(Vn){Zm.setEditorTimeout(n,function(){Ps(i.element).isNone()&&Ps(A.element).isNone()&&lt()},0)}),n.on("SwitchMode",function(){n.mode.isReadOnly()&&lt()}),n.on("AfterProgressState",function(Vn){Vn.state?lt():n.hasFocus()&&Re.throttle()}),n.on("NodeChange",function(Vn){Ps(A.element).fold(Re.throttle,At)})})},hH=function(n){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Pt(r,function(i){n.ui.registry.addToggleButton(i.name,{tooltip:i.text,icon:i.icon,onAction:Xf(n,i.cmd),onSetup:rR(n,i.name)})}),n.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Xf(n,"JustifyNone")})},vH={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},bH=function(){var n="[0-9]+",r="[+-]?"+n,i="[eE]"+r,s="\\.",d=function(C){return"(?:"+C+")?"},g=["Infinity",n+s+d(n)+d(i),s+n+d(i),n+d(i)].join("|"),v="[+-]?(?:"+g+")";return new RegExp("^("+v+")(.*)$")}(),yH=function(n,r){return ie(r,function(i){return ie(vH[i],function(s){return n===s})})},xH=function(n,r){var i=D.from(bH.exec(n));return i.bind(function(s){var d=Number(s[1]),g=s[2];return yH(g,r)?D.some({value:d,unit:g}):D.none()})},wH=function(n,r){return xH(n,r).map(function(i){var s=i.value,d=i.unit;return s+d})},iF=function(n,r){var i=function(){var s=r.getOptions(n),d=r.getCurrent(n).map(r.hash),g=Ui();return Zt(s,function(v){return{type:"togglemenuitem",text:r.display(v),onSetup:function(C){var S=function(A){A&&(g.on(function(z){return z.setActive(!1)}),g.set(C)),C.setActive(A)};S(Er(d,r.hash(v)));var O=r.watcher(n,v,S);return function(){g.clear(),O()}},onAction:function(){return r.setCurrent(n,v)}}})};n.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(s){return s(i())},onSetup:r.onToolbarSetup}),n.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:i,onSetup:r.onMenuSetup})},CH={name:"lineheight",text:"Line height",icon:"line-height",getOptions:vA,hash:function(n){return wH(n,["fixed","relative","empty"]).getOr(n)},display:Yt,watcher:function(n,r,i){return n.formatter.formatChanged("lineheight",i,!1,{value:r}).unbind},getCurrent:function(n){return D.from(n.queryCommandValue("LineHeight"))},setCurrent:function(n,r){return n.execCommand("LineHeight",!1,r)}},SH=function(n){var r=D.from(bA(n));return r.map(function(i){return{name:"language",text:"Language",icon:"language",getOptions:X(i),hash:function(s){return Or(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,d,g){return s.formatter.formatChanged("lang",g,!1,{value:d.code,customValue:d.customCode}).unbind},getCurrent:function(s){var d=st.fromDom(s.selection.getNode());return Cg(d,function(g){return D.some(g).filter(P).bind(function(v){var C=_i(v,"lang");return C.map(function(S){var O=_i(v,"data-mce-lang").getOrUndefined();return{code:S,customCode:O,title:""}})})})},setCurrent:function(s,d){return s.execCommand("Lang",!1,d)},onToolbarSetup:function(s){var d=km();return s.setActive(n.formatter.match("lang",{},void 0,!0)),d.set(n.formatter.formatChanged("lang",s.setActive,!0)),d.clear}}})},kH=function(n){iF(n,CH),SH(n).each(function(r){return iF(n,r)})},TH=function(n,r){$L(n,r),KL(n,r),uI(n,r),iI(n,r),eI(n,r)},OH=function(n){return oR(n,"NodeChange",function(r){r.setDisabled(!n.queryCommandState("outdent"))})},EH=function(n){n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:OH(n),onAction:Xf(n,"outdent")}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Xf(n,"indent")})},_H=function(n){EH(n)},G7=function(n,r){return function(){n.execCommand("mceToggleFormat",!1,r)}},DH=function(n){Wd.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,d){n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:rR(n,s.name),onAction:G7(n,s.name)})});for(var r=1;r<=6;r++){var i="h"+r;n.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+r,onSetup:rR(n,i),onAction:G7(n,i)})}},MH=function(n){Wd.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){n.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:Xf(n,r.action)})})},RH=function(n){Wd.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){n.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:Xf(n,r.action),onSetup:rR(n,r.name)})})},AH=function(n){DH(n),MH(n),RH(n)},BH=function(n){Wd.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){n.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:Xf(n,r.action)})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:G7(n,"code")})},zH=function(n){AH(n),BH(n)},sR=function(n,r){return oR(n,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(i){i.setDisabled(n.mode.isReadOnly()||!n.undoManager[r]())})},NH=function(n){n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:sR(n,"hasUndo"),onAction:Xf(n,"undo")}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:sR(n,"hasRedo"),onAction:Xf(n,"redo")})},PH=function(n){n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:sR(n,"hasUndo"),onAction:Xf(n,"undo")}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:sR(n,"hasRedo"),onAction:Xf(n,"redo")})},FH=function(n){NH(n),PH(n)},LH=function(n){return oR(n,"VisualAid",function(r){r.setActive(n.hasVisual)})},IH=function(n){n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:LH(n),onAction:Xf(n,"mceToggleVisualAid")})},HH=function(n){n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Xf(n,"mceToggleVisualAid")})},VH=function(n){HH(n),IH(n)},UH=function(n,r){hH(n),zH(n),TH(n,r),FH(n),sB(n),VH(n),_H(n),kH(n)},hE=function(n,r){return{type:"makeshift",x:n,y:r}},$H=function(n,r,i){return hE(n.x+r,n.y+i)},aF=function(n){return n.type==="longpress"||n.type.indexOf("touch")===0},jH=function(n){if(aF(n)){var r=n.touches[0];return hE(r.pageX,r.pageY)}else return hE(n.pageX,n.pageY)},WH=function(n){if(aF(n)){var r=n.touches[0];return hE(r.clientX,r.clientY)}else return hE(n.clientX,n.clientY)},qH=function(n,r){var i=d2.DOM.getPos(n);return $H(r,i.x,i.y)},GH=function(n,r){return r.type==="contextmenu"||r.type==="longpress"?n.inline?jH(r):qH(n.getContentAreaContainer(),WH(r)):uF(n)},uF=function(n){return{type:"selection",root:st.fromDom(n.selection.getNode())}},KH=function(n){return{type:"node",node:D.some(st.fromDom(n.selection.getNode())),root:st.fromDom(n.getBody())}},cF=function(n,r,i){switch(i){case"node":return KH(n);case"point":return GH(n,r);case"selection":return uF(n)}},XH=function(n,r,i,s,d,g){var v=i(),C=cF(n,r,g);R0(v,Uf.CLOSE_ON_EXECUTE,s,!1).map(function(S){r.preventDefault(),Ho.showMenuAt(d,{anchor:C},{menu:{markers:tg("normal")},data:S})})},JH={onLtr:function(){return[iu,wu,xa,Bu,Wa,fc,Us,Qm,Ym,vp,Vh,Hh]},onRtl:function(){return[iu,xa,wu,Wa,Bu,fc,Us,Qm,Vh,Hh,Ym,vp]}},YH=12,QH={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},ZH=function(n,r){var i=n.selection;if(i.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],d=i.getRng(),g=ty(n.getWin(),qg.domRange(d));return g.exists(function(v){return v.left<=s.clientX&&v.right>=s.clientX&&v.top<=s.clientY&&v.bottom>=s.clientY})},t9=function(n){var r=n.selection.getRng(),i=function(){Zm.setEditorTimeout(n,function(){n.selection.setRng(r)},10),g()};n.once("touchend",i);var s=function(v){v.preventDefault(),v.stopImmediatePropagation()};n.on("mousedown",s,!0);var d=function(){return g()};n.once("longpresscancel",d);var g=function(){n.off("touchend",i),n.off("longpresscancel",d),n.off("mousedown",s)}},n9=function(n,r,i){var s=cF(n,r,i),d=i==="point"?YH:0;return J({bubble:wd(0,d,QH),layouts:JH,overrides:{maxWidthFunction:Tl(),maxHeightFunction:$g()}},s)},e9=function(n,r,i,s,d,g,v){var C=n9(n,r,g);R0(i,Uf.CLOSE_ON_EXECUTE,s,!0).map(function(S){r.preventDefault(),Ho.showMenuWithinBounds(d,{anchor:C},{menu:{markers:tg("normal"),highlightImmediately:v},data:S,type:"horizontal"},function(){return D.some(ZP(n,s.shared,g==="node"?"node":"selection"))}),n.fire(XP)})},r9=function(n,r,i,s,d,g){var v=mr(),C=v.os.isiOS(),S=v.os.isOSX(),O=v.os.isAndroid(),A=v.deviceType.isTouch(),z=function(){return!(O||C||S&&A)},$=function(){var tt=i();e9(n,r,tt,s,d,g,z())};if((S||C)&&g!=="node"){var q=function(){t9(n),$()};ZH(n,r)?q():(n.once("selectionchange",q),n.once("touchend",function(){return n.off("selectionchange",q)}))}else $()},sF=function(n){return typeof n=="string"?n.split(/[ ,]/):n},lF=function(n){return n.getParam("contextmenu_never_use_native",!1,"boolean")},o9=function(n,r,i){var s=n.ui.registry.getAll().contextMenus;return D.from(n.getParam(r)).map(sF).getOrThunk(function(){return Dt(sF(i),function(d){return Hn(s,d)})})},i9=function(n){return n.getParam("contextmenu")===!1},a9=function(n){return o9(n,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},u9=function(n){return n.getParam("contextmenu_avoid_overlap","","string")},fF=function(n){return Ce(n)?n==="|":n.type==="separator"},K7={type:"separator"},dF=function(n){var r=function(i){return{text:i.text,icon:i.icon,disabled:i.disabled,shortcut:i.shortcut}};if(Ce(n))return n;switch(n.type){case"separator":return K7;case"submenu":return J(J({type:"nestedmenuitem"},r(n)),{getSubmenuItems:function(){var i=n.getSubmenuItems();return Ce(i)?i:Zt(i,dF)}});default:return J(J({type:"menuitem"},r(n)),{onAction:Sn(n.onAction)})}},mF=function(n,r){if(r.length===0)return n;var i=Jn(n).filter(function(d){return!fF(d)}),s=i.fold(function(){return[]},function(d){return[K7]});return n.concat(s).concat(r).concat([K7])},c9=function(n,r,i){var s=jn(r,function(d,g){return tn(n,g.toLowerCase()).map(function(v){var C=v.update(i);if(Ce(C))return mF(d,C.split(" "));if(C.length>0){var S=Zt(C,dF);return mF(d,S)}else return d}).getOrThunk(function(){return d.concat([g])})},[]);return s.length>0&&fF(s[s.length-1])&&s.pop(),s},s9=function(n,r){return r.ctrlKey&&!lF(n)},gF=function(n,r){return r.type!=="longpress"&&(r.button!==2||r.target===n.getBody()&&r.pointerType==="")},pF=function(n,r){return gF(n,r)?n.selection.getStart(!0):r.target},l9=function(n,r){var i=u9(n),s=gF(n,r)?"selection":"point";if(Wi(i)){var d=pF(n,r),g=T2(st.fromDom(d),i);return g?"node":s}else return s},f9=function(n,r,i){var s=mr(),d=s.deviceType.isTouch,g=ra(Ho.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return n.focus()},onShow:function(){return i.setContextMenuState(!0)},onHide:function(){return i.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:we([Zr("dismissContextMenu",[Un(As(),function(S,O){go.close(S),n.focus()})])])})),v=function(S){return Ho.hide(g)},C=function(S){if(lF(n)&&S.preventDefault(),!(s9(n,S)||i9(n))){var O=l9(n,S),A=function(){var $=pF(n,S),q=n.ui.registry.getAll(),tt=a9(n);return c9(q.contextMenus,tt,$)},z=d()?r9:XH;z(n,S,A,i,g,O)}};n.on("init",function(){var S="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");n.on(S,v),n.on("longpress contextmenu",C)})},X7=Kc.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),lR=function(n){return function(r){return r.translate(-n.left,-n.top)}},fR=function(n){return function(r){return r.translate(n.left,n.top)}},vv=function(n){return function(r,i){return jn(n,function(s,d){return d(s)},Jo(r,i))}},dR=function(n,r,i){return n.fold(vv([fR(i),lR(r)]),vv([lR(r)]),vv([]))},ck=function(n,r,i){return n.fold(vv([fR(i)]),vv([]),vv([fR(r)]))},hF=function(n,r,i){return n.fold(vv([]),vv([lR(i)]),vv([fR(r),lR(i)]))},d9=function(n,r,i,s,d,g){var v=ck(n,d,g),C=ck(r,d,g);return Math.abs(v.left-C.left)<=i&&Math.abs(v.top-C.top)<=s},m9=function(n,r,i,s,d,g){var v=ck(n,d,g),C=ck(r,d,g),S=Math.abs(v.left-C.left),O=Math.abs(v.top-C.top);return Jo(S,O)},vF=function(n,r,i){var s=n.fold(function(d,g){return{position:D.some("absolute"),left:D.some(d+"px"),top:D.some(g+"px")}},function(d,g){return{position:D.some("absolute"),left:D.some(d-i.left+"px"),top:D.some(g-i.top+"px")}},function(d,g){return{position:D.some("fixed"),left:D.some(d+"px"),top:D.some(g+"px")}});return J({right:D.none(),bottom:D.none()},s)},g9=function(n,r,i){return n.fold(function(s,d){return mR(s+r,d+i)},function(s,d){return H0(s+r,d+i)},function(s,d){return tx(s+r,d+i)})},J7=function(n,r,i,s){var d=function(g,v){return function(C,S){var O=g(r,i,s);return v(C.getOr(O.left),S.getOr(O.top))}};return n.fold(d(hF,mR),d(ck,H0),d(dR,tx))},mR=X7.offset,H0=X7.absolute,tx=X7.fixed,bF=function(n,r){var i=yi(n,r);return Or(i)?NaN:parseInt(i,10)},p9=function(n,r){var i=n.element,s=bF(i,r.leftAttr),d=bF(i,r.topAttr);return isNaN(s)||isNaN(d)?D.none():D.some(Jo(s,d))},h9=function(n,r,i){var s=n.element;Kr(s,r.leftAttr,i.left+"px"),Kr(s,r.topAttr,i.top+"px")},v9=function(n,r){var i=n.element;La(i,r.leftAttr),La(i,r.topAttr)},b9=function(n,r,i,s){return p9(n,r).fold(function(){return i},function(d){return tx(d.left+s.left,d.top+s.top)})},y9=function(n,r,i,s,d,g){var v=b9(n,r,i,s),C=r.mustSnap?w9(n,r,v,d,g):C9(n,r,v,d,g),S=dR(v,d,g);return h9(n,r,S),C.fold(function(){return{coord:tx(S.left,S.top),extra:D.none()}},function(O){return{coord:O.output,extra:O.extra}})},x9=function(n,r){v9(n,r)},yF=function(n,r,i,s){return zt(n,function(d){var g=d.sensor,v=d9(r,g,d.range.left,d.range.top,i,s);return v?D.some({output:J7(d.output,r,i,s),extra:d.extra}):D.none()})},w9=function(n,r,i,s,d){var g=r.getSnapPoints(n),v=yF(g,i,s,d);return v.orThunk(function(){var C=jn(g,function(S,O){var A=O.sensor,z=m9(i,A,O.range.left,O.range.top,s,d);return S.deltas.fold(function(){return{deltas:D.some(z),snap:D.some(O)}},function($){var q=(z.left+z.top)/2,tt=($.left+$.top)/2;return q<=tt?{deltas:D.some(z),snap:D.some(O)}:S})},{deltas:D.none(),snap:D.none()});return C.snap.map(function(S){return{output:J7(S.output,i,s,d),extra:S.extra}})})},C9=function(n,r,i,s,d){var g=r.getSnapPoints(n);return yF(g,i,s,d)},S9=function(n,r,i){return{coord:J7(n.output,n.output,r,i),extra:n.extra}},k9=function(n,r,i,s){var d=r.getTarget(n.element);if(r.repositionTarget){var g=vi(n.element),v=Sc(g),C=Ep(d),S=S9(s,v,C),O=vF(S.coord,v,C);Ri(d,O)}},T9=Object.freeze({__proto__:null,snapTo:k9}),Y7="data-initial-z-index",O9=function(n){bi(n.element).filter(P).each(function(r){_i(r,Y7).fold(function(){return Mo(r,"z-index")},function(i){return Br(r,"z-index",i)}),La(r,Y7)})},E9=function(n){bi(n.element).filter(P).each(function(r){ta(r,"z-index").each(function(i){Kr(r,Y7,i)}),Br(r,"z-index",Ai(n.element,"z-index"))})},xF=function(n,r){n.getSystem().addToGui(r),E9(r)},_9=function(n){O9(n),n.getSystem().removeFromGui(n)},wF=function(n,r,i){return n.getSystem().build(Zu.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:i}))},D9=Oc("snaps",[Nn("getSnapPoints"),oo("onSensor"),Nn("leftAttr"),Nn("topAttr"),Et("lazyViewport",tu),Et("mustSnap",!1)]),Q7=[Et("useFixed",xn),Nn("blockerClass"),Et("getTarget",Yt),Et("onDrag",At),Et("repositionTarget",!0),Et("onDrop",At),ai("getBounds",tu),D9],M9=function(n){return Mi(ta(n,"left"),ta(n,"top"),ta(n,"position"),function(r,i,s){var d=s==="fixed"?tx:mR;return d(parseInt(r,10),parseInt(i,10))}).getOrThunk(function(){var r=Iu(n);return H0(r.left,r.top)})},R9=function(n,r,i,s,d){var g=d.bounds,v=ck(r,i,s),C=lc(v.left,g.x,g.x+g.width-d.width),S=lc(v.top,g.y,g.y+g.height-d.height),O=H0(C,S);return r.fold(function(){var A=hF(O,i,s);return mR(A.left,A.top)},X(O),function(){var A=dR(O,i,s);return tx(A.left,A.top)})},A9=function(n,r,i,s,d,g,v){var C=r.fold(function(){var S=g9(i,g.left,g.top),O=dR(S,s,d);return tx(O.left,O.top)},function(S){var O=y9(n,S,i,g,s,d);return O.extra.each(function(A){S.onSensor(n,A)}),O.coord});return R9(n,C,s,d,v)},B9=function(n,r,i,s){var d=r.getTarget(n.element);if(r.repositionTarget){var g=vi(n.element),v=Sc(g),C=Ep(d),S=M9(d),O=A9(n,r.snaps,S,v,C,s,i),A=vF(O,v,C);Ri(d,A)}r.onDrag(n,d,s)},CF=function(n,r){return{bounds:n.getBounds(),height:Cc(r.element),width:Hu(r.element)}},Z7=function(n,r,i,s,d){var g=i.update(s,d),v=i.getStartData().getOrThunk(function(){return CF(r,n)});g.each(function(C){B9(n,r,v,C)})},SF=function(n,r,i,s){r.each(_9),i.snaps.each(function(g){x9(n,g)});var d=i.getTarget(n.element);s.reset(),i.onDrop(n,d)},tP=function(n){return function(r,i){var s=function(d){i.setStartData(CF(r,d))};return ui(fn([Un(ib(),function(d){i.getStartData().each(function(){return s(d)})})],n(r,i,s),!0))}},z9=function(n){return ui([Un(Rs(),n.forceDrop),Un(Z0(),n.drop),Un(rm(),function(r,i){n.move(i.event)}),Un(Q0(),n.delayDrop)])},N9=function(n){return D.from(Jo(n.x,n.y))},P9=function(n,r){return Jo(r.left-n.left,r.top-n.top)},F9=Object.freeze({__proto__:null,getData:N9,getDelta:P9}),kF=function(n,r,i){return[Un(Rs(),function(s,d){var g=d.event.raw;if(g.button===0){d.stop();var v=function(){return SF(s,D.some(O),n,r)},C=cD(v,200),S={drop:v,delayDrop:C.schedule,forceDrop:v,move:function(z){C.cancel(),Z7(s,n,r,F9,z)}},O=wF(s,n.blockerClass,z9(S)),A=function(){i(s),xF(s,O)};A()}})]},L9=fn(fn([],Q7,!0),[qo("dragger",{handlers:tP(kF)})],!1),I9=function(n){return ui([Un(Pl(),n.forceDrop),Un(ed(),n.drop),Un(gx(),n.drop),Un(Ms(),function(r,i){n.move(i.event)})])},H9=function(n){var r=n[0];return D.some(Jo(r.clientX,r.clientY))},V9=function(n){var r=n.raw,i=r.touches;return i.length===1?H9(i):D.none()},U9=function(n,r){return Jo(r.left-n.left,r.top-n.top)},TF=Object.freeze({__proto__:null,getData:V9,getDelta:U9}),OF=function(n,r,i){var s=Ui(),d=function(g){SF(g,s.get(),n,r),s.clear()};return[Un(Pl(),function(g,v){v.stop();var C=function(){return d(g)},S={drop:C,delayDrop:At,forceDrop:C,move:function(z){Z7(g,n,r,TF,z)}},O=wF(g,n.blockerClass,I9(S));s.set(O);var A=function(){i(g),xF(g,O)};A()}),Un(Ms(),function(g,v){v.stop(),Z7(g,n,r,TF,v.event)}),Un(ed(),function(g,v){v.stop(),d(g)}),Un(gx(),d)]},$9=fn(fn([],Q7,!0),[qo("dragger",{handlers:tP(OF)})],!1),j9=function(n,r,i){return fn(fn([],kF(n,r,i),!0),OF(n,r,i),!0)},W9=fn(fn([],Q7,!0),[qo("dragger",{handlers:tP(j9)})],!1),q9=L9,G9=$9,K9=W9,X9=Object.freeze({__proto__:null,mouse:q9,touch:G9,mouseOrTouch:K9}),J9=function(){var n=D.none(),r=D.none(),i=function(){n=D.none(),r=D.none()},s=function(S,O){var A=n.map(function(z){return S.getDelta(z,O)});return n=D.some(O),A},d=function(S,O){return S.getData(O).bind(function(A){return s(S,A)})},g=function(S){r=D.some(S)},v=function(){return r},C=X({});return Ua({readState:C,reset:i,update:d,getStartData:v,setStartData:g})},Y9=Object.freeze({__proto__:null,init:J9}),nx=Cm({branchKey:"mode",branches:X9,name:"dragging",active:{events:function(n,r){var i=n.dragger;return i.handlers(n,r)}},extra:{snap:function(n){return{sensor:n.sensor,range:n.range,output:n.output,extra:D.from(n.extra)}}},state:Y9,apis:T9}),nP=40,gR=nP/2,EF=function(n,r,i,s,d,g){return n.fold(function(){return nx.snap({sensor:H0(i-gR,s-gR),range:Jo(d,g),output:H0(D.some(i),D.some(s)),extra:{td:r}})},function(v){var C=i-gR,S=s-gR,O=nP,A=nP,z=v.element.dom.getBoundingClientRect();return nx.snap({sensor:H0(C,S),range:Jo(O,A),output:H0(D.some(i-z.width/2),D.some(s-z.height/2)),extra:{td:r}})})},_F=function(n,r,i){var s=function(d,g){return d.exists(function(v){return zo(v,g)})};return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,g){var v=g.td;s(r.get(),v)||(r.set(v),i(v))},mustSnap:!0}},DF=function(n){return Po(Qu.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:we([nx.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),M2.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},Q9=function(n,r){var i=wr([]),s=wr([]),d=wr(!1),g=Ui(),v=Ui(),C=function(Bn){var Re=Rl(Bn);return EF(q.getOpt(r),Bn,Re.x,Re.y,Re.width,Re.height)},S=function(){return Zt(i.get(),function(Bn){return C(Bn)})},O=function(Bn){var Re=Rl(Bn);return EF(tt.getOpt(r),Bn,Re.right,Re.bottom,Re.width,Re.height)},A=function(){return Zt(s.get(),function(Bn){return O(Bn)})},z=_F(S,g,function(Bn){v.get().each(function(Re){n.fire("TableSelectorChange",{start:Bn,finish:Re})})}),$=_F(A,v,function(Bn){g.get().each(function(Re){n.fire("TableSelectorChange",{start:Re,finish:Bn})})}),q=DF(z),tt=DF($),lt=ra(q.asSpec()),Tt=ra(tt.asSpec()),ut=function(Bn,Re,Vn,ze){var Kn=Re.dom.getBoundingClientRect();Mo(Bn.element,"display");var Rn=Uc(st.fromDom(n.getBody())).dom.innerHeight,Oe=Vn(Kn),or=ze(Kn,Rn);(Oe||or)&&Br(Bn.element,"display","none")},_t=function(Bn,Re,Vn,ze){var Kn=Vn(Re);nx.snapTo(Bn,Kn);var Rn=function(or){return or[ze]<0},Oe=function(or,$n){return or[ze]>$n};ut(Bn,Re,Rn,Oe)},gn=function(Bn){return _t(lt,Bn,C,"top")},wn=function(){return g.get().each(gn)},kt=function(Bn){return _t(Tt,Bn,O,"bottom")},rn=function(){return v.get().each(kt)};mr().deviceType.isTouch()&&(n.on("TableSelectionChange",function(Bn){d.get()||(Cu(r,lt),Cu(r,Tt),d.set(!0)),g.set(Bn.start),v.set(Bn.finish),Bn.otherCells.each(function(Re){i.set(Re.upOrLeftCells),s.set(Re.downOrRightCells),gn(Bn.start),kt(Bn.finish)})}),n.on("ResizeEditor ResizeWindow ScrollContent",function(){wn(),rn()}),n.on("TableSelectionClear",function(){d.get()&&(ls(lt),ls(Tt),d.set(!1)),g.clear(),v.clear()}))},Z9=function(n){return!!(n.nodeType===1&&(n.nodeName==="BR"||n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark"))},tV=function(n,r,i){r.delimiter||(r.delimiter="»");var s=function(g){var v=g||[],C=Zt(v,function(O,A){return Qu.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":A,"tab-index":-1,"aria-level":A+1},innerHtml:O.name},action:function(z){n.focus(),n.selection.select(O.element),n.nodeChanged()},buttonBehaviours:we([Ws.button(i.isDisabled),Ba()])})}),S={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return jn(C.slice(1),function(O,A){var z=O;return z.push(S),z.push(A),z},[C[0]])},d=function(g){for(var v=[],C=g.length;C-- >0;){var S=g[C];if(S.nodeType===1&&!Z9(S)){var O=n.fire("ResolveName",{name:S.nodeName.toLowerCase(),target:S});if(O.isDefaultPrevented()||v.push({name:O.name,element:S}),O.isPropagationStopped())break}}return v};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:we([kr.config({mode:"flow",selector:"div[role=button]"}),pr.config({disabled:i.isDisabled}),Ba(),oa.config({}),Ur.config({}),Zr("elementPathEvents",[Si(function(g,v){n.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return kr.focusIn(g)}),n.on("NodeChange",function(C){var S=d(C.parents);S.length>0?Ur.set(g,s(S)):Ur.set(g,[])})})])]),components:[]}},ex;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(ex||(ex={}));var nV=function(n,r,i,s,d){var g={};return g.height=uR(s+r.top,p_(n),dT(n)),i===ex.Both&&(g.width=uR(d+r.left,g_(n),fT(n))),g},MF=function(n,r,i){var s=st.fromDom(n.getContainer()),d=nV(n,r,i,ua(s),pu(s));xe(d,function(g,v){return Br(s,v,V7(g))}),$_(n)},eV=function(n){var r=!n.hasPlugin("autoresize"),i=n.getParam("resize",r);return i===!1?ex.None:i==="both"?ex.Both:ex.Vertical},pR=function(n,r,i,s){var d=20,g=Jo(i*d,s*d);return MF(n,g,r),D.some(!0)},rV=function(n,r){var i=eV(n);return i===ex.None?D.none():D.some(Vf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[nx.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,d,g){return MF(n,g,i)},blockerClass:"tox-blocker"}),kr.config({mode:"special",onLeft:function(){return pR(n,i,-1,0)},onRight:function(){return pR(n,i,1,0)},onUp:function(){return pR(n,i,0,-1)},onDown:function(){return pR(n,i,0,1)}}),oa.config({}),Nr.config({})]},r.icons))},oV=function(n,r){var i,s=function(d,g,v){return Ur.set(d,[fd(r.translate(["{0} "+v,g[v]]))])};return Qu.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:we([Ws.button(r.isDisabled),Ba(),oa.config({}),Ur.config({}),_e.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Zr("wordcount-events",[zs(function(d){var g=_e.getValue(d),v=g.mode==="words"?"characters":"words";_e.setValue(d,{mode:v,count:g.count}),s(d,g.count,v)}),Si(function(d){n.on("wordCountUpdate",function(g){var v=_e.getValue(d).mode;_e.setValue(d,{mode:v,count:g.wordCount}),s(d,g.wordCount,v)})})])]),eventOrder:(i={},i[Xc()]=["disabling","alloy.base.behaviour","wordcount-events"],i)})},iV=function(n,r){var i=function(){var g=$s.translate(["Powered by {0}","Tiny"]),v='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+g+'">'+g+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:v}}},s=function(){var g=[];return n.getParam("elementpath",!0,"boolean")&&g.push(tV(n,{},r)),n.hasPlugin("wordcount")&&g.push(oV(n,r)),n.getParam("branding",!0,"boolean")&&g.push(i()),g.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:g}]:[]},d=function(){var g=s(),v=rV(n,r);return g.concat(v.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:d()}},aV=function(n){var r,i=n.inline,s=i?jI:FI,d=tS(n)?x7:YS,g=D.none(),v=mr(),C=v.browser.isIE(),S=C?["tox-platform-ie"]:[],O=v.deviceType.isTouch(),A="tox-platform-touch",z=O?[A]:[],$=y_(n),q=g2(n),tt=$s.isRtl()?{attributes:{dir:"rtl"}}:{},lt={attributes:(r={},r[p1]=$?Af.BottomToTop:Af.TopToBottom,r)},Tt=function(){return g.bind(ma.getHeader)},ut=function(){return d.isDocked(Tt)},_t=function(){Br(Ks.element,"width",document.body.clientWidth+"px")},gn=function(){var hc=zo(No(),q)&&Ai(q,"display")==="grid",V0={dom:J({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(S).concat(z)},tt),behaviours:we([Ku.config({useFixed:function(){return ut()}})])},lk={dom:{styles:{width:document.body.clientWidth+"px"}},events:ui([Un(Jc(),_t)])};return On(V0,hc?lk:{})},wn=ra(gn()),kt=function(){return Yr.value(wn)},rn=Po({dom:{tag:"div",classes:["tox-anchorbar"]}}),Bn=function(){return g.bind(function(hc){return rn.getOpt(hc)}).getOrDie("Could not find a anchor bar element")},Re=function(){return g.bind(function(hc){return ma.getToolbar(hc)}).getOrDie("Could not find more toolbar element")},Vn=function(){return g.bind(function(hc){return ma.getThrobber(hc)}).getOrDie("Could not find throbber element")},ze=dv(wn,n,Bn),Kn=ma.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:ze,onEscape:function(){n.focus()}}),Rn=m2(n),Oe=ma.parts.toolbar(J({dom:{tag:"div",classes:["tox-toolbar"]},getSink:kt,providers:ze.shared.providers,onEscape:function(){n.focus()},type:Rn,lazyToolbar:Re,lazyHeader:function(){return Tt().getOrDie("Could not find header element")}},lt)),or=ma.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:ze.shared.providers,onEscape:function(){n.focus()},type:Rn}),$n=ma.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Je=ma.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),lr=ma.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:ze}),bo=n.getParam("statusbar",!0,"boolean"),jo=bo&&!i?D.some(iV(n,ze.shared.providers)):D.none(),Pi={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[$n,Je]},Jf=QC(n),uf=gT(n),gP=mT(n),pP=function(){return Jf?[or]:uf?[Oe]:[]},vR=ma.parts.header({dom:J({tag:"div",classes:["tox-editor-header"]},lt),components:pt([gP?[Kn]:[],pP(),ZC(n)?[]:[rn.asSpec()]]),sticky:tS(n),editor:n,sharedBackstage:ze.shared}),hP=pt([$?[]:[vR],i?[]:[Pi],$?[vR]:[]]),bE={dom:{tag:"div",classes:["tox-editor-container"]},components:hP},bR=pt([[bE],i?[]:jo.toArray(),[lr]]),yE=hT(n),yR=J(J({role:"application"},$s.isRtl()?{dir:"rtl"}:{}),yE?{"aria-hidden":"true"}:{}),Qd=ra(ma.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat($?["tox-tinymce--toolbar-bottom"]:[]).concat(z).concat(S),styles:J({visibility:"hidden"},yE?{opacity:"0",border:"0"}:{}),attributes:yR},components:bR,behaviours:we([Ba(),pr.config({disableClass:"tox-tinymce--disabled"}),kr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));g=D.some(Qd),n.shortcuts.add("alt+F9","focus menubar",function(){ma.focusMenubar(Qd)}),n.shortcuts.add("alt+F10","focus toolbar",function(){ma.focusToolbar(Qd)}),n.addCommand("ToggleToolbarDrawer",function(){ma.toggleToolbarDrawer(Qd)}),n.addQueryStateHandler("ToggleToolbarDrawer",function(){return ma.isToolbarDrawerToggled(Qd)});var xE=pD(Qd),Ks=pD(wn);t7(n,xE,Ks);var vP=function(){var hc={broadcastAll:Ks.broadcast,broadcastOn:Ks.broadcastOn,register:At};return{channels:hc}},bP=function(){var hc=V7(II(n)),V0=V7(HI(n));return n.inline||($c("div","width",V0)&&Br(Qd.element,"width",V0),$c("div","height",hc)?Br(Qd.element,"height",hc):Br(Qd.element,"height","200px")),hc},yP=function(){d.setup(n,ze.shared,Tt),UH(n,ze),f9(n,kt,ze),gt(n),an(n,Vn,ze.shared),Qn(xA(n),function(Js,Yf){n.ui.registry.addGroupToolbarButton(Yf,Js)});var hc=n.ui.registry.getAll(),V0=hc.buttons,lk=hc.menuItems,xP=hc.contextToolbars,fk=hc.sidebars,wP=b_(n),Ve={menuItems:lk,menus:OA(n),menubar:EA(n),toolbar:wP.getOrThunk(function(){return vT(n)}),allowToolbarGroups:Rn===js.floating,buttons:V0,sidebar:fk};pH(n,xP,wn,{backstage:ze}),Q9(n,wn);var ro=n.getElement(),Ko=bP(),aa={mothership:xE,uiMothership:Ks,outerContainer:Qd},Xs={targetNode:ro,height:Ko};return s.render(n,aa,Ve,ze,Xs)};return{mothership:xE,uiMothership:Ks,backstage:ze,renderUI:yP,getUi:vP}},uV=function(n,r){var i=D.from(yi(n,"id")).fold(function(){var s=We("dialog-describe");return Kr(r,"id",s),s},Yt);Kr(n,"aria-describedby",i)},cV=function(n,r){var i=_i(n,"id").fold(function(){var s=We("dialog-label");return Kr(r,"id",s),s},Yt);Kr(n,"aria-labelledby",i)},sV=X([Nn("lazySink"),Ro("dragBlockClass"),ai("getBounds",tu),Et("useTabstopAt",en),Et("eventOrder",{}),Ma("modalBehaviours",[kr]),Zo("onExecute"),gd("onEscape")]),eP={sketch:Yt},lV=X([Hs({name:"draghandle",overrides:function(n,r){return{behaviours:we([nx.config({mode:"mouse",getTarget:function(i){return Iv(i,'[role="dialog"]').getOr(i)},blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:n.getDragBounds})])}}}),Ka({schema:[Nn("dom")],name:"title"}),Ka({factory:eP,schema:[Nn("dom")],name:"close"}),Ka({factory:eP,schema:[Nn("dom")],name:"body"}),Hs({factory:eP,schema:[Nn("dom")],name:"footer"}),ts({factory:{sketch:function(n,r){return J(J({},n),{dom:r.dom,components:r.components})}},schema:[Et("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Et("components",[])],name:"blocker"})]),fV=function(n,r,i,s){var d,g=Ui(),v=function(tt){g.set(tt);var lt=n.lazySink(tt).getOrDie(),Tt=s.blocker(),ut=lt.getSystem().build(J(J({},Tt),{components:Tt.components.concat([Qc(tt)]),behaviours:we([Nr.config({}),Zr("dialog-blocker-events",[Of(is(),function(){kr.focusIn(tt)})])])}));Cu(lt,ut),kr.focusIn(tt)},C=function(tt){g.clear(),bi(tt.element).each(function(lt){tt.getSystem().getByDom(lt).each(function(Tt){ls(Tt)})})},S=function(tt){return Kl(tt,n,"body")},O=function(tt){return Kl(tt,n,"footer")},A=function(tt,lt){$e.block(tt,lt)},z=function(tt){$e.unblock(tt)},$=We("modal-events"),q=J(J({},n.eventOrder),(d={},d[Ec()]=[$].concat(n.eventOrder["alloy.system.attached"]||[]),d));return{uid:n.uid,dom:n.dom,components:r,apis:{show:v,hide:C,getBody:S,getFooter:O,setIdle:z,setBusy:A},eventOrder:q,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ra(n.modalBehaviours,[Ur.config({}),kr.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt}),$e.config({getRoot:g.get}),Zr($,[Si(function(tt){cV(tt.element,Kl(tt,n,"title").element),uV(tt.element,Kl(tt,n,"body").element)})])])}},fu=Ju({name:"ModalDialog",configFields:sV(),partFields:lV(),factory:fV,apis:{show:function(n,r){n.show(r)},hide:function(n,r){n.hide(r)},getBody:function(n,r){return n.getBody(r)},getFooter:function(n,r){return n.getFooter(r)},setBusy:function(n,r,i){n.setBusy(r,i)},setIdle:function(n,r){n.setIdle(r)}}}),dV=dr([Lr("type"),Lr("name")].concat(qh)),mV=Ia,RF=[ya("name","name",lo(function(){return We("button-name")}),Ki),ii("icon"),Gc("align","end",["start","end"]),Qo("primary",!1),Qo("disabled",!1)],AF=fn(fn([],RF,!0),[Lr("text")],!1),rP=fn([qc("type",["submit","cancel","custom"])],AF,!0),gV=fn([qc("type",["menu"]),ii("text"),ii("tooltip"),ii("icon"),yu("items",dV)],RF,!0),pV=os("type",{submit:rP,cancel:rP,custom:rP,menu:gV}),hV=[Lr("type"),Lr("text"),qc("level",["info","warn","error","success"]),Lr("icon"),Et("url","")],vV=dr(hV),bV=function(n){return[Lr("type"),n]},yV=[Lr("type"),Lr("text"),Qo("disabled",!1),Qo("primary",!1),ya("name","name",lo(function(){return We("button-name")}),Ki),ii("icon"),Qo("borderless",!1)],xV=dr(yV),wV=[Lr("type"),Lr("name"),Lr("label"),Qo("disabled",!1)],CV=dr(wV),SV=Ia,oP=[Lr("type"),Lr("name")],Yd=oP.concat([ii("label")]),kV=Yd.concat([Et("columns","auto")]),TV=dr(kV),OV=q0([Lr("value"),Lr("text"),Lr("icon")]),EV=Yd,_V=dr(EV),DV=Ki,MV=Yd,RV=dr(MV),AV=Ki,BV=oP.concat([wg("tag","textarea"),Lr("scriptId"),Lr("scriptUrl"),uc("settings",void 0)]),zV=oP.concat([wg("tag","textarea"),Mu("init")]),NV=yg(function(n){return Di("customeditor.old",kc(zV),n).orThunk(function(){return Di("customeditor.new",kc(BV),n)})}),PV=Ki,FV=Yd,LV=dr(FV),IV=yk(),HV=function(n){return[Lr("type"),xf("columns"),n]},VV=[Lr("type"),Lr("html"),Gc("presets","presentation",["presentation","document"])],UV=dr(VV),$V=Yd.concat([Qo("sandboxed",!0)]),jV=dr($V),WV=Ki,qV=Yd.concat([ac("currentState",dr([Nn("blob"),Lr("url")]))]),GV=dr(qV),KV=Yd.concat([ii("inputMode"),ii("placeholder"),Qo("maximized",!1),Qo("disabled",!1)]),XV=dr(KV),JV=Ki,YV=function(n){return[Lr("type"),Lr("label"),n]},QV=[Lr("text"),Lr("value")],ZV=[Lr("text"),yu("items",xk("items",function(){return BF}))],BF=Pp([dr(QV),dr(ZV)]),tU=Yd.concat([yu("items",BF),Qo("disabled",!1)]),nU=dr(tU),eU=Ki,rU=Yd.concat([Ds("items",[Lr("text"),Lr("value")]),al("size",1),Qo("disabled",!1)]),oU=dr(rU),iU=Ki,aU=Yd.concat([Qo("constrain",!0),Qo("disabled",!1)]),uU=dr(aU),zF=dr([Lr("width"),Lr("height")]),cU=[Lr("type"),yu("header",Ki),yu("cells",yf(Ki))],sU=dr(cU),lU=Yd.concat([ii("placeholder"),Qo("maximized",!1),Qo("disabled",!1)]),fU=dr(lU),dU=Ki,mU=Yd.concat([Gc("filetype","file",["image","media","file"]),Et("disabled",!1)]),gU=dr(mU),pU=dr([Lr("value"),Et("meta",{})]),iP=function(n){return ya("items","items",Vr(),yf(yg(function(r){return Di("Checking item of "+n,aP,r).fold(function(i){return Yr.error(td(i))},function(i){return Yr.value(i)})})))},aP=ax(function(){return kv("type",{alertbanner:vV,bar:dr(bV(iP("bar"))),button:xV,checkbox:CV,colorinput:_V,colorpicker:RV,dropzone:LV,grid:dr(HV(iP("grid"))),iframe:jV,input:XV,listbox:nU,selectbox:oU,sizeinput:uU,textarea:fU,urlinput:gU,customeditor:NV,htmlpanel:UV,imagetools:GV,collection:TV,label:dr(YV(iP("label"))),table:sU,panel:NF})}),hU=[Lr("type"),Et("classes",[]),yu("items",aP)],NF=dr(hU),vU=[ya("name","name",lo(function(){return We("tab-name")}),Ki),Lr("title"),yu("items",aP)],bU=[Lr("type"),Ds("tabs",vU)],yU=dr(bU),xU=AF,wU=pV,CU=dr([Lr("title"),ac("body",kv("type",{panel:NF,tabpanel:yU})),wg("size","normal"),yu("buttons",wU),Et("initialData",{}),ai("onAction",At),ai("onChange",At),ai("onSubmit",At),ai("onClose",At),ai("onCancel",At),Et("onTabChange",At)]),SU=function(n){return Di("dialog",CU,n)},kU=dr(fn([qc("type",["cancel","custom"])],xU,!0)),TU=dr([Lr("title"),Lr("url"),em("height"),em("width"),Tc("buttons",kU),ai("onAction",At),ai("onCancel",At),ai("onClose",At),ai("onMessage",At)]),OU=function(n){return Di("dialog",TU,n)},uP=function(n){return De(n)?[n].concat(sn(dn(n),uP)):Be(n)?sn(n,uP):[]},EU=function(n){return Ce(n.type)&&Ce(n.name)},_U={checkbox:SV,colorinput:DV,colorpicker:AV,dropzone:IV,input:JV,iframe:WV,sizeinput:zF,selectbox:iU,listbox:eU,size:zF,textarea:dU,urlinput:pU,customeditor:PV,collection:OV,togglemenuitem:mV},DU=function(n){return D.from(_U[n.type])},MU=function(n){return Dt(uP(n),EU)},RU=function(n){var r=MU(n),i=sn(r,function(s){return DU(s).fold(function(){return[]},function(d){return[ac(s.name,d)]})});return dr(i)},PF=function(n){var r=_s(SU(n)),i=RU(n),s=n.initialData;return{internalDialog:r,dataValidator:i,initialData:s}},vE={open:function(n,r){var i=PF(r);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:function(n,r){var i=_s(OU(r));return n(i)},redial:function(n){return PF(n)}},FF=function(n){var r=[],i={};return xe(n,function(s,d){s.fold(function(){r.push(d)},function(g){i[d]=g})}),r.length>0?Yr.error(r):Yr.value(i)},AU=function(n,r){var i=Po(E0.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:Zt(n.items,function(d){return KO(s,d,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[i.asSpec()]}],behaviours:we([kr.config({mode:"acyclic",useTabstopAt:Me(_0)}),qf.memento(i),av.memento(i,{postprocess:function(s){return FF(s).fold(function(d){return console.error(d),{}},Yt)}})])}},BU=function(n,r){return{uid:n.uid,dom:n.dom,components:n.components,events:Fh(n.action),behaviours:Ra(n.tabButtonBehaviours,[Nr.config({}),kr.config({mode:"execution",useSpace:!0,useEnter:!0}),_e.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}},zU=Nc({name:"TabButton",configFields:[Et("uid",void 0),Nn("value"),ya("dom","dom",nu(function(){return{attributes:{role:"tab",id:We("aria"),"aria-selected":"false"}}}),Es()),Ro("action"),Et("domModification",{}),Ma("tabButtonBehaviours",[Nr,kr,_e]),Nn("view")],factory:BU}),NU=X([Nn("tabs"),Nn("dom"),Et("clickToDismiss",!1),Ma("tabbarBehaviours",[Ao,kr]),ym(["tabClass","selectedClass"])]),PU=vl({factory:zU,name:"tabs",unit:"tab",overrides:function(n){var r=function(s,d){Ao.dehighlight(s,d),Sr(s,ru(),{tabbar:s,button:d})},i=function(s,d){Ao.highlight(s,d),Sr(s,px(),{tabbar:s,button:d})};return{action:function(s){var d=s.getSystem().getByUid(n.uid).getOrDie(),g=Ao.isHighlighted(d,s),v=function(){return g&&n.clickToDismiss?r:g?At:i}();v(d,s)},domModification:{classes:[n.markers.tabClass]}}}}),FU=X([PU]),LU=function(n,r,i,s){return{uid:n.uid,dom:n.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ra(n.tabbarBehaviours,[Ao.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:function(d,g){Kr(g.element,"aria-selected","true")},onDehighlight:function(d,g){Kr(g.element,"aria-selected","false")}}),kr.config({mode:"flow",getInitial:function(d){return Ao.getHighlighted(d).map(function(g){return g.element})},selector:"."+n.markers.tabClass,executeOnMove:!0})])}},LF=Ju({name:"Tabbar",configFields:NU(),partFields:FU(),factory:LU}),IU=function(n,r){return{uid:n.uid,dom:n.dom,behaviours:Ra(n.tabviewBehaviours,[Ur.config({})]),domModification:{attributes:{role:"tabpanel"}}}},HU=Nc({name:"Tabview",configFields:[Ma("tabviewBehaviours",[Ur])],factory:IU}),VU=X([Et("selectFirst",!0),oo("onChangeTab"),oo("onDismissTab"),Et("tabs",[]),Ma("tabSectionBehaviours",[])]),UU=Ka({factory:LF,schema:[Nn("dom"),Bl("markers",[Nn("tabClass"),Nn("selectedClass")])],name:"tabbar",defaults:function(n){return{tabs:n.tabs}}}),$U=Ka({factory:HU,name:"tabview"}),jU=X([UU,$U]),WU=function(n,r,i,s){var d=function(v){var C=_e.getValue(v);Go(v,n,"tabview").each(function(S){var O=kn(n.tabs,function(A){return A.value===C});O.each(function(A){var z=A.view();_i(v.element,"id").each(function($){Kr(S.element,"aria-labelledby",$)}),Ur.set(S,z),n.onChangeTab(S,v,z)})})},g=function(v,C){Go(v,n,"tabbar").each(function(S){C(S).each(Tf)})};return{uid:n.uid,dom:n.dom,components:r,behaviours:Pm(n.tabSectionBehaviours),events:ui(pt([n.selectFirst?[Si(function(v,C){g(v,Ao.getFirst)})]:[],[Un(px(),function(v,C){var S=C.event.button;d(S)}),Un(ru(),function(v,C){var S=C.event.button;n.onDismissTab(v,S)})]])),apis:{getViewItems:function(v){return Go(v,n,"tabview").map(function(C){return Ur.contents(C)}).getOr([])},showTab:function(v,C){var S=function(O){var A=Ao.getCandidates(O),z=kn(A,function($){return _e.getValue($)===C});return z.filter(function($){return!Ao.isHighlighted(O,$)})};g(v,S)}}}},sk=Ju({name:"TabSection",configFields:VU(),partFields:jU(),factory:WU,apis:{getViewItems:function(n,r){return n.getViewItems(r)},showTab:function(n,r,i){n.showTab(r,i)}}}),qU=function(n,r,i){return Zt(n,function(s,d){Ur.set(i,n[d].view());var g=r.dom.getBoundingClientRect();return Ur.set(i,[]),g.height})},GU=function(n){return Xn(ao(n,function(r,i){return r>i?-1:r<i?1:0}))},KU=function(n,r,i){var s=hn(n).dom,d=Iv(n,".tox-dialog-wrap").getOr(n),g=Ai(d,"position")==="fixed",v;g?v=Math.max(s.clientHeight,window.innerHeight):v=Math.max(s.offsetHeight,s.scrollHeight);var C=ua(r),S=r.dom.offsetLeft>=i.dom.offsetLeft+pu(i),O=S?Math.max(ua(i),C):C,A=parseInt(Ai(n,"margin-top"),10)||0,z=parseInt(Ai(n,"margin-bottom"),10)||0,$=ua(n)+A+z,q=$-O;return v-q},XU=function(n,r){Xn(n).each(function(i){return sk.showTab(r,i.value)})},IF=function(n,r){Br(n,"height",r+"px"),mr().browser.isIE()?Mo(n,"flex-basis"):Br(n,"flex-basis",r+"px")},hR=function(n,r,i){Iv(n,'[role="dialog"]').each(function(s){fa(s,'[role="tablist"]').each(function(d){i.get().map(function(g){return Br(r,"height","0"),Br(r,"flex-basis","0"),Math.min(g,KU(s,r,d))}).each(function(g){IF(r,g)})})})},cP=function(n){return fa(n,'[role="tabpanel"]')},JU=function(n){var r=function(){var s=Ui(),d=[Si(function(v){var C=v.element;cP(C).each(function(S){Br(S,"visibility","hidden"),v.getSystem().getByDom(S).toOptional().each(function(O){var A=qU(n,S,O),z=GU(A);z.fold(s.clear,s.set)}),hR(C,S,s),Mo(S,"visibility"),XU(n,v),Zm.requestAnimationFrame(function(){hR(C,S,s)})})}),Un(Jc(),function(v){var C=v.element;cP(C).each(function(S){hR(C,S,s)})}),Un(fS,function(v,C){var S=v.element;cP(S).each(function(O){var A=Ac(gr(O));Br(O,"visibility","hidden");var z=ta(O,"height").map(function(tt){return parseInt(tt,10)});Mo(O,"height"),Mo(O,"flex-basis");var $=O.dom.getBoundingClientRect().height,q=z.forall(function(tt){return $>tt});q?(s.set($),hR(S,O,s)):z.each(function(tt){IF(O,tt)}),Mo(O,"visibility"),A.each(Ul)})})],g=!1;return{extraEvents:d,selectFirst:g}}(),i=function(){var s=[],d=!0;return{extraEvents:s,selectFirst:d}}();return{smartTabHeight:r,naiveTabHeight:i}},HF="send-data-to-section",VF="send-data-to-view",YU=function(n,r){var i=wr({}),s=function(S){var O=_e.getValue(S),A=FF(O).getOr({}),z=i.get(),$=On(z,A);i.set($)},d=function(S){var O=i.get();_e.setValue(S,O)},g=wr(null),v=Zt(n.tabs,function(S){return{value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(S.title)},view:function(){return[E0.sketch(function(O){return{dom:{tag:"div",classes:["tox-form"]},components:Zt(S.items,function(A){return KO(O,A,r)}),formBehaviours:we([kr.config({mode:"acyclic",useTabstopAt:Me(_0)}),Zr("TabView.form.events",[Si(d),_c(s)]),Rc.config({channels:Cf([{key:HF,value:{onReceive:s}},{key:VF,value:{onReceive:d}}])})])}})]}}}),C=JU(v).smartTabHeight;return sk.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(S,O,A){var z=_e.getValue(O);Sr(S,yD,{name:z,oldName:g.get()}),g.set(z)},tabs:v,components:[sk.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[LF.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:we([oa.config({})])}),sk.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:C.selectFirst,tabSectionBehaviours:we([Zr("tabpanel",C.extraEvents),kr.config({mode:"acyclic"}),io.config({find:function(S){return Xn(sk.getViewItems(S))}}),_e.config({store:{mode:"manual",getValue:function(S){return S.getSystem().broadcastOn([HF],{}),i.get()},setValue:function(S,O){i.set(O),S.getSystem().broadcastOn([VF],{})}}})])})},sP=We("update-dialog"),UF=We("update-title"),$F=We("update-body"),jF=We("update-footer"),WF=We("body-send-message"),qF=function(n,r,i,s){var d=function(C){switch(C.body.type){case"tabpanel":return[YU(C.body,i)];default:return[AU(C.body,i)]}},g=function(C,S){return D.some({isTabPanel:function(){return S.body.type==="tabpanel"}})},v={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:J(J({},r.map(function(C){return{id:C}}).getOr({})),s?v:{})},components:[],behaviours:we([qf.childAt(0),Ol.config({channel:$F,updateState:g,renderComponents:d,initialData:n})])}},QU=function(n,r,i,s){return qF(n,D.some(r),i,s)},ZU=function(n,r){var i=qF(n,D.none(),r,!1);return fu.parts.body(i)},t$=function(n){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[xM({dom:{tag:"iframe",attributes:{src:n.url}},behaviours:we([oa.config({}),Nr.config({})])})]}],behaviours:we([kr.config({mode:"acyclic",useTabstopAt:Me(_0)})])};return fu.parts.body(r)},n$=CT.deviceType.isTouch(),GF=function(n,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,r]}},KF=function(n,r){return fu.parts.close(Qu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:n,buttonBehaviours:we([oa.config({})])}))},XF=function(){return fu.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},JF=function(n,r){return fu.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Wr("<p>"+r.translate(n)+"</p>")}]}]})},YF=function(n){return fu.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n})},QF=function(n,r){return[Zu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),Zu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},lP=function(n){var r,i="tox-dialog",s=i+"-wrap",d=s+"__backdrop",g=i+"__disable-scroll";return fu.sketch({lazySink:n.lazySink,onEscape:function(v){return n.onEscape(v),D.some(!0)},useTabstopAt:function(v){return!_0(v)},dom:{tag:"div",classes:[i].concat(n.extraClasses),styles:J({position:"relative"},n.extraStyles)},components:fn([n.header,n.body],n.footer.toArray(),!0),parts:{blocker:{dom:Wr('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:n$?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:s,modalBehaviours:we(fn([Nr.config({}),Zr("dialog-events",n.dialogEvents.concat([Of(is(),function(v,C){kr.focusIn(v)})])),Zr("scroll-lock",[Si(function(){$a(No(),g)}),_c(function(){la(No(),g)})])],n.extraBehaviours,!0)),eventOrder:J((r={},r[Xc()]=["dialog-events"],r[Ec()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[Eg()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),n.eventOrder)})},ZF=function(n){return Qu.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),title:n.translate("Close")}},components:[Vf("close",{tag:"div",classes:["tox-icon"]},n.icons)],action:function(r){uo(r,qs)}})},tL=function(n,r,i){var s=function(d){return[fd(i.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:J({},r.map(function(d){return{id:d}}).getOr({}))},components:s(n),behaviours:we([Ol.config({channel:UF,renderComponents:s})])}},nL=function(){return{dom:Wr('<div class="tox-dialog__draghandle"></div>')}},e$=function(n,r,i){return Zu.sketch({dom:Wr('<div class="tox-dialog__header"></div>'),components:[tL(n,D.some(r),i),nL(),ZF(i)],containerBehaviours:we([nx.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return Au(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},r$=function(n,r){var i=fu.parts.title(tL(n,D.none(),r)),s=fu.parts.draghandle(nL()),d=fu.parts.close(ZF(r)),g=[i].concat(n.draggable?[s]:[]).concat([d]);return Zu.sketch({dom:Wr('<div class="tox-dialog__header"></div>'),components:g})},eL=function(n,r){return r$({title:r.shared.providers.translate(n),draggable:r.dialog.isDraggableModal()},r.shared.providers)},rL=function(n,r,i){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:Wr('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},oL=function(n,r,i){return{onClose:function(){return i.closeWindow()},onBlock:function(s){fu.setBusy(n(),function(d,g){return rL(s.message,g,r)})},onUnblock:function(){fu.setIdle(n())}}},iL=function(n,r,i,s){var d,g=function(v,C){return D.some(C)};return ra(lP(J(J({},n),{lazySink:s.shared.getSink,extraBehaviours:fn([Ol.config({channel:sP,updateState:g,initialData:r}),av.memory({})],n.extraBehaviours,!0),onEscape:function(v){uo(v,qs)},dialogEvents:i,eventOrder:(d={},d[as()]=[Ol.name(),Rc.name()],d[Ec()]=["scroll-lock",Ol.name(),"messages","dialog-events","alloy.base.behaviour"],d[Eg()]=["alloy.base.behaviour","dialog-events","messages",Ol.name(),"scroll-lock"],d)})))},aL=function(n){var r=function(i){var s=Zt(i.items,function(d){var g=wr(!1);return J(J({},d),{storage:g})});return J(J({},i),{items:s})};return Zt(n,function(i){return i.type==="menu"?r(i):i})},uL=function(n){return jn(n,function(r,i){if(i.type==="menu"){var s=i;return jn(s.items,function(d,g){return d[g.name]=g.storage,d},r)}return r},{})},cL=function(n,r){return[id(is(),CN),n(ys,function(i,s){r.onClose(),s.onClose()}),n(qs,function(i,s,d,g){s.onCancel(i),uo(g,ys)}),Un(w0,function(i,s){return r.onUnblock()}),Un(lS,function(i,s){return r.onBlock(s.event)})]},o$=function(n,r){var i=function(d,g){return Un(d,function(v,C){s(v,function(S,O){g(n(),S,C.event,v)})})},s=function(d,g){Ol.getState(d).get().each(function(v){g(v,d)})};return fn(fn([],cL(i,r),!0),[i(Hd,function(d,g,v){g.onAction(d,{name:v.name})})],!1)},i$=function(n,r,i){var s=function(g,v){return Un(g,function(C,S){d(C,function(O,A){v(n(),O,S.event,C)})})},d=function(g,v){Ol.getState(g).get().each(function(C){v(C.internalDialog,g)})};return fn(fn([],cL(s,r),!0),[s(x0,function(g,v){return v.onSubmit(g)}),s(bs,function(g,v,C){v.onChange(g,{name:C.name})}),s(Hd,function(g,v,C,S){var O=function(){return kr.focusIn(S)},A=function(q){return bv(q,"disabled")||_i(q,"aria-disabled").exists(function(tt){return tt==="true"})},z=gr(S.element),$=Ac(z);v.onAction(g,{name:C.name,value:C.value}),Ac(z).fold(O,function(q){A(q)||$.exists(function(tt){return gu(q,tt)&&A(tt)})?O():i().toOptional().filter(function(tt){return!gu(tt.element,q)}).each(O)})}),s(yD,function(g,v,C){v.onTabChange(g,{newTabName:C.name,oldTabName:C.oldName})}),_c(function(g){var v=n();_e.setValue(g,v.getData())})],!1)},fP={initUrlDialog:o$,initDialog:i$},a$=function(n,r){return A0(n,n.type,r)},u$=function(n,r,i){return kn(r,function(s){return s.name===i}).bind(function(s){return s.memento.getOpt(n)})},c$=function(n,r){var i=r.map(function(C){return C.footerButtons}).getOr([]),s=Ot(i,function(C){return C.align==="start"}),d=function(C,S){return Zu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+C]},components:Zt(S,function(O){return O.memento.asSpec()})})},g=d("start",s.pass),v=d("end",s.fail);return[g,v]},sL=function(n,r){var i=function(s,d){var g=Zt(d.buttons,function(C){var S=Po(a$(C,r));return{name:C.name,align:C.align,memento:S}}),v=function(C,S){return u$(C,g,S)};return D.some({lookupByName:v,footerButtons:g})};return{dom:Wr('<div class="tox-dialog__footer"></div>'),components:[],behaviours:we([Ol.config({channel:jF,initialData:n,updateState:i,renderComponents:c$})])}},s$=function(n,r){return sL(n,r)},lL=function(n,r){return fu.parts.footer(sL(n,r))},dP=function(n,r){var i=n.getRoot();if(i.getSystem().isConnected()){var s=io.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return E0.getField(s,r).fold(function(){var d=n.getFooter(),g=Ol.getState(d);return g.get().bind(function(v){return v.lookupByName(s,r)})},function(d){return D.some(d)})}else return D.none()},l$=function(n,r){var i=n.getRoot();return Ol.getState(i).get().map(function(s){return _s(Di("data",s.dataValidator,r))}).getOr(r)},fL=function(n,r,i){var s=function(lt){var Tt=n.getRoot();Tt.getSystem().isConnected()&&lt(Tt)},d=function(){var lt=n.getRoot(),Tt=lt.getSystem().isConnected()?n.getFormWrapper():lt,ut=_e.getValue(Tt),_t=Qn(i,function(gn){return gn.get()});return J(J({},ut),_t)},g=function(lt){s(function(Tt){var ut=tt.getData(),_t=J(J({},ut),lt),gn=l$(n,_t),wn=n.getFormWrapper();_e.setValue(wn,gn),xe(i,function(kt,rn){Hn(_t,rn)&&kt.set(_t[rn])})})},v=function(lt){dP(n,lt).each(pr.disable)},C=function(lt){dP(n,lt).each(pr.enable)},S=function(lt){dP(n,lt).each(Nr.focus)},O=function(lt){if(!Ce(lt))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(Tt){Sr(Tt,lS,{message:lt})})},A=function(){s(function(lt){uo(lt,w0)})},z=function(lt){s(function(Tt){var ut=n.getBody(),_t=Ol.getState(ut);_t.get().exists(function(gn){return gn.isTabPanel()})&&io.getCurrent(ut).each(function(gn){sk.showTab(gn,lt)})})},$=function(lt){s(function(Tt){var ut=r(lt);Tt.getSystem().broadcastOn([sP],ut),Tt.getSystem().broadcastOn([UF],ut.internalDialog),Tt.getSystem().broadcastOn([$F],ut.internalDialog),Tt.getSystem().broadcastOn([jF],ut.internalDialog),tt.setData(ut.initialData)})},q=function(){s(function(lt){uo(lt,ys)})},tt={getData:d,setData:g,disable:v,enable:C,focus:S,block:O,unblock:A,showTab:z,redial:$,close:q};return tt},f$=function(n){switch(n){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},d$=function(n,r,i){var s=eL(n.internalDialog.title,i),d=ZU({body:n.internalDialog.body},i),g=aL(n.internalDialog.buttons),v=uL(g),C=lL({buttons:g},i),S=fP.initDialog(function(){return q},oL(function(){return z},i.shared.providers,r),i.shared.getSink),O=f$(n.internalDialog.size),A={header:s,body:d,footer:D.some(C),extraClasses:O,extraBehaviours:[],extraStyles:{}},z=iL(A,n,S,i),$=function(){var tt=function(){var lt=fu.getBody(z);return io.getCurrent(lt).getOr(lt)};return{getRoot:X(z),getBody:function(){return fu.getBody(z)},getFooter:function(){return fu.getFooter(z)},getFormWrapper:tt}}(),q=fL($,r.redial,v);return{dialog:z,instanceApi:q}},m$=function(n,r,i,s){var d,g,v=We("dialog-label"),C=We("dialog-content"),S=function(ut,_t){return D.some(_t)},O=Po(e$({title:n.internalDialog.title,draggable:!0},v,i.shared.providers)),A=Po(QU({body:n.internalDialog.body},C,i,s)),z=aL(n.internalDialog.buttons),$=uL(z),q=Po(s$({buttons:z},i)),tt=fP.initDialog(function(){return Tt},{onBlock:function(ut){$e.block(lt,function(_t,gn){return rL(ut.message,gn,i.shared.providers)})},onUnblock:function(){$e.unblock(lt)},onClose:function(){return r.closeWindow()}},i.shared.getSink),lt=ra({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=v,d["aria-describedby"]=C,d)},eventOrder:(g={},g[as()]=[Ol.name(),Rc.name()],g[Xc()]=["execute-on-form"],g[Ec()]=["reflecting","execute-on-form"],g),behaviours:we([kr.config({mode:"cyclic",onEscape:function(ut){return uo(ut,ys),D.some(!0)},useTabstopAt:function(ut){return!_0(ut)&&(dt(ut)!=="button"||yi(ut,"disabled")!=="disabled")}}),Ol.config({channel:sP,updateState:S,initialData:n}),Nr.config({}),Zr("execute-on-form",tt.concat([Of(is(),function(ut,_t){kr.focusIn(ut)})])),$e.config({getRoot:function(){return D.some(lt)}}),Ur.config({}),av.memory({})]),components:[O.asSpec(),A.asSpec(),q.asSpec()]}),Tt=fL({getRoot:X(lt),getFooter:function(){return q.get(lt)},getBody:function(){return A.get(lt)},getFormWrapper:function(){var ut=A.get(lt);return io.getCurrent(ut).getOr(ut)}},r.redial,$);return{dialog:lt,instanceApi:Tt}},mP=tinymce.util.Tools.resolve("tinymce.util.URI"),g$=function(n){var r=function(v){n.getSystem().isConnected()&&v(n)},i=function(v){if(!Ce(v))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(C){Sr(C,lS,{message:v})})},s=function(){r(function(v){uo(v,w0)})},d=function(){r(function(v){uo(v,ys)})},g=function(v){r(function(C){C.getSystem().broadcastOn([WF],v)})};return{block:i,unblock:s,close:d,sendMessage:g}},p$=["insertContent","setContent","execCommand","close","block","unblock"],dL=function(n){return De(n)&&p$.indexOf(n.mceAction)!==-1},h$=function(n){return!dL(n)&&De(n)&&Hn(n,"mceAction")},v$=function(n,r,i){switch(i.mceAction){case"insertContent":n.insertContent(i.content);break;case"setContent":n.setContent(i.content);break;case"execCommand":var s=ce(i.ui)?i.ui:!1;n.execCommand(i.cmd,s,i.value);break;case"close":r.close();break;case"block":r.block(i.message);break;case"unblock":r.unblock();break}},b$=function(n,r,i,s){var d,g=eL(n.title,s),v=t$(n),C=n.buttons.bind(function(_t){return _t.length===0?D.none():D.some(lL({buttons:_t},s))}),S=fP.initUrlDialog(function(){return ut},oL(function(){return Tt},s.shared.providers,r)),O=J(J({},n.height.fold(function(){return{}},function(_t){return{height:_t+"px","max-height":_t+"px"}})),n.width.fold(function(){return{}},function(_t){return{width:_t+"px","max-width":_t+"px"}})),A=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],z=new mP(n.url,{base_uri:new mP(window.location.href)}),$=z.protocol+"://"+z.host+(z.port?":"+z.port:""),q=km(),tt=[Zr("messages",[Si(function(){var _t=Yi(st.fromDom(window),"message",function(gn){if(z.isSameOrigin(new mP(gn.raw.origin))){var wn=gn.raw.data;dL(wn)?v$(i,ut,wn):h$(wn)&&n.onMessage(ut,wn)}});q.set(_t)}),_c(q.clear)]),Rc.config({channels:(d={},d[WF]={onReceive:function(_t,gn){fa(_t.element,"iframe").each(function(wn){var kt=wn.dom.contentWindow;kt.postMessage(gn,$)})}},d)})],lt={header:g,body:v,footer:C,extraClasses:A,extraBehaviours:tt,extraStyles:O},Tt=iL(lt,n,S,s),ut=g$(Tt);return{dialog:Tt,instanceApi:ut}},y$=function(n){var r=n.backstage.shared,i=function(s,d){var g=function(){fu.hide(O),d()},v=Po(A0({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:D.none()},"cancel",n.backstage)),C=XF(),S=KF(g,r.providers),O=ra(lP({lazySink:function(){return r.getSink()},header:GF(C,S),body:JF(s,r.providers),footer:D.some(YF(QF([],[v.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Un(qs,g)],eventOrder:{}}));fu.show(O);var A=v.get(O);Nr.focus(A)};return{open:i}},x$=function(n){var r=n.backstage.shared,i=function(s,d){var g=function($){fu.hide(A),d($)},v=Po(A0({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:D.none()},"submit",n.backstage)),C=A0({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:D.none()},"cancel",n.backstage),S=XF(),O=KF(function(){return g(!1)},r.providers),A=ra(lP({lazySink:function(){return r.getSink()},header:GF(S,O),body:JF(s,r.providers),footer:D.some(YF(QF([],[C,v.asSpec()]))),onEscape:function(){return g(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Un(qs,function(){return g(!1)}),Un(x0,function(){return g(!0)})],eventOrder:{}}));fu.show(A);var z=v.get(A);Nr.focus(z)};return{open:i}},w$=function(n,r){return _s(Di("data",r,n))},C$=function(n){return T2(n,".tox-alert-dialog")||T2(n,".tox-confirm-dialog")},S$=function(n,r,i){return r&&i?[]:[ku.config({contextual:{lazyContext:function(){return D.some(na(st.fromDom(n.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},k$=function(n){var r=n.backstage,i=n.editor,s=tS(i),d=y$(n),g=x$(n),v=function(tt,lt,Tt){return lt!==void 0&&lt.inline==="toolbar"?A(tt,r.shared.anchors.inlineDialog(),Tt,lt.ariaAttrs):lt!==void 0&&lt.inline==="cursor"?A(tt,r.shared.anchors.cursor(),Tt,lt.ariaAttrs):O(tt,Tt)},C=function(tt,lt){return S(tt,lt)},S=function(tt,lt){var Tt=function(ut){var _t=b$(ut,{closeWindow:function(){fu.hide(_t.dialog),lt(_t.instanceApi)}},i,r);return fu.show(_t.dialog),_t.instanceApi};return vE.openUrl(Tt,tt)},O=function(tt,lt){var Tt=function(ut,_t,gn){var wn=_t,kt={dataValidator:gn,initialData:wn,internalDialog:ut},rn=d$(kt,{redial:vE.redial,closeWindow:function(){fu.hide(rn.dialog),lt(rn.instanceApi)}},r);return fu.show(rn.dialog),rn.instanceApi.setData(wn),rn.instanceApi};return vE.open(Tt,tt)},A=function(tt,lt,Tt,ut){var _t=function(gn,wn,kt){var rn=w$(wn,kt),Bn=Ui(),Re=r.shared.header.isPositionedAtTop(),Vn={dataValidator:kt,initialData:rn,internalDialog:gn},ze=function(){return Bn.on(function(Oe){Ho.reposition(Oe),ku.refresh(Oe)})},Kn=m$(Vn,{redial:vE.redial,closeWindow:function(){Bn.on(Ho.hide),i.off("ResizeEditor",ze),Bn.clear(),Tt(Kn.instanceApi)}},r,ut),Rn=ra(Ho.sketch(J(J({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},Re?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:we(fn([Zr("window-manager-inline-events",[Un(As(),function(Oe,or){uo(Kn.dialog,qs)})])],S$(i,s,Re),!0)),isExtraPart:function(Oe,or){return C$(or)}})));return Bn.set(Rn),Ho.showWithin(Rn,Qc(Kn.dialog),{anchor:lt},D.some(No())),(!s||!Re)&&(ku.refresh(Rn),i.on("ResizeEditor",ze)),Kn.instanceApi.setData(rn),kr.focusIn(Kn.dialog),Kn.instanceApi};return vE.open(_t,tt)},z=function(tt,lt){g.open(tt,function(Tt){lt(Tt)})},$=function(tt,lt){d.open(tt,function(){lt()})},q=function(tt){tt.close()};return{open:v,openUrl:C,alert:$,close:q,confirm:z}};function T$(){pn.add("silver",function(n){var r=aV(n),i=r.uiMothership,s=r.backstage,d=r.renderUI,g=r.getUi;MB.register(n,s.shared);var v=k$({editor:n,backstage:s});return{renderUI:d,getWindowManagerImpl:X(v),getNotificationManagerImpl:function(){return _R(n,{backstage:s},i)},ui:g()}})}T$()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(H,fn,Ke){var Cn=fn==="UL"?"InsertUnorderedList":"InsertOrderedList";H.execCommand(Cn,!1,Ke===!1?null:{"list-style-type":Ke})},Ae=function(H){H.addCommand("ApplyUnorderedListStyle",function(fn,Ke){Ge(H,"UL",Ke["list-style-type"])}),H.addCommand("ApplyOrderedListStyle",function(fn,Ke){Ge(H,"OL",Ke["list-style-type"])})},cr=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ce=function(H){var fn=H.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return fn?fn.split(/[ ,]/):[]},De=function(H){var fn=H.getParam("advlist_bullet_styles","default,circle,square");return fn?fn.split(/[ ,]/):[]},Be=function(){},Ne=function(H){return function(){return H}},ce=function(H){return H},Or=Ne(!1),Wn=Ne(!0),Bt=function(){return _n},_n=function(){var H=function(Cn){return Cn()},fn=ce,Ke={fold:function(Cn,br){return Cn()},isSome:Or,isNone:Wn,getOr:fn,getOrThunk:H,getOrDie:function(Cn){throw new Error(Cn||"error: getOrDie called on none.")},getOrNull:Ne(null),getOrUndefined:Ne(void 0),or:fn,orThunk:H,map:Bt,each:Be,bind:Bt,exists:Or,forall:Wn,filter:function(){return Bt()},toArray:function(){return[]},toString:Ne("none()")};return Ke}(),on=function(H){var fn=Ne(H),Ke=function(){return br},Cn=function(ar){return ar(H)},br={fold:function(ar,D){return D(H)},isSome:Wn,isNone:Or,getOr:fn,getOrThunk:fn,getOrDie:fn,getOrNull:fn,getOrUndefined:fn,or:Ke,orThunk:Ke,map:function(ar){return on(ar(H))},each:function(ar){ar(H)},bind:Cn,exists:Cn,forall:Cn,filter:function(ar){return ar(H)?br:_n},toArray:function(){return[H]},toString:function(){return"some("+H+")"}};return br},It=function(H){return H==null?_n:on(H)},At={some:on,none:Bt,from:It},Sn=function(H,fn){return H.$.contains(H.getBody(),fn)},Xt=function(H){return H&&/^(TH|TD)$/.test(H.nodeName)},fe=function(H){return function(fn){return fn&&/^(OL|UL|DL)$/.test(fn.nodeName)&&Sn(H,fn)}},X=function(H){var fn=H.dom.getParent(H.selection.getNode(),"ol,ul"),Ke=H.dom.getStyle(fn,"listStyleType");return At.from(Ke)},Yt=function(H,fn){for(var Ke=0;Ke<H.length;Ke++){var Cn=H[Ke];if(fn(Cn))return Ke}return-1},un=function(H){return H.replace(/\-/g," ").replace(/\b\w/g,function(fn){return fn.toUpperCase()})},tr=function(H,fn,Ke){var Cn=Yt(fn.parents,Xt),br=Cn!==-1?fn.parents.slice(0,Cn):fn.parents,ar=cr.grep(br,fe(H));return ar.length>0&&ar[0].nodeName===Ke},Me=function(H,fn){return function(Ke){var Cn=function(br){Ke.setActive(tr(H,br,fn))};return H.on("NodeChange",Cn),function(){return H.off("NodeChange",Cn)}}},Ft=function(H,fn,Ke,Cn,br,ar){H.ui.registry.addSplitButton(fn,{tooltip:Ke,icon:br==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(D){var Dn=cr.map(ar,function(Lt){var An=br==="OL"?"num":"bull",$t=Lt==="disc"||Lt==="decimal"?"default":Lt,oe=Lt==="default"?"":Lt,Pn=un(Lt);return{type:"choiceitem",value:oe,icon:"list-"+An+"-"+$t,text:Pn}});D(Dn)},onAction:function(){return H.execCommand(Cn)},onItemAction:function(D,Dn){Ge(H,br,Dn)},select:function(D){var Dn=X(H);return Dn.map(function(Lt){return D===Lt}).getOr(!1)},onSetup:Me(H,br)})},xn=function(H,fn,Ke,Cn,br,ar){H.ui.registry.addToggleButton(fn,{active:!1,tooltip:Ke,icon:br==="OL"?"ordered-list":"unordered-list",onSetup:Me(H,br),onAction:function(){return H.execCommand(Cn)}})},en=function(H,fn,Ke,Cn,br,ar){ar.length>1?Ft(H,fn,Ke,Cn,br,ar):xn(H,fn,Ke,Cn,br)},pn=function(H){en(H,"numlist","Numbered list","InsertOrderedList","OL",Ce(H)),en(H,"bullist","Bullet list","InsertUnorderedList","UL",De(H))};function J(){vr.add("advlist",function(H){H.hasPlugin("lists")?(pn(H),Ae(H)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}J()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ae=tinymce.util.Tools.resolve("tinymce.util.Tools"),cr=function(pn){return pn.getParam("allow_html_in_named_anchor",!1,"boolean")},Ce="a:not([href])",De=function(pn){return!pn},Be=function(pn){var J=pn.getAttribute("id")||pn.getAttribute("name");return J||""},Ne=function(pn){return pn&&pn.nodeName.toLowerCase()==="a"},ce=function(pn){return Ne(pn)&&!pn.getAttribute("href")&&Be(pn)!==""},Or=function(pn){return ce(pn)&&!pn.firstChild},Wn=function(pn){var J=pn.dom;Ge(J).walk(pn.selection.getRng(),function(H){Ae.each(H,function(fn){Or(fn)&&J.remove(fn,!1)})})},Bt=function(pn){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(pn)},_n=function(pn){return pn.dom.getParent(pn.selection.getStart(),Ce)},on=function(pn){var J=_n(pn);return J?Be(J):""},It=function(pn,J){pn.undoManager.transact(function(){cr(pn)||pn.selection.collapse(!0),pn.selection.isCollapsed()?pn.insertContent(pn.dom.createHTML("a",{id:J})):(Wn(pn),pn.formatter.remove("namedAnchor",null,null,!0),pn.formatter.apply("namedAnchor",{value:J}),pn.addVisual())})},At=function(pn,J,H){H.removeAttribute("name"),H.id=J,pn.addVisual(),pn.undoManager.add()},Sn=function(pn,J){var H=_n(pn);H?At(pn,J,H):It(pn,J),pn.focus()},Xt=function(pn,J){return Bt(J)?(Sn(pn,J),!0):(pn.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},fe=function(pn){var J=on(pn);pn.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:J},onSubmit:function(H){Xt(pn,H.getData().id)&&H.close()}})},X=function(pn){pn.addCommand("mceAnchor",function(){fe(pn)})},Yt=function(pn){return pn&&De(pn.attr("href"))&&!De(pn.attr("id")||pn.attr("name"))},un=function(pn){return Yt(pn)&&!pn.firstChild},tr=function(pn){return function(J){for(var H=0;H<J.length;H++){var fn=J[H];un(fn)&&fn.attr("contenteditable",pn)}}},Me=function(pn){pn.on("PreInit",function(){pn.parser.addNodeFilter("a",tr("false")),pn.serializer.addNodeFilter("a",tr(null))})},Ft=function(pn){pn.formatter.register("namedAnchor",{inline:"a",selector:Ce,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(J,H,fn){return ce(J)}})},xn=function(pn){pn.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return pn.execCommand("mceAnchor")},onSetup:function(J){return pn.selection.selectorChangedWithUnbind("a:not([href])",J.setActive).unbind}}),pn.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return pn.execCommand("mceAnchor")}})};function en(){vr.add("anchor",function(pn){Me(pn),X(pn),xn(pn),pn.on("PreInit",function(){Ft(pn)})})}en()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(Ft,xn,en){return xn===""||Ft.length>=xn.length&&Ft.substr(en,en+xn.length)===xn},Ae=function(Ft,xn){return Ft.indexOf(xn)!==-1},cr=function(Ft,xn){return Ge(Ft,xn,0)},Ce=tinymce.util.Tools.resolve("tinymce.Env"),De=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-+~=.,%()\/\w]*[-+~=%()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},Be=new RegExp("^"+De().source+"$","i"),Ne=function(Ft){return Ft.getParam("autolink_pattern",Be)},ce=function(Ft){return Ft.getParam("default_link_target",!1)},Or=function(Ft){return Ft.getParam("link_default_protocol","http","string")},Wn=function(Ft){return/^[(\[{ \u00a0]$/.test(Ft)},Bt=function(Ft){return Ft.nodeType===3},_n=function(Ft){return Ft.nodeType===1},on=function(Ft){return un(Ft,-1)},It=function(Ft){return un(Ft,0)},At=function(Ft){return un(Ft,-1)},Sn=function(Ft,xn){if(xn<0&&(xn=0),Bt(Ft)){var en=Ft.data.length;xn>en&&(xn=en)}return xn},Xt=function(Ft,xn,en){!_n(xn)||xn.hasChildNodes()?Ft.setStart(xn,Sn(xn,en)):Ft.setStartBefore(xn)},fe=function(Ft,xn,en){!_n(xn)||xn.hasChildNodes()?Ft.setEnd(xn,Sn(xn,en)):Ft.setEndAfter(xn)},X=function(Ft){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Ft)},Yt=function(Ft){return/[?!,.;:]/.test(Ft)},un=function(Ft,xn){var en,pn,J,H,fn,Ke,Cn,br=Ne(Ft),ar=ce(Ft);if(Ft.dom.getParent(Ft.selection.getNode(),"a[href]")===null){var D=Ft.selection.getRng().cloneRange();if(D.startOffset<5){if(fn=D.endContainer.previousSibling,!fn){if(!D.endContainer.firstChild||!D.endContainer.firstChild.nextSibling)return;fn=D.endContainer.firstChild.nextSibling}if(Ke=fn.length,Xt(D,fn,Ke),fe(D,fn,Ke),D.endOffset<5)return;en=D.endOffset,pn=fn}else{if(pn=D.endContainer,!Bt(pn)&&pn.firstChild){for(;!Bt(pn)&&pn.firstChild;)pn=pn.firstChild;Bt(pn)&&(Xt(D,pn,0),fe(D,pn,pn.nodeValue.length))}D.endOffset===1?en=2:en=D.endOffset-1-xn}var Dn=en;do Xt(D,pn,en>=2?en-2:0),fe(D,pn,en>=1?en-1:0),en-=1,Cn=D.toString();while(!Wn(Cn)&&en-2>=0);Wn(D.toString())?(Xt(D,pn,en),fe(D,pn,Dn),en+=1):D.startOffset===0?(Xt(D,pn,0),fe(D,pn,Dn)):(Xt(D,pn,en),fe(D,pn,Dn)),H=D.toString(),Yt(H.charAt(H.length-1))&&fe(D,pn,Dn-1),H=D.toString().trim();var Lt=H.match(br),An=Or(Ft);if(Lt){var $t=Lt[0];cr($t,"www.")?$t=An+"://"+$t:Ae($t,"@")&&!X($t)&&($t="mailto:"+$t),J=Ft.selection.getBookmark(),Ft.selection.setRng(D),Ft.execCommand("createlink",!1,$t),ar!==!1&&Ft.dom.setAttrib(Ft.selection.getNode(),"target",ar),Ft.selection.moveToBookmark(J),Ft.nodeChanged()}}},tr=function(Ft){var xn;if(Ft.on("keydown",function(en){if(en.keyCode===13)return At(Ft)}),Ce.browser.isIE()){Ft.on("focus",function(){if(!xn){xn=!0;try{Ft.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}Ft.on("keypress",function(en){if(en.keyCode===41||en.keyCode===93||en.keyCode===125)return on(Ft)}),Ft.on("keyup",function(en){if(en.keyCode===32)return It(Ft)})};function Me(){vr.add("autolink",function(Ft){tr(Ft)})}Me()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(J){return function(H){return J===H}},Ae=Ge(void 0),cr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ce=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),De=tinymce.util.Tools.resolve("tinymce.util.Tools"),Be=function(J){return J.fire("RestoreDraft")},Ne=function(J){return J.fire("StoreDraft")},ce=function(J){return J.fire("RemoveDraft")},Or=function(J,H){var fn={s:1e3,m:6e4},Ke=J||H,Cn=/^(\d+)([ms]?)$/.exec(""+Ke);return(Cn[2]?fn[Cn[2]]:1)*parseInt(Ke,10)},Wn=function(J){return J.getParam("autosave_ask_before_unload",!0)},Bt=function(J){var H=document.location;return J.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,H.pathname).replace(/{query}/g,H.search).replace(/{hash}/g,H.hash).replace(/{id}/g,J.id)},_n=function(J){return J.getParam("autosave_restore_when_empty",!1)},on=function(J){return Or(J.getParam("autosave_interval"),"30s")},It=function(J){return Or(J.getParam("autosave_retention"),"20m")},At=function(J,H){if(Ae(H))return J.dom.isEmpty(J.getBody());var fn=De.trim(H);if(fn==="")return!0;var Ke=new DOMParser().parseFromString(fn,"text/html");return J.dom.isEmpty(Ke)},Sn=function(J){var H=parseInt(Ce.getItem(Bt(J)+"time"),10)||0;return new Date().getTime()-H>It(J)?(Xt(J,!1),!1):!0},Xt=function(J,H){var fn=Bt(J);Ce.removeItem(fn+"draft"),Ce.removeItem(fn+"time"),H!==!1&&ce(J)},fe=function(J){var H=Bt(J);!At(J)&&J.isDirty()&&(Ce.setItem(H+"draft",J.getContent({format:"raw",no_events:!0})),Ce.setItem(H+"time",new Date().getTime().toString()),Ne(J))},X=function(J){var H=Bt(J);Sn(J)&&(J.setContent(Ce.getItem(H+"draft"),{format:"raw"}),Be(J))},Yt=function(J){var H=on(J);cr.setEditorInterval(J,function(){fe(J)},H)},un=function(J){J.undoManager.transact(function(){X(J),Xt(J)}),J.focus()},tr=function(J){return{hasDraft:function(){return Sn(J)},storeDraft:function(){return fe(J)},restoreDraft:function(){return X(J)},removeDraft:function(H){return Xt(J,H)},isEmpty:function(H){return At(J,H)}}},Me=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ft=function(J){J.editorManager.on("BeforeUnload",function(H){var fn;De.each(Me.get(),function(Ke){Ke.plugins.autosave&&Ke.plugins.autosave.storeDraft(),!fn&&Ke.isDirty()&&Wn(Ke)&&(fn=Ke.translate("You have unsaved changes are you sure you want to navigate away?"))}),fn&&(H.preventDefault(),H.returnValue=fn)})},xn=function(J){return function(H){H.setDisabled(!Sn(J));var fn=function(){return H.setDisabled(!Sn(J))};return J.on("StoreDraft RestoreDraft RemoveDraft",fn),function(){return J.off("StoreDraft RestoreDraft RemoveDraft",fn)}}},en=function(J){Yt(J),J.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){un(J)},onSetup:xn(J)}),J.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){un(J)},onSetup:xn(J)})};function pn(){vr.add("autosave",function(J){return Ft(J),en(J),J.on("init",function(){_n(J)&&J.dom.isEmpty(J.getBody())&&X(J)}),tr(J)})}pn()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(Ne,ce){Ne.focus(),Ne.undoManager.transact(function(){Ne.setContent(ce)}),Ne.selection.setCursorLocation(),Ne.nodeChanged()},Ae=function(Ne){return Ne.getContent({source_view:!0})},cr=function(Ne){var ce=Ae(Ne);Ne.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:ce},onSubmit:function(Or){Ge(Ne,Or.getData().code),Or.close()}})},Ce=function(Ne){Ne.addCommand("mceCodeEditor",function(){cr(Ne)})},De=function(Ne){var ce=function(){return Ne.execCommand("mceCodeEditor")};Ne.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:ce}),Ne.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:ce})};function Be(){vr.add("code",function(Ne){return Ce(Ne),De(Ne),{}})}Be()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(){},Ae=function(Dn){return function(){return Dn}},cr=function(Dn){return Dn},Ce=Ae(!1),De=Ae(!0),Be=function(){return Ne},Ne=function(){var Dn=function($t){return $t()},Lt=cr,An={fold:function($t,oe){return $t()},isSome:Ce,isNone:De,getOr:Lt,getOrThunk:Dn,getOrDie:function($t){throw new Error($t||"error: getOrDie called on none.")},getOrNull:Ae(null),getOrUndefined:Ae(void 0),or:Lt,orThunk:Dn,map:Be,each:Ge,bind:Be,exists:Ce,forall:De,filter:function(){return Be()},toArray:function(){return[]},toString:Ae("none()")};return An}(),ce=function(Dn){var Lt=Ae(Dn),An=function(){return oe},$t=function(Pn){return Pn(Dn)},oe={fold:function(Pn,ie){return ie(Dn)},isSome:De,isNone:Ce,getOr:Lt,getOrThunk:Lt,getOrDie:Lt,getOrNull:Lt,getOrUndefined:Lt,or:An,orThunk:An,map:function(Pn){return ce(Pn(Dn))},each:function(Pn){Pn(Dn)},bind:$t,exists:$t,forall:$t,filter:function(Pn){return Pn(Dn)?oe:Ne},toArray:function(){return[Dn]},toString:function(){return"some("+Dn+")"}};return oe},Or=function(Dn){return Dn==null?Ne:ce(Dn)},Wn={some:ce,none:Be,from:Or},Bt=function(Dn,Lt){return Lt>=0&&Lt<Dn.length?Wn.some(Dn[Lt]):Wn.none()},_n=function(Dn){return Bt(Dn,0)},on=function(Dn,Lt){return Dn?Wn.some(Lt):Wn.none()},It=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),At=function(Dn){return Dn&&Dn.nodeName==="PRE"&&Dn.className.indexOf("language-")!==-1},Sn=function(Dn){return function(Lt,An){return Dn(An)}},Xt=typeof window<"u"?window:Function("return this;")(),fe={},X={exports:fe},Yt={};(function(Dn,Lt,An,$t){var oe=window.Prism;window.Prism={manual:!0},function(ie,K){typeof Lt=="object"&&typeof An<"u"?An.exports=K():typeof Dn=="function"&&Dn.amd?Dn(K):(ie=typeof globalThis<"u"?globalThis:ie||self,ie.EphoxContactWrapper=K())}(this,function(){var ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Yt<"u"?Yt:typeof self<"u"?self:{},K={exports:{}};(function(Pt){var ye=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},Ot=function(Dt){var Qt=/\blang(?:uage)?-([\w-]+)\b/i,jn=0,nn={},kn={manual:Dt.Prism&&Dt.Prism.manual,disableWorkerMessageHandler:Dt.Prism&&Dt.Prism.disableWorkerMessageHandler,util:{encode:function Xn(Jn){return Jn instanceof Ye?new Ye(Jn.type,Xn(Jn.content),Jn.alias):Array.isArray(Jn)?Jn.map(Xn):Jn.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Xn){return Object.prototype.toString.call(Xn).slice(8,-1)},objId:function(Xn){return Xn.__id||Object.defineProperty(Xn,"__id",{value:++jn}),Xn.__id},clone:function Xn(Jn,En){En=En||{};var zt,jt;switch(kn.util.type(Jn)){case"Object":if(jt=kn.util.objId(Jn),En[jt])return En[jt];zt={},En[jt]=zt;for(var qn in Jn)Jn.hasOwnProperty(qn)&&(zt[qn]=Xn(Jn[qn],En));return zt;case"Array":return jt=kn.util.objId(Jn),En[jt]?En[jt]:(zt=[],En[jt]=zt,Jn.forEach(function(xe,Qn){zt[Qn]=Xn(xe,En)}),zt);default:return Jn}},getLanguage:function(Xn){for(;Xn&&!Qt.test(Xn.className);)Xn=Xn.parentElement;return Xn?(Xn.className.match(Qt)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(zt){var Xn=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(zt.stack)||[])[1];if(Xn){var Jn=document.getElementsByTagName("script");for(var En in Jn)if(Jn[En].src==Xn)return Jn[En]}return null}},isActive:function(Xn,Jn,En){for(var zt="no-"+Jn;Xn;){var jt=Xn.classList;if(jt.contains(Jn))return!0;if(jt.contains(zt))return!1;Xn=Xn.parentElement}return!!En}},languages:{plain:nn,plaintext:nn,text:nn,txt:nn,extend:function(Xn,Jn){var En=kn.util.clone(kn.languages[Xn]);for(var zt in Jn)En[zt]=Jn[zt];return En},insertBefore:function(Xn,Jn,En,zt){zt=zt||kn.languages;var jt=zt[Xn],qn={};for(var xe in jt)if(jt.hasOwnProperty(xe)){if(xe==Jn)for(var Qn in En)En.hasOwnProperty(Qn)&&(qn[Qn]=En[Qn]);En.hasOwnProperty(xe)||(qn[xe]=jt[xe])}var Mt=zt[Xn];return zt[Xn]=qn,kn.languages.DFS(kn.languages,function(Fn,me){me===Mt&&Fn!=Xn&&(this[Fn]=qn)}),qn},DFS:function Xn(Jn,En,zt,jt){jt=jt||{};var qn=kn.util.objId;for(var xe in Jn)if(Jn.hasOwnProperty(xe)){En.call(Jn,xe,Jn[xe],zt||xe);var Qn=Jn[xe],Mt=kn.util.type(Qn);Mt==="Object"&&!jt[qn(Qn)]?(jt[qn(Qn)]=!0,Xn(Qn,En,null,jt)):Mt==="Array"&&!jt[qn(Qn)]&&(jt[qn(Qn)]=!0,Xn(Qn,En,xe,jt))}}},plugins:{},highlightAll:function(Xn,Jn){kn.highlightAllUnder(document,Xn,Jn)},highlightAllUnder:function(Xn,Jn,En){var zt={callback:En,container:Xn,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};kn.hooks.run("before-highlightall",zt),zt.elements=Array.prototype.slice.apply(zt.container.querySelectorAll(zt.selector)),kn.hooks.run("before-all-elements-highlight",zt);for(var jt=0,qn;qn=zt.elements[jt++];)kn.highlightElement(qn,Jn===!0,zt.callback)},highlightElement:function(Xn,Jn,En){var zt=kn.util.getLanguage(Xn),jt=kn.languages[zt];Xn.className=Xn.className.replace(Qt,"").replace(/\s+/g," ")+" language-"+zt;var qn=Xn.parentElement;qn&&qn.nodeName.toLowerCase()==="pre"&&(qn.className=qn.className.replace(Qt,"").replace(/\s+/g," ")+" language-"+zt);var xe=Xn.textContent,Qn={element:Xn,language:zt,grammar:jt,code:xe};function Mt(me){Qn.highlightedCode=me,kn.hooks.run("before-insert",Qn),Qn.element.innerHTML=Qn.highlightedCode,kn.hooks.run("after-highlight",Qn),kn.hooks.run("complete",Qn),En&&En.call(Qn.element)}if(kn.hooks.run("before-sanity-check",Qn),qn=Qn.element.parentElement,qn&&qn.nodeName.toLowerCase()==="pre"&&!qn.hasAttribute("tabindex")&&qn.setAttribute("tabindex","0"),!Qn.code){kn.hooks.run("complete",Qn),En&&En.call(Qn.element);return}if(kn.hooks.run("before-highlight",Qn),!Qn.grammar){Mt(kn.util.encode(Qn.code));return}if(Jn&&Dt.Worker){var Fn=new Worker(kn.filename);Fn.onmessage=function(me){Mt(me.data)},Fn.postMessage(JSON.stringify({language:Qn.language,code:Qn.code,immediateClose:!0}))}else Mt(kn.highlight(Qn.code,Qn.grammar,Qn.language))},highlight:function(Xn,Jn,En){var zt={code:Xn,grammar:Jn,language:En};return kn.hooks.run("before-tokenize",zt),zt.tokens=kn.tokenize(zt.code,zt.grammar),kn.hooks.run("after-tokenize",zt),Ye.stringify(kn.util.encode(zt.tokens),zt.language)},tokenize:function(Xn,Jn){var En=Jn.rest;if(En){for(var zt in En)Jn[zt]=En[zt];delete Jn.rest}var jt=new le;return zn(jt,jt.head,Xn),sn(Xn,jt,Jn,jt.head,0),er(jt)},hooks:{all:{},add:function(Xn,Jn){var En=kn.hooks.all;En[Xn]=En[Xn]||[],En[Xn].push(Jn)},run:function(Xn,Jn){var En=kn.hooks.all[Xn];if(!(!En||!En.length))for(var zt=0,jt;jt=En[zt++];)jt(Jn)}},Token:Ye};Dt.Prism=kn;function Ye(Xn,Jn,En,zt){this.type=Xn,this.content=Jn,this.alias=En,this.length=(zt||"").length|0}Ye.stringify=function Xn(Jn,En){if(typeof Jn=="string")return Jn;if(Array.isArray(Jn)){var zt="";return Jn.forEach(function(Mt){zt+=Xn(Mt,En)}),zt}var jt={type:Jn.type,content:Xn(Jn.content,En),tag:"span",classes:["token",Jn.type],attributes:{},language:En},qn=Jn.alias;qn&&(Array.isArray(qn)?Array.prototype.push.apply(jt.classes,qn):jt.classes.push(qn)),kn.hooks.run("wrap",jt);var xe="";for(var Qn in jt.attributes)xe+=" "+Qn+'="'+(jt.attributes[Qn]||"").replace(/"/g,"&quot;")+'"';return"<"+jt.tag+' class="'+jt.classes.join(" ")+'"'+xe+">"+jt.content+"</"+jt.tag+">"};function pt(Xn,Jn,En,zt){Xn.lastIndex=Jn;var jt=Xn.exec(En);if(jt&&zt&&jt[1]){var qn=jt[1].length;jt.index+=qn,jt[0]=jt[0].slice(qn)}return jt}function sn(Xn,Jn,En,zt,jt,qn){for(var xe in En)if(!(!En.hasOwnProperty(xe)||!En[xe])){var Qn=En[xe];Qn=Array.isArray(Qn)?Qn:[Qn];for(var Mt=0;Mt<Qn.length;++Mt){if(qn&&qn.cause==xe+","+Mt)return;var Fn=Qn[Mt],me=Fn.inside,te=!!Fn.lookbehind,Ie=!!Fn.greedy,ht=Fn.alias;if(Ie&&!Fn.pattern.global){var dn=Fn.pattern.toString().match(/[imsuy]*$/)[0];Fn.pattern=RegExp(Fn.pattern.source,dn+"g")}for(var tn=Fn.pattern||Fn,Hn=zt.next,Pe=jt;Hn!==Jn.tail&&!(qn&&Pe>=qn.reach);Pe+=Hn.value.length,Hn=Hn.next){var Er=Hn.value;if(Jn.length>Xn.length)return;if(!(Er instanceof Ye)){var Eo=1,_r;if(Ie){if(_r=pt(tn,Pe,Xn,te),!_r)break;var oi=_r.index,Rr=_r.index+_r[0].length,Bo=Pe;for(Bo+=Hn.value.length;oi>=Bo;)Hn=Hn.next,Bo+=Hn.value.length;if(Bo-=Hn.value.length,Pe=Bo,Hn.value instanceof Ye)continue;for(var Mi=Hn;Mi!==Jn.tail&&(Bo<Rr||typeof Mi.value=="string");Mi=Mi.next)Eo++,Bo+=Mi.value.length;Eo--,Er=Xn.slice(Pe,Bo),_r.index-=Pe}else if(_r=pt(tn,0,Er,te),!_r)continue;var oi=_r.index,Wo=_r[0],ci=Er.slice(0,oi),Fi=Er.slice(oi+Wo.length),di=Pe+Er.length;qn&&di>qn.reach&&(qn.reach=di);var ti=Hn.prev;ci&&(ti=zn(Jn,ti,ci),Pe+=ci.length),Ue(Jn,ti,Eo);var Li=new Ye(xe,me?kn.tokenize(Wo,me):Wo,ht,Wo);if(Hn=zn(Jn,ti,Li),Fi&&zn(Jn,Hn,Fi),Eo>1){var Jr={cause:xe+","+Mt,reach:di};sn(Xn,Jn,En,Hn.prev,Pe,Jr),qn&&Jr.reach>qn.reach&&(qn.reach=Jr.reach)}}}}}}function le(){var Xn={value:null,prev:null,next:null},Jn={value:null,prev:Xn,next:null};Xn.next=Jn,this.head=Xn,this.tail=Jn,this.length=0}function zn(Xn,Jn,En){var zt=Jn.next,jt={value:En,prev:Jn,next:zt};return Jn.next=jt,zt.prev=jt,Xn.length++,jt}function Ue(Xn,Jn,En){for(var zt=Jn.next,jt=0;jt<En&&zt!==Xn.tail;jt++)zt=zt.next;Jn.next=zt,zt.prev=Jn,Xn.length-=jt}function er(Xn){for(var Jn=[],En=Xn.head.next;En!==Xn.tail;)Jn.push(En.value),En=En.next;return Jn}if(!Dt.document)return Dt.addEventListener&&(kn.disableWorkerMessageHandler||Dt.addEventListener("message",function(Xn){var Jn=JSON.parse(Xn.data),En=Jn.language,zt=Jn.code,jt=Jn.immediateClose;Dt.postMessage(kn.highlight(zt,kn.languages[En],En)),jt&&Dt.close()},!1)),kn;var qr=kn.util.currentScript();qr&&(kn.filename=qr.src,qr.hasAttribute("data-manual")&&(kn.manual=!0));function ao(){kn.manual||kn.highlightAll()}if(!kn.manual){var ko=document.readyState;ko==="loading"||ko==="interactive"&&qr&&qr.defer?document.addEventListener("DOMContentLoaded",ao):window.requestAnimationFrame?window.requestAnimationFrame(ao):window.setTimeout(ao,16)}return kn}(ye);Pt.exports&&(Pt.exports=Ot),typeof ie<"u"&&(ie.Prism=Ot)})(K),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Pt){function ye(Ot,Dt){return"___"+Ot.toUpperCase()+Dt+"___"}Object.defineProperties(Pt.languages["markup-templating"]={},{buildPlaceholders:{value:function(Ot,Dt,Qt,jn){if(Ot.language===Dt){var nn=Ot.tokenStack=[];Ot.code=Ot.code.replace(Qt,function(kn){if(typeof jn=="function"&&!jn(kn))return kn;for(var Ye=nn.length,pt;Ot.code.indexOf(pt=ye(Dt,Ye))!==-1;)++Ye;return nn[Ye]=kn,pt}),Ot.grammar=Pt.languages.markup}}},tokenizePlaceholders:{value:function(Ot,Dt){if(Ot.language!==Dt||!Ot.tokenStack)return;Ot.grammar=Pt.languages[Dt];var Qt=0,jn=Object.keys(Ot.tokenStack);function nn(kn){for(var Ye=0;Ye<kn.length&&!(Qt>=jn.length);Ye++){var pt=kn[Ye];if(typeof pt=="string"||pt.content&&typeof pt.content=="string"){var sn=jn[Qt],le=Ot.tokenStack[sn],zn=typeof pt=="string"?pt:pt.content,Ue=ye(Dt,sn),er=zn.indexOf(Ue);if(er>-1){++Qt;var qr=zn.substring(0,er),ao=new Pt.Token(Dt,Pt.tokenize(le,Ot.grammar),"language-"+Dt,le),ko=zn.substring(er+Ue.length),Xn=[];qr&&Xn.push.apply(Xn,nn([qr])),Xn.push(ao),ko&&Xn.push.apply(Xn,nn([ko])),typeof pt=="string"?kn.splice.apply(kn,[Ye,1].concat(Xn)):pt.content=Xn}}else pt.content&&nn(pt.content)}return kn}nn(Ot.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean,function(Pt){var ye=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,Ot=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return ye.source});Pt.languages.cpp=Pt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return ye.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:ye,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),Pt.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return Ot})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Pt.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Pt.languages.cpp}}}}),Pt.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Pt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Pt.languages.extend("cpp",{})}}),Pt.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Pt.languages.cpp["base-clause"])}(Prism),function(Pt){function ye(Pe,Er){return Pe.replace(/<<(\d+)>>/g,function(Eo,_r){return"(?:"+Er[+_r]+")"})}function Ot(Pe,Er,Eo){return RegExp(ye(Pe,Er),Eo||"")}function Dt(Pe,Er){for(var Eo=0;Eo<Er;Eo++)Pe=Pe.replace(/<<self>>/g,function(){return"(?:"+Pe+")"});return Pe.replace(/<<self>>/g,"[^\\s\\S]")}var Qt={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function jn(Pe){return"\\b(?:"+Pe.trim().replace(/ /g,"|")+")\\b"}var nn=jn(Qt.typeDeclaration),kn=RegExp(jn(Qt.type+" "+Qt.typeDeclaration+" "+Qt.contextual+" "+Qt.other)),Ye=jn(Qt.typeDeclaration+" "+Qt.contextual+" "+Qt.other),pt=jn(Qt.type+" "+Qt.typeDeclaration+" "+Qt.other),sn=Dt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),le=Dt(/\((?:[^()]|<<self>>)*\)/.source,2),zn=/@?\b[A-Za-z_]\w*\b/.source,Ue=ye(/<<0>>(?:\s*<<1>>)?/.source,[zn,sn]),er=ye(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Ye,Ue]),qr=/\[\s*(?:,\s*)*\]/.source,ao=ye(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[er,qr]),ko=ye(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[sn,le,qr]),Xn=ye(/\(<<0>>+(?:,<<0>>+)+\)/.source,[ko]),Jn=ye(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Xn,er,qr]),En={keyword:kn,punctuation:/[<>()?,.:[\]]/},zt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,jt=/"(?:\\.|[^\\"\r\n])*"/.source,qn=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Pt.languages.csharp=Pt.languages.extend("clike",{string:[{pattern:Ot(/(^|[^$\\])<<0>>/.source,[qn]),lookbehind:!0,greedy:!0},{pattern:Ot(/(^|[^@$\\])<<0>>/.source,[jt]),lookbehind:!0,greedy:!0},{pattern:RegExp(zt),greedy:!0,alias:"character"}],"class-name":[{pattern:Ot(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[er]),lookbehind:!0,inside:En},{pattern:Ot(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[zn,Jn]),lookbehind:!0,inside:En},{pattern:Ot(/(\busing\s+)<<0>>(?=\s*=)/.source,[zn]),lookbehind:!0},{pattern:Ot(/(\b<<0>>\s+)<<1>>/.source,[nn,Ue]),lookbehind:!0,inside:En},{pattern:Ot(/(\bcatch\s*\(\s*)<<0>>/.source,[er]),lookbehind:!0,inside:En},{pattern:Ot(/(\bwhere\s+)<<0>>/.source,[zn]),lookbehind:!0},{pattern:Ot(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[ao]),lookbehind:!0,inside:En},{pattern:Ot(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[Jn,pt,zn]),inside:En}],keyword:kn,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Pt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Pt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:Ot(/([(,]\s*)<<0>>(?=\s*:)/.source,[zn]),lookbehind:!0,alias:"punctuation"}}),Pt.languages.insertBefore("csharp","class-name",{namespace:{pattern:Ot(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[zn]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:Ot(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[le]),lookbehind:!0,alias:"class-name",inside:En},"return-type":{pattern:Ot(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[Jn,er]),inside:En,alias:"class-name"},"constructor-invocation":{pattern:Ot(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[Jn]),lookbehind:!0,inside:En,alias:"class-name"},"generic-method":{pattern:Ot(/<<0>>\s*<<1>>(?=\s*\()/.source,[zn,sn]),inside:{function:Ot(/^<<0>>/.source,[zn]),generic:{pattern:RegExp(sn),alias:"class-name",inside:En}}},"type-list":{pattern:Ot(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[nn,Ue,zn,Jn,kn.source,le,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:Ot(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Ue,le]),lookbehind:!0,greedy:!0,inside:Pt.languages.csharp},keyword:kn,"class-name":{pattern:RegExp(Jn),greedy:!0,inside:En},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var xe=jt+"|"+zt,Qn=ye(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[xe]),Mt=Dt(ye(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Qn]),2),Fn=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,me=ye(/<<0>>(?:\s*\(<<1>>*\))?/.source,[er,Mt]);Pt.languages.insertBefore("csharp","class-name",{attribute:{pattern:Ot(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Fn,me]),lookbehind:!0,greedy:!0,inside:{target:{pattern:Ot(/^<<0>>(?=\s*:)/.source,[Fn]),alias:"keyword"},"attribute-arguments":{pattern:Ot(/\(<<0>>*\)/.source,[Mt]),inside:Pt.languages.csharp},"class-name":{pattern:RegExp(er),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var te=/:[^}\r\n]+/.source,Ie=Dt(ye(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Qn]),2),ht=ye(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Ie,te]),dn=Dt(ye(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[xe]),2),tn=ye(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[dn,te]);function Hn(Pe,Er){return{interpolation:{pattern:Ot(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Pe]),lookbehind:!0,inside:{"format-string":{pattern:Ot(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Er,te]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Pt.languages.csharp}}},string:/[\s\S]+/}}Pt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:Ot(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[ht]),lookbehind:!0,greedy:!0,inside:Hn(ht,Ie)},{pattern:Ot(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[tn]),lookbehind:!0,greedy:!0,inside:Hn(tn,dn)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,function(Pt){var ye=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Pt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+ye.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+ye.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+ye.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:ye,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Pt.languages.css.atrule.inside.rest=Pt.languages.css;var Ot=Pt.languages.markup;Ot&&(Ot.tag.addInlined("style","css"),Ot.tag.addAttribute("style","css"))}(Prism),function(Pt){var ye=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,Ot=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Dt={pattern:RegExp(Ot+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Pt.languages.java=Pt.languages.extend("clike",{"class-name":[Dt,{pattern:RegExp(Ot+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:Dt.inside}],keyword:ye,function:[Pt.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),Pt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),Pt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Dt,keyword:ye,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return ye.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(Pt){Pt.type==="entity"&&(Pt.attributes.title=Pt.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(Pt,ye){var Ot={};Ot["language-"+ye]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[ye]},Ot.cdata=/^<!\[CDATA\[|\]\]>$/i;var Dt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Ot}};Dt["language-"+ye]={pattern:/[\s\S]+/,inside:Prism.languages[ye]};var Qt={};Qt[Pt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Pt}),"i"),lookbehind:!0,greedy:!0,inside:Dt},Prism.languages.insertBefore("markup","cdata",Qt)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(Pt,ye){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Pt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[ye,"language-"+ye],inside:Prism.languages[ye]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(Pt){var ye=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,Ot=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Dt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,Qt=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,jn=/[{}\[\](),:;]/;Pt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:ye,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ot,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Dt,operator:Qt,punctuation:jn};var nn={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Pt.languages.php},kn=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:nn}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:nn}}];Pt.languages.insertBefore("php","variable",{string:kn,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:ye,string:kn,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ot,number:Dt,operator:Qt,punctuation:jn}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Pt.hooks.add("before-tokenize",function(Ye){if(/<\?/.test(Ye.code)){var pt=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi;Pt.languages["markup-templating"].buildPlaceholders(Ye,"php",pt)}}),Pt.hooks.add("after-tokenize",function(Ye){Pt.languages["markup-templating"].tokenizePlaceholders(Ye,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(Pt){Pt.languages.ruby=Pt.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var ye={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:Pt.languages.ruby}};delete Pt.languages.ruby.function,Pt.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:ye}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:ye}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:Pt.languages.ruby}}}),Pt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),Pt.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:ye}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:ye}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:ye}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],Pt.languages.rb=Pt.languages.ruby}(Prism);var xr=K.exports,Zt={boltExport:xr};return Zt});var Pn=window.Prism;return window.Prism=oe,Pn})(void 0,fe,X);var un=X.exports.boltExport,tr=function(Dn){return Dn.getParam("codesample_languages")},Me=function(Dn){return Dn.getParam("codesample_global_prismjs",!1,"boolean")},Ft=function(Dn){return Xt.Prism&&Me(Dn)?Xt.Prism:un},xn=function(Dn){var Lt=Dn.selection?Dn.selection.getNode():null;return on(At(Lt),Lt)},en=function(Dn,Lt,An){Dn.undoManager.transact(function(){var $t=xn(Dn);return An=It.DOM.encode(An),$t.fold(function(){Dn.insertContent('<pre id="__new" class="language-'+Lt+'">'+An+"</pre>"),Dn.selection.select(Dn.$("#__new").removeAttr("id")[0])},function(oe){Dn.dom.setAttrib(oe,"class","language-"+Lt),oe.innerHTML=An,Ft(Dn).highlightElement(oe),Dn.selection.select(oe)})})},pn=function(Dn){var Lt=xn(Dn);return Lt.fold(Ae(""),function(An){return An.textContent})},J=function(Dn){var Lt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],An=tr(Dn);return An||Lt},H=function(Dn,Lt){var An=xn(Dn);return An.fold(function(){return Lt},function($t){var oe=$t.className.match(/language-(\w+)/);return oe?oe[1]:Lt})},fn=function(Dn){var Lt=J(Dn),An=_n(Lt).fold(Ae(""),function(Pn){return Pn.value}),$t=H(Dn,An),oe=pn(Dn);Dn.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:Lt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:$t,code:oe},onSubmit:function(Pn){var ie=Pn.getData();en(Dn,ie.language,ie.code),Pn.close()}})},Ke=function(Dn){Dn.addCommand("codesample",function(){var Lt=Dn.selection.getNode();Dn.selection.isCollapsed()||At(Lt)?fn(Dn):Dn.formatter.toggle("code")})},Cn=function(Dn){var Lt=Dn.$;Dn.on("PreProcess",function(An){Lt("pre[contenteditable=false]",An.node).filter(Sn(At)).each(function($t,oe){var Pn=Lt(oe),ie=oe.textContent;Pn.attr("class",Lt.trim(Pn.attr("class"))),Pn.removeAttr("contentEditable"),Pn.empty().append(Lt("<code></code>").each(function(){this.textContent=ie}))})}),Dn.on("SetContent",function(){var An=Lt("pre").filter(Sn(At)).filter(function($t,oe){return oe.contentEditable!=="false"});An.length&&Dn.undoManager.transact(function(){An.each(function($t,oe){Lt(oe).find("br").each(function(Pn,ie){ie.parentNode.replaceChild(Dn.getDoc().createTextNode(`
`),ie)}),oe.contentEditable="false",oe.innerHTML=Dn.dom.encode(oe.textContent),Ft(Dn).highlightElement(oe),oe.className=Lt.trim(oe.className)})})})},br=function(Dn){var Lt=Dn.selection.getStart();return Dn.dom.is(Lt,'pre[class*="language-"]')},ar=function(Dn){var Lt=function(){return Dn.execCommand("codesample")};Dn.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Lt,onSetup:function(An){var $t=function(){An.setActive(br(Dn))};return Dn.on("NodeChange",$t),function(){return Dn.off("NodeChange",$t)}}}),Dn.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Lt})};function D(){vr.add("codesample",function(Dn){Cn(Dn),ar(Dn),Ke(Dn),Dn.on("dblclick",function(Lt){At(Lt.target)&&fn(Dn)})})}D()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(Mt){var Fn=typeof Mt;return Mt===null?"null":Fn==="object"&&(Array.prototype.isPrototypeOf(Mt)||Mt.constructor&&Mt.constructor.name==="Array")?"array":Fn==="object"&&(String.prototype.isPrototypeOf(Mt)||Mt.constructor&&Mt.constructor.name==="String")?"string":Fn},Ae=function(Mt){return function(Fn){return Ge(Fn)===Mt}},cr=function(Mt){return function(Fn){return typeof Fn===Mt}},Ce=Ae("string"),De=cr("boolean"),Be=function(Mt){return Mt==null},Ne=function(Mt){return!Be(Mt)},ce=cr("function"),Or=cr("number"),Wn=function(){},Bt=function(Mt,Fn){return function(me){return Mt(Fn(me))}},_n=function(Mt){return function(){return Mt}},on=function(Mt){return Mt},It=_n(!1),At=_n(!0),Sn=function(){return Xt},Xt=function(){var Mt=function(te){return te()},Fn=on,me={fold:function(te,Ie){return te()},isSome:It,isNone:At,getOr:Fn,getOrThunk:Mt,getOrDie:function(te){throw new Error(te||"error: getOrDie called on none.")},getOrNull:_n(null),getOrUndefined:_n(void 0),or:Fn,orThunk:Mt,map:Sn,each:Wn,bind:Sn,exists:It,forall:At,filter:function(){return Sn()},toArray:function(){return[]},toString:_n("none()")};return me}(),fe=function(Mt){var Fn=_n(Mt),me=function(){return Ie},te=function(ht){return ht(Mt)},Ie={fold:function(ht,dn){return dn(Mt)},isSome:At,isNone:It,getOr:Fn,getOrThunk:Fn,getOrDie:Fn,getOrNull:Fn,getOrUndefined:Fn,or:me,orThunk:me,map:function(ht){return fe(ht(Mt))},each:function(ht){ht(Mt)},bind:te,exists:te,forall:te,filter:function(ht){return ht(Mt)?Ie:Xt},toArray:function(){return[Mt]},toString:function(){return"some("+Mt+")"}};return Ie},X=function(Mt){return Mt==null?Xt:fe(Mt)},Yt={some:fe,none:Sn,from:X},un=function(Mt,Fn){for(var me=Mt.length,te=new Array(me),Ie=0;Ie<me;Ie++){var ht=Mt[Ie];te[Ie]=Fn(ht,Ie)}return te},tr=function(Mt,Fn){for(var me=0,te=Mt.length;me<te;me++){var Ie=Mt[me];Fn(Ie,me)}},Me=function(Mt,Fn){for(var me=[],te=0,Ie=Mt.length;te<Ie;te++){var ht=Mt[te];Fn(ht,te)&&me.push(ht)}return me},Ft=9,xn=11,en=1,pn=3,J=function(Mt,Fn){var me=Fn||document,te=me.createElement("div");if(te.innerHTML=Mt,!te.hasChildNodes()||te.childNodes.length>1)throw console.error("HTML does not have a single root node",Mt),new Error("HTML must have a single root node");return Ke(te.childNodes[0])},H=function(Mt,Fn){var me=Fn||document,te=me.createElement(Mt);return Ke(te)},fn=function(Mt,Fn){var me=Fn||document,te=me.createTextNode(Mt);return Ke(te)},Ke=function(Mt){if(Mt==null)throw new Error("Node cannot be null or undefined");return{dom:Mt}},Cn=function(Mt,Fn,me){return Yt.from(Mt.dom.elementFromPoint(Fn,me)).map(Ke)},br={fromHtml:J,fromTag:H,fromText:fn,fromDom:Ke,fromPoint:Cn},ar=function(Mt,Fn){var me=Mt.dom;if(me.nodeType!==en)return!1;var te=me;if(te.matches!==void 0)return te.matches(Fn);if(te.msMatchesSelector!==void 0)return te.msMatchesSelector(Fn);if(te.webkitMatchesSelector!==void 0)return te.webkitMatchesSelector(Fn);if(te.mozMatchesSelector!==void 0)return te.mozMatchesSelector(Fn);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var D=function(Mt){var Fn=Mt.dom.nodeName;return Fn.toLowerCase()},Dn=function(Mt){return Mt.dom.nodeType},Lt=function(Mt){return function(Fn){return Dn(Fn)===Mt}},An=Lt(en),$t=Lt(pn),oe=Lt(Ft),Pn=Lt(xn),ie=function(Mt){return function(Fn){return An(Fn)&&D(Fn)===Mt}},K=function(Mt){return br.fromDom(Mt.dom.ownerDocument)},xr=function(Mt){return oe(Mt)?Mt:K(Mt)},Zt=function(Mt){return Yt.from(Mt.dom.parentNode).map(br.fromDom)},Pt=function(Mt){return un(Mt.dom.childNodes,br.fromDom)},ye=function(Mt,Fn,me){if(Ce(me)||De(me)||Or(me))Mt.setAttribute(Fn,me+"");else throw console.error("Invalid call to Attribute.set. Key ",Fn,":: Value ",me,":: Element ",Mt),new Error("Attribute value was not simple")},Ot=function(Mt,Fn,me){ye(Mt.dom,Fn,me)},Dt=function(Mt,Fn){Mt.dom.removeAttribute(Fn)},Qt=function(Mt){return Pn(Mt)&&Ne(Mt.dom.host)},jn=ce(Element.prototype.attachShadow)&&ce(Node.prototype.getRootNode),nn=jn?function(Mt){return br.fromDom(Mt.dom.getRootNode())}:xr,kn=function(Mt){var Fn=nn(Mt);return Qt(Fn)?Yt.some(Fn):Yt.none()},Ye=function(Mt){return br.fromDom(Mt.dom.host)},pt=function(Mt){var Fn=$t(Mt)?Mt.dom.parentNode:Mt.dom;if(Fn==null||Fn.ownerDocument===null)return!1;var me=Fn.ownerDocument;return kn(br.fromDom(Fn)).fold(function(){return me.body.contains(Fn)},Bt(pt,Ye))},sn=function(Mt,Fn,me){for(var te=Mt.dom,Ie=ce(me)?me:It;te.parentNode;){te=te.parentNode;var ht=br.fromDom(te);if(Fn(ht))return Yt.some(ht);if(Ie(ht))break}return Yt.none()},le=function(Mt,Fn,me){return sn(Mt,function(te){return ar(te,Fn)},me)},zn=function(Mt){return Mt.style!==void 0&&ce(Mt.style.getPropertyValue)},Ue=function(Mt,Fn){var me=Mt.dom,te=window.getComputedStyle(me),Ie=te.getPropertyValue(Fn);return Ie===""&&!pt(Mt)?er(me,Fn):Ie},er=function(Mt,Fn){return zn(Mt)?Mt.style.getPropertyValue(Fn):""},qr=function(Mt){return Ue(Mt,"direction")==="rtl"?"rtl":"ltr"},ao=function(Mt,Fn){return Me(Pt(Mt),Fn)},ko=function(Mt,Fn){return ao(Mt,function(me){return ar(me,Fn)})},Xn=function(Mt){return Zt(Mt).filter(An)},Jn=function(Mt,Fn){var me=Fn?le(Mt,"ol,ul"):Yt.some(Mt);return me.getOr(Mt)},En=ie("li"),zt=function(Mt,Fn){var me=Mt.selection.getSelectedBlocks();me.length>0&&(tr(me,function(te){var Ie=br.fromDom(te),ht=En(Ie),dn=Jn(Ie,ht),tn=Xn(dn);tn.each(function(Hn){var Pe=qr(Hn);if(Pe!==Fn?Ot(dn,"dir",Fn):qr(dn)!==Fn&&Dt(dn,"dir"),ht){var Er=ko(dn,"li[dir]");tr(Er,function(Eo){return Dt(Eo,"dir")})}})}),Mt.nodeChanged())},jt=function(Mt){Mt.addCommand("mceDirectionLTR",function(){zt(Mt,"ltr")}),Mt.addCommand("mceDirectionRTL",function(){zt(Mt,"rtl")})},qn=function(Mt,Fn){return function(me){var te=function(Ie){var ht=br.fromDom(Ie.element);me.setActive(qr(ht)===Fn)};return Mt.on("NodeChange",te),function(){return Mt.off("NodeChange",te)}}},xe=function(Mt){Mt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return Mt.execCommand("mceDirectionLTR")},onSetup:qn(Mt,"ltr")}),Mt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return Mt.execCommand("mceDirectionRTL")},onSetup:qn(Mt,"rtl")})};function Qn(){vr.add("directionality",function(Mt){jt(Mt),xe(Mt)})}Qn()})();(function(){var vr=function(k){var x=k,M=function(){return x},U=function(rt){x=rt};return{get:M,set:U}},Ge=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ae=function(k){return{isFullscreen:function(){return k.get()!==null}}},cr=function(k){var x=typeof k;return k===null?"null":x==="object"&&(Array.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="Array")?"array":x==="object"&&(String.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="String")?"string":x},Ce=function(k){return function(x){return cr(x)===k}},De=function(k){return function(x){return typeof x===k}},Be=Ce("string"),Ne=Ce("array"),ce=De("boolean"),Or=function(k){return k==null},Wn=function(k){return!Or(k)},Bt=De("function"),_n=De("number"),on=function(){},It=function(k,x){return function(){for(var M=[],U=0;U<arguments.length;U++)M[U]=arguments[U];return k(x.apply(null,M))}},At=function(k,x){return function(M){return k(x(M))}},Sn=function(k){return function(){return k}},Xt=function(k){return k};function fe(k){for(var x=[],M=1;M<arguments.length;M++)x[M-1]=arguments[M];return function(){for(var U=[],rt=0;rt<arguments.length;rt++)U[rt]=arguments[rt];var Rt=x.concat(U);return k.apply(null,Rt)}}var X=Sn(!1),Yt=Sn(!0),un=function(){return tr},tr=function(){var k=function(U){return U()},x=Xt,M={fold:function(U,rt){return U()},isSome:X,isNone:Yt,getOr:x,getOrThunk:k,getOrDie:function(U){throw new Error(U||"error: getOrDie called on none.")},getOrNull:Sn(null),getOrUndefined:Sn(void 0),or:x,orThunk:k,map:un,each:on,bind:un,exists:X,forall:Yt,filter:function(){return un()},toArray:function(){return[]},toString:Sn("none()")};return M}(),Me=function(k){var x=Sn(k),M=function(){return rt},U=function(Rt){return Rt(k)},rt={fold:function(Rt,Ln){return Ln(k)},isSome:Yt,isNone:X,getOr:x,getOrThunk:x,getOrDie:x,getOrNull:x,getOrUndefined:x,or:M,orThunk:M,map:function(Rt){return Me(Rt(k))},each:function(Rt){Rt(k)},bind:U,exists:U,forall:U,filter:function(Rt){return Rt(k)?rt:tr},toArray:function(){return[k]},toString:function(){return"some("+k+")"}};return rt},Ft=function(k){return k==null?tr:Me(k)},xn={some:Me,none:un,from:Ft},en=function(){return en=Object.assign||function(k){for(var x,M=1,U=arguments.length;M<U;M++){x=arguments[M];for(var rt in x)Object.prototype.hasOwnProperty.call(x,rt)&&(k[rt]=x[rt])}return k},en.apply(this,arguments)},pn=function(k){var x=vr(xn.none()),M=function(){return x.get().each(k)},U=function(){M(),x.set(xn.none())},rt=function(){return x.get().isSome()},Rt=function(){return x.get()},Ln=function(nr){M(),x.set(xn.some(nr))};return{clear:U,isSet:rt,get:Rt,set:Ln}},J=function(){return pn(function(k){return k.unbind()})},H=function(){var k=pn(on),x=function(M){return k.get().each(M)};return en(en({},k),{on:x})},fn=Array.prototype.push,Ke=function(k,x){for(var M=k.length,U=new Array(M),rt=0;rt<M;rt++){var Rt=k[rt];U[rt]=x(Rt,rt)}return U},Cn=function(k,x){for(var M=0,U=k.length;M<U;M++){var rt=k[M];x(rt,M)}},br=function(k,x){for(var M=[],U=0,rt=k.length;U<rt;U++){var Rt=k[U];x(Rt,U)&&M.push(Rt)}return M},ar=function(k,x,M){for(var U=0,rt=k.length;U<rt;U++){var Rt=k[U];if(x(Rt,U))return xn.some(Rt);if(M(Rt,U))break}return xn.none()},D=function(k,x){return ar(k,x,X)},Dn=function(k){for(var x=[],M=0,U=k.length;M<U;++M){if(!Ne(k[M]))throw new Error("Arr.flatten item "+M+" was not an array, input: "+k);fn.apply(x,k[M])}return x},Lt=function(k,x){return Dn(Ke(k,x))},An=function(k,x){return x>=0&&x<k.length?xn.some(k[x]):xn.none()},$t=function(k){return An(k,0)},oe=function(k,x){for(var M=0;M<k.length;M++){var U=x(k[M],M);if(U.isSome())return U}return xn.none()},Pn=Object.keys,ie=function(k,x){for(var M=Pn(k),U=0,rt=M.length;U<rt;U++){var Rt=M[U],Ln=k[Rt];x(Ln,Rt)}},K=function(k,x){return k.indexOf(x)!==-1},xr=function(k){return k.style!==void 0&&Bt(k.style.getPropertyValue)},Zt=function(k,x){var M=x||document,U=M.createElement("div");if(U.innerHTML=k,!U.hasChildNodes()||U.childNodes.length>1)throw console.error("HTML does not have a single root node",k),new Error("HTML must have a single root node");return Ot(U.childNodes[0])},Pt=function(k,x){var M=x||document,U=M.createElement(k);return Ot(U)},ye=function(k,x){var M=x||document,U=M.createTextNode(k);return Ot(U)},Ot=function(k){if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},Dt=function(k,x,M){return xn.from(k.dom.elementFromPoint(x,M)).map(Ot)},Qt={fromHtml:Zt,fromTag:Pt,fromText:ye,fromDom:Ot,fromPoint:Dt};typeof window<"u"||Function("return this;")();var jn=9,nn=11,kn=1,Ye=3,pt=function(k){return k.dom.nodeType},sn=function(k){return function(x){return pt(x)===k}},le=sn(kn),zn=sn(Ye),Ue=sn(jn),er=sn(nn),qr=function(k){var x=!1,M;return function(){for(var U=[],rt=0;rt<arguments.length;rt++)U[rt]=arguments[rt];return x||(x=!0,M=k.apply(null,U)),M}},ao=function(k,x,M,U){var rt=k.isiOS()&&/ipad/i.test(M)===!0,Rt=k.isiOS()&&!rt,Ln=k.isiOS()||k.isAndroid(),nr=Ln||U("(pointer:coarse)"),gr=rt||!Rt&&Ln&&U("(min-device-width:768px)"),be=Rt||Ln&&!gr,Xe=x.isSafari()&&k.isiOS()&&/safari/i.test(M)===!1,Ir=!be&&!gr&&!Xe;return{isiPad:Sn(rt),isiPhone:Sn(Rt),isTablet:Sn(gr),isPhone:Sn(be),isTouch:Sn(nr),isAndroid:k.isAndroid,isiOS:k.isiOS,isWebView:Sn(Xe),isDesktop:Sn(Ir)}},ko=function(k,x){for(var M=0;M<k.length;M++){var U=k[M];if(U.test(x))return U}},Xn=function(k,x){var M=ko(k,x);if(!M)return{major:0,minor:0};var U=function(rt){return Number(x.replace(M,"$"+rt))};return zt(U(1),U(2))},Jn=function(k,x){var M=String(x).toLowerCase();return k.length===0?En():Xn(k,M)},En=function(){return zt(0,0)},zt=function(k,x){return{major:k,minor:x}},jt={nu:zt,detect:Jn,unknown:En},qn=function(k,x){return oe(x.brands,function(M){var U=M.brand.toLowerCase();return D(k,function(rt){var Rt;return U===((Rt=rt.brand)===null||Rt===void 0?void 0:Rt.toLowerCase())}).map(function(rt){return{current:rt.name,version:jt.nu(parseInt(M.version,10),0)}})})},xe=function(k,x){var M=String(x).toLowerCase();return D(k,function(U){return U.search(M)})},Qn=function(k,x){return xe(k,x).map(function(M){var U=jt.detect(M.versionRegexes,x);return{current:M.name,version:U}})},Mt=function(k,x){return xe(k,x).map(function(M){var U=jt.detect(M.versionRegexes,x);return{current:M.name,version:U}})},Fn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,me=function(k){return function(x){return K(x,k)}},te=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(k){return K(k,"edge/")&&K(k,"chrome")&&K(k,"safari")&&K(k,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Fn],search:function(k){return K(k,"chrome")&&!K(k,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(k){return K(k,"msie")||K(k,"trident")}},{name:"Opera",versionRegexes:[Fn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:me("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:me("firefox")},{name:"Safari",versionRegexes:[Fn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(k){return(K(k,"safari")||K(k,"mobile/"))&&K(k,"applewebkit")}}],Ie=[{name:"Windows",search:me("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(k){return K(k,"iphone")||K(k,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:me("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:me("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:me("linux"),versionRegexes:[]},{name:"Solaris",search:me("sunos"),versionRegexes:[]},{name:"FreeBSD",search:me("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:me("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ht={browsers:Sn(te),oses:Sn(Ie)},dn="Edge",tn="Chrome",Hn="IE",Pe="Opera",Er="Firefox",Eo="Safari",_r=function(){return Rr({current:void 0,version:jt.unknown()})},Rr=function(k){var x=k.current,M=k.version,U=function(rt){return function(){return x===rt}};return{current:x,version:M,isEdge:U(dn),isChrome:U(tn),isIE:U(Hn),isOpera:U(Pe),isFirefox:U(Er),isSafari:U(Eo)}},Bo={unknown:_r,nu:Rr,edge:Sn(dn),chrome:Sn(tn),ie:Sn(Hn),opera:Sn(Pe),firefox:Sn(Er),safari:Sn(Eo)},Mi="Windows",oi="iOS",Wo="Android",ci="Linux",Fi="OSX",di="Solaris",ti="FreeBSD",Li="ChromeOS",Jr=function(){return Ii({current:void 0,version:jt.unknown()})},Ii=function(k){var x=k.current,M=k.version,U=function(rt){return function(){return x===rt}};return{current:x,version:M,isWindows:U(Mi),isiOS:U(oi),isAndroid:U(Wo),isOSX:U(Fi),isLinux:U(ci),isSolaris:U(di),isFreeBSD:U(ti),isChromeOS:U(Li)}},Ze={unknown:Jr,nu:Ii,windows:Sn(Mi),ios:Sn(oi),android:Sn(Wo),linux:Sn(ci),osx:Sn(Fi),solaris:Sn(di),freebsd:Sn(ti),chromeos:Sn(Li)},Na=function(k,x,M){var U=ht.browsers(),rt=ht.oses(),Rt=x.bind(function(gr){return qn(U,gr)}).orThunk(function(){return Qn(U,k)}).fold(Bo.unknown,Bo.nu),Ln=Mt(rt,k).fold(Ze.unknown,Ze.nu),nr=ao(Ln,Rt,k,M);return{browser:Rt,os:Ln,deviceType:nr}},Ei={detect:Na},Wi=function(k){return window.matchMedia(k).matches},hi=qr(function(){return Ei.detect(navigator.userAgent,xn.from(navigator.userAgentData),Wi)}),Qi=function(){return hi()},Pa=function(k,x){var M=k.dom;if(M.nodeType!==kn)return!1;var U=M;if(U.matches!==void 0)return U.matches(x);if(U.msMatchesSelector!==void 0)return U.msMatchesSelector(x);if(U.webkitMatchesSelector!==void 0)return U.webkitMatchesSelector(x);if(U.mozMatchesSelector!==void 0)return U.mozMatchesSelector(x);throw new Error("Browser lacks native selectors")},Zi=function(k){return k.nodeType!==kn&&k.nodeType!==jn&&k.nodeType!==nn||k.childElementCount===0},du=function(k,x){var M=x===void 0?document:x.dom;return Zi(M)?[]:Ke(M.querySelectorAll(k),Qt.fromDom)},ot=function(k,x){return k.dom===x.dom},xt=function(k){return Qt.fromDom(k.dom.ownerDocument)},st=function(k){return Ue(k)?k:xt(k)},Gt=function(k){return xn.from(k.dom.parentNode).map(Qt.fromDom)},pe=function(k,x){for(var M=Bt(x)?x:X,U=k.dom,rt=[];U.parentNode!==null&&U.parentNode!==void 0;){var Rt=U.parentNode,Ln=Qt.fromDom(Rt);if(rt.push(Ln),M(Ln)===!0)break;U=Rt}return rt},He=function(k){var x=function(M){return br(M,function(U){return!ot(k,U)})};return Gt(k).map(nt).map(x).getOr([])},nt=function(k){return Ke(k.dom.childNodes,Qt.fromDom)},dt=function(k){return er(k)&&Wn(k.dom.host)},Kt=Bt(Element.prototype.attachShadow)&&Bt(Node.prototype.getRootNode),Tn=Sn(Kt),P=Kt?function(k){return Qt.fromDom(k.dom.getRootNode())}:st,Y=function(k){var x=P(k);return dt(x)?xn.some(x):xn.none()},ft=function(k){return Qt.fromDom(k.dom.host)},St=function(k){if(Tn()&&Wn(k.target)){var x=Qt.fromDom(k.target);if(le(x)&&Ut(x)&&k.composed&&k.composedPath){var M=k.composedPath();if(M)return $t(M)}}return xn.from(k.target)},Ut=function(k){return Wn(k.dom.shadowRoot)},qt=function(k){var x=zn(k)?k.dom.parentNode:k.dom;if(x==null||x.ownerDocument===null)return!1;var M=x.ownerDocument;return Y(Qt.fromDom(x)).fold(function(){return M.body.contains(x)},At(qt,ft))},de=function(k){var x=k.dom.body;if(x==null)throw new Error("Body is not available yet");return Qt.fromDom(x)},Ee=function(k,x,M){if(Be(M)||ce(M)||_n(M))k.setAttribute(x,M+"");else throw console.error("Invalid call to Attribute.set. Key ",x,":: Value ",M,":: Element ",k),new Error("Attribute value was not simple")},fr=function(k,x,M){Ee(k.dom,x,M)},Jt=function(k,x){var M=k.dom.getAttribute(x);return M===null?void 0:M},rr=function(k,x){k.dom.removeAttribute(x)},zr=function(k,x,M){if(!Be(M))throw console.error("Invalid call to CSS.set. Property ",x,":: Value ",M,":: Element ",k),new Error("CSS value must be a string: "+M);xr(k)&&k.style.setProperty(x,M)},wo=function(k,x){var M=k.dom;ie(x,function(U,rt){zr(M,rt,U)})},mi=function(k,x){var M=k.dom,U=window.getComputedStyle(M),rt=U.getPropertyValue(x);return rt===""&&!qt(k)?jr(M,x):rt},jr=function(k,x){return xr(k)?k.style.getPropertyValue(x):""},Ou=function(k,x,M,U,rt,Rt,Ln){return{target:k,x,y:M,stop:U,prevent:rt,kill:Rt,raw:Ln}},mu=function(k){var x=Qt.fromDom(St(k).getOr(k.target)),M=function(){return k.stopPropagation()},U=function(){return k.preventDefault()},rt=It(U,M);return Ou(x,k.clientX,k.clientY,M,U,rt,k)},si=function(k,x){return function(M){k(M)&&x(mu(M))}},vc=function(k,x,M,U,rt){var Rt=si(M,U);return k.dom.addEventListener(x,Rt,rt),{unbind:fe(Oa,k,x,Rt,rt)}},ga=function(k,x,M,U){return vc(k,x,M,U,!1)},Oa=function(k,x,M,U){k.dom.removeEventListener(x,M,U)},Lo=Yt,bc=function(k,x,M){return ga(k,x,Lo,M)},Fu=function(k,x){var M=function(U,rt){return Fu(k+U,x+rt)};return{left:k,top:x,translate:M}},tc=Fu,Hc=function(k){var x=k!==void 0?k.dom:document,M=x.body.scrollLeft||x.documentElement.scrollLeft,U=x.body.scrollTop||x.documentElement.scrollTop;return tc(M,U)},Ea=function(k){var x=k===void 0?window:k;return Qi().browser.isFirefox()?xn.none():xn.from(x.visualViewport)},Ya=function(k,x,M,U){return{x:k,y:x,width:M,height:U,right:k+M,bottom:x+U}},Vc=function(k){var x=k===void 0?window:k,M=x.document,U=Hc(Qt.fromDom(M));return Ea(x).fold(function(){var rt=x.document.documentElement,Rt=rt.clientWidth,Ln=rt.clientHeight;return Ya(U.left,U.top,Rt,Ln)},function(rt){return Ya(Math.max(rt.pageLeft,U.left),Math.max(rt.pageTop,U.top),rt.width,rt.height)})},Fa=function(k,x,M){return Ea(M).map(function(U){var rt=function(Rt){return x(mu(Rt))};return U.addEventListener(k,rt),{unbind:function(){return U.removeEventListener(k,rt)}}}).getOrThunk(function(){return{unbind:on}})},_a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),W=tinymce.util.Tools.resolve("tinymce.Env"),bt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Vt=function(k,x){k.fire("FullscreenStateChanged",{state:x})},Mn=function(k){return k.getParam("fullscreen_native",!1,"boolean")},ae=function(k){var x=Qt.fromDom(k.getElement());return Y(x).map(ft).getOrThunk(function(){return de(xt(x))})},ur=function(k){return k.fullscreenElement!==void 0?k.fullscreenElement:k.msFullscreenElement!==void 0?k.msFullscreenElement:k.webkitFullscreenElement!==void 0?k.webkitFullscreenElement:null},yo=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},_o=function(k){var x=k.dom;x.requestFullscreen?x.requestFullscreen():x.msRequestFullscreen?x.msRequestFullscreen():x.webkitRequestFullScreen&&x.webkitRequestFullScreen()},Gr=function(k){var x=k.dom;x.exitFullscreen?x.exitFullscreen():x.msExitFullscreen?x.msExitFullscreen():x.webkitCancelFullScreen&&x.webkitCancelFullScreen()},Vo=function(k){return k.dom===ur(xt(k).dom)},ni=function(k,x,M){return br(pe(k,M),x)},Lu=function(k,x){return br(He(k),x)},qi=function(k){return du(k)},Eu=function(k,x,M){return ni(k,function(U){return Pa(U,x)},M)},mr=function(k,x){return Lu(k,function(M){return Pa(M,x)})},nc="data-ephox-mobile-fullscreen-style",Ys="display:none!important;",so="position:absolute!important;",Ss="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",ks="background-color:rgb(255,255,255)!important;",El=W.os.isAndroid(),zo=function(k){var x=mi(k,"background-color");return x!==void 0&&x!==""?"background-color:"+x+"!important":ks},Qa=function(k,x,M){var U=function(be){return mr(be,"*:not(.tox-silver-sink)")},rt=function(be){return function(Xe){var Ir=Jt(Xe,"style"),Hr=Ir===void 0?"no-styles":Ir.trim();Hr!==be&&(fr(Xe,nc,Hr),wo(Xe,k.parseStyle(be)))}},Rt=Eu(x,"*"),Ln=Lt(Rt,U),nr=zo(M);Cn(Ln,rt(Ys)),Cn(Rt,rt(so+Ss+nr));var gr=El===!0?"":so;rt(gr+Ss+nr)(x)},cf=function(k){var x=qi("["+nc+"]");Cn(x,function(M){var U=Jt(M,nc);U!=="no-styles"?wo(M,k.parseStyle(U)):rr(M,"style"),rr(M,nc)})},gu=_a.DOM,vi=function(){return Vc(window)},yc=function(k){return window.scrollTo(k.x,k.y)},hn=Ea().fold(function(){return{bind:on,unbind:on}},function(k){var x=H(),M=J(),U=J(),rt=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},Rt=function(){window.requestAnimationFrame(function(){x.on(function(be){return wo(be,{top:k.offsetTop+"px",left:k.offsetLeft+"px",height:k.height+"px",width:k.width+"px"})})})},Ln=bt.throttle(function(){rt(),Rt()},50),nr=function(be){x.set(be),Ln(),M.set(Fa("resize",Ln)),U.set(Fa("scroll",Ln))},gr=function(){x.on(function(){M.clear(),U.clear()}),x.clear()};return{bind:nr,unbind:gr}}),Uc=function(k,x){var M=document.body,U=document.documentElement,rt=k.getContainer(),Rt=Qt.fromDom(rt),Ln=ae(k),nr=x.get(),gr=Qt.fromDom(k.getBody()),be=W.deviceType.isTouch(),Xe=rt.style,Ir=k.iframeElement,Hr=Ir.style,Mr=function(Do){Do(M,"tox-fullscreen"),Do(U,"tox-fullscreen"),Do(rt,"tox-fullscreen"),Y(Rt).map(function(pa){return ft(pa).dom}).each(function(pa){Do(pa,"tox-fullscreen"),Do(pa,"tox-shadowhost")})},Xo=function(){be&&cf(k.dom),Mr(gu.removeClass),hn.unbind(),xn.from(x.get()).each(function(Do){return Do.fullscreenChangeHandler.unbind()})};if(nr)nr.fullscreenChangeHandler.unbind(),Mn(k)&&Vo(Ln)&&Gr(xt(Ln)),Hr.width=nr.iframeWidth,Hr.height=nr.iframeHeight,Xe.width=nr.containerWidth,Xe.height=nr.containerHeight,Xe.top=nr.containerTop,Xe.left=nr.containerLeft,Xo(),yc(nr.scrollPos),x.set(null),Vt(k,!1),k.off("remove",Xo);else{var Cr=bc(xt(Ln),yo(),function(Do){Mn(k)&&!Vo(Ln)&&x.get()!==null&&Uc(k,x)}),No={scrollPos:vi(),containerWidth:Xe.width,containerHeight:Xe.height,containerTop:Xe.top,containerLeft:Xe.left,iframeWidth:Hr.width,iframeHeight:Hr.height,fullscreenChangeHandler:Cr};be&&Qa(k.dom,Rt,gr),Hr.width=Hr.height="100%",Xe.width=Xe.height="",Mr(gu.addClass),hn.bind(Rt),k.on("remove",Xo),x.set(No),Mn(k)&&_o(Ln),Vt(k,!0)}},bi=function(k,x){k.addCommand("mceFullScreen",function(){Uc(k,x)})},Qs=function(k,x){return function(M){M.setActive(x.get()!==null);var U=function(rt){return M.setActive(rt.state)};return k.on("FullscreenStateChanged",U),function(){return k.off("FullscreenStateChanged",U)}}},ec=function(k,x){var M=function(){return k.execCommand("mceFullScreen")};k.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:M,onSetup:Qs(k,x)}),k.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:M,onSetup:Qs(k,x)})};function B(){Ge.add("fullscreen",function(k){var x=vr(null);return k.inline||(bi(k,x),ec(k,x),k.addShortcut("Meta+Shift+F","","mceFullScreen")),Ae(x)})}B()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(Ce){Ce.addCommand("InsertHorizontalRule",function(){Ce.execCommand("mceInsertContent",!1,"<hr />")})},Ae=function(Ce){var De=function(){return Ce.execCommand("InsertHorizontalRule")};Ce.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:De}),Ce.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:De})};function cr(){vr.add("hr",function(Ce){Ge(Ce),Ae(Ce)})}cr()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(X){return X.getParam("insertdatetime_dateformat",X.translate("%Y-%m-%d"))},Ae=function(X){return X.getParam("insertdatetime_timeformat",X.translate("%H:%M:%S"))},cr=function(X){return X.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},Ce=function(X){var Yt=cr(X);return Yt.length>0?Yt[0]:Ae(X)},De=function(X){return X.getParam("insertdatetime_element",!1)},Be="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Ne="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ce="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Or="January February March April May June July August September October November December".split(" "),Wn=function(X,Yt){if(X=""+X,X.length<Yt)for(var un=0;un<Yt-X.length;un++)X="0"+X;return X},Bt=function(X,Yt,un){return un===void 0&&(un=new Date),Yt=Yt.replace("%D","%m/%d/%Y"),Yt=Yt.replace("%r","%I:%M:%S %p"),Yt=Yt.replace("%Y",""+un.getFullYear()),Yt=Yt.replace("%y",""+un.getYear()),Yt=Yt.replace("%m",Wn(un.getMonth()+1,2)),Yt=Yt.replace("%d",Wn(un.getDate(),2)),Yt=Yt.replace("%H",""+Wn(un.getHours(),2)),Yt=Yt.replace("%M",""+Wn(un.getMinutes(),2)),Yt=Yt.replace("%S",""+Wn(un.getSeconds(),2)),Yt=Yt.replace("%I",""+((un.getHours()+11)%12+1)),Yt=Yt.replace("%p",un.getHours()<12?"AM":"PM"),Yt=Yt.replace("%B",""+X.translate(Or[un.getMonth()])),Yt=Yt.replace("%b",""+X.translate(ce[un.getMonth()])),Yt=Yt.replace("%A",""+X.translate(Ne[un.getDay()])),Yt=Yt.replace("%a",""+X.translate(Be[un.getDay()])),Yt=Yt.replace("%%","%"),Yt},_n=function(X,Yt,un,tr){var Me=X.dom.create("time",{datetime:un},tr);Yt.parentNode.insertBefore(Me,Yt),X.dom.remove(Yt),X.selection.select(Me,!0),X.selection.collapse(!1)},on=function(X,Yt){if(De(X)){var un=Bt(X,Yt),tr=void 0;/%[HMSIp]/.test(Yt)?tr=Bt(X,"%Y-%m-%dT%H:%M"):tr=Bt(X,"%Y-%m-%d");var Me=X.dom.getParent(X.selection.getStart(),"time");Me?_n(X,Me,tr,un):X.insertContent('<time datetime="'+tr+'">'+un+"</time>")}else X.insertContent(Bt(X,Yt))},It=function(X){X.addCommand("mceInsertDate",function(Yt,un){on(X,un??Ge(X))}),X.addCommand("mceInsertTime",function(Yt,un){on(X,un??Ae(X))})},At=function(X){var Yt=X,un=function(){return Yt},tr=function(Me){Yt=Me};return{get:un,set:tr}},Sn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Xt=function(X){var Yt=cr(X),un=At(Ce(X)),tr=function(Ft){return X.execCommand("mceInsertDate",!1,Ft)};X.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(Ft){return Ft===un.get()},fetch:function(Ft){Ft(Sn.map(Yt,function(xn){return{type:"choiceitem",text:Bt(X,xn),value:xn}}))},onAction:function(Ft){tr(un.get())},onItemAction:function(Ft,xn){un.set(xn),tr(xn)}});var Me=function(Ft){return function(){un.set(Ft),tr(Ft)}};X.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return Sn.map(Yt,function(Ft){return{type:"menuitem",text:Bt(X,Ft),onAction:Me(Ft)}})}})};function fe(){vr.add("insertdatetime",function(X){It(X),Xt(X)})}fe()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=tinymce.util.Tools.resolve("tinymce.util.VK"),Ae=function(W){var bt=typeof W;return W===null?"null":bt==="object"&&(Array.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="Array")?"array":bt==="object"&&(String.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="String")?"string":bt},cr=function(W){return function(bt){return Ae(bt)===W}},Ce=function(W){return function(bt){return typeof bt===W}},De=function(W){return function(bt){return W===bt}},Be=cr("string"),Ne=cr("array"),ce=De(null),Or=Ce("boolean"),Wn=Ce("function"),Bt=function(){},_n=function(W){return function(){return W}},on=function(W){return W},It=function(W,bt){return W===bt},At=_n(!1),Sn=_n(!0),Xt=function(){return fe},fe=function(){var W=function(Mn){return Mn()},bt=on,Vt={fold:function(Mn,ae){return Mn()},isSome:At,isNone:Sn,getOr:bt,getOrThunk:W,getOrDie:function(Mn){throw new Error(Mn||"error: getOrDie called on none.")},getOrNull:_n(null),getOrUndefined:_n(void 0),or:bt,orThunk:W,map:Xt,each:Bt,bind:Xt,exists:At,forall:Sn,filter:function(){return Xt()},toArray:function(){return[]},toString:_n("none()")};return Vt}(),X=function(W){var bt=_n(W),Vt=function(){return ae},Mn=function(ur){return ur(W)},ae={fold:function(ur,yo){return yo(W)},isSome:Sn,isNone:At,getOr:bt,getOrThunk:bt,getOrDie:bt,getOrNull:bt,getOrUndefined:bt,or:Vt,orThunk:Vt,map:function(ur){return X(ur(W))},each:function(ur){ur(W)},bind:Mn,exists:Mn,forall:Mn,filter:function(ur){return ur(W)?ae:fe},toArray:function(){return[W]},toString:function(){return"some("+W+")"}};return ae},Yt=function(W){return W==null?fe:X(W)},un={some:X,none:Xt,from:Yt},tr=Array.prototype.indexOf,Me=Array.prototype.push,Ft=function(W,bt){return tr.call(W,bt)},xn=function(W,bt){return Ft(W,bt)>-1},en=function(W,bt){for(var Vt=W.length,Mn=new Array(Vt),ae=0;ae<Vt;ae++){var ur=W[ae];Mn[ae]=bt(ur,ae)}return Mn},pn=function(W,bt){for(var Vt=0,Mn=W.length;Vt<Mn;Vt++){var ae=W[Vt];bt(ae,Vt)}},J=function(W,bt,Vt){return pn(W,function(Mn,ae){Vt=bt(Vt,Mn,ae)}),Vt},H=function(W){for(var bt=[],Vt=0,Mn=W.length;Vt<Mn;++Vt){if(!Ne(W[Vt]))throw new Error("Arr.flatten item "+Vt+" was not an array, input: "+W);Me.apply(bt,W[Vt])}return bt},fn=function(W,bt){return H(en(W,bt))},Ke=function(W,bt){for(var Vt=0;Vt<W.length;Vt++){var Mn=bt(W[Vt],Vt);if(Mn.isSome())return Mn}return un.none()},Cn=function(W,bt,Vt){return Vt===void 0&&(Vt=It),W.exists(function(Mn){return Vt(Mn,bt)})},br=function(W){for(var bt=[],Vt=function(ae){bt.push(ae)},Mn=0;Mn<W.length;Mn++)W[Mn].each(Vt);return bt},ar=function(W,bt){return W?un.some(bt):un.none()},D=function(W){var bt=W.getParam("link_assume_external_targets",!1);return Or(bt)&&bt?1:Be(bt)&&(bt==="http"||bt==="https")?bt:0},Dn=function(W){return W.getParam("link_context_toolbar",!1,"boolean")},Lt=function(W){return W.getParam("link_list")},An=function(W){return W.getParam("default_link_target")},$t=function(W){return W.getParam("target_list",!0)},oe=function(W){return W.getParam("rel_list",[],"array")},Pn=function(W){return W.getParam("link_class_list",[],"array")},ie=function(W){return W.getParam("link_title",!0,"boolean")},K=function(W){return W.getParam("allow_unsafe_link_target",!1,"boolean")},xr=function(W){return W.getParam("link_quicklink",!1,"boolean")},Zt=function(W){return W.getParam("link_default_protocol","http","string")},Pt=tinymce.util.Tools.resolve("tinymce.util.Tools"),ye=function(W){return Be(W.value)?W.value:""},Ot=function(W){return Be(W.text)?W.text:Be(W.title)?W.title:""},Dt=function(W,bt){var Vt=[];return Pt.each(W,function(Mn){var ae=Ot(Mn);if(Mn.menu!==void 0){var ur=Dt(Mn.menu,bt);Vt.push({text:ae,items:ur})}else{var yo=bt(Mn);Vt.push({text:ae,value:yo})}}),Vt},Qt=function(W){return W===void 0&&(W=ye),function(bt){return un.from(bt).map(function(Vt){return Dt(Vt,W)})}},jn=function(W){return Qt(ye)(W)},nn=function(W,bt){return function(Vt){return{name:W,type:"listbox",label:bt,items:Vt}}},kn={sanitize:jn,sanitizeWith:Qt,createUi:nn,getValue:ye},Ye=function(){return Ye=Object.assign||function(W){for(var bt,Vt=1,Mn=arguments.length;Vt<Mn;Vt++){bt=arguments[Vt];for(var ae in bt)Object.prototype.hasOwnProperty.call(bt,ae)&&(W[ae]=bt[ae])}return W},Ye.apply(this,arguments)},pt=Object.keys,sn=Object.hasOwnProperty,le=function(W,bt){for(var Vt=pt(W),Mn=0,ae=Vt.length;Mn<ae;Mn++){var ur=Vt[Mn],yo=W[ur];bt(yo,ur)}},zn=function(W){return function(bt,Vt){W[Vt]=bt}},Ue=function(W,bt,Vt,Mn){var ae={};return le(W,function(ur,yo){(bt(ur,yo)?Vt:Mn)(ur,yo)}),ae},er=function(W,bt){var Vt={};return Ue(W,bt,zn(Vt),Bt),Vt},qr=function(W,bt){return sn.call(W,bt)},ao=function(W,bt){return qr(W,bt)&&W[bt]!==void 0&&W[bt]!==null},ko=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Xn=tinymce.util.Tools.resolve("tinymce.util.URI"),Jn=function(W){return W&&W.nodeName.toLowerCase()==="a"},En=function(W){return Jn(W)&&!!qn(W)},zt=function(W,bt){if(W.collapsed)return[];var Vt=W.cloneContents(),Mn=new ko(Vt.firstChild,Vt),ae=[],ur=Vt.firstChild;do bt(ur)&&ae.push(ur);while(ur=Mn.next());return ae},jt=function(W){return/^\w+:/i.test(W)},qn=function(W){var bt=W.getAttribute("data-mce-href");return bt||W.getAttribute("href")},xe=function(W,bt){var Vt=["noopener"],Mn=W?W.split(/\s+/):[],ae=function(Gr){return Pt.trim(Gr.sort().join(" "))},ur=function(Gr){return Gr=yo(Gr),Gr.length>0?Gr.concat(Vt):Vt},yo=function(Gr){return Gr.filter(function(Vo){return Pt.inArray(Vt,Vo)===-1})},_o=bt?ur(Mn):yo(Mn);return _o.length>0?ae(_o):""},Qn=function(W){return W.replace(/\uFEFF/g,"")},Mt=function(W,bt){return bt=bt||W.selection.getNode(),ht(bt)?W.dom.select("a[href]",bt)[0]:W.dom.getParent(bt,"a[href]")},Fn=function(W,bt){var Vt=bt?bt.innerText||bt.textContent:W.getContent({format:"text"});return Qn(Vt)},me=function(W){return Pt.grep(W,En).length>0},te=function(W){return zt(W,En).length>0},Ie=function(W){var bt=W.schema.getTextInlineElements(),Vt=function(ae){return ae.nodeType===1&&!Jn(ae)&&!qr(bt,ae.nodeName.toLowerCase())},Mn=zt(W.selection.getRng(),Vt);return Mn.length===0},ht=function(W){return W&&W.nodeName==="FIGURE"&&/\bimage\b/i.test(W.className)},dn=function(W){var bt=["title","rel","class","target"];return J(bt,function(Vt,Mn){return W[Mn].each(function(ae){Vt[Mn]=ae.length>0?ae:null}),Vt},{href:W.href})},tn=function(W,bt){return(bt==="http"||bt==="https")&&!jt(W)?bt+"://"+W:W},Hn=function(W,bt){var Vt=Ye({},bt);if(!(oe(W).length>0)&&K(W)===!1){var Mn=xe(Vt.rel,Vt.target==="_blank");Vt.rel=Mn||null}return un.from(Vt.target).isNone()&&$t(W)===!1&&(Vt.target=An(W)),Vt.href=tn(Vt.href,D(W)),Vt},Pe=function(W,bt,Vt,Mn){Vt.each(function(ae){qr(bt,"innerText")?bt.innerText=ae:bt.textContent=ae}),W.dom.setAttribs(bt,Mn),W.selection.select(bt)},Er=function(W,bt,Vt,Mn){ht(bt)?Fi(W,bt,Mn):Vt.fold(function(){W.execCommand("mceInsertLink",!1,Mn)},function(ae){W.insertContent(W.dom.createHTML("a",Mn,W.dom.encode(ae)))})},Eo=function(W,bt,Vt){var Mn=W.selection.getNode(),ae=Mt(W,Mn),ur=Hn(W,dn(Vt));W.undoManager.transact(function(){Vt.href===bt.href&&bt.attach(),ae?(W.focus(),Pe(W,ae,Vt.text,ur)):Er(W,Mn,Vt.text,ur)})},_r=function(W){var bt=W.dom,Vt=W.selection,Mn=Vt.getBookmark(),ae=Vt.getRng().cloneRange(),ur=bt.getParent(ae.startContainer,"a[href]",W.getBody()),yo=bt.getParent(ae.endContainer,"a[href]",W.getBody());ur&&ae.setStartBefore(ur),yo&&ae.setEndAfter(yo),Vt.setRng(ae),W.execCommand("unlink"),Vt.moveToBookmark(Mn)},Rr=function(W){W.undoManager.transact(function(){var bt=W.selection.getNode();ht(bt)?ci(W,bt):_r(W),W.focus()})},Bo=function(W){var bt=W.class,Vt=W.href,Mn=W.rel,ae=W.target,ur=W.text,yo=W.title;return er({class:bt.getOrNull(),href:Vt,rel:Mn.getOrNull(),target:ae.getOrNull(),text:ur.getOrNull(),title:yo.getOrNull()},function(_o,Gr){return ce(_o)===!1})},Mi=function(W,bt){var Vt=bt.href;return Ye(Ye({},bt),{href:Xn.isDomSafe(Vt,"a",W.settings)?Vt:""})},oi=function(W,bt,Vt){var Mn=Mi(W,Vt);W.hasPlugin("rtc",!0)?W.execCommand("createlink",!1,Bo(Mn)):Eo(W,bt,Mn)},Wo=function(W){W.hasPlugin("rtc",!0)?W.execCommand("unlink"):Rr(W)},ci=function(W,bt){var Vt=W.dom.select("img",bt)[0];if(Vt){var Mn=W.dom.getParents(Vt,"a[href]",bt)[0];Mn&&(Mn.parentNode.insertBefore(Vt,Mn),W.dom.remove(Mn))}},Fi=function(W,bt,Vt){var Mn=W.dom.select("img",bt)[0];if(Mn){var ae=W.dom.create("a",Vt);Mn.parentNode.insertBefore(ae,Mn),ae.appendChild(Mn)}},di=function(W){return ao(W,"items")},ti=function(W,bt){return Ke(bt,function(Vt){return di(Vt)?ti(W,Vt.items):ar(Vt.value===W,Vt)})},Li=function(W,bt,Vt,Mn){var ae=Mn[bt],ur=W.length>0;return ae!==void 0?ti(ae,Vt).map(function(yo){return{url:{value:yo.value,meta:{text:ur?W:yo.text,attach:Bt}},text:ur?W:yo.text}}):un.none()},Jr=function(W,bt){return bt==="link"?W.link:bt==="anchor"?W.anchor:un.none()},Ii=function(W,bt){var Vt={text:W.text,title:W.title},Mn=function(Gr){return ar(Vt.title.length<=0,un.from(Gr.meta.title).getOr(""))},ae=function(Gr){return ar(Vt.text.length<=0,un.from(Gr.meta.text).getOr(Gr.value))},ur=function(Gr){var Vo=ae(Gr.url),ni=Mn(Gr.url);return Vo.isSome()||ni.isSome()?un.some(Ye(Ye({},Vo.map(function(Lu){return{text:Lu}}).getOr({})),ni.map(function(Lu){return{title:Lu}}).getOr({}))):un.none()},yo=function(Gr,Vo){var ni=Jr(bt,Vo.name).getOr([]);return Li(Vt.text,Vo.name,ni,Gr)},_o=function(Gr,Vo){var ni=Vo.name;return ni==="url"?ur(Gr()):xn(["anchor","link"],ni)?yo(Gr(),Vo):((ni==="text"||ni==="title")&&(Vt[ni]=Gr()[ni]),un.none())};return{onChange:_o}},Ze={init:Ii,getDelta:Li},Na=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ei=tinymce.util.Tools.resolve("tinymce.util.Promise"),Wi=function(W,bt,Vt){var Mn=W.selection.getRng();Na.setEditorTimeout(W,function(){W.windowManager.confirm(bt,function(ae){W.selection.setRng(Mn),Vt(ae)})})},hi=function(W){var bt=W.href,Vt=bt.indexOf("@")>0&&bt.indexOf("/")===-1&&bt.indexOf("mailto:")===-1;return Vt?un.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Mn){return Ye(Ye({},Mn),{href:"mailto:"+bt})}}):un.none()},Qi=function(W,bt){return function(Vt){var Mn=Vt.href,ae=W===1&&!jt(Mn)||W===0&&/^\s*www(\.|\d\.)/i.test(Mn);return ae?un.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+bt+":// prefix?",preprocess:function(ur){return Ye(Ye({},ur),{href:bt+"://"+Mn})}}):un.none()}},Pa=function(W,bt){return Ke([hi,Qi(D(W),Zt(W))],function(Vt){return Vt(bt)}).fold(function(){return Ei.resolve(bt)},function(Vt){return new Ei(function(Mn){Wi(W,Vt.message,function(ae){Mn(ae?Vt.preprocess(bt):bt)})})})},Zi={preprocess:Pa},du=function(W){var bt=W.dom.select("a:not([href])"),Vt=fn(bt,function(Mn){var ae=Mn.name||Mn.id;return ae?[{text:ae,value:"#"+ae}]:[]});return Vt.length>0?un.some([{text:"None",value:""}].concat(Vt)):un.none()},ot={getAnchors:du},xt=function(W){var bt=Pn(W);return bt.length>0?kn.sanitize(bt):un.none()},st={getClasses:xt},Gt=tinymce.util.Tools.resolve("tinymce.util.XHR"),pe=function(W){try{return un.some(JSON.parse(W))}catch{return un.none()}},He=function(W){var bt=function(Mn){return W.convertURL(Mn.value||Mn.url,"href")},Vt=Lt(W);return new Ei(function(Mn){Be(Vt)?Gt.send({url:Vt,success:function(ae){return Mn(pe(ae))},error:function(ae){return Mn(un.none())}}):Wn(Vt)?Vt(function(ae){return Mn(un.some(ae))}):Mn(un.from(Vt))}).then(function(Mn){return Mn.bind(kn.sanitizeWith(bt)).map(function(ae){if(ae.length>0){var ur=[{text:"None",value:""}];return ur.concat(ae)}else return ae})})},nt={getLinks:He},dt=function(W,bt){var Vt=oe(W);if(Vt.length>0){var Mn=Cn(bt,"_blank"),ae=K(W)===!1,ur=function(_o){return xe(kn.getValue(_o),Mn)},yo=ae?kn.sanitizeWith(ur):kn.sanitize;return yo(Vt)}return un.none()},Kt={getRels:dt},Tn=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],P=function(W){var bt=$t(W);return Ne(bt)?kn.sanitize(bt).orThunk(function(){return un.some(Tn)}):bt===!1?un.none():un.some(Tn)},Y={getTargets:P},ft=function(W,bt,Vt){var Mn=W.getAttrib(bt,Vt);return Mn!==null&&Mn.length>0?un.some(Mn):un.none()},St=function(W,bt){var Vt=W.dom,Mn=Ie(W),ae=Mn?un.some(Fn(W.selection,bt)):un.none(),ur=bt?un.some(Vt.getAttrib(bt,"href")):un.none(),yo=bt?un.from(Vt.getAttrib(bt,"target")):un.none(),_o=ft(Vt,bt,"rel"),Gr=ft(Vt,bt,"class"),Vo=ft(Vt,bt,"title");return{url:ur,text:ae,title:Vo,target:yo,rel:_o,linkClass:Gr}},Ut=function(W,bt){return nt.getLinks(W).then(function(Vt){var Mn=St(W,bt);return{anchor:Mn,catalogs:{targets:Y.getTargets(W),rels:Kt.getRels(W,Mn.target),classes:st.getClasses(W),anchor:ot.getAnchors(W),link:Vt},optNode:un.from(bt),flags:{titleEnabled:ie(W)}}})},qt={collect:Ut},de=function(W,bt){return function(Vt){var Mn=Vt.getData();if(!Mn.url.value){Wo(W),Vt.close();return}var ae=function(_o){return un.from(Mn[_o]).filter(function(Gr){return!Cn(bt.anchor[_o],Gr)})},ur={href:Mn.url.value,text:ae("text"),target:ae("target"),rel:ae("rel"),class:ae("linkClass"),title:ae("title")},yo={href:Mn.url.value,attach:Mn.url.meta!==void 0&&Mn.url.meta.attach?Mn.url.meta.attach:Bt};Zi.preprocess(W,ur).then(function(_o){oi(W,yo,_o)}),Vt.close()}},Ee=function(W){var bt=Mt(W);return qt.collect(W,bt)},fr=function(W,bt){var Vt=W.anchor,Mn=Vt.url.getOr("");return{url:{value:Mn,meta:{original:{value:Mn}}},text:Vt.text.getOr(""),title:Vt.title.getOr(""),anchor:Mn,link:Mn,rel:Vt.rel.getOr(""),target:Vt.target.or(bt).getOr(""),linkClass:Vt.linkClass.getOr("")}},Jt=function(W,bt,Vt){var Mn=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],ae=W.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),ur=W.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],yo=un.from(An(Vt)),_o=fr(W,yo),Gr=W.catalogs,Vo=Ze.init(_o,Gr),ni={type:"panel",items:H([Mn,ae,ur,br([Gr.anchor.map(kn.createUi("anchor","Anchors")),Gr.rels.map(kn.createUi("rel","Rel")),Gr.targets.map(kn.createUi("target","Open link in...")),Gr.link.map(kn.createUi("link","Link list")),Gr.classes.map(kn.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:ni,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:_o,onChange:function(Lu,qi){var Eu=qi.name;Vo.onChange(Lu.getData,{name:Eu}).each(function(mr){Lu.setData(mr)})},onSubmit:bt}},rr=function(W){var bt=Ee(W);bt.then(function(Vt){var Mn=de(W,Vt);return Jt(Vt,Mn,W)}).then(function(Vt){W.windowManager.open(Vt)})},zr=function(W,bt){document.body.appendChild(W),W.dispatchEvent(bt),document.body.removeChild(W)},wo=function(W){var bt=document.createElement("a");bt.target="_blank",bt.href=W,bt.rel="noreferrer noopener";var Vt=document.createEvent("MouseEvents");Vt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),zr(bt,Vt)},mi=function(W,bt){return W.dom.getParent(bt,"a[href]")},jr=function(W){return mi(W,W.selection.getStart())},Ou=function(W){return W.altKey===!0&&W.shiftKey===!1&&W.ctrlKey===!1&&W.metaKey===!1},mu=function(W,bt){if(bt){var Vt=qn(bt);if(/^#/.test(Vt)){var Mn=W.$(Vt);Mn.length&&W.selection.scrollIntoView(Mn[0],!0)}else wo(bt.href)}},si=function(W){return function(){rr(W)}},vc=function(W){return function(){mu(W,jr(W))}},ga=function(W){W.on("click",function(bt){var Vt=mi(W,bt.target);Vt&&Ge.metaKeyPressed(bt)&&(bt.preventDefault(),mu(W,Vt))}),W.on("keydown",function(bt){var Vt=jr(W);Vt&&bt.keyCode===13&&Ou(bt)&&(bt.preventDefault(),mu(W,Vt))})},Oa=function(W,bt){return W.on("NodeChange",bt),function(){return W.off("NodeChange",bt)}},Lo=function(W){return function(bt){var Vt=function(){return bt.setActive(!W.mode.isReadOnly()&&Mt(W,W.selection.getNode())!==null)};return Vt(),Oa(W,Vt)}},bc=function(W){return function(bt){var Vt=function(){return bt.setDisabled(Mt(W,W.selection.getNode())===null)};return Vt(),Oa(W,Vt)}},Fu=function(W){return function(bt){var Vt=function(ae){return me(ae)||te(W.selection.getRng())},Mn=W.dom.getParents(W.selection.getStart());return bt.setDisabled(!Vt(Mn)),Oa(W,function(ae){return bt.setDisabled(!Vt(ae.parents))})}},tc=function(W){W.addCommand("mceLink",function(){xr(W)?W.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):si(W)()})},Hc=function(W){W.addShortcut("Meta+K","",function(){W.execCommand("mceLink")})},Ea=function(W){W.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:si(W),onSetup:Lo(W)}),W.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:vc(W),onSetup:bc(W)}),W.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Wo(W)},onSetup:Fu(W)})},Ya=function(W){W.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:vc(W),onSetup:bc(W)}),W.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:si(W)}),W.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Wo(W)},onSetup:Fu(W)})},Vc=function(W){var bt="link unlink openlink",Vt="link";W.ui.registry.addContextMenu("link",{update:function(Mn){return me(W.dom.getParents(Mn,"a"))?bt:Vt}})},Fa=function(W){var bt=function(ae){ae.selection.collapse(!1)},Vt=function(ae){var ur=W.selection.getNode();return ae.setDisabled(!Mt(W,ur)),Bt},Mn=function(ae){var ur=Mt(W),yo=Ie(W);if(!ur&&yo){var _o=Fn(W.selection,ur);return un.some(_o.length>0?_o:ae)}else return un.none()};W.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Lo(W)},label:"Link",predicate:function(ae){return!!Mt(W,ae)&&Dn(W)},initValue:function(){var ae=Mt(W);return ae?qn(ae):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(ae){var ur=W.selection.getNode();return ae.setActive(!!Mt(W,ur)),Lo(W)(ae)},onAction:function(ae){var ur=ae.getValue(),yo=Mn(ur),_o={href:ur,attach:Bt};oi(W,_o,{href:ur,text:yo,title:un.none(),rel:un.none(),target:un.none(),class:un.none()}),bt(W),ae.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Vt,onAction:function(ae){Wo(W),ae.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Vt,onAction:function(ae){vc(W)(),ae.hide()}}]})};function _a(){vr.add("link",function(W){Ea(W),Ya(W),Vc(W),Fa(W),ga(W),tc(W),Hc(W)})}_a()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(E){var L=typeof E;return E===null?"null":L==="object"&&(Array.prototype.isPrototypeOf(E)||E.constructor&&E.constructor.name==="Array")?"array":L==="object"&&(String.prototype.isPrototypeOf(E)||E.constructor&&E.constructor.name==="String")?"string":L},Ae=function(E){return function(L){return Ge(L)===E}},cr=function(E){return function(L){return typeof L===E}},Ce=Ae("string"),De=Ae("object"),Be=Ae("array"),Ne=cr("boolean"),ce=cr("function"),Or=cr("number"),Wn=function(){},Bt=function(E){return function(){return E}},_n=function(E){return E},on=function(E,L){return E===L},It=function(E){return function(L){return!E(L)}},At=Bt(!1),Sn=Bt(!0),Xt=function(){return fe},fe=function(){var E=function(ct){return ct()},L=_n,j={fold:function(ct,Nt){return ct()},isSome:At,isNone:Sn,getOr:L,getOrThunk:E,getOrDie:function(ct){throw new Error(ct||"error: getOrDie called on none.")},getOrNull:Bt(null),getOrUndefined:Bt(void 0),or:L,orThunk:E,map:Xt,each:Wn,bind:Xt,exists:At,forall:Sn,filter:function(){return Xt()},toArray:function(){return[]},toString:Bt("none()")};return j}(),X=function(E){var L=Bt(E),j=function(){return Nt},ct=function(On){return On(E)},Nt={fold:function(On,ir){return ir(E)},isSome:Sn,isNone:At,getOr:L,getOrThunk:L,getOrDie:L,getOrNull:L,getOrUndefined:L,or:j,orThunk:j,map:function(On){return X(On(E))},each:function(On){On(E)},bind:ct,exists:ct,forall:ct,filter:function(On){return On(E)?Nt:fe},toArray:function(){return[E]},toString:function(){return"some("+E+")"}};return Nt},Yt=function(E){return E==null?fe:X(E)},un={some:X,none:Xt,from:Yt},tr=Array.prototype.slice,Me=Array.prototype.push,Ft=function(E,L){for(var j=E.length,ct=new Array(j),Nt=0;Nt<j;Nt++){var On=E[Nt];ct[Nt]=L(On,Nt)}return ct},xn=function(E,L){for(var j=0,ct=E.length;j<ct;j++){var Nt=E[j];L(Nt,j)}},en=function(E,L){for(var j=[],ct=0,Nt=E.length;ct<Nt;ct++){var On=E[ct];L(On,ct)&&j.push(On)}return j},pn=function(E,L){if(E.length===0)return[];for(var j=L(E[0]),ct=[],Nt=[],On=0,ir=E.length;On<ir;On++){var Vr=E[On],lo=L(Vr);lo!==j&&(ct.push(Nt),Nt=[]),j=lo,Nt.push(Vr)}return Nt.length!==0&&ct.push(Nt),ct},J=function(E,L,j){return xn(E,function(ct,Nt){j=L(j,ct,Nt)}),j},H=function(E,L,j){for(var ct=0,Nt=E.length;ct<Nt;ct++){var On=E[ct];if(L(On,ct))return un.some(On);if(j(On,ct))break}return un.none()},fn=function(E,L){return H(E,L,At)},Ke=function(E){for(var L=[],j=0,ct=E.length;j<ct;++j){if(!Be(E[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+E);Me.apply(L,E[j])}return L},Cn=function(E,L){return Ke(Ft(E,L))},br=function(E){var L=tr.call(E,0);return L.reverse(),L},ar=function(E,L){return L>=0&&L<E.length?un.some(E[L]):un.none()},D=function(E){return ar(E,0)},Dn=function(E){return ar(E,E.length-1)},Lt=function(E,L){for(var j=0;j<E.length;j++){var ct=L(E[j],j);if(ct.isSome())return ct}return un.none()},An=function(){return An=Object.assign||function(E){for(var L,j=1,ct=arguments.length;j<ct;j++){L=arguments[j];for(var Nt in L)Object.prototype.hasOwnProperty.call(L,Nt)&&(E[Nt]=L[Nt])}return E},An.apply(this,arguments)};function $t(E,L,j){if(j||arguments.length===2)for(var ct=0,Nt=L.length,On;ct<Nt;ct++)(On||!(ct in L))&&(On||(On=Array.prototype.slice.call(L,0,ct)),On[ct]=L[ct]);return E.concat(On||Array.prototype.slice.call(L))}var oe=function(E){var L=!1,j;return function(){for(var ct=[],Nt=0;Nt<arguments.length;Nt++)ct[Nt]=arguments[Nt];return L||(L=!0,j=E.apply(null,ct)),j}},Pn=function(E,L,j,ct){var Nt=E.isiOS()&&/ipad/i.test(j)===!0,On=E.isiOS()&&!Nt,ir=E.isiOS()||E.isAndroid(),Vr=ir||ct("(pointer:coarse)"),lo=Nt||!On&&ir&&ct("(min-device-width:768px)"),no=On||ir&&!lo,ei=L.isSafari()&&E.isiOS()&&/safari/i.test(j)===!1,nu=!no&&!lo&&!ei;return{isiPad:Bt(Nt),isiPhone:Bt(On),isTablet:Bt(lo),isPhone:Bt(no),isTouch:Bt(Vr),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:Bt(ei),isDesktop:Bt(nu)}},ie=function(E,L){for(var j=0;j<E.length;j++){var ct=E[j];if(ct.test(L))return ct}},K=function(E,L){var j=ie(E,L);if(!j)return{major:0,minor:0};var ct=function(Nt){return Number(L.replace(j,"$"+Nt))};return Pt(ct(1),ct(2))},xr=function(E,L){var j=String(L).toLowerCase();return E.length===0?Zt():K(E,j)},Zt=function(){return Pt(0,0)},Pt=function(E,L){return{major:E,minor:L}},ye={nu:Pt,detect:xr,unknown:Zt},Ot=function(E,L){return Lt(L.brands,function(j){var ct=j.brand.toLowerCase();return fn(E,function(Nt){var On;return ct===((On=Nt.brand)===null||On===void 0?void 0:On.toLowerCase())}).map(function(Nt){return{current:Nt.name,version:ye.nu(parseInt(j.version,10),0)}})})},Dt=function(E,L){var j=String(L).toLowerCase();return fn(E,function(ct){return ct.search(j)})},Qt=function(E,L){return Dt(E,L).map(function(j){var ct=ye.detect(j.versionRegexes,L);return{current:j.name,version:ct}})},jn=function(E,L){return Dt(E,L).map(function(j){var ct=ye.detect(j.versionRegexes,L);return{current:j.name,version:ct}})},nn=function(E,L){return E.indexOf(L)!==-1},kn=function(E){return function(L){return L.replace(E,"")}},Ye=kn(/^\s+|\s+$/g),pt=function(E){return E.length>0},sn=function(E){return!pt(E)},le=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zn=function(E){return function(L){return nn(L,E)}},Ue=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(E){return nn(E,"edge/")&&nn(E,"chrome")&&nn(E,"safari")&&nn(E,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,le],search:function(E){return nn(E,"chrome")&&!nn(E,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(E){return nn(E,"msie")||nn(E,"trident")}},{name:"Opera",versionRegexes:[le,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zn("firefox")},{name:"Safari",versionRegexes:[le,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(E){return(nn(E,"safari")||nn(E,"mobile/"))&&nn(E,"applewebkit")}}],er=[{name:"Windows",search:zn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(E){return nn(E,"iphone")||nn(E,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:zn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zn("linux"),versionRegexes:[]},{name:"Solaris",search:zn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],qr={browsers:Bt(Ue),oses:Bt(er)},ao="Edge",ko="Chrome",Xn="IE",Jn="Opera",En="Firefox",zt="Safari",jt=function(){return qn({current:void 0,version:ye.unknown()})},qn=function(E){var L=E.current,j=E.version,ct=function(Nt){return function(){return L===Nt}};return{current:L,version:j,isEdge:ct(ao),isChrome:ct(ko),isIE:ct(Xn),isOpera:ct(Jn),isFirefox:ct(En),isSafari:ct(zt)}},xe={unknown:jt,nu:qn,edge:Bt(ao),chrome:Bt(ko),ie:Bt(Xn),opera:Bt(Jn),firefox:Bt(En),safari:Bt(zt)},Qn="Windows",Mt="iOS",Fn="Android",me="Linux",te="OSX",Ie="Solaris",ht="FreeBSD",dn="ChromeOS",tn=function(){return Hn({current:void 0,version:ye.unknown()})},Hn=function(E){var L=E.current,j=E.version,ct=function(Nt){return function(){return L===Nt}};return{current:L,version:j,isWindows:ct(Qn),isiOS:ct(Mt),isAndroid:ct(Fn),isOSX:ct(te),isLinux:ct(me),isSolaris:ct(Ie),isFreeBSD:ct(ht),isChromeOS:ct(dn)}},Pe={unknown:tn,nu:Hn,windows:Bt(Qn),ios:Bt(Mt),android:Bt(Fn),linux:Bt(me),osx:Bt(te),solaris:Bt(Ie),freebsd:Bt(ht),chromeos:Bt(dn)},Er=function(E,L,j){var ct=qr.browsers(),Nt=qr.oses(),On=L.bind(function(lo){return Ot(ct,lo)}).orThunk(function(){return Qt(ct,E)}).fold(xe.unknown,xe.nu),ir=jn(Nt,E).fold(Pe.unknown,Pe.nu),Vr=Pn(ir,On,E,j);return{browser:On,os:ir,deviceType:Vr}},Eo={detect:Er},_r=function(E){return window.matchMedia(E).matches},Rr=oe(function(){return Eo.detect(navigator.userAgent,un.from(navigator.userAgentData),_r)}),Bo=function(){return Rr()},Mi=function(E,L,j){return(E.compareDocumentPosition(L)&j)!==0},oi=function(E,L){return Mi(E,L,Node.DOCUMENT_POSITION_CONTAINED_BY)},Wo=1,ci=function(E,L){var j=L||document,ct=j.createElement("div");if(ct.innerHTML=E,!ct.hasChildNodes()||ct.childNodes.length>1)throw console.error("HTML does not have a single root node",E),new Error("HTML must have a single root node");return ti(ct.childNodes[0])},Fi=function(E,L){var j=L||document,ct=j.createElement(E);return ti(ct)},di=function(E,L){var j=L||document,ct=j.createTextNode(E);return ti(ct)},ti=function(E){if(E==null)throw new Error("Node cannot be null or undefined");return{dom:E}},Li=function(E,L,j){return un.from(E.dom.elementFromPoint(L,j)).map(ti)},Jr={fromHtml:ci,fromTag:Fi,fromText:di,fromDom:ti,fromPoint:Li},Ii=function(E,L){var j=E.dom;if(j.nodeType!==Wo)return!1;var ct=j;if(ct.matches!==void 0)return ct.matches(L);if(ct.msMatchesSelector!==void 0)return ct.msMatchesSelector(L);if(ct.webkitMatchesSelector!==void 0)return ct.webkitMatchesSelector(L);if(ct.mozMatchesSelector!==void 0)return ct.mozMatchesSelector(L);throw new Error("Browser lacks native selectors")},Ze=function(E,L){return E.dom===L.dom},Na=function(E,L){var j=E.dom,ct=L.dom;return j===ct?!1:j.contains(ct)},Ei=function(E,L){return oi(E.dom,L.dom)},Wi=function(E,L){return Bo().browser.isIE()?Ei(E,L):Na(E,L)},hi=Ii,Qi=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Pa=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Zi=tinymce.util.Tools.resolve("tinymce.util.VK"),du=Object.keys,ot=function(E,L){for(var j=du(E),ct=0,Nt=j.length;ct<Nt;ct++){var On=j[ct],ir=E[On];L(ir,On)}},xt=function(E){return function(L,j){E[j]=L}},st=function(E,L,j,ct){var Nt={};return ot(E,function(On,ir){(L(On,ir)?j:ct)(On,ir)}),Nt},Gt=function(E,L){var j={};return st(E,L,xt(j),Wn),j};typeof window<"u"||Function("return this;")();var pe=function(E){var L=E.dom.nodeName;return L.toLowerCase()},He=function(E){return E.dom.nodeType},nt=function(E){return function(L){return He(L)===E}},dt=nt(Wo),Kt=function(E){return function(L){return dt(L)&&pe(L)===E}},Tn=function(E,L,j){if(Ce(j)||Ne(j)||Or(j))E.setAttribute(L,j+"");else throw console.error("Invalid call to Attribute.set. Key ",L,":: Value ",j,":: Element ",E),new Error("Attribute value was not simple")},P=function(E,L){var j=E.dom;ot(L,function(ct,Nt){Tn(j,Nt,ct)})},Y=function(E){return J(E.dom.attributes,function(L,j){return L[j.name]=j.value,L},{})},ft=function(E){return un.from(E.dom.parentNode).map(Jr.fromDom)},St=function(E){return Ft(E.dom.childNodes,Jr.fromDom)},Ut=function(E,L){var j=E.dom.childNodes;return un.from(j[L]).map(Jr.fromDom)},qt=function(E){return Ut(E,0)},de=function(E){return Ut(E,E.dom.childNodes.length-1)},Ee=function(E,L){var j=ft(E);j.each(function(ct){ct.dom.insertBefore(L.dom,E.dom)})},fr=function(E,L){E.dom.appendChild(L.dom)},Jt=function(E,L){xn(L,function(j){Ee(E,j)})},rr=function(E,L){xn(L,function(j){fr(E,j)})},zr=function(E){var L=E.dom;L.parentNode!==null&&L.parentNode.removeChild(L)},wo=function(E,L){return Jr.fromDom(E.dom.cloneNode(L))},mi=function(E){return wo(E,!0)},jr=function(E,L){var j=Jr.fromTag(L),ct=Y(E);return P(j,ct),j},Ou=function(E,L){var j=jr(E,L);Ee(E,j);var ct=St(E);return rr(j,ct),zr(E),j},mu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),si=tinymce.util.Tools.resolve("tinymce.util.Tools"),vc=function(E){return function(L){return L&&L.nodeName.toLowerCase()===E}},ga=function(E){return function(L){return L&&E.test(L.nodeName)}},Oa=function(E){return E&&E.nodeType===3},Lo=ga(/^(OL|UL|DL)$/),bc=ga(/^(OL|UL)$/),Fu=vc("ol"),tc=ga(/^(LI|DT|DD)$/),Hc=ga(/^(DT|DD)$/),Ea=ga(/^(TH|TD)$/),Ya=vc("br"),Vc=function(E){return E.parentNode.firstChild===E},Fa=function(E,L){return L&&!!E.schema.getTextBlockElements()[L.nodeName]},_a=function(E,L){return E&&E.nodeName in L},W=function(E,L){return Ya(L)?E.isBlock(L.nextSibling)&&!Ya(L.previousSibling):!1},bt=function(E,L,j){var ct=E.isEmpty(L);return j&&E.select("span[data-mce-type=bookmark]",L).length>0?!1:ct},Vt=function(E,L){return E.isChildOf(L,E.getRoot())},Mn=function(E){return E.getParam("lists_indent_on_tab",!0)},ae=function(E){var L=E.getParam("forced_root_block","p");return L===!1?"":L===!0?"p":L},ur=function(E){return E.getParam("forced_root_block_attrs",{})},yo=function(E,L){var j=E.dom,ct=E.schema.getBlockElements(),Nt=j.createFragment(),On=ae(E),ir,Vr,lo;if(On&&(Vr=j.create(On),Vr.tagName===On.toUpperCase()&&j.setAttribs(Vr,ur(E)),_a(L.firstChild,ct)||Nt.appendChild(Vr)),L)for(;ir=L.firstChild;){var no=ir.nodeName;!lo&&(no!=="SPAN"||ir.getAttribute("data-mce-type")!=="bookmark")&&(lo=!0),_a(ir,ct)?(Nt.appendChild(ir),Vr=null):On?(Vr||(Vr=j.create(On),Nt.appendChild(Vr)),Vr.appendChild(ir)):Nt.appendChild(ir)}return On?lo||Vr.appendChild(j.create("br",{"data-mce-bogus":"1"})):Nt.appendChild(j.create("br")),Nt},_o=mu.DOM,Gr=function(E,L,j){var ct=function(no){si.each(Nt,function(ei){no.parentNode.insertBefore(ei,j.parentNode)}),_o.remove(no)},Nt=_o.select('span[data-mce-type="bookmark"]',L),On=yo(E,j),ir=_o.createRng();ir.setStartAfter(j),ir.setEndAfter(L);for(var Vr=ir.extractContents(),lo=Vr.firstChild;lo;lo=lo.firstChild)if(lo.nodeName==="LI"&&E.dom.isEmpty(lo)){_o.remove(lo);break}E.dom.isEmpty(Vr)||_o.insertAfter(Vr,L),_o.insertAfter(On,L),bt(E.dom,j.parentNode)&&ct(j.parentNode),_o.remove(j),bt(E.dom,L)&&_o.remove(L)},Vo=Kt("dd"),ni=Kt("dt"),Lu=function(E,L){Vo(L)?Ou(L,"dt"):ni(L)&&ft(L).each(function(j){return Gr(E,j.dom,L.dom)})},qi=function(E){ni(E)&&Ou(E,"dd")},Eu=function(E,L,j){L==="Indent"?xn(j,qi):xn(j,function(ct){return Lu(E,ct)})},mr=function(E,L){if(Oa(E))return{container:E,offset:L};var j=Qi.getNode(E,L);return Oa(j)?{container:j,offset:L>=E.childNodes.length?j.data.length:0}:j.previousSibling&&Oa(j.previousSibling)?{container:j.previousSibling,offset:j.previousSibling.data.length}:j.nextSibling&&Oa(j.nextSibling)?{container:j.nextSibling,offset:0}:{container:E,offset:L}},nc=function(E){var L=E.cloneRange(),j=mr(E.startContainer,E.startOffset);L.setStart(j.container,j.offset);var ct=mr(E.endContainer,E.endOffset);return L.setEnd(ct.container,ct.offset),L},Ys=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),so=function(E,L){var j=L||E.selection.getStart(!0);return E.dom.getParent(j,"OL,UL,DL",gu(E,j))},Ss=function(E,L){return E&&L.length===1&&L[0]===E},ks=function(E){return en(E.querySelectorAll("ol,ul,dl"),Lo)},El=function(E){var L=so(E),j=E.selection.getSelectedBlocks();return Ss(L,j)?ks(L):en(j,function(ct){return Lo(ct)&&L!==ct})},zo=function(E,L){var j=si.map(L,function(ct){var Nt=E.dom.getParent(ct,"li,dd,dt",gu(E,ct));return Nt||ct});return Ys.unique(j)},Qa=function(E){var L=E.selection.getSelectedBlocks();return en(zo(E,L),tc)},cf=function(E){return en(Qa(E),Hc)},gu=function(E,L){var j=E.dom.getParents(L,"TD,TH");return j.length>0?j[0]:E.getBody()},vi=function(E,L){var j=E.dom.getParents(L,"ol,ul",gu(E,L));return Dn(j)},yc=function(E){var L=vi(E,E.selection.getStart()),j=en(E.selection.getSelectedBlocks(),bc);return L.toArray().concat(j)},hn=function(E){var L=yc(E);return Uc(E,L)},Uc=function(E,L){var j=Ft(L,function(ct){return vi(E,ct).getOr(ct)});return Ys.unique(j)},bi=function(E,L,j){return j===void 0&&(j=on),E.exists(function(ct){return j(ct,L)})},Qs=function(E,L,j){return E.isSome()&&L.isSome()?un.some(j(E.getOrDie(),L.getOrDie())):un.none()},ec=function(E,L){var j=L||document,ct=j.createDocumentFragment();return xn(E,function(Nt){ct.appendChild(Nt.dom)}),Jr.fromDom(ct)},B=function(E,L,j){return E.fire("ListMutation",{action:L,element:j})},k=function(E){return E.style!==void 0&&ce(E.style.getPropertyValue)},x=function(E,L,j){if(!Ce(j))throw console.error("Invalid call to CSS.set. Property ",L,":: Value ",j,":: Element ",E),new Error("CSS value must be a string: "+j);k(E)&&E.style.setProperty(L,j)},M=function(E,L,j){var ct=E.dom;x(ct,L,j)},U=function(E,L){fr(E.item,L.list)},rt=function(E){for(var L=1;L<E.length;L++)U(E[L-1],E[L])},Rt=function(E,L){Qs(Dn(E),D(L),U)},Ln=function(E,L){var j={list:Jr.fromTag(L,E),item:Jr.fromTag("li",E)};return fr(j.list,j.item),j},nr=function(E,L,j){for(var ct=[],Nt=0;Nt<j;Nt++)ct.push(Ln(E,L.listType));return ct},gr=function(E,L){for(var j=0;j<E.length-1;j++)M(E[j].item,"list-style-type","none");Dn(E).each(function(ct){P(ct.list,L.listAttributes),P(ct.item,L.itemAttributes),rr(ct.item,L.content)})},be=function(E,L){pe(E.list)!==L.listType&&(E.list=Ou(E.list,L.listType)),P(E.list,L.listAttributes)},Xe=function(E,L,j){var ct=Jr.fromTag("li",E);return P(ct,L),rr(ct,j),ct},Ir=function(E,L){fr(E.list,L),E.item=L},Hr=function(E,L,j){var ct=L.slice(0,j.depth);return Dn(ct).each(function(Nt){var On=Xe(E,j.itemAttributes,j.content);Ir(Nt,On),be(Nt,j)}),ct},Mr=function(E,L,j){var ct=nr(E,j,j.depth-L.length);return rt(ct),gr(ct,j),Rt(L,ct),L.concat(ct)},Xo=function(E,L){var j=J(L,function(ct,Nt){return Nt.depth>ct.length?Mr(E,ct,Nt):Hr(E,ct,Nt)},[]);return D(j).map(function(ct){return ct.list})},Cr=function(E){return hi(E,"OL,UL")},No=function(E){return qt(E).exists(Cr)},Do=function(E){return de(E).exists(Cr)},pa=function(E){return E.depth>0},Kr=function(E){return E.isSelected},xc=function(E){var L=St(E),j=Do(E)?L.slice(0,-1):L;return Ft(j,mi)},yi=function(E,L,j){return ft(E).filter(dt).map(function(ct){return{depth:L,dirty:!1,isSelected:j,content:xc(E),itemAttributes:Y(E),listAttributes:Y(ct),listType:pe(ct)}})},_i=function(E,L){switch(E){case"Indent":L.depth++;break;case"Outdent":L.depth--;break;case"Flatten":L.depth=0}L.dirty=!0},bv=function(E,L){E.listType=L.listType,E.listAttributes=An({},L.listAttributes)},La=function(E){E.listAttributes=Gt(E.listAttributes,function(L,j){return j!=="start"})},Dp=function(E,L){var j=E[L].depth,ct=function(On){return On.depth===j&&!On.dirty},Nt=function(On){return On.depth<j};return H(br(E.slice(0,L)),ct,Nt).orThunk(function(){return H(E.slice(L+1),ct,Nt)})},Ts=function(E){return xn(E,function(L,j){Dp(E,j).fold(function(){L.dirty&&La(L)},function(ct){return bv(L,ct)})}),E},Br=function(E){var L=E,j=function(){return L},ct=function(Nt){L=Nt};return{get:j,set:ct}},wc=function(E,L,j,ct){return qt(ct).filter(Cr).fold(function(){L.each(function(ir){Ze(ir.start,ct)&&j.set(!0)});var Nt=yi(ct,E,j.get());L.each(function(ir){Ze(ir.end,ct)&&j.set(!1)});var On=de(ct).filter(Cr).map(function(ir){return Ri(E,L,j,ir)}).getOr([]);return Nt.toArray().concat(On)},function(Nt){return Ri(E,L,j,Nt)})},Ri=function(E,L,j,ct){return Cn(St(ct),function(Nt){var On=Cr(Nt)?Ri:wc,ir=E+1;return On(ir,L,j,Nt)})},Ai=function(E,L){var j=Br(!1),ct=0;return Ft(E,function(Nt){return{sourceList:Nt,entries:Ri(ct,L,j,Nt)}})},ha=function(E,L){var j=Ts(L);return Ft(j,function(ct){var Nt=ec(ct.content);return Jr.fromDom(yo(E,Nt.dom))})},ta=function(E,L){var j=Ts(L);return Xo(E.contentDocument,j).toArray()},sf=function(E,L){return Cn(pn(L,pa),function(j){var ct=D(j).exists(pa);return ct?ta(E,j):ha(E,j)})},$c=function(E,L){xn(en(E,Kr),function(j){return _i(L,j)})},Mo=function(E){var L=Ft(Qa(E),Jr.fromDom);return Qs(fn(L,It(No)),fn(br(L),It(No)),function(j,ct){return{start:j,end:ct}})},li=function(E,L,j){var ct=Ai(L,Mo(E));xn(ct,function(Nt){$c(Nt.entries,j);var On=sf(E,Nt.entries);xn(On,function(ir){B(E,j==="Indent"?"IndentList":"OutdentList",ir.dom)}),Jt(Nt.sourceList,On),zr(Nt.sourceList)})},_u=function(E,L){var j=Ft(hn(E),Jr.fromDom),ct=Ft(cf(E),Jr.fromDom),Nt=!1;if(j.length||ct.length){var On=E.selection.getBookmark();li(E,j,L),Eu(E,L,ct),E.selection.moveToBookmark(On),E.selection.setRng(nc(E.selection.getRng())),E.nodeChanged(),Nt=!0}return Nt},Zs=function(E){return _u(E,"Indent")},ua=function(E){return _u(E,"Outdent")},Cc=function(E){return _u(E,"Flatten")},yv=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),lf=mu.DOM,Jo=function(E){var L={},j=function(ct){var Nt=E[ct?"startContainer":"endContainer"],On=E[ct?"startOffset":"endOffset"];if(Nt.nodeType===1){var ir=lf.create("span",{"data-mce-type":"bookmark"});Nt.hasChildNodes()?(On=Math.min(On,Nt.childNodes.length-1),ct?Nt.insertBefore(ir,Nt.childNodes[On]):lf.insertAfter(ir,Nt.childNodes[On])):Nt.appendChild(ir),Nt=ir,On=0}L[ct?"startContainer":"endContainer"]=Nt,L[ct?"startOffset":"endOffset"]=On};return j(!0),E.collapsed||j(),L},es=function(E){var L=function(ct){var Nt,On=function(lo){for(var no=lo.parentNode.firstChild,ei=0;no;){if(no===lo)return ei;(no.nodeType!==1||no.getAttribute("data-mce-type")!=="bookmark")&&ei++,no=no.nextSibling}return-1},ir=Nt=E[ct?"startContainer":"endContainer"],Vr=E[ct?"startOffset":"endOffset"];ir&&(ir.nodeType===1&&(Vr=On(ir),ir=ir.parentNode,lf.remove(Nt),!ir.hasChildNodes()&&lf.isBlock(ir)&&ir.appendChild(lf.create("br"))),E[ct?"startContainer":"endContainer"]=ir,E[ct?"startOffset":"endOffset"]=Vr)};L(!0),L();var j=lf.createRng();return j.setStart(E.startContainer,E.startOffset),E.endContainer&&j.setEnd(E.endContainer,E.endOffset),nc(j)},_l=function(E){switch(E){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Iu=function(E){return/\btox\-/.test(E.className)},Hi=function(E,L,j){var ct=function(On){var ir=H(On.parents,Lo,Ea).filter(function(Vr){return Vr.nodeName===L&&!Iu(Vr)}).isSome();j(ir)},Nt=E.dom.getParents(E.selection.getNode());return ct({parents:Nt}),E.on("NodeChange",ct),function(){return E.off("NodeChange",ct)}},Dl=function(E,L,j){var ct=j["list-style-type"]?j["list-style-type"]:null;E.setStyle(L,"list-style-type",ct)},tl=function(E,L){si.each(L,function(j,ct){E.setAttribute(ct,j)})},pu=function(E,L,j){tl(L,j["list-attributes"]),si.each(E.select("li",L),function(ct){tl(ct,j["list-item-attributes"])})},Hu=function(E,L,j){Dl(E,L,j),pu(E,L,j)},Za=function(E,L,j){si.each(j,function(ct){var Nt;return E.setStyle(L,(Nt={},Nt[ct]="",Nt))})},Qf=function(E,L,j,ct){var Nt=L[j?"startContainer":"endContainer"],On=L[j?"startOffset":"endOffset"];for(Nt.nodeType===1&&(Nt=Nt.childNodes[Math.min(On,Nt.childNodes.length-1)]||Nt),!j&&Ya(Nt.nextSibling)&&(Nt=Nt.nextSibling);Nt.parentNode!==ct;){if(Fa(E,Nt)||/^(TD|TH)$/.test(Nt.parentNode.nodeName))return Nt;Nt=Nt.parentNode}return Nt},rs=function(E,L,j){for(var ct=[],Nt=E.dom,On=Qf(E,L,!0,j),ir=Qf(E,L,!1,j),Vr,lo=[],no=On;no&&(lo.push(no),no!==ir);no=no.nextSibling);return si.each(lo,function(ei){if(Fa(E,ei)){ct.push(ei),Vr=null;return}if(Nt.isBlock(ei)||Ya(ei)){Ya(ei)&&Nt.remove(ei),Vr=null;return}var nu=ei.nextSibling;if(yv.isBookmarkNode(ei)&&(Lo(nu)||Fa(E,nu)||!nu&&ei.parentNode===j)){Vr=null;return}Vr||(Vr=Nt.create("p"),ei.parentNode.insertBefore(Vr,ei),ct.push(Vr)),Vr.appendChild(ei)}),ct},va=function(E,L,j){var ct=E.getStyle(L,"list-style-type"),Nt=j?j["list-style-type"]:"";return Nt=Nt===null?"":Nt,ct===Nt},Zd=function(E,L,j){var ct=E.selection.getRng(),Nt="LI",On=gu(E,E.selection.getStart(!0)),ir=E.dom;if(ir.getContentEditable(E.selection.getNode())!=="false"){L=L.toUpperCase(),L==="DL"&&(Nt="DT");var Vr=Jo(ct),lo=rs(E,ct,On);si.each(lo,function(no){var ei,nu=no.previousSibling,Bi=no.parentNode;tc(Bi)||(nu&&Lo(nu)&&nu.nodeName===L&&va(ir,nu,j)?(ei=nu,no=ir.rename(no,Nt),nu.appendChild(no)):(ei=ir.create(L),no.parentNode.insertBefore(ei,no),ei.appendChild(no),no=ir.rename(no,Nt)),Za(ir,no,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Hu(ir,ei,j),mf(E.dom,ei))}),E.selection.setRng(es(Vr))}},xv=function(E,L){return E&&L&&Lo(E)&&E.nodeName===L.nodeName},ff=function(E,L,j){var ct=E.getStyle(L,"list-style-type",!0),Nt=E.getStyle(j,"list-style-type",!0);return ct===Nt},df=function(E,L){return E.className===L.className},Vi=function(E,L,j){return xv(L,j)&&ff(E,L,j)&&df(L,j)},mf=function(E,L){var j,ct;if(j=L.nextSibling,Vi(E,L,j)){for(;ct=j.firstChild;)L.appendChild(ct);E.remove(j)}if(j=L.previousSibling,Vi(E,L,j)){for(;ct=j.lastChild;)L.insertBefore(ct,L.firstChild);E.remove(j)}},gf=function(E,L,j,ct){if(L.nodeName!==j){var Nt=E.dom.rename(L,j);Hu(E.dom,Nt,ct),B(E,_l(j),Nt)}else Hu(E.dom,L,ct),B(E,_l(j),L)},hu=function(E,L,j,ct,Nt){var On=Lo(L);if(On&&L.nodeName===ct&&!nl(Nt))Cc(E);else{Zd(E,ct,Nt);var ir=Jo(E.selection.getRng()),Vr=On?$t([L],j,!0):j;si.each(Vr,function(lo){gf(E,lo,ct,Nt)}),E.selection.setRng(es(ir))}},nl=function(E){return"list-style-type"in E},pf=function(E,L,j,ct){if(L!==E.getBody())if(L)if(L.nodeName===j&&!nl(ct)&&!Iu(L))Cc(E);else{var Nt=Jo(E.selection.getRng());Hu(E.dom,L,ct);var On=E.dom.rename(L,j);mf(E.dom,On),E.selection.setRng(es(Nt)),Zd(E,j,ct),B(E,_l(j),On)}else Zd(E,j,ct),B(E,_l(j),L)},el=function(E,L,j){var ct=so(E),Nt=El(E),On=De(j)?j:{};Nt.length>0?hu(E,ct,Nt,L,On):pf(E,ct,L,On)},wi=mu.DOM,rc=function(E,L){var j=L.parentNode;if(j.nodeName==="LI"&&j.firstChild===L){var ct=j.previousSibling;ct&&ct.nodeName==="LI"?(ct.appendChild(L),bt(E,j)&&wi.remove(j)):wi.setStyle(j,"listStyleType","none")}if(Lo(j)){var ct=j.previousSibling;ct&&ct.nodeName==="LI"&&ct.appendChild(L)}},lg=function(E,L){var j=si.grep(E.select("ol,ul",L));si.each(j,function(ct){rc(E,ct)})},Sc=function(E,L,j,ct){var Nt=L.startContainer,On=L.startOffset;if(Oa(Nt)&&(j?On<Nt.data.length:On>0))return Nt;var ir=E.schema.getNonEmptyElements();Nt.nodeType===1&&(Nt=Qi.getNode(Nt,On));var Vr=new Pa(Nt,ct);for(j&&W(E.dom,Nt)&&Vr.next();Nt=Vr[j?"next":"prev2"]();)if(Nt.nodeName==="LI"&&!Nt.hasChildNodes()||ir[Nt.nodeName]||Oa(Nt)&&Nt.data.length>0)return Nt},fg=function(E,L){var j=L.childNodes;return j.length===1&&!Lo(j[0])&&E.isBlock(j[0])},wv=function(E,L){fg(E,L)&&E.remove(L.firstChild,!0)},Mp=function(E,L,j){var ct,Nt=fg(E,j)?j.firstChild:j;if(wv(E,L),!bt(E,L,!0))for(;ct=L.firstChild;)Nt.appendChild(ct)},hf=function(E,L,j){var ct,Nt=L.parentNode;if(!(!Vt(E,L)||!Vt(E,j))){Lo(j.lastChild)&&(ct=j.lastChild),Nt===j.lastChild&&Ya(Nt.previousSibling)&&E.remove(Nt.previousSibling);var On=j.lastChild;On&&Ya(On)&&L.hasChildNodes()&&E.remove(On),bt(E,j,!0)&&E.$(j).empty(),Mp(E,L,j),ct&&j.appendChild(ct);var ir=Wi(Jr.fromDom(j),Jr.fromDom(L)),Vr=ir?E.getParents(L,Lo,j):[];E.remove(L),xn(Vr,function(lo){bt(E,lo)&&lo!==E.getRoot()&&E.remove(lo)})}},vf=function(E,L,j){E.dom.$(j).empty(),hf(E.dom,L,j),E.selection.setCursorLocation(j,0)},Ml=function(E,L,j,ct){var Nt=E.dom;if(Nt.isEmpty(ct))vf(E,j,ct);else{var On=Jo(L);hf(Nt,j,ct),E.selection.setRng(es(On))}},Fr=function(E,L,j,ct){var Nt=Jo(L);hf(E.dom,j,ct);var On=es(Nt);E.selection.setRng(On)},jc=function(E,L){var j=E.dom,ct=E.selection,Nt=ct.getStart(),On=gu(E,Nt),ir=j.getParent(ct.getStart(),"LI",On);if(ir){var Vr=ir.parentNode;if(Vr===E.getBody()&&bt(j,Vr))return!0;var lo=nc(ct.getRng()),no=j.getParent(Sc(E,lo,L,On),"LI",On);if(no&&no!==ir)return E.undoManager.transact(function(){L?Ml(E,lo,no,ir):Vc(ir)?ua(E):Fr(E,lo,ir,no)}),!0;if(!no&&!L&&lo.startOffset===0&&lo.endOffset===0)return E.undoManager.transact(function(){Cc(E)}),!0}return!1},Vu=function(E,L,j){var ct=E.getParent(L.parentNode,E.isBlock,j);E.remove(L),ct&&E.isEmpty(ct)&&E.remove(ct)},vu=function(E,L){var j=E.dom,ct=E.selection.getStart(),Nt=gu(E,ct),On=j.getParent(ct,j.isBlock,Nt);if(On&&j.isEmpty(On)){var ir=nc(E.selection.getRng()),Vr=j.getParent(Sc(E,ir,L,Nt),"LI",Nt);if(Vr)return E.undoManager.transact(function(){Vu(j,On,Nt),mf(j,Vr.parentNode),E.selection.select(Vr,!0),E.selection.collapse(L)}),!0}return!1},Wc=function(E,L){return jc(E,L)||vu(E,L)},Gi=function(E){var L=E.selection.getStart(),j=gu(E,L),ct=E.dom.getParent(L,"LI,DT,DD",j);return ct||Qa(E).length>0?(E.undoManager.transact(function(){E.execCommand("Delete"),lg(E.dom,E.getBody())}),!0):!1},ba=function(E,L){return E.selection.isCollapsed()?Wc(E,L):Gi(E)},na=function(E){E.on("keydown",function(L){L.keyCode===Zi.BACKSPACE?ba(E,!1)&&L.preventDefault():L.keyCode===Zi.DELETE&&ba(E,!0)&&L.preventDefault()})},Rl=function(E){return{backspaceDelete:function(L){ba(E,L)}}},tu=function(E,L){var j=so(E);E.undoManager.transact(function(){De(L.styles)&&E.dom.setStyles(j,L.styles),De(L.attrs)&&ot(L.attrs,function(ct,Nt){return E.dom.setAttrib(j,Nt,ct)})})},je=function(E){var L=br(Ye(E).split("")),j=Ft(L,function(ct,Nt){var On=ct.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Nt)*On});return J(j,function(ct,Nt){return ct+Nt},0)},bf=function(E){if(E--,E<0)return"";var L=E%26,j=Math.floor(E/26),ct=bf(j),Nt=String.fromCharCode(65+L);return ct+Nt},Rp=function(E){return/^[A-Z]+$/.test(E)},Yr=function(E){return/^[a-z]+$/.test(E)},Yo=function(E){return/^[0-9]+$/.test(E)},dg=function(E){return Yo(E)?2:Rp(E)?0:Yr(E)?1:sn(E)?3:4},Os=function(E){switch(dg(E)){case 2:return un.some({listStyleType:un.none(),start:E});case 0:return un.some({listStyleType:un.some("upper-alpha"),start:je(E).toString()});case 1:return un.some({listStyleType:un.some("lower-alpha"),start:je(E).toString()});case 3:return un.some({listStyleType:un.none(),start:""});case 4:return un.none()}},xi=function(E){var L=parseInt(E.start,10);return bi(E.listStyleType,"upper-alpha")?bf(L):bi(E.listStyleType,"lower-alpha")?bf(L).toLowerCase():E.start},mg=function(E){var L=so(E);Fu(L)&&E.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:xi({start:E.dom.getAttrib(L,"start","1"),listStyleType:un.some(E.dom.getStyle(L,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(j){var ct=j.getData();Os(ct.start).each(function(Nt){E.execCommand("mceListUpdate",!1,{attrs:{start:Nt.start==="1"?"":Nt.start},styles:{"list-style-type":Nt.listStyleType.getOr("")}})}),j.close()}})},oc=function(E,L){return function(){var j=so(E);return j&&j.nodeName===L}},tm=function(E){E.addCommand("mceListProps",function(){mg(E)})},to=function(E){E.on("BeforeExecCommand",function(L){var j=L.command.toLowerCase();j==="indent"?Zs(E):j==="outdent"&&ua(E)}),E.addCommand("InsertUnorderedList",function(L,j){el(E,"UL",j)}),E.addCommand("InsertOrderedList",function(L,j){el(E,"OL",j)}),E.addCommand("InsertDefinitionList",function(L,j){el(E,"DL",j)}),E.addCommand("RemoveList",function(){Cc(E)}),tm(E),E.addCommand("mceListUpdate",function(L,j){De(j)&&tu(E,j)}),E.addQueryStateHandler("InsertUnorderedList",oc(E,"UL")),E.addQueryStateHandler("InsertOrderedList",oc(E,"OL")),E.addQueryStateHandler("InsertDefinitionList",oc(E,"DL"))},Du=function(E){E.on("keydown",function(L){L.keyCode!==Zi.TAB||Zi.metaKeyPressed(L)||E.undoManager.transact(function(){(L.shiftKey?ua(E):Zs(E))&&L.preventDefault()})})},U0=function(E){Mn(E)&&Du(E),na(E)},$0=function(E){var L=function(j){return function(){return E.execCommand(j)}};E.hasPlugin("advlist")||(E.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:L("InsertOrderedList"),onSetup:function(j){return Hi(E,"OL",j.setActive)}}),E.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:L("InsertUnorderedList"),onSetup:function(j){return Hi(E,"UL",j.setActive)}}))},Ci=function(E){var L={text:"List properties...",icon:"ordered-list",onAction:function(){return E.execCommand("mceListProps")},onSetup:function(j){return Hi(E,"OL",function(ct){return j.setDisabled(!ct)})}};E.ui.registry.addMenuItem("listprops",L),E.ui.registry.addContextMenu("lists",{update:function(j){var ct=so(E,j);return Fu(ct)?["listprops"]:[]}})};function gg(){vr.add("lists",function(E){return E.hasPlugin("rtc",!0)===!1?(U0(E),to(E)):tm(E),$0(E),Ci(E),Rl(E)})}gg()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(){return Ge=Object.assign||function(ot){for(var xt,st=1,Gt=arguments.length;st<Gt;st++){xt=arguments[st];for(var pe in xt)Object.prototype.hasOwnProperty.call(xt,pe)&&(ot[pe]=xt[pe])}return ot},Ge.apply(this,arguments)},Ae=function(ot){var xt=typeof ot;return ot===null?"null":xt==="object"&&(Array.prototype.isPrototypeOf(ot)||ot.constructor&&ot.constructor.name==="Array")?"array":xt==="object"&&(String.prototype.isPrototypeOf(ot)||ot.constructor&&ot.constructor.name==="String")?"string":xt},cr=function(ot){return function(xt){return Ae(xt)===ot}},Ce=cr("string"),De=cr("object"),Be=cr("array"),Ne=function(ot){return ot==null},ce=function(ot){return!Ne(ot)},Or=function(){},Wn=function(ot){return function(){return ot}},Bt=function(ot){return ot},_n=Wn(!1),on=Wn(!0),It=function(){return At},At=function(){var ot=function(Gt){return Gt()},xt=Bt,st={fold:function(Gt,pe){return Gt()},isSome:_n,isNone:on,getOr:xt,getOrThunk:ot,getOrDie:function(Gt){throw new Error(Gt||"error: getOrDie called on none.")},getOrNull:Wn(null),getOrUndefined:Wn(void 0),or:xt,orThunk:ot,map:It,each:Or,bind:It,exists:_n,forall:on,filter:function(){return It()},toArray:function(){return[]},toString:Wn("none()")};return st}(),Sn=function(ot){var xt=Wn(ot),st=function(){return pe},Gt=function(He){return He(ot)},pe={fold:function(He,nt){return nt(ot)},isSome:on,isNone:_n,getOr:xt,getOrThunk:xt,getOrDie:xt,getOrNull:xt,getOrUndefined:xt,or:st,orThunk:st,map:function(He){return Sn(He(ot))},each:function(He){He(ot)},bind:Gt,exists:Gt,forall:Gt,filter:function(He){return He(ot)?pe:At},toArray:function(){return[ot]},toString:function(){return"some("+ot+")"}};return pe},Xt=function(ot){return ot==null?At:Sn(ot)},fe={some:Sn,none:It,from:Xt},X=Array.prototype.push,Yt=function(ot,xt){for(var st=0,Gt=ot.length;st<Gt;st++){var pe=ot[st];xt(pe,st)}},un=function(ot){for(var xt=[],st=0,Gt=ot.length;st<Gt;++st){if(!Be(ot[st]))throw new Error("Arr.flatten item "+st+" was not an array, input: "+ot);X.apply(xt,ot[st])}return xt},tr=function(ot){var xt=ot,st=function(){return xt},Gt=function(pe){xt=pe};return{get:st,set:Gt}},Me=Object.keys,Ft=Object.hasOwnProperty,xn=function(ot,xt){for(var st=Me(ot),Gt=0,pe=st.length;Gt<pe;Gt++){var He=st[Gt],nt=ot[He];xt(nt,He)}},en=function(ot,xt){return pn(ot,xt)?fe.from(ot[xt]):fe.none()},pn=function(ot,xt){return Ft.call(ot,xt)},J=function(ot){return ot.getParam("media_scripts")},H=function(ot){return ot.getParam("audio_template_callback")},fn=function(ot){return ot.getParam("video_template_callback")},Ke=function(ot){return ot.getParam("media_live_embeds",!0)},Cn=function(ot){return ot.getParam("media_filter_html",!0)},br=function(ot){return ot.getParam("media_url_resolver")},ar=function(ot){return ot.getParam("media_alt_source",!0)},D=function(ot){return ot.getParam("media_poster",!0)},Dn=function(ot){return ot.getParam("media_dimensions",!0)},Lt=tinymce.util.Tools.resolve("tinymce.util.Tools"),An=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$t=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),oe=function(ot,xt){if(ot){for(var st=0;st<ot.length;st++)if(xt.indexOf(ot[st].filter)!==-1)return ot[st]}},Pn=An.DOM,ie=function(ot){return ot.replace(/px$/,"")},K=function(ot){var xt=ot.map.style,st=xt?Pn.parseStyle(xt):{};return{type:"ephox-embed-iri",source:ot.map["data-ephox-embed-iri"],altsource:"",poster:"",width:en(st,"max-width").map(ie).getOr(""),height:en(st,"max-height").map(ie).getOr("")}},xr=function(ot,xt){var st=tr(!1),Gt={};return $t({validate:!1,allow_conditional_comments:!0,start:function(pe,He){if(!st.get())if(pn(He.map,"data-ephox-embed-iri"))st.set(!0),Gt=K(He);else{if(!Gt.source&&pe==="param"&&(Gt.source=He.map.movie),(pe==="iframe"||pe==="object"||pe==="embed"||pe==="video"||pe==="audio")&&(Gt.type||(Gt.type=pe),Gt=Lt.extend(He.map,Gt)),pe==="script"){var nt=oe(ot,He.map.src);if(!nt)return;Gt={type:"script",source:He.map.src,width:String(nt.width),height:String(nt.height)}}pe==="source"&&(Gt.source?Gt.altsource||(Gt.altsource=He.map.src):Gt.source=He.map.src),pe==="img"&&!Gt.poster&&(Gt.poster=He.map.src)}}}).parse(xt),Gt.source=Gt.source||Gt.src||Gt.data,Gt.altsource=Gt.altsource||"",Gt.poster=Gt.poster||"",Gt},Zt=function(ot){var xt={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},st=ot.toLowerCase().split(".").pop(),Gt=xt[st];return Gt||""},Pt=tinymce.util.Tools.resolve("tinymce.html.Schema"),ye=tinymce.util.Tools.resolve("tinymce.html.Writer"),Ot=An.DOM,Dt=function(ot){return/^[0-9.]+$/.test(ot)?ot+"px":ot},Qt=function(ot,xt){xn(xt,function(st,Gt){var pe=""+st;if(ot.map[Gt])for(var He=ot.length;He--;){var nt=ot[He];nt.name===Gt&&(pe?(ot.map[Gt]=pe,nt.value=pe):(delete ot.map[Gt],ot.splice(He,1)))}else pe&&(ot.push({name:Gt,value:pe}),ot.map[Gt]=pe)})},jn=function(ot,xt){var st=xt.map.style,Gt=st?Ot.parseStyle(st):{};Gt["max-width"]=Dt(ot.width),Gt["max-height"]=Dt(ot.height),Qt(xt,{style:Ot.serializeStyle(Gt)})},nn=["source","altsource"],kn=function(ot,xt,st){var Gt=ye(),pe=tr(!1),He=0,nt;return $t({validate:!1,allow_conditional_comments:!0,comment:function(dt){Gt.comment(dt)},cdata:function(dt){Gt.cdata(dt)},text:function(dt,Kt){Gt.text(dt,Kt)},start:function(dt,Kt,Tn){if(!pe.get())if(pn(Kt.map,"data-ephox-embed-iri"))pe.set(!0),jn(xt,Kt);else{switch(dt){case"video":case"object":case"embed":case"img":case"iframe":xt.height!==void 0&&xt.width!==void 0&&Qt(Kt,{width:xt.width,height:xt.height});break}if(st)switch(dt){case"video":Qt(Kt,{poster:xt.poster,src:""}),xt.altsource&&Qt(Kt,{src:""});break;case"iframe":Qt(Kt,{src:xt.source});break;case"source":if(He<2&&(Qt(Kt,{src:xt[nn[He]],type:xt[nn[He]+"mime"]}),!xt[nn[He]]))return;He++;break;case"img":if(!xt.poster)return;nt=!0;break}}Gt.start(dt,Kt,Tn)},end:function(dt){if(!pe.get()){if(dt==="video"&&st){for(var Kt=0;Kt<2;Kt++)if(xt[nn[Kt]]){var Tn=[];Tn.map={},He<=Kt&&(Qt(Tn,{src:xt[nn[Kt]],type:xt[nn[Kt]+"mime"]}),Gt.start("source",Tn,!0))}}if(xt.poster&&dt==="object"&&st&&!nt){var P=[];P.map={},Qt(P,{src:xt.poster,width:xt.width,height:xt.height}),Gt.start("img",P,!0)}}Gt.end(dt)}},Pt({})).parse(ot),Gt.getContent()},Ye=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],pt=function(ot){var xt=ot.match(/^(https?:\/\/|www\.)(.+)$/i);return xt&&xt.length>1?xt[1]==="www."?"https://":xt[1]:"https://"},sn=function(ot,xt){for(var st=pt(xt),Gt=ot.regex.exec(xt),pe=st+ot.url,He=function(dt){pe=pe.replace("$"+dt,function(){return Gt[dt]?Gt[dt]:""})},nt=0;nt<Gt.length;nt++)He(nt);return pe.replace(/\?$/,"")},le=function(ot){var xt=Ye.filter(function(st){return st.regex.test(ot)});return xt.length>0?Lt.extend({},xt[0],{url:sn(xt[0],ot)}):null},zn=function(ot){var xt=ot.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ot.source+'" width="'+ot.width+'" height="'+ot.height+'"'+xt+"></iframe>"},Ue=function(ot){var xt='<object data="'+ot.source+'" width="'+ot.width+'" height="'+ot.height+'" type="application/x-shockwave-flash">';return ot.poster&&(xt+='<img src="'+ot.poster+'" width="'+ot.width+'" height="'+ot.height+'" />'),xt+="</object>",xt},er=function(ot,xt){return xt?xt(ot):'<audio controls="controls" src="'+ot.source+'">'+(ot.altsource?`
<source src="`+ot.altsource+'"'+(ot.altsourcemime?' type="'+ot.altsourcemime+'"':"")+` />
`:"")+"</audio>"},qr=function(ot,xt){return xt?xt(ot):'<video width="'+ot.width+'" height="'+ot.height+'"'+(ot.poster?' poster="'+ot.poster+'"':"")+` controls="controls">
<source src="`+ot.source+'"'+(ot.sourcemime?' type="'+ot.sourcemime+'"':"")+` />
`+(ot.altsource?'<source src="'+ot.altsource+'"'+(ot.altsourcemime?' type="'+ot.altsourcemime+'"':"")+` />
`:"")+"</video>"},ao=function(ot){return'<script src="'+ot.source+'"><\/script>'},ko=function(ot,xt){var st=Lt.extend({},xt);if(!st.source&&(Lt.extend(st,xr(J(ot),st.embed)),!st.source))return"";st.altsource||(st.altsource=""),st.poster||(st.poster=""),st.source=ot.convertURL(st.source,"source"),st.altsource=ot.convertURL(st.altsource,"source"),st.sourcemime=Zt(st.source),st.altsourcemime=Zt(st.altsource),st.poster=ot.convertURL(st.poster,"poster");var Gt=le(st.source);if(Gt&&(st.source=Gt.url,st.type=Gt.type,st.allowfullscreen=Gt.allowFullscreen,st.width=st.width||String(Gt.w),st.height=st.height||String(Gt.h)),st.embed)return kn(st.embed,st,!0);var pe=oe(J(ot),st.source);pe&&(st.type="script",st.width=String(pe.width),st.height=String(pe.height));var He=H(ot),nt=fn(ot);return st.width=st.width||"300",st.height=st.height||"150",Lt.each(st,function(dt,Kt){st[Kt]=ot.dom.encode(""+dt)}),st.type==="iframe"?zn(st):st.sourcemime==="application/x-shockwave-flash"?Ue(st):st.sourcemime.indexOf("audio")!==-1?er(st,He):st.type==="script"?ao(st):qr(st,nt)},Xn=function(ot){return ot.hasAttribute("data-mce-object")||ot.hasAttribute("data-ephox-embed-iri")},Jn=function(ot){ot.on("click keyup touchend",function(){var xt=ot.selection.getNode();xt&&ot.dom.hasClass(xt,"mce-preview-object")&&ot.dom.getAttrib(xt,"data-mce-selected")&&xt.setAttribute("data-mce-selected","2")}),ot.on("ObjectSelected",function(xt){var st=xt.target.getAttribute("data-mce-object");st==="script"&&xt.preventDefault()}),ot.on("ObjectResized",function(xt){var st=xt.target;if(st.getAttribute("data-mce-object")){var Gt=st.getAttribute("data-mce-html");Gt&&(Gt=unescape(Gt),st.setAttribute("data-mce-html",escape(kn(Gt,{width:String(xt.width),height:String(xt.height)}))))}})},En=tinymce.util.Tools.resolve("tinymce.util.Promise"),zt={},jt=function(ot,xt,st){return new En(function(Gt,pe){var He=function(nt){return nt.html&&(zt[ot.source]=nt),Gt({url:ot.source,html:nt.html?nt.html:xt(ot)})};zt[ot.source]?He(zt[ot.source]):st({url:ot.source},He,pe)})},qn=function(ot,xt){return En.resolve({html:xt(ot),url:ot.source})},xe=function(ot){return function(xt){return ko(ot,xt)}},Qn=function(ot,xt){var st=br(ot);return st?jt(xt,xe(ot),st):qn(xt,xe(ot))},Mt=function(ot){return pn(zt,ot)},Fn=function(ot,xt){return en(xt,ot).bind(function(st){return en(st,"meta")})},me=function(ot,xt,st){return function(Gt){var pe,He=function(){return en(ot,Gt)},nt=function(){return en(xt,Gt)},dt=function(P){return en(P,"value").bind(function(Y){return Y.length>0?fe.some(Y):fe.none()})},Kt=function(){return He().bind(function(P){return De(P)?dt(P).orThunk(nt):nt().orThunk(function(){return fe.from(P)})})},Tn=function(){return nt().orThunk(function(){return He().bind(function(P){return De(P)?dt(P):fe.from(P)})})};return pe={},pe[Gt]=(Gt===st?Kt():Tn()).getOr(""),pe}},te=function(ot,xt){var st={};return en(ot,"dimensions").each(function(Gt){Yt(["width","height"],function(pe){en(xt,pe).orThunk(function(){return en(Gt,pe)}).each(function(He){return st[pe]=He})})}),st},Ie=function(ot,xt){var st=xt?Fn(xt,ot).getOr({}):{},Gt=me(ot,st,xt);return Ge(Ge(Ge(Ge(Ge({},Gt("source")),Gt("altsource")),Gt("poster")),Gt("embed")),te(ot,st))},ht=function(ot){var xt=Ge(Ge({},ot),{source:{value:en(ot,"source").getOr("")},altsource:{value:en(ot,"altsource").getOr("")},poster:{value:en(ot,"poster").getOr("")}});return Yt(["width","height"],function(st){en(ot,st).each(function(Gt){var pe=xt.dimensions||{};pe[st]=Gt,xt.dimensions=pe})}),xt},dn=function(ot){return function(xt){var st=xt&&xt.msg?"Media embed handler error: "+xt.msg:"Media embed handler threw unknown error.";ot.notificationManager.open({type:"error",text:st})}},tn=function(ot,xt){return xr(J(ot),xt)},Hn=function(ot){var xt=ot.selection.getNode(),st=Xn(xt)?ot.serializer.serialize(xt,{selection:!0}):"";return Ge({embed:st},xr(J(ot),st))},Pe=function(ot,xt){return function(st){if(Ce(st.url)&&st.url.trim().length>0){var Gt=st.html,pe=tn(xt,Gt),He=Ge(Ge({},pe),{source:st.url,embed:Gt});ot.setData(ht(He))}}},Er=function(ot,xt){for(var st=ot.dom.select("*[data-mce-object]"),Gt=0;Gt<xt.length;Gt++)for(var pe=st.length-1;pe>=0;pe--)xt[Gt]===st[pe]&&st.splice(pe,1);ot.selection.select(st[0])},Eo=function(ot,xt){var st=ot.dom.select("*[data-mce-object]");ot.insertContent(xt),Er(ot,st),ot.nodeChanged()},_r=function(ot,xt,st){xt.embed=kn(xt.embed,xt),xt.embed&&(ot.source===xt.source||Mt(xt.source))?Eo(st,xt.embed):Qn(st,xt).then(function(Gt){Eo(st,Gt.html)}).catch(dn(st))},Rr=function(ot){var xt=Hn(ot),st=tr(xt),Gt=ht(xt),pe=function(Ee,fr){var Jt=Ie(fr.getData(),"source");Ee.source!==Jt.source&&(Pe(de,ot)({url:Jt.source,html:""}),Qn(ot,Jt).then(Pe(de,ot)).catch(dn(ot)))},He=function(Ee){var fr=Ie(Ee.getData()),Jt=tn(ot,fr.embed);Ee.setData(ht(Jt))},nt=function(Ee,fr){var Jt=Ie(Ee.getData(),fr),rr=ko(ot,Jt);Ee.setData(ht(Ge(Ge({},Jt),{embed:rr})))},dt=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Kt=Dn(ot)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Tn={title:"General",name:"general",items:un([dt,Kt])},P={type:"textarea",name:"embed",label:"Paste your embed code below:"},Y={title:"Embed",items:[P]},ft=[];ar(ot)&&ft.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),D(ot)&&ft.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var St={title:"Advanced",name:"advanced",items:ft},Ut=[Tn,Y];ft.length>0&&Ut.push(St);var qt={type:"tabpanel",tabs:Ut},de=ot.windowManager.open({title:"Insert/Edit Media",size:"normal",body:qt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Ee){var fr=Ie(Ee.getData());_r(st.get(),fr,ot),Ee.close()},onChange:function(Ee,fr){switch(fr.name){case"source":pe(st.get(),Ee);break;case"embed":He(Ee);break;case"dimensions":case"altsource":case"poster":nt(Ee,fr.name);break}st.set(Ie(Ee.getData()))},initialData:Gt})},Bo=function(ot){var xt=function(){Rr(ot)};return{showDialog:xt}},Mi=function(ot){var xt=function(){Rr(ot)};ot.addCommand("mceMedia",xt)},oi=tinymce.util.Tools.resolve("tinymce.html.Node"),Wo=tinymce.util.Tools.resolve("tinymce.Env"),ci=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Fi=function(ot,xt){if(Cn(ot)===!1)return xt;var st=ye(),Gt;return $t({validate:!1,allow_conditional_comments:!1,comment:function(pe){Gt||st.comment(pe)},cdata:function(pe){Gt||st.cdata(pe)},text:function(pe,He){Gt||st.text(pe,He)},start:function(pe,He,nt){if(Gt=!0,!(pe==="script"||pe==="noscript"||pe==="svg")){for(var dt=He.length-1;dt>=0;dt--){var Kt=He[dt].name;Kt.indexOf("on")===0&&(delete He.map[Kt],He.splice(dt,1)),Kt==="style"&&(He[dt].value=ot.dom.serializeStyle(ot.dom.parseStyle(He[dt].value),pe))}st.start(pe,He,nt),Gt=!1}},end:function(pe){Gt||st.end(pe)}},Pt({})).parse(xt),st.getContent()},di=function(ot){var xt=ot.name;return xt==="iframe"||xt==="video"||xt==="audio"},ti=function(ot,xt,st,Gt){Gt===void 0&&(Gt=null);var pe=ot.attr(st);return ce(pe)?pe:pn(xt,st)?null:Gt},Li=function(ot,xt,st){var Gt=xt.name==="img"||ot.name==="video",pe=Gt?"300":null,He=ot.name==="audio"?"30":"150",nt=Gt?He:null;xt.attr({width:ti(ot,st,"width",pe),height:ti(ot,st,"height",nt)})},Jr=function(ot,xt,st,Gt){for(var pe=ci({forced_root_block:!1,validate:!1},ot.schema).parse(Gt,{context:xt});pe.firstChild;)st.append(pe.firstChild)},Ii=function(ot,xt){var st=xt.name,Gt=new oi("img",1);return Gt.shortEnded=!0,Na(ot,xt,Gt),Li(xt,Gt,{}),Gt.attr({style:xt.attr("style"),src:Wo.transparentSrc,"data-mce-object":st,class:"mce-object mce-object-"+st}),Gt},Ze=function(ot,xt){var st=xt.name,Gt=new oi("span",1);Gt.attr({contentEditable:"false",style:xt.attr("style"),"data-mce-object":st,class:"mce-preview-object mce-object-"+st}),Na(ot,xt,Gt);var pe=ot.dom.parseStyle(xt.attr("style")),He=new oi(st,1);if(Li(xt,He,pe),He.attr({src:xt.attr("src"),style:xt.attr("style"),class:xt.attr("class")}),st==="iframe")He.attr({allowfullscreen:xt.attr("allowfullscreen"),frameborder:"0"});else{var nt=["controls","crossorigin","currentTime","loop","muted","poster","preload"];Yt(nt,function(Tn){He.attr(Tn,xt.attr(Tn))});var dt=Gt.attr("data-mce-html");ce(dt)&&Jr(ot,st,He,unescape(dt))}var Kt=new oi("span",1);return Kt.attr("class","mce-shim"),Gt.append(He),Gt.append(Kt),Gt},Na=function(ot,xt,st){for(var Gt=xt.attributes,pe=Gt.length;pe--;){var He=Gt[pe].name,nt=Gt[pe].value;He!=="width"&&He!=="height"&&He!=="style"&&((He==="data"||He==="src")&&(nt=ot.convertURL(nt,He)),st.attr("data-mce-p-"+He,nt))}var dt=xt.firstChild&&xt.firstChild.value;dt&&(st.attr("data-mce-html",escape(Fi(ot,dt))),st.firstChild=null)},Ei=function(ot){var xt=ot.attr("class");return xt&&/\btiny-pageembed\b/.test(xt)},Wi=function(ot){for(;ot=ot.parent;)if(ot.attr("data-ephox-embed-iri")||Ei(ot))return!0;return!1},hi=function(ot){return function(xt){for(var st=xt.length,Gt,pe;st--;)Gt=xt[st],Gt.parent&&(Gt.parent.attr("data-mce-object")||Gt.name==="script"&&(pe=oe(J(ot),Gt.attr("src")),!pe)||(pe&&(pe.width&&Gt.attr("width",pe.width.toString()),pe.height&&Gt.attr("height",pe.height.toString())),di(Gt)&&Ke(ot)&&Wo.ceFalse?Wi(Gt)||Gt.replace(Ze(ot,Gt)):Wi(Gt)||Gt.replace(Ii(ot,Gt))))}},Qi=function(ot){ot.on("preInit",function(){var xt=ot.schema.getSpecialElements();Lt.each("video audio iframe object".split(" "),function(Gt){xt[Gt]=new RegExp("</"+Gt+"[^>]*>","gi")});var st=ot.schema.getBoolAttrs();Lt.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(Gt){st[Gt]={}}),ot.parser.addNodeFilter("iframe,video,audio,object,embed,script",hi(ot)),ot.serializer.addAttributeFilter("data-mce-object",function(Gt,pe){for(var He=Gt.length,nt,dt,Kt,Tn,P,Y,ft,St;He--;)if(nt=Gt[He],!!nt.parent){for(ft=nt.attr(pe),dt=new oi(ft,1),ft!=="audio"&&ft!=="script"&&(St=nt.attr("class"),St&&St.indexOf("mce-preview-object")!==-1?dt.attr({width:nt.firstChild.attr("width"),height:nt.firstChild.attr("height")}):dt.attr({width:nt.attr("width"),height:nt.attr("height")})),dt.attr({style:nt.attr("style")}),Tn=nt.attributes,Kt=Tn.length;Kt--;){var Ut=Tn[Kt].name;Ut.indexOf("data-mce-p-")===0&&dt.attr(Ut.substr(11),Tn[Kt].value)}ft==="script"&&dt.attr("type","text/javascript"),P=nt.attr("data-mce-html"),P&&(Y=new oi("#text",3),Y.raw=!0,Y.value=Fi(ot,unescape(P)),dt.append(Y)),nt.replace(dt)}})}),ot.on("SetContent",function(){ot.$("span.mce-preview-object").each(function(xt,st){var Gt=ot.$(st);Gt.find("span.mce-shim").length===0&&Gt.append('<span class="mce-shim"></span>')})})},Pa=function(ot){ot.on("ResolveName",function(xt){var st;xt.target.nodeType===1&&(st=xt.target.getAttribute("data-mce-object"))&&(xt.name=st)})},Zi=function(ot){var xt=function(){return ot.execCommand("mceMedia")};ot.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:xt,onSetup:function(st){var Gt=ot.selection;return st.setActive(Xn(Gt.getNode())),Gt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",st.setActive).unbind}}),ot.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:xt})};function du(){vr.add("media",function(ot){return Mi(ot),Zi(ot),Pa(ot),Qi(ot),Jn(ot),Bo(ot)})}du()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(Bt){var _n=Bt.getParam("nonbreaking_force_tab",0);return typeof _n=="boolean"?_n===!0?3:0:_n},Ae=function(Bt){return Bt.getParam("nonbreaking_wrap",!0,"boolean")},cr=function(Bt,_n){for(var on="",It=0;It<_n;It++)on+=Bt;return on},Ce=function(Bt){return Bt.plugins.visualchars?Bt.plugins.visualchars.isEnabled():!1},De=function(Bt,_n){var on=function(){return Ce(Bt)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},It=function(){return'<span class="'+on()+'" contenteditable="false">'+cr("&nbsp;",_n)+"</span>"},At=Ae(Bt),Sn=At||Bt.plugins.visualchars?It():cr("&nbsp;",_n);Bt.undoManager.transact(function(){return Bt.insertContent(Sn)})},Be=function(Bt){Bt.addCommand("mceNonBreaking",function(){De(Bt,1)})},Ne=tinymce.util.Tools.resolve("tinymce.util.VK"),ce=function(Bt){var _n=Ge(Bt);_n>0&&Bt.on("keydown",function(on){if(on.keyCode===Ne.TAB&&!on.isDefaultPrevented()){if(on.shiftKey)return;on.preventDefault(),on.stopImmediatePropagation(),De(Bt,_n)}})},Or=function(Bt){var _n=function(){return Bt.execCommand("mceNonBreaking")};Bt.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:_n}),Bt.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:_n})};function Wn(){vr.add("nonbreaking",function(Bt){Be(Bt),Or(Bt),ce(Bt)})}Wn()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ae=function(Wn){return Wn.getParam("noneditable_noneditable_class","mceNonEditable")},cr=function(Wn){return Wn.getParam("noneditable_editable_class","mceEditable")},Ce=function(Wn){var Bt=Wn.getParam("noneditable_regexp",[]);return Bt&&Bt.constructor===RegExp?[Bt]:Bt},De=function(Wn){return function(Bt){return(" "+Bt.attr("class")+" ").indexOf(Wn)!==-1}},Be=function(Wn,Bt,_n){return function(on){var It=arguments,At=It[It.length-2],Sn=At>0?Bt.charAt(At-1):"";if(Sn==='"')return on;if(Sn===">"){var Xt=Bt.lastIndexOf("<",At);if(Xt!==-1){var fe=Bt.substring(Xt,At);if(fe.indexOf('contenteditable="false"')!==-1)return on}}return'<span class="'+_n+'" data-mce-content="'+Wn.dom.encode(It[0])+'">'+Wn.dom.encode(typeof It[1]=="string"?It[1]:It[0])+"</span>"}},Ne=function(Wn,Bt,_n){var on=Bt.length,It=_n.content;if(_n.format!=="raw"){for(;on--;)It=It.replace(Bt[on],Be(Wn,It,Ae(Wn)));_n.content=It}},ce=function(Wn){var Bt="contenteditable",_n=" "+Ge.trim(cr(Wn))+" ",on=" "+Ge.trim(Ae(Wn))+" ",It=De(_n),At=De(on),Sn=Ce(Wn);Wn.on("PreInit",function(){Sn.length>0&&Wn.on("BeforeSetContent",function(Xt){Ne(Wn,Sn,Xt)}),Wn.parser.addAttributeFilter("class",function(Xt){for(var fe=Xt.length,X;fe--;)X=Xt[fe],It(X)?X.attr(Bt,"true"):At(X)&&X.attr(Bt,"false")}),Wn.serializer.addAttributeFilter(Bt,function(Xt){for(var fe=Xt.length,X;fe--;)X=Xt[fe],!(!It(X)&&!At(X))&&(Sn.length>0&&X.attr("data-mce-content")?(X.name="#text",X.type=3,X.raw=!0,X.value=X.attr("data-mce-content")):X.attr(Bt,null))})})};function Or(){vr.add("noneditable",function(Wn){ce(Wn)})}Or()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=tinymce.util.Tools.resolve("tinymce.Env"),Ae=function(Bt){return Bt.getParam("pagebreak_separator","<!-- pagebreak -->")},cr=function(Bt){return Bt.getParam("pagebreak_split_block",!1)},Ce="mce-pagebreak",De=function(Bt){var _n='<img src="'+Ge.transparentSrc+'" class="'+Ce+'" data-mce-resize="false" data-mce-placeholder />';return Bt?"<p>"+_n+"</p>":_n},Be=function(Bt){var _n=Ae(Bt),on=function(){return cr(Bt)},It=new RegExp(_n.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(At){return"\\"+At}),"gi");Bt.on("BeforeSetContent",function(At){At.content=At.content.replace(It,De(on()))}),Bt.on("PreInit",function(){Bt.serializer.addNodeFilter("img",function(At){for(var Sn=At.length,Xt,fe;Sn--;)if(Xt=At[Sn],fe=Xt.attr("class"),fe&&fe.indexOf(Ce)!==-1){var X=Xt.parent;if(Bt.schema.getBlockElements()[X.name]&&on()){X.type=3,X.value=_n,X.raw=!0,Xt.remove();continue}Xt.type=3,Xt.value=_n,Xt.raw=!0}})})},Ne=function(Bt){Bt.addCommand("mcePageBreak",function(){Bt.insertContent(De(cr(Bt)))})},ce=function(Bt){Bt.on("ResolveName",function(_n){_n.target.nodeName==="IMG"&&Bt.dom.hasClass(_n.target,Ce)&&(_n.name="pagebreak")})},Or=function(Bt){var _n=function(){return Bt.execCommand("mcePageBreak")};Bt.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:_n}),Bt.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:_n})};function Wn(){vr.add("pagebreak",function(Bt){Ne(Bt),Or(Bt),Be(Bt),ce(Bt)})}Wn()})();(function(){var vr=function(x){var M=x,U=function(){return M},rt=function(Rt){M=Rt};return{get:U,set:rt}},Ge=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ae=function(x){return x.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},cr=function(x){return{clipboard:x}},Ce=function(x){var M=typeof x;return x===null?"null":M==="object"&&(Array.prototype.isPrototypeOf(x)||x.constructor&&x.constructor.name==="Array")?"array":M==="object"&&(String.prototype.isPrototypeOf(x)||x.constructor&&x.constructor.name==="String")?"string":M},De=function(x){return function(M){return Ce(M)===x}},Be=function(x){return function(M){return typeof M===x}},Ne=De("array"),ce=function(x){return x==null},Or=function(x){return!ce(x)},Wn=Be("function"),Bt=function(){},_n=function(x){return function(){return x}},on=function(x){return x},It=_n(!1),At=_n(!0),Sn=function(){return Xt},Xt=function(){var x=function(rt){return rt()},M=on,U={fold:function(rt,Rt){return rt()},isSome:It,isNone:At,getOr:M,getOrThunk:x,getOrDie:function(rt){throw new Error(rt||"error: getOrDie called on none.")},getOrNull:_n(null),getOrUndefined:_n(void 0),or:M,orThunk:x,map:Sn,each:Bt,bind:Sn,exists:It,forall:At,filter:function(){return Sn()},toArray:function(){return[]},toString:_n("none()")};return U}(),fe=function(x){var M=_n(x),U=function(){return Rt},rt=function(Ln){return Ln(x)},Rt={fold:function(Ln,nr){return nr(x)},isSome:At,isNone:It,getOr:M,getOrThunk:M,getOrDie:M,getOrNull:M,getOrUndefined:M,or:U,orThunk:U,map:function(Ln){return fe(Ln(x))},each:function(Ln){Ln(x)},bind:rt,exists:rt,forall:rt,filter:function(Ln){return Ln(x)?Rt:Xt},toArray:function(){return[x]},toString:function(){return"some("+x+")"}};return Rt},X=function(x){return x==null?Xt:fe(x)},Yt={some:fe,none:Sn,from:X},un=Array.prototype.slice,tr=Array.prototype.push,Me=function(x,M){for(var U=0,rt=x.length;U<rt;U++){var Rt=x[U];if(M(Rt,U))return!0}return!1},Ft=function(x,M){for(var U=x.length,rt=new Array(U),Rt=0;Rt<U;Rt++){var Ln=x[Rt];rt[Rt]=M(Ln,Rt)}return rt},xn=function(x,M){for(var U=0,rt=x.length;U<rt;U++){var Rt=x[U];M(Rt,U)}},en=function(x,M){for(var U=[],rt=0,Rt=x.length;rt<Rt;rt++){var Ln=x[rt];M(Ln,rt)&&U.push(Ln)}return U},pn=function(x,M,U){return xn(x,function(rt,Rt){U=M(U,rt,Rt)}),U},J=function(x){for(var M=[],U=0,rt=x.length;U<rt;++U){if(!Ne(x[U]))throw new Error("Arr.flatten item "+U+" was not an array, input: "+x);tr.apply(M,x[U])}return M},H=function(x,M){return J(Ft(x,M))},fn=Wn(Array.from)?Array.from:function(x){return un.call(x)},Ke=function(){return Ke=Object.assign||function(x){for(var M,U=1,rt=arguments.length;U<rt;U++){M=arguments[U];for(var Rt in M)Object.prototype.hasOwnProperty.call(M,Rt)&&(x[Rt]=M[Rt])}return x},Ke.apply(this,arguments)},Cn=function(x){var M=vr(Yt.none()),U=function(){return M.get().each(x)},rt=function(){U(),M.set(Yt.none())},Rt=function(){return M.get().isSome()},Ln=function(){return M.get()},nr=function(gr){U(),M.set(Yt.some(gr))};return{clear:rt,isSet:Rt,get:Ln,set:nr}},br=function(){var x=Cn(Bt),M=function(U){return x.get().each(U)};return Ke(Ke({},x),{on:M})},ar=function(x,M,U){return M===""||x.length>=M.length&&x.substr(U,U+M.length)===M},D=function(x,M){return ar(x,M,0)},Dn=function(x,M){return ar(x,M,x.length-M.length)},Lt=function(x,M){return M<=0?"":new Array(M+1).join(x)},An=tinymce.util.Tools.resolve("tinymce.Env"),$t=tinymce.util.Tools.resolve("tinymce.util.Delay"),oe=tinymce.util.Tools.resolve("tinymce.util.Promise"),Pn=tinymce.util.Tools.resolve("tinymce.util.VK"),ie=function(x,M,U,rt){return x.fire("PastePreProcess",{content:M,internal:U,wordContent:rt})},K=function(x,M,U,rt){return x.fire("PastePostProcess",{node:M,internal:U,wordContent:rt})},xr=function(x,M){return x.fire("PastePlainTextToggle",{state:M})},Zt=function(x,M){return x.fire("paste",{ieFake:M})},Pt=tinymce.util.Tools.resolve("tinymce.util.Tools"),ye=function(x){return x.getParam("paste_block_drop",!1)},Ot=function(x){return x.getParam("paste_data_images",!1)},Dt=function(x){return x.getParam("paste_filter_drop",!0)},Qt=function(x){return x.getParam("paste_preprocess")},jn=function(x){return x.getParam("paste_postprocess")},nn=function(x){return x.getParam("paste_webkit_styles")},kn=function(x){return x.getParam("paste_remove_styles_if_webkit",!0)},Ye=function(x){return x.getParam("paste_merge_formats",!0)},pt=function(x){return x.getParam("smart_paste",!0)},sn=function(x){return x.getParam("paste_as_text",!1)},le=function(x){return x.getParam("paste_retain_style_properties")},zn=function(x){var M="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return x.getParam("paste_word_valid_elements",M)},Ue=function(x){return x.getParam("paste_convert_word_fake_lists",!0)},er=function(x){return x.getParam("paste_enable_default_filters",!0)},qr=function(x){return x.getParam("validate")},ao=function(x){return x.getParam("allow_html_data_urls",!1,"boolean")},ko=function(x){return x.getParam("paste_data_images",!1,"boolean")},Xn=function(x){return x.getParam("images_dataimg_filter")},Jn=function(x){return x.getParam("images_reuse_filename")},En=function(x){return x.getParam("forced_root_block")},zt=function(x){return x.getParam("forced_root_block_attrs")},jt=function(x){return x.getParam("paste_tab_spaces",4,"number")},qn=function(x){var M="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Pt.explode(x.getParam("images_file_types",M,"string"))},xe="x-tinymce/html",Qn="<!-- "+xe+" -->",Mt=function(x){return Qn+x},Fn=function(x){return x.replace(Qn,"")},me=function(x){return x.indexOf(Qn)!==-1},te=_n(xe),Ie=Object.hasOwnProperty,ht=function(x,M){return Ie.call(x,M)},dn=tinymce.util.Tools.resolve("tinymce.html.Entities"),tn=function(x){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(x)},Hn=function(x){return x.replace(/\r?\n/g,"<br>")},Pe=function(x,M){var U=[],rt="<"+x;if(typeof M=="object"){for(var Rt in M)ht(M,Rt)&&U.push(Rt+'="'+dn.encodeAllRaw(M[Rt])+'"');U.length&&(rt+=" "+U.join(" "))}return rt+">"},Er=function(x,M,U){var rt=x.split(/\n\n/),Rt=Pe(M,U),Ln="</"+M+">",nr=Pt.map(rt,function(be){return be.split(/\n/).join("<br />")}),gr=function(be){return Rt+be+Ln};return nr.length===1?nr[0]:Pt.map(nr,gr).join("")},Eo=function(x,M,U){return M?Er(x,M===!0?"p":M,U):Hn(x)},_r=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Rr=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Bo=" ",Mi=tinymce.util.Tools.resolve("tinymce.html.Node"),oi=tinymce.util.Tools.resolve("tinymce.html.Schema"),Wo=function(x){return x.constructor===RegExp},ci=function(x,M){return Pt.each(M,function(U){Wo(U)?x=x.replace(U,""):x=x.replace(U[0],U[1])}),x},Fi=function(x){var M=oi(),U=_r({},M),rt="",Rt=M.getShortEndedElements(),Ln=Pt.makeMap("script noscript style textarea video audio iframe object"," "),nr=M.getBlockElements(),gr=function(be){var Xe=be.name,Ir=be;if(Xe==="br"){rt+=`
`;return}if(Xe!=="wbr"){if(Rt[Xe]&&(rt+=" "),Ln[Xe]){rt+=" ";return}if(be.type===3&&(rt+=be.value),!be.shortEnded&&(be=be.firstChild))do gr(be);while(be=be.next);nr[Xe]&&Ir.next&&(rt+=`
`,Xe==="p"&&(rt+=`
`))}};return x=ci(x,[/<!\[[^\]]+\]>/g]),gr(U.parse(x)),rt},di=function(x){var M=function(U,rt,Rt){return!rt&&!Rt?" ":Bo};return x=ci(x,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,M],/<br class="Apple-interchange-newline">/g,/<br>$/i]),x},ti=function(x){var M=0;return function(){return x+M++}},Li=function(x){var M=x.toLowerCase(),U={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Pt.hasOwn(U,M)?"image/"+U[M]:"image/"+M},Jr=function(x){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(x)||/class="OutlineElement/.test(x)||/id="?docs\-internal\-guid\-/.test(x)},Ii=function(x){var M=!1,U=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return x=x.replace(/^[\u00a0 ]+/,""),Pt.each(U,function(rt){if(rt.test(x))return M=!0,!1}),M},Ze=function(x){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(x)},Na=function(x){for(var M,U,rt=1,Rt=function(Cr){var No="";if(Cr.type===3)return Cr.value;if(Cr=Cr.firstChild)do No+=Rt(Cr);while(Cr=Cr.next);return No},Ln=function(Cr,No){if(Cr.type===3&&No.test(Cr.value))return Cr.value=Cr.value.replace(No,""),!1;if(Cr=Cr.firstChild)do if(!Ln(Cr,No))return!1;while(Cr=Cr.next);return!0},nr=function(Cr){if(Cr._listIgnore){Cr.remove();return}if(Cr=Cr.firstChild)do nr(Cr);while(Cr=Cr.next)},gr=function(Cr,No,Do){var pa=Cr._listLevel||rt;pa!==rt&&(pa<rt?M&&(M=M.parent.parent):(U=M,M=null)),!M||M.name!==No?(U=U||M,M=new Mi(No,1),Do>1&&M.attr("start",""+Do),Cr.wrap(M)):M.append(Cr),Cr.name="li",pa>rt&&U&&U.lastChild.append(M),rt=pa,nr(Cr),Ln(Cr,/^\u00a0+/),Ln(Cr,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Ln(Cr,/^\u00a0+/)},be=[],Xe=x.firstChild;typeof Xe<"u"&&Xe!==null;)if(be.push(Xe),Xe=Xe.walk(),Xe!==null)for(;typeof Xe<"u"&&Xe.parent!==x;)Xe=Xe.walk();for(var Ir=0;Ir<be.length;Ir++)if(x=be[Ir],x.name==="p"&&x.firstChild){var Hr=Rt(x);if(Ze(Hr)){gr(x,"ul");continue}if(Ii(Hr)){var Mr=/([0-9]+)\./.exec(Hr),Xo=1;Mr&&(Xo=parseInt(Mr[1],10)),gr(x,"ol",Xo);continue}if(x._listLevel){gr(x,"ul",1);continue}M=null}else U=M,M=null},Ei=function(x,M,U,rt){var Rt={},Ln=x.dom.parseStyle(rt);Pt.each(Ln,function(gr,be){switch(be){case"mso-list":var Xe=/\w+ \w+([0-9]+)/i.exec(rt);Xe&&(U._listLevel=parseInt(Xe[1],10)),/Ignore/i.test(gr)&&U.firstChild&&(U._listIgnore=!0,U.firstChild._listIgnore=!0);break;case"horiz-align":be="text-align";break;case"vert-align":be="vertical-align";break;case"font-color":case"mso-foreground":be="color";break;case"mso-background":case"mso-highlight":be="background";break;case"font-weight":case"font-style":gr!=="normal"&&(Rt[be]=gr);return;case"mso-element":if(/^(comment|comment-list)$/i.test(gr)){U.remove();return}break}if(be.indexOf("mso-comment")===0){U.remove();return}be.indexOf("mso-")!==0&&(le(x)==="all"||M&&M[be])&&(Rt[be]=gr)}),/(bold)/i.test(Rt["font-weight"])&&(delete Rt["font-weight"],U.wrap(new Mi("b",1))),/(italic)/i.test(Rt["font-style"])&&(delete Rt["font-style"],U.wrap(new Mi("i",1)));var nr=x.dom.serializeStyle(Rt,U.name);return nr||null},Wi=function(x,M){var U,rt=le(x);rt&&(U=Pt.makeMap(rt.split(/[, ]/))),M=ci(M,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,Bo],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(be,Xe){return Xe.length>0?Xe.replace(/./," ").slice(Math.floor(Xe.length/2)).split("").join(Bo):""}]]);var Rt=zn(x),Ln=oi({valid_elements:Rt,valid_children:"-li[p]"});Pt.each(Ln.elements,function(be){be.attributes.class||(be.attributes.class={},be.attributesOrder.push("class")),be.attributes.style||(be.attributes.style={},be.attributesOrder.push("style"))});var nr=_r({},Ln);nr.addAttributeFilter("style",function(be){for(var Xe=be.length,Ir;Xe--;)Ir=be[Xe],Ir.attr("style",Ei(x,U,Ir,Ir.attr("style"))),Ir.name==="span"&&Ir.parent&&!Ir.attributes.length&&Ir.unwrap()}),nr.addAttributeFilter("class",function(be){for(var Xe=be.length,Ir,Hr;Xe--;)Ir=be[Xe],Hr=Ir.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Hr)&&Ir.remove(),Ir.attr("class",null)}),nr.addNodeFilter("del",function(be){for(var Xe=be.length;Xe--;)be[Xe].remove()}),nr.addNodeFilter("a",function(be){for(var Xe=be.length,Ir,Hr,Mr;Xe--;){if(Ir=be[Xe],Hr=Ir.attr("href"),Mr=Ir.attr("name"),Hr&&Hr.indexOf("#_msocom_")!==-1){Ir.remove();continue}if(Hr&&Hr.indexOf("file://")===0&&(Hr=Hr.split("#")[1],Hr&&(Hr="#"+Hr)),!Hr&&!Mr)Ir.unwrap();else{if(Mr&&!/^_?(?:toc|edn|ftn)/i.test(Mr)){Ir.unwrap();continue}Ir.attr({href:Hr,name:Mr})}}});var gr=nr.parse(M);return Ue(x)&&Na(gr),M=Rr({validate:qr(x)},Ln).serialize(gr),M},hi=function(x,M){return er(x)?Wi(x,M):M},Qi=function(x,M){var U=_r({},x.schema);U.addNodeFilter("meta",function(Rt){Pt.each(Rt,function(Ln){Ln.remove()})});var rt=U.parse(M,{forced_root_block:!1,isRootContent:!0});return Rr({validate:qr(x)},x.schema).serialize(rt)},Pa=function(x,M){return{content:x,cancelled:M}},Zi=function(x,M,U,rt){var Rt=x.dom.create("div",{style:"display:none"},M),Ln=K(x,Rt,U,rt);return Pa(Ln.node.innerHTML,Ln.isDefaultPrevented())},du=function(x,M,U,rt){var Rt=ie(x,M,U,rt),Ln=Qi(x,Rt.content);return x.hasEventListeners("PastePostProcess")&&!Rt.isDefaultPrevented()?Zi(x,Ln,U,rt):Pa(Ln,Rt.isDefaultPrevented())},ot=function(x,M,U){var rt=Jr(M),Rt=rt?hi(x,M):M;return du(x,Rt,U,rt)},xt=function(x,M){return x.insertContent(M,{merge:Ye(x),paste:!0}),!0},st=function(x){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(x)},Gt=function(x,M){return st(M)&&Me(qn(x),function(U){return Dn(M.toLowerCase(),"."+U.toLowerCase())})},pe=function(x,M,U){return x.undoManager.extra(function(){U(x,M)},function(){x.insertContent('<img src="'+M+'">')}),!0},He=function(x,M,U){return x.undoManager.extra(function(){U(x,M)},function(){x.execCommand("mceInsertLink",!1,M)}),!0},nt=function(x,M,U){return x.selection.isCollapsed()===!1&&st(M)?He(x,M,U):!1},dt=function(x,M,U){return Gt(x,M)?pe(x,M,U):!1},Kt=function(x,M){Pt.each([nt,dt,xt],function(U){return U(x,M,xt)!==!0})},Tn=function(x,M,U){U||pt(x)===!1?xt(x,M):Kt(x,M)},P=function(x){return" \f	\v".indexOf(x)!==-1},Y=function(x){return x===`
`||x==="\r"},ft=function(x,M){return M<x.length&&M>=0?Y(x[M]):!1},St=function(x,M){var U=Lt(" ",jt(x)),rt=M.replace(/\t/g,U),Rt=pn(rt,function(Ln,nr){return P(nr)||nr===Bo?Ln.pcIsSpace||Ln.str===""||Ln.str.length===rt.length-1||ft(rt,Ln.str.length+1)?{pcIsSpace:!1,str:Ln.str+Bo}:{pcIsSpace:!0,str:Ln.str+" "}:{pcIsSpace:Y(nr),str:Ln.str+nr}},{pcIsSpace:!1,str:""});return Rt.str},Ut=function(x,M,U,rt){var Rt=ot(x,M,U);Rt.cancelled===!1&&Tn(x,Rt.content,rt)},qt=function(x,M,U){var rt=U||me(M);Ut(x,Fn(M),rt,!1)},de=function(x,M){var U=x.dom.encode(M).replace(/\r\n/g,`
`),rt=St(x,U),Rt=Eo(rt,En(x),zt(x));Ut(x,Rt,!1,!0)},Ee=function(x){var M={},U="data:text/mce-internal,";if(x){if(x.getData){var rt=x.getData("Text");rt&&rt.length>0&&rt.indexOf(U)===-1&&(M["text/plain"]=rt)}if(x.types)for(var Rt=0;Rt<x.types.length;Rt++){var Ln=x.types[Rt];try{M[Ln]=x.getData(Ln)}catch{M[Ln]=""}}}return M},fr=function(x,M){return Ee(M.clipboardData||x.getDoc().dataTransfer)},Jt=function(x,M){return M in x&&x[M].length>0},rr=function(x){return Jt(x,"text/html")||Jt(x,"text/plain")},zr=function(x){var M=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(x);return M?{type:M[1],data:decodeURIComponent(M[2])}:{type:null,data:null}},wo=function(x,M){var U=Xn(x);return U?U(M):!0},mi=function(x,M){var U=M.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Or(U)?x.dom.encode(U[1]):null},jr=ti("mceclip"),Ou=function(x,M){var U=zr(M.uri),rt=U.data,Rt=U.type,Ln=jr(),nr=M.blob,gr=new Image;if(gr.src=M.uri,wo(x,gr)){var be=x.editorUpload.blobCache,Xe=void 0,Ir=be.getByData(rt,Rt);if(Ir)Xe=Ir;else{var Hr=Jn(x)&&Or(nr.name),Mr=Hr?mi(x,nr.name):Ln,Xo=Hr?nr.name:void 0;Xe=be.create(Ln,nr,rt,Mr,Xo),be.add(Xe)}qt(x,'<img src="'+Xe.blobUri()+'">',!1)}else qt(x,'<img src="'+M.uri+'">',!1)},mu=function(x){return x.type==="paste"},si=function(x){return Or(x.getAsFile)},vc=function(x){return oe.all(Ft(x,function(M){return new oe(function(U){var rt=si(M)?M.getAsFile():M,Rt=new window.FileReader;Rt.onload=function(){U({blob:rt,uri:Rt.result})},Rt.readAsDataURL(rt)})}))},ga=function(x){var M=qn(x);return function(U){return D(U.type,"image/")&&Me(M,function(rt){return Li(rt)===U.type})}},Oa=function(x,M){var U=M.items?H(fn(M.items),function(Rt){return Rt.kind==="file"?[Rt.getAsFile()]:[]}):[],rt=M.files?fn(M.files):[];return en(U.length>0?U:rt,ga(x))},Lo=function(x,M,U){var rt=mu(M)?M.clipboardData:M.dataTransfer;if(ko(x)&&rt){var Rt=Oa(x,rt);if(Rt.length>0)return M.preventDefault(),vc(Rt).then(function(Ln){U&&x.selection.setRng(U),xn(Ln,function(nr){Ou(x,nr)})}),!0}return!1},bc=function(x){var M=x.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&M&&M.items&&M.items.length===0},Fu=function(x){return Pn.metaKeyPressed(x)&&x.keyCode===86||x.shiftKey&&x.keyCode===45},tc=function(x,M,U){var rt=br(),Rt=br(),Ln;x.on("keyup",Rt.clear),x.on("keydown",function(be){var Xe=function(Ir){Fu(Ir)&&!Ir.isDefaultPrevented()&&M.remove()};if(Fu(be)&&!be.isDefaultPrevented()){if(Ln=be.shiftKey&&be.keyCode===86,Ln&&An.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(be.stopImmediatePropagation(),rt.set(be),Rt.set(!0),An.ie&&Ln){be.preventDefault(),Zt(x,!0);return}M.remove(),M.create(),x.once("keyup",Xe),x.once("paste",function(){x.off("keyup",Xe)})}});var nr=function(be,Xe,Ir,Hr,Mr){var Xo;Jt(Xe,"text/html")?Xo=Xe["text/html"]:(Xo=M.getHtml(),Mr=Mr||me(Xo),M.isDefaultContent(Xo)&&(Hr=!0)),Xo=di(Xo),M.remove();var Cr=Mr===!1&&tn(Xo),No=st(Xo);if((!Xo.length||Cr&&!No)&&(Hr=!0),(Hr||No)&&(Jt(Xe,"text/plain")&&Cr?Xo=Xe["text/plain"]:Xo=Fi(Xo)),M.isDefaultContent(Xo)){Ir||be.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Hr?de(be,Xo):qt(be,Xo,Mr)},gr=function(){return M.getLastRng()||x.selection.getRng()};x.on("paste",function(be){var Xe=rt.isSet()||Rt.isSet();Xe&&rt.clear();var Ir=fr(x,be),Hr=U.get()==="text"||Ln,Mr=Jt(Ir,te());if(Ln=!1,be.isDefaultPrevented()||bc(be)){M.remove();return}if(!rr(Ir)&&Lo(x,be,gr())){M.remove();return}Xe||be.preventDefault(),An.ie&&(!Xe||be.ieFake)&&!Jt(Ir,"text/html")&&(M.create(),x.dom.bind(M.getEl(),"paste",function(Xo){Xo.stopPropagation()}),x.getDoc().execCommand("Paste",!1,null),Ir["text/html"]=M.getHtml()),Jt(Ir,"text/html")?(be.preventDefault(),Mr||(Mr=me(Ir["text/html"])),nr(x,Ir,Xe,Hr,Mr)):$t.setEditorTimeout(x,function(){nr(x,Ir,Xe,Hr,Mr)},0)})},Hc=function(x,M,U){tc(x,M,U);var rt;x.parser.addNodeFilter("img",function(Rt,Ln,nr){var gr=function(Mr){return Mr.data&&Mr.data.paste===!0},be=function(Mr){!Mr.attr("data-mce-object")&&rt!==An.transparentSrc&&Mr.remove()},Xe=function(Mr){return Mr.indexOf("webkit-fake-url")===0},Ir=function(Mr){return Mr.indexOf("data:")===0};if(!ko(x)&&gr(nr))for(var Hr=Rt.length;Hr--;)rt=Rt[Hr].attr("src"),rt&&(Xe(rt)||!ao(x)&&Ir(rt))&&be(Rt[Hr])})},Ea=function(x){return An.ie&&x.inline?document.body:x.getBody()},Ya=function(x){return Ea(x)!==x.getBody()},Vc=function(x,M,U){Ya(x)&&x.dom.bind(M,"paste keyup",function(rt){ae(x,U)||x.fire("paste")})},Fa=function(x,M,U){var rt=x.dom,Rt=x.getBody();M.set(x.selection.getRng());var Ln=x.dom.add(Ea(x),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},U);(An.ie||An.gecko)&&rt.setStyle(Ln,"left",rt.getStyle(Rt,"direction",!0)==="rtl"?65535:-65535),rt.bind(Ln,"beforedeactivate focusin focusout",function(nr){nr.stopPropagation()}),Vc(x,Ln,U),Ln.focus(),x.selection.select(Ln,!0)},_a=function(x,M){if(W(x)){for(var U=void 0,rt=M.get();U=x.dom.get("mcepastebin");)x.dom.remove(U),x.dom.unbind(U);rt&&x.selection.setRng(rt)}M.set(null)},W=function(x){return x.dom.get("mcepastebin")},bt=function(x){var M=function(gr,be){gr.appendChild(be),x.dom.remove(be,!0)},U=Pt.grep(Ea(x).childNodes,function(gr){return gr.id==="mcepastebin"}),rt=U.shift();Pt.each(U,function(gr){M(rt,gr)});for(var Rt=x.dom.select("div[id=mcepastebin]",rt),Ln=Rt.length-1;Ln>=0;Ln--){var nr=x.dom.create("div");rt.insertBefore(nr,Rt[Ln]),M(nr,Rt[Ln])}return rt?rt.innerHTML:""},Vt=function(x,M){return M===x},Mn=function(x){return x&&x.id==="mcepastebin"},ae=function(x,M){var U=W(x);return Mn(U)&&Vt(M,U.innerHTML)},ur=function(x){var M=vr(null),U="%MCEPASTEBIN%";return{create:function(){return Fa(x,M,U)},remove:function(){return _a(x,M)},getEl:function(){return W(x)},getHtml:function(){return bt(x)},getLastRng:M.get,isDefault:function(){return ae(x,U)},isDefaultContent:function(rt){return Vt(U,rt)}}},yo=function(x,M){var U=ur(x);return x.on("PreInit",function(){return Hc(x,U,M)}),{pasteFormat:M,pasteHtml:function(rt,Rt){return qt(x,rt,Rt)},pasteText:function(rt){return de(x,rt)},pasteImageData:function(rt,Rt){return Lo(x,rt,Rt)},getDataTransferItems:Ee,hasHtmlOrText:rr,hasContentType:Jt}},_o=function(x,M){M.pasteFormat.get()==="text"?(M.pasteFormat.set("html"),xr(x,!1)):(M.pasteFormat.set("text"),xr(x,!0)),x.focus()},Gr=function(x,M){x.addCommand("mceTogglePlainTextPaste",function(){_o(x,M)}),x.addCommand("mceInsertClipboardContent",function(U,rt){rt.content&&M.pasteHtml(rt.content,rt.internal),rt.text&&M.pasteText(rt.text)})},Vo=function(x){return An.iOS===!1&&typeof(x==null?void 0:x.setData)=="function"},ni=function(x,M,U){if(Vo(x))try{return x.clearData(),x.setData("text/html",M),x.setData("text/plain",U),x.setData(te(),M),!0}catch{return!1}else return!1},Lu=function(x,M,U,rt){ni(x.clipboardData,M.html,M.text)?(x.preventDefault(),rt()):U(M.html,rt)},qi=function(x){return function(M,U){var rt=Mt(M),Rt=x.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Ln=x.dom.create("div",{contenteditable:"true"},rt);x.dom.setStyles(Rt,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),Rt.appendChild(Ln),x.dom.add(x.getBody(),Rt);var nr=x.selection.getRng();Ln.focus();var gr=x.dom.createRng();gr.selectNodeContents(Ln),x.selection.setRng(gr),$t.setTimeout(function(){x.selection.setRng(nr),Rt.parentNode.removeChild(Rt),U()},0)}},Eu=function(x){return{html:x.selection.getContent({contextual:!0}),text:x.selection.getContent({format:"text"})}},mr=function(x){return!!x.dom.getParent(x.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",x.getBody())},nc=function(x){return!x.selection.isCollapsed()||mr(x)},Ys=function(x){return function(M){nc(x)&&Lu(M,Eu(x),qi(x),function(){if(An.browser.isChrome()||An.browser.isFirefox()){var U=x.selection.getRng();$t.setEditorTimeout(x,function(){x.selection.setRng(U),x.execCommand("Delete")},0)}else x.execCommand("Delete")})}},so=function(x){return function(M){nc(x)&&Lu(M,Eu(x),qi(x),Bt)}},Ss=function(x){x.on("cut",Ys(x)),x.on("copy",so(x))},ks=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),El=function(x,M){return ks.getCaretRangeFromPoint(M.clientX,M.clientY,x.getDoc())},zo=function(x){var M=x["text/plain"];return M?M.indexOf("file://")===0:!1},Qa=function(x,M){x.focus(),x.selection.setRng(M)},cf=function(x,M,U){ye(x)&&x.on("dragend dragover draggesture dragdrop drop drag",function(rt){rt.preventDefault(),rt.stopPropagation()}),Ot(x)||x.on("drop",function(rt){var Rt=rt.dataTransfer;Rt&&Rt.files&&Rt.files.length>0&&rt.preventDefault()}),x.on("drop",function(rt){var Rt=El(x,rt);if(!(rt.isDefaultPrevented()||U.get())){var Ln=M.getDataTransferItems(rt.dataTransfer),nr=M.hasContentType(Ln,te());if(!((!M.hasHtmlOrText(Ln)||zo(Ln))&&M.pasteImageData(rt,Rt))&&Rt&&Dt(x)){var gr=Ln["mce-internal"]||Ln["text/html"]||Ln["text/plain"];gr&&(rt.preventDefault(),$t.setEditorTimeout(x,function(){x.undoManager.transact(function(){Ln["mce-internal"]&&x.execCommand("Delete"),Qa(x,Rt),gr=di(gr),Ln["text/html"]?M.pasteHtml(gr,nr):M.pasteText(gr)})}))}}}),x.on("dragstart",function(rt){U.set(!0)}),x.on("dragover dragend",function(rt){Ot(x)&&U.get()===!1&&(rt.preventDefault(),Qa(x,El(x,rt))),rt.type==="dragend"&&U.set(!1)})},gu=function(x){var M=x.plugins.paste,U=Qt(x);U&&x.on("PastePreProcess",function(Rt){U.call(M,M,Rt)});var rt=jn(x);rt&&x.on("PastePostProcess",function(Rt){rt.call(M,M,Rt)})},vi=function(x,M){x.on("PastePreProcess",function(U){U.content=M(x,U.content,U.internal,U.wordContent)})},yc=function(x,M){x.on("PastePostProcess",function(U){M(x,U.node)})},hn=function(x,M){if(!Jr(M))return M;var U=[];Pt.each(x.schema.getBlockElements(),function(Rt,Ln){U.push(Ln)});var rt=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+U.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return M=ci(M,[[rt,"$1"]]),M=ci(M,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),M},Uc=function(x,M,U,rt){if(rt||U)return M;var Rt=nn(x),Ln;if(kn(x)===!1||Rt==="all")return M;if(Rt&&(Ln=Rt.split(/[, ]/)),Ln){var nr=x.dom,gr=x.selection.getNode();M=M.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(be,Xe,Ir,Hr){var Mr=nr.parseStyle(nr.decode(Ir)),Xo={};if(Ln==="none")return Xe+Hr;for(var Cr=0;Cr<Ln.length;Cr++){var No=Mr[Ln[Cr]],Do=nr.getStyle(gr,Ln[Cr],!0);/color/.test(Ln[Cr])&&(No=nr.toHex(No),Do=nr.toHex(Do)),Do!==No&&(Xo[Ln[Cr]]=No)}var pa=nr.serializeStyle(Xo,"span");return pa?Xe+' style="'+pa+'"'+Hr:Xe+Hr})}else M=M.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return M=M.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(be,Xe,Ir,Hr){return Xe+' style="'+Ir+'"'+Hr}),M},bi=function(x,M){x.$("a",M).find("font,u").each(function(U,rt){x.dom.remove(rt,!0)})},Qs=function(x){An.webkit&&vi(x,Uc),An.ie&&(vi(x,hn),yc(x,bi))},ec=function(x,M){return function(U){U.setActive(M.pasteFormat.get()==="text");var rt=function(Rt){return U.setActive(Rt.state)};return x.on("PastePlainTextToggle",rt),function(){return x.off("PastePlainTextToggle",rt)}}},B=function(x,M){var U=function(){return x.execCommand("mceTogglePlainTextPaste")};x.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:U,onSetup:ec(x,M)}),x.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:U,onSetup:ec(x,M)})};function k(){Ge.add("paste",function(x){if(Ae(x)===!1){var M=vr(!1),U=vr(sn(x)?"text":"html"),rt=yo(x,U);return Qs(x),B(x,rt),Gr(x,rt),gu(x),Ss(x),cf(x,rt,M),cr(rt)}})}k()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=tinymce.util.Tools.resolve("tinymce.Env"),Ae=tinymce.util.Tools.resolve("tinymce.util.Tools"),cr=function(It){return It.getParam("content_style","","string")},Ce=function(It){return It.getParam("content_css_cors",!1,"boolean")},De=function(It){var At=It.getParam("body_class","","hash");return At[It.id]||""},Be=function(It){var At=It.getParam("body_class","","string");return At.indexOf("=")===-1?At:De(It)},Ne=function(It){var At=It.getParam("body_id","","hash");return At[It.id]||At},ce=function(It){var At=It.getParam("body_id","tinymce","string");return At.indexOf("=")===-1?At:Ne(It)},Or=function(It){var At="",Sn=It.dom.encode,Xt=cr(It);At+='<base href="'+Sn(It.documentBaseURI.getURI())+'">';var fe=Ce(It)?' crossorigin="anonymous"':"";Ae.each(It.contentCSS,function(en){At+='<link type="text/css" rel="stylesheet" href="'+Sn(It.documentBaseURI.toAbsolute(en))+'"'+fe+">"}),Xt&&(At+='<style type="text/css">'+Xt+"</style>");var X=ce(It),Yt=Be(It),un=Ge.mac?"e.metaKey":"e.ctrlKey && !e.altKey",tr='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+un+")) {e.preventDefault();}}}, false);<\/script> ",Me=It.getBody().dir,Ft=Me?' dir="'+Sn(Me)+'"':"",xn="<!DOCTYPE html><html><head>"+At+'</head><body id="'+Sn(X)+'" class="mce-content-body '+Sn(Yt)+'"'+Ft+">"+It.getContent()+tr+"</body></html>";return xn},Wn=function(It){var At=Or(It),Sn=It.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:At}});Sn.focus("close")},Bt=function(It){It.addCommand("mcePreview",function(){Wn(It)})},_n=function(It){var At=function(){return It.execCommand("mcePreview")};It.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:At}),It.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:At})};function on(){vr.add("preview",function(It){Bt(It),_n(It)})}on()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=tinymce.util.Tools.resolve("tinymce.Env"),Ae=function(De){De.addCommand("mcePrint",function(){Ge.browser.isIE()?De.getDoc().execCommand("print",!1,null):De.getWin().print()})},cr=function(De){var Be=function(){return De.execCommand("mcePrint")};De.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:Be}),De.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:Be})};function Ce(){vr.add("print",function(De){Ae(De),cr(De),De.addShortcut("Meta+P","","mcePrint")})}Ce()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ae=tinymce.util.Tools.resolve("tinymce.util.Tools"),cr=function(on){return on.getParam("save_enablewhendirty",!0)},Ce=function(on){return!!on.getParam("save_onsavecallback")},De=function(on){return!!on.getParam("save_oncancelcallback")},Be=function(on,It){on.notificationManager.open({text:It,type:"error"})},Ne=function(on){var It=Ge.DOM.getParent(on.id,"form");if(!(cr(on)&&!on.isDirty())){if(on.save(),Ce(on)){on.execCallback("save_onsavecallback",on),on.nodeChanged();return}It?(on.setDirty(!1),(!It.onsubmit||It.onsubmit())&&(typeof It.submit=="function"?It.submit():Be(on,"Error: Form submit field collision.")),on.nodeChanged()):Be(on,"Error: No form element found.")}},ce=function(on){var It=Ae.trim(on.startContent);if(De(on)){on.execCallback("save_oncancelcallback",on);return}on.resetContent(It)},Or=function(on){on.addCommand("mceSave",function(){Ne(on)}),on.addCommand("mceCancel",function(){ce(on)})},Wn=function(on){return function(It){var At=function(){It.setDisabled(cr(on)&&!on.isDirty())};return At(),on.on("NodeChange dirty",At),function(){return on.off("NodeChange dirty",At)}}},Bt=function(on){on.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return on.execCommand("mceSave")},onSetup:Wn(on)}),on.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return on.execCommand("mceCancel")},onSetup:Wn(on)}),on.addShortcut("Meta+S","","mceSave")};function _n(){vr.add("save",function(on){Bt(on),Or(on)})}_n()})();(function(){var vr=function(nt){var dt=nt,Kt=function(){return dt},Tn=function(P){dt=P};return{get:Kt,set:Tn}},Ge=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ae=function(){return Ae=Object.assign||function(nt){for(var dt,Kt=1,Tn=arguments.length;Kt<Tn;Kt++){dt=arguments[Kt];for(var P in dt)Object.prototype.hasOwnProperty.call(dt,P)&&(nt[P]=dt[P])}return nt},Ae.apply(this,arguments)},cr=function(nt){var dt=typeof nt;return nt===null?"null":dt==="object"&&(Array.prototype.isPrototypeOf(nt)||nt.constructor&&nt.constructor.name==="Array")?"array":dt==="object"&&(String.prototype.isPrototypeOf(nt)||nt.constructor&&nt.constructor.name==="String")?"string":dt},Ce=function(nt){return function(dt){return cr(dt)===nt}},De=function(nt){return function(dt){return typeof dt===nt}},Be=Ce("string"),Ne=Ce("array"),ce=De("boolean"),Or=De("number"),Wn=function(){},Bt=function(nt){return function(){return nt}},_n=function(nt){return nt},on=Bt(!1),It=Bt(!0),At="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",Sn=Bt(At),Xt=function(){return fe},fe=function(){var nt=function(Tn){return Tn()},dt=_n,Kt={fold:function(Tn,P){return Tn()},isSome:on,isNone:It,getOr:dt,getOrThunk:nt,getOrDie:function(Tn){throw new Error(Tn||"error: getOrDie called on none.")},getOrNull:Bt(null),getOrUndefined:Bt(void 0),or:dt,orThunk:nt,map:Xt,each:Wn,bind:Xt,exists:on,forall:It,filter:function(){return Xt()},toArray:function(){return[]},toString:Bt("none()")};return Kt}(),X=function(nt){var dt=Bt(nt),Kt=function(){return P},Tn=function(Y){return Y(nt)},P={fold:function(Y,ft){return ft(nt)},isSome:It,isNone:on,getOr:dt,getOrThunk:dt,getOrDie:dt,getOrNull:dt,getOrUndefined:dt,or:Kt,orThunk:Kt,map:function(Y){return X(Y(nt))},each:function(Y){Y(nt)},bind:Tn,exists:Tn,forall:Tn,filter:function(Y){return Y(nt)?P:fe},toArray:function(){return[nt]},toString:function(){return"some("+nt+")"}};return P},Yt=function(nt){return nt==null?fe:X(nt)},un={some:X,none:Xt,from:Yt},tr=Sn,Me=tinymce.util.Tools.resolve("tinymce.Env"),Ft=tinymce.util.Tools.resolve("tinymce.util.Tools"),xn=Array.prototype.slice,en=Array.prototype.push,pn=function(nt,dt){for(var Kt=nt.length,Tn=new Array(Kt),P=0;P<Kt;P++){var Y=nt[P];Tn[P]=dt(Y,P)}return Tn},J=function(nt,dt){for(var Kt=0,Tn=nt.length;Kt<Tn;Kt++){var P=nt[Kt];dt(P,Kt)}},H=function(nt,dt){for(var Kt=nt.length-1;Kt>=0;Kt--){var Tn=nt[Kt];dt(Tn,Kt)}},fn=function(nt,dt){if(nt.length===0)return[];for(var Kt=dt(nt[0]),Tn=[],P=[],Y=0,ft=nt.length;Y<ft;Y++){var St=nt[Y],Ut=dt(St);Ut!==Kt&&(Tn.push(P),P=[]),Kt=Ut,P.push(St)}return P.length!==0&&Tn.push(P),Tn},Ke=function(nt,dt,Kt){return J(nt,function(Tn,P){Kt=dt(Kt,Tn,P)}),Kt},Cn=function(nt){for(var dt=[],Kt=0,Tn=nt.length;Kt<Tn;++Kt){if(!Ne(nt[Kt]))throw new Error("Arr.flatten item "+Kt+" was not an array, input: "+nt);en.apply(dt,nt[Kt])}return dt},br=function(nt,dt){return Cn(pn(nt,dt))},ar=function(nt,dt){var Kt=xn.call(nt,0);return Kt.sort(dt),Kt},D=Object.hasOwnProperty,Dn=function(nt,dt){return D.call(nt,dt)};typeof window<"u"||Function("return this;")();var Lt=9,An=11,$t=1,oe=3,Pn=function(nt){return nt.dom.nodeType},ie=function(nt){return function(dt){return Pn(dt)===nt}},K=ie(oe),xr=function(nt,dt,Kt){if(Be(Kt)||ce(Kt)||Or(Kt))nt.setAttribute(dt,Kt+"");else throw console.error("Invalid call to Attribute.set. Key ",dt,":: Value ",Kt,":: Element ",nt),new Error("Attribute value was not simple")},Zt=function(nt,dt,Kt){xr(nt.dom,dt,Kt)},Pt=function(nt,dt,Kt){return(nt.compareDocumentPosition(dt)&Kt)!==0},ye=function(nt,dt){return Pt(nt,dt,Node.DOCUMENT_POSITION_PRECEDING)},Ot=function(nt,dt){var Kt=dt||document,Tn=Kt.createElement("div");if(Tn.innerHTML=nt,!Tn.hasChildNodes()||Tn.childNodes.length>1)throw console.error("HTML does not have a single root node",nt),new Error("HTML must have a single root node");return jn(Tn.childNodes[0])},Dt=function(nt,dt){var Kt=dt||document,Tn=Kt.createElement(nt);return jn(Tn)},Qt=function(nt,dt){var Kt=dt||document,Tn=Kt.createTextNode(nt);return jn(Tn)},jn=function(nt){if(nt==null)throw new Error("Node cannot be null or undefined");return{dom:nt}},nn=function(nt,dt,Kt){return un.from(nt.dom.elementFromPoint(dt,Kt)).map(jn)},kn={fromHtml:Ot,fromTag:Dt,fromText:Qt,fromDom:jn,fromPoint:nn},Ye=function(nt){return nt.nodeType!==$t&&nt.nodeType!==Lt&&nt.nodeType!==An||nt.childElementCount===0},pt=function(nt,dt){var Kt=dt===void 0?document:dt.dom;return Ye(Kt)?[]:pn(Kt.querySelectorAll(nt),kn.fromDom)},sn=function(nt){return un.from(nt.dom.parentNode).map(kn.fromDom)},le=function(nt){return pn(nt.dom.childNodes,kn.fromDom)},zn=function(nt,dt){return{element:nt,offset:dt}},Ue=function(nt,dt){var Kt=le(nt);return Kt.length>0&&dt<Kt.length?zn(Kt[dt],0):zn(nt,dt)},er=function(nt,dt){var Kt=sn(nt);Kt.each(function(Tn){Tn.dom.insertBefore(dt.dom,nt.dom)})},qr=function(nt,dt){nt.dom.appendChild(dt.dom)},ao=function(nt,dt){er(nt,dt),qr(dt,nt)},ko=function(nt,dt){var Kt=function(Y){if(!nt(Y))throw new Error("Can only get "+dt+" value of a "+dt+" node");return Tn(Y).getOr("")},Tn=function(Y){return nt(Y)?un.from(Y.dom.nodeValue):un.none()},P=function(Y,ft){if(!nt(Y))throw new Error("Can only set raw "+dt+" value of a "+dt+" node");Y.dom.nodeValue=ft};return{get:Kt,getOption:Tn,set:P}},Xn=ko(K,"text"),Jn=function(nt){return Xn.get(nt)},En=function(nt,dt){return pt(dt,nt)},zt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),jt=function(nt,dt){return nt.isBlock(dt)||Dn(nt.schema.getShortEndedElements(),dt.nodeName)},qn=function(nt,dt){return nt.getContentEditable(dt)==="false"},xe=function(nt,dt){return nt.getContentEditable(dt)==="true"&&nt.getContentEditableParent(dt.parentNode)==="false"},Qn=function(nt,dt){return!nt.isBlock(dt)&&Dn(nt.schema.getWhiteSpaceElements(),dt.nodeName)},Mt=function(nt,dt){return jt(nt,dt)||qn(nt,dt)||Qn(nt,dt)||xe(nt,dt)},Fn=function(nt){return nt.nodeType===3},me=function(){return{sOffset:0,fOffset:0,elements:[]}},te=function(nt,dt){return Ue(kn.fromDom(nt),dt)},Ie=function(nt,dt,Kt,Tn,P,Y){Y===void 0&&(Y=!0);for(var ft=Y?dt(!1):Kt;ft;){var St=qn(nt,ft);if(St||Qn(nt,ft)){var Ut=St?Tn.cef(ft):Tn.boundary(ft);if(Ut)break;ft=dt(!0);continue}else if(jt(nt,ft)){if(Tn.boundary(ft))break}else Fn(ft)&&Tn.text(ft);if(ft===P)break;ft=dt(!1)}},ht=function(nt,dt,Kt,Tn,P){if(!Mt(nt,Kt)){var Y=nt.getParent(Tn,nt.isBlock),ft=new zt(Kt,Y),St=P?ft.next.bind(ft):ft.prev.bind(ft);Ie(nt,St,Kt,{boundary:It,cef:It,text:function(Ut){P?dt.fOffset+=Ut.length:dt.sOffset+=Ut.length,dt.elements.push(kn.fromDom(Ut))}})}},dn=function(nt,dt,Kt,Tn,P,Y){Y===void 0&&(Y=!0);var ft=new zt(Kt,dt),St=[],Ut=me();ht(nt,Ut,Kt,dt,!1);var qt=function(){return Ut.elements.length>0&&(St.push(Ut),Ut=me()),!1};return Ie(nt,ft.next.bind(ft),Kt,{boundary:qt,cef:function(de){return qt(),P&&St.push.apply(St,P.cef(de)),!1},text:function(de){Ut.elements.push(kn.fromDom(de)),P&&P.text(de,Ut)}},Tn,Y),Tn&&ht(nt,Ut,Tn,dt,!0),qt(),St},tn=function(nt,dt){var Kt=te(dt.startContainer,dt.startOffset),Tn=Kt.element.dom,P=te(dt.endContainer,dt.endOffset),Y=P.element.dom;return dn(nt,dt.commonAncestorContainer,Tn,Y,{text:function(ft,St){ft===Y?St.fOffset+=ft.length-P.offset:ft===Tn&&(St.sOffset+=Kt.offset)},cef:function(ft){var St=br(En(kn.fromDom(ft),"*[contenteditable=true]"),function(Ut){var qt=Ut.dom;return dn(nt,qt,qt)});return ar(St,function(Ut,qt){return ye(Ut.elements[0].dom,qt.elements[0].dom)?1:-1})}},!1)},Hn=function(nt,dt){return dt.collapsed?[]:tn(nt,dt)},Pe=function(nt,dt){var Kt=nt.createRng();return Kt.selectNode(dt),Hn(nt,Kt)},Er=function(nt,dt){return br(dt,function(Kt){return Pe(nt,Kt)})},Eo=function(nt,dt,Kt,Tn){Kt===void 0&&(Kt=0),Tn===void 0&&(Tn=nt.length);var P=dt.regex;P.lastIndex=Kt;for(var Y=[],ft;ft=P.exec(nt);){var St=ft[dt.matchIndex],Ut=ft.index+ft[0].indexOf(St),qt=Ut+St.length;if(qt>Tn)break;Y.push({start:Ut,finish:qt}),P.lastIndex=qt}return Y},_r=function(nt,dt){var Kt=Ke(nt,function(Tn,P){var Y=Jn(P),ft=Tn.last,St=ft+Y.length,Ut=br(dt,function(qt,de){return qt.start<St&&qt.finish>ft?[{element:P,start:Math.max(ft,qt.start)-ft,finish:Math.min(St,qt.finish)-ft,matchId:de}]:[]});return{results:Tn.results.concat(Ut),last:St}},{results:[],last:0}).results;return fn(Kt,function(Tn){return Tn.matchId})},Rr=function(nt,dt){return br(dt,function(Kt){var Tn=Kt.elements,P=pn(Tn,Jn).join(""),Y=Eo(P,nt,Kt.sOffset,P.length-Kt.fOffset);return _r(Tn,Y)})},Bo=function(nt,dt){H(nt,function(Kt,Tn){H(Kt,function(P){var Y=kn.fromDom(dt.cloneNode(!1));Zt(Y,"data-mce-index",Tn);var ft=P.element.dom;if(ft.length===P.finish&&P.start===0)ao(P.element,Y);else{ft.length!==P.finish&&ft.splitText(P.finish);var St=ft.splitText(P.start);ao(kn.fromDom(St),Y)}})})},Mi=function(nt,dt,Kt,Tn){var P=Pe(nt,Kt),Y=Rr(dt,P);return Bo(Y,Tn),Y.length},oi=function(nt,dt,Kt,Tn){var P=Kt.getBookmark(),Y=nt.select("td[data-mce-selected],th[data-mce-selected]"),ft=Y.length>0?Er(nt,Y):Hn(nt,Kt.getRng()),St=Rr(dt,ft);return Bo(St,Tn),Kt.moveToBookmark(P),St.length},Wo=function(nt){var dt=nt.getAttribute("data-mce-index");return typeof dt=="number"?""+dt:dt},ci=function(nt,dt,Kt,Tn){var P=nt.dom.create("span",{"data-mce-bogus":1});P.className="mce-match-marker";var Y=nt.getBody();return hi(nt,dt,!1),Tn?oi(nt.dom,Kt,nt.selection,P):Mi(nt.dom,Kt,Y,P)},Fi=function(nt){var dt=nt.parentNode;nt.firstChild&&dt.insertBefore(nt.firstChild,nt),nt.parentNode.removeChild(nt)},di=function(nt,dt){var Kt=[],Tn=Ft.toArray(nt.getBody().getElementsByTagName("span"));if(Tn.length)for(var P=0;P<Tn.length;P++){var Y=Wo(Tn[P]);Y===null||!Y.length||Y===dt.toString()&&Kt.push(Tn[P])}return Kt},ti=function(nt,dt,Kt){var Tn=dt.get(),P=Tn.index,Y=nt.dom;Kt=Kt!==!1,Kt?P+1===Tn.count?P=0:P++:P-1===-1?P=Tn.count-1:P--,Y.removeClass(di(nt,Tn.index),"mce-match-marker-selected");var ft=di(nt,P);return ft.length?(Y.addClass(di(nt,P),"mce-match-marker-selected"),nt.selection.scrollIntoView(ft[0]),P):-1},Li=function(nt,dt){var Kt=dt.parentNode;nt.remove(dt),nt.isEmpty(Kt)&&nt.remove(Kt)},Jr=function(nt,dt){var Kt=nt.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Tn="("+Kt+")";return dt?"(?:^|\\s|"+tr()+")"+Tn+("(?=$|\\s|"+tr()+")"):Tn},Ii=function(nt,dt,Kt,Tn,P,Y){var ft=nt.selection,St=Jr(Kt,P),Ut=ft.isForward(),qt={regex:new RegExp(St,Tn?"g":"gi"),matchIndex:1},de=ci(nt,dt,qt,Y);if(Me.browser.isSafari()&&ft.setRng(ft.getRng(),Ut),de){var Ee=ti(nt,dt,!0);dt.set({index:Ee,count:de,text:Kt,matchCase:Tn,wholeWord:P,inSelection:Y})}return de},Ze=function(nt,dt){var Kt=ti(nt,dt,!0);dt.set(Ae(Ae({},dt.get()),{index:Kt}))},Na=function(nt,dt){var Kt=ti(nt,dt,!1);dt.set(Ae(Ae({},dt.get()),{index:Kt}))},Ei=function(nt){var dt=Wo(nt);return dt!==null&&dt.length>0},Wi=function(nt,dt,Kt,Tn,P){var Y=dt.get(),ft=Y.index,St,Ut=ft;Tn=Tn!==!1;for(var qt=nt.getBody(),de=Ft.grep(Ft.toArray(qt.getElementsByTagName("span")),Ei),Ee=0;Ee<de.length;Ee++){var fr=Wo(de[Ee]),Jt=St=parseInt(fr,10);if(P||Jt===Y.index){for(Kt.length?(de[Ee].firstChild.nodeValue=Kt,Fi(de[Ee])):Li(nt.dom,de[Ee]);de[++Ee];)if(Jt=parseInt(Wo(de[Ee]),10),Jt===St)Li(nt.dom,de[Ee]);else{Ee--;break}Tn&&Ut--}else St>ft&&de[Ee].setAttribute("data-mce-index",String(St-1))}return dt.set(Ae(Ae({},Y),{count:P?0:Y.count-1,index:Ut})),Tn?Ze(nt,dt):Na(nt,dt),!P&&dt.get().count>0},hi=function(nt,dt,Kt){for(var Tn,P,Y=dt.get(),ft=Ft.toArray(nt.getBody().getElementsByTagName("span")),St=0;St<ft.length;St++){var Ut=Wo(ft[St]);Ut!==null&&Ut.length&&(Ut===Y.index.toString()&&(Tn||(Tn=ft[St].firstChild),P=ft[St].firstChild),Fi(ft[St]))}if(dt.set(Ae(Ae({},Y),{index:-1,count:0,text:""})),Tn&&P){var qt=nt.dom.createRng();return qt.setStart(Tn,0),qt.setEnd(P,P.data.length),Kt!==!1&&nt.selection.setRng(qt),qt}},Qi=function(nt,dt){return dt.get().count>1},Pa=function(nt,dt){return dt.get().count>1},Zi=function(nt,dt){var Kt=function(St){return hi(nt,dt,St)},Tn=function(St,Ut,qt,de){return de===void 0&&(de=!1),Ii(nt,dt,St,Ut,qt,de)},P=function(){return Ze(nt,dt)},Y=function(){return Na(nt,dt)},ft=function(St,Ut,qt){return Wi(nt,dt,St,Ut,qt)};return{done:Kt,find:Tn,next:P,prev:Y,replace:ft}},du=function(nt){var dt=vr(un.none()),Kt=function(){return dt.get().each(nt)},Tn=function(){Kt(),dt.set(un.none())},P=function(){return dt.get().isSome()},Y=function(){return dt.get()},ft=function(St){Kt(),dt.set(un.some(St))};return{clear:Tn,isSet:P,get:Y,set:ft}},ot=function(){var nt=du(Wn),dt=function(Kt){return nt.get().each(Kt)};return Ae(Ae({},nt),{on:dt})},xt=function(nt,dt){var Kt=ot();nt.undoManager.add();var Tn=Ft.trim(nt.selection.getContent({format:"text"})),P=function(rr){var zr=Qi(nt,dt)?rr.enable:rr.disable;zr("next");var wo=Pa(nt,dt)?rr.enable:rr.disable;wo("prev")},Y=function(rr){var zr=rr.getData(),wo=dt.get();dt.set(Ae(Ae({},wo),{matchCase:zr.matchcase,wholeWord:zr.wholewords,inSelection:zr.inselection}))},ft=function(rr,zr){var wo=["replace","replaceall","prev","next"],mi=zr?rr.disable:rr.enable;J(wo,mi)},St=function(rr){nt.windowManager.alert("Could not find the specified string.",function(){rr.focus("findtext")})},Ut=function(rr,zr){Me.browser.isSafari()&&Me.deviceType.isTouch()&&(zr==="find"||zr==="replace"||zr==="replaceall")&&rr.focus(zr)},qt=function(rr){hi(nt,dt,!1),ft(rr,!0),P(rr)},de=function(rr){var zr=rr.getData(),wo=dt.get();if(!zr.findtext.length){qt(rr);return}if(wo.text===zr.findtext&&wo.matchCase===zr.matchcase&&wo.wholeWord===zr.wholewords)Ze(nt,dt);else{var mi=Ii(nt,dt,zr.findtext,zr.matchcase,zr.wholewords,zr.inselection);mi<=0&&St(rr),ft(rr,mi===0)}P(rr)},Ee=dt.get(),fr={findtext:Tn,replacetext:"",wholewords:Ee.wholeWord,matchcase:Ee.matchCase,inselection:Ee.inSelection},Jt={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:fr,onChange:function(rr,zr){zr.name==="findtext"&&dt.get().count>0&&qt(rr)},onAction:function(rr,zr){var wo=rr.getData();switch(zr.name){case"find":de(rr);break;case"replace":Wi(nt,dt,wo.replacetext)?P(rr):qt(rr);break;case"replaceall":Wi(nt,dt,wo.replacetext,!0,!0),qt(rr);break;case"prev":Na(nt,dt),P(rr);break;case"next":Ze(nt,dt),P(rr);break;case"matchcase":case"wholewords":case"inselection":Y(rr),qt(rr);break}Ut(rr,zr.name)},onSubmit:function(rr){de(rr),Ut(rr,"find")},onClose:function(){nt.focus(),hi(nt,dt),nt.undoManager.add()}};Kt.set(nt.windowManager.open(Jt,{inline:"toolbar"}))},st=function(nt,dt){nt.addCommand("SearchReplace",function(){xt(nt,dt)})},Gt=function(nt,dt){return function(){xt(nt,dt)}},pe=function(nt,dt){nt.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Gt(nt,dt),icon:"search"}),nt.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Gt(nt,dt),icon:"search"}),nt.shortcuts.add("Meta+F","",Gt(nt,dt))};function He(){Ge.add("searchreplace",function(nt){var dt=vr({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return st(nt,dt),pe(nt,dt),Zi(nt,dt)})}He()})();(function(){var vr=function($t){var oe=$t,Pn=function(){return oe},ie=function(K){oe=K};return{get:Pn,set:ie}},Ge=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ae=function($t){return $t.hasPlugin("tinymcespellchecker",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},cr=Object.hasOwnProperty,Ce=function($t){for(var oe in $t)if(cr.call($t,oe))return!1;return!0},De=tinymce.util.Tools.resolve("tinymce.util.Tools"),Be=tinymce.util.Tools.resolve("tinymce.util.URI"),Ne=tinymce.util.Tools.resolve("tinymce.util.XHR"),ce=function($t){return $t.fire("SpellcheckStart")},Or=function($t){return $t.fire("SpellcheckEnd")},Wn=function($t){var oe="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return $t.getParam("spellchecker_languages",oe)},Bt=function($t){var oe=$t.getParam("language","en");return $t.getParam("spellchecker_language",oe)},_n=function($t){return $t.getParam("spellchecker_rpc_url")},on=function($t){return $t.getParam("spellchecker_callback")},It=function($t){var oe=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`§©«®±¶·¸»¼½¾¿×÷¤”“„    ]+',"g");return $t.getParam("spellchecker_wordchar_pattern",oe)},At=function($t){return $t&&$t.nodeType===1&&$t.contentEditable==="false"},Sn=function($t,oe){var Pn,ie=[],K=oe.dom,xr=oe.schema.getBlockElements(),Zt=oe.schema.getWhiteSpaceElements(),Pt=oe.schema.getShortEndedElements(),ye=function(zt,jt){if(!zt[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:zt.index,end:zt.index+zt[0].length,text:zt[0],data:jt}},Ot=function(zt){if(zt.nodeType===3)return zt.data;if(Zt[zt.nodeName]&&!xr[zt.nodeName])return"";if(At(zt))return`
`;var jt="";if((xr[zt.nodeName]||Pt[zt.nodeName])&&(jt+=`
`),zt=zt.firstChild)do jt+=Ot(zt);while(zt=zt.nextSibling);return jt},Dt=function(zt,jt,qn){var xe,Qn,Mt,Fn,me=[],te=0,Ie=zt,ht,dn=0;jt=jt.slice(0),jt.sort(function(tn,Hn){return tn.start-Hn.start}),ht=jt.shift();t:for(;;){if((xr[Ie.nodeName]||Pt[Ie.nodeName]||At(Ie))&&te++,Ie.nodeType===3&&(!Qn&&Ie.length+te>=ht.end?(Qn=Ie,Fn=ht.end-te):xe&&me.push(Ie),!xe&&Ie.length+te>ht.start&&(xe=Ie,Mt=ht.start-te),te+=Ie.length),xe&&Qn){if(Ie=qn({startNode:xe,startNodeIndex:Mt,endNode:Qn,endNodeIndex:Fn,innerNodes:me,match:ht.text,matchIndex:dn}),te-=Qn.length-Fn,xe=null,Qn=null,me=[],ht=jt.shift(),dn++,!ht)break}else if((!Zt[Ie.nodeName]||xr[Ie.nodeName])&&Ie.firstChild){if(!At(Ie)){Ie=Ie.firstChild;continue}}else if(Ie.nextSibling){Ie=Ie.nextSibling;continue}for(;;)if(Ie.nextSibling){Ie=Ie.nextSibling;break}else if(Ie.parentNode!==zt)Ie=Ie.parentNode;else break t}},Qt=function(zt){var jt=function(qn,xe){var Qn=ie[xe];Qn.stencil||(Qn.stencil=zt(Qn));var Mt=Qn.stencil.cloneNode(!1);return Mt.setAttribute("data-mce-index",""+xe),qn&&Mt.appendChild(K.doc.createTextNode(qn)),Mt};return function(qn){var xe,Qn,Mt,Fn=qn.startNode,me=qn.endNode,te=qn.matchIndex,Ie=K.doc;if(Fn===me){var ht=Fn;Mt=ht.parentNode,qn.startNodeIndex>0&&(xe=Ie.createTextNode(ht.data.substring(0,qn.startNodeIndex)),Mt.insertBefore(xe,ht));var dn=jt(qn.match,te);return Mt.insertBefore(dn,ht),qn.endNodeIndex<ht.length&&(Qn=Ie.createTextNode(ht.data.substring(qn.endNodeIndex)),Mt.insertBefore(Qn,ht)),ht.parentNode.removeChild(ht),dn}xe=Ie.createTextNode(Fn.data.substring(0,qn.startNodeIndex)),Qn=Ie.createTextNode(me.data.substring(qn.endNodeIndex));for(var tn=jt(Fn.data.substring(qn.startNodeIndex),te),Hn=0,Pe=qn.innerNodes.length;Hn<Pe;++Hn){var Er=qn.innerNodes[Hn],Eo=jt(Er.data,te);Er.parentNode.replaceChild(Eo,Er)}var _r=jt(me.data.substring(0,qn.endNodeIndex),te);return Mt=Fn.parentNode,Mt.insertBefore(xe,Fn),Mt.insertBefore(tn,Fn),Mt.removeChild(Fn),Mt=me.parentNode,Mt.insertBefore(_r,me),Mt.insertBefore(Qn,me),Mt.removeChild(me),_r}},jn=function(zt){for(var jt=zt.parentNode;zt.childNodes.length>0;)jt.insertBefore(zt.childNodes[0],zt);jt.removeChild(zt)},nn=function(zt){return zt.className.indexOf("mce-spellchecker-word")!==-1},kn=function(zt){var jt=$t.getElementsByTagName("*"),qn=[];zt=typeof zt=="number"?""+zt:null;for(var xe=0;xe<jt.length;xe++){var Qn=jt[xe],Mt=Qn.getAttribute("data-mce-index");Mt!==null&&Mt.length&&nn(Qn)&&(Mt===zt||zt===null)&&qn.push(Qn)}return qn},Ye=function(zt){for(var jt=ie.length;jt--;)if(ie[jt]===zt)return jt;return-1};function pt(zt){var jt=[];return sn(function(qn,xe){zt(qn,xe)&&jt.push(qn)}),ie=jt,this}function sn(zt){for(var jt=0,qn=ie.length;jt<qn&&zt(ie[jt],jt)!==!1;jt++);return this}function le(zt){return ie.length&&Dt($t,ie,Qt(zt)),this}function zn(zt,jt){if(En&&zt.global)for(;Pn=zt.exec(En);)ie.push(ye(Pn,jt));return this}function Ue(zt){var jt,qn=kn(zt?Ye(zt):null);for(jt=qn.length;jt--;)jn(qn[jt]);return this}var er=function(zt){return ie[zt.getAttribute("data-mce-index")]},qr=function(zt){return kn(Ye(zt))[0]};function ao(zt,jt,qn){return ie.push({start:zt,end:zt+jt,text:En.substr(zt,jt),data:qn}),this}var ko=function(zt){var jt=kn(Ye(zt)),qn=oe.dom.createRng();return qn.setStartBefore(jt[0]),qn.setEndAfter(jt[jt.length-1]),qn},Xn=function(zt,jt){var qn=ko(zt);return qn.deleteContents(),jt.length>0&&qn.insertNode(oe.dom.doc.createTextNode(jt)),qn};function Jn(){return ie.splice(0,ie.length),Ue(),this}var En=Ot($t);return{text:En,matches:ie,each:sn,filter:pt,reset:Jn,matchFromElement:er,elementFromMatch:qr,find:zn,add:ao,wrap:le,unwrap:Ue,replace:Xn,rangeFromMatch:ko,indexOf:Ye}},Xt=function($t,oe){if(!oe.get()){var Pn=Sn($t.getBody(),$t);oe.set(Pn)}return oe.get()},fe=function($t,oe,Pn){return function(ie,K,xr,Zt){var Pt={method:ie,lang:Pn.get()},ye="";Pt[ie==="addToDictionary"?"word":"text"]=K,De.each(Pt,function(Ot,Dt){ye&&(ye+="&"),ye+=Dt+"="+encodeURIComponent(Ot)}),Ne.send({url:new Be(oe).toAbsolute(_n($t)),type:"post",content_type:"application/x-www-form-urlencoded",data:ye,success:function(Ot){var Dt=JSON.parse(Ot);if(Dt)Dt.error?Zt(Dt.error):xr(Dt);else{var Qt=$t.translate("Server response wasn't proper JSON.");Zt(Qt)}},error:function(){var Ot=$t.translate("The spelling service was not found: (")+_n($t)+$t.translate(")");Zt(Ot)}})}},X=function($t,oe,Pn,ie,K,xr,Zt){var Pt=on($t),ye=Pt||fe($t,oe,Pn);ye.call($t.plugins.spellchecker,ie,K,xr,Zt)},Yt=function($t,oe,Pn,ie,K,xr){if(!Ft($t,Pn,ie)){var Zt=function(ye){$t.notificationManager.open({text:ye,type:"error"}),$t.setProgressState(!1),Ft($t,Pn,ie)},Pt=function(ye){pn($t,Pn,ie,K,ye)};$t.setProgressState(!0),X($t,oe,xr,"spellcheck",Xt($t,ie).text,Pt,Zt),$t.focus()}},un=function($t,oe,Pn){$t.dom.select("span.mce-spellchecker-word").length||Ft($t,oe,Pn)},tr=function($t,oe,Pn,ie,K,xr,Zt){$t.setProgressState(!0),X($t,oe,K,"addToDictionary",xr,function(){$t.setProgressState(!1),$t.dom.remove(Zt,!0),un($t,Pn,ie)},function(Pt){$t.notificationManager.open({text:Pt,type:"error"}),$t.setProgressState(!1)})},Me=function($t,oe,Pn,ie,K,xr){$t.selection.collapse(),xr?De.each($t.dom.select("span.mce-spellchecker-word"),function(Zt){Zt.getAttribute("data-mce-word")===ie&&$t.dom.remove(Zt,!0)}):$t.dom.remove(K,!0),un($t,oe,Pn)},Ft=function($t,oe,Pn){var ie=$t.selection.getBookmark();if(Xt($t,Pn).reset(),$t.selection.moveToBookmark(ie),Pn.set(null),oe.get())return oe.set(!1),Or($t),!0},xn=function($t){var oe=$t.getAttribute("data-mce-index");return typeof oe=="number"?""+oe:oe},en=function($t,oe){var Pn=[],ie=De.toArray($t.getBody().getElementsByTagName("span"));if(ie.length)for(var K=0;K<ie.length;K++){var xr=xn(ie[K]);xr===null||!xr.length||xr===oe.toString()&&Pn.push(ie[K])}return Pn},pn=function($t,oe,Pn,ie,K){var xr=!!K.dictionary,Zt=K.words;if($t.setProgressState(!1),Ce(Zt)){var Pt=$t.translate("No misspellings found.");$t.notificationManager.open({text:Pt,type:"info"}),oe.set(!1);return}ie.set({suggestions:Zt,hasDictionarySupport:xr});var ye=$t.selection.getBookmark();Xt($t,Pn).find(It($t)).filter(function(Ot){return!!Zt[Ot.text]}).wrap(function(Ot){return $t.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":Ot.text})}),$t.selection.moveToBookmark(ye),oe.set(!0),ce($t)},J=function($t,oe,Pn,ie,K){var xr=function(){return It($t)},Zt=function(Pt){pn($t,oe,ie,Pn,Pt)};return{getTextMatcher:ie.get,getWordCharPattern:xr,markErrors:Zt,getLanguage:K.get}},H=function($t,oe,Pn,ie,K,xr){$t.addCommand("mceSpellCheck",function(){Yt($t,oe,Pn,ie,K,xr)})},fn=function(){return fn=Object.assign||function($t){for(var oe,Pn=1,ie=arguments.length;Pn<ie;Pn++){oe=arguments[Pn];for(var K in oe)Object.prototype.hasOwnProperty.call(oe,K)&&($t[K]=oe[K])}return $t},fn.apply(this,arguments)},Ke="SpellcheckStart SpellcheckEnd",Cn=function($t,oe){var Pn=[];return De.each(oe,function(ie){Pn.push({selectable:!0,text:ie.name,data:ie.value})}),Pn},br=function($t){return De.map(Wn($t).split(","),function(oe){var Pn=oe.split("=");return{name:Pn[0],value:Pn[1]}})},ar=function($t,oe,Pn,ie,K,xr){var Zt=Cn("Language",br($t)),Pt=function(){Yt($t,oe,Pn,ie,xr,K)},ye={tooltip:"Spellcheck",onAction:Pt,icon:"spell-check",onSetup:function(Dt){var Qt=function(){Dt.setActive(Pn.get())};return $t.on(Ke,Qt),function(){$t.off(Ke,Qt)}}},Ot=fn(fn({},ye),{type:"splitbutton",select:function(Dt){return Dt===K.get()},fetch:function(Dt){var Qt=De.map(Zt,function(jn){return{type:"choiceitem",value:jn.data,text:jn.text}});Dt(Qt)},onItemAction:function(Dt,Qt){K.set(Qt)}});Zt.length>1?$t.ui.registry.addSplitButton("spellchecker",Ot):$t.ui.registry.addToggleButton("spellchecker",ye),$t.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(Dt){Dt.setActive(Pn.get());var Qt=function(){Dt.setActive(Pn.get())};return $t.on(Ke,Qt),function(){$t.off(Ke,Qt)}},onAction:Pt})},D=!0,Dn=function($t,oe,Pn,ie,K,xr,Zt,Pt){var ye=[],Ot=Pn.get().suggestions[Zt];De.each(Ot,function(Qt){ye.push({text:Qt,onAction:function(){$t.insertContent($t.dom.encode(Qt)),$t.dom.remove(Pt),un($t,ie,K)}})});var Dt=Pn.get().hasDictionarySupport;return Dt&&(ye.push({type:"separator"}),ye.push({text:"Add to dictionary",onAction:function(){tr($t,oe,ie,K,xr,Zt,Pt)}})),ye.push.apply(ye,[{type:"separator"},{text:"Ignore",onAction:function(){Me($t,ie,K,Zt,Pt)}},{text:"Ignore all",onAction:function(){Me($t,ie,K,Zt,Pt,D)}}]),ye},Lt=function($t,oe,Pn,ie,K,xr){var Zt=function(Pt){var ye=Pt;if(ye.className==="mce-spellchecker-word"){var Ot=en($t,xn(ye));if(Ot.length>0){var Dt=$t.dom.createRng();return Dt.setStartBefore(Ot[0]),Dt.setEndAfter(Ot[Ot.length-1]),$t.selection.setRng(Dt),Dn($t,oe,Pn,ie,K,xr,ye.getAttribute("data-mce-word"),Ot)}}else return[]};$t.ui.registry.addContextMenu("spellchecker",{update:Zt})};function An(){Ge.add("spellchecker",function($t,oe){if(Ae($t)===!1){var Pn=vr(!1),ie=vr(Bt($t)),K=vr(null),xr=vr(null);return ar($t,oe,Pn,K,ie,xr),Lt($t,oe,xr,Pn,K,ie),H($t,oe,Pn,K,xr,ie),J($t,Pn,xr,K,ie)}})}An()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ae=tinymce.util.Tools.resolve("tinymce.EditorManager"),cr=tinymce.util.Tools.resolve("tinymce.Env"),Ce=tinymce.util.Tools.resolve("tinymce.util.Delay"),De=tinymce.util.Tools.resolve("tinymce.util.Tools"),Be=tinymce.util.Tools.resolve("tinymce.util.VK"),Ne=function(on){return on.getParam("tabfocus_elements",":prev,:next")},ce=function(on){return on.getParam("tab_focus",Ne(on))},Or=Ge.DOM,Wn=function(on){on.keyCode===Be.TAB&&!on.ctrlKey&&!on.altKey&&!on.metaKey&&on.preventDefault()},Bt=function(on){var It=function(At){var Sn;if(!(At.keyCode!==Be.TAB||At.ctrlKey||At.altKey||At.metaKey||At.isDefaultPrevented())){var Xt=function(un){var tr=Or.select(":input:enabled,*[tabindex]:not(iframe)"),Me=function(en){var pn=en;return en.nodeName==="BODY"||pn.type!=="hidden"&&pn.style.display!=="none"&&pn.style.visibility!=="hidden"&&Me(en.parentNode)},Ft=function(en){return/INPUT|TEXTAREA|BUTTON/.test(en.tagName)&&Ae.get(At.id)&&en.tabIndex!==-1&&Me(en)};if(De.each(tr,function(en,pn){if(en.id===on.id)return Sn=pn,!1}),un>0){for(var xn=Sn+1;xn<tr.length;xn++)if(Ft(tr[xn]))return tr[xn]}else for(var xn=Sn-1;xn>=0;xn--)if(Ft(tr[xn]))return tr[xn];return null},fe=De.explode(ce(on));fe.length===1&&(fe[1]=fe[0],fe[0]=":prev");var X;if(At.shiftKey?fe[0]===":prev"?X=Xt(-1):X=Or.get(fe[0]):fe[1]===":next"?X=Xt(1):X=Or.get(fe[1]),X){var Yt=Ae.get(X.id||X.name);X.id&&Yt?Yt.focus():Ce.setTimeout(function(){cr.webkit||window.focus(),X.focus()},10),At.preventDefault()}}};on.on("init",function(){on.inline&&Or.setAttrib(on.getBody(),"tabIndex",null),on.on("keyup",Wn),cr.gecko?on.on("keypress keydown",It):on.on("keydown",It)})};function _n(){vr.add("tabfocus",function(on){Bt(on)})}_n()})();(function(){var vr=function(u){var l=typeof u;return u===null?"null":l==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":l==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":l},Ge=function(u){return function(l){return vr(l)===u}},Ae=function(u){return function(l){return typeof l===u}},cr=function(u){return function(l){return u===l}},Ce=Ge("string"),De=Ge("object"),Be=Ge("array"),Ne=cr(null),ce=Ae("boolean"),Or=cr(void 0),Wn=function(u){return u==null},Bt=function(u){return!Wn(u)},_n=Ae("function"),on=Ae("number"),It=function(){},At=function(u,l){return function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];return u(l.apply(null,m))}},Sn=function(u,l){return function(m){return u(l(m))}},Xt=function(u){return function(){return u}},fe=function(u){return u},X=function(u,l){return u===l};function Yt(u){for(var l=[],m=1;m<arguments.length;m++)l[m-1]=arguments[m];return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];var T=l.concat(h);return u.apply(null,T)}}var un=function(u){return function(l){return!u(l)}},tr=function(u){return function(){throw new Error(u)}},Me=Xt(!1),Ft=Xt(!0),xn=function(){return en},en=function(){var u=function(h){return h()},l=fe,m={fold:function(h,y){return h()},isSome:Me,isNone:Ft,getOr:l,getOrThunk:u,getOrDie:function(h){throw new Error(h||"error: getOrDie called on none.")},getOrNull:Xt(null),getOrUndefined:Xt(void 0),or:l,orThunk:u,map:xn,each:It,bind:xn,exists:Me,forall:Ft,filter:function(){return xn()},toArray:function(){return[]},toString:Xt("none()")};return m}(),pn=function(u){var l=Xt(u),m=function(){return y},h=function(T){return T(u)},y={fold:function(T,R){return R(u)},isSome:Ft,isNone:Me,getOr:l,getOrThunk:l,getOrDie:l,getOrNull:l,getOrUndefined:l,or:m,orThunk:m,map:function(T){return pn(T(u))},each:function(T){T(u)},bind:h,exists:h,forall:h,filter:function(T){return T(u)?y:en},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return y},J=function(u){return u==null?en:pn(u)},H={some:pn,none:xn,from:J},fn=Array.prototype.slice,Ke=Array.prototype.indexOf,Cn=Array.prototype.push,br=function(u,l){return Ke.call(u,l)},ar=function(u,l){return br(u,l)>-1},D=function(u,l){for(var m=0,h=u.length;m<h;m++){var y=u[m];if(l(y,m))return!0}return!1},Dn=function(u,l){for(var m=[],h=0;h<u;h++)m.push(l(h));return m},Lt=function(u,l){for(var m=u.length,h=new Array(m),y=0;y<m;y++){var T=u[y];h[y]=l(T,y)}return h},An=function(u,l){for(var m=0,h=u.length;m<h;m++){var y=u[m];l(y,m)}},$t=function(u,l){for(var m=u.length-1;m>=0;m--){var h=u[m];l(h,m)}},oe=function(u,l){for(var m=[],h=[],y=0,T=u.length;y<T;y++){var R=u[y],N=l(R,y)?m:h;N.push(R)}return{pass:m,fail:h}},Pn=function(u,l){for(var m=[],h=0,y=u.length;h<y;h++){var T=u[h];l(T,h)&&m.push(T)}return m},ie=function(u,l,m){return $t(u,function(h,y){m=l(m,h,y)}),m},K=function(u,l,m){return An(u,function(h,y){m=l(m,h,y)}),m},xr=function(u,l,m){for(var h=0,y=u.length;h<y;h++){var T=u[h];if(l(T,h))return H.some(T);if(m(T,h))break}return H.none()},Zt=function(u,l){return xr(u,l,Me)},Pt=function(u,l){for(var m=0,h=u.length;m<h;m++){var y=u[m];if(l(y,m))return H.some(m)}return H.none()},ye=function(u){for(var l=[],m=0,h=u.length;m<h;++m){if(!Be(u[m]))throw new Error("Arr.flatten item "+m+" was not an array, input: "+u);Cn.apply(l,u[m])}return l},Ot=function(u,l){return ye(Lt(u,l))},Dt=function(u,l){for(var m=0,h=u.length;m<h;++m){var y=u[m];if(l(y,m)!==!0)return!1}return!0},Qt=function(u){var l=fn.call(u,0);return l.reverse(),l},jn=function(u,l){for(var m={},h=0,y=u.length;h<y;h++){var T=u[h];m[String(T)]=l(T,h)}return m},nn=function(u){return[u]},kn=function(u,l){var m=fn.call(u,0);return m.sort(l),m},Ye=function(u,l){return l>=0&&l<u.length?H.some(u[l]):H.none()},pt=function(u){return Ye(u,0)},sn=function(u){return Ye(u,u.length-1)},le=function(u,l){for(var m=0;m<u.length;m++){var h=l(u[m],m);if(h.isSome())return h}return H.none()},zn=function(){return zn=Object.assign||function(u){for(var l,m=1,h=arguments.length;m<h;m++){l=arguments[m];for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(u[y]=l[y])}return u},zn.apply(this,arguments)};function Ue(u,l,m){if(m||arguments.length===2)for(var h=0,y=l.length,T;h<y;h++)(T||!(h in l))&&(T||(T=Array.prototype.slice.call(l,0,h)),T[h]=l[h]);return u.concat(T||Array.prototype.slice.call(l))}var er=function(u){var l=!1,m;return function(){for(var h=[],y=0;y<arguments.length;y++)h[y]=arguments[y];return l||(l=!0,m=u.apply(null,h)),m}},qr=function(u,l,m,h){var y=u.isiOS()&&/ipad/i.test(m)===!0,T=u.isiOS()&&!y,R=u.isiOS()||u.isAndroid(),N=R||h("(pointer:coarse)"),G=y||!T&&R&&h("(min-device-width:768px)"),at=T||R&&!G,yt=l.isSafari()&&u.isiOS()&&/safari/i.test(m)===!1,vn=!at&&!G&&!yt;return{isiPad:Xt(y),isiPhone:Xt(T),isTablet:Xt(G),isPhone:Xt(at),isTouch:Xt(N),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:Xt(yt),isDesktop:Xt(vn)}},ao=function(u,l){for(var m=0;m<u.length;m++){var h=u[m];if(h.test(l))return h}},ko=function(u,l){var m=ao(u,l);if(!m)return{major:0,minor:0};var h=function(y){return Number(l.replace(m,"$"+y))};return En(h(1),h(2))},Xn=function(u,l){var m=String(l).toLowerCase();return u.length===0?Jn():ko(u,m)},Jn=function(){return En(0,0)},En=function(u,l){return{major:u,minor:l}},zt={nu:En,detect:Xn,unknown:Jn},jt=function(u,l){return le(l.brands,function(m){var h=m.brand.toLowerCase();return Zt(u,function(y){var T;return h===((T=y.brand)===null||T===void 0?void 0:T.toLowerCase())}).map(function(y){return{current:y.name,version:zt.nu(parseInt(m.version,10),0)}})})},qn=function(u,l){var m=String(l).toLowerCase();return Zt(u,function(h){return h.search(m)})},xe=function(u,l){return qn(u,l).map(function(m){var h=zt.detect(m.versionRegexes,l);return{current:m.name,version:h}})},Qn=function(u,l){return qn(u,l).map(function(m){var h=zt.detect(m.versionRegexes,l);return{current:m.name,version:h}})},Mt=function(u,l){return u.substring(l)},Fn=function(u,l,m){return l===""||u.length>=l.length&&u.substr(m,m+l.length)===l},me=function(u,l){return Ie(u,l)?Mt(u,l.length):u},te=function(u,l){return u.indexOf(l)!==-1},Ie=function(u,l){return Fn(u,l,0)},ht=function(u,l){return Fn(u,l,u.length-l.length)},dn=function(u){return function(l){return l.replace(u,"")}},tn=dn(/^\s+|\s+$/g),Hn=function(u){return u.length>0},Pe=function(u){return!Hn(u)},Er=function(u){var l=parseFloat(u);return isNaN(l)?H.none():H.some(l)},Eo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_r=function(u){return function(l){return te(l,u)}},Rr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return te(u,"edge/")&&te(u,"chrome")&&te(u,"safari")&&te(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Eo],search:function(u){return te(u,"chrome")&&!te(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return te(u,"msie")||te(u,"trident")}},{name:"Opera",versionRegexes:[Eo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_r("firefox")},{name:"Safari",versionRegexes:[Eo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(te(u,"safari")||te(u,"mobile/"))&&te(u,"applewebkit")}}],Bo=[{name:"Windows",search:_r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return te(u,"iphone")||te(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_r("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_r("linux"),versionRegexes:[]},{name:"Solaris",search:_r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_r("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_r("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Mi={browsers:Xt(Rr),oses:Xt(Bo)},oi="Edge",Wo="Chrome",ci="IE",Fi="Opera",di="Firefox",ti="Safari",Li=function(){return Jr({current:void 0,version:zt.unknown()})},Jr=function(u){var l=u.current,m=u.version,h=function(y){return function(){return l===y}};return{current:l,version:m,isEdge:h(oi),isChrome:h(Wo),isIE:h(ci),isOpera:h(Fi),isFirefox:h(di),isSafari:h(ti)}},Ii={unknown:Li,nu:Jr,edge:Xt(oi),chrome:Xt(Wo),ie:Xt(ci),opera:Xt(Fi),firefox:Xt(di),safari:Xt(ti)},Ze="Windows",Na="iOS",Ei="Android",Wi="Linux",hi="OSX",Qi="Solaris",Pa="FreeBSD",Zi="ChromeOS",du=function(){return ot({current:void 0,version:zt.unknown()})},ot=function(u){var l=u.current,m=u.version,h=function(y){return function(){return l===y}};return{current:l,version:m,isWindows:h(Ze),isiOS:h(Na),isAndroid:h(Ei),isOSX:h(hi),isLinux:h(Wi),isSolaris:h(Qi),isFreeBSD:h(Pa),isChromeOS:h(Zi)}},xt={unknown:du,nu:ot,windows:Xt(Ze),ios:Xt(Na),android:Xt(Ei),linux:Xt(Wi),osx:Xt(hi),solaris:Xt(Qi),freebsd:Xt(Pa),chromeos:Xt(Zi)},st=function(u,l,m){var h=Mi.browsers(),y=Mi.oses(),T=l.bind(function(G){return jt(h,G)}).orThunk(function(){return xe(h,u)}).fold(Ii.unknown,Ii.nu),R=Qn(y,u).fold(xt.unknown,xt.nu),N=qr(R,T,u,m);return{browser:T,os:R,deviceType:N}},Gt={detect:st},pe=function(u){return window.matchMedia(u).matches},He=er(function(){return Gt.detect(navigator.userAgent,H.from(navigator.userAgentData),pe)}),nt=function(){return He()},dt=function(u,l,m){return(u.compareDocumentPosition(l)&m)!==0},Kt=function(u,l){return dt(u,l,Node.DOCUMENT_POSITION_CONTAINED_BY)},Tn=8,P=9,Y=11,ft=1,St=3,Ut=function(u,l){var m=l||document,h=m.createElement("div");if(h.innerHTML=u,!h.hasChildNodes()||h.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Ee(h.childNodes[0])},qt=function(u,l){var m=l||document,h=m.createElement(u);return Ee(h)},de=function(u,l){var m=l||document,h=m.createTextNode(u);return Ee(h)},Ee=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},fr=function(u,l,m){return H.from(u.dom.elementFromPoint(l,m)).map(Ee)},Jt={fromHtml:Ut,fromTag:qt,fromText:de,fromDom:Ee,fromPoint:fr},rr=function(u,l){var m=u.dom;if(m.nodeType!==ft)return!1;var h=m;if(h.matches!==void 0)return h.matches(l);if(h.msMatchesSelector!==void 0)return h.msMatchesSelector(l);if(h.webkitMatchesSelector!==void 0)return h.webkitMatchesSelector(l);if(h.mozMatchesSelector!==void 0)return h.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")},zr=function(u){return u.nodeType!==ft&&u.nodeType!==P&&u.nodeType!==Y||u.childElementCount===0},wo=function(u,l){var m=l===void 0?document:l.dom;return zr(m)?[]:Lt(m.querySelectorAll(u),Jt.fromDom)},mi=function(u,l){var m=l===void 0?document:l.dom;return zr(m)?H.none():H.from(m.querySelector(u)).map(Jt.fromDom)},jr=function(u,l){return u.dom===l.dom},Ou=function(u,l){var m=u.dom,h=l.dom;return m===h?!1:m.contains(h)},mu=function(u,l){return Kt(u.dom,l.dom)},si=function(u,l){return nt().browser.isIE()?mu(u,l):Ou(u,l)},vc=rr,ga=Object.keys,Oa=Object.hasOwnProperty,Lo=function(u,l){for(var m=ga(u),h=0,y=m.length;h<y;h++){var T=m[h],R=u[T];l(R,T)}},bc=function(u,l){return Fu(u,function(m,h){return{k:h,v:l(m,h)}})},Fu=function(u,l){var m={};return Lo(u,function(h,y){var T=l(h,y);m[T.k]=T.v}),m},tc=function(u){return function(l,m){u[m]=l}},Hc=function(u,l,m,h){var y={};return Lo(u,function(T,R){(l(T,R)?m:h)(T,R)}),y},Ea=function(u,l){var m={};return Hc(u,l,tc(m),It),m},Ya=function(u,l){var m=[];return Lo(u,function(h,y){m.push(l(h,y))}),m},Vc=function(u){return Ya(u,fe)},Fa=function(u){return ga(u).length},_a=function(u,l){return W(u,l)?H.from(u[l]):H.none()},W=function(u,l){return Oa.call(u,l)},bt=function(u,l){return W(u,l)&&u[l]!==void 0&&u[l]!==null},Vt=function(u){for(var l in u)if(Oa.call(u,l))return!1;return!0},Mn=["tfoot","thead","tbody","colgroup"],ae=function(u){return ar(Mn,u)},ur=function(u,l){return{rows:u,columns:l}},yo=function(u,l){return{row:u,column:l}},_o=function(u,l,m){return{element:u,rowspan:l,colspan:m}},Gr=function(u,l,m,h){return{element:u,rowspan:l,colspan:m,isNew:h}},Vo=function(u,l,m,h,y,T){return{element:u,rowspan:l,colspan:m,row:h,column:y,isLocked:T}},ni=function(u,l,m){return{element:u,cells:l,section:m}},Lu=function(u,l,m,h){return{element:u,cells:l,section:m,isNew:h}},qi=function(u,l,m){return{element:u,isNew:l,isLocked:m}},Eu=function(u,l,m,h){return{element:u,cells:l,section:m,isNew:h}},mr=function(u,l,m,h){return{startRow:u,startCol:l,finishRow:m,finishCol:h}},nc=function(u,l,m){return{element:u,colspan:l,column:m}},Ys=function(u,l){return{element:u,columns:l}};typeof window<"u"||Function("return this;")();var so=function(u){var l=u.dom.nodeName;return l.toLowerCase()},Ss=function(u){return u.dom.nodeType},ks=function(u){return function(l){return Ss(l)===u}},El=function(u){return Ss(u)===Tn||so(u)==="#comment"},zo=ks(ft),Qa=ks(St),cf=ks(P),gu=ks(Y),vi=function(u){return function(l){return zo(l)&&so(l)===u}},yc=function(u){return Jt.fromDom(u.dom.ownerDocument)},hn=function(u){return cf(u)?u:yc(u)},Uc=function(u){return Jt.fromDom(hn(u).dom.defaultView)},bi=function(u){return H.from(u.dom.parentNode).map(Jt.fromDom)},Qs=function(u){return H.from(u.dom.parentElement).map(Jt.fromDom)},ec=function(u,l){for(var m=_n(l)?l:Me,h=u.dom,y=[];h.parentNode!==null&&h.parentNode!==void 0;){var T=h.parentNode,R=Jt.fromDom(T);if(y.push(R),m(R)===!0)break;h=T}return y},B=function(u){return H.from(u.dom.previousSibling).map(Jt.fromDom)},k=function(u){return H.from(u.dom.nextSibling).map(Jt.fromDom)},x=function(u){return Lt(u.dom.childNodes,Jt.fromDom)},M=function(u,l){var m=u.dom.childNodes;return H.from(m[l]).map(Jt.fromDom)},U=function(u){return M(u,0)},rt=function(u){return gu(u)&&Bt(u.dom.host)},Rt=_n(Element.prototype.attachShadow)&&_n(Node.prototype.getRootNode),Ln=Xt(Rt),nr=Rt?function(u){return Jt.fromDom(u.dom.getRootNode())}:hn,gr=function(u){var l=nr(u);return rt(l)?H.some(l):H.none()},be=function(u){return Jt.fromDom(u.dom.host)},Xe=function(u){if(Ln()&&Bt(u.target)){var l=Jt.fromDom(u.target);if(zo(l)&&Ir(l)&&u.composed&&u.composedPath){var m=u.composedPath();if(m)return pt(m)}}return H.from(u.target)},Ir=function(u){return Bt(u.dom.shadowRoot)},Hr=function(u){var l=Qa(u)?u.dom.parentNode:u.dom;if(l==null||l.ownerDocument===null)return!1;var m=l.ownerDocument;return gr(Jt.fromDom(l)).fold(function(){return m.body.contains(l)},Sn(Hr,be))},Mr=function(){return Xo(Jt.fromDom(document))},Xo=function(u){var l=u.dom.body;if(l==null)throw new Error("Body is not available yet");return Jt.fromDom(l)},Cr=function(u,l,m){return Pn(ec(u,m),l)},No=function(u,l){return Pn(x(u),l)},Do=function(u,l){var m=[];return An(x(u),function(h){l(h)&&(m=m.concat([h])),m=m.concat(Do(h,l))}),m},pa=function(u,l,m){return Cr(u,function(h){return rr(h,l)},m)},Kr=function(u,l){return No(u,function(m){return rr(m,l)})},xc=function(u,l){return wo(l,u)};function yi(u,l,m,h,y){return u(m,h)?H.some(m):_n(y)&&y(m)?H.none():l(m,h,y)}var _i=function(u,l,m){for(var h=u.dom,y=_n(m)?m:Me;h.parentNode;){h=h.parentNode;var T=Jt.fromDom(h);if(l(T))return H.some(T);if(y(T))break}return H.none()},bv=function(u,l,m){var h=function(y,T){return T(y)};return yi(h,_i,u,l,m)},La=function(u,l){var m=function(y){return l(Jt.fromDom(y))},h=Zt(u.dom.childNodes,m);return h.map(Jt.fromDom)},Dp=function(u,l){var m=function(h){for(var y=0;y<h.childNodes.length;y++){var T=Jt.fromDom(h.childNodes[y]);if(l(T))return H.some(T);var R=m(h.childNodes[y]);if(R.isSome())return R}return H.none()};return m(u.dom)},Ts=function(u,l,m){return _i(u,function(h){return rr(h,l)},m)},Br=function(u,l){return La(u,function(m){return rr(m,l)})},wc=function(u,l){return mi(l,u)},Ri=function(u,l,m){var h=function(y,T){return rr(y,T)};return yi(h,Ts,u,l,m)},Ai=function(u,l,m){if(Ce(m)||ce(m)||on(m))u.setAttribute(l,m+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",m,":: Element ",u),new Error("Attribute value was not simple")},ha=function(u,l,m){Ai(u.dom,l,m)},ta=function(u,l){var m=u.dom;Lo(l,function(h,y){Ai(m,y,h)})},sf=function(u,l){Lo(l,function(m,h){m.fold(function(){li(u,h)},function(y){Ai(u.dom,h,y)})})},$c=function(u,l){var m=u.dom.getAttribute(l);return m===null?void 0:m},Mo=function(u,l){return H.from($c(u,l))},li=function(u,l){u.dom.removeAttribute(l)},_u=function(u){return K(u.dom.attributes,function(l,m){return l[m.name]=m.value,l},{})},Zs=function(u,l,m){return m===void 0&&(m=X),u.exists(function(h){return m(h,l)})},ua=function(u){for(var l=[],m=function(y){l.push(y)},h=0;h<u.length;h++)u[h].each(m);return l},Cc=function(u,l,m){return u.isSome()&&l.isSome()?H.some(m(u.getOrDie(),l.getOrDie())):H.none()},yv=function(u,l){return u!=null?l(u):H.none()},lf=function(u){return u.bind(fe)},Jo=function(u,l){return u?H.some(l):H.none()},es=function(u){return u.style!==void 0&&_n(u.style.getPropertyValue)},_l=function(u,l,m){if(!Ce(m))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",m,":: Element ",u),new Error("CSS value must be a string: "+m);es(u)&&u.style.setProperty(l,m)},Iu=function(u,l){es(u)&&u.style.removeProperty(l)},Hi=function(u,l,m){var h=u.dom;_l(h,l,m)},Dl=function(u,l){var m=u.dom;Lo(l,function(h,y){_l(m,y,h)})},tl=function(u,l){var m=u.dom,h=window.getComputedStyle(m),y=h.getPropertyValue(l);return y===""&&!Hr(u)?pu(m,l):y},pu=function(u,l){return es(u)?u.style.getPropertyValue(l):""},Hu=function(u,l){var m=u.dom,h=pu(m,l);return H.from(h).filter(function(y){return y.length>0})},Za=function(u,l){var m=u.dom;Iu(m,l),Zs(Mo(u,"style").map(tn),"")&&li(u,"style")},Qf=function(u,l){var m=u.dom,h=l.dom;es(m)&&es(h)&&(h.style.cssText=m.style.cssText)},rs=function(u,l,m){return m===void 0&&(m=0),Mo(u,l).map(function(h){return parseInt(h,10)}).getOr(m)},va=function(u,l){return rs(u,l,1)},Zd=function(u){return vi("col")(u)?rs(u,"span",1)>1:va(u,"colspan")>1},xv=function(u){return va(u,"rowspan")>1},ff=function(u,l){return parseInt(tl(u,l),10)},df=Xt(10),Vi=Xt(10),mf=function(u,l){return gf(u,l,Ft)},gf=function(u,l,m){return Ot(x(u),function(h){return rr(h,l)?m(h)?[h]:[]:gf(h,l,m)})},hu=function(u,l,m){if(m===void 0&&(m=Me),m(l))return H.none();if(ar(u,so(l)))return H.some(l);var h=function(y){return rr(y,"table")||m(y)};return Ts(l,u.join(","),h)},nl=function(u,l){return hu(["td","th"],u,l)},pf=function(u){return mf(u,"th,td")},el=function(u){return rr(u,"colgroup")?Kr(u,"col"):Ot(lg(u),function(l){return Kr(l,"col")})},wi=function(u,l){return Ri(u,"table",l)},rc=function(u){return mf(u,"tr")},lg=function(u){return wi(u).fold(Xt([]),function(l){return Kr(l,"colgroup")})},Sc=function(u,l){return Lt(u,function(m){if(so(m)==="colgroup"){var h=Lt(el(m),function(y){var T=rs(y,"span",1);return _o(y,1,T)});return ni(m,h,"colgroup")}else{var h=Lt(pf(m),function(T){var R=rs(T,"rowspan",1),N=rs(T,"colspan",1);return _o(T,R,N)});return ni(m,h,l(m))}})},fg=function(u){return bi(u).map(function(l){var m=so(l);return ae(m)?m:"tbody"}).getOr("tbody")},wv=function(u){var l=rc(u),m=lg(u),h=Ue(Ue([],m,!0),l,!0);return Sc(h,fg)},Mp=function(u,l){return Sc(u,function(){return l})},hf=function(u,l,m){var h=u.cells,y=h.slice(0,l),T=h.slice(l),R=y.concat(m).concat(T);return Fr(u,R)},vf=function(u,l,m){return hf(u,l,[m])},Ml=function(u,l,m){var h=u.cells;h[l]=m},Fr=function(u,l){return Eu(u.element,l,u.section,u.isNew)},jc=function(u,l){var m=u.cells,h=Lt(m,l);return Eu(u.element,h,u.section,u.isNew)},Vu=function(u,l){return u.cells[l]},vu=function(u,l){return Vu(u,l).element},Wc=function(u){return u.cells.length},Gi=function(u){var l=oe(u,function(m){return m.section==="colgroup"});return{rows:l.fail,cols:l.pass}},ba=function(u,l,m){var h=Lt(u.cells,m);return Eu(l(u.element),h,u.section,!0)},na="data-snooker-locked-cols",Rl=function(u){return Mo(u,na).bind(function(l){return H.from(l.match(/\d+/g))}).map(function(l){return jn(l,Ft)})},tu=function(u){var l=K(Gi(u).rows,function(h,y){return An(y.cells,function(T,R){T.isLocked&&(h[R]=!0)}),h},{}),m=Ya(l,function(h,y){return parseInt(y,10)});return kn(m)},je=function(u,l){return u+","+l},bf=function(u,l,m){return H.from(u.access[je(l,m)])},Rp=function(u,l,m){var h=Yr(u,function(y){return m(l,y.element)});return h.length>0?H.some(h[0]):H.none()},Yr=function(u,l){var m=Ot(u.all,function(h){return h.cells});return Pn(m,l)},Yo=function(u){var l={},m=0;return An(u.cells,function(h){var y=h.colspan;Dn(y,function(T){var R=m+T;l[R]=nc(h.element,y,R)}),m+=y}),l},dg=function(u){var l={},m=[],h=pt(u).map(function(ve){return ve.element}).bind(wi),y=h.bind(Rl).getOr({}),T=0,R=0,N=0,G=oe(u,function(ve){return ve.section==="colgroup"}),at=G.pass,yt=G.fail;An(yt,function(ve){var he=[];An(ve.cells,function(sr){for(var Co=0;l[je(N,Co)]!==void 0;)Co++;for(var yr=bt(y,Co.toString()),Pr=Vo(sr.element,sr.rowspan,sr.colspan,N,Co,yr),mo=0;mo<sr.colspan;mo++)for(var eo=0;eo<sr.rowspan;eo++){var $i=N+eo,Aa=Co+mo,Nu=je($i,Aa);l[Nu]=Pr,R=Math.max(R,Aa+1)}he.push(Pr)}),T++,m.push(ni(ve.element,he,ve.section)),N++});var vn=sn(at).map(function(ve){var he=Yo(ve),sr=Ys(ve.element,Vc(he));return{colgroups:[sr],columns:he}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),ne=vn.columns,In=vn.colgroups,bn=ur(T,R);return{grid:bn,access:l,all:m,columns:ne,colgroups:In}},Os=function(u){var l=wv(u);return dg(l)},xi=function(u){return Ot(u.all,function(l){return l.cells})},mg=function(u){return Vc(u.columns)},oc=function(u){return ga(u.columns).length>0},tm=function(u,l){return H.from(u.columns[l])},to={fromTable:Os,generate:dg,getAt:bf,findItem:Rp,filterItems:Yr,justCells:xi,justColumns:mg,hasColumns:oc,getColumnAt:tm},Du=function(u,l){var m=l.column,h=l.column+l.colspan-1,y=l.row,T=l.row+l.rowspan-1;return m<=u.finishCol&&h>=u.startCol&&y<=u.finishRow&&T>=u.startRow},U0=function(u,l){return l.column>=u.startCol&&l.column+l.colspan-1<=u.finishCol&&l.row>=u.startRow&&l.row+l.rowspan-1<=u.finishRow},$0=function(u,l){for(var m=!0,h=Yt(U0,l),y=l.startRow;y<=l.finishRow;y++)for(var T=l.startCol;T<=l.finishCol;T++)m=m&&to.getAt(u,y,T).exists(h);return m?H.some(l):H.none()},Ci=function(u,l){return mr(Math.min(u.row,l.row),Math.min(u.column,l.column),Math.max(u.row+u.rowspan-1,l.row+l.rowspan-1),Math.max(u.column+u.colspan-1,l.column+l.colspan-1))},gg=function(u,l,m){var h=to.findItem(u,l,jr),y=to.findItem(u,m,jr);return h.bind(function(T){return y.map(function(R){return Ci(T,R)})})},E=function(u,l,m){return gg(u,l,m).bind(function(h){return $0(u,h)})},L=function(u,l,m,h){return to.findItem(u,l,jr).bind(function(y){var T=m>0?y.row+y.rowspan-1:y.row,R=h>0?y.column+y.colspan-1:y.column,N=to.getAt(u,T+m,R+h);return N.map(function(G){return G.element})})},j=function(u,l,m){return gg(u,l,m).map(function(h){var y=to.filterItems(u,Yt(Du,h));return Lt(y,function(T){return T.element})})},ct=function(u,l){var m=function(h,y){return si(y,h)};return to.findItem(u,l,m).map(function(h){return h.element})},Nt=function(u,l,m){return wi(u).bind(function(h){var y=lo(h);return L(y,u,l,m)})},On=function(u,l,m){var h=lo(u);return j(h,l,m)},ir=function(u,l,m,h,y){var T=lo(u),R=jr(u,m)?H.some(l):ct(T,l),N=jr(u,y)?H.some(h):ct(T,h);return R.bind(function(G){return N.bind(function(at){return j(T,G,at)})})},Vr=function(u,l,m){var h=lo(u);return E(h,l,m)},lo=to.fromTable,no=function(u,l){var m=bi(u);m.each(function(h){h.dom.insertBefore(l.dom,u.dom)})},ei=function(u,l){var m=k(u);m.fold(function(){var h=bi(u);h.each(function(y){Bi(y,l)})},function(h){no(h,l)})},nu=function(u,l){var m=U(u);m.fold(function(){Bi(u,l)},function(h){u.dom.insertBefore(l.dom,h.dom)})},Bi=function(u,l){u.dom.appendChild(l.dom)},mk=function(u,l,m){M(u,m).fold(function(){Bi(u,l)},function(h){no(h,l)})},rx=function(u,l){no(u,l),Bi(l,u)},ox=function(u,l){An(l,function(m){no(u,m)})},gk=function(u,l){An(l,function(m,h){var y=h===0?u:l[h-1];ei(y,m)})},rl=function(u,l){An(l,function(m){Bi(u,m)})},Ap=function(u){u.dom.textContent="",An(x(u),function(l){ic(l)})},ic=function(u){var l=u.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},pg=function(u){var l=x(u);l.length>0&&ox(u,l),ic(u)},j0=function(u,l){var m=function(T){if(!u(T))throw new Error("Can only get "+l+" value of a "+l+" node");return h(T).getOr("")},h=function(T){return u(T)?H.from(T.dom.nodeValue):H.none()},y=function(T,R){if(!u(T))throw new Error("Can only set raw "+l+" value of a "+l+" node");T.dom.nodeValue=R};return{get:m,getOption:h,set:y}},Bp=j0(Qa,"text"),Cv=function(u){return Bp.get(u)},ix=function(u){return Bp.getOption(u)},pk=function(u,l){return Bp.set(u,l)},ol=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function zp(){var u=function(at){return Jt.fromDom(at.dom.cloneNode(!1))},l=function(at){return hn(at).dom},m=function(at){return zo(at)?so(at)==="body"?!0:ar(ol,so(at)):!1},h=function(at){return zo(at)?ar(["br","img","hr","input"],so(at)):!1},y=function(at){return zo(at)&&$c(at,"contenteditable")==="false"},T=function(at,yt){return at.dom.compareDocumentPosition(yt.dom)},R=function(at,yt){var vn=_u(at);ta(yt,vn)},N=function(at){var yt=so(at);return ar(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],yt)},G=function(at){return zo(at)?Mo(at,"lang"):H.none()};return{up:Xt({selector:Ts,closest:Ri,predicate:_i,all:ec}),down:Xt({selector:xc,predicate:Do}),styles:Xt({get:tl,getRaw:Hu,set:Hi,remove:Za}),attrs:Xt({get:$c,set:ha,remove:li,copyTo:R}),insert:Xt({before:no,after:ei,afterAll:gk,append:Bi,appendAll:rl,prepend:nu,wrap:rx}),remove:Xt({unwrap:pg,remove:ic}),create:Xt({nu:Jt.fromTag,clone:u,text:Jt.fromText}),query:Xt({comparePosition:T,prevSibling:B,nextSibling:k}),property:Xt({children:x,name:so,parent:bi,document:l,isText:Qa,isComment:El,isElement:zo,isSpecial:N,getLanguage:G,getText:Cv,setText:pk,isBoundary:m,isEmptyTag:h,isNonEditable:y}),eq:jr,is:vc}}var hk=function(u,l,m,h){var y=m[0],T=m.slice(1);return h(u,l,y,T)},W0=function(u,l,m){return m.length>0?hk(u,l,m,vk):H.none()},vk=function(u,l,m,h){var y=l(u,m);return ie(h,function(T,R){var N=l(u,R);return bk(u,T,N)},y)},bk=function(u,l,m){return l.bind(function(h){return m.filter(Yt(u.eq,h))})},hg=function(u,l){return Yt(u.eq,l)},Np=function(u,l,m,h){h===void 0&&(h=Me);var y=[l].concat(u.up().all(l)),T=[m].concat(u.up().all(m)),R=function(yt){var vn=Pt(yt,h);return vn.fold(function(){return yt},function(ne){return yt.slice(0,ne+1)})},N=R(y),G=R(T),at=Zt(N,function(yt){return D(G,hg(u,yt))});return{firstpath:N,secondpath:G,shared:at}},ax=W0,ux=Np,kc=zp(),dr=function(u,l){return ax(kc,function(m,h){return u(h)},l)},yf=function(u,l,m){return ux(kc,u,l,m)},Pp=function(u){return Ts(u,"table")},Zf=function(u,l,m){var h=function(y){return function(T){return m!==void 0&&m(T)||jr(T,y)}};return jr(u,l)?H.some({boxes:H.some([u]),start:u,finish:l}):Pp(u).bind(function(y){return Pp(l).bind(function(T){if(jr(y,T))return H.some({boxes:On(y,u,l),start:u,finish:l});if(si(y,T)){var R=pa(l,"td,th",h(y)),N=R.length>0?R[R.length-1]:l;return H.some({boxes:ir(y,u,y,l,T),start:u,finish:N})}else if(si(T,y)){var R=pa(u,"td,th",h(T)),G=R.length>0?R[R.length-1]:u;return H.some({boxes:ir(T,u,y,l,T),start:u,finish:G})}else return yf(u,l).shared.bind(function(at){return Ri(at,"table",m).bind(function(yt){var vn=pa(l,"td,th",h(yt)),ne=vn.length>0?vn[vn.length-1]:l,In=pa(u,"td,th",h(yt)),bn=In.length>0?In[In.length-1]:u;return H.some({boxes:ir(yt,u,y,l,T),start:bn,finish:ne})})})})})},vg=function(u,l){var m=xc(u,l);return m.length>0?H.some(m):H.none()},q0=function(u,l){return Zt(u,function(m){return rr(m,l)})},Es=function(u,l,m){return wc(u,l).bind(function(h){return wc(u,m).bind(function(y){return dr(Pp,[h,y]).map(function(T){return{first:h,last:y,table:T}})})})},nm=function(u,l){return Ts(u,"table").bind(function(m){return wc(m,l).bind(function(h){return Zf(h,u).bind(function(y){return y.boxes.map(function(T){return{boxes:T,start:y.start,finish:y.finish}})})})})},bg=function(u,l,m,h,y){return q0(u,y).bind(function(T){return Nt(T,l,m).bind(function(R){return nm(R,h)})})},Ki=function(u,l){return vg(u,l)},Ia=function(u,l,m){return Es(u,l,m).bind(function(h){var y=function(G){return jr(u,G)},T="thead,tfoot,tbody,table",R=Ts(h.first,T,y),N=Ts(h.last,T,y);return R.bind(function(G){return N.bind(function(at){return jr(G,at)?Vr(h.table,h.first,h.last):H.none()})})})},Fp=function(u){if(!Be(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var l=[],m={};return An(u,function(h,y){var T=ga(h);if(T.length!==1)throw new Error("one and only one name per case");var R=T[0],N=h[R];if(m[R]!==void 0)throw new Error("duplicate key detected:"+R);if(R==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Be(N))throw new Error("case arguments must be an array");l.push(R),m[R]=function(){for(var G=[],at=0;at<arguments.length;at++)G[at]=arguments[at];var yt=G.length;if(yt!==N.length)throw new Error("Wrong number of arguments to case "+R+". Expected "+N.length+" ("+N+"), got "+yt);var vn=function(ne){var In=ga(ne);if(l.length!==In.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+In.join(","));var bn=Dt(l,function(ve){return ar(In,ve)});if(!bn)throw new Error("Not all branches were specified when using match. Specified: "+In.join(", ")+`
Required: `+l.join(", "));return ne[R].apply(null,G)};return{fold:function(){for(var ne=[],In=0;In<arguments.length;In++)ne[In]=arguments[In];if(ne.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+ne.length);var bn=ne[y];return bn.apply(null,G)},match:vn,log:function(ne){console.log(ne,{constructors:l,constructor:R,params:G})}}}}),m},Al={generate:Fp},Lp=Al.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Sv=function(u,l,m,h){return u.fold(l,m,h)},kv=Lp.none,yk=Lp.multiple,yg=Lp.single,bu=function(u,l,m){var h=function(){return Ki(u(),m).fold(function(){return l().fold(kv,yg)},function(y){return yk(y)})};return{get:h}},cx=tinymce.util.Tools.resolve("tinymce.PluginManager"),Di=function(u,l){return Jt.fromDom(u.dom.cloneNode(l))},_s=function(u){return Di(u,!1)},Io=function(u){return Di(u,!0)},td=function(u,l){var m=Jt.fromTag(l),h=_u(u);return ta(m,h),m},os=function(u,l){var m=td(u,l),h=x(Io(u));return rl(m,h),m},xk=function(u,l){var m=td(u,l);no(u,m);var h=x(u);return rl(m,h),ic(u),m},ya=function(u,l){var m=function(N,G){if(!on(G)&&!G.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+G);var at=N.dom;es(at)&&(at.style[u]=G+"px")},h=function(N){var G=l(N);if(G<=0||G===null){var at=tl(N,u);return parseFloat(at)||0}return G},y=h,T=function(N,G){return K(G,function(at,yt){var vn=tl(N,yt),ne=vn===void 0?0:parseInt(vn,10);return isNaN(ne)?at:at+ne},0)},R=function(N,G,at){var yt=T(N,at),vn=G>yt?G-yt:0;return vn};return{set:m,get:h,getOuter:y,aggregate:T,max:R}},Uu=function(){var u=nt().browser;return u.isIE()||u.isEdge()},sx=function(u,l){return Er(u).getOr(l)},Nn=function(u,l,m){return sx(tl(u,l),m)},ac=function(u){return tl(u,"box-sizing")},xf=function(u,l,m,h){var y=Nn(u,"padding-"+m,0),T=Nn(u,"padding-"+h,0),R=Nn(u,"border-"+m+"-width",0),N=Nn(u,"border-"+h+"-width",0);return l-y-T-R-N},Lr=function(u,l){var m=u.dom,h=m.getBoundingClientRect().height||m.offsetHeight;return l==="border-box"?h:xf(u,h,"top","bottom")},qc=function(u,l){var m=u.dom,h=m.getBoundingClientRect().width||m.offsetWidth;return l==="border-box"?h:xf(u,h,"left","right")},wk=function(u){return Uu()?Lr(u,ac(u)):Nn(u,"height",u.dom.offsetHeight)},Mu=function(u){return Uu()?qc(u,ac(u)):Nn(u,"width",u.dom.offsetWidth)},xg=function(u){return qc(u,"content-box")},Bl=ya("width",function(u){return u.dom.offsetWidth}),Ds=function(u){return Bl.get(u)},yu=function(u){return Bl.getOuter(u)},Ro=xg,il=Mu,em=function(u,l){l===void 0&&(l=Ft);var m=u.grid,h=Dn(m.columns,fe),y=Dn(m.rows,fe);return Lt(h,function(T){var R=function(){return Ot(y,function(at){return to.getAt(u,at,T).filter(function(yt){return yt.column===T}).toArray()})},N=function(at){return at.colspan===1&&l(at.element)},G=function(){return to.getAt(u,0,T)};return ii(R,N,G)})},ii=function(u,l,m){var h=u(),y=Zt(h,l),T=y.orThunk(function(){return H.from(h[0]).orThunk(m)});return T.map(function(R){return R.element})},nd=function(u){var l=u.grid,m=Dn(l.rows,fe),h=Dn(l.columns,fe);return Lt(m,function(y){var T=function(){return Ot(h,function(G){return to.getAt(u,y,G).filter(function(at){return at.row===y}).fold(Xt([]),function(at){return[at]})})},R=function(G){return G.rowspan===1},N=function(){return to.getAt(u,y,0)};return ii(T,R,N)})},Tc=function(u,l){if(l<0||l>=u.length-1)return H.none();var m=u[l].fold(function(){var y=Qt(u.slice(0,l));return le(y,function(T,R){return T.map(function(N){return{value:N,delta:R+1}})})},function(y){return H.some({value:y,delta:0})}),h=u[l+1].fold(function(){var y=u.slice(l+1);return le(y,function(T,R){return T.map(function(N){return{value:N,delta:R+1}})})},function(y){return H.some({value:y,delta:1})});return m.bind(function(y){return h.map(function(T){var R=T.delta+y.delta;return Math.abs(T.value-y.value)/R})})},Oc=function(u,l){return function(m){return Ck(m)==="rtl"?l:u}},Ck=function(u){return tl(u,"direction")==="rtl"?"rtl":"ltr"},Et=ya("height",function(u){var l=u.dom;return Hr(u)?l.getBoundingClientRect().height:l.offsetHeight}),$u=function(u){return Et.get(u)},al=function(u){return Et.getOuter(u)},wg=wk,Gc=function(u,l){var m=function(h,y){return Gc(u+h,l+y)};return{left:u,top:l,translate:m}},Qo=Gc,ai=function(u){var l=u.getBoundingClientRect();return Qo(l.left,l.top)},uc=function(u,l){return u!==void 0?u:l!==void 0?l:0},wf=function(u){var l=u.dom.ownerDocument,m=l.body,h=l.defaultView,y=l.documentElement;if(m===u.dom)return Qo(m.offsetLeft,m.offsetTop);var T=uc(h==null?void 0:h.pageYOffset,y.scrollTop),R=uc(h==null?void 0:h.pageXOffset,y.scrollLeft),N=uc(y.clientTop,m.clientTop),G=uc(y.clientLeft,m.clientLeft);return G0(u).translate(R-G,T-N)},G0=function(u){var l=u.dom,m=l.ownerDocument,h=m.body;return h===l?Qo(h.offsetLeft,h.offsetTop):Hr(u)?ai(l):Qo(0,0)},wr=function(u,l){return{row:u,y:l}},Tv=function(u,l){return{col:u,x:l}},Kc=function(u){var l=wf(u);return l.left+yu(u)},lx=function(u){return wf(u).left},Ip=function(u,l){return Tv(u,lx(l))},Hp=function(u,l){return Tv(u,Kc(l))},K0=function(u){return wf(u).top},X0=function(u,l){return wr(u,K0(l))},zl=function(u,l){return wr(u,K0(l)+al(l))},Cf=function(u,l,m){if(m.length===0)return[];var h=Lt(m.slice(1),function(T,R){return T.map(function(N){return u(R,N)})}),y=m[m.length-1].map(function(T){return l(m.length-1,T)});return h.concat([y])},Sk=function(u){return-u},J0={delta:fe,positions:function(u){return Cf(X0,zl,u)},edge:K0},kk={delta:fe,edge:lx,positions:function(u){return Cf(Ip,Hp,u)}},fx={delta:Sk,edge:Kc,positions:function(u){return Cf(Hp,Ip,u)}},Vp=Oc(kk,fx),Cg={delta:function(u,l){return Vp(l).delta(u,l)},positions:function(u,l){return Vp(l).positions(u,l)},edge:function(u){return Vp(u).edge(u)}},dx={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Nl=function(){var u="[0-9]+",l="[+-]?"+u,m="[eE]"+l,h="\\.",y=function(N){return"(?:"+N+")?"},T=["Infinity",u+h+y(u)+y(m),h+u+y(m),u+y(m)].join("|"),R="[+-]?(?:"+T+")";return new RegExp("^("+R+")(.*)$")}(),Sg=function(u,l){return D(l,function(m){return D(dx[m],function(h){return u===h})})},Y0=function(u,l){var m=H.from(Nl.exec(u));return m.bind(function(h){var y=Number(h[1]),T=h[2];return Sg(T,l)?H.some({value:y,unit:T}):H.none()})},mx=/(\d+(\.\d+)?)%/,Tk=/(\d+(\.\d+)?)px|em/,Ok=vi("col"),ca=function(u,l,m){var h=Qs(u).getOrThunk(function(){return Xo(yc(u))});return l(u)/m(h)*100},Pl=function(u,l){Hi(u,"width",l+"px")},Ms=function(u,l){Hi(u,"width",l+"%")},ed=function(u,l){Hi(u,"height",l+"px")},gx=function(u){return wg(u)+"px"},Rs=function(u,l,m,h){var y=wi(u).map(function(T){var R=m(T);return Math.floor(l/100*R)}).getOr(l);return h(u,y),y},rm=function(u,l,m,h){var y=parseFloat(u);return ht(u,"%")&&so(l)!=="table"?Rs(l,y,m,h):y},Q0=function(u){var l=gx(u);return l?rm(l,u,$u,ed):$u(u)},Z0=function(u,l,m){var h=m(u),y=va(u,l);return h/y},Sf=function(u,l){return Hu(u,l).orThunk(function(){return Mo(u,l).map(function(m){return m+"px"})})},is=function(u){return Sf(u,"width")},eu=function(u){return Sf(u,"height")},Ov=function(u){return ca(u,Ds,Ro)},tb=function(u){return Ok(u)?Ds(u):il(u)},om=function(u){return Z0(u,"rowspan",Q0)},kg=function(u){var l=is(u);return l.bind(function(m){return Y0(m,["fixed","relative","empty"])})},Tg=function(u,l,m){Hi(u,"width",l+m)},Ek=function(u){return Ds(u)+"px"},Og=function(u){return ca(u,Ds,Ro)+"%"},nb=function(u){return is(u).exists(function(l){return mx.test(l)})},_k=function(u){return is(u).exists(function(l){return Tk.test(l)})},zi=function(u){return is(u).isNone()},Ev=Xt(mx),rd=vi("col"),eb=function(u){return is(u).getOrThunk(function(){return tb(u)+"px"})},rb=function(u){return eu(u).getOrThunk(function(){return om(u)+"px"})},as=function(u){return Lt(to.justColumns(u),function(l){return H.from(l.element)})},Xc=function(u){var l=nt().browser,m=l.isChrome()||l.isFirefox();return rd(u)?m:!0},im=function(u,l,m,h,y,T){return u.filter(h).fold(function(){return T(Tc(m,l))},function(R){return y(R)})},od=function(u,l,m,h){var y=em(u),T=to.hasColumns(u)?as(u):y,R=[H.some(Cg.edge(l))].concat(Lt(Cg.positions(y,l),function(G){return G.map(function(at){return at.x})})),N=un(Zd);return Lt(T,function(G,at){return im(G,at,R,N,function(yt){if(Xc(yt))return m(yt);var vn=yv(y[at],fe);return im(vn,at,R,N,function(ne){return h(H.some(Ds(ne)))},h)},h)})},_v=function(u){return u.map(function(l){return l+"px"}).getOr("")},Up=function(u,l){return od(u,l,eb,_v)},ob=function(u,l,m){return od(u,l,Ov,function(h){return h.fold(function(){return m.minCellWidth()},function(y){return y/m.pixelWidth()*100})})},am=function(u,l,m){return od(u,l,tb,function(h){return h.getOrThunk(m.minCellWidth)})},Dv=function(u,l,m,h,y){var T=nd(u),R=[H.some(m.edge(l))].concat(Lt(m.positions(T,l),function(N){return N.map(function(G){return G.y})}));return Lt(T,function(N,G){return im(N,G,R,un(xv),h,y)})},Dk=function(u,l,m){return Dv(u,l,m,om,function(h){return h.getOrThunk(Vi)})},ib=function(u,l,m){return Dv(u,l,m,rb,_v)},Jc=function(u,l){return function(){return Hr(u)?l(u):parseFloat(Hu(u,"width").getOr("0"))}},Ec=function(u){var l=Jc(u,Ds),m=Xt(0),h=function(y,T){return am(y,u,T)};return{width:l,pixelWidth:l,getWidths:h,getCellDelta:m,singleColumnWidth:Xt([0]),minCellWidth:m,setElementWidth:It,adjustTableWidth:It,isRelative:!0,label:"none"}},Eg=function(u){var l=Jc(u,function(G){return parseFloat(Og(G))}),m=Jc(u,Ds),h=function(G){return G/m()*100},y=function(G,at){return[100-G]},T=function(){return df()/m()*100},R=function(G){var at=l(),yt=G/100*at,vn=at+yt;Ms(u,vn)},N=function(G,at){return ob(G,u,at)};return{width:l,pixelWidth:m,getWidths:N,getCellDelta:h,singleColumnWidth:y,minCellWidth:T,setElementWidth:Ms,adjustTableWidth:R,isRelative:!0,label:"percent"}},As=function(u){var l=Jc(u,Ds),m=fe,h=function(R,N){var G=Math.max(df(),R+N);return[G-R]},y=function(R){var N=l()+R;Pl(u,N)},T=function(R,N){return am(R,u,N)};return{width:l,pixelWidth:l,getWidths:T,getCellDelta:m,singleColumnWidth:h,minCellWidth:df,setElementWidth:Pl,adjustTableWidth:y,isRelative:!1,label:"pixel"}},Ru=function(u,l){var m=Ev().exec(l);return m!==null?Eg(u):As(u)},Mv=function(u){var l=is(u);return l.fold(function(){return Ec(u)},function(m){return Ru(u,m)})},kf={getTableSize:Mv,pixelSize:As,percentageSize:Eg,noneSize:Ec},px=function(u,l,m,h,y,T){return{minRow:u,minCol:l,maxRow:m,maxCol:h,allCells:y,selectedCells:T}},ru=function(u,l){var m=u.grid.columns,h=u.grid.rows,y=h,T=m,R=0,N=0,G=[],at=[];return Lo(u.access,function(yt){if(G.push(yt),l(yt)){at.push(yt);var vn=yt.row,ne=vn+yt.rowspan-1,In=yt.column,bn=In+yt.colspan-1;vn<y?y=vn:ne>R&&(R=ne),In<T?T=In:bn>N&&(N=bn)}}),px(y,T,R,N,G,at)},hx=function(u,l,m){var h=u[m].element,y=Jt.fromTag("td");Bi(y,Jt.fromTag("br"));var T=l?Bi:nu;T(h,y)},$p=function(u,l,m,h){for(var y=l.grid.columns,T=l.grid.rows,R=0;R<T;R++)for(var N=!1,G=0;G<y;G++)if(!(R<m.minRow||R>m.maxRow||G<m.minCol||G>m.maxCol)){var at=to.getAt(l,R,G).filter(h).isNone();at?hx(u,N,R):N=!0}},uo=function(u,l,m,h){Lo(m.columns,function(R){(R.column<l.minCol||R.column>l.maxCol)&&ic(R.element)});var y=Pn(mf(u,"tr"),function(R){return R.dom.childElementCount===0});An(y,ic),(l.minCol===l.maxCol||l.minRow===l.maxRow)&&An(mf(u,"th,td"),function(R){li(R,"rowspan"),li(R,"colspan")}),li(u,na),li(u,"data-snooker-col-series");var T=kf.getTableSize(u);T.adjustTableWidth(h)},Sr=function(u,l,m,h){if(h.minCol===0&&l.grid.columns===h.maxCol+1)return 0;var y=am(l,u,m),T=K(y,function(at,yt){return at+yt},0),R=K(y.slice(h.minCol,h.maxCol+1),function(at,yt){return at+yt},0),N=R/T*m.pixelWidth(),G=N-m.pixelWidth();return m.getCellDelta(G)},Tf=function(u,l){var m=function(ne){return rr(ne.element,l)},h=Io(u),y=wv(h),T=kf.getTableSize(u),R=to.generate(y),N=ru(R,m),G="th:not("+l+"),td:not("+l+")",at=gf(h,"th,td",function(ne){return rr(ne,G)});An(at,ic),$p(y,R,N,m);var yt=to.fromTable(u),vn=Sr(u,yt,T,N);return uo(h,N,R,vn),h},ab=" ",Bs=function(u){return so(u)==="img"?1:ix(u).fold(function(){return x(u).length},function(l){return l.length})},vx=function(u){return ix(u).filter(function(l){return l.trim().length!==0||l.indexOf(ab)>-1}).isSome()},ui=["img","br"],ub=function(u){var l=vx(u);return l||ar(ui,so(u))},jp=function(u){return Dp(u,ub)},Rv=function(u){return Un(u,ub)},Un=function(u,l){var m=function(h){for(var y=x(h),T=y.length-1;T>=0;T--){var R=y[T];if(l(R))return H.some(R);var N=m(R);if(N.isSome())return N}return H.none()};return m(u)},Wp={scope:["row","col"]},_g=function(u){return function(){var l=Jt.fromTag("td",u.dom);return Bi(l,Jt.fromTag("br",u.dom)),l}},Dg=function(u){return function(){return Jt.fromTag("col",u.dom)}},um=function(u){return function(){return Jt.fromTag("colgroup",u.dom)}},cm=function(u){return function(){return Jt.fromTag("tr",u.dom)}},id=function(u,l,m){var h=os(u,l);return Lo(m,function(y,T){y===null?li(h,T):ha(h,T,y)}),h},Xi=function(u){return u},gi=function(u,l,m){var h=jp(u);return h.map(function(y){var T=m.join(","),R=pa(y,T,function(N){return jr(N,u)});return ie(R,function(N,G){var at=_s(G);return li(at,"contenteditable"),Bi(N,at),at},l)}).getOr(l)},Of=function(u,l){Lo(Wp,function(m,h){return Mo(u,h).filter(function(y){return ar(m,y)}).each(function(y){return ha(l,h,y)})})},Si=function(u,l,m){var h=function(R,N){Qf(R.element,N),Za(N,"height"),R.colspan!==1&&Za(N,"width")},y=function(R){var N=Jt.fromTag(so(R.element),l.dom),G=m.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),at=G.length>0?gi(R.element,N,G):N;return Bi(at,Jt.fromTag("br")),h(R,N),Of(R.element,N),u(R.element,N),N},T=function(R){var N=Jt.fromTag(so(R.element),l.dom);return h(R,N),u(R.element,N),N};return{col:T,colgroup:um(l),row:cm(l),cell:y,replace:id,colGap:Dg(l),gap:_g(l)}},_c=function(u){return{col:Dg(u),colgroup:um(u),row:cm(u),cell:_g(u),replace:Xi,colGap:Dg(u),gap:_g(u)}},cb=function(u,l){var m=l||document,h=m.createElement("div");return h.innerHTML=u,x(Jt.fromDom(h))},zs=function(u){return Lt(u,Jt.fromDom)},Av=function(u){return u.nodeName.toLowerCase()},cc=function(u){return Jt.fromDom(u.getBody())},ul=function(u){return u.getBoundingClientRect().width},Ef=function(u){return u.getBoundingClientRect().height},Ha=function(u){return function(l){return jr(l,cc(u))}},Bv=function(u){return u?u.replace(/px$/,""):""},xu=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},Va=function(u){li(u,"data-mce-style");var l=function(m){return li(m,"data-mce-style")};An(pf(u),l),An(el(u),l),An(rc(u),l)},Mg=function(u,l){var m=u.dom.getStyle(l,"width")||u.dom.getAttrib(l,"width");return H.from(m).filter(Hn)},Mk=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},qp=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},sa=function(u){return Jt.fromDom(u.selection.getStart())},We=function(u){return Jt.fromDom(u.selection.getEnd())},us=function(u){return Sv(u.get(),Xt([]),fe,nn)},Rk=function(u){var l=function(y,T){return Mo(y,T).exists(function(R){return parseInt(R,10)>1})},m=function(y){return l(y,"rowspan")||l(y,"colspan")},h=us(u);return h.length>0&&Dt(h,m)?H.some(h):H.none()},bx=function(u,l,m){return Sv(l.get(),H.none,function(h){return h.length<=1?H.none():Ia(u,m.firstSelectedSelector,m.lastSelectedSelector).map(function(y){return{bounds:y,cells:h}})},H.none)},Rg="data-mce-selected",yx="td["+Rg+"],th["+Rg+"]",Gp="["+Rg+"]",Fl="data-mce-first-selected",sm="td["+Fl+"],th["+Fl+"]",sb="data-mce-last-selected",cl="td["+sb+"],th["+sb+"]",Ak=Gp,lm={selected:Rg,selectedSelector:yx,firstSelected:Fl,firstSelectedSelector:sm,lastSelected:sb,lastSelectedSelector:cl},Ll=function(u){return{element:u,mergable:H.none(),unmergable:H.none(),selection:[u]}},ad=function(u,l,m){return{element:m,mergable:bx(l,u,lm),unmergable:Rk(u),selection:us(u)}},fm=function(u,l,m){return{element:u,clipboard:l,generators:m}},xx=function(u,l,m,h){return{selection:us(u),clipboard:m,generators:h}},ea=function(u){return wi(u).bind(function(l){return Ki(l,lm.firstSelectedSelector)}).fold(Xt(u),function(l){return l[0]})},ud=function(u){return function(l,m){var h=so(l),y=h==="col"||h==="colgroup"?ea(l):l;return Ri(y,u,m)}},dm=ud("th,td,caption"),Dc=ud("th,td"),Ua=function(u){return us(u)},Bk=function(u,l){var m=Dc(u),h=m.bind(function(y){return wi(y)}).map(function(y){return rc(y)});return Cc(m,h,function(y,T){return Pn(T,function(R){return D(zs(R.dom.cells),function(N){return $c(N,l)==="1"||jr(N,y)})})}).getOr([])},zk=function(u){return wi(u[0]).map(function(l){var m=Tf(l,Ak);return Va(m),[m]})},Nk=function(u,l){return Lt(l,function(m){return u.selection.serializer.serialize(m.dom,{})}).join("")},wx=function(u){return Lt(u,function(l){return l.dom.innerText}).join("")},sl=function(u,l,m){u.on("BeforeGetContent",function(h){var y=function(T){h.preventDefault(),zk(T).each(function(R){h.content=h.format==="text"?wx(R):Nk(u,R)})};h.selection===!0&&Sv(l.get(),It,y,It)}),u.on("BeforeSetContent",function(h){if(h.selection===!0&&h.paste===!0){var y=Ua(l);pt(y).each(function(T){wi(T).each(function(R){var N=Pn(cb(h.content),function(ne){return so(ne)!=="meta"}),G=vi("table");if(N.length===1&&G(N[0])){h.preventDefault();var at=Jt.fromDom(u.getDoc()),yt=_c(at),vn=fm(T,N[0],yt);m.pasteCells(R,vn).each(function(){u.focus()})}})})}})},zv=Al.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Ag=zn({},zv),Pk=function(u,l){return u.length===0?Ag.none():u.length===1?Ag.only(0):l===0?Ag.left(0,1):l===u.length-1?Ag.right(l-1,l):l>0&&l<u.length-1?Ag.middle(l-1,l,l+1):Ag.none()},lb=function(u,l,m,h,y){var T=u.slice(0),R=Pk(u,l),N=Xt(Lt(T,Xt(0))),G=function(ne){return h.singleColumnWidth(T[ne],m)},at=function(ne,In){return y.calcLeftEdgeDeltas(T,ne,In,m,h.minCellWidth(),h.isRelative)},yt=function(ne,In,bn){return y.calcMiddleDeltas(T,ne,In,bn,m,h.minCellWidth(),h.isRelative)},vn=function(ne,In){return y.calcRightEdgeDeltas(T,ne,In,m,h.minCellWidth(),h.isRelative)};return R.fold(N,G,at,yt,vn)},Cx=function(u,l,m){for(var h=0,y=u;y<l;y++)h+=m[y]!==void 0?m[y]:0;return h},fb=function(u,l){var m=to.justCells(u);return Lt(m,function(h){var y=Cx(h.column,h.column+h.colspan,l);return{element:h.element,width:y,colspan:h.colspan}})},db=function(u,l){var m=to.justColumns(u);return Lt(m,function(h,y){return{element:h.element,width:l[y],colspan:h.colspan}})},cd=function(u,l){var m=to.justCells(u);return Lt(m,function(h){var y=Cx(h.row,h.row+h.rowspan,l);return{element:h.element,height:y,rowspan:h.rowspan}})},sd=function(u,l){return Lt(u.all,function(m,h){return{element:m.element,height:l[h]}})},ri=function(u){return ie(u,function(l,m){return l+m},0)},mb=function(u,l){return to.hasColumns(u)?db(u,l):fb(u,l)},cs=function(u,l,m){var h=mb(u,l);An(h,function(y){m.setElementWidth(y.element,y.width)})},gb=function(u,l,m,h,y){var T=to.fromTable(u),R=y.getCellDelta(l),N=y.getWidths(T,y),G=m===T.grid.columns-1,at=h.clampTableDelta(N,m,R,y.minCellWidth(),G),yt=lb(N,m,at,y,h),vn=Lt(yt,function(ne,In){return ne+N[In]});cs(T,vn,y),h.resizeTable(y.adjustTableWidth,at,G)},Fk=function(u,l,m,h){var y=to.fromTable(u),T=Dk(y,u,h),R=Lt(T,function(yt,vn){return m===vn?Math.max(l+yt,Vi()):yt}),N=cd(y,R),G=sd(y,R);An(G,function(yt){ed(yt.element,yt.height)}),An(N,function(yt){ed(yt.element,yt.height)});var at=ri(R);ed(u,at)},Lk=function(u,l,m,h,y){var T=to.generate(l),R=h.getWidths(T,h),N=h.pixelWidth(),G=y.calcRedestributedWidths(R,N,m.pixelDelta,h.isRelative),at=G.newSizes,yt=G.delta;cs(T,at,h),h.adjustTableWidth(yt)},ju=function(u,l,m,h){var y=to.generate(l),T=h.getWidths(y,h);cs(y,T,h)},Ns=function(u){return Lt(u,Xt(0))},pb=function(u,l,m,h,y){return y(u.slice(0,l)).concat(h).concat(y(u.slice(m)))},Kp=function(u){return function(l,m,h,y){if(u(h)){var T=Math.max(y,l[m]-Math.abs(h)),R=Math.abs(T-l[m]);return h>=0?R:-R}else return h}},Bg=Kp(function(u){return u<0}),hb=Kp(Ft),Sx=function(){var u=function(N,G,at,yt,vn){var ne=Bg(N,G,yt,vn);return pb(N,G,at+1,[ne,0],Ns)},l=function(N,G,at,yt){var vn=(100+at)/100,ne=Math.max(yt,(N[G]+at)/vn);return Lt(N,function(In,bn){var ve=bn===G?ne:In/vn;return ve-In})},m=function(N,G,at,yt,vn,ne){return ne?l(N,G,yt,vn):u(N,G,at,yt,vn)},h=function(N,G,at,yt,vn,ne,In){return m(N,at,yt,vn,ne,In)},y=function(N,G){return N(G)},T=function(N,G,at,yt,vn,ne){if(ne)return l(N,at,yt,vn);var In=Bg(N,at,yt,vn);return Ns(N.slice(0,at)).concat([In])},R=function(N,G,at,yt){if(yt){var vn=G+at,ne=vn/G,In=Lt(N,function(bn){return bn/ne});return{delta:ne*100-100,newSizes:In}}else return{delta:at,newSizes:N}};return{resizeTable:y,clampTableDelta:Bg,calcLeftEdgeDeltas:m,calcMiddleDeltas:h,calcRightEdgeDeltas:T,calcRedestributedWidths:R}},ld=function(){var u=function(R,N,G,at,yt){var vn=at>=0?G:N,ne=hb(R,vn,at,yt);return pb(R,N,G+1,[ne,-ne],Ns)},l=function(R,N,G,at,yt,vn){return u(R,G,at,yt,vn)},m=function(R,N,G){G&&R(N)},h=function(R,N,G,at,yt,vn){if(vn)return Ns(R);var ne=at/R.length;return Lt(R,Xt(ne))},y=function(R,N,G,at,yt){if(yt){if(G>=0)return G;var vn=K(R,function(ne,In){return ne+In-at},0);return Math.max(-vn,G)}else return Bg(R,N,G,at)},T=function(R,N,G,at){return{delta:0,newSizes:R}};return{resizeTable:m,clampTableDelta:y,calcLeftEdgeDeltas:u,calcMiddleDeltas:l,calcRightEdgeDeltas:h,calcRedestributedWidths:T}},vb=function(u,l){var m=H.from(u.dom.documentElement).map(Jt.fromDom).getOr(u);return{parent:Xt(m),view:Xt(u),origin:Xt(Qo(0,0)),isResizable:l}},bb=function(u,l,m){var h=function(){return wf(l)};return{parent:Xt(l),view:Xt(u),origin:h,isResizable:m}},Nv=function(u,l,m){return{parent:Xt(l),view:Xt(u),origin:Xt(Qo(0,0)),isResizable:m}},Pv={only:vb,detached:bb,body:Nv},mm=Al.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),kx=function(u,l,m){var h=m.substring(0,m.length-u.length),y=parseFloat(h);return h===y.toString()?l(y):mm.invalid(m)},$a=function(u){return ht(u,"%")?kx("%",mm.percent,u):ht(u,"px")?kx("px",mm.pixels,u):mm.invalid(u)},ll=zn(zn({},mm),{from:$a}),la=function(u,l){return Lt(u,function(m){var h=ll.from(m);return h.fold(function(){return m},function(y){var T=y/l*100;return T+"%"},function(y){return y+"%"})})},Wu=function(u,l,m){var h=m/l;return Lt(u,function(y){var T=ll.from(y);return T.fold(function(){return y},function(R){return R*h+"px"},function(R){return R/100*m+"px"})})},_f=function(u,l){var m=u.fold(function(){return Xt("")},function(h){var y=h/l;return Xt(y+"px")},function(){var h=100/l;return Xt(h+"%")});return Dn(l,m)},Il=function(u,l,m){return u.fold(function(){return l},function(h){return Wu(l,m,h)},function(h){return la(l,m)})},yb=function(u,l,m){var h=ll.from(m),y=Dt(u,function(T){return T==="0px"})?_f(h,u.length):Il(h,u,l);return Ik(y)},Mc=function(u,l){return u.length===0?l:ie(u,function(m,h){return ll.from(h).fold(Xt(0),fe,fe)+m},0)},zg=function(u,l){var m=Math.floor(u);return{value:m+l,remainder:u-m}},Tx=function(u,l){return ll.from(u).fold(Xt(u),function(m){return m+l+"px"},function(m){return m+l+"%"})},Ik=function(u){if(u.length===0)return u;var l=ie(u,function(h,y){var T=ll.from(y).fold(function(){return{value:y,remainder:0}},function(R){return zg(R,"px")},function(R){return{value:R+"%",remainder:0}});return{output:[T.value].concat(h.output),remainder:h.remainder+T.remainder}},{output:[],remainder:0}),m=l.output;return m.slice(0,m.length-1).concat([Tx(m[m.length-1],Math.round(l.remainder))])},Hk=ll.from,Vk=function(u,l,m){An(l,function(h){var y=u.slice(h.column,h.colspan+h.column),T=Mc(y,df());Hi(h.element,"width",T+m)})},Uk=function(u,l,m){An(l,function(h,y){var T=Mc([u[y]],df());Hi(h.element,"width",T+m)})},xb=function(u,l,m,h){An(m,function(y){var T=u.slice(y.row,y.rowspan+y.row),R=Mc(T,Vi());Hi(y.element,"height",R+h)}),An(l,function(y,T){Hi(y.element,"height",u[T])})},Fv=function(u){return Hk(u).fold(Xt("px"),Xt("px"),Xt("%"))},Yc=function(u,l,m){var h=to.fromTable(u),y=h.all,T=to.justCells(h),R=to.justColumns(h);l.each(function(N){var G=Fv(N),at=Ds(u),yt=Up(h,u),vn=yb(yt,at,N);to.hasColumns(h)?Uk(vn,R,G):Vk(vn,T,G),Hi(u,"width",N)}),m.each(function(N){var G=Fv(N),at=$u(u),yt=ib(h,u,J0),vn=yb(yt,at,N);xb(vn,y,T,G),Hi(u,"height",N)})},Ox=nb,fd=_k,Xp=zi,fl=function(u){var l=to.fromTable(u);return l.grid},ss=function(u){var l=[],m=function(T){if(T===void 0)throw new Error("Event bind error: undefined handler");l.push(T)},h=function(T){l=Pn(l,function(R){return R!==T})},y=function(){for(var T=[],R=0;R<arguments.length;R++)T[R]=arguments[R];var N={};An(u,function(G,at){N[G]=T[at]}),An(l,function(G){G(N)})};return{bind:m,unbind:h,trigger:y}},ra=function(u){var l=bc(u,function(h){return{bind:h.bind,unbind:h.unbind}}),m=bc(u,function(h){return h.trigger});return{registry:l,trigger:m}},Qc=function(u,l){var m=null,h=function(){Ne(m)||(clearTimeout(m),m=null)},y=function(){for(var T=[],R=0;R<arguments.length;R++)T[R]=arguments[R];h(),m=setTimeout(function(){m=null,u.apply(null,T)},l)};return{cancel:h,throttle:y}},dd=function(u){return u.slice(0).sort()},wb=function(u,l){throw new Error("All required keys ("+dd(u).join(", ")+") were not specified. Specified keys were: "+dd(l).join(", ")+".")},Qr=function(u){throw new Error("Unsupported keys for object: "+dd(u).join(", "))},Jp=function(u,l){if(!Be(l))throw new Error("The "+u+" fields must be an array. Was: "+l+".");An(l,function(m){if(!Ce(m))throw new Error("The value "+m+" in the "+u+" fields was not a string.")})},$k=function(u,l){throw new Error("All values need to be of type: "+l+". Keys ("+dd(u).join(", ")+") were not.")},Lv=function(u){var l=dd(u),m=Zt(l,function(h,y){return y<l.length-1&&h===l[y+1]});m.each(function(h){throw new Error("The field: "+h+" occurs more than once in the combined fields: ["+l.join(", ")+"].")})},Iv=function(u,l){return jk(u,l,{validate:_n,label:"function"})},jk=function(u,l,m){if(l.length===0)throw new Error("You must specify at least one required field.");return Jp("required",l),Lv(l),function(h){var y=ga(h),T=Dt(l,function(N){return ar(y,N)});T||wb(l,y),u(l,y);var R=Pn(l,function(N){return!m.validate(h[N],N)});return R.length>0&&$k(R,m.label),h}},fa=function(u,l){var m=Pn(l,function(h){return!ar(u,h)});m.length>0&&Qr(m)},Au=function(u){return Iv(fa,u)},pi=Au(["compare","extract","mutate","sink"]),Ex=Au(["element","start","stop","destroy"]),Cb=Au(["forceDrop","drop","move","delayDrop"]),gm=function(){var u=H.none(),l=function(){u=H.none()},m=function(T,R){var N=u.map(function(G){return T.compare(G,R)});return u=H.some(R),N},h=function(T,R){var N=R.extract(T);N.each(function(G){var at=m(R,G);at.each(function(yt){y.trigger.move(yt)})})},y=ra({move:ss(["info"])});return{onEvent:h,reset:l,events:y.registry}},_x=function(){var u=ra({move:ss(["info"])});return{onEvent:It,reset:It,events:u.registry}},pm=function(){var u=_x(),l=gm(),m=u,h=function(){m.reset(),m=l},y=function(){m.reset(),m=u},T=function(N,G){m.onEvent(N,G)},R=function(){return m===l};return{on:h,off:y,isOn:R,onEvent:T,events:l.events}},Ng=function(u,l,m){var h=!1,y=ra({start:ss([]),stop:ss([])}),T=pm(),R=function(){In.stop(),T.isOn()&&(T.off(),y.trigger.stop())},N=Qc(R,200),G=function(ve){In.start(ve),T.on(),y.trigger.start()},at=function(ve){N.cancel(),T.onEvent(ve,l)};T.events.move.bind(function(ve){l.mutate(u,ve.info)});var yt=function(){h=!0},vn=function(){h=!1},ne=function(ve){return function(){for(var he=[],sr=0;sr<arguments.length;sr++)he[sr]=arguments[sr];h&&ve.apply(null,he)}},In=l.sink(Cb({forceDrop:R,drop:ne(R),move:ne(at),delayDrop:ne(N.throttle)}),m),bn=function(){In.destroy()};return{element:In.element,go:G,on:yt,off:vn,destroy:bn,events:y.registry}},Dx=function(u,l,m,h,y,T,R){return{target:u,x:l,y:m,stop:h,prevent:y,kill:T,raw:R}},Hl=function(u){var l=Jt.fromDom(Xe(u).getOr(u.target)),m=function(){return u.stopPropagation()},h=function(){return u.preventDefault()},y=At(h,m);return Dx(l,u.clientX,u.clientY,m,h,y,u)},qu=function(u,l){return function(m){u(m)&&l(Hl(m))}},Wk=function(u,l,m,h,y){var T=qu(m,h);return u.dom.addEventListener(l,T,y),{unbind:Yt(hm,u,l,T,y)}},qk=function(u,l,m,h){return Wk(u,l,m,h,!1)},hm=function(u,l,m,h){u.dom.removeEventListener(l,m,h)},Sb=Ft,md=function(u,l,m){return qk(u,l,Sb,m)},vm=Hl,kb=function(u,l){var m=$c(u,l);return m===void 0||m===""?[]:m.split(" ")},Gk=function(u,l,m){var h=kb(u,l),y=h.concat([m]);return ha(u,l,y.join(" ")),!0},Kk=function(u,l,m){var h=Pn(kb(u,l),function(y){return y!==m});return h.length>0?ha(u,l,h.join(" ")):li(u,l),!1},bm=function(u){return u.dom.classList!==void 0},ym=function(u){return kb(u,"class")},Hv=function(u,l){return Gk(u,"class",l)},oo=function(u,l){return Kk(u,"class",l)},Zo=function(u,l){bm(u)?u.dom.classList.add(l):Hv(u,l)},xm=function(u){var l=bm(u)?u.dom.classList:ym(u);l.length===0&&li(u,"class")},gd=function(u,l){if(bm(u)){var m=u.dom.classList;m.remove(l)}else oo(u,l);xm(u)},qo=function(u,l){return bm(u)&&u.dom.classList.contains(l)},Vv=function(u){var l=u.replace(/\./g,"-"),m=function(h){return l+"-"+h};return{resolve:m}},Uv=Vv("ephox-dragster"),ja=Uv.resolve,pd=function(u){var l=zn({layerClass:ja("blocker")},u),m=Jt.fromTag("div");ha(m,"role","presentation"),Dl(m,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Zo(m,ja("blocker")),Zo(m,l.layerClass);var h=Xt(m),y=function(){ic(m)};return{element:h,destroy:y}},$v=function(u,l){return Qo(l.left-u.left,l.top-u.top)},Xk=function(u){return H.some(Qo(u.x,u.y))},Jk=function(u,l){u.mutate(l.left,l.top)},jv=function(u,l){var m=pd(l),h=md(m.element(),"mousedown",u.forceDrop),y=md(m.element(),"mouseup",u.drop),T=md(m.element(),"mousemove",u.move),R=md(m.element(),"mouseout",u.delayDrop),N=function(){m.destroy(),y.unbind(),T.unbind(),R.unbind(),h.unbind()},G=function(yt){Bi(yt,m.element())},at=function(){ic(m.element())};return Ex({element:m.element,start:G,stop:at,destroy:N})},Pg=pi({compare:$v,extract:Xk,sink:jv,mutate:Jk}),Tb=function(u,l){l===void 0&&(l={});var m=l.mode!==void 0?l.mode:Pg;return Ng(u,m,l)},Wv=function(u){return Ri(u,"[contenteditable]")},Fg=function(u,l){return l===void 0&&(l=!1),!nt().browser.isIE()&&Hr(u)?u.dom.isContentEditable:Wv(u).fold(Xt(l),function(m){return qv(m)==="true"})},qv=function(u){return u.dom.contentEditable},sc=Vv("ephox-snooker"),wm=sc.resolve,Vl=function(){var u=ra({drag:ss(["xDelta","yDelta"])}),l=function(m,h){u.trigger.drag(m,h)};return{mutate:l,events:u.registry}},lc=function(){var u=ra({drag:ss(["xDelta","yDelta","target"])}),l=H.none(),m=Vl();m.events.drag.bind(function(T){l.each(function(R){u.trigger.drag(T.xDelta,T.yDelta,R)})});var h=function(T){l=H.some(T)},y=function(){return l};return{assign:h,get:y,mutate:m.mutate,events:u.registry}},Mx=function(u,l,m,h,y){var T=Jt.fromTag("div");return Dl(T,{position:"absolute",left:l-h/2+"px",top:m+"px",height:y+"px",width:h+"px"}),ta(T,{"data-column":u,role:"presentation"}),T},ou=function(u,l,m,h,y){var T=Jt.fromTag("div");return Dl(T,{position:"absolute",left:l+"px",top:m-y/2+"px",height:y+"px",width:h+"px"}),ta(T,{"data-row":u,role:"presentation"}),T},Ob=wm("resizer-bar"),Df=wm("resizer-rows"),Eb=wm("resizer-cols"),_b=7,Rx=function(u,l){return Ot(u.all,function(m,h){return l(m.element)?[h]:[]})},Gv=function(u,l){var m=[];return Dn(u.grid.columns,function(h){var y=to.getColumnAt(u,h).map(function(T){return T.element});y.forall(l)&&m.push(h)}),Pn(m,function(h){var y=to.filterItems(u,function(T){return T.column===h});return Dt(y,function(T){return l(T.element)})})},Lg=function(u){var l=xc(u.parent(),"."+Ob);An(l,ic)},Db=function(u,l,m){var h=u.origin();An(l,function(y){y.each(function(T){var R=m(h,T);Zo(R,Ob),Bi(u.parent(),R)})})},Yk=function(u,l,m,h){Db(u,l,function(y,T){var R=Mx(T.col,T.x-y.left,m.top-y.top,_b,h);return Zo(R,Eb),R})},Qk=function(u,l,m,h){Db(u,l,function(y,T){var R=ou(T.row,m.left-y.left,T.y-y.top,h,_b);return Zo(R,Df),R})},wu=function(u,l,m,h,y){var T=wf(m),R=l.isResizable,N=h.length>0?J0.positions(h,m):[],G=N.length>0?Rx(u,R):[],at=Pn(N,function(In,bn){return D(G,function(ve){return bn===ve})});Qk(l,at,T,yu(m));var yt=y.length>0?Cg.positions(y,m):[],vn=yt.length>0?Gv(u,R):[],ne=Pn(yt,function(In,bn){return D(vn,function(ve){return bn===ve})});Yk(l,ne,T,al(m))},xa=function(u,l){if(Lg(u),u.isResizable(l)){var m=to.fromTable(l),h=nd(m),y=em(m);wu(m,u,l,h,y)}},Bu=function(u,l){var m=xc(u.parent(),"."+Ob);An(m,l)},Wa=function(u){Bu(u,function(l){Hi(l,"display","none")})},fc=function(u){Bu(u,function(l){Hi(l,"display","block")})},iu=function(u){return qo(u,Df)},Kv=function(u){return qo(u,Eb)},hd=wm("resizer-bar-dragging"),vd=function(u){var l=lc(),m=Tb(l,{}),h=H.none(),y=function(bn,ve){return H.from($c(bn,ve))};l.events.drag.bind(function(bn){y(bn.target,"data-row").each(function(ve){var he=ff(bn.target,"top");Hi(bn.target,"top",he+bn.yDelta+"px")}),y(bn.target,"data-column").each(function(ve){var he=ff(bn.target,"left");Hi(bn.target,"left",he+bn.xDelta+"px")})});var T=function(bn,ve){var he=ff(bn,ve),sr=rs(bn,"data-initial-"+ve,0);return he-sr};m.events.stop.bind(function(){l.get().each(function(bn){h.each(function(ve){y(bn,"data-row").each(function(he){var sr=T(bn,"top");li(bn,"data-initial-top"),In.trigger.adjustHeight(ve,sr,parseInt(he,10))}),y(bn,"data-column").each(function(he){var sr=T(bn,"left");li(bn,"data-initial-left"),In.trigger.adjustWidth(ve,sr,parseInt(he,10))}),xa(u,ve)})})});var R=function(bn,ve){In.trigger.startAdjust(),l.assign(bn),ha(bn,"data-initial-"+ve,ff(bn,ve)),Zo(bn,hd),Hi(bn,"opacity","0.2"),m.go(u.parent())},N=md(u.parent(),"mousedown",function(bn){iu(bn.target)&&R(bn.target,"top"),Kv(bn.target)&&R(bn.target,"left")}),G=function(bn){return jr(bn,u.view())},at=function(bn){return Ri(bn,"table",G).filter(Fg)},yt=md(u.view(),"mouseover",function(bn){at(bn.target).fold(function(){Hr(bn.target)&&Lg(u)},function(ve){h=H.some(ve),xa(u,ve)})}),vn=function(){N.unbind(),yt.unbind(),m.destroy(),Lg(u)},ne=function(bn){xa(u,bn)},In=ra({adjustHeight:ss(["table","delta","row"]),adjustWidth:ss(["table","delta","column"]),startAdjust:ss([])});return{destroy:vn,refresh:ne,on:m.on,off:m.off,hideBars:Yt(Wa,u),showBars:Yt(fc,u),events:In.registry}},Mb=function(u,l,m){var h=J0,y=Cg,T=vd(u),R=ra({beforeResize:ss(["table","type"]),afterResize:ss(["table","type"]),startDrag:ss([])});return T.events.adjustHeight.bind(function(N){var G=N.table;R.trigger.beforeResize(G,"row");var at=h.delta(N.delta,G);Fk(G,at,N.row,h),R.trigger.afterResize(G,"row")}),T.events.startAdjust.bind(function(N){R.trigger.startDrag()}),T.events.adjustWidth.bind(function(N){var G=N.table;R.trigger.beforeResize(G,"col");var at=y.delta(N.delta,G),yt=m(G);gb(G,at,N.column,l,yt),R.trigger.afterResize(G,"col")}),{on:T.on,off:T.off,hideBars:T.hideBars,showBars:T.showBars,destroy:T.destroy,events:R.registry}},Ax={create:Mb},Xv=function(u,l){return u.fire("newrow",{node:l})},Mf=function(u,l){return u.fire("newcell",{node:l})},bd=function(u,l,m,h,y){u.fire("ObjectResizeStart",{target:l,width:m,height:h,origin:y})},Bx=function(u,l,m,h,y){u.fire("ObjectResized",{target:l,width:m,height:h,origin:y})},Zk=function(u,l,m,h,y){u.fire("TableSelectionChange",{cells:l,start:m,finish:h,otherCells:y})},Jv=function(u){u.fire("TableSelectionClear")},Gu=function(u,l,m){u.fire("TableModified",zn(zn({},m),{table:l}))},Yv={structure:!1,style:!0},wa={structure:!0,style:!1},zx={structure:!0,style:!0},t4="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Rb={"border-collapse":"collapse",width:"100%"},Nx=Dn(5,function(u){var l=u+1+"px";return{title:l,value:l}}),Px=Lt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),we=function(u){var l;if(Hg(u)){var m=u.dom,h=(l=m.getParent(u.selection.getStart(),m.isBlock))!==null&&l!==void 0?l:u.getBody(),y=Ro(Jt.fromDom(h));return zn(zn({},Rb),{width:y+"px"})}else return xd(u)?Ea(Rb,function(T,R){return R!=="width"}):Rb},n4={border:"1"},Ji="preservetable",Ab=function(u){return u.getParam("table_sizing_mode","auto")},Cm=function(u){return u.getParam("table_responsive_width")},Qv=function(u){return u.getParam("table_border_widths",Nx,"array")},Rc=function(u){return u.getParam("table_border_styles",Px,"array")},Ig=function(u){return u.getParam("table_default_attributes",n4,"object")},Yp=function(u){return u.getParam("table_default_styles",we(u),"object")},Zv=function(u){return u.getParam("table_resize_bars",!0,"boolean")},Ul=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Qp=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},t1=function(u){return u.getParam("table_row_advtab",!0,"boolean")},Ac=function(u){return u.getParam("table_advtab",!0,"boolean")},Ps=function(u){return u.getParam("table_appearance_options",!0,"boolean")},Rf=function(u){return u.getParam("table_grid",!0,"boolean")},Ca=function(u){return u.getParam("table_style_by_css",!1,"boolean")},Bb=function(u){return u.getParam("table_cell_class_list",[],"array")},mn=function(u){return u.getParam("table_row_class_list",[],"array")},yd=function(u){return u.getParam("table_class_list",[],"array")},Zp=function(u){return Ab(u)==="relative"||Cm(u)===!0},Hg=function(u){return Ab(u)==="fixed"||Cm(u)===!1},xd=function(u){return Ab(u)==="responsive"},dl=function(u){return u.getParam("table_toolbar",t4)},zb=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},Nb=function(u){var l="section",m=u.getParam("table_header_type",l,"string"),h=["section","cells","sectionCells","auto"];return ar(h,m)?m:l},n1=function(u){var l=["preservetable","resizetable"],m=u.getParam("table_column_resizing",Ji,"string");return Zt(l,function(h){return h===m}).getOr(Ji)},e1=function(u){return n1(u)==="preservetable"},Fx=function(u){return n1(u)==="resizetable"},Pb=function(u){var l=u.getParam("table_clone_elements");return Ce(l)?H.some(l.split(/[ ,]/)):Array.isArray(l)?H.some(l):H.none()},Fb=function(u){var l=u.getParam("object_resizing",!0);return Ce(l)?l==="table":l},Lb=function(u){return u.getParam("table_background_color_map",[],"array")},Ib=function(u){return u.getParam("table_border_color_map",[],"array")},Hb=function(u,l){return Zp(u)?kf.percentageSize(l):Hg(u)?kf.pixelSize(l):kf.getTableSize(l)},Sm=function(u){li(u,"width")},e4=function(u){var l=Og(u);Yc(u,H.some(l),H.none()),Sm(u)},Lx=function(u){var l=Ek(u);Yc(u,H.some(l),H.none()),Sm(u)},r1=function(u){Za(u,"width");var l=el(u),m=l.length>0?l:pf(u);An(m,function(h){Za(h,"width"),Sm(h)}),Sm(u)},th=e4,o1=Lx,i1=r1,a1=function(u){var l=to.fromTable(u);to.hasColumns(l)||An(pf(u),function(m){var h=tl(m,"width");Hi(m,"width",h),li(m,"width")})},km=function(){var u=Jt.fromTag("div");return Dl(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Bi(Mr(),u),u},Ix=function(u,l){return u.inline?Pv.body(cc(u),km(),l):Pv.only(Jt.fromDom(u.getDoc()),l)},Ui=function(u,l){u.inline&&ic(l.parent())},u1="bar-",Yi=function(u){return $c(u,"data-mce-resize")!=="false"},c1=function(u){var l=H.none(),m=H.none(),h=H.none(),y,T,R=function(bn){return bn.nodeName==="TABLE"},N=function(){return m},G=function(){return h.getOr(Pv.only(Jt.fromDom(u.getBody()),Yi))},at=function(bn){return Hb(u,bn)},yt=function(){return e1(u)?ld():Sx()},vn=function(bn){return fl(bn).columns},ne=function(bn,ve,he){var sr=ht(ve,"e");if(T===""&&th(bn),he!==y&&T!==""){Hi(bn,"width",T);var Co=yt(),yr=at(bn),Pr=e1(u)||sr?vn(bn)-1:0;gb(bn,he-y,Pr,Co,yr)}else if(Mk(T)){var mo=parseFloat(T.replace("%","")),eo=he*mo/y;Hi(bn,"width",eo+"%")}qp(T)&&a1(bn)},In=function(){m.each(function(bn){bn.destroy()}),h.each(function(bn){Ui(u,bn)})};return u.on("init",function(){var bn=Ix(u,Yi);if(h=H.some(bn),Fb(u)&&Zv(u)){var ve=yt(),he=Ax.create(bn,ve,at);he.on(),he.events.startDrag.bind(function(sr){l=H.some(u.selection.getRng())}),he.events.beforeResize.bind(function(sr){var Co=sr.table.dom;bd(u,Co,ul(Co),Ef(Co),u1+sr.type)}),he.events.afterResize.bind(function(sr){var Co=sr.table,yr=Co.dom;Va(Co),l.each(function(Pr){u.selection.setRng(Pr),u.focus()}),Bx(u,yr,ul(yr),Ef(yr),u1+sr.type),u.undoManager.add()}),m=H.some(he)}}),u.on("ObjectResizeStart",function(bn){var ve=bn.target;if(R(ve)){var he=Jt.fromDom(ve);An(u.dom.select(".mce-clonedresizable"),function(sr){u.dom.addClass(sr,"mce-"+n1(u)+"-columns")}),!fd(he)&&Hg(u)?o1(he):!Ox(he)&&Zp(u)&&th(he),Xp(he)&&Ie(bn.origin,u1)&&th(he),y=bn.width,T=xd(u)?"":Mg(u,ve).getOr("")}}),u.on("ObjectResized",function(bn){var ve=bn.target;if(R(ve)){var he=Jt.fromDom(ve),sr=bn.origin;Ie(sr,"corner-")&&ne(he,sr,bn.width),Va(he),Gu(u,he.dom,Yv)}}),u.on("SwitchMode",function(){N().each(function(bn){u.mode.isReadOnly()?bn.hideBars():bn.showBars()})}),{lazyResize:N,lazyWire:G,destroy:In}},Vg=function(u,l){return{element:u,offset:l}},s1=function(u,l,m){return u.property().isText(l)&&u.property().getText(l).trim().length===0||u.property().isComment(l)?m(l).bind(function(h){return s1(u,h,m).orThunk(function(){return H.some(h)})}):H.none()},Ug=function(u,l){if(u.property().isText(l))return u.property().getText(l).length;var m=u.property().children(l);return m.length},Hx=function(u,l){var m=s1(u,l,u.query().prevSibling).getOr(l);if(u.property().isText(m))return Vg(m,Ug(u,m));var h=u.property().children(m);return h.length>0?Hx(u,h[h.length-1]):Vg(m,Ug(u,m))},Vx=Hx,r4=zp(),o4=function(u){return Vx(r4,u)},Ux=function(u,l){var m=va(u,"colspan");if(m===1){var h=kg(u);h.each(function(y){var T=y.value/2;Tg(u,T,y.unit),Tg(l,T,y.unit)})}},l1=vi("th"),f1=function(u){return Dt(u,function(l){return l1(l.element)})},i4=function(u,l){return u&&l?"sectionCells":u?"section":"cells"},$x=function(u){var l=u.section==="thead",m=Zs(Vb(u.cells),"th");return l||m?{type:"header",subType:i4(l,m)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},Vb=function(u){var l=Pn(u,function(m){return l1(m.element)});return l.length===0?H.some("td"):l.length===u.length?H.some("th"):H.none()},jx=function(u){var l=Lt(u,function(T){return $x(T).type}),m=ar(l,"header"),h=ar(l,"footer");if(!m&&!h)return H.some("body");var y=ar(l,"body");return m&&!y&&!h?H.some("header"):!m&&!y&&h?H.some("footer"):H.none()},a4=function(u){return le(u.all,function(l){var m=$x(l);return m.type==="header"?H.from(m.subType):H.none()})},au=function(u,l,m){return qi(m(u.element,l),!0,u.isLocked)},Tm=function(u,l){return u.section!==l?Eu(u.element,u.cells,l,u.isNew):u},Ub=function(){return{transformRow:Tm,transformCell:function(u,l,m){var h=m(u.element,l),y=so(h)!=="td"?xk(h,"td"):h;return qi(y,u.isNew,u.isLocked)}}},Wx=function(){return{transformRow:Tm,transformCell:au}},$g=function(){return{transformRow:function(u,l){var m=l==="thead"?"tbody":l;return Tm(u,m)},transformCell:au}},qx=function(){return{transformRow:fe,transformCell:au}},u4=function(u,l){var m=to.fromTable(u),h=a4(m).getOr(l);switch(h){case"section":return Ub();case"sectionCells":return Wx();case"cells":return $g()}},nh={getTableSectionType:u4,section:Ub,sectionCells:Wx,cells:$g,fallback:qx},eh=function(u,l,m,h){m===h?li(u,l):ha(u,l,m)},wd=function(u,l,m){sn(Kr(u,l)).fold(function(){return nu(u,m)},function(h){return ei(h,m)})},d1=function(u,l){var m=Br(u,l).getOrThunk(function(){var h=Jt.fromTag(l,yc(u).dom);return l==="thead"?wd(u,"caption,colgroup",h):l==="colgroup"?wd(u,"caption",h):Bi(u,h),h});return Ap(m),m},m1=function(u,l){var m=[],h=[],y=function(In){return Lt(In,function(bn){bn.isNew&&m.push(bn.element);var ve=bn.element;return Ap(ve),An(bn.cells,function(he){he.isNew&&h.push(he.element),eh(he.element,"colspan",he.colspan,1),eh(he.element,"rowspan",he.rowspan,1),Bi(ve,he.element)}),ve})},T=function(In){return Ot(In,function(bn){return Lt(bn.cells,function(ve){return eh(ve.element,"span",ve.colspan,1),ve.element})})},R=function(In,bn){var ve=d1(u,bn),he=bn==="colgroup"?T:y,sr=he(In);rl(ve,sr)},N=function(In){Br(u,In).each(ic)},G=function(In,bn){In.length>0?R(In,bn):N(bn)},at=[],yt=[],vn=[],ne=[];return An(l,function(In){switch(In.section){case"thead":at.push(In);break;case"tbody":yt.push(In);break;case"tfoot":vn.push(In);break;case"colgroup":ne.push(In);break}}),G(ne,"colgroup"),G(at,"thead"),G(yt,"tbody"),G(vn,"tfoot"),{newRows:m,newCells:h}},g1=function(u){return Lt(u,function(l){var m=_s(l.element);return An(l.cells,function(h){var y=Io(h.element);eh(y,"colspan",h.colspan,1),eh(y,"rowspan",h.rowspan,1),Bi(m,y)}),m})},c4=function(u,l){return Lt(u,function(m){return Vu(m,l)})},Af=function(u,l){return u[l]},p1=function(u,l){if(u.length===0)return 0;var m=u[0],h=Pt(u,function(y){return!l(m.element,y.element)});return h.getOr(u.length)},s4=function(u,l,m,h){var y=Af(u,l),T=y.section==="colgroup",R=p1(y.cells.slice(m),h),N=T?1:p1(c4(u.slice(l),m),h);return{colspan:R,rowspan:N}},Cd=function(u,l){var m=Lt(u,function(y){return Lt(y.cells,Me)}),h=function(y,T,R,N){for(var G=y;G<y+R;G++)for(var at=T;at<T+N;at++)m[G][at]=!0};return Lt(u,function(y,T){var R=Ot(y.cells,function(N,G){if(m[T][G]===!1){var at=s4(u,T,G,l);return h(T,G,at.rowspan,at.colspan),[Gr(N.element,at.rowspan,at.colspan,N.isNew)]}else return[]});return Lu(y.element,R,y.section,y.isNew)})},Sd=function(u,l,m){var h=[];An(u.colgroups,function(yt){for(var vn=[],ne=0;ne<u.grid.columns;ne++){var In=to.getColumnAt(u,ne).map(function(bn){return qi(bn.element,m,!1)}).getOrThunk(function(){return qi(l.colGap(),!0,!1)});vn.push(In)}h.push(Eu(yt.element,vn,"colgroup",m))});for(var y=0;y<u.grid.rows;y++){for(var T=[],R=0;R<u.grid.columns;R++){var N=to.getAt(u,y,R).map(function(yt){return qi(yt.element,m,yt.isLocked)}).getOrThunk(function(){return qi(l.gap(),!0,!1)});T.push(N)}var G=u.all[y],at=Eu(G.element,T,G.section,m);h.push(at)}return h},Gx=function(u,l){return Sd(u,l,!1)},rh=function(u){return Cd(u,jr)},$b=function(u,l){return le(u.all,function(m){return Zt(m.cells,function(h){return jr(l,h.element)})})},h1=function(u,l,m){var h=Lt(l.selection,function(T){return nl(T).bind(function(R){return $b(u,R)}).filter(m)}),y=ua(h);return Jo(y.length>0,y)},qa=function(u,l,m,h,y){return function(T,R,N,G,at){var yt=to.fromTable(R),vn=H.from(at==null?void 0:at.section).getOrThunk(nh.fallback),ne=l(yt,N).map(function(In){var bn=Gx(yt,G),ve=u(bn,In,jr,y(G),vn),he=tu(ve.grid),sr=rh(ve.grid);return{info:In,grid:sr,cursor:ve.cursor,lockedColumns:he}});return ne.bind(function(In){var bn=m1(R,In.grid),ve=H.from(at==null?void 0:at.sizing).getOrThunk(function(){return kf.getTableSize(R)}),he=H.from(at==null?void 0:at.resize).getOrThunk(ld);return m(R,In.grid,In.info,{sizing:ve,resize:he,section:vn}),h(R),xa(T,R),li(R,na),In.lockedColumns.length>0&&ha(R,na,In.lockedColumns.join(",")),H.some({cursor:In.cursor,newRows:bn.newRows,newCells:bn.newCells})})}},l4=function(u,l){return nl(l.element).bind(function(m){return $b(u,m).map(function(h){var y=zn(zn({},h),{generators:l.generators,clipboard:l.clipboard});return y})})},v1=function(u,l){return h1(u,l,Ft).map(function(m){return{cells:m,generators:l.generators,clipboard:l.clipboard}})},Kx=function(u,l){return l.mergable},f4=function(u,l){return l.unmergable},Fs=function(u,l){return h1(u,l,Ft)},Bf=function(u,l){return h1(u,l,function(m){return!m.isLocked})},d4=function(u,l){return $b(u,l).exists(function(m){return!m.isLocked})},jb=function(u,l){return Dt(l,function(m){return d4(u,m)})},Wb=function(u,l){return Kx(u,l).filter(function(m){return jb(u,m.cells)})},Om=function(u,l){return f4(u,l).filter(function(m){return jb(u,m)})},Xx=function(u,l,m,h){var y=Gi(u).rows;if(y.length===0)return u;for(var T=l.startRow;T<=l.finishRow;T++)for(var R=l.startCol;R<=l.finishCol;R++){var N=y[T],G=Vu(N,R).isLocked;Ml(N,R,qi(h(),!1,G))}return u},jg=function(u,l,m,h){for(var y=Gi(u).rows,T=!0,R=0;R<y.length;R++)for(var N=0;N<Wc(y[0]);N++){var G=y[R],at=Vu(G,N),yt=at.element,vn=m(yt,l);vn===!0&&T===!1?Ml(G,N,qi(h(),!0,at.isLocked)):vn===!0&&(T=!1)}return u},m4=function(u,l){return K(u,function(m,h){return D(m,function(y){return l(y.element,h.element)})?m:m.concat([h])},[])},g4=function(u,l,m,h){return l>0&&l<u[0].cells.length&&An(u,function(y){var T=y.cells[l-1],R=y.cells[l],N=m(R.element,T.element);N&&Ml(y,l,qi(h(),!0,R.isLocked))}),u},p4=function(u,l,m,h){var y=Gi(u).rows;if(l>0&&l<y.length){var T=y[l-1].cells,R=m4(T,m);An(R,function(N){for(var G=H.none(),at=l;at<y.length;at++)for(var yt=function(ne){var In=y[at],bn=Vu(In,ne),ve=m(bn.element,N.element);ve&&(G.isNone()&&(G=H.some(h())),G.each(function(he){Ml(In,ne,qi(he,!0,bn.isLocked))}))},vn=0;vn<Wc(y[0]);vn++)yt(vn)})}return u},Wg=function(u){var l=function(vn){return Wg(u)},m=function(vn){return Wg(u)},h=function(vn){return Wg(vn(u))},y=function(vn){return Wg(u)},T=function(vn){vn(u)},R=function(vn){return vn(u)},N=function(vn,ne){return ne(u)},G=function(vn){return vn(u)},at=function(vn){return vn(u)},yt=function(){return H.some(u)};return{isValue:Ft,isError:Me,getOr:Xt(u),getOrThunk:Xt(u),getOrDie:Xt(u),or:l,orThunk:m,fold:N,map:h,mapError:y,each:T,bind:R,exists:G,forall:at,toOptional:yt}},Em=function(u){var l=function(at){return at()},m=function(){return tr(String(u))()},h=fe,y=function(at){return at()},T=function(at){return Em(u)},R=function(at){return Em(at(u))},N=function(at){return Em(u)},G=function(at,yt){return at(u)};return{isValue:Me,isError:Ft,getOr:fe,getOrThunk:l,getOrDie:m,or:h,orThunk:y,fold:G,map:T,mapError:R,each:It,bind:N,exists:Me,forall:Ft,toOptional:H.none}},qb=function(u,l){return u.fold(function(){return Em(l)},Wg)},Jx={value:Wg,error:Em,fromOption:qb},h4=function(u,l,m){if(u.row>=l.length||u.column>Wc(l[0]))return Jx.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var h=l.slice(u.row),y=h[0].cells.slice(u.column),T=Wc(m[0]),R=m.length;return Jx.value({rowDelta:h.length-R,colDelta:y.length-T})},Yx=function(u,l){var m=Wc(u[0]),h=Wc(l[0]);return{rowDelta:0,colDelta:m-h}},Qx=function(u,l){var m=u.length,h=l.length;return{rowDelta:m-h,colDelta:0}},Gb=function(u,l,m,h){var y=l.section==="colgroup"?m.col:m.cell;return Dn(u,function(T){return qi(y(),!0,h(T))})},v4=function(u,l,m,h){var y=u[u.length-1];return u.concat(Dn(l,function(){var T=y.section==="colgroup"?m.colgroup:m.row,R=ba(y,T,fe),N=Gb(R.cells.length,R,m,function(G){return W(h,G.toString())});return Fr(R,N)}))},b1=function(u,l,m,h){return Lt(u,function(y){var T=Gb(l,y,m,Me);return hf(y,h,T)})},b4=function(u,l,m){return Lt(u,function(h){return K(m,function(y,T){var R=Gb(1,h,l,Ft)[0];return vf(y,T,R)},h)})},oh=function(u,l,m){var h=l.colDelta<0?b1:fe,y=l.rowDelta<0?v4:fe,T=tu(u),R=Wc(u[0]),N=D(T,function(yt){return yt===R-1}),G=h(u,Math.abs(l.colDelta),m,N?R-1:R),at=tu(G);return y(G,Math.abs(l.rowDelta),m,jn(at,Ft))},y4=function(u,l,m,h){var y=Vu(u[l],m),T=Yt(h,y.element),R=u[l];return u.length>1&&Wc(R)>1&&(m>0&&T(vu(R,m-1))||m<R.cells.length-1&&T(vu(R,m+1))||l>0&&T(vu(u[l-1],m))||l<u.length-1&&T(vu(u[l+1],m)))},Kb=function(u,l,m,h,y,T){for(var R=u.row,N=u.column,G=m.length,at=Wc(m[0]),yt=R+G,vn=N+at+T.length,ne=jn(T,Ft),In=R;In<yt;In++)for(var bn=0,ve=N;ve<vn;ve++){if(ne[ve]){bn++;continue}y4(l,In,ve,y)&&jg(l,vu(l[In],ve),y,h.cell);var he=ve-N-bn,sr=Vu(m[In-R],he),Co=sr.element,yr=h.replace(Co);Ml(l[In],ve,qi(yr,!0,sr.isLocked))}return l},x4=function(u,l,m){var h=Wc(l[0]),y=Gi(l).cols.length+u.row,T=Dn(h-u.column,function(N){return N+u.column}),R=Zt(T,function(N){return Dt(m,function(G){return G!==N})}).getOr(h-1);return{row:y,column:R}},Zx=function(u,l,m){return Pn(m,function(h){return h>=u.column&&h<=Wc(l[0])+u.column})},w4=function(u,l,m,h,y){var T=tu(l),R=x4(u,l,T),N=Gi(m).rows,G=Zx(R,N,T),at=h4(R,l,N);return at.map(function(yt){var vn=zn(zn({},yt),{colDelta:yt.colDelta-G.length}),ne=oh(l,vn,h),In=tu(ne),bn=Zx(R,N,In);return Kb(R,ne,N,h,y,bn)})},qg=function(u,l,m,h,y){g4(l,u,y,h.cell);var T=Qx(m,l),R=oh(m,T,h),N=Qx(l,R),G=oh(l,N,h);return Lt(G,function(at,yt){return hf(at,u,R[yt].cells)})},tw=function(u,l,m,h,y){p4(l,u,y,h.cell);var T=tu(l),R=Yx(l,m),N=zn(zn({},R),{colDelta:R.colDelta-T.length}),G=oh(l,N,h),at=Gi(G),yt=at.cols,vn=at.rows,ne=tu(G),In=Yx(m,l),bn=zn(zn({},In),{colDelta:In.colDelta+ne.length}),ve=b4(m,h,ne),he=oh(ve,bn,h);return yt.concat(vn.slice(0,u)).concat(he).concat(vn.slice(u,vn.length))},C4=function(u,l,m,h){return ba(u,function(y){return h(y,m)},l)},Xb=function(u,l,m,h,y){var T=Gi(u),R=T.rows,N=T.cols,G=R.slice(0,l),at=R.slice(l),yt=C4(R[m],function(vn,ne){var In=l>0&&l<R.length&&h(vu(R[l-1],ne),vu(R[l],ne)),bn=In?Vu(R[l],ne):qi(y(vn.element,h),!0,vn.isLocked);return bn},h,y);return N.concat(G).concat([yt]).concat(at)},Jb=function(u,l,m,h,y,T,R){if(m==="colgroup"||!h){var N=Vu(u,y);return qi(R(N.element,T),!0,!1)}else return Vu(u,l)},y1=function(u,l,m,h,y){return Lt(u,function(T){var R=l>0&&l<Wc(T)&&h(vu(T,l-1),vu(T,l)),N=Jb(T,l,T.section,R,m,h,y);return vf(T,l,N)})},nw=function(u,l){return Ot(u,function(m){var h=m.cells,y=ie(l,function(T,R){return R>=0&&R<T.length?T.slice(0,R).concat(T.slice(R+1)):T},h);return y.length>0?[Eu(m.element,y,m.section,m.isNew)]:[]})},ew=function(u,l,m){var h=Gi(u),y=h.rows,T=h.cols;return T.concat(y.slice(0,l)).concat(y.slice(m+1))},Gg=function(u,l,m,h){return vu(u[l],m)!==void 0&&l>0&&h(vu(u[l-1],m),vu(u[l],m))},rw=function(u,l,m){return l>0&&m(vu(u,l-1),vu(u,l))},ow=function(u,l,m,h){return Gg(u,l,m,h)||rw(u[l],m,h)},S4=function(u,l){var m=Dt(l,fe)&&f1(u.cells);return m?Ft:function(h,y,T){var R=so(h.element);return!(R==="th"&&l[T])}},k4=function(u,l){var m=Dt(l,fe)&&f1(u);return m?Ft:function(h,y,T){var R=so(h.element);return!(R==="th"&&l[y])}},Yb=function(u,l,m,h){var y=function(N){return N==="row"?xv(l):Zd(l)},T=function(N){return y(N)?N+"group":N};if(u)return l1(l)?T(m):null;if(h&&l1(l)){var R=m==="row"?"col":"row";return T(R)}else return null},_m=function(u,l){return function(m,h,y){return H.some(Yb(u,m.element,"col",l[y]))}},x1=function(u,l){return function(m,h){return H.some(Yb(u,m.element,"row",l[h]))}},iw=function(u,l,m){return qi(m(u.element,l),!0,u.isLocked)},w1=function(u,l,m,h,y,T,R){var N=function(G){return D(l,function(at){return m(G.element,at.element)})};return Lt(u,function(G,at){return jc(G,function(yt,vn){if(N(yt)){var ne=R(yt,at,vn)?y(yt,m,h):yt;return T(ne,at,vn).each(function(In){sf(ne.element,{scope:H.from(In)})}),ne}else return yt})})},aw=function(u,l,m){return Ot(u,function(h,y){return ow(u,y,l,m)?[]:[Vu(h,l)]})},T4=function(u,l,m){var h=u[l];return Ot(h.cells,function(y,T){return ow(u,l,T,m)?[]:[y]})},Qb=function(u,l,m,h,y){var T=Gi(u).rows,R=Ot(l,function(yt){return aw(T,yt,h)}),N=Lt(u,function(yt){return f1(yt.cells)}),G=k4(R,N),at=x1(m,N);return w1(u,R,h,y,iw,at,G)},O4=function(u,l,m,h,y,T,R){var N=Gi(u),G=N.cols,at=N.rows,yt=at[l[0]],vn=Ot(l,function(sr){return T4(at,sr,y)}),ne=Lt(yt.cells,function(sr,Co){return f1(aw(at,Co,y))}),In=Ue([],at,!0);An(l,function(sr){In[sr]=R.transformRow(at[sr],m)});var bn=G.concat(In),ve=S4(yt,ne),he=_m(h,ne);return w1(bn,vn,y,T,R.transformCell,he,ve)},uw=function(u,l,m,h){var y=Gi(u).rows,T=Lt(l,function(R){return Vu(y[R.row],R.column)});return w1(u,T,m,h,iw,H.none,Ft)},Dm=function(u){var l=function(m,h){var y=D(m,function(T){return T.column===h.column});return y?m:m.concat([h])};return K(u,l,[]).sort(function(m,h){return m.column-h.column})},Da=vi("col"),kd=vi("colgroup"),C1=function(u){return so(u)==="tr"||kd(u)},E4=function(u){var l=rs(u,"colspan",1),m=rs(u,"rowspan",1);return{element:u,colspan:l,rowspan:m}},cw=function(u,l){l===void 0&&(l=E4);var m=function(N){return Da(N.element)?u.col(N):u.cell(N)},h=function(N){return kd(N.element)?u.colgroup(N):u.row(N)},y=function(N){if(C1(N))return h({element:N});var G=m(l(N));return T=H.some({item:N,replacement:G}),G},T=H.none(),R=function(N,G){return T.fold(function(){return y(N)},function(at){return G(N,at.item)?at.replacement:y(N)})};return{getOrInit:R}},sw=function(u){return function(l){var m=[],h=function(R,N){return Zt(m,function(G){return N(G.item,R)})},y=function(R){var N=u==="td"?{scope:null}:{},G=l.replace(R,u,N);return m.push({item:R,sub:G}),G},T=function(R,N){return C1(R)||Da(R)?R:h(R,N).fold(function(){return y(R)},function(G){return N(R,G.item)?G.sub:y(R)})};return{replaceOrInit:T}}},Zb=function(u){return Mo(u,"scope").map(function(l){return l.substr(0,3)})},ty=function(u){var l=function(h){var y=Zb(h);return y.each(function(T){return ha(h,"scope",T)}),function(){var T=u.cell({element:h,colspan:1,rowspan:1});return Za(T,"width"),Za(h,"width"),y.each(function(R){return ha(T,"scope",R)}),T}},m=function(h){var y=function(){var T=ua(Lt(h,Zb));if(T.length===0)return H.none();var R=T[0],N=["row","col"],G=D(T,function(at){return at!==R&&ar(N,at)});return G?H.none():H.from(R)};return Za(h[0],"width"),y().fold(function(){return li(h[0],"scope")},function(T){return ha(h[0],"scope",T+"group")}),Xt(h[0])};return{unmerge:l,merge:m}},Bc={modification:cw,transform:sw,merging:ty},zf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Mm=function(u,l){var m=u.property().name(l);return ar(["ol","ul"],m)},ih=function(u,l){var m=u.property().name(l);return ar(zf,m)},Rm=function(u,l){return ar(["br","img","hr","input"],u.property().name(l))},$l=zp(),Ls=function(u){return ih($l,u)},Kg=function(u){return Mm($l,u)},ny=function(u){return Rm($l,u)},lw=function(u){var l=function(G){return so(G)==="br"},m=function(G){return Dt(G,function(at){return l(at)||Qa(at)&&Cv(at).trim().length===0})},h=function(G){return so(G)==="li"||_i(G,Kg).isSome()},y=function(G){return k(G).map(function(at){return Ls(at)?!0:ny(at)?so(at)!=="img":!1}).getOr(!1)},T=function(G){return Rv(G).bind(function(at){var yt=y(at);return bi(at).map(function(vn){return yt===!0||h(vn)||l(at)||Ls(vn)&&!jr(G,vn)?[]:[Jt.fromTag("br")]})}).getOr([])},R=function(){var G=Ot(u,function(at){var yt=x(at);return m(yt)?[]:yt.concat(T(at))});return G.length===0?[Jt.fromTag("br")]:G},N=R();Ap(u[0]),rl(u[0],N)},S1=function(u){return Fg(u,!0)},Am=function(u){var l=pf(u);l.length===0&&ic(u)},Nf=function(u,l){return{grid:u,cursor:l}},k1=function(u){return le(u,function(l){return le(l.cells,function(m){var h=m.element;return Jo(S1(h),h)})})},ey=function(u,l,m){var h,y,T=Gi(u).rows;return H.from((y=(h=T[l])===null||h===void 0?void 0:h.cells[m])===null||y===void 0?void 0:y.element).filter(S1).orThunk(function(){return k1(T)})},Ga=function(u,l,m){var h=ey(u,l,m);return Nf(u,h)},Td=function(u){var l=function(m,h){var y=D(m,function(T){return T.row===h.row});return y?m:m.concat([h])};return K(u,l,[]).sort(function(m,h){return m.row-h.row})},fw=function(u,l,m,h){var y=l[0].row,T=Td(l),R=ie(T,function(N,G){var at=Xb(N.grid,y,G.row+N.delta,m,h.getOrInit);return{grid:at,delta:N.delta+1}},{grid:u,delta:0}).grid;return Ga(R,y,l[0].column)},ry=function(u,l,m,h){var y=Td(l),T=y[y.length-1],R=T.row+T.rowspan,N=ie(y,function(G,at){return Xb(G,R,at.row,m,h.getOrInit)},u);return Ga(N,R,l[0].column)},T1=function(u,l,m,h){var y=l.details,T=Dm(y),R=T[0].column,N=ie(T,function(G,at){var yt=y1(G.grid,R,at.column+G.delta,m,h.getOrInit);return{grid:yt,delta:G.delta+1}},{grid:u,delta:0}).grid;return Ga(N,y[0].row,R)},uu=function(u,l,m,h){var y=l.details,T=y[y.length-1],R=T.column+T.colspan,N=Dm(y),G=ie(N,function(at,yt){return y1(at,R,yt.column,m,h.getOrInit)},u);return Ga(G,y[0].row,R)},_4=function(u,l,m,h){var y=Dm(l),T=Lt(y,function(N){return N.column}),R=Qb(u,T,!0,m,h.replaceOrInit);return Ga(R,l[0].row,l[0].column)},jl=function(u,l,m,h){var y=uw(u,l,m,h.replaceOrInit);return Ga(y,l[0].row,l[0].column)},dw=function(u,l,m,h){var y=Dm(l),T=Lt(y,function(N){return N.column}),R=Qb(u,T,!1,m,h.replaceOrInit);return Ga(R,l[0].row,l[0].column)},oy=function(u,l,m,h){var y=uw(u,l,m,h.replaceOrInit);return Ga(y,l[0].row,l[0].column)},Od=function(u,l){return function(m,h,y,T,R){var N=Td(h),G=Lt(N,function(yt){return yt.row}),at=O4(m,G,u,l,y,T.replaceOrInit,R);return Ga(at,h[0].row,h[0].column)}},mw=Od("thead",!0),O1=Od("tbody",!1),gw=Od("tfoot",!1),iy=function(u,l,m,h){var y=Dm(l.details),T=nw(u,Lt(y,function(N){return N.column})),R=T.length>0?T[0].cells.length-1:0;return Ga(T,y[0].row,Math.min(y[0].column,R))},pw=function(u,l,m,h){var y=Td(l),T=ew(u,y[0].row,y[y.length-1].row),R=T.length>0?T.length-1:0;return Ga(T,Math.min(l[0].row,R),l[0].column)},D4=function(u,l,m,h){var y=l.cells;lw(y);var T=Xx(u,l.bounds,m,h.merge(y));return Nf(T,H.from(y[0]))},ay=function(u,l,m,h){var y=function(R,N){return jg(R,N,m,h.unmerge(N))},T=ie(l,y,u);return Nf(T,H.from(l[0]))},ml=function(u,l,m,h){var y=function(G,at){var yt=to.fromTable(G);return Sd(yt,at,!0)},T=y(l.clipboard,l.generators),R=yo(l.row,l.column),N=w4(R,u,T,l.generators,m);return N.fold(function(){return Nf(u,H.some(l.element))},function(G){return Ga(G,l.row,l.column)})},E1=function(u,l,m){var h=Mp(u,m.section),y=to.generate(h);return Sd(y,l,!0)},Ku=function(u,l,m,h){var y=Gi(u).rows,T=l.cells[0].column,R=y[l.cells[0].row],N=E1(l.clipboard,l.generators,R),G=qg(T,u,N,l.generators,m);return Ga(G,l.cells[0].row,l.cells[0].column)},ah=function(u,l,m,h){var y=Gi(u).rows,T=l.cells[l.cells.length-1].column+l.cells[l.cells.length-1].colspan,R=y[l.cells[0].row],N=E1(l.clipboard,l.generators,R),G=qg(T,u,N,l.generators,m);return Ga(G,l.cells[0].row,l.cells[0].column)},uh=function(u,l,m,h){var y=Gi(u).rows,T=l.cells[0].row,R=y[T],N=E1(l.clipboard,l.generators,R),G=tw(T,u,N,l.generators,m);return Ga(G,l.cells[0].row,l.cells[0].column)},uy=function(u,l,m,h){var y=Gi(u).rows,T=l.cells[l.cells.length-1].row+l.cells[l.cells.length-1].rowspan,R=y[l.cells[0].row],N=E1(l.clipboard,l.generators,R),G=tw(T,u,N,l.generators,m);return Ga(G,l.cells[0].row,l.cells[0].column)},M4=function(u,l){var m=to.fromTable(u),h=Fs(m,l);return h.bind(function(y){var T=y[y.length-1],R=y[0].column,N=T.column+T.colspan,G=ye(Lt(m.all,function(at){return Pn(at.cells,function(yt){return yt.column>=R&&yt.column<N})}));return Vb(G)}).getOr("")},hw=function(u,l){var m=to.fromTable(u),h=Fs(m,l);return h.bind(Vb).getOr("")},Cu=function(u,l){var m=to.fromTable(u),h=Fs(m,l);return h.bind(function(y){var T=y[y.length-1],R=y[0].row,N=T.row+T.rowspan,G=m.all.slice(R,N);return jx(G)}).getOr("")},Bm=function(u,l,m,h){return ju(u,l,m,h.sizing)},ch=function(u,l,m,h){return Lk(u,l,m,h.sizing,h.resize)},ls=function(u,l){return D(l,function(m){return m.column===0&&m.isLocked})},fs=function(u,l){return D(l,function(m){return m.column+m.colspan>=u.grid.columns&&m.isLocked})},ds=function(u,l){var m=em(u),h=Dm(l);return K(h,function(y,T){var R=m[T.column],N=R.map(yu).getOr(0);return y+N},0)},Xu=function(u){return function(l,m){return Fs(l,m).filter(function(h){var y=u?ls:fs;return!y(l,h)}).map(function(h){return{details:h,pixelDelta:ds(l,h)}})}},gl=function(u,l){return Bf(u,l).map(function(m){return{details:m,pixelDelta:-ds(u,m)}})},_1=function(u){return function(l,m){return v1(l,m).filter(function(h){var y=u?ls:fs;return!y(l,h.cells)})}},ms=Bc.transform("th"),pl=Bc.transform("td"),R4=qa(fw,Fs,It,It,Bc.modification),A4=qa(ry,Fs,It,It,Bc.modification),vw=qa(T1,Xu(!0),ch,It,Bc.modification),bw=qa(uu,Xu(!1),ch,It,Bc.modification),yw=qa(iy,gl,ch,Am,Bc.modification),xw=qa(pw,Fs,It,Am,Bc.modification),B4=qa(_4,Bf,It,It,ms),z4=qa(dw,Bf,It,It,pl),ww=qa(mw,Bf,It,It,ms),N4=qa(O1,Bf,It,It,pl),cy=qa(gw,Bf,It,It,pl),Cw=qa(jl,Bf,It,It,ms),sy=qa(oy,Bf,It,It,pl),Sw=qa(D4,Wb,Bm,It,Bc.merging),P4=qa(ay,Om,Bm,It,Bc.merging),F4=qa(ml,l4,Bm,It,Bc.modification),L4=qa(Ku,_1(!0),It,It,Bc.modification),go=qa(ah,_1(!1),It,It,Bc.modification),zm=qa(uh,v1,It,It,Bc.modification),Xg=qa(uy,v1,It,It,Bc.modification),zc=M4,I4=hw,Ed=Cu,Jg=function(u,l,m){var h=function(su){return so(cc(su))==="table"},y=function(su){return h(u)===!1||fl(su).rows>1},T=function(su){return h(u)===!1||fl(su).columns>1},R=Pb(u),N=Fx(u)?It:Ux,G=function(su){switch(Nb(u)){case"section":return nh.section();case"sectionCells":return nh.sectionCells();case"cells":return nh.cells();default:return nh.getTableSectionType(su,"section")}},at=function(su,Ih){return Ih.cursor.fold(function(){var Jm=pf(su);return pt(Jm).filter(Hr).map(function(bl){l.clear(su);var vs=u.dom.createRng();return vs.selectNode(bl.dom),u.selection.setRng(vs),ha(bl,"data-mce-selected","1"),vs})},function(Jm){var bl=o4(Jm),vs=u.dom.createRng();return vs.setStart(bl.element.dom,bl.offset),vs.setEnd(bl.element.dom,bl.offset),u.selection.setRng(vs),l.clear(su),H.some(vs)})},yt=function(su,Ih,Jm,bl,vs){return function(yl,Hh,vp){vp===void 0&&(vp=!1),Va(yl);var Vh=bl(),Ym=Jt.fromDom(u.getDoc()),Us=Si(Jm,Ym,R),Qm={sizing:Hb(u,yl),resize:Fx(u)?Sx():ld(),section:G(yl)};return Ih(yl)?su(Vh,yl,Hh,Us,Qm).bind(function(d0){An(d0.newRows,function(Uh){Xv(u,Uh.dom)}),An(d0.newCells,function(Uh){Mf(u,Uh.dom)});var m0=at(yl,d0);return Hr(yl)&&(Va(yl),vp||Gu(u,yl.dom,vs)),m0.map(function(Uh){return{rng:Uh,effect:vs}})}):H.none()}},vn=yt(xw,y,It,m,wa),ne=yt(yw,T,It,m,wa),In=yt(R4,Ft,It,m,wa),bn=yt(A4,Ft,It,m,wa),ve=yt(vw,Ft,N,m,wa),he=yt(bw,Ft,N,m,wa),sr=yt(Sw,Ft,It,m,wa),Co=yt(P4,Ft,It,m,wa),yr=yt(L4,Ft,It,m,wa),Pr=yt(go,Ft,It,m,wa),mo=yt(zm,Ft,It,m,wa),eo=yt(Xg,Ft,It,m,wa),$i=yt(F4,Ft,It,m,zx),Aa=yt(Cw,Ft,It,m,wa),Nu=yt(sy,Ft,It,m,wa),To=yt(B4,Ft,It,m,wa),$r=yt(z4,Ft,It,m,wa),vo=yt(ww,Ft,It,m,wa),Uo=yt(N4,Ft,It,m,wa),ki=yt(cy,Ft,It,m,wa),Ql=I4,Ho=zc,Pc=Ed;return{deleteRow:vn,deleteColumn:ne,insertRowsBefore:In,insertRowsAfter:bn,insertColumnsBefore:ve,insertColumnsAfter:he,mergeCells:sr,unmergeCells:Co,pasteColsBefore:yr,pasteColsAfter:Pr,pasteRowsBefore:mo,pasteRowsAfter:eo,pasteCells:$i,makeCellsHeader:Aa,unmakeCellsHeader:Nu,makeColumnsHeader:To,unmakeColumnsHeader:$r,makeRowsHeader:vo,makeRowsBody:Uo,makeRowsFooter:ki,getTableRowType:Pc,getTableCellType:Ql,getTableColType:Ho}},sh={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Yg=function(){return Jt.fromTag("th")},kw=function(){return Jt.fromTag("td")},Tw=function(){return Jt.fromTag("col")},ly=function(u,l,m,h){for(var y=Jt.fromTag("tr"),T=0;T<u;T++){var R=h<l||T<m?Yg():kw();T<m&&ha(R,"scope","row"),h<l&&ha(R,"scope","col"),Bi(R,Jt.fromTag("br")),Bi(y,R)}return y},fy=function(u){var l=Jt.fromTag("colgroup");return Dn(u,function(){return Bi(l,Tw())}),l},Nm=function(u,l,m,h){return Dn(u,function(y){return ly(l,m,h,y)})},dy=function(u,l,m,h,y,T){T===void 0&&(T=sh);var R=Jt.fromTag("table"),N=y!=="cells";Dl(R,T.styles),ta(R,T.attributes),T.colGroups&&Bi(R,fy(l));var G=Math.min(u,m);if(N&&m>0){var at=Jt.fromTag("thead");Bi(R,at);var yt=y==="sectionCells"?G:0,vn=Nm(m,l,yt,h);rl(at,vn)}var ne=Jt.fromTag("tbody");Bi(R,ne);var In=N?u-G:u,bn=N?0:m,ve=Nm(In,l,bn,h);return rl(ne,ve),R},H4=function(u){return u.dom.innerHTML},Wl=function(u){var l=Jt.fromTag("div"),m=Jt.fromDom(u.dom.cloneNode(!0));return Bi(l,m),H4(l)},my=function(u,l){u.selection.select(l.dom,!0),u.selection.collapse(!0)},D1=function(u,l){wc(l,"td,th").each(Yt(my,u))},M1=function(u,l){An(xc(l,"tr"),function(m){Xv(u,m.dom),An(xc(m,"th,td"),function(h){Mf(u,h.dom)})})},Ow=function(u){return Ce(u)&&u.indexOf("%")!==-1},Qg=function(u,l,m,h,y){var T=Yp(u),R={styles:T,attributes:Ig(u),colGroups:zb(u)};return u.undoManager.ignore(function(){var N=dy(m,l,y,h,Nb(u),R);ha(N,"data-mce-id","__mce");var G=Wl(N);u.insertContent(G),u.addVisual()}),wc(cc(u),'table[data-mce-id="__mce"]').map(function(N){return Hg(u)?o1(N):xd(u)?i1(N):(Zp(u)||Ow(T.width))&&th(N),Va(N),li(N,"data-mce-id"),M1(u,N),D1(u,N),N.dom}).getOr(null)},Ew=function(u,l,m,h,y){h===void 0&&(h={});var T=function(G){return on(G)&&G>0};if(T(l)&&T(m)){var R=h.headerRows||0,N=h.headerColumns||0;return Qg(u,m,l,N,R)}else return console.error(y),null},_w=function(u){return function(){return u().fold(function(){return[]},function(l){return Lt(l,function(m){return m.dom})})}},hl=function(u){return function(l){var m=l.length>0?H.some(zs(l)):H.none();u(m)}},Zc=function(u){return function(l,m,h){h===void 0&&(h={});var y=Ew(u,m,l,h,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),y}},cu=function(u,l,m,h){return{insertTable:Zc(u),setClipboardRows:hl(l.setRows),getClipboardRows:_w(l.getRows),setClipboardCols:hl(l.setColumns),getClipboardCols:_w(l.getColumns),resizeHandler:m,selectionTargets:h}},Dw=function(u,l,m){var h=rs(u,l,1);m===1||h<=1?li(u,l):ha(u,l,Math.min(m,h))},gy=function(u,l,m){if(to.hasColumns(u)){var h=Pn(to.justColumns(u),function(R){return R.column>=l&&R.column<m}),y=Lt(h,function(R){var N=Io(R.element);return Dw(N,"span",m-l),N}),T=Jt.fromTag("colgroup");return rl(T,y),[T]}else return[]},Zg=function(u,l,m){return Lt(u.all,function(h){var y=Pn(h.cells,function(N){return N.column>=l&&N.column<m}),T=Lt(y,function(N){var G=Io(N.element);return Dw(G,"colspan",m-l),G}),R=Jt.fromTag("tr");return rl(R,T),R})},Mw=function(u,l){var m=to.fromTable(u),h=Bf(m,l);return h.map(function(y){var T=y[y.length-1],R=y[0].column,N=T.column+T.colspan,G=gy(m,R,N),at=Zg(m,R,N);return Ue(Ue([],G,!0),at,!0)})},Rw=function(u,l,m){var h=to.fromTable(u),y=Fs(h,l);return y.bind(function(T){var R=Sd(h,m,!1),N=Gi(R).rows,G=N.slice(T[0].row,T[T.length-1].row+T[T.length-1].rowspan),at=Ot(G,function(vn){var ne=Pn(vn.cells,function(In){return!In.isLocked});return ne.length>0?[zn(zn({},vn),{cells:ne})]:[]}),yt=rh(at);return Jo(yt.length>0,yt)}).map(function(T){return g1(T)})},Aw=tinymce.util.Tools.resolve("tinymce.util.Tools"),R1=function(u,l,m){var h=u.select("td,th",l),y,T=function(R,N){for(var G=0;G<N.length;G++){var at=u.getStyle(N[G],m);if(typeof R>"u"&&(R=at),R!==at)return""}return R};return T(y,h)},A1=function(u,l,m){m&&u.formatter.apply("align"+m,{},l)},Bw=function(u,l,m){m&&u.formatter.apply("valign"+m,{},l)},_e=function(u,l){Aw.each("left center right".split(" "),function(m){u.formatter.remove("align"+m,{},l)})},Ma=function(u,l){Aw.each("top middle bottom".split(" "),function(m){u.formatter.remove("valign"+m,{},l)})},Pm=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Ra=function(u){return{value:u}},gs=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,py=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Fm=function(u){return gs.test(u)||py.test(u)},B1=function(u){return me(u,"#").toUpperCase()},tp=function(u){return Fm(u)?H.some({value:B1(u)}):H.none()},Lm=function(u){var l=u.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},lh=function(u){var l=Lm(u.red)+Lm(u.green)+Lm(u.blue);return Ra(l)},V4=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,U4=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,hy=function(u,l,m,h){return{red:u,green:l,blue:m,alpha:h}},vy=function(u,l,m,h){var y=parseInt(u,10),T=parseInt(l,10),R=parseInt(m,10),N=parseFloat(h);return hy(y,T,R,N)},zw=function(u){if(u==="transparent")return H.some(hy(0,0,0,0));var l=V4.exec(u);if(l!==null)return H.some(vy(l[1],l[2],l[3],"1"));var m=U4.exec(u);return m!==null?H.some(vy(m[1],m[2],m[3],m[4])):H.none()},Im=function(u){return tp(u).orThunk(function(){return zw(u).map(lh)}).getOrThunk(function(){var l=document.createElement("canvas");l.height=1,l.width=1;var m=l.getContext("2d");m.clearRect(0,0,l.width,l.height),m.fillStyle="#FFFFFF",m.fillStyle=u,m.fillRect(0,0,1,1);var h=m.getImageData(0,0,1,1).data,y=h[0],T=h[1],R=h[2],N=h[3];return lh(hy(y,T,R,N))})},Is=function(u){var l=u,m=function(){return l},h=function(y){l=y};return{get:m,set:h}},fh=function(u){var l=Is(H.none()),m=function(){return l.get().each(u)},h=function(){m(),l.set(H.none())},y=function(){return l.get().isSome()},T=function(){return l.get()},R=function(N){m(),l.set(H.some(N))};return{clear:h,isSet:y,get:T,set:R}},by=function(){return fh(function(u){return u.unbind()})},Hm=function(){var u=fh(It),l=function(m){return u.get().each(m)};return zn(zn({},u),{on:l})},dh=function(u,l,m,h){return function(y){var T=by(),R=Pe(h),N=function(){var G=Ua(l),at=function(yt){return u.formatter.match(m,{value:h},yt.dom,R)};R?(y.setActive(!D(G,at)),T.set(u.formatter.formatChanged(m,function(yt){return y.setActive(!yt)},!0))):(y.setActive(Dt(G,at)),T.set(u.formatter.formatChanged(m,y.setActive,!1,{value:h})))};return u.initialized?N():u.on("init",N),T.clear}},mh=function(u){return bt(u,"menu")},ql=function(u){return Lt(u,function(l){var m=l.text||l.title;return mh(l)?{text:m,items:ql(l.menu)}:{text:m,value:l.value}})},ps=function(u,l,m,h,y){return Lt(m,function(T){var R=T.text||T.title;return mh(T)?{type:"nestedmenuitem",text:R,getSubmenuItems:function(){return ps(u,l,T.menu,h,y)}}:{text:R,type:"togglemenuitem",onAction:function(){return y(T.value)},onSetup:dh(u,l,h,T.value)}})},_d=function(u,l){return function(m){var h;u.execCommand("mceTableApplyCellStyle",!1,(h={},h[l]=m,h))}},Vm=function(u){return Ot(u,function(l){return mh(l)?[zn(zn({},l),{menu:Vm(l.menu)})]:Hn(l.value)?[l]:[]})},gh=function(u,l,m,h,y){return function(T){return T(ps(u,l,m,h,y))}},z1=function(u,l,m){var h=Lt(l,function(y){return{text:y.title,value:"#"+Im(y.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:h.length>0?h:void 0,allowCustomColors:!1},onAction:function(y){var T,R=y.value==="remove"?"":y.value;u.execCommand("mceTableApplyCellStyle",!1,(T={},T[m]=R,T))}}]},ph=function(u){return function(){var l=u.queryCommandValue("mceTableRowType"),m=l==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:m})}},yy=function(u){return function(){var l=u.queryCommandValue("mceTableColType"),m=l==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:m})}},$4=function(u){var l=ql(Bb(u));return l.length>0?H.some({name:"class",type:"listbox",label:"Class",items:l}):H.none()},N1=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Pm}],Ka=function(u){return N1.concat($4(u).toArray())},ts=function(u,l){var m=[{text:"Select...",value:""}],h=[{name:"borderstyle",type:"listbox",label:"Border style",items:m.concat(ql(Rc(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],y={name:"borderwidth",type:"input",label:"Border width"},T=l==="cell"?[y].concat(h):h;return{title:"Advanced",name:"advanced",items:T}},Hs=function(u){return function(l,m){var h=l.dom,y=function(N,G){(!u||G)&&h.setAttrib(m,N,G)},T=function(N,G){(!u||G)&&h.setStyle(m,N,G)},R=function(N,G){(!u||G)&&(G===""?l.formatter.remove(N,{value:null},m,!0):l.formatter.apply(N,{value:G},m))};return{setAttrib:y,setStyle:T,setFormat:R}}},vl={normal:Hs(!1),ifTruthy:Hs(!0)},Gl=function(u){return function(l){return Ie(l,"rgb")?u.toHex(l):l}},Dd=function(u,l){var m=Jt.fromDom(l);return{borderwidth:Hu(m,"border-width").getOr(""),borderstyle:Hu(m,"border-style").getOr(""),bordercolor:Hu(m,"border-color").map(Gl(u)).getOr(""),backgroundcolor:Hu(m,"background-color").map(Gl(u)).getOr("")}},np=function(u){var l=u[0],m=u.slice(1);return An(m,function(h){An(ga(l),function(y){Lo(h,function(T,R){var N=l[y];N!==""&&y===R&&N!==T&&(l[y]="")})})}),l},Nw=function(u,l,m,h){return Zt(u,function(y){return!Or(m.formatter.matchNode(h,l+y))}).getOr("")},hh=Yt(Nw,["left","center","right"],"align"),j4=Yt(Nw,["top","middle","bottom"],"valign"),xy=function(u,l){var m=Yp(u),h=Ig(u),y=function(yt){return{borderstyle:_a(m,"border-style").getOr(""),bordercolor:Gl(yt)(_a(m,"border-color").getOr("")),backgroundcolor:Gl(yt)(_a(m,"background-color").getOr(""))}},T={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},R=function(){var yt=m["border-width"];return Ca(u)&&yt?{border:yt}:_a(h,"border").fold(function(){return{}},function(vn){return{border:vn}})},N=l?y(u.dom):{},G=function(){var yt=_a(m,"border-spacing").or(_a(h,"cellspacing")).fold(function(){return{}},function(ne){return{cellspacing:ne}}),vn=_a(m,"border-padding").or(_a(h,"cellpadding")).fold(function(){return{}},function(ne){return{cellpadding:ne}});return zn(zn({},yt),vn)},at=zn(zn(zn(zn(zn(zn({},T),m),h),N),R()),G());return at},Pw=function(u){return wi(Jt.fromDom(u)).map(function(l){var m={selection:zs(u.cells)};return Ed(l,m)}).getOr("")},Fw=function(u,l,m){var h=function(N,G){var at=Hu(Jt.fromDom(G),"border-width");return Ca(u)&&at.isSome()?at.getOr(""):N.getAttrib(G,"border")||R1(u.dom,G,"border-width")||R1(u.dom,G,"border")},y=u.dom,T=Ca(u)?y.getStyle(l,"border-spacing")||y.getAttrib(l,"cellspacing"):y.getAttrib(l,"cellspacing")||y.getStyle(l,"border-spacing"),R=Ca(u)?R1(y,l,"padding")||y.getAttrib(l,"cellpadding"):y.getAttrib(l,"cellpadding")||R1(y,l,"padding");return zn({width:y.getStyle(l,"width")||y.getAttrib(l,"width"),height:y.getStyle(l,"height")||y.getAttrib(l,"height"),cellspacing:T,cellpadding:R,border:h(y,l),caption:!!y.select("caption",l)[0],class:y.getAttrib(l,"class",""),align:hh(u,l)},m?Dd(y,l):{})},wy=function(u,l,m){var h=u.dom;return zn({height:h.getStyle(l,"height")||h.getAttrib(l,"height"),class:h.getAttrib(l,"class",""),type:Pw(l),align:hh(u,l)},m?Dd(h,l):{})},Cy=function(u,l,m,h){var y=u.dom,T=h.getOr(l),R=function(N,G){return y.getStyle(N,G)||y.getAttrib(N,G)};return zn({width:R(T,"width"),height:R(l,"height"),scope:y.getAttrib(l,"scope"),celltype:Av(l),class:y.getAttrib(l,"class",""),halign:hh(u,l),valign:j4(u,l)},m?Dd(y,l):{})},Go=function(u,l){var m=to.fromTable(u),h=to.justCells(m),y=Pn(h,function(T){return D(l,function(R){return jr(T.element,R)})});return Lt(y,function(T){return{element:T.element.dom,column:to.getColumnAt(m,T.column).map(function(R){return R.element.dom})}})},Kl=function(u,l,m){u.setAttrib("scope",m.scope),u.setAttrib("class",m.class),u.setStyle("height",xu(m.height)),l.setStyle("width",xu(m.width))},Lw=function(u,l){u.setFormat("tablecellbackgroundcolor",l.backgroundcolor),u.setFormat("tablecellbordercolor",l.bordercolor),u.setFormat("tablecellborderstyle",l.borderstyle),u.setFormat("tablecellborderwidth",xu(l.borderwidth))},Sy=function(u,l,m){var h=l.length===1;An(l,function(y){var T=y.element,R=h?vl.normal(u,T):vl.ifTruthy(u,T),N=y.column.map(function(G){return h?vl.normal(u,G):vl.ifTruthy(u,G)}).getOr(R);Kl(R,N,m),Qp(u)&&Lw(R,m),h&&(_e(u,T),Ma(u,T)),m.halign&&A1(u,T,m.halign),m.valign&&Bw(u,T,m.valign)})},ky=function(u,l){u.execCommand("mceTableCellType",!1,{type:l.celltype,no_events:!0})},vh=function(u,l,m,h){var y=Ea(h,function(T,R){return m[R]!==T});Fa(y)>0&&l.length>=1&&wi(l[0]).each(function(T){var R=Go(T,l),N=Fa(Ea(y,function(at,yt){return yt!=="scope"&&yt!=="celltype"}))>0,G=W(y,"celltype");(N||W(y,"scope"))&&Sy(u,R,h),G&&ky(u,h),Gu(u,T.dom,{structure:G,style:N})})},Tr=function(u,l,m,h){var y=h.getData();h.close(),u.undoManager.transact(function(){vh(u,l,m,y),u.focus()})},Ty=function(u,l){var m=wi(l[0]).map(function(h){return Lt(Go(h,l),function(y){return Cy(u,y.element,Qp(u),y.column)})});return np(m.getOrDie())},Iw=function(u,l){var m=Ua(l);if(m.length!==0){var h=Ty(u,m),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:Ka(u)},ts(u,"cell")]},T={type:"panel",items:[{type:"grid",columns:2,items:Ka(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Qp(u)?y:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:Yt(Tr,u,m,h)})}},W4=function(u){var l=ql(mn(u));return l.length>0?H.some({name:"class",type:"listbox",label:"Class",items:l}):H.none()},Hw=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Vw=function(u){return Hw.concat(W4(u).toArray())},Oy=function(u,l){u.setAttrib("class",l.class),u.setStyle("height",xu(l.height))},Ey=function(u,l){u.setStyle("background-color",l.backgroundcolor),u.setStyle("border-color",l.bordercolor),u.setStyle("border-style",l.borderstyle)},P1=function(u,l,m,h){var y=l.length===1;An(l,function(T){var R=y?vl.normal(u,T):vl.ifTruthy(u,T);Oy(R,m),t1(u)&&Ey(R,m),m.align!==h.align&&(_e(u,T),A1(u,T,m.align))})},q4=function(u,l){u.execCommand("mceTableRowType",!1,{type:l.type,no_events:!0})},Uw=function(u,l,m,h){var y=Ea(h,function(N,G){return m[G]!==N});if(Fa(y)>0){var T=W(y,"type"),R=T?Fa(y)>1:!0;R&&P1(u,l,h,m),T&&q4(u,h),wi(Jt.fromDom(l[0])).each(function(N){return Gu(u,N.dom,{structure:T,style:R})})}},G4=function(u,l,m,h){var y=h.getData();h.close(),u.undoManager.transact(function(){Uw(u,l,m,y),u.focus()})},Nc=function(u){var l=Bk(sa(u),lm.selected);if(l.length!==0){var m=Lt(l,function(R){return wy(u,R.dom,t1(u))}),h=np(m),y={type:"tabpanel",tabs:[{title:"General",name:"general",items:Vw(u)},ts(u,"row")]},T={type:"panel",items:[{type:"grid",columns:2,items:Vw(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:t1(u)?y:T,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:Yt(G4,u,Lt(l,function(R){return R.dom}),h)})}},Ju=function(u,l,m){var h=m?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],y=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],T=Ps(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],R=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],N=l.length>0?[{type:"listbox",name:"class",label:"Class",items:l}]:[];return h.concat(y).concat(T).concat(R).concat(N)},Md=function(u,l,m,h){if(l.tagName==="TD"||l.tagName==="TH")Ce(m)?u.setStyle(l,m,h):u.setStyle(l,m);else if(l.children)for(var y=0;y<l.children.length;y++)Md(u,l.children[y],m,h)},$w=function(u,l,m){var h=u.dom,y={},T={};if(y.class=m.class,T.height=xu(m.height),h.getAttrib(l,"width")&&!Ca(u)?y.width=Bv(m.width):T.width=xu(m.width),Ca(u)?(T["border-width"]=xu(m.border),T["border-spacing"]=xu(m.cellspacing)):(y.border=m.border,y.cellpadding=m.cellpadding,y.cellspacing=m.cellspacing),Ca(u)&&l.children)for(var R=0;R<l.children.length;R++)Md(h,l.children[R],{"border-width":xu(m.border),padding:xu(m.cellpadding)}),Ac(u)&&Md(h,l.children[R],{"border-color":m.bordercolor});Ac(u)&&(T["background-color"]=m.backgroundcolor,T["border-color"]=m.bordercolor,T["border-style"]=m.borderstyle),y.style=h.serializeStyle(zn(zn({},Yp(u)),T)),h.setAttribs(l,zn(zn({},Ig(u)),y))},K4=function(u,l,m,h){var y=u.dom,T=h.getData(),R=Ea(T,function(N,G){return m[G]!==N});h.close(),T.class===""&&delete T.class,u.undoManager.transact(function(){if(!l){var N=parseInt(T.cols,10)||1,G=parseInt(T.rows,10)||1;l=Qg(u,N,G,0,0)}if(Fa(R)>0){$w(u,l,T);var at=y.select("caption",l)[0];(at&&!T.caption||!at&&T.caption)&&u.execCommand("mceTableToggleCaption"),T.align===""?_e(u,l):A1(u,l,T.align)}if(u.focus(),u.addVisual(),Fa(R)>0){var yt=W(R,"caption"),vn=yt?Fa(R)>1:!0;Gu(u,l,{structure:yt,style:vn})}})},jw=function(u,l){var m=u.dom,h,y=xy(u,Ac(u));l===!1?(h=m.getParent(u.selection.getStart(),"table",u.getBody()),h?y=Fw(u,h,Ac(u)):Ac(u)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor="")):(y.cols="1",y.rows="1",Ac(u)&&(y.borderstyle="",y.bordercolor="",y.backgroundcolor=""));var T=ql(yd(u));T.length>0&&y.class&&(y.class=y.class.replace(/\s*mce\-item\-table\s*/g,""));var R={type:"grid",columns:2,items:Ju(u,T,l)},N=function(){return{type:"panel",items:[R]}},G=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[R]},ts(u,"table")]}},at=Ac(u)?G():N();u.windowManager.open({title:"Table Properties",size:"normal",body:at,onSubmit:Yt(K4,u,h,y),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:y})},io=function(u){return dm(sa(u),Ha(u))},Ww=function(u){return Dc(sa(u),Ha(u))},bh=function(u,l,m,h,y){var T=Ha(u),R=function(){return io(u).each(function(yr){wi(yr,T).filter(un(T)).each(function(Pr){var mo=Jt.fromText("");if(ei(Pr,mo),ic(Pr),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var eo=u.dom.createRng();eo.setStart(mo.dom,0),eo.setEnd(mo.dom,0),u.selection.setRng(eo),u.nodeChanged()}})})},N=function(yr){return io(u).each(function(Pr){var mo=xd(u)||Hg(u)||Zp(u);mo||wi(Pr,T).each(function(eo){yr==="relative"&&!Ox(eo)?th(eo):yr==="fixed"&&!fd(eo)?o1(eo):yr==="responsive"&&!Xp(eo)&&i1(eo),Va(eo),Gu(u,eo.dom,wa)})})},G=function(yr){return wi(yr,T)},at=function(yr){return Ww(u).bind(function(Pr){return G(Pr).map(function(mo){return yr(mo,Pr)})})},yt=function(yr,Pr){at(function(mo){u.formatter.toggle("tableclass",{value:Pr},mo.dom),Gu(u,mo.dom,Yv)})},vn=function(yr,Pr){at(function(mo){var eo=Ua(h),$i=Dt(eo,function(Nu){return u.formatter.match("tablecellclass",{value:Pr},Nu.dom)}),Aa=$i?u.formatter.remove:u.formatter.apply;An(eo,function(Nu){return Aa("tablecellclass",{value:Pr},Nu.dom)}),Gu(u,mo.dom,Yv)})},ne=function(){io(u).each(function(yr){wi(yr,T).each(function(Pr){Br(Pr,"caption").fold(function(){var mo=Jt.fromTag("caption");Bi(mo,Jt.fromText("Caption")),mk(Pr,mo,0),u.selection.setCursorLocation(mo.dom,0)},function(mo){vi("caption")(yr)&&mi("td",Pr).each(function(eo){return u.selection.setCursorLocation(eo.dom,0)}),ic(mo)}),Gu(u,Pr.dom,wa)})})},In=function(yr){u.focus()},bn=function(yr,Pr){return Pr===void 0&&(Pr=!1),at(function(mo,eo){var $i=ad(h,mo,eo);yr(mo,$i,Pr).each(In)})},ve=function(){return at(function(yr,Pr){var mo=ad(h,yr,Pr),eo=Si(It,Jt.fromDom(u.getDoc()),H.none());return Rw(yr,mo,eo)})},he=function(){return at(function(yr,Pr){var mo=ad(h,yr,Pr);return Mw(yr,mo)})},sr=function(yr,Pr){return Pr().each(function(mo){var eo=Lt(mo,function($i){return Io($i)});at(function($i,Aa){var Nu=_c(Jt.fromDom(u.getDoc())),To=xx(h,Aa,eo,Nu);yr($i,To).each(In)})})},Co=function(yr){return function(Pr,mo){return _a(mo,"type").each(function(eo){bn(yr(eo),mo.no_events)})}};Lo({mceTableSplitCells:function(){return bn(l.unmergeCells)},mceTableMergeCells:function(){return bn(l.mergeCells)},mceTableInsertRowBefore:function(){return bn(l.insertRowsBefore)},mceTableInsertRowAfter:function(){return bn(l.insertRowsAfter)},mceTableInsertColBefore:function(){return bn(l.insertColumnsBefore)},mceTableInsertColAfter:function(){return bn(l.insertColumnsAfter)},mceTableDeleteCol:function(){return bn(l.deleteColumn)},mceTableDeleteRow:function(){return bn(l.deleteRow)},mceTableCutCol:function(){return he().each(function(yr){y.setColumns(yr),bn(l.deleteColumn)})},mceTableCutRow:function(){return ve().each(function(yr){y.setRows(yr),bn(l.deleteRow)})},mceTableCopyCol:function(){return he().each(function(yr){return y.setColumns(yr)})},mceTableCopyRow:function(){return ve().each(function(yr){return y.setRows(yr)})},mceTablePasteColBefore:function(){return sr(l.pasteColsBefore,y.getColumns)},mceTablePasteColAfter:function(){return sr(l.pasteColsAfter,y.getColumns)},mceTablePasteRowBefore:function(){return sr(l.pasteRowsBefore,y.getRows)},mceTablePasteRowAfter:function(){return sr(l.pasteRowsAfter,y.getRows)},mceTableDelete:R,mceTableCellToggleClass:vn,mceTableToggleClass:yt,mceTableToggleCaption:ne,mceTableSizingMode:function(yr,Pr){return N(Pr)},mceTableCellType:Co(function(yr){return yr==="th"?l.makeCellsHeader:l.unmakeCellsHeader}),mceTableColType:Co(function(yr){return yr==="th"?l.makeColumnsHeader:l.unmakeColumnsHeader}),mceTableRowType:Co(function(yr){switch(yr){case"header":return l.makeRowsHeader;case"footer":return l.makeRowsFooter;default:return l.makeRowsBody}})},function(yr,Pr){return u.addCommand(Pr,yr)}),Lo({mceTableProps:Yt(jw,u,!1),mceTableRowProps:Yt(Nc,u),mceTableCellProps:Yt(Iw,u,h)},function(yr,Pr){return u.addCommand(Pr,function(){return yr()})}),u.addCommand("mceInsertTable",function(yr,Pr){De(Pr)&&ga(Pr).length>0?Ew(u,Pr.rows,Pr.columns,Pr.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):jw(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(yr,Pr){var mo=function(Aa){return"tablecell"+Aa.toLowerCase().replace("-","")};if(De(Pr)){var eo=Ua(h);if(eo.length!==0){var $i=Ea(Pr,function(Aa,Nu){return u.formatter.has(mo(Nu))&&Ce(Aa)});Vt($i)||(Lo($i,function(Aa,Nu){An(eo,function(To){vl.normal(u,To.dom).setFormat(mo(Nu),Aa)})}),G(eo[0]).each(function(Aa){return Gu(u,Aa.dom,Yv)}))}}})},ep=function(u,l,m){var h=Ha(u),y=function(T){return Dc(sa(u)).bind(function(R){return wi(R,h).map(function(N){var G=ad(m,N,R);return T(N,G)})}).getOr("")};Lo({mceTableRowType:function(){return y(l.getTableRowType)},mceTableCellType:function(){return y(l.getTableCellType)},mceTableColType:function(){return y(l.getTableColType)}},function(T,R){return u.addQueryValueHandler(R,T)})},F1=function(){var u=Hm(),l=Hm();return{getRows:u.get,setRows:function(m){m.fold(u.clear,u.set),l.clear()},clearRows:u.clear,getColumns:l.get,setColumns:function(m){m.fold(l.clear,l.set),u.clear()},clearColumns:l.clear}},rp={remove_similar:!0,inherit:!1},op=zn({selector:"td,th"},rp),X4={tablecellbackgroundcolor:zn({styles:{backgroundColor:"%value"}},op),tablecellverticalalign:zn({styles:{"vertical-align":"%value"}},op),tablecellbordercolor:zn({styles:{borderColor:"%value"}},op),tablecellclass:zn({classes:["%value"]},op),tableclass:zn({selector:"table",classes:["%value"]},rp),tablecellborderstyle:zn({styles:{borderStyle:"%value"}},op),tablecellborderwidth:zn({styles:{borderWidth:"%value"}},op)},J4=function(u){u.formatter.register(X4)},_y=Al.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Dy=function(u){return u===void 0&&(u=void 0),_y.none(u)},Um=zn(zn({},_y),{none:Dy}),L1=function(u,l,m,h,y){y===void 0&&(y=Ft);var T=h===1;if(!T&&m<=0)return Um.first(u[0]);if(T&&m>=u.length-1)return Um.last(u[u.length-1]);var R=m+h,N=u[R];return y(N)?Um.middle(l,N):L1(u,l,R,h,y)},qw=function(u,l){return wi(u,l).bind(function(m){var h=pf(m),y=Pt(h,function(T){return jr(u,T)});return y.map(function(T){return{index:T,all:h}})})},Y4=function(u,l,m){var h=qw(u,m);return h.fold(function(){return Um.none(u)},function(y){return L1(y.all,u,y.index,1,l)})},My=function(u,l,m){var h=qw(u,m);return h.fold(function(){return Um.none()},function(y){return L1(y.all,u,y.index,-1,l)})},Q4=function(u,l,m,h){return{start:u,soffset:l,finish:m,foffset:h}},yh={create:Q4},Ry=Al.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),pr=function(u,l,m,h){return u.fold(l,m,h)},Gw=function(u){return u.fold(fe,fe,fe)},Z4=Ry.before,Kw=Ry.on,ip=Ry.after,Yu={before:Z4,on:Kw,after:ip,cata:pr,getStart:Gw},xh=Al.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),t3=function(u){return xh.exact(u.start,u.soffset,u.finish,u.foffset)},Ay=function(u){return u.match({domRange:function(l){return Jt.fromDom(l.startContainer)},relative:function(l,m){return Yu.getStart(l)},exact:function(l,m,h,y){return l}})},I1=xh.domRange,Xw=xh.relative,Jw=xh.exact,Yw=function(u){var l=Ay(u);return Uc(l)},Qw=yh.create,Pf={domRange:I1,relative:Xw,exact:Jw,exactFromRange:t3,getWin:Yw,range:Qw},n3=function(u,l){var m=u.document.createRange();return m.selectNode(l.dom),m},e3=function(u,l){var m=u.document.createRange();return ap(m,l),m},ap=function(u,l){return u.selectNodeContents(l.dom)},r3=function(u,l){l.fold(function(m){u.setStartBefore(m.dom)},function(m,h){u.setStart(m.dom,h)},function(m){u.setStartAfter(m.dom)})},o3=function(u,l){l.fold(function(m){u.setEndBefore(m.dom)},function(m,h){u.setEnd(m.dom,h)},function(m){u.setEndAfter(m.dom)})},Ao=function(u,l,m){var h=u.document.createRange();return r3(h,l),o3(h,m),h},up=function(u,l,m,h,y){var T=u.document.createRange();return T.setStart(l.dom,m),T.setEnd(h.dom,y),T},Rd=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},Xl=function(u){var l=u.getClientRects(),m=l.length>0?l[0]:u.getBoundingClientRect();return m.width>0||m.height>0?H.some(m).map(Rd):H.none()},Ad=Al.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),zu=function(u,l,m){return l(Jt.fromDom(m.startContainer),m.startOffset,Jt.fromDom(m.endContainer),m.endOffset)},H1=function(u,l){return l.match({domRange:function(m){return{ltr:Xt(m),rtl:H.none}},relative:function(m,h){return{ltr:er(function(){return Ao(u,m,h)}),rtl:er(function(){return H.some(Ao(u,h,m))})}},exact:function(m,h,y,T){return{ltr:er(function(){return up(u,m,h,y,T)}),rtl:er(function(){return H.some(up(u,y,T,m,h))})}}})},wh=function(u,l){var m=l.ltr();if(m.collapsed){var h=l.rtl().filter(function(y){return y.collapsed===!1});return h.map(function(y){return Ad.rtl(Jt.fromDom(y.endContainer),y.endOffset,Jt.fromDom(y.startContainer),y.startOffset)}).getOrThunk(function(){return zu(u,Ad.ltr,m)})}else return zu(u,Ad.ltr,m)},cp=function(u,l){var m=H1(u,l);return wh(u,m)},Bd=function(u,l){var m=cp(u,l);return m.match({ltr:function(h,y,T,R){var N=u.document.createRange();return N.setStart(h.dom,y),N.setEnd(T.dom,R),N},rtl:function(h,y,T,R){var N=u.document.createRange();return N.setStart(T.dom,R),N.setEnd(h.dom,y),N}})};Ad.ltr,Ad.rtl;var i3=function(u,l,m,h,y){if(y===0)return 0;if(l===h)return y-1;for(var T=h,R=1;R<y;R++){var N=u(R),G=Math.abs(l-N.left);if(m<=N.bottom){if(m<N.top||G>T)return R-1;T=G}}return 0},Zw=function(u,l,m){return l>=u.left&&l<=u.right&&m>=u.top&&m<=u.bottom},V1=function(u,l,m,h,y){var T=function(at){var yt=u.dom.createRange();return yt.setStart(l.dom,at),yt.collapse(!0),yt},R=function(at){var yt=T(at);return yt.getBoundingClientRect()},N=Cv(l).length,G=i3(R,m,h,y.right,N);return T(G)},a3=function(u,l,m,h){var y=u.dom.createRange();y.selectNode(l.dom);var T=y.getClientRects(),R=le(T,function(N){return Zw(N,m,h)?H.some(N):H.none()});return R.map(function(N){return V1(u,l,m,h,N)})},fo=function(u,l,m,h){var y=u.dom.createRange(),T=x(l);return le(T,function(R){return y.selectNode(R.dom),Zw(y.getBoundingClientRect(),m,h)?Vs(u,R,m,h):H.none()})},Vs=function(u,l,m,h){return Qa(l)?a3(u,l,m,h):fo(u,l,m,h)},sp=function(u,l,m,h){var y=u.dom.createRange();y.selectNode(l.dom);var T=y.getBoundingClientRect(),R=Math.max(T.left,Math.min(T.right,m)),N=Math.max(T.top,Math.min(T.bottom,h));return Vs(u,l,R,N)},tC=!0,Ch=!1,po=function(u,l){return l-u.left<u.right-l?tC:Ch},By=function(u,l,m){var h=u.dom.createRange();return h.selectNode(l.dom),h.collapse(m),h},nC=function(u,l,m){var h=u.dom.createRange();h.selectNode(l.dom);var y=h.getBoundingClientRect(),T=po(y,m),R=T===tC?jp:Rv;return R(l).map(function(N){return By(u,N,T)})},Sh=function(u,l,m){var h=l.dom.getBoundingClientRect(),y=po(h,m);return H.some(By(u,l,y))},eC=function(u,l,m){var h=x(l).length===0?Sh:nC;return h(u,l,m)},kh=function(u,l,m){var h,y;return H.from((y=(h=u.dom).caretPositionFromPoint)===null||y===void 0?void 0:y.call(h,l,m)).bind(function(T){if(T.offsetNode===null)return H.none();var R=u.dom.createRange();return R.setStart(T.offsetNode,T.offset),R.collapse(),H.some(R)})},Ff=function(u,l,m){var h,y;return H.from((y=(h=u.dom).caretRangeFromPoint)===null||y===void 0?void 0:y.call(h,l,m))},zy=function(u,l,m,h){var y=u.dom.createRange();y.selectNode(l.dom);var T=y.getBoundingClientRect(),R=Math.max(T.left,Math.min(T.right,m)),N=Math.max(T.top,Math.min(T.bottom,h));return sp(u,l,R,N)},rC=function(u,l,m){return Jt.fromPoint(u,l,m).bind(function(h){var y=function(){return eC(u,h,l)};return x(h).length===0?y():zy(u,h,l,m).orThunk(y)})},u3=function(){return document.caretPositionFromPoint?kh:document.caretRangeFromPoint?Ff:rC}(),c3=function(u,l,m){var h=Jt.fromDom(u.document);return u3(h,l,m).map(function(y){return yh.create(Jt.fromDom(y.startContainer),y.startOffset,Jt.fromDom(y.endContainer),y.endOffset)})},zd=function(u,l){var m=so(u);return m==="input"?Yu.after(u):ar(["br","img"],m)?l===0?Yu.before(u):Yu.after(u):Yu.on(u,l)},$m=function(u,l){var m=u.fold(Yu.before,zd,Yu.after),h=l.fold(Yu.before,zd,Yu.after);return Pf.relative(m,h)},lp=function(u,l,m,h){var y=zd(u,l),T=zd(m,h);return Pf.relative(y,T)},oC=function(u){return u.match({domRange:function(l){var m=Jt.fromDom(l.startContainer),h=Jt.fromDom(l.endContainer);return lp(m,l.startOffset,h,l.endOffset)},relative:$m,exact:lp})},Ny=function(u,l,m,h){var y=yc(u),T=y.dom.createRange();return T.setStart(u.dom,l),T.setEnd(m.dom,h),T},s3=function(u,l,m,h){var y=Ny(u,l,m,h),T=jr(u,m)&&l===h;return y.collapsed&&!T},U1=function(u){return H.from(u.getSelection())},$1=function(u,l){U1(u).each(function(m){m.removeAllRanges(),m.addRange(l)})},Py=function(u,l,m,h,y){var T=up(u,l,m,h,y);$1(u,T)},l3=function(u,l,m,h,y,T){l.collapse(m.dom,h),l.extend(y.dom,T)},Fy=function(u,l){return cp(u,l).match({ltr:function(m,h,y,T){Py(u,m,h,y,T)},rtl:function(m,h,y,T){U1(u).each(function(R){if(R.setBaseAndExtent)R.setBaseAndExtent(m.dom,h,y.dom,T);else if(R.extend)try{l3(u,R,m,h,y,T)}catch{Py(u,y,T,m,h)}else Py(u,y,T,m,h)})}})},j1=function(u,l,m,h,y){var T=lp(l,m,h,y);Fy(u,T)},W1=function(u,l,m){var h=$m(l,m);Fy(u,h)},Ly=function(u){var l=Pf.getWin(u).dom,m=function(y,T,R,N){return up(l,y,T,R,N)},h=oC(u);return cp(l,h).match({ltr:m,rtl:m})},jm=function(u){if(u.rangeCount>0){var l=u.getRangeAt(0),m=u.getRangeAt(u.rangeCount-1);return H.some(yh.create(Jt.fromDom(l.startContainer),l.startOffset,Jt.fromDom(m.endContainer),m.endOffset))}else return H.none()},q1=function(u){if(u.anchorNode===null||u.focusNode===null)return jm(u);var l=Jt.fromDom(u.anchorNode),m=Jt.fromDom(u.focusNode);return s3(l,u.anchorOffset,m,u.focusOffset)?H.some(yh.create(l,u.anchorOffset,m,u.focusOffset)):jm(u)},Iy=function(u,l,m){m===void 0&&(m=!0);var h=m?e3:n3,y=h(u,l);$1(u,y)},G1=function(u){return U1(u).filter(function(l){return l.rangeCount>0}).bind(q1)},Th=function(u){return G1(u).map(function(l){return Pf.exact(l.start,l.soffset,l.finish,l.foffset)})},iC=function(u,l){var m=Bd(u,l);return Xl(m)},f3=function(u,l,m){return c3(u,l,m)},aC=function(u){U1(u).each(function(l){return l.removeAllRanges()})},uC=tinymce.util.Tools.resolve("tinymce.util.VK"),Hy=function(u,l,m){return Vy(u,l,Y4(m,Fg))},cC=function(u,l,m){return Vy(u,l,My(m,Fg))},sC=function(u,l){var m=Pf.exact(l,0,l,0);return Ly(m)},Vy=function(u,l,m){return m.fold(H.none,H.none,function(h,y){return jp(y).map(function(T){return sC(u,T)})},function(h){return u.execCommand("mceTableInsertRowAfter"),Hy(u,l,h)})},Uy=["table","li","dl"],d3=function(u,l,m){if(u.keyCode===uC.TAB){var h=cc(l),y=function(N){var G=so(N);return jr(N,h)||ar(Uy,G)},T=l.selection.getRng(),R=Jt.fromDom(u.shiftKey?T.startContainer:T.endContainer);nl(R,y).each(function(N){u.preventDefault(),wi(N,y).each(m.clear),l.selection.collapse(u.shiftKey);var G=u.shiftKey?cC:Hy,at=G(l,y,N);at.each(function(yt){l.selection.setRng(yt)})})}},m3=function(u,l){return{selection:u,kill:l}},fp={create:m3},g3=function(u,l,m,h){return{start:Yu.on(u,l),finish:Yu.on(m,h)}},Nd={create:g3},lC=function(u,l){var m=Bd(u,l);return yh.create(Jt.fromDom(m.startContainer),m.startOffset,Jt.fromDom(m.endContainer),m.endOffset)},Wm=Nd.create,K1=function(u,l,m,h,y,T,R){return jr(m,y)&&h===T?H.none():Ri(m,"td,th",l).bind(function(N){return Ri(y,"td,th",l).bind(function(G){return fC(u,l,N,G,R)})})},fC=function(u,l,m,h,y){return jr(m,h)?H.none():Zf(m,h,l).bind(function(T){var R=T.boxes.getOr([]);return R.length>1?(y(u,R,T.start,T.finish),H.some(fp.create(H.some(Wm(m,0,m,Bs(m))),!0))):H.none()})},$y=function(u,l,m,h,y){var T=function(R){return y.clearBeforeUpdate(m),y.selectRange(m,R.boxes,R.start,R.finish),R.boxes};return bg(h,u,l,y.firstSelectedSelector,y.lastSelectedSelector).map(T)},Oh=function(u,l){return{item:u,mode:l}},jy=function(u,l,m,h){return h===void 0&&(h=qm),u.property().parent(l).map(function(y){return Oh(y,h)})},qm=function(u,l,m,h){return h===void 0&&(h=Eh),m.sibling(u,l).map(function(y){return Oh(y,h)})},Eh=function(u,l,m,h){h===void 0&&(h=Eh);var y=u.property().children(l),T=m.first(y);return T.map(function(R){return Oh(R,h)})},p3=[{current:jy,next:qm,fallback:H.none()},{current:qm,next:Eh,fallback:H.some(jy)},{current:Eh,next:Eh,fallback:H.some(qm)}],dC=function(u,l,m,h,y){y===void 0&&(y=p3);var T=Zt(y,function(R){return R.current===m});return T.bind(function(R){return R.current(u,l,h,R.next).orThunk(function(){return R.fallback.bind(function(N){return dC(u,l,N,h)})})})},dp=function(){var u=function(m,h){return m.query().prevSibling(h)},l=function(m){return m.length>0?H.some(m[m.length-1]):H.none()};return{sibling:u,first:l}},h3=function(){var u=function(m,h){return m.query().nextSibling(h)},l=function(m){return m.length>0?H.some(m[0]):H.none()};return{sibling:u,first:l}},_h={left:dp,right:h3},Dh=function(u,l,m,h,y,T){var R=dC(u,l,h,y);return R.bind(function(N){return T(N.item)?H.none():m(N.item)?H.some(N.item):Dh(u,N.item,m,N.mode,y,T)})},mC=function(u,l,m,h){return Dh(u,l,m,qm,_h.left(),h)},hs=function(u,l,m,h){return Dh(u,l,m,qm,_h.right(),h)},Wy=function(u){return function(l){return u.property().children(l).length===0}},X1=function(u,l,m){return qy(u,l,Wy(u),m)},v3=function(u,l,m){return gC(u,l,Wy(u),m)},qy=mC,gC=hs,J1=zp(),Mh=function(u,l){return X1(J1,u,l)},Gy=function(u,l){return v3(J1,u,l)},pC=function(u,l,m){return qy(J1,u,l,m)},hC=function(u,l,m){return gC(J1,u,l,m)},Lf=function(u,l,m){return _i(u,l,m).isSome()},Y1=Al.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),b3=function(u,l,m){var h=u.getRect(l),y=u.getRect(m);return y.right>h.left&&y.left<h.right},Ky=function(u){return Ri(u,"tr")},y3=function(u,l,m,h,y,T,R){return Ri(h,"td,th",R).bind(function(N){return Ri(l,"td,th",R).map(function(G){return jr(N,G)?jr(h,N)&&Bs(N)===y?T(G):Y1.none("in same cell"):dr(Ky,[N,G]).fold(function(){return b3(u,G,N)?Y1.success():T(G)},function(at){return T(G)})})}).getOr(Y1.none("default"))},Xy=function(u,l,m,h,y){return u.fold(l,m,h,y)},mp=zn(zn({},Y1),{verify:y3,cata:Xy}),Q1=function(u,l,m,h){return{parent:u,children:l,element:m,index:h}},x3=function(u){return bi(u).bind(function(l){var m=x(l);return vC(m,u).map(function(h){return Q1(l,m,u,h)})})},vC=function(u,l){return Pt(u,Yt(jr,l))},Jy=function(u){return so(u)==="br"},Yy=function(u,l,m){return l(u,m).bind(function(h){return Qa(h)&&Cv(h).trim().length===0?Yy(h,l,m):H.some(h)})},w3=function(u,l,m){return m.traverse(l).orThunk(function(){return Yy(l,m.gather,u)}).map(m.relative)},Z1=function(u,l){return M(u,l).filter(Jy).orThunk(function(){return M(u,l-1).filter(Jy)})},bC=function(u,l,m,h){return Z1(l,m).bind(function(y){return h.traverse(y).fold(function(){return Yy(y,h.gather,u).map(h.relative)},function(T){return x3(T).map(function(R){return Yu.on(R.parent,R.index)})})})},yC=function(u,l,m,h){var y=Jy(l)?w3(u,l,h):bC(u,l,m,h);return y.map(function(T){return{start:T,finish:T}})},xC=function(u){return mp.cata(u,function(l){return H.none()},function(){return H.none()},function(l){return H.some(Vg(l,0))},function(l){return H.some(Vg(l,Bs(l)))})},Rh=function(u,l){return{left:u.left,top:u.top+l,right:u.right,bottom:u.bottom+l}},Ah=function(u,l){return{left:u.left,top:u.top-l,right:u.right,bottom:u.bottom-l}},Gm=function(u,l,m){return{left:u.left+l,top:u.top+m,right:u.right+l,bottom:u.bottom+m}},wC=function(u){return u.top},CC=function(u){return u.bottom},t0=function(u,l,m){return m>=0&&m<Bs(l)?u.getRangedRect(l,m,l,m+1):m>0?u.getRangedRect(l,m-1,l,m):H.none()},n0=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},Qy=function(u,l){return H.some(u.getRect(l))},Zy=function(u,l,m){return zo(l)?Qy(u,l).map(n0):Qa(l)?t0(u,l,m).map(n0):H.none()},SC=function(u,l){return zo(l)?Qy(u,l).map(n0):Qa(l)?u.getRangedRect(l,0,l,Bs(l)).map(n0):H.none()},Jl=5,t2=100,Yl=Al.generate([{none:[]},{retry:["caret"]}]),C3=function(u,l){return u.left<l.left||Math.abs(l.right-u.left)<1||u.left>l.right},If=function(u,l,m){return bv(l,Ls).fold(Me,function(h){return SC(u,h).exists(function(y){return C3(m,y)})})},kC=function(u,l,m,h,y){var T=Rh(y,Jl);return Math.abs(m.bottom-h.bottom)<1||m.top>y.bottom?Yl.retry(T):m.top===y.bottom?Yl.retry(Rh(y,1)):If(u,l,y)?Yl.retry(Gm(T,Jl,0)):Yl.none()},TC=function(u,l,m,h,y){var T=Ah(y,Jl);return Math.abs(m.top-h.top)<1||m.bottom<y.top?Yl.retry(T):m.bottom===y.top?Yl.retry(Ah(y,1)):If(u,l,y)?Yl.retry(Gm(T,Jl,0)):Yl.none()},S3={point:wC,adjuster:TC,move:Ah,gather:Mh},k3={point:CC,adjuster:kC,move:Rh,gather:Gy},gp=function(u,l,m){return u.elementFromPoint(l,m).filter(function(h){return so(h)==="table"}).isSome()},pp=function(u,l,m,h,y){return e0(u,l,m,l.move(h,Jl),y)},e0=function(u,l,m,h,y){return y===0?H.some(h):gp(u,h.left,l.point(h))?pp(u,l,m,h,y-1):u.situsFromPoint(h.left,l.point(h)).bind(function(T){return T.start.fold(H.none,function(R){return SC(u,R).bind(function(N){return l.adjuster(u,R,N,m,h).fold(H.none,function(G){return e0(u,l,m,G,y-1)})}).orThunk(function(){return H.some(h)})},H.none)})},OC=function(u,l){return u.situsFromPoint(l.left,l.bottom+Jl)},Pd=function(u,l){return u.situsFromPoint(l.left,l.top-Jl)},Fd=function(u,l,m){return u.point(l)>m.getInnerHeight()?H.some(u.point(l)-m.getInnerHeight()):u.point(l)<0?H.some(-u.point(l)):H.none()},EC=function(u,l,m){var h=u.move(m,Jl),y=e0(l,u,m,h,t2).getOr(h);return Fd(u,y,l).fold(function(){return l.situsFromPoint(y.left,u.point(y))},function(T){return l.scrollBy(0,T),l.situsFromPoint(y.left,u.point(y)-T)})},Bh={tryUp:Yt(EC,S3),tryDown:Yt(EC,k3),ieTryUp:Pd,ieTryDown:OC,getJumpSize:Xt(Jl)},Km=20,kr=function(u,l,m){return u.getSelection().bind(function(h){return yC(l,h.finish,h.foffset,m).fold(function(){return H.some(Vg(h.finish,h.foffset))},function(y){var T=u.fromSitus(y),R=mp.verify(u,h.finish,h.foffset,T.finish,T.foffset,m.failure,l);return xC(R)})})},n2=function(u,l,m,h,y,T){return T===0?H.none():Hf(u,l,m,h,y).bind(function(R){var N=u.fromSitus(R),G=mp.verify(u,m,h,N.finish,N.foffset,y.failure,l);return mp.cata(G,function(){return H.none()},function(){return H.some(R)},function(at){return jr(m,at)&&h===0?r0(u,m,h,Ah,y):n2(u,l,at,0,y,T-1)},function(at){return jr(m,at)&&h===Bs(at)?r0(u,m,h,Rh,y):n2(u,l,at,Bs(at),y,T-1)})})},r0=function(u,l,m,h,y){return Zy(u,l,m).bind(function(T){return e2(u,y,h(T,Bh.getJumpSize()))})},e2=function(u,l,m){var h=nt().browser;return h.isChrome()||h.isSafari()||h.isFirefox()||h.isEdge()?l.otherRetry(u,m):h.isIE()?l.ieRetry(u,m):H.none()},Hf=function(u,l,m,h,y){return Zy(u,m,h).bind(function(T){return e2(u,y,T)})},o0=function(u,l,m){return kr(u,l,m).bind(function(h){return n2(u,l,h.element,h.offset,m,Km).map(u.fromSitus)})},zh=function(u,l){return Lf(u,function(m){return bi(m).exists(function(h){return jr(h,l)})})},i0=function(u,l,m,h,y){return Ri(h,"td,th",l).bind(function(T){return Ri(T,"table",l).bind(function(R){return zh(y,R)?o0(u,l,m).bind(function(N){return Ri(N.finish,"td,th",l).map(function(G){return{start:T,finish:G,range:N}})}):H.none()})})},r2=function(u,l,m,h,y,T){return nt().browser.isIE()?H.none():T(h,l).orThunk(function(){return i0(u,l,m,h,y).map(function(R){var N=R.range;return fp.create(H.some(Wm(N.start,N.soffset,N.finish,N.foffset)),!0)})})},o2=function(u,l){return Ri(u,"tr",l).bind(function(m){return Ri(m,"table",l).bind(function(h){var y=xc(h,"tr");return jr(m,y[0])?pC(h,function(T){return Rv(T).isSome()},l).map(function(T){var R=Bs(T);return fp.create(H.some(Wm(T,R,T,R)),!0)}):H.none()})})},Ur=function(u,l){return Ri(u,"tr",l).bind(function(m){return Ri(m,"table",l).bind(function(h){var y=xc(h,"tr");return jr(m,y[y.length-1])?hC(h,function(T){return jp(T).isSome()},l).map(function(T){return fp.create(H.some(Wm(T,0,T,0)),!0)}):H.none()})})},_C=function(u,l,m,h,y,T,R){return i0(u,m,h,y,T).bind(function(N){return fC(l,m,N.start,N.finish,R)})},Zr=function(u,l){return Ri(u,"td,th",l)},DC=function(u,l,m,h){var y=Hm(),T=y.clear,R=function(yt){y.on(function(vn){h.clearBeforeUpdate(l),Zr(yt.target,m).each(function(ne){Zf(vn,ne,m).each(function(In){var bn=In.boxes.getOr([]);if(bn.length===1){var ve=bn[0],he=qv(ve)==="false",sr=Zs(Wv(yt.target),ve,jr);he&&sr&&(h.selectRange(l,bn,ve,ve),u.selectContents(ve))}else bn.length>1&&(h.selectRange(l,bn,In.start,In.finish),u.selectContents(ne))})})})},N=function(yt){h.clear(l),Zr(yt.target,m).each(y.set)},G=function(yt){R(yt)},at=function(yt){R(yt),T()};return{clearstate:T,mousedown:N,mouseover:G,mouseup:at}},Nh={traverse:k,gather:Gy,relative:Yu.before,otherRetry:Bh.tryDown,ieRetry:Bh.ieTryDown,failure:mp.failedDown},a0={traverse:B,gather:Mh,relative:Yu.before,otherRetry:Bh.tryUp,ieRetry:Bh.ieTryUp,failure:mp.failedUp},Ld=function(u){return function(l){return l===u}},i2=Ld(38),u0=Ld(40),Ph=function(u){return u>=37&&u<=40},MC={isBackward:Ld(37),isForward:Ld(39)},Nr={isBackward:Ld(39),isForward:Ld(37)},RC=function(u){var l=u!==void 0?u.dom:document,m=l.body.scrollLeft||l.documentElement.scrollLeft,h=l.body.scrollTop||l.documentElement.scrollTop;return Qo(m,h)},AC=function(u,l,m){var h=m!==void 0?m.dom:document,y=h.defaultView;y&&y.scrollBy(u,l)},hp=function(u){var l=function(he,sr){return Jt.fromPoint(Jt.fromDom(u.document),he,sr)},m=function(he){return he.dom.getBoundingClientRect()},h=function(he,sr,Co,yr){var Pr=Pf.exact(he,sr,Co,yr);return iC(u,Pr)},y=function(){return Th(u).map(function(he){return lC(u,he)})},T=function(he){var sr=Pf.relative(he.start,he.finish);return lC(u,sr)},R=function(he,sr){return f3(u,he,sr).map(function(Co){return Nd.create(Co.start,Co.soffset,Co.finish,Co.foffset)})},N=function(){aC(u)},G=function(he){he===void 0&&(he=!1),Th(u).each(function(sr){return sr.fold(function(Co){return Co.collapse(he)},function(Co,yr){var Pr=he?Co:yr;W1(u,Pr,Pr)},function(Co,yr,Pr,mo){var eo=he?Co:Pr,$i=he?yr:mo;j1(u,eo,$i,eo,$i)})})},at=function(he){Iy(u,he,!1)},yt=function(he){Iy(u,he)},vn=function(he){j1(u,he.start,he.soffset,he.finish,he.foffset)},ne=function(he,sr){W1(u,he,sr)},In=function(){return u.innerHeight},bn=function(){var he=RC(Jt.fromDom(u.document));return he.top},ve=function(he,sr){AC(he,sr,Jt.fromDom(u.document))};return{elementFromPoint:l,getRect:m,getRangedRect:h,getSelection:y,fromSitus:T,situsFromPoint:R,clearSelection:N,collapseSelection:G,setSelection:vn,setRelativeSelection:ne,selectNode:at,selectContents:yt,getInnerHeight:In,getScrollY:bn,scrollBy:ve}},Xm=function(u,l){return{rows:u,cols:l}},BC=function(u,l,m,h){var y=hp(u),T=DC(y,l,m,h);return{clearstate:T.clearstate,mousedown:T.mousedown,mouseover:T.mouseover,mouseup:T.mouseup}},zC=function(u,l,m,h){var y=hp(u),T=function(){return h.clear(l),H.none()},R=function(G,at,yt,vn,ne,In){var bn=G.raw,ve=bn.which,he=bn.shiftKey===!0,sr=vg(l,h.selectedSelector).fold(function(){return Ph(ve)&&!he&&h.clearBeforeUpdate(l),u0(ve)&&he?Yt(_C,y,l,m,Nh,vn,at,h.selectRange):i2(ve)&&he?Yt(_C,y,l,m,a0,vn,at,h.selectRange):u0(ve)?Yt(r2,y,m,Nh,vn,at,Ur):i2(ve)?Yt(r2,y,m,a0,vn,at,o2):H.none},function(Co){var yr=function(Pr){return function(){var mo=le(Pr,function(eo){return $y(eo.rows,eo.cols,l,Co,h)});return mo.fold(function(){return Es(l,h.firstSelectedSelector,h.lastSelectedSelector).map(function(eo){var $i=u0(ve)||In.isForward(ve)?Yu.after:Yu.before;return y.setRelativeSelection(Yu.on(eo.first,0),$i(eo.table)),h.clear(l),fp.create(H.none(),!0)})},function(eo){return H.some(fp.create(H.none(),!0))})}};return u0(ve)&&he?yr([Xm(1,0)]):i2(ve)&&he?yr([Xm(-1,0)]):In.isBackward(ve)&&he?yr([Xm(0,-1),Xm(-1,0)]):In.isForward(ve)&&he?yr([Xm(0,1),Xm(1,0)]):Ph(ve)&&!he?T:H.none});return sr()},N=function(G,at,yt,vn,ne){return vg(l,h.selectedSelector).fold(function(){var In=G.raw,bn=In.which,ve=In.shiftKey===!0;return ve&&Ph(bn)?K1(l,m,at,yt,vn,ne,h.selectRange):H.none()},H.none)};return{keydown:R,keyup:N}},a2=function(u,l,m,h){var y=hp(u);return function(T,R){h.clearBeforeUpdate(l),Zf(T,R,m).each(function(N){var G=N.boxes.getOr([]);h.selectRange(l,G,N.start,N.finish),y.selectContents(R),y.collapseSelection()})}},c0=function(u,l){An(l,function(m){gd(u,m)})},NC=function(u){return function(l){Zo(l,u)}},s0=function(u){return function(l){c0(l,u)}},PC=function(u){var l=NC(u.selected),m=s0([u.selected,u.lastSelected,u.firstSelected]),h=function(T){var R=xc(T,u.selectedSelector);An(R,m)},y=function(T,R,N,G){h(T),An(R,l),Zo(N,u.firstSelected),Zo(G,u.lastSelected)};return{clearBeforeUpdate:h,clear:h,selectRange:y,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},FC=function(u,l,m){var h=function(G){li(G,u.selected),li(G,u.firstSelected),li(G,u.lastSelected)},y=function(G){ha(G,u.selected,"1")},T=function(G){R(G),m()},R=function(G){var at=xc(G,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);An(at,h)},N=function(G,at,yt,vn){T(G),An(at,y),ha(yt,u.firstSelected,"1"),ha(vn,u.lastSelected,"1"),l(at,yt,vn)};return{clearBeforeUpdate:R,clear:T,selectRange:N,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},T3={byClass:PC,byAttr:FC},O3=function(u,l){var m=u.slice(0,l[l.length-1].row+1),h=rh(m);return Ot(h,function(y){var T=y.cells.slice(0,l[l.length-1].column+1);return Lt(T,function(R){return R.element})})},E3=function(u,l){var m=u.slice(l[0].row+l[0].rowspan-1,u.length),h=rh(m);return Ot(h,function(y){var T=y.cells.slice(l[0].column+l[0].colspan-1,y.cells.length);return Lt(T,function(R){return R.element})})},_3=function(u,l,m){var h=to.fromTable(u),y=Fs(h,l);return y.map(function(T){var R=Sd(h,m,!1),N=O3(R,T),G=E3(R,T);return{upOrLeftCells:N,downOrRightCells:G}})},LC=tinymce.util.Tools.resolve("tinymce.Env"),u2=function(u){return qo(Jt.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function ho(u,l,m){var h=function(R,N,G){m.targets().each(function(at){var yt=wi(N);yt.each(function(vn){var ne=Pb(u),In=Si(It,Jt.fromDom(u.getDoc()),ne),bn=_3(vn,at,In);Zk(u,R,N,G,bn)})})},y=function(){return Jv(u)},T=T3.byAttr(lm,h,y);return u.on("init",function(R){var N=u.getWin(),G=cc(u),at=Ha(u),yt=function(){var To=u.selection,$r=Jt.fromDom(To.getStart()),vo=Jt.fromDom(To.getEnd()),Uo=dr(wi,[$r,vo]);Uo.fold(function(){return T.clear(G)},It)},vn=BC(N,G,at,T),ne=zC(N,G,at,T),In=a2(N,G,at,T),bn=function(To){return To.raw.shiftKey===!0};u.on("TableSelectorChange",function(To){return In(To.start,To.finish)});var ve=function(To,$r){bn(To)&&($r.kill&&To.kill(),$r.selection.each(function(vo){var Uo=Pf.relative(vo.start,vo.finish),ki=Bd(N,Uo);u.selection.setRng(ki)}))},he=function(To){var $r=vm(To);if($r.raw.shiftKey&&Ph($r.raw.which)){var vo=u.selection.getRng(),Uo=Jt.fromDom(vo.startContainer),ki=Jt.fromDom(vo.endContainer);ne.keyup($r,Uo,vo.startOffset,ki,vo.endOffset).each(function(Ql){ve($r,Ql)})}},sr=function(To){var $r=vm(To);l().each(function(Ho){return Ho.hideBars()});var vo=u.selection.getRng(),Uo=Jt.fromDom(vo.startContainer),ki=Jt.fromDom(vo.endContainer),Ql=Oc(MC,Nr)(Jt.fromDom(u.selection.getStart()));ne.keydown($r,Uo,vo.startOffset,ki,vo.endOffset,Ql).each(function(Ho){ve($r,Ho)}),l().each(function(Ho){return Ho.showBars()})},Co=function(To){return To.button===0},yr=function(To){return To.buttons===void 0||LC.browser.isEdge()&&To.buttons===0?!0:(To.buttons&1)!==0},Pr=function(To){vn.clearstate()},mo=function(To){Co(To)&&u2(To)&&vn.mousedown(vm(To))},eo=function(To){yr(To)&&u2(To)&&vn.mouseover(vm(To))},$i=function(To){Co(To)&&u2(To)&&vn.mouseup(vm(To))},Aa=function(){var To=Is(Jt.fromDom(G)),$r=Is(0),vo=function(Uo){var ki=Jt.fromDom(Uo.target);if(so(ki)==="td"||so(ki)==="th"){var Ql=To.get(),Ho=$r.get();jr(Ql,ki)&&Uo.timeStamp-Ho<300&&(Uo.preventDefault(),In(ki,ki))}To.set(ki),$r.set(Uo.timeStamp)};return{touchEnd:vo}},Nu=Aa();u.on("dragstart",Pr),u.on("mousedown",mo),u.on("mouseover",eo),u.on("mouseup",$i),u.on("touchend",Nu.touchEnd),u.on("keyup",he),u.on("keydown",sr),u.on("NodeChange",yt)}),{clear:T.clear}}var IC=function(u,l){return Br(u,l).isSome()},Fh=function(u,l){var m=Is(H.none()),h=Is([]),y=H.none(),T=vi("caption"),R=function($r){return y.forall(function(vo){return!vo[$r]})},N=function(){return dm(sa(u),Ha(u))},G=function(){return dm(We(u),Ha(u))},at=function(){return N().bind(function($r){return lf(Cc(wi($r),G().bind(wi),function(vo,Uo){return jr(vo,Uo)?T($r)?H.some(Ll($r)):H.some(ad(l,vo,$r)):H.none()}))})},yt=function($r){var vo=wi($r.element);return vo.map(function(Uo){var ki=to.fromTable(Uo),Ql=Fs(ki,$r).getOr([]),Ho=K(Ql,function(Pc,su){return su.isLocked&&(Pc.onAny=!0,su.column===0?Pc.onFirst=!0:su.column+su.colspan>=ki.grid.columns&&(Pc.onLast=!0)),Pc},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Wb(ki,$r).isSome(),unmergeable:Om(ki,$r).isSome(),locked:Ho}})},vn=function(){m.set(er(at)()),y=m.get().bind(yt),An(h.get(),function($r){return $r()})},ne=function($r){return $r(),h.set(h.get().concat([$r])),function(){h.set(Pn(h.get(),function(vo){return vo!==$r}))}},In=function($r,vo){return ne(function(){return m.get().fold(function(){$r.setDisabled(!0)},function(Uo){$r.setDisabled(vo(Uo))})})},bn=function($r,vo,Uo){return ne(function(){return m.get().fold(function(){$r.setDisabled(!0),$r.setActive(!1)},function(ki){$r.setDisabled(vo(ki)),$r.setActive(Uo(ki))})})},ve=function($r){return y.exists(function(vo){return vo.locked[$r]})},he=function($r){return In($r,function(vo){return!1})},sr=function($r){return In($r,function(vo){return T(vo.element)})},Co=function($r){return function(vo){return In(vo,function(Uo){return T(Uo.element)||ve($r)})}},yr=function($r){return function(vo){return In(vo,function(Uo){return T(Uo.element)||$r().isNone()})}},Pr=function($r,vo){return function(Uo){return In(Uo,function(ki){return T(ki.element)||$r().isNone()||ve(vo)})}},mo=function($r){return In($r,function(vo){return R("mergeable")})},eo=function($r){return In($r,function(vo){return R("unmergeable")})},$i=function($r){return bn($r,Me,function(vo){var Uo=wi(vo.element,Ha(u));return Uo.exists(function(ki){return IC(ki,"caption")})})},Aa=function($r,vo){return function(Uo){return bn(Uo,function(ki){return T(ki.element)},function(){return u.queryCommandValue($r)===vo})}},Nu=Aa("mceTableRowType","header"),To=Aa("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",vn),{onSetupTable:he,onSetupCellOrRow:sr,onSetupColumn:Co,onSetupPasteable:yr,onSetupPasteableColumn:Pr,onSetupMergeable:mo,onSetupUnmergeable:eo,resetTargets:vn,onSetupTableWithCaption:$i,onSetupTableRowHeaders:Nu,onSetupTableColumnHeaders:To,targets:m.get}},Lh=function(u,l,m,h){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(N){return N("inserttable | cell row column | advtablesort | tableprops deletetable")}});var y=function(N){return function(){return u.execCommand(N)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:y("mceTableProps"),icon:"table",onSetup:m.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:y("mceTableDelete"),icon:"table-delete-table",onSetup:m.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:y("mceTableCellProps"),icon:"table-cell-properties",onSetup:m.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:y("mceTableMergeCells"),icon:"table-merge-cells",onSetup:m.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:y("mceTableSplitCells"),icon:"table-split-cells",onSetup:m.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:y("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:m.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:y("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:m.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:y("mceTableDeleteRow"),icon:"table-delete-row",onSetup:m.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:y("mceTableRowProps"),icon:"table-row-properties",onSetup:m.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:y("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:m.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:y("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:m.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:y("mceTableDeleteCol"),icon:"table-delete-column",onSetup:m.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:m.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:m.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:m.onSetupPasteable(h.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:m.onSetupPasteable(h.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:m.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:m.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:m.onSetupPasteableColumn(h.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:m.onSetupPasteableColumn(h.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:y("mceInsertTable"),icon:"table"});var T=Vm(yd(u));T.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:gh(u,l,T,"tableclass",function(N){return u.execCommand("mceTableToggleClass",!1,N)}),onSetup:m.onSetupTable});var R=Vm(Bb(u));R.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:gh(u,l,R,"tablecellclass",function(N){return u.execCommand("mceTableCellToggleClass",!1,N)}),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:gh(u,l,Pm,"tablecellverticalalign",_d(u,"vertical-align")),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:gh(u,l,Qv(u),"tablecellborderwidth",_d(u,"border-width")),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:gh(u,l,Rc(u),"tablecellborderstyle",_d(u,"border-style")),onSetup:m.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:y("mceTableToggleCaption"),icon:"table-caption",onSetup:m.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(N){return N(z1(u,Lb(u),"background-color"))},onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(N){return N(z1(u,Ib(u),"border-color"))},onSetup:m.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:ph(u),onSetup:m.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:yy(u),onSetup:m.onSetupTableColumnHeaders})},l0=function(u){var l=function(h){return u.dom.is(h,"table")&&u.getBody().contains(h)},m=dl(u);m.length>0&&u.ui.registry.addContextToolbar("table",{predicate:l,items:m,scope:"node",position:"node"})},f0=function(u,l,m,h){var y=function(In){return function(){return u.execCommand(In)}},T=function(In){u.execCommand("mceInsertTable",!1,{rows:In.numRows,columns:In.numColumns})},R={text:"Table properties",onSetup:m.onSetupTable,onAction:y("mceTableProps")},N={text:"Delete table",icon:"table-delete-table",onSetup:m.onSetupTable,onAction:y("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:y("mceTableInsertRowBefore"),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:y("mceTableInsertRowAfter"),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:y("mceTableDeleteRow"),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:y("mceTableRowProps"),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:y("mceTableCutRow"),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:y("mceTableCopyRow"),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:y("mceTablePasteRowBefore"),onSetup:m.onSetupPasteable(h.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:y("mceTablePasteRowAfter"),onSetup:m.onSetupPasteable(h.getRows)});var G={type:"nestedmenuitem",text:"Row",getSubmenuItems:Xt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:y("mceTableInsertColBefore"),onSetup:m.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:y("mceTableInsertColAfter"),onSetup:m.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:y("mceTableDeleteCol"),onSetup:m.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:y("mceTableCutCol"),onSetup:m.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:y("mceTableCopyCol"),onSetup:m.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:y("mceTablePasteColBefore"),onSetup:m.onSetupPasteableColumn(h.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:y("mceTablePasteColAfter"),onSetup:m.onSetupPasteableColumn(h.getColumns,"onLast")});var at={type:"nestedmenuitem",text:"Column",getSubmenuItems:Xt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:y("mceTableCellProps"),onSetup:m.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:y("mceTableMergeCells"),onSetup:m.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:y("mceTableSplitCells"),onSetup:m.onSetupUnmergeable});var yt={type:"nestedmenuitem",text:"Cell",getSubmenuItems:Xt("tablecellprops tablemergecells tablesplitcells")};Rf(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:y("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:T}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:y("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",R),u.ui.registry.addMenuItem("deletetable",N),u.ui.registry.addNestedMenuItem("row",G),u.ui.registry.addNestedMenuItem("column",at),u.ui.registry.addNestedMenuItem("cell",yt),u.ui.registry.addContextMenu("table",{update:function(){return m.resetTargets(),m.targets().fold(Xt(""),function(In){return so(In.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var vn=Vm(yd(u));vn.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return ps(u,l,vn,"tableclass",function(In){return u.execCommand("mceTableToggleClass",!1,In)})},onSetup:m.onSetupTable});var ne=Vm(Bb(u));ne.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return ps(u,l,ne,"tablecellclass",function(In){return u.execCommand("mceTableCellToggleClass",!1,In)})},onSetup:m.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return ps(u,l,Pm,"tablecellverticalalign",_d(u,"vertical-align"))},onSetup:m.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return ps(u,l,Qv(u),"tablecellborderwidth",_d(u,"border-width"))},onSetup:m.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return ps(u,l,Rc(u),"tablecellborderstyle",_d(u,"border-style"))},onSetup:m.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:y("mceTableToggleCaption"),onSetup:m.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return z1(u,Lb(u),"background-color")},onSetup:m.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return z1(u,Ib(u),"border-color")},onSetup:m.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:ph(u),onSetup:m.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:yy(u),onSetup:m.onSetupTableColumnHeaders})},HC=function(u){var l=bu(function(){return cc(u)},function(){return Dc(sa(u),Ha(u))},lm.selectedSelector),m=Fh(u,l),h=c1(u),y=ho(u,h.lazyResize,m),T=Jg(u,y,h.lazyWire),R=F1();return bh(u,T,y,l,R),ep(u,T,l),sl(u,l,T),f0(u,l,m,R),Lh(u,l,m,R),l0(u),u.on("PreInit",function(){u.serializer.addTempAttr(lm.firstSelected),u.serializer.addTempAttr(lm.lastSelected),J4(u)}),Ul(u)&&u.on("keydown",function(N){d3(N,u,y)}),u.on("remove",function(){h.destroy()}),cu(u,R,h,m)};function VC(){cx.add("table",HC)}VC()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(pt){var sn=typeof pt;return pt===null?"null":sn==="object"&&(Array.prototype.isPrototypeOf(pt)||pt.constructor&&pt.constructor.name==="Array")?"array":sn==="object"&&(String.prototype.isPrototypeOf(pt)||pt.constructor&&pt.constructor.name==="String")?"string":sn},Ae=function(pt){return function(sn){return Ge(sn)===pt}},cr=function(pt){return function(sn){return typeof sn===pt}},Ce=Ae("string"),De=cr("function"),Be=function(){},Ne=function(pt){return function(){return pt}},ce=function(pt){return pt};function Or(pt){for(var sn=[],le=1;le<arguments.length;le++)sn[le-1]=arguments[le];return function(){for(var zn=[],Ue=0;Ue<arguments.length;Ue++)zn[Ue]=arguments[Ue];var er=sn.concat(zn);return pt.apply(null,er)}}var Wn=Ne(!1),Bt=Ne(!0),_n=tinymce.util.Tools.resolve("tinymce.util.Tools"),on=tinymce.util.Tools.resolve("tinymce.util.XHR"),It=function(pt){return pt.getParam("template_cdate_classes","cdate")},At=function(pt){return pt.getParam("template_mdate_classes","mdate")},Sn=function(pt){return pt.getParam("template_selected_content_classes","selcontent")},Xt=function(pt){return pt.getParam("template_preview_replace_values")},fe=function(pt){return pt.getParam("content_style","","string")},X=function(pt){return pt.getParam("content_css_cors",!1,"boolean")},Yt=function(pt){return pt.getParam("template_replace_values")},un=function(pt){return pt.getParam("templates")},tr=function(pt){return pt.getParam("template_cdate_format",pt.translate("%Y-%m-%d"))},Me=function(pt){return pt.getParam("template_mdate_format",pt.translate("%Y-%m-%d"))},Ft=function(pt){var sn=pt.getParam("body_class","","hash");return sn[pt.id]||""},xn=function(pt){var sn=pt.getParam("body_class","","string");return sn.indexOf("=")===-1?sn:Ft(pt)},en=function(pt,sn){if(pt=""+pt,pt.length<sn)for(var le=0;le<sn-pt.length;le++)pt="0"+pt;return pt},pn=function(pt,sn,le){le===void 0&&(le=new Date);var zn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Ue="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),er="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),qr="January February March April May June July August September October November December".split(" ");return sn=sn.replace("%D","%m/%d/%Y"),sn=sn.replace("%r","%I:%M:%S %p"),sn=sn.replace("%Y",""+le.getFullYear()),sn=sn.replace("%y",""+le.getYear()),sn=sn.replace("%m",en(le.getMonth()+1,2)),sn=sn.replace("%d",en(le.getDate(),2)),sn=sn.replace("%H",""+en(le.getHours(),2)),sn=sn.replace("%M",""+en(le.getMinutes(),2)),sn=sn.replace("%S",""+en(le.getSeconds(),2)),sn=sn.replace("%I",""+((le.getHours()+11)%12+1)),sn=sn.replace("%p",le.getHours()<12?"AM":"PM"),sn=sn.replace("%B",""+pt.translate(qr[le.getMonth()])),sn=sn.replace("%b",""+pt.translate(er[le.getMonth()])),sn=sn.replace("%A",""+pt.translate(Ue[le.getDay()])),sn=sn.replace("%a",""+pt.translate(zn[le.getDay()])),sn=sn.replace("%%","%"),sn},J=function(pt,sn){return function(){var le=un(pt);De(le)?le(sn):Ce(le)?on.send({url:le,success:function(zn){sn(JSON.parse(zn))}}):sn(le)}},H=function(pt,sn){return _n.each(sn,function(le,zn){De(le)&&(le=le(zn)),pt=pt.replace(new RegExp("\\{\\$"+zn+"\\}","g"),le)}),pt},fn=function(pt,sn){var le=pt.dom,zn=Yt(pt);_n.each(le.select("*",sn),function(Ue){_n.each(zn,function(er,qr){le.hasClass(Ue,qr)&&De(er)&&er(Ue)})})},Ke=function(pt,sn){return new RegExp("\\b"+sn+"\\b","g").test(pt.className)},Cn=function(pt,sn,le){var zn=pt.dom,Ue=pt.selection.getContent();le=H(le,Yt(pt));var er=zn.create("div",null,le),qr=zn.select(".mceTmpl",er);qr&&qr.length>0&&(er=zn.create("div",null),er.appendChild(qr[0].cloneNode(!0))),_n.each(zn.select("*",er),function(ao){Ke(ao,It(pt).replace(/\s+/g,"|"))&&(ao.innerHTML=pn(pt,tr(pt))),Ke(ao,At(pt).replace(/\s+/g,"|"))&&(ao.innerHTML=pn(pt,Me(pt))),Ke(ao,Sn(pt).replace(/\s+/g,"|"))&&(ao.innerHTML=Ue)}),fn(pt,er),pt.execCommand("mceInsertContent",!1,er.innerHTML),pt.addVisual()},br=function(){return ar},ar=function(){var pt=function(zn){return zn()},sn=ce,le={fold:function(zn,Ue){return zn()},isSome:Wn,isNone:Bt,getOr:sn,getOrThunk:pt,getOrDie:function(zn){throw new Error(zn||"error: getOrDie called on none.")},getOrNull:Ne(null),getOrUndefined:Ne(void 0),or:sn,orThunk:pt,map:br,each:Be,bind:br,exists:Wn,forall:Bt,filter:function(){return br()},toArray:function(){return[]},toString:Ne("none()")};return le}(),D=function(pt){var sn=Ne(pt),le=function(){return Ue},zn=function(er){return er(pt)},Ue={fold:function(er,qr){return qr(pt)},isSome:Bt,isNone:Wn,getOr:sn,getOrThunk:sn,getOrDie:sn,getOrNull:sn,getOrUndefined:sn,or:le,orThunk:le,map:function(er){return D(er(pt))},each:function(er){er(pt)},bind:zn,exists:zn,forall:zn,filter:function(er){return er(pt)?Ue:ar},toArray:function(){return[pt]},toString:function(){return"some("+pt+")"}};return Ue},Dn=function(pt){return pt==null?ar:D(pt)},Lt={some:D,none:br,from:Dn},An=function(pt,sn){for(var le=pt.length,zn=new Array(le),Ue=0;Ue<le;Ue++){var er=pt[Ue];zn[Ue]=sn(er,Ue)}return zn},$t=function(pt,sn,le){for(var zn=0,Ue=pt.length;zn<Ue;zn++){var er=pt[zn];if(sn(er,zn))return Lt.some(er);if(le(er,zn))break}return Lt.none()},oe=function(pt,sn){return $t(pt,sn,Wn)},Pn=tinymce.util.Tools.resolve("tinymce.Env"),ie=tinymce.util.Tools.resolve("tinymce.util.Promise"),K=Object.hasOwnProperty,xr=function(pt,sn){return Zt(pt,sn)?Lt.from(pt[sn]):Lt.none()},Zt=function(pt,sn){return K.call(pt,sn)},Pt={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},ye=function(pt){return pt.replace(/["'<>&]/g,function(sn){return xr(Pt,sn).getOr(sn)})},Ot=function(pt,sn){if(sn.indexOf("<html>")===-1){var le="",zn=fe(pt),Ue=X(pt)?' crossorigin="anonymous"':"";_n.each(pt.contentCSS,function(En){le+='<link type="text/css" rel="stylesheet" href="'+pt.documentBaseURI.toAbsolute(En)+'"'+Ue+">"}),zn&&(le+='<style type="text/css">'+zn+"</style>");var er=xn(pt),qr=pt.dom.encode,ao=Pn.mac?"e.metaKey":"e.ctrlKey && !e.altKey",ko='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+ao+")) {e.preventDefault();}}}, false);<\/script> ",Xn=pt.getBody().dir,Jn=Xn?' dir="'+qr(Xn)+'"':"";sn='<!DOCTYPE html><html><head><base href="'+qr(pt.documentBaseURI.getURI())+'">'+le+ko+'</head><body class="'+qr(er)+'"'+Jn+">"+sn+"</body></html>"}return H(sn,Xt(pt))},Dt=function(pt,sn){var le=function(){if(!sn||sn.length===0){var En=pt.translate("No templates defined.");return pt.notificationManager.open({text:En,type:"info"}),Lt.none()}return Lt.from(_n.map(sn,function(zt,jt){var qn=function(xe){return xe.url!==void 0};return{selected:jt===0,text:zt.title,value:{url:qn(zt)?Lt.from(zt.url):Lt.none(),content:qn(zt)?Lt.none():Lt.from(zt.content),description:zt.description}}}))},zn=function(En){return An(En,function(zt){return{text:zt.text,value:zt.text}})},Ue=function(En,zt){return oe(En,function(jt){return jt.text===zt})},er=function(En){pt.windowManager.alert("Could not load the specified template.",function(){return En.focus("template")})},qr=function(En){return new ie(function(zt,jt){En.value.url.fold(function(){return zt(En.value.content.getOr(""))},function(qn){return on.send({url:qn,success:function(xe){zt(xe)},error:function(xe){jt(xe)}})})})},ao=function(En,zt){return function(jt,qn){if(qn.name==="template"){var xe=jt.getData().template;Ue(En,xe).each(function(Qn){jt.block("Loading..."),qr(Qn).then(function(Mt){zt(jt,Qn,Mt)}).catch(function(){zt(jt,Qn,""),jt.disable("save"),er(jt)})})}}},ko=function(En){return function(zt){var jt=zt.getData();Ue(En,jt.template).each(function(qn){qr(qn).then(function(xe){pt.execCommand("mceInsertTemplate",!1,xe),zt.close()}).catch(function(){zt.disable("save"),er(zt)})})}},Xn=function(En){var zt=zn(En),jt=function(Qn,Mt){return{title:"Insert Template",size:"large",body:{type:"panel",items:Qn},initialData:Mt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:ko(En),onChange:ao(En,qn)}},qn=function(Qn,Mt,Fn){var me=Ot(pt,Fn),te=[{type:"selectbox",name:"template",label:"Templates",items:zt},{type:"htmlpanel",html:'<p aria-live="polite">'+ye(Mt.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],Ie={template:Mt.text,preview:me};Qn.unblock(),Qn.redial(jt(te,Ie)),Qn.focus("template")},xe=pt.windowManager.open(jt([],{template:"",preview:""}));xe.block("Loading..."),qr(En[0]).then(function(Qn){qn(xe,En[0],Qn)}).catch(function(){qn(xe,En[0],""),xe.disable("save"),er(xe)})},Jn=le();Jn.each(Xn)},Qt=function(pt){return function(sn){Dt(pt,sn)}},jn=function(pt){pt.addCommand("mceInsertTemplate",Or(Cn,pt)),pt.addCommand("mceTemplate",J(pt,Qt(pt)))},nn=function(pt){pt.on("PreProcess",function(sn){var le=pt.dom,zn=Me(pt);_n.each(le.select("div",sn.node),function(Ue){le.hasClass(Ue,"mceTmpl")&&(_n.each(le.select("*",Ue),function(er){le.hasClass(er,At(pt).replace(/\s+/g,"|"))&&(er.innerHTML=pn(pt,zn))}),fn(pt,Ue))})})},kn=function(pt){var sn=function(){return pt.execCommand("mceTemplate")};pt.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:sn}),pt.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:sn})};function Ye(){vr.add("template",function(pt){kn(pt),jn(pt),nn(pt)})}Ye()})();(function(){var vr=function(P){var Y=P,ft=function(){return Y},St=function(Ut){Y=Ut};return{get:ft,set:St}},Ge=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ae=function(){return Ae=Object.assign||function(P){for(var Y,ft=1,St=arguments.length;ft<St;ft++){Y=arguments[ft];for(var Ut in Y)Object.prototype.hasOwnProperty.call(Y,Ut)&&(P[Ut]=Y[Ut])}return P},Ae.apply(this,arguments)};function cr(P,Y,ft){if(ft||arguments.length===2)for(var St=0,Ut=Y.length,qt;St<Ut;St++)(qt||!(St in Y))&&(qt||(qt=Array.prototype.slice.call(Y,0,St)),qt[St]=Y[St]);return P.concat(qt||Array.prototype.slice.call(Y))}var Ce=function(P){var Y=typeof P;return P===null?"null":Y==="object"&&(Array.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="Array")?"array":Y==="object"&&(String.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="String")?"string":Y},De=function(P){return function(Y){return Ce(Y)===P}},Be=De("string"),Ne=De("object"),ce=De("array"),Or=function(){},Wn=function(P){return function(){return P}},Bt=function(P){return P},_n=function(P){return function(){throw new Error(P)}},on=Wn(!1),It=Wn(!0),At=function(){return Sn},Sn=function(){var P=function(St){return St()},Y=Bt,ft={fold:function(St,Ut){return St()},isSome:on,isNone:It,getOr:Y,getOrThunk:P,getOrDie:function(St){throw new Error(St||"error: getOrDie called on none.")},getOrNull:Wn(null),getOrUndefined:Wn(void 0),or:Y,orThunk:P,map:At,each:Or,bind:At,exists:on,forall:It,filter:function(){return At()},toArray:function(){return[]},toString:Wn("none()")};return ft}(),Xt=function(P){var Y=Wn(P),ft=function(){return Ut},St=function(qt){return qt(P)},Ut={fold:function(qt,de){return de(P)},isSome:It,isNone:on,getOr:Y,getOrThunk:Y,getOrDie:Y,getOrNull:Y,getOrUndefined:Y,or:ft,orThunk:ft,map:function(qt){return Xt(qt(P))},each:function(qt){qt(P)},bind:St,exists:St,forall:St,filter:function(qt){return qt(P)?Ut:Sn},toArray:function(){return[P]},toString:function(){return"some("+P+")"}};return Ut},fe=function(P){return P==null?Sn:Xt(P)},X={some:Xt,none:At,from:fe},Yt=Array.prototype.slice,un=Array.prototype.indexOf,tr=function(P,Y){return un.call(P,Y)},Me=function(P,Y){return tr(P,Y)>-1},Ft=function(P,Y){for(var ft=P.length,St=new Array(ft),Ut=0;Ut<ft;Ut++){var qt=P[Ut];St[Ut]=Y(qt,Ut)}return St},xn=function(P,Y){for(var ft=0,St=P.length;ft<St;ft++){var Ut=P[ft];Y(Ut,ft)}},en=function(P,Y){for(var ft=P.length-1;ft>=0;ft--){var St=P[ft];Y(St,ft)}},pn=function(P,Y){for(var ft=[],St=0,Ut=P.length;St<Ut;St++){var qt=P[St];Y(qt,St)&&ft.push(qt)}return ft},J=function(P,Y,ft){return en(P,function(St,Ut){ft=Y(ft,St,Ut)}),ft},H=function(P,Y,ft){return xn(P,function(St,Ut){ft=Y(ft,St,Ut)}),ft},fn=function(P,Y,ft){for(var St=0,Ut=P.length;St<Ut;St++){var qt=P[St];if(Y(qt,St))return X.some(qt);if(ft(qt,St))break}return X.none()},Ke=function(P,Y){return fn(P,Y,on)},Cn=function(P,Y){for(var ft=0,St=P.length;ft<St;++ft){var Ut=P[ft];if(Y(Ut,ft)!==!0)return!1}return!0},br=function(P,Y){var ft=Yt.call(P,0);return ft.sort(Y),ft},ar=function(P,Y){return Y>=0&&Y<P.length?X.some(P[Y]):X.none()},D=function(P){return ar(P,0)},Dn=Object.keys,Lt=Object.hasOwnProperty,An=function(P,Y){return Lt.call(P,Y)},$t=function(P){if(!ce(P))throw new Error("cases must be an array");if(P.length===0)throw new Error("there must be at least one case");var Y=[],ft={};return xn(P,function(St,Ut){var qt=Dn(St);if(qt.length!==1)throw new Error("one and only one name per case");var de=qt[0],Ee=St[de];if(ft[de]!==void 0)throw new Error("duplicate key detected:"+de);if(de==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ce(Ee))throw new Error("case arguments must be an array");Y.push(de),ft[de]=function(){for(var fr=[],Jt=0;Jt<arguments.length;Jt++)fr[Jt]=arguments[Jt];var rr=fr.length;if(rr!==Ee.length)throw new Error("Wrong number of arguments to case "+de+". Expected "+Ee.length+" ("+Ee+"), got "+rr);var zr=function(wo){var mi=Dn(wo);if(Y.length!==mi.length)throw new Error("Wrong number of arguments to match. Expected: "+Y.join(",")+`
Actual: `+mi.join(","));var jr=Cn(Y,function(Ou){return Me(mi,Ou)});if(!jr)throw new Error("Not all branches were specified when using match. Specified: "+mi.join(", ")+`
Required: `+Y.join(", "));return wo[de].apply(null,fr)};return{fold:function(){for(var wo=[],mi=0;mi<arguments.length;mi++)wo[mi]=arguments[mi];if(wo.length!==P.length)throw new Error("Wrong number of arguments to fold. Expected "+P.length+", got "+wo.length);var jr=wo[Ut];return jr.apply(null,fr)},match:zr,log:function(wo){console.log(wo,{constructors:Y,constructor:de,params:fr})}}}}),ft},oe={generate:$t};oe.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Pn=function(P){var Y=[],ft=[];return xn(P,function(St){St.fold(function(Ut){Y.push(Ut)},function(Ut){ft.push(Ut)})}),{errors:Y,values:ft}},ie=function(P){var Y=function(zr){return ie(P)},ft=function(zr){return ie(P)},St=function(zr){return ie(zr(P))},Ut=function(zr){return ie(P)},qt=function(zr){zr(P)},de=function(zr){return zr(P)},Ee=function(zr,wo){return wo(P)},fr=function(zr){return zr(P)},Jt=function(zr){return zr(P)},rr=function(){return X.some(P)};return{isValue:It,isError:on,getOr:Wn(P),getOrThunk:Wn(P),getOrDie:Wn(P),or:Y,orThunk:ft,fold:Ee,map:St,mapError:Ut,each:qt,bind:de,exists:fr,forall:Jt,toOptional:rr}},K=function(P){var Y=function(Jt){return Jt()},ft=function(){return _n(String(P))()},St=Bt,Ut=function(Jt){return Jt()},qt=function(Jt){return K(P)},de=function(Jt){return K(Jt(P))},Ee=function(Jt){return K(P)},fr=function(Jt,rr){return Jt(P)};return{isValue:on,isError:It,getOr:Bt,getOrThunk:Y,getOrDie:ft,or:St,orThunk:Ut,fold:fr,map:qt,mapError:de,each:Or,bind:Ee,exists:on,forall:It,toOptional:X.none}},xr=function(P,Y){return P.fold(function(){return K(Y)},ie)},Zt={value:ie,error:K,fromOption:xr},Pt=function(P){return P.type==="inline-command"||P.type==="inline-format"},ye=function(P){return P.type==="block-command"||P.type==="block-format"},Ot=function(P){return br(P,function(Y,ft){return Y.start.length===ft.start.length?0:Y.start.length>ft.start.length?-1:1})},Dt=function(P){var Y=function(qt){return Zt.error({message:qt,pattern:P})},ft=function(qt,de,Ee){if(P.format!==void 0){var fr=void 0;if(ce(P.format)){if(!Cn(P.format,Be))return Y(qt+" pattern has non-string items in the `format` array");fr=P.format}else if(Be(P.format))fr=[P.format];else return Y(qt+" pattern has non-string `format` parameter");return Zt.value(de(fr))}else return P.cmd!==void 0?Be(P.cmd)?Zt.value(Ee(P.cmd,P.value)):Y(qt+" pattern has non-string `cmd` parameter"):Y(qt+" pattern is missing both `format` and `cmd` parameters")};if(!Ne(P))return Y("Raw pattern is not an object");if(!Be(P.start))return Y("Raw pattern is missing `start` parameter");if(P.end!==void 0){if(!Be(P.end))return Y("Inline pattern has non-string `end` parameter");if(P.start.length===0&&P.end.length===0)return Y("Inline pattern has empty `start` and `end` parameters");var St=P.start,Ut=P.end;return Ut.length===0&&(Ut=St,St=""),ft("Inline",function(qt){return{type:"inline-format",start:St,end:Ut,format:qt}},function(qt,de){return{type:"inline-command",start:St,end:Ut,cmd:qt,value:de}})}else return P.replacement!==void 0?Be(P.replacement)?P.start.length===0?Y("Replacement pattern has empty `start` parameter"):Zt.value({type:"inline-command",start:"",end:P.start,cmd:"mceInsertContent",value:P.replacement}):Y("Replacement pattern has non-string `replacement` parameter"):P.start.length===0?Y("Block pattern has empty `start` parameter"):ft("Block",function(qt){return{type:"block-format",start:P.start,format:qt[0]}},function(qt,de){return{type:"block-command",start:P.start,cmd:qt,value:de}})},Qt=function(P){if(P.type==="block-command")return{start:P.start,cmd:P.cmd,value:P.value};if(P.type==="block-format")return{start:P.start,format:P.format};if(P.type==="inline-command")return P.cmd==="mceInsertContent"&&P.start===""?{start:P.end,replacement:P.value}:{start:P.start,end:P.end,cmd:P.cmd,value:P.value};if(P.type==="inline-format")return{start:P.start,end:P.end,format:P.format.length===1?P.format[0]:P.format}},jn=function(P){return{inlinePatterns:pn(P,Pt),blockPatterns:Ot(pn(P,ye))}},nn=function(P){var Y=function(St){var Ut=Pn(Ft(St,Dt));if(Ut.errors.length>0){var qt=Ut.errors[0];throw new Error(qt.message+`:
`+JSON.stringify(qt.pattern,null,2))}P.set(jn(Ut.values))},ft=function(){return cr(cr([],Ft(P.get().inlinePatterns,Qt),!0),Ft(P.get().blockPatterns,Qt),!0)};return{setPatterns:Y,getPatterns:ft}},kn=typeof window<"u"?window:Function("return this;")(),Ye=function(){for(var P=[],Y=0;Y<arguments.length;Y++)P[Y]=arguments[Y];var ft=kn.console;ft&&(ft.error?ft.error.apply(ft,P):ft.log.apply(ft,P))},pt=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],sn=function(P){var Y=P.getParam("textpattern_patterns",pt,"array");if(!ce(Y))return Ye("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var ft=Pn(Ft(Y,Dt));return xn(ft.errors,function(St){return Ye(St.message,St.pattern)}),jn(ft.values)},le=function(P){var Y=P.getParam("forced_root_block","p");return Y===!1?"":Y===!0?"p":Y},zn=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ue=tinymce.util.Tools.resolve("tinymce.util.VK"),er="\uFEFF",qr=" ",ao=tinymce.util.Tools.resolve("tinymce.util.Tools"),ko=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Xn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Jn=function(P,Y){return{container:P,offset:Y}},En=function(P){return P.nodeType===Node.TEXT_NODE},zt=function(P,Y,ft){if(Y&&P.isEmpty(Y)&&!ft(Y)){var St=Y.parentNode;P.remove(Y),zt(P,St,ft)}},jt=function(P,Y,ft,St){St===void 0&&(St=!0);var Ut=Y.startContainer.parentNode,qt=Y.endContainer.parentNode;Y.deleteContents(),St&&!ft(Y.startContainer)&&(En(Y.startContainer)&&Y.startContainer.data.length===0&&P.remove(Y.startContainer),En(Y.endContainer)&&Y.endContainer.data.length===0&&P.remove(Y.endContainer),zt(P,Ut,ft),Ut!==qt&&zt(P,qt,ft))},qn=function(P,Y){var ft=Y.get(P);return ce(ft)&&D(ft).exists(function(St){return An(St,"block")})},xe=function(P){return P.start.length===0},Qn=function(P,Y){var ft=X.from(P.dom.getParent(Y.startContainer,P.dom.isBlock));return le(P)===""?ft.orThunk(function(){return X.some(P.getBody())}):ft},Mt=ko.DOM,Fn=function(P){return function(Y){return P===Y?-1:0}},me=function(P){return function(Y){return P.isBlock(Y)||Me(["BR","IMG","HR","INPUT"],Y.nodeName)||P.getContentEditable(Y)==="false"}},te=function(P,Y,ft){if(En(P)&&Y>=0)return X.some(Jn(P,Y));var St=Xn(Mt);return X.from(St.backwards(P,Y,Fn(P),ft)).map(function(Ut){return Jn(Ut.container,Ut.container.data.length)})},Ie=function(P,Y,ft){if(En(P)&&Y>=P.length)return X.some(Jn(P,Y));var St=Xn(Mt);return X.from(St.forwards(P,Y,Fn(P),ft)).map(function(Ut){return Jn(Ut.container,0)})},ht=function(P,Y,ft){if(!En(P))return X.none();var St=P.textContent;if(Y>=0&&Y<=St.length)return X.some(Jn(P,Y));var Ut=Xn(Mt);return X.from(Ut.backwards(P,Y,Fn(P),ft)).bind(function(qt){var de=qt.container.data;return ht(qt.container,Y+de.length,ft)})},dn=function(P,Y,ft){if(!En(P))return X.none();var St=P.textContent;if(Y<=St.length)return X.some(Jn(P,Y));var Ut=Xn(Mt);return X.from(Ut.forwards(P,Y,Fn(P),ft)).bind(function(qt){return dn(qt.container,Y-St.length,ft)})},tn=function(P,Y,ft,St,Ut){var qt=Xn(P,me(P));return X.from(qt.backwards(Y,ft,St,Ut))},Hn=function(P,Y,ft){if(En(Y)&&(ft<0||ft>Y.data.length))return[];for(var St=[ft],Ut=Y;Ut!==P&&Ut.parentNode;){for(var qt=Ut.parentNode,de=0;de<qt.childNodes.length;de++)if(qt.childNodes[de]===Ut){St.push(de);break}Ut=qt}return Ut===P?St.reverse():[]},Pe=function(P,Y,ft,St,Ut){var qt=Hn(P,Y,ft),de=Hn(P,St,Ut);return{start:qt,end:de}},Er=function(P,Y){var ft=Y.slice(),St=ft.pop(),Ut=H(ft,function(qt,de){return qt.bind(function(Ee){return X.from(Ee.childNodes[de])})},X.some(P));return Ut.bind(function(qt){return En(qt)&&(St<0||St>qt.data.length)?X.none():X.some({node:qt,offset:St})})},Eo=function(P,Y){return Er(P,Y.start).bind(function(ft){var St=ft.node,Ut=ft.offset;return Er(P,Y.end).map(function(qt){var de=qt.node,Ee=qt.offset,fr=document.createRange();return fr.setStart(St,Ut),fr.setEnd(de,Ee),fr})})},_r=function(P,Y){return Pe(P,Y.startContainer,Y.startOffset,Y.endContainer,Y.endOffset)},Rr=function(P,Y,ft){var St=Ie(Y,0,Y);St.each(function(Ut){var qt=Ut.container;dn(qt,ft.start.length,Y).each(function(de){var Ee=P.createRng();Ee.setStart(qt,0),Ee.setEnd(de.container,de.offset),jt(P,Ee,function(fr){return fr===Y})})})},Bo=function(P,Y){var ft=P.dom,St=Y.pattern,Ut=Eo(ft.getRoot(),Y.range).getOrDie("Unable to resolve path range");return Qn(P,Ut).each(function(qt){St.type==="block-format"?qn(St.format,P.formatter)&&P.undoManager.transact(function(){Rr(P.dom,qt,St),P.formatter.apply(St.format)}):St.type==="block-command"&&P.undoManager.transact(function(){Rr(P.dom,qt,St),P.execCommand(St.cmd,!1,St.value)})}),!0},Mi=function(P,Y){var ft=Y.replace(qr," ");return Ke(P,function(St){return Y.indexOf(St.start)===0||ft.indexOf(St.start)===0})},oi=function(P,Y){var ft=P.dom,St=P.selection.getRng();return Qn(P,St).filter(function(Ut){var qt=le(P),de=qt===""&&ft.is(Ut,"body")||ft.is(Ut,qt);return Ut!==null&&de}).bind(function(Ut){var qt=Ut.textContent,de=Mi(Y,qt);return de.map(function(Ee){return ao.trim(qt).length===Ee.start.length?[]:[{pattern:Ee,range:Pe(ft.getRoot(),Ut,0,Ut,0)}]})}).getOr([])},Wo=function(P,Y){if(Y.length!==0){var ft=P.selection.getBookmark();xn(Y,function(St){return Bo(P,St)}),P.selection.moveToBookmark(ft)}},ci=0,Fi=function(P){var Y=new Date,ft=Y.getTime(),St=Math.floor(Math.random()*1e9);return ci++,P+"_"+St+ci+String(ft)},di=function(P,Y,ft){return Y===""||P.length>=Y.length&&P.substr(ft,ft+Y.length)===Y},ti=function(P,Y){return di(P,Y,P.length-Y.length)},Li=function(P,Y){return P.create("span",{"data-mce-type":"bookmark",id:Y})},Jr=function(P,Y){var ft=P.createRng();return ft.setStartAfter(Y.start),ft.setEndBefore(Y.end),ft},Ii=function(P,Y,ft){var St=Eo(P.getRoot(),ft).getOrDie("Unable to resolve path range"),Ut=St.startContainer,qt=St.endContainer,de=St.endOffset===0?qt:qt.splitText(St.endOffset),Ee=St.startOffset===0?Ut:Ut.splitText(St.startOffset);return{prefix:Y,end:de.parentNode.insertBefore(Li(P,Y+"-end"),de),start:Ee.parentNode.insertBefore(Li(P,Y+"-start"),Ee)}},Ze=function(P,Y,ft){zt(P,P.get(Y.prefix+"-end"),ft),zt(P,P.get(Y.prefix+"-start"),ft)},Na=function(P,Y,ft){return function(St,Ut){var qt=St.data,de=qt.substring(0,Ut),Ee=de.lastIndexOf(ft.charAt(ft.length-1)),fr=de.lastIndexOf(ft);return fr!==-1?fr+ft.length:Ee!==-1?Ee+1:-1}},Ei=function(P,Y,ft,St){var Ut=Y.start,qt=tn(P,St.container,St.offset,Na(P,ft,Ut),ft);return qt.bind(function(de){if(de.offset>=Ut.length){var Ee=P.createRng();return Ee.setStart(de.container,de.offset-Ut.length),Ee.setEnd(de.container,de.offset),X.some(Ee)}else{var fr=de.offset-Ut.length;return ht(de.container,fr,ft).map(function(Jt){var rr=P.createRng();return rr.setStart(Jt.container,Jt.offset),rr.setEnd(de.container,de.offset),rr}).filter(function(Jt){return Jt.toString()===Ut}).orThunk(function(){return Ei(P,Y,ft,Jn(de.container,0))})}})},Wi=function(P,Y,ft,St,Ut,qt){if(qt===void 0&&(qt=!1),Y.start.length===0&&!qt){var de=P.createRng();return de.setStart(ft,St),de.setEnd(ft,St),X.some(de)}return te(ft,St,Ut).bind(function(Ee){var fr=Ei(P,Y,Ut,Ee);return fr.bind(function(Jt){return qt&&(Jt.endContainer===Ee.container&&Jt.endOffset===Ee.offset||Ee.offset===0&&Jt.endContainer.textContent.length===Jt.endOffset)?X.none():X.some(Jt)})})},hi=function(P,Y,ft){var St=P.dom,Ut=St.getRoot(),qt=ft.pattern,de=ft.position.container,Ee=ft.position.offset;return ht(de,Ee-ft.pattern.end.length,Y).bind(function(fr){var Jt=Pe(Ut,fr.container,fr.offset,de,Ee);if(xe(qt))return X.some({matches:[{pattern:qt,startRng:Jt,endRng:Jt}],position:fr});var rr=Qi(P,ft.remainingPatterns,fr.container,fr.offset,Y),zr=rr.getOr({matches:[],position:fr}),wo=zr.position,mi=Wi(St,qt,wo.container,wo.offset,Y,rr.isNone());return mi.map(function(jr){var Ou=_r(Ut,jr);return{matches:zr.matches.concat([{pattern:qt,startRng:Ou,endRng:Jt}]),position:Jn(jr.startContainer,jr.startOffset)}})})},Qi=function(P,Y,ft,St,Ut){var qt=P.dom;return te(ft,St,qt.getRoot()).bind(function(de){var Ee=qt.createRng();Ee.setStart(Ut,0),Ee.setEnd(ft,St);for(var fr=Ee.toString(),Jt=0;Jt<Y.length;Jt++){var rr=Y[Jt];if(ti(fr,rr.end)){var zr=Y.slice();zr.splice(Jt,1);var wo=hi(P,Ut,{pattern:rr,remainingPatterns:zr,position:de});if(wo.isSome())return wo}}return X.none()})},Pa=function(P,Y,ft){P.selection.setRng(ft),Y.type==="inline-format"?xn(Y.format,function(St){P.formatter.apply(St)}):P.execCommand(Y.cmd,!1,Y.value)},Zi=function(P,Y,ft,St){var Ut=Jr(P.dom,ft);jt(P.dom,Ut,St),Pa(P,Y,Ut)},du=function(P,Y,ft,St,Ut){var qt=P.dom,de=Jr(qt,St),Ee=Jr(qt,ft);jt(qt,Ee,Ut),jt(qt,de,Ut);var fr={prefix:ft.prefix,start:ft.end,end:St.start},Jt=Jr(qt,fr);Pa(P,Y,Jt)},ot=function(P,Y){var ft=Fi("mce_textpattern"),St=J(Y,function(Ut,qt){var de=Ii(P,ft+("_end"+Ut.length),qt.endRng);return Ut.concat([Ae(Ae({},qt),{endMarker:de})])},[]);return J(St,function(Ut,qt){var de=St.length-Ut.length-1,Ee=xe(qt.pattern)?qt.endMarker:Ii(P,ft+("_start"+de),qt.startRng);return Ut.concat([Ae(Ae({},qt),{startMarker:Ee})])},[])},xt=function(P,Y,ft){var St=P.selection.getRng();return St.collapsed===!1?[]:Qn(P,St).bind(function(Ut){var qt=St.startOffset-(ft?1:0);return Qi(P,Y,St.startContainer,qt,Ut)}).fold(function(){return[]},function(Ut){return Ut.matches})},st=function(P,Y){if(Y.length!==0){var ft=P.dom,St=P.selection.getBookmark(),Ut=ot(ft,Y);xn(Ut,function(qt){var de=ft.getParent(qt.startMarker.start,ft.isBlock),Ee=function(fr){return fr===de};xe(qt.pattern)?Zi(P,qt.pattern,qt.endMarker,Ee):du(P,qt.pattern,qt.startMarker,qt.endMarker,Ee),Ze(ft,qt.endMarker,Ee),Ze(ft,qt.startMarker,Ee)}),P.selection.moveToBookmark(St)}},Gt=function(P,Y){if(!P.selection.isCollapsed())return!1;var ft=xt(P,Y.inlinePatterns,!1),St=oi(P,Y.blockPatterns);return St.length>0||ft.length>0?(P.undoManager.add(),P.undoManager.extra(function(){P.execCommand("mceInsertNewLine")},function(){P.insertContent(er),st(P,ft),Wo(P,St);var Ut=P.selection.getRng(),qt=te(Ut.startContainer,Ut.startOffset,P.dom.getRoot());P.execCommand("mceInsertNewLine"),qt.each(function(de){var Ee=de.container;Ee.data.charAt(de.offset-1)===er&&(Ee.deleteData(de.offset-1,1),zt(P.dom,Ee.parentNode,function(fr){return fr===P.dom.getRoot()}))})}),!0):!1},pe=function(P,Y){var ft=xt(P,Y.inlinePatterns,!0);ft.length>0&&P.undoManager.transact(function(){st(P,ft)})},He=function(P,Y,ft){for(var St=0;St<P.length;St++)if(ft(P[St],Y))return!0;return!1},nt=function(P,Y){return He(P,Y,function(ft,St){return ft===St.keyCode&&Ue.modifierPressed(St)===!1})},dt=function(P,Y){return He(P,Y,function(ft,St){return ft.charCodeAt(0)===St.charCode})},Kt=function(P,Y){var ft=[",",".",";",":","!","?"],St=[32];P.on("keydown",function(Ut){Ut.keyCode===13&&!Ue.modifierPressed(Ut)&&Gt(P,Y.get())&&Ut.preventDefault()},!0),P.on("keyup",function(Ut){nt(St,Ut)&&pe(P,Y.get())}),P.on("keypress",function(Ut){dt(ft,Ut)&&zn.setEditorTimeout(P,function(){pe(P,Y.get())})})};function Tn(){Ge.add("textpattern",function(P){var Y=vr(sn(P));return Kt(P,Y),nn(Y)})}Tn()})();(function(){var vr=function(Wn){var Bt=Wn,_n=function(){return Bt},on=function(It){Bt=It};return{get:_n,set:on}},Ge=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ae=function(Wn,Bt){Wn.fire("VisualBlocks",{state:Bt})},cr=function(Wn,Bt,_n){var on=Wn.dom;on.toggleClass(Wn.getBody(),"mce-visualblocks"),_n.set(!_n.get()),Ae(Wn,_n.get())},Ce=function(Wn,Bt,_n){Wn.addCommand("mceVisualBlocks",function(){cr(Wn,Bt,_n)})},De=function(Wn){return Wn.getParam("visualblocks_default_state",!1,"boolean")},Be=function(Wn,Bt,_n){Wn.on("PreviewFormats AfterPreviewFormats",function(on){_n.get()&&Wn.dom.toggleClass(Wn.getBody(),"mce-visualblocks",on.type==="afterpreviewformats")}),Wn.on("init",function(){De(Wn)&&cr(Wn,Bt,_n)})},Ne=function(Wn,Bt){return function(_n){_n.setActive(Bt.get());var on=function(It){return _n.setActive(It.state)};return Wn.on("VisualBlocks",on),function(){return Wn.off("VisualBlocks",on)}}},ce=function(Wn,Bt){var _n=function(){return Wn.execCommand("mceVisualBlocks")};Wn.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:_n,onSetup:Ne(Wn,Bt)}),Wn.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:_n,onSetup:Ne(Wn,Bt)})};function Or(){Ge.add("visualblocks",function(Wn,Bt){var _n=vr(!1);Ce(Wn,Bt,_n),ce(Wn,_n),Be(Wn,Bt,_n)})}Or()})();(function(){var vr=function(ht){var dn=ht,tn=function(){return dn},Hn=function(Pe){dn=Pe};return{get:tn,set:Hn}},Ge=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ae=function(ht){var dn=function(){return ht.get()};return{isEnabled:dn}},cr=function(ht,dn){return ht.fire("VisualChars",{state:dn})},Ce=function(ht){var dn=typeof ht;return ht===null?"null":dn==="object"&&(Array.prototype.isPrototypeOf(ht)||ht.constructor&&ht.constructor.name==="Array")?"array":dn==="object"&&(String.prototype.isPrototypeOf(ht)||ht.constructor&&ht.constructor.name==="String")?"string":dn},De=function(ht){return function(dn){return Ce(dn)===ht}},Be=function(ht){return function(dn){return typeof dn===ht}},Ne=De("string"),ce=Be("boolean"),Or=Be("number"),Wn=function(){},Bt=function(ht){return function(){return ht}},_n=function(ht){return ht},on=Bt(!1),It=Bt(!0),At=function(){return Sn},Sn=function(){var ht=function(Hn){return Hn()},dn=_n,tn={fold:function(Hn,Pe){return Hn()},isSome:on,isNone:It,getOr:dn,getOrThunk:ht,getOrDie:function(Hn){throw new Error(Hn||"error: getOrDie called on none.")},getOrNull:Bt(null),getOrUndefined:Bt(void 0),or:dn,orThunk:ht,map:At,each:Wn,bind:At,exists:on,forall:It,filter:function(){return At()},toArray:function(){return[]},toString:Bt("none()")};return tn}(),Xt=function(ht){var dn=Bt(ht),tn=function(){return Pe},Hn=function(Er){return Er(ht)},Pe={fold:function(Er,Eo){return Eo(ht)},isSome:It,isNone:on,getOr:dn,getOrThunk:dn,getOrDie:dn,getOrNull:dn,getOrUndefined:dn,or:tn,orThunk:tn,map:function(Er){return Xt(Er(ht))},each:function(Er){Er(ht)},bind:Hn,exists:Hn,forall:Hn,filter:function(Er){return Er(ht)?Pe:Sn},toArray:function(){return[ht]},toString:function(){return"some("+ht+")"}};return Pe},fe=function(ht){return ht==null?Sn:Xt(ht)},X={some:Xt,none:At,from:fe},Yt=function(ht,dn){for(var tn=ht.length,Hn=new Array(tn),Pe=0;Pe<tn;Pe++){var Er=ht[Pe];Hn[Pe]=dn(Er,Pe)}return Hn},un=function(ht,dn){for(var tn=0,Hn=ht.length;tn<Hn;tn++){var Pe=ht[tn];dn(Pe,tn)}},tr=function(ht,dn){for(var tn=[],Hn=0,Pe=ht.length;Hn<Pe;Hn++){var Er=ht[Hn];dn(Er,Hn)&&tn.push(Er)}return tn},Me=Object.keys,Ft=function(ht,dn){for(var tn=Me(ht),Hn=0,Pe=tn.length;Hn<Pe;Hn++){var Er=tn[Hn],Eo=ht[Er];dn(Eo,Er)}};typeof window<"u"||Function("return this;")();var xn=3,en=function(ht){return ht.dom.nodeType},pn=function(ht){return ht.dom.nodeValue},J=function(ht){return function(dn){return en(dn)===ht}},H=J(xn),fn=function(ht,dn,tn){if(Ne(tn)||ce(tn)||Or(tn))ht.setAttribute(dn,tn+"");else throw console.error("Invalid call to Attribute.set. Key ",dn,":: Value ",tn,":: Element ",ht),new Error("Attribute value was not simple")},Ke=function(ht,dn,tn){fn(ht.dom,dn,tn)},Cn=function(ht,dn){var tn=ht.dom.getAttribute(dn);return tn===null?void 0:tn},br=function(ht,dn){ht.dom.removeAttribute(dn)},ar=function(ht,dn){var tn=Cn(ht,dn);return tn===void 0||tn===""?[]:tn.split(" ")},D=function(ht,dn,tn){var Hn=ar(ht,dn),Pe=Hn.concat([tn]);return Ke(ht,dn,Pe.join(" ")),!0},Dn=function(ht,dn,tn){var Hn=tr(ar(ht,dn),function(Pe){return Pe!==tn});return Hn.length>0?Ke(ht,dn,Hn.join(" ")):br(ht,dn),!1},Lt=function(ht){return ht.dom.classList!==void 0},An=function(ht){return ar(ht,"class")},$t=function(ht,dn){return D(ht,"class",dn)},oe=function(ht,dn){return Dn(ht,"class",dn)},Pn=function(ht,dn){Lt(ht)?ht.dom.classList.add(dn):$t(ht,dn)},ie=function(ht){var dn=Lt(ht)?ht.dom.classList:An(ht);dn.length===0&&br(ht,"class")},K=function(ht,dn){if(Lt(ht)){var tn=ht.dom.classList;tn.remove(dn)}else oe(ht,dn);ie(ht)},xr=function(ht,dn){var tn=dn||document,Hn=tn.createElement("div");if(Hn.innerHTML=ht,!Hn.hasChildNodes()||Hn.childNodes.length>1)throw console.error("HTML does not have a single root node",ht),new Error("HTML must have a single root node");return ye(Hn.childNodes[0])},Zt=function(ht,dn){var tn=dn||document,Hn=tn.createElement(ht);return ye(Hn)},Pt=function(ht,dn){var tn=dn||document,Hn=tn.createTextNode(ht);return ye(Hn)},ye=function(ht){if(ht==null)throw new Error("Node cannot be null or undefined");return{dom:ht}},Ot=function(ht,dn,tn){return X.from(ht.dom.elementFromPoint(dn,tn)).map(ye)},Dt={fromHtml:xr,fromTag:Zt,fromText:Pt,fromDom:ye,fromPoint:Ot},Qt={" ":"nbsp","­":"shy"},jn=function(ht,dn){var tn="";return Ft(ht,function(Hn,Pe){tn+=Pe}),new RegExp("["+tn+"]",dn?"g":"")},nn=function(ht){var dn="";return Ft(ht,function(tn){dn&&(dn+=","),dn+="span.mce-"+tn}),dn},kn=jn(Qt),Ye=jn(Qt,!0),pt=nn(Qt),sn="mce-nbsp",le=function(ht){return'<span data-mce-bogus="1" class="mce-'+Qt[ht]+'">'+ht+"</span>"},zn=function(ht){var dn=pn(ht);return H(ht)&&dn!==void 0&&kn.test(dn)},Ue=function(ht,dn){var tn=[],Hn=ht.dom,Pe=Yt(Hn.childNodes,Dt.fromDom);return un(Pe,function(Er){dn(Er)&&(tn=tn.concat([Er])),tn=tn.concat(Ue(Er,dn))}),tn},er=function(ht,dn){for(;ht.parentNode;){if(ht.parentNode===dn)return ht;ht=ht.parentNode}},qr=function(ht){return ht.replace(Ye,le)},ao=function(ht){return ht.nodeName.toLowerCase()==="span"&&ht.classList.contains("mce-nbsp-wrap")},ko=function(ht,dn){var tn=Ue(Dt.fromDom(dn),zn);un(tn,function(Hn){var Pe=Hn.dom.parentNode;if(ao(Pe))Pn(Dt.fromDom(Pe),sn);else{for(var Er=qr(ht.dom.encode(pn(Hn))),Eo=ht.dom.create("div",null,Er),_r=void 0;_r=Eo.lastChild;)ht.dom.insertAfter(_r,Hn.dom);ht.dom.remove(Hn.dom)}})},Xn=function(ht,dn){var tn=ht.dom.select(pt,dn);un(tn,function(Hn){ao(Hn)?K(Dt.fromDom(Hn),sn):ht.dom.remove(Hn,!0)})},Jn=function(ht){var dn=ht.getBody(),tn=ht.selection.getBookmark(),Hn=er(ht.selection.getNode(),dn);Hn=Hn!==void 0?Hn:dn,Xn(ht,Hn),ko(ht,Hn),ht.selection.moveToBookmark(tn)},En=function(ht,dn){cr(ht,dn.get());var tn=ht.getBody();dn.get()===!0?ko(ht,tn):Xn(ht,tn)},zt=function(ht,dn){dn.set(!dn.get());var tn=ht.selection.getBookmark();En(ht,dn),ht.selection.moveToBookmark(tn)},jt=function(ht,dn){ht.addCommand("mceVisualChars",function(){zt(ht,dn)})},qn=function(ht){return ht.getParam("visualchars_default_state",!1)},xe=function(ht){return ht.getParam("forced_root_block")!==!1},Qn=function(ht,dn){ht.on("init",function(){En(ht,dn)})},Mt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Fn=function(ht,dn){var tn=Mt.debounce(function(){Jn(ht)},300);xe(ht)&&ht.on("keydown",function(Hn){dn.get()===!0&&(Hn.keyCode===13?Jn(ht):tn())}),ht.on("remove",tn.stop)},me=function(ht,dn){return function(tn){tn.setActive(dn.get());var Hn=function(Pe){return tn.setActive(Pe.state)};return ht.on("VisualChars",Hn),function(){return ht.off("VisualChars",Hn)}}},te=function(ht,dn){var tn=function(){return ht.execCommand("mceVisualChars")};ht.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:tn,onSetup:me(ht,dn)}),ht.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:tn,onSetup:me(ht,dn)})};function Ie(){Ge.add("visualchars",function(ht){var dn=vr(qn(ht));return jt(ht,dn),te(ht,dn),Fn(ht,dn),Qn(ht,dn),Ae(dn)})}Ie()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(Ot){return Ot},Ae=function(){return Ae=Object.assign||function(Ot){for(var Dt,Qt=1,jn=arguments.length;Qt<jn;Qt++){Dt=arguments[Qt];for(var nn in Dt)Object.prototype.hasOwnProperty.call(Dt,nn)&&(Ot[nn]=Dt[nn])}return Ot},Ae.apply(this,arguments)},cr="\uFEFF",Ce=function(Ot){return Ot.replace(/\uFEFF/g,"")},De=function(Ot,Dt){for(var Qt=Ot.length,jn=new Array(Qt),nn=0;nn<Qt;nn++){var kn=Ot[nn];jn[nn]=Dt(kn,nn)}return jn},Be="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",Ne={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:Be},ce={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},Or=[new RegExp(Ne.aletter),new RegExp(Ne.midnumlet),new RegExp(Ne.midletter),new RegExp(Ne.midnum),new RegExp(Ne.numeric),new RegExp(Ne.cr),new RegExp(Ne.lf),new RegExp(Ne.newline),new RegExp(Ne.extend),new RegExp(Ne.format),new RegExp(Ne.katakana),new RegExp(Ne.extendnumlet),new RegExp("@")],Wn="",Bt=new RegExp("^"+Ne.punctuation+"$"),_n=/^\s+$/,on=Or,It=ce.OTHER,At=function(Ot){for(var Dt=It,Qt=on.length,jn=0;jn<Qt;++jn){var nn=on[jn];if(nn&&nn.test(Ot)){Dt=jn;break}}return Dt},Sn=function(Ot){var Dt={};return function(Qt){if(Dt[Qt])return Dt[Qt];var jn=Ot(Qt);return Dt[Qt]=jn,jn}},Xt=function(Ot){var Dt=Sn(At);return De(Ot,Dt)},fe=function(Ot,Dt){var Qt=Ot[Dt],jn=Ot[Dt+1];if(Dt<0||Dt>Ot.length-1&&Dt!==0||Qt===ce.ALETTER&&jn===ce.ALETTER)return!1;var nn=Ot[Dt+2];if(Qt===ce.ALETTER&&(jn===ce.MIDLETTER||jn===ce.MIDNUMLET||jn===ce.AT)&&nn===ce.ALETTER)return!1;var kn=Ot[Dt-1];return(Qt===ce.MIDLETTER||Qt===ce.MIDNUMLET||jn===ce.AT)&&jn===ce.ALETTER&&kn===ce.ALETTER||(Qt===ce.NUMERIC||Qt===ce.ALETTER)&&(jn===ce.NUMERIC||jn===ce.ALETTER)||(Qt===ce.MIDNUM||Qt===ce.MIDNUMLET)&&jn===ce.NUMERIC&&kn===ce.NUMERIC||Qt===ce.NUMERIC&&(jn===ce.MIDNUM||jn===ce.MIDNUMLET)&&nn===ce.NUMERIC||Qt===ce.EXTEND||Qt===ce.FORMAT||kn===ce.EXTEND||kn===ce.FORMAT||jn===ce.EXTEND||jn===ce.FORMAT||Qt===ce.CR&&jn===ce.LF?!1:Qt===ce.NEWLINE||Qt===ce.CR||Qt===ce.LF||jn===ce.NEWLINE||jn===ce.CR||jn===ce.LF?!0:!(Qt===ce.KATAKANA&&jn===ce.KATAKANA||jn===ce.EXTENDNUMLET&&(Qt===ce.ALETTER||Qt===ce.NUMERIC||Qt===ce.KATAKANA||Qt===ce.EXTENDNUMLET)||Qt===ce.EXTENDNUMLET&&(jn===ce.ALETTER||jn===ce.NUMERIC||jn===ce.KATAKANA)||Qt===ce.AT)},X=Wn,Yt=_n,un=Bt,tr=function(Ot){return Ot==="http"||Ot==="https"},Me=function(Ot,Dt){var Qt;for(Qt=Dt;Qt<Ot.length&&!Yt.test(Ot[Qt]);Qt++);return Qt},Ft=function(Ot,Dt){var Qt=Me(Ot,Dt+1),jn=Ot.slice(Dt+1,Qt).join(X);return jn.substr(0,3)==="://"?Qt:Dt},xn=function(Ot,Dt,Qt,jn){for(var nn=[],kn=[],Ye=0;Ye<Qt.length;++Ye)if(kn.push(Ot[Ye]),fe(Qt,Ye)){var pt=Dt[Ye];if((jn.includeWhitespace||!Yt.test(pt))&&(jn.includePunctuation||!un.test(pt))){var sn=Ye-kn.length+1,le=Ye+1,zn=Dt.slice(sn,le).join(X);if(tr(zn)){var Ue=Ft(Dt,Ye),er=Ot.slice(le,Ue);Array.prototype.push.apply(kn,er),Ye=Ue}nn.push(kn)}kn=[]}return nn},en=function(){return{includeWhitespace:!1,includePunctuation:!1}},pn=function(Ot,Dt,Qt){Qt=Ae(Ae({},en()),Qt);for(var jn=[],nn=[],kn=0;kn<Ot.length;kn++){var Ye=Dt(Ot[kn]);Ye!==cr&&(jn.push(Ot[kn]),nn.push(Ye))}var pt=Xt(nn);return xn(jn,nn,pt,Qt)},J=pn,H=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),fn=function(Ot,Dt){for(var Qt=Dt.getBlockElements(),jn=Dt.getShortEndedElements(),nn=function(sn){return Qt[sn.nodeName]||jn[sn.nodeName]},kn=[],Ye="",pt=new H(Ot,Ot);Ot=pt.next();)Ot.nodeType===3?Ye+=Ce(Ot.data):nn(Ot)&&Ye.length&&(kn.push(Ye),Ye="");return Ye.length&&kn.push(Ye),kn},Ke=function(Ot){return Ot.replace(/\u200B/g,"")},Cn=function(Ot){return Ot.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},br=function(Ot,Dt){var Qt=Ke(fn(Ot,Dt).join(`
`));return J(Qt.split(""),Ge).length},ar=function(Ot,Dt){var Qt=fn(Ot,Dt).join("");return Cn(Qt)},D=function(Ot,Dt){var Qt=fn(Ot,Dt).join("").replace(/\s/g,"");return Cn(Qt)},Dn=function(Ot,Dt){return function(){return Dt(Ot.getBody(),Ot.schema)}},Lt=function(Ot,Dt){return function(){return Dt(Ot.selection.getRng().cloneContents(),Ot.schema)}},An=function(Ot){return Dn(Ot,br)},$t=function(Ot){return{body:{getWordCount:An(Ot),getCharacterCount:Dn(Ot,ar),getCharacterCountWithoutSpaces:Dn(Ot,D)},selection:{getWordCount:Lt(Ot,br),getCharacterCount:Lt(Ot,ar),getCharacterCountWithoutSpaces:Lt(Ot,D)},getCount:An(Ot)}},oe=function(Ot,Dt){Ot.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Dt.body.getWordCount()),String(Dt.selection.getWordCount())],["Characters (no spaces)",String(Dt.body.getCharacterCountWithoutSpaces()),String(Dt.selection.getCharacterCountWithoutSpaces())],["Characters",String(Dt.body.getCharacterCount()),String(Dt.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Pn=function(Ot,Dt){Ot.addCommand("mceWordCount",function(){return oe(Ot,Dt)})},ie=tinymce.util.Tools.resolve("tinymce.util.Delay"),K=function(Ot,Dt){Ot.fire("wordCountUpdate",{wordCount:{words:Dt.body.getWordCount(),characters:Dt.body.getCharacterCount(),charactersWithoutSpaces:Dt.body.getCharacterCountWithoutSpaces()}})},xr=function(Ot,Dt){K(Ot,Dt)},Zt=function(Ot,Dt,Qt){var jn=ie.debounce(function(){return xr(Ot,Dt)},Qt);Ot.on("init",function(){xr(Ot,Dt),ie.setEditorTimeout(Ot,function(){Ot.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",jn)},0)})},Pt=function(Ot){var Dt=function(){return Ot.execCommand("mceWordCount")};Ot.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Dt}),Ot.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Dt})};function ye(Ot){Ot===void 0&&(Ot=300),vr.add("wordcount",function(Dt){var Qt=$t(Dt);return Pn(Dt,Qt),Pt(Dt),Zt(Dt,Qt,Ot),Qt})}ye()})();(function(){var vr=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ge=function(){return Ge=Object.assign||function(B){for(var k,x=1,M=arguments.length;x<M;x++){k=arguments[x];for(var U in k)Object.prototype.hasOwnProperty.call(k,U)&&(B[U]=k[U])}return B},Ge.apply(this,arguments)},Ae=function(B){var k=typeof B;return B===null?"null":k==="object"&&(Array.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="Array")?"array":k==="object"&&(String.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="String")?"string":k},cr=function(B){return function(k){return Ae(k)===B}},Ce=function(B){return function(k){return typeof k===B}},De=function(B){return function(k){return B===k}},Be=cr("string"),Ne=cr("object"),ce=cr("array"),Or=De(null),Wn=Ce("boolean"),Bt=function(B){return B==null},_n=function(B){return!Bt(B)},on=Ce("function"),It=Ce("number"),At=function(){},Sn=function(B){return function(){return B}},Xt=function(B){return B},fe=Sn(!1),X=Sn(!0),Yt=function(){return un},un=function(){var B=function(M){return M()},k=Xt,x={fold:function(M,U){return M()},isSome:fe,isNone:X,getOr:k,getOrThunk:B,getOrDie:function(M){throw new Error(M||"error: getOrDie called on none.")},getOrNull:Sn(null),getOrUndefined:Sn(void 0),or:k,orThunk:B,map:Yt,each:At,bind:Yt,exists:fe,forall:X,filter:function(){return Yt()},toArray:function(){return[]},toString:Sn("none()")};return x}(),tr=function(B){var k=Sn(B),x=function(){return U},M=function(rt){return rt(B)},U={fold:function(rt,Rt){return Rt(B)},isSome:X,isNone:fe,getOr:k,getOrThunk:k,getOrDie:k,getOrNull:k,getOrUndefined:k,or:x,orThunk:x,map:function(rt){return tr(rt(B))},each:function(rt){rt(B)},bind:M,exists:M,forall:M,filter:function(rt){return rt(B)?U:un},toArray:function(){return[B]},toString:function(){return"some("+B+")"}};return U},Me=function(B){return B==null?un:tr(B)},Ft={some:tr,none:Yt,from:Me},xn=Object.keys,en=Object.hasOwnProperty,pn=function(B,k){for(var x=xn(B),M=0,U=x.length;M<U;M++){var rt=x[M],Rt=B[rt];k(Rt,rt)}},J=function(B){return function(k,x){B[x]=k}},H=function(B,k,x,M){var U={};return pn(B,function(rt,Rt){(k(rt,Rt)?x:M)(rt,Rt)}),U},fn=function(B,k){var x={};return H(B,k,J(x),At),x},Ke=function(B,k){return en.call(B,k)},Cn=function(B,k){return Ke(B,k)&&B[k]!==void 0&&B[k]!==null},br=Array.prototype.push,ar=function(B){for(var k=[],x=0,M=B.length;x<M;++x){if(!ce(B[x]))throw new Error("Arr.flatten item "+x+" was not an array, input: "+B);br.apply(k,B[x])}return k},D=function(B,k){return k>=0&&k<B.length?Ft.some(B[k]):Ft.none()},Dn=function(B){return D(B,0)},Lt=function(B,k){for(var x=0;x<B.length;x++){var M=k(B[x],x);if(M.isSome())return M}return Ft.none()};typeof window<"u"||Function("return this;")();var An=function(B,k,x){if(Be(x)||Wn(x)||It(x))B.setAttribute(k,x+"");else throw console.error("Invalid call to Attribute.set. Key ",k,":: Value ",x,":: Element ",B),new Error("Attribute value was not simple")},$t=function(B,k,x){An(B.dom,k,x)},oe=function(B,k){B.dom.removeAttribute(k)},Pn=function(B,k){var x=k||document,M=x.createElement("div");if(M.innerHTML=B,!M.hasChildNodes()||M.childNodes.length>1)throw console.error("HTML does not have a single root node",B),new Error("HTML must have a single root node");return xr(M.childNodes[0])},ie=function(B,k){var x=k||document,M=x.createElement(B);return xr(M)},K=function(B,k){var x=k||document,M=x.createTextNode(B);return xr(M)},xr=function(B){if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},Zt=function(B,k,x){return Ft.from(B.dom.elementFromPoint(k,x)).map(xr)},Pt={fromHtml:Pn,fromTag:ie,fromText:K,fromDom:xr,fromPoint:Zt},ye=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ot=tinymce.util.Tools.resolve("tinymce.util.Promise"),Dt=tinymce.util.Tools.resolve("tinymce.util.URI"),Qt=tinymce.util.Tools.resolve("tinymce.util.XHR"),jn=function(B){return B.getParam("image_dimensions",!0,"boolean")},nn=function(B){return B.getParam("image_advtab",!1,"boolean")},kn=function(B){return B.getParam("image_uploadtab",!0,"boolean")},Ye=function(B){return B.getParam("image_prepend_url","","string")},pt=function(B){return B.getParam("image_class_list")},sn=function(B){return B.getParam("image_description",!0,"boolean")},le=function(B){return B.getParam("image_title",!1,"boolean")},zn=function(B){return B.getParam("image_caption",!1,"boolean")},Ue=function(B){return B.getParam("image_list",!1)},er=function(B){return _n(B.getParam("images_upload_url"))},qr=function(B){return _n(B.getParam("images_upload_handler"))},ao=function(B){return B.getParam("a11y_advanced_options",!1,"boolean")},ko=function(B){return B.getParam("automatic_uploads",!0,"boolean")},Xn=function(B,k){return Math.max(parseInt(B,10),parseInt(k,10))},Jn=function(B){return new Ot(function(k){var x=document.createElement("img"),M=function(rt){x.onload=x.onerror=null,x.parentNode&&x.parentNode.removeChild(x),k(rt)};x.onload=function(){var rt=Xn(x.width,x.clientWidth),Rt=Xn(x.height,x.clientHeight),Ln={width:rt,height:Rt};M(Ot.resolve(Ln))},x.onerror=function(){M(Ot.reject("Failed to get image dimensions for: "+B))};var U=x.style;U.visibility="hidden",U.position="fixed",U.bottom=U.left="0px",U.width=U.height="auto",document.body.appendChild(x),x.src=B})},En=function(B){return B&&(B=B.replace(/px$/,"")),B},zt=function(B){return B.length>0&&/^[0-9]+$/.test(B)&&(B+="px"),B},jt=function(B){if(B.margin){var k=String(B.margin).split(" ");switch(k.length){case 1:B["margin-top"]=B["margin-top"]||k[0],B["margin-right"]=B["margin-right"]||k[0],B["margin-bottom"]=B["margin-bottom"]||k[0],B["margin-left"]=B["margin-left"]||k[0];break;case 2:B["margin-top"]=B["margin-top"]||k[0],B["margin-right"]=B["margin-right"]||k[1],B["margin-bottom"]=B["margin-bottom"]||k[0],B["margin-left"]=B["margin-left"]||k[1];break;case 3:B["margin-top"]=B["margin-top"]||k[0],B["margin-right"]=B["margin-right"]||k[1],B["margin-bottom"]=B["margin-bottom"]||k[2],B["margin-left"]=B["margin-left"]||k[1];break;case 4:B["margin-top"]=B["margin-top"]||k[0],B["margin-right"]=B["margin-right"]||k[1],B["margin-bottom"]=B["margin-bottom"]||k[2],B["margin-left"]=B["margin-left"]||k[3]}delete B.margin}return B},qn=function(B,k){var x=Ue(B);Be(x)?Qt.send({url:x,success:function(M){k(JSON.parse(M))}}):on(x)?x(k):k(x)},xe=function(B,k,x){var M=function(){x.onload=x.onerror=null,B.selection&&(B.selection.select(x),B.nodeChanged())};x.onload=function(){!k.width&&!k.height&&jn(B)&&B.dom.setAttribs(x,{width:String(x.clientWidth),height:String(x.clientHeight)}),M()},x.onerror=M},Qn=function(B){return new Ot(function(k,x){var M=new FileReader;M.onload=function(){k(M.result)},M.onerror=function(){x(M.error.message)},M.readAsDataURL(B)})},Mt=function(B){return B.nodeName==="IMG"&&(B.hasAttribute("data-mce-object")||B.hasAttribute("data-mce-placeholder"))},Fn=function(B,k){return Dt.isDomSafe(k,"img",B.settings)},me=ye.DOM,te=function(B){return B.style.marginLeft&&B.style.marginRight&&B.style.marginLeft===B.style.marginRight?En(B.style.marginLeft):""},Ie=function(B){return B.style.marginTop&&B.style.marginBottom&&B.style.marginTop===B.style.marginBottom?En(B.style.marginTop):""},ht=function(B){return B.style.borderWidth?En(B.style.borderWidth):""},dn=function(B,k){return B.hasAttribute(k)?B.getAttribute(k):""},tn=function(B,k){return B.style[k]?B.style[k]:""},Hn=function(B){return B.parentNode!==null&&B.parentNode.nodeName==="FIGURE"},Pe=function(B,k,x){x===""?B.removeAttribute(k):B.setAttribute(k,x)},Er=function(B){var k=me.create("figure",{class:"image"});me.insertAfter(k,B),k.appendChild(B),k.appendChild(me.create("figcaption",{contentEditable:"true"},"Caption")),k.contentEditable="false"},Eo=function(B){var k=B.parentNode;me.insertAfter(B,k),me.remove(k)},_r=function(B){Hn(B)?Eo(B):Er(B)},Rr=function(B,k){var x=B.getAttribute("style"),M=k(x!==null?x:"");M.length>0?(B.setAttribute("style",M),B.setAttribute("data-mce-style",M)):B.removeAttribute("style")},Bo=function(B,k){return function(x,M,U){x.style[M]?(x.style[M]=zt(U),Rr(x,k)):Pe(x,M,U)}},Mi=function(B,k){return B.style[k]?En(B.style[k]):dn(B,k)},oi=function(B,k){var x=zt(k);B.style.marginLeft=x,B.style.marginRight=x},Wo=function(B,k){var x=zt(k);B.style.marginTop=x,B.style.marginBottom=x},ci=function(B,k){var x=zt(k);B.style.borderWidth=x},Fi=function(B,k){B.style.borderStyle=k},di=function(B){return tn(B,"borderStyle")},ti=function(B){return B.nodeName==="FIGURE"},Li=function(B){return B.nodeName==="IMG"},Jr=function(B){return me.getAttrib(B,"alt").length===0&&me.getAttrib(B,"role")==="presentation"},Ii=function(B){return Jr(B)?"":dn(B,"alt")},Ze=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Na=function(B,k){var x=document.createElement("img");return Pe(x,"style",k.style),(te(x)||k.hspace!=="")&&oi(x,k.hspace),(Ie(x)||k.vspace!=="")&&Wo(x,k.vspace),(ht(x)||k.border!=="")&&ci(x,k.border),(di(x)||k.borderStyle!=="")&&Fi(x,k.borderStyle),B(x.getAttribute("style"))},Ei=function(B,k){var x=document.createElement("img");if(du(B,Ge(Ge({},k),{caption:!1}),x),Qi(x,k.alt,k.isDecorative),k.caption){var M=me.create("figure",{class:"image"});return M.appendChild(x),M.appendChild(me.create("figcaption",{contentEditable:"true"},"Caption")),M.contentEditable="false",M}else return x},Wi=function(B,k){return{src:dn(k,"src"),alt:Ii(k),title:dn(k,"title"),width:Mi(k,"width"),height:Mi(k,"height"),class:dn(k,"class"),style:B(dn(k,"style")),caption:Hn(k),hspace:te(k),vspace:Ie(k),border:ht(k),borderStyle:tn(k,"borderStyle"),isDecorative:Jr(k)}},hi=function(B,k,x,M,U){x[M]!==k[M]&&U(B,M,x[M])},Qi=function(B,k,x){if(x){me.setAttrib(B,"role","presentation");var M=Pt.fromDom(B);$t(M,"alt","")}else{if(Or(k)){var M=Pt.fromDom(B);oe(M,"alt")}else{var M=Pt.fromDom(B);$t(M,"alt",k)}me.getAttrib(B,"role")==="presentation"&&me.setAttrib(B,"role","")}},Pa=function(B,k,x){(x.alt!==k.alt||x.isDecorative!==k.isDecorative)&&Qi(B,x.alt,x.isDecorative)},Zi=function(B,k){return function(x,M,U){B(x,U),Rr(x,k)}},du=function(B,k,x){var M=Wi(B,x);hi(x,M,k,"caption",function(U,rt,Rt){return _r(U)}),hi(x,M,k,"src",Pe),hi(x,M,k,"title",Pe),hi(x,M,k,"width",Bo("width",B)),hi(x,M,k,"height",Bo("height",B)),hi(x,M,k,"class",Pe),hi(x,M,k,"style",Zi(function(U,rt){return Pe(U,"style",rt)},B)),hi(x,M,k,"hspace",Zi(oi,B)),hi(x,M,k,"vspace",Zi(Wo,B)),hi(x,M,k,"border",Zi(ci,B)),hi(x,M,k,"borderStyle",Zi(Fi,B)),Pa(x,M,k)},ot=function(B,k){var x=B.dom.styles.parse(k),M=jt(x),U=B.dom.styles.parse(B.dom.styles.serialize(M));return B.dom.styles.serialize(U)},xt=function(B){var k=B.selection.getNode(),x=B.dom.getParent(k,"figure.image");return x?B.dom.select("img",x)[0]:k&&(k.nodeName!=="IMG"||Mt(k))?null:k},st=function(B,k){var x=B.dom,M=fn(B.schema.getTextBlockElements(),function(rt,Rt){return!B.schema.isValidChild(Rt,"figure")}),U=x.getParent(k.parentNode,function(rt){return Cn(M,rt.nodeName)},B.getBody());return U?x.split(U,k):k},Gt=function(B){var k=xt(B);return k?Wi(function(x){return ot(B,x)},k):Ze()},pe=function(B,k){var x=Ei(function(rt){return ot(B,rt)},k);B.dom.setAttrib(x,"data-mce-id","__mcenew"),B.focus(),B.selection.setContent(x.outerHTML);var M=B.dom.select('*[data-mce-id="__mcenew"]')[0];if(B.dom.setAttrib(M,"data-mce-id",null),ti(M)){var U=st(B,M);B.selection.select(U)}else B.selection.select(M)},He=function(B,k){B.dom.setAttrib(k,"src",k.getAttribute("src"))},nt=function(B,k){if(k){var x=B.dom.is(k.parentNode,"figure.image")?k.parentNode:k;B.dom.remove(x),B.focus(),B.nodeChanged(),B.dom.isEmpty(B.getBody())&&(B.setContent(""),B.selection.setCursorLocation())}},dt=function(B,k){var x=xt(B);if(du(function(U){return ot(B,U)},k,x),He(B,x),ti(x.parentNode)){var M=x.parentNode;st(B,M),B.selection.select(x.parentNode)}else B.selection.select(x),xe(B,k,x)},Kt=function(B,k){var x=k.src;return Ge(Ge({},k),{src:Fn(B,x)?x:""})},Tn=function(B,k){var x=xt(B);if(x){var M=Wi(function(Rt){return ot(B,Rt)},x),U=Ge(Ge({},M),k),rt=Kt(B,U);U.src?dt(B,rt):nt(B,x)}else k.src&&pe(B,Ge(Ge({},Ze()),k))},P=function(B,k){var x=Ne(B)&&Ne(k);return x?ft(B,k):k},Y=function(B){return function(){for(var k=[],x=0;x<arguments.length;x++)k[x]=arguments[x];if(k.length===0)throw new Error("Can't merge zero objects");for(var M={},U=0;U<k.length;U++){var rt=k[U];for(var Rt in rt)Ke(rt,Rt)&&(M[Rt]=B(M[Rt],rt[Rt]))}return M}},ft=Y(P),St=function(B){return B.length>0},Ut=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),qt=tinymce.util.Tools.resolve("tinymce.util.Tools"),de=function(B){return Be(B.value)?B.value:""},Ee=function(B){return Be(B.text)?B.text:Be(B.title)?B.title:""},fr=function(B,k){var x=[];return qt.each(B,function(M){var U=Ee(M);if(M.menu!==void 0){var rt=fr(M.menu,k);x.push({text:U,items:rt})}else{var Rt=k(M);x.push({text:U,value:Rt})}}),x},Jt=function(B){return B===void 0&&(B=de),function(k){return k?Ft.from(k).map(function(x){return fr(x,B)}):Ft.none()}},rr=function(B){return Jt(de)(B)},zr=function(B){return Ke(B,"items")},wo=function(B,k){return Lt(B,function(x){return zr(x)?wo(x.items,k):x.value===k?Ft.some(x):Ft.none()})},mi=function(B,k){return B.bind(function(x){return wo(x,k)})},jr={sanitizer:Jt,sanitize:rr,findEntry:mi},Ou=function(B){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},mu={makeTab:Ou},si=function(B){var k=jr.sanitizer(function(Cr){return B.convertURL(Cr.value||Cr.url,"src")}),x=new Ot(function(Cr){qn(B,function(No){Cr(k(No).map(function(Do){return ar([[{text:"None",value:""}],Do])}))})}),M=jr.sanitize(pt(B)),U=nn(B),rt=kn(B),Rt=er(B),Ln=qr(B),nr=Gt(B),gr=sn(B),be=le(B),Xe=jn(B),Ir=zn(B),Hr=ao(B),Mr=ko(B),Xo=Ft.some(Ye(B)).filter(function(Cr){return Be(Cr)&&Cr.length>0});return x.then(function(Cr){return{image:nr,imageList:Cr,classList:M,hasAdvTab:U,hasUploadTab:rt,hasUploadUrl:Rt,hasUploadHandler:Ln,hasDescription:gr,hasImageTitle:be,hasDimensions:Xe,hasImageCaption:Ir,prependURL:Xo,hasAccessibilityOptions:Hr,automaticUploads:Mr}})},vc=function(B){var k={name:"src",type:"urlinput",filetype:"image",label:"Source"},x=B.imageList.map(function(be){return{name:"images",type:"listbox",label:"Image list",items:be}}),M={name:"alt",type:"input",label:"Alternative description",disabled:B.hasAccessibilityOptions&&B.image.isDecorative},U={name:"title",type:"input",label:"Image title"},rt={name:"dimensions",type:"sizeinput"},Rt={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Ln=B.classList.map(function(be){return{name:"classes",type:"listbox",label:"Class",items:be}}),nr={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},gr=function(be){return be?{type:"grid",columns:2}:{type:"panel"}};return ar([[k],x.toArray(),B.hasAccessibilityOptions&&B.hasDescription?[Rt]:[],B.hasDescription?[M]:[],B.hasImageTitle?[U]:[],B.hasDimensions?[rt]:[],[Ge(Ge({},gr(B.classList.isSome()&&B.hasImageCaption)),{items:ar([Ln.toArray(),B.hasImageCaption?[nr]:[]])})]])},ga=function(B){return{title:"General",name:"general",items:vc(B)}},Oa={makeTab:ga,makeItems:vc},Lo=function(B){var k=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:k}},bc={makeTab:Lo},Fu=function(B){return{prevImage:jr.findEntry(B.imageList,B.image.src),prevAlt:B.image.alt,open:!0}},tc=function(B){return{src:{value:B.src,meta:{}},images:B.src,alt:B.alt,title:B.title,dimensions:{width:B.width,height:B.height},classes:B.class,caption:B.caption,style:B.style,vspace:B.vspace,border:B.border,hspace:B.hspace,borderstyle:B.borderStyle,fileinput:[],isDecorative:B.isDecorative}},Hc=function(B,k){return{src:B.src.value,alt:B.alt.length===0&&k?null:B.alt,title:B.title,width:B.dimensions.width,height:B.dimensions.height,class:B.classes,style:B.style,caption:B.caption,hspace:B.hspace,vspace:B.vspace,border:B.border,borderStyle:B.borderstyle,isDecorative:B.isDecorative}},Ea=function(B,k){return/^(?:[a-zA-Z]+:)?\/\//.test(k)?Ft.none():B.prependURL.bind(function(x){return k.substring(0,x.length)!==x?Ft.some(x+k):Ft.none()})},Ya=function(B,k){var x=k.getData();Ea(B,x.src.value).each(function(M){k.setData({src:{value:M,meta:x.src.meta}})})},Vc=function(B,k,x){B.hasDescription&&Be(x.alt)&&(k.alt=x.alt),B.hasAccessibilityOptions&&(k.isDecorative=x.isDecorative||k.isDecorative||!1),B.hasImageTitle&&Be(x.title)&&(k.title=x.title),B.hasDimensions&&(Be(x.width)&&(k.dimensions.width=x.width),Be(x.height)&&(k.dimensions.height=x.height)),Be(x.class)&&jr.findEntry(B.classList,x.class).each(function(M){k.classes=M.value}),B.hasImageCaption&&Wn(x.caption)&&(k.caption=x.caption),B.hasAdvTab&&(Be(x.style)&&(k.style=x.style),Be(x.vspace)&&(k.vspace=x.vspace),Be(x.border)&&(k.border=x.border),Be(x.hspace)&&(k.hspace=x.hspace),Be(x.borderstyle)&&(k.borderstyle=x.borderstyle))},Fa=function(B,k){var x=k.getData(),M=x.src.meta;if(M!==void 0){var U=ft({},x);Vc(B,U,M),k.setData(U)}},_a=function(B,k,x,M){var U=M.getData(),rt=U.src.value,Rt=U.src.meta||{};!Rt.width&&!Rt.height&&k.hasDimensions&&(St(rt)?B.imageSize(rt).then(function(Ln){x.open&&M.setData({dimensions:Ln})}).catch(function(Ln){return console.error(Ln)}):M.setData({dimensions:{width:"",height:""}}))},W=function(B,k,x){var M=x.getData(),U=jr.findEntry(B.imageList,M.src.value);k.prevImage=U,x.setData({images:U.map(function(rt){return rt.value}).getOr("")})},bt=function(B,k,x,M){Ya(k,M),Fa(k,M),_a(B,k,x,M),W(k,x,M)},Vt=function(B,k,x,M){var U=M.getData(),rt=jr.findEntry(k.imageList,U.images);rt.each(function(Rt){var Ln=U.alt===""||x.prevImage.map(function(nr){return nr.text===U.alt}).getOr(!1);Ln?Rt.value===""?M.setData({src:Rt,alt:x.prevAlt}):M.setData({src:Rt,alt:Rt.text}):M.setData({src:Rt})}),x.prevImage=rt,bt(B,k,x,M)},Mn=function(B){var k=B["margin-top"]&&B["margin-bottom"]&&B["margin-top"]===B["margin-bottom"];return k?En(String(B["margin-top"])):""},ae=function(B){var k=B["margin-right"]&&B["margin-left"]&&B["margin-right"]===B["margin-left"];return k?En(String(B["margin-right"])):""},ur=function(B){return B["border-width"]?En(String(B["border-width"])):""},yo=function(B){return B["border-style"]?String(B["border-style"]):""},_o=function(B,k,x){return k(B(k(x)))},Gr=function(B,k,x){var M=jt(B(x.style)),U=ft({},x);return U.vspace=Mn(M),U.hspace=ae(M),U.border=ur(M),U.borderstyle=yo(M),U.style=_o(B,k,M),U},Vo=function(B,k){var x=k.getData(),M=Gr(B.parseStyle,B.serializeStyle,x);k.setData(M)},ni=function(B,k,x){var M=ft(tc(k.image),x.getData()),U=Na(B.normalizeCss,Hc(M,!1));x.setData({style:U})},Lu=function(B,k,x,M){var U=M.getData();M.block("Uploading image"),Dn(U.fileinput).fold(function(){M.unblock()},function(rt){var Rt=URL.createObjectURL(rt),Ln=function(){M.unblock(),URL.revokeObjectURL(Rt)},nr=function(gr){M.setData({src:{value:gr,meta:{}}}),M.showTab("general"),bt(B,k,x,M)};Qn(rt).then(function(gr){var be=B.createBlobCache(rt,Rt,gr);k.automaticUploads?B.uploadImage(be).then(function(Xe){nr(Xe.url),Ln()}).catch(function(Xe){Ln(),B.alertErr(Xe)}):(B.addToBlobCache(be),nr(be.blobUri()),M.unblock())})})},qi=function(B,k,x){return function(M,U){U.name==="src"?bt(B,k,x,M):U.name==="images"?Vt(B,k,x,M):U.name==="alt"?x.prevAlt=M.getData().alt:U.name==="style"?Vo(B,M):U.name==="vspace"||U.name==="hspace"||U.name==="border"||U.name==="borderstyle"?ni(B,k,M):U.name==="fileinput"?Lu(B,k,x,M):U.name==="isDecorative"&&(M.getData().isDecorative?M.disable("alt"):M.enable("alt"))}},Eu=function(B){return function(){B.open=!1}},mr=function(B){if(B.hasAdvTab||B.hasUploadUrl||B.hasUploadHandler){var k={type:"tabpanel",tabs:ar([[Oa.makeTab(B)],B.hasAdvTab?[mu.makeTab(B)]:[],B.hasUploadTab&&(B.hasUploadUrl||B.hasUploadHandler)?[bc.makeTab(B)]:[]])};return k}else{var x={type:"panel",items:Oa.makeItems(B)};return x}},nc=function(B){return function(k){var x=Fu(k);return{title:"Insert/Edit Image",size:"normal",body:mr(k),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:tc(k.image),onSubmit:B.onSubmit(k),onChange:qi(B,k,x),onClose:Eu(x)}}},Ys=function(B){return function(k){return function(x){var M=ft(tc(k.image),x.getData());B.execCommand("mceUpdateImage",!1,Hc(M,k.hasAccessibilityOptions)),B.editorUpload.uploadImagesAuto(),x.close()}}},so=function(B){return function(k){return Fn(B,k)?Jn(B.documentBaseURI.toAbsolute(k)).then(function(x){return{width:String(x.width),height:String(x.height)}}):Ot.resolve({width:"",height:""})}},Ss=function(B){return function(k,x,M){return B.editorUpload.blobCache.create({blob:k,blobUri:x,name:k.name?k.name.replace(/\.[^\.]+$/,""):null,filename:k.name,base64:M.split(",")[1]})}},ks=function(B){return function(k){B.editorUpload.blobCache.add(k)}},El=function(B){return function(k){B.windowManager.alert(k)}},zo=function(B){return function(k){return ot(B,k)}},Qa=function(B){return function(k){return B.dom.parseStyle(k)}},cf=function(B){return function(k,x){return B.dom.serializeStyle(k,x)}},gu=function(B){return function(k){return Ut(B).upload([k],!1).then(function(x){return x.length===0?Ot.reject("Failed to upload image"):x[0].status===!1?Ot.reject(x[0].error.message):x[0]})}},vi=function(B){var k={onSubmit:Ys(B),imageSize:so(B),addToBlobCache:ks(B),createBlobCache:Ss(B),alertErr:El(B),normalizeCss:zo(B),parseStyle:Qa(B),serializeStyle:cf(B),uploadImage:gu(B)},x=function(){si(B).then(nc(k)).then(B.windowManager.open)};return{open:x}},yc=function(B){B.addCommand("mceImage",vi(B).open),B.addCommand("mceUpdateImage",function(k,x){B.undoManager.transact(function(){return Tn(B,x)})})},hn=function(B){var k=B.attr("class");return k&&/\bimage\b/.test(k)},Uc=function(B){return function(k){for(var x=k.length,M=function(rt){rt.attr("contenteditable",B?"true":null)};x--;){var U=k[x];hn(U)&&(U.attr("contenteditable",B?"false":null),qt.each(U.getAll("figcaption"),M))}}},bi=function(B){B.on("PreInit",function(){B.parser.addNodeFilter("figure",Uc(!0)),B.serializer.addNodeFilter("figure",Uc(!1))})},Qs=function(B){B.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:vi(B).open,onSetup:function(k){return k.setActive(_n(xt(B))),B.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",k.setActive).unbind}}),B.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:vi(B).open}),B.ui.registry.addContextMenu("image",{update:function(k){return ti(k)||Li(k)&&!Mt(k)?["image"]:[]}})};function ec(){vr.add("image",function(B){bi(B),Qs(B),yc(B)})}ec()})();const vL={zh_CH:"zh_CN"},TP={light:"light",dark:"dark"},$$=["bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | undo redo | link unlink image code | removeformat"],j$=["raw","text","html","tree"],W$={disabled:{type:Boolean,default:!1},theme:{type:String,default:TP.light,validator:vr=>Object.values(TP).includes(vr)},lang:{type:String,default:vL.zh_CH,validator:vr=>Object.values(vL).includes(vr)},height:{type:Number,default:600},options:{type:Object,default:()=>({})},toolbar:{type:Array,default:()=>$$},modelValue:{type:String},modelValueEvents:{type:Array,default:()=>[]},outputFormat:{type:String,validtor:vr=>j$.includes(vr)}},q$=["id"],G$=bL({name:"ProTinymce",__name:"editor",props:W$,emits:["change","update:modelValue"],setup(vr,{emit:Ge}){const Ae=vr,cr=Ge,Ce=new Date().getTime().toString(),De=pL(null),Be=pL(null);N$(()=>{P$(()=>{_n()})}),F$(()=>{on()});const Ne=kP(()=>Ae.theme===TP.light?"oxide":"oxide-dark"),ce=kP(()=>Ae.lang),Or=kP(()=>{const{height:Sn,toolbar:Xt}=Ae,fe=`${L$.publicBaseUrl}resource/tinymce`;return{height:Sn,toolbar:Xt,selector:`#${Ce}`,setup:X=>{Wn(X)},convert_urls:!1,file_picker_types:"file image media",skin_url:`${fe}/skins/ui/${Ne.value}`,branding:!1,default_link_target:"_blank",link_title:!1,object_resizing:!1,auto_focus:!0,content_css:`${fe}/skins/content/default/content.css`,language_url:`${fe}/langs/${ce.value}.js`,language:ce.value,menubar:"file edit insert view format table formats",plugins:"lists image media table wordcount save preview",formats:{h1:{block:"h1"},h2:{block:"h2"},h3:{block:"h3"}}}});function Wn(Sn){Be.value=Sn,Sn.on("init",()=>{Be.value&&(Ae.modelValue&&It(Ae.modelValue),Bt())}),Sn.on(Ae.modelValueEvents.length?Ae.modelValueEvents.join(" "):"change keyup undo redo",()=>{const Xt=At();cr("update:modelValue",Xt),cr("change",Xt)})}function Bt(){hL(()=>Ae.modelValue,(Sn,Xt)=>{Xt!==Sn&&Sn!==At()&&It(Sn||"")})}function _n(){xR.init(Or.value),hL(()=>Ae.disabled,Sn=>{var Xt;(Xt=Be.value)==null||Xt.setMode(Sn?"readonly":"design")},{immediate:!0})}function on(){var Sn,Xt;(Xt=xR==null?void 0:xR.remove)==null||Xt.call(xR,(Sn=wE(Or))==null?void 0:Sn.selector)}function It(Sn){Be.value&&Be.value.setContent(Sn)}function At(){var Sn;return((Sn=Be.value)==null?void 0:Sn.getContent({format:Ae.outputFormat}))||""}return(Sn,Xt)=>(yL(),I$("div",null,[H$("textarea",{id:wE(Ce),ref_key:"tinymceRef",ref:De,style:{visibility:"hidden"}},null,8,q$)]))}}),K$=R$(G$),Q$=bL({__name:"rich-editor",setup(vr){return(Ge,Ae)=>(yL(),A$(wE(z$),null,{default:mL(()=>[gL(wE(B$),{header:Ge.$route.meta.title},{default:mL(()=>[gL(wE(K$))]),_:1},8,["header"])]),_:1}))}});export{Q$ as default};
