import{h as Ao,S as yL,P as Sh,ag as Y2,aF as hfe,aE as pfe,m as io,d as ja,g as No,aH as mfe,aj as UZ,o as Fr,c as la,k as Oa,n as bL,O as n5,N as dy,G as gfe,D as ra,b as Ei,w as go,I as Do,F as kp,E as j2,av as K2,M as Ed,r as xl,ak as tSe,e as Au,$ as nSe,a0 as WZ,a as Wf,t as Ch,y as uu,J as n_,az as hy,j as r5,af as rSe,al as Th,am as AV,b0 as qZ,aw as R3,b1 as oSe,aN as iSe,aO as ai,at as aSe,Y as uSe,aD as jN,X as vN,b2 as sSe,V as AH,a3 as $Z,b3 as lSe,a1 as vfe,a2 as yfe,T as cSe,A as fSe,p as bfe,q as xfe,ad as wfe,b4 as dSe,z as hSe}from"./framework.e2dboEyh.js";import{E as pSe,a as _fe,b as mSe,f as gSe,c as Sfe,d as vSe,p as ySe,e as bSe,g as xSe,h as wSe,i as _Se,u as SSe,j as CSe,k as TSe,l as MSe,s as kSe,m as DSe,t as ASe,n as ESe,o as OSe,w as ISe,r as RSe,q as PSe,v as Cfe,x as NSe,y as LSe,z as BSe,A as zSe,B as FSe,C as HSe,D as VSe,F as jSe,G as USe,H as WSe,I as qSe}from"../app.kf9R8BQv.js";var $Se={},GSe=Object.defineProperty,XSe=(n,e,t)=>e in n?GSe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S3=(n,e,t)=>(XSe(n,typeof e!="symbol"?e+"":e,t),t);const YSe=["src"],KSe=ja({__name:"iframe",props:{frameSrc:{type:String,default:""},height:{type:[String,Number],default:"100%"}},setup(n){const e=n,t=Ao(!0),r=Ao(),i=No(()=>(console.log("props",e),{height:`${e.height}`}));function u(){t.value=!1}return(l,f)=>{const h=mfe("loading");return UZ((Fr(),la("div",{style:n5(i.value)},[Oa("iframe",{ref_key:"frameRef",ref:r,src:n.frameSrc,class:bL("iframe-page__main"),onLoad:u},null,40,YSe)],4)),[[h,t.value]])}}}),Gf=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},JSe=Gf(KSe,[["__scopeId","data-v-b7b747f1"]]);function yYe(n){const e=window.atob(n.split(",")[1]),t=n.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),i=new Uint8Array(r);for(let u=0;u<e.length;u++)i[u]=e.charCodeAt(u);return new Blob([r],{type:t})}function QSe(n){if(n===0)return"0 B";const e=1024,t=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(n)/Math.log(e));return(n/Math.pow(e,r)).toPrecision(3)+" "+t[r]}function bYe(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=async i=>{try{e(i.target.result)}catch(u){t(u)}finally{}},r.readAsArrayBuffer(n)})}function xYe(n,e){if(n&&e){const t=document.createElement("a");t.download=e,t.href=n,t.click(),URL.revokeObjectURL(t.href)}}var ZSe=typeof global=="object"&&global&&global.Object===Object&&global;const Tfe=ZSe;var eCe=typeof self=="object"&&self&&self.Object===Object&&self,tCe=Tfe||eCe||Function("return this")();const yy=tCe;var nCe=yy.Symbol;const py=nCe;var Mfe=Object.prototype,rCe=Mfe.hasOwnProperty,oCe=Mfe.toString,kP=py?py.toStringTag:void 0;function iCe(n){var e=rCe.call(n,kP),t=n[kP];try{n[kP]=void 0;var r=!0}catch{}var i=oCe.call(n);return r&&(e?n[kP]=t:delete n[kP]),i}var aCe=Object.prototype,uCe=aCe.toString;function sCe(n){return uCe.call(n)}var lCe="[object Null]",cCe="[object Undefined]",moe=py?py.toStringTag:void 0;function kM(n){return n==null?n===void 0?cCe:lCe:moe&&moe in Object(n)?iCe(n):sCe(n)}function DM(n){return n!=null&&typeof n=="object"}var fCe="[object Symbol]";function GZ(n){return typeof n=="symbol"||DM(n)&&kM(n)==fCe}function kfe(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var dCe=Array.isArray;const AM=dCe;var hCe=1/0,goe=py?py.prototype:void 0,voe=goe?goe.toString:void 0;function Dfe(n){if(typeof n=="string")return n;if(AM(n))return kfe(n,Dfe)+"";if(GZ(n))return voe?voe.call(n):"";var e=n+"";return e=="0"&&1/n==-hCe?"-0":e}function xL(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function pCe(n){return n}var mCe="[object AsyncFunction]",gCe="[object Function]",vCe="[object GeneratorFunction]",yCe="[object Proxy]";function XZ(n){if(!xL(n))return!1;var e=kM(n);return e==gCe||e==vCe||e==mCe||e==yCe}var bCe=yy["__core-js_shared__"];const LY=bCe;var yoe=function(){var n=/[^.]+$/.exec(LY&&LY.keys&&LY.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function xCe(n){return!!yoe&&yoe in n}var wCe=Function.prototype,_Ce=wCe.toString;function EM(n){if(n!=null){try{return _Ce.call(n)}catch{}try{return n+""}catch{}}return""}var SCe=/[\\^$.*+?()[\]{}|]/g,CCe=/^\[object .+?Constructor\]$/,TCe=Function.prototype,MCe=Object.prototype,kCe=TCe.toString,DCe=MCe.hasOwnProperty,ACe=RegExp("^"+kCe.call(DCe).replace(SCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ECe(n){if(!xL(n)||xCe(n))return!1;var e=XZ(n)?ACe:CCe;return e.test(EM(n))}function OCe(n,e){return n==null?void 0:n[e]}function OM(n,e){var t=OCe(n,e);return ECe(t)?t:void 0}var ICe=OM(yy,"WeakMap");const YJ=ICe;var boe=Object.create,RCe=function(){function n(){}return function(e){if(!xL(e))return{};if(boe)return boe(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const PCe=RCe;function NCe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function LCe(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var BCe=800,zCe=16,FCe=Date.now;function HCe(n){var e=0,t=0;return function(){var r=FCe(),i=zCe-(r-t);if(t=r,i>0){if(++e>=BCe)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function VCe(n){return function(){return n}}var jCe=function(){try{var n=OM(Object,"defineProperty");return n({},"",{}),n}catch{}}();const EH=jCe;var UCe=EH?function(n,e){return EH(n,"toString",{configurable:!0,enumerable:!1,value:VCe(e),writable:!0})}:pCe;const WCe=UCe;var qCe=HCe(WCe);const $Ce=qCe;function GCe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var XCe=9007199254740991,YCe=/^(?:0|[1-9]\d*)$/;function KCe(n,e){var t=typeof n;return e=e??XCe,!!e&&(t=="number"||t!="symbol"&&YCe.test(n))&&n>-1&&n%1==0&&n<e}function Afe(n,e,t){e=="__proto__"&&EH?EH(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Efe(n,e){return n===e||n!==n&&e!==e}var JCe=Object.prototype,QCe=JCe.hasOwnProperty;function Ofe(n,e,t){var r=n[e];(!(QCe.call(n,e)&&Efe(r,t))||t===void 0&&!(e in n))&&Afe(n,e,t)}function wL(n,e,t,r){var i=!t;t||(t={});for(var u=-1,l=e.length;++u<l;){var f=e[u],h=r?r(t[f],n[f],f,t,n):void 0;h===void 0&&(h=n[f]),i?Afe(t,f,h):Ofe(t,f,h)}return t}var xoe=Math.max;function ZCe(n,e,t){return e=xoe(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,u=xoe(r.length-e,0),l=Array(u);++i<u;)l[i]=r[e+i];i=-1;for(var f=Array(e+1);++i<e;)f[i]=r[i];return f[e]=t(l),NCe(n,this,f)}}var eTe=9007199254740991;function Ife(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=eTe}function Rfe(n){return n!=null&&Ife(n.length)&&!XZ(n)}var tTe=Object.prototype;function YZ(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||tTe;return n===t}function nTe(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var rTe="[object Arguments]";function woe(n){return DM(n)&&kM(n)==rTe}var Pfe=Object.prototype,oTe=Pfe.hasOwnProperty,iTe=Pfe.propertyIsEnumerable,aTe=woe(function(){return arguments}())?woe:function(n){return DM(n)&&oTe.call(n,"callee")&&!iTe.call(n,"callee")};const Nfe=aTe;function uTe(){return!1}var Lfe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_oe=Lfe&&typeof module=="object"&&module&&!module.nodeType&&module,sTe=_oe&&_oe.exports===Lfe,Soe=sTe?yy.Buffer:void 0,lTe=Soe?Soe.isBuffer:void 0,cTe=lTe||uTe;const Bfe=cTe;var fTe="[object Arguments]",dTe="[object Array]",hTe="[object Boolean]",pTe="[object Date]",mTe="[object Error]",gTe="[object Function]",vTe="[object Map]",yTe="[object Number]",bTe="[object Object]",xTe="[object RegExp]",wTe="[object Set]",_Te="[object String]",STe="[object WeakMap]",CTe="[object ArrayBuffer]",TTe="[object DataView]",MTe="[object Float32Array]",kTe="[object Float64Array]",DTe="[object Int8Array]",ATe="[object Int16Array]",ETe="[object Int32Array]",OTe="[object Uint8Array]",ITe="[object Uint8ClampedArray]",RTe="[object Uint16Array]",PTe="[object Uint32Array]",ns={};ns[MTe]=ns[kTe]=ns[DTe]=ns[ATe]=ns[ETe]=ns[OTe]=ns[ITe]=ns[RTe]=ns[PTe]=!0;ns[fTe]=ns[dTe]=ns[CTe]=ns[hTe]=ns[TTe]=ns[pTe]=ns[mTe]=ns[gTe]=ns[vTe]=ns[yTe]=ns[bTe]=ns[xTe]=ns[wTe]=ns[_Te]=ns[STe]=!1;function NTe(n){return DM(n)&&Ife(n.length)&&!!ns[kM(n)]}function KZ(n){return function(e){return n(e)}}var zfe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yN=zfe&&typeof module=="object"&&module&&!module.nodeType&&module,LTe=yN&&yN.exports===zfe,BY=LTe&&Tfe.process,BTe=function(){try{var n=yN&&yN.require&&yN.require("util").types;return n||BY&&BY.binding&&BY.binding("util")}catch{}}();const P3=BTe;var Coe=P3&&P3.isTypedArray,zTe=Coe?KZ(Coe):NTe;const FTe=zTe;var HTe=Object.prototype,VTe=HTe.hasOwnProperty;function Ffe(n,e){var t=AM(n),r=!t&&Nfe(n),i=!t&&!r&&Bfe(n),u=!t&&!r&&!i&&FTe(n),l=t||r||i||u,f=l?nTe(n.length,String):[],h=f.length;for(var g in n)(e||VTe.call(n,g))&&!(l&&(g=="length"||i&&(g=="offset"||g=="parent")||u&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||KCe(g,h)))&&f.push(g);return f}function Hfe(n,e){return function(t){return n(e(t))}}var jTe=Hfe(Object.keys,Object);const UTe=jTe;var WTe=Object.prototype,qTe=WTe.hasOwnProperty;function $Te(n){if(!YZ(n))return UTe(n);var e=[];for(var t in Object(n))qTe.call(n,t)&&t!="constructor"&&e.push(t);return e}function JZ(n){return Rfe(n)?Ffe(n):$Te(n)}function GTe(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var XTe=Object.prototype,YTe=XTe.hasOwnProperty;function KTe(n){if(!xL(n))return GTe(n);var e=YZ(n),t=[];for(var r in n)r=="constructor"&&(e||!YTe.call(n,r))||t.push(r);return t}function QZ(n){return Rfe(n)?Ffe(n,!0):KTe(n)}var JTe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QTe=/^\w*$/;function ZTe(n,e){if(AM(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||GZ(n)?!0:QTe.test(n)||!JTe.test(n)||e!=null&&n in Object(e)}var eMe=OM(Object,"create");const UN=eMe;function tMe(){this.__data__=UN?UN(null):{},this.size=0}function nMe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var rMe="__lodash_hash_undefined__",oMe=Object.prototype,iMe=oMe.hasOwnProperty;function aMe(n){var e=this.__data__;if(UN){var t=e[n];return t===rMe?void 0:t}return iMe.call(e,n)?e[n]:void 0}var uMe=Object.prototype,sMe=uMe.hasOwnProperty;function lMe(n){var e=this.__data__;return UN?e[n]!==void 0:sMe.call(e,n)}var cMe="__lodash_hash_undefined__";function fMe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=UN&&e===void 0?cMe:e,this}function xM(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}xM.prototype.clear=tMe;xM.prototype.delete=nMe;xM.prototype.get=aMe;xM.prototype.has=lMe;xM.prototype.set=fMe;function dMe(){this.__data__=[],this.size=0}function EV(n,e){for(var t=n.length;t--;)if(Efe(n[t][0],e))return t;return-1}var hMe=Array.prototype,pMe=hMe.splice;function mMe(n){var e=this.__data__,t=EV(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():pMe.call(e,t,1),--this.size,!0}function gMe(n){var e=this.__data__,t=EV(e,n);return t<0?void 0:e[t][1]}function vMe(n){return EV(this.__data__,n)>-1}function yMe(n,e){var t=this.__data__,r=EV(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function zb(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}zb.prototype.clear=dMe;zb.prototype.delete=mMe;zb.prototype.get=gMe;zb.prototype.has=vMe;zb.prototype.set=yMe;var bMe=OM(yy,"Map");const WN=bMe;function xMe(){this.size=0,this.__data__={hash:new xM,map:new(WN||zb),string:new xM}}function wMe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function OV(n,e){var t=n.__data__;return wMe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function _Me(n){var e=OV(this,n).delete(n);return this.size-=e?1:0,e}function SMe(n){return OV(this,n).get(n)}function CMe(n){return OV(this,n).has(n)}function TMe(n,e){var t=OV(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function r_(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}r_.prototype.clear=xMe;r_.prototype.delete=_Me;r_.prototype.get=SMe;r_.prototype.has=CMe;r_.prototype.set=TMe;var MMe="Expected a function";function ZZ(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(MMe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],u=t.cache;if(u.has(i))return u.get(i);var l=n.apply(this,r);return t.cache=u.set(i,l)||u,l};return t.cache=new(ZZ.Cache||r_),t}ZZ.Cache=r_;var kMe=500;function DMe(n){var e=ZZ(n,function(r){return t.size===kMe&&t.clear(),r}),t=e.cache;return e}var AMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EMe=/\\(\\)?/g,OMe=DMe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(AMe,function(t,r,i,u){e.push(i?u.replace(EMe,"$1"):r||t)}),e});const IMe=OMe;function RMe(n){return n==null?"":Dfe(n)}function eee(n,e){return AM(n)?n:ZTe(n,e)?[n]:IMe(RMe(n))}var PMe=1/0;function Vfe(n){if(typeof n=="string"||GZ(n))return n;var e=n+"";return e=="0"&&1/n==-PMe?"-0":e}function jfe(n,e){e=eee(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[Vfe(e[t++])];return t&&t==r?n:void 0}function NMe(n,e,t){var r=n==null?void 0:jfe(n,e);return r===void 0?t:r}function tee(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Toe=py?py.isConcatSpreadable:void 0;function LMe(n){return AM(n)||Nfe(n)||!!(Toe&&n&&n[Toe])}function Ufe(n,e,t,r,i){var u=-1,l=n.length;for(t||(t=LMe),i||(i=[]);++u<l;){var f=n[u];e>0&&t(f)?e>1?Ufe(f,e-1,t,r,i):tee(i,f):r||(i[i.length]=f)}return i}function BMe(n){var e=n==null?0:n.length;return e?Ufe(n,1):[]}function zMe(n){return $Ce(ZCe(n,void 0,BMe),n+"")}var FMe=Hfe(Object.getPrototypeOf,Object);const nee=FMe;var HMe="[object Object]",VMe=Function.prototype,jMe=Object.prototype,Wfe=VMe.toString,UMe=jMe.hasOwnProperty,WMe=Wfe.call(Object);function qMe(n){if(!DM(n)||kM(n)!=HMe)return!1;var e=nee(n);if(e===null)return!0;var t=UMe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&Wfe.call(t)==WMe}function $Me(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var u=Array(i);++r<i;)u[r]=n[r+e];return u}function GMe(){this.__data__=new zb,this.size=0}function XMe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function YMe(n){return this.__data__.get(n)}function KMe(n){return this.__data__.has(n)}var JMe=200;function QMe(n,e){var t=this.__data__;if(t instanceof zb){var r=t.__data__;if(!WN||r.length<JMe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new r_(r)}return t.set(n,e),this.size=t.size,this}function o5(n){var e=this.__data__=new zb(n);this.size=e.size}o5.prototype.clear=GMe;o5.prototype.delete=XMe;o5.prototype.get=YMe;o5.prototype.has=KMe;o5.prototype.set=QMe;function ZMe(n,e){return n&&wL(e,JZ(e),n)}function eke(n,e){return n&&wL(e,QZ(e),n)}var qfe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Moe=qfe&&typeof module=="object"&&module&&!module.nodeType&&module,tke=Moe&&Moe.exports===qfe,koe=tke?yy.Buffer:void 0,Doe=koe?koe.allocUnsafe:void 0;function nke(n,e){if(e)return n.slice();var t=n.length,r=Doe?Doe(t):new n.constructor(t);return n.copy(r),r}function rke(n,e){for(var t=-1,r=n==null?0:n.length,i=0,u=[];++t<r;){var l=n[t];e(l,t,n)&&(u[i++]=l)}return u}function $fe(){return[]}var oke=Object.prototype,ike=oke.propertyIsEnumerable,Aoe=Object.getOwnPropertySymbols,ake=Aoe?function(n){return n==null?[]:(n=Object(n),rke(Aoe(n),function(e){return ike.call(n,e)}))}:$fe;const ree=ake;function uke(n,e){return wL(n,ree(n),e)}var ske=Object.getOwnPropertySymbols,lke=ske?function(n){for(var e=[];n;)tee(e,ree(n)),n=nee(n);return e}:$fe;const Gfe=lke;function cke(n,e){return wL(n,Gfe(n),e)}function Xfe(n,e,t){var r=e(n);return AM(n)?r:tee(r,t(n))}function fke(n){return Xfe(n,JZ,ree)}function Yfe(n){return Xfe(n,QZ,Gfe)}var dke=OM(yy,"DataView");const KJ=dke;var hke=OM(yy,"Promise");const JJ=hke;var pke=OM(yy,"Set");const QJ=pke;var Eoe="[object Map]",mke="[object Object]",Ooe="[object Promise]",Ioe="[object Set]",Roe="[object WeakMap]",Poe="[object DataView]",gke=EM(KJ),vke=EM(WN),yke=EM(JJ),bke=EM(QJ),xke=EM(YJ),YT=kM;(KJ&&YT(new KJ(new ArrayBuffer(1)))!=Poe||WN&&YT(new WN)!=Eoe||JJ&&YT(JJ.resolve())!=Ooe||QJ&&YT(new QJ)!=Ioe||YJ&&YT(new YJ)!=Roe)&&(YT=function(n){var e=kM(n),t=e==mke?n.constructor:void 0,r=t?EM(t):"";if(r)switch(r){case gke:return Poe;case vke:return Eoe;case yke:return Ooe;case bke:return Ioe;case xke:return Roe}return e});const oee=YT;var wke=Object.prototype,_ke=wke.hasOwnProperty;function Ske(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&_ke.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Cke=yy.Uint8Array;const Noe=Cke;function iee(n){var e=new n.constructor(n.byteLength);return new Noe(e).set(new Noe(n)),e}function Tke(n,e){var t=e?iee(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Mke=/\w*$/;function kke(n){var e=new n.constructor(n.source,Mke.exec(n));return e.lastIndex=n.lastIndex,e}var Loe=py?py.prototype:void 0,Boe=Loe?Loe.valueOf:void 0;function Dke(n){return Boe?Object(Boe.call(n)):{}}function Ake(n,e){var t=e?iee(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Eke="[object Boolean]",Oke="[object Date]",Ike="[object Map]",Rke="[object Number]",Pke="[object RegExp]",Nke="[object Set]",Lke="[object String]",Bke="[object Symbol]",zke="[object ArrayBuffer]",Fke="[object DataView]",Hke="[object Float32Array]",Vke="[object Float64Array]",jke="[object Int8Array]",Uke="[object Int16Array]",Wke="[object Int32Array]",qke="[object Uint8Array]",$ke="[object Uint8ClampedArray]",Gke="[object Uint16Array]",Xke="[object Uint32Array]";function Yke(n,e,t){var r=n.constructor;switch(e){case zke:return iee(n);case Eke:case Oke:return new r(+n);case Fke:return Tke(n,t);case Hke:case Vke:case jke:case Uke:case Wke:case qke:case $ke:case Gke:case Xke:return Ake(n,t);case Ike:return new r;case Rke:case Lke:return new r(n);case Pke:return kke(n);case Nke:return new r;case Bke:return Dke(n)}}function Kke(n){return typeof n.constructor=="function"&&!YZ(n)?PCe(nee(n)):{}}var Jke="[object Map]";function Qke(n){return DM(n)&&oee(n)==Jke}var zoe=P3&&P3.isMap,Zke=zoe?KZ(zoe):Qke;const eDe=Zke;var tDe="[object Set]";function nDe(n){return DM(n)&&oee(n)==tDe}var Foe=P3&&P3.isSet,rDe=Foe?KZ(Foe):nDe;const oDe=rDe;var iDe=1,aDe=2,uDe=4,Kfe="[object Arguments]",sDe="[object Array]",lDe="[object Boolean]",cDe="[object Date]",fDe="[object Error]",Jfe="[object Function]",dDe="[object GeneratorFunction]",hDe="[object Map]",pDe="[object Number]",Qfe="[object Object]",mDe="[object RegExp]",gDe="[object Set]",vDe="[object String]",yDe="[object Symbol]",bDe="[object WeakMap]",xDe="[object ArrayBuffer]",wDe="[object DataView]",_De="[object Float32Array]",SDe="[object Float64Array]",CDe="[object Int8Array]",TDe="[object Int16Array]",MDe="[object Int32Array]",kDe="[object Uint8Array]",DDe="[object Uint8ClampedArray]",ADe="[object Uint16Array]",EDe="[object Uint32Array]",Fu={};Fu[Kfe]=Fu[sDe]=Fu[xDe]=Fu[wDe]=Fu[lDe]=Fu[cDe]=Fu[_De]=Fu[SDe]=Fu[CDe]=Fu[TDe]=Fu[MDe]=Fu[hDe]=Fu[pDe]=Fu[Qfe]=Fu[mDe]=Fu[gDe]=Fu[vDe]=Fu[yDe]=Fu[kDe]=Fu[DDe]=Fu[ADe]=Fu[EDe]=!0;Fu[fDe]=Fu[Jfe]=Fu[bDe]=!1;function bN(n,e,t,r,i,u){var l,f=e&iDe,h=e&aDe,g=e&uDe;if(t&&(l=i?t(n,r,i,u):t(n)),l!==void 0)return l;if(!xL(n))return n;var y=AM(n);if(y){if(l=Ske(n),!f)return LCe(n,l)}else{var b=oee(n),S=b==Jfe||b==dDe;if(Bfe(n))return nke(n,f);if(b==Qfe||b==Kfe||S&&!i){if(l=h||S?{}:Kke(n),!f)return h?cke(n,eke(l,n)):uke(n,ZMe(l,n))}else{if(!Fu[b])return i?n:{};l=Yke(n,b,f)}}u||(u=new o5);var _=u.get(n);if(_)return _;u.set(n,l),oDe(n)?n.forEach(function(R){l.add(bN(R,e,t,R,n,u))}):eDe(n)&&n.forEach(function(R,I){l.set(I,bN(R,e,t,I,n,u))});var k=g?h?Yfe:fke:h?QZ:JZ,A=y?void 0:k(n);return GCe(A||n,function(R,I){A&&(I=R,R=n[I]),Ofe(l,I,bN(R,e,t,I,n,u))}),l}var ODe=1,IDe=4;function qN(n){return bN(n,ODe|IDe)}function RDe(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}function PDe(n,e){return e.length<2?n:jfe(n,$Me(e,0,-1))}function NDe(n,e){return e=eee(e,n),n=PDe(n,e),n==null||delete n[Vfe(RDe(e))]}function LDe(n){return qMe(n)?void 0:n}var BDe=1,zDe=2,FDe=4,HDe=zMe(function(n,e){var t={};if(n==null)return t;var r=!1;e=kfe(e,function(u){return u=eee(u,n),r||(r=u.length>1),u}),wL(n,Yfe(n),t),r&&(t=bN(t,BDe|zDe|FDe,LDe));for(var i=e.length;i--;)NDe(t,e[i]);return t});const Zfe=HDe,VDe=n=>n!==null&&typeof n=="object",Mb=n=>!!n&&typeof n=="function",Hoe=Object.assign,Vl=n=>n,lf=(n,e)=>{const t=n;if(t.install=r=>{for(const i of[t,...Object.values(e??{})])r.component(i.name,i)},e)for(const[r,i]of Object.entries(e))t[r]=i;return t};function jDe(n){return VDe(n)?!!(n!=null&&n.setup&&Mb(n.setup)||n!=null&&n.render&&Mb(n.render)):!1}var N3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ede(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function wYe(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var UDe=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},tde={},Op={};let aee;const WDe=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Op.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17};Op.getSymbolTotalCodewords=function(n){return WDe[n]};Op.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};Op.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');aee=n};Op.isKanjiModeEnabled=function(){return typeof aee<"u"};Op.toSJIS=function(n){return aee(n)};var IV={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+t)}}n.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},n.from=function(t,r){if(n.isValid(t))return t;try{return e(t)}catch{return r}}})(IV);function nde(){this.buffer=[],this.length=0}nde.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let t=0;t<e;t++)this.putBit((n>>>e-t-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var qDe=nde;function _L(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}_L.prototype.set=function(n,e,t,r){const i=n*this.size+e;this.data[i]=t,r&&(this.reservedBit[i]=!0)};_L.prototype.get=function(n,e){return this.data[n*this.size+e]};_L.prototype.xor=function(n,e,t){this.data[n*this.size+e]^=t};_L.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var $De=_L,rde={};(function(n){const e=Op.getSymbolSize;n.getRowColCoords=function(t){if(t===1)return[];const r=Math.floor(t/7)+2,i=e(t),u=i===145?26:Math.ceil((i-13)/(2*r-2))*2,l=[i-7];for(let f=1;f<r-1;f++)l[f]=l[f-1]-u;return l.push(6),l.reverse()},n.getPositions=function(t){const r=[],i=n.getRowColCoords(t),u=i.length;for(let l=0;l<u;l++)for(let f=0;f<u;f++)l===0&&f===0||l===0&&f===u-1||l===u-1&&f===0||r.push([i[l],i[f]]);return r}})(rde);var ode={};const GDe=Op.getSymbolSize,Voe=7;ode.getPositions=function(n){const e=GDe(n);return[[0,0],[e-Voe,0],[0,e-Voe]]};var ide={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},n.from=function(r){return n.isValid(r)?parseInt(r,10):void 0},n.getPenaltyN1=function(r){const i=r.size;let u=0,l=0,f=0,h=null,g=null;for(let y=0;y<i;y++){l=f=0,h=g=null;for(let b=0;b<i;b++){let S=r.get(y,b);S===h?l++:(l>=5&&(u+=e.N1+(l-5)),h=S,l=1),S=r.get(b,y),S===g?f++:(f>=5&&(u+=e.N1+(f-5)),g=S,f=1)}l>=5&&(u+=e.N1+(l-5)),f>=5&&(u+=e.N1+(f-5))}return u},n.getPenaltyN2=function(r){const i=r.size;let u=0;for(let l=0;l<i-1;l++)for(let f=0;f<i-1;f++){const h=r.get(l,f)+r.get(l,f+1)+r.get(l+1,f)+r.get(l+1,f+1);(h===4||h===0)&&u++}return u*e.N2},n.getPenaltyN3=function(r){const i=r.size;let u=0,l=0,f=0;for(let h=0;h<i;h++){l=f=0;for(let g=0;g<i;g++)l=l<<1&2047|r.get(h,g),g>=10&&(l===1488||l===93)&&u++,f=f<<1&2047|r.get(g,h),g>=10&&(f===1488||f===93)&&u++}return u*e.N3},n.getPenaltyN4=function(r){let i=0;const u=r.data.length;for(let l=0;l<u;l++)i+=r.data[l];return Math.abs(Math.ceil(i*100/u/5)-10)*e.N4};function t(r,i,u){switch(r){case n.Patterns.PATTERN000:return(i+u)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return u%3===0;case n.Patterns.PATTERN011:return(i+u)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(u/3))%2===0;case n.Patterns.PATTERN101:return i*u%2+i*u%3===0;case n.Patterns.PATTERN110:return(i*u%2+i*u%3)%2===0;case n.Patterns.PATTERN111:return(i*u%3+(i+u)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}n.applyMask=function(r,i){const u=i.size;for(let l=0;l<u;l++)for(let f=0;f<u;f++)i.isReserved(f,l)||i.xor(f,l,t(r,f,l))},n.getBestMask=function(r,i){const u=Object.keys(n.Patterns).length;let l=0,f=1/0;for(let h=0;h<u;h++){i(h),n.applyMask(h,r);const g=n.getPenaltyN1(r)+n.getPenaltyN2(r)+n.getPenaltyN3(r)+n.getPenaltyN4(r);n.applyMask(h,r),g<f&&(f=g,l=h)}return l}})(ide);var RV={};const I2=IV,j7=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],U7=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];RV.getBlocksCount=function(n,e){switch(e){case I2.L:return j7[(n-1)*4+0];case I2.M:return j7[(n-1)*4+1];case I2.Q:return j7[(n-1)*4+2];case I2.H:return j7[(n-1)*4+3];default:return}};RV.getTotalCodewordsCount=function(n,e){switch(e){case I2.L:return U7[(n-1)*4+0];case I2.M:return U7[(n-1)*4+1];case I2.Q:return U7[(n-1)*4+2];case I2.H:return U7[(n-1)*4+3];default:return}};var ade={},PV={};const xN=new Uint8Array(512),OH=new Uint8Array(256);(function(){let n=1;for(let e=0;e<255;e++)xN[e]=n,OH[n]=e,n<<=1,n&256&&(n^=285);for(let e=255;e<512;e++)xN[e]=xN[e-255]})();PV.log=function(n){if(n<1)throw new Error("log("+n+")");return OH[n]};PV.exp=function(n){return xN[n]};PV.mul=function(n,e){return n===0||e===0?0:xN[OH[n]+OH[e]]};(function(n){const e=PV;n.mul=function(t,r){const i=new Uint8Array(t.length+r.length-1);for(let u=0;u<t.length;u++)for(let l=0;l<r.length;l++)i[u+l]^=e.mul(t[u],r[l]);return i},n.mod=function(t,r){let i=new Uint8Array(t);for(;i.length-r.length>=0;){const u=i[0];for(let f=0;f<r.length;f++)i[f]^=e.mul(r[f],u);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},n.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let i=0;i<t;i++)r=n.mul(r,new Uint8Array([1,e.exp(i)]));return r}})(ade);const ude=ade;function uee(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}uee.prototype.initialize=function(n){this.degree=n,this.genPoly=ude.generateECPolynomial(this.degree)};uee.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const e=new Uint8Array(n.length+this.degree);e.set(n);const t=ude.mod(e,this.genPoly),r=this.degree-t.length;if(r>0){const i=new Uint8Array(this.degree);return i.set(t,r),i}return t};var XDe=uee,sde={},o_={},see={};see.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40};var by={};const lde="[0-9]+",YDe="[A-Z $%*+\\-./:]+";let $N="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";$N=$N.replace(/u/g,"\\u");const KDe="(?:(?![A-Z0-9 $%*+\\-./:]|"+$N+`)(?:.|[\r
]))+`;by.KANJI=new RegExp($N,"g");by.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");by.BYTE=new RegExp(KDe,"g");by.NUMERIC=new RegExp(lde,"g");by.ALPHANUMERIC=new RegExp(YDe,"g");const JDe=new RegExp("^"+$N+"$"),QDe=new RegExp("^"+lde+"$"),ZDe=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");by.testKanji=function(n){return JDe.test(n)};by.testNumeric=function(n){return QDe.test(n)};by.testAlphanumeric=function(n){return ZDe.test(n)};(function(n){const e=see,t=by;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(i,u){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?i.ccBits[0]:u<27?i.ccBits[1]:i.ccBits[2]},n.getBestModeForData=function(i){return t.testNumeric(i)?n.NUMERIC:t.testAlphanumeric(i)?n.ALPHANUMERIC:t.testKanji(i)?n.KANJI:n.BYTE},n.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},n.isValid=function(i){return i&&i.bit&&i.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(i,u){if(n.isValid(i))return i;try{return r(i)}catch{return u}}})(o_);(function(n){const e=Op,t=RV,r=IV,i=o_,u=see,l=7973,f=e.getBCHDigit(l);function h(S,_,k){for(let A=1;A<=40;A++)if(_<=n.getCapacity(A,k,S))return A}function g(S,_){return i.getCharCountIndicator(S,_)+4}function y(S,_){let k=0;return S.forEach(function(A){const R=g(A.mode,_);k+=R+A.getBitsLength()}),k}function b(S,_){for(let k=1;k<=40;k++)if(y(S,k)<=n.getCapacity(k,_,i.MIXED))return k}n.from=function(S,_){return u.isValid(S)?parseInt(S,10):_},n.getCapacity=function(S,_,k){if(!u.isValid(S))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=i.BYTE);const A=e.getSymbolTotalCodewords(S),R=t.getTotalCodewordsCount(S,_),I=(A-R)*8;if(k===i.MIXED)return I;const z=I-g(k,S);switch(k){case i.NUMERIC:return Math.floor(z/10*3);case i.ALPHANUMERIC:return Math.floor(z/11*2);case i.KANJI:return Math.floor(z/13);case i.BYTE:default:return Math.floor(z/8)}},n.getBestVersionForData=function(S,_){let k;const A=r.from(_,r.M);if(Array.isArray(S)){if(S.length>1)return b(S,A);if(S.length===0)return 1;k=S[0]}else k=S;return h(k.mode,k.getLength(),A)},n.getEncodedBits=function(S){if(!u.isValid(S)||S<7)throw new Error("Invalid QR Code version");let _=S<<12;for(;e.getBCHDigit(_)-f>=0;)_^=l<<e.getBCHDigit(_)-f;return S<<12|_}})(sde);var cde={};const ZJ=Op,fde=1335,eAe=21522,joe=ZJ.getBCHDigit(fde);cde.getEncodedBits=function(n,e){const t=n.bit<<3|e;let r=t<<10;for(;ZJ.getBCHDigit(r)-joe>=0;)r^=fde<<ZJ.getBCHDigit(r)-joe;return(t<<10|r)^eAe};var dde={};const tAe=o_;function L3(n){this.mode=tAe.NUMERIC,this.data=n.toString()}L3.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)};L3.prototype.getLength=function(){return this.data.length};L3.prototype.getBitsLength=function(){return L3.getBitsLength(this.data.length)};L3.prototype.write=function(n){let e,t,r;for(e=0;e+3<=this.data.length;e+=3)t=this.data.substr(e,3),r=parseInt(t,10),n.put(r,10);const i=this.data.length-e;i>0&&(t=this.data.substr(e),r=parseInt(t,10),n.put(r,i*3+1))};var nAe=L3;const rAe=o_,zY=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function B3(n){this.mode=rAe.ALPHANUMERIC,this.data=n}B3.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)};B3.prototype.getLength=function(){return this.data.length};B3.prototype.getBitsLength=function(){return B3.getBitsLength(this.data.length)};B3.prototype.write=function(n){let e;for(e=0;e+2<=this.data.length;e+=2){let t=zY.indexOf(this.data[e])*45;t+=zY.indexOf(this.data[e+1]),n.put(t,11)}this.data.length%2&&n.put(zY.indexOf(this.data[e]),6)};var oAe=B3,iAe=function(n){for(var e=[],t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);if(i>=55296&&i<=56319&&t>r+1){var u=n.charCodeAt(r+1);u>=56320&&u<=57343&&(i=(i-55296)*1024+u-56320+65536,r+=1)}if(i<128){e.push(i);continue}if(i<2048){e.push(i>>6|192),e.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){e.push(i>>12|224),e.push(i>>6&63|128),e.push(i&63|128);continue}if(i>=65536&&i<=1114111){e.push(i>>18|240),e.push(i>>12&63|128),e.push(i>>6&63|128),e.push(i&63|128);continue}e.push(239,191,189)}return new Uint8Array(e).buffer};const aAe=iAe,uAe=o_;function z3(n){this.mode=uAe.BYTE,typeof n=="string"&&(n=aAe(n)),this.data=new Uint8Array(n)}z3.getBitsLength=function(n){return n*8};z3.prototype.getLength=function(){return this.data.length};z3.prototype.getBitsLength=function(){return z3.getBitsLength(this.data.length)};z3.prototype.write=function(n){for(let e=0,t=this.data.length;e<t;e++)n.put(this.data[e],8)};var sAe=z3;const lAe=o_,cAe=Op;function F3(n){this.mode=lAe.KANJI,this.data=n}F3.getBitsLength=function(n){return n*13};F3.prototype.getLength=function(){return this.data.length};F3.prototype.getBitsLength=function(){return F3.getBitsLength(this.data.length)};F3.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let t=cAe.toSJIS(this.data[e]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),n.put(t,13)}};var fAe=F3,hde={exports:{}};(function(n){var e={single_source_shortest_paths:function(t,r,i){var u={},l={};l[r]=0;var f=e.PriorityQueue.make();f.push(r,0);for(var h,g,y,b,S,_,k,A,R;!f.empty();){h=f.pop(),g=h.value,b=h.cost,S=t[g]||{};for(y in S)S.hasOwnProperty(y)&&(_=S[y],k=b+_,A=l[y],R=typeof l[y]>"u",(R||A>k)&&(l[y]=k,f.push(y,k),u[y]=g))}if(typeof i<"u"&&typeof l[i]>"u"){var I=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(I)}return u},extract_shortest_path_from_predecessor_list:function(t,r){for(var i=[],u=r;u;)i.push(u),t[u],u=t[u];return i.reverse(),i},find_path:function(t,r,i){var u=e.single_source_shortest_paths(t,r,i);return e.extract_shortest_path_from_predecessor_list(u,i)},PriorityQueue:{make:function(t){var r=e.PriorityQueue,i={},u;t=t||{};for(u in r)r.hasOwnProperty(u)&&(i[u]=r[u]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(t,r){return t.cost-r.cost},push:function(t,r){var i={value:t,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(hde);var dAe=hde.exports;(function(n){const e=o_,t=nAe,r=oAe,i=sAe,u=fAe,l=by,f=Op,h=dAe;function g(I){return unescape(encodeURIComponent(I)).length}function y(I,z,L){const q=[];let X;for(;(X=I.exec(L))!==null;)q.push({data:X[0],index:X.index,mode:z,length:X[0].length});return q}function b(I){const z=y(l.NUMERIC,e.NUMERIC,I),L=y(l.ALPHANUMERIC,e.ALPHANUMERIC,I);let q,X;return f.isKanjiModeEnabled()?(q=y(l.BYTE,e.BYTE,I),X=y(l.KANJI,e.KANJI,I)):(q=y(l.BYTE_KANJI,e.BYTE,I),X=[]),z.concat(L,q,X).sort(function(Y,ae){return Y.index-ae.index}).map(function(Y){return{data:Y.data,mode:Y.mode,length:Y.length}})}function S(I,z){switch(z){case e.NUMERIC:return t.getBitsLength(I);case e.ALPHANUMERIC:return r.getBitsLength(I);case e.KANJI:return u.getBitsLength(I);case e.BYTE:return i.getBitsLength(I)}}function _(I){return I.reduce(function(z,L){const q=z.length-1>=0?z[z.length-1]:null;return q&&q.mode===L.mode?(z[z.length-1].data+=L.data,z):(z.push(L),z)},[])}function k(I){const z=[];for(let L=0;L<I.length;L++){const q=I[L];switch(q.mode){case e.NUMERIC:z.push([q,{data:q.data,mode:e.ALPHANUMERIC,length:q.length},{data:q.data,mode:e.BYTE,length:q.length}]);break;case e.ALPHANUMERIC:z.push([q,{data:q.data,mode:e.BYTE,length:q.length}]);break;case e.KANJI:z.push([q,{data:q.data,mode:e.BYTE,length:g(q.data)}]);break;case e.BYTE:z.push([{data:q.data,mode:e.BYTE,length:g(q.data)}])}}return z}function A(I,z){const L={},q={start:{}};let X=["start"];for(let Y=0;Y<I.length;Y++){const ae=I[Y],te=[];for(let ie=0;ie<ae.length;ie++){const le=ae[ie],ce=""+Y+ie;te.push(ce),L[ce]={node:le,lastCount:0},q[ce]={};for(let ne=0;ne<X.length;ne++){const Q=X[ne];L[Q]&&L[Q].node.mode===le.mode?(q[Q][ce]=S(L[Q].lastCount+le.length,le.mode)-S(L[Q].lastCount,le.mode),L[Q].lastCount+=le.length):(L[Q]&&(L[Q].lastCount=le.length),q[Q][ce]=S(le.length,le.mode)+4+e.getCharCountIndicator(le.mode,z))}}X=te}for(let Y=0;Y<X.length;Y++)q[X[Y]].end=0;return{map:q,table:L}}function R(I,z){let L;const q=e.getBestModeForData(I);if(L=e.from(z,q),L!==e.BYTE&&L.bit<q.bit)throw new Error('"'+I+'" cannot be encoded with mode '+e.toString(L)+`.
 Suggested mode is: `+e.toString(q));switch(L===e.KANJI&&!f.isKanjiModeEnabled()&&(L=e.BYTE),L){case e.NUMERIC:return new t(I);case e.ALPHANUMERIC:return new r(I);case e.KANJI:return new u(I);case e.BYTE:return new i(I)}}n.fromArray=function(I){return I.reduce(function(z,L){return typeof L=="string"?z.push(R(L,null)):L.data&&z.push(R(L.data,L.mode)),z},[])},n.fromString=function(I,z){const L=b(I,f.isKanjiModeEnabled()),q=k(L),X=A(q,z),Y=h.find_path(X.map,"start","end"),ae=[];for(let te=1;te<Y.length-1;te++)ae.push(X.table[Y[te]].node);return n.fromArray(_(ae))},n.rawSplit=function(I){return n.fromArray(b(I,f.isKanjiModeEnabled()))}})(dde);const NV=Op,FY=IV,hAe=qDe,pAe=$De,mAe=rde,gAe=ode,eQ=ide,tQ=RV,vAe=XDe,IH=sde,yAe=cde,bAe=o_,HY=dde;function xAe(n,e){const t=n.size,r=gAe.getPositions(e);for(let i=0;i<r.length;i++){const u=r[i][0],l=r[i][1];for(let f=-1;f<=7;f++)if(!(u+f<=-1||t<=u+f))for(let h=-1;h<=7;h++)l+h<=-1||t<=l+h||(f>=0&&f<=6&&(h===0||h===6)||h>=0&&h<=6&&(f===0||f===6)||f>=2&&f<=4&&h>=2&&h<=4?n.set(u+f,l+h,!0,!0):n.set(u+f,l+h,!1,!0))}}function wAe(n){const e=n.size;for(let t=8;t<e-8;t++){const r=t%2===0;n.set(t,6,r,!0),n.set(6,t,r,!0)}}function _Ae(n,e){const t=mAe.getPositions(e);for(let r=0;r<t.length;r++){const i=t[r][0],u=t[r][1];for(let l=-2;l<=2;l++)for(let f=-2;f<=2;f++)l===-2||l===2||f===-2||f===2||l===0&&f===0?n.set(i+l,u+f,!0,!0):n.set(i+l,u+f,!1,!0)}}function SAe(n,e){const t=n.size,r=IH.getEncodedBits(e);let i,u,l;for(let f=0;f<18;f++)i=Math.floor(f/3),u=f%3+t-8-3,l=(r>>f&1)===1,n.set(i,u,l,!0),n.set(u,i,l,!0)}function VY(n,e,t){const r=n.size,i=yAe.getEncodedBits(e,t);let u,l;for(u=0;u<15;u++)l=(i>>u&1)===1,u<6?n.set(u,8,l,!0):u<8?n.set(u+1,8,l,!0):n.set(r-15+u,8,l,!0),u<8?n.set(8,r-u-1,l,!0):u<9?n.set(8,15-u-1+1,l,!0):n.set(8,15-u-1,l,!0);n.set(r-8,8,1,!0)}function CAe(n,e){const t=n.size;let r=-1,i=t-1,u=7,l=0;for(let f=t-1;f>0;f-=2)for(f===6&&f--;;){for(let h=0;h<2;h++)if(!n.isReserved(i,f-h)){let g=!1;l<e.length&&(g=(e[l]>>>u&1)===1),n.set(i,f-h,g),u--,u===-1&&(l++,u=7)}if(i+=r,i<0||t<=i){i-=r,r=-r;break}}}function TAe(n,e,t){const r=new hAe;t.forEach(function(h){r.put(h.mode.bit,4),r.put(h.getLength(),bAe.getCharCountIndicator(h.mode,n)),h.write(r)});const i=NV.getSymbolTotalCodewords(n),u=tQ.getTotalCodewordsCount(n,e),l=(i-u)*8;for(r.getLengthInBits()+4<=l&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const f=(l-r.getLengthInBits())/8;for(let h=0;h<f;h++)r.put(h%2?17:236,8);return MAe(r,n,e)}function MAe(n,e,t){const r=NV.getSymbolTotalCodewords(e),i=tQ.getTotalCodewordsCount(e,t),u=r-i,l=tQ.getBlocksCount(e,t),f=r%l,h=l-f,g=Math.floor(r/l),y=Math.floor(u/l),b=y+1,S=g-y,_=new vAe(S);let k=0;const A=new Array(l),R=new Array(l);let I=0;const z=new Uint8Array(n.buffer);for(let ae=0;ae<l;ae++){const te=ae<h?y:b;A[ae]=z.slice(k,k+te),R[ae]=_.encode(A[ae]),k+=te,I=Math.max(I,te)}const L=new Uint8Array(r);let q=0,X,Y;for(X=0;X<I;X++)for(Y=0;Y<l;Y++)X<A[Y].length&&(L[q++]=A[Y][X]);for(X=0;X<S;X++)for(Y=0;Y<l;Y++)L[q++]=R[Y][X];return L}function kAe(n,e,t,r){let i;if(Array.isArray(n))i=HY.fromArray(n);else if(typeof n=="string"){let g=e;if(!g){const y=HY.rawSplit(n);g=IH.getBestVersionForData(y,t)}i=HY.fromString(n,g||40)}else throw new Error("Invalid data");const u=IH.getBestVersionForData(i,t);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=u;else if(e<u)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+u+`.
`);const l=TAe(e,t,i),f=NV.getSymbolSize(e),h=new pAe(f);return xAe(h,e),wAe(h),_Ae(h,e),VY(h,t,0),e>=7&&SAe(h,e),CAe(h,l),isNaN(r)&&(r=eQ.getBestMask(h,VY.bind(null,h,t))),eQ.applyMask(r,h),VY(h,t,r),{modules:h,version:e,errorCorrectionLevel:t,maskPattern:r,segments:i}}tde.create=function(n,e){if(typeof n>"u"||n==="")throw new Error("No input text");let t=FY.M,r,i;return typeof e<"u"&&(t=FY.from(e.errorCorrectionLevel,FY.M),r=IH.from(e.version),i=eQ.from(e.maskPattern),e.toSJISFunc&&NV.setToSJISFunction(e.toSJISFunc)),kAe(n,r,t,i)};var pde={},lee={};(function(n){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let r=t.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+t);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(u){return[u,u]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}n.getOptions=function(t){t||(t={}),t.color||(t.color={});const r=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,i=t.width&&t.width>=21?t.width:void 0,u=t.scale||4;return{width:i,scale:i?4:u,margin:r,color:{dark:e(t.color.dark||"#000000ff"),light:e(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},n.getScale=function(t,r){return r.width&&r.width>=t+r.margin*2?r.width/(t+r.margin*2):r.scale},n.getImageWidth=function(t,r){const i=n.getScale(t,r);return Math.floor((t+r.margin*2)*i)},n.qrToImageData=function(t,r,i){const u=r.modules.size,l=r.modules.data,f=n.getScale(u,i),h=Math.floor((u+i.margin*2)*f),g=i.margin*f,y=[i.color.light,i.color.dark];for(let b=0;b<h;b++)for(let S=0;S<h;S++){let _=(b*h+S)*4,k=i.color.light;if(b>=g&&S>=g&&b<h-g&&S<h-g){const A=Math.floor((b-g)/f),R=Math.floor((S-g)/f);k=y[l[A*u+R]?1:0]}t[_++]=k.r,t[_++]=k.g,t[_++]=k.b,t[_]=k.a}}})(lee);(function(n){const e=lee;function t(i,u,l){i.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=l,u.width=l,u.style.height=l+"px",u.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(i,u,l){let f=l,h=u;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),u||(h=r()),f=e.getOptions(f);const g=e.getImageWidth(i.modules.size,f),y=h.getContext("2d"),b=y.createImageData(g,g);return e.qrToImageData(b.data,i,f),t(y,h,g),y.putImageData(b,0,0),h},n.renderToDataURL=function(i,u,l){let f=l;typeof f>"u"&&(!u||!u.getContext)&&(f=u,u=void 0),f||(f={});const h=n.render(i,u,f),g=f.type||"image/png",y=f.rendererOpts||{};return h.toDataURL(g,y.quality)}})(pde);var mde={};const DAe=lee;function Uoe(n,e){const t=n.a/255,r=e+'="'+n.hex+'"';return t<1?r+" "+e+'-opacity="'+t.toFixed(2).slice(1)+'"':r}function jY(n,e,t){let r=n+e;return typeof t<"u"&&(r+=" "+t),r}function AAe(n,e,t){let r="",i=0,u=!1,l=0;for(let f=0;f<n.length;f++){const h=Math.floor(f%e),g=Math.floor(f/e);!h&&!u&&(u=!0),n[f]?(l++,f>0&&h>0&&n[f-1]||(r+=u?jY("M",h+t,.5+g+t):jY("m",i,0),i=0,u=!1),h+1<e&&n[f+1]||(r+=jY("h",l),l=0)):i++}return r}mde.render=function(n,e,t){const r=DAe.getOptions(e),i=n.modules.size,u=n.modules.data,l=i+r.margin*2,f=r.color.light.a?"<path "+Uoe(r.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+Uoe(r.color.dark,"stroke")+' d="'+AAe(u,i,r.margin)+'"/>',g='viewBox="0 0 '+l+" "+l+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+g+' shape-rendering="crispEdges">'+f+h+`</svg>
`;return typeof t=="function"&&t(null,y),y};const EAe=UDe,nQ=tde,gde=pde,OAe=mde;function cee(n,e,t,r,i){const u=[].slice.call(arguments,1),l=u.length,f=typeof u[l-1]=="function";if(!f&&!EAe())throw new Error("Callback required as last argument");if(f){if(l<2)throw new Error("Too few arguments provided");l===2?(i=t,t=e,e=r=void 0):l===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=t,t=e,e=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(t=e,e=r=void 0):l===2&&!e.getContext&&(r=t,t=e,e=void 0),new Promise(function(h,g){try{const y=nQ.create(t,r);h(n(y,e,r))}catch(y){g(y)}})}try{const h=nQ.create(t,r);i(null,n(h,e,r))}catch(h){i(h)}}nQ.create;var _Ye=cee.bind(null,gde.render);cee.bind(null,gde.renderToDataURL);cee.bind(null,function(n,e,t){return OAe.render(n,t)});class IAe{constructor(e=window.localStorage,t){S3(this,"localStorage"),S3(this,"prefix"),S3(this,"expire");const{prefix:r}=t;this.localStorage=e,this.prefix=r}set(e,t,r){this.localStorage.setItem(this.getKey(e),this.dataFormatter(t,r))}get(e){const t=this.localStorage.getItem(this.getKey(e));if(!t)return null;try{const r=JSON.parse(t);return this.isExpire(r.expire)?(this.remove(this.getKey(e)),null):r.value}catch{return null}}remove(e){this.localStorage.removeItem(this.getKey(e))}clearAll(){this.localStorage.clear()}dataFormatter(e,t){return JSON.stringify({value:e,expire:t})}isExpire(e){return e?new Date().getTime()<e:!1}getKey(e){return(this.prefix||"")+e}}function RAe(n){const{prefixKey:e,expire:t,storage:r=window.localStorage}=n||{};return new IAe(r,{prefix:e||"",expire:t})}var vde={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(N3,function(){var t=1e3,r=6e4,i=36e5,u="millisecond",l="second",f="minute",h="hour",g="day",y="week",b="month",S="quarter",_="year",k="date",A="Invalid Date",R=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Ce){var ze=["th","st","nd","rd"],ke=Ce%100;return"["+Ce+(ze[(ke-20)%10]||ze[ke]||ze[0])+"]"}},L=function(Ce,ze,ke){var St=String(Ce);return!St||St.length>=ze?Ce:""+Array(ze+1-St.length).join(ke)+Ce},q={s:L,z:function(Ce){var ze=-Ce.utcOffset(),ke=Math.abs(ze),St=Math.floor(ke/60),tt=ke%60;return(ze<=0?"+":"-")+L(St,2,"0")+":"+L(tt,2,"0")},m:function Ce(ze,ke){if(ze.date()<ke.date())return-Ce(ke,ze);var St=12*(ke.year()-ze.year())+(ke.month()-ze.month()),tt=ze.clone().add(St,b),G=ke-tt<0,We=ze.clone().add(St+(G?-1:1),b);return+(-(St+(ke-tt)/(G?tt-We:We-tt))||0)},a:function(Ce){return Ce<0?Math.ceil(Ce)||0:Math.floor(Ce)},p:function(Ce){return{M:b,y:_,w:y,d:g,D:k,h,m:f,s:l,ms:u,Q:S}[Ce]||String(Ce||"").toLowerCase().replace(/s$/,"")},u:function(Ce){return Ce===void 0}},X="en",Y={};Y[X]=z;var ae="$isDayjsObject",te=function(Ce){return Ce instanceof ne||!(!Ce||!Ce[ae])},ie=function Ce(ze,ke,St){var tt;if(!ze)return X;if(typeof ze=="string"){var G=ze.toLowerCase();Y[G]&&(tt=G),ke&&(Y[G]=ke,tt=G);var We=ze.split("-");if(!tt&&We.length>1)return Ce(We[0])}else{var Ge=ze.name;Y[Ge]=ze,tt=Ge}return!St&&tt&&(X=tt),tt||!St&&X},le=function(Ce,ze){if(te(Ce))return Ce.clone();var ke=typeof ze=="object"?ze:{};return ke.date=Ce,ke.args=arguments,new ne(ke)},ce=q;ce.l=ie,ce.i=te,ce.w=function(Ce,ze){return le(Ce,{locale:ze.$L,utc:ze.$u,x:ze.$x,$offset:ze.$offset})};var ne=function(){function Ce(ke){this.$L=ie(ke.locale,null,!0),this.parse(ke),this.$x=this.$x||ke.x||{},this[ae]=!0}var ze=Ce.prototype;return ze.parse=function(ke){this.$d=function(St){var tt=St.date,G=St.utc;if(tt===null)return new Date(NaN);if(ce.u(tt))return new Date;if(tt instanceof Date)return new Date(tt);if(typeof tt=="string"&&!/Z$/i.test(tt)){var We=tt.match(R);if(We){var Ge=We[2]-1||0,pt=(We[7]||"0").substring(0,3);return G?new Date(Date.UTC(We[1],Ge,We[3]||1,We[4]||0,We[5]||0,We[6]||0,pt)):new Date(We[1],Ge,We[3]||1,We[4]||0,We[5]||0,We[6]||0,pt)}}return new Date(tt)}(ke),this.init()},ze.init=function(){var ke=this.$d;this.$y=ke.getFullYear(),this.$M=ke.getMonth(),this.$D=ke.getDate(),this.$W=ke.getDay(),this.$H=ke.getHours(),this.$m=ke.getMinutes(),this.$s=ke.getSeconds(),this.$ms=ke.getMilliseconds()},ze.$utils=function(){return ce},ze.isValid=function(){return this.$d.toString()!==A},ze.isSame=function(ke,St){var tt=le(ke);return this.startOf(St)<=tt&&tt<=this.endOf(St)},ze.isAfter=function(ke,St){return le(ke)<this.startOf(St)},ze.isBefore=function(ke,St){return this.endOf(St)<le(ke)},ze.$g=function(ke,St,tt){return ce.u(ke)?this[St]:this.set(tt,ke)},ze.unix=function(){return Math.floor(this.valueOf()/1e3)},ze.valueOf=function(){return this.$d.getTime()},ze.startOf=function(ke,St){var tt=this,G=!!ce.u(St)||St,We=ce.p(ke),Ge=function(Ye,je){var bt=ce.w(tt.$u?Date.UTC(tt.$y,je,Ye):new Date(tt.$y,je,Ye),tt);return G?bt:bt.endOf(g)},pt=function(Ye,je){return ce.w(tt.toDate()[Ye].apply(tt.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(je)),tt)},Ze=this.$W,kt=this.$M,Ot=this.$D,Nt="set"+(this.$u?"UTC":"");switch(We){case _:return G?Ge(1,0):Ge(31,11);case b:return G?Ge(1,kt):Ge(0,kt+1);case y:var fe=this.$locale().weekStart||0,Yt=(Ze<fe?Ze+7:Ze)-fe;return Ge(G?Ot-Yt:Ot+(6-Yt),kt);case g:case k:return pt(Nt+"Hours",0);case h:return pt(Nt+"Minutes",1);case f:return pt(Nt+"Seconds",2);case l:return pt(Nt+"Milliseconds",3);default:return this.clone()}},ze.endOf=function(ke){return this.startOf(ke,!1)},ze.$set=function(ke,St){var tt,G=ce.p(ke),We="set"+(this.$u?"UTC":""),Ge=(tt={},tt[g]=We+"Date",tt[k]=We+"Date",tt[b]=We+"Month",tt[_]=We+"FullYear",tt[h]=We+"Hours",tt[f]=We+"Minutes",tt[l]=We+"Seconds",tt[u]=We+"Milliseconds",tt)[G],pt=G===g?this.$D+(St-this.$W):St;if(G===b||G===_){var Ze=this.clone().set(k,1);Ze.$d[Ge](pt),Ze.init(),this.$d=Ze.set(k,Math.min(this.$D,Ze.daysInMonth())).$d}else Ge&&this.$d[Ge](pt);return this.init(),this},ze.set=function(ke,St){return this.clone().$set(ke,St)},ze.get=function(ke){return this[ce.p(ke)]()},ze.add=function(ke,St){var tt,G=this;ke=Number(ke);var We=ce.p(St),Ge=function(kt){var Ot=le(G);return ce.w(Ot.date(Ot.date()+Math.round(kt*ke)),G)};if(We===b)return this.set(b,this.$M+ke);if(We===_)return this.set(_,this.$y+ke);if(We===g)return Ge(1);if(We===y)return Ge(7);var pt=(tt={},tt[f]=r,tt[h]=i,tt[l]=t,tt)[We]||1,Ze=this.$d.getTime()+ke*pt;return ce.w(Ze,this)},ze.subtract=function(ke,St){return this.add(-1*ke,St)},ze.format=function(ke){var St=this,tt=this.$locale();if(!this.isValid())return tt.invalidDate||A;var G=ke||"YYYY-MM-DDTHH:mm:ssZ",We=ce.z(this),Ge=this.$H,pt=this.$m,Ze=this.$M,kt=tt.weekdays,Ot=tt.months,Nt=tt.meridiem,fe=function(je,bt,qe,Je){return je&&(je[bt]||je(St,G))||qe[bt].slice(0,Je)},Yt=function(je){return ce.s(Ge%12||12,je,"0")},Ye=Nt||function(je,bt,qe){var Je=je<12?"AM":"PM";return qe?Je.toLowerCase():Je};return G.replace(I,function(je,bt){return bt||function(qe){switch(qe){case"YY":return String(St.$y).slice(-2);case"YYYY":return ce.s(St.$y,4,"0");case"M":return Ze+1;case"MM":return ce.s(Ze+1,2,"0");case"MMM":return fe(tt.monthsShort,Ze,Ot,3);case"MMMM":return fe(Ot,Ze);case"D":return St.$D;case"DD":return ce.s(St.$D,2,"0");case"d":return String(St.$W);case"dd":return fe(tt.weekdaysMin,St.$W,kt,2);case"ddd":return fe(tt.weekdaysShort,St.$W,kt,3);case"dddd":return kt[St.$W];case"H":return String(Ge);case"HH":return ce.s(Ge,2,"0");case"h":return Yt(1);case"hh":return Yt(2);case"a":return Ye(Ge,pt,!0);case"A":return Ye(Ge,pt,!1);case"m":return String(pt);case"mm":return ce.s(pt,2,"0");case"s":return String(St.$s);case"ss":return ce.s(St.$s,2,"0");case"SSS":return ce.s(St.$ms,3,"0");case"Z":return We}return null}(je)||We.replace(":","")})},ze.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ze.diff=function(ke,St,tt){var G,We=this,Ge=ce.p(St),pt=le(ke),Ze=(pt.utcOffset()-this.utcOffset())*r,kt=this-pt,Ot=function(){return ce.m(We,pt)};switch(Ge){case _:G=Ot()/12;break;case b:G=Ot();break;case S:G=Ot()/3;break;case y:G=(kt-Ze)/6048e5;break;case g:G=(kt-Ze)/864e5;break;case h:G=kt/i;break;case f:G=kt/r;break;case l:G=kt/t;break;default:G=kt}return tt?G:ce.a(G)},ze.daysInMonth=function(){return this.endOf(b).$D},ze.$locale=function(){return Y[this.$L]},ze.locale=function(ke,St){if(!ke)return this.$L;var tt=this.clone(),G=ie(ke,St,!0);return G&&(tt.$L=G),tt},ze.clone=function(){return ce.w(this.$d,this)},ze.toDate=function(){return new Date(this.valueOf())},ze.toJSON=function(){return this.isValid()?this.toISOString():null},ze.toISOString=function(){return this.$d.toISOString()},ze.toString=function(){return this.$d.toUTCString()},Ce}(),Q=ne.prototype;return le.prototype=Q,[["$ms",u],["$s",l],["$m",f],["$H",h],["$W",g],["$M",b],["$y",_],["$D",k]].forEach(function(Ce){Q[Ce[1]]=function(ze){return this.$g(ze,Ce[0],Ce[1])}}),le.extend=function(Ce,ze){return Ce.$i||(Ce(ze,ne,le),Ce.$i=!0),le},le.locale=ie,le.isDayjs=te,le.unix=function(Ce){return le(1e3*Ce)},le.en=Y[X],le.Ls=Y,le.p={},le})})(vde);var PAe=vde.exports;const SYe=ede(PAe);function NAe(n,e){return n.map(t=>yde(t,e))}function yde(n,{children:e="children",conversion:t}){const r=Array.isArray(n[e])&&n[e].length>0,i=t(n)||{};return r?{...i,[e]:n[e].map(u=>yde(u,{children:e,conversion:t}))}:{...i}}const LAe={id:"id",children:"children",pid:"pid"},BAe=n=>Object.assign({},LAe,n);function Woe(n,e,t={}){t=BAe(t);const r=t.children;function i(u){return u.map(l=>({...l})).filter(l=>(l[r]=l[r]&&i(l[r]),e(l)||l[r]&&l[r].length))}return i(n)}var zAe="0123456789abcdefghijklmnopqrstuvwxyz";function yb(n){return zAe.charAt(n)}function FAe(n,e){return n&e}function W7(n,e){return n|e}function qoe(n,e){return n^e}function $oe(n,e){return n&~e}function HAe(n){if(n==0)return-1;var e=0;return n&65535||(n>>=16,e+=16),n&255||(n>>=8,e+=8),n&15||(n>>=4,e+=4),n&3||(n>>=2,e+=2),n&1||++e,e}function VAe(n){for(var e=0;n!=0;)n&=n-1,++e;return e}var h3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bde="=";function RH(n){var e,t,r="";for(e=0;e+3<=n.length;e+=3)t=parseInt(n.substring(e,e+3),16),r+=h3.charAt(t>>6)+h3.charAt(t&63);for(e+1==n.length?(t=parseInt(n.substring(e,e+1),16),r+=h3.charAt(t<<2)):e+2==n.length&&(t=parseInt(n.substring(e,e+2),16),r+=h3.charAt(t>>2)+h3.charAt((t&3)<<4));(r.length&3)>0;)r+=bde;return r}function Goe(n){var e="",t,r=0,i=0;for(t=0;t<n.length&&n.charAt(t)!=bde;++t){var u=h3.indexOf(n.charAt(t));u<0||(r==0?(e+=yb(u>>2),i=u&3,r=1):r==1?(e+=yb(i<<2|u>>4),i=u&15,r=2):r==2?(e+=yb(i),e+=yb(u>>2),i=u&3,r=3):(e+=yb(i<<2|u>>4),e+=yb(u&15),r=0))}return r==1&&(e+=yb(i<<2)),e}var qE,jAe={decode:function(n){var e;if(qE===void 0){var t="0123456789ABCDEF",r=` \f
\r	\u2028\u2029`;for(qE={},e=0;e<16;++e)qE[t.charAt(e)]=e;for(t=t.toLowerCase(),e=10;e<16;++e)qE[t.charAt(e)]=e;for(e=0;e<r.length;++e)qE[r.charAt(e)]=-1}var i=[],u=0,l=0;for(e=0;e<n.length;++e){var f=n.charAt(e);if(f=="=")break;if(f=qE[f],f!=-1){if(f===void 0)throw new Error("Illegal character at offset "+e);u|=f,++l>=2?(i[i.length]=u,u=0,l=0):u<<=4}}if(l)throw new Error("Hex encoding incomplete: 4 bits missing");return i}},ST,rQ={decode:function(n){var e;if(ST===void 0){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=`= \f
\r	\u2028\u2029`;for(ST=Object.create(null),e=0;e<64;++e)ST[t.charAt(e)]=e;for(ST["-"]=62,ST._=63,e=0;e<r.length;++e)ST[r.charAt(e)]=-1}var i=[],u=0,l=0;for(e=0;e<n.length;++e){var f=n.charAt(e);if(f=="=")break;if(f=ST[f],f!=-1){if(f===void 0)throw new Error("Illegal character at offset "+e);u|=f,++l>=4?(i[i.length]=u>>16,i[i.length]=u>>8&255,i[i.length]=u&255,u=0,l=0):u<<=6}}switch(l){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:i[i.length]=u>>10;break;case 3:i[i.length]=u>>16,i[i.length]=u>>8&255;break}return i},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(n){var e=rQ.re.exec(n);if(e)if(e[1])n=e[1];else if(e[2])n=e[2];else throw new Error("RegExp out of sync");return rQ.decode(n)}},$E=1e13,oN=function(){function n(e){this.buf=[+e||0]}return n.prototype.mulAdd=function(e,t){var r=this.buf,i=r.length,u,l;for(u=0;u<i;++u)l=r[u]*e+t,l<$E?t=0:(t=0|l/$E,l-=t*$E),r[u]=l;t>0&&(r[u]=t)},n.prototype.sub=function(e){var t=this.buf,r=t.length,i,u;for(i=0;i<r;++i)u=t[i]-e,u<0?(u+=$E,e=1):e=0,t[i]=u;for(;t[t.length-1]===0;)t.pop()},n.prototype.toString=function(e){if((e||10)!=10)throw new Error("only base 10 is supported");for(var t=this.buf,r=t[t.length-1].toString(),i=t.length-2;i>=0;--i)r+=($E+t[i]).toString().substring(1);return r},n.prototype.valueOf=function(){for(var e=this.buf,t=0,r=e.length-1;r>=0;--r)t=t*$E+e[r];return t},n.prototype.simplify=function(){var e=this.buf;return e.length==1?e[0]:this},n}(),xde="",UAe=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,WAe=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function C3(n,e){return n.length>e&&(n=n.substring(0,e)+xde),n}var UY=function(){function n(e,t){this.hexDigits="0123456789ABCDEF",e instanceof n?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=t)}return n.prototype.get=function(e){if(e===void 0&&(e=this.pos++),e>=this.enc.length)throw new Error("Requesting byte offset ".concat(e," on a stream of length ").concat(this.enc.length));return typeof this.enc=="string"?this.enc.charCodeAt(e):this.enc[e]},n.prototype.hexByte=function(e){return this.hexDigits.charAt(e>>4&15)+this.hexDigits.charAt(e&15)},n.prototype.hexDump=function(e,t,r){for(var i="",u=e;u<t;++u)if(i+=this.hexByte(this.get(u)),r!==!0)switch(u&15){case 7:i+="  ";break;case 15:i+=`
`;break;default:i+=" "}return i},n.prototype.isASCII=function(e,t){for(var r=e;r<t;++r){var i=this.get(r);if(i<32||i>176)return!1}return!0},n.prototype.parseStringISO=function(e,t){for(var r="",i=e;i<t;++i)r+=String.fromCharCode(this.get(i));return r},n.prototype.parseStringUTF=function(e,t){for(var r="",i=e;i<t;){var u=this.get(i++);u<128?r+=String.fromCharCode(u):u>191&&u<224?r+=String.fromCharCode((u&31)<<6|this.get(i++)&63):r+=String.fromCharCode((u&15)<<12|(this.get(i++)&63)<<6|this.get(i++)&63)}return r},n.prototype.parseStringBMP=function(e,t){for(var r="",i,u,l=e;l<t;)i=this.get(l++),u=this.get(l++),r+=String.fromCharCode(i<<8|u);return r},n.prototype.parseTime=function(e,t,r){var i=this.parseStringISO(e,t),u=(r?UAe:WAe).exec(i);return u?(r&&(u[1]=+u[1],u[1]+=+u[1]<70?2e3:1900),i=u[1]+"-"+u[2]+"-"+u[3]+" "+u[4],u[5]&&(i+=":"+u[5],u[6]&&(i+=":"+u[6],u[7]&&(i+="."+u[7]))),u[8]&&(i+=" UTC",u[8]!="Z"&&(i+=u[8],u[9]&&(i+=":"+u[9]))),i):"Unrecognized time: "+i},n.prototype.parseInteger=function(e,t){for(var r=this.get(e),i=r>127,u=i?255:0,l,f="";r==u&&++e<t;)r=this.get(e);if(l=t-e,l===0)return i?-1:0;if(l>4){for(f=r,l<<=3;!((+f^u)&128);)f=+f<<1,--l;f="("+l+` bit)
`}i&&(r=r-256);for(var h=new oN(r),g=e+1;g<t;++g)h.mulAdd(256,this.get(g));return f+h.toString()},n.prototype.parseBitString=function(e,t,r){for(var i=this.get(e),u=(t-e-1<<3)-i,l="("+u+` bit)
`,f="",h=e+1;h<t;++h){for(var g=this.get(h),y=h==t-1?i:0,b=7;b>=y;--b)f+=g>>b&1?"1":"0";if(f.length>r)return l+C3(f,r)}return l+f},n.prototype.parseOctetString=function(e,t,r){if(this.isASCII(e,t))return C3(this.parseStringISO(e,t),r);var i=t-e,u="("+i+` byte)
`;r/=2,i>r&&(t=e+r);for(var l=e;l<t;++l)u+=this.hexByte(this.get(l));return i>r&&(u+=xde),u},n.prototype.parseOID=function(e,t,r){for(var i="",u=new oN,l=0,f=e;f<t;++f){var h=this.get(f);if(u.mulAdd(128,h&127),l+=7,!(h&128)){if(i==="")if(u=u.simplify(),u instanceof oN)u.sub(80),i="2."+u.toString();else{var g=u<80?u<40?0:1:2;i=g+"."+(u-g*40)}else i+="."+u.toString();if(i.length>r)return C3(i,r);u=new oN,l=0}}return l>0&&(i+=".incomplete"),i},n}(),qAe=function(){function n(e,t,r,i,u){if(!(i instanceof Xoe))throw new Error("Invalid tag value.");this.stream=e,this.header=t,this.length=r,this.tag=i,this.sub=u}return n.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},n.prototype.content=function(e){if(this.tag===void 0)return null;e===void 0&&(e=1/0);var t=this.posContent(),r=Math.abs(this.length);if(!this.tag.isUniversal())return this.sub!==null?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+r,e);switch(this.tag.tagNumber){case 1:return this.stream.get(t)===0?"false":"true";case 2:return this.stream.parseInteger(t,t+r);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+r,e);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+r,e);case 6:return this.stream.parseOID(t,t+r,e);case 16:case 17:return this.sub!==null?"("+this.sub.length+" elem)":"(no elem)";case 12:return C3(this.stream.parseStringUTF(t,t+r),e);case 18:case 19:case 20:case 21:case 22:case 26:return C3(this.stream.parseStringISO(t,t+r),e);case 30:return C3(this.stream.parseStringBMP(t,t+r),e);case 23:case 24:return this.stream.parseTime(t,t+r,this.tag.tagNumber==23)}return null},n.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(this.sub===null?"null":this.sub.length)+"]"},n.prototype.toPrettyString=function(e){e===void 0&&(e="");var t=e+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(t+="+"),t+=this.length,this.tag.tagConstructed?t+=" (constructed)":this.tag.isUniversal()&&(this.tag.tagNumber==3||this.tag.tagNumber==4)&&this.sub!==null&&(t+=" (encapsulates)"),t+=`
`,this.sub!==null){e+="  ";for(var r=0,i=this.sub.length;r<i;++r)t+=this.sub[r].toPrettyString(e)}return t},n.prototype.posStart=function(){return this.stream.pos},n.prototype.posContent=function(){return this.stream.pos+this.header},n.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},n.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},n.decodeLength=function(e){var t=e.get(),r=t&127;if(r==t)return r;if(r>6)throw new Error("Length over 48 bits not supported at position "+(e.pos-1));if(r===0)return null;t=0;for(var i=0;i<r;++i)t=t*256+e.get();return t},n.prototype.getHexStringValue=function(){var e=this.toHexString(),t=this.header*2,r=this.length*2;return e.substr(t,r)},n.decode=function(e){var t;e instanceof UY?t=e:t=new UY(e,0);var r=new UY(t),i=new Xoe(t),u=n.decodeLength(t),l=t.pos,f=l-r.pos,h=null,g=function(){var b=[];if(u!==null){for(var S=l+u;t.pos<S;)b[b.length]=n.decode(t);if(t.pos!=S)throw new Error("Content size is not correct for container starting at offset "+l)}else try{for(;;){var _=n.decode(t);if(_.tag.isEOC())break;b[b.length]=_}u=l-t.pos}catch(k){throw new Error("Exception while decoding undefined length content: "+k)}return b};if(i.tagConstructed)h=g();else if(i.isUniversal()&&(i.tagNumber==3||i.tagNumber==4))try{if(i.tagNumber==3&&t.get()!=0)throw new Error("BIT STRINGs with unused bits cannot encapsulate.");h=g();for(var y=0;y<h.length;++y)if(h[y].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch{h=null}if(h===null){if(u===null)throw new Error("We can't skip over an invalid tag with undefined length at offset "+l);t.pos=l+Math.abs(u)}return new n(r,f,u,i,h)},n}(),Xoe=function(){function n(e){var t=e.get();if(this.tagClass=t>>6,this.tagConstructed=(t&32)!==0,this.tagNumber=t&31,this.tagNumber==31){var r=new oN;do t=e.get(),r.mulAdd(128,t&127);while(t&128);this.tagNumber=r.simplify()}}return n.prototype.isUniversal=function(){return this.tagClass===0},n.prototype.isEOC=function(){return this.tagClass===0&&this.tagNumber===0},n}(),U2,$Ae=0xdeadbeefcafe,Yoe=($Ae&16777215)==15715070,Md=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],GAe=(1<<26)/Md[Md.length-1],ki=function(){function n(e,t,r){e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}return n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,i,u=!1,l="",f=this.t,h=this.DB-f*this.DB%t;if(f-- >0)for(h<this.DB&&(i=this[f]>>h)>0&&(u=!0,l=yb(i));f>=0;)h<t?(i=(this[f]&(1<<h)-1)<<t-h,i|=this[--f]>>(h+=this.DB-t)):(i=this[f]>>(h-=t)&r,h<=0&&(h+=this.DB,--f)),i>0&&(u=!0),u&&(l+=yb(i));return u?l:"0"},n.prototype.negate=function(){var e=Qi();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this[r]-e[r])!=0)return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+q7(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=Qi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var r;return e<256||t.isEven()?r=new Koe(t):r=new Joe(t),this.exp(e,r)},n.prototype.clone=function(){var e=Qi();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=[];t[0]=this.s;var r=this.DB-e*this.DB%8,i,u=0;if(e-- >0)for(r<this.DB&&(i=this[e]>>r)!=(this.s&this.DM)>>r&&(t[u++]=i|this.s<<this.DB-r);e>=0;)r<8?(i=(this[e]&(1<<r)-1)<<8-r,i|=this[--e]>>(r+=this.DB-8)):(i=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),i&128&&(i|=-256),u==0&&(this.s&128)!=(i&128)&&++u,(u>0||i!=this.s)&&(t[u++]=i);return t},n.prototype.equals=function(e){return this.compareTo(e)==0},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=Qi();return this.bitwiseTo(e,FAe,t),t},n.prototype.or=function(e){var t=Qi();return this.bitwiseTo(e,W7,t),t},n.prototype.xor=function(e){var t=Qi();return this.bitwiseTo(e,qoe,t),t},n.prototype.andNot=function(e){var t=Qi();return this.bitwiseTo(e,$oe,t),t},n.prototype.not=function(){for(var e=Qi(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=Qi();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=Qi();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(this[e]!=0)return e*this.DB+HAe(this[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=VAe(this[r]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<e%this.DB)!=0},n.prototype.setBit=function(e){return this.changeBit(e,W7)},n.prototype.clearBit=function(e){return this.changeBit(e,$oe)},n.prototype.flipBit=function(e){return this.changeBit(e,qoe)},n.prototype.add=function(e){var t=Qi();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=Qi();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=Qi();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=Qi();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=Qi();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=Qi(),r=Qi();return this.divRemTo(e,t,r),[t,r]},n.prototype.modPow=function(e,t){var r=e.bitLength(),i,u=D2(1),l;if(r<=0)return u;r<18?i=1:r<48?i=3:r<144?i=4:r<768?i=5:i=6,r<8?l=new Koe(t):t.isEven()?l=new YAe(t):l=new Joe(t);var f=[],h=3,g=i-1,y=(1<<i)-1;if(f[1]=l.convert(this),i>1){var b=Qi();for(l.sqrTo(f[1],b);h<=y;)f[h]=Qi(),l.mulTo(b,f[h-2],f[h]),h+=2}var S=e.t-1,_,k=!0,A=Qi(),R;for(r=q7(e[S])-1;S>=0;){for(r>=g?_=e[S]>>r-g&y:(_=(e[S]&(1<<r+1)-1)<<g-r,S>0&&(_|=e[S-1]>>this.DB+r-g)),h=i;!(_&1);)_>>=1,--h;if((r-=h)<0&&(r+=this.DB,--S),k)f[_].copyTo(u),k=!1;else{for(;h>1;)l.sqrTo(u,A),l.sqrTo(A,u),h-=2;h>0?l.sqrTo(u,A):(R=u,u=A,A=R),l.mulTo(A,f[_],u)}for(;S>=0&&!(e[S]&1<<r);)l.sqrTo(u,A),R=u,u=A,A=R,--r<0&&(r=this.DB-1,--S)}return l.revert(u)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return n.ZERO;for(var r=e.clone(),i=this.clone(),u=D2(1),l=D2(0),f=D2(0),h=D2(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!u.isEven()||!l.isEven())&&(u.addTo(this,u),l.subTo(e,l)),u.rShiftTo(1,u)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);for(;i.isEven();)i.rShiftTo(1,i),t?((!f.isEven()||!h.isEven())&&(f.addTo(this,f),h.subTo(e,h)),f.rShiftTo(1,f)):h.isEven()||h.subTo(e,h),h.rShiftTo(1,h);r.compareTo(i)>=0?(r.subTo(i,r),t&&u.subTo(f,u),l.subTo(h,l)):(i.subTo(r,i),t&&f.subTo(u,f),h.subTo(l,h))}if(i.compareTo(n.ONE)!=0)return n.ZERO;if(h.compareTo(e)>=0)return h.subtract(e);if(h.signum()<0)h.addTo(e,h);else return h;return h.signum()<0?h.add(e):h},n.prototype.pow=function(e){return this.exp(e,new XAe)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var i=t;t=r,r=i}var u=t.getLowestSetBit(),l=r.getLowestSetBit();if(l<0)return t;for(u<l&&(l=u),l>0&&(t.rShiftTo(l,t),r.rShiftTo(l,r));t.signum()>0;)(u=t.getLowestSetBit())>0&&t.rShiftTo(u,t),(u=r.getLowestSetBit())>0&&r.rShiftTo(u,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return l>0&&r.lShiftTo(l,r),r},n.prototype.isProbablePrime=function(e){var t,r=this.abs();if(r.t==1&&r[0]<=Md[Md.length-1]){for(t=0;t<Md.length;++t)if(r[0]==Md[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Md.length;){for(var i=Md[t],u=t+1;u<Md.length&&i<GAe;)i*=Md[u++];for(i=r.modInt(i);t<u;)if(i%Md[t++]==0)return!1}return r.millerRabin(e)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var i=e.length,u=!1,l=0;--i>=0;){var f=r==8?+e[i]&255:Zoe(e,i);if(f<0){e.charAt(i)=="-"&&(u=!0);continue}u=!1,l==0?this[this.t++]=f:l+r>this.DB?(this[this.t-1]|=(f&(1<<this.DB-l)-1)<<l,this[this.t++]=f>>this.DB-l):this[this.t-1]|=f<<l,l+=r,l>=this.DB&&(l-=this.DB)}r==8&&+e[0]&128&&(this.s=-1,l>0&&(this[this.t-1]|=(1<<this.DB-l)-1<<l)),this.clamp(),u&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){for(var r=e%this.DB,i=this.DB-r,u=(1<<i)-1,l=Math.floor(e/this.DB),f=this.s<<r&this.DM,h=this.t-1;h>=0;--h)t[h+l+1]=this[h]>>i|f,f=(this[h]&u)<<r;for(var h=l-1;h>=0;--h)t[h]=0;t[l]=f,t.t=this.t+l+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var i=e%this.DB,u=this.DB-i,l=(1<<i)-1;t[0]=this[r]>>i;for(var f=r+1;f<this.t;++f)t[f-r-1]|=(this[f]&l)<<u,t[f-r]=this[f]>>i;i>0&&(t[this.t-r-1]|=(this.s&l)<<u),t.t=this.t-r,t.clamp()},n.prototype.subTo=function(e,t){for(var r=0,i=0,u=Math.min(e.t,this.t);r<u;)i+=this[r]-e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i-=e[r],t[r++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[r++]=this.DV+i:i>0&&(t[r++]=i),t.t=r,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),i=e.abs(),u=r.t;for(t.t=u+i.t;--u>=0;)t[u]=0;for(u=0;u<i.t;++u)t[u+r.t]=r.am(0,i[u],t,u,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var i=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,i,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,r){var i=e.abs();if(!(i.t<=0)){var u=this.abs();if(u.t<i.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Qi());var l=Qi(),f=this.s,h=e.s,g=this.DB-q7(i[i.t-1]);g>0?(i.lShiftTo(g,l),u.lShiftTo(g,r)):(i.copyTo(l),u.copyTo(r));var y=l.t,b=l[y-1];if(b!=0){var S=b*(1<<this.F1)+(y>1?l[y-2]>>this.F2:0),_=this.FV/S,k=(1<<this.F1)/S,A=1<<this.F2,R=r.t,I=R-y,z=t??Qi();for(l.dlShiftTo(I,z),r.compareTo(z)>=0&&(r[r.t++]=1,r.subTo(z,r)),n.ONE.dlShiftTo(y,z),z.subTo(l,l);l.t<y;)l[l.t++]=0;for(;--I>=0;){var L=r[--R]==b?this.DM:Math.floor(r[R]*_+(r[R-1]+A)*k);if((r[R]+=l.am(0,L,r,I,0,y))<L)for(l.dlShiftTo(I,z),r.subTo(z,r);r[R]<--L;)r.subTo(z,r)}t!=null&&(r.drShiftTo(y,t),f!=h&&n.ZERO.subTo(t,t)),r.t=y,r.clamp(),g>0&&r.rShiftTo(g,r),f<0&&n.ZERO.subTo(r,r)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t},n.prototype.isEven=function(){return(this.t>0?this[0]&1:this.s)==0},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var r=Qi(),i=Qi(),u=t.convert(this),l=q7(e)-1;for(u.copyTo(r);--l>=0;)if(t.sqrTo(r,i),(e&1<<l)>0)t.mulTo(i,u,r);else{var f=r;r=i,i=f}return t.revert(r)},n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),i=D2(r),u=Qi(),l=Qi(),f="";for(this.divRemTo(i,u,l);u.signum()>0;)f=(r+l.intValue()).toString(e).substr(1)+f,u.divRemTo(i,u,l);return l.intValue().toString(e)+f},n.prototype.fromRadix=function(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),u=!1,l=0,f=0,h=0;h<e.length;++h){var g=Zoe(e,h);if(g<0){e.charAt(h)=="-"&&this.signum()==0&&(u=!0);continue}f=t*f+g,++l>=r&&(this.dMultiply(i),this.dAddOffset(f,0),l=0,f=0)}l>0&&(this.dMultiply(Math.pow(t,l)),this.dAddOffset(f,0)),u&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),W7,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var i=[],u=e&7;i.length=(e>>3)+1,t.nextBytes(i),u>0?i[0]&=(1<<u)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(e,t,r){var i,u,l=Math.min(e.t,this.t);for(i=0;i<l;++i)r[i]=t(this[i],e[i]);if(e.t<this.t){for(u=e.s&this.DM,i=l;i<this.t;++i)r[i]=t(this[i],u);r.t=this.t}else{for(u=this.s&this.DM,i=l;i<e.t;++i)r[i]=t(u,e[i]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var r=0,i=0,u=Math.min(e.t,this.t);r<u;)i+=this[r]+e[r],t[r++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<e.t;)i+=e[r],t[r++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[r++]=i:i<-1&&(t[r++]=this.DV+i),t.t=r,t.clamp()},n.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(e!=0){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},n.prototype.multiplyLowerTo=function(e,t,r){var i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(var u=r.t-this.t;i<u;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(var u=Math.min(e.t,t);i<u;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},n.prototype.multiplyUpperTo=function(e,t,r){--t;var i=r.t=this.t+e.t-t;for(r.s=0;--i>=0;)r[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)r[this.t+i-t]=this.am(t-i,e[i],r,0,0,this.t+i-t);r.clamp(),r.drShiftTo(1,r)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this[0]%e;else for(var i=this.t-1;i>=0;--i)r=(t*r+this[i])%e;return r},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var i=t.shiftRight(r);e=e+1>>1,e>Md.length&&(e=Md.length);for(var u=Qi(),l=0;l<e;++l){u.fromInt(Md[Math.floor(Math.random()*Md.length)]);var f=u.modPow(i,this);if(f.compareTo(n.ONE)!=0&&f.compareTo(t)!=0){for(var h=1;h++<r&&f.compareTo(t)!=0;)if(f=f.modPowInt(2,this),f.compareTo(n.ONE)==0)return!1;if(f.compareTo(t)!=0)return!1}}return!0},n.prototype.square=function(){var e=Qi();return this.squareTo(e),e},n.prototype.gcda=function(e,t){var r=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(r.compareTo(i)<0){var u=r;r=i,i=u}var l=r.getLowestSetBit(),f=i.getLowestSetBit();if(f<0){t(r);return}l<f&&(f=l),f>0&&(r.rShiftTo(f,r),i.rShiftTo(f,i));var h=function(){(l=r.getLowestSetBit())>0&&r.rShiftTo(l,r),(l=i.getLowestSetBit())>0&&i.rShiftTo(l,i),r.compareTo(i)>=0?(r.subTo(i,r),r.rShiftTo(1,r)):(i.subTo(r,i),i.rShiftTo(1,i)),r.signum()>0?setTimeout(h,0):(f>0&&i.lShiftTo(f,i),setTimeout(function(){t(i)},0))};setTimeout(h,10)},n.prototype.fromNumberAsync=function(e,t,r,i){if(typeof t=="number")if(e<2)this.fromInt(1);else{this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),W7,this),this.isEven()&&this.dAddOffset(1,0);var u=this,l=function(){u.dAddOffset(2,0),u.bitLength()>e&&u.subTo(n.ONE.shiftLeft(e-1),u),u.isProbablePrime(t)?setTimeout(function(){i()},0):setTimeout(l,0)};setTimeout(l,0)}else{var f=[],h=e&7;f.length=(e>>3)+1,t.nextBytes(f),h>0?f[0]&=(1<<h)-1:f[0]=0,this.fromString(f,256)}},n}(),XAe=function(){function n(){}return n.prototype.convert=function(e){return e},n.prototype.revert=function(e){return e},n.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},n.prototype.sqrTo=function(e,t){e.squareTo(t)},n}(),Koe=function(){function n(e){this.m=e}return n.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},n.prototype.revert=function(e){return e},n.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},n.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},n.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n}(),Joe=function(){function n(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}return n.prototype.convert=function(e){var t=Qi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(ki.ZERO)>0&&this.m.subTo(t,t),t},n.prototype.revert=function(e){var t=Qi();return e.copyTo(t),this.reduce(t),t},n.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e[t]&32767,i=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,i,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},n.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},n.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n}(),YAe=function(){function n(e){this.m=e,this.r2=Qi(),this.q3=Qi(),ki.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e)}return n.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Qi();return e.copyTo(t),this.reduce(t),t},n.prototype.revert=function(e){return e},n.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},n.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},n.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n}();function Qi(){return new ki(null)}function Qs(n,e){return new ki(n,e)}var Qoe=typeof navigator<"u";Qoe&&Yoe&&navigator.appName=="Microsoft Internet Explorer"?(ki.prototype.am=function(n,e,t,r,i,u){for(var l=e&32767,f=e>>15;--u>=0;){var h=this[n]&32767,g=this[n++]>>15,y=f*h+g*l;h=l*h+((y&32767)<<15)+t[r]+(i&1073741823),i=(h>>>30)+(y>>>15)+f*g+(i>>>30),t[r++]=h&1073741823}return i},U2=30):Qoe&&Yoe&&navigator.appName!="Netscape"?(ki.prototype.am=function(n,e,t,r,i,u){for(;--u>=0;){var l=e*this[n++]+t[r]+i;i=Math.floor(l/67108864),t[r++]=l&67108863}return i},U2=26):(ki.prototype.am=function(n,e,t,r,i,u){for(var l=e&16383,f=e>>14;--u>=0;){var h=this[n]&16383,g=this[n++]>>14,y=f*h+g*l;h=l*h+((y&16383)<<14)+t[r]+i,i=(h>>28)+(y>>14)+f*g,t[r++]=h&268435455}return i},U2=28);ki.prototype.DB=U2;ki.prototype.DM=(1<<U2)-1;ki.prototype.DV=1<<U2;var fee=52;ki.prototype.FV=Math.pow(2,fee);ki.prototype.F1=fee-U2;ki.prototype.F2=2*U2-fee;var LV=[],i5,Xm;i5=48;for(Xm=0;Xm<=9;++Xm)LV[i5++]=Xm;i5=97;for(Xm=10;Xm<36;++Xm)LV[i5++]=Xm;i5=65;for(Xm=10;Xm<36;++Xm)LV[i5++]=Xm;function Zoe(n,e){var t=LV[n.charCodeAt(e)];return t??-1}function D2(n){var e=Qi();return e.fromInt(n),e}function q7(n){var e=1,t;return(t=n>>>16)!=0&&(n=t,e+=16),(t=n>>8)!=0&&(n=t,e+=8),(t=n>>4)!=0&&(n=t,e+=4),(t=n>>2)!=0&&(n=t,e+=2),(t=n>>1)!=0&&(n=t,e+=1),e}ki.ZERO=D2(0);ki.ONE=D2(1);var KAe=function(){function n(){this.i=0,this.j=0,this.S=[]}return n.prototype.init=function(e){var t,r,i;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[r],this.S[r]=i;this.i=0,this.j=0},n.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},n}();function JAe(){return new KAe}var wde=256,$7,R2=null,wv;if(R2==null){R2=[],wv=0;var G7=void 0;if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){var WY=new Uint32Array(256);for(window.crypto.getRandomValues(WY),G7=0;G7<WY.length;++G7)R2[wv++]=WY[G7]&255}var X7=0,Y7=function(n){if(X7=X7||0,X7>=256||wv>=wde){window.removeEventListener?window.removeEventListener("mousemove",Y7,!1):window.detachEvent&&window.detachEvent("onmousemove",Y7);return}try{var e=n.x+n.y;R2[wv++]=e&255,X7+=1}catch{}};typeof window<"u"&&(window.addEventListener?window.addEventListener("mousemove",Y7,!1):window.attachEvent&&window.attachEvent("onmousemove",Y7))}function QAe(){if($7==null){for($7=JAe();wv<wde;){var n=Math.floor(65536*Math.random());R2[wv++]=n&255}for($7.init(R2),wv=0;wv<R2.length;++wv)R2[wv]=0;wv=0}return $7.next()}var oQ=function(){function n(){}return n.prototype.nextBytes=function(e){for(var t=0;t<e.length;++t)e[t]=QAe()},n}();function ZAe(n,e){if(e<n.length+22)return console.error("Message too long for RSA"),null;for(var t=e-n.length-6,r="",i=0;i<t;i+=2)r+="ff";var u="0001"+r+"00"+n;return Qs(u,16)}function eEe(n,e){if(e<n.length+11)return console.error("Message too long for RSA"),null;for(var t=[],r=n.length-1;r>=0&&e>0;){var i=n.charCodeAt(r--);i<128?t[--e]=i:i>127&&i<2048?(t[--e]=i&63|128,t[--e]=i>>6|192):(t[--e]=i&63|128,t[--e]=i>>6&63|128,t[--e]=i>>12|224)}t[--e]=0;for(var u=new oQ,l=[];e>2;){for(l[0]=0;l[0]==0;)u.nextBytes(l);t[--e]=l[0]}return t[--e]=2,t[--e]=0,new ki(t)}var tEe=function(){function n(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return n.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},n.prototype.doPrivate=function(e){if(this.p==null||this.q==null)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),r=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(r)<0;)t=t.add(this.p);return t.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},n.prototype.setPublic=function(e,t){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=Qs(e,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")},n.prototype.encrypt=function(e){var t=this.n.bitLength()+7>>3,r=eEe(e,t);if(r==null)return null;var i=this.doPublic(r);if(i==null)return null;for(var u=i.toString(16),l=u.length,f=0;f<t*2-l;f++)u="0"+u;return u},n.prototype.setPrivate=function(e,t,r){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=Qs(e,16),this.e=parseInt(t,16),this.d=Qs(r,16)):console.error("Invalid RSA private key")},n.prototype.setPrivateEx=function(e,t,r,i,u,l,f,h){e!=null&&t!=null&&e.length>0&&t.length>0?(this.n=Qs(e,16),this.e=parseInt(t,16),this.d=Qs(r,16),this.p=Qs(i,16),this.q=Qs(u,16),this.dmp1=Qs(l,16),this.dmq1=Qs(f,16),this.coeff=Qs(h,16)):console.error("Invalid RSA private key")},n.prototype.generate=function(e,t){var r=new oQ,i=e>>1;this.e=parseInt(t,16);for(var u=new ki(t,16);;){for(;this.p=new ki(e-i,1,r),!(this.p.subtract(ki.ONE).gcd(u).compareTo(ki.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new ki(i,1,r),!(this.q.subtract(ki.ONE).gcd(u).compareTo(ki.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var l=this.p;this.p=this.q,this.q=l}var f=this.p.subtract(ki.ONE),h=this.q.subtract(ki.ONE),g=f.multiply(h);if(g.gcd(u).compareTo(ki.ONE)==0){this.n=this.p.multiply(this.q),this.d=u.modInverse(g),this.dmp1=this.d.mod(f),this.dmq1=this.d.mod(h),this.coeff=this.q.modInverse(this.p);break}}},n.prototype.decrypt=function(e){var t=Qs(e,16),r=this.doPrivate(t);return r==null?null:nEe(r,this.n.bitLength()+7>>3)},n.prototype.generateAsync=function(e,t,r){var i=new oQ,u=e>>1;this.e=parseInt(t,16);var l=new ki(t,16),f=this,h=function(){var g=function(){if(f.p.compareTo(f.q)<=0){var S=f.p;f.p=f.q,f.q=S}var _=f.p.subtract(ki.ONE),k=f.q.subtract(ki.ONE),A=_.multiply(k);A.gcd(l).compareTo(ki.ONE)==0?(f.n=f.p.multiply(f.q),f.d=l.modInverse(A),f.dmp1=f.d.mod(_),f.dmq1=f.d.mod(k),f.coeff=f.q.modInverse(f.p),setTimeout(function(){r()},0)):setTimeout(h,0)},y=function(){f.q=Qi(),f.q.fromNumberAsync(u,1,i,function(){f.q.subtract(ki.ONE).gcda(l,function(S){S.compareTo(ki.ONE)==0&&f.q.isProbablePrime(10)?setTimeout(g,0):setTimeout(y,0)})})},b=function(){f.p=Qi(),f.p.fromNumberAsync(e-u,1,i,function(){f.p.subtract(ki.ONE).gcda(l,function(S){S.compareTo(ki.ONE)==0&&f.p.isProbablePrime(10)?setTimeout(y,0):setTimeout(b,0)})})};setTimeout(b,0)};setTimeout(h,0)},n.prototype.sign=function(e,t,r){var i=rEe(r),u=i+t(e).toString(),l=ZAe(u,this.n.bitLength()/4);if(l==null)return null;var f=this.doPrivate(l);if(f==null)return null;var h=f.toString(16);return h.length&1?"0"+h:h},n.prototype.verify=function(e,t,r){var i=Qs(t,16),u=this.doPublic(i);if(u==null)return null;var l=u.toString(16).replace(/^1f+00/,""),f=oEe(l);return f==r(e).toString()},n}();function nEe(n,e){for(var t=n.toByteArray(),r=0;r<t.length&&t[r]==0;)++r;if(t.length-r!=e-1||t[r]!=2)return null;for(++r;t[r]!=0;)if(++r>=t.length)return null;for(var i="";++r<t.length;){var u=t[r]&255;u<128?i+=String.fromCharCode(u):u>191&&u<224?(i+=String.fromCharCode((u&31)<<6|t[r+1]&63),++r):(i+=String.fromCharCode((u&15)<<12|(t[r+1]&63)<<6|t[r+2]&63),r+=2)}return i}var eH={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"};function rEe(n){return eH[n]||""}function oEe(n){for(var e in eH)if(eH.hasOwnProperty(e)){var t=eH[e],r=t.length;if(n.substr(0,r)==t)return n.substr(r)}return n}/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/var _l={};_l.lang={extend:function(n,e,t){if(!e||!n)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,n.prototype=new r,n.prototype.constructor=n,n.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),t){var i;for(i in t)n.prototype[i]=t[i];var u=function(){},l=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(u=function(f,h){for(i=0;i<l.length;i=i+1){var g=l[i],y=h[g];typeof y=="function"&&y!=Object.prototype[g]&&(f[g]=y)}})}catch{}u(n.prototype,t)}}};/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */var Yn={};(typeof Yn.asn1>"u"||!Yn.asn1)&&(Yn.asn1={});Yn.asn1.ASN1Util=new function(){this.integerToByteHex=function(n){var e=n.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(n){var e=n.toString(16);if(e.substr(0,1)!="-")e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var t=e.substr(1),r=t.length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var i="",u=0;u<r;u++)i+="f";var l=new ki(i,16),f=l.xor(n).add(ki.ONE);e=f.toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(n,e){return hextopem(n,e)},this.newObject=function(n){var e=Yn,t=e.asn1,r=t.DERBoolean,i=t.DERInteger,u=t.DERBitString,l=t.DEROctetString,f=t.DERNull,h=t.DERObjectIdentifier,g=t.DEREnumerated,y=t.DERUTF8String,b=t.DERNumericString,S=t.DERPrintableString,_=t.DERTeletexString,k=t.DERIA5String,A=t.DERUTCTime,R=t.DERGeneralizedTime,I=t.DERSequence,z=t.DERSet,L=t.DERTaggedObject,q=t.ASN1Util.newObject,X=Object.keys(n);if(X.length!=1)throw"key of param shall be only one.";var Y=X[0];if(":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+Y+":")==-1)throw"undefined key: "+Y;if(Y=="bool")return new r(n[Y]);if(Y=="int")return new i(n[Y]);if(Y=="bitstr")return new u(n[Y]);if(Y=="octstr")return new l(n[Y]);if(Y=="null")return new f(n[Y]);if(Y=="oid")return new h(n[Y]);if(Y=="enum")return new g(n[Y]);if(Y=="utf8str")return new y(n[Y]);if(Y=="numstr")return new b(n[Y]);if(Y=="prnstr")return new S(n[Y]);if(Y=="telstr")return new _(n[Y]);if(Y=="ia5str")return new k(n[Y]);if(Y=="utctime")return new A(n[Y]);if(Y=="gentime")return new R(n[Y]);if(Y=="seq"){for(var ae=n[Y],te=[],ie=0;ie<ae.length;ie++){var le=q(ae[ie]);te.push(le)}return new I({array:te})}if(Y=="set"){for(var ae=n[Y],te=[],ie=0;ie<ae.length;ie++){var le=q(ae[ie]);te.push(le)}return new z({array:te})}if(Y=="tag"){var ce=n[Y];if(Object.prototype.toString.call(ce)==="[object Array]"&&ce.length==3){var ne=q(ce[2]);return new L({tag:ce[0],explicit:ce[1],obj:ne})}else{var Q={};if(ce.explicit!==void 0&&(Q.explicit=ce.explicit),ce.tag!==void 0&&(Q.tag=ce.tag),ce.obj===void 0)throw"obj shall be specified for 'tag'.";return Q.obj=q(ce.obj),new L(Q)}}},this.jsonToASN1HEX=function(n){var e=this.newObject(n);return e.getEncodedHex()}};Yn.asn1.ASN1Util.oidHexToInt=function(n){for(var i="",e=parseInt(n.substr(0,2),16),t=Math.floor(e/40),r=e%40,i=t+"."+r,u="",l=2;l<n.length;l+=2){var f=parseInt(n.substr(l,2),16),h=("00000000"+f.toString(2)).slice(-8);if(u=u+h.substr(1,7),h.substr(0,1)=="0"){var g=new ki(u,2);i=i+"."+g.toString(10),u=""}}return i};Yn.asn1.ASN1Util.oidIntToHex=function(n){var e=function(f){var h=f.toString(16);return h.length==1&&(h="0"+h),h},t=function(f){var h="",g=new ki(f,10),y=g.toString(2),b=7-y.length%7;b==7&&(b=0);for(var S="",_=0;_<b;_++)S+="0";y=S+y;for(var _=0;_<y.length-1;_+=7){var k=y.substr(_,7);_!=y.length-7&&(k="1"+k),h+=e(parseInt(k,2))}return h};if(!n.match(/^[0-9.]+$/))throw"malformed oid string: "+n;var r="",i=n.split("."),u=parseInt(i[0])*40+parseInt(i[1]);r+=e(u),i.splice(0,2);for(var l=0;l<i.length;l++)r+=t(i[l]);return r};Yn.asn1.ASN1Object=function(){var n="";this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||this.hV==null)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+n.length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);var i=128+r;return i.toString(16)+t},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}};Yn.asn1.DERAbstractString=function(n){Yn.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(this.s)},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n=="string"?this.setString(n):typeof n.str<"u"?this.setString(n.str):typeof n.hex<"u"&&this.setStringHex(n.hex))};_l.lang.extend(Yn.asn1.DERAbstractString,Yn.asn1.ASN1Object);Yn.asn1.DERAbstractTime=function(n){Yn.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){utc=e.getTime()+e.getTimezoneOffset()*6e4;var t=new Date(utc);return t},this.formatDate=function(e,t,r){var i=this.zeroPadding,u=this.localDateToUTC(e),l=String(u.getFullYear());t=="utc"&&(l=l.substr(2,2));var f=i(String(u.getMonth()+1),2),h=i(String(u.getDate()),2),g=i(String(u.getHours()),2),y=i(String(u.getMinutes()),2),b=i(String(u.getSeconds()),2),S=l+f+h+g+y+b;if(r===!0){var _=u.getMilliseconds();if(_!=0){var k=i(String(_),3);k=k.replace(/[0]+$/,""),S=S+"."+k}}return S+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=stohex(e)},this.setByDateValue=function(e,t,r,i,u,l){var f=new Date(Date.UTC(e,t-1,r,i,u,l,0));this.setByDate(f)},this.getFreshValueHex=function(){return this.hV}};_l.lang.extend(Yn.asn1.DERAbstractTime,Yn.asn1.ASN1Object);Yn.asn1.DERAbstractStructured=function(n){Yn.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,typeof n<"u"&&typeof n.array<"u"&&(this.asn1Array=n.array)};_l.lang.extend(Yn.asn1.DERAbstractStructured,Yn.asn1.ASN1Object);Yn.asn1.DERBoolean=function(){Yn.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"};_l.lang.extend(Yn.asn1.DERBoolean,Yn.asn1.ASN1Object);Yn.asn1.DERInteger=function(n){Yn.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Yn.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new ki(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n.bigint<"u"?this.setByBigInteger(n.bigint):typeof n.int<"u"?this.setByInteger(n.int):typeof n=="number"?this.setByInteger(n):typeof n.hex<"u"&&this.setValueHex(n.hex))};_l.lang.extend(Yn.asn1.DERInteger,Yn.asn1.ASN1Object);Yn.asn1.DERBitString=function(n){if(n!==void 0&&typeof n.obj<"u"){var e=Yn.asn1.ASN1Util.newObject(n.obj);n.hex="00"+e.getEncodedHex()}Yn.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,r){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var i="0"+t;this.hTLV=null,this.isModified=!0,this.hV=i+r},this.setByBinaryString=function(t){t=t.replace(/0+$/,"");var r=8-t.length%8;r==8&&(r=0);for(var i=0;i<=r;i++)t+="0";for(var u="",i=0;i<t.length-1;i+=8){var l=t.substr(i,8),f=parseInt(l,2).toString(16);f.length==1&&(f="0"+f),u+=f}this.hTLV=null,this.isModified=!0,this.hV="0"+r+u},this.setByBooleanArray=function(t){for(var r="",i=0;i<t.length;i++)t[i]==!0?r+="1":r+="0";this.setByBinaryString(r)},this.newFalseArray=function(t){for(var r=new Array(t),i=0;i<t;i++)r[i]=!1;return r},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n=="string"&&n.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(n):typeof n.hex<"u"?this.setHexValueIncludingUnusedBits(n.hex):typeof n.bin<"u"?this.setByBinaryString(n.bin):typeof n.array<"u"&&this.setByBooleanArray(n.array))};_l.lang.extend(Yn.asn1.DERBitString,Yn.asn1.ASN1Object);Yn.asn1.DEROctetString=function(n){if(n!==void 0&&typeof n.obj<"u"){var e=Yn.asn1.ASN1Util.newObject(n.obj);n.hex=e.getEncodedHex()}Yn.asn1.DEROctetString.superclass.constructor.call(this,n),this.hT="04"};_l.lang.extend(Yn.asn1.DEROctetString,Yn.asn1.DERAbstractString);Yn.asn1.DERNull=function(){Yn.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"};_l.lang.extend(Yn.asn1.DERNull,Yn.asn1.ASN1Object);Yn.asn1.DERObjectIdentifier=function(n){var e=function(r){var i=r.toString(16);return i.length==1&&(i="0"+i),i},t=function(r){var i="",u=new ki(r,10),l=u.toString(2),f=7-l.length%7;f==7&&(f=0);for(var h="",g=0;g<f;g++)h+="0";l=h+l;for(var g=0;g<l.length-1;g+=7){var y=l.substr(g,7);g!=l.length-7&&(y="1"+y),i+=e(parseInt(y,2))}return i};Yn.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(r){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueOidString=function(r){if(!r.match(/^[0-9.]+$/))throw"malformed oid string: "+r;var i="",u=r.split("."),l=parseInt(u[0])*40+parseInt(u[1]);i+=e(l),u.splice(0,2);for(var f=0;f<u.length;f++)i+=t(u[f]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(r){var i=Yn.asn1.x509.OID.name2oid(r);if(i!=="")this.setValueOidString(i);else throw"DERObjectIdentifier oidName undefined: "+r},this.getFreshValueHex=function(){return this.hV},n!==void 0&&(typeof n=="string"?n.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(n):this.setValueName(n):n.oid!==void 0?this.setValueOidString(n.oid):n.hex!==void 0?this.setValueHex(n.hex):n.name!==void 0&&this.setValueName(n.name))};_l.lang.extend(Yn.asn1.DERObjectIdentifier,Yn.asn1.ASN1Object);Yn.asn1.DEREnumerated=function(n){Yn.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=Yn.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new ki(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n.int<"u"?this.setByInteger(n.int):typeof n=="number"?this.setByInteger(n):typeof n.hex<"u"&&this.setValueHex(n.hex))};_l.lang.extend(Yn.asn1.DEREnumerated,Yn.asn1.ASN1Object);Yn.asn1.DERUTF8String=function(n){Yn.asn1.DERUTF8String.superclass.constructor.call(this,n),this.hT="0c"};_l.lang.extend(Yn.asn1.DERUTF8String,Yn.asn1.DERAbstractString);Yn.asn1.DERNumericString=function(n){Yn.asn1.DERNumericString.superclass.constructor.call(this,n),this.hT="12"};_l.lang.extend(Yn.asn1.DERNumericString,Yn.asn1.DERAbstractString);Yn.asn1.DERPrintableString=function(n){Yn.asn1.DERPrintableString.superclass.constructor.call(this,n),this.hT="13"};_l.lang.extend(Yn.asn1.DERPrintableString,Yn.asn1.DERAbstractString);Yn.asn1.DERTeletexString=function(n){Yn.asn1.DERTeletexString.superclass.constructor.call(this,n),this.hT="14"};_l.lang.extend(Yn.asn1.DERTeletexString,Yn.asn1.DERAbstractString);Yn.asn1.DERIA5String=function(n){Yn.asn1.DERIA5String.superclass.constructor.call(this,n),this.hT="16"};_l.lang.extend(Yn.asn1.DERIA5String,Yn.asn1.DERAbstractString);Yn.asn1.DERUTCTime=function(n){Yn.asn1.DERUTCTime.superclass.constructor.call(this,n),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return typeof this.date>"u"&&typeof this.s>"u"&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},n!==void 0&&(n.str!==void 0?this.setString(n.str):typeof n=="string"&&n.match(/^[0-9]{12}Z$/)?this.setString(n):n.hex!==void 0?this.setStringHex(n.hex):n.date!==void 0&&this.setByDate(n.date))};_l.lang.extend(Yn.asn1.DERUTCTime,Yn.asn1.DERAbstractTime);Yn.asn1.DERGeneralizedTime=function(n){Yn.asn1.DERGeneralizedTime.superclass.constructor.call(this,n),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},n!==void 0&&(n.str!==void 0?this.setString(n.str):typeof n=="string"&&n.match(/^[0-9]{14}Z$/)?this.setString(n):n.hex!==void 0?this.setStringHex(n.hex):n.date!==void 0&&this.setByDate(n.date),n.millis===!0&&(this.withMillis=!0))};_l.lang.extend(Yn.asn1.DERGeneralizedTime,Yn.asn1.DERAbstractTime);Yn.asn1.DERSequence=function(n){Yn.asn1.DERSequence.superclass.constructor.call(this,n),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e+=r.getEncodedHex()}return this.hV=e,this.hV}};_l.lang.extend(Yn.asn1.DERSequence,Yn.asn1.DERAbstractStructured);Yn.asn1.DERSet=function(n){Yn.asn1.DERSet.superclass.constructor.call(this,n),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return this.sortFlag==!0&&e.sort(),this.hV=e.join(""),this.hV},typeof n<"u"&&typeof n.sortflag<"u"&&n.sortflag==!1&&(this.sortFlag=!1)};_l.lang.extend(Yn.asn1.DERSet,Yn.asn1.DERAbstractStructured);Yn.asn1.DERTaggedObject=function(n){Yn.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},typeof n<"u"&&(typeof n.tag<"u"&&(this.hT=n.tag),typeof n.explicit<"u"&&(this.isExplicit=n.explicit),typeof n.obj<"u"&&(this.asn1Object=n.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))};_l.lang.extend(Yn.asn1.DERTaggedObject,Yn.asn1.ASN1Object);var iEe=globalThis&&globalThis.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(r[u]=i[u])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),eie=function(n){iEe(e,n);function e(t){var r=n.call(this)||this;return t&&(typeof t=="string"?r.parseKey(t):(e.hasPrivateKeyProperty(t)||e.hasPublicKeyProperty(t))&&r.parsePropertiesFrom(t)),r}return e.prototype.parseKey=function(t){try{var r=0,i=0,u=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/,l=u.test(t)?jAe.decode(t):rQ.unarmor(t),f=qAe.decode(l);if(f.sub.length===3&&(f=f.sub[2].sub[0]),f.sub.length===9){r=f.sub[1].getHexStringValue(),this.n=Qs(r,16),i=f.sub[2].getHexStringValue(),this.e=parseInt(i,16);var h=f.sub[3].getHexStringValue();this.d=Qs(h,16);var g=f.sub[4].getHexStringValue();this.p=Qs(g,16);var y=f.sub[5].getHexStringValue();this.q=Qs(y,16);var b=f.sub[6].getHexStringValue();this.dmp1=Qs(b,16);var S=f.sub[7].getHexStringValue();this.dmq1=Qs(S,16);var _=f.sub[8].getHexStringValue();this.coeff=Qs(_,16)}else if(f.sub.length===2)if(f.sub[0].sub){var k=f.sub[1],A=k.sub[0];r=A.sub[0].getHexStringValue(),this.n=Qs(r,16),i=A.sub[1].getHexStringValue(),this.e=parseInt(i,16)}else r=f.sub[0].getHexStringValue(),this.n=Qs(r,16),i=f.sub[1].getHexStringValue(),this.e=parseInt(i,16);else return!1;return!0}catch{return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new Yn.asn1.DERInteger({int:0}),new Yn.asn1.DERInteger({bigint:this.n}),new Yn.asn1.DERInteger({int:this.e}),new Yn.asn1.DERInteger({bigint:this.d}),new Yn.asn1.DERInteger({bigint:this.p}),new Yn.asn1.DERInteger({bigint:this.q}),new Yn.asn1.DERInteger({bigint:this.dmp1}),new Yn.asn1.DERInteger({bigint:this.dmq1}),new Yn.asn1.DERInteger({bigint:this.coeff})]},r=new Yn.asn1.DERSequence(t);return r.getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return RH(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new Yn.asn1.DERSequence({array:[new Yn.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new Yn.asn1.DERNull]}),r=new Yn.asn1.DERSequence({array:[new Yn.asn1.DERInteger({bigint:this.n}),new Yn.asn1.DERInteger({int:this.e})]}),i=new Yn.asn1.DERBitString({hex:"00"+r.getEncodedHex()}),u=new Yn.asn1.DERSequence({array:[t,i]});return u.getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return RH(this.getPublicBaseKey())},e.wordwrap=function(t,r){if(r=r||64,!t)return t;var i="(.{1,"+r+`})( +|$
?)|(.{1,`+r+"})";return t.match(RegExp(i,"g")).join(`
`)},e.prototype.getPrivateKey=function(){var t=`-----BEGIN RSA PRIVATE KEY-----
`;return t+=e.wordwrap(this.getPrivateBaseKeyB64())+`
`,t+="-----END RSA PRIVATE KEY-----",t},e.prototype.getPublicKey=function(){var t=`-----BEGIN PUBLIC KEY-----
`;return t+=e.wordwrap(this.getPublicBaseKeyB64())+`
`,t+="-----END PUBLIC KEY-----",t},e.hasPublicKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return t=t||{},t.hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}(tEe),qY,aEe=typeof process<"u"?(qY=$Se)===null||qY===void 0?void 0:qY.npm_package_version:void 0,uEe=function(){function n(e){e===void 0&&(e={}),e=e||{},this.default_key_size=e.default_key_size?parseInt(e.default_key_size,10):1024,this.default_public_exponent=e.default_public_exponent||"010001",this.log=e.log||!1,this.key=null}return n.prototype.setKey=function(e){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new eie(e)},n.prototype.setPrivateKey=function(e){this.setKey(e)},n.prototype.setPublicKey=function(e){this.setKey(e)},n.prototype.decrypt=function(e){try{return this.getKey().decrypt(Goe(e))}catch{return!1}},n.prototype.encrypt=function(e){try{return RH(this.getKey().encrypt(e))}catch{return!1}},n.prototype.sign=function(e,t,r){try{return RH(this.getKey().sign(e,t,r))}catch{return!1}},n.prototype.verify=function(e,t,r){try{return this.getKey().verify(e,Goe(t),r)}catch{return!1}},n.prototype.getKey=function(e){if(!this.key){if(this.key=new eie,e&&{}.toString.call(e)==="[object Function]"){this.key.generateAsync(this.default_key_size,this.default_public_exponent,e);return}this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},n.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},n.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},n.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},n.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},n.version=aEe,n}();const sEe=`-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCOX4coHMfHXcFXKeIND5qym7y
Yhgqcgx68Gw8zCOBCX7eFKu1xtDM9i9fJdX/6tnncnDVclxDpMQueu76z9gaCzma
PcBiW5SBCZtRPuFDdMTsony8bfnKgbgIC3qk8i7wZYK4aGOmBcmnhcO3c1Z5Q00i
g0g+6zaPf/kCYcLa+wIDAQAB
-----END PUBLIC KEY-----
`,lEe=`-----BEGIN PRIVATE KEY-----
MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAMI5fhygcx8ddwVc
p4g0PmrKbvJiGCpyDHrwbDzMI4EJft4Uq7XG0Mz2L18l1f/q2edycNVyXEOkxC56
7vrP2BoLOZo9wGJblIEJm1E+4UN0xOyifLxt+cqBuAgLeqTyLvBlgrhoY6YFyaeF
w7dzVnlDTSKDSD7rNo9/+QJhwtr7AgMBAAECgYAG/PaSpRs/RVog8UJ93hNY2EvB
oNHpxQy556idT2L/o43TA79h3PNqTHlL3RqkCJkqgK2aoHC9ZlJAsd+jWpMV3LnN
iQZdyABLviaS/QH7+KGC673jfHLSZWnldYEIjOxOmw0pnK5SPm+0MMa+2j5XHD63
T7CaK56T9v4Tlr/eEQJBAO1Nq2B2b3gSk2uMyLyQwrOS1NuHTw6zwexd2LS1YU85
iejMTV3U8orOSFsqffchQLm1ixiN74i9xkE47zeOEtUCQQDRhvATzMrldA85fV1Y
TVtXSnXgfhZ7d6pScYpiAg45/XxFJtIyTM8w8feKr9jA6NwxPODDi2ysbtfW9MZt
W/6PAkBhWgnCixPzyHseFiWL5j9Z+BTG8t2mBGy8EUwD5p1DKTHAhX//zIqsEzBv
5iDDL6skBKxJqIDqMiCRRVAuFGT5AkAo0gEz2lItIc9Vg/cLnQaOmxMcCXSX2Vh1
d2lebsgWxCvRzR5mblBvWLTBcEDqVHORpCql7iPd9DpYxpdh9upBAkEAg2hZyga9
wbbksDICMPkQRTZZBFMtNrypuShRZ6aSko+SNFgoUErZLm22A16X55MKa8swF7yL
j5cc+CxpmC4TPw==
-----END PRIVATE KEY-----
`,BV=new uEe;BV.setPublicKey(sEe);BV.setPrivateKey(lEe);function CYe(n){return BV.encrypt(n)||""}function TYe(n){return BV.decrypt(n)}const cEe={key:0,class:"page-card__header"},fEe={class:"card-header"},dEe={class:"page-card__body"},hEe=ja({name:"PageCard",__name:"page-card",props:{header:{},full:{type:Boolean,default:!0}},setup(n){const e=WZ();return(t,r)=>(Fr(),la("div",{class:bL(["page-card",t.full?"is-full":""])},[t.header||io(e).header?(Fr(),la("div",cEe,[Oa("div",fEe,[xl(t.$slots,"header",{},()=>[Wf(Ch(t.header),1)])])])):Au("",!0),Oa("div",dEe,[xl(t.$slots,"default")])],2))}}),pEe=lf(hEe),mEe=ja({name:"PageWrapper",__name:"page-wrapper",props:{full:{type:Boolean,default:!0}},setup(n){return(e,t)=>(Fr(),la("div",{class:bL(["page-wrapper",e.full?"is-full":""])},[xl(e.$slots,"default",{},void 0,!0)],2))}}),gEe=Gf(mEe,[["__scopeId","data-v-74f1d73a"]]),vEe=lf(gEe),yEe=ja({__name:"tree",props:{modelValue:{},data:{},treeProps:{},nodeKey:{default:"id"},highlightCurrent:{default:!0},showCheckbox:{default:!0}},emits:["update:model-value","check"],setup(n,{expose:e,emit:t}){const r=t,i=n,u=Ao(),l=Ao();uu(()=>i.modelValue,(b,S)=>{JSON.stringify(b)!==JSON.stringify(S)&&(l.value=b,Sh(()=>{g()}))},{immediate:!0});const f=()=>{i.showCheckbox||y()},h=()=>{y()};function g(){var b,S;i.showCheckbox?(b=u.value)==null||b.setCheckedKeys(l.value):(S=u.value)==null||S.setCurrentKey(l.value)}function y(){var b,S;i.showCheckbox?l.value=(b=u.value)==null?void 0:b.getCheckedKeys():l.value=(S=u.value)==null?void 0:S.getCurrentKey(),r("update:model-value",l.value)}return e({treeInstance:u.value}),(b,S)=>(Fr(),Ei(io(mSe),{ref_key:"treeRef",ref:u,data:b.data,"show-checkbox":b.showCheckbox,"default-expand-all":"","highlight-current":b.highlightCurrent,"node-key":b.nodeKey,props:b.treeProps,onCurrentChange:f,onCheck:h},null,8,["data","show-checkbox","highlight-current","node-key","props"]))}}),bEe=lf(yEe),xEe=["href","fill"],wEe=ja({__name:"svg-icon",props:{prefix:{default:"icon"},name:{},color:{},size:{default:14}},setup(n){const e=n,t=No(()=>`#${e.prefix}-${e.name}`),r=No(()=>{const{size:i}=e;return typeof i=="string"?{width:i,height:i}:{width:`${i}px`,height:`${i}px`}});return(i,u)=>(Fr(),la("svg",{"aria-hidden":"true",class:"svg-icon",style:n5(r.value)},[Oa("use",{href:t.value,fill:i.color},null,8,xEe)],4))}}),_Ee=Gf(wEe,[["__scopeId","data-v-53134bdf"]]),SEe=ja({__name:"ep",props:{icon:{},size:{default:24},color:{}},setup(n){const e=n,t={"home-filled":MSe,stopwatch:kSe,document:DSe,timer:ASe,link:ESe,"arrow-down":OSe,"warning-filled":ISe,refresh:RSe,close:PSe,upload:Cfe,"circle-close":NSe,grid:LSe},r=No(()=>{const{size:i}=e;return typeof i=="string"?{size:i}:{size:`${i}px`}});return(i,u)=>{const l=ra("el-icon");return i.icon&&t[i.icon]?(Fr(),Ei(l,K2(Ed({key:0},r.value)),{default:go(()=>[(Fr(),Ei(n_(t[i.icon])))]),_:1},16)):Au("",!0)}}}),CEe={key:3},TEe=ja({name:"ProIcon",__name:"icon",props:{icon:{},size:{default:24},color:{}},setup(n){const e=n,t=Ao(""),r=Ao("");return uu(Ao(e),()=>{var i;if(Mb(e.icon))t.value="vnode",r.value=e.icon;else{const u=(i=e.icon)==null?void 0:i.split(".");t.value=(u==null?void 0:u[0])||"",r.value=(u==null?void 0:u[1])||""}},{immediate:!0}),(i,u)=>t.value==="svg"?(Fr(),Ei(_Ee,{key:0,name:r.value,size:i.size,color:i.color},null,8,["name","size","color"])):t.value==="ep"?(Fr(),Ei(SEe,{key:1,icon:r.value,size:i.size,color:i.color},null,8,["icon","size","color"])):t.value==="vnode"&&io(Mb)(i.icon)?(Fr(),Ei(n_(i.icon()),{key:2})):(Fr(),la("span",CEe))}}),MEe={},kEe={viewBox:"64 64 896 896",focusable:"false",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},DEe=Oa("path",{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 00-11.3 0L403.6 366.3a7.23 7.23 0 005.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z"},null,-1),AEe=[DEe];function EEe(n,e){return Fr(),la("svg",kEe,AEe)}const _de=Gf(MEe,[["render",EEe]]),OEe=lf(TEe),IEe={};function REe(n,e){return Fr(),Ei(cSe,K2(jN(n.$attrs)),{default:go(()=>[xl(n.$slots,"default",{},void 0,!0)]),_:3},16)}const PEe=Gf(IEe,[["render",REe],["__scopeId","data-v-5df5ec83"]]);function NEe(n,e){return ja({name:n,setup(t,{slots:r}){return()=>hy(PEe,e,()=>{var i;return(i=r.default)==null?void 0:i.call(r)})}})}const LEe=lf(NEe("FadeTransition",{name:"fade-transition",mode:"out-in"}));var Sde={exports:{}};(function(n){(function(){var e=function(o){if(o===null)return"null";if(o===void 0)return"undefined";var s=typeof o;return s==="object"&&(Array.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="String")?"string":s},t=function(o){return["undefined","boolean","number","string","function","xml","null"].indexOf(o)!==-1},r=function(o,s){var d=Array.prototype.slice.call(o);return d.sort(s)},i=function(o,s){return u(function(d,m){return o.eq(s(d),s(m))})},u=function(o){return{eq:o}},l=u(function(o,s){return o===s}),f=l,h=function(o){return u(function(s,d){if(s.length!==d.length)return!1;for(var m=s.length,x=0;x<m;x++)if(!o.eq(s[x],d[x]))return!1;return!0})},g=function(o,s){return i(h(o),function(d){return r(d,s)})},y=function(o){return u(function(s,d){var m=Object.keys(s),x=Object.keys(d);if(!g(f).eq(m,x))return!1;for(var T=m.length,O=0;O<T;O++){var B=m[O];if(!o.eq(s[B],d[B]))return!1}return!0})},b=u(function(o,s){if(o===s)return!0;var d=e(o),m=e(s);return d!==m?!1:t(d)?o===s:d==="array"?h(b).eq(o,s):d==="object"?y(b).eq(o,s):!1}),S=function(o){var s=typeof o;return o===null?"null":s==="object"&&(Array.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="Array")?"array":s==="object"&&(String.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="String")?"string":s},_=function(o){return function(s){return S(s)===o}},k=function(o){return function(s){return typeof s===o}},A=function(o){return function(s){return o===s}},R=_("string"),I=_("object"),z=_("array"),L=A(null),q=k("boolean"),X=A(void 0),Y=function(o){return o==null},ae=function(o){return!Y(o)},te=k("function"),ie=k("number"),le=function(){},ce=function(o,s){return function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return o(s.apply(null,d))}},ne=function(o,s){return function(d){return o(s(d))}},Q=function(o){return function(){return o}},Ce=function(o){return o},ze=function(o,s){return o===s};function ke(o){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];return function(){for(var m=[],x=0;x<arguments.length;x++)m[x]=arguments[x];var T=s.concat(m);return o.apply(null,T)}}var St=function(o){return function(s){return!o(s)}},tt=function(o){return function(){throw new Error(o)}},G=function(o){return o()},We=function(o){o()},Ge=Q(!1),pt=Q(!0),Ze=function(){return kt},kt=function(){var o=function(m){return m()},s=Ce,d={fold:function(m,x){return m()},isSome:Ge,isNone:pt,getOr:s,getOrThunk:o,getOrDie:function(m){throw new Error(m||"error: getOrDie called on none.")},getOrNull:Q(null),getOrUndefined:Q(void 0),or:s,orThunk:o,map:Ze,each:le,bind:Ze,exists:Ge,forall:pt,filter:function(){return Ze()},toArray:function(){return[]},toString:Q("none()")};return d}(),Ot=function(o){var s=Q(o),d=function(){return x},m=function(T){return T(o)},x={fold:function(T,O){return O(o)},isSome:pt,isNone:Ge,getOr:s,getOrThunk:s,getOrDie:s,getOrNull:s,getOrUndefined:s,or:d,orThunk:d,map:function(T){return Ot(T(o))},each:function(T){T(o)},bind:m,exists:m,forall:m,filter:function(T){return T(o)?x:kt},toArray:function(){return[o]},toString:function(){return"some("+o+")"}};return x},Nt=function(o){return o==null?kt:Ot(o)},fe={some:Ot,none:Ze,from:Nt},Yt=Array.prototype.slice,Ye=Array.prototype.indexOf,je=Array.prototype.push,bt=function(o,s){return Ye.call(o,s)},qe=function(o,s){var d=bt(o,s);return d===-1?fe.none():fe.some(d)},Je=function(o,s){return bt(o,s)>-1},st=function(o,s){for(var d=0,m=o.length;d<m;d++){var x=o[d];if(s(x,d))return!0}return!1},Ft=function(o,s){for(var d=o.length,m=new Array(d),x=0;x<d;x++){var T=o[x];m[x]=s(T,x)}return m},Ct=function(o,s){for(var d=0,m=o.length;d<m;d++){var x=o[d];s(x,d)}},Rt=function(o,s){for(var d=o.length-1;d>=0;d--){var m=o[d];s(m,d)}},ur=function(o,s){for(var d=[],m=[],x=0,T=o.length;x<T;x++){var O=o[x],B=s(O,x)?d:m;B.push(O)}return{pass:d,fail:m}},Ke=function(o,s){for(var d=[],m=0,x=o.length;m<x;m++){var T=o[m];s(T,m)&&d.push(T)}return d},Bt=function(o,s,d){return Rt(o,function(m,x){d=s(d,m,x)}),d},Mn=function(o,s,d){return Ct(o,function(m,x){d=s(d,m,x)}),d},Zt=function(o,s,d){for(var m=0,x=o.length;m<x;m++){var T=o[m];if(s(T,m))return fe.some(T);if(d(T,m))break}return fe.none()},Qn=function(o,s){return Zt(o,s,Ge)},pr=function(o,s){for(var d=0,m=o.length;d<m;d++){var x=o[d];if(s(x,d))return fe.some(d)}return fe.none()},ao=function(o){for(var s=[],d=0,m=o.length;d<m;++d){if(!z(o[d]))throw new Error("Arr.flatten item "+d+" was not an array, input: "+o);je.apply(s,o[d])}return s},To=function(o,s){return ao(Ft(o,s))},Go=function(o,s){for(var d=0,m=o.length;d<m;++d){var x=o[d];if(s(x,d)!==!0)return!1}return!0},gn=function(o){var s=Yt.call(o,0);return s.reverse(),s},vn=function(o,s){return Ke(o,function(d){return!Je(s,d)})},en=function(o,s){for(var d={},m=0,x=o.length;m<x;m++){var T=o[m];d[String(T)]=s(T,m)}return d},vt=function(o,s){var d=Yt.call(o,0);return d.sort(s),d},Tt=function(o,s){return s>=0&&s<o.length?fe.some(o[s]):fe.none()},hn=function(o){return Tt(o,0)},Bn=function(o){return Tt(o,o.length-1)},bn=te(Array.from)?Array.from:function(o){return Yt.call(o)},mt=function(o,s){for(var d=0;d<o.length;d++){var m=s(o[d],d);if(m.isSome())return m}return fe.none()},an=Object.keys,On=Object.hasOwnProperty,wn=function(o,s){for(var d=an(o),m=0,x=d.length;m<x;m++){var T=d[m],O=o[T];s(O,T)}},er=function(o,s){return et(o,function(d,m){return{k:m,v:s(d,m)}})},et=function(o,s){var d={};return wn(o,function(m,x){var T=s(m,x);d[T.k]=T.v}),d},jt=function(o){return function(s,d){o[d]=s}},Pt=function(o,s,d,m){var x={};return wn(o,function(T,O){(s(T,O)?d:m)(T,O)}),x},ln=function(o,s){var d={},m={};return Pt(o,s,jt(d),jt(m)),{t:d,f:m}},Kn=function(o,s){var d={};return Pt(o,s,jt(d),le),d},Lr=function(o,s){var d=[];return wn(o,function(m,x){d.push(s(m,x))}),d},ei=function(o){return Lr(o,Ce)},Br=function(o,s){return Vr(o,s)?fe.from(o[s]):fe.none()},Vr=function(o,s){return On.call(o,s)},ui=function(o,s){return Vr(o,s)&&o[s]!==void 0&&o[s]!==null},Ca=function(o,s,d){return d===void 0&&(d=b),y(d).eq(o,s)},Ui=Array.isArray,Si=function(o){if(Ui(o))return o;for(var s=[],d=0,m=o.length;d<m;d++)s[d]=o[d];return s},Xi=function(o,s,d){var m,x;if(!o)return!1;if(d=d||o,o.length!==void 0){for(m=0,x=o.length;m<x;m++)if(s.call(d,o[m],m,o)===!1)return!1}else for(m in o)if(Vr(o,m)&&s.call(d,o[m],m,o)===!1)return!1;return!0},Ia=function(o,s){var d=[];return Xi(o,function(m,x){d.push(s(m,x,o))}),d},Zi=function(o,s){var d=[];return Xi(o,function(m,x){(!s||s(m,x,o))&&d.push(m)}),d},Bi=function(o,s){if(o){for(var d=0,m=o.length;d<m;d++)if(o[d]===s)return d}return-1},Ra=function(o,s,d,m){for(var x=X(d)?o[0]:d,T=0;T<o.length;T++)x=s.call(m,x,o[T],T);return x},co=function(o,s,d){var m,x;for(m=0,x=o.length;m<x;m++)if(s.call(d,o[m],m,o))return m;return-1},Pa=function(o){return o[o.length-1]},dr=function(){return dr=Object.assign||function(o){for(var s,d=1,m=arguments.length;d<m;d++){s=arguments[d];for(var x in s)Object.prototype.hasOwnProperty.call(s,x)&&(o[x]=s[x])}return o},dr.apply(this,arguments)};function Hu(o,s){var d={};for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&s.indexOf(m)<0&&(d[m]=o[m]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,m=Object.getOwnPropertySymbols(o);x<m.length;x++)s.indexOf(m[x])<0&&Object.prototype.propertyIsEnumerable.call(o,m[x])&&(d[m[x]]=o[m[x]]);return d}function ba(o,s,d){if(d||arguments.length===2)for(var m=0,x=s.length,T;m<x;m++)(T||!(m in s))&&(T||(T=Array.prototype.slice.call(s,0,m)),T[m]=s[m]);return o.concat(T||Array.prototype.slice.call(s))}var Ua=function(o){var s=!1,d;return function(){for(var m=[],x=0;x<arguments.length;x++)m[x]=arguments[x];return s||(s=!0,d=o.apply(null,m)),d}},oa=function(o,s,d,m){var x=o.isiOS()&&/ipad/i.test(d)===!0,T=o.isiOS()&&!x,O=o.isiOS()||o.isAndroid(),B=O||m("(pointer:coarse)"),V=x||!T&&O&&m("(min-device-width:768px)"),Z=T||O&&!V,pe=s.isSafari()&&o.isiOS()&&/safari/i.test(d)===!1,ge=!Z&&!V&&!pe;return{isiPad:Q(x),isiPhone:Q(T),isTablet:Q(V),isPhone:Q(Z),isTouch:Q(B),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:Q(pe),isDesktop:Q(ge)}},Ja=function(o,s){for(var d=0;d<o.length;d++){var m=o[d];if(m.test(s))return m}},Vu=function(o,s){var d=Ja(o,s);if(!d)return{major:0,minor:0};var m=function(x){return Number(s.replace(d,"$"+x))};return Pe(m(1),m(2))},Qa=function(o,s){var d=String(s).toLowerCase();return o.length===0?ws():Vu(o,d)},ws=function(){return Pe(0,0)},Pe=function(o,s){return{major:o,minor:s}},it={nu:Pe,detect:Qa,unknown:ws},He=function(o,s){return mt(s.brands,function(d){var m=d.brand.toLowerCase();return Qn(o,function(x){var T;return m===((T=x.brand)===null||T===void 0?void 0:T.toLowerCase())}).map(function(x){return{current:x.name,version:it.nu(parseInt(d.version,10),0)}})})},At=function(o,s){var d=String(s).toLowerCase();return Qn(o,function(m){return m.search(d)})},Rn=function(o,s){return At(o,s).map(function(d){var m=it.detect(d.versionRegexes,s);return{current:d.name,version:m}})},tr=function(o,s){return At(o,s).map(function(d){var m=it.detect(d.versionRegexes,s);return{current:d.name,version:m}})},Oe=function(o,s){return o.substring(s)},$e=function(o,s,d){return s===""||o.length>=s.length&&o.substr(d,d+s.length)===s},Et=function(o,s){return he(o,s)?Oe(o,s.length):o},Jt=function(o,s){return o.indexOf(s)!==-1},he=function(o,s){return $e(o,s,0)},Me=function(o){return function(s){return s.replace(o,"")}},Ue=Me(/^\s+|\s+$/g),lt=Me(/^\s+/g),_t=Me(/\s+$/g),Dt=function(o){return o.length>0},En=function(o){return!Dt(o)},Wn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_r=function(o){return function(s){return Jt(s,o)}},It=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(o){return Jt(o,"edge/")&&Jt(o,"chrome")&&Jt(o,"safari")&&Jt(o,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Wn],search:function(o){return Jt(o,"chrome")&&!Jt(o,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(o){return Jt(o,"msie")||Jt(o,"trident")}},{name:"Opera",versionRegexes:[Wn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_r("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_r("firefox")},{name:"Safari",versionRegexes:[Wn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(o){return(Jt(o,"safari")||Jt(o,"mobile/"))&&Jt(o,"applewebkit")}}],mr=[{name:"Windows",search:_r("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(o){return Jt(o,"iphone")||Jt(o,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_r("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_r("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_r("linux"),versionRegexes:[]},{name:"Solaris",search:_r("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_r("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_r("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],qr={browsers:Q(It),oses:Q(mr)},Wo="Edge",ea="Chrome",ro="IE",Fs="Opera",_s="Firefox",Yi="Safari",Ul=function(){return vu({current:void 0,version:it.unknown()})},vu=function(o){var s=o.current,d=o.version,m=function(x){return function(){return s===x}};return{current:s,version:d,isEdge:m(Wo),isChrome:m(ea),isIE:m(ro),isOpera:m(Fs),isFirefox:m(_s),isSafari:m(Yi)}},Eu={unknown:Ul,nu:vu,edge:Q(Wo),chrome:Q(ea),ie:Q(ro),opera:Q(Fs),firefox:Q(_s),safari:Q(Yi)},pi="Windows",Wl="iOS",nl="Android",Sl="Linux",gc="OSX",Ou="Solaris",os="FreeBSD",vc="ChromeOS",ju=function(){return Iu({current:void 0,version:it.unknown()})},Iu=function(o){var s=o.current,d=o.version,m=function(x){return function(){return s===x}};return{current:s,version:d,isWindows:m(pi),isiOS:m(Wl),isAndroid:m(nl),isOSX:m(gc),isLinux:m(Sl),isSolaris:m(Ou),isFreeBSD:m(os),isChromeOS:m(vc)}},we={unknown:ju,nu:Iu,windows:Q(pi),ios:Q(Wl),android:Q(nl),linux:Q(Sl),osx:Q(gc),solaris:Q(Ou),freebsd:Q(os),chromeos:Q(vc)},rt=function(o,s,d){var m=qr.browsers(),x=qr.oses(),T=s.bind(function(V){return He(m,V)}).orThunk(function(){return Rn(m,o)}).fold(Eu.unknown,Eu.nu),O=tr(x,o).fold(we.unknown,we.nu),B=oa(O,T,o,d);return{browser:T,os:O,deviceType:B}},wt={detect:rt},tn=function(o){return window.matchMedia(o).matches},kn=Ua(function(){return wt.detect(navigator.userAgent,fe.from(navigator.userAgentData),tn)}),yr=function(){return kn()},jo=navigator.userAgent,ti=yr(),uo=ti.browser,yi=ti.os,zi=ti.deviceType,rl=/WebKit/.test(jo)&&!uo.isEdge(),Wa="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Hs=jo.indexOf("Windows Phone")!==-1,Cr={opera:uo.isOpera(),webkit:rl,ie:uo.isIE()||uo.isEdge()?uo.version.major:!1,gecko:uo.isFirefox(),mac:yi.isOSX()||yi.isiOS(),iOS:zi.isiPad()||zi.isiPhone(),android:yi.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:uo.isIE()?document.documentMode||7:10,fileApi:Wa,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!uo.isIE(),desktop:zi.isDesktop(),windowsPhone:Hs,browser:{current:uo.current,version:uo.version,isChrome:uo.isChrome,isEdge:uo.isEdge,isFirefox:uo.isFirefox,isIE:uo.isIE,isOpera:uo.isOpera,isSafari:uo.isSafari},os:{current:yi.current,version:yi.version,isAndroid:yi.isAndroid,isChromeOS:yi.isChromeOS,isFreeBSD:yi.isFreeBSD,isiOS:yi.isiOS,isLinux:yi.isLinux,isOSX:yi.isOSX,isSolaris:yi.isSolaris,isWindows:yi.isWindows},deviceType:{isDesktop:zi.isDesktop,isiPad:zi.isiPad,isiPhone:zi.isiPhone,isPhone:zi.isPhone,isTablet:zi.isTablet,isTouch:zi.isTouch,isWebView:zi.isWebView}},Cl=/^\s*|\s*$/g,Xf=function(o){return o==null?"":(""+o).replace(Cl,"")},Oo=function(o,s){return s?s==="array"&&Ui(o)?!0:typeof o===s:o!==void 0},ff=function(o,s,d){var m;for(o=o||[],s=s||",",typeof o=="string"&&(o=o.split(s)),d=d||{},m=o.length;m--;)d[o[m]]={};return d},df=Vr,Pd=function(o,s,d){var m=this,x,T,O,B=0;o=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(o);var V=o[3].match(/(^|\.)(\w+)$/i)[2],Z=m.createNS(o[3].replace(/\.\w+$/,""),d);if(!Z[V]){if(o[2]==="static"){Z[V]=s,this.onCreate&&this.onCreate(o[2],o[3],Z[V]);return}s[V]||(s[V]=function(){},B=1),Z[V]=s[V],m.extend(Z[V].prototype,s),o[5]&&(x=m.resolve(o[5]).prototype,T=o[5].match(/\.(\w+)$/i)[1],O=Z[V],B?Z[V]=function(){return x[T].apply(this,arguments)}:Z[V]=function(){return this.parent=x[T],O.apply(this,arguments)},Z[V].prototype[V]=Z[V],m.each(x,function(pe,ge){Z[V].prototype[ge]=x[ge]}),m.each(s,function(pe,ge){x[ge]?Z[V].prototype[ge]=function(){return this.parent=x[ge],pe.apply(this,arguments)}:ge!==V&&(Z[V].prototype[ge]=pe)})),m.each(s.static,function(pe,ge){Z[V][ge]=pe})}},si=function(o){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];for(var m=0;m<s.length;m++){var x=s[m];for(var T in x)if(Vr(x,T)){var O=x[T];O!==void 0&&(o[T]=O)}}return o},is=function(o,s,d,m){m=m||this,o&&(d&&(o=o[d]),Xi(o,function(x,T){if(s.call(m,x,T,d)===!1)return!1;is(x,s,d,m)}))},Ah=function(o,s){var d,m;for(s=s||window,o=o.split("."),d=0;d<o.length;d++)m=o[d],s[m]||(s[m]={}),s=s[m];return s},Ss=function(o,s){var d,m;for(s=s||window,o=o.split("."),d=0,m=o.length;d<m&&(s=s[o[d]],!!s);d++);return s},ia=function(o,s){return!o||Oo(o,"array")?o:Ia(o.split(s||","),Xf)},ql=function(o){var s=Cr.cacheSuffix;return s&&(o+=(o.indexOf("?")===-1?"?":"&")+s),o},qt={trim:Xf,isArray:Ui,is:Oo,toArray:Si,makeMap:ff,each:Xi,map:Ia,grep:Zi,inArray:Bi,hasOwn:df,extend:si,create:Pd,walk:is,createNS:Ah,resolve:Ss,explode:ia,_addCacheSuffix:ql},yc=function(o,s){var d=s||document,m=d.createElement("div");if(m.innerHTML=o,!m.hasChildNodes()||m.childNodes.length>1)throw console.error("HTML does not have a single root node",o),new Error("HTML must have a single root node");return Tl(m.childNodes[0])},aa=function(o,s){var d=s||document,m=d.createElement(o);return Tl(m)},Yf=function(o,s){var d=s||document,m=d.createTextNode(o);return Tl(m)},Tl=function(o){if(o==null)throw new Error("Node cannot be null or undefined");return{dom:o}},ue=function(o,s,d){return fe.from(o.dom.elementFromPoint(s,d)).map(Tl)},W={fromHtml:yc,fromTag:aa,fromText:Yf,fromDom:Tl,fromPoint:ue},H=function(o,s){var d=[],m=function(T){return d.push(T),s(T)},x=s(o);do x=x.bind(m);while(x.isSome());return d},ee=function(o,s,d){return(o.compareDocumentPosition(s)&d)!==0},ye=function(o,s){return ee(o,s,Node.DOCUMENT_POSITION_CONTAINED_BY)},Re=8,gt=9,un=11,hr=1,Tr=3,Ln=function(o,s){var d=o.dom;if(d.nodeType!==hr)return!1;var m=d;if(m.matches!==void 0)return m.matches(s);if(m.msMatchesSelector!==void 0)return m.msMatchesSelector(s);if(m.webkitMatchesSelector!==void 0)return m.webkitMatchesSelector(s);if(m.mozMatchesSelector!==void 0)return m.mozMatchesSelector(s);throw new Error("Browser lacks native selectors")},lr=function(o){return o.nodeType!==hr&&o.nodeType!==gt&&o.nodeType!==un||o.childElementCount===0},Kr=function(o,s){var d=s===void 0?document:s.dom;return lr(d)?[]:Ft(d.querySelectorAll(o),W.fromDom)},Jr=function(o,s){var d=s===void 0?document:s.dom;return lr(d)?fe.none():fe.from(d.querySelector(o)).map(W.fromDom)},Hr=function(o,s){return o.dom===s.dom},Oi=function(o,s){var d=o.dom,m=s.dom;return d===m?!1:d.contains(m)},Or=function(o,s){return ye(o.dom,s.dom)},li=function(o,s){return yr().browser.isIE()?Or(o,s):Oi(o,s)};typeof window<"u"||Function("return this;")();var ni=function(o){var s=o.dom.nodeName;return s.toLowerCase()},yu=function(o){return o.dom.nodeType},so=function(o){return function(s){return yu(s)===o}},$l=function(o){return yu(o)===Re||ni(o)==="#comment"},ua=so(hr),xa=so(Tr),Wb=so(gt),Uu=so(un),Ty=function(o){return function(s){return ua(s)&&ni(s)===o}},hf=function(o){return W.fromDom(o.dom.ownerDocument)},Wr=function(o){return Wb(o)?o:hf(o)},Gl=function(o){return W.fromDom(Wr(o).dom.documentElement)},Ta=function(o){return W.fromDom(Wr(o).dom.defaultView)},Ma=function(o){return fe.from(o.dom.parentNode).map(W.fromDom)},bu=function(o,s){for(var d=te(s)?s:Ge,m=o.dom,x=[];m.parentNode!==null&&m.parentNode!==void 0;){var T=m.parentNode,O=W.fromDom(T);if(x.push(O),d(O)===!0)break;m=T}return x},Za=function(o){var s=function(d){return Ke(d,function(m){return!Hr(o,m)})};return Ma(o).map(Vs).map(s).getOr([])},Eh=function(o){return fe.from(o.dom.previousSibling).map(W.fromDom)},bc=function(o){return fe.from(o.dom.nextSibling).map(W.fromDom)},ri=function(o){return gn(H(o,Eh))},Ki=function(o){return H(o,bc)},Vs=function(o){return Ft(o.dom.childNodes,W.fromDom)},Kf=function(o,s){var d=o.dom.childNodes;return fe.from(d[s]).map(W.fromDom)},cu=function(o){return Kf(o,0)},Xl=function(o){return Kf(o,o.dom.childNodes.length-1)},qb=function(o){return o.dom.childNodes.length},Oh=function(o){var s=o.dom.head;if(s==null)throw new Error("Head is not available yet");return W.fromDom(s)},Ii=function(o){return Uu(o)&&ae(o.dom.host)},Pc=te(Element.prototype.attachShadow)&&te(Node.prototype.getRootNode),Nd=Q(Pc),ol=Pc?function(o){return W.fromDom(o.dom.getRootNode())}:Wr,Na=function(o){return Ii(o)?o:Oh(Wr(o))},Ld=function(o){var s=ol(o);return Ii(s)?fe.some(s):fe.none()},Jf=function(o){return W.fromDom(o.dom.host)},Cs=function(o){if(Nd()&&ae(o.target)){var s=W.fromDom(o.target);if(ua(s)&&il(s)&&o.composed&&o.composedPath){var d=o.composedPath();if(d)return hn(d)}}return fe.from(o.target)},il=function(o){return ae(o.dom.shadowRoot)},as=function(o,s){var d=Ma(o);d.each(function(m){m.dom.insertBefore(s.dom,o.dom)})},Rp=function(o,s){var d=bc(o);d.fold(function(){var m=Ma(o);m.each(function(x){xu(x,s)})},function(m){as(m,s)})},Nc=function(o,s){var d=cu(o);d.fold(function(){xu(o,s)},function(m){o.dom.insertBefore(s.dom,m.dom)})},xu=function(o,s){o.dom.appendChild(s.dom)},og=function(o,s){as(o,s),xu(s,o)},$b=function(o,s){Ct(s,function(d){as(o,d)})},Ih=function(o,s){Ct(s,function(d){xu(o,d)})},Rh=function(o){o.dom.textContent="",Ct(Vs(o),function(s){La(s)})},La=function(o){var s=o.dom;s.parentNode!==null&&s.parentNode.removeChild(s)},Ph=function(o){var s=Vs(o);s.length>0&&$b(o,s),La(o)},Nh=function(o){var s=xa(o)?o.dom.parentNode:o.dom;if(s==null||s.ownerDocument===null)return!1;var d=s.ownerDocument;return Ld(W.fromDom(s)).fold(function(){return d.body.contains(s)},ne(Nh,Jf))},Ts=function(o,s){var d=function(m,x){return Ts(o+m,s+x)};return{left:o,top:s,translate:d}},Qf=Ts,Lh=function(o){var s=o.getBoundingClientRect();return Qf(s.left,s.top)},Zf=function(o,s){return o!==void 0?o:s!==void 0?s:0},ca=function(o){var s=o.dom.ownerDocument,d=s.body,m=s.defaultView,x=s.documentElement;if(d===o.dom)return Qf(d.offsetLeft,d.offsetTop);var T=Zf(m==null?void 0:m.pageYOffset,x.scrollTop),O=Zf(m==null?void 0:m.pageXOffset,x.scrollLeft),B=Zf(x.clientTop,d.clientTop),V=Zf(x.clientLeft,d.clientLeft);return Ml(o).translate(O-V,T-B)},Ml=function(o){var s=o.dom,d=s.ownerDocument,m=d.body;return m===s?Qf(m.offsetLeft,m.offsetTop):Nh(o)?Lh(s):Qf(0,0)},Rv=function(o){var s=o!==void 0?o.dom:document,d=s.body.scrollLeft||s.documentElement.scrollLeft,m=s.body.scrollTop||s.documentElement.scrollTop;return Qf(d,m)},Yl=function(o,s,d){var m=d!==void 0?d.dom:document,x=m.defaultView;x&&x.scrollTo(o,s)},Pv=function(o,s){var d=yr().browser.isSafari();d&&te(o.dom.scrollIntoViewIfNeeded)?o.dom.scrollIntoViewIfNeeded(!1):o.dom.scrollIntoView(s)},Gb=function(o){var s=o===void 0?window:o;return yr().browser.isFirefox()?fe.none():fe.from(s.visualViewport)},My=function(o,s,d,m){return{x:o,y:s,width:d,height:m,right:o+d,bottom:s+m}},Bh=function(o){var s=o===void 0?window:o,d=s.document,m=Rv(W.fromDom(d));return Gb(s).fold(function(){var x=s.document.documentElement,T=x.clientWidth,O=x.clientHeight;return My(m.left,m.top,T,O)},function(x){return My(Math.max(x.pageLeft,m.left),Math.max(x.pageTop,m.top),x.width,x.height)})},zh=function(o){return function(s){return!!s&&s.nodeType===o}},Bd=function(o){return!!o&&!Object.getPrototypeOf(o)},Xr=zh(1),xc=function(o){var s=o.map(function(d){return d.toLowerCase()});return function(d){if(d&&d.nodeName){var m=d.nodeName.toLowerCase();return Je(s,m)}return!1}},al=function(o,s){var d=s.toLowerCase().split(" ");return function(m){if(Xr(m))for(var x=0;x<d.length;x++){var T=m.ownerDocument.defaultView.getComputedStyle(m,null),O=T?T.getPropertyValue(o):null;if(O===d[x])return!0}return!1}},Ms=function(o){return function(s){return Xr(s)&&s.hasAttribute(o)}},wc=function(o,s){return function(d){return Xr(d)&&d.getAttribute(o)===s}},qa=function(o){return Xr(o)&&o.hasAttribute("data-mce-bogus")},wu=function(o){return Xr(o)&&o.getAttribute("data-mce-bogus")==="all"},eu=function(o){return Xr(o)&&o.tagName==="TABLE"},zd=function(o){return function(s){return!!(Xr(s)&&(s.contentEditable===o||s.getAttribute("data-mce-contenteditable")===o))}},us=xc(["textarea","input"]),or=zh(3),Fh=zh(8),ky=zh(9),fo=zh(11),Ri=xc(["br"]),Nv=xc(["img"]),pf=zd("true"),sa=zd("false"),Lv=xc(["td","th"]),kl=xc(["video","audio","object","embed"]),ig=function(o,s,d){return d===void 0&&(d=ze),o.exists(function(m){return d(m,s)})},yo=function(o){for(var s=[],d=function(x){s.push(x)},m=0;m<o.length;m++)o[m].each(d);return s},js=function(o,s,d){return o.isSome()&&s.isSome()?fe.some(d(o.getOrDie(),s.getOrDie())):fe.none()},s_=function(o,s,d,m){return o.isSome()&&s.isSome()&&d.isSome()?fe.some(m(o.getOrDie(),s.getOrDie(),d.getOrDie())):fe.none()},l_=function(o,s){return o?fe.some(s):fe.none()},fa=function(o){return o.style!==void 0&&te(o.style.getPropertyValue)},Bv=function(o,s,d){if(R(d)||q(d)||ie(d))o.setAttribute(s,d+"");else throw console.error("Invalid call to Attribute.set. Key ",s,":: Value ",d,":: Element ",o),new Error("Attribute value was not simple")},J=function(o,s,d){Bv(o.dom,s,d)},me=function(o,s){var d=o.dom;wn(s,function(m,x){Bv(d,x,m)})},xe=function(o,s){var d=o.dom.getAttribute(s);return d===null?void 0:d},Fe=function(o,s){return fe.from(xe(o,s))},yt=function(o,s){var d=o.dom;return d&&d.hasAttribute?d.hasAttribute(s):!1},Qt=function(o,s){o.dom.removeAttribute(s)},vr=function(o){return Mn(o.dom.attributes,function(s,d){return s[d.name]=d.value,s},{})},Qr=function(o,s,d){if(!R(d))throw console.error("Invalid call to CSS.set. Property ",s,":: Value ",d,":: Element ",o),new Error("CSS value must be a string: "+d);fa(o)&&o.style.setProperty(s,d)},Io=function(o,s){var d=o.dom;wn(s,function(m,x){Qr(d,x,m)})},bo=function(o,s){var d=o.dom,m=window.getComputedStyle(d),x=m.getPropertyValue(s);return x===""&&!Nh(o)?Fi(d,s):x},Fi=function(o,s){return fa(o)?o.style.getPropertyValue(s):""},ss=function(o,s){var d=o.dom,m=Fi(d,s);return fe.from(m).filter(function(x){return x.length>0})},ka=function(o){var s={},d=o.dom;if(fa(d))for(var m=0;m<d.style.length;m++){var x=d.style.item(m);s[x]=d.style[x]}return s},b5=function(o){return o.dom.offsetWidth},NM=yr().browser,LM=function(o){return Qn(o,ua)},x5=function(o){return NM.isFirefox()&&ni(o)==="table"?LM(Vs(o)).filter(function(s){return ni(s)==="caption"}).bind(function(s){return LM(Ki(s)).map(function(d){var m=d.dom.offsetTop,x=s.dom.offsetTop,T=s.dom.offsetHeight;return m<=x?-T:0})}).getOr(0):0},ed=function(o,s){return o.children&&Je(o.children,s)},Dy=function(o,s,d){var m=0,x=0,T=o.ownerDocument;if(d=d||o,s){if(d===o&&s.getBoundingClientRect&&bo(W.fromDom(o),"position")==="static"){var O=s.getBoundingClientRect();return m=O.left+(T.documentElement.scrollLeft||o.scrollLeft)-T.documentElement.clientLeft,x=O.top+(T.documentElement.scrollTop||o.scrollTop)-T.documentElement.clientTop,{x:m,y:x}}for(var B=s;B&&B!==d&&B.nodeType&&!ed(B,d);){var V=B;m+=V.offsetLeft||0,x+=V.offsetTop||0,B=V.offsetParent}for(B=s.parentNode;B&&B!==d&&B.nodeType&&!ed(B,d);)m-=B.scrollLeft||0,x-=B.scrollTop||0,B=B.parentNode;x+=x5(W.fromDom(s))}return{x:m,y:x}},Dl={},zv={exports:Dl};(function(o,s,d,m){(function(x,T){typeof s=="object"&&typeof d<"u"?d.exports=T():typeof o=="function"&&o.amd?o(T):(x=typeof globalThis<"u"?globalThis:x||self,x.EphoxContactWrapper=T())})(this,function(){var x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof N3<"u"?N3:typeof self<"u"?self:{},T={exports:{}};(function(Z){(function(pe){var ge=setTimeout;function ve(){}function Ae(nt,Mt){return function(){nt.apply(Mt,arguments)}}function De(nt){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof nt!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],xt(nt,this)}function Ie(nt,Mt){for(;nt._state===3;)nt=nt._value;if(nt._state===0){nt._deferreds.push(Mt);return}nt._handled=!0,De._immediateFn(function(){var Xt=nt._state===1?Mt.onFulfilled:Mt.onRejected;if(Xt===null){(nt._state===1?Ne:Qe)(Mt.promise,nt._value);return}var Sn;try{Sn=Xt(nt._value)}catch(Dr){Qe(Mt.promise,Dr);return}Ne(Mt.promise,Sn)})}function Ne(nt,Mt){try{if(Mt===nt)throw new TypeError("A promise cannot be resolved with itself.");if(Mt&&(typeof Mt=="object"||typeof Mt=="function")){var Xt=Mt.then;if(Mt instanceof De){nt._state=3,nt._value=Mt,Xe(nt);return}else if(typeof Xt=="function"){xt(Ae(Xt,Mt),nt);return}}nt._state=1,nt._value=Mt,Xe(nt)}catch(Sn){Qe(nt,Sn)}}function Qe(nt,Mt){nt._state=2,nt._value=Mt,Xe(nt)}function Xe(nt){nt._state===2&&nt._deferreds.length===0&&De._immediateFn(function(){nt._handled||De._unhandledRejectionFn(nt._value)});for(var Mt=0,Xt=nt._deferreds.length;Mt<Xt;Mt++)Ie(nt,nt._deferreds[Mt]);nt._deferreds=null}function at(nt,Mt,Xt){this.onFulfilled=typeof nt=="function"?nt:null,this.onRejected=typeof Mt=="function"?Mt:null,this.promise=Xt}function xt(nt,Mt){var Xt=!1;try{nt(function(Sn){Xt||(Xt=!0,Ne(Mt,Sn))},function(Sn){Xt||(Xt=!0,Qe(Mt,Sn))})}catch(Sn){if(Xt)return;Xt=!0,Qe(Mt,Sn)}}De.prototype.catch=function(nt){return this.then(null,nt)},De.prototype.then=function(nt,Mt){var Xt=new this.constructor(ve);return Ie(this,new at(nt,Mt,Xt)),Xt},De.all=function(nt){var Mt=Array.prototype.slice.call(nt);return new De(function(Xt,Sn){if(Mt.length===0)return Xt([]);var Dr=Mt.length;function Zn(jr,An){try{if(An&&(typeof An=="object"||typeof An=="function")){var Jn=An.then;if(typeof Jn=="function"){Jn.call(An,function(Dn){Zn(jr,Dn)},Sn);return}}Mt[jr]=An,--Dr===0&&Xt(Mt)}catch(Dn){Sn(Dn)}}for(var pn=0;pn<Mt.length;pn++)Zn(pn,Mt[pn])})},De.resolve=function(nt){return nt&&typeof nt=="object"&&nt.constructor===De?nt:new De(function(Mt){Mt(nt)})},De.reject=function(nt){return new De(function(Mt,Xt){Xt(nt)})},De.race=function(nt){return new De(function(Mt,Xt){for(var Sn=0,Dr=nt.length;Sn<Dr;Sn++)nt[Sn].then(Mt,Xt)})},De._immediateFn=typeof setImmediate=="function"?function(nt){setImmediate(nt)}:function(nt){ge(nt,0)},De._unhandledRejectionFn=function(nt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",nt)},De._setImmediateFn=function(nt){De._immediateFn=nt},De._setUnhandledRejectionFn=function(nt){De._unhandledRejectionFn=nt},Z.exports?Z.exports=De:pe.Promise||(pe.Promise=De)})(x)})(T);var O=T.exports,B=function(){return typeof window<"u"?window:Function("return this;")()}(),V={boltExport:B.Promise||O};return V})})(void 0,Dl,zv);var c_=zv.exports.boltExport,Ay=function(o){var s=fe.none(),d=[],m=function(Z){return Ay(function(pe){x(function(ge){pe(Z(ge))})})},x=function(Z){O()?V(Z):d.push(Z)},T=function(Z){O()||(s=fe.some(Z),B(d),d=[])},O=function(){return s.isSome()},B=function(Z){Ct(Z,V)},V=function(Z){s.each(function(pe){setTimeout(function(){Z(pe)},0)})};return o(T),{get:x,map:m,isReady:O}},Xb=function(o){return Ay(function(s){s(o)})},BM={nu:Ay,pure:Xb},w5=function(o){setTimeout(function(){throw o},0)},td=function(o){var s=function(V){o().then(V,w5)},d=function(V){return td(function(){return o().then(V)})},m=function(V){return td(function(){return o().then(function(Z){return V(Z).toPromise()})})},x=function(V){return td(function(){return o().then(function(){return V.toPromise()})})},T=function(){return BM.nu(s)},O=function(){var V=null;return td(function(){return V===null&&(V=o()),V})},B=o;return{map:d,bind:m,anonBind:x,toLazy:T,toCached:O,toPromise:B,get:s}},Ey=function(o){return td(function(){return new c_(o)})},_5=function(o){return td(function(){return c_.resolve(o)})},f_={nu:Ey,pure:_5},S5=function(o,s){return s(function(d){var m=[],x=0,T=function(O){return function(B){m[O]=B,x++,x>=o.length&&d(m)}};o.length===0?d([]):Ct(o,function(O,B){O.get(T(B))})})},C5=function(o){return S5(o,f_.nu)},Fv=function(o){var s=function(ge){return Fv(o)},d=function(ge){return Fv(o)},m=function(ge){return Fv(ge(o))},x=function(ge){return Fv(o)},T=function(ge){ge(o)},O=function(ge){return ge(o)},B=function(ge,ve){return ve(o)},V=function(ge){return ge(o)},Z=function(ge){return ge(o)},pe=function(){return fe.some(o)};return{isValue:pt,isError:Ge,getOr:Q(o),getOrThunk:Q(o),getOrDie:Q(o),or:s,orThunk:d,fold:B,map:m,mapError:x,each:T,bind:O,exists:V,forall:Z,toOptional:pe}},Oy=function(o){var s=function(Z){return Z()},d=function(){return tt(String(o))()},m=Ce,x=function(Z){return Z()},T=function(Z){return Oy(o)},O=function(Z){return Oy(Z(o))},B=function(Z){return Oy(o)},V=function(Z,pe){return Z(o)};return{isValue:Ge,isError:pt,getOr:Ce,getOrThunk:s,getOrDie:d,or:m,orThunk:x,fold:V,map:T,mapError:O,each:le,bind:B,exists:Ge,forall:pt,toOptional:fe.none}},zM=function(o,s){return o.fold(function(){return Oy(s)},Fv)},FM={value:Fv,error:Oy,fromOption:zM},Kl=function(o){if(!z(o))throw new Error("cases must be an array");if(o.length===0)throw new Error("there must be at least one case");var s=[],d={};return Ct(o,function(m,x){var T=an(m);if(T.length!==1)throw new Error("one and only one name per case");var O=T[0],B=m[O];if(d[O]!==void 0)throw new Error("duplicate key detected:"+O);if(O==="cata")throw new Error("cannot have a case named cata (sorry)");if(!z(B))throw new Error("case arguments must be an array");s.push(O),d[O]=function(){for(var V=[],Z=0;Z<arguments.length;Z++)V[Z]=arguments[Z];var pe=V.length;if(pe!==B.length)throw new Error("Wrong number of arguments to case "+O+". Expected "+B.length+" ("+B+"), got "+pe);var ge=function(ve){var Ae=an(ve);if(s.length!==Ae.length)throw new Error("Wrong number of arguments to match. Expected: "+s.join(",")+`
Actual: `+Ae.join(","));var De=Go(s,function(Ie){return Je(Ae,Ie)});if(!De)throw new Error("Not all branches were specified when using match. Specified: "+Ae.join(", ")+`
Required: `+s.join(", "));return ve[O].apply(null,V)};return{fold:function(){for(var ve=[],Ae=0;Ae<arguments.length;Ae++)ve[Ae]=arguments[Ae];if(ve.length!==o.length)throw new Error("Wrong number of arguments to fold. Expected "+o.length+", got "+ve.length);var De=ve[x];return De.apply(null,V)},match:ge,log:function(ve){console.log(ve,{constructors:s,constructor:O,params:V})}}}}),d},Sr={generate:Kl};Sr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Hh=function(o){return o.fold(Ce,Ce)};function Iy(o,s,d,m,x){return o(d,m)?fe.some(d):te(x)&&x(d)?fe.none():s(d,m,x)}var Pp=function(o,s,d){for(var m=o.dom,x=te(d)?d:Ge;m.parentNode;){m=m.parentNode;var T=W.fromDom(m);if(s(T))return fe.some(T);if(x(T))break}return fe.none()},Hv=function(o,s,d){var m=function(x,T){return T(x)};return Iy(m,Pp,o,s,d)},d_=function(o,s){var d=o.dom;return d.parentNode?mf(W.fromDom(d.parentNode),function(m){return!Hr(o,m)&&s(m)}):fe.none()},mf=function(o,s){var d=function(x){return s(W.fromDom(x))},m=Qn(o.dom.childNodes,d);return m.map(W.fromDom)},ag=function(o,s,d){return Pp(o,function(m){return Ln(m,s)},d)},Vv=function(o,s){return Jr(s,o)},$a=function(o,s,d){var m=function(x,T){return Ln(x,T)};return Iy(m,ag,o,s,d)},Wu=window.Promise?window.Promise:c_,Ry,Fd=function(o,s){for(var d=window.requestAnimationFrame,m=["ms","moz","webkit"],x=function(O){window.setTimeout(O,0)},T=0;T<m.length&&!d;T++)d=window[m[T]+"RequestAnimationFrame"];d||(d=x),d(o,s)},Py=function(o,s){return typeof s!="number"&&(s=0),setTimeout(o,s)},Yb=function(o,s){return typeof s!="number"&&(s=1),setInterval(o,s)},Kb=function(o){return clearTimeout(o)},T5=function(o){return clearInterval(o)},jv=function(o,s){var d,m=function(){for(var x=[],T=0;T<arguments.length;T++)x[T]=arguments[T];clearTimeout(d),d=Py(function(){o.apply(this,x)},s)};return m.stop=function(){clearTimeout(d)},m},ks={requestAnimationFrame:function(o,s){if(Ry){Ry.then(o);return}Ry=new Wu(function(d){s||(s=document.body),Fd(d,s)}).then(o)},setTimeout:Py,setInterval:Yb,setEditorTimeout:function(o,s,d){return Py(function(){o.removed||s()},d)},setEditorInterval:function(o,s,d){var m=Yb(function(){o.removed?clearInterval(m):s()},d);return m},debounce:jv,throttle:jv,clearInterval:T5,clearTimeout:Kb},HM=function(o,s){s===void 0&&(s={});var d=0,m={},x=W.fromDom(o),T=Wr(x),O=s.maxLoadTime||5e3,B=function(Ne){s.referrerPolicy=Ne},V=function(Ne){xu(Na(x),Ne)},Z=function(Ne){var Qe=Na(x);Vv(Qe,"#"+Ne).each(La)},pe=function(Ne){return Br(m,Ne).getOrThunk(function(){return{id:"mce-u"+d++,passed:[],failed:[],count:0}})},ge=function(Ne,Qe,Xe){var at,xt=qt._addCacheSuffix(Ne),nt=pe(xt);m[xt]=nt,nt.count++;var Mt=function(An,Jn){for(var Dn=An.length;Dn--;)An[Dn]();nt.status=Jn,nt.passed=[],nt.failed=[],at&&(at.onload=null,at.onerror=null,at=null)},Xt=function(){return Mt(nt.passed,2)},Sn=function(){return Mt(nt.failed,3)},Dr=function(An,Jn){An()||(Date.now()-jr<O?ks.setTimeout(Jn):Sn())},Zn=function(){Dr(function(){for(var An=o.styleSheets,Jn=An.length;Jn--;){var Dn=An[Jn],Vn=Dn.ownerNode;if(Vn&&Vn.id===at.id)return Xt(),!0}return!1},Zn)};if(Qe&&nt.passed.push(Qe),Xe&&nt.failed.push(Xe),nt.status!==1){if(nt.status===2){Xt();return}if(nt.status===3){Sn();return}nt.status=1;var pn=W.fromTag("link",T.dom);me(pn,{rel:"stylesheet",type:"text/css",id:nt.id});var jr=Date.now();s.contentCssCors&&J(pn,"crossOrigin","anonymous"),s.referrerPolicy&&J(pn,"referrerpolicy",s.referrerPolicy),at=pn.dom,at.onload=Zn,at.onerror=Sn,V(pn),J(pn,"href",xt)}},ve=function(Ne){return f_.nu(function(Qe){ge(Ne,ce(Qe,Q(FM.value(Ne))),ce(Qe,Q(FM.error(Ne))))})},Ae=function(Ne,Qe,Xe){C5(Ft(Ne,ve)).get(function(at){var xt=ur(at,function(nt){return nt.isValue()});xt.fail.length>0?Xe(xt.fail.map(Hh)):Qe(xt.pass.map(Hh))})},De=function(Ne){var Qe=qt._addCacheSuffix(Ne);Br(m,Qe).each(function(Xe){var at=--Xe.count;at===0&&(delete m[Qe],Z(Xe.id))})},Ie=function(Ne){Ct(Ne,function(Qe){De(Qe)})};return{load:ge,loadAll:Ae,unload:De,unloadAll:Ie,_setReferrerPolicy:B}},wa=function(){var o=new WeakMap,s=function(d,m){var x=ol(d),T=x.dom;return fe.from(o.get(T)).getOrThunk(function(){var O=HM(T,m);return o.set(T,O),O})};return{forElement:s}},gf=wa(),mi=function(){function o(s,d){this.node=s,this.rootNode=d,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return o.prototype.current=function(){return this.node},o.prototype.next=function(s){return this.node=this.findSibling(this.node,"firstChild","nextSibling",s),this.node},o.prototype.prev=function(s){return this.node=this.findSibling(this.node,"lastChild","previousSibling",s),this.node},o.prototype.prev2=function(s){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",s),this.node},o.prototype.findSibling=function(s,d,m,x){var T,O;if(s){if(!x&&s[d])return s[d];if(s!==this.rootNode){if(T=s[m],T)return T;for(O=s.parentNode;O&&O!==this.rootNode;O=O.parentNode)if(T=O[m],T)return T}}},o.prototype.findPreviousNode=function(s,d,m,x){var T,O,B;if(s){if(T=s[m],this.rootNode&&T===this.rootNode)return;if(T){if(!x){for(B=T[d];B;B=B[d])if(!B[d])return B}return T}if(O=s.parentNode,O&&O!==this.rootNode)return O}},o}(),Np=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Lc=["td","th"],M5=["thead","tbody","tfoot"],_u=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ul=["h1","h2","h3","h4","h5","h6"],VM=["li","dd","dt"],on=["ul","ol","dl"],Al=["pre","script","textarea","style"],Vh=function(o){var s;return function(d){return s=s||en(o,pt),Vr(s,ni(d))}},Yr=Vh(ul),_c=Vh(Np),k5=function(o){return ni(o)==="table"},Us=function(o){return ua(o)&&!_c(o)},Uv=function(o){return ua(o)&&ni(o)==="br"},Hd=Vh(_u),vf=Vh(on),Ds=Vh(VM),oi=Vh(M5),nd=Vh(Lc),ug=Vh(Al),Wi=function(o,s,d){return ag(o,s,d).isSome()},Lp="\uFEFF",Jl="",Ql=function(o){return o===Lp},D5=function(o){return o.replace(/\uFEFF/g,"")},dt=Lp,sl=Ql,rd=D5,Wv=Xr,Sc=or,Pi=function(o){return Sc(o)&&(o=o.parentNode),Wv(o)&&o.hasAttribute("data-mce-caret")},qi=function(o){return Sc(o)&&sl(o.data)},El=function(o){return Pi(o)||qi(o)},jh=function(o){return o.firstChild!==o.lastChild||!Ri(o.firstChild)},h_=function(o,s){var d=o.ownerDocument,m=d.createTextNode(dt),x=o.parentNode;if(s){var T=o.previousSibling;if(Sc(T)){if(El(T))return T;if(Ly(T))return T.splitText(T.data.length-1)}x.insertBefore(m,o)}else{var T=o.nextSibling;if(Sc(T)){if(El(T))return T;if(Ny(T))return T.splitText(1),T}o.nextSibling?x.insertBefore(m,o.nextSibling):x.appendChild(m)}return m},Er=function(o){var s=o.container();return or(s)?s.data.charAt(o.offset())===dt||o.isAtStart()&&qi(s.previousSibling):!1},Jb=function(o){var s=o.container();return or(s)?s.data.charAt(o.offset()-1)===dt||o.isAtEnd()&&qi(s.nextSibling):!1},Cc=function(){var o=document.createElement("br");return o.setAttribute("data-mce-bogus","1"),o},jM=function(o,s,d){var m=s.ownerDocument,x=m.createElement(o);x.setAttribute("data-mce-caret",d?"before":"after"),x.setAttribute("data-mce-bogus","all"),x.appendChild(Cc());var T=s.parentNode;return d?T.insertBefore(x,s):s.nextSibling?T.insertBefore(x,s.nextSibling):T.appendChild(x),x},Ny=function(o){return Sc(o)&&o.data[0]===dt},Ly=function(o){return Sc(o)&&o.data[o.data.length-1]===dt},p_=function(o){var s=o.getElementsByTagName("br"),d=s[s.length-1];qa(d)&&d.parentNode.removeChild(d)},m_=function(o){return o&&o.hasAttribute("data-mce-caret")?(p_(o),o.removeAttribute("data-mce-caret"),o.removeAttribute("data-mce-bogus"),o.removeAttribute("style"),o.removeAttribute("_moz_abspos"),o):null},Vd=function(o){return Pi(o.startContainer)},Uh=pf,A5=sa,g_=Ri,E5=or,UM=xc(["script","style","textarea"]),By=xc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),qv=xc(["table"]),WM=El,jd=function(o){return WM(o)?!1:E5(o)?!UM(o.parentNode):By(o)||g_(o)||qv(o)||v_(o)},$v=function(o){return Xr(o)&&o.getAttribute("unselectable")==="true"},v_=function(o){return $v(o)===!1&&A5(o)},qM=function(o,s){for(o=o.parentNode;o&&o!==s;o=o.parentNode){if(v_(o))return!1;if(Uh(o))return!0}return!0},O5=function(o){return v_(o)?Mn(bn(o.getElementsByTagName("*")),function(s,d){return s||Uh(d)},!1)!==!0:!1},I5=function(o){return By(o)||O5(o)},fu=function(o,s){return jd(o)&&qM(o,s)},Ud=/^[ \t\r\n]*$/,yf=function(o){return Ud.test(o)},Bp=function(o,s){var d=W.fromDom(s),m=W.fromDom(o);return Wi(m,"pre,code",ke(Hr,d))},$M=function(o,s){return or(o)&&yf(o.data)&&Bp(o,s)===!1},bf=function(o){return Xr(o)&&o.nodeName==="A"&&!o.hasAttribute("href")&&(o.hasAttribute("name")||o.hasAttribute("id"))},sg=function(o,s){return jd(o)&&$M(o,s)===!1||bf(o)||y_(o)},y_=Ms("data-mce-bookmark"),b_=Ms("data-mce-bogus"),Wh=wc("data-mce-bogus","all"),Bc=function(o,s){var d=0;if(sg(o,o))return!1;var m=o.firstChild;if(!m)return!0;var x=new mi(m,o);do{if(s){if(Wh(m)){m=x.next(!0);continue}if(b_(m)){m=x.next();continue}}if(Ri(m)){d++,m=x.next();continue}if(sg(m,o))return!1;m=x.next()}while(m);return d<=1},ls=function(o,s){return s===void 0&&(s=!0),Bc(o.dom,s)},Qb=function(o){return o.nodeName.toLowerCase()==="span"},x_=function(o,s){return ae(o)&&(sg(o,s)||Us(W.fromDom(o)))},lg=function(o,s){var d=new mi(o,s).prev(!1),m=new mi(o,s).next(!1),x=X(d)||x_(d,s),T=X(m)||x_(m,s);return x&&T},Gv=function(o){return Qb(o)&&o.getAttribute("data-mce-type")==="bookmark"},Xv=function(o,s){return or(o)&&o.data.length>0&&lg(o,s)},R5=function(o){return Xr(o)?o.childNodes.length>0:!1},Yv=function(o){return fo(o)||ky(o)},w_=function(o,s,d){var m=d||s;if(Xr(s)&&Gv(s))return s;for(var x=s.childNodes,T=x.length-1;T>=0;T--)w_(o,x[T],m);if(Xr(s)){var O=s.childNodes;O.length===1&&Gv(O[0])&&s.parentNode.insertBefore(O[0],s)}return!Yv(s)&&!sg(s,m)&&!R5(s)&&!Xv(s,m)&&o.remove(s),s},P5=qt.makeMap,Da=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zb=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zp=/[<>&\"\']/g,__=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,S_={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},zc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Tc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},cg=function(o){var s=W.fromTag("div").dom;return s.innerHTML=o,s.textContent||s.innerText||o},Fp=function(o,s){var d,m,x,T={};if(o){for(o=o.split(","),s=s||10,d=0;d<o.length;d+=2)m=String.fromCharCode(parseInt(o[d],s)),zc[m]||(x="&"+o[d+1]+";",T[m]=x,T[x]=m);return T}},ex=Fp("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),zy=function(o,s){return o.replace(s?Da:Zb,function(d){return zc[d]||d})},C_=function(o){return(""+o).replace(zp,function(s){return zc[s]||s})},fg=function(o,s){return o.replace(s?Da:Zb,function(d){return d.length>1?"&#"+((d.charCodeAt(0)-55296)*1024+(d.charCodeAt(1)-56320)+65536)+";":zc[d]||"&#"+d.charCodeAt(0)+";"})},tx=function(o,s,d){return d=d||ex,o.replace(s?Da:Zb,function(m){return zc[m]||d[m]||m})},N5=function(o,s){var d=Fp(s)||ex,m=function(O,B){return O.replace(B?Da:Zb,function(V){return zc[V]!==void 0?zc[V]:d[V]!==void 0?d[V]:V.length>1?"&#"+((V.charCodeAt(0)-55296)*1024+(V.charCodeAt(1)-56320)+65536)+";":"&#"+V.charCodeAt(0)+";"})},x=function(O,B){return tx(O,B,d)},T=P5(o.replace(/\+/g,","));return T.named&&T.numeric?m:T.named?s?x:tx:T.numeric?fg:zy},T_=function(o){return o.replace(__,function(s,d){return d?(d.charAt(0).toLowerCase()==="x"?d=parseInt(d.substr(1),16):d=parseInt(d,10),d>65535?(d-=65536,String.fromCharCode(55296+(d>>10),56320+(d&1023))):S_[d]||String.fromCharCode(d)):Tc[s]||ex[s]||cg(s)})},Mc={encodeRaw:zy,encodeAllRaw:C_,encodeNumeric:fg,encodeNamed:tx,getEncodeFunc:N5,decode:T_},Zl={},Kv={},xf=qt.makeMap,Ws=qt.each,nx=qt.extend,qh=qt.explode,GM=qt.inArray,cs=function(o,s){return o=qt.trim(o),o?o.split(s||" "):[]},XM=function(o){var s={},d,m,x,T,O,B,V=function(pe,ge,ve){var Ae,De,Ie,Ne=function(Xe,at){var xt={},nt,Mt;for(nt=0,Mt=Xe.length;nt<Mt;nt++)xt[Xe[nt]]=at||{};return xt};ve=ve||[],ge=ge||"",typeof ve=="string"&&(ve=cs(ve));var Qe=cs(pe);for(Ae=Qe.length;Ae--;)De=cs([d,ge].join(" ")),Ie={attributes:Ne(De),attributesOrder:De,children:Ne(ve,Kv)},s[Qe[Ae]]=Ie},Z=function(pe,ge){var ve,Ae,De,Ie,Ne=cs(pe);ve=Ne.length;for(var Qe=cs(ge);ve--;)for(Ae=s[Ne[ve]],De=0,Ie=Qe.length;De<Ie;De++)Ae.attributes[Qe[De]]={},Ae.attributesOrder.push(Qe[De])};return Zl[o]?Zl[o]:(d="id accesskey class dir lang style tabindex title role",m="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",x="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",o!=="html4"&&(d+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",m+=" article aside details dialog figure main header footer hgroup section nav",x+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),o!=="html5-strict"&&(d+=" xml:lang",B="acronym applet basefont big font strike tt",x=[x,B].join(" "),Ws(cs(B),function(pe){V(pe,"",x)}),O="center dir isindex noframes",m=[m,O].join(" "),T=[m,x].join(" "),Ws(cs(O),function(pe){V(pe,"",T)})),T=T||[m,x].join(" "),V("html","manifest","head body"),V("head","","base command link meta noscript script style title"),V("title hr noscript br"),V("base","href target"),V("link","href rel media hreflang type sizes hreflang"),V("meta","name http-equiv content charset"),V("style","media type scoped"),V("script","src async defer type charset"),V("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",T),V("address dt dd div caption","",T),V("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",x),V("blockquote","cite",T),V("ol","reversed start type","li"),V("ul","","li"),V("li","value",T),V("dl","","dt dd"),V("a","href target rel media hreflang type",x),V("q","cite",x),V("ins del","cite datetime",T),V("img","src sizes srcset alt usemap ismap width height"),V("iframe","src name width height",T),V("embed","src type width height"),V("object","data type typemustmatch name usemap form width height",[T,"param"].join(" ")),V("param","name value"),V("map","name",[T,"area"].join(" ")),V("area","alt coords shape href target rel media hreflang type"),V("table","border","caption colgroup thead tfoot tbody tr"+(o==="html4"?" col":"")),V("colgroup","span","col"),V("col","span"),V("tbody thead tfoot","","tr"),V("tr","","td th"),V("td","colspan rowspan headers",T),V("th","colspan rowspan headers scope abbr",T),V("form","accept-charset action autocomplete enctype method name novalidate target",T),V("fieldset","disabled form name",[T,"legend"].join(" ")),V("label","form for",x),V("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),V("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",o==="html4"?T:x),V("select","disabled form multiple name required size","option optgroup"),V("optgroup","disabled label","option"),V("option","disabled label selected value"),V("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),V("menu","type label",[T,"li"].join(" ")),V("noscript","",T),o!=="html4"&&(V("wbr"),V("ruby","",[x,"rt rp"].join(" ")),V("figcaption","",T),V("mark rt rp summary bdi","",x),V("canvas","width height",T),V("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[T,"track source"].join(" ")),V("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[T,"track source"].join(" ")),V("picture","","img source"),V("source","src srcset type media sizes"),V("track","kind src srclang label default"),V("datalist","",[x,"option"].join(" ")),V("article section nav aside main header footer","",T),V("hgroup","","h1 h2 h3 h4 h5 h6"),V("figure","",[T,"figcaption"].join(" ")),V("time","datetime",x),V("dialog","open",T),V("command","type label icon disabled checked radiogroup command"),V("output","for form name",x),V("progress","value max",x),V("meter","value min max low high optimum",x),V("details","open",[T,"summary"].join(" ")),V("keygen","autofocus challenge disabled form keytype name")),o!=="html5-strict"&&(Z("script","language xml:space"),Z("style","xml:space"),Z("object","declare classid code codebase codetype archive standby align border hspace vspace"),Z("embed","align name hspace vspace"),Z("param","valuetype type"),Z("a","charset name rev shape coords"),Z("br","clear"),Z("applet","codebase archive code object alt name width height align hspace vspace"),Z("img","name longdesc align border hspace vspace"),Z("iframe","longdesc frameborder marginwidth marginheight scrolling align"),Z("font basefont","size color face"),Z("input","usemap align"),Z("select"),Z("textarea"),Z("h1 h2 h3 h4 h5 h6 div p legend caption","align"),Z("ul","type compact"),Z("li","type"),Z("ol dl menu dir","compact"),Z("pre","width xml:space"),Z("hr","align noshade size width"),Z("isindex","prompt"),Z("table","summary width frame rules cellspacing cellpadding align bgcolor"),Z("col","width align char charoff valign"),Z("colgroup","width align char charoff valign"),Z("thead","align char charoff valign"),Z("tr","align char charoff valign bgcolor"),Z("th","axis align char charoff valign nowrap bgcolor width height"),Z("form","accept"),Z("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),Z("tfoot","align char charoff valign"),Z("tbody","align char charoff valign"),Z("area","nohref"),Z("body","background bgcolor text link vlink alink")),o!=="html4"&&(Z("input button select textarea","autofocus"),Z("input textarea","placeholder"),Z("a","download"),Z("link script img","crossorigin"),Z("img","loading"),Z("iframe","sandbox seamless allowfullscreen loading")),Ws(cs("a form meter progress dfn"),function(pe){s[pe]&&delete s[pe].children[pe]}),delete s.caption.children.table,delete s.script,Zl[o]=s,s)},Fy=function(o,s){var d;return o&&(d={},typeof o=="string"&&(o={"*":o}),Ws(o,function(m,x){d[x]=d[x.toUpperCase()]=s==="map"?xf(m,/[, ]/):qh(m,/[, ]/)})),d},Mo=function(o){var s={},d={},m=[],x={},T={},O=function(yn,zt,Cn){var Ht=o[yn];return Ht?Ht=xf(Ht,/[, ]/,xf(Ht.toUpperCase(),/[, ]/)):(Ht=Zl[yn],Ht||(Ht=xf(zt," ",xf(zt.toUpperCase()," ")),Ht=nx(Ht,Cn),Zl[yn]=Ht)),Ht};o=o||{};var B=XM(o.schema);o.verify_html===!1&&(o.valid_elements="*[*]");var V=Fy(o.valid_styles),Z=Fy(o.invalid_styles,"map"),pe=Fy(o.valid_classes,"map"),ge=O("whitespace_elements","pre script noscript style textarea video audio iframe object code"),ve=O("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Ae=O("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),De=O("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Ie="td th iframe video audio object script code",Ne=O("non_empty_elements",Ie+" pre",Ae),Qe=O("move_caret_before_on_enter_elements",Ie+" table",Ae),Xe=O("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),at=O("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",Xe),xt=O("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Ws((o.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(yn){T[yn]=new RegExp("</"+yn+"[^>]*>","gi")});var nt=function(yn){return new RegExp("^"+yn.replace(/([?+*])/g,".$1")+"$")},Mt=function(yn){var zt,Cn,Ht,fr,Fn,zr,ko,pa,Ll,fc,wd,Bl,zl,zu,pv,Ps,_d,Em,Aa=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Ji=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Du=/[*?+]/;if(yn){var fh=cs(yn,",");for(s["@"]&&(Ps=s["@"].attributes,_d=s["@"].attributesOrder),zt=0,Cn=fh.length;zt<Cn;zt++)if(Fn=Aa.exec(fh[zt]),Fn){if(zu=Fn[1],Ll=Fn[2],pv=Fn[3],pa=Fn[5],Bl={},zl=[],zr={attributes:Bl,attributesOrder:zl},zu==="#"&&(zr.paddEmpty=!0),zu==="-"&&(zr.removeEmpty=!0),Fn[4]==="!"&&(zr.removeEmptyAttrs=!0),Ps&&(wn(Ps,function(Om,dh){Bl[dh]=Om}),zl.push.apply(zl,_d)),pa){for(pa=cs(pa,"|"),Ht=0,fr=pa.length;Ht<fr;Ht++)if(Fn=Ji.exec(pa[Ht]),Fn){if(ko={},wd=Fn[1],fc=Fn[2].replace(/[\\:]:/g,":"),zu=Fn[3],Em=Fn[4],wd==="!"&&(zr.attributesRequired=zr.attributesRequired||[],zr.attributesRequired.push(fc),ko.required=!0),wd==="-"){delete Bl[fc],zl.splice(GM(zl,fc),1);continue}zu&&(zu==="="&&(zr.attributesDefault=zr.attributesDefault||[],zr.attributesDefault.push({name:fc,value:Em}),ko.defaultValue=Em),zu===":"&&(zr.attributesForced=zr.attributesForced||[],zr.attributesForced.push({name:fc,value:Em}),ko.forcedValue=Em),zu==="<"&&(ko.validValues=xf(Em,"?"))),Du.test(fc)?(zr.attributePatterns=zr.attributePatterns||[],ko.pattern=nt(fc),zr.attributePatterns.push(ko)):(Bl[fc]||zl.push(fc),Bl[fc]=ko)}}!Ps&&Ll==="@"&&(Ps=Bl,_d=zl),pv&&(zr.outputName=Ll,s[pv]=zr),Du.test(Ll)?(zr.pattern=nt(Ll),m.push(zr)):s[Ll]=zr}}},Xt=function(yn){s={},m=[],Mt(yn),Ws(B,function(zt,Cn){d[Cn]=zt.children})},Sn=function(yn){var zt=/^(~)?(.+)$/;yn&&(Zl.text_block_elements=Zl.block_elements=null,Ws(cs(yn,","),function(Cn){var Ht=zt.exec(Cn),fr=Ht[1]==="~",Fn=fr?"span":"div",zr=Ht[2];if(d[zr]=d[Fn],x[zr]=Fn,fr||(at[zr.toUpperCase()]={},at[zr]={}),!s[zr]){var ko=s[Fn];ko=nx({},ko),delete ko.removeEmptyAttrs,delete ko.removeEmpty,s[zr]=ko}Ws(d,function(pa,Ll){pa[Fn]&&(d[Ll]=pa=nx({},d[Ll]),pa[zr]=pa[Fn])})}))},Dr=function(yn){var zt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Zl[o.schema]=null,yn&&Ws(cs(yn,","),function(Cn){var Ht=zt.exec(Cn),fr,Fn;Ht&&(Fn=Ht[1],Fn?fr=d[Ht[2]]:fr=d[Ht[2]]={"#comment":{}},fr=d[Ht[2]],Ws(cs(Ht[3],"|"),function(zr){Fn==="-"?delete fr[zr]:fr[zr]={}}))})},Zn=function(yn){var zt=s[yn],Cn;if(zt)return zt;for(Cn=m.length;Cn--;)if(zt=m[Cn],zt.pattern.test(yn))return zt};o.valid_elements?Xt(o.valid_elements):(Ws(B,function(yn,zt){s[zt]={attributes:yn.attributes,attributesOrder:yn.attributesOrder},d[zt]=yn.children}),o.schema!=="html5"&&Ws(cs("strong/b em/i"),function(yn){var zt=cs(yn,"/");s[zt[1]].outputName=zt[0]}),Ws(cs("ol ul sub sup blockquote span font a table tbody strong em b i"),function(yn){s[yn]&&(s[yn].removeEmpty=!0)}),Ws(cs("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(yn){s[yn].paddEmpty=!0}),Ws(cs("span"),function(yn){s[yn].removeEmptyAttrs=!0})),Sn(o.custom_elements),Dr(o.valid_children),Mt(o.extended_valid_elements),Dr("+ol[ul|ol],+ul[ul|ol]"),Ws({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(yn,zt){s[zt]&&(s[zt].parentsRequired=cs(yn))}),o.invalid_elements&&Ws(qh(o.invalid_elements),function(yn){s[yn]&&delete s[yn]}),Zn("span")||Mt("span[!data-mce-type|*]");var pn=Q(V),jr=Q(Z),An=Q(pe),Jn=Q(De),Dn=Q(at),Vn=Q(Xe),rr=Q(xt),xn=Q(Ae),ar=Q(ve),oo=Q(Ne),xi=Q(Qe),Uo=Q(ge),mu=Q(T),ku=function(yn,zt){var Cn=d[yn.toLowerCase()];return!!(Cn&&Cn[zt.toLowerCase()])},Oc=function(yn,zt){var Cn,Ht,fr=Zn(yn);if(fr)if(zt){if(fr.attributes[zt])return!0;if(Cn=fr.attributePatterns,Cn){for(Ht=Cn.length;Ht--;)if(Cn[Ht].pattern.test(yn))return!0}}else return!0;return!1},ef=Q(x);return{children:d,elements:s,getValidStyles:pn,getValidClasses:An,getBlockElements:Dn,getInvalidStyles:jr,getShortEndedElements:xn,getTextBlockElements:Vn,getTextInlineElements:rr,getBoolAttrs:Jn,getElementRule:Zn,getSelfClosingElements:ar,getNonEmptyElements:oo,getMoveCaretBeforeOnEnterElements:xi,getWhiteSpaceElements:Uo,getSpecialElements:mu,isValidChild:ku,isValid:Oc,getCustomElements:ef,addValidElements:Mt,setValidElements:Xt,addCustomElements:Sn,addValidChildren:Dr}},Ir=function(o,s,d,m){var x=function(T){return T=parseInt(T,10).toString(16),T.length>1?T:"0"+T};return"#"+x(s)+x(d)+x(m)},$h=function(o,s){var d=this,m=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,x=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,T=/\s*([^:]+):\s*([^;]+);?/g,O=/\s+$/,B,V={},Z,pe,ge=Lp;o=o||{},s&&(Z=s.getValidStyles(),pe=s.getInvalidStyles());var ve=(`\\" \\' \\; \\: ; : `+ge).split(" ");for(B=0;B<ve.length;B++)V[ve[B]]=ge+B,V[ge+B]=ve[B];return{toHex:function(Ae){return Ae.replace(m,Ir)},parse:function(Ae){var De={},Ie,Ne,Qe,Xe,at=o.url_converter,xt=o.url_converter_scope||d,nt=function(An,Jn,Dn){var Vn=De[An+"-top"+Jn];if(Vn){var rr=De[An+"-right"+Jn];if(rr){var xn=De[An+"-bottom"+Jn];if(xn){var ar=De[An+"-left"+Jn];if(ar){var oo=[Vn,rr,xn,ar];for(B=oo.length-1;B--&&oo[B]===oo[B+1];);B>-1&&Dn||(De[An+Jn]=B===-1?oo[0]:oo.join(" "),delete De[An+"-top"+Jn],delete De[An+"-right"+Jn],delete De[An+"-bottom"+Jn],delete De[An+"-left"+Jn])}}}}},Mt=function(An){var Jn=De[An],Dn;if(Jn){for(Jn=Jn.split(" "),Dn=Jn.length;Dn--;)if(Jn[Dn]!==Jn[0])return!1;return De[An]=Jn[0],!0}},Xt=function(An,Jn,Dn,Vn){Mt(Jn)&&Mt(Dn)&&Mt(Vn)&&(De[An]=De[Jn]+" "+De[Dn]+" "+De[Vn],delete De[Jn],delete De[Dn],delete De[Vn])},Sn=function(An){return Xe=!0,V[An]},Dr=function(An,Jn){return Xe&&(An=An.replace(/\uFEFF[0-9]/g,function(Dn){return V[Dn]})),Jn||(An=An.replace(/\\([\'\";:])/g,"$1")),An},Zn=function(An){return String.fromCharCode(parseInt(An.slice(1),16))},pn=function(An){return An.replace(/\\[0-9a-f]+/gi,Zn)},jr=function(An,Jn,Dn,Vn,rr,xn){if(rr=rr||xn,rr)return rr=Dr(rr),"'"+rr.replace(/\'/g,"\\'")+"'";if(Jn=Dr(Jn||Dn||Vn),!o.allow_script_urls){var ar=Jn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(ar)||!o.allow_svg_data_urls&&/^data:image\/svg/i.test(ar))return""}return at&&(Jn=at.call(xt,Jn,"style")),"url('"+Jn.replace(/\'/g,"\\'")+"')"};if(Ae){for(Ae=Ae.replace(/[\u0000-\u001F]/g,""),Ae=Ae.replace(/\\[\"\';:\uFEFF]/g,Sn).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(An){return An.replace(/[;:]/g,Sn)});Ie=T.exec(Ae);)if(T.lastIndex=Ie.index+Ie[0].length,Ne=Ie[1].replace(O,"").toLowerCase(),Qe=Ie[2].replace(O,""),Ne&&Qe){if(Ne=pn(Ne),Qe=pn(Qe),Ne.indexOf(ge)!==-1||Ne.indexOf('"')!==-1||!o.allow_script_urls&&(Ne==="behavior"||/expression\s*\(|\/\*|\*\//.test(Qe)))continue;Ne==="font-weight"&&Qe==="700"?Qe="bold":(Ne==="color"||Ne==="background-color")&&(Qe=Qe.toLowerCase()),Qe=Qe.replace(m,Ir),Qe=Qe.replace(x,jr),De[Ne]=Xe?Dr(Qe,!0):Qe}nt("border","",!0),nt("border","-width"),nt("border","-color"),nt("border","-style"),nt("padding",""),nt("margin",""),Xt("border","border-width","border-style","border-color"),De.border==="medium none"&&delete De.border,De["border-image"]==="none"&&delete De["border-image"]}return De},serialize:function(Ae,De){var Ie="",Ne=function(Xe){var at,xt=Z[Xe];if(xt)for(var nt=0,Mt=xt.length;nt<Mt;nt++)Xe=xt[nt],at=Ae[Xe],at&&(Ie+=(Ie.length>0?" ":"")+Xe+": "+at+";")},Qe=function(Xe,at){var xt=pe["*"];return xt&&xt[Xe]?!1:(xt=pe[at],!(xt&&xt[Xe]))};return De&&Z?(Ne("*"),Ne(De)):wn(Ae,function(Xe,at){Xe&&(!pe||Qe(at,De))&&(Ie+=(Ie.length>0?" ":"")+at+": "+Xe+";")}),Ie}}},M_={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},wf=function(o){return o instanceof Event||te(o.initEvent)},YM=function(o){return o.isDefaultPrevented===pt||o.isDefaultPrevented===Ge},$i=function(o){return Y(o.preventDefault)||wf(o)},k_=function(o,s){var d=s??{};for(var m in o)Vr(M_,m)||(d[m]=o[m]);return ae(d.composedPath)&&(d.composedPath=function(){return o.composedPath()}),d},Hy=function(o,s,d,m){var x,T=k_(s,m);return T.type=o,Y(T.target)&&(T.target=(x=T.srcElement)!==null&&x!==void 0?x:d),$i(s)&&(T.preventDefault=function(){T.defaultPrevented=!0,T.isDefaultPrevented=pt,te(s.preventDefault)?s.preventDefault():wf(s)&&(s.returnValue=!1)},T.stopPropagation=function(){T.cancelBubble=!0,T.isPropagationStopped=pt,te(s.stopPropagation)?s.stopPropagation():wf(s)&&(s.cancelBubble=!0)},T.stopImmediatePropagation=function(){T.isImmediatePropagationStopped=pt,T.stopPropagation()},YM(T)||(T.isDefaultPrevented=T.defaultPrevented===!0?pt:Ge,T.isPropagationStopped=T.cancelBubble===!0?pt:Ge,T.isImmediatePropagationStopped=Ge)),T},rx="mce-data-",fn=/^(?:mouse|contextmenu)|click/,Vy=function(o,s,d,m){o.addEventListener?o.addEventListener(s,d,m||!1):o.attachEvent&&o.attachEvent("on"+s,d)},Jv=function(o,s,d,m){o.removeEventListener?o.removeEventListener(s,d,m||!1):o.detachEvent&&o.detachEvent("on"+s,d)},Qv=function(o){return ae(o)&&fn.test(o.type)},dg=function(o,s){var d=Hy(o.type,o,document,s);if(Qv(o)&&X(o.pageX)&&!X(o.clientX)){var m=d.target.ownerDocument||document,x=m.documentElement,T=m.body,O=d;O.pageX=o.clientX+(x&&x.scrollLeft||T&&T.scrollLeft||0)-(x&&x.clientLeft||T&&T.clientLeft||0),O.pageY=o.clientY+(x&&x.scrollTop||T&&T.scrollTop||0)-(x&&x.clientTop||T&&T.clientTop||0)}return X(d.metaKey)&&(d.metaKey=!1),d},hg=function(o,s,d){var m=o.document,x={type:"ready"};if(d.domLoaded){s(x);return}var T=function(){return m.readyState==="complete"||m.readyState==="interactive"&&m.body},O=function(){Jv(o,"DOMContentLoaded",O),Jv(o,"load",O),d.domLoaded||(d.domLoaded=!0,s(x)),o=null};T()?O():Vy(o,"DOMContentLoaded",O),d.domLoaded||Vy(o,"load",O)},Hp=function(){function o(){this.domLoaded=!1,this.events={},this.count=1,this.expando=rx+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return o.prototype.bind=function(s,d,m,x){var T=this,O,B,V,Z,pe,ge,ve,Ae=window,De=function(Ne){T.executeHandlers(dg(Ne||Ae.event),O)};if(!(!s||s.nodeType===3||s.nodeType===8)){s[T.expando]?O=s[T.expando]:(O=T.count++,s[T.expando]=O,T.events[O]={}),x=x||s;var Ie=d.split(" ");for(V=Ie.length;V--;){if(Z=Ie[V],ge=De,pe=ve=!1,Z==="DOMContentLoaded"&&(Z="ready"),T.domLoaded&&Z==="ready"&&s.readyState==="complete"){m.call(x,dg({type:Z}));continue}T.hasMouseEnterLeave||(pe=T.mouseEnterLeave[Z],pe&&(ge=function(Ne){var Qe=Ne.currentTarget,Xe=Ne.relatedTarget;if(Xe&&Qe.contains)Xe=Qe.contains(Xe);else for(;Xe&&Xe!==Qe;)Xe=Xe.parentNode;Xe||(Ne=dg(Ne||Ae.event),Ne.type=Ne.type==="mouseout"?"mouseleave":"mouseenter",Ne.target=Qe,T.executeHandlers(Ne,O))})),!T.hasFocusIn&&(Z==="focusin"||Z==="focusout")&&(ve=!0,pe=Z==="focusin"?"focus":"blur",ge=function(Ne){Ne=dg(Ne||Ae.event),Ne.type=Ne.type==="focus"?"focusin":"focusout",T.executeHandlers(Ne,O)}),B=T.events[O][Z],B?Z==="ready"&&T.domLoaded?m(dg({type:Z})):B.push({func:m,scope:x}):(T.events[O][Z]=B=[{func:m,scope:x}],B.fakeName=pe,B.capture=ve,B.nativeHandler=ge,Z==="ready"?hg(s,ge,T):Vy(s,pe||Z,ge,ve))}return s=B=null,m}},o.prototype.unbind=function(s,d,m){var x,T,O,B,V;if(!s||s.nodeType===3||s.nodeType===8)return this;var Z=s[this.expando];if(Z){if(V=this.events[Z],d){var pe=d.split(" ");for(T=pe.length;T--;)if(B=pe[T],x=V[B],x){if(m){for(O=x.length;O--;)if(x[O].func===m){var ge=x.nativeHandler,ve=x.fakeName,Ae=x.capture;x=x.slice(0,O).concat(x.slice(O+1)),x.nativeHandler=ge,x.fakeName=ve,x.capture=Ae,V[B]=x}}(!m||x.length===0)&&(delete V[B],Jv(s,x.fakeName||B,x.nativeHandler,x.capture))}}else wn(V,function(De,Ie){Jv(s,De.fakeName||Ie,De.nativeHandler,De.capture)}),V={};for(B in V)if(Vr(V,B))return this;delete this.events[Z];try{delete s[this.expando]}catch{s[this.expando]=null}}return this},o.prototype.fire=function(s,d,m){var x;if(!s||s.nodeType===3||s.nodeType===8)return this;var T=dg({type:d,target:s},m);do x=s[this.expando],x&&this.executeHandlers(T,x),s=s.parentNode||s.ownerDocument||s.defaultView||s.parentWindow;while(s&&!T.isPropagationStopped());return this},o.prototype.clean=function(s){var d,m;if(!s||s.nodeType===3||s.nodeType===8)return this;if(s[this.expando]&&this.unbind(s),s.getElementsByTagName||(s=s.document),s&&s.getElementsByTagName)for(this.unbind(s),m=s.getElementsByTagName("*"),d=m.length;d--;)s=m[d],s[this.expando]&&this.unbind(s);return this},o.prototype.destroy=function(){this.events={}},o.prototype.cancel=function(s){return s&&(s.preventDefault(),s.stopImmediatePropagation()),!1},o.prototype.executeHandlers=function(s,d){var m=this.events[d],x=m&&m[s.type];if(x)for(var T=0,O=x.length;T<O;T++){var B=x[T];if(B&&B.func.call(B.scope,s)===!1&&s.preventDefault(),s.isImmediatePropagationStopped())return}},o.Event=new o,o}(),Ga,ta,Gh,da,ec,D_,_f,ox,Ol,od,Xh,qu,ix,As,$u,Zv,L5,jy,du="sizzle"+-new Date,ir=window.document,Fc=0,B5=0,KM=R_(),e0=R_(),JM=R_(),Uy=function(o,s){return o===s&&(od=!0),0},Wd="undefined",pg=1<<31,A_={}.hasOwnProperty,id=[],z5=id.pop,mg=id.push,qd=id.push,Vp=id.slice,gg=id.indexOf||function(o){for(var s=0,d=this.length;s<d;s++)if(this[s]===o)return s;return-1},QM="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tu="[\\x20\\t\\r\\n\\f]",jp="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vg="\\["+tu+"*("+jp+")(?:"+tu+"*([*^$|!~]?=)"+tu+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+jp+"))|)"+tu+"*\\]",tc=":("+jp+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+vg+")*)|.*)\\)|)",Gu=new RegExp("^"+tu+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tu+"+$","g"),F5=new RegExp("^"+tu+"*,"+tu+"*"),H5=new RegExp("^"+tu+"*([>+~]|"+tu+")"+tu+"*"),V5=new RegExp("="+tu+`*([^\\]'"]*?)`+tu+"*\\]","g"),ZM=new RegExp(tc),ad=new RegExp("^"+jp+"$"),ax={ID:new RegExp("^#("+jp+")"),CLASS:new RegExp("^\\.("+jp+")"),TAG:new RegExp("^("+jp+"|[*])"),ATTR:new RegExp("^"+vg),PSEUDO:new RegExp("^"+tc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tu+"*(even|odd|(([+-]|)(\\d*)n|)"+tu+"*(?:([+-]|)"+tu+"*(\\d+)|))"+tu+"*\\)|)","i"),bool:new RegExp("^(?:"+QM+")$","i"),needsContext:new RegExp("^"+tu+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tu+"*((?:-\\d)?\\d*)"+tu+"*\\)|)(?=[^-]|$)","i")},t0=/^(?:input|select|textarea|button)$/i,j5=/^h\d$/i,E_=/^[^{]+\{\s*\[native \w/,ek=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,O_=/[+~]/,I_=/'|\\/g,Up=new RegExp("\\\\([\\da-f]{1,6}"+tu+"?|("+tu+")|.)","ig"),Wp=function(o,s,d){var m="0x"+s-65536;return m!==m||d?s:m<0?String.fromCharCode(m+65536):String.fromCharCode(m>>10|55296,m&1023|56320)};try{qd.apply(id=Vp.call(ir.childNodes),ir.childNodes),id[ir.childNodes.length].nodeType}catch{qd={apply:id.length?function(o,s){mg.apply(o,Vp.call(s))}:function(o,s){for(var d=o.length,m=0;o[d++]=s[m++];);o.length=d-1}}}var Hi=function(o,s,d,m){var x,T,O,B,V,Z,pe,ge,ve,Ae;if((s?s.ownerDocument||s:ir)!==qu&&Xh(s),s=s||qu,d=d||[],!o||typeof o!="string")return d;if((B=s.nodeType)!==1&&B!==9)return[];if(As&&!m){if(x=ek.exec(o))if(O=x[1]){if(B===9)if(T=s.getElementById(O),T&&T.parentNode){if(T.id===O)return d.push(T),d}else return d;else if(s.ownerDocument&&(T=s.ownerDocument.getElementById(O))&&jy(s,T)&&T.id===O)return d.push(T),d}else{if(x[2])return qd.apply(d,s.getElementsByTagName(o)),d;if((O=x[3])&&Ga.getElementsByClassName)return qd.apply(d,s.getElementsByClassName(O)),d}if(Ga.qsa&&(!$u||!$u.test(o))){if(ge=pe=du,ve=s,Ae=B===9&&o,B===1&&s.nodeName.toLowerCase()!=="object"){for(Z=ec(o),(pe=s.getAttribute("id"))?ge=pe.replace(I_,"\\$&"):s.setAttribute("id",ge),ge="[id='"+ge+"'] ",V=Z.length;V--;)Z[V]=ge+Wy(Z[V]);ve=O_.test(o)&&Sf(s.parentNode)||s,Ae=Z.join(",")}if(Ae)try{return qd.apply(d,ve.querySelectorAll(Ae)),d}catch{}finally{pe||s.removeAttribute("id")}}}return _f(o.replace(Gu,"$1"),s,d,m)};function R_(){var o=[];function s(d,m){return o.push(d+" ")>ta.cacheLength&&delete s[o.shift()],s[d+" "]=m}return s}function Hc(o){return o[du]=!0,o}function P_(o,s){var d=s&&o,m=d&&o.nodeType===1&&s.nodeType===1&&(~s.sourceIndex||pg)-(~o.sourceIndex||pg);if(m)return m;if(d){for(;d=d.nextSibling;)if(d===s)return-1}return o?1:-1}function U5(o){return function(s){var d=s.nodeName.toLowerCase();return d==="input"&&s.type===o}}function W5(o){return function(s){var d=s.nodeName.toLowerCase();return(d==="input"||d==="button")&&s.type===o}}function ll(o){return Hc(function(s){return s=+s,Hc(function(d,m){for(var x,T=o([],d.length,s),O=T.length;O--;)d[x=T[O]]&&(d[x]=!(m[x]=d[x]))})})}function Sf(o){return o&&typeof o.getElementsByTagName!==Wd&&o}Ga=Hi.support={},da=Hi.isXML=function(o){var s=o&&(o.ownerDocument||o).documentElement;return s?s.nodeName!=="HTML":!1},Xh=Hi.setDocument=function(o){var s,d=o?o.ownerDocument||o:ir,m=d.defaultView;function x(T){try{return T.top}catch{}return null}return d===qu||d.nodeType!==9||!d.documentElement?qu:(qu=d,ix=d.documentElement,As=!da(d),m&&m!==x(m)&&(m.addEventListener?m.addEventListener("unload",function(){Xh()},!1):m.attachEvent&&m.attachEvent("onunload",function(){Xh()})),Ga.attributes=!0,Ga.getElementsByTagName=!0,Ga.getElementsByClassName=E_.test(d.getElementsByClassName),Ga.getById=!0,ta.find.ID=function(T,O){if(typeof O.getElementById!==Wd&&As){var B=O.getElementById(T);return B&&B.parentNode?[B]:[]}},ta.filter.ID=function(T){var O=T.replace(Up,Wp);return function(B){return B.getAttribute("id")===O}},ta.find.TAG=Ga.getElementsByTagName?function(T,O){if(typeof O.getElementsByTagName!==Wd)return O.getElementsByTagName(T)}:function(T,O){var B,V=[],Z=0,pe=O.getElementsByTagName(T);if(T==="*"){for(;B=pe[Z++];)B.nodeType===1&&V.push(B);return V}return pe},ta.find.CLASS=Ga.getElementsByClassName&&function(T,O){if(As)return O.getElementsByClassName(T)},Zv=[],$u=[],Ga.disconnectedMatch=!0,$u=$u.length&&new RegExp($u.join("|")),Zv=Zv.length&&new RegExp(Zv.join("|")),s=E_.test(ix.compareDocumentPosition),jy=s||E_.test(ix.contains)?function(T,O){var B=T.nodeType===9?T.documentElement:T,V=O&&O.parentNode;return T===V||!!(V&&V.nodeType===1&&(B.contains?B.contains(V):T.compareDocumentPosition&&T.compareDocumentPosition(V)&16))}:function(T,O){if(O){for(;O=O.parentNode;)if(O===T)return!0}return!1},Uy=s?function(T,O){if(T===O)return od=!0,0;var B=!T.compareDocumentPosition-!O.compareDocumentPosition;return B||(B=(T.ownerDocument||T)===(O.ownerDocument||O)?T.compareDocumentPosition(O):1,B&1||!Ga.sortDetached&&O.compareDocumentPosition(T)===B?T===d||T.ownerDocument===ir&&jy(ir,T)?-1:O===d||O.ownerDocument===ir&&jy(ir,O)?1:Ol?gg.call(Ol,T)-gg.call(Ol,O):0:B&4?-1:1)}:function(T,O){if(T===O)return od=!0,0;var B,V=0,Z=T.parentNode,pe=O.parentNode,ge=[T],ve=[O];if(!Z||!pe)return T===d?-1:O===d?1:Z?-1:pe?1:Ol?gg.call(Ol,T)-gg.call(Ol,O):0;if(Z===pe)return P_(T,O);for(B=T;B=B.parentNode;)ge.unshift(B);for(B=O;B=B.parentNode;)ve.unshift(B);for(;ge[V]===ve[V];)V++;return V?P_(ge[V],ve[V]):ge[V]===ir?-1:ve[V]===ir?1:0},d)},Hi.matches=function(o,s){return Hi(o,null,null,s)},Hi.matchesSelector=function(o,s){if((o.ownerDocument||o)!==qu&&Xh(o),s=s.replace(V5,"='$1']"),Ga.matchesSelector&&As&&(!Zv||!Zv.test(s))&&(!$u||!$u.test(s)))try{var d=L5.call(o,s);if(d||Ga.disconnectedMatch||o.document&&o.document.nodeType!==11)return d}catch{}return Hi(s,qu,null,[o]).length>0},Hi.contains=function(o,s){return(o.ownerDocument||o)!==qu&&Xh(o),jy(o,s)},Hi.attr=function(o,s){(o.ownerDocument||o)!==qu&&Xh(o);var d=ta.attrHandle[s.toLowerCase()],m=d&&A_.call(ta.attrHandle,s.toLowerCase())?d(o,s,!As):void 0;return m!==void 0?m:Ga.attributes||!As?o.getAttribute(s):(m=o.getAttributeNode(s))&&m.specified?m.value:null},Hi.error=function(o){throw new Error("Syntax error, unrecognized expression: "+o)},Hi.uniqueSort=function(o){var s,d=[],m=0,x=0;if(od=!Ga.detectDuplicates,Ol=!Ga.sortStable&&o.slice(0),o.sort(Uy),od){for(;s=o[x++];)s===o[x]&&(m=d.push(x));for(;m--;)o.splice(d[m],1)}return Ol=null,o},Gh=Hi.getText=function(o){var s,d="",m=0,x=o.nodeType;if(x){if(x===1||x===9||x===11){if(typeof o.textContent=="string")return o.textContent;for(o=o.firstChild;o;o=o.nextSibling)d+=Gh(o)}else if(x===3||x===4)return o.nodeValue}else for(;s=o[m++];)d+=Gh(s);return d},ta=Hi.selectors={cacheLength:50,createPseudo:Hc,match:ax,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(o){return o[1]=o[1].replace(Up,Wp),o[3]=(o[3]||o[4]||o[5]||"").replace(Up,Wp),o[2]==="~="&&(o[3]=" "+o[3]+" "),o.slice(0,4)},CHILD:function(o){return o[1]=o[1].toLowerCase(),o[1].slice(0,3)==="nth"?(o[3]||Hi.error(o[0]),o[4]=+(o[4]?o[5]+(o[6]||1):2*(o[3]==="even"||o[3]==="odd")),o[5]=+(o[7]+o[8]||o[3]==="odd")):o[3]&&Hi.error(o[0]),o},PSEUDO:function(o){var s,d=!o[6]&&o[2];return ax.CHILD.test(o[0])?null:(o[3]?o[2]=o[4]||o[5]||"":d&&ZM.test(d)&&(s=ec(d,!0))&&(s=d.indexOf(")",d.length-s)-d.length)&&(o[0]=o[0].slice(0,s),o[2]=d.slice(0,s)),o.slice(0,3))}},filter:{TAG:function(o){var s=o.replace(Up,Wp).toLowerCase();return o==="*"?function(){return!0}:function(d){return d.nodeName&&d.nodeName.toLowerCase()===s}},CLASS:function(o){var s=KM[o+" "];return s||(s=new RegExp("(^|"+tu+")"+o+"("+tu+"|$)"))&&KM(o,function(d){return s.test(typeof d.className=="string"&&d.className||typeof d.getAttribute!==Wd&&d.getAttribute("class")||"")})},ATTR:function(o,s,d){return function(m){var x=Hi.attr(m,o);return x==null?s==="!=":s?(x+="",s==="="?x===d:s==="!="?x!==d:s==="^="?d&&x.indexOf(d)===0:s==="*="?d&&x.indexOf(d)>-1:s==="$="?d&&x.slice(-d.length)===d:s==="~="?(" "+x+" ").indexOf(d)>-1:s==="|="?x===d||x.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(o,s,d,m,x){var T=o.slice(0,3)!=="nth",O=o.slice(-4)!=="last",B=s==="of-type";return m===1&&x===0?function(V){return!!V.parentNode}:function(V,Z,pe){var ge,ve,Ae,De,Ie,Ne,Qe=T!==O?"nextSibling":"previousSibling",Xe=V.parentNode,at=B&&V.nodeName.toLowerCase(),xt=!pe&&!B;if(Xe){if(T){for(;Qe;){for(Ae=V;Ae=Ae[Qe];)if(B?Ae.nodeName.toLowerCase()===at:Ae.nodeType===1)return!1;Ne=Qe=o==="only"&&!Ne&&"nextSibling"}return!0}if(Ne=[O?Xe.firstChild:Xe.lastChild],O&&xt){for(ve=Xe[du]||(Xe[du]={}),ge=ve[o]||[],Ie=ge[0]===Fc&&ge[1],De=ge[0]===Fc&&ge[2],Ae=Ie&&Xe.childNodes[Ie];Ae=++Ie&&Ae&&Ae[Qe]||(De=Ie=0)||Ne.pop();)if(Ae.nodeType===1&&++De&&Ae===V){ve[o]=[Fc,Ie,De];break}}else if(xt&&(ge=(V[du]||(V[du]={}))[o])&&ge[0]===Fc)De=ge[1];else for(;(Ae=++Ie&&Ae&&Ae[Qe]||(De=Ie=0)||Ne.pop())&&!((B?Ae.nodeName.toLowerCase()===at:Ae.nodeType===1)&&++De&&(xt&&((Ae[du]||(Ae[du]={}))[o]=[Fc,De]),Ae===V)););return De-=x,De===m||De%m===0&&De/m>=0}}},PSEUDO:function(o,s){var d,m=ta.pseudos[o]||ta.setFilters[o.toLowerCase()]||Hi.error("unsupported pseudo: "+o);return m[du]?m(s):m.length>1?(d=[o,o,"",s],ta.setFilters.hasOwnProperty(o.toLowerCase())?Hc(function(x,T){for(var O,B=m(x,s),V=B.length;V--;)O=gg.call(x,B[V]),x[O]=!(T[O]=B[V])}):function(x){return m(x,0,d)}):m}},pseudos:{not:Hc(function(o){var s=[],d=[],m=D_(o.replace(Gu,"$1"));return m[du]?Hc(function(x,T,O,B){for(var V,Z=m(x,null,B,[]),pe=x.length;pe--;)(V=Z[pe])&&(x[pe]=!(T[pe]=V))}):function(x,T,O){return s[0]=x,m(s,null,O,d),s[0]=null,!d.pop()}}),has:Hc(function(o){return function(s){return Hi(o,s).length>0}}),contains:Hc(function(o){return o=o.replace(Up,Wp),function(s){return(s.textContent||s.innerText||Gh(s)).indexOf(o)>-1}}),lang:Hc(function(o){return ad.test(o||"")||Hi.error("unsupported lang: "+o),o=o.replace(Up,Wp).toLowerCase(),function(s){var d;do if(d=As?s.lang:s.getAttribute("xml:lang")||s.getAttribute("lang"))return d=d.toLowerCase(),d===o||d.indexOf(o+"-")===0;while((s=s.parentNode)&&s.nodeType===1);return!1}}),target:function(o){var s=window.location&&window.location.hash;return s&&s.slice(1)===o.id},root:function(o){return o===ix},focus:function(o){return o===qu.activeElement&&(!qu.hasFocus||qu.hasFocus())&&!!(o.type||o.href||~o.tabIndex)},enabled:function(o){return o.disabled===!1},disabled:function(o){return o.disabled===!0},checked:function(o){var s=o.nodeName.toLowerCase();return s==="input"&&!!o.checked||s==="option"&&!!o.selected},selected:function(o){return o.parentNode&&o.parentNode.selectedIndex,o.selected===!0},empty:function(o){for(o=o.firstChild;o;o=o.nextSibling)if(o.nodeType<6)return!1;return!0},parent:function(o){return!ta.pseudos.empty(o)},header:function(o){return j5.test(o.nodeName)},input:function(o){return t0.test(o.nodeName)},button:function(o){var s=o.nodeName.toLowerCase();return s==="input"&&o.type==="button"||s==="button"},text:function(o){var s;return o.nodeName.toLowerCase()==="input"&&o.type==="text"&&((s=o.getAttribute("type"))==null||s.toLowerCase()==="text")},first:ll(function(){return[0]}),last:ll(function(o,s){return[s-1]}),eq:ll(function(o,s,d){return[d<0?d+s:d]}),even:ll(function(o,s){for(var d=0;d<s;d+=2)o.push(d);return o}),odd:ll(function(o,s){for(var d=1;d<s;d+=2)o.push(d);return o}),lt:ll(function(o,s,d){for(var m=d<0?d+s:d;--m>=0;)o.push(m);return o}),gt:ll(function(o,s,d){for(var m=d<0?d+s:d;++m<s;)o.push(m);return o})}},ta.pseudos.nth=ta.pseudos.eq,Ct(["radio","checkbox","file","password","image"],function(o){ta.pseudos[o]=U5(o)}),Ct(["submit","reset"],function(o){ta.pseudos[o]=W5(o)});function N_(){}N_.prototype=ta.filters=ta.pseudos,ta.setFilters=new N_,ec=Hi.tokenize=function(o,s){var d,m,x,T,O,B,V,Z=e0[o+" "];if(Z)return s?0:Z.slice(0);for(O=o,B=[],V=ta.preFilter;O;){(!d||(m=F5.exec(O)))&&(m&&(O=O.slice(m[0].length)||O),B.push(x=[])),d=!1,(m=H5.exec(O))&&(d=m.shift(),x.push({value:d,type:m[0].replace(Gu," ")}),O=O.slice(d.length));for(T in ta.filter)ta.filter.hasOwnProperty(T)&&(m=ax[T].exec(O))&&(!V[T]||(m=V[T](m)))&&(d=m.shift(),x.push({value:d,type:T,matches:m}),O=O.slice(d.length));if(!d)break}return s?O.length:O?Hi.error(o):e0(o,B).slice(0)};function Wy(o){for(var s=0,d=o.length,m="";s<d;s++)m+=o[s].value;return m}function n0(o,s,d){var m=s.dir,x=d&&m==="parentNode",T=B5++;return s.first?function(O,B,V){for(;O=O[m];)if(O.nodeType===1||x)return o(O,B,V)}:function(O,B,V){var Z,pe,ge=[Fc,T];if(V){for(;O=O[m];)if((O.nodeType===1||x)&&o(O,B,V))return!0}else for(;O=O[m];)if(O.nodeType===1||x){if(pe=O[du]||(O[du]={}),(Z=pe[m])&&Z[0]===Fc&&Z[1]===T)return ge[2]=Z[2];if(pe[m]=ge,ge[2]=o(O,B,V))return!0}}}function L_(o){return o.length>1?function(s,d,m){for(var x=o.length;x--;)if(!o[x](s,d,m))return!1;return!0}:o[0]}function tk(o,s,d){for(var m=0,x=s.length;m<x;m++)Hi(o,s[m],d);return d}function qp(o,s,d,m,x){for(var T,O=[],B=0,V=o.length,Z=s!=null;B<V;B++)(T=o[B])&&(!d||d(T,m,x))&&(O.push(T),Z&&s.push(B));return O}function B_(o,s,d,m,x,T){return m&&!m[du]&&(m=B_(m)),x&&!x[du]&&(x=B_(x,T)),Hc(function(O,B,V,Z){var pe,ge,ve,Ae=[],De=[],Ie=B.length,Ne=O||tk(s||"*",V.nodeType?[V]:V,[]),Qe=o&&(O||!s)?qp(Ne,Ae,o,V,Z):Ne,Xe=d?x||(O?o:Ie||m)?[]:B:Qe;if(d&&d(Qe,Xe,V,Z),m)for(pe=qp(Xe,De),m(pe,[],V,Z),ge=pe.length;ge--;)(ve=pe[ge])&&(Xe[De[ge]]=!(Qe[De[ge]]=ve));if(O){if(x||o){if(x){for(pe=[],ge=Xe.length;ge--;)(ve=Xe[ge])&&pe.push(Qe[ge]=ve);x(null,Xe=[],pe,Z)}for(ge=Xe.length;ge--;)(ve=Xe[ge])&&(pe=x?gg.call(O,ve):Ae[ge])>-1&&(O[pe]=!(B[pe]=ve))}}else Xe=qp(Xe===B?Xe.splice(Ie,Xe.length):Xe),x?x(null,B,Xe,Z):qd.apply(B,Xe)})}function z_(o){for(var s,d,m,x=o.length,T=ta.relative[o[0].type],O=T||ta.relative[" "],B=T?1:0,V=n0(function(ge){return ge===s},O,!0),Z=n0(function(ge){return gg.call(s,ge)>-1},O,!0),pe=[function(ge,ve,Ae){var De=!T&&(Ae||ve!==ox)||((s=ve).nodeType?V(ge,ve,Ae):Z(ge,ve,Ae));return s=null,De}];B<x;B++)if(d=ta.relative[o[B].type])pe=[n0(L_(pe),d)];else{if(d=ta.filter[o[B].type].apply(null,o[B].matches),d[du]){for(m=++B;m<x&&!ta.relative[o[m].type];m++);return B_(B>1&&L_(pe),B>1&&Wy(o.slice(0,B-1).concat({value:o[B-2].type===" "?"*":""})).replace(Gu,"$1"),d,B<m&&z_(o.slice(B,m)),m<x&&z_(o=o.slice(m)),m<x&&Wy(o))}pe.push(d)}return L_(pe)}function ux(o,s){var d=s.length>0,m=o.length>0,x=function(T,O,B,V,Z){var pe,ge,ve,Ae=0,De="0",Ie=T&&[],Ne=[],Qe=ox,Xe=T||m&&ta.find.TAG("*",Z),at=Fc+=Qe==null?1:Math.random()||.1,xt=Xe.length;for(Z&&(ox=O!==qu&&O);De!==xt&&(pe=Xe[De])!=null;De++){if(m&&pe){for(ge=0;ve=o[ge++];)if(ve(pe,O,B)){V.push(pe);break}Z&&(Fc=at)}d&&((pe=!ve&&pe)&&Ae--,T&&Ie.push(pe))}if(Ae+=De,d&&De!==Ae){for(ge=0;ve=s[ge++];)ve(Ie,Ne,O,B);if(T){if(Ae>0)for(;De--;)Ie[De]||Ne[De]||(Ne[De]=z5.call(V));Ne=qp(Ne)}qd.apply(V,Ne),Z&&!T&&Ne.length>0&&Ae+s.length>1&&Hi.uniqueSort(V)}return Z&&(Fc=at,ox=Qe),Ie};return d?Hc(x):x}D_=Hi.compile=function(o,s){var d,m=[],x=[],T=JM[o+" "];if(!T){for(s||(s=ec(o)),d=s.length;d--;)T=z_(s[d]),T[du]?m.push(T):x.push(T);T=JM(o,ux(x,m)),T.selector=o}return T},_f=Hi.select=function(o,s,d,m){var x,T,O,B,V,Z=typeof o=="function"&&o,pe=!m&&ec(o=Z.selector||o);if(d=d||[],pe.length===1){if(T=pe[0]=pe[0].slice(0),T.length>2&&(O=T[0]).type==="ID"&&Ga.getById&&s.nodeType===9&&As&&ta.relative[T[1].type]){if(s=(ta.find.ID(O.matches[0].replace(Up,Wp),s)||[])[0],s)Z&&(s=s.parentNode);else return d;o=o.slice(T.shift().value.length)}for(x=ax.needsContext.test(o)?0:T.length;x--&&(O=T[x],!ta.relative[B=O.type]);)if((V=ta.find[B])&&(m=V(O.matches[0].replace(Up,Wp),O_.test(T[0].type)&&Sf(s.parentNode)||s))){if(T.splice(x,1),o=m.length&&Wy(T),!o)return qd.apply(d,m),d;break}}return(Z||D_(o,pe))(m,s,!As,d,O_.test(o)&&Sf(s.parentNode)||s),d},Ga.sortStable=du.split("").sort(Uy).join("")===du,Ga.detectDuplicates=!!od,Xh(),Ga.sortDetached=!0;var sx=document,yg=Array.prototype.push,nk=Array.prototype.slice,Xu=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ud=Hp.Event,hu=qt.makeMap("children,contents,next,prev"),cl=function(o){return typeof o<"u"},Yh=function(o){return typeof o=="string"},$d=function(o){return o&&o===o.window},F_=function(o,s){s=s||sx;var d=s.createElement("div"),m=s.createDocumentFragment();d.innerHTML=o;for(var x;x=d.firstChild;)m.appendChild(x);return m},nc=function(o,s,d,m){var x;if(Yh(s))s=F_(s,nu(o[0]));else if(s.length&&!s.nodeType){if(s=ho.makeArray(s),m)for(x=s.length-1;x>=0;x--)nc(o,s[x],d,m);else for(x=0;x<s.length;x++)nc(o,s[x],d,m);return o}if(s.nodeType)for(x=o.length;x--;)d.call(o[x],s);return o},r0=function(o,s){return o&&s&&(" "+o.className+" ").indexOf(" "+s+" ")!==-1},rk=function(o,s,d){var m,x;return s=ho(s)[0],o.each(function(){var T=this;(!d||m!==T.parentNode)&&(m=T.parentNode,x=s.cloneNode(!1),T.parentNode.insertBefore(x,T)),x.appendChild(T)}),o},q5=qt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),$5=qt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),G5={for:"htmlFor",class:"className",readonly:"readOnly"},X5={float:"cssFloat"},H_={},lx={},kc=function(o,s){return new ho.fn.init(o,s)},ok=function(o,s){var d;if(s.indexOf)return s.indexOf(o);for(d=s.length;d--;)if(s[d]===o)return d;return-1},$p=/^\s*|\s*$/g,qy=function(o){return o==null?"":(""+o).replace($p,"")},sd=function(o,s){var d,m,x,T;if(o)if(d=o.length,d===void 0){for(m in o)if(o.hasOwnProperty(m)&&(T=o[m],s.call(T,m,T)===!1))break}else for(x=0;x<d&&(T=o[x],s.call(T,x,T)!==!1);x++);return o},Vc=function(o,s){var d=[];return sd(o,function(m,x){s(x,m)&&d.push(x)}),d},nu=function(o){return o?o.nodeType===9?o:o.ownerDocument:sx};kc.fn=kc.prototype={constructor:kc,selector:"",context:null,length:0,init:function(o,s){var d=this,m,x;if(!o)return d;if(o.nodeType)return d.context=d[0]=o,d.length=1,d;if(s&&s.nodeType)d.context=s;else{if(s)return ho(o).attr(s);d.context=s=document}if(Yh(o))if(d.selector=o,o.charAt(0)==="<"&&o.charAt(o.length-1)===">"&&o.length>=3?m=[null,o,null]:m=Xu.exec(o),m)if(m[1])for(x=F_(o,nu(s)).firstChild;x;)yg.call(d,x),x=x.nextSibling;else{if(x=nu(s).getElementById(m[2]),!x)return d;if(x.id!==m[2])return d.find(o);d.length=1,d[0]=x}else return ho(s).find(o);else this.add(o,!1);return d},toArray:function(){return qt.toArray(this)},add:function(o,s){var d=this,m,x;if(Yh(o))return d.add(ho(o));if(s!==!1)for(m=ho.unique(d.toArray().concat(ho.makeArray(o))),d.length=m.length,x=0;x<m.length;x++)d[x]=m[x];else yg.apply(d,ho.makeArray(o));return d},attr:function(o,s){var d=this,m;if(typeof o=="object")sd(o,function(x,T){d.attr(x,T)});else if(cl(s))this.each(function(){var x;if(this.nodeType===1){if(x=H_[o],x&&x.set){x.set(this,s);return}s===null?this.removeAttribute(o,2):this.setAttribute(o,s,2)}});else{if(d[0]&&d[0].nodeType===1){if(m=H_[o],m&&m.get)return m.get(d[0],o);if($5[o])return d.prop(o)?o:void 0;s=d[0].getAttribute(o,2),s===null&&(s=void 0)}return s}return d},removeAttr:function(o){return this.attr(o,null)},prop:function(o,s){var d=this;if(o=G5[o]||o,typeof o=="object")sd(o,function(m,x){d.prop(m,x)});else if(cl(s))this.each(function(){this.nodeType===1&&(this[o]=s)});else return d[0]&&d[0].nodeType&&o in d[0]?d[0][o]:s;return d},css:function(o,s){var d=this,m,x,T=function(B){return B.replace(/-(\D)/g,function(V,Z){return Z.toUpperCase()})},O=function(B){return B.replace(/[A-Z]/g,function(V){return"-"+V})};if(typeof o=="object")sd(o,function(B,V){d.css(B,V)});else if(cl(s))o=T(o),typeof s=="number"&&!q5[o]&&(s=s.toString()+"px"),d.each(function(){var B=this.style;if(x=lx[o],x&&x.set){x.set(this,s);return}try{this.style[X5[o]||o]=s}catch{}(s===null||s==="")&&(B.removeProperty?B.removeProperty(O(o)):B.removeAttribute(o))});else{if(m=d[0],x=lx[o],x&&x.get)return x.get(m);if(m.ownerDocument.defaultView)try{return m.ownerDocument.defaultView.getComputedStyle(m,null).getPropertyValue(O(o))}catch{return}else return m.currentStyle?m.currentStyle[T(o)]:""}return d},remove:function(){for(var o=this,s,d=this.length;d--;)s=o[d],ud.clean(s),s.parentNode&&s.parentNode.removeChild(s);return this},empty:function(){for(var o=this,s,d=this.length;d--;)for(s=o[d];s.firstChild;)s.removeChild(s.firstChild);return this},html:function(o){var s=this,d;if(cl(o)){d=s.length;try{for(;d--;)s[d].innerHTML=o}catch{ho(s[d]).empty().append(o)}return s}return s[0]?s[0].innerHTML:""},text:function(o){var s=this,d;if(cl(o)){for(d=s.length;d--;)"innerText"in s[d]?s[d].innerText=o:s[0].textContent=o;return s}return s[0]?s[0].innerText||s[0].textContent:""},append:function(){return nc(this,arguments,function(o){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(o)})},prepend:function(){return nc(this,arguments,function(o){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(o,this.firstChild)},!0)},before:function(){var o=this;return o[0]&&o[0].parentNode?nc(o,arguments,function(s){this.parentNode.insertBefore(s,this)}):o},after:function(){var o=this;return o[0]&&o[0].parentNode?nc(o,arguments,function(s){this.parentNode.insertBefore(s,this.nextSibling)},!0):o},appendTo:function(o){return ho(o).append(this),this},prependTo:function(o){return ho(o).prepend(this),this},replaceWith:function(o){return this.before(o).remove()},wrap:function(o){return rk(this,o)},wrapAll:function(o){return rk(this,o,!0)},wrapInner:function(o){return this.each(function(){ho(this).contents().wrapAll(o)}),this},unwrap:function(){return this.parent().each(function(){ho(this).replaceWith(this.childNodes)})},clone:function(){var o=[];return this.each(function(){o.push(this.cloneNode(!0))}),ho(o)},addClass:function(o){return this.toggleClass(o,!0)},removeClass:function(o){return this.toggleClass(o,!1)},toggleClass:function(o,s){var d=this;return typeof o!="string"||(o.indexOf(" ")!==-1?sd(o.split(" "),function(){d.toggleClass(this,s)}):d.each(function(m,x){var T=r0(x,o);if(T!==s){var O=x.className;T?x.className=qy((" "+O+" ").replace(" "+o+" "," ")):x.className+=O?" "+o:o}})),d},hasClass:function(o){return r0(this[0],o)},each:function(o){return sd(this,o)},on:function(o,s){return this.each(function(){ud.bind(this,o,s)})},off:function(o,s){return this.each(function(){ud.unbind(this,o,s)})},trigger:function(o){return this.each(function(){typeof o=="object"?ud.fire(this,o.type,o):ud.fire(this,o)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return ho(nk.apply(this,arguments))},eq:function(o){return o===-1?this.slice(o):this.slice(o,+o+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(o){var s,d,m=[];for(s=0,d=this.length;s<d;s++)ho.find(o,this[s],m);return ho(m)},filter:function(o){return ho(typeof o=="function"?Vc(this.toArray(),function(s,d){return o(d,s)}):ho.filter(o,this.toArray()))},closest:function(o){var s=[];return o instanceof ho&&(o=o[0]),this.each(function(d,m){for(;m;){if(typeof o=="string"&&ho(m).is(o)){s.push(m);break}else if(m===o){s.push(m);break}m=m.parentNode}}),ho(s)},offset:function(o){var s,d,m,x=0,T=0,O;return o?this.css(o):(s=this[0],s&&(d=s.ownerDocument,m=d.documentElement,s.getBoundingClientRect&&(O=s.getBoundingClientRect(),x=O.left+(m.scrollLeft||d.body.scrollLeft)-m.clientLeft,T=O.top+(m.scrollTop||d.body.scrollTop)-m.clientTop)),{left:x,top:T})},push:yg,sort:Array.prototype.sort,splice:Array.prototype.splice},qt.extend(kc,{extend:qt.extend,makeArray:function(o){return $d(o)||o.nodeType?[o]:qt.toArray(o)},inArray:ok,isArray:qt.isArray,each:sd,trim:qy,grep:Vc,find:Hi,expr:Hi.selectors,unique:Hi.uniqueSort,text:Hi.getText,contains:Hi.contains,filter:function(o,s,d){var m=s.length;for(d&&(o=":not("+o+")");m--;)s[m].nodeType!==1&&s.splice(m,1);return s.length===1?s=ho.find.matchesSelector(s[0],o)?[s[0]]:[]:s=ho.find.matches(o,s),s}});var Dc=function(o,s,d){var m=[],x=o[s];for(typeof d!="string"&&d instanceof ho&&(d=d[0]);x&&x.nodeType!==9&&!(d!==void 0&&(x===d||typeof d=="string"&&ho(x).is(d)));)x.nodeType===1&&m.push(x),x=x[s];return m},Gp=function(o,s,d,m){var x=[];for(m instanceof ho&&(m=m[0]);o;o=o[s])if(!(d&&o.nodeType!==d)){if(m!==void 0&&(o===m||typeof m=="string"&&ho(o).is(m)))break;x.push(o)}return x},V_=function(o,s,d){for(o=o[s];o;o=o[s])if(o.nodeType===d)return o;return null};sd({parent:function(o){var s=o.parentNode;return s&&s.nodeType!==11?s:null},parents:function(o){return Dc(o,"parentNode")},next:function(o){return V_(o,"nextSibling",1)},prev:function(o){return V_(o,"previousSibling",1)},children:function(o){return Gp(o.firstChild,"nextSibling",1)},contents:function(o){return qt.toArray((o.nodeName==="iframe"?o.contentDocument||o.contentWindow.document:o).childNodes)}},function(o,s){kc.fn[o]=function(d){var m=this,x=[];m.each(function(){var O=s.call(x,this,d,x);O&&(ho.isArray(O)?x.push.apply(x,O):x.push(O))}),this.length>1&&(hu[o]||(x=ho.unique(x)),o.indexOf("parents")===0&&(x=x.reverse()));var T=ho(x);return d?T.filter(d):T}}),sd({parentsUntil:function(o,s){return Dc(o,"parentNode",s)},nextUntil:function(o,s){return Gp(o,"nextSibling",1,s).slice(1)},prevUntil:function(o,s){return Gp(o,"previousSibling",1,s).slice(1)}},function(o,s){kc.fn[o]=function(d,m){var x=this,T=[];x.each(function(){var B=s.call(T,this,d,T);B&&(ho.isArray(B)?T.push.apply(T,B):T.push(B))}),this.length>1&&(T=ho.unique(T),(o.indexOf("parents")===0||o==="prevUntil")&&(T=T.reverse()));var O=ho(T);return m?O.filter(m):O}}),kc.fn.is=function(o){return!!o&&this.filter(o).length>0},kc.fn.init.prototype=kc.fn,kc.overrideDefaults=function(o){var s,d=function(m,x){return s=s||o(),arguments.length===0&&(m=s.element),x||(x=s.context),new d.fn.init(m,x)};return ho.extend(d,this),d},kc.attrHooks=H_,kc.cssHooks=lx;var ho=kc,$y=qt.each,Y5=qt.grep,cx=Cr.ie,fx=/^([a-z0-9],?)+$/i,K5=function(o,s,d){var m=s.keep_values,x={set:function(O,B,V){s.url_converter&&B!==null&&(B=s.url_converter.call(s.url_converter_scope||d(),B,V,O[0])),O.attr("data-mce-"+V,B).attr(V,B)},get:function(O,B){return O.attr("data-mce-"+B)||O.attr(B)}},T={style:{set:function(O,B){if(B!==null&&typeof B=="object"){O.css(B);return}m&&O.attr("data-mce-style",B),B!==null&&typeof B=="string"?(O.removeAttr("style"),O.css(o.parse(B))):O.attr("style",B)},get:function(O){var B=O.attr("data-mce-style")||O.attr("style");return B=o.serialize(o.parse(B),O[0].nodeName),B}}};return m&&(T.href=T.src=x),T},pu=function(o,s){var d=s.attr("style"),m=o.serialize(o.parse(d),s[0].nodeName);m||(m=null),s.attr("data-mce-style",m)},qs=function(o,s){var d=0,m,x;if(o)for(m=o.nodeType,o=o.previousSibling;o;o=o.previousSibling)x=o.nodeType,!(s&&x===3&&(x===m||!o.nodeValue.length))&&(d++,m=x);return d},na=function(o,s){s===void 0&&(s={});var d={},m=window,x={},T=0,O=!0,B=!0,V=gf.forElement(W.fromDom(o),{contentCssCors:s.contentCssCors,referrerPolicy:s.referrerPolicy}),Z=[],pe=s.schema?s.schema:Mo({}),ge=$h({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope},s.schema),ve=s.ownEvents?new Hp:Hp.Event,Ae=pe.getBlockElements(),De=ho.overrideDefaults(function(){return{context:o,element:db.getRoot()}}),Ie=function(ut){if(typeof ut=="string")return!!Ae[ut];if(ut){var Vt=ut.nodeType;if(Vt)return!!(Vt===1&&Ae[ut.nodeName])}return!1},Ne=function(ut){return ut&&o&&R(ut)?o.getElementById(ut):ut},Qe=function(ut){return De(typeof ut=="string"?Ne(ut):ut)},Xe=function(ut,Vt,In){var Hn,lo,fi=Qe(ut);return fi.length&&(Hn=bP[Vt],Hn&&Hn.get?lo=Hn.get(fi,Vt):lo=fi.attr(Vt)),typeof lo>"u"&&(lo=In||""),lo},at=function(ut){var Vt=Ne(ut);return Vt?Vt.attributes:[]},xt=function(ut,Vt,In){In===""&&(In=null);var Hn=Qe(ut),lo=Hn.attr(Vt);if(Hn.length){var fi=bP[Vt];fi&&fi.set?fi.set(Hn,In,Vt):Hn.attr(Vt,In),lo!==In&&s.onSetAttrib&&s.onSetAttrib({attrElm:Hn,attrName:Vt,attrValue:In})}},nt=function(ut,Vt){if(!cx||ut.nodeType!==1||Vt)return ut.cloneNode(Vt);var In=o.createElement(ut.nodeName);return $y(at(ut),function(Hn){xt(In,Hn.nodeName,Xe(ut,Hn.nodeName))}),In},Mt=function(){return s.root_element||o.body},Xt=function(ut){var Vt=Bh(ut);return{x:Vt.x,y:Vt.y,w:Vt.width,h:Vt.height}},Sn=function(ut,Vt){return Dy(o.body,Ne(ut),Vt)},Dr=function(ut,Vt,In){var Hn=R(Vt)?Qe(ut).css(Vt,In):Qe(ut).css(Vt);s.update_styles&&pu(ge,Hn)},Zn=function(ut,Vt){var In=Qe(ut).css(Vt);s.update_styles&&pu(ge,In)},pn=function(ut,Vt,In){var Hn=Qe(ut);return In?Hn.css(Vt):(Vt=Vt.replace(/-(\D)/g,function(lo,fi){return fi.toUpperCase()}),Vt==="float"&&(Vt=Cr.browser.isIE()?"styleFloat":"cssFloat"),Hn[0]&&Hn[0].style?Hn[0].style[Vt]:void 0)},jr=function(ut){var Vt,In;return ut=Ne(ut),Vt=pn(ut,"width"),In=pn(ut,"height"),Vt.indexOf("px")===-1&&(Vt=0),In.indexOf("px")===-1&&(In=0),{w:parseInt(Vt,10)||ut.offsetWidth||ut.clientWidth,h:parseInt(In,10)||ut.offsetHeight||ut.clientHeight}},An=function(ut){ut=Ne(ut);var Vt=Sn(ut),In=jr(ut);return{x:Vt.x,y:Vt.y,w:In.w,h:In.h}},Jn=function(ut,Vt){var In;if(!ut)return!1;if(!Array.isArray(ut)){if(Vt==="*")return ut.nodeType===1;if(fx.test(Vt)){var Hn=Vt.toLowerCase().split(/,/),lo=ut.nodeName.toLowerCase();for(In=Hn.length-1;In>=0;In--)if(Hn[In]===lo)return!0;return!1}if(ut.nodeType&&ut.nodeType!==1)return!1}var fi=Array.isArray(ut)?ut:[ut];return Hi(Vt,fi[0].ownerDocument||fi[0],null,fi).length>0},Dn=function(ut,Vt,In,Hn){var lo=[],fi,ma=Ne(ut);for(Hn=Hn===void 0,In=In||(Mt().nodeName!=="BODY"?Mt().parentNode:null),qt.is(Vt,"string")&&(fi=Vt,Vt==="*"?Vt=function(J0){return J0.nodeType===1}:Vt=function(J0){return Jn(J0,fi)});ma&&!(ma===In||Y(ma.nodeType)||ky(ma)||fo(ma));){if(!Vt||typeof Vt=="function"&&Vt(ma))if(Hn)lo.push(ma);else return[ma];ma=ma.parentNode}return Hn?lo:null},Vn=function(ut,Vt,In){var Hn=Dn(ut,Vt,In,!1);return Hn&&Hn.length>0?Hn[0]:null},rr=function(ut,Vt,In){var Hn=Vt;if(ut){for(typeof Vt=="string"&&(Hn=function(lo){return Jn(lo,Vt)}),ut=ut[In];ut;ut=ut[In])if(typeof Hn=="function"&&Hn(ut))return ut}return null},xn=function(ut,Vt){return rr(ut,Vt,"nextSibling")},ar=function(ut,Vt){return rr(ut,Vt,"previousSibling")},oo=function(ut,Vt){return Hi(ut,Ne(Vt)||s.root_element||o,[])},xi=function(ut,Vt,In){var Hn,lo=typeof ut=="string"?Ne(ut):ut;if(!lo)return!1;if(qt.isArray(lo)&&(lo.length||lo.length===0))return Hn=[],$y(lo,function(ma,J0){ma&&Hn.push(Vt.call(In,typeof ma=="string"?Ne(ma):ma,J0))}),Hn;var fi=In||this;return Vt.call(fi,lo)},Uo=function(ut,Vt){Qe(ut).each(function(In,Hn){$y(Vt,function(lo,fi){xt(Hn,fi,lo)})})},mu=function(ut,Vt){var In=Qe(ut);cx?In.each(function(Hn,lo){if(lo.canHaveHTML!==!1){for(;lo.firstChild;)lo.removeChild(lo.firstChild);try{lo.innerHTML="<br>"+Vt,lo.removeChild(lo.firstChild)}catch{ho("<div></div>").html("<br>"+Vt).contents().slice(1).appendTo(lo)}return Vt}}):In.html(Vt)},ku=function(ut,Vt,In,Hn,lo){return xi(ut,function(fi){var ma=typeof Vt=="string"?o.createElement(Vt):Vt;return Uo(ma,In),Hn&&(typeof Hn!="string"&&Hn.nodeType?ma.appendChild(Hn):typeof Hn=="string"&&mu(ma,Hn)),lo?ma:fi.appendChild(ma)})},Oc=function(ut,Vt,In){return ku(o.createElement(ut),ut,Vt,In,!0)},ef=Mc.decode,yn=Mc.encodeAllRaw,zt=function(ut,Vt,In){var Hn="",lo;Hn+="<"+ut;for(lo in Vt)ui(Vt,lo)&&(Hn+=" "+lo+'="'+yn(Vt[lo])+'"');return typeof In<"u"?Hn+">"+In+"</"+ut+">":Hn+" />"},Cn=function(ut){var Vt,In=o.createElement("div"),Hn=o.createDocumentFragment();for(Hn.appendChild(In),ut&&(In.innerHTML=ut);Vt=In.firstChild;)Hn.appendChild(Vt);return Hn.removeChild(In),Hn},Ht=function(ut,Vt){var In=Qe(ut);return Vt?In.each(function(){for(var Hn;Hn=this.firstChild;)Hn.nodeType===3&&Hn.data.length===0?this.removeChild(Hn):this.parentNode.insertBefore(Hn,this)}).remove():In.remove(),In.length>1?In.toArray():In[0]},fr=function(ut){return xi(ut,function(Vt){var In,Hn=Vt.attributes;for(In=Hn.length-1;In>=0;In--)Vt.removeAttributeNode(Hn.item(In))})},Fn=function(ut){return ge.parse(ut)},zr=function(ut,Vt){return ge.serialize(ut,Vt)},ko=function(ut){var Vt,In;if(db!==na.DOM&&o===document){if(d[ut])return;d[ut]=!0}In=o.getElementById("mceDefaultStyles"),In||(In=o.createElement("style"),In.id="mceDefaultStyles",In.type="text/css",Vt=o.getElementsByTagName("head")[0],Vt.firstChild?Vt.insertBefore(In,Vt.firstChild):Vt.appendChild(In)),In.styleSheet?In.styleSheet.cssText+=ut:In.appendChild(o.createTextNode(ut))},pa=function(ut){ut||(ut=""),Ct(ut.split(","),function(Vt){x[Vt]=!0,V.load(Vt,le)})},Ll=function(ut,Vt,In){Qe(ut).toggleClass(Vt,In).each(function(){this.className===""&&ho(this).attr("class",null)})},fc=function(ut,Vt){Qe(ut).addClass(Vt)},wd=function(ut,Vt){Ll(ut,Vt,!1)},Bl=function(ut,Vt){return Qe(ut).hasClass(Vt)},zl=function(ut){Qe(ut).show()},zu=function(ut){Qe(ut).hide()},pv=function(ut){return Qe(ut).css("display")==="none"},Ps=function(ut){return(ut||"mce_")+T++},_d=function(ut){var Vt=typeof ut=="string"?Ne(ut):ut;return Xr(Vt)?Vt.outerHTML:ho("<div></div>").append(ho(Vt).clone()).html()},Em=function(ut,Vt){Qe(ut).each(function(){try{if("outerHTML"in this){this.outerHTML=Vt;return}}catch{}Ht(ho(this).html(Vt),!0)})},Aa=function(ut,Vt){var In=Ne(Vt);return xi(ut,function(Hn){var lo=In.parentNode,fi=In.nextSibling;return fi?lo.insertBefore(Hn,fi):lo.appendChild(Hn),Hn})},Ji=function(ut,Vt,In){return xi(Vt,function(Hn){return qt.is(Hn,"array")&&(ut=ut.cloneNode(!0)),In&&$y(Y5(Hn.childNodes),function(lo){ut.appendChild(lo)}),Hn.parentNode.replaceChild(ut,Hn)})},Du=function(ut,Vt){var In;return ut.nodeName!==Vt.toUpperCase()&&(In=Oc(Vt),$y(at(ut),function(Hn){xt(In,Hn.nodeName,Xe(ut,Hn.nodeName))}),Ji(In,ut,!0)),In||ut},fh=function(ut,Vt){for(var In=ut,Hn;In;){for(Hn=Vt;Hn&&In!==Hn;)Hn=Hn.parentNode;if(In===Hn)break;In=In.parentNode}return!In&&ut.ownerDocument?ut.ownerDocument.documentElement:In},Om=function(ut){return ge.toHex(qt.trim(ut))},dh=function(ut){if(Xr(ut)){var Vt=ut.nodeName.toLowerCase()==="a"&&!Xe(ut,"href")&&Xe(ut,"id");if(Xe(ut,"name")||Xe(ut,"data-mce-bookmark")||Vt)return!0}return!1},mp=function(ut,Vt){var In,Hn,lo=0;if(dh(ut))return!1;if(ut=ut.firstChild,ut){var fi=new mi(ut,ut.parentNode),ma=pe?pe.getWhiteSpaceElements():{};Vt=Vt||(pe?pe.getNonEmptyElements():null);do{if(In=ut.nodeType,Xr(ut)){var J0=ut.getAttribute("data-mce-bogus");if(J0){ut=fi.next(J0==="all");continue}if(Hn=ut.nodeName.toLowerCase(),Vt&&Vt[Hn]){if(Hn==="br"){lo++,ut=fi.next();continue}return!1}if(dh(ut))return!1}if(In===8||In===3&&!yf(ut.nodeValue)||In===3&&ut.parentNode&&ma[ut.parentNode.nodeName]&&yf(ut.nodeValue))return!1;ut=fi.next()}while(ut)}return lo<=1},yT=function(){return o.createRange()},WX=function(ut,Vt,In){var Hn=yT(),lo,fi,ma;if(ut&&Vt)return Hn.setStart(ut.parentNode,qs(ut)),Hn.setEnd(Vt.parentNode,qs(Vt)),lo=Hn.extractContents(),Hn=yT(),Hn.setStart(Vt.parentNode,qs(Vt)+1),Hn.setEnd(ut.parentNode,qs(ut)+1),fi=Hn.extractContents(),ma=ut.parentNode,ma.insertBefore(w_(db,lo),ut),In?ma.insertBefore(In,ut):ma.insertBefore(Vt,ut),ma.insertBefore(w_(db,fi),ut),Ht(ut),In||Vt},w7=function(ut,Vt,In,Hn){if(qt.isArray(ut)){for(var lo=ut.length,fi=[];lo--;)fi[lo]=w7(ut[lo],Vt,In,Hn);return fi}s.collect&&(ut===o||ut===m)&&Z.push([ut,Vt,In,Hn]);var ma=ve.bind(ut,Vt,In,Hn||db);return ma},bT=function(ut,Vt,In){if(qt.isArray(ut)){for(var Hn=ut.length,lo=[];Hn--;)lo[Hn]=bT(ut[Hn],Vt,In);return lo}else{if(Z.length>0&&(ut===o||ut===m))for(var Hn=Z.length;Hn--;){var fi=Z[Hn];ut===fi[0]&&(!Vt||Vt===fi[1])&&(!In||In===fi[2])&&ve.unbind(fi[0],fi[1],fi[2])}return ve.unbind(ut,Vt,In)}},_7=function(ut,Vt,In){return ve.fire(ut,Vt,In)},yP=function(ut){if(ut&&Xr(ut)){var Vt=ut.getAttribute("data-mce-contenteditable");return Vt&&Vt!=="inherit"?Vt:ut.contentEditable!=="inherit"?ut.contentEditable:null}else return null},qX=function(ut){for(var Vt=Mt(),In=null;ut&&ut!==Vt&&(In=yP(ut),In===null);ut=ut.parentNode);return In},S7=function(){if(Z.length>0)for(var ut=Z.length;ut--;){var Vt=Z[ut];ve.unbind(Vt[0],Vt[1],Vt[2])}wn(x,function(In,Hn){V.unload(Hn),delete x[Hn]}),Hi.setDocument&&Hi.setDocument()},$X=function(ut,Vt){if(cx){for(;ut;){if(Vt===ut)return!0;ut=ut.parentNode}return!1}else return ut===Vt||Vt.contains(ut)},GX=function(ut){return"startContainer: "+ut.startContainer.nodeName+", startOffset: "+ut.startOffset+", endContainer: "+ut.endContainer.nodeName+", endOffset: "+ut.endOffset},db={doc:o,settings:s,win:m,files:x,stdMode:O,boxModel:B,styleSheetLoader:V,boundEvents:Z,styles:ge,schema:pe,events:ve,isBlock:Ie,$:De,$$:Qe,root:null,clone:nt,getRoot:Mt,getViewPort:Xt,getRect:An,getSize:jr,getParent:Vn,getParents:Dn,get:Ne,getNext:xn,getPrev:ar,select:oo,is:Jn,add:ku,create:Oc,createHTML:zt,createFragment:Cn,remove:Ht,setStyle:Dr,getStyle:pn,setStyles:Zn,removeAllAttribs:fr,setAttrib:xt,setAttribs:Uo,getAttrib:Xe,getPos:Sn,parseStyle:Fn,serializeStyle:zr,addStyle:ko,loadCSS:pa,addClass:fc,removeClass:wd,hasClass:Bl,toggleClass:Ll,show:zl,hide:zu,isHidden:pv,uniqueId:Ps,setHTML:mu,getOuterHTML:_d,setOuterHTML:Em,decode:ef,encode:yn,insertAfter:Aa,replace:Ji,rename:Du,findCommonAncestor:fh,toHex:Om,run:xi,getAttribs:at,isEmpty:mp,createRng:yT,nodeIndex:qs,split:WX,bind:w7,unbind:bT,fire:_7,getContentEditable:yP,getContentEditableParent:qX,destroy:S7,isChildOf:$X,dumpRng:GX},bP=K5(ge,s,Q(db));return db};na.DOM=na(document),na.nodeIndex=qs;var ik=na.DOM,j_=qt.each,bg=qt.grep,ak=0,xg=1,o0=2,uk=3,Gd=function(){function o(s){s===void 0&&(s={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=s}return o.prototype._setReferrerPolicy=function(s){this.settings.referrerPolicy=s},o.prototype.loadScript=function(s,d,m){var x=ik,T,O=function(){x.remove(Z),T&&(T.onerror=T.onload=T=null)},B=function(){O(),d()},V=function(){O(),te(m)?m():typeof console<"u"&&console.log&&console.log("Failed to load script: "+s)},Z=x.uniqueId();T=document.createElement("script"),T.id=Z,T.type="text/javascript",T.src=qt._addCacheSuffix(s),this.settings.referrerPolicy&&x.setAttrib(T,"referrerpolicy",this.settings.referrerPolicy),T.onload=B,T.onerror=V,(document.getElementsByTagName("head")[0]||document.body).appendChild(T)},o.prototype.isDone=function(s){return this.states[s]===o0},o.prototype.markDone=function(s){this.states[s]=o0},o.prototype.add=function(s,d,m,x){var T=this.states[s];this.queue.push(s),T===void 0&&(this.states[s]=ak),d&&(this.scriptLoadedCallbacks[s]||(this.scriptLoadedCallbacks[s]=[]),this.scriptLoadedCallbacks[s].push({success:d,failure:x,scope:m||this}))},o.prototype.load=function(s,d,m,x){return this.add(s,d,m,x)},o.prototype.remove=function(s){delete this.states[s],delete this.scriptLoadedCallbacks[s]},o.prototype.loadQueue=function(s,d,m){this.loadScripts(this.queue,s,d,m)},o.prototype.loadScripts=function(s,d,m,x){var T=this,O=[],B=function(Z,pe){j_(T.scriptLoadedCallbacks[pe],function(ge){te(ge[Z])&&ge[Z].call(ge.scope)}),T.scriptLoadedCallbacks[pe]=void 0};T.queueLoadedCallbacks.push({success:d,failure:x,scope:m||this});var V=function(){var Z=bg(s);if(s.length=0,j_(Z,function(ge){if(T.states[ge]===o0){B("success",ge);return}if(T.states[ge]===uk){B("failure",ge);return}T.states[ge]!==xg&&(T.states[ge]=xg,T.loading++,T.loadScript(ge,function(){T.states[ge]=o0,T.loading--,B("success",ge),V()},function(){T.states[ge]=uk,T.loading--,O.push(ge),B("failure",ge),V()}))}),!T.loading){var pe=T.queueLoadedCallbacks.slice(0);T.queueLoadedCallbacks.length=0,j_(pe,function(ge){O.length===0?te(ge.success)&&ge.success.call(ge.scope):te(ge.failure)&&ge.failure.call(ge.scope,O)})}};V()},o.ScriptLoader=new o,o}(),fl=function(o){var s=o,d=function(){return s},m=function(x){s=x};return{get:d,set:m}},J5=function(o){return I(o)&&Vr(o,"raw")},Q5=function(o){return z(o)&&o.length>1},wg={},U_=fl("en"),Xp=function(){return Br(wg,U_.get())},_g=function(){return er(wg,function(o){return dr({},o)})},W_=function(o){o&&U_.set(o)},Z5=function(){return U_.get()},eO=function(o,s){var d=wg[o];d||(wg[o]=d={}),wn(s,function(m,x){d[x.toLowerCase()]=m})},Sg=function(o){var s=Xp().getOr({}),d=function(V){return te(V)?Object.prototype.toString.call(V):m(V)?"":""+V},m=function(V){return V===""||V===null||V===void 0},x=function(V){var Z=d(V);return Br(s,Z.toLowerCase()).map(d).getOr(Z)},T=function(V){return V.replace(/{context:\w+}$/,"")};if(m(o))return"";if(J5(o))return d(o.raw);if(Q5(o)){var O=o.slice(1),B=x(o[0]).replace(/\{([0-9]+)\}/g,function(V,Z){return Vr(O,Z)?d(O[Z]):V});return T(B)}return T(x(o))},Cg=function(){return Xp().bind(function(o){return Br(o,"_dir")}).exists(function(o){return o==="rtl"})},dx=function(o){return Vr(wg,o)},_o={getData:_g,setCode:W_,getCode:Z5,add:eO,translate:Sg,isRtl:Cg,hasCode:dx},Ni=function(){var o=[],s={},d={},m=[],x=function(Ie,Ne){var Qe=Ke(m,function(Xe){return Xe.name===Ie&&Xe.state===Ne});Ct(Qe,function(Xe){return Xe.callback()})},T=function(Ie){if(d[Ie])return d[Ie].instance},O=function(Ie){var Ne;return d[Ie]&&(Ne=d[Ie].dependencies),Ne||[]},B=function(Ie,Ne){Ni.languageLoad!==!1&&De(Ie,function(){var Qe=_o.getCode(),Xe=","+(Ne||"")+",";!Qe||Ne&&Xe.indexOf(","+Qe+",")===-1||Gd.ScriptLoader.add(s[Ie]+"/langs/"+Qe+".js")},"loaded")},V=function(Ie,Ne,Qe){var Xe=Ne;return o.push(Xe),d[Ie]={instance:Xe,dependencies:Qe},x(Ie,"added"),Xe},Z=function(Ie){delete s[Ie],delete d[Ie]},pe=function(Ie,Ne){return typeof Ne=="object"?Ne:typeof Ie=="string"?{prefix:"",resource:Ne,suffix:""}:{prefix:Ie.prefix,resource:Ne,suffix:Ie.suffix}},ge=function(Ie,Ne){var Qe=s[Ie];Ct(Ne,function(Xe){Gd.ScriptLoader.add(Qe+"/"+Xe)})},ve=function(Ie,Ne,Qe,Xe){var at=O(Ie);Ct(at,function(xt){var nt=pe(Ne,xt);Ae(nt.resource,nt,void 0,void 0)}),Qe&&(Xe?Qe.call(Xe):Qe.call(Gd))},Ae=function(Ie,Ne,Qe,Xe,at){if(!s[Ie]){var xt=typeof Ne=="string"?Ne:Ne.prefix+Ne.resource+Ne.suffix;xt.indexOf("/")!==0&&xt.indexOf("://")===-1&&(xt=Ni.baseURL+"/"+xt),s[Ie]=xt.substring(0,xt.lastIndexOf("/"));var nt=function(){x(Ie,"loaded"),ve(Ie,Ne,Qe,Xe)};d[Ie]?nt():Gd.ScriptLoader.add(xt,nt,Xe,at)}},De=function(Ie,Ne,Qe){Qe===void 0&&(Qe="added"),Vr(d,Ie)&&Qe==="added"||Vr(s,Ie)&&Qe==="loaded"?Ne():m.push({name:Ie,state:Qe,callback:Ne})};return{items:o,urls:s,lookup:d,_listeners:m,get:T,dependencies:O,requireLangPack:B,add:V,remove:Z,createUrl:pe,addComponents:ge,load:Ae,waitFor:De}};Ni.languageLoad=!0,Ni.baseURL="",Ni.PluginManager=Ni(),Ni.ThemeManager=Ni();var Tg=function(o){var s=fl(fe.none()),d=function(){return s.get().each(o)},m=function(){d(),s.set(fe.none())},x=function(){return s.get().isSome()},T=function(){return s.get()},O=function(B){d(),s.set(fe.some(B))};return{clear:m,isSet:x,get:T,set:O}},Yp=function(){var o=Tg(le),s=function(d){return o.get().each(d)};return dr(dr({},o),{on:s})},Ci=function(o,s){var d=null,m=function(){L(d)||(clearTimeout(d),d=null)},x=function(){for(var T=[],O=0;O<arguments.length;O++)T[O]=arguments[O];L(d)&&(d=setTimeout(function(){d=null,o.apply(null,T)},s))};return{cancel:m,throttle:x}},hx=function(o,s){var d=null,m=function(){L(d)||(clearTimeout(d),d=null)},x=function(){for(var T=[],O=0;O<arguments.length;O++)T[O]=arguments[O];m(),d=setTimeout(function(){d=null,o.apply(null,T)},s)};return{cancel:m,throttle:x}},px=function(o,s){var d=xe(o,s);return d===void 0||d===""?[]:d.split(" ")},Yu=function(o,s,d){var m=px(o,s),x=m.concat([d]);return J(o,s,x.join(" ")),!0},Kp=function(o,s,d){var m=Ke(px(o,s),function(x){return x!==d});return m.length>0?J(o,s,m.join(" ")):Qt(o,s),!1},mx=function(o){return o.dom.classList!==void 0},tO=function(o){return px(o,"class")},nO=function(o,s){return Yu(o,"class",s)},gx=function(o,s){return Kp(o,"class",s)},i0=function(o,s){mx(o)?o.dom.classList.add(s):nO(o,s)},q_=function(o){var s=mx(o)?o.dom.classList:tO(o);s.length===0&&Qt(o,"class")},vx=function(o,s){if(mx(o)){var d=o.dom.classList;d.remove(s)}else gx(o,s);q_(o)},a0=function(o,s){return mx(o)&&o.dom.classList.contains(s)},yx=function(o,s){var d=[];return Ct(Vs(o),function(m){s(m)&&(d=d.concat([m])),d=d.concat(yx(m,s))}),d},Il=function(o,s){return Kr(s,o)},Mg=Q("mce-annotation"),Xd=Q("data-mce-annotation"),Rl=Q("data-mce-annotation-uid"),sk=function(o,s){var d=o.selection.getRng(),m=W.fromDom(d.startContainer),x=W.fromDom(o.getBody()),T=s.fold(function(){return"."+Mg()},function(Z){return"["+Xd()+'="'+Z+'"]'}),O=Kf(m,d.startOffset).getOr(m),B=$a(O,T,function(Z){return Hr(Z,x)}),V=function(Z,pe){return yt(Z,pe)?fe.some(xe(Z,pe)):fe.none()};return B.bind(function(Z){return V(Z,""+Rl()).bind(function(pe){return V(Z,""+Xd()).map(function(ge){var ve=$_(o,pe);return{uid:pe,name:ge,elements:ve}})})})},fs=function(o){return ua(o)&&a0(o,Mg())},$_=function(o,s){var d=W.fromDom(o.getBody());return Il(d,"["+Rl()+'="'+s+'"]')},Kh=function(o,s){var d=W.fromDom(o.getBody()),m=Il(d,"["+Xd()+'="'+s+'"]'),x={};return Ct(m,function(T){var O=xe(T,Rl()),B=Br(x,O).getOr([]);x[O]=B.concat([T])}),x},G_=function(o,s){var d=fl({}),m=function(){return{listeners:[],previous:Yp()}},x=function(pe,ge){T(pe,function(ve){return ge(ve),ve})},T=function(pe,ge){var ve=d.get(),Ae=Br(ve,pe).getOrThunk(m),De=ge(Ae);ve[pe]=De,d.set(ve)},O=function(pe,ge,ve){x(pe,function(Ae){Ct(Ae.listeners,function(De){return De(!0,pe,{uid:ge,nodes:Ft(ve,function(Ie){return Ie.dom})})})})},B=function(pe){x(pe,function(ge){Ct(ge.listeners,function(ve){return ve(!1,pe)})})},V=hx(function(){var pe=d.get(),ge=vt(an(pe));Ct(ge,function(ve){T(ve,function(Ae){var De=Ae.previous.get();return sk(o,fe.some(ve)).fold(function(){De.isSome()&&(B(ve),Ae.previous.clear())},function(Ie){var Ne=Ie.uid,Qe=Ie.name,Xe=Ie.elements;ig(De,Ne)||(O(Qe,Ne,Xe),Ae.previous.set(Ne))}),{previous:Ae.previous,listeners:Ae.listeners}})})},30);o.on("remove",function(){V.cancel()}),o.on("NodeChange",function(){V.throttle()});var Z=function(pe,ge){T(pe,function(ve){return{previous:ve.previous,listeners:ve.listeners.concat([ge])}})};return{addListener:Z}},X_=function(o,s){var d=function(m){return fe.from(m.attr(Xd())).bind(s.lookup)};o.on("init",function(){o.serializer.addNodeFilter("span",function(m){Ct(m,function(x){d(x).each(function(T){T.persistent===!1&&x.unwrap()})})})})},lk=function(){var o={},s=function(m,x){o[m]={name:m,settings:x}},d=function(m){return Br(o,m).map(function(x){return x.settings})};return{register:s,lookup:d}},bx=0,u0=function(o){var s=new Date,d=s.getTime(),m=Math.floor(Math.random()*1e9);return bx++,o+"_"+m+bx+String(d)},Y_=function(o,s){Ct(s,function(d){i0(o,d)})},rO=function(o,s){var d=s||document,m=d.createElement("div");return m.innerHTML=o,Vs(W.fromDom(m))},oO=function(o){return Ft(o,W.fromDom)},Es=function(o){return o.dom.innerHTML},Su=function(o,s){var d=hf(o),m=d.dom,x=W.fromDom(m.createDocumentFragment()),T=rO(s,m);Ih(x,T),Rh(o),xu(o,x)},$s=function(o,s){return W.fromDom(o.dom.cloneNode(s))},Ku=function(o){return $s(o,!1)},Pl=function(o){return $s(o,!0)},ds=function(o,s,d){d===void 0&&(d=Ge);var m=new mi(o,s),x=function(T){var O;do O=m[T]();while(O&&!or(O)&&!d(O));return fe.from(O).filter(or)};return{current:function(){return fe.from(m.current()).filter(or)},next:function(){return x("next")},prev:function(){return x("prev")},prev2:function(){return x("prev2")}}},xx=function(o,s){var d=s||function(O){return o.isBlock(O)||Ri(O)||sa(O)},m=function(O,B,V,Z){if(or(O)){var pe=Z(O,B,O.data);if(pe!==-1)return fe.some({container:O,offset:pe})}return V().bind(function(ge){return m(ge.container,ge.offset,V,Z)})},x=function(O,B,V,Z){var pe=ds(O,Z,d);return m(O,B,function(){return pe.prev().map(function(ge){return{container:ge,offset:ge.length}})},V).getOrNull()},T=function(O,B,V,Z){var pe=ds(O,Z,d);return m(O,B,function(){return pe.next().map(function(ge){return{container:ge,offset:0}})},V).getOrNull()};return{backwards:x,forwards:T}},Jp=Math.round,Qp=function(o){return o?{left:Jp(o.left),top:Jp(o.top),bottom:Jp(o.bottom),right:Jp(o.right),width:Jp(o.width),height:Jp(o.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},K_=function(o,s){return o=Qp(o),s||(o.left=o.left+o.width),o.right=o.left,o.width=0,o},ck=function(o,s){return o.left===s.left&&o.top===s.top&&o.bottom===s.bottom&&o.right===s.right},_x=function(o,s,d){return o>=0&&o<=Math.min(s.height,d.height)/2},Jh=function(o,s){var d=Math.min(s.height/2,o.height/2);return o.bottom-d<s.top?!0:o.top>s.bottom?!1:_x(s.top-o.bottom,o,s)},Zp=function(o,s){return o.top>s.bottom?!0:o.bottom<s.top?!1:_x(s.bottom-o.top,o,s)},fk=function(o,s,d){return s>=o.left&&s<=o.right&&d>=o.top&&d<=o.bottom},iO=function(o,s,d){return Math.min(Math.max(o,s),d)},Sx=function(o){var s=o.startContainer,d=o.startOffset;return s.hasChildNodes()&&o.endOffset===d+1?s.childNodes[d]:null},dl=function(o,s){if(Xr(o)&&o.hasChildNodes()){var d=o.childNodes,m=iO(s,0,d.length-1);return d[m]}else return o},Cx=function(o,s){if(!(s<0&&Xr(o)&&o.hasChildNodes()))return dl(o,s)},Cu=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),dk=function(o){return typeof o=="string"&&o.charCodeAt(0)>=768&&Cu.test(o)},aO=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return function(d){for(var m=0;m<o.length;m++)if(o[m](d))return!0;return!1}},J_=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return function(d){for(var m=0;m<o.length;m++)if(!o[m](d))return!1;return!0}},hk=Xr,pk=jd,zn=al("display","block table"),uO=al("float","left right"),Xa=J_(hk,pk,St(uO)),Q_=St(al("white-space","pre pre-line pre-wrap")),kg=or,Tx=Ri,rc=na.nodeIndex,s0=Cx,Gy=function(o){return"createRange"in o?o.createRange():na.DOM.createRng()},Mx=function(o){return o&&/[\r\n\t ]/.test(o)},Yd=function(o){return!!o.setStart&&!!o.setEnd},Xy=function(o){var s=o.startContainer,d=o.startOffset;if(Mx(o.toString())&&Q_(s.parentNode)&&or(s)){var m=s.data;if(Mx(m[d-1])||Mx(m[d+1]))return!0}return!1},kx=function(o){var s=o.ownerDocument,d=Gy(s),m=s.createTextNode(Jl),x=o.parentNode;x.insertBefore(m,o),d.setStart(m,0),d.setEnd(m,1);var T=Qp(d.getBoundingClientRect());return x.removeChild(m),T},oc=function(o){var s=o.startContainer,d=o.endContainer,m=o.startOffset,x=o.endOffset;if(s===d&&or(d)&&m===0&&x===1){var T=o.cloneRange();return T.setEndAfter(d),Qh(T)}else return null},Cf=function(o){return o.left===0&&o.right===0&&o.top===0&&o.bottom===0},Qh=function(o){var s,d=o.getClientRects();return d.length>0?s=Qp(d[0]):s=Qp(o.getBoundingClientRect()),!Yd(o)&&Tx(o)&&Cf(s)?kx(o):Cf(s)&&Yd(o)?oc(o):s},Tu=function(o,s){var d=K_(o,s);return d.width=1,d.right=d.left+1,d},Z_=function(o){var s=[],d=function(V){V.height!==0&&(s.length>0&&ck(V,s[s.length-1])||s.push(V))},m=function(V,Z){var pe=Gy(V.ownerDocument);if(Z<V.data.length){if(dk(V.data[Z]))return s;if(dk(V.data[Z-1])&&(pe.setStart(V,Z),pe.setEnd(V,Z+1),!Xy(pe)))return d(Tu(Qh(pe),!1)),s}Z>0&&(pe.setStart(V,Z-1),pe.setEnd(V,Z),Xy(pe)||d(Tu(Qh(pe),!1))),Z<V.data.length&&(pe.setStart(V,Z),pe.setEnd(V,Z+1),Xy(pe)||d(Tu(Qh(pe),!0)))},x=o.container(),T=o.offset();if(kg(x))return m(x,T),s;if(hk(x))if(o.isAtEnd()){var O=s0(x,T);kg(O)&&m(O,O.data.length),Xa(O)&&!Tx(O)&&d(Tu(Qh(O),!1))}else{var O=s0(x,T);if(kg(O)&&m(O,0),Xa(O)&&o.isAtEnd())return d(Tu(Qh(O),!1)),s;var B=s0(o.container(),o.offset()-1);Xa(B)&&!Tx(B)&&(zn(B)||zn(O)||!Xa(O))&&d(Tu(Qh(B),!1)),Xa(O)&&d(Tu(Qh(O),!0))}return s},Ut=function(o,s,d){var m=function(){return kg(o),s===0},x=function(){return kg(o)?s>=o.data.length:s>=o.childNodes.length},T=function(){var pe=Gy(o.ownerDocument);return pe.setStart(o,s),pe.setEnd(o,s),pe},O=function(){return d||(d=Z_(Ut(o,s))),d},B=function(){return O().length>0},V=function(pe){return pe&&o===pe.container()&&s===pe.offset()},Z=function(pe){return s0(o,pe?s-1:s)};return{container:Q(o),offset:Q(s),toRange:T,getClientRects:O,isVisible:B,isAtStart:m,isAtEnd:x,isEqual:V,getNode:Z}};Ut.fromRangeStart=function(o){return Ut(o.startContainer,o.startOffset)},Ut.fromRangeEnd=function(o){return Ut(o.endContainer,o.endOffset)},Ut.after=function(o){return Ut(o.parentNode,rc(o)+1)},Ut.before=function(o){return Ut(o.parentNode,rc(o))},Ut.isAbove=function(o,s){return js(hn(s.getClientRects()),Bn(o.getClientRects()),Jh).getOr(!1)},Ut.isBelow=function(o,s){return js(Bn(s.getClientRects()),hn(o.getClientRects()),Zp).getOr(!1)},Ut.isAtStart=function(o){return o?o.isAtStart():!1},Ut.isAtEnd=function(o){return o?o.isAtEnd():!1},Ut.isTextPosition=function(o){return o?or(o.container()):!1},Ut.isElementPosition=function(o){return Ut.isTextPosition(o)===!1};var em=function(o,s){or(s)&&s.data.length===0&&o.remove(s)},Yy=function(o,s,d){s.insertNode(d),em(o,d.previousSibling),em(o,d.nextSibling)},l0=function(o,s,d){var m=fe.from(d.firstChild),x=fe.from(d.lastChild);s.insertNode(d),m.each(function(T){return em(o,T.previousSibling)}),x.each(function(T){return em(o,T.nextSibling)})},tm=function(o,s,d){fo(d)?l0(o,s,d):Yy(o,s,d)},ld=or,eS=qa,tS=na.nodeIndex,Dx=function(o){var s=o.parentNode;return eS(s)?Dx(s):s},Ax=function(o){return o?Ra(o.childNodes,function(s,d){return eS(d)&&d.nodeName!=="BR"?s=s.concat(Ax(d)):s.push(d),s},[]):[]},mk=function(o,s){for(;(o=o.previousSibling)&&ld(o);)s+=o.data.length;return s},nS=function(o){return function(s){return o===s}},rS=function(o){var s,d;s=Ax(Dx(o)),d=co(s,nS(o),o),s=s.slice(0,d+1);var m=Ra(s,function(x,T,O){return ld(T)&&ld(s[O-1])&&x++,x},0);return s=Zi(s,xc([o.nodeName])),d=co(s,nS(o),o),d-m},oS=function(o){var s;return ld(o)?s="text()":s=o.nodeName.toLowerCase(),s+"["+rS(o)+"]"},iS=function(o,s,d){var m=[];for(s=s.parentNode;s!==o&&!(d&&d(s));s=s.parentNode)m.push(s);return m},aS=function(o,s){var d,m,x=[],T,O,B;return d=s.container(),m=s.offset(),ld(d)?T=mk(d,m):(O=d.childNodes,m>=O.length?(T="after",m=O.length-1):T="before",d=O[m]),x.push(oS(d)),B=iS(o,d),B=Zi(B,St(qa)),x=x.concat(Ia(B,function(V){return oS(V)})),x.reverse().join("/")+","+T},Dg=function(o,s,d){var m=Ax(o);return m=Zi(m,function(x,T){return!ld(x)||!ld(m[T-1])}),m=Zi(m,xc([s])),m[d]},sO=function(o,s){for(var d=o,m=0,x;ld(d);){if(x=d.data.length,s>=m&&s<=m+x){o=d,s=s-m;break}if(!ld(d.nextSibling)){o=d,s=x;break}m+=x,d=d.nextSibling}return ld(o)&&s>o.data.length&&(s=o.data.length),Ut(o,s)},gk=function(o,s){var d;if(!s)return null;var m=s.split(","),x=m[0].split("/");d=m.length>1?m[1]:"before";var T=Ra(x,function(O,B){var V=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(B);return V?(V[1]==="text()"&&(V[1]="#text"),Dg(O,V[1],parseInt(V[2],10))):null},o);return T?ld(T)?sO(T,parseInt(d,10)):(d==="after"?d=tS(T)+1:d=tS(T),Ut(T.parentNode,d)):null},Ex=sa,Ky=function(o,s,d){var m,x;for(x=o(s.data.slice(0,d)).length,m=s.previousSibling;m&&or(m);m=m.previousSibling)x+=o(m.data).length;return x},Ox=function(o,s,d,m,x){var T=m[x?"startContainer":"endContainer"],O=m[x?"startOffset":"endOffset"],B=[],V,Z=0,pe=o.getRoot();for(or(T)?B.push(d?Ky(s,T,O):O):(V=T.childNodes,O>=V.length&&V.length&&(Z=1,O=Math.max(0,V.length-1)),B.push(o.nodeIndex(V[O],d)+Z));T&&T!==pe;T=T.parentNode)B.push(o.nodeIndex(T,d));return B},Ix=function(o,s,d,m){var x=s.dom,T={};return T.start=Ox(x,o,d,m,!0),s.isCollapsed()||(T.end=Ox(x,o,d,m,!1)),Vd(m)&&(T.isFakeCaret=!0),T},Rx=function(o,s,d){var m=0;return qt.each(o.select(s),function(x){if(x.getAttribute("data-mce-bogus")!=="all"){if(x===d)return!1;m++}}),m},Ag=function(o,s){var d,m,x,T=s?"start":"end";d=o[T+"Container"],m=o[T+"Offset"],Xr(d)&&d.nodeName==="TR"&&(x=d.childNodes,d=x[Math.min(s?m:m-1,x.length-1)],d&&(m=s?0:d.childNodes.length,o["set"+(s?"Start":"End")](d,m)))},vk=function(o){return Ag(o,!0),Ag(o,!1),o},Ba=function(o,s){var d;if(Xr(o)&&(o=dl(o,s),Ex(o)))return o;if(El(o)&&(or(o)&&Pi(o)&&(o=o.parentNode),d=o.previousSibling,Ex(d)||(d=o.nextSibling,Ex(d))))return d},Px=function(o){return Ba(o.startContainer,o.startOffset)||Ba(o.endContainer,o.endOffset)},Ya=function(o,s,d){var m=d.getNode(),x=m?m.nodeName:null,T=d.getRng();if(Ex(m)||x==="IMG")return{name:x,index:Rx(d.dom,x,m)};var O=Px(T);return O?(x=O.tagName,{name:x,index:Rx(d.dom,x,O)}):Ix(o,d,s,T)},Nx=function(o){var s=o.getRng();return{start:aS(o.dom.getRoot(),Ut.fromRangeStart(s)),end:aS(o.dom.getRoot(),Ut.fromRangeEnd(s))}},c0=function(o){return{rng:o.getRng()}},Lx=function(o,s,d){var m={"data-mce-type":"bookmark",id:s,style:"overflow:hidden;line-height:0px"};return d?o.create("span",m,"&#xFEFF;"):o.create("span",m)},f0=function(o,s){var d=o.dom,m=o.getRng(),x=d.uniqueId(),T=o.isCollapsed(),O=o.getNode(),B=O.nodeName;if(B==="IMG")return{name:B,index:Rx(d,B,O)};var V=vk(m.cloneRange());if(!T){V.collapse(!1);var Z=Lx(d,x+"_end",s);tm(d,V,Z)}m=vk(m),m.collapse(!0);var pe=Lx(d,x+"_start",s);return tm(d,m,pe),o.moveToBookmark({id:x,keep:!0}),{id:x}},yk=function(o,s,d){return s===2?Ya(rd,d,o):s===3?Nx(o):s?c0(o):f0(o,!1)},bk=ke(Ya,Ce,!0),lO=na.DOM,cO="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",xk=function(o,s,d){var m=o.getParam(s,d);if(m.indexOf("=")!==-1){var x=o.getParam(s,"","hash");return Br(x,o.id).getOr(d)}else return m},Bx=function(o){return o.getParam("iframe_attrs",{})},zx=function(o){return o.getParam("doctype","<!DOCTYPE html>")},fO=function(o){return o.getParam("document_base_url","")},wk=function(o){return xk(o,"body_id","tinymce")},uS=function(o){return xk(o,"body_class","")},_k=function(o){return o.getParam("content_security_policy","")},dO=function(o){return o.getParam("br_in_pre",!0)},hs=function(o){if(o.getParam("force_p_newlines",!1))return"p";var s=o.getParam("forced_root_block","p");return s===!1?"":s===!0?"p":s},Eg=function(o){return o.getParam("forced_root_block_attrs",{})},sS=function(o){return o.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Sk=function(o){return o.getParam("no_newline_selector","")},d0=function(o){return o.getParam("keep_styles",!0)},Ck=function(o){return o.getParam("end_container_on_empty_block",!1)},hO=function(o){return qt.explode(o.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Jy=function(o){return qt.explode(o.getParam("font_size_classes",""))},Qy=function(o){return o.getParam("images_dataimg_filter",pt,"function")},nm=function(o){return o.getParam("automatic_uploads",!0,"boolean")},Fx=function(o){return o.getParam("images_reuse_filename",!1,"boolean")},Hx=function(o){return o.getParam("images_replace_blob_uris",!0,"boolean")},Vx=function(o){return o.getParam("icons","","string")},pO=function(o){return o.getParam("icons_url","","string")},Zh=function(o){return o.getParam("images_upload_url","","string")},jx=function(o){return o.getParam("images_upload_base_path","","string")},mO=function(o){return o.getParam("images_upload_credentials",!1,"boolean")},rm=function(o){return o.getParam("images_upload_handler",null,"function")},om=function(o){return o.getParam("content_css_cors",!1,"boolean")},Tk=function(o){return o.getParam("referrer_policy","","string")},Zy=function(o){return o.getParam("language","en","string")},lS=function(o){return o.getParam("language_url","","string")},Ux=function(o){return o.getParam("indent_use_margin",!1)},Ju=function(o){return o.getParam("indentation","40px","string")},gO=function(o){var s=o.getParam("content_css");return R(s)?Ft(s.split(","),Ue):z(s)?s:s===!1||o.inline?[]:["default"]},Wx=function(o){var s=o.getParam("font_css",[]);return z(s)?s:Ft(s.split(","),Ue)},Mk=function(o){return o.getParam("directionality",_o.isRtl()?"rtl":void 0)},vO=function(o){return o.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Tf=function(o){var s=o.getParam("object_resizing");return s===!1||Cr.iOS?!1:R(s)?s:"table,img,figure.image,div,video,iframe"},ep=function(o){return o.getParam("resize_img_proportional",!0,"boolean")},yO=function(o){return o.getParam("placeholder",lO.getAttrib(o.getElement(),"placeholder"),"string")},cS=function(o){return o.getParam("event_root")},fS=function(o){return o.getParam("service_message")},Og=function(o){return o.getParam("theme")},kk=function(o){return o.getParam("validate")},h0=function(o){return o.getParam("inline_boundaries")!==!1},bO=function(o){return o.getParam("formats")},xO=function(o){var s=o.getParam("preview_styles",cO);return R(s)?s:""},wO=function(o){return o.getParam("format_empty_lines",!1,"boolean")},p0=function(o){return o.getParam("custom_ui_selector","","string")},Ig=function(o){return o.getParam("theme_url")},dS=function(o){return o.getParam("inline")},Dk=function(o){return o.getParam("hidden_input")},_O=function(o){return o.getParam("submit_patch")},Ak=function(o){return o.getParam("encoding")==="xml"},Ek=function(o){return o.getParam("add_form_submit_trigger")},hS=function(o){return o.getParam("add_unload_trigger")},SO=function(o){return hs(o)!==""},qx=function(o){return o.getParam("custom_undo_redo_levels",0,"number")},CO=function(o){return o.getParam("disable_nodechange")},e1=function(o){return o.getParam("readonly")},TO=function(o){return o.getParam("content_css_cors")},pS=function(o){return o.getParam("plugins","","string")},MO=function(o){return o.getParam("external_plugins")},Ok=function(o){return o.getParam("block_unsupported_drop",!0,"boolean")},kO=function(o){return o.getParam("visual",!0,"boolean")},m0=function(o){return o.getParam("visual_table_class","mce-item-table","string")},Ik=function(o){return o.getParam("visual_anchor_class","mce-item-anchor","string")},DO=function(o){return o.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},mS=Xr,gS=or,$x=function(o){var s=o.parentNode;s&&s.removeChild(o)},Rk=function(o){var s=rd(o);return{count:o.length-s.length,text:s}},Pk=function(o){for(var s;(s=o.data.lastIndexOf(dt))!==-1;)o.deleteData(s,1)},g0=function(o,s){return Rg(o),s},Nk=function(o,s){var d=Rk(o.data.substr(0,s.offset())),m=Rk(o.data.substr(s.offset())),x=d.text+m.text;return x.length>0?(Pk(o),Ut(o,s.offset()-d.count)):s},Lk=function(o,s){var d=s.container(),m=qe(bn(d.childNodes),o).map(function(x){return x<s.offset()?Ut(d,s.offset()-1):s}).getOr(s);return Rg(o),m},AO=function(o,s){return gS(o)&&s.container()===o?Nk(o,s):g0(o,s)},EO=function(o,s){return s.container()===o.parentNode?Lk(o,s):g0(o,s)},vS=function(o,s){return Ut.isTextPosition(s)?AO(o,s):EO(o,s)},Rg=function(o){mS(o)&&El(o)&&(jh(o)?o.removeAttribute("data-mce-caret"):$x(o)),gS(o)&&(Pk(o),o.data.length===0&&$x(o))},Gx=yr().browser,Bk=sa,Xx=kl,zk=Lv,OO="*[contentEditable=false],video,audio,embed,object",yS=function(o,s,d){var m=K_(s.getBoundingClientRect(),d),x,T;if(o.tagName==="BODY"){var O=o.ownerDocument.documentElement;x=o.scrollLeft||O.scrollLeft,T=o.scrollTop||O.scrollTop}else{var B=o.getBoundingClientRect();x=o.scrollLeft-B.left,T=o.scrollTop-B.top}m.left+=x,m.right+=x,m.top+=T,m.bottom+=T,m.width=1;var V=s.offsetWidth-s.clientWidth;return V>0&&(d&&(V*=-1),m.left+=V,m.right+=V),m},IO=function(o){for(var s=Il(W.fromDom(o),OO),d=0;d<s.length;d++){var m=s[d].dom,x=m.previousSibling;if(Ly(x)){var T=x.data;T.length===1?x.parentNode.removeChild(x):x.deleteData(T.length-1,1)}if(x=m.nextSibling,Ny(x)){var T=x.data;T.length===1?x.parentNode.removeChild(x):x.deleteData(0,1)}}},Fk=function(o,s,d,m){var x=Yp(),T,O,B=hs(o),V=B.length>0?B:"p",Z=function(Ie,Ne){var Qe;if(pe(),zk(Ne))return null;if(d(Ne)){O=jM(V,Ne,Ie);var Xe=yS(s,Ne,Ie);ho(O).css("top",Xe.top);var at=ho('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(dr({},Xe)).appendTo(s)[0];x.set({caret:at,element:Ne,before:Ie}),Ie&&ho(at).addClass("mce-visual-caret-before"),ge(),Qe=Ne.ownerDocument.createRange(),Qe.setStart(O,0),Qe.setEnd(O,0)}else return O=h_(Ne,Ie),Qe=Ne.ownerDocument.createRange(),Ru(O.nextSibling)?(Qe.setStart(O,0),Qe.setEnd(O,0)):(Qe.setStart(O,1),Qe.setEnd(O,1)),Qe;return Qe},pe=function(){IO(s),O&&(Rg(O),O=null),x.on(function(Ie){ho(Ie.caret).remove(),x.clear()}),T&&(ks.clearInterval(T),T=void 0)},ge=function(){T=ks.setInterval(function(){m()?ho("div.mce-visual-caret",s).toggleClass("mce-visual-caret-hidden"):ho("div.mce-visual-caret",s).addClass("mce-visual-caret-hidden")},500)},ve=function(){x.on(function(Ie){var Ne=yS(s,Ie.element,Ie.before);ho(Ie.caret).css(dr({},Ne))})},Ae=function(){return ks.clearInterval(T)},De=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:Z,hide:pe,getCss:De,reposition:ve,destroy:Ae}},Pg=function(){return Gx.isIE()||Gx.isEdge()||Gx.isFirefox()},Ru=function(o){return Bk(o)||Xx(o)},im=function(o){return Ru(o)||eu(o)&&Pg()},Yx=sa,RO=kl,Hk=al("display","block table table-cell table-caption list-item"),Vk=El,bS=Pi,xS=Xr,ic=jd,tp=function(o){return o>0},Ng=function(o){return o<0},t1=function(o,s){for(var d;d=o(s);)if(!bS(d))return d;return null},Lg=function(o,s,d,m,x){var T=new mi(o,m),O=Yx(o)||bS(o);if(Ng(s)){if(O&&(o=t1(T.prev.bind(T),!0),d(o)))return o;for(;o=t1(T.prev.bind(T),x);)if(d(o))return o}if(tp(s)){if(O&&(o=t1(T.next.bind(T),!0),d(o)))return o;for(;o=t1(T.next.bind(T),x);)if(d(o))return o}return null},Kd=function(o,s){for(;o&&o!==s;){if(Hk(o))return o;o=o.parentNode}return null},Mf=function(o,s,d){return Kd(o.container(),d)===Kd(s.container(),d)},v0=function(o,s){if(!s)return null;var d=s.container(),m=s.offset();return xS(d)?d.childNodes[m+o]:null},wS=function(o,s){var d=s.ownerDocument.createRange();return o?(d.setStartBefore(s),d.setEndBefore(s)):(d.setStartAfter(s),d.setEndAfter(s)),d},jk=function(o,s,d){return Kd(s,o)===Kd(d,o)},Kx=function(o,s,d){for(var m=o?"previousSibling":"nextSibling";d&&d!==s;){var x=d[m];if(Vk(x)&&(x=x[m]),Yx(x)||RO(x)){if(jk(s,x,d))return x;break}if(ic(x))break;d=d.parentNode}return null},Bg=ke(wS,!0),np=ke(wS,!1),Jx=function(o,s,d){var m,x=ke(Kx,!0,s),T=ke(Kx,!1,s),O=d.startContainer,B=d.startOffset;if(Pi(O)){xS(O)||(O=O.parentNode);var V=O.getAttribute("data-mce-caret");if(V==="before"&&(m=O.nextSibling,im(m)))return Bg(m);if(V==="after"&&(m=O.previousSibling,im(m)))return np(m)}if(!d.collapsed)return d;if(or(O)){if(Vk(O)){if(o===1){if(m=T(O),m)return Bg(m);if(m=x(O),m)return np(m)}if(o===-1){if(m=x(O),m)return np(m);if(m=T(O),m)return Bg(m)}return d}if(Ly(O)&&B>=O.data.length-1)return o===1&&(m=T(O),m)?Bg(m):d;if(Ny(O)&&B<=1)return o===-1&&(m=x(O),m)?np(m):d;if(B===O.data.length)return m=T(O),m?Bg(m):d;if(B===0)return m=x(O),m?np(m):d}return d},_S=function(o,s){return fe.from(v0(o?0:-1,s)).filter(Yx)},Qu=function(o,s,d){var m=Jx(o,s,d);return o===-1?Ut.fromRangeStart(m):Ut.fromRangeEnd(m)},am=function(o){return fe.from(o.getNode()).map(W.fromDom)},Uk=function(o){return fe.from(o.getNode(!0)).map(W.fromDom)},SS=function(o,s){for(;s=o(s);)if(s.isVisible())return s;return s},Qx=function(o,s){var d=Mf(o,s);return!d&&Ri(o.getNode())?!0:d},ps;(function(o){o[o.Backwards=-1]="Backwards",o[o.Forwards=1]="Forwards"})(ps||(ps={}));var PO=sa,Jd=or,Wk=Xr,CS=Ri,um=jd,qk=I5,Zx=fu,$k=function(o,s){for(var d=[];o&&o!==s;)d.push(o),o=o.parentNode;return d},TS=function(o,s){return o.hasChildNodes()&&s<o.childNodes.length?o.childNodes[s]:null},Gk=function(o,s){if(tp(o)){if(um(s.previousSibling)&&!Jd(s.previousSibling))return Ut.before(s);if(Jd(s))return Ut(s,0)}if(Ng(o)){if(um(s.nextSibling)&&!Jd(s.nextSibling))return Ut.after(s);if(Jd(s))return Ut(s,s.data.length)}return Ng(o)?CS(s)?Ut.before(s):Ut.after(s):Ut.before(s)},NO=function(o,s){var d=s.nextSibling;return d&&um(d)?Jd(d)?Ut(d,0):Ut.before(d):MS(ps.Forwards,Ut.after(s),o)},MS=function(o,s,d){var m,x,T,O;if(!Wk(d)||!s)return null;if(s.isEqual(Ut.after(d))&&d.lastChild){if(O=Ut.after(d.lastChild),Ng(o)&&um(d.lastChild)&&Wk(d.lastChild))return CS(d.lastChild)?Ut.before(d.lastChild):O}else O=s;var B=O.container(),V=O.offset();if(Jd(B)){if(Ng(o)&&V>0)return Ut(B,--V);if(tp(o)&&V<B.length)return Ut(B,++V);m=B}else{if(Ng(o)&&V>0&&(x=TS(B,V-1),um(x)))return!qk(x)&&(T=Lg(x,o,Zx,x),T)?Jd(T)?Ut(T,T.data.length):Ut.after(T):Jd(x)?Ut(x,x.data.length):Ut.before(x);if(tp(o)&&V<B.childNodes.length&&(x=TS(B,V),um(x)))return CS(x)?NO(d,x):!qk(x)&&(T=Lg(x,o,Zx,x),T)?Jd(T)?Ut(T,0):Ut.before(T):Jd(x)?Ut(x,0):Ut.after(x);m=x||O.getNode()}if((tp(o)&&O.isAtEnd()||Ng(o)&&O.isAtStart())&&(m=Lg(m,o,pt,d,!0),Zx(m,d)))return Gk(o,m);x=Lg(m,o,Zx,d);var Z=Pa(Ke($k(B,d),PO));return Z&&(!x||!Z.contains(x))?(tp(o)?O=Ut.after(Z):O=Ut.before(Z),O):x?Gk(o,x):null},cd=function(o){return{next:function(s){return MS(ps.Forwards,s,o)},prev:function(s){return MS(ps.Backwards,s,o)}}},ew=function(o,s,d){var m=o?Ut.before(d):Ut.after(d);return Os(o,s,m)},hl=function(o){return Ri(o)?Ut.before(o):Ut.after(o)},n1=function(o){return Ut.isTextPosition(o)?o.offset()===0:jd(o.getNode())},r1=function(o){if(Ut.isTextPosition(o)){var s=o.container();return o.offset()===s.data.length}else return jd(o.getNode(!0))},kS=function(o,s){return!Ut.isTextPosition(o)&&!Ut.isTextPosition(s)&&o.getNode()===s.getNode(!0)},LO=function(o){return!Ut.isTextPosition(o)&&Ri(o.getNode())},Xk=function(o,s,d){return o?!kS(s,d)&&!LO(s)&&r1(s)&&n1(d):!kS(d,s)&&n1(s)&&r1(d)},Os=function(o,s,d){var m=cd(s);return fe.from(o?m.next(d):m.prev(d))},zg=function(o,s,d){return Os(o,s,d).bind(function(m){return Mf(d,m,s)&&Xk(o,d,m)?Os(o,s,m):fe.some(m)})},o1=function(o,s,d,m){return zg(o,s,d).bind(function(x){return m(x)?o1(o,s,x,m):fe.some(x)})},jc=function(o,s){var d=o?s.firstChild:s.lastChild;return or(d)?fe.some(Ut(d,o?0:d.data.length)):d?jd(d)?fe.some(o?Ut.before(d):hl(d)):ew(o,s,d):fe.none()},Uc=ke(Os,!0),Wc=ke(Os,!1),pl=ke(jc,!0),fd=ke(jc,!1),tw="_mce_caret",qc=function(o){return Xr(o)&&o.id===tw},dd=function(o,s){for(;s&&s!==o;){if(s.id===tw)return s;s=s.parentNode}return null},BO=function(o){return R(o.start)},zO=function(o){return Vr(o,"rng")},Yk=function(o){return Vr(o,"id")},Kk=function(o){return Vr(o,"name")},Jk=function(o){return qt.isArray(o.start)},Qk=function(o,s){return Xr(s)&&o.isBlock(s)&&!s.innerHTML&&!Cr.ie&&(s.innerHTML='<br data-mce-bogus="1" />'),s},FO=function(o,s){var d,m=o.createRng();return d=gk(o.getRoot(),s.start),m.setStart(d.container(),d.offset()),d=gk(o.getRoot(),s.end),m.setEnd(d.container(),d.offset()),m},HO=function(o,s){var d=o.ownerDocument.createTextNode(dt);o.appendChild(d),s.setStart(d,0),s.setEnd(d,0)},Zk=function(o){return o.hasChildNodes()===!1},VO=function(o,s){return fd(o).fold(Ge,function(d){return s.setStart(d.container(),d.offset()),s.setEnd(d.container(),d.offset()),!0})},DS=function(o,s,d){return Zk(s)&&dd(o,s)?(HO(s,d),!0):!1},eD=function(o,s,d,m){var x=d[s?"start":"end"],T,O,B,V,Z=o.getRoot();if(x){for(B=x[0],O=Z,T=x.length-1;T>=1;T--){if(V=O.childNodes,DS(Z,O,m))return!0;if(x[T]>V.length-1)return DS(Z,O,m)?!0:VO(O,m);O=V[x[T]]}O.nodeType===3&&(B=Math.min(x[0],O.nodeValue.length)),O.nodeType===1&&(B=Math.min(x[0],O.childNodes.length)),s?m.setStart(O,B):m.setEnd(O,B)}return!0},AS=function(o){return or(o)&&o.data.length>0},tD=function(o,s,d){var m=o.get(d.id+"_"+s),x,T,O,B,V=d.keep,Z,pe;if(m){if(x=m.parentNode,s==="start"?(V?m.hasChildNodes()?(x=m.firstChild,T=1):AS(m.nextSibling)?(x=m.nextSibling,T=0):AS(m.previousSibling)?(x=m.previousSibling,T=m.previousSibling.data.length):(x=m.parentNode,T=o.nodeIndex(m)+1):T=o.nodeIndex(m),Z=x,pe=T):(V?m.hasChildNodes()?(x=m.firstChild,T=1):AS(m.previousSibling)?(x=m.previousSibling,T=m.previousSibling.data.length):(x=m.parentNode,T=o.nodeIndex(m)):T=o.nodeIndex(m),Z=x,pe=T),!V){for(B=m.previousSibling,O=m.nextSibling,qt.each(qt.grep(m.childNodes),function(ge){or(ge)&&(ge.nodeValue=ge.nodeValue.replace(/\uFEFF/g,""))});m=o.get(d.id+"_"+s);)o.remove(m,!0);B&&O&&B.nodeType===O.nodeType&&or(B)&&!Cr.opera&&(T=B.nodeValue.length,B.appendData(O.nodeValue),o.remove(O),Z=B,pe=T)}return fe.some(Ut(Z,pe))}else return fe.none()},jO=function(o,s){var d=o.createRng();return eD(o,!0,s,d)&&eD(o,!1,s,d)?fe.some(d):fe.none()},UO=function(o,s){var d=tD(o,"start",s),m=tD(o,"end",s);return js(d,m.or(d),function(x,T){var O=o.createRng();return O.setStart(Qk(o,x.container()),x.offset()),O.setEnd(Qk(o,T.container()),T.offset()),O})},WO=function(o,s){return fe.from(o.select(s.name)[s.index]).map(function(d){var m=o.createRng();return m.selectNode(d),m})},Lo=function(o,s){var d=o.dom;if(s){if(Jk(s))return jO(d,s);if(BO(s))return fe.some(FO(d,s));if(Yk(s))return UO(d,s);if(Kk(s))return WO(d,s);if(zO(s))return fe.some(s.rng)}return fe.none()},Fg=function(o,s,d){return yk(o,s,d)},y0=function(o,s){Lo(o,s).each(function(d){o.setRng(d)})},ac=function(o){return Xr(o)&&o.tagName==="SPAN"&&o.getAttribute("data-mce-type")==="bookmark"},qO=function(o){return function(s){return o===s}},sm=qO(Jl),b0=function(o){return o!==""&&` \f
\r	\v`.indexOf(o)!==-1},i1=function(o){return!b0(o)&&!sm(o)},x0=function(o){return!!o.nodeType},nD=function(o){return o&&/^(IMG)$/.test(o.nodeName)},rD=function(o,s,d){var m=d.startOffset,x=d.startContainer;if(!(x===d.endContainer&&nD(x.childNodes[m]))&&Xr(x)){var T=x.childNodes,O=void 0;m<T.length?(x=T[m],O=new mi(x,o.getParent(x,o.isBlock))):(x=T[T.length-1],O=new mi(x,o.getParent(x,o.isBlock)),O.next(!0));for(var B=O.current();B;B=O.next())if(or(B)&&!IS(B)){d.setStart(B,0),s.setRng(d);return}}},ES=function(o,s,d){if(o){var m=s?"nextSibling":"previousSibling";for(o=d?o:o[m];o;o=o[m])if(Xr(o)||!IS(o))return o}},OS=function(o,s){return x0(s)&&(s=s.nodeName),!!o.schema.getTextBlockElements()[s.toLowerCase()]},Hg=function(o,s,d){return o.schema.isValidChild(s,d)},IS=function(o,s){if(s===void 0&&(s=!1),ae(o)&&or(o)){var d=s?o.data.replace(/ /g,""):o.data;return yf(d)}else return!1},$O=function(o){return ae(o)&&or(o)&&o.length===0},Qd=function(o,s){return te(o)?o=o(s):ae(s)&&(o=o.replace(/%(\w+)/g,function(d,m){return s[m]||d})),o},RS=function(o,s){return o=o||"",s=s||"",o=""+(o.nodeName||o),s=""+(s.nodeName||s),o.toLowerCase()===s.toLowerCase()},nw=function(o,s,d){return(d==="color"||d==="backgroundColor")&&(s=o.toHex(s)),d==="fontWeight"&&s===700&&(s="bold"),d==="fontFamily"&&(s=s.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+s},rw=function(o,s,d){return nw(o,o.getStyle(s,d),d)},oD=function(o,s){var d;return o.getParent(s,function(m){return d=o.getStyle(m,"text-decoration"),d&&d!=="none"}),d},w0=function(o,s,d){return o.getParents(s,d,o.getRoot())},iD=function(o,s){var d=function(m){var x=function(T){return T.length>1&&T.charAt(0)==="%"};return st(["styles","attributes"],function(T){return Br(m,T).exists(function(O){var B=z(O)?O:ei(O);return st(B,x)})})};return st(o.formatter.get(s),d)},aD=function(o,s,d){var m=["inline","block","selector","attributes","styles","classes"],x=function(T){return Kn(T,function(O,B){return st(m,function(V){return V===B})})};return st(o.formatter.get(s),function(T){var O=x(T);return st(o.formatter.get(d),function(B){var V=x(B);return Ca(O,V)})})},hd=function(o){return ui(o,"block")},Ac=function(o){return ui(o,"selector")},ms=function(o){return ui(o,"inline")},uD=function(o){return Ac(o)&&ms(o)&&ig(Br(o,"mixed"),!0)},PS=function(o){return Ac(o)&&o.expand!==!1&&!ms(o)},_0=ac,sD=w0,lD=IS,cD=OS,ow=function(o){return Ri(o)&&o.getAttribute("data-mce-bogus")&&!o.nextSibling},iw=function(o,s){for(var d=s;d;){if(Xr(d)&&o.getContentEditable(d))return o.getContentEditable(d)==="false"?d:s;d=d.parentNode}return s},fD=function(o,s,d,m){for(var x=s.data,T=d;o?T>=0:T<x.length;o?T--:T++)if(m(x.charAt(T)))return o?T+1:T;return-1},qn=function(o,s,d){return fD(o,s,d,function(m){return sm(m)||b0(m)})},Pu=function(o,s,d){return fD(o,s,d,i1)},Vg=function(o,s,d,m,x,T){var O,B=o.getParent(d,o.isBlock)||s,V=function(pe,ge,ve){var Ae=xx(o),De=x?Ae.backwards:Ae.forwards;return fe.from(De(pe,ge,function(Ie,Ne){return _0(Ie.parentNode)?-1:(O=Ie,ve(x,Ie,Ne))},B))},Z=V(d,m,qn);return Z.bind(function(pe){return T?V(pe.container,pe.offset+(x?-1:0),Pu):fe.some(pe)}).orThunk(function(){return O?fe.some({container:O,offset:x?0:O.length}):fe.none()})},Nu=function(o,s,d,m,x){or(m)&&En(m.data)&&m[x]&&(m=m[x]);for(var T=sD(o,m),O=0;O<T.length;O++)for(var B=0;B<s.length;B++){var V=s[B];if(!(ae(V.collapsed)&&V.collapsed!==d.collapsed)&&Ac(V)&&o.is(T[O],V.selector))return T[O]}return m},$c=function(o,s,d,m){var x=d,T=o.dom,O=T.getRoot(),B=s[0];if(hd(B)&&(x=B.wrapper?null:T.getParent(d,B.block,O)),!x){var V=T.getParent(d,"LI,TD,TH");x=T.getParent(or(d)?d.parentNode:d,function(Z){return Z!==O&&cD(o,Z)},V)}if(x&&hd(B)&&B.wrapper&&(x=sD(T,x,"ul,ol").reverse()[0]||x),!x)for(x=d;x[m]&&!T.isBlock(x[m])&&(x=x[m],!RS(x,"br")););return x||d},NS=function(o,s,d,m){var x=d.parentNode;return ae(d[m])?!1:x===s||Y(x)||o.isBlock(x)?!0:NS(o,s,x,m)},jg=function(o,s,d,m,x){var T=d,O=x?"previousSibling":"nextSibling",B=o.getRoot();if(or(d)&&!lD(d)&&(x?m>0:m<d.data.length))return d;for(;;){if(!s[0].block_expand&&o.isBlock(T))return T;for(var V=T[O];V;V=V[O]){var Z=or(V)&&!NS(o,B,V,O);if(!_0(V)&&!ow(V)&&!lD(V,Z))return T}if(T===B||T.parentNode===B){d=T;break}T=T.parentNode}return d},aw=function(o){return _0(o.parentNode)||_0(o)},S0=function(o,s,d,m){m===void 0&&(m=!1);var x=s.startContainer,T=s.startOffset,O=s.endContainer,B=s.endOffset,V=o.dom,Z=d[0];if(Xr(x)&&x.hasChildNodes()&&(x=dl(x,T),or(x)&&(T=0)),Xr(O)&&O.hasChildNodes()&&(O=dl(O,s.collapsed?B:B-1),or(O)&&(B=O.nodeValue.length)),x=iw(V,x),O=iw(V,O),aw(x)&&(x=_0(x)?x:x.parentNode,s.collapsed?x=x.previousSibling||x:x=x.nextSibling||x,or(x)&&(T=s.collapsed?x.length:0)),aw(O)&&(O=_0(O)?O:O.parentNode,s.collapsed?O=O.nextSibling||O:O=O.previousSibling||O,or(O)&&(B=s.collapsed?0:O.length)),s.collapsed){var pe=Vg(V,o.getBody(),x,T,!0,m);pe.each(function(ve){var Ae=ve.container,De=ve.offset;x=Ae,T=De});var ge=Vg(V,o.getBody(),O,B,!1,m);ge.each(function(ve){var Ae=ve.container,De=ve.offset;O=Ae,B=De})}return(ms(Z)||Z.block_expand)&&((!ms(Z)||!or(x)||T===0)&&(x=jg(V,d,x,T,!0)),(!ms(Z)||!or(O)||B===O.nodeValue.length)&&(O=jg(V,d,O,B,!1))),PS(Z)&&(x=Nu(V,d,s,x,"previousSibling"),O=Nu(V,d,s,O,"nextSibling")),(hd(Z)||Ac(Z))&&(x=$c(o,d,x,"previousSibling"),O=$c(o,d,O,"nextSibling"),hd(Z)&&(V.isBlock(x)||(x=jg(V,d,x,T,!0)),V.isBlock(O)||(O=jg(V,d,O,B,!1)))),Xr(x)&&(T=V.nodeIndex(x),x=x.parentNode),Xr(O)&&(B=V.nodeIndex(O)+1,O=O.parentNode),{startContainer:x,startOffset:T,endContainer:O,endOffset:B}},Ug=function(o,s,d){var m=s.startOffset,x=dl(s.startContainer,m),T=s.endOffset,O=dl(s.endContainer,T-1),B=function(Ie){var Ne=Ie[0];or(Ne)&&Ne===x&&m>=Ne.data.length&&Ie.splice(0,1);var Qe=Ie[Ie.length-1];return T===0&&Ie.length>0&&Qe===O&&or(Qe)&&Ie.splice(Ie.length-1,1),Ie},V=function(Ie,Ne,Qe){for(var Xe=[];Ie&&Ie!==Qe;Ie=Ie[Ne])Xe.push(Ie);return Xe},Z=function(Ie,Ne){return o.getParent(Ie,function(Qe){return Qe.parentNode===Ne},Ne)},pe=function(Ie,Ne,Qe){for(var Xe=Qe?"nextSibling":"previousSibling",at=Ie,xt=at.parentNode;at&&at!==Ne;at=xt){xt=at.parentNode;var nt=V(at===Ie?at:at[Xe],Xe);nt.length&&(Qe||nt.reverse(),d(B(nt)))}};if(x===O)return d(B([x]));var ge=o.findCommonAncestor(x,O);if(o.isChildOf(x,O))return pe(x,ge,!0);if(o.isChildOf(O,x))return pe(O,ge);var ve=Z(x,ge)||x,Ae=Z(O,ge)||O;pe(x,ve,!0);var De=V(ve===x?ve:ve.nextSibling,"nextSibling",Ae===O?Ae.nextSibling:Ae);De.length&&d(B(De)),pe(O,Ae)},a1=function(o){var s=[];if(o)for(var d=0;d<o.rangeCount;d++)s.push(o.getRangeAt(d));return s},GO=function(o){return To(o,function(s){var d=Sx(s);return d?[W.fromDom(d)]:[]})},XO=function(o){return a1(o).length>1},LS=function(o){return Ke(GO(o),nd)},BS=function(o){return Il(o,"td[data-mce-selected],th[data-mce-selected]")},dD=function(o,s){var d=BS(s);return d.length>0?d:LS(o)},Wg=function(o){return dD(a1(o.selection.getSel()),W.fromDom(o.getBody()))},kf=function(o,s){return ag(o,"table",s)},u1=function(o){var s=o.startContainer,d=o.startOffset;return or(s)?d===0?fe.some(W.fromDom(s)):fe.none():fe.from(s.childNodes[d]).map(W.fromDom)},zS=function(o){var s=o.endContainer,d=o.endOffset;return or(s)?d===s.data.length?fe.some(W.fromDom(s)):fe.none():fe.from(s.childNodes[d-1]).map(W.fromDom)},qg=function(o){return cu(o).fold(Q([o]),function(s){return[o].concat(qg(s))})},s1=function(o){return Xl(o).fold(Q([o]),function(s){return ni(s)==="br"?Eh(s).map(function(d){return[o].concat(s1(d))}).getOr([]):[o].concat(s1(s))})},l1=function(o,s){return js(u1(s),zS(s),function(d,m){var x=Qn(qg(o),ke(Hr,d)),T=Qn(s1(o),ke(Hr,m));return x.isSome()&&T.isSome()}).getOr(!1)},Zd=function(o,s,d,m){var x=d,T=new mi(d,x),O=Kn(o.schema.getMoveCaretBeforeOnEnterElements(),function(B,V){return!Je(["td","th","table"],V.toLowerCase())});do{if(or(d)&&qt.trim(d.nodeValue).length!==0){m?s.setStart(d,0):s.setEnd(d,d.nodeValue.length);return}if(O[d.nodeName]){m?s.setStartBefore(d):d.nodeName==="BR"?s.setEndBefore(d):s.setEndAfter(d);return}}while(d=m?T.next():T.prev());x.nodeName==="BODY"&&(m?s.setStart(x,0):s.setEnd(x,x.childNodes.length))},Gc=function(o){var s=o.selection.getSel();return s&&s.rangeCount>0},lm=function(o,s){var d=Wg(o);d.length>0?Ct(d,function(m){var x=m.dom,T=o.dom.createRng();T.setStartBefore(x),T.setEndAfter(x),s(T,!0)}):s(o.selection.getRng(),!1)},$g=function(o,s,d){var m=f0(o,s);d(m),o.moveToBookmark(m)},c1=function(o,s){var d=function(T){if(!o(T))throw new Error("Can only get "+s+" value of a "+s+" node");return m(T).getOr("")},m=function(T){return o(T)?fe.from(T.dom.nodeValue):fe.none()},x=function(T,O){if(!o(T))throw new Error("Can only set raw "+s+" value of a "+s+" node");T.dom.nodeValue=O};return{get:d,getOption:m,set:x}},uw=c1(xa,"text"),f1=function(o){return uw.get(o)},FS=function(o){return xa(o)&&f1(o)===dt},YO=function(o,s,d,m){return Ma(s).fold(function(){return"skipping"},function(x){return m==="br"||FS(s)?"valid":fs(s)?"existing":qc(s.dom)?"caret":!Hg(o,d,m)||!Hg(o,ni(x),d)?"invalid-child":"valid"})},sw=function(o,s){var d=S0(o,s,[{inline:"span"}]);s.setStart(d.startContainer,d.startOffset),s.setEnd(d.endContainer,d.endOffset),o.selection.setRng(s)},Zu=function(o,s,d,m){var x=s.uid,T=x===void 0?u0("mce-annotation"):x,O=Hu(s,["uid"]),B=W.fromTag("span",o);i0(B,Mg()),J(B,""+Rl(),T),J(B,""+Xd(),d);var V=m(T,O),Z=V.attributes,pe=Z===void 0?{}:Z,ge=V.classes,ve=ge===void 0?[]:ge;return me(B,pe),Y_(B,ve),B},Ec=function(o,s,d,m,x){var T=[],O=Zu(o.getDoc(),x,d,m),B=Yp(),V=function(){B.clear()},Z=function(){return B.get().getOrThunk(function(){var Ae=Ku(O);return T.push(Ae),B.set(Ae),Ae})},pe=function(Ae){Ct(Ae,ge)},ge=function(Ae){var De=YO(o,Ae,"span",ni(Ae));switch(De){case"invalid-child":{V();var Ie=Vs(Ae);pe(Ie),V();break}case"valid":{var Ne=Z();og(Ae,Ne);break}}},ve=function(Ae){var De=Ft(Ae,W.fromDom);pe(De)};return Ug(o.dom,s,function(Ae){V(),ve(Ae)}),T},Df=function(o,s,d,m){o.undoManager.transact(function(){var x=o.selection,T=x.getRng(),O=Wg(o).length>0;if(T.collapsed&&!O&&sw(o,T),x.getRng().collapsed&&!O){var B=Zu(o.getDoc(),m,s,d.decorate);Su(B,Jl),x.getRng().insertNode(B.dom),x.select(B.dom)}else $g(x,!1,function(){lm(o,function(V){Ec(o,V,s,d.decorate,m)})})})},pd=function(o){var s=lk();X_(o,s);var d=G_(o);return{register:function(m,x){s.register(m,x)},annotate:function(m,x){s.lookup(m).each(function(T){Df(o,m,T,x)})},annotationChanged:function(m,x){d.addListener(m,x)},remove:function(m){sk(o,fe.some(m)).each(function(x){var T=x.elements;Ct(T,Ph)})},getAll:function(m){var x=Kh(o,m);return er(x,function(T){return Ft(T,function(O){return O.dom})})}}},eh=function(o){return{getBookmark:ke(Fg,o),moveToBookmark:ke(y0,o)}};eh.isBookmarkNode=ac;var cm=function(o,s){for(;s&&s!==o;){if(pf(s)||sa(s))return s;s=s.parentNode}return null},C0=function(o,s,d){if(d.collapsed)return!1;if(Cr.browser.isIE()&&d.startOffset===d.endOffset-1&&d.startContainer===d.endContainer){var m=d.startContainer.childNodes[d.startOffset];if(Xr(m))return st(m.getClientRects(),function(x){return fk(x,o,s)})}return st(d.getClientRects(),function(x){return fk(x,o,s)})},hD=function(o,s){return o.fire("PreProcess",s)},d1=function(o,s){return o.fire("PostProcess",s)},KO=function(o){return o.fire("remove")},HS=function(o){return o.fire("detach")},pD=function(o,s){return o.fire("SwitchMode",{mode:s})},mD=function(o,s,d,m,x){o.fire("ObjectResizeStart",{target:s,width:d,height:m,origin:x})},VS=function(o,s,d,m,x){o.fire("ObjectResized",{target:s,width:d,height:m,origin:x})},jS=function(o){return o.fire("PreInit")},Ti=function(o){return o.fire("PostRender")},th=function(o){return o.fire("Init")},gD=function(o,s){return o.fire("PlaceholderToggle",{state:s})},US=function(o,s,d){return o.fire(s,d)},WS=function(o,s,d,m){return o.fire("FormatApply",{format:s,node:d,vars:m})},h1=function(o,s,d,m){return o.fire("FormatRemove",{format:s,node:d,vars:m})},Pr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(o){return o.shiftKey||o.ctrlKey||o.altKey||Pr.metaKeyPressed(o)},metaKeyPressed:function(o){return Cr.mac?o.metaKey:o.ctrlKey&&!o.altKey}},qS=sa,vD=function(o,s){var d="data-mce-selected",m=s.dom,x=qt.each,T,O,B,V,Z,pe,ge,ve,Ae,De,Ie,Ne,Qe,Xe,at,xt=s.getDoc(),nt=document,Mt=Math.abs,Xt=Math.round,Sn=s.getBody(),Dr,Zn,pn={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},jr=function(Ht){return Ht&&(Ht.nodeName==="IMG"||s.dom.is(Ht,"figure.image"))},An=function(Ht){return kl(Ht)||m.hasClass(Ht,"mce-preview-object")},Jn=function(Ht,fr){if(Ht.type==="longpress"||Ht.type.indexOf("touch")===0){var Fn=Ht.touches[0];return jr(Ht.target)&&!C0(Fn.clientX,Fn.clientY,fr)}else return jr(Ht.target)&&!C0(Ht.clientX,Ht.clientY,fr)},Dn=function(Ht){var fr=Ht.target;Jn(Ht,s.selection.getRng())&&!Ht.isDefaultPrevented()&&s.selection.select(fr)},Vn=function(Ht){return m.is(Ht,"figure.image")?[Ht.querySelector("img")]:m.hasClass(Ht,"mce-preview-object")&&ae(Ht.firstElementChild)?[Ht,Ht.firstElementChild]:[Ht]},rr=function(Ht){var fr=Tf(s);return!fr||Ht.getAttribute("data-mce-resize")==="false"||Ht===s.getBody()?!1:m.hasClass(Ht,"mce-preview-object")?Ln(W.fromDom(Ht.firstElementChild),fr):Ln(W.fromDom(Ht),fr)},xn=function(Ht){return An(Ht)?m.create("img",{src:Cr.transparentSrc}):Ht.cloneNode(!0)},ar=function(Ht,fr,Fn){if(ae(Fn)){var zr=Vn(Ht);Ct(zr,function(ko){ko.style[fr]||!s.schema.isValid(ko.nodeName.toLowerCase(),fr)?m.setStyle(ko,fr,Fn):m.setAttrib(ko,fr,""+Fn)})}},oo=function(Ht,fr,Fn){ar(Ht,"width",fr),ar(Ht,"height",Fn)},xi=function(Ht){var fr,Fn,zr,ko,pa;fr=Ht.screenX-pe,Fn=Ht.screenY-ge,Xe=fr*V[2]+De,at=Fn*V[3]+Ie,Xe=Xe<5?5:Xe,at=at<5?5:at,(jr(T)||An(T))&&ep(s)!==!1?zr=!Pr.modifierPressed(Ht):zr=Pr.modifierPressed(Ht),zr&&(Mt(fr)>Mt(Fn)?(at=Xt(Xe*Ne),Xe=Xt(at/Ne)):(Xe=Xt(at/Ne),at=Xt(Xe*Ne))),oo(O,Xe,at),ko=V.startPos.x+fr,pa=V.startPos.y+Fn,ko=ko>0?ko:0,pa=pa>0?pa:0,m.setStyles(B,{left:ko,top:pa,display:"block"}),B.innerHTML=Xe+" &times; "+at,V[2]<0&&O.clientWidth<=Xe&&m.setStyle(O,"left",ve+(De-Xe)),V[3]<0&&O.clientHeight<=at&&m.setStyle(O,"top",Ae+(Ie-at)),fr=Sn.scrollWidth-Dr,Fn=Sn.scrollHeight-Zn,fr+Fn!==0&&m.setStyles(B,{left:ko-fr,top:pa-Fn}),Qe||(mD(s,T,De,Ie,"corner-"+V.name),Qe=!0)},Uo=function(){var Ht=Qe;Qe=!1,Ht&&(ar(T,"width",Xe),ar(T,"height",at)),m.unbind(xt,"mousemove",xi),m.unbind(xt,"mouseup",Uo),nt!==xt&&(m.unbind(nt,"mousemove",xi),m.unbind(nt,"mouseup",Uo)),m.remove(O),m.remove(B),m.remove(Z),mu(T),Ht&&(VS(s,T,Xe,at,"corner-"+V.name),m.setAttrib(T,"style",m.getAttrib(T,"style"))),s.nodeChanged()},mu=function(Ht){yn();var fr=m.getPos(Ht,Sn),Fn=fr.x,zr=fr.y,ko=Ht.getBoundingClientRect(),pa=ko.width||ko.right-ko.left,Ll=ko.height||ko.bottom-ko.top;T!==Ht&&(ku(),T=Ht,Xe=at=0);var fc=s.fire("ObjectSelected",{target:Ht}),wd=m.getAttrib(T,d,"1");rr(Ht)&&!fc.isDefaultPrevented()?x(pn,function(Bl,zl){var zu,pv=function(Ps){var _d=Vn(T)[0];pe=Ps.screenX,ge=Ps.screenY,De=_d.clientWidth,Ie=_d.clientHeight,Ne=Ie/De,V=Bl,V.name=zl,V.startPos={x:pa*Bl[0]+Fn,y:Ll*Bl[1]+zr},Dr=Sn.scrollWidth,Zn=Sn.scrollHeight,Z=m.add(Sn,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),m.setStyles(Z,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),O=xn(T),m.addClass(O,"mce-clonedresizable"),m.setAttrib(O,"data-mce-bogus","all"),O.contentEditable="false",m.setStyles(O,{left:Fn,top:zr,margin:0}),oo(O,pa,Ll),O.removeAttribute(d),Sn.appendChild(O),m.bind(xt,"mousemove",xi),m.bind(xt,"mouseup",Uo),nt!==xt&&(m.bind(nt,"mousemove",xi),m.bind(nt,"mouseup",Uo)),B=m.add(Sn,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},De+" &times; "+Ie)};zu=m.get("mceResizeHandle"+zl),zu&&m.remove(zu),zu=m.add(Sn,"div",{id:"mceResizeHandle"+zl,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+zl+"-resize; margin:0; padding:0"}),Cr.ie===11&&(zu.contentEditable=!1),m.bind(zu,"mousedown",function(Ps){Ps.stopImmediatePropagation(),Ps.preventDefault(),pv(Ps)}),Bl.elm=zu,m.setStyles(zu,{left:pa*Bl[0]+Fn-zu.offsetWidth/2,top:Ll*Bl[1]+zr-zu.offsetHeight/2})}):ku(),m.getAttrib(T,d)||T.setAttribute(d,wd)},ku=function(){yn(),T&&T.removeAttribute(d),wn(pn,function(Ht,fr){var Fn=m.get("mceResizeHandle"+fr);Fn&&(m.unbind(Fn),m.remove(Fn))})},Oc=function(Ht){var fr,Fn,zr=function(ko,pa){if(ko)do if(ko===pa)return!0;while(ko=ko.parentNode)};if(!(Qe||s.removed)){if(x(m.select("img[data-mce-selected],hr[data-mce-selected]"),function(ko){ko.removeAttribute(d)}),Fn=Ht.type==="mousedown"?Ht.target:o.getNode(),Fn=m.$(Fn).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],zr(Fn,Sn)&&(zt(),fr=o.getStart(!0),zr(fr,Fn)&&zr(o.getEnd(!0),Fn))){mu(Fn);return}ku()}},ef=function(Ht){return qS(cm(s.getBody(),Ht))},yn=function(){wn(pn,function(Ht){Ht.elm&&(m.unbind(Ht.elm),delete Ht.elm)})},zt=function(){try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};s.on("init",function(){if(zt(),Cr.browser.isIE()||Cr.browser.isEdge()){s.on("mousedown click",function(Fn){var zr=Fn.target,ko=zr.nodeName;!Qe&&/^(TABLE|IMG|HR)$/.test(ko)&&!ef(zr)&&(Fn.button!==2&&s.selection.select(zr,ko==="TABLE"),Fn.type==="mousedown"&&s.nodeChanged())});var Ht=function(Fn){var zr=function(ko){ks.setEditorTimeout(s,function(){return s.selection.select(ko)})};if(ef(Fn.target)||kl(Fn.target)){Fn.preventDefault(),zr(Fn.target);return}/^(TABLE|IMG|HR)$/.test(Fn.target.nodeName)&&(Fn.preventDefault(),Fn.target.tagName==="IMG"&&zr(Fn.target))};m.bind(Sn,"mscontrolselect",Ht),s.on("remove",function(){return m.unbind(Sn,"mscontrolselect",Ht)})}var fr=ks.throttle(function(Fn){s.composing||Oc(Fn)});s.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",fr),s.on("keyup compositionend",function(Fn){T&&T.nodeName==="TABLE"&&fr(Fn)}),s.on("hide blur",ku),s.on("contextmenu longpress",Dn,!0)}),s.on("remove",yn);var Cn=function(){T=O=Z=null};return{isResizable:rr,showResizeRect:mu,hideResizeRect:ku,updateResizeRect:Oc,destroy:Cn}},JO=function(o){return pf(o)||sa(o)},yD=function(o,s,d){for(;o&&o!==s;){if(d(o))return o;o=o.parentNode}return null},bD=function(o,s,d){var m,x=d.elementFromPoint(o,s),T=d.body.createTextRange();if((!x||x.tagName==="HTML")&&(x=d.body),T.moveToElementText(x),m=qt.toArray(T.getClientRects()),m=m.sort(function(O,B){return O=Math.abs(Math.max(O.top-s,O.bottom-s)),B=Math.abs(Math.max(B.top-s,B.bottom-s)),O-B}),m.length>0){s=(m[0].bottom+m[0].top)/2;try{return T.moveToPoint(o,s),T.collapse(!0),T}catch{}}return null},$S=function(o,s){var d=o&&o.parentElement?o.parentElement():null;return sa(yD(d,s,JO))?null:o},GS=function(o,s,d){var m,x,T=d;if(T.caretPositionFromPoint)x=T.caretPositionFromPoint(o,s),x&&(m=d.createRange(),m.setStart(x.offsetNode,x.offset),m.collapse(!0));else if(T.caretRangeFromPoint)m=T.caretRangeFromPoint(o,s);else if(T.body.createTextRange){m=T.body.createTextRange();try{m.moveToPoint(o,s),m.collapse(!0)}catch{m=bD(o,s,d)}return $S(m,d.body)}return m},lw=function(o,s){return o&&s&&o.startContainer===s.startContainer&&o.startOffset===s.startOffset&&o.endContainer===s.endContainer&&o.endOffset===s.endOffset},QO=function(o,s,d){for(;o&&o!==s;){if(d(o))return o;o=o.parentNode}return null},xD=function(o,s,d){return QO(o,s,d)!==null},ZO=function(o,s,d){return xD(o,s,function(m){return m.nodeName===d})},uc=function(o){return o&&o.nodeName==="TABLE"},ml=function(o){return o&&/^(TD|TH|CAPTION)$/.test(o.nodeName)},fm=function(o,s){return El(o)&&xD(o,s,qc)===!1},wD=function(o,s,d){for(var m=new mi(s,o.getParent(s.parentNode,o.isBlock)||o.getRoot());s=m[d?"prev":"next"]();)if(Ri(s))return!0},e4=function(o,s){return o.previousSibling&&o.previousSibling.nodeName===s},_D=function(o,s){for(;s&&s!==o;){if(sa(s))return!0;s=s.parentNode}return!1},So=function(o,s,d,m,x){var T,O=o.getRoot(),B,V=o.schema.getNonEmptyElements(),Z=o.getParent(x.parentNode,o.isBlock)||O;if(m&&Ri(x)&&s&&o.isEmpty(Z))return fe.some(Ut(x.parentNode,o.nodeIndex(x)));for(var pe=new mi(x,Z);B=pe[m?"prev":"next"]();){if(o.getContentEditableParent(B)==="false"||fm(B,O))return fe.none();if(or(B)&&B.nodeValue.length>0)return ZO(B,O,"A")===!1?fe.some(Ut(B,m?B.nodeValue.length:0)):fe.none();if(o.isBlock(B)||V[B.nodeName.toLowerCase()])return fe.none();T=B}return d&&T?fe.some(Ut(T,0)):fe.none()},SD=function(o,s,d,m){var x,T,O=o.getRoot(),B,V,Z=!1;x=m[(d?"start":"end")+"Container"],T=m[(d?"start":"end")+"Offset"];var pe=Xr(x)&&T===x.childNodes.length,ge=o.schema.getNonEmptyElements();if(V=d,El(x))return fe.none();if(Xr(x)&&T>x.childNodes.length-1&&(V=!1),ky(x)&&(x=O,T=0),x===O){if(V&&(B=x.childNodes[T>0?T-1:0],B&&(El(B)||ge[B.nodeName]||uc(B))))return fe.none();if(x.hasChildNodes()){if(T=Math.min(!V&&T>0?T-1:T,x.childNodes.length-1),x=x.childNodes[T],T=or(x)&&pe?x.data.length:0,!s&&x===O.lastChild&&uc(x)||_D(O,x)||El(x))return fe.none();if(x.hasChildNodes()&&uc(x)===!1){B=x;var ve=new mi(x,O);do{if(sa(B)||El(B)){Z=!1;break}if(or(B)&&B.nodeValue.length>0){T=V?0:B.nodeValue.length,x=B,Z=!0;break}if(ge[B.nodeName.toLowerCase()]&&!ml(B)){T=o.nodeIndex(B),x=B.parentNode,V||T++,Z=!0;break}}while(B=V?ve.next():ve.prev())}}}return s&&(or(x)&&T===0&&So(o,pe,s,!0,x).each(function(Ae){x=Ae.container(),T=Ae.offset(),Z=!0}),Xr(x)&&(B=x.childNodes[T],B||(B=x.childNodes[T-1]),B&&Ri(B)&&!e4(B,"A")&&!wD(o,B,!1)&&!wD(o,B,!0)&&So(o,pe,s,!0,B).each(function(Ae){x=Ae.container(),T=Ae.offset(),Z=!0}))),V&&!s&&or(x)&&T===x.nodeValue.length&&So(o,pe,s,!1,x).each(function(Ae){x=Ae.container(),T=Ae.offset(),Z=!0}),Z?fe.some(Ut(x,T)):fe.none()},p1=function(o,s){var d=s.collapsed,m=s.cloneRange(),x=Ut.fromRangeStart(s);return SD(o,d,!0,m).each(function(T){(!d||!Ut.isAbove(x,T))&&m.setStart(T.container(),T.offset())}),d||SD(o,d,!1,m).each(function(T){m.setEnd(T.container(),T.offset())}),d&&m.collapse(!0),lw(s,m)?fe.none():fe.some(m)},T0=function(o,s){return o.splitText(s)},cw=function(o){var s=o.startContainer,d=o.startOffset,m=o.endContainer,x=o.endOffset;return s===m&&or(s)?d>0&&d<s.nodeValue.length&&(m=T0(s,d),s=m.previousSibling,x>d?(x=x-d,s=m=T0(m,x).previousSibling,x=m.nodeValue.length,d=0):x=0):(or(s)&&d>0&&d<s.nodeValue.length&&(s=T0(s,d),d=0),or(m)&&x>0&&x<m.nodeValue.length&&(m=T0(m,x).previousSibling,x=m.nodeValue.length)),{startContainer:s,startOffset:d,endContainer:m,endOffset:x}},M0=function(o){var s=function(x,T){return Ug(o,x,T)},d=cw,m=function(x){return p1(o,x).fold(Ge,function(T){return x.setStart(T.startContainer,T.startOffset),x.setEnd(T.endContainer,T.endOffset),!0})};return{walk:s,split:d,normalize:m}};M0.compareRanges=lw,M0.getCaretRangeFromPoint=GS,M0.getSelectedNode=Sx,M0.getNode=dl;var k0=function(o,s){var d=function(B,V){if(!ie(V)&&!V.match(/^[0-9]+$/))throw new Error(o+".set accepts only positive integer values. Value was "+V);var Z=B.dom;fa(Z)&&(Z.style[o]=V+"px")},m=function(B){var V=s(B);if(V<=0||V===null){var Z=bo(B,o);return parseFloat(Z)||0}return V},x=m,T=function(B,V){return Mn(V,function(Z,pe){var ge=bo(B,pe),ve=ge===void 0?0:parseInt(ge,10);return isNaN(ve)?Z:Z+ve},0)},O=function(B,V,Z){var pe=T(B,Z),ge=V>pe?V-pe:0;return ge};return{set:d,get:m,getOuter:x,aggregate:T,max:O}},t4=k0("height",function(o){var s=o.dom;return Nh(o)?s.getBoundingClientRect().height:s.offsetHeight}),n4=function(o){return t4.get(o)},XS=function(o,s){var d=o.view(s);return d.fold(Q([]),function(m){var x=o.owner(m),T=XS(o,x);return[m].concat(T)})},YS=function(o,s){var d=s.owner(o);return XS(s,d)},Gg=function(o){var s,d=o.dom===document?fe.none():fe.from((s=o.dom.defaultView)===null||s===void 0?void 0:s.frameElement);return d.map(W.fromDom)},fw=function(o){return Wr(o)},CD=Object.freeze({__proto__:null,view:Gg,owner:fw}),r4=function(o){var s=W.fromDom(document),d=Rv(s),m=YS(o,CD),x=Ml(o),T=Bt(m,function(O,B){var V=Ml(B);return{left:O.left+V.left,top:O.top+V.top}},{left:0,top:0});return Qf(T.left+x.left+d.left,T.top+x.top+d.top)},KS=function(o){return ni(o)==="textarea"},o4=function(o,s){var d=o.fire("ScrollIntoView",s);return d.isDefaultPrevented()},m1=function(o,s){o.fire("AfterScrollIntoView",s)},JS=function(o,s){var d=Vs(o);if(d.length===0||KS(o))return{element:o,offset:s};if(s<d.length&&!KS(d[s]))return{element:d[s],offset:0};var m=d[d.length-1];return KS(m)?{element:o,offset:s}:ni(m)==="img"?{element:m,offset:1}:xa(m)?{element:m,offset:f1(m).length}:{element:m,offset:Vs(m).length}},Mr=function(o,s){var d=ca(o),m=n4(o);return{element:o,bottom:d.top+m,height:m,pos:d,cleanup:s}},TD=function(o,s){var d=JS(o,s),m=W.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+dt+"</span>");return as(d.element,m),Mr(m,function(){return La(m)})},i4=function(o){return Mr(W.fromDom(o),le)},MD=function(o,s,d,m){a4(o,function(x,T){return gl(o,s,d,m)},d)},D0=function(o,s,d,m,x){var T={elm:m.element.dom,alignToTop:x};if(!o4(o,T)){var O=Rv(s).top;d(s,O,m,x),m1(o,T)}},gl=function(o,s,d,m){var x=W.fromDom(o.getBody()),T=W.fromDom(o.getDoc());b5(x);var O=TD(W.fromDom(d.startContainer),d.startOffset);D0(o,T,s,O,m),O.cleanup()},g1=function(o,s,d,m){var x=W.fromDom(o.getDoc());D0(o,x,d,i4(s),m)},a4=function(o,s,d){var m=d.startContainer,x=d.startOffset,T=d.endContainer,O=d.endOffset;s(W.fromDom(m),W.fromDom(T));var B=o.dom.createRng();B.setStart(m,x),B.setEnd(T,O),o.selection.setRng(d)},QS=function(o,s,d,m){var x=o.pos;if(d)Yl(x.left,x.top,m);else{var T=x.top-s+o.height;Yl(x.left,T,m)}},dw=function(o,s,d,m,x){var T=d+s,O=m.pos.top,B=m.bottom,V=B-O>=d;if(O<s)QS(m,d,x!==!1,o);else if(O>T){var Z=V?x!==!1:x===!0;QS(m,d,Z,o)}else B>T&&!V&&QS(m,d,x===!0,o)},kD=function(o,s,d,m){var x=o.dom.defaultView.innerHeight;dw(o,s,x,d,m)},DD=function(o,s,d,m){var x=o.dom.defaultView.innerHeight;dw(o,s,x,d,m);var T=r4(d.element),O=Bh(window);T.top<O.y?Pv(d.element,m!==!1):T.top>O.bottom&&Pv(d.element,m===!0)},AD=function(o,s,d){return MD(o,kD,s,d)},ED=function(o,s,d){return g1(o,s,kD,d)},rp=function(o,s,d){return MD(o,DD,s,d)},u4=function(o,s,d){return g1(o,s,DD,d)},s4=function(o,s,d){var m=o.inline?ED:u4;m(o,s,d)},A0=function(o,s,d){var m=o.inline?AD:rp;m(o,s,d)},l4=function(){return W.fromDom(document)},c4=function(o){return o.dom.focus()},ii=function(o){var s=ol(o).dom;return o.dom===s.activeElement},E0=function(o){return o===void 0&&(o=l4()),fe.from(o.dom.activeElement).map(W.fromDom)},dm=function(o){return E0(ol(o)).filter(function(s){return o.dom.contains(s.dom)})},nh=function(o,s,d,m){return{start:o,soffset:s,finish:d,foffset:m}},hm={create:nh},Gs=Sr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),hw=function(o,s,d,m){return o.fold(s,d,m)},v1=function(o){return o.fold(Ce,Ce,Ce)},O0=Gs.before,pm=Gs.on,f4=Gs.after,OD={before:O0,on:pm,after:f4,cata:hw,getStart:v1},pw=Sr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),d4=function(o){return pw.exact(o.start,o.soffset,o.finish,o.foffset)},Ro=function(o){return o.match({domRange:function(s){return W.fromDom(s.startContainer)},relative:function(s,d){return OD.getStart(s)},exact:function(s,d,m,x){return s}})},Af=pw.domRange,I0=pw.relative,ID=pw.exact,y1=function(o){var s=Ro(o);return Ta(s)},Bo=hm.create,ZS={domRange:Af,relative:I0,exact:ID,exactFromRange:d4,getWin:y1,range:Bo},RD=yr().browser,b1=function(o,s){var d=xa(s)?f1(s).length:Vs(s).length+1;return o>d?d:o<0?0:o},PD=function(o){return ZS.range(o.start,b1(o.soffset,o.start),o.finish,b1(o.foffset,o.finish))},x1=function(o,s){return!Bd(s.dom)&&(li(o,s)||Hr(o,s))},op=function(o){return function(s){return x1(o,s.start)&&x1(o,s.finish)}},eC=function(o){return o.inline===!0||RD.isIE()},ND=function(o){return ZS.range(W.fromDom(o.startContainer),o.startOffset,W.fromDom(o.endContainer),o.endOffset)},h4=function(o){var s=o.getSelection(),d=!s||s.rangeCount===0?fe.none():fe.from(s.getRangeAt(0));return d.map(ND)},p4=function(o){var s=Ta(o);return h4(s.dom).filter(op(o))},mm=function(o,s){return fe.from(s).filter(op(o)).map(PD)},Xg=function(o){var s=document.createRange();try{return s.setStart(o.start.dom,o.soffset),s.setEnd(o.finish.dom,o.foffset),fe.some(s)}catch{return fe.none()}},R0=function(o){var s=eC(o)?p4(W.fromDom(o.getBody())):fe.none();o.bookmark=s.isSome()?s:o.bookmark},LD=function(o,s){var d=W.fromDom(o.getBody()),m=eC(o)?fe.from(s):fe.none(),x=m.map(ND).filter(op(d));o.bookmark=x.isSome()?x:o.bookmark},tC=function(o){var s=o.bookmark?o.bookmark:fe.none();return s.bind(function(d){return mm(W.fromDom(o.getBody()),d)}).bind(Xg)},m4=function(o){tC(o).each(function(s){return o.selection.setRng(s)})},mw=function(o){var s=o.className.toString();return s.indexOf("tox-")!==-1||s.indexOf("mce-")!==-1},gw={isEditorUIElement:mw},nC=function(o){return o.type==="nodechange"&&o.selectionChange},g4=function(o,s){var d=function(){s.throttle()};na.DOM.bind(document,"mouseup",d),o.on("remove",function(){na.DOM.unbind(document,"mouseup",d)})},rC=function(o){o.on("focusout",function(){R0(o)})},vw=function(o,s){o.on("mouseup touchend",function(d){s.throttle()})},yw=function(o,s){var d=yr().browser;d.isIE()?rC(o):vw(o,s),o.on("keyup NodeChange",function(m){nC(m)||R0(o)})},oC=function(o){var s=Ci(function(){R0(o)},0);o.on("init",function(){o.inline&&g4(o,s),yw(o,s)}),o.on("remove",function(){s.cancel()})},Yg,bw=na.DOM,iC=function(o){return gw.isEditorUIElement(o)},xw=function(o){var s=o.classList;return s!==void 0?s.contains("tox-edit-area")||s.contains("tox-edit-area__iframe")||s.contains("mce-content-body"):!1},w1=function(o,s){var d=p0(o),m=bw.getParent(s,function(x){return iC(x)||(d?o.dom.is(x,d):!1)});return m!==null},BD=function(o){try{var s=ol(W.fromDom(o.getElement()));return E0(s).fold(function(){return document.body},function(d){return d.dom})}catch{return document.body}},v4=function(o,s){var d=s.editor;oC(d),d.on("focusin",function(){var m=o.focusedEditor;m!==d&&(m&&m.fire("blur",{focusedEditor:d}),o.setActive(d),o.focusedEditor=d,d.fire("focus",{blurredEditor:m}),d.focus(!0))}),d.on("focusout",function(){ks.setEditorTimeout(d,function(){var m=o.focusedEditor;!w1(d,BD(d))&&m===d&&(d.fire("blur",{focusedEditor:null}),o.focusedEditor=null)})}),Yg||(Yg=function(m){var x=o.activeEditor;x&&Cs(m).each(function(T){T.ownerDocument===document&&T!==document.body&&!w1(x,T)&&o.focusedEditor===x&&(x.fire("blur",{focusedEditor:null}),o.focusedEditor=null)})},bw.bind(document,"focusin",Yg))},zD=function(o,s){o.focusedEditor===s.editor&&(o.focusedEditor=null),o.activeEditor||(bw.unbind(document,"focusin",Yg),Yg=null)},FD=function(o){o.on("AddEditor",ke(v4,o)),o.on("RemoveEditor",ke(zD,o))},aC=function(o,s){return o.dom.getParent(s,function(d){return o.dom.getContentEditable(d)==="true"})},HD=function(o){return o.collapsed?fe.from(dl(o.startContainer,o.startOffset)).map(W.fromDom):fe.none()},VD=function(o,s){return HD(s).bind(function(d){return oi(d)?fe.some(d):li(o,d)===!1?fe.some(o):fe.none()})},uC=function(o,s){VD(W.fromDom(o.getBody()),s).bind(function(d){return pl(d.dom)}).fold(function(){o.selection.normalize()},function(d){return o.selection.setRng(d.toRange())})},sC=function(o){if(o.setActive)try{o.setActive()}catch{o.focus()}else o.focus()},y4=function(o){return ii(o)||dm(o).isSome()},b4=function(o){return o.iframeElement&&ii(W.fromDom(o.iframeElement))},P0=function(o){var s=o.getBody();return s&&y4(W.fromDom(s))},x4=function(o){var s=ol(W.fromDom(o.getElement()));return E0(s).filter(function(d){return!xw(d.dom)&&w1(o,d.dom)}).isSome()},gm=function(o){return o.inline?P0(o):b4(o)},jD=function(o){return gm(o)||x4(o)},Kg=function(o){var s=o.selection,d=o.getBody(),m=s.getRng();o.quirks.refreshContentEditable(),o.bookmark!==void 0&&gm(o)===!1&&tC(o).each(function(T){o.selection.setRng(T),m=T});var x=aC(o,s.getNode());if(o.$.contains(d,x)){sC(x),uC(o,m),ww(o);return}o.inline||(Cr.opera||sC(d),o.getWin().focus()),(Cr.gecko||o.inline)&&(sC(d),uC(o,m)),ww(o)},ww=function(o){return o.editorManager.setActive(o)},UD=function(o,s){o.removed||(s?ww(o):Kg(o))},lC=function(o,s,d,m,x){var T=d?s.startContainer:s.endContainer,O=d?s.startOffset:s.endOffset;return fe.from(T).map(W.fromDom).map(function(B){return!m||!s.collapsed?Kf(B,x(B,O)).getOr(B):B}).bind(function(B){return ua(B)?fe.some(B):Ma(B).filter(ua)}).map(function(B){return B.dom}).getOr(o)},_1=function(o,s,d){return lC(o,s,!0,d,function(m,x){return Math.min(qb(m),x)})},cC=function(o,s,d){return lC(o,s,!1,d,function(m,x){return x>0?x-1:x})},Jg=function(o,s){for(var d=o;o&&or(o)&&o.length===0;)o=s?o.nextSibling:o.previousSibling;return o||d},S1=function(o,s){var d,m,x;if(!s)return o;m=s.startContainer,x=s.endContainer;var T=s.startOffset,O=s.endOffset;return d=s.commonAncestorContainer,!s.collapsed&&(m===x&&O-T<2&&m.hasChildNodes()&&(d=m.childNodes[T]),m.nodeType===3&&x.nodeType===3&&(m.length===T?m=Jg(m.nextSibling,!0):m=m.parentNode,O===0?x=Jg(x.previousSibling,!1):x=x.parentNode,m&&m===x))?m:d&&d.nodeType===3?d.parentNode:d},w4=function(o,s,d,m){var x,T=[],O=o.getRoot();if(d=o.getParent(d||_1(O,s,s.collapsed),o.isBlock),m=o.getParent(m||cC(O,s,s.collapsed),o.isBlock),d&&d!==O&&T.push(d),d&&m&&d!==m){x=d;for(var B=new mi(d,O);(x=B.next())&&x!==m;)o.isBlock(x)&&T.push(x)}return m&&d!==m&&m!==O&&T.push(m),T},WD=function(o,s,d){return fe.from(s).map(function(m){var x=o.nodeIndex(m),T=o.createRng();return T.setStart(m.parentNode,x),T.setEnd(m.parentNode,x+1),d&&(Zd(o,T,m,!0),Zd(o,T,m,!1)),T})},N0=function(o,s){return Ft(s,function(d){var m=o.fire("GetSelectionRange",{range:d});return m.range!==d?m.range:d})},_4={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},C1=function(o,s,d){var m=d?"lastChild":"firstChild",x=d?"prev":"next";if(o[m])return o[m];if(o!==s){var T=o[x];if(T)return T;for(var O=o.parent;O&&O!==s;O=O.parent)if(T=O[x],T)return T}},T1=function(o){if(!yf(o.value))return!1;var s=o.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(o.value))},qD=function(o){var s=o.name==="a"&&!o.attr("href")&&o.attr("id");return o.attr("name")||o.attr("id")&&!o.firstChild||o.attr("data-mce-bookmark")||s},Xc=function(){function o(s,d){this.name=s,this.type=d,d===1&&(this.attributes=[],this.attributes.map={})}return o.create=function(s,d){var m=new o(s,_4[s]||1);return d&&wn(d,function(x,T){m.attr(T,x)}),m},o.prototype.replace=function(s){var d=this;return s.parent&&s.remove(),d.insert(s,d),d.remove(),d},o.prototype.attr=function(s,d){var m=this,x;if(typeof s!="string")return s!=null&&wn(s,function(O,B){m.attr(B,O)}),m;if(x=m.attributes){if(d!==void 0){if(d===null){if(s in x.map){delete x.map[s];for(var T=x.length;T--;)if(x[T].name===s)return x.splice(T,1),m}return m}if(s in x.map){for(var T=x.length;T--;)if(x[T].name===s){x[T].value=d;break}}else x.push({name:s,value:d});return x.map[s]=d,m}return x.map[s]}},o.prototype.clone=function(){var s=this,d=new o(s.name,s.type),m;if(m=s.attributes){var x=[];x.map={};for(var T=0,O=m.length;T<O;T++){var B=m[T];B.name!=="id"&&(x[x.length]={name:B.name,value:B.value},x.map[B.name]=B.value)}d.attributes=x}return d.value=s.value,d.shortEnded=s.shortEnded,d},o.prototype.wrap=function(s){var d=this;return d.parent.insert(s,d),s.append(d),d},o.prototype.unwrap=function(){for(var s=this,d=s.firstChild;d;){var m=d.next;s.insert(d,s,!0),d=m}s.remove()},o.prototype.remove=function(){var s=this,d=s.parent,m=s.next,x=s.prev;return d&&(d.firstChild===s?(d.firstChild=m,m&&(m.prev=null)):x.next=m,d.lastChild===s?(d.lastChild=x,x&&(x.next=null)):m.prev=x,s.parent=s.next=s.prev=null),s},o.prototype.append=function(s){var d=this;s.parent&&s.remove();var m=d.lastChild;return m?(m.next=s,s.prev=m,d.lastChild=s):d.lastChild=d.firstChild=s,s.parent=d,s},o.prototype.insert=function(s,d,m){s.parent&&s.remove();var x=d.parent||this;return m?(d===x.firstChild?x.firstChild=s:d.prev.next=s,s.prev=d.prev,s.next=d,d.prev=s):(d===x.lastChild?x.lastChild=s:d.next.prev=s,s.next=d.next,s.prev=d,d.next=s),s.parent=x,s},o.prototype.getAll=function(s){for(var d=this,m=[],x=d.firstChild;x;x=C1(x,d))x.name===s&&m.push(x);return m},o.prototype.children=function(){for(var s=this,d=[],m=s.firstChild;m;m=m.next)d.push(m);return d},o.prototype.empty=function(){var s=this;if(s.firstChild){for(var d=[],m=s.firstChild;m;m=C1(m,s))d.push(m);for(var x=d.length;x--;){var m=d[x];m.parent=m.firstChild=m.lastChild=m.next=m.prev=null}}return s.firstChild=s.lastChild=null,s},o.prototype.isEmpty=function(s,d,m){d===void 0&&(d={});var x=this,T=x.firstChild;if(qD(x))return!1;if(T)do{if(T.type===1){if(T.attr("data-mce-bogus"))continue;if(s[T.name]||qD(T))return!1}if(T.type===8||T.type===3&&!T1(T)||T.type===3&&T.parent&&d[T.parent.name]&&yf(T.value)||m&&m(T))return!1}while(T=C1(T,x));return!0},o.prototype.walk=function(s){return C1(this,null,s)},o}(),fC=function(o){for(var s=/data:[^;]+;base64,([a-z0-9\+\/=\s]+)/gi,d=[],m={},x=u0("img"),T,O=0,B=0;T=s.exec(o);){var V=T[0],Z=x+"_"+B++;m[Z]=V,O<T.index&&d.push(o.substr(O,T.index-O)),d.push(Z),O=T.index+V.length}var pe=new RegExp(x+"_[0-9]+","g");return O===0?{prefix:x,uris:m,html:o,re:pe}:(O<o.length&&d.push(o.substr(O)),{prefix:x,uris:m,html:d.join(""),re:pe})},_w=function(o,s){return o.replace(s.re,function(d){return Br(s.uris,d).getOr(d)})},S4=function(o){var s=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(o);return s?fe.some({type:s[1],data:decodeURIComponent(s[2])}):fe.none()},dC=qt.each,$D=qt.trim,Sw="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),M1={ftp:21,http:80,https:443,mailto:25},hC=["img","video"],GD=function(o,s){return ae(o)?!o:ae(s)?!Je(hC,s):!0},XD=function(o,s,d){return o.allow_html_data_urls?!1:/^data:image\//i.test(s)?GD(o.allow_svg_data_urls,d)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)},ip=function(){function o(s,d){s=$D(s),this.settings=d||{};var m=this.settings.base_uri,x=this;if(/^([\w\-]+):([^\/]{2})/i.test(s)||/^\s*#/.test(s)){x.source=s;return}var T=s.indexOf("//")===0;if(s.indexOf("/")===0&&!T&&(s=(m&&m.protocol||"http")+"://mce_host"+s),!/^[\w\-]*:?\/\//.test(s)){var O=this.settings.base_uri?this.settings.base_uri.path:new o(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")s="//mce_host"+x.toAbsPath(O,s);else{var B=/([^#?]*)([#?]?.*)/.exec(s);s=(m&&m.protocol||"http")+"://mce_host"+x.toAbsPath(O,B[1])+B[2]}}s=s.replace(/@@/g,"(mce_at)");var V=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(s);dC(Sw,function(Z,pe){var ge=V[pe];ge&&(ge=ge.replace(/\(mce_at\)/g,"@@")),x[Z]=ge}),m&&(x.protocol||(x.protocol=m.protocol),x.userInfo||(x.userInfo=m.userInfo),!x.port&&x.host==="mce_host"&&(x.port=m.port),(!x.host||x.host==="mce_host")&&(x.host=m.host),x.source=""),T&&(x.protocol="")}return o.parseDataUri=function(s){var d,m=decodeURIComponent(s).split(","),x=/data:([^;]+)/.exec(m[0]);return x&&(d=x[1]),{type:d,data:m[1]}},o.isDomSafe=function(s,d,m){if(m===void 0&&(m={}),m.allow_script_urls)return!0;var x=Mc.decode(s).replace(/[\s\u0000-\u001F]+/g,"");try{x=decodeURIComponent(x)}catch{x=unescape(x)}return/((java|vb)script|mhtml):/i.test(x)?!1:!XD(m,x,d)},o.getDocumentBaseUrl=function(s){var d;return s.protocol.indexOf("http")!==0&&s.protocol!=="file:"?d=s.href:d=s.protocol+"//"+s.host+s.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(d)&&(d=d.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(d)||(d+="/")),d},o.prototype.setPath=function(s){var d=/^(.*?)\/?(\w+)?$/.exec(s);this.path=d[0],this.directory=d[1],this.file=d[2],this.source="",this.getURI()},o.prototype.toRelative=function(s){var d;if(s==="./")return s;var m=new o(s,{base_uri:this});if(m.host!=="mce_host"&&this.host!==m.host&&m.host||this.port!==m.port||this.protocol!==m.protocol&&m.protocol!=="")return m.getURI();var x=this.getURI(),T=m.getURI();return x===T||x.charAt(x.length-1)==="/"&&x.substr(0,x.length-1)===T?x:(d=this.toRelPath(this.path,m.path),m.query&&(d+="?"+m.query),m.anchor&&(d+="#"+m.anchor),d)},o.prototype.toAbsolute=function(s,d){var m=new o(s,{base_uri:this});return m.getURI(d&&this.isSameOrigin(m))},o.prototype.isSameOrigin=function(s){if(this.host==s.host&&this.protocol==s.protocol){if(this.port==s.port)return!0;var d=M1[this.protocol];if(d&&(this.port||d)==(s.port||d))return!0}return!1},o.prototype.toRelPath=function(s,d){var m=0,x="",T,O,B=s.substring(0,s.lastIndexOf("/")).split("/"),V=d.split("/");if(B.length>=V.length){for(T=0,O=B.length;T<O;T++)if(T>=V.length||B[T]!==V[T]){m=T+1;break}}if(B.length<V.length){for(T=0,O=V.length;T<O;T++)if(T>=B.length||B[T]!==V[T]){m=T+1;break}}if(m===1)return d;for(T=0,O=B.length-(m-1);T<O;T++)x+="../";for(T=m-1,O=V.length;T<O;T++)T!==m-1?x+="/"+V[T]:x+=V[T];return x},o.prototype.toAbsPath=function(s,d){var m,x=0,T=[],O,B=/\/$/.test(d)?"/":"",V=s.split("/"),Z=d.split("/");for(dC(V,function(pe){pe&&T.push(pe)}),V=T,m=Z.length-1,T=[];m>=0;m--)if(!(Z[m].length===0||Z[m]===".")){if(Z[m]===".."){x++;continue}if(x>0){x--;continue}T.push(Z[m])}return m=V.length-x,m<=0?O=gn(T).join("/"):O=V.slice(0,m).join("/")+"/"+gn(T).join("/"),O.indexOf("/")!==0&&(O="/"+O),B&&O.lastIndexOf("/")!==O.length-1&&(O+=B),O},o.prototype.getURI=function(s){s===void 0&&(s=!1);var d;return(!this.source||s)&&(d="",s||(this.protocol?d+=this.protocol+"://":d+="//",this.userInfo&&(d+=this.userInfo+"@"),this.host&&(d+=this.host),this.port&&(d+=":"+this.port)),this.path&&(d+=this.path),this.query&&(d+="?"+this.query),this.anchor&&(d+="#"+this.anchor),this.source=d),this.source},o}(),Cw=qt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),C4=function(o){return o.indexOf("data-")===0||o.indexOf("aria-")===0},pC=function(o,s,d){for(var m=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,x=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,T=o.getShortEndedElements(),O=1,B=d;O!==0;)for(m.lastIndex=B;;){var V=m.exec(s);if(V===null)return B;if(V[1]==="!"){he(V[2],"--")?B=mC(s,!1,V.index+3):B=mC(s,!0,V.index+1);break}else{x.lastIndex=m.lastIndex;var Z=x.exec(s);if(L(Z)||Z.index!==m.lastIndex)continue;V[1]==="/"?O-=1:Vr(T,V[2])||(O+=1),B=m.lastIndex+Z[0].length;break}}return B},T4=function(o,s){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(o.substr(s))},mC=function(o,s,d){d===void 0&&(d=0);var m=o.toLowerCase();if(m.indexOf("[if ",d)!==-1&&T4(m,d)){var x=m.indexOf("[endif]",d);return m.indexOf(">",x)}else if(s){var T=m.indexOf(">",d);return T!==-1?T:m.length}else{var O=/--!?>/g;O.lastIndex=d;var B=O.exec(o);return B?B.index+B[0].length:m.length}},L0=function(o,s){var d=o.exec(s);if(d){var m=d[1],x=d[2];return typeof m=="string"&&m.toLowerCase()==="data-mce-bogus"?x:null}else return null},Tw=function(o,s){var d;s===void 0&&(s=Mo()),o=o||{};var m=(d=o.document)!==null&&d!==void 0?d:document,x=m.createElement("form");o.fix_self_closing!==!1&&(o.fix_self_closing=!0);var T=o.comment?o.comment:le,O=o.cdata?o.cdata:le,B=o.text?o.text:le,V=o.start?o.start:le,Z=o.end?o.end:le,pe=o.pi?o.pi:le,ge=o.doctype?o.doctype:le,ve=function(De,Ie){Ie===void 0&&(Ie="html");for(var Ne=De.html,Qe,Xe=0,at,xt,nt=[],Mt,Xt,Sn,Dr,Zn,pn,jr,An,Jn,Dn,Vn,rr,xn,ar,oo,xi,Uo,mu=0,ku=Mc.decode,Oc=qt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),ef=Ie==="html"?0:1,yn=function(Aa){var Ji,Du;for(Ji=nt.length;Ji--&&nt[Ji].name!==Aa;);if(Ji>=0){for(Du=nt.length-1;Du>=Ji;Du--)Aa=nt[Du],Aa.valid&&Z(Aa.name);nt.length=Ji}},zt=function(Aa,Ji){return B(_w(Aa,De),Ji)},Cn=function(Aa){Aa!==""&&(Aa.charAt(0)===">"&&(Aa=" "+Aa),!o.allow_conditional_comments&&Aa.substr(0,3).toLowerCase()==="[if"&&(Aa=" "+Aa),T(_w(Aa,De)))},Ht=function(Aa){return _w(Aa,De)},fr=function(Aa,Ji){var Du=Aa||"",fh=!he(Du,"--"),Om=mC(Ne,fh,Ji);return Aa=Ne.substr(Ji,Om-Ji),Cn(fh?Du+Aa:Aa),Om+1},Fn=function(Aa,Ji,Du,fh,Om){if(Ji=Ji.toLowerCase(),Du=Ht(Ji in fc?Ji:ku(Du||fh||Om||"")),wd&&!Zn&&C4(Ji)===!1){var dh=Vn[Ji];if(!dh&&rr){for(var mp=rr.length;mp--&&(dh=rr[mp],!dh.pattern.test(Ji)););mp===-1&&(dh=null)}if(!dh||dh.validValues&&!(Du in dh.validValues))return}var yT=Ji==="name"||Ji==="id";yT&&Aa in Cw&&(Du in m||Du in x)||Oc[Ji]&&!ip.isDomSafe(Du,Aa,o)||Zn&&(Ji in Oc||Ji.indexOf("on")===0)||(Mt.map[Ji]=Du,Mt.push({name:Ji,value:Du}))},zr=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),ko=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,pa=s.getShortEndedElements(),Ll=o.self_closing_elements||s.getSelfClosingElements(),fc=s.getBoolAttrs(),wd=o.validate,Bl=o.remove_internals,zl=o.fix_self_closing,zu=s.getSpecialElements(),pv=Ne+">";Qe=zr.exec(pv);){var Ps=Qe[0];if(Xe<Qe.index&&zt(ku(Ne.substr(Xe,Qe.index-Xe))),at=Qe[7])at=at.toLowerCase(),at.charAt(0)===":"&&(at=at.substr(1)),yn(at);else if(at=Qe[8]){if(Qe.index+Ps.length>Ne.length){zt(ku(Ne.substr(Qe.index))),Xe=Qe.index+Ps.length;continue}at=at.toLowerCase(),at.charAt(0)===":"&&(at=at.substr(1)),pn=at in pa,zl&&Ll[at]&&nt.length>0&&nt[nt.length-1].name===at&&yn(at);var _d=L0(ko,Qe[9]);if(_d!==null){if(_d==="all"){Xe=pC(s,Ne,zr.lastIndex),zr.lastIndex=Xe;continue}An=!1}if(!wd||(jr=s.getElementRule(at))){if(An=!0,wd&&(Vn=jr.attributes,rr=jr.attributePatterns),(Dn=Qe[9])?(Zn=Dn.indexOf("data-mce-type")!==-1,Zn&&Bl&&(An=!1),Mt=[],Mt.map={},Dn.replace(ko,function(Aa,Ji,Du,fh,Om){return Fn(at,Ji,Du,fh,Om),""})):(Mt=[],Mt.map={}),wd&&!Zn){if(xn=jr.attributesRequired,ar=jr.attributesDefault,oo=jr.attributesForced,xi=jr.removeEmptyAttrs,xi&&!Mt.length&&(An=!1),oo)for(Xt=oo.length;Xt--;)Jn=oo[Xt],Dr=Jn.name,Uo=Jn.value,Uo==="{$uid}"&&(Uo="mce_"+mu++),Mt.map[Dr]=Uo,Mt.push({name:Dr,value:Uo});if(ar)for(Xt=ar.length;Xt--;)Jn=ar[Xt],Dr=Jn.name,Dr in Mt.map||(Uo=Jn.value,Uo==="{$uid}"&&(Uo="mce_"+mu++),Mt.map[Dr]=Uo,Mt.push({name:Dr,value:Uo}));if(xn){for(Xt=xn.length;Xt--&&!(xn[Xt]in Mt.map););Xt===-1&&(An=!1)}if(Jn=Mt.map["data-mce-bogus"]){if(Jn==="all"){Xe=pC(s,Ne,zr.lastIndex),zr.lastIndex=Xe;continue}An=!1}}An&&V(at,Mt,pn)}else An=!1;if(xt=zu[at]){xt.lastIndex=Xe=Qe.index+Ps.length,(Qe=xt.exec(Ne))?(An&&(Sn=Ne.substr(Xe,Qe.index-Xe)),Xe=Qe.index+Qe[0].length):(Sn=Ne.substr(Xe),Xe=Ne.length),An&&(Sn.length>0&&zt(Sn,!0),Z(at)),zr.lastIndex=Xe;continue}pn||(!Dn||Dn.indexOf("/")!==Dn.length-1?nt.push({name:at,valid:An}):An&&Z(at))}else if(at=Qe[1])Cn(at);else if(at=Qe[2]){var Em=ef===1||o.preserve_cdata||nt.length>0&&s.isValidChild(nt[nt.length-1].name,"#cdata");if(Em)O(at);else{Xe=fr("",Qe.index+2),zr.lastIndex=Xe;continue}}else if(at=Qe[3])ge(at);else if((at=Qe[4])||Ps==="<!"){Xe=fr(at,Qe.index+Ps.length),zr.lastIndex=Xe;continue}else if(at=Qe[5])if(ef===1)pe(at,Qe[6]);else{Xe=fr("?",Qe.index+2),zr.lastIndex=Xe;continue}Xe=Qe.index+Ps.length}for(Xe<Ne.length&&zt(ku(Ne.substr(Xe))),Xt=nt.length-1;Xt>=0;Xt--)at=nt[Xt],at.valid&&Z(at.name)},Ae=function(De,Ie){Ie===void 0&&(Ie="html"),ve(fC(De),Ie)};return{parse:Ae}};Tw.findEndTag=pC;var M4=function(o,s){var d=new RegExp(["\\s?("+o.join("|")+')="[^"]+"'].join("|"),"gi");return s.replace(d,"")},YD=function(o,s){for(var d=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,m=o.schema,x=M4(o.getTempAttrs(),s),T=m.getShortEndedElements(),O;O=d.exec(x);){var B=d.lastIndex,V=O[0].length,Z=void 0;T[O[1]]?Z=B:Z=Tw.findEndTag(m,x,B),x=x.substring(0,B-V)+x.substring(Z),d.lastIndex=B-V}return rd(x)},gC=YD,vC=function(o,s){var d=hs(o),m=new RegExp("^(<"+d+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+d+`>[\r
]*|<br \\/>[\r
]*)$`);return s.replace(m,"")},k4=function(o,s){return dr(dr({},o),{format:s,get:!0,getInner:!0})},Mw=function(o,s,d,m){var x=k4(s,d),T=s.no_events?x:o.fire("BeforeGetContent",x),O;return T.format==="raw"?O=qt.trim(gC(o.serializer,m.innerHTML)):T.format==="text"?O=o.dom.isEmpty(m)?"":rd(m.innerText||m.textContent):T.format==="tree"?O=o.serializer.serialize(m,T):O=vC(o,o.serializer.serialize(m,T)),!Je(["text","tree"],T.format)&&!ug(W.fromDom(m))?T.content=qt.trim(O):T.content=O,T.no_events?T.content:o.fire("GetContent",T).content},KD=function(o,s,d){return fe.from(o.getBody()).fold(Q(s.format==="tree"?new Xc("body",11):""),function(m){return Mw(o,s,d,m)})},JD=qt.each,QD=function(o){var s=function(d,m){if(d.nodeName!==m.nodeName)return!1;var x=function(O){var B={};return JD(o.getAttribs(O),function(V){var Z=V.nodeName.toLowerCase();Z.indexOf("_")!==0&&Z!=="style"&&Z.indexOf("data-")!==0&&(B[Z]=o.getAttrib(O,Z))}),B},T=function(O,B){var V,Z;for(Z in O)if(Vr(O,Z)){if(V=B[Z],typeof V>"u"||O[Z]!==V)return!1;delete B[Z]}for(Z in B)if(Vr(B,Z))return!1;return!0};return!T(x(d),x(m))||!T(o.parseStyle(o.getAttrib(d,"style")),o.parseStyle(o.getAttrib(m,"style")))?!1:!ac(d)&&!ac(m)};return{compare:s}},k1=qt.makeMap,D1=function(o){var s=[];o=o||{};var d=o.indent,m=k1(o.indent_before||""),x=k1(o.indent_after||""),T=Mc.getEncodeFunc(o.entity_encoding||"raw",o.entities),O=o.element_format==="html";return{start:function(B,V,Z){var pe,ge,ve,Ae;if(d&&m[B]&&s.length>0&&(Ae=s[s.length-1],Ae.length>0&&Ae!==`
`&&s.push(`
`)),s.push("<",B),V)for(pe=0,ge=V.length;pe<ge;pe++)ve=V[pe],s.push(" ",ve.name,'="',T(ve.value,!0),'"');!Z||O?s[s.length]=">":s[s.length]=" />",Z&&d&&x[B]&&s.length>0&&(Ae=s[s.length-1],Ae.length>0&&Ae!==`
`&&s.push(`
`))},end:function(B){var V;s.push("</",B,">"),d&&x[B]&&s.length>0&&(V=s[s.length-1],V.length>0&&V!==`
`&&s.push(`
`))},text:function(B,V){B.length>0&&(s[s.length]=V?B:T(B))},cdata:function(B){s.push("<![CDATA[",B,"]]>")},comment:function(B){s.push("<!--",B,"-->")},pi:function(B,V){V?s.push("<?",B," ",T(V),"?>"):s.push("<?",B,"?>"),d&&s.push(`
`)},doctype:function(B){s.push("<!DOCTYPE",B,">",d?`
`:"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}},Qg=function(o,s){s===void 0&&(s=Mo());var d=D1(o);o=o||{},o.validate="validate"in o?o.validate:!0;var m=function(x){var T=o.validate,O={3:function(V){d.text(V.value,V.raw)},8:function(V){d.comment(V.value)},7:function(V){d.pi(V.name,V.value)},10:function(V){d.doctype(V.value)},4:function(V){d.cdata(V.value)},11:function(V){if(V=V.firstChild)do B(V);while(V=V.next)}};d.reset();var B=function(V){var Z=O[V.type];if(Z)Z(V);else{var pe=V.name,ge=V.shortEnded,ve=V.attributes;if(T&&ve&&ve.length>1){var Ae=[];Ae.map={};var De=s.getElementRule(V.name);if(De){for(var Ie=0,Ne=De.attributesOrder.length;Ie<Ne;Ie++){var Qe=De.attributesOrder[Ie];if(Qe in ve.map){var Xe=ve.map[Qe];Ae.map[Qe]=Xe,Ae.push({name:Qe,value:Xe})}}for(var Ie=0,Ne=ve.length;Ie<Ne;Ie++){var Qe=ve[Ie].name;if(!(Qe in Ae.map)){var Xe=ve.map[Qe];Ae.map[Qe]=Xe,Ae.push({name:Qe,value:Xe})}}ve=Ae}}if(d.start(V.name,ve,ge),!ge){if(V=V.firstChild)do B(V);while(V=V.next);d.end(pe)}}};return x.type===1&&!o.inner?B(x):O[11](x),d.getContent()};return{serialize:m}},ZD=new Set;(function(){var o=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];Ct(o,function(s){ZD.add(s)})})();var eA=["font","text-decoration","text-emphasis"],kw=function(o,s){return an(o.parseStyle(o.getAttrib(s,"style")))},Dw=function(o){return ZD.has(o)},yC=function(o,s){return Go(kw(o,s),function(d){return!Dw(d)})},bC=function(o){return Ke(o,function(s){return st(eA,function(d){return he(s,d)})})},tA=function(o,s,d){var m=kw(o,s),x=kw(o,d),T=function(O){var B=o.getStyle(s,O),V=o.getStyle(d,O);return Dt(B)&&Dt(V)&&B!==V};return st(m,function(O){var B=function(Z){return st(Z,function(pe){return pe===O})};if(!B(x)&&B(eA)){var V=bC(x);return st(V,T)}else return T(O)})},rh=function(o,s,d){return fe.from(d.container()).filter(or).exists(function(m){var x=o?0:-1;return s(m.data.charAt(d.offset()+x))})},xC=ke(rh,!0,b0),oh=ke(rh,!1,b0),D4=function(o){var s=o.container();return or(s)&&(s.data.length===0||sl(s.data)&&eh.isBookmarkNode(s.parentNode))},ap=function(o,s){return function(d){return fe.from(v0(o?0:-1,d)).filter(s).isSome()}},nA=function(o){return Nv(o)&&bo(W.fromDom(o),"display")==="block"},rA=function(o){return sa(o)&&!wu(o)},A4=ap(!0,nA),E4=ap(!1,nA),B0=ap(!0,kl),z0=ap(!1,kl),Aw=ap(!0,eu),oA=ap(!1,eu),vm=ap(!0,rA),ym=ap(!1,rA),iA=function(o){for(var s=[],d=o.dom;d;)s.push(W.fromDom(d)),d=d.lastChild;return s},A1=function(o){var s=Il(o,"br"),d=Ke(iA(o).slice(-1),Uv);s.length===d.length&&Ct(d,La)},Zg=function(o){Rh(o),xu(o,W.fromHtml('<br data-mce-bogus="1">'))},Rr=function(o){Xl(o).each(function(s){Eh(s).each(function(d){_c(o)&&Uv(s)&&_c(d)&&La(s)})})},wC=function(o){return o.slice(0,-1)},Ew=function(o,s,d){return li(s,o)?wC(bu(o,function(m){return d(m)||Hr(m,s)})):[]},_C=function(o,s){return Ew(o,s,Ge)},up=function(o,s){return[o].concat(_C(o,s))},Ow=function(o,s,d){return o1(o,s,d,D4)},E1=function(o,s){return Qn(up(W.fromDom(s.container()),o),_c)},Iw=function(o,s,d){return Ow(o,s.dom,d).forall(function(m){return E1(s,d).fold(function(){return Mf(m,d,s.dom)===!1},function(x){return Mf(m,d,s.dom)===!1&&li(x,W.fromDom(m.container()))})})},SC=function(o,s,d){return E1(s,d).fold(function(){return Ow(o,s.dom,d).forall(function(m){return Mf(m,d,s.dom)===!1})},function(m){return Ow(o,m.dom,d).isNone()})},CC=ke(SC,!1),Zr=ke(SC,!0),aA=ke(Iw,!1),po=ke(Iw,!0),uA=function(o){return am(o).exists(Uv)},O1=function(o,s,d){var m=Ke(up(W.fromDom(d.container()),s),_c),x=hn(m).getOr(s);return Os(o,x.dom,d).filter(uA)},Rw=function(o,s){return am(s).exists(Uv)||O1(!0,o,s).isSome()},bm=function(o,s){return Uk(s).exists(Uv)||O1(!1,o,s).isSome()},TC=ke(O1,!1),Pw=ke(O1,!0),I1=function(o){return Ut.isTextPosition(o)&&!o.isAtStart()&&!o.isAtEnd()},sA=function(o,s){var d=Ke(up(W.fromDom(s.container()),o),_c);return hn(d).getOr(o)},$r=function(o,s){return I1(s)?oh(s):oh(s)||Wc(sA(o,s).dom,s).exists(oh)},lA=function(o,s){return I1(s)?xC(s):xC(s)||Uc(sA(o,s).dom,s).exists(xC)},cA=function(o){return Je(["pre","pre-wrap"],o)},F0=function(o){return am(o).bind(function(s){return Hv(s,ua)}).exists(function(s){return cA(bo(s,"white-space"))})},ev=function(o,s){return Wc(o.dom,s).isNone()},fA=function(o,s){return Uc(o.dom,s).isNone()},dA=function(o,s){return ev(o,s)||fA(o,s)||CC(o,s)||Zr(o,s)||bm(o,s)||Rw(o,s)},MC=function(o,s){return F0(s)?!1:dA(o,s)||$r(o,s)||lA(o,s)},Nw=function(o,s){return F0(s)?!1:CC(o,s)||aA(o,s)||bm(o,s)||$r(o,s)},hA=function(o){var s=o.container(),d=o.offset();return or(s)&&d<s.data.length?Ut(s,d+1):o},Lw=function(o,s){return F0(s)?!1:Zr(o,s)||po(o,s)||Rw(o,s)||lA(o,s)},pA=function(o,s){return Nw(o,s)||Lw(o,hA(s))},mA=function(o,s){return sm(o.charAt(s))},O4=function(o){var s=o.container();return or(s)&&Jt(s.data,Jl)},I4=function(o){var s=o.split("");return Ft(s,function(d,m){return sm(d)&&m>0&&m<s.length-1&&i1(s[m-1])&&i1(s[m+1])?" ":d}).join("")},R4=function(o,s){var d=s.data,m=Ut(s,0);return mA(d,0)&&!pA(o,m)?(s.data=" "+d.slice(1),!0):!1},P4=function(o){var s=o.data,d=I4(s);return d!==s?(o.data=d,!0):!1},gA=function(o,s){var d=s.data,m=Ut(s,d.length-1);return mA(d,d.length-1)&&!pA(o,m)?(s.data=d.slice(0,-1)+" ",!0):!1},kC=function(o,s){return fe.some(s).filter(O4).bind(function(d){var m=d.container(),x=R4(o,m)||P4(m)||gA(o,m);return x?fe.some(d):fe.none()})},zo=function(o){var s=W.fromDom(o.getBody());o.selection.isCollapsed()&&kC(s,Ut.fromRangeStart(o.selection.getRng())).each(function(d){o.selection.setRng(d.toRange())})},vA=function(o,s,d){var m=Mn(o,function(x,T){return b0(T)||sm(T)?x.previousCharIsSpace||x.str===""&&s||x.str.length===o.length-1&&d?{previousCharIsSpace:!1,str:x.str+Jl}:{previousCharIsSpace:!0,str:x.str+" "}:{previousCharIsSpace:!1,str:x.str+T}},{previousCharIsSpace:!1,str:""});return m.str},R1=function(o,s,d){if(d!==0){var m=W.fromDom(o),x=Pp(m,_c).getOr(m),T=o.data.slice(s,s+d),O=s+d>=o.data.length&&Lw(x,Ut(o,o.data.length)),B=s===0&&Nw(x,Ut(o,0));o.replaceData(s,d,vA(T,B,O))}},P1=function(o,s){var d=o.data.slice(s),m=d.length-lt(d).length;R1(o,s,m)},Bw=function(o,s){var d=o.data.slice(0,s),m=d.length-_t(d).length;R1(o,s-m,m)},zw=function(o,s,d,m){m===void 0&&(m=!0);var x=_t(o.data).length,T=m?o:s,O=m?s:o;return m?T.appendData(O.data):T.insertData(0,O.data),La(W.fromDom(O)),d&&P1(T,x),T},yA=function(o,s){var d=o.container(),m=o.offset();return Ut.isTextPosition(o)===!1&&d===s.parentNode&&m>Ut.before(s).offset()},bA=function(o,s){return yA(s,o)?Ut(s.container(),s.offset()-1):s},v=function(o){return or(o)?Ut(o,0):Ut.before(o)},C=function(o){return or(o)?Ut(o,o.data.length):Ut.after(o)},D=function(o){return jd(o.previousSibling)?fe.some(C(o.previousSibling)):o.previousSibling?fd(o.previousSibling):fe.none()},P=function(o){return jd(o.nextSibling)?fe.some(v(o.nextSibling)):o.nextSibling?pl(o.nextSibling):fe.none()},F=function(o,s){var d=Ut.before(s.previousSibling?s.previousSibling:s.parentNode);return Wc(o,d).fold(function(){return Uc(o,Ut.after(s))},fe.some)},$=function(o,s){return Uc(o,Ut.after(s)).fold(function(){return Wc(o,Ut.before(s))},fe.some)},re=function(o,s){return D(s).orThunk(function(){return P(s)}).orThunk(function(){return F(o,s)})},de=function(o,s){return P(s).orThunk(function(){return D(s)}).orThunk(function(){return $(o,s)})},Se=function(o,s,d){return o?de(s,d):re(s,d)},Le=function(o,s,d){return Se(o,s,d).map(ke(bA,d))},ot=function(o,s,d){d.fold(function(){o.focus()},function(m){o.selection.setRng(m.toRange(),s)})},$t=function(o){return function(s){return s.dom===o}},_n=function(o,s){return s&&Vr(o.schema.getBlockElements(),ni(s))},sn=function(o){if(ls(o)){var s=W.fromHtml('<br data-mce-bogus="1">');return Rh(o),xu(o,s),fe.some(Ut.before(s.dom))}else return fe.none()},Gt=function(o,s,d){var m=Eh(o).filter(xa),x=bc(o).filter(xa);return La(o),s_(m,x,s,function(T,O,B){var V=T.dom,Z=O.dom,pe=V.data.length;return zw(V,Z,d),B.container()===Z?Ut(V,pe):B}).orThunk(function(){return d&&(m.each(function(T){return Bw(T.dom,T.dom.length)}),x.each(function(T){return P1(T.dom,0)})),s})},Nn=function(o,s){return Vr(o.schema.getTextInlineElements(),ni(s))},Pn=function(o,s,d,m){m===void 0&&(m=!0);var x=Le(s,o.getBody(),d.dom),T=Pp(d,ke(_n,o),$t(o.getBody())),O=Gt(d,x,Nn(o,d));o.dom.isEmpty(o.getBody())?(o.setContent(""),o.selection.setCursorLocation()):T.bind(sn).fold(function(){m&&ot(o,s,O)},function(B){m&&ot(o,s,fe.some(B))})},xr=function(o){return function(s){return Hr(o,s)}},qo=function(o){return Il(o,"td,th")},Ar=function(o,s){var d=function(Z){return kf(W.fromDom(Z),s)},m=d(o.startContainer),x=d(o.endContainer),T=m.isSome(),O=x.isSome(),B=js(m,x,Hr).getOr(!1),V=!B&&T&&O;return{startTable:m,endTable:x,isStartInTable:T,isEndInTable:O,isSameTable:B,isMultiTable:V}},Gr=function(o,s){return{start:o,end:s}},Po=function(o,s,d){return{rng:o,table:s,cells:d}},xo=Sr.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),za=function(o,s){return $a(W.fromDom(o),"td,th",s)},Lu=function(o){return!Hr(o.start,o.end)},Xs=function(o,s){return kf(o.start,s).bind(function(d){return kf(o.end,s).bind(function(m){return l_(Hr(d,m),d)})})},Yo=function(o,s){return!Lu(o)&&Xs(o,s).exists(function(d){var m=d.dom.rows;return m.length===1&&m[0].cells.length===1})},eo=function(o,s){var d=za(o.startContainer,s),m=za(o.endContainer,s);return js(d,m,Gr)},Fo=function(o){return function(s){return kf(s,o).bind(function(d){return Bn(qo(d)).map(function(m){return Gr(s,m)})})}},bi=function(o){return function(s){return kf(s,o).bind(function(d){return hn(qo(d)).map(function(m){return Gr(m,s)})})}},ha=function(o){return function(s){return Xs(s,o).map(function(d){return Po(s,d,qo(d))})}},ih=function(o,s,d,m){if(d.collapsed||!o.forall(Lu))return fe.none();if(s.isSameTable){var x=o.bind(ha(m));return fe.some({start:x,end:x})}else{var T=za(d.startContainer,m),O=za(d.endContainer,m),B=T.bind(Fo(m)).bind(ha(m)),V=O.bind(bi(m)).bind(ha(m));return fe.some({start:B,end:V})}},gi=function(o,s){return pr(o,function(d){return Hr(d,s)})},sc=function(o){return js(gi(o.cells,o.rng.start),gi(o.cells,o.rng.end),function(s,d){return o.cells.slice(s,d+1)})},gs=function(o,s,d){return o.exists(function(m){return Yo(m,d)&&l1(m.start,s)})},N1=function(o,s){var d=s.startTable,m=s.endTable,x=o.cloneRange();return d.each(function(T){return x.setStartAfter(T.dom)}),m.each(function(T){return x.setEndBefore(T.dom)}),x},tv=function(o,s,d,m){return ih(o,s,d,m).bind(function(x){var T=x.start,O=x.end;return T.or(O)}).bind(function(x){var T=s.isSameTable,O=sc(x).getOr([]);if(T&&x.cells.length===O.length)return fe.some(xo.fullTable(x.table));if(O.length>0){if(T)return fe.some(xo.partialTable(O,fe.none()));var B=N1(d,s);return fe.some(xo.partialTable(O,fe.some(dr(dr({},s),{rng:B}))))}else return fe.none()})},md=function(o,s,d,m){return ih(o,s,d,m).bind(function(x){var T=x.start,O=x.end,B=T.bind(sc).getOr([]),V=O.bind(sc).getOr([]);if(B.length>0&&V.length>0){var Z=N1(d,s);return fe.some(xo.multiTable(B,V,Z))}else return fe.none()})},Yc=function(o,s){var d=xr(o),m=eo(s,d),x=Ar(s,d);return gs(m,s,d)?m.map(function(T){return xo.singleCellTable(s,T.start)}):x.isMultiTable?md(m,x,s,d):tv(m,x,s,d)},gd=function(o){var s=$l(o)?Eh(o):Xl(o);return s.bind(gd).orThunk(function(){return fe.some(o)})},L1=function(o){return Ct(o,function(s){Qt(s,"contenteditable"),Zg(s)})},H0=function(o,s){return fe.from(o.dom.getParent(s,o.dom.isBlock)).map(W.fromDom)},B1=function(o,s,d){d.each(function(m){s?La(m):(Zg(m),o.selection.setCursorLocation(m.dom,0))})},nv=function(o,s,d,m){var x=d.cloneRange();m?(x.setStart(d.startContainer,d.startOffset),x.setEndAfter(s.dom.lastChild)):(x.setStartBefore(s.dom.firstChild),x.setEnd(d.endContainer,d.endOffset)),Hw(o,x,s,!1)},Ef=function(o){var s=Wg(o),d=W.fromDom(o.selection.getNode());Lv(d.dom)&&ls(d)?o.selection.setCursorLocation(d.dom,0):o.selection.collapse(!0),s.length>1&&st(s,function(m){return Hr(m,d)})&&J(d,"data-mce-selected","1")},rv=function(o,s,d){var m=o.selection.getRng(),x=d.bind(function(T){var O=T.rng,B=T.isStartInTable,V=H0(o,B?O.endContainer:O.startContainer);O.deleteContents(),B1(o,B,V.filter(ls));var Z=B?s[0]:s[s.length-1];return nv(o,Z,m,B),ls(Z)?fe.none():fe.some(B?s.slice(1):s.slice(0,-1))}).getOr(s);return L1(x),Ef(o),!0},Fw=function(o,s,d,m){var x=o.selection.getRng(),T=s[0],O=d[d.length-1];nv(o,T,x,!0),nv(o,O,x,!1);var B=ls(T)?s:s.slice(1),V=ls(O)?d:d.slice(0,-1);return L1(B.concat(V)),m.deleteContents(),Ef(o),!0},Hw=function(o,s,d,m){m===void 0&&(m=!0),s.deleteContents();var x=gd(d).getOr(d),T=W.fromDom(o.dom.getParent(x.dom,o.dom.isBlock));if(ls(T)&&(Zg(T),m&&o.selection.setCursorLocation(T.dom,0)),!Hr(d,T)){var O=ig(Ma(T),d)?[]:Za(T);Ct(O.concat(Vs(d)),function(B){!Hr(B,T)&&!li(B,T)&&ls(B)&&La(B)})}return!0},z1=function(o,s){return Pn(o,!1,s),!0},WL=function(o,s,d){return Yc(s,d).map(function(m){return m.fold(ke(Hw,o),ke(z1,o),ke(rv,o),ke(Fw,o))})},P9=function(o,s){return Of(o,s)},N9=function(o,s,d,m){return vl(s,m).fold(function(){return WL(o,s,d)},function(x){return P9(o,x)}).getOr(!1)},ov=function(o,s,d){var m=W.fromDom(o.getBody()),x=o.selection.getRng();return d.length!==0?rv(o,d,fe.none()):N9(o,m,x,s)},qL=function(o,s){return Qn(up(s,o),nd)},vl=function(o,s){return Qn(up(s,o),Ty("caption"))},ci=function(o,s,d,m,x){return zg(d,o.getBody(),x).bind(function(T){return qL(s,W.fromDom(T.getNode())).map(function(O){return Hr(O,m)===!1})})},Of=function(o,s){return Zg(s),o.selection.setCursorLocation(s.dom,0),fe.some(!0)},L9=function(o,s,d,m){return pl(o.dom).bind(function(x){return fd(o.dom).map(function(T){return s?d.isEqual(x)&&m.isEqual(T):d.isEqual(T)&&m.isEqual(x)})}).getOr(!0)},$L=function(o,s){return Of(o,s)},N4=function(o,s,d){return vl(o,W.fromDom(d.getNode())).map(function(m){return Hr(m,s)===!1})},L4=function(o,s,d,m,x){return zg(d,o.getBody(),x).bind(function(T){return L9(m,d,x,T)?$L(o,m):N4(s,m,T)}).or(fe.some(!0))},GL=function(o,s,d,m){var x=Ut.fromRangeStart(o.selection.getRng());return qL(d,m).bind(function(T){return ls(T)?Of(o,T):ci(o,d,s,T,x)}).getOr(!1)},XL=function(o,s,d,m){var x=Ut.fromRangeStart(o.selection.getRng());return ls(m)?Of(o,m):L4(o,d,s,m,x)},YL=function(o,s){return o?Aw(s):oA(s)},B9=function(o,s){var d=Ut.fromRangeStart(o.selection.getRng());return YL(s,d)||Os(s,o.getBody(),d).exists(function(m){return YL(s,m)})},B4=function(o,s,d){var m=W.fromDom(o.getBody());return vl(m,d).fold(function(){return GL(o,s,m,d)||B9(o,s)},function(x){return XL(o,s,m,x).getOr(!1)})},DC=function(o,s){var d=W.fromDom(o.selection.getStart(!0)),m=Wg(o);return o.selection.isCollapsed()&&m.length===0?B4(o,s,d):ov(o,d,m)},sp=function(o,s,d,m){var x=document.createRange();return x.setStart(o,s),x.setEnd(d,m),x},z9=function(o){var s=Ut.fromRangeStart(o),d=Ut.fromRangeEnd(o),m=o.commonAncestorContainer;return Os(!1,m,d).map(function(x){return!Mf(s,d,m)&&Mf(s,x,m)?sp(s.container(),s.offset(),x.container(),x.offset()):o}).getOr(o)},z4=function(o){return o.collapsed?o:z9(o)},F9=function(o){return o.firstChild&&o.firstChild===o.lastChild},F4=function(o){return o.name==="br"||o.value===Jl},H9=function(o,s){var d=o.getBlockElements();return d[s.name]&&F9(s)&&F4(s.firstChild)},V9=function(o,s){var d=o.getNonEmptyElements();return s&&(s.isEmpty(d)||H9(o,s))},H4=function(o,s){var d=s.firstChild,m=s.lastChild;return d&&d.name==="meta"&&(d=d.next),m&&m.attr("id")==="mce_marker"&&(m=m.prev),V9(o,m)&&(m=m.prev),!d||d!==m?!1:d.name==="ul"||d.name==="ol"},j9=function(o){var s=o.firstChild,d=o.lastChild;return s&&s.nodeName==="META"&&s.parentNode.removeChild(s),d&&d.id==="mce_marker"&&d.parentNode.removeChild(d),o},U9=function(o,s,d){var m=s.serialize(d),x=o.createFragment(m);return j9(x)},KL=function(o){return Ke(o.childNodes,function(s){return s.nodeName==="LI"})},W9=function(o){return o.data===Jl||Ri(o)},q9=function(o){return o&&o.firstChild&&o.firstChild===o.lastChild&&W9(o.firstChild)},xA=function(o){return!o.firstChild||q9(o)},$9=function(o){return o.length>0&&xA(o[o.length-1])?o.slice(0,-1):o},wA=function(o,s){var d=o.getParent(s,o.isBlock);return d&&d.nodeName==="LI"?d:null},JL=function(o,s){return!!wA(o,s)},V4=function(o,s){var d=s.cloneRange(),m=s.cloneRange();return d.setStartBefore(o),m.setEndAfter(o),[d.cloneContents(),m.cloneContents()]},G9=function(o,s){var d=Ut.before(o),m=cd(s),x=m.next(d);return x?x.toRange():null},QL=function(o,s){var d=Ut.after(o),m=cd(s),x=m.prev(d);return x?x.toRange():null},j4=function(o,s,d,m){var x=V4(o,m),T=o.parentNode;return T.insertBefore(x[0],o),qt.each(s,function(O){T.insertBefore(O,o)}),T.insertBefore(x[1],o),T.removeChild(o),QL(s[s.length-1],d)},X9=function(o,s,d){var m=o.parentNode;return qt.each(s,function(x){m.insertBefore(x,o)}),G9(o,d)},Y9=function(o,s,d,m){return m.insertAfter(s.reverse(),o),QL(s[0],d)},AC=function(o,s,d,m){var x=U9(s,o,m),T=wA(s,d.startContainer),O=$9(KL(x.firstChild)),B=1,V=2,Z=s.getRoot(),pe=function(ge){var ve=Ut.fromRangeStart(d),Ae=cd(s.getRoot()),De=ge===B?Ae.prev(ve):Ae.next(ve);return De?wA(s,De.getNode())!==T:!0};return pe(B)?X9(T,O,Z):pe(V)?Y9(T,O,Z,s):j4(T,O,Z,d)},U4=function(o,s,d){var m=W.fromDom(o.getRoot());return Nw(m,Ut.fromRangeStart(s))?d=d.replace(/^ /,"&nbsp;"):d=d.replace(/^&nbsp;/," "),Lw(m,Ut.fromRangeEnd(s))?d=d.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):d=d.replace(/&nbsp;(<br( \/)?>)?$/," "),d},W4=Lv,K9=function(o,s,d){if(d!==null){var m=o.getParent(s.endContainer,W4);return d===m&&l1(W.fromDom(d),s)}else return!1},ZL=function(o,s,d){if(d.getAttribute("data-mce-bogus")==="all")d.parentNode.insertBefore(o.dom.createFragment(s),d);else{var m=d.firstChild,x=d.lastChild;!m||m===x&&m.nodeName==="BR"?o.dom.setHTML(d,s):o.selection.setContent(s)}},e6=function(o,s){fe.from(o.getParent(s,"td,th")).map(W.fromDom).each(Rr)},J9=function(o,s){var d=o.schema.getTextInlineElements(),m=o.dom;if(s){var x=o.getBody(),T=QD(m);qt.each(m.select("*[data-mce-fragment]"),function(O){var B=ae(d[O.nodeName.toLowerCase()]);if(B&&yC(m,O))for(var V=O.parentNode;ae(V)&&V!==x;V=V.parentNode){var Z=tA(m,O,V);if(Z)break;if(T.compare(V,O)){m.remove(O,!0);break}}})}},Q9=function(o){for(var s=o;s=s.walk();)s.type===1&&s.attr("data-mce-fragment","1")},Z9=function(o){qt.each(o.getElementsByTagName("*"),function(s){s.removeAttribute("data-mce-fragment")})},ej=function(o){return!!o.getAttribute("data-mce-fragment")},t6=function(o,s){return s&&!o.schema.getShortEndedElements()[s.nodeName]},n6=function(o,s){var d,m=o.dom,x=o.selection;if(s){x.scrollIntoView(s);var T=cm(o.getBody(),s);if(m.getContentEditable(T)==="false"){m.remove(s),x.select(T);return}var O=m.createRng(),B=s.previousSibling;if(or(B)){if(O.setStart(B,B.nodeValue.length),!Cr.ie){var V=s.nextSibling;or(V)&&(B.appendData(V.data),V.parentNode.removeChild(V))}}else O.setStartBefore(s),O.setEndBefore(s);var Z=function(ge){var ve=Ut.fromRangeStart(ge),Ae=cd(o.getBody());if(ve=Ae.next(ve),ve)return ve.toRange()},pe=m.getParent(s,m.isBlock);m.remove(s),pe&&m.isEmpty(pe)&&(o.$(pe).empty(),O.setStart(pe,0),O.setEnd(pe,0),!W4(pe)&&!ej(pe)&&(d=Z(O))?(O=d,m.remove(pe)):m.add(pe,m.create("br",{"data-mce-bogus":"1"}))),x.setRng(O)}},tj=function(o){var s=o.dom,d=z4(o.selection.getRng());o.selection.setRng(d);var m=s.getParent(d.startContainer,W4);K9(s,d,m)?Hw(o,d,W.fromDom(m)):o.getDoc().execCommand("Delete",!1,null)},nj=function(o,s,d){var m,x,T,O=o.selection,B=o.dom;/^ | $/.test(s)&&(s=U4(B,O.getRng(),s));var V=o.parser,Z=d.merge,pe=Qg({validate:kk(o)},o.schema),ge='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',ve=o.fire("BeforeSetContent",{content:s,format:"html",selection:!0,paste:d.paste});if(ve.isDefaultPrevented()){o.fire("SetContent",{content:ve.content,format:"html",selection:!0,paste:d.paste});return}s=ve.content,s.indexOf("{$caret}")===-1&&(s+="{$caret}"),s=s.replace(/\{\$caret\}/,ge),x=O.getRng();var Ae=x.startContainer||(x.parentElement?x.parentElement():null),De=o.getBody();Ae===De&&O.isCollapsed()&&B.isBlock(De.firstChild)&&t6(o,De.firstChild)&&B.isEmpty(De.firstChild)&&(x=B.createRng(),x.setStart(De.firstChild,0),x.setEnd(De.firstChild,0),O.setRng(x)),O.isCollapsed()||tj(o),m=O.getNode();var Ie={context:m.nodeName.toLowerCase(),data:d.data,insert:!0},Ne=V.parse(s,Ie);if(d.paste===!0&&H4(o.schema,Ne)&&JL(B,m)){x=AC(pe,B,O.getRng(),Ne),O.setRng(x),o.fire("SetContent",ve);return}if(Q9(Ne),T=Ne.lastChild,T.attr("id")==="mce_marker"){var Qe=T;for(T=T.prev;T;T=T.walk(!0))if(T.type===3||!B.isBlock(T.name)){o.schema.isValidChild(T.parent.name,"span")&&T.parent.insert(Qe,T,T.name==="br");break}}if(o._selectionOverrides.showBlockCaretContainer(m),!Ie.invalid)s=pe.serialize(Ne),ZL(o,s,m);else{o.selection.setContent(ge),m=O.getNode();var Xe=o.getBody();for(m.nodeType===9?m=T=Xe:T=m;T!==Xe;)m=T,T=T.parentNode;s=m===Xe?Xe.innerHTML:B.getOuterHTML(m),s=pe.serialize(V.parse(s.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return pe.serialize(Ne)}))),m===Xe?B.setHTML(Xe,s):B.setOuterHTML(m,s)}J9(o,Z),n6(o,B.get("mce_marker")),Z9(o.getBody()),e6(B,O.getStart()),o.fire("SetContent",ve),o.addVisual()},q4=function(o,s){s(o),o.firstChild&&q4(o.firstChild,s),o.next&&q4(o.next,s)},rj=function(o,s,d){var m={},x={},T=[];d.firstChild&&q4(d.firstChild,function(V){Ct(o,function(Z){Z.name===V.name&&(m[Z.name]?m[Z.name].nodes.push(V):m[Z.name]={filter:Z,nodes:[V]})}),Ct(s,function(Z){typeof V.attr(Z.name)=="string"&&(x[Z.name]?x[Z.name].nodes.push(V):x[Z.name]={filter:Z,nodes:[V]})})});for(var O in m)Vr(m,O)&&T.push(m[O]);for(var B in x)Vr(x,B)&&T.push(x[B]);return T},oj=function(o,s,d){var m=rj(o,s,d);Ct(m,function(x){Ct(x.filter.callbacks,function(T){T(x.nodes,x.filter.name,{})})})},ij="html",F1=function(o){return o instanceof Xc},aj=function(o){gm(o)&&pl(o.getBody()).each(function(s){var d=s.getNode(),m=eu(d)?pl(d).getOr(s):s;o.selection.setRng(m.toRange())})},_A=function(o,s,d){o.dom.setHTML(o.getBody(),s),d!==!0&&aj(o)},$4=function(o,s,d,m){if(d.length===0||/^\s+$/.test(d)){var x='<br data-mce-bogus="1">';s.nodeName==="TABLE"?d="<tr><td>"+x+"</td></tr>":/^(UL|OL)$/.test(s.nodeName)&&(d="<li>"+x+"</li>");var T=hs(o);T&&o.schema.isValidChild(s.nodeName.toLowerCase(),T.toLowerCase())?(d=x,d=o.dom.createHTML(T,Eg(o),d)):d||(d='<br data-mce-bogus="1">'),_A(o,d,m.no_selection),o.fire("SetContent",m)}else m.format!=="raw"&&(d=Qg({validate:o.validate},o.schema).serialize(o.parser.parse(d,{isRootContent:!0,insert:!0}))),m.content=ug(W.fromDom(s))?d:qt.trim(d),_A(o,m.content,m.no_selection),m.no_events||o.fire("SetContent",m);return m.content},uj=function(o,s,d,m){oj(o.parser.getNodeFilters(),o.parser.getAttributeFilters(),d);var x=Qg({validate:o.validate},o.schema).serialize(d);return m.content=ug(W.fromDom(s))?x:qt.trim(x),_A(o,m.content,m.no_selection),m.no_events||o.fire("SetContent",m),d},r6=function(o,s){return dr(dr({format:ij},o),{set:!0,content:F1(s)?"":s})},o6=function(o,s,d){var m=r6(d,s),x=d.no_events?m:o.fire("BeforeSetContent",m);return F1(s)||(s=x.content),fe.from(o.getBody()).fold(Q(s),function(T){return F1(s)?uj(o,T,s,x):$4(o,T,s,x)})},sj=function(o,s){return d_(o,s).isSome()},i6=function(o){return te(o)?o:Ge},lj=function(o,s,d){for(var m=o.dom,x=i6(d);m.parentNode;){m=m.parentNode;var T=W.fromDom(m),O=s(T);if(O.isSome())return O;if(x(T))break}return fe.none()},G4=function(o,s,d){var m=s(o),x=i6(d);return m.orThunk(function(){return x(o)?fe.none():lj(o,s,x)})},X4=RS,a6=function(o,s,d){var m=o.formatter.get(d);if(m)for(var x=0;x<m.length;x++){var T=m[x];if(Ac(T)&&T.inherit===!1&&o.dom.is(s,T.selector))return!0}return!1},Y4=function(o,s,d,m,x){var T=o.dom.getRoot();return s===T?!1:(s=o.dom.getParent(s,function(O){return a6(o,O,d)?!0:O.parentNode===T||!!xm(o,O,d,m,!0)}),!!xm(o,s,d,m,x))},K4=function(o,s,d){if(X4(s,d.inline)||X4(s,d.block))return!0;if(d.selector)return s.nodeType===1&&o.is(s,d.selector)},u6=function(o,s,d,m,x,T){var O=d[m];if(te(d.onmatch))return d.onmatch(s,d,m);if(O){if(X(O.length)){for(var B in O)if(Vr(O,B)){var V=m==="attributes"?o.getAttrib(s,B):rw(o,s,B),Z=Qd(O[B],T),pe=Y(V)||En(V);if(pe&&Y(Z))continue;if(x&&pe&&!d.exact||(!x||d.exact)&&!X4(V,nw(o,Z,B)))return!1}}else for(var ge=0;ge<O.length;ge++)if(m==="attributes"?o.getAttrib(s,O[ge]):rw(o,s,O[ge]))return!0}return!0},xm=function(o,s,d,m,x){var T=o.formatter.get(d),O=o.dom;if(T&&s)for(var B=0;B<T.length;B++){var V=T[B];if(K4(o.dom,s,V)&&u6(O,s,V,"attributes",x,m)&&u6(O,s,V,"styles",x,m)){var Z=V.classes;if(Z){for(var pe=0;pe<Z.length;pe++)if(!o.dom.hasClass(s,Qd(Z[pe],m)))return}return V}}},J4=function(o,s,d,m,x){if(m)return Y4(o,m,s,d,x);if(m=o.selection.getNode(),Y4(o,m,s,d,x))return!0;var T=o.selection.getStart();return!!(T!==m&&Y4(o,T,s,d,x))},Q4=function(o,s,d){var m=[],x={},T=o.selection.getStart();return o.dom.getParent(T,function(O){for(var B=0;B<s.length;B++){var V=s[B];!x[V]&&xm(o,O,V,d)&&(x[V]=!0,m.push(V))}},o.dom.getRoot()),m},lp=function(o,s){var d=function(x){return Hr(x,W.fromDom(o.getBody()))},m=function(x,T){return xm(o,x.dom,T)?fe.some(T):fe.none()};return fe.from(o.selection.getStart(!0)).bind(function(x){return G4(W.fromDom(x),function(T){return mt(s,function(O){return m(T,O)})},d)}).getOrNull()},Z4=function(o,s){var d=o.formatter.get(s),m=o.dom;if(d)for(var x=o.selection.getStart(),T=w0(m,x),O=d.length-1;O>=0;O--){var B=d[O];if(!Ac(B)||ae(B.defaultBlock))return!0;for(var V=T.length-1;V>=0;V--)if(m.is(T[V],B.selector))return!0}return!1},eI=function(o,s,d){return Mn(d,function(m,x){var T=iD(o,x);return o.formatter.matchNode(s,x,{},T)?m.concat([x]):m},[])},V0=dt,s6="_mce_caret",l6=function(o,s){return o.importNode(s,!0)},cj=function(o){for(var s=[];o;){if(o.nodeType===3&&o.nodeValue!==V0||o.childNodes.length>1)return[];o.nodeType===1&&s.push(o),o=o.firstChild}return s},tI=function(o){return cj(o).length>0},SA=function(o){if(o){var s=new mi(o,o);for(o=s.current();o;o=s.next())if(or(o))return o}return null},nI=function(o){var s=W.fromTag("span");return me(s,{id:s6,"data-mce-bogus":"1","data-mce-type":"format-caret"}),o&&xu(s,W.fromText(V0)),s},c6=function(o){var s=SA(o);return s&&s.nodeValue.charAt(0)===V0&&s.deleteData(0,1),s},rI=function(o,s,d){d===void 0&&(d=!0);var m=o.dom,x=o.selection;if(tI(s))Pn(o,!1,W.fromDom(s),d);else{var T=x.getRng(),O=m.getParent(s,m.isBlock),B=T.startContainer,V=T.startOffset,Z=T.endContainer,pe=T.endOffset,ge=c6(s);m.remove(s,!0),B===ge&&V>0&&T.setStart(ge,V-1),Z===ge&&pe>0&&T.setEnd(ge,pe-1),O&&m.isEmpty(O)&&Zg(W.fromDom(O)),x.setRng(T)}},H1=function(o,s,d){d===void 0&&(d=!0);var m=o.dom,x=o.selection;if(s)rI(o,s,d);else if(s=dd(o.getBody(),x.getStart()),!s)for(;s=m.get(s6);)rI(o,s,!1)},f6=function(o,s,d){var m=o.dom,x=m.getParent(d,ke(OS,o));x&&m.isEmpty(x)?d.parentNode.replaceChild(s,d):(A1(W.fromDom(d)),m.isEmpty(d)?d.parentNode.replaceChild(s,d):m.insertAfter(s,d))},d6=function(o,s){return o.appendChild(s),s},oI=function(o,s){var d=Bt(o,function(m,x){return d6(m,x.cloneNode(!1))},s);return d6(d,d.ownerDocument.createTextNode(V0))},fj=function(o,s,d,m,x,T){var O=o.formatter,B=o.dom,V=Ke(an(O.get()),function(ve){return ve!==m&&!Jt(ve,"removeformat")}),Z=eI(o,d,V),pe=Ke(Z,function(ve){return!aD(o,ve,m)});if(pe.length>0){var ge=d.cloneNode(!1);return B.add(s,ge),O.remove(m,x,ge,T),B.remove(ge),fe.some(ge)}else return fe.none()},dj=function(o,s,d){var m,x,T=o.selection,O=T.getRng(),B=O.startOffset,V=O.startContainer,Z=V.nodeValue;m=dd(o.getBody(),T.getStart()),m&&(x=SA(m));var pe=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Z&&B>0&&B<Z.length&&pe.test(Z.charAt(B))&&pe.test(Z.charAt(B-1))){var ge=T.getBookmark();O.collapse(!0);var ve=S0(o,O,o.formatter.get(s));ve=cw(ve),o.formatter.apply(s,d,ve),T.moveToBookmark(ge)}else(!m||x.nodeValue!==V0)&&(m=l6(o.getDoc(),nI(!0).dom),x=m.firstChild,O.insertNode(m),B=1),o.formatter.apply(s,d,m),T.setCursorLocation(x,B)},hj=function(o,s,d,m){var x=o.dom,T=o.selection,O,B,V,Z=[],pe=T.getRng(),ge=pe.startContainer,ve=pe.startOffset;for(B=ge,ge.nodeType===3&&(ve!==ge.nodeValue.length&&(O=!0),B=B.parentNode);B;){if(xm(o,B,s,d,m)){V=B;break}B.nextSibling&&(O=!0),Z.push(B),B=B.parentNode}if(V)if(O){var Ae=T.getBookmark();pe.collapse(!0);var De=S0(o,pe,o.formatter.get(s),!0);De=cw(De),o.formatter.remove(s,d,De,m),T.moveToBookmark(Ae)}else{var Ie=dd(o.getBody(),V),Ne=nI(!1).dom;f6(o,Ne,Ie!==null?Ie:V);var Qe=fj(o,Ne,V,s,d,m),Xe=oI(Z.concat(Qe.toArray()),Ne);rI(o,Ie,!1),T.setCursorLocation(Xe,1),x.isEmpty(V)&&x.remove(V)}},pj=function(o,s){var d=o.selection,m=o.getBody();H1(o,null,!1),(s===8||s===46)&&d.isCollapsed()&&d.getStart().innerHTML===V0&&H1(o,dd(m,d.getStart())),(s===37||s===39)&&H1(o,dd(m,d.getStart()))},mj=function(o){o.on("mouseup keydown",function(s){pj(o,s.keyCode)})},h6=function(o,s){var d=nI(!1),m=oI(s,d.dom);return as(W.fromDom(o),d),La(W.fromDom(o)),Ut(m,0)},gj=function(o,s){var d=o.schema.getTextInlineElements();return Vr(d,ni(s))&&!qc(s.dom)&&!qa(s.dom)},iI=function(o){return qc(o.dom)&&tI(o.dom)},iv={},p6=Zi,m6=Xi,CA=function(o,s){var d=iv[o];d||(iv[o]=[]),iv[o].push(s)},aI=function(o,s){m6(iv[o],function(d){d(s)})};CA("pre",function(o){var s=o.selection.getRng(),d,m=function(O){return T(O.previousSibling)&&Bi(d,O.previousSibling)!==-1},x=function(O,B){ho(B).remove(),ho(O).append("<br><br>").append(B.childNodes)},T=xc(["pre"]);s.collapsed||(d=o.selection.getSelectedBlocks(),m6(p6(p6(d,T),m),function(O){x(O.previousSibling,O)}))});var uI=qt.each,sI=function(o){return Xr(o)&&!ac(o)&&!qc(o)&&!qa(o)},lI=function(o,s){for(var d=o;d;d=d[s]){if(or(d)&&Dt(d.data))return o;if(Xr(d)&&!ac(d))return d}return o},TA=function(o,s,d){var m=QD(o);if(s&&d&&(s=lI(s,"previousSibling"),d=lI(d,"nextSibling"),m.compare(s,d))){for(var x=s.nextSibling;x&&x!==d;){var T=x;x=x.nextSibling,s.appendChild(T)}return o.remove(d),qt.each(qt.grep(d.childNodes),function(O){s.appendChild(O)}),s}return d},g6=function(o,s,d,m){if(m&&s.merge_siblings!==!1){var x=TA(o,ES(m),m);TA(o,x,ES(x,!0))}},MA=function(o,s,d){if(s.clear_child_styles){var m=s.links?"*:not(a)":"*";uI(o.select(m,d),function(x){sI(x)&&uI(s.styles,function(T,O){o.setStyle(x,O,"")})})}},cp=function(o,s,d){uI(o.childNodes,function(m){sI(m)&&(s(m)&&d(m),m.hasChildNodes()&&cp(m,s,d))})},vj=function(o,s){s.nodeName==="SPAN"&&o.getAttribs(s).length===0&&o.remove(s,!0)},kA=function(o,s){return function(d){return!!(d&&rw(o,d,s))}},v6=function(o,s,d){return function(m){o.setStyle(m,s,d),m.getAttribute("style")===""&&m.removeAttribute("style"),vj(o,m)}},EC=Sr.generate([{keep:[]},{rename:["name"]},{removed:[]}]),yj=/^(src|href|style)$/,cI=qt.each,V1=RS,bj=function(o){return/^(TR|TH|TD)$/.test(o.nodeName)},j1=function(o,s,d){return o.isChildOf(s,d)&&s!==d&&!o.isBlock(d)},y6=function(o,s,d){var m=s[d?"startContainer":"endContainer"],x=s[d?"startOffset":"endOffset"];if(Xr(m)){var T=m.childNodes.length-1;!d&&x&&x--,m=m.childNodes[x>T?T:x]}return or(m)&&d&&x>=m.nodeValue.length&&(m=new mi(m,o.getBody()).next()||m),or(m)&&!d&&x===0&&(m=new mi(m,o.getBody()).prev()||m),m},b6=function(o,s){var d=s?"firstChild":"lastChild";if(bj(o)&&o[d]){var m=o[d];return o.nodeName==="TR"&&m[d]||m}return o},fI=function(o,s,d,m){var x=o.create(d,m);return s.parentNode.insertBefore(x,s),x.appendChild(s),x},x6=function(o,s,d,m,x){var T=W.fromDom(s),O=W.fromDom(o.create(m,x)),B=d?Ki(T):ri(T);return Ih(O,B),d?(as(T,O),Nc(O,T)):(Rp(T,O),xu(O,T)),O.dom},w6=function(o,s,d){if(ms(d)&&V1(s,d.inline)||hd(d)&&V1(s,d.block))return!0;if(Ac(d))return Xr(s)&&o.is(s,d.selector)},xj=function(o,s){return s.links&&o.nodeName==="A"},DA=function(o,s,d,m){var x=ES(s,d,m);return Y(x)||x.nodeName==="BR"||o.isBlock(x)},wj=function(o,s,d){var m=s.parentNode,x,T=o.dom,O=hs(o);hd(d)&&(O?m===T.getRoot()&&(!d.list_block||!V1(s,d.list_block))&&Ct(bn(s.childNodes),function(B){Hg(o,O,B.nodeName.toLowerCase())?x?x.appendChild(B):(x=fI(T,B,O),T.setAttribs(x,o.settings.forced_root_block_attrs)):x=null}):T.isBlock(s)&&!T.isBlock(m)&&(!DA(T,s,!1)&&!DA(T,s.firstChild,!0,!0)&&s.insertBefore(T.create("br"),s.firstChild),!DA(T,s,!0)&&!DA(T,s.lastChild,!1,!0)&&s.appendChild(T.create("br")))),!(uD(d)&&!V1(d.inline,s))&&T.remove(s,!0)},_6=function(o,s,d,m,x){var T,O=o.dom;if(!w6(O,m,s)&&!xj(m,s))return EC.keep();var B=m;if(ms(s)&&s.remove==="all"&&z(s.preserve_attributes)){var V=Ke(O.getAttribs(B),function(ve){return Je(s.preserve_attributes,ve.name.toLowerCase())});if(O.removeAllAttribs(B),Ct(V,function(ve){return O.setAttrib(B,ve.name,ve.value)}),V.length>0)return EC.rename("span")}if(s.remove!=="all"){cI(s.styles,function(ve,Ae){ve=nw(O,Qd(ve,d),Ae+""),ie(Ae)&&(Ae=ve,x=null),(s.remove_similar||!x||V1(rw(O,x,Ae),ve))&&O.setStyle(B,Ae,""),T=!0}),T&&O.getAttrib(B,"style")===""&&(B.removeAttribute("style"),B.removeAttribute("data-mce-style")),cI(s.attributes,function(ve,Ae){var De;if(ve=Qd(ve,d),ie(Ae)&&(Ae=ve,x=null),s.remove_similar||!x||V1(O.getAttrib(x,Ae),ve)){if(Ae==="class"&&(ve=O.getAttrib(B,Ae),ve&&(De="",Ct(ve.split(/\s+/),function(Ie){/mce\-\w+/.test(Ie)&&(De+=(De?" ":"")+Ie)}),De))){O.setAttrib(B,Ae,De);return}if(yj.test(Ae)&&B.removeAttribute("data-mce-"+Ae),Ae==="style"&&xc(["li"])(B)&&O.getStyle(B,"list-style-type")==="none"){B.removeAttribute(Ae),O.setStyle(B,"list-style-type","none");return}Ae==="class"&&B.removeAttribute("className"),B.removeAttribute(Ae)}}),cI(s.classes,function(ve){ve=Qd(ve,d),(!x||O.hasClass(x,ve))&&O.removeClass(B,ve)});for(var Z=O.getAttribs(B),pe=0;pe<Z.length;pe++){var ge=Z[pe].nodeName;if(ge.indexOf("_")!==0&&ge.indexOf("data-")!==0)return EC.keep()}}return s.remove!=="none"?(wj(o,B,s),EC.removed()):EC.keep()},Vw=function(o,s,d,m,x){return _6(o,s,d,m,x).fold(Ge,function(T){return o.dom.rename(m,T),!0},pt)},_j=function(o,s,d,m,x){var T;return Ct(w0(o.dom,s.parentNode).reverse(),function(O){if(!T&&O.id!=="_start"&&O.id!=="_end"){var B=xm(o,O,d,m,x);B&&B.split!==!1&&(T=O)}}),T},Sj=function(o,s,d,m){return _6(o,s,d,m,m).fold(Q(m),function(x){var T=o.dom.createFragment();return T.appendChild(m),o.dom.rename(m,x)},Q(null))},Cj=function(o,s,d,m,x,T,O,B){var V,Z,pe,ge=o.dom;if(d){for(var ve=d.parentNode,Ae=m.parentNode;Ae&&Ae!==ve;Ae=Ae.parentNode){V=ge.clone(Ae,!1);for(var De=0;De<s.length&&(V=Sj(o,s[De],B,V),V!==null);De++);V&&(Z&&V.appendChild(Z),pe||(pe=V),Z=V)}T&&(!O.mixed||!ge.isBlock(d))&&(m=ge.split(d,m)),Z&&(x.parentNode.insertBefore(Z,x),pe.appendChild(x),ms(O)&&g6(ge,O,B,Z))}return m},S6=function(o,s,d,m,x){var T=o.formatter.get(s),O=T[0],B=!0,V=o.dom,Z=o.selection,pe=function(Xe){var at=_j(o,Xe,s,d,x);return Cj(o,T,at,Xe,Xe,!0,O,d)},ge=function(Xe){return ac(Xe)&&Xr(Xe)&&(Xe.id==="_start"||Xe.id==="_end")},ve=function(Xe){return st(T,function(at){return Vw(o,at,d,Xe,Xe)})},Ae=function(Xe){var at=!0,xt=!1;Xr(Xe)&&V.getContentEditable(Xe)&&(at=B,B=V.getContentEditable(Xe)==="true",xt=!0);var nt=bn(Xe.childNodes);if(B&&!xt){var Mt=ve(Xe),Xt=Mt||st(T,function(pn){return K4(V,Xe,pn)}),Sn=Xe.parentNode;!Xt&&ae(Sn)&&PS(O)&&ve(Sn)}if(O.deep&&nt.length){for(var Dr=0;Dr<nt.length;Dr++)Ae(nt[Dr]);xt&&(B=at)}var Zn=["underline","line-through","overline"];Ct(Zn,function(pn){Xr(Xe)&&o.dom.getStyle(Xe,"text-decoration")===pn&&Xe.parentNode&&oD(V,Xe.parentNode)===pn&&Vw(o,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:pn}},null,Xe)})},De=function(Xe){var at=V.get(Xe?"_start":"_end"),xt=at[Xe?"firstChild":"lastChild"];return ge(xt)&&(xt=xt[Xe?"firstChild":"lastChild"]),or(xt)&&xt.data.length===0&&(xt=Xe?at.previousSibling||at.nextSibling:at.nextSibling||at.previousSibling),V.remove(at,!0),xt},Ie=function(Xe){var at,xt,nt=S0(o,Xe,T,Xe.collapsed);if(O.split){if(nt=cw(nt),at=y6(o,nt,!0),xt=y6(o,nt),at!==xt){if(at=b6(at,!0),xt=b6(xt,!1),j1(V,at,xt)){var Mt=fe.from(at.firstChild).getOr(at);pe(x6(V,Mt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),De(!0);return}if(j1(V,xt,at)){var Mt=fe.from(xt.lastChild).getOr(xt);pe(x6(V,Mt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),De(!1);return}at=fI(V,at,"span",{id:"_start","data-mce-type":"bookmark"}),xt=fI(V,xt,"span",{id:"_end","data-mce-type":"bookmark"});var Xt=V.createRng();Xt.setStartAfter(at),Xt.setEndBefore(xt),Ug(V,Xt,function(Sn){Ct(Sn,function(Dr){!ac(Dr)&&!ac(Dr.parentNode)&&pe(Dr)})}),pe(at),pe(xt),at=De(!0),xt=De()}else at=xt=pe(at);nt.startContainer=at.parentNode?at.parentNode:at,nt.startOffset=V.nodeIndex(at),nt.endContainer=xt.parentNode?xt.parentNode:xt,nt.endOffset=V.nodeIndex(xt)+1}Ug(V,nt,function(Sn){Ct(Sn,Ae)})};if(m){if(x0(m)){var Ne=V.createRng();Ne.setStartBefore(m),Ne.setEndAfter(m),Ie(Ne)}else Ie(m);h1(o,s,m,d);return}if(V.getContentEditable(Z.getNode())==="false"){m=Z.getNode();for(var Qe=0;Qe<T.length&&!(T[Qe].ceFalseOverride&&Vw(o,T[Qe],d,m,m));Qe++);h1(o,s,m,d);return}!Z.isCollapsed()||!ms(O)||Wg(o).length?($g(Z,!0,function(){lm(o,Ie)}),ms(O)&&J4(o,s,d,Z.getStart())&&rD(V,Z,Z.getRng()),o.nodeChanged()):hj(o,s,d,x),h1(o,s,m,d)},C6=qt.each,dI=function(o,s,d,m){var x=function(T){if(T.nodeType===1&&T.parentNode&&T.parentNode.nodeType===1){var O=oD(o,T.parentNode);o.getStyle(T,"color")&&O?o.setStyle(T,"text-decoration",O):o.getStyle(T,"text-decoration")===O&&o.setStyle(T,"text-decoration",null)}};s.styles&&(s.styles.color||s.styles.textDecoration)&&(qt.walk(m,x,"childNodes"),x(m))},T6=function(o,s,d,m){s.styles&&s.styles.backgroundColor&&cp(m,kA(o,"fontSize"),v6(o,"backgroundColor",Qd(s.styles.backgroundColor,d)))},Tj=function(o,s,d,m){ms(s)&&(s.inline==="sub"||s.inline==="sup")&&(cp(m,kA(o,"fontSize"),v6(o,"fontSize","")),o.remove(o.select(s.inline==="sup"?"sub":"sup",m),!0))},AA=function(o,s,d,m){C6(s,function(x){ms(x)&&C6(o.dom.select(x.inline,m),function(T){sI(T)&&Vw(o,x,d,T,x.exact?T:null)}),MA(o.dom,x,m)})},M6=function(o,s,d,m,x){xm(o,x.parentNode,d,m)&&Vw(o,s,m,x)||s.merge_with_parents&&o.dom.getParent(x.parentNode,function(T){if(xm(o,T,d,m))return Vw(o,s,m,x),!0})},j0=qt.each,OC=function(o){return Xr(o)&&!ac(o)&&!qc(o)&&!qa(o)},k6=function(o,s,d,m){if(wO(o)&&ms(s)){var x=dr(dr({},o.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),T=sj(W.fromDom(d),function(O){return qc(O.dom)});return ui(x,m)&&ls(W.fromDom(d.parentNode),!1)&&!T}else return!1},hI=function(o,s,d,m){var x=o.formatter.get(s),T=x[0],O=!m&&o.selection.isCollapsed(),B=o.dom,V=o.selection,Z=function(at,xt){if(xt===void 0&&(xt=T),te(xt.onformat)&&xt.onformat(at,xt,d,m),j0(xt.styles,function(Mt,Xt){B.setStyle(at,Xt,Qd(Mt,d))}),xt.styles){var nt=B.getAttrib(at,"style");nt&&B.setAttrib(at,"data-mce-style",nt)}j0(xt.attributes,function(Mt,Xt){B.setAttrib(at,Xt,Qd(Mt,d))}),j0(xt.classes,function(Mt){Mt=Qd(Mt,d),B.hasClass(at,Mt)||B.addClass(at,Mt)})},pe=function(at,xt){var nt=!1;return j0(at,function(Mt){if(!Ac(Mt))return!1;if(!(ae(Mt.collapsed)&&Mt.collapsed!==O)&&B.is(xt,Mt.selector)&&!qc(xt))return Z(xt,Mt),nt=!0,!1}),nt},ge=function(at){if(R(at)){var xt=B.create(at);return Z(xt),xt}else return null},ve=function(at,xt,nt){var Mt=[],Xt=!0,Sn=T.inline||T.block,Dr=ge(Sn);Ug(at,xt,function(Zn){var pn,jr=function(An){var Jn=!1,Dn=Xt,Vn=An.nodeName.toLowerCase(),rr=An.parentNode,xn=rr.nodeName.toLowerCase();if(Xr(An)&&at.getContentEditable(An)&&(Dn=Xt,Xt=at.getContentEditable(An)==="true",Jn=!0),Ri(An)&&!k6(o,T,An,xn)){pn=null,hd(T)&&at.remove(An);return}if(hd(T)&&T.wrapper&&xm(o,An,s,d)){pn=null;return}if(Xt&&!Jn&&hd(T)&&!T.wrapper&&OS(o,Vn)&&Hg(o,xn,Sn)){var ar=at.rename(An,Sn);Z(ar),Mt.push(ar),pn=null;return}if(Ac(T)){var oo=pe(x,An);if(!oo&&ae(rr)&&PS(T)&&(oo=pe(x,rr)),!ms(T)||oo){pn=null;return}}Xt&&!Jn&&Hg(o,Sn,Vn)&&Hg(o,xn,Sn)&&!(!nt&&or(An)&&sl(An.data))&&!qc(An)&&(!ms(T)||!at.isBlock(An))?(pn||(pn=at.clone(Dr,!1),An.parentNode.insertBefore(pn,An),Mt.push(pn)),pn.appendChild(An)):(pn=null,Ct(bn(An.childNodes),jr),Jn&&(Xt=Dn),pn=null)};Ct(Zn,jr)}),T.links===!0&&Ct(Mt,function(Zn){var pn=function(jr){jr.nodeName==="A"&&Z(jr,T),Ct(bn(jr.childNodes),pn)};pn(Zn)}),Ct(Mt,function(Zn){var pn=function(Jn){var Dn=0;return Ct(Jn.childNodes,function(Vn){!$O(Vn)&&!ac(Vn)&&Dn++}),Dn},jr=function(Jn){var Dn=Qn(Jn.childNodes,OC).filter(function(Vn){return K4(at,Vn,T)});return Dn.map(function(Vn){var rr=at.clone(Vn,!1);return Z(rr),at.replace(rr,Jn,!0),at.remove(Vn,!0),rr}).getOr(Jn)},An=pn(Zn);if((Mt.length>1||!at.isBlock(Zn))&&An===0){at.remove(Zn,!0);return}(ms(T)||hd(T)&&T.wrapper)&&(!T.exact&&An===1&&(Zn=jr(Zn)),AA(o,x,d,Zn),M6(o,T,s,d,Zn),T6(at,T,d,Zn),dI(at,T,d,Zn),Tj(at,T,d,Zn),g6(at,T,d,Zn))})};if(B.getContentEditable(V.getNode())==="false"){m=V.getNode();for(var Ae=0,De=x.length;Ae<De;Ae++){var Ie=x[Ae];if(Ie.ceFalseOverride&&Ac(Ie)&&B.is(m,Ie.selector)){Z(m,Ie);break}}WS(o,s,m,d);return}if(T){if(m)if(x0(m)){if(!pe(x,m)){var Ne=B.createRng();Ne.setStartBefore(m),Ne.setEndAfter(m),ve(B,S0(o,Ne,x),!0)}}else ve(B,m,!0);else if(!O||!ms(T)||Wg(o).length){var Qe=V.getNode(),Xe=x[0];!o.settings.forced_root_block&&Xe.defaultBlock&&!B.getParent(Qe,B.isBlock)&&hI(o,Xe.defaultBlock),V.setRng(z4(V.getRng())),$g(V,!0,function(){lm(o,function(at,xt){var nt=xt?at:S0(o,at,x);ve(B,nt,!1)})}),rD(B,V,V.getRng()),o.nodeChanged()}else dj(o,s,d);aI(s,o)}WS(o,s,m,d)},D6=function(o){return Vr(o,"vars")},Mj=function(o,s){o.set({}),s.on("NodeChange",function(d){I6(s,d.element,o.get())}),s.on("FormatApply FormatRemove",function(d){var m=fe.from(d.node).map(function(x){return x0(x)?x:x.startContainer}).bind(function(x){return Xr(x)?fe.some(x):fe.from(x.parentElement)}).getOrThunk(function(){return A6(s)});I6(s,m,o.get())})},A6=function(o){return o.selection.getStart()},E6=function(o,s,d,m,x){var T=function(B){var V=o.formatter.matchNode(B,d,x??{},m);return!X(V)},O=function(B){return a6(o,B,d)?!0:m?!1:ae(o.formatter.matchNode(B,d,x,!0))};return Zt(s,T,O)},O6=function(o,s){var d=s??A6(o);return Ke(w0(o.dom,d),function(m){return Xr(m)&&!qa(m)})},I6=function(o,s,d){var m=O6(o,s);wn(d,function(x,T){var O=function(B){var V=E6(o,m,T,B.similar,D6(B)?B.vars:void 0),Z=V.isSome();if(B.state.get()!==Z){B.state.set(Z);var pe=V.getOr(s);D6(B)?B.callback(Z,{node:pe,format:T,parents:m}):Ct(B.callbacks,function(ge){return ge(Z,{node:pe,format:T,parents:m})})}};Ct([x.withSimilar,x.withoutSimilar],O),Ct(x.withVars,O)})},R6=function(o,s,d,m,x,T){var O=s.get();Ct(d.split(","),function(B){var V=Br(O,B).getOrThunk(function(){var ge={withSimilar:{state:fl(!1),similar:!0,callbacks:[]},withoutSimilar:{state:fl(!1),similar:!1,callbacks:[]},withVars:[]};return O[B]=ge,ge}),Z=function(){var ge=O6(o);return E6(o,ge,B,x,T).isSome()};if(X(T)){var pe=x?V.withSimilar:V.withoutSimilar;pe.callbacks.push(m),pe.callbacks.length===1&&pe.state.set(Z())}else V.withVars.push({state:fl(Z()),similar:x,vars:T,callback:m})}),s.set(O)},kj=function(o,s,d){var m=o.get();Ct(s.split(","),function(x){return Br(m,x).each(function(T){m[x]={withSimilar:dr(dr({},T.withSimilar),{callbacks:Ke(T.withSimilar.callbacks,function(O){return O!==d})}),withoutSimilar:dr(dr({},T.withoutSimilar),{callbacks:Ke(T.withoutSimilar.callbacks,function(O){return O!==d})}),withVars:Ke(T.withVars,function(O){return O.callback!==d})}})}),o.set(m)},IC=function(o,s,d,m,x,T){return s.get()===null&&Mj(s,o),R6(o,s,d,m,x,T),{unbind:function(){return kj(s,d,m)}}},Dj=function(o,s,d,m){var x=o.formatter.get(s);J4(o,s,d,m)&&(!("toggle"in x[0])||x[0].toggle)?S6(o,s,d,m):hI(o,s,d,m)},pI=function(o,s){var d=s||document,m=d.createDocumentFragment();return Ct(o,function(x){m.appendChild(x.dom)}),W.fromDom(m)},mI=function(o,s,d){return{element:o,width:s,rows:d}},P6=function(o,s){return{element:o,cells:s}},N6=function(o,s){return{x:o,y:s}},gI=function(o,s){var d=parseInt(xe(o,s),10);return isNaN(d)?1:d},L6=function(o,s,d,m,x){for(var T=gI(x,"rowspan"),O=gI(x,"colspan"),B=o.rows,V=d;V<d+T;V++){B[V]||(B[V]=P6(Pl(m),[]));for(var Z=s;Z<s+O;Z++){var pe=B[V].cells;pe[Z]=V===d&&Z===s?x:Ku(x)}}},B6=function(o,s,d){var m=o.rows,x=m[d]?m[d].cells:[];return!!x[s]},vI=function(o,s,d){for(;B6(o,s,d);)s++;return s},yI=function(o){return Mn(o,function(s,d){return d.cells.length>s?d.cells.length:s},0)},z6=function(o,s){for(var d=o.rows,m=0;m<d.length;m++)for(var x=d[m].cells,T=0;T<x.length;T++)if(Hr(x[T],s))return fe.some(N6(T,m));return fe.none()},F6=function(o,s,d,m,x){for(var T=[],O=o.rows,B=d;B<=x;B++){var V=O[B].cells,Z=s<m?V.slice(s,m+1):V.slice(m,s+1);T.push(P6(O[B].element,Z))}return T},Aj=function(o,s,d){var m=s.x,x=s.y,T=d.x,O=d.y,B=x<O?F6(o,m,x,T,O):F6(o,m,O,T,x);return mI(o.element,yI(B),B)},Ej=function(o,s){var d=Ku(o.element),m=W.fromTag("tbody");return Ih(m,s),xu(d,m),d},Oj=function(o){return Ft(o.rows,function(s){var d=Ft(s.cells,function(x){var T=Pl(x);return Qt(T,"colspan"),Qt(T,"rowspan"),T}),m=Ku(s.element);return Ih(m,d),m})},bI=function(o){var s=mI(Ku(o),0,[]);return Ct(Il(o,"tr"),function(d,m){Ct(Il(d,"td,th"),function(x,T){L6(s,vI(s,T,m),m,d,x)})}),mI(s.element,yI(s.rows),s.rows)},xI=function(o){return Ej(o,Oj(o))},H6=function(o,s,d){return z6(o,s).bind(function(m){return z6(o,d).map(function(x){return Aj(o,m,x)})})},EA=function(o){return Qn(o,function(s){return ni(s)==="ul"||ni(s)==="ol"})},If=function(o,s){return Qn(o,function(d){return ni(d)==="li"&&l1(d,s)}).fold(Q([]),function(d){return EA(o).map(function(m){var x=W.fromTag(ni(m)),T=Kn(ka(m),function(O,B){return he(B,"list-style")});return Io(x,T),[W.fromTag("li"),x]}).getOr([])})},RC=function(o,s){var d=Mn(s,function(m,x){return xu(x,m),x},o);return s.length>0?pI([d]):d},U1=function(o){return Ds(o)?Ma(o).filter(vf).fold(Q([]),function(s){return[o,s]}):vf(o)?[o]:[]},Ij=function(o,s){var d=W.fromDom(s.commonAncestorContainer),m=up(d,o),x=Ke(m,function(B){return Us(B)||Yr(B)}),T=If(m,s),O=x.concat(T.length?T:U1(d));return Ft(O,Ku)},wI=function(){return pI([])},V6=function(o,s){return RC(W.fromDom(s.cloneContents()),Ij(o,s))},Rj=function(o,s){return ag(s,"table",ke(Hr,o))},Pj=function(o,s){return Rj(o,s[0]).bind(function(d){var m=s[0],x=s[s.length-1],T=bI(d);return H6(T,m,x).map(function(O){return pI([xI(O)])})}).getOrThunk(wI)},Nj=function(o,s){return s.length>0&&s[0].collapsed?wI():V6(o,s[0])},j6=function(o,s){var d=dD(s,o);return d.length>0?Pj(o,d):Nj(o,s)},OA=function(o){return o.replace(/^[ \f\n\r\t\v]+/,"")},PC=function(o,s){return s>=0&&s<o.length&&b0(o.charAt(s))},_I=function(o,s){var d=rd(o.innerText);return s?OA(d):d},IA=function(o){return o.map(function(s){return s.nodeName}).getOr("div").toLowerCase()},Lj=function(o){return fe.from(o.selection.getRng()).map(function(s){var d=fe.from(o.dom.getParent(s.commonAncestorContainer,o.dom.isBlock)),m=o.getBody(),x=IA(d),T=Cr.browser.isIE()&&x!=="pre",O=o.dom.add(m,x,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.cloneContents()),B=_I(O,T),V=rd(O.textContent);if(o.dom.remove(O),PC(V,0)||PC(V,V.length-1)){var Z=d.getOr(m),pe=_I(Z,T),ge=pe.indexOf(B);if(ge===-1)return B;var ve=PC(pe,ge-1),Ae=PC(pe,ge+B.length);return(ve?" ":"")+B+(Ae?" ":"")}else return B}).getOr("")},Bj=function(o,s){var d=o.selection.getRng(),m=o.dom.create("body"),x=o.selection.getSel(),T=N0(o,a1(x)),O=s.contextual?j6(W.fromDom(o.getBody()),T).dom:d.cloneContents();return O&&m.appendChild(O),o.selection.serializer.serialize(m,s)},zj=function(o,s){return dr(dr({},o),{format:s,get:!0,selection:!0})},Fj=function(o,s,d){d===void 0&&(d={});var m=zj(d,s),x=o.fire("BeforeGetContent",m);if(x.isDefaultPrevented())return o.fire("GetContent",x),x.content;if(x.format==="text")return Lj(o);x.getInner=!0;var T=Bj(o,x);return x.format==="tree"?T:(x.content=o.selection.isCollapsed()?"":T,o.fire("GetContent",x),x.content)},SI=0,U6=1,W6=2,Hj=function(o,s){var d=o.length+s.length+2,m=new Array(d),x=new Array(d),T=function(pe,ge,ve){return{start:pe,end:ge,diag:ve}},O=function(pe,ge,ve,Ae,De){var Ie=V(pe,ge,ve,Ae);if(Ie===null||Ie.start===ge&&Ie.diag===ge-Ae||Ie.end===pe&&Ie.diag===pe-ve)for(var Ne=pe,Qe=ve;Ne<ge||Qe<Ae;)Ne<ge&&Qe<Ae&&o[Ne]===s[Qe]?(De.push([SI,o[Ne]]),++Ne,++Qe):ge-pe>Ae-ve?(De.push([W6,o[Ne]]),++Ne):(De.push([U6,s[Qe]]),++Qe);else{O(pe,Ie.start,ve,Ie.start-Ie.diag,De);for(var Xe=Ie.start;Xe<Ie.end;++Xe)De.push([SI,o[Xe]]);O(Ie.end,ge,Ie.end-Ie.diag,Ae,De)}},B=function(pe,ge,ve,Ae){for(var De=pe;De-ge<Ae&&De<ve&&o[De]===s[De-ge];)++De;return T(pe,De,ge)},V=function(pe,ge,ve,Ae){var De=ge-pe,Ie=Ae-ve;if(De===0||Ie===0)return null;var Ne=De-Ie,Qe=Ie+De,Xe=(Qe%2===0?Qe:Qe+1)/2;m[1+Xe]=pe,x[1+Xe]=ge+1;var at,xt,nt,Mt,Xt;for(at=0;at<=Xe;++at){for(xt=-at;xt<=at;xt+=2){for(nt=xt+Xe,xt===-at||xt!==at&&m[nt-1]<m[nt+1]?m[nt]=m[nt+1]:m[nt]=m[nt-1]+1,Mt=m[nt],Xt=Mt-pe+ve-xt;Mt<ge&&Xt<Ae&&o[Mt]===s[Xt];)m[nt]=++Mt,++Xt;if(Ne%2!==0&&Ne-at<=xt&&xt<=Ne+at&&x[nt-Ne]<=m[nt])return B(x[nt-Ne],xt+pe-ve,ge,Ae)}for(xt=Ne-at;xt<=Ne+at;xt+=2){for(nt=xt+Xe-Ne,xt===Ne-at||xt!==Ne+at&&x[nt+1]<=x[nt-1]?x[nt]=x[nt+1]-1:x[nt]=x[nt-1],Mt=x[nt]-1,Xt=Mt-pe+ve-xt;Mt>=pe&&Xt>=ve&&o[Mt]===s[Xt];)x[nt]=Mt--,Xt--;if(Ne%2===0&&-at<=xt&&xt<=at&&x[nt]<=m[nt+Ne])return B(x[nt],xt+pe-ve,ge,Ae)}}},Z=[];return O(0,o.length,0,s.length,Z),Z},q6=function(o){return Xr(o)?o.outerHTML:or(o)?Mc.encodeRaw(o.data,!1):Fh(o)?"<!--"+o.data+"-->":""},Vj=function(o){var s,d=document.createElement("div"),m=document.createDocumentFragment();for(o&&(d.innerHTML=o);s=d.firstChild;)m.appendChild(s);return m},jj=function(o,s,d){var m=Vj(s);if(o.hasChildNodes()&&d<o.childNodes.length){var x=o.childNodes[d];x.parentNode.insertBefore(m,x)}else o.appendChild(m)},Uj=function(o,s){if(o.hasChildNodes()&&s<o.childNodes.length){var d=o.childNodes[s];d.parentNode.removeChild(d)}},CI=function(o,s){var d=0;Ct(o,function(m){m[0]===SI?d++:m[0]===U6?(jj(s,m[1],d),d++):m[0]===W6&&Uj(s,d)})},Wj=function(o){return Ke(Ft(bn(o.childNodes),q6),function(s){return s.length>0})},jw=function(o,s){var d=Ft(bn(s.childNodes),q6);return CI(Hj(d,o),s),s},$6=Ua(function(){return document.implementation.createHTMLDocument("undo")}),Bu=function(o){return o.indexOf("</iframe>")!==-1},qj=function(o){return{type:"fragmented",fragments:o,content:"",bookmark:null,beforeBookmark:null}},$j=function(o){return{type:"complete",fragments:null,content:o,bookmark:null,beforeBookmark:null}},TI=function(o){var s=Wj(o.getBody()),d=To(s,function(x){var T=YD(o.serializer,x);return T.length>0?[T]:[]}),m=d.join("");return Bu(m)?qj(d):$j(m)},MI=function(o,s,d){var m=d?s.beforeBookmark:s.bookmark;s.type==="fragmented"?jw(s.fragments,o.getBody()):o.setContent(s.content,{format:"raw",no_selection:ae(m)&&Jk(m)?!m.isFakeCaret:!0}),o.selection.moveToBookmark(m)},Rf=function(o){return o.type==="fragmented"?o.fragments.join(""):o.content},NC=function(o){var s=W.fromTag("body",$6());return Su(s,Rf(o)),Ct(Il(s,"*[data-mce-bogus]"),Ph),Es(s)},LC=function(o,s){return Rf(o)===Rf(s)},BC=function(o,s){return NC(o)===NC(s)},Uw=function(o,s){return!o||!s?!1:LC(o,s)?!0:BC(o,s)},kI=function(o){return o.get()===0},RA=function(o,s,d){kI(d)&&(o.typing=s)},W1=function(o,s){o.typing&&(RA(o,!1,s),o.add())},Ww=function(o){o.typing&&(o.typing=!1,o.add())},qw=function(o,s,d){kI(s)&&d.set(bk(o.selection))},DI=function(o,s,d,m,x,T,O){var B=TI(o);if(T=T||{},T=qt.extend(T,B),kI(m)===!1||o.removed)return null;var V=s.data[d.get()];if(o.fire("BeforeAddUndo",{level:T,lastLevel:V,originalEvent:O}).isDefaultPrevented()||V&&Uw(V,T))return null;s.data[d.get()]&&x.get().each(function(ve){s.data[d.get()].beforeBookmark=ve});var Z=qx(o);if(Z&&s.data.length>Z){for(var pe=0;pe<s.data.length-1;pe++)s.data[pe]=s.data[pe+1];s.data.length--,d.set(s.data.length)}T.bookmark=bk(o.selection),d.get()<s.data.length-1&&(s.data.length=d.get()+1),s.data.push(T),d.set(s.data.length-1);var ge={level:T,lastLevel:V,originalEvent:O};return d.get()>0?(o.setDirty(!0),o.fire("AddUndo",ge),o.fire("change",ge)):o.fire("AddUndo",ge),T},Gj=function(o,s,d){s.data=[],d.set(0),s.typing=!1,o.fire("ClearUndos")},AI=function(o,s,d,m,x){if(s.transact(m)){var T=s.data[d.get()].bookmark,O=s.data[d.get()-1];MI(o,O,!0),s.transact(x)&&(s.data[d.get()-1].beforeBookmark=T)}},G6=function(o,s,d){var m;return s.get()<d.length-1&&(s.set(s.get()+1),m=d[s.get()],MI(o,m,!1),o.setDirty(!0),o.fire("Redo",{level:m})),m},X6=function(o,s,d,m){var x;return s.typing&&(s.add(),s.typing=!1,RA(s,!1,d)),m.get()>0&&(m.set(m.get()-1),x=s.data[m.get()],MI(o,x,!0),o.setDirty(!0),o.fire("Undo",{level:x})),x},Xj=function(o){o.clear(),o.add()},Yj=function(o,s,d){return d.get()>0||s.typing&&s.data[0]&&!Uw(TI(o),s.data[0])},Y6=function(o,s){return s.get()<o.data.length-1&&!o.typing},Kj=function(o,s,d){return W1(o,s),o.beforeChange(),o.ignore(d),o.add()},Jj=function(o,s){try{o.set(o.get()+1),s()}finally{o.set(o.get()-1)}},Qj=function(o,s){var d=o.dom,m=ae(s)?s:o.getBody();X(o.hasVisual)&&(o.hasVisual=kO(o)),Ct(d.select("table,a",m),function(x){switch(x.nodeName){case"TABLE":var T=m0(o),O=d.getAttrib(x,"border");(!O||O==="0")&&o.hasVisual?d.addClass(x,T):d.removeClass(x,T);break;case"A":if(!d.getAttrib(x,"href")){var B=d.getAttrib(x,"name")||x.id,V=Ik(o);B&&o.hasVisual?d.addClass(x,V):d.removeClass(x,V)}break}}),o.fire("VisualAid",{element:s,hasVisual:o.hasVisual})},K6=function(o){return{undoManager:{beforeChange:function(s,d){return qw(o,s,d)},add:function(s,d,m,x,T,O){return DI(o,s,d,m,x,T,O)},undo:function(s,d,m){return X6(o,s,d,m)},redo:function(s,d){return G6(o,s,d)},clear:function(s,d){return Gj(o,s,d)},reset:function(s){return Xj(s)},hasUndo:function(s,d){return Yj(o,s,d)},hasRedo:function(s,d){return Y6(s,d)},transact:function(s,d,m){return Kj(s,d,m)},ignore:function(s,d){return Jj(s,d)},extra:function(s,d,m,x){return AI(o,s,d,m,x)}},formatter:{match:function(s,d,m,x){return J4(o,s,d,m,x)},matchAll:function(s,d){return Q4(o,s,d)},matchNode:function(s,d,m,x){return xm(o,s,d,m,x)},canApply:function(s){return Z4(o,s)},closest:function(s){return lp(o,s)},apply:function(s,d,m){return hI(o,s,d,m)},remove:function(s,d,m,x){return S6(o,s,d,m,x)},toggle:function(s,d,m){return Dj(o,s,d,m)},formatChanged:function(s,d,m,x,T){return IC(o,s,d,m,x,T)}},editor:{getContent:function(s,d){return KD(o,s,d)},setContent:function(s,d){return o6(o,s,d)},insertContent:function(s,d){return nj(o,s,d)},addVisual:function(s){return Qj(o,s)}},selection:{getContent:function(s,d){return Fj(o,s,d)}},raw:{getModel:function(){return fe.none()}}}},Zj=function(o){var s=function(B){return I(B)?B:{}},d=o.undoManager,m=o.formatter,x=o.editor,T=o.selection,O=o.raw;return{undoManager:{beforeChange:d.beforeChange,add:d.add,undo:d.undo,redo:d.redo,clear:d.clear,reset:d.reset,hasUndo:d.hasUndo,hasRedo:d.hasRedo,transact:function(B,V,Z){return d.transact(Z)},ignore:function(B,V){return d.ignore(V)},extra:function(B,V,Z,pe){return d.extra(Z,pe)}},formatter:{match:function(B,V,Z,pe){return m.match(B,s(V),pe)},matchAll:m.matchAll,matchNode:m.matchNode,canApply:function(B){return m.canApply(B)},closest:function(B){return m.closest(B)},apply:function(B,V,Z){return m.apply(B,s(V))},remove:function(B,V,Z,pe){return m.remove(B,s(V))},toggle:function(B,V,Z){return m.toggle(B,s(V))},formatChanged:function(B,V,Z,pe,ge){return m.formatChanged(V,Z,pe,ge)}},editor:{getContent:function(B,V){return x.getContent(B)},setContent:function(B,V){return x.setContent(B,V)},insertContent:function(B,V){return x.insertContent(B)},addVisual:x.addVisual},selection:{getContent:function(B,V){return T.getContent(V)}},raw:{getModel:function(){return fe.some(O.getRawModel())}}}},J6=function(){var o=Q(null),s=Q("");return{undoManager:{beforeChange:le,add:o,undo:o,redo:o,clear:le,reset:le,hasUndo:Ge,hasRedo:Ge,transact:o,ignore:le,extra:le},formatter:{match:Ge,matchAll:Q([]),matchNode:Q(void 0),canApply:Ge,closest:s,apply:le,remove:le,toggle:le,formatChanged:Q({unbind:le})},editor:{getContent:s,setContent:s,insertContent:le,addVisual:le},selection:{getContent:s},raw:{getModel:Q(fe.none())}}},av=function(o){return Vr(o.plugins,"rtc")},zC=function(o){return Br(o.plugins,"rtc").bind(function(s){return fe.from(s.setup)})},Q6=function(o){var s=o;return zC(o).fold(function(){return s.rtcInstance=K6(o),fe.none()},function(d){return s.rtcInstance=J6(),fe.some(function(){return d().then(function(m){return s.rtcInstance=Zj(m),m.rtc.isRemote})})})},EI=function(o){return o.rtcInstance?o.rtcInstance:K6(o)},es=function(o){var s=o.rtcInstance;if(s)return s;throw new Error("Failed to get RTC instance not yet initialized.")},eU=function(o,s,d){es(o).undoManager.beforeChange(s,d)},Z6=function(o,s,d,m,x,T,O){return es(o).undoManager.add(s,d,m,x,T,O)},tU=function(o,s,d,m){return es(o).undoManager.undo(s,d,m)},nU=function(o,s,d){return es(o).undoManager.redo(s,d)},eB=function(o,s,d){es(o).undoManager.clear(s,d)},tB=function(o,s){es(o).undoManager.reset(s)},nB=function(o,s,d){return es(o).undoManager.hasUndo(s,d)},rB=function(o,s,d){return es(o).undoManager.hasRedo(s,d)},oB=function(o,s,d,m){return es(o).undoManager.transact(s,d,m)},rU=function(o,s,d){es(o).undoManager.ignore(s,d)},oU=function(o,s,d,m,x){es(o).undoManager.extra(s,d,m,x)},iU=function(o,s,d,m,x){return es(o).formatter.match(s,d,m,x)},aU=function(o,s,d){return es(o).formatter.matchAll(s,d)},OI=function(o,s,d,m,x){return es(o).formatter.matchNode(s,d,m,x)},FC=function(o,s){return es(o).formatter.canApply(s)},iB=function(o,s){return es(o).formatter.closest(s)},aB=function(o,s,d,m){es(o).formatter.apply(s,d,m)},PA=function(o,s,d,m,x){es(o).formatter.remove(s,d,m,x)},uU=function(o,s,d,m){es(o).formatter.toggle(s,d,m)},sU=function(o,s,d,m,x,T){return es(o).formatter.formatChanged(s,d,m,x,T)},U0=function(o,s,d){return EI(o).editor.getContent(s,d)},II=function(o,s,d){return EI(o).editor.setContent(s,d)},uB=function(o,s,d){return EI(o).editor.insertContent(s,d)},HC=function(o,s,d){return es(o).selection.getContent(s,d)},sB=function(o,s){return es(o).editor.addVisual(s)},lB=function(o,s){s===void 0&&(s={});var d=s.format?s.format:"html";return HC(o,d,s)},RI=function(o){return o.dom.length===0?(La(o),fe.none()):fe.some(o)},cB=function(o,s){return o.filter(function(d){return eh.isBookmarkNode(d.dom)}).bind(s?bc:Eh)},lU=function(o,s,d,m){var x=o.dom,T=s.dom,O=m?x.length:T.length;m?(zw(x,T,!1,!m),d.setStart(T,O)):(zw(T,x,!1,!m),d.setEnd(T,O))},cU=function(o,s){Ma(o).each(function(d){var m=o.dom;s&&Nw(d,Ut(m,0))?P1(m,0):!s&&Lw(d,Ut(m,m.length))&&Bw(m,m.length)})},fB=function(o,s,d,m){o.bind(function(x){var T=m?Bw:P1;return T(x.dom,m?x.dom.length:0),s.filter(xa).map(function(O){return lU(x,O,d,m)})}).orThunk(function(){var x=cB(s,m).or(s).filter(xa);return x.map(function(T){return cU(T,m)})})},PI=function(o,s){var d=fe.from(s.firstChild).map(W.fromDom),m=fe.from(s.lastChild).map(W.fromDom);o.deleteContents(),o.insertNode(s);var x=d.bind(Eh).filter(xa).bind(RI),T=m.bind(bc).filter(xa).bind(RI);fB(x,d,o,!0),fB(T,m,o,!1),o.collapse(!1)},fU=function(o,s){return dr(dr({format:"html"},o),{set:!0,selection:!0,content:s})},dU=function(o,s){if(s.format!=="raw"){var d=o.selection.getRng(),m=o.dom.getParent(d.commonAncestorContainer,o.dom.isBlock),x=m?{context:m.nodeName.toLowerCase()}:{},T=o.parser.parse(s.content,dr(dr({isRootContent:!0,forced_root_block:!1},x),s));return Qg({validate:o.validate},o.schema).serialize(T)}else return s.content},VC=function(o,s,d){d===void 0&&(d={});var m=fU(d,s),x=m;if(!m.no_events){var T=o.fire("BeforeSetContent",m);if(T.isDefaultPrevented()){o.fire("SetContent",T);return}else x=T}x.content=dU(o,x);var O=o.selection.getRng();PI(O,O.createContextualFragment(x.content)),o.selection.setRng(O),A0(o,O),x.no_events||o.fire("SetContent",x)},NA=function(o,s,d){if(o&&Vr(o,s)){var m=Ke(o[s],function(x){return x!==d});m.length===0?delete o[s]:o[s]=m}};function hU(o,s){var d,m,x=function(O,B){return Qn(B,function(V){return o.is(V,O)})},T=function(O){return o.getParents(O,null,o.getRoot())};return{selectorChangedWithUnbind:function(O,B){return d||(d={},m={},s.on("NodeChange",function(V){var Z=V.element,pe=T(Z),ge={};qt.each(d,function(ve,Ae){x(Ae,pe).each(function(De){m[Ae]||(Ct(ve,function(Ie){Ie(!0,{node:De,selector:Ae,parents:pe})}),m[Ae]=ve),ge[Ae]=ve})}),qt.each(m,function(ve,Ae){ge[Ae]||(delete m[Ae],qt.each(ve,function(De){De(!1,{node:Z,selector:Ae,parents:pe})}))})})),d[O]||(d[O]=[]),d[O].push(B),x(O,T(s.selection.getStart())).each(function(){m[O]=d[O]}),{unbind:function(){NA(d,O,B),NA(m,O,B)}}}}}var NI=function(o){return!!o.select},dB=function(o){return!!(o&&o.ownerDocument)&&li(W.fromDom(o.ownerDocument),W.fromDom(o))},LA=function(o){return o?NI(o)?!0:dB(o.startContainer)&&dB(o.endContainer):!1},LI=function(o,s,d,m){var x,T,O=hU(o,m).selectorChangedWithUnbind,B=function(xn,ar){var oo=o.createRng();ae(xn)&&ae(ar)?(oo.setStart(xn,ar),oo.setEnd(xn,ar),at(oo),Ne(!1)):(Zd(o,oo,m.getBody(),!0),at(oo))},V=function(xn){return lB(m,xn)},Z=function(xn,ar){return VC(m,xn,ar)},pe=function(xn){return _1(m.getBody(),Xe(),xn)},ge=function(xn){return cC(m.getBody(),Xe(),xn)},ve=function(xn,ar){return Vn.getBookmark(xn,ar)},Ae=function(xn){return Vn.moveToBookmark(xn)},De=function(xn,ar){return WD(o,xn,ar).each(at),xn},Ie=function(){var xn=Xe(),ar=Qe();return!xn||xn.item?!1:xn.compareEndPoints?xn.compareEndPoints("StartToEnd",xn)===0:!ar||xn.collapsed},Ne=function(xn){var ar=Xe();ar.collapse(!!xn),at(ar)},Qe=function(){return s.getSelection?s.getSelection():s.document.selection},Xe=function(){var xn,ar,oo,xi=function(ku,Oc,ef){try{return Oc.compareBoundaryPoints(ku,ef)}catch{return-1}},Uo=s.document;if(m.bookmark!==void 0&&gm(m)===!1){var mu=tC(m);if(mu.isSome())return mu.map(function(ku){return N0(m,[ku])[0]}).getOr(Uo.createRange())}try{(xn=Qe())&&!Bd(xn.anchorNode)&&(xn.rangeCount>0?ar=xn.getRangeAt(0):ar=xn.createRange?xn.createRange():Uo.createRange(),ar=N0(m,[ar])[0])}catch{}return ar||(ar=Uo.createRange?Uo.createRange():Uo.body.createTextRange()),ar.setStart&&ar.startContainer.nodeType===9&&ar.collapsed&&(oo=o.getRoot(),ar.setStart(oo,0),ar.setEnd(oo,0)),x&&T&&(xi(ar.START_TO_START,ar,x)===0&&xi(ar.END_TO_END,ar,x)===0?ar=T:(x=null,T=null)),ar},at=function(xn,ar){var oo;if(LA(xn)){var xi=NI(xn)?xn:null;if(xi){T=null;try{xi.select()}catch{}return}var Uo=Qe(),mu=m.fire("SetSelectionRange",{range:xn,forward:ar});if(xn=mu.range,Uo){T=xn;try{Uo.removeAllRanges(),Uo.addRange(xn)}catch{}ar===!1&&Uo.extend&&(Uo.collapse(xn.endContainer,xn.endOffset),Uo.extend(xn.startContainer,xn.startOffset)),x=Uo.rangeCount>0?Uo.getRangeAt(0):null}!xn.collapsed&&xn.startContainer===xn.endContainer&&Uo.setBaseAndExtent&&!Cr.ie&&xn.endOffset-xn.startOffset<2&&xn.startContainer.hasChildNodes()&&(oo=xn.startContainer.childNodes[xn.startOffset],oo&&oo.tagName==="IMG"&&(Uo.setBaseAndExtent(xn.startContainer,xn.startOffset,xn.endContainer,xn.endOffset),(Uo.anchorNode!==xn.startContainer||Uo.focusNode!==xn.endContainer)&&Uo.setBaseAndExtent(oo,0,oo,1))),m.fire("AfterSetSelectionRange",{range:xn,forward:ar})}},xt=function(xn){return Z(o.getOuterHTML(xn)),xn},nt=function(){return S1(m.getBody(),Xe())},Mt=function(xn,ar){return w4(o,Xe(),xn,ar)},Xt=function(){var xn=Qe(),ar=xn==null?void 0:xn.anchorNode,oo=xn==null?void 0:xn.focusNode;if(!xn||!ar||!oo||Bd(ar)||Bd(oo))return!0;var xi=o.createRng();xi.setStart(ar,xn.anchorOffset),xi.collapse(!0);var Uo=o.createRng();return Uo.setStart(oo,xn.focusOffset),Uo.collapse(!0),xi.compareBoundaryPoints(xi.START_TO_START,Uo)<=0},Sn=function(){var xn=Xe(),ar=Qe();if(!XO(ar)&&Gc(m)){var oo=p1(o,xn);return oo.each(function(xi){at(xi,Xt())}),oo.getOr(xn)}return xn},Dr=function(xn,ar){return O(xn,ar),Dn},Zn=function(){for(var xn,ar=o.getRoot();ar&&ar.nodeName!=="BODY";){if(ar.scrollHeight>ar.clientHeight){xn=ar;break}ar=ar.parentNode}return xn},pn=function(xn,ar){ae(xn)?s4(m,xn,ar):A0(m,Xe(),ar)},jr=function(xn,ar){return at(GS(xn,ar,m.getDoc()))},An=function(){var xn=Xe();return xn.collapsed?Ut.fromRangeStart(xn).getClientRects()[0]:xn.getBoundingClientRect()},Jn=function(){s=x=T=null,rr.destroy()},Dn={bookmarkManager:null,controlSelection:null,dom:o,win:s,serializer:d,editor:m,collapse:Ne,setCursorLocation:B,getContent:V,setContent:Z,getBookmark:ve,moveToBookmark:Ae,select:De,isCollapsed:Ie,isForward:Xt,setNode:xt,getNode:nt,getSel:Qe,setRng:at,getRng:Xe,getStart:pe,getEnd:ge,getSelectedBlocks:Mt,normalize:Sn,selectorChanged:Dr,selectorChangedWithUnbind:O,getScrollContainer:Zn,scrollIntoView:pn,placeCaretAt:jr,getBoundingClientRect:An,destroy:Jn},Vn=eh(Dn),rr=vD(Dn,m);return Dn.bookmarkManager=Vn,Dn.controlSelection=rr,Dn},pU=function(o,s){Ct(s,function(d){o.attr(d,null)})},ts=function(o,s,d){o.addNodeFilter("font",function(m){Ct(m,function(x){var T=s.parse(x.attr("style")),O=x.attr("color"),B=x.attr("face"),V=x.attr("size");O&&(T.color=O),B&&(T["font-family"]=B),V&&(T["font-size"]=d[parseInt(x.attr("size"),10)-1]),x.name="span",x.attr("style",s.serialize(T)),pU(x,["color","face","size"])})})},mU=function(o,s){o.addNodeFilter("strike",function(d){Ct(d,function(m){var x=s.parse(m.attr("style"));x["text-decoration"]="line-through",m.name="span",m.attr("style",s.serialize(x))})})},hB=function(o,s){var d=$h();s.convert_fonts_to_spans&&ts(o,d,qt.explode(s.font_size_legacy_values)),mU(o,d)},gU=function(o,s){s.inline_styles&&hB(o,s)},vU=function(o){return new Wu(function(s,d){var m=function(){d("Cannot convert "+o+" to Blob. Resource might not exist or is inaccessible.")};try{var x=new XMLHttpRequest;x.open("GET",o,!0),x.responseType="blob",x.onload=function(){x.status===200?s(x.response):m()},x.onerror=m,x.send()}catch{m()}})},BA=function(o){var s,d=decodeURIComponent(o).split(","),m=/data:([^;]+)/.exec(d[0]);return m&&(s=m[1]),{type:s,data:d[1]}},pB=function(o,s){var d;try{d=atob(s)}catch{return fe.none()}for(var m=new Uint8Array(d.length),x=0;x<m.length;x++)m[x]=d.charCodeAt(x);return fe.some(new Blob([m],{type:o}))},BI=function(o){return new Wu(function(s){var d=BA(o),m=d.type,x=d.data;pB(m,x).fold(function(){return s(new Blob([]))},s)})},mB=function(o){return o.indexOf("blob:")===0?vU(o):o.indexOf("data:")===0?BI(o):null},gB=function(o){return new Wu(function(s){var d=new FileReader;d.onloadend=function(){s(d.result)},d.readAsDataURL(o)})},zI=0,FI=function(o){return(o||"blobid")+zI++},yU=function(o,s,d,m){var x,T;if(s.src.indexOf("blob:")===0){T=o.getByUri(s.src),T?d({image:s,blobInfo:T}):mB(s.src).then(function(Z){gB(Z).then(function(pe){x=BA(pe).data,T=o.create(FI(),Z,x),o.add(T),d({image:s,blobInfo:T})})},function(Z){m(Z)});return}var O=BA(s.src),B=O.data,V=O.type;x=B,T=o.getByData(x,V),T?d({image:s,blobInfo:T}):mB(s.src).then(function(Z){T=o.create(FI(),Z,x),o.add(T),d({image:s,blobInfo:T})},function(Z){m(Z)})},bU=function(o){return o?bn(o.getElementsByTagName("img")):[]},xU=function(o,s){var d={},m=function(x,T){T||(T=pt);var O=Ke(bU(x),function(V){var Z=V.src;return!Cr.fileApi||V.hasAttribute("data-mce-bogus")||V.hasAttribute("data-mce-placeholder")||!Z||Z===Cr.transparentSrc?!1:Z.indexOf("blob:")===0?!o.isUploaded(Z)&&T(V):Z.indexOf("data:")===0?T(V):!1}),B=Ft(O,function(V){if(d[V.src]!==void 0)return new Wu(function(pe){d[V.src].then(function(ge){if(typeof ge=="string")return ge;pe({image:V,blobInfo:ge.blobInfo})})});var Z=new Wu(function(pe,ge){yU(s,V,pe,ge)}).then(function(pe){return delete d[pe.image.src],pe}).catch(function(pe){return delete d[V.src],pe});return d[V.src]=Z,Z});return Wu.all(B)};return{findAll:m}},vB=function(o,s,d,m){var x=o.padd_empty_with_br||s.insert;x&&d[m.name]?m.empty().append(new Xc("br",1)).shortEnded=!0:m.empty().append(new Xc("#text",3)).value=Jl},yB=function(o){return HI(o,"#text")&&o.firstChild.value===Jl},HI=function(o,s){return o&&o.firstChild&&o.firstChild===o.lastChild&&o.firstChild.name===s},VI=function(o,s){var d=o.getElementRule(s.name);return d&&d.paddEmpty},$w=function(o,s,d,m){return m.isEmpty(s,d,function(x){return VI(o,x)})},bB=function(o,s){return o&&(Vr(s,o.name)||o.name==="br")},xB=function(o){return ae(o.attr("data-mce-bogus"))},wB=function(o){return o.attr("src")===Cr.transparentSrc||ae(o.attr("data-mce-placeholder"))},_B=function(o,s){if(s.images_dataimg_filter){var d=new Image;return d.src=o.attr("src"),wn(o.attributes.map,function(m,x){d.setAttribute(x,m)}),s.images_dataimg_filter(d)}else return!0},SB=function(o,s){var d=s.blob_cache,m=function(x){var T=x.attr("src");wB(x)||xB(x)||S4(T).filter(function(){return _B(x,s)}).bind(function(O){var B=O.type,V=O.data;return fe.from(d.getByData(V,B)).orThunk(function(){return pB(B,V).map(function(Z){var pe=d.create(FI(),Z,V);return d.add(pe),pe})})}).each(function(O){x.attr("src",O.blobUri())})};d&&o.addAttributeFilter("src",function(x){return Ct(x,m)})},wU=function(o,s){var d=o.schema;s.remove_trailing_brs&&o.addNodeFilter("br",function(m,x,T){var O,B=m.length,V,Z=qt.extend({},d.getBlockElements()),pe=d.getNonEmptyElements(),ge,ve,Ae,De,Ie=d.getWhiteSpaceElements(),Ne,Qe;for(Z.body=1,O=0;O<B;O++)if(V=m[O],ge=V.parent,Z[V.parent.name]&&V===ge.lastChild){for(Ae=V.prev;Ae;){if(De=Ae.name,De!=="span"||Ae.attr("data-mce-type")!=="bookmark"){De==="br"&&(V=null);break}Ae=Ae.prev}V&&(V.remove(),$w(d,pe,Ie,ge)&&(Ne=d.getElementRule(ge.name),Ne&&(Ne.removeEmpty?ge.remove():Ne.paddEmpty&&vB(s,T,Z,ge))))}else{for(ve=V;ge&&ge.firstChild===ve&&ge.lastChild===ve&&(ve=ge,!Z[ge.name]);)ge=ge.parent;ve===ge&&s.padd_empty_with_br!==!0&&(Qe=new Xc("#text",3),Qe.value=Jl,V.replace(Qe))}}),o.addAttributeFilter("href",function(m){var x=m.length,T=function(V){var Z=V.split(" ").filter(function(pe){return pe.length>0});return Z.concat(["noopener"]).sort().join(" ")},O=function(V){var Z=V?qt.trim(V):"";return/\b(noopener)\b/g.test(Z)?Z:T(Z)};if(!s.allow_unsafe_link_target)for(;x--;){var B=m[x];B.name==="a"&&B.attr("target")==="_blank"&&B.attr("rel",O(B.attr("rel")))}}),s.allow_html_in_named_anchor||o.addAttributeFilter("id,name",function(m){for(var x=m.length,T,O,B,V;x--;)if(V=m[x],V.name==="a"&&V.firstChild&&!V.attr("href")){B=V.parent,T=V.lastChild;do O=T.prev,B.insert(T,V),T=O;while(T)}}),s.fix_list_elements&&o.addNodeFilter("ul,ol",function(m){for(var x=m.length,T,O;x--;)if(T=m[x],O=T.parent,O.name==="ul"||O.name==="ol")if(T.prev&&T.prev.name==="li")T.prev.append(T);else{var B=new Xc("li",1);B.attr("style","list-style-type: none"),T.wrap(B)}}),s.validate&&d.getValidClasses()&&o.addAttributeFilter("class",function(m){for(var x=d.getValidClasses(),T=m.length;T--;){for(var O=m[T],B=O.attr("class").split(" "),V="",Z=0;Z<B.length;Z++){var pe=B[Z],ge=!1,ve=x["*"];ve&&ve[pe]&&(ge=!0),ve=x[O.name],!ge&&ve&&ve[pe]&&(ge=!0),ge&&(V&&(V+=" "),V+=pe)}V.length||(V=null),O.attr("class",V)}}),SB(o,s)},zA=qt.makeMap,CB=qt.each,jC=qt.explode,_U=qt.extend,jI=function(o,s){s===void 0&&(s=Mo());var d={},m=[],x={},T={};o=o||{},o.validate="validate"in o?o.validate:!0,o.root_name=o.root_name||"body";var O=function(De){for(var Ie=zA("tr,td,th,tbody,thead,tfoot,table"),Ne=s.getNonEmptyElements(),Qe=s.getWhiteSpaceElements(),Xe=s.getTextBlockElements(),at=s.getSpecialElements(),xt=function(Vn,rr){if(rr===void 0&&(rr=Vn.parent),at[Vn.name])Vn.empty().remove();else{for(var xn=Vn.children(),ar=0,oo=xn;ar<oo.length;ar++){var xi=oo[ar];s.isValidChild(rr.name,xi.name)||xt(xi,rr)}Vn.unwrap()}},nt=0;nt<De.length;nt++){var Mt=De[nt],Xt=void 0,Sn=void 0,Dr=void 0;if(!(!Mt.parent||Mt.fixed)){if(Xe[Mt.name]&&Mt.parent.name==="li"){for(var Zn=Mt.next;Zn&&Xe[Zn.name];)Zn.name="li",Zn.fixed=!0,Mt.parent.insert(Zn,Mt.parent),Zn=Zn.next;Mt.unwrap();continue}var pn=[Mt];for(Xt=Mt.parent;Xt&&!s.isValidChild(Xt.name,Mt.name)&&!Ie[Xt.name];Xt=Xt.parent)pn.push(Xt);if(Xt&&pn.length>1)if(s.isValidChild(Xt.name,Mt.name)){pn.reverse(),Sn=B(pn[0].clone());for(var jr=Sn,An=0;An<pn.length-1;An++){s.isValidChild(jr.name,pn[An].name)?(Dr=B(pn[An].clone()),jr.append(Dr)):Dr=jr;for(var Jn=pn[An].firstChild;Jn&&Jn!==pn[An+1];){var Dn=Jn.next;Dr.append(Jn),Jn=Dn}jr=Dr}$w(s,Ne,Qe,Sn)?Xt.insert(Mt,pn[0],!0):(Xt.insert(Sn,pn[0],!0),Xt.insert(Mt,Sn)),Xt=pn[0],($w(s,Ne,Qe,Xt)||HI(Xt,"br"))&&Xt.empty().remove()}else xt(Mt);else if(Mt.parent){if(Mt.name==="li"){var Zn=Mt.prev;if(Zn&&(Zn.name==="ul"||Zn.name==="ol")){Zn.append(Mt);continue}if(Zn=Mt.next,Zn&&(Zn.name==="ul"||Zn.name==="ol")){Zn.insert(Mt,Zn.firstChild,!0);continue}Mt.wrap(B(new Xc("ul",1)));continue}s.isValidChild(Mt.parent.name,"div")&&s.isValidChild("div",Mt.name)?Mt.wrap(B(new Xc("div",1))):xt(Mt)}}}},B=function(De){var Ie=De.name;if(Ie in d){var Ne=x[Ie];Ne?Ne.push(De):x[Ie]=[De]}for(var Qe=m.length;Qe--;){var Xe=m[Qe].name;if(Xe in De.attributes.map){var Ne=T[Xe];Ne?Ne.push(De):T[Xe]=[De]}}return De},V=function(De,Ie){CB(jC(De),function(Ne){var Qe=d[Ne];Qe||(d[Ne]=Qe=[]),Qe.push(Ie)})},Z=function(){var De=[];for(var Ie in d)Vr(d,Ie)&&De.push({name:Ie,callbacks:d[Ie]});return De},pe=function(De,Ie){CB(jC(De),function(Ne){var Qe;for(Qe=0;Qe<m.length;Qe++)if(m[Qe].name===Ne){m[Qe].callbacks.push(Ie);return}m.push({name:Ne,callbacks:[Ie]})})},ge=function(){return[].concat(m)},ve=function(De,Ie){var Ne,Qe,Xe,at,xt,nt,Mt,Xt=[],Sn,Dr=function(zt){return zt===!1?"":zt===!0?"p":zt};Ie=Ie||{},x={},T={};var Zn=_U(zA("script,style,head,html,body,title,meta,param"),s.getBlockElements()),pn=s.getNonEmptyElements(),jr=s.children,An=o.validate,Jn="forced_root_block"in Ie?Ie.forced_root_block:o.forced_root_block,Dn=Dr(Jn),Vn=s.getWhiteSpaceElements(),rr=/^[ \t\r\n]+/,xn=/[ \t\r\n]+$/,ar=/[ \t\r\n]+/g,oo=/^[ \t\r\n]+$/,xi=Vr(Vn,Ie.context)||Vr(Vn,o.root_name),Uo=function(){var zt=yn.firstChild,Cn=null,Ht=function(Fn){Fn&&(zt=Fn.firstChild,zt&&zt.type===3&&(zt.value=zt.value.replace(rr,"")),zt=Fn.lastChild,zt&&zt.type===3&&(zt.value=zt.value.replace(xn,"")))};if(s.isValidChild(yn.name,Dn.toLowerCase())){for(;zt;){var fr=zt.next;zt.type===3||zt.type===1&&zt.name!=="p"&&!Zn[zt.name]&&!zt.attr("data-mce-type")?(Cn||(Cn=mu(Dn,1),Cn.attr(o.forced_root_block_attrs),yn.insert(Cn,zt)),Cn.append(zt)):(Ht(Cn),Cn=null),zt=fr}Ht(Cn)}},mu=function(zt,Cn){var Ht=new Xc(zt,Cn),fr;return zt in d&&(fr=x[zt],fr?fr.push(Ht):x[zt]=[Ht]),Ht},ku=function(zt){for(var Cn=s.getBlockElements(),Ht=zt.prev;Ht&&Ht.type===3;){var fr=Ht.value.replace(xn,"");if(fr.length>0){Ht.value=fr;return}var Fn=Ht.next;if(Fn){if(Fn.type===3&&Fn.value.length){Ht=Ht.prev;continue}if(!Cn[Fn.name]&&Fn.name!=="script"&&Fn.name!=="style"){Ht=Ht.prev;continue}}var zr=Ht.prev;Ht.remove(),Ht=zr}},Oc=function(zt){var Cn={};for(var Ht in zt)Ht!=="li"&&Ht!=="p"&&(Cn[Ht]=zt[Ht]);return Cn},ef=Tw({validate:An,document:o.document,allow_html_data_urls:o.allow_html_data_urls,allow_svg_data_urls:o.allow_svg_data_urls,allow_script_urls:o.allow_script_urls,allow_conditional_comments:o.allow_conditional_comments,preserve_cdata:o.preserve_cdata,self_closing_elements:Oc(s.getSelfClosingElements()),cdata:function(zt){Sn.append(mu("#cdata",4)).value=zt},text:function(zt,Cn){var Ht;xi||(zt=zt.replace(ar," "),bB(Sn.lastChild,Zn)&&(zt=zt.replace(rr,""))),zt.length!==0&&(Ht=mu("#text",3),Ht.raw=!!Cn,Sn.append(Ht).value=zt)},comment:function(zt){Sn.append(mu("#comment",8)).value=zt},pi:function(zt,Cn){Sn.append(mu(zt,7)).value=Cn,ku(Sn)},doctype:function(zt){var Cn=Sn.append(mu("#doctype",10));Cn.value=zt,ku(Sn)},start:function(zt,Cn,Ht){var fr=An?s.getElementRule(zt):{};if(fr){var Fn=mu(fr.outputName||zt,1);Fn.attributes=Cn,Fn.shortEnded=Ht,Sn.append(Fn);var zr=jr[Sn.name];zr&&jr[Fn.name]&&!zr[Fn.name]&&Xt.push(Fn);for(var ko=m.length;ko--;){var pa=m[ko].name;pa in Cn.map&&(nt=T[pa],nt?nt.push(Fn):T[pa]=[Fn])}Zn[zt]&&ku(Fn),Ht||(Sn=Fn),!xi&&Vn[zt]&&(xi=!0)}},end:function(zt){var Cn,Ht,fr,Fn,zr=An?s.getElementRule(zt):{};if(zr){if(Zn[zt]&&!xi){if(Cn=Sn.firstChild,Cn&&Cn.type===3)if(Ht=Cn.value.replace(rr,""),Ht.length>0)Cn.value=Ht,Cn=Cn.next;else for(fr=Cn.next,Cn.remove(),Cn=fr;Cn&&Cn.type===3;)Ht=Cn.value,fr=Cn.next,(Ht.length===0||oo.test(Ht))&&(Cn.remove(),Cn=fr),Cn=fr;if(Cn=Sn.lastChild,Cn&&Cn.type===3)if(Ht=Cn.value.replace(xn,""),Ht.length>0)Cn.value=Ht,Cn=Cn.prev;else for(fr=Cn.prev,Cn.remove(),Cn=fr;Cn&&Cn.type===3;)Ht=Cn.value,fr=Cn.prev,(Ht.length===0||oo.test(Ht))&&(Cn.remove(),Cn=fr),Cn=fr}if(xi&&Vn[zt]&&(xi=!1),zr.removeEmpty&&$w(s,pn,Vn,Sn)){Fn=Sn.parent,Zn[Sn.name]?Sn.empty().remove():Sn.unwrap(),Sn=Fn;return}zr.paddEmpty&&(yB(Sn)||$w(s,pn,Vn,Sn))&&vB(o,Ie,Zn,Sn),Sn=Sn.parent}}},s),yn=Sn=new Xc(Ie.context||o.root_name,11);if(ef.parse(De,Ie.format),An&&Xt.length&&(Ie.context?Ie.invalid=!0:O(Xt)),Dn&&(yn.name==="body"||Ie.isRootContent)&&Uo(),!Ie.invalid){for(Mt in x)if(Vr(x,Mt)){for(nt=d[Mt],Ne=x[Mt],at=Ne.length;at--;)Ne[at].parent||Ne.splice(at,1);for(Qe=0,Xe=nt.length;Qe<Xe;Qe++)nt[Qe](Ne,Mt,Ie)}for(Qe=0,Xe=m.length;Qe<Xe;Qe++)if(nt=m[Qe],nt.name in T){for(Ne=T[nt.name],at=Ne.length;at--;)Ne[at].parent||Ne.splice(at,1);for(at=0,xt=nt.callbacks.length;at<xt;at++)nt.callbacks[at](Ne,nt.name,Ie)}}return yn},Ae={schema:s,addAttributeFilter:pe,getAttributeFilters:ge,addNodeFilter:V,getNodeFilters:Z,filterNode:B,parse:ve};return wU(Ae,o),gU(Ae,o),Ae},SU=function(o,s,d){o.addAttributeFilter("data-mce-tabindex",function(m,x){for(var T=m.length;T--;){var O=m[T];O.attr("tabindex",O.attr("data-mce-tabindex")),O.attr(x,null)}}),o.addAttributeFilter("src,href,style",function(m,x){for(var T="data-mce-"+x,O=s.url_converter,B=s.url_converter_scope,V=m.length;V--;){var Z=m[V],pe=Z.attr(T);pe!==void 0?(Z.attr(x,pe.length>0?pe:null),Z.attr(T,null)):(pe=Z.attr(x),x==="style"?pe=d.serializeStyle(d.parseStyle(pe),Z.name):O&&(pe=O.call(B,pe,x,Z.name)),Z.attr(x,pe.length>0?pe:null))}}),o.addAttributeFilter("class",function(m){for(var x=m.length;x--;){var T=m[x],O=T.attr("class");O&&(O=T.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),T.attr("class",O.length>0?O:null))}}),o.addAttributeFilter("data-mce-type",function(m,x,T){for(var O=m.length;O--;){var B=m[O];if(B.attr("data-mce-type")==="bookmark"&&!T.cleanup){var V=fe.from(B.firstChild).exists(function(Z){return!sl(Z.value)});V?B.unwrap():B.remove()}}}),o.addNodeFilter("noscript",function(m){for(var x=m.length;x--;){var T=m[x].firstChild;T&&(T.value=Mc.decode(T.value))}}),o.addNodeFilter("script,style",function(m,x){for(var T=function(pe){return pe.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},O=m.length;O--;){var B=m[O],V=B.firstChild?B.firstChild.value:"";if(x==="script"){var Z=B.attr("type");Z&&B.attr("type",Z==="mce-no/type"?null:Z.replace(/^mce\-/,"")),s.element_format==="xhtml"&&V.length>0&&(B.firstChild.value=`// <![CDATA[
`+T(V)+`
// ]]>`)}else s.element_format==="xhtml"&&V.length>0&&(B.firstChild.value=`<!--
`+T(V)+`
-->`)}}),o.addNodeFilter("#comment",function(m){for(var x=m.length;x--;){var T=m[x];s.preserve_cdata&&T.value.indexOf("[CDATA[")===0?(T.name="#cdata",T.type=4,T.value=d.decode(T.value.replace(/^\[CDATA\[|\]\]$/g,""))):T.value.indexOf("mce:protected ")===0&&(T.name="#text",T.type=3,T.raw=!0,T.value=unescape(T.value).substr(14))}}),o.addNodeFilter("xml:namespace,input",function(m,x){for(var T=m.length;T--;){var O=m[T];O.type===7?O.remove():O.type===1&&x==="input"&&!O.attr("type")&&O.attr("type","text")}}),o.addAttributeFilter("data-mce-type",function(m){Ct(m,function(x){x.attr("data-mce-type")==="format-caret"&&(x.isEmpty(o.schema.getNonEmptyElements())?x.remove():x.unwrap())})}),o.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(m,x){for(var T=m.length;T--;)m[T].attr(x,null)})},TB=function(o){var s=function(x){return x&&x.name==="br"},d=o.lastChild;if(s(d)){var m=d.prev;s(m)&&(d.remove(),m.remove())}},MB=function(o,s,d){var m,x=o.dom,T=s.cloneNode(!0),O=document.implementation;if(O.createHTMLDocument){var B=O.createHTMLDocument("");qt.each(T.nodeName==="BODY"?T.childNodes:[T],function(V){B.body.appendChild(B.importNode(V,!0))}),T.nodeName!=="BODY"?T=B.body.firstChild:T=B.body,m=x.doc,x.doc=B}return hD(o,dr(dr({},d),{node:T})),m&&(x.doc=m),T},CU=function(o,s){return o&&o.hasEventListeners("PreProcess")&&!s.no_events},TU=function(o,s,d){return CU(o,d)?MB(o,s,d):s},MU=function(o,s,d){qt.inArray(s,d)===-1&&(o.addAttributeFilter(d,function(m,x){for(var T=m.length;T--;)m[T].attr(x,null)}),s.push(d))},kU=function(o,s,d){if(!s.no_events&&o){var m=d1(o,dr(dr({},s),{content:d}));return m.content}else return d},kB=function(o,s,d){var m=rd(d.getInner?s.innerHTML:o.getOuterHTML(s));return d.selection||ug(W.fromDom(s))?m:qt.trim(m)},DU=function(o,s,d){var m=d.selection?dr({forced_root_block:!1},d):d,x=o.parse(s,m);return TB(x),x},AU=function(o,s,d){var m=Qg(o,s);return m.serialize(d)},EU=function(o,s,d,m,x){var T=AU(s,d,m);return kU(o,x,T)},OU=function(o,s){var d=["data-mce-selected"],m=s&&s.dom?s.dom:na.DOM,x=s&&s.schema?s.schema:Mo(o);o.entity_encoding=o.entity_encoding||"named",o.remove_trailing_brs="remove_trailing_brs"in o?o.remove_trailing_brs:!0;var T=jI(o,x);SU(T,o,m);var O=function(B,V){V===void 0&&(V={});var Z=dr({format:"html"},V),pe=TU(s,B,Z),ge=kB(m,pe,Z),ve=DU(T,ge,Z);return Z.format==="tree"?ve:EU(s,o,x,ve,Z)};return{schema:x,addNodeFilter:T.addNodeFilter,addAttributeFilter:T.addAttributeFilter,serialize:O,addRules:x.addValidElements,setRules:x.setValidElements,addTempAttr:ke(MU,T,d),getTempAttrs:Q(d),getNodeFilters:T.getNodeFilters,getAttributeFilters:T.getAttributeFilters}},DB=function(o,s){var d=OU(o,s);return{schema:d.schema,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:d.serialize,addRules:d.addRules,setRules:d.setRules,addTempAttr:d.addTempAttr,getTempAttrs:d.getTempAttrs,getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters}},IU="html",RU=function(o,s){s===void 0&&(s={});var d=s.format?s.format:IU;return U0(o,s,d)},UI=function(o,s,d){return d===void 0&&(d={}),II(o,s,d)},UC=na.DOM,PU=function(o){UC.setStyle(o.id,"display",o.orgDisplay)},FA=function(o){return fe.from(o).each(function(s){return s.destroy()})},NU=function(o){o.contentAreaContainer=o.formElement=o.container=o.editorContainer=null,o.bodyElement=o.contentDocument=o.contentWindow=null,o.iframeElement=o.targetElm=null,o.selection&&(o.selection=o.selection.win=o.selection.dom=o.selection.dom.doc=null)},LU=function(o){var s=o.formElement;s&&(s._mceOldSubmit&&(s.submit=s._mceOldSubmit,s._mceOldSubmit=null),UC.unbind(s,"submit reset",o.formEventDelegate))},BU=function(o){if(!o.removed){var s=o._selectionOverrides,d=o.editorUpload,m=o.getBody(),x=o.getElement();m&&o.save({is_removing:!0}),o.removed=!0,o.unbindAllNativeEvents(),o.hasHiddenInput&&x&&UC.remove(x.nextSibling),KO(o),o.editorManager.remove(o),!o.inline&&m&&PU(o),HS(o),UC.remove(o.getContainer()),FA(s),FA(d),o.destroy()}},WC=function(o,s){var d=o.selection,m=o.dom;if(!o.destroyed){if(!s&&!o.removed){o.remove();return}s||(o.editorManager.off("beforeunload",o._beforeUnload),o.theme&&o.theme.destroy&&o.theme.destroy(),FA(d),FA(m)),LU(o),NU(o),o.destroyed=!0}},zU=function(o,s){var d=I(o)&&I(s);return d?WI(o,s):s},FU=function(o){return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];if(s.length===0)throw new Error("Can't merge zero objects");for(var m={},x=0;x<s.length;x++){var T=s[x];for(var O in T)Vr(T,O)&&(m[O]=o(m[O],T[O]))}return m}},WI=FU(zU),AB="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),HU="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),VU="imagetools,toc".split(","),jU=function(o){var s=Ke(AB,function(m){return Vr(o,m)}),d=o.forced_root_block;return(d===!1||d==="")&&s.push("forced_root_block (false only)"),vt(s)},qC=function(o){var s=qt.makeMap(o.plugins," "),d=function(x){return Vr(s,x)},m=ba(ba([],Ke(HU,d),!0),To(VU,function(x){return d(x)?[x+" (moving to premium)"]:[]}),!0);return vt(m)},EB=function(o,s){var d=jU(o),m=qC(s),x=m.length>0,T=d.length>0,O=s.theme==="mobile";if(x||T||O){var B=`
- `,V=O?`

Themes:`+B+"mobile":"",Z=x?`

Plugins:`+B+m.join(B):"",pe=T?`

Settings:`+B+d.join(B):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+V+Z+pe)}},OB=function(o,s){return{sections:Q(o),settings:Q(s)}},qI=yr().deviceType,IB=qI.isTouch(),RB=qI.isPhone(),UU=qI.isTablet(),WU=["lists","autolink","autosave"],$I={table_grid:!1,object_resizing:!1,resize:!1},$C=function(o){var s=z(o)?o.join(" "):o,d=Ft(R(s)?s.split(" "):[],Ue);return Ke(d,function(m){return m.length>0})},qU=function(o){return Ke(o,ke(Je,WU))},$U=function(o,s){var d=ln(s,function(m,x){return Je(o,x)});return OB(d.t,d.f)},PB=function(o,s,d){d===void 0&&(d={});var m=o.sections(),x=Br(m,s).getOr({});return qt.extend({},d,x)},HA=function(o,s){return Vr(o.sections(),s)},GU=function(o,s,d){var m=o.sections();return HA(o,s)&&m[s].theme===d},GC=function(o,s){return HA(o,s)?o.sections()[s]:{}},GI=function(o,s){return Br(o,"toolbar_mode").orThunk(function(){return Br(o,"toolbar_drawer").map(function(d){return d===!1?"wrap":d})}).getOr(s)},NB=function(o,s,d,m,x){var T={id:s,theme:"silver",toolbar_mode:GI(o,"floating"),plugins:"",document_base_url:d,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:x.convertURL,url_converter_scope:x};return dr(dr({},T),m?$I:{})},XU=function(o,s){var d={resize:!1,toolbar_mode:GI(o,"scrolling"),toolbar_sticky:!1},m={menubar:!1};return dr(dr(dr({},$I),d),s?m:{})},YU=function(o,s){var d=s.external_plugins?s.external_plugins:{};return o&&o.external_plugins?qt.extend({},o.external_plugins,d):d},KU=function(o,s){return[].concat($C(o)).concat($C(s))},LB=function(o,s,d,m){return o&&GU(s,"mobile","mobile")?qU(m):o&&HA(s,"mobile")?m:d},JU=function(o,s,d,m){var x=$C(d.forced_plugins),T=$C(m.plugins),O=GC(s,"mobile"),B=O.plugins?$C(O.plugins):T,V=LB(o,s,T,B),Z=KU(x,V);if(Cr.browser.isIE()&&Je(Z,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return qt.extend(m,{plugins:Z.join(" ")})},QU=function(o,s){return o&&HA(s,"mobile")},ZU=function(o,s,d,m,x){var T=o?{mobile:XU(x.mobile||{},s)}:{},O=$U(["mobile"],WI(T,x)),B=qt.extend(d,m,O.settings(),QU(o,O)?PB(O,"mobile"):{},{validate:!0,external_plugins:YU(m,O.settings())});return JU(o,O,m,B)},eW=function(o,s,d,m,x){var T=NB(x,s,d,IB,o),O=ZU(RB||UU,RB,T,m,x);return O.deprecation_warnings!==!1&&EB(x,O),O},q1=function(o,s,d){return fe.from(s.settings[d]).filter(o)},yl=function(o){var s={};return typeof o=="string"?Ct(o.indexOf("=")>0?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(d){var m=d.split("=");m.length>1?s[qt.trim(m[0])]=qt.trim(m[1]):s[qt.trim(m[0])]=qt.trim(m[0])}):s=o,s},BB=function(o){return function(s){return z(s)&&Go(s,o)}},tW=function(o,s,d,m){var x=s in o.settings?o.settings[s]:d;return m==="hash"?yl(x):m==="string"?q1(R,o,s).getOr(d):m==="number"?q1(ie,o,s).getOr(d):m==="boolean"?q1(q,o,s).getOr(d):m==="object"?q1(I,o,s).getOr(d):m==="array"?q1(z,o,s).getOr(d):m==="string[]"?q1(BB(R),o,s).getOr(d):m==="function"?q1(te,o,s).getOr(d):x},nW=function(){var o={},s=function(x,T){o[x]=T},d=function(x){return o[x]?o[x]:{icons:{}}},m=function(x){return Vr(o,x)};return{add:s,get:d,has:m}},VA=nW(),zB=function(o,s){var d=s.dom;return d[o]},Ko=function(o,s){return parseInt(bo(s,o),10)},rW=ke(zB,"clientWidth"),oW=ke(zB,"clientHeight"),iW=ke(Ko,"margin-top"),ru=ke(Ko,"margin-left"),aW=function(o){return o.dom.getBoundingClientRect()},XC=function(o,s,d){var m=rW(o),x=oW(o);return s>=0&&d>=0&&s<=m&&d<=x},uW=function(o,s,d,m){var x=aW(s),T=o?x.left+s.dom.clientLeft+ru(s):0,O=o?x.top+s.dom.clientTop+iW(s):0,B=d-T,V=m-O;return{x:B,y:V}},FB=function(o,s,d){var m=W.fromDom(o.getBody()),x=o.inline?m:Gl(m),T=uW(o.inline,x,s,d);return XC(x,T.x,T.y)},sW=function(o){return fe.from(o).map(W.fromDom)},HB=function(o){var s=o.inline?o.getBody():o.getContentAreaContainer();return sW(s).map(Nh).getOr(!1)},W0=function(){var o=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:o,close:o,reposition:o,getArgs:o}},Kc=function(o){var s=[],d=function(){var ve=o.theme;return ve&&ve.getNotificationManagerImpl?ve.getNotificationManagerImpl():W0()},m=function(){return fe.from(s[0])},x=function(ve,Ae){return ve.type===Ae.type&&ve.text===Ae.text&&!ve.progressBar&&!ve.timeout&&!Ae.progressBar&&!Ae.timeout},T=function(){s.length>0&&d().reposition(s)},O=function(ve){s.push(ve)},B=function(ve){pr(s,function(Ae){return Ae===ve}).each(function(Ae){s.splice(Ae,1)})},V=function(ve,Ae){if(Ae===void 0&&(Ae=!0),!(o.removed||!HB(o)))return Ae&&o.fire("BeforeOpenNotification",{notification:ve}),Qn(s,function(De){return x(d().getArgs(De),ve)}).getOrThunk(function(){o.editorManager.setActive(o);var De=d().open(ve,function(){B(De),T(),m().fold(function(){return o.focus()},function(Ie){return c4(W.fromDom(Ie.getEl()))})});return O(De),T(),o.fire("OpenNotification",{notification:dr({},De)}),De})},Z=function(){m().each(function(ve){d().close(ve),B(ve),T()})},pe=Q(s),ge=function(ve){ve.on("SkinLoaded",function(){var Ae=fS(ve);Ae&&V({text:Ae,type:"warning",timeout:0},!1),T()}),ve.on("show ResizeEditor ResizeWindow NodeChange",function(){ks.requestAnimationFrame(T)}),ve.on("remove",function(){Ct(s.slice(),function(Ae){d().close(Ae)})})};return ge(o),{open:V,close:Z,getNotifications:pe}},Jc=Ni.PluginManager,Pf=Ni.ThemeManager;function wm(){var o=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:o,openUrl:o,alert:o,confirm:o,close:o,getParams:o,setParams:o}}var Gw=function(o){var s=[],d=function(){var Ie=o.theme;return Ie&&Ie.getWindowManagerImpl?Ie.getWindowManagerImpl():wm()},m=function(Ie,Ne){return function(){for(var Qe=[],Xe=0;Xe<arguments.length;Xe++)Qe[Xe]=arguments[Xe];return Ne?Ne.apply(Ie,Qe):void 0}},x=function(Ie){o.fire("OpenWindow",{dialog:Ie})},T=function(Ie){o.fire("CloseWindow",{dialog:Ie})},O=function(Ie){s.push(Ie),x(Ie)},B=function(Ie){T(Ie),s=Ke(s,function(Ne){return Ne!==Ie}),s.length===0&&o.focus()},V=function(){return fe.from(s[s.length-1])},Z=function(Ie){o.editorManager.setActive(o),R0(o);var Ne=Ie();return O(Ne),Ne},pe=function(Ie,Ne){return Z(function(){return d().open(Ie,Ne,B)})},ge=function(Ie){return Z(function(){return d().openUrl(Ie,B)})},ve=function(Ie,Ne,Qe){var Xe=d();Xe.alert(Ie,m(Qe||Xe,Ne))},Ae=function(Ie,Ne,Qe){var Xe=d();Xe.confirm(Ie,m(Qe||Xe,Ne))},De=function(){V().each(function(Ie){d().close(Ie),B(Ie)})};return o.on("remove",function(){Ct(s,function(Ie){d().close(Ie)})}),{open:pe,openUrl:ge,alert:ve,confirm:Ae,close:De}},jA=function(o,s){o.notificationManager.open({type:"error",text:s})},Xw=function(o,s){o._skinLoaded?jA(o,s):o.on("SkinLoaded",function(){jA(o,s)})},VB=function(o,s){Xw(o,_o.translate(["Failed to upload image: {0}",s]))},UA=function(o,s,d){US(o,s,{message:d}),console.error(d)},XI=function(o,s,d){return d?"Failed to load "+o+": "+d+" from url "+s:"Failed to load "+o+" url: "+s},WA=function(o,s,d){UA(o,"PluginLoadError",XI("plugin",s,d))},jB=function(o,s,d){UA(o,"IconsLoadError",XI("icons",s,d))},lW=function(o,s,d){UA(o,"LanguageLoadError",XI("language",s,d))},UB=function(o,s,d){var m=_o.translate(["Failed to initialize plugin: {0}",s]);US(o,"PluginLoadError",{message:m}),qA(m,d),Xw(o,m)},qA=function(o){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];var m=window.console;m&&(m.error?m.error.apply(m,ba([o],s,!1)):m.log.apply(m,ba([o],s,!1)))},YC=function(o){return/^[a-z0-9\-]+$/i.test(o)},WB=function(o){return _m(o,gO(o))},qB=function(o){return _m(o,Wx(o))},_m=function(o,s){var d=o.editorManager.baseURL+"/skins/content",m=o.editorManager.suffix,x="content"+m+".css",T=o.inline===!0;return Ft(s,function(O){return YC(O)&&!T?d+"/"+O+"/"+x:o.documentBaseURI.toAbsolute(O)})},YI=function(o){o.contentCSS=o.contentCSS.concat(WB(o),qB(o))},$B=function(){var o=1,s=2,d={},m=function(ve,Ae){return{status:ve,resultUri:Ae}},x=function(ve){return ve in d},T=function(ve){var Ae=d[ve];return Ae?Ae.resultUri:null},O=function(ve){return x(ve)?d[ve].status===o:!1},B=function(ve){return x(ve)?d[ve].status===s:!1},V=function(ve){d[ve]=m(o,null)},Z=function(ve,Ae){d[ve]=m(s,Ae)},pe=function(ve){delete d[ve]},ge=function(){d={}};return{hasBlobUri:x,getResultUri:T,isPending:O,isUploaded:B,markPending:V,markUploaded:Z,removeFailed:pe,destroy:ge}},cW=0,fW=function(){var o=function(){return Math.round(Math.random()*4294967295).toString(36)},s=new Date().getTime();return"s"+s.toString(36)+o()+o()+o()},$1=function(o){return o+cW+++fW()},dW=function(){var o=[],s=function(ge){var ve={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return ve[ge.toLowerCase()]||"dat"},d=function(ge,ve,Ae,De,Ie){if(R(ge)){var Ne=ge;return m({id:Ne,name:De,filename:Ie,blob:ve,base64:Ae})}else{if(I(ge))return m(ge);throw new Error("Unknown input type")}},m=function(ge){if(!ge.blob||!ge.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var ve=ge.id||$1("blobid"),Ae=ge.name||ve,De=ge.blob;return{id:Q(ve),name:Q(Ae),filename:Q(ge.filename||Ae+"."+s(De.type)),blob:Q(De),base64:Q(ge.base64),blobUri:Q(ge.blobUri||URL.createObjectURL(De)),uri:Q(ge.uri)}},x=function(ge){O(ge.id())||o.push(ge)},T=function(ge){return Qn(o,ge).getOrUndefined()},O=function(ge){return T(function(ve){return ve.id()===ge})},B=function(ge){return T(function(ve){return ve.blobUri()===ge})},V=function(ge,ve){return T(function(Ae){return Ae.base64()===ge&&Ae.blob().type===ve})},Z=function(ge){o=Ke(o,function(ve){return ve.blobUri()===ge?(URL.revokeObjectURL(ve.blobUri()),!1):!0})},pe=function(){Ct(o,function(ge){URL.revokeObjectURL(ge.blobUri())}),o=[]};return{create:d,add:x,get:O,getByUri:B,getByData:V,findFirst:T,removeByUri:Z,destroy:pe}},hW=function(o,s){var d={},m=function(De,Ie){return De?De.replace(/\/$/,"")+"/"+Ie.replace(/^\//,""):Ie},x=function(De,Ie,Ne,Qe){var Xe=new XMLHttpRequest;Xe.open("POST",s.url),Xe.withCredentials=s.credentials,Xe.upload.onprogress=function(xt){Qe(xt.loaded/xt.total*100)},Xe.onerror=function(){Ne("Image upload failed due to a XHR Transport error. Code: "+Xe.status)},Xe.onload=function(){if(Xe.status<200||Xe.status>=300){Ne("HTTP Error: "+Xe.status);return}var xt=JSON.parse(Xe.responseText);if(!xt||typeof xt.location!="string"){Ne("Invalid JSON: "+Xe.responseText);return}Ie(m(s.basePath,xt.location))};var at=new FormData;at.append("file",De.blob(),De.filename()),Xe.send(at)},T=function(){return new Wu(function(De){De([])})},O=function(De,Ie){return{url:Ie,blobInfo:De,status:!0}},B=function(De,Ie,Ne){return{url:"",blobInfo:De,status:!1,error:{message:Ie,options:Ne}}},V=function(De,Ie){qt.each(d[De],function(Ne){Ne(Ie)}),delete d[De]},Z=function(De,Ie,Ne){return o.markPending(De.blobUri()),new Wu(function(Qe){var Xe,at;try{var xt=function(){Xe&&(Xe.close(),at=le)},nt=function(Xt){xt(),o.markUploaded(De.blobUri(),Xt),V(De.blobUri(),O(De,Xt)),Qe(O(De,Xt))},Mt=function(Xt,Sn){var Dr=Sn||{};xt(),o.removeFailed(De.blobUri()),V(De.blobUri(),B(De,Xt,Dr)),Qe(B(De,Xt,Dr))};at=function(Xt){Xt<0||Xt>100||fe.from(Xe).orThunk(function(){return fe.from(Ne).map(G)}).each(function(Sn){Xe=Sn,Sn.progressBar.value(Xt)})},Ie(De,nt,Mt,at)}catch(Xt){Qe(B(De,Xt.message,{}))}})},pe=function(De){return De===x},ge=function(De){var Ie=De.blobUri();return new Wu(function(Ne){d[Ie]=d[Ie]||[],d[Ie].push(Ne)})},ve=function(De,Ie){return De=qt.grep(De,function(Ne){return!o.isUploaded(Ne.blobUri())}),Wu.all(qt.map(De,function(Ne){return o.isPending(Ne.blobUri())?ge(Ne):Z(Ne,s.handler,Ie)}))},Ae=function(De,Ie){return!s.url&&pe(s.handler)?T():ve(De,Ie)};return te(s.handler)===!1&&(s.handler=x),{upload:Ae}},Is=function(o){return function(){return o.notificationManager.open({text:o.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},GB=function(o,s){return hW(s,{url:Zh(o),basePath:jx(o),credentials:mO(o),handler:rm(o)})},XB=function(o){var s=$B(),d=GB(o,s);return{upload:function(m,x){return x===void 0&&(x=!0),d.upload(m,x?Is(o):void 0)}}},YB=function(o){var s=fl(null);o.on("change AddUndo",function(m){s.set(dr({},m.level))});var d=function(){var m=o.undoManager.data;Bn(m).filter(function(x){return!Uw(s.get(),x)}).each(function(x){o.setDirty(!0),o.fire("change",{level:x,lastLevel:Tt(m,m.length-2).getOrNull()})})};return{fireIfChanged:d}},KB=function(o){var s=dW(),d,m,x=$B(),T=[],O=YB(o),B=function(xt){return function(nt){return o.selection?xt(nt):[]}},V=function(xt){return xt+(xt.indexOf("?")===-1?"?":"&")+new Date().getTime()},Z=function(xt,nt,Mt){var Xt=0;do Xt=xt.indexOf(nt,Xt),Xt!==-1&&(xt=xt.substring(0,Xt)+Mt+xt.substr(Xt+nt.length),Xt+=Mt.length-nt.length+1);while(Xt!==-1);return xt},pe=function(xt,nt,Mt){var Xt='src="'+Mt+'"'+(Mt===Cr.transparentSrc?' data-mce-placeholder="1"':"");return xt=Z(xt,'src="'+nt+'"',Xt),xt=Z(xt,'data-mce-src="'+nt+'"','data-mce-src="'+Mt+'"'),xt},ge=function(xt,nt){Ct(o.undoManager.data,function(Mt){Mt.type==="fragmented"?Mt.fragments=Ft(Mt.fragments,function(Xt){return pe(Xt,xt,nt)}):Mt.content=pe(Mt.content,xt,nt)})},ve=function(xt,nt){var Mt=o.convertURL(nt,"src");ge(xt.src,nt),o.$(xt).attr({src:Fx(o)?V(nt):nt,"data-mce-src":Mt})},Ae=function(xt){return d||(d=GB(o,x)),Qe().then(B(function(nt){var Mt=Ft(nt,function(Xt){return Xt.blobInfo});return d.upload(Mt,Is(o)).then(B(function(Xt){var Sn=[],Dr=Ft(Xt,function(Zn,pn){var jr=nt[pn].blobInfo,An=nt[pn].image;return Zn.status&&Hx(o)?(s.removeByUri(An.src),av(o)||ve(An,Zn.url)):Zn.error&&(Zn.error.options.remove&&(ge(An.getAttribute("src"),Cr.transparentSrc),Sn.push(An)),VB(o,Zn.error.message)),{element:An,status:Zn.status,uploadUri:Zn.url,blobInfo:jr}});return Dr.length>0&&O.fireIfChanged(),Sn.length>0&&(av(o)?console.error("Removing images on failed uploads is currently unsupported for RTC"):o.undoManager.transact(function(){Ct(Sn,function(Zn){o.dom.remove(Zn),s.removeByUri(Zn.src)})})),xt&&xt(Dr),Dr}))}))},De=function(xt){if(nm(o))return Ae(xt)},Ie=function(xt){if(Go(T,function(Mt){return Mt(xt)})===!1)return!1;if(xt.getAttribute("src").indexOf("data:")===0){var nt=Qy(o);return nt(xt)}return!0},Ne=function(xt){T.push(xt)},Qe=function(){return m||(m=xU(x,s)),m.findAll(o.getBody(),Ie).then(B(function(xt){return xt=Ke(xt,function(nt){return typeof nt=="string"?(Xw(o,nt),!1):!0}),av(o)||Ct(xt,function(nt){ge(nt.image.src,nt.blobInfo.blobUri()),nt.image.src=nt.blobInfo.blobUri(),nt.image.removeAttribute("data-mce-src")}),xt}))},Xe=function(){s.destroy(),x.destroy(),m=d=null},at=function(xt){return xt.replace(/src="(blob:[^"]+)"/g,function(nt,Mt){var Xt=x.getResultUri(Mt);if(Xt)return'src="'+Xt+'"';var Sn=s.getByUri(Mt);if(Sn||(Sn=Mn(o.editorManager.get(),function(Zn,pn){return Zn||pn.editorUpload&&pn.editorUpload.blobCache.getByUri(Mt)},null)),Sn){var Dr=Sn.blob();return'src="data:'+Dr.type+";base64,"+Sn.base64()+'"'}return nt})};return o.on("SetContent",function(){nm(o)?De():Qe()}),o.on("RawSaveContent",function(xt){xt.content=at(xt.content)}),o.on("GetContent",function(xt){xt.source_view||xt.format==="raw"||xt.format==="tree"||(xt.content=at(xt.content))}),o.on("PostRender",function(){o.parser.addNodeFilter("img",function(xt){Ct(xt,function(nt){var Mt=nt.attr("src");if(!s.getByUri(Mt)){var Xt=x.getResultUri(Mt);Xt&&nt.attr("src",Xt)}})})}),{blobCache:s,addFilter:Ne,uploadImages:Ae,uploadImagesAuto:De,scanForImages:Qe,destroy:Xe}},JB=function(o){var s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(d,m,x){return Xr(d)&&d.hasAttribute("href")},onformat:function(d,m,x){qt.each(x,function(T,O){o.setAttrib(d,O,T)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(d){var m;return(m=d==null?void 0:d.customValue)!==null&&m!==void 0?m:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return qt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(d){s[d]={block:d,remove:"all"}}),s},KI=function(o){var s={},d=function(O){return ae(O)?s[O]:s},m=function(O){return Vr(s,O)},x=function(O,B){O&&(R(O)?(z(B)||(B=[B]),Ct(B,function(V){X(V.deep)&&(V.deep=!Ac(V)),X(V.split)&&(V.split=!Ac(V)||ms(V)),X(V.remove)&&Ac(V)&&!ms(V)&&(V.remove="none"),Ac(V)&&ms(V)&&(V.mixed=!0,V.block_expand=!0),R(V.classes)&&(V.classes=V.classes.split(/\s+/))}),s[O]=B):wn(O,function(V,Z){x(Z,V)}))},T=function(O){return O&&s[O]&&delete s[O],s};return x(JB(o.dom)),x(bO(o)),{get:d,has:m,register:x,unregister:T}},$A=qt.each,lc=na.DOM,QB=function(o,s){var d,m,x,T=s&&s.schema||Mo({}),O=function(pe,ge){ge.classes.length&&lc.addClass(pe,ge.classes.join(" ")),lc.setAttribs(pe,ge.attrs)},B=function(pe){m=typeof pe=="string"?{name:pe,classes:[],attrs:{}}:pe;var ge=lc.create(m.name);return O(ge,m),ge},V=function(pe,ge){var ve=typeof pe!="string"?pe.nodeName.toLowerCase():pe,Ae=T.getElementRule(ve),De=Ae&&Ae.parentsRequired;return De&&De.length?ge&&qt.inArray(De,ge)!==-1?ge:De[0]:!1},Z=function(pe,ge,ve){var Ae,De,Ie=ge.length>0&&ge[0],Ne=Ie&&Ie.name,Qe=V(pe,Ne);if(Qe)Ne===Qe?(De=ge[0],ge=ge.slice(1)):De=Qe;else if(Ie)De=ge[0],ge=ge.slice(1);else if(!ve)return pe;return De&&(Ae=B(De),Ae.appendChild(pe)),ve&&(Ae||(Ae=lc.create("div"),Ae.appendChild(pe)),qt.each(ve,function(Xe){var at=B(Xe);Ae.insertBefore(at,pe)})),Z(Ae,ge,De&&De.siblings)};return o&&o.length?(m=o[0],d=B(m),x=lc.create("div"),x.appendChild(Z(d,o.slice(1),m.siblings)),x):""},pW=function(o){var s,d={classes:[],attrs:{}};return o=d.selector=qt.trim(o),o!=="*"&&(s=o.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(m,x,T,O,B){switch(x){case"#":d.attrs.id=T;break;case".":d.classes.push(T);break;case":":qt.inArray("checked disabled enabled read-only required".split(" "),T)!==-1&&(d.attrs[T]=T);break}if(O==="["){var V=B.match(/([\w\-]+)(?:\=\"([^\"]+))?/);V&&(d.attrs[V[1]]=V[2])}return""})),d.name=s||"div",d},mW=function(o){return!o||typeof o!="string"?[]:(o=o.split(/\s*,\s*/)[0],o=o.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),qt.map(o.split(/(?:>|\s+(?![^\[\]]+\]))/),function(s){var d=qt.map(s.split(/(?:~\+|~|\+)/),pW),m=d.pop();return d.length&&(m.siblings=d),m}).reverse())},Sm=function(o,s){var d,m,x="",T,O=xO(o);if(O==="")return"";var B=function(ge){return ge.replace(/%(\w+)/g,"")};if(typeof s=="string"){if(s=o.formatter.get(s),!s)return;s=s[0]}if("preview"in s){var V=Br(s,"preview");if(ig(V,!1))return"";O=V.getOr(O)}d=s.block||s.inline||"span";var Z=mW(s.selector);Z.length?(Z[0].name||(Z[0].name=d),d=s.selector,m=QB(Z,o)):m=QB([d],o);var pe=lc.select(d,m)[0]||m.firstChild;return $A(s.styles,function(ge,ve){var Ae=B(ge);Ae&&lc.setStyle(pe,ve,Ae)}),$A(s.attributes,function(ge,ve){var Ae=B(ge);Ae&&lc.setAttrib(pe,ve,Ae)}),$A(s.classes,function(ge){var ve=B(ge);lc.hasClass(pe,ve)||lc.addClass(pe,ve)}),o.fire("PreviewFormats"),lc.setStyles(m,{position:"absolute",left:-65535}),o.getBody().appendChild(m),T=lc.getStyle(o.getBody(),"fontSize",!0),T=/px$/.test(T)?parseInt(T,10):0,$A(O.split(" "),function(ge){var ve=lc.getStyle(pe,ge,!0);if(!(ge==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(ve)&&(ve=lc.getStyle(o.getBody(),ge,!0),lc.toHex(ve).toLowerCase()==="#ffffff"))&&!(ge==="color"&&lc.toHex(ve).toLowerCase()==="#000000")){if(ge==="font-size"&&/em|%$/.test(ve)){if(T===0)return;var Ae=parseFloat(ve)/(/%$/.test(ve)?100:1);ve=Ae*T+"px"}ge==="border"&&ve&&(x+="padding:0 2px;"),x+=ge+":"+ve+";"}}),o.fire("AfterPreviewFormats"),lc.remove(m),x},gW=function(o){o.addShortcut("meta+b","","Bold"),o.addShortcut("meta+i","","Italic"),o.addShortcut("meta+u","","Underline");for(var s=1;s<=6;s++)o.addShortcut("access+"+s,"",["FormatBlock",!1,"h"+s]);o.addShortcut("access+7","",["FormatBlock",!1,"p"]),o.addShortcut("access+8","",["FormatBlock",!1,"div"]),o.addShortcut("access+9","",["FormatBlock",!1,"address"])},ZB=function(o){var s=KI(o),d=fl(null);return gW(o),mj(o),{get:s.get,has:s.has,register:s.register,unregister:s.unregister,apply:function(m,x,T){aB(o,m,x,T)},remove:function(m,x,T,O){PA(o,m,x,T,O)},toggle:function(m,x,T){uU(o,m,x,T)},match:function(m,x,T,O){return iU(o,m,x,T,O)},closest:function(m){return iB(o,m)},matchAll:function(m,x){return aU(o,m,x)},matchNode:function(m,x,T,O){return OI(o,m,x,T,O)},canApply:function(m){return FC(o,m)},formatChanged:function(m,x,T,O){return sU(o,d,m,x,T,O)},getCssText:ke(Sm,o)}},ez=function(o){switch(o.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},vW=function(o,s,d){var m=fl(!1),x=function(V){RA(s,!1,d),s.add({},V)};o.on("init",function(){s.add()}),o.on("BeforeExecCommand",function(V){var Z=V.command;ez(Z)||(W1(s,d),s.beforeChange())}),o.on("ExecCommand",function(V){var Z=V.command;ez(Z)||x(V)}),o.on("ObjectResizeStart cut",function(){s.beforeChange()}),o.on("SaveContent ObjectResized blur",x),o.on("dragend",x),o.on("keyup",function(V){var Z=V.keyCode;V.isDefaultPrevented()||((Z>=33&&Z<=36||Z>=37&&Z<=40||Z===45||V.ctrlKey)&&(x(),o.nodeChanged()),(Z===46||Z===8)&&o.nodeChanged(),m.get()&&s.typing&&Uw(TI(o),s.data[0])===!1&&(o.isDirty()===!1&&(o.setDirty(!0),o.fire("change",{level:s.data[0],lastLevel:null})),o.fire("TypingUndo"),m.set(!1),o.nodeChanged()))}),o.on("keydown",function(V){var Z=V.keyCode;if(!V.isDefaultPrevented()){if(Z>=33&&Z<=36||Z>=37&&Z<=40||Z===45){s.typing&&x(V);return}var pe=V.ctrlKey&&!V.altKey||V.metaKey;(Z<16||Z>20)&&Z!==224&&Z!==91&&!s.typing&&!pe&&(s.beforeChange(),RA(s,!0,d),s.add({},V),m.set(!0))}}),o.on("mousedown",function(V){s.typing&&x(V)});var T=function(V){return V.inputType==="insertReplacementText"},O=function(V){return V.inputType==="insertText"&&V.data===null},B=function(V){return V.inputType==="insertFromPaste"||V.inputType==="insertFromDrop"};o.on("input",function(V){V.inputType&&(T(V)||O(V)||B(V))&&x(V)}),o.on("AddUndo Undo Redo ClearUndos",function(V){V.isDefaultPrevented()||o.nodeChanged()})},yW=function(o){o.addShortcut("meta+z","","Undo"),o.addShortcut("meta+y,meta+shift+z","","Redo")},ou=function(o){var s=Yp(),d=fl(0),m=fl(0),x={data:[],typing:!1,beforeChange:function(){eU(o,d,s)},add:function(T,O){return Z6(o,x,m,d,s,T,O)},undo:function(){return tU(o,x,d,m)},redo:function(){return nU(o,m,x.data)},clear:function(){eB(o,x,m)},reset:function(){tB(o,x)},hasUndo:function(){return nB(o,x,m)},hasRedo:function(){return rB(o,x,m)},transact:function(T){return oB(o,x,d,T)},ignore:function(T){rU(o,d,T)},extra:function(T,O){oU(o,x,m,T,O)}};return av(o)||vW(o,x,d),yW(o),x},tz=[9,27,Pr.HOME,Pr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Pr.DOWN,Pr.UP,Pr.LEFT,Pr.RIGHT].concat(Cr.browser.isFirefox()?[224]:[]),JI="data-mce-placeholder",ah=function(o){return o.type==="keydown"||o.type==="keyup"},QI=function(o){var s=o.keyCode;return s===Pr.BACKSPACE||s===Pr.DELETE},bW=function(o){if(ah(o)){var s=o.keyCode;return!QI(o)&&(Pr.metaKeyPressed(o)||o.altKey||s>=112&&s<=123||Je(tz,s))}else return!1},xW=function(o){return ah(o)&&!(QI(o)||o.type==="keyup"&&o.keyCode===229)},ZI=function(o,s,d){if(ls(W.fromDom(s),!1)){var m=d==="",x=s.firstElementChild;return x?o.getStyle(s.firstElementChild,"padding-left")||o.getStyle(s.firstElementChild,"padding-right")?!1:m?!o.isBlock(x):d===x.nodeName.toLowerCase():!0}else return!1},wW=function(o){var s=o.dom,d=hs(o),m=yO(o),x=function(T,O){if(!bW(T)){var B=o.getBody(),V=xW(T)?!1:ZI(s,B,d),Z=s.getAttrib(B,JI)!=="";(Z!==V||O)&&(s.setAttrib(B,JI,V?m:null),s.setAttrib(B,"aria-placeholder",V?m:null),gD(o,V),o.on(V?"keydown":"keyup",x),o.off(V?"keyup":"keydown",x))}};m&&o.on("init",function(T){x(T,!0),o.on("change SetContent ExecCommand",x),o.on("paste",function(O){return ks.setEditorTimeout(o,function(){return x(O)})})})},Yw=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,_W=function(o){return Yw.test(o)},q0=function(o,s){return Ln(W.fromDom(s),vO(o))},nz=function(o){return na.DOM.getStyle(o,"direction",!0)==="rtl"||_W(o.textContent)},eR=function(o,s,d){return Ke(na.DOM.getParents(d.container(),"*",s),o)},uv=function(o,s,d){var m=eR(o,s,d);return fe.from(m[m.length-1])},tR=function(o,s,d){var m=Kd(s,o),x=Kd(d,o);return m&&m===x},SW=function(o){return Er(o)||Jb(o)},vd=function(o,s){if(!s)return s;var d=s.container(),m=s.offset();return o?qi(d)?or(d.nextSibling)?Ut(d.nextSibling,0):Ut.after(d):Er(s)?Ut(d,m+1):s:qi(d)?or(d.previousSibling)?Ut(d.previousSibling,d.previousSibling.data.length):Ut.before(d):Jb(s)?Ut(d,m-1):s},rz=ke(vd,!0),yd=ke(vd,!1),CW=function(o){return function(s){return Hr(o,W.fromDom(s.dom.parentNode))}},TW=function(o){return Hd(o)||Ds(o)},GA=function(o,s){return li(o,s)?Hv(s,TW,CW(o)):fe.none()},KC=function(o){var s=o.getBody(),d=s.firstChild&&o.dom.isBlock(s.firstChild)?s.firstChild:s;o.selection.setCursorLocation(d,0)},oz=function(o){o.dom.isEmpty(o.getBody())&&(o.setContent(""),KC(o))},iz=function(o,s,d){return js(pl(d),fd(d),function(m,x){var T=vd(!0,m),O=vd(!1,x),B=vd(!1,s);return o?Uc(d,B).exists(function(V){return V.isEqual(O)&&s.isEqual(T)}):Wc(d,B).exists(function(V){return V.isEqual(T)&&s.isEqual(O)})}).getOr(!0)},az=function(o,s){return{block:o,position:s}},uz=function(o,s){return{from:o,to:s}},nR=function(o,s){var d=W.fromDom(o),m=W.fromDom(s.container());return GA(d,m).map(function(x){return az(x,s)})},MW=function(o){return Hr(o.from.block,o.to.block)===!1},$0=function(o){return Ma(o.from.block).bind(function(s){return Ma(o.to.block).filter(function(d){return Hr(s,d)})}).isSome()},kW=function(o){return sa(o.from.block.dom)===!1&&sa(o.to.block.dom)===!1},DW=function(o,s,d){return Ri(d.position.getNode())&&ls(d.block)===!1?jc(!1,d.block.dom).bind(function(m){return m.isEqual(d.position)?Os(s,o,m).bind(function(x){return nR(o,x)}):fe.some(d)}).getOr(d):d},AW=function(o,s,d){var m=nR(o,Ut.fromRangeStart(d)),x=m.bind(function(T){return Os(s,o,T.position).bind(function(O){return nR(o,O).map(function(B){return DW(o,s,B)})})});return js(m,x,uz).filter(function(T){return MW(T)&&$0(T)&&kW(T)})},EW=function(o,s,d){return d.collapsed?AW(o,s,d):fe.none()},OW=function(o){var s=Vs(o);return pr(s,_c).fold(Q(s),function(d){return s.slice(0,d)})},sz=function(o){var s=OW(o);return Ct(s,La),s},lz=function(o,s){var d=up(s,o);return Qn(d.reverse(),function(m){return ls(m)}).each(La)},IW=function(o){return Ke(ri(o),function(s){return!ls(s)}).length===0},RW=function(o,s,d,m){if(ls(d))return Zg(d),pl(d.dom);IW(m)&&ls(s)&&as(m,W.fromTag("br"));var x=Wc(d.dom,Ut.before(m.dom));return Ct(sz(s),function(T){as(m,T)}),lz(o,s),x},PW=function(o,s,d){if(ls(d))return La(d),ls(s)&&Zg(s),pl(s.dom);var m=fd(d.dom);return Ct(sz(s),function(x){xu(d,x)}),lz(o,s),m},NW=function(o,s){var d=up(s,o);return fe.from(d[d.length-1])},LW=function(o,s){return li(s,o)?NW(s,o):fe.none()},Kw=function(o,s){jc(o,s.dom).map(function(d){return d.getNode()}).map(W.fromDom).filter(Uv).each(La)},cz=function(o,s,d){return Kw(!0,s),Kw(!1,d),LW(s,d).fold(ke(PW,o,s,d),ke(RW,o,s,d))},XA=function(o,s,d,m){return s?cz(o,m,d):cz(o,d,m)},YA=function(o,s){var d=W.fromDom(o.getBody()),m=EW(d.dom,s,o.selection.getRng()).bind(function(x){return XA(d,s,x.from.block,x.to.block)});return m.each(function(x){o.selection.setRng(x.toRange())}),m.isSome()},BW=function(o,s){var d=s.getRng();return js(GA(o,W.fromDom(d.startContainer)),GA(o,W.fromDom(d.endContainer)),function(m,x){return Hr(m,x)===!1?(d.deleteContents(),XA(o,!0,m,x).each(function(T){s.setRng(T.toRange())}),!0):!1}).getOr(!1)},fz=function(o,s){var d=W.fromDom(s),m=ke(Hr,o);return Pp(d,nd,m).isSome()},zW=function(o,s){return fz(o,s.startContainer)||fz(o,s.endContainer)},G1=function(o,s){var d=Wc(o.dom,Ut.fromRangeStart(s)).isNone(),m=Uc(o.dom,Ut.fromRangeEnd(s)).isNone();return!zW(o,s)&&d&&m},X1=function(o){return o.setContent(""),o.selection.setCursorLocation(),!0},KA=function(o){var s=W.fromDom(o.getBody()),d=o.selection.getRng();return G1(s,d)?X1(o):BW(s,o.selection)},Y1=function(o,s){return o.selection.isCollapsed()?!1:KA(o)},K1=pf,J1=sa,uh=function(o,s,d,m,x){return fe.from(s._selectionOverrides.showCaret(o,d,m,x))},JA=function(o){var s=o.ownerDocument.createRange();return s.selectNode(o),s},Q1=function(o,s){var d=o.fire("BeforeObjectSelected",{target:s});return d.isDefaultPrevented()?fe.none():fe.some(JA(s))},QA=function(o,s,d){var m=Jx(1,o.getBody(),s),x=Ut.fromRangeStart(m),T=x.getNode();if(Ru(T))return uh(1,o,T,!x.isAtEnd(),!1);var O=x.getNode(!0);if(Ru(O))return uh(1,o,O,!1,!1);var B=o.dom.getParent(x.getNode(),function(V){return J1(V)||K1(V)});return Ru(B)?uh(1,o,B,!1,d):fe.none()},JC=function(o,s,d){return s.collapsed?QA(o,s,d).getOr(s):s},dz=function(o){return vm(o)||B0(o)},hz=function(o){return ym(o)||z0(o)},Jw=function(o,s){or(s)&&s.data.length===0&&o.remove(s)},rR=function(o,s,d,m,x,T){return uh(m,o,T.getNode(!x),x,!0).each(function(O){if(s.collapsed){var B=s.cloneRange();x?B.setEnd(O.startContainer,O.startOffset):B.setStart(O.endContainer,O.endOffset),B.deleteContents()}else s.deleteContents();o.selection.setRng(O)}),Jw(o.dom,d),!0},pz=function(o,s){var d=o.selection.getRng();if(!or(d.commonAncestorContainer))return!1;var m=s?ps.Forwards:ps.Backwards,x=cd(o.getBody()),T=ke(SS,s?x.next:x.prev),O=s?dz:hz,B=Qu(m,o.getBody(),d),V=vd(s,T(B));if(!V||!Qx(B,V))return!1;if(O(V))return rR(o,d,B.getNode(),m,s,V);var Z=T(V);return Z&&O(Z)&&Qx(V,Z)?rR(o,d,B.getNode(),m,s,Z):!1},QC=function(o,s){return pz(o,s)},ZA=function(o){return nd(W.fromDom(o))||Ds(W.fromDom(o))},Nf=Sr.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),mz=function(o,s){var d=s.getNode(o===!1),m=o?"after":"before";return Xr(d)&&d.getAttribute("data-mce-caret")===m},gz=function(o,s,d,m){var x=function(T){return Us(W.fromDom(T))&&!Mf(d,m,o)};return _S(!s,d).fold(function(){return _S(s,m).fold(Ge,x)},x)},vz=function(o,s,d,m){var x=m.getNode(s===!1);return GA(W.fromDom(o),W.fromDom(d.getNode())).map(function(T){return ls(T)?Nf.remove(T.dom):Nf.moveToElement(x)}).orThunk(function(){return fe.some(Nf.moveToElement(x))})},Cm=function(o,s,d){return Os(s,o,d).bind(function(m){return ZA(m.getNode())||gz(o,s,d,m)?fe.none():s&&sa(m.getNode())||s===!1&&sa(m.getNode(!0))?vz(o,s,d,m):s&&ym(d)||s===!1&&vm(d)?fe.some(Nf.moveToPosition(m)):fe.none()})},yz=function(o,s){return o&&sa(s.nextSibling)?fe.some(Nf.moveToElement(s.nextSibling)):o===!1&&sa(s.previousSibling)?fe.some(Nf.moveToElement(s.previousSibling)):fe.none()},bz=function(o,s,d){return d.fold(function(m){return fe.some(Nf.remove(m))},function(m){return fe.some(Nf.moveToElement(m))},function(m){return Mf(s,m,o)?fe.none():fe.some(Nf.moveToPosition(m))})},G0=function(o,s,d){return mz(s,d)?yz(s,d.getNode(s===!1)).fold(function(){return Cm(o,s,d)},fe.some):Cm(o,s,d).bind(function(m){return bz(o,d,m)})},sh=function(o,s,d){var m=Jx(s?1:-1,o,d),x=Ut.fromRangeStart(m),T=W.fromDom(o);return s===!1&&ym(x)?fe.some(Nf.remove(x.getNode(!0))):s&&vm(x)?fe.some(Nf.remove(x.getNode())):s===!1&&vm(x)&&bm(T,x)?TC(T,x).map(function(O){return Nf.remove(O.getNode())}):s&&ym(x)&&Rw(T,x)?Pw(T,x).map(function(O){return Nf.remove(O.getNode())}):G0(o,s,x)},FW=function(o,s){return function(d){return o._selectionOverrides.hideFakeCaret(),Pn(o,s,W.fromDom(d)),!0}},HW=function(o,s){return function(d){var m=s?Ut.before(d):Ut.after(d);return o.selection.setRng(m.toRange()),!0}},VW=function(o){return function(s){return o.selection.setRng(s.toRange()),!0}},xz=function(o,s){return fe.from(cm(o.getBody(),s))},jW=function(o,s){var d=o.selection.getNode();return xz(o,d).filter(sa).fold(function(){return sh(o.getBody(),s,o.selection.getRng()).exists(function(m){return m.fold(FW(o,s),HW(o,s),VW(o))})},pt)},UW=function(o){Ct(Il(o,".mce-offscreen-selection"),La)},WW=function(o,s){var d=o.selection.getNode();if(sa(d)&&!Lv(d)){var m=xz(o,d.parentNode).filter(sa);return m.fold(function(){return UW(W.fromDom(o.getBody())),Pn(o,s,W.fromDom(o.selection.getNode())),oz(o),!0},pt)}return!1},wz=function(o){var s=o.dom,d=o.selection,m=cm(o.getBody(),d.getNode());if(pf(m)&&s.isBlock(m)&&s.isEmpty(m)){var x=s.create("br",{"data-mce-bogus":"1"});s.setHTML(m,""),m.appendChild(x),d.setRng(Ut.before(x).toRange())}return!0},eE=function(o,s){return o.selection.isCollapsed()?jW(o,s):WW(o,s)},qW=function(o,s){var d=Ut.fromRangeStart(o.selection.getRng());return Os(s,o.getBody(),d).filter(function(m){return s?A4(m):E4(m)}).bind(function(m){return fe.from(v0(s?0:-1,m))}).exists(function(m){return o.selection.select(m),!0})},tE=function(o,s){return o.selection.isCollapsed()?qW(o,s):!1},Qw=or,nE=function(o){return Qw(o)&&o.data[0]===dt},rE=function(o){return Qw(o)&&o.data[o.data.length-1]===dt},oR=function(o){return o.ownerDocument.createTextNode(dt)},$W=function(o){if(Qw(o.previousSibling))return rE(o.previousSibling)||o.previousSibling.appendData(dt),o.previousSibling;if(Qw(o))return nE(o)||o.insertData(0,dt),o;var s=oR(o);return o.parentNode.insertBefore(s,o),s},GW=function(o){if(Qw(o.nextSibling))return nE(o.nextSibling)||o.nextSibling.insertData(0,dt),o.nextSibling;if(Qw(o))return rE(o)||o.appendData(dt),o;var s=oR(o);return o.nextSibling?o.parentNode.insertBefore(s,o.nextSibling):o.parentNode.appendChild(s),s},ZC=function(o,s){return o?$W(s):GW(s)},_z=ke(ZC,!0),iR=ke(ZC,!1),aR=function(o,s){return or(o.container())?ZC(s,o.container()):ZC(s,o.getNode())},uR=function(o,s){var d=s.get();return d&&o.container()===d&&qi(d)},eT=function(o,s){return s.fold(function(d){Rg(o.get());var m=_z(d);return o.set(m),fe.some(Ut(m,m.length-1))},function(d){return pl(d).map(function(m){if(uR(m,o))return Ut(o.get(),1);Rg(o.get());var x=aR(m,!0);return o.set(x),Ut(x,1)})},function(d){return fd(d).map(function(m){if(uR(m,o))return Ut(o.get(),o.get().length-1);Rg(o.get());var x=aR(m,!1);return o.set(x),Ut(x,x.length-1)})},function(d){Rg(o.get());var m=iR(d);return o.set(m),fe.some(Ut(m,1))})},Sz=function(o,s){for(var d=0;d<o.length;d++){var m=o[d].apply(null,s);if(m.isSome())return m}return fe.none()},cc=Sr.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),fp=function(o,s){var d=Kd(s,o);return d||o},lh=function(o,s,d){var m=rz(d),x=fp(s,m.container());return uv(o,x,m).fold(function(){return Uc(x,m).bind(ke(uv,o,x)).map(function(T){return cc.before(T)})},fe.none)},oE=function(o,s){return dd(o,s)===null},sR=function(o,s,d){return uv(o,s,d).filter(ke(oE,s))},iE=function(o,s,d){var m=yd(d);return sR(o,s,m).bind(function(x){var T=Wc(x,m);return T.isNone()?fe.some(cc.start(x)):fe.none()})},Cz=function(o,s,d){var m=rz(d);return sR(o,s,m).bind(function(x){var T=Uc(x,m);return T.isNone()?fe.some(cc.end(x)):fe.none()})},Tz=function(o,s,d){var m=yd(d),x=fp(s,m.container());return uv(o,x,m).fold(function(){return Wc(x,m).bind(ke(uv,o,x)).map(function(T){return cc.after(T)})},fe.none)},lR=function(o){return nz(aE(o))===!1},dp=function(o,s,d){var m=Sz([lh,iE,Cz,Tz],[o,s,d]);return m.filter(lR)},aE=function(o){return o.fold(Ce,Ce,Ce,Ce)},cR=function(o){return o.fold(Q("before"),Q("start"),Q("end"),Q("after"))},Z1=function(o){return o.fold(cc.before,cc.before,cc.after,cc.after)},Zw=function(o){return o.fold(cc.start,cc.start,cc.end,cc.end)},fR=function(o,s){return cR(o)===cR(s)&&aE(o)===aE(s)},XW=function(o,s,d,m,x,T){return js(uv(s,d,m),uv(s,d,x),function(O,B){return O!==B&&tR(d,O,B)?cc.after(o?O:B):T}).getOr(T)},YW=function(o,s){return o.fold(pt,function(d){return!fR(d,s)})},KW=function(o,s,d,m,x){var T=vd(o,x),O=Os(o,d,T).map(ke(vd,o)),B=O.fold(function(){return m.map(Z1)},function(V){return dp(s,d,V).map(ke(XW,o,s,d,T,V)).filter(ke(YW,m))});return B.filter(lR)},JW=function(o,s){return o?s.fold(ce(fe.some,cc.start),fe.none,ce(fe.some,cc.after),fe.none):s.fold(fe.none,ce(fe.some,cc.before),fe.none,ce(fe.some,cc.end))},uE=function(o,s,d,m){var x=vd(o,m),T=dp(s,d,x);return dp(s,d,x).bind(ke(JW,o)).orThunk(function(){return KW(o,s,d,T,m)})};ke(uE,!1),ke(uE,!0);var QW=function(o){return te(o.selection.getSel().modify)},Mz=function(o,s,d){var m=o?1:-1;return s.setRng(Ut(d.container(),d.offset()+m).toRange()),s.getSel().modify("move",o?"forward":"backward","word"),!0},dR=function(o,s){var d=s.selection.getRng(),m=o?Ut.fromRangeEnd(d):Ut.fromRangeStart(d);return QW(s)?o&&Er(m)?Mz(!0,s.selection,m):!o&&Jb(m)?Mz(!1,s.selection,m):!1:!1},Tm;(function(o){o[o.Br=0]="Br",o[o.Block=1]="Block",o[o.Wrap=2]="Wrap",o[o.Eol=3]="Eol"})(Tm||(Tm={}));var sE=function(o,s){return o===ps.Backwards?gn(s):s},ZW=function(o,s,d){return o===ps.Forwards?s.next(d):s.prev(d)},eq=function(o,s,d,m){return Ri(m.getNode(s===ps.Forwards))?Tm.Br:Mf(d,m)===!1?Tm.Block:Tm.Wrap},kz=function(o,s,d,m){for(var x=cd(d),T=m,O=[];T;){var B=ZW(s,x,T);if(!B)break;if(Ri(B.getNode(!1)))return s===ps.Forwards?{positions:sE(s,O).concat([B]),breakType:Tm.Br,breakAt:fe.some(B)}:{positions:sE(s,O),breakType:Tm.Br,breakAt:fe.some(B)};if(!B.isVisible()){T=B;continue}if(o(T,B)){var V=eq(d,s,T,B);return{positions:sE(s,O),breakType:V,breakAt:fe.some(B)}}O.push(B),T=B}return{positions:sE(s,O),breakType:Tm.Eol,breakAt:fe.none()}},Dz=function(o,s,d,m){return s(d,m).breakAt.map(function(x){var T=s(d,x).positions;return o===ps.Backwards?T.concat(x):[x].concat(T)}).getOr([])},hR=function(o,s){return Mn(o,function(d,m){return d.fold(function(){return fe.some(m)},function(x){return js(hn(x.getClientRects()),hn(m.getClientRects()),function(T,O){var B=Math.abs(s-T.left),V=Math.abs(s-O.left);return V<=B?m:x}).or(d)})},fe.none())},tT=function(o,s){return hn(s.getClientRects()).bind(function(d){return hR(o,d.left)})},X0=ke(kz,Ut.isAbove,-1),eb=ke(kz,Ut.isBelow,1),tq=ke(Dz,-1,X0),nq=ke(Dz,1,eb),rq=function(o,s){return X0(o,s).breakAt.isNone()},oq=function(o,s){return eb(o,s).breakAt.isNone()},Az=function(o){return pl(o).map(function(s){return[s].concat(eb(o,s).positions)}).getOr([])},iq=function(o){return fd(o).map(function(s){return X0(o,s).positions.concat(s)}).getOr([])},aq=function(o){var s=function(m){return Ft(m,function(x){var T=Qp(x);return T.node=o,T})};if(Xr(o))return s(o.getClientRects());if(or(o)){var d=o.ownerDocument.createRange();return d.setStart(o,0),d.setEnd(o,o.data.length),s(d.getClientRects())}},nT=function(o){return To(o,aq)},tb;(function(o){o[o.Up=-1]="Up",o[o.Down=1]="Down"})(tb||(tb={}));var uq=function(o,s,d,m){for(;m=Lg(m,o,fu,s);)if(d(m))return},Ez=function(o,s,d,m,x,T){var O=0,B=[],V=function(ge){var ve=nT([ge]);o===-1&&(ve=ve.reverse());for(var Ae=0;Ae<ve.length;Ae++){var De=ve[Ae];if(!d(De,Z)){if(B.length>0&&s(De,Pa(B))&&O++,De.line=O,x(De))return!0;B.push(De)}}},Z=Pa(T.getClientRects());if(!Z)return B;var pe=T.getNode();return V(pe),uq(o,m,V,pe),B},sq=function(o,s){return s.line>o},lq=function(o,s){return s.line===o},cq=ke(Ez,tb.Up,Jh,Zp),fq=ke(Ez,tb.Down,Zp,Jh),lE=function(o,s,d,m){var x=cd(s),T,O,B,V,Z=[],pe=0,ge=function(Ie){return Pa(Ie.getClientRects())};o===1?(T=x.next,O=Zp,B=Jh,V=Ut.after(m)):(T=x.prev,O=Jh,B=Zp,V=Ut.before(m));var ve=ge(V);do if(V.isVisible()){var Ae=ge(V);if(!B(Ae,ve)){Z.length>0&&O(Ae,Pa(Z))&&pe++;var De=Qp(Ae);if(De.position=V,De.line=pe,d(De))return Z;Z.push(De)}}while(V=T(V));return Z},rT=function(o){return function(s){return sq(o,s)}},pR=function(o){return function(s){return lq(o,s)}},dq=sa,oT=Lg,mR=function(o,s){return Math.abs(o.left-s)},gR=function(o,s){return Math.abs(o.right-s)},Oz=function(o,s){return o>=s.left&&o<=s.right},hq=function(o,s){return o>=s.top&&o<=s.bottom},pq=function(o){return ui(o,"node")},cE=function(o,s,d){return d===void 0&&(d=pt),Ra(o,function(m,x){if(Oz(s,x))return d(x)?x:m;if(Oz(s,m))return d(m)?m:x;var T=Math.min(mR(m,s),gR(m,s)),O=Math.min(mR(x,s),gR(x,s));return O===T&&pq(x)&&dq(x.node)||O<T?x:m})},Iz=function(o,s,d,m,x){var T=oT(m,o,fu,s,!x);do if(!T||d(T))return;while(T=oT(T,o,fu,s))},mq=function(o,s,d){d===void 0&&(d=!0);var m=[],x=function(T,O){var B=Ke(nT([O]),function(V){return!T(V,s)});return m=m.concat(B),B.length===0};return m.push(s),Iz(tb.Up,o,ke(x,Jh),s.node,d),Iz(tb.Down,o,ke(x,Zp),s.node,d),m},gq=function(o){return Ke(bn(o.getElementsByTagName("*")),im)},vq=function(o,s){return{node:o.node,before:mR(o,s)<gR(o,s)}},yq=function(o,s,d){var m=nT(gq(o)),x=Ke(m,ke(hq,d)),T=function(V){return!eu(V.node)&&!kl(V.node)},O=cE(x,s,T);if(O){var B=T(O);if(O=cE(mq(o,O,B),s,T),O&&im(O.node))return vq(O,s)}return null},sv=function(o,s){o.selection.setRng(s),A0(o,o.selection.getRng())},bd=function(o,s,d){return fe.some(JC(o,s,d))},fE=function(o,s,d,m,x,T){var O=s===ps.Forwards,B=cd(o.getBody()),V=ke(SS,O?B.next:B.prev),Z=O?m:x;if(!d.collapsed){var pe=Sx(d);if(T(pe))return uh(s,o,pe,s===ps.Backwards,!1)}var ge=Qu(s,o.getBody(),d);if(Z(ge))return Q1(o,ge.getNode(!O));var ve=vd(O,V(ge)),Ae=Vd(d);if(!ve)return Ae?fe.some(d):fe.none();if(Z(ve))return uh(s,o,ve.getNode(!O),O,!1);var De=V(ve);return De&&Z(De)&&Qx(ve,De)?uh(s,o,De.getNode(!O),O,!1):Ae?bd(o,ve.toRange(),!1):fe.none()},vR=function(o,s,d,m,x,T){var O=Qu(s,o.getBody(),d),B=Pa(O.getClientRects()),V=s===tb.Down;if(!B)return fe.none();var Z=V?fq:cq,pe=Z(o.getBody(),rT(1),O),ge=Ke(pe,pR(1)),ve=B.left,Ae=cE(ge,ve);if(Ae&&T(Ae.node)){var De=Math.abs(ve-Ae.left),Ie=Math.abs(ve-Ae.right);return uh(s,o,Ae.node,De<Ie,!1)}var Ne;if(m(O)?Ne=O.getNode():x(O)?Ne=O.getNode(!0):Ne=Sx(d),Ne){var Qe=lE(s,o.getBody(),rT(1),Ne),Xe=cE(Ke(Qe,pR(1)),ve);if(Xe||(Xe=Pa(Ke(Qe,pR(0))),Xe))return bd(o,Xe.position.toRange(),!1)}return ge.length===0?dE(o,V).filter(V?x:m).map(function(at){return JC(o,at.toRange(),!1)}):fe.none()},dE=function(o,s){var d=o.selection.getRng(),m=o.getBody();if(s){var x=Ut.fromRangeEnd(d),T=eb(m,x);return Bn(T.positions)}else{var x=Ut.fromRangeStart(d),T=X0(m,x);return hn(T.positions)}},Rz=function(o,s,d){return dE(o,s).filter(d).exists(function(m){return o.selection.setRng(m.toRange()),!0})},iT=function(o,s){var d=o.dom.createRng();d.setStart(s.container(),s.offset()),d.setEnd(s.container(),s.offset()),o.selection.setRng(d)},Pz=function(o,s){o?s.setAttribute("data-mce-selected","inline-boundary"):s.removeAttribute("data-mce-selected")},yR=function(o,s,d){return eT(s,d).map(function(m){return iT(o,m),d})},bq=function(o,s,d){var m=o.getBody(),x=Ut.fromRangeStart(o.selection.getRng()),T=ke(q0,o),O=uE(d,T,m,x);return O.bind(function(B){return yR(o,s,B)})},xq=function(o,s,d){var m=Ft(Il(W.fromDom(s.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(O){return O.dom}),x=Ke(m,o),T=Ke(d,o);Ct(vn(x,T),ke(Pz,!1)),Ct(vn(T,x),ke(Pz,!0))},wq=function(o,s){if(o.selection.isCollapsed()&&o.composing!==!0&&s.get()){var d=Ut.fromRangeStart(o.selection.getRng());Ut.isTextPosition(d)&&SW(d)===!1&&(iT(o,vS(s.get(),d)),s.set(null))}},e2=function(o,s,d,m){if(s.selection.isCollapsed()){var x=Ke(m,o);Ct(x,function(T){var O=Ut.fromRangeStart(s.selection.getRng());dp(o,s.getBody(),O).bind(function(B){return yR(s,d,B)})})}},bR=function(o,s,d){return h0(o)?bq(o,s,d).isSome():!1},xR=function(o,s,d){return h0(s)?dR(o,s):!1},Nz=function(o){var s=fl(null),d=ke(q0,o);return o.on("NodeChange",function(m){h0(o)&&!(Cr.browser.isIE()&&m.initial)&&(xq(d,o.dom,m.parents),wq(o,s),e2(d,o,s,m.parents))}),s},wR=ke(xR,!0),_q=ke(xR,!1),hE=function(o,s,d){if(h0(o)){var m=dE(o,s).getOrThunk(function(){var x=o.selection.getRng();return s?Ut.fromRangeEnd(x):Ut.fromRangeStart(x)});return dp(ke(q0,o),o.getBody(),m).exists(function(x){var T=Z1(x);return eT(d,T).exists(function(O){return iT(o,O),!0})})}else return!1},Sq=function(o,s){var d=document.createRange();return d.setStart(o.container(),o.offset()),d.setEnd(s.container(),s.offset()),d},Cq=function(o){return js(pl(o),fd(o),function(s,d){var m=vd(!0,s),x=vd(!1,d);return Uc(o,m).forall(function(T){return T.isEqual(x)})}).getOr(!0)},Lz=function(o,s){return function(d){return eT(s,d).exists(function(m){return iT(o,m),!0})}},Bz=function(o,s,d,m){var x=o.getBody(),T=ke(q0,o);o.undoManager.ignore(function(){o.selection.setRng(Sq(d,m)),o.execCommand("Delete"),dp(T,x,Ut.fromRangeStart(o.selection.getRng())).map(Zw).map(Lz(o,s))}),o.nodeChanged()},hp=function(o,s){var d=Kd(s,o);return d||o},Tq=function(o,s,d,m){var x=hp(o.getBody(),m.container()),T=ke(q0,o),O=dp(T,x,m);return O.bind(function(B){return d?B.fold(Q(fe.some(Zw(B))),fe.none,Q(fe.some(Z1(B))),fe.none):B.fold(fe.none,Q(fe.some(Z1(B))),fe.none,Q(fe.some(Zw(B))))}).map(Lz(o,s)).getOrThunk(function(){var B=zg(d,x,m),V=B.bind(function(Z){return dp(T,x,Z)});return js(O,V,function(){return uv(T,x,m).exists(function(Z){return Cq(Z)?(Pn(o,d,W.fromDom(Z)),!0):!1})}).orThunk(function(){return V.bind(function(Z){return B.map(function(pe){return d?Bz(o,s,m,pe):Bz(o,s,pe,m),!0})})}).getOr(!1)})},pE=function(o,s,d){if(o.selection.isCollapsed()&&h0(o)){var m=Ut.fromRangeStart(o.selection.getRng());return Tq(o,s,d,m)}return!1},Mq=function(o,s){var d=up(s,o);return pr(d,_c).fold(Q(d),function(m){return d.slice(0,m)})},kq=function(o){return qb(o)===1},Dq=function(o,s,d,m){var x=ke(gj,s),T=Ft(Ke(m,x),function(B){return B.dom});if(T.length===0)Pn(s,o,d);else{var O=h6(d.dom,T);s.selection.setRng(O.toRange())}},Aq=function(o,s){var d=W.fromDom(o.getBody()),m=W.fromDom(o.selection.getStart()),x=Ke(Mq(d,m),kq);return Bn(x).exists(function(T){var O=Ut.fromRangeStart(o.selection.getRng());return iz(s,O,T.dom)&&!iI(T)?(Dq(s,o,T,x),!0):!1})},mE=function(o,s){return o.selection.isCollapsed()?Aq(o,s):!1},Mm=function(o,s,d){return o._selectionOverrides.hideFakeCaret(),Pn(o,s,W.fromDom(d)),!0},Eq=function(o,s){var d=s?B0:z0,m=s?ps.Forwards:ps.Backwards,x=Qu(m,o.getBody(),o.selection.getRng());return d(x)?Mm(o,s,x.getNode(!s)):fe.from(vd(s,x)).filter(function(T){return d(T)&&Qx(x,T)}).exists(function(T){return Mm(o,s,T.getNode(!s))})},Oq=function(o,s){var d=o.selection.getNode();return kl(d)?Mm(o,s,d):!1},aT=function(o,s){return o.selection.isCollapsed()?Eq(o,s):Oq(o,s)},_R=function(o){return Hv(o,function(s){return pf(s.dom)||sa(s.dom)}).exists(function(s){return pf(s.dom)})},SR=function(o){var s=parseInt(o,10);return isNaN(s)?0:s},zz=function(o,s){var d=o||k5(s)?"margin":"padding",m=bo(s,"direction")==="rtl"?"-right":"-left";return d+m},Iq=function(o,s,d,m,x,T){var O=zz(d,W.fromDom(T));if(s==="outdent"){var B=Math.max(0,SR(T.style[O])-m);o.setStyle(T,O,B?B+x:"")}else{var B=SR(T.style[O])+m+x;o.setStyle(T,O,B)}},nb=function(o,s){return Go(s,function(d){var m=zz(Ux(o),d),x=ss(d,m).map(SR).getOr(0),T=o.dom.getContentEditable(d.dom);return T!=="false"&&x>0})},Fz=function(o){var s=Vz(o);return!o.mode.isReadOnly()&&(s.length>1||nb(o,s))},Hz=function(o){return vf(o)||Ds(o)},Rq=function(o){return Ma(o).exists(Hz)},Vz=function(o){return Ke(oO(o.selection.getSelectedBlocks()),function(s){return!Hz(s)&&!Rq(s)&&_R(s)})},gE=function(o,s){var d=o.dom,m=o.selection,x=o.formatter,T=Ju(o),O=/[a-z%]+$/i.exec(T)[0],B=parseInt(T,10),V=Ux(o),Z=hs(o);!o.queryCommandState("InsertUnorderedList")&&!o.queryCommandState("InsertOrderedList")&&Z===""&&!d.getParent(m.getNode(),d.isBlock)&&x.apply("div"),Ct(Vz(o),function(pe){Iq(d,s,V,B,O,pe.dom)})},vE=function(o,s){if(o.selection.isCollapsed()&&Fz(o)){var d=o.dom,m=o.selection.getRng(),x=Ut.fromRangeStart(m),T=d.getParent(m.startContainer,d.isBlock);if(T!==null&&CC(W.fromDom(T),x))return gE(o,"outdent"),!0}return!1},CR=function(o,s){o.getDoc().execCommand(s,!1,null)},jz=function(o,s){if(!vE(o)){if(eE(o,!1)||QC(o,!1)||pE(o,s,!1)||YA(o,!1)||DC(o)||tE(o,!1)||aT(o,!1)||Y1(o)||mE(o,!1))return;CR(o,"Delete"),oz(o)}},Uz=function(o,s){if(!eE(o,!0)){if(QC(o,!0)||pE(o,s,!0)||YA(o,!0)||DC(o)||tE(o,!0)||aT(o,!0)||Y1(o)||mE(o,!0))return;CR(o,"ForwardDelete")}},Pq=function(o,s){o.addCommand("delete",function(){jz(o,s)}),o.addCommand("forwardDelete",function(){Uz(o,s)})},t2=5,Nq=400,Wz=function(o){return o.touches===void 0||o.touches.length!==1?fe.none():fe.some(o.touches[0])},Lq=function(o,s){var d=Math.abs(o.clientX-s.x),m=Math.abs(o.clientY-s.y);return d>t2||m>t2},n2=function(o){var s=Yp(),d=fl(!1),m=hx(function(x){o.fire("longpress",dr(dr({},x),{type:"longpress"})),d.set(!0)},Nq);o.on("touchstart",function(x){Wz(x).each(function(T){m.cancel();var O={x:T.clientX,y:T.clientY,target:x.target};m.throttle(x),d.set(!1),s.set(O)})},!0),o.on("touchmove",function(x){m.cancel(),Wz(x).each(function(T){s.on(function(O){Lq(T,O)&&(s.clear(),d.set(!1),o.fire("longpresscancel"))})})},!0),o.on("touchend touchcancel",function(x){m.cancel(),x.type!=="touchcancel"&&s.get().filter(function(T){return T.target.isEqualNode(x.target)}).each(function(){d.get()?x.preventDefault():o.fire("tap",dr(dr({},x),{type:"tap"}))})},!0)},TR=function(o,s){return Vr(o,s.nodeName)},lv=function(o,s){return or(s)?!0:Xr(s)?!TR(o,s)&&!ac(s):!1},Bq=function(o,s,d){return st(_C(W.fromDom(d),W.fromDom(s)),function(m){return TR(o,m.dom)})},MR=function(o,s){return!!(or(s)&&(s.nodeValue.length===0||/^\s+$/.test(s.nodeValue)&&(!s.nextSibling||TR(o,s.nextSibling))))},kR=function(o){var s=o.dom,d=o.selection,m=o.schema,x=m.getBlockElements(),T=d.getStart(),O=o.getBody(),B,V,Z,pe=hs(o);if(!(!T||!Xr(T)||!pe)){var ge=O.nodeName.toLowerCase();if(!(!m.isValidChild(ge,pe.toLowerCase())||Bq(x,O,T))){var ve=d.getRng(),Ae=ve.startContainer,De=ve.startOffset,Ie=ve.endContainer,Ne=ve.endOffset,Qe=gm(o);for(T=O.firstChild;T;)if(lv(x,T)){if(MR(x,T)){V=T,T=T.nextSibling,s.remove(V);continue}B||(B=s.create(pe,Eg(o)),T.parentNode.insertBefore(B,T),Z=!0),V=T,T=T.nextSibling,B.appendChild(V)}else B=null,T=T.nextSibling;Z&&Qe&&(ve.setStart(Ae,De),ve.setEnd(Ie,Ne),d.setRng(ve),o.nodeChanged())}}},zq=function(o){hs(o)&&o.on("NodeChange",ke(kR,o))},Fq=function(o){return Vv(W.fromDom(o.getBody()),"*[data-mce-caret]").map(function(s){return s.dom}).getOrNull()},Hq=function(o){o.selection.setRng(o.selection.getRng())},DR=function(o,s){s.hasAttribute("data-mce-caret")&&(m_(s),Hq(o),o.selection.scrollIntoView(s))},Vq=function(o,s){var d=Fq(o);if(d){if(s.type==="compositionstart"){s.preventDefault(),s.stopPropagation(),DR(o,d);return}jh(d)&&(DR(o,d),o.undoManager.add())}},jq=function(o){o.on("keyup compositionstart",ke(Vq,o))},qz=sa,Uq=function(o,s,d){return fE(s,o,d,vm,ym,qz)},$z=function(o,s,d){var m=function(T){return vm(T)||Aw(T)},x=function(T){return ym(T)||oA(T)};return vR(s,o,d,m,x,qz)},Wq=function(o){var s=o.dom.create(hs(o));return(!Cr.ie||Cr.ie>=11)&&(s.innerHTML='<br data-mce-bogus="1">'),s},Y0=function(o,s,d){var m=cd(o.getBody()),x=ke(SS,s===1?m.next:m.prev);if(d.collapsed&&SO(o)){var T=o.dom.getParent(d.startContainer,"PRE");if(!T)return;var O=x(Ut.fromRangeStart(d));if(!O){var B=Wq(o);s===1?o.$(T).after(B):o.$(T).before(B),o.selection.select(B,!0),o.selection.collapse()}}},qq=function(o,s){var d=s?ps.Forwards:ps.Backwards,m=o.selection.getRng();return Uq(d,o,m).orThunk(function(){return Y0(o,d,m),fe.none()})},uT=function(o,s){var d=s?1:-1,m=o.selection.getRng();return $z(d,o,m).orThunk(function(){return Y0(o,d,m),fe.none()})},AR=function(o,s){return qq(o,s).exists(function(d){return sv(o,d),!0})},yE=function(o,s){return uT(o,s).exists(function(d){return sv(o,d),!0})},bE=function(o,s){var d=s?ym:vm;return Rz(o,s,d)},$q=function(o){return Je(["figcaption"],ni(o))},Gz=function(o){var s=document.createRange();return s.setStartBefore(o.dom),s.setEndBefore(o.dom),s},Xz=function(o,s,d){d?xu(o,s):Nc(o,s)},ER=function(o,s){var d=W.fromTag("br");return Xz(o,d,s),Gz(d)},Gq=function(o,s,d,m){var x=W.fromTag(d),T=W.fromTag("br");return me(x,m),xu(x,T),Xz(o,x,s),Gz(T)},Xq=function(o,s,d,m){return s===""?ER(o,m):Gq(o,m,s,d)},Yq=function(o,s){var d=ke(Hr,s);return Hv(W.fromDom(o.container()),_c,d).filter($q)},Kq=function(o,s,d){return s?oq(o.dom,d):rq(o.dom,d)},Yz=function(o,s){var d=W.fromDom(o.getBody()),m=Ut.fromRangeStart(o.selection.getRng()),x=hs(o),T=Eg(o);return Yq(m,d).exists(function(){if(Kq(d,s,m)){var O=Xq(d,x,T,s);return o.selection.setRng(O),!0}else return!1})},Kz=function(o,s){return o.selection.isCollapsed()?Yz(o,s):!1},Jq=function(o){return Ft(o,function(s){return dr({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:le},s)})},Qq=function(o,s){return s.keyCode===o.keyCode&&s.shiftKey===o.shiftKey&&s.altKey===o.altKey&&s.ctrlKey===o.ctrlKey&&s.metaKey===o.metaKey},Zq=function(o,s){return To(Jq(o),function(d){return Qq(d,s)?[d]:[]})},$o=function(o){for(var s=[],d=1;d<arguments.length;d++)s[d-1]=arguments[d];return function(){return o.apply(null,s)}},r2=function(o,s){return Qn(Zq(o,s),function(d){return d.action()})},Jz=function(o,s){var d=s?ps.Forwards:ps.Backwards,m=o.selection.getRng();return fE(o,d,m,B0,z0,kl).exists(function(x){return sv(o,x),!0})},Qz=function(o,s){var d=s?1:-1,m=o.selection.getRng();return vR(o,d,m,B0,z0,kl).exists(function(x){return sv(o,x),!0})},OR=function(o,s){var d=s?z0:B0;return Rz(o,s,d)},e$=function(o,s){return{left:o.left-s,top:o.top-s,right:o.right+s*2,bottom:o.bottom+s*2,width:o.width+s,height:o.height+s}},Zz=function(o,s){return To(s,function(d){var m=e$(Qp(d.getBoundingClientRect()),-1);return[{x:m.left,y:o(m),cell:d},{x:m.right,y:o(m),cell:d}]})},t$=function(o,s,d){return Mn(o,function(m,x){return m.fold(function(){return fe.some(x)},function(T){var O=Math.sqrt(Math.abs(T.x-s)+Math.abs(T.y-d)),B=Math.sqrt(Math.abs(x.x-s)+Math.abs(x.y-d));return fe.some(B<O?x:T)})},fe.none())},e8=function(o,s,d,m,x){var T=Il(W.fromDom(d),"td,th,caption").map(function(B){return B.dom}),O=Ke(Zz(o,T),function(B){return s(B,x)});return t$(O,m,x).map(function(B){return B.cell})},n$=function(o){return o.bottom},r$=function(o){return o.top},o$=function(o,s){return o.y<s},i$=function(o,s){return o.y>s},a$=ke(e8,n$,o$),u$=ke(e8,r$,i$),s$=function(o,s){return hn(s.getClientRects()).bind(function(d){return a$(o,d.left,d.top)}).bind(function(d){return tT(iq(d),s)})},l$=function(o,s){return Bn(s.getClientRects()).bind(function(d){return u$(o,d.left,d.top)}).bind(function(d){return tT(Az(d),s)})},c$=function(o,s,d){return d.breakAt.exists(function(m){return o(s,m).breakAt.isSome()})},f$=function(o){return o.breakType===Tm.Wrap&&o.positions.length===0},d$=function(o){return o.breakType===Tm.Br&&o.positions.length===1},IR=function(o,s,d){var m=o(s,d);return f$(m)||!Ri(d.getNode())&&d$(m)?!c$(o,s,m):m.breakAt.isNone()},h$=ke(IR,X0),p$=ke(IR,eb),t8=function(o,s,d){var m=Ut.fromRangeStart(s);return jc(!o,d).exists(function(x){return x.isEqual(m)})},n8=function(o,s,d,m){var x=o.selection.getRng(),T=s?1:-1;return Pg()&&t8(s,x,d)?(uh(T,o,d,!s,!1).each(function(O){sv(o,O)}),!0):!1},xE=function(o,s,d){return s$(s,d).orThunk(function(){return hn(d.getClientRects()).bind(function(m){return hR(tq(o,Ut.before(s)),m.left)})}).getOr(Ut.before(s))},r8=function(o,s,d){return l$(s,d).orThunk(function(){return hn(d.getClientRects()).bind(function(m){return hR(nq(o,Ut.after(s)),m.left)})}).getOr(Ut.after(s))},RR=function(o,s){var d=s.getNode(o);return Xr(d)&&d.nodeName==="TABLE"?fe.some(d):fe.none()},PR=function(o,s,d,m){var x=hs(s);x?s.undoManager.transact(function(){var T=W.fromTag(x);me(T,Eg(s)),xu(T,W.fromTag("br")),o?Rp(W.fromDom(d),T):as(W.fromDom(d),T);var O=s.dom.createRng();O.setStart(T.dom,0),O.setEnd(T.dom,0),sv(s,O)}):sv(s,m.toRange())},NR=function(o,s,d){var m=RR(!!s,d),x=s===!1;m.fold(function(){return sv(o,d.toRange())},function(T){return jc(x,o.getBody()).filter(function(O){return O.isEqual(d)}).fold(function(){return sv(o,d.toRange())},function(O){return PR(s,o,T,d)})})},m$=function(o,s,d,m){var x=o.selection.getRng(),T=Ut.fromRangeStart(x),O=o.getBody();if(!s&&h$(m,T)){var B=xE(O,d,T);return NR(o,s,B),!0}else if(s&&p$(m,T)){var B=r8(O,d,T);return NR(o,s,B),!0}else return!1},LR=function(o,s,d){return fe.from(o.dom.getParent(o.selection.getNode(),"td,th")).bind(function(m){return fe.from(o.dom.getParent(m,"table")).map(function(x){return d(o,s,x,m)})}).getOr(!1)},rb=function(o,s){return LR(o,s,n8)},BR=function(o,s){return LR(o,s,m$)},zR=function(o,s,d){var m=yr().os;r2([{keyCode:Pr.RIGHT,action:$o(AR,o,!0)},{keyCode:Pr.LEFT,action:$o(AR,o,!1)},{keyCode:Pr.UP,action:$o(yE,o,!1)},{keyCode:Pr.DOWN,action:$o(yE,o,!0)},{keyCode:Pr.RIGHT,action:$o(rb,o,!0)},{keyCode:Pr.LEFT,action:$o(rb,o,!1)},{keyCode:Pr.UP,action:$o(BR,o,!1)},{keyCode:Pr.DOWN,action:$o(BR,o,!0)},{keyCode:Pr.RIGHT,action:$o(Jz,o,!0)},{keyCode:Pr.LEFT,action:$o(Jz,o,!1)},{keyCode:Pr.UP,action:$o(Qz,o,!1)},{keyCode:Pr.DOWN,action:$o(Qz,o,!0)},{keyCode:Pr.RIGHT,action:$o(bR,o,s,!0)},{keyCode:Pr.LEFT,action:$o(bR,o,s,!1)},{keyCode:Pr.RIGHT,ctrlKey:!m.isOSX(),altKey:m.isOSX(),action:$o(wR,o,s)},{keyCode:Pr.LEFT,ctrlKey:!m.isOSX(),altKey:m.isOSX(),action:$o(_q,o,s)},{keyCode:Pr.UP,action:$o(Kz,o,!1)},{keyCode:Pr.DOWN,action:$o(Kz,o,!0)}],d).each(function(x){d.preventDefault()})},g$=function(o,s){o.on("keydown",function(d){d.isDefaultPrevented()===!1&&zR(o,s,d)})},FR=function(o,s,d){r2([{keyCode:Pr.BACKSPACE,action:$o(vE,o,!1)},{keyCode:Pr.BACKSPACE,action:$o(eE,o,!1)},{keyCode:Pr.DELETE,action:$o(eE,o,!0)},{keyCode:Pr.BACKSPACE,action:$o(QC,o,!1)},{keyCode:Pr.DELETE,action:$o(QC,o,!0)},{keyCode:Pr.BACKSPACE,action:$o(pE,o,s,!1)},{keyCode:Pr.DELETE,action:$o(pE,o,s,!0)},{keyCode:Pr.BACKSPACE,action:$o(DC,o,!1)},{keyCode:Pr.DELETE,action:$o(DC,o,!0)},{keyCode:Pr.BACKSPACE,action:$o(tE,o,!1)},{keyCode:Pr.DELETE,action:$o(tE,o,!0)},{keyCode:Pr.BACKSPACE,action:$o(aT,o,!1)},{keyCode:Pr.DELETE,action:$o(aT,o,!0)},{keyCode:Pr.BACKSPACE,action:$o(Y1,o,!1)},{keyCode:Pr.DELETE,action:$o(Y1,o,!0)},{keyCode:Pr.BACKSPACE,action:$o(YA,o,!1)},{keyCode:Pr.DELETE,action:$o(YA,o,!0)},{keyCode:Pr.BACKSPACE,action:$o(mE,o,!1)},{keyCode:Pr.DELETE,action:$o(mE,o,!0)}],d).each(function(m){d.preventDefault()})},v$=function(o,s){r2([{keyCode:Pr.BACKSPACE,action:$o(wz,o)},{keyCode:Pr.DELETE,action:$o(wz,o)}],s)},y$=function(o,s){o.on("keydown",function(d){d.isDefaultPrevented()===!1&&FR(o,s,d)}),o.on("keyup",function(d){d.isDefaultPrevented()===!1&&v$(o,d)})},b$=function(o){for(;o;){if(o.nodeType===1||o.nodeType===3&&o.data&&/[\r\n\s]/.test(o.data))return o;o=o.nextSibling}},sT=function(o,s){var d,m=s,x=o.dom,T=o.schema.getMoveCaretBeforeOnEnterElements();if(s){if(/^(LI|DT|DD)$/.test(s.nodeName)){var O=b$(s.firstChild);O&&/^(UL|OL|DL)$/.test(O.nodeName)&&s.insertBefore(x.doc.createTextNode(Jl),s.firstChild)}var B=x.createRng();if(s.normalize(),s.hasChildNodes()){for(var V=new mi(s,s);d=V.current();){if(or(d)){B.setStart(d,0),B.setEnd(d,0);break}if(T[d.nodeName.toLowerCase()]){B.setStartBefore(d),B.setEndBefore(d);break}m=d,d=V.next()}d||(B.setStart(m,0),B.setEnd(m,0))}else Ri(s)?s.nextSibling&&x.isBlock(s.nextSibling)?(B.setStartBefore(s),B.setEndBefore(s)):(B.setStartAfter(s),B.setEndAfter(s)):(B.setStart(s,0),B.setEnd(s,0));o.selection.setRng(B),A0(o,B)}},x$=function(o,s){var d=o.getRoot(),m,x;for(m=s;m!==d&&o.getContentEditable(m)!=="false";)o.getContentEditable(m)==="true"&&(x=m),m=m.parentNode;return m!==d?x:d},HR=function(o){return fe.from(o.dom.getParent(o.selection.getStart(!0),o.dom.isBlock))},o8=function(o){return HR(o).fold(Q(""),function(s){return s.nodeName.toUpperCase()})},o2=function(o){return HR(o).filter(function(s){return Ds(W.fromDom(s))}).isSome()},w$=function(o,s){return o.firstChild&&o.firstChild.nodeName===s},VR=function(o){var s;return((s=o.parentNode)===null||s===void 0?void 0:s.firstChild)===o},i8=function(o,s){return o&&o.parentNode&&o.parentNode.nodeName===s},jR=function(o){return o&&/^(OL|UL|LI)$/.test(o.nodeName)},a8=function(o){return jR(o)&&jR(o.parentNode)},lT=function(o){var s=o.parentNode;return/^(LI|DT|DD)$/.test(s.nodeName)?s:o},cT=function(o,s,d){for(var m=o[d?"firstChild":"lastChild"];m&&!Xr(m);)m=m[d?"nextSibling":"previousSibling"];return m===s},UR=function(o,s,d,m,x){var T=o.dom,O=o.selection.getRng();if(d!==o.getBody()){a8(d)&&(x="LI");var B=x?s(x):T.create("BR");if(cT(d,m,!0)&&cT(d,m,!1))if(i8(d,"LI")){var V=lT(d);T.insertAfter(B,V),VR(d)?T.remove(V):T.remove(d)}else T.replace(B,d);else if(cT(d,m,!0))i8(d,"LI")?(T.insertAfter(B,lT(d)),B.appendChild(T.doc.createTextNode(" ")),B.appendChild(d)):d.parentNode.insertBefore(B,d),T.remove(m);else if(cT(d,m,!1))T.insertAfter(B,lT(d)),T.remove(m);else{d=lT(d);var Z=O.cloneRange();Z.setStartAfter(m),Z.setEndAfter(d);var pe=Z.extractContents();x==="LI"&&w$(pe,"LI")?(B=pe.firstChild,T.insertAfter(pe,d)):(T.insertAfter(pe,d),T.insertAfter(B,d)),T.remove(m)}sT(o,B)}},u8=function(o){Ct(yx(W.fromDom(o),xa),function(s){var d=s.dom;d.nodeValue=rd(d.nodeValue)})},_$=function(o,s){return s&&s.nodeName==="A"&&o.isEmpty(s)},S$=function(o){return o&&/^(TD|TH|CAPTION)$/.test(o.nodeName)},i2=function(o){o.innerHTML='<br data-mce-bogus="1">'},WR=function(o,s){return o.nodeName===s||o.previousSibling&&o.previousSibling.nodeName===s},s8=function(o,s){return s&&o.isBlock(s)&&!/^(TD|TH|CAPTION|FORM)$/.test(s.nodeName)&&!/^(fixed|absolute)/i.test(s.style.position)&&o.getContentEditable(s)!=="true"},C$=function(o,s,d){var m=d,x=[],T;if(m){for(;m=m.firstChild;){if(o.isBlock(m))return;Xr(m)&&!s[m.nodeName.toLowerCase()]&&x.push(m)}for(T=x.length;T--;)m=x[T],(!m.hasChildNodes()||m.firstChild===m.lastChild&&m.firstChild.nodeValue===""||_$(o,m))&&o.remove(m)}},wE=function(o,s,d){return or(s)===!1?d:o?d===1&&s.data.charAt(d-1)===dt?0:d:d===s.data.length-1&&s.data.charAt(d)===dt?s.data.length:d},T$=function(o){var s=o.cloneRange();return s.setStart(o.startContainer,wE(!0,o.startContainer,o.startOffset)),s.setEnd(o.endContainer,wE(!1,o.endContainer,o.endOffset)),s},M$=function(o){do or(o)&&(o.nodeValue=o.nodeValue.replace(/^[\r\n]+/,"")),o=o.firstChild;while(o)},Qc=function(o,s){var d=o.getRoot(),m,x;for(m=s;m!==d&&o.getContentEditable(m)!=="false";)o.getContentEditable(m)==="true"&&(x=m),m=m.parentNode;return m!==d?x:d},k$=function(o,s,d){var m=o.dom;fe.from(d.style).map(m.parseStyle).each(function(V){var Z=ka(W.fromDom(s)),pe=dr(dr({},Z),V);m.setStyles(s,pe)});var x=fe.from(d.class).map(function(V){return V.split(/\s+/)}),T=fe.from(s.className).map(function(V){return Ke(V.split(/\s+/),function(Z){return Z!==""})});js(x,T,function(V,Z){var pe=Ke(Z,function(ve){return!Je(V,ve)}),ge=ba(ba([],V,!0),pe,!0);m.setAttrib(s,"class",ge.join(" "))});var O=["style","class"],B=Kn(d,function(V,Z){return!Je(O,Z)});m.setAttribs(s,B)},ob=function(o,s){var d=hs(o);if(d&&d.toLowerCase()===s.tagName.toLowerCase()){var m=Eg(o);k$(o,s,m)}},l8=function(o,s,d,m,x){var T,O,B,V,Z,pe,ge=s||"P",ve=o.dom,Ae=Qc(ve,m);if(O=ve.getParent(m,ve.isBlock),!O||!s8(ve,O)){if(O=O||Ae,O===o.getBody()||S$(O)?pe=O.nodeName.toLowerCase():pe=O.parentNode.nodeName.toLowerCase(),!O.hasChildNodes())return T=ve.create(ge),ob(o,T),O.appendChild(T),d.setStart(T,0),d.setEnd(T,0),T;for(V=m;V.parentNode!==O;)V=V.parentNode;for(;V&&!ve.isBlock(V);)B=V,V=V.previousSibling;if(B&&o.schema.isValidChild(pe,ge.toLowerCase())){for(T=ve.create(ge),ob(o,T),B.parentNode.insertBefore(T,B),V=B;V&&!ve.isBlock(V);)Z=V.nextSibling,T.appendChild(V),V=Z;d.setStart(m,x),d.setEnd(m,x)}}return m},qR=function(o,s){s.normalize();var d=s.lastChild;(!d||/^(left|right)$/gi.test(o.getStyle(d,"float",!0)))&&o.add(s,"br")},D$=function(o,s){var d,m,x,T,O,B,V,Z,pe,ge,ve=o.dom,Ae=o.schema,De=Ae.getNonEmptyElements(),Ie=o.selection.getRng(),Ne=function(Xt){var Sn=m,Dr,Zn,pn,jr=Ae.getTextInlineElements();if(Xt||Z==="TABLE"||Z==="HR"?Dr=ve.create(Xt||pe):Dr=T.cloneNode(!1),pn=Dr,d0(o)===!1)ve.setAttrib(Dr,"style",null),ve.setAttrib(Dr,"class",null);else do if(jr[Sn.nodeName]){if(qc(Sn)||ac(Sn))continue;Zn=Sn.cloneNode(!1),ve.setAttrib(Zn,"id",""),Dr.hasChildNodes()?(Zn.appendChild(Dr.firstChild),Dr.appendChild(Zn)):(pn=Zn,Dr.appendChild(Zn))}while((Sn=Sn.parentNode)&&Sn!==nt);return ob(o,Dr),i2(pn),Dr},Qe=function(Xt){var Sn,Dr,Zn=wE(Xt,m,x);if(or(m)&&(Xt?Zn>0:Zn<m.nodeValue.length))return!1;if(m.parentNode===T&&ge&&!Xt||Xt&&Xr(m)&&m===T.firstChild)return!0;if(WR(m,"TABLE")||WR(m,"HR"))return ge&&!Xt||!ge&&Xt;var pn=new mi(m,T);for(or(m)&&(Xt&&Zn===0?pn.prev():!Xt&&Zn===m.nodeValue.length&&pn.next());Sn=pn.current();){if(Xr(Sn)){if(!Sn.getAttribute("data-mce-bogus")&&(Dr=Sn.nodeName.toLowerCase(),De[Dr]&&Dr!=="br"))return!1}else if(or(Sn)&&!yf(Sn.nodeValue))return!1;Xt?pn.prev():pn.next()}return!0},Xe=function(){/^(H[1-6]|PRE|FIGURE)$/.test(Z)&&Mt!=="HGROUP"?O=Ne(pe):O=Ne(),Ck(o)&&s8(ve,V)&&ve.isEmpty(T)?O=ve.split(V,T):ve.insertAfter(O,T),sT(o,O)};p1(ve,Ie).each(function(Xt){Ie.setStart(Xt.startContainer,Xt.startOffset),Ie.setEnd(Xt.endContainer,Xt.endOffset)}),m=Ie.startContainer,x=Ie.startOffset,pe=hs(o);var at=!!(s&&s.shiftKey),xt=!!(s&&s.ctrlKey);Xr(m)&&m.hasChildNodes()&&(ge=x>m.childNodes.length-1,m=m.childNodes[Math.min(x,m.childNodes.length-1)]||m,ge&&or(m)?x=m.nodeValue.length:x=0);var nt=Qc(ve,m);if(nt){(pe&&!at||!pe&&at)&&(m=l8(o,pe,Ie,m,x)),T=ve.getParent(m,ve.isBlock),V=T?ve.getParent(T.parentNode,ve.isBlock):null,Z=T?T.nodeName.toUpperCase():"";var Mt=V?V.nodeName.toUpperCase():"";if(Mt==="LI"&&!xt&&(T=V,V=V.parentNode,Z=Mt),/^(LI|DT|DD)$/.test(Z)&&ve.isEmpty(T)){UR(o,Ne,V,T,pe);return}pe&&T===o.getBody()||(pe=pe||"P",Pi(T)?(O=m_(T),ve.isEmpty(T)&&i2(T),ob(o,O),sT(o,O)):Qe()?Xe():Qe(!0)?(O=T.parentNode.insertBefore(Ne(),T),sT(o,WR(T,"HR")?O:T)):(d=T$(Ie).cloneRange(),d.setEndAfter(T),B=d.extractContents(),u8(B),M$(B),O=B.firstChild,ve.insertAfter(B,T),C$(ve,De,O),qR(ve,T),ve.isEmpty(T)&&i2(T),O.normalize(),ve.isEmpty(O)?(ve.remove(O),Xe()):(ob(o,O),sT(o,O))),ve.setAttrib(O,"id",""),o.fire("NewBlock",{newBlock:O}))}},A$=function(o,s,d){for(var m=new mi(s,d),x,T=o.getNonEmptyElements();x=m.next();)if(T[x.nodeName.toLowerCase()]||x.length>0)return!0},$R=function(o,s,d){var m=o.dom.createRng();d?(m.setStartBefore(s),m.setEndBefore(s)):(m.setStartAfter(s),m.setEndAfter(s)),o.selection.setRng(m),A0(o,m)},E$=function(o,s){var d=o.selection,m=o.dom,x=d.getRng(),T,O;p1(m,x).each(function(De){x.setStart(De.startContainer,De.startOffset),x.setEnd(De.endContainer,De.endOffset)});var B=x.startOffset,V=x.startContainer;if(V.nodeType===1&&V.hasChildNodes()){var Z=B>V.childNodes.length-1;V=V.childNodes[Math.min(B,V.childNodes.length-1)]||V,Z&&V.nodeType===3?B=V.nodeValue.length:B=0}var pe=m.getParent(V,m.isBlock),ge=pe?m.getParent(pe.parentNode,m.isBlock):null,ve=ge?ge.nodeName.toUpperCase():"",Ae=!!(s&&s.ctrlKey);ve==="LI"&&!Ae&&(pe=ge),V&&V.nodeType===3&&B>=V.nodeValue.length&&(A$(o.schema,V,pe)||(T=m.create("br"),x.insertNode(T),x.setStartAfter(T),x.setEndAfter(T),O=!0)),T=m.create("br"),tm(m,x,T),$R(o,T,O),o.undoManager.add()},O$=function(o,s){var d=W.fromTag("br");as(W.fromDom(s),d),o.undoManager.add()},I$=function(o,s){P$(o.getBody(),s)||Rp(W.fromDom(s),W.fromTag("br"));var d=W.fromTag("br");Rp(W.fromDom(s),d),$R(o,d.dom,!1),o.undoManager.add()},R$=function(o){return Ri(o.getNode())},P$=function(o,s){return R$(Ut.after(s))?!0:Uc(o,Ut.after(s)).map(function(d){return Ri(d.getNode())}).getOr(!1)},c8=function(o){return o&&o.nodeName==="A"&&"href"in o},N$=function(o){return o.fold(Ge,c8,c8,Ge)},L$=function(o){var s=ke(q0,o),d=Ut.fromRangeStart(o.selection.getRng());return dp(s,o.getBody(),d).filter(N$)},B$=function(o,s){s.fold(le,ke(O$,o),ke(I$,o),le)},Ys=function(o,s){var d=L$(o);d.isSome()?d.each(ke(B$,o)):E$(o,s)},f8=function(o,s){return HR(o).filter(function(d){return s.length>0&&Ln(W.fromDom(d),s)}).isSome()},z$=function(o){return f8(o,sS(o))},F$=function(o){return f8(o,Sk(o))},Fa=Sr.generate([{br:[]},{block:[]},{none:[]}]),H$=function(o,s){return F$(o)},_E=function(o){return function(s,d){var m=hs(s)==="";return m===o}},d8=function(o){return function(s,d){return o2(s)===o}},ib=function(o,s){return function(d,m){var x=o8(d)===o.toUpperCase();return x===s}},SE=function(o){return ib("pre",o)},V$=function(){return ib("summary",!0)},a2=function(o){return function(s,d){return dO(s)===o}},j$=function(o,s){return z$(o)},fT=function(o,s){return s},h8=function(o){var s=hs(o),d=x$(o.dom,o.selection.getStart());return d&&o.schema.isValidChild(d.nodeName,s||"P")},xd=function(o,s){return function(d,m){var x=Mn(o,function(T,O){return T&&O(d,m)},!0);return x?fe.some(s):fe.none()}},U$=function(o,s){return Sz([xd([H$],Fa.none()),xd([V$()],Fa.br()),xd([SE(!0),a2(!1),fT],Fa.br()),xd([SE(!0),a2(!1)],Fa.block()),xd([SE(!0),a2(!0),fT],Fa.block()),xd([SE(!0),a2(!0)],Fa.br()),xd([d8(!0),fT],Fa.br()),xd([d8(!0)],Fa.block()),xd([_E(!0),fT,h8],Fa.block()),xd([_E(!0)],Fa.br()),xd([j$],Fa.br()),xd([_E(!1),fT],Fa.br()),xd([h8],Fa.block())],[o,!!(s&&s.shiftKey)]).getOr(Fa.none())},p8=function(o,s){U$(o,s).fold(function(){Ys(o,s)},function(){D$(o,s)},le)},CE=function(o,s){s.isDefaultPrevented()||(s.preventDefault(),Ww(o.undoManager),o.undoManager.transact(function(){o.selection.isCollapsed()===!1&&o.execCommand("Delete"),p8(o,s)}))},m8=function(o){o.on("keydown",function(s){s.keyCode===Pr.ENTER&&CE(o,s)})},W$=function(o,s,d){r2([{keyCode:Pr.END,action:$o(bE,o,!0)},{keyCode:Pr.HOME,action:$o(bE,o,!1)},{keyCode:Pr.END,action:$o(OR,o,!0)},{keyCode:Pr.HOME,action:$o(OR,o,!1)},{keyCode:Pr.END,action:$o(hE,o,!0,s)},{keyCode:Pr.HOME,action:$o(hE,o,!1,s)}],d).each(function(m){d.preventDefault()})},q$=function(o,s){o.on("keydown",function(d){d.isDefaultPrevented()===!1&&W$(o,s,d)})},$$=yr().browser,G$=function(o){var s=Ci(function(){o.composing||zo(o)},0);$$.isIE()&&(o.on("keypress",function(d){s.throttle()}),o.on("remove",function(d){s.cancel()}))},X$=function(o){G$(o),o.on("input",function(s){s.isComposing===!1&&zo(o)})},GR=yr(),g8=function(o,s,d){r2([{keyCode:Pr.PAGE_UP,action:$o(hE,o,!1,s)},{keyCode:Pr.PAGE_DOWN,action:$o(hE,o,!0,s)}],d)},XR=function(o){return o.stopImmediatePropagation()},YR=function(o){return o.keyCode===Pr.PAGE_UP||o.keyCode===Pr.PAGE_DOWN},v8=function(o,s,d){d&&!o.get()?s.on("NodeChange",XR,!0):!d&&o.get()&&s.off("NodeChange",XR),o.set(d)},Y$=function(o,s){if(!GR.os.isOSX()){var d=fl(!1);o.on("keydown",function(m){YR(m)&&v8(d,o,!0)}),o.on("keyup",function(m){m.isDefaultPrevented()===!1&&g8(o,s,m),YR(m)&&d.get()&&(v8(d,o,!1),o.nodeChanged())})}},y8=function(o,s){var d=s.container(),m=s.offset();return or(d)?(d.insertData(m,o),fe.some(Ut(d,m+o.length))):am(s).map(function(x){var T=W.fromText(o);return s.isAtEnd()?Rp(x,T):as(x,T),Ut(T.dom,o.length)})},K$=ke(y8,Jl),J$=ke(y8," "),Q$=function(o){return function(s){return s.fold(function(d){return Wc(o.dom,Ut.before(d))},function(d){return pl(d)},function(d){return fd(d)},function(d){return Uc(o.dom,Ut.after(d))})}},b8=function(o,s){return function(d){return MC(o,d)?K$(s):J$(s)}},Z$=function(o){return function(s){return o.selection.setRng(s.toRange()),o.nodeChanged(),!0}},eG=function(o){var s=Ut.fromRangeStart(o.selection.getRng()),d=W.fromDom(o.getBody());if(o.selection.isCollapsed()){var m=ke(q0,o),x=Ut.fromRangeStart(o.selection.getRng());return dp(m,o.getBody(),x).bind(Q$(d)).bind(b8(d,s)).exists(Z$(o))}else return!1},tG=function(o,s){r2([{keyCode:Pr.SPACEBAR,action:$o(eG,o)}],s).each(function(d){s.preventDefault()})},nG=function(o){o.on("keydown",function(s){s.isDefaultPrevented()===!1&&tG(o,s)})},x8=function(o){var s=Nz(o);return jq(o),g$(o,s),y$(o,s),m8(o),nG(o),X$(o),q$(o,s),Y$(o,s),s},rG=function(o){return av(o)?fl(null):x8(o)},oG=function(){function o(s){this.lastPath=[],this.editor=s;var d,m=this;"onselectionchange"in s.getDoc()||s.on("NodeChange click mouseup keyup focus",function(x){var T=s.selection.getRng(),O={startContainer:T.startContainer,startOffset:T.startOffset,endContainer:T.endContainer,endOffset:T.endOffset};(x.type==="nodechange"||!lw(O,d))&&s.fire("SelectionChange"),d=O}),s.on("contextmenu",function(){s.fire("SelectionChange")}),s.on("SelectionChange",function(){var x=s.selection.getStart(!0);!x||!Cr.range&&s.selection.isCollapsed()||Gc(s)&&!m.isSameElementPath(x)&&s.dom.isChildOf(x,s.getBody())&&s.nodeChanged({selectionChange:!0})}),s.on("mouseup",function(x){!x.isDefaultPrevented()&&Gc(s)&&(s.selection.getNode().nodeName==="IMG"?ks.setEditorTimeout(s,function(){s.nodeChanged()}):s.nodeChanged())})}return o.prototype.nodeChanged=function(s){var d=this.editor.selection,m,x,T;this.editor.initialized&&d&&!CO(this.editor)&&!this.editor.mode.isReadOnly()&&(T=this.editor.getBody(),m=d.getStart(!0)||T,(m.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(m,T))&&(m=T),x=[],this.editor.dom.getParent(m,function(O){if(O===T)return!0;x.push(O)}),s=s||{},s.element=m,s.parents=x,this.editor.fire("NodeChange",s))},o.prototype.isSameElementPath=function(s){var d,m=this.editor.$(s).parentsUntil(this.editor.getBody()).add(s);if(m.length===this.lastPath.length){for(d=m.length;d>=0&&m[d]===this.lastPath[d];d--);if(d===-1)return this.lastPath=m,!0}return this.lastPath=m,!1},o}(),iG=function(o){o.on("click",function(s){o.dom.getParent(s.target,"details")&&s.preventDefault()})},aG=function(o){o.parser.addNodeFilter("details",function(s){Ct(s,function(d){d.attr("data-mce-open",d.attr("open")),d.attr("open","open")})}),o.serializer.addNodeFilter("details",function(s){Ct(s,function(d){var m=d.attr("data-mce-open");d.attr("open",R(m)?m:null),d.attr("data-mce-open",null)})})},w8=function(o){iG(o),aG(o)},dT=function(o){return Xr(o)&&Hd(W.fromDom(o))},_8=function(o){var s=o.selection.getRng(),d=Ut.fromRangeStart(s),m=Ut.fromRangeEnd(s);if(Ut.isElementPosition(d)){var x=d.container();dT(x)&&pl(x).each(function(T){return s.setStart(T.container(),T.offset())})}if(Ut.isElementPosition(m)){var x=d.container();dT(x)&&fd(x).each(function(O){return s.setEnd(O.container(),O.offset())})}o.selection.setRng(z4(s))},S8=function(o){o.on("click",function(s){s.detail>=3&&_8(o)})},C8=function(o){var s=o.getBoundingClientRect(),d=o.ownerDocument,m=d.documentElement,x=d.defaultView;return{top:s.top+x.pageYOffset-m.clientTop,left:s.left+x.pageXOffset-m.clientLeft}},uG=function(o){return o.inline?C8(o.getBody()):{left:0,top:0}},KR=function(o){var s=o.getBody();return o.inline?{left:s.scrollLeft,top:s.scrollTop}:{left:0,top:0}},sG=function(o){var s=o.getBody(),d=o.getDoc().documentElement,m={left:s.scrollLeft,top:s.scrollTop},x={left:s.scrollLeft||d.scrollLeft,top:s.scrollTop||d.scrollTop};return o.inline?m:x},lG=function(o,s){if(s.target.ownerDocument!==o.getDoc()){var d=C8(o.getContentAreaContainer()),m=sG(o);return{left:s.pageX-d.left+m.left,top:s.pageY-d.top+m.top}}return{left:s.pageX,top:s.pageY}},cG=function(o,s,d){return{pageX:d.left-o.left+s.left,pageY:d.top-o.top+s.top}},fG=function(o,s){return cG(uG(o),KR(o),lG(o,s))},Zc=sa,T8=pf,M8=function(o,s){return Zc(s)&&s!==o},dG=function(o,s,d){return s===d||o.dom.isChildOf(s,d)?!1:!Zc(s)},hG=function(o){var s=o.cloneNode(!0);return s.removeAttribute("data-mce-selected"),s},pG=function(o,s,d,m){var x=o.dom,T=s.cloneNode(!0);x.setStyles(T,{width:d,height:m}),x.setAttrib(T,"data-mce-selected",null);var O=x.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return x.setStyles(O,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:d,height:m}),x.setStyles(T,{margin:0,boxSizing:"border-box"}),O.appendChild(T),O},mG=function(o,s){o.parentNode!==s&&s.appendChild(o)},gG=function(o,s,d,m,x,T){var O=0,B=0;o.style.left=s.pageX+"px",o.style.top=s.pageY+"px",s.pageX+d>x&&(O=s.pageX+d-x),s.pageY+m>T&&(B=s.pageY+m-T),o.style.width=d-O+"px",o.style.height=m-B+"px"},k8=function(o){o&&o.parentNode&&o.parentNode.removeChild(o)},vG=function(o){return o.button===0},JR=function(o,s){return{pageX:s.pageX-o.relX,pageY:s.pageY+5}},yG=function(o,s){return function(d){if(vG(d)){var m=Qn(s.dom.getParents(d.target),aO(Zc,T8)).getOr(null);if(M8(s.getBody(),m)){var x=s.dom.getPos(m),T=s.getBody(),O=s.getDoc().documentElement;o.set({element:m,dragging:!1,screenX:d.screenX,screenY:d.screenY,maxX:(s.inline?T.scrollWidth:O.offsetWidth)-2,maxY:(s.inline?T.scrollHeight:O.offsetHeight)-2,relX:d.pageX-x.x,relY:d.pageY-x.y,width:m.offsetWidth,height:m.offsetHeight,ghost:pG(s,m,m.offsetWidth,m.offsetHeight)})}}}},bG=function(o,s){var d=ks.throttle(function(m,x){s._selectionOverrides.hideFakeCaret(),s.selection.placeCaretAt(m,x)},0);return s.on("remove",d.stop),function(m){return o.on(function(x){var T=Math.max(Math.abs(m.screenX-x.screenX),Math.abs(m.screenY-x.screenY));if(!x.dragging&&T>10){var O=s.fire("dragstart",{target:x.element});if(O.isDefaultPrevented())return;x.dragging=!0,s.focus()}if(x.dragging){var B=JR(x,fG(s,m));mG(x.ghost,s.getBody()),gG(x.ghost,B,x.width,x.height,x.maxX,x.maxY),d(m.clientX,m.clientY)}})}},D8=function(o){var s=o.getSel().getRangeAt(0),d=s.startContainer;return d.nodeType===3?d.parentNode:d},xG=function(o,s){return function(d){o.on(function(m){if(m.dragging){if(dG(s,D8(s.selection),m.element)){var x=hG(m.element),T=s.fire("drop",{clientX:d.clientX,clientY:d.clientY});T.isDefaultPrevented()||s.undoManager.transact(function(){k8(m.element),s.insertContent(s.dom.getOuterHTML(x)),s._selectionOverrides.hideFakeCaret()})}s.fire("dragend")}}),A8(o)}},wG=function(o,s){return function(){o.on(function(d){d.dragging&&s.fire("dragend")}),A8(o)}},A8=function(o){o.on(function(s){k8(s.ghost)}),o.clear()},_G=function(o){var s=Yp(),d=na.DOM,m=document,x=yG(s,o),T=bG(s,o),O=xG(s,o),B=wG(s,o);o.on("mousedown",x),o.on("mousemove",T),o.on("mouseup",O),d.bind(m,"mousemove",T),d.bind(m,"mouseup",B),o.on("remove",function(){d.unbind(m,"mousemove",T),d.unbind(m,"mouseup",B)}),o.on("keydown",function(V){V.keyCode===Pr.ESC&&B()})},SG=function(o){o.on("drop",function(s){var d=typeof s.clientX<"u"?o.getDoc().elementFromPoint(s.clientX,s.clientY):null;(Zc(d)||o.dom.getContentEditableParent(d)==="false")&&s.preventDefault()})},CG=function(o){var s=function(x){if(!x.isDefaultPrevented()){var T=x.dataTransfer;T&&(Je(T.types,"Files")||T.files.length>0)&&(x.preventDefault(),x.type==="drop"&&Xw(o,"Dropped file type is not supported"))}},d=function(x){w1(o,x.target)&&s(x)},m=function(){var x=na.DOM,T=o.dom,O=document,B=o.inline?o.getBody():o.getDoc(),V=["drop","dragover"];Ct(V,function(Z){x.bind(O,Z,d),T.bind(B,Z,s)}),o.on("remove",function(){Ct(V,function(Z){x.unbind(O,Z,d),T.unbind(B,Z,s)})})};o.on("init",function(){ks.setEditorTimeout(o,m,0)})},QR=function(o){_G(o),SG(o),Ok(o)&&CG(o)},TG=function(o){var s=Ci(function(){if(!o.removed&&o.getBody().contains(document.activeElement)){var d=o.selection.getRng();if(d.collapsed){var m=JC(o,d,!1);o.selection.setRng(m)}}},0);o.on("focus",function(){s.throttle()}),o.on("blur",function(){s.cancel()})},E8=function(o){o.on("init",function(){o.on("focusin",function(s){var d=s.target;if(kl(d)){var m=cm(o.getBody(),d),x=sa(m)?m:d;o.selection.getNode()!==x&&Q1(o,x).each(function(T){return o.selection.setRng(T)})}})})},O8=pf,ab=sa,TE=function(o,s){return cm(o.getBody(),s)},MG=function(o){var s=o.selection,d=o.dom,m=d.isBlock,x=o.getBody(),T=Fk(o,x,m,function(){return gm(o)}),O="sel-"+d.uniqueId(),B="data-mce-selected",V,Z=function(pn){return d.hasClass(pn,"mce-offscreen-selection")},pe=function(pn){return pn!==x&&(ab(pn)||kl(pn))&&d.isChildOf(pn,x)},ge=function(pn){return vm(pn)||ym(pn)||B0(pn)||z0(pn)},ve=function(){var pn=d.get(O);return pn&&pn.getElementsByTagName("*")[0]},Ae=function(pn){pn&&s.setRng(pn)},De=s.getRng,Ie=function(pn,jr,An,Jn){Jn===void 0&&(Jn=!0);var Dn=o.fire("ShowCaret",{target:jr,direction:pn,before:An});return Dn.isDefaultPrevented()?null:(Jn&&s.scrollIntoView(jr,pn===-1),T.show(An,jr))},Ne=function(pn){pn.hasAttribute("data-mce-caret")&&(m_(pn),Ae(De()),s.scrollIntoView(pn))},Qe=function(){o.on("mouseup",function(Dn){var Vn=De();Vn.collapsed&&FB(o,Dn.clientX,Dn.clientY)&&QA(o,Vn,!1).each(Ae)}),o.on("click",function(Dn){var Vn=TE(o,Dn.target);Vn&&(ab(Vn)&&(Dn.preventDefault(),o.focus()),O8(Vn)&&d.isChildOf(Vn,s.getNode())&&Sn())}),o.on("blur NewBlock",Sn),o.on("ResizeWindow FullscreenStateChanged",T.reposition);var pn=function(Dn){var Vn=Dn.firstChild;if(Y(Vn))return!1;var rr=Ut.before(Vn);if(Ri(rr.getNode())&&Dn.childNodes.length===1)return!ge(rr);var xn=cd(Dn),ar=xn.next(rr);return ar&&!ge(ar)},jr=function(Dn,Vn){var rr=d.getParent(Dn,m),xn=d.getParent(Vn,m);return rr===xn},An=function(Dn,Vn){var rr=d.getParent(Dn,m),xn=d.getParent(Vn,m);return Y(rr)?!1:Dn!==xn&&d.isChildOf(rr,xn)&&ab(TE(o,rr))===!1?!0:!d.isChildOf(xn,rr)&&!jr(rr,xn)&&pn(rr)};o.on("tap",function(Dn){var Vn=Dn.target,rr=TE(o,Vn);ab(rr)?(Dn.preventDefault(),Q1(o,rr).each(Xt)):pe(Vn)&&Q1(o,Vn).each(Xt)},!0),o.on("mousedown",function(Dn){var Vn=Dn.target;if(!(Vn!==x&&Vn.nodeName!=="HTML"&&!d.isChildOf(Vn,x))&&FB(o,Dn.clientX,Dn.clientY)!==!1){var rr=TE(o,Vn);if(rr)ab(rr)?(Dn.preventDefault(),Q1(o,rr).each(Xt)):(Sn(),!(O8(rr)&&Dn.shiftKey)&&!C0(Dn.clientX,Dn.clientY,s.getRng())&&(Zn(),s.placeCaretAt(Dn.clientX,Dn.clientY)));else if(pe(Vn))Q1(o,Vn).each(Xt);else if(im(Vn)===!1){Sn(),Zn();var xn=yq(x,Dn.clientX,Dn.clientY);if(xn&&!An(Vn,xn.node)){Dn.preventDefault();var ar=Ie(1,xn.node,xn.before,!1);Ae(ar),o.getBody().focus()}}}}),o.on("keypress",function(Dn){Pr.modifierPressed(Dn)||ab(s.getNode())&&Dn.preventDefault()}),o.on("GetSelectionRange",function(Dn){var Vn=Dn.range;if(V){if(!V.parentNode){V=null;return}Vn=Vn.cloneRange(),Vn.selectNode(V),Dn.range=Vn}}),o.on("SetSelectionRange",function(Dn){Dn.range=xt(Dn.range);var Vn=Xt(Dn.range,Dn.forward);Vn&&(Dn.range=Vn)});var Jn=function(Dn){return Dn.id==="mcepastebin"};o.on("AfterSetSelectionRange",function(Dn){var Vn=Dn.range,rr=Vn.startContainer.parentNode;!at(Vn)&&!Jn(rr)&&Zn(),Z(rr)||Sn()}),o.on("copy",function(Dn){var Vn=Dn.clipboardData;if(!Dn.isDefaultPrevented()&&Dn.clipboardData&&!Cr.ie){var rr=ve();rr&&(Dn.preventDefault(),Vn.clearData(),Vn.setData("text/html",rr.outerHTML),Vn.setData("text/plain",rr.outerText||rr.innerText))}}),QR(o),TG(o),E8(o)},Xe=function(pn){return El(pn)||Ny(pn)||Ly(pn)},at=function(pn){return Xe(pn.startContainer)||Xe(pn.endContainer)},xt=function(pn){var jr=o.schema.getShortEndedElements(),An=d.createRng(),Jn=pn.startContainer,Dn=pn.startOffset,Vn=pn.endContainer,rr=pn.endOffset;return Vr(jr,Jn.nodeName.toLowerCase())?Dn===0?An.setStartBefore(Jn):An.setStartAfter(Jn):An.setStart(Jn,Dn),Vr(jr,Vn.nodeName.toLowerCase())?rr===0?An.setEndBefore(Vn):An.setEndAfter(Vn):An.setEnd(Vn,rr),An},nt=function(pn,jr,An){var Jn=o.$,Dn=Vv(W.fromDom(o.getBody()),"#"+O).fold(function(){return Jn([])},function(xn){return Jn([xn.dom])});Dn.length===0&&(Dn=Jn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",O),Dn.appendTo(o.getBody()));var Vn=d.createRng();jr===An&&Cr.ie?(Dn.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(jr),Vn.setStartAfter(Dn[0].firstChild.firstChild),Vn.setEndAfter(jr)):(Dn.empty().append(Jl).append(jr).append(Jl),Vn.setStart(Dn[0].firstChild,1),Vn.setEnd(Dn[0].lastChild,0)),Dn.css({top:d.getPos(pn,o.getBody()).y}),Dn[0].focus();var rr=s.getSel();return rr.removeAllRanges(),rr.addRange(Vn),Vn},Mt=function(pn){var jr=pn.cloneNode(!0),An=o.fire("ObjectSelected",{target:pn,targetClone:jr});if(An.isDefaultPrevented())return null;var Jn=nt(pn,An.targetClone,jr),Dn=W.fromDom(pn);return Ct(Il(W.fromDom(o.getBody()),"*[data-mce-selected]"),function(Vn){Hr(Dn,Vn)||Qt(Vn,B)}),d.getAttrib(pn,B)||pn.setAttribute(B,"1"),V=pn,Zn(),Jn},Xt=function(pn,jr){if(!pn)return null;if(pn.collapsed){if(!at(pn)){var An=jr?1:-1,Jn=Qu(An,x,pn),Dn=Jn.getNode(!jr);if(im(Dn))return Ie(An,Dn,jr?!Jn.isAtEnd():!1,!1);var Vn=Jn.getNode(jr);if(im(Vn))return Ie(An,Vn,jr?!1:!Jn.isAtEnd(),!1)}return null}var rr=pn.startContainer,xn=pn.startOffset,ar=pn.endOffset;if(rr.nodeType===3&&xn===0&&ab(rr.parentNode)&&(rr=rr.parentNode,xn=d.nodeIndex(rr),rr=rr.parentNode),rr.nodeType!==1)return null;if(ar===xn+1&&rr===pn.endContainer){var oo=rr.childNodes[xn];if(pe(oo))return Mt(oo)}return null},Sn=function(){V&&V.removeAttribute(B),Vv(W.fromDom(o.getBody()),"#"+O).each(La),V=null},Dr=function(){T.destroy(),V=null},Zn=function(){T.hide()};return Cr.ceFalse&&!av(o)&&Qe(),{showCaret:Ie,showBlockCaretContainer:Ne,hideFakeCaret:Zn,destroy:Dr}},vs=function(o){var s=qt.each,d=Pr.BACKSPACE,m=Pr.DELETE,x=o.dom,T=o.selection,O=o.parser,B=Cr.gecko,V=Cr.ie,Z=Cr.webkit,pe="data:text/mce-internal,",ge=V?"Text":"URL",ve=function(yn,zt){try{o.getDoc().execCommand(yn,!1,zt)}catch{}},Ae=function(yn){return yn.isDefaultPrevented()},De=function(yn){var zt,Cn;yn.dataTransfer&&(o.selection.isCollapsed()&&yn.target.tagName==="IMG"&&T.select(yn.target),zt=o.selection.getContent(),zt.length>0&&(Cn=pe+escape(o.id)+","+escape(zt),yn.dataTransfer.setData(ge,Cn)))},Ie=function(yn){var zt;return yn.dataTransfer&&(zt=yn.dataTransfer.getData(ge),zt&&zt.indexOf(pe)>=0)?(zt=zt.substr(pe.length).split(","),{id:unescape(zt[0]),html:unescape(zt[1])}):null},Ne=function(yn,zt){o.queryCommandSupported("mceInsertClipboardContent")?o.execCommand("mceInsertClipboardContent",!1,{content:yn,internal:zt}):o.execCommand("mceInsertContent",!1,yn)},Qe=function(){var yn=function(Cn){var Ht=x.create("body"),fr=Cn.cloneContents();return Ht.appendChild(fr),T.serializer.serialize(Ht,{format:"html"})},zt=function(Cn){var Ht=yn(Cn),fr=x.createRng();fr.selectNode(o.getBody());var Fn=yn(fr);return Ht===Fn};o.on("keydown",function(Cn){var Ht=Cn.keyCode,fr,Fn;if(!Ae(Cn)&&(Ht===m||Ht===d)){if(fr=o.selection.isCollapsed(),Fn=o.getBody(),fr&&!x.isEmpty(Fn)||!fr&&!zt(o.selection.getRng()))return;Cn.preventDefault(),o.setContent(""),Fn.firstChild&&x.isBlock(Fn.firstChild)?o.selection.setCursorLocation(Fn.firstChild,0):o.selection.setCursorLocation(Fn,0),o.nodeChanged()}})},Xe=function(){o.shortcuts.add("meta+a",null,"SelectAll")},at=function(){o.inline||x.bind(o.getDoc(),"mousedown mouseup",function(yn){var zt;if(yn.target===o.getDoc().documentElement)if(zt=T.getRng(),o.getBody().focus(),yn.type==="mousedown"){if(El(zt.startContainer))return;T.placeCaretAt(yn.clientX,yn.clientY)}else T.setRng(zt)})},xt=function(){o.on("keydown",function(yn){if(!Ae(yn)&&yn.keyCode===d){if(!o.getBody().getElementsByTagName("hr").length)return;if(T.isCollapsed()&&T.getRng().startOffset===0){var zt=T.getNode(),Cn=zt.previousSibling;if(zt.nodeName==="HR"){x.remove(zt),yn.preventDefault();return}Cn&&Cn.nodeName&&Cn.nodeName.toLowerCase()==="hr"&&(x.remove(Cn),yn.preventDefault())}}})},nt=function(){Range.prototype.getClientRects||o.on("mousedown",function(yn){if(!Ae(yn)&&yn.target.nodeName==="HTML"){var zt=o.getBody();zt.blur(),ks.setEditorTimeout(o,function(){zt.focus()})}})},Mt=function(){o.on("click",function(yn){var zt=yn.target;/^(IMG|HR)$/.test(zt.nodeName)&&x.getContentEditableParent(zt)!=="false"&&(yn.preventDefault(),o.selection.select(zt),o.nodeChanged()),zt.nodeName==="A"&&x.hasClass(zt,"mce-item-anchor")&&(yn.preventDefault(),T.select(zt))})},Xt=function(){var yn=function(){var Cn=x.getAttribs(T.getStart().cloneNode(!1));return function(){var Ht=T.getStart();Ht!==o.getBody()&&(x.setAttrib(Ht,"style",null),s(Cn,function(fr){Ht.setAttributeNode(fr.cloneNode(!0))}))}},zt=function(){return!T.isCollapsed()&&x.getParent(T.getStart(),x.isBlock)!==x.getParent(T.getEnd(),x.isBlock)};o.on("keypress",function(Cn){var Ht;if(!Ae(Cn)&&(Cn.keyCode===8||Cn.keyCode===46)&&zt())return Ht=yn(),o.getDoc().execCommand("delete",!1,null),Ht(),Cn.preventDefault(),!1}),x.bind(o.getDoc(),"cut",function(Cn){var Ht;!Ae(Cn)&&zt()&&(Ht=yn(),ks.setEditorTimeout(o,function(){Ht()}))})},Sn=function(){o.on("keydown",function(yn){if(!Ae(yn)&&yn.keyCode===d&&T.isCollapsed()&&T.getRng().startOffset===0){var zt=T.getNode().previousSibling;if(zt&&zt.nodeName&&zt.nodeName.toLowerCase()==="table")return yn.preventDefault(),!1}})},Dr=function(){o.on("keydown",function(yn){var zt,Cn;if(!(Ae(yn)||yn.keyCode!==Pr.BACKSPACE)){zt=T.getRng();var Ht=zt.startContainer,fr=zt.startOffset,Fn=x.getRoot();if(Cn=Ht,!(!zt.collapsed||fr!==0)){for(;Cn&&Cn.parentNode&&Cn.parentNode.firstChild===Cn&&Cn.parentNode!==Fn;)Cn=Cn.parentNode;Cn.tagName==="BLOCKQUOTE"&&(o.formatter.toggle("blockquote",null,Cn),zt=x.createRng(),zt.setStart(Ht,0),zt.setEnd(Ht,0),T.setRng(zt))}}})},Zn=function(){var yn=function(){ve("StyleWithCSS",!1),ve("enableInlineTableEditing",!1),Tf(o)||ve("enableObjectResizing",!1)};e1(o)||o.on("BeforeExecCommand mousedown",yn)},pn=function(){var yn=function(){s(x.select("a"),function(zt){var Cn=zt.parentNode,Ht=x.getRoot();if(Cn.lastChild===zt){for(;Cn&&!x.isBlock(Cn);){if(Cn.parentNode.lastChild!==Cn||Cn===Ht)return;Cn=Cn.parentNode}x.add(Cn,"br",{"data-mce-bogus":1})}})};o.on("SetContent ExecCommand",function(zt){(zt.type==="setcontent"||zt.command==="mceInsertLink")&&yn()})},jr=function(){hs(o)&&o.on("init",function(){ve("DefaultParagraphSeparator",hs(o))})},An=function(){o.on("keyup focusin mouseup",function(yn){Pr.modifierPressed(yn)||T.normalize()},!0)},Jn=function(){o.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Dn=function(){o.inline||o.on("keydown",function(){document.activeElement===document.body&&o.getWin().focus()})},Vn=function(){o.inline||(o.contentStyles.push("body {min-height: 150px}"),o.on("click",function(yn){var zt;if(yn.target.nodeName==="HTML"){if(Cr.ie>11){o.getBody().focus();return}zt=o.selection.getRng(),o.getBody().focus(),o.selection.setRng(zt),o.selection.normalize(),o.nodeChanged()}}))},rr=function(){Cr.mac&&o.on("keydown",function(yn){if(Pr.metaKeyPressed(yn)&&!yn.shiftKey&&(yn.keyCode===37||yn.keyCode===39)){yn.preventDefault();var zt=o.selection.getSel();zt.modify("move",yn.keyCode===37?"backward":"forward","lineboundary")}})},xn=function(){ve("AutoUrlDetect",!1)},ar=function(){o.on("click",function(yn){var zt=yn.target;do if(zt.tagName==="A"){yn.preventDefault();return}while(zt=zt.parentNode)}),o.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},oo=function(){o.on("init",function(){o.dom.bind(o.getBody(),"submit",function(yn){yn.preventDefault()})})},xi=function(){O.addNodeFilter("br",function(yn){for(var zt=yn.length;zt--;)yn[zt].attr("class")==="Apple-interchange-newline"&&yn[zt].remove()})},Uo=function(){o.on("dragstart",function(yn){De(yn)}),o.on("drop",function(yn){if(!Ae(yn)){var zt=Ie(yn);if(zt&&zt.id!==o.id){yn.preventDefault();var Cn=GS(yn.x,yn.y,o.getDoc());T.setRng(Cn),Ne(zt.html,!0)}}})},mu=le,ku=function(){if(!B||o.removed)return!1;var yn=o.selection.getSel();return!yn||!yn.rangeCount||yn.rangeCount===0},Oc=function(){Z&&(at(),Mt(),oo(),Xe(),Cr.iOS&&(Dn(),Vn(),ar())),B&&(nt(),Zn(),Jn(),rr())},ef=function(){Dr(),Qe(),Cr.windowsPhone||An(),Z&&(at(),Mt(),jr(),oo(),Sn(),xi(),Cr.iOS?(Dn(),Vn(),ar()):Xe()),Cr.ie>=11&&(Vn(),Sn()),Cr.ie&&(Xe(),xn(),Uo()),B&&(xt(),nt(),Xt(),Zn(),pn(),Jn(),rr(),Sn())};return av(o)?Oc():ef(),{refreshContentEditable:mu,isHidden:ku}},ZR=na.DOM,kG=function(o,s){var d=W.fromDom(o.getBody()),m=Na(ol(d)),x=W.fromTag("style");J(x,"type","text/css"),xu(x,W.fromText(s)),xu(m,x),o.on("remove",function(){La(x)})},DG=function(o){return o.inline?o.getElement().nodeName.toLowerCase():void 0},eP=function(o){return Kn(o,function(s){return X(s)===!1})},ME=function(o){var s=o.settings,d=o.editorUpload.blobCache;return eP({allow_conditional_comments:s.allow_conditional_comments,allow_html_data_urls:s.allow_html_data_urls,allow_svg_data_urls:s.allow_svg_data_urls,allow_html_in_named_anchor:s.allow_html_in_named_anchor,allow_script_urls:s.allow_script_urls,allow_unsafe_link_target:s.allow_unsafe_link_target,convert_fonts_to_spans:s.convert_fonts_to_spans,fix_list_elements:s.fix_list_elements,font_size_legacy_values:s.font_size_legacy_values,forced_root_block:s.forced_root_block,forced_root_block_attrs:s.forced_root_block_attrs,padd_empty_with_br:s.padd_empty_with_br,preserve_cdata:s.preserve_cdata,remove_trailing_brs:s.remove_trailing_brs,inline_styles:s.inline_styles,root_name:DG(o),validate:!0,blob_cache:d,document:o.getDoc(),images_dataimg_filter:s.images_dataimg_filter})},AG=function(o){var s=o.settings;return dr(dr({},ME(o)),eP({url_converter:s.url_converter,url_converter_scope:s.url_converter_scope,element_format:s.element_format,entities:s.entities,entity_encoding:s.entity_encoding,indent:s.indent,indent_after:s.indent_after,indent_before:s.indent_before,block_elements:s.block_elements,boolean_attributes:s.boolean_attributes,custom_elements:s.custom_elements,extended_valid_elements:s.extended_valid_elements,invalid_elements:s.invalid_elements,invalid_styles:s.invalid_styles,move_caret_before_on_enter_elements:s.move_caret_before_on_enter_elements,non_empty_elements:s.non_empty_elements,schema:s.schema,self_closing_elements:s.self_closing_elements,short_ended_elements:s.short_ended_elements,special:s.special,text_block_elements:s.text_block_elements,text_inline_elements:s.text_inline_elements,valid_children:s.valid_children,valid_classes:s.valid_classes,valid_elements:s.valid_elements,valid_styles:s.valid_styles,verify_html:s.verify_html,whitespace_elements:s.whitespace_elements}))},I8=function(o){var s=jI(ME(o),o.schema);return s.addAttributeFilter("src,href,style,tabindex",function(d,m){for(var x=d.length,T,O,B=o.dom,V="data-mce-"+m;x--;)if(T=d[x],O=T.attr(m),O&&!T.attr(V)){if(O.indexOf("data:")===0||O.indexOf("blob:")===0)continue;m==="style"?(O=B.serializeStyle(B.parseStyle(O),T.name),O.length||(O=null),T.attr(V,O),T.attr(m,O)):m==="tabindex"?(T.attr(V,O),T.attr(m,null)):T.attr(V,o.convertURL(O,m,T.name))}}),s.addNodeFilter("script",function(d){for(var m=d.length;m--;){var x=d[m],T=x.attr("type")||"no/type";T.indexOf("mce-")!==0&&x.attr("type","mce-"+T)}}),o.settings.preserve_cdata&&s.addNodeFilter("#cdata",function(d){for(var m=d.length;m--;){var x=d[m];x.type=8,x.name="#comment",x.value="[CDATA["+o.dom.encode(x.value)+"]]"}}),s.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(d){for(var m=d.length,x=o.schema.getNonEmptyElements();m--;){var T=d[m];T.isEmpty(x)&&T.getAll("br").length===0&&(T.append(new Xc("br",1)).shortEnded=!0)}}),s},EG=function(o){o.settings.auto_focus&&ks.setEditorTimeout(o,function(){var s;o.settings.auto_focus===!0?s=o:s=o.editorManager.get(o.settings.auto_focus),s.destroyed||s.focus()},100)},OG=function(o){var s=o.dom.getRoot();!o.inline&&(!Gc(o)||o.selection.getStart(!0)===s)&&pl(s).each(function(d){var m=d.getNode(),x=eu(m)?pl(m).getOr(d):d;Cr.browser.isIE()?LD(o,x.toRange()):o.selection.setRng(x.toRange())})},IG=function(o){o.bindPendingEventDelegates(),o.initialized=!0,th(o),o.focus(!0),OG(o),o.nodeChanged({initial:!0}),o.execCallback("init_instance_callback",o),EG(o)},R8=function(o){return o.inline?o.ui.styleSheetLoader:o.dom.styleSheetLoader},RG=function(o,s,d){var m=[new Wu(function(x,T){return R8(o).loadAll(s,x,T)})];return o.inline?m:m.concat([new Wu(function(x,T){return o.ui.styleSheetLoader.loadAll(d,x,T)})])},P8=function(o){var s=R8(o),d=Wx(o),m=o.contentCSS,x=function(){s.unloadAll(m),o.inline||o.ui.styleSheetLoader.unloadAll(d)},T=function(){o.removed?x():o.on("remove",x)};if(o.contentStyles.length>0){var O="";qt.each(o.contentStyles,function(V){O+=V+`\r
`}),o.dom.addStyle(O)}var B=Wu.all(RG(o,m,d)).then(T).catch(T);return o.settings.content_style&&kG(o,o.settings.content_style),B},PG=function(o){var s=o.settings,d=o.getDoc(),m=o.getBody();jS(o),!s.browser_spellcheck&&!s.gecko_spellcheck&&(d.body.spellcheck=!1,ZR.setAttrib(m,"spellcheck","false")),o.quirks=vs(o),Ti(o);var x=Mk(o);x!==void 0&&(m.dir=x),s.protect&&o.on("BeforeSetContent",function(T){qt.each(s.protect,function(O){T.content=T.content.replace(O,function(B){return"<!--mce:protected "+escape(B)+"-->"})})}),o.on("SetContent",function(){o.addVisual(o.getBody())}),o.on("compositionstart compositionend",function(T){o.composing=T.type==="compositionstart"})},NG=function(o){av(o)||o.load({initial:!0,format:"html"}),o.startContent=o.getContent({format:"raw"})},tP=function(o){o.removed!==!0&&(NG(o),IG(o))},nP=function(o,s){var d=o.settings,m=o.getElement(),x=o.getDoc();d.inline||(o.getElement().style.visibility=o.orgVisibility),!s&&!o.inline&&(x.open(),x.write(o.iframeHTML),x.close()),o.inline&&(ZR.addClass(m,"mce-content-body"),o.contentDocument=x=document,o.contentWindow=window,o.bodyElement=m,o.contentAreaContainer=m);var T=o.getBody();T.disabled=!0,o.readonly=!!d.readonly,o.readonly||(o.inline&&ZR.getStyle(T,"position",!0)==="static"&&(T.style.position="relative"),T.contentEditable=o.getParam("content_editable_state",!0)),T.disabled=!1,o.editorUpload=KB(o),o.schema=Mo(d),o.dom=na(x,{keep_values:!0,url_converter:o.convertURL,url_converter_scope:o,hex_colors:d.force_hex_style_colors,update_styles:!0,root_element:o.inline?o.getBody():null,collect:function(){return o.inline},schema:o.schema,contentCssCors:om(o),referrerPolicy:Tk(o),onSetAttrib:function(V){o.fire("SetAttrib",V)}}),o.parser=I8(o),o.serializer=DB(AG(o),o),o.selection=LI(o.dom,o.getWin(),o.serializer,o),o.annotator=pd(o),o.formatter=ZB(o),o.undoManager=ou(o),o._nodeChangeDispatcher=new oG(o),o._selectionOverrides=MG(o),n2(o),w8(o),av(o)||S8(o);var O=rG(o);Pq(o,O),zq(o),wW(o);var B=Q6(o);PG(o),B.fold(function(){P8(o).then(function(){return tP(o)})},function(V){o.setProgressState(!0),P8(o).then(function(){V().then(function(Z){o.setProgressState(!1),tP(o)},function(Z){o.notificationManager.open({type:"error",text:String(Z)}),tP(o)})})})},hT=na.DOM,LG=function(o,s){if(document.domain!==window.location.hostname&&Cr.browser.isIE()){var d=$1("mce");o[d]=function(){nP(o)};var m='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+o.id+'");document.write(ed.iframeHTML);document.close();ed.'+d+"(true);})()";return hT.setAttrib(s,"src",m),!0}return!1},BG=function(o,s,d,m){var x=W.fromTag("iframe");return me(x,m),me(x,{id:o+"_ifr",frameBorder:"0",allowTransparency:"true",title:s}),i0(x,"tox-edit-area__iframe"),x},N8=function(o){var s=zx(o)+"<html><head>";fO(o)!==o.documentBaseUrl&&(s+='<base href="'+o.documentBaseURI.getURI()+'" />'),s+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var d=wk(o),m=uS(o),x=o.translate(DO(o));return _k(o)&&(s+='<meta http-equiv="Content-Security-Policy" content="'+_k(o)+'" />'),s+="</head>"+('<body id="'+d+'" class="mce-content-body '+m+'" data-id="'+o.id+'" aria-label="'+x+'">')+"<br></body></html>",s},zG=function(o,s){var d=o.translate("Rich Text Area"),m=BG(o.id,d,s.height,Bx(o)).dom;m.onload=function(){m.onload=null,o.fire("load")};var x=LG(o,m);return o.contentAreaContainer=s.iframeContainer,o.iframeElement=m,o.iframeHTML=N8(o),hT.add(s.iframeContainer,m),x},FG=function(o,s){var d=zG(o,s);s.editorContainer&&(hT.get(s.editorContainer).style.display=o.orgDisplay,o.hidden=hT.isHidden(s.editorContainer)),o.getElement().style.display="none",hT.setAttrib(o.id,"aria-hidden","true"),d||nP(o)},L8=na.DOM,B8=function(o,s,d){var m=Jc.get(d),x=Jc.urls[d]||o.documentBaseUrl.replace(/\/$/,"");if(d=qt.trim(d),m&&qt.inArray(s,d)===-1){if(qt.each(Jc.dependencies(d),function(O){B8(o,s,O)}),o.plugins[d])return;try{var T=new m(o,x,o.$);o.plugins[d]=T,T.init&&(T.init(o,x),s.push(d))}catch(O){UB(o,d,O)}}},rP=function(o){return o.replace(/^\-/,"")},HG=function(o){var s=[];qt.each(pS(o).split(/[ ,]/),function(d){B8(o,s,rP(d))})},z8=function(o){var s=qt.trim(Vx(o)),d=o.ui.registry.getAll().icons,m=dr(dr({},VA.get("default").icons),VA.get(s).icons);wn(m,function(x,T){Vr(d,T)||o.ui.registry.addIcon(T,x)})},F8=function(o){var s=Og(o);if(R(s)){o.settings.theme=rP(s);var d=Pf.get(s);o.theme=new d(o,Pf.urls[s]),o.theme.init&&o.theme.init(o,Pf.urls[s]||o.documentBaseUrl.replace(/\/$/,""),o.$)}else o.theme={}},H8=function(o){return o.theme.renderUI()},VG=function(o){var s=o.getElement(),d=Og(o),m=d(o,s);return m.editorContainer.nodeType&&(m.editorContainer.id=m.editorContainer.id||o.id+"_parent"),m.iframeContainer&&m.iframeContainer.nodeType&&(m.iframeContainer.id=m.iframeContainer.id||o.id+"_iframecontainer"),m.height=m.iframeHeight?m.iframeHeight:s.offsetHeight,m},V8=function(o){return{editorContainer:o,iframeContainer:o,api:{}}},jG=function(o){var s=L8.create("div");return L8.insertAfter(s,o),V8(s)},j8=function(o){var s=o.getElement();return o.inline?V8(null):jG(s)},UG=function(o){var s=o.getElement();return o.orgDisplay=s.style.display,R(Og(o))?H8(o):te(Og(o))?VG(o):j8(o)},WG=function(o,s){var d={show:fe.from(s.show).getOr(le),hide:fe.from(s.hide).getOr(le),disable:fe.from(s.disable).getOr(le),isDisabled:fe.from(s.isDisabled).getOr(Ge),enable:function(){o.mode.isReadOnly()||fe.from(s.enable).map(We)}};o.ui=dr(dr({},o.ui),d)},oP=function(o){o.fire("ScriptsLoaded"),z8(o),F8(o),HG(o);var s=UG(o);WG(o,fe.from(s.api).getOr({}));var d={editorContainer:s.editorContainer,iframeContainer:s.iframeContainer};return o.editorContainer=d.editorContainer?d.editorContainer:null,YI(o),o.inline?nP(o):FG(o,d)},ub=na.DOM,U8=function(o){return o.charAt(0)==="-"},W8=function(o,s){var d=Zy(s),m=lS(s);if(_o.hasCode(d)===!1&&d!=="en"){var x=m!==""?m:s.editorManager.baseURL+"/langs/"+d+".js";o.add(x,le,void 0,function(){lW(s,x,d)})}},qG=function(o,s,d,m){var x=Og(s);if(R(x)){if(!U8(x)&&!Vr(Pf.urls,x)){var T=Ig(s);T?Pf.load(x,s.documentBaseURI.toAbsolute(T)):Pf.load(x,"themes/"+x+"/theme"+d+".js")}o.loadQueue(function(){Pf.waitFor(x,m)})}else m()},$G=function(o){return fe.from(pO(o)).filter(function(s){return s.length>0}).map(function(s){return{url:s,name:fe.none()}})},q8=function(o,s,d){return fe.from(s).filter(function(m){return m.length>0&&!VA.has(m)}).map(function(m){return{url:o.editorManager.baseURL+"/icons/"+m+"/icons"+d+".js",name:fe.some(m)}})},$8=function(o,s,d){var m=q8(s,"default",d),x=$G(s).orThunk(function(){return q8(s,Vx(s),"")});Ct(yo([m,x]),function(T){o.add(T.url,le,void 0,function(){jB(s,T.url,T.name.getOrUndefined())})})},G8=function(o,s){qt.each(MO(o),function(d,m){Jc.load(m,d,le,void 0,function(){WA(o,d,m)}),o.settings.plugins+=" "+m}),qt.each(pS(o).split(/[ ,]/),function(d){if(d=qt.trim(d),d&&!Jc.urls[d])if(U8(d)){d=d.substr(1,d.length);var m=Jc.dependencies(d);qt.each(m,function(T){var O={prefix:"plugins/",resource:T,suffix:"/plugin"+s+".js"},B=Jc.createUrl(O,T);Jc.load(B.resource,B,le,void 0,function(){WA(o,B.prefix+B.resource+B.suffix,B.resource)})})}else{var x={prefix:"plugins/",resource:d,suffix:"/plugin"+s+".js"};Jc.load(d,x,le,void 0,function(){WA(o,x.prefix+x.resource+x.suffix,d)})}})},GG=function(o,s){var d=Gd.ScriptLoader;qG(d,o,s,function(){W8(d,o),$8(d,o,s),G8(o,s),d.loadQueue(function(){o.removed||oP(o)},o,function(){o.removed||oP(o)})})},XG=function(o,s){return gf.forElement(o,{contentCssCors:TO(s),referrerPolicy:Tk(s)})},YG=function(o){var s=o.id;_o.setCode(Zy(o));var d=function(){ub.unbind(window,"ready",d),o.render()};if(!Hp.Event.domLoaded){ub.bind(window,"ready",d);return}if(o.getElement()&&Cr.contentEditable){var m=W.fromDom(o.getElement()),x=vr(m);o.on("remove",function(){Rt(m.dom.attributes,function(O){return Qt(m,O.name)}),me(m,x)}),o.ui.styleSheetLoader=XG(m,o),dS(o)?o.inline=!0:(o.orgVisibility=o.getElement().style.visibility,o.getElement().style.visibility="hidden");var T=o.getElement().form||ub.getParent(s,"form");T&&(o.formElement=T,Dk(o)&&!us(o.getElement())&&(ub.insertAfter(ub.create("input",{type:"hidden",name:s}),s),o.hasHiddenInput=!0),o.formEventDelegate=function(O){o.fire(O.type,O)},ub.bind(T,"submit reset",o.formEventDelegate),o.on("reset",function(){o.resetContent()}),_O(o)&&!T.submit.nodeType&&!T.submit.length&&!T._mceOldSubmit&&(T._mceOldSubmit=T.submit,T.submit=function(){return o.editorManager.triggerSave(),o.setDirty(!1),T._mceOldSubmit(T)})),o.windowManager=Gw(o),o.notificationManager=Kc(o),Ak(o)&&o.on("GetContent",function(O){O.save&&(O.content=ub.encode(O.content))}),Ek(o)&&o.on("submit",function(){o.initialized&&o.save()}),hS(o)&&(o._beforeUnload=function(){o.initialized&&!o.destroyed&&!o.isHidden()&&o.save({format:"raw",no_events:!0,set_dirty:!1})},o.editorManager.on("BeforeUnload",o._beforeUnload)),o.editorManager.add(o),GG(o,o.suffix)}},KG=function(o,s){return sB(o,s)},JG={"font-size":"size","font-family":"face"},QG=function(o,s,d){var m=function(T){return ss(T,o).orThunk(function(){return ni(T)==="font"?Br(JG,o).bind(function(O){return Fe(T,O)}):fe.none()})},x=function(T){return Hr(W.fromDom(s),T)};return G4(W.fromDom(d),function(T){return m(T)},x)},ZG=function(o){return o.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},eX=function(o,s){return fe.from(na.DOM.getStyle(s,o,!0))},X8=function(o){return function(s,d){return fe.from(d).map(W.fromDom).filter(ua).bind(function(m){return QG(o,s,m.dom).or(eX(o,m.dom))}).getOr("")}},tX=X8("font-size"),kE=ce(ZG,X8("font-family")),Y8=function(o){return pl(o.getBody()).map(function(s){var d=s.container();return or(d)?d.parentNode:d})},K8=function(o){return fe.from(o.selection.getRng()).bind(function(s){var d=o.getBody(),m=s.startContainer===d&&s.startOffset===0;return m?fe.none():fe.from(o.selection.getStart(!0))})},nX=function(o,s){return K8(o).orThunk(ke(Y8,o)).map(W.fromDom).filter(ua).bind(s)},DE=function(o,s){return nX(o,ne(fe.some,s))},iP=function(o,s){if(/^[0-9.]+$/.test(s)){var d=parseInt(s,10);if(d>=1&&d<=7){var m=hO(o),x=Jy(o);return x?x[d-1]||s:m[d-1]||s}else return s}else return s},rX=function(o){var s=o.split(/\s*,\s*/);return Ft(s,function(d){return d.indexOf(" ")!==-1&&!(he(d,'"')||he(d,"'"))?"'"+d+"'":d}).join(",")},oX=function(o,s){var d=iP(o,s);o.formatter.toggle("fontname",{value:rX(d)}),o.nodeChanged()},iX=function(o){return DE(o,function(s){return kE(o.getBody(),s.dom)}).getOr("")},aP=function(o,s){o.formatter.toggle("fontsize",{value:iP(o,s)}),o.nodeChanged()},aX=function(o){return DE(o,function(s){return tX(o.getBody(),s.dom)}).getOr("")},uP=function(o){return DE(o,function(s){var d=W.fromDom(o.getBody()),m=G4(s,function(T){return ss(T,"line-height")},ke(Hr,d)),x=function(){var T=parseFloat(bo(s,"line-height")),O=parseFloat(bo(s,"font-size"));return String(T/O)};return m.getOrThunk(x)}).getOr("")},uX=function(o,s){o.formatter.toggle("lineheight",{value:String(s)}),o.nodeChanged()},sX=function(o){if(typeof o!="string"){var s=qt.extend({paste:o.paste,data:{paste:o.paste}},o);return{content:o.content,details:s}}return{content:o,details:{}}},lX=function(o,s){var d=sX(s);uB(o,d.content,d.details)},pT=qt.each,cX=qt.map,fX=qt.inArray,J8=function(){function o(s){this.commands={state:{},exec:{},value:{}},this.editor=s,this.setupCommands(s)}return o.prototype.execCommand=function(s,d,m,x){var T,O=!1,B=this;if(!B.editor.removed){if(s.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(s)&&(!x||!x.skip_focus)?B.editor.focus():m4(B.editor)),x=B.editor.fire("BeforeExecCommand",{command:s,ui:d,value:m}),x.isDefaultPrevented())return!1;var V=s.toLowerCase();if(T=B.commands.exec[V])return T(V,d,m),B.editor.fire("ExecCommand",{command:s,ui:d,value:m}),!0;if(pT(this.editor.plugins,function(Z){if(Z.execCommand&&Z.execCommand(s,d,m))return B.editor.fire("ExecCommand",{command:s,ui:d,value:m}),O=!0,!1}),O)return O;if(B.editor.theme&&B.editor.theme.execCommand&&B.editor.theme.execCommand(s,d,m))return B.editor.fire("ExecCommand",{command:s,ui:d,value:m}),!0;try{O=B.editor.getDoc().execCommand(s,d,m)}catch{}return O?(B.editor.fire("ExecCommand",{command:s,ui:d,value:m}),!0):!1}},o.prototype.queryCommandState=function(s){var d;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(s=s.toLowerCase(),d=this.commands.state[s])return d(s);try{return this.editor.getDoc().queryCommandState(s)}catch{}return!1}},o.prototype.queryCommandValue=function(s){var d;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(s=s.toLowerCase(),d=this.commands.value[s])return d(s);try{return this.editor.getDoc().queryCommandValue(s)}catch{}}},o.prototype.addCommands=function(s,d){d===void 0&&(d="exec");var m=this;pT(s,function(x,T){pT(T.toLowerCase().split(","),function(O){m.commands[d][O]=x})})},o.prototype.addCommand=function(s,d,m){var x=this;s=s.toLowerCase(),this.commands.exec[s]=function(T,O,B,V){return d.call(m||x.editor,O,B,V)}},o.prototype.queryCommandSupported=function(s){if(s=s.toLowerCase(),this.commands.exec[s])return!0;try{return this.editor.getDoc().queryCommandSupported(s)}catch{}return!1},o.prototype.addQueryStateHandler=function(s,d,m){var x=this;s=s.toLowerCase(),this.commands.state[s]=function(){return d.call(m||x.editor)}},o.prototype.addQueryValueHandler=function(s,d,m){var x=this;s=s.toLowerCase(),this.commands.value[s]=function(){return d.call(m||x.editor)}},o.prototype.hasCustomCommand=function(s){return s=s.toLowerCase(),!!this.commands.exec[s]},o.prototype.execNativeCommand=function(s,d,m){return d===void 0&&(d=!1),m===void 0&&(m=null),this.editor.getDoc().execCommand(s,d,m)},o.prototype.isFormatMatch=function(s){return this.editor.formatter.match(s)},o.prototype.toggleFormat=function(s,d){this.editor.formatter.toggle(s,d),this.editor.nodeChanged()},o.prototype.storeSelection=function(s){this.selectionBookmark=this.editor.selection.getBookmark(s)},o.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},o.prototype.setupCommands=function(s){var d=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":le,"mceEndUndoLevel,mceAddUndoLevel":function(){s.undoManager.add()},mceFocus:function(x,T,O){UD(s,O)},"Cut,Copy,Paste":function(x){var T=s.getDoc(),O;try{d.execNativeCommand(x)}catch{O=!0}if(x==="paste"&&!T.queryCommandEnabled(x)&&(O=!0),O||!T.queryCommandSupported(x)){var B=s.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Cr.mac&&(B=B.replace(/Ctrl\+/g,"+")),s.notificationManager.open({text:B,type:"error"})}},unlink:function(){if(s.selection.isCollapsed()){var x=s.dom.getParent(s.selection.getStart(),"a");x&&s.dom.remove(x,!0);return}s.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(x){var T=x.substring(7);T==="full"&&(T="justify"),pT("left,center,right,justify".split(","),function(O){T!==O&&s.formatter.remove("align"+O)}),T!=="none"&&d.toggleFormat("align"+T)},"InsertUnorderedList,InsertOrderedList":function(x){var T;d.execNativeCommand(x);var O=s.dom.getParent(s.selection.getNode(),"ol,ul");O&&(T=O.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(T.nodeName)&&(d.storeSelection(),s.dom.split(T,O),d.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(x){d.toggleFormat(x)},"ForeColor,HiliteColor":function(x,T,O){d.toggleFormat(x,{value:O})},FontName:function(x,T,O){oX(s,O)},FontSize:function(x,T,O){aP(s,O)},LineHeight:function(x,T,O){uX(s,O)},Lang:function(x,T,O){d.toggleFormat(x,{value:O.code,customValue:O.customCode})},RemoveFormat:function(x){s.formatter.remove(x)},mceBlockQuote:function(){d.toggleFormat("blockquote")},FormatBlock:function(x,T,O){return d.toggleFormat(O||"p")},mceCleanup:function(){var x=s.selection.getBookmark();s.setContent(s.getContent()),s.selection.moveToBookmark(x)},mceRemoveNode:function(x,T,O){var B=O||s.selection.getNode();B!==s.getBody()&&(d.storeSelection(),s.dom.remove(B,!0),d.restoreSelection())},mceSelectNodeDepth:function(x,T,O){var B=0;s.dom.getParent(s.selection.getNode(),function(V){if(V.nodeType===1&&B++===O)return s.selection.select(V),!1},s.getBody())},mceSelectNode:function(x,T,O){s.selection.select(O)},mceInsertContent:function(x,T,O){lX(s,O)},mceInsertRawHTML:function(x,T,O){s.selection.setContent("tiny_mce_marker");var B=s.getContent();s.setContent(B.replace(/tiny_mce_marker/g,function(){return O}))},mceInsertNewLine:function(x,T,O){p8(s,O)},mceToggleFormat:function(x,T,O){d.toggleFormat(O)},mceSetContent:function(x,T,O){s.setContent(O)},"Indent,Outdent":function(x){gE(s,x)},mceRepaint:le,InsertHorizontalRule:function(){s.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){s.hasVisual=!s.hasVisual,s.addVisual()},mceReplaceContent:function(x,T,O){s.execCommand("mceInsertContent",!1,O.replace(/\{\$selection\}/g,s.selection.getContent({format:"text"})))},mceInsertLink:function(x,T,O){typeof O=="string"&&(O={href:O});var B=s.dom.getParent(s.selection.getNode(),"a");O.href=O.href.replace(/ /g,"%20"),(!B||!O.href)&&s.formatter.remove("link"),O.href&&s.formatter.apply("link",O,B)},selectAll:function(){var x=s.dom.getParent(s.selection.getStart(),pf);if(x){var T=s.dom.createRng();T.selectNodeContents(x),s.selection.setRng(T)}},mceNewDocument:function(){s.setContent("")},InsertLineBreak:function(x,T,O){return Ys(s,O),!0}});var m=function(x){return function(){var T=s.selection,O=T.isCollapsed()?[s.dom.getParent(T.getNode(),s.dom.isBlock)]:T.getSelectedBlocks(),B=cX(O,function(V){return!!s.formatter.matchNode(V,x)});return fX(B,!0)!==-1}};d.addCommands({JustifyLeft:m("alignleft"),JustifyCenter:m("aligncenter"),JustifyRight:m("alignright"),JustifyFull:m("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(x){return d.isFormatMatch(x)},mceBlockQuote:function(){return d.isFormatMatch("blockquote")},Outdent:function(){return Fz(s)},"InsertUnorderedList,InsertOrderedList":function(x){var T=s.dom.getParent(s.selection.getNode(),"ul,ol");return T&&(x==="insertunorderedlist"&&T.tagName==="UL"||x==="insertorderedlist"&&T.tagName==="OL")}},"state"),d.addCommands({Undo:function(){s.undoManager.undo()},Redo:function(){s.undoManager.redo()}}),d.addQueryValueHandler("FontName",function(){return iX(s)},this),d.addQueryValueHandler("FontSize",function(){return aX(s)},this),d.addQueryValueHandler("LineHeight",function(){return uP(s)},this)},o}(),sb="data-mce-contenteditable",dX=function(o,s,d){a0(o,s)&&d===!1?vx(o,s):d&&i0(o,s)},Nl=function(o,s,d){try{o.getDoc().execCommand(s,!1,String(d))}catch{}},km=function(o,s){o.dom.contentEditable=s?"true":"false"},hX=function(o){Ct(Il(o,'*[contenteditable="true"]'),function(s){J(s,sb,"true"),km(s,!1)})},pX=function(o){Ct(Il(o,"*["+sb+'="true"]'),function(s){Qt(s,sb),km(s,!0)})},mX=function(o){fe.from(o.selection.getNode()).each(function(s){s.removeAttribute("data-mce-selected")})},gX=function(o){o.selection.setRng(o.selection.getRng())},vX=function(o,s){var d=W.fromDom(o.getBody());dX(d,"mce-content-readonly",s),s?(o.selection.controlSelection.hideResizeRect(),o._selectionOverrides.hideFakeCaret(),mX(o),o.readonly=!0,km(d,!1),hX(d)):(o.readonly=!1,km(d,!0),pX(d),Nl(o,"StyleWithCSS",!1),Nl(o,"enableInlineTableEditing",!1),Nl(o,"enableObjectResizing",!1),jD(o)&&o.focus(),gX(o),o.nodeChanged())},lb=function(o){return o.readonly},sP=function(o){o.parser.addAttributeFilter("contenteditable",function(s){lb(o)&&Ct(s,function(d){d.attr(sb,d.attr("contenteditable")),d.attr("contenteditable","false")})}),o.serializer.addAttributeFilter(sb,function(s){lb(o)&&Ct(s,function(d){d.attr("contenteditable",d.attr(sb))})}),o.serializer.addTempAttr(sb)},u2=function(o){o.serializer?sP(o):o.on("PreInit",function(){sP(o)})},yX=function(o){return o.type==="click"},bX=function(o,s){var d=function(m){return Hr(m,W.fromDom(o.getBody()))};return $a(s,"a",d).bind(function(m){return Fe(m,"href")})},xX=function(o,s){if(yX(s)&&!Pr.metaKeyPressed(s)){var d=W.fromDom(s.target);bX(o,d).each(function(m){if(s.preventDefault(),/^#/.test(m)){var x=o.dom.select(m+',[name="'+Et(m,"#")+'"]');x.length&&o.selection.scrollIntoView(x[0],!0)}else window.open(m,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},pp=function(o){o.on("ShowCaret",function(s){lb(o)&&s.preventDefault()}),o.on("ObjectSelected",function(s){lb(o)&&s.preventDefault()})},wX=qt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),lP=function(){function o(s){this.bindings={},this.settings=s||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ge}return o.isNative=function(s){return!!wX[s.toLowerCase()]},o.prototype.fire=function(s,d){var m=s.toLowerCase(),x=Hy(m,d||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(x);var T=this.bindings[m];if(T)for(var O=0,B=T.length;O<B;O++){var V=T[O];if(!V.removed){if(V.once&&this.off(m,V.func),x.isImmediatePropagationStopped())return x;if(V.func.call(this.scope,x)===!1)return x.preventDefault(),x}}return x},o.prototype.on=function(s,d,m,x){if(d===!1&&(d=Ge),d){var T={func:d,removed:!1};x&&qt.extend(T,x);for(var O=s.toLowerCase().split(" "),B=O.length;B--;){var V=O[B],Z=this.bindings[V];Z||(Z=[],this.toggleEvent(V,!0)),m?Z=ba([T],Z,!0):Z=ba(ba([],Z,!0),[T],!1),this.bindings[V]=Z}}return this},o.prototype.off=function(s,d){var m=this;if(s)for(var x=s.toLowerCase().split(" "),T=x.length;T--;){var O=x[T],B=this.bindings[O];if(!O)return wn(this.bindings,function(Z,pe){m.toggleEvent(pe,!1),delete m.bindings[pe]}),this;if(B){if(!d)B.length=0;else{var V=ur(B,function(Z){return Z.func===d});B=V.fail,this.bindings[O]=B,Ct(V.pass,function(Z){Z.removed=!0})}B.length||(this.toggleEvent(s,!1),delete this.bindings[O])}}else wn(this.bindings,function(Z,pe){m.toggleEvent(pe,!1)}),this.bindings={};return this},o.prototype.once=function(s,d,m){return this.on(s,d,m,{once:!0})},o.prototype.has=function(s){return s=s.toLowerCase(),!(!this.bindings[s]||this.bindings[s].length===0)},o}(),s2=function(o){return o._eventDispatcher||(o._eventDispatcher=new lP({scope:o,toggleEvent:function(s,d){lP.isNative(s)&&o.toggleNativeEvent&&o.toggleNativeEvent(s,d)}})),o._eventDispatcher},AE={fire:function(o,s,d){var m=this;if(m.removed&&o!=="remove"&&o!=="detach")return s;var x=s2(m).fire(o,s);if(d!==!1&&m.parent)for(var T=m.parent();T&&!x.isPropagationStopped();)T.fire(o,x,!1),T=T.parent();return x},on:function(o,s,d){return s2(this).on(o,s,d)},off:function(o,s){return s2(this).off(o,s)},once:function(o,s){return s2(this).once(o,s)},hasEventListeners:function(o){return s2(this).has(o)}},mT=na.DOM,K0,l2=function(o,s){if(s==="selectionchange")return o.getDoc();if(!o.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(s))return o.getDoc().documentElement;var d=cS(o);return d?(o.eventRoot||(o.eventRoot=mT.select(d)[0]),o.eventRoot):o.getBody()},_X=function(o){return!o.hidden&&!lb(o)},Q8=function(o,s,d){_X(o)?o.fire(s,d):lb(o)&&xX(o,d)},Z8=function(o,s){var d;if(o.delegates||(o.delegates={}),!(o.delegates[s]||o.removed)){var m=l2(o,s);if(cS(o)){if(K0||(K0={},o.editorManager.on("removeEditor",function(){o.editorManager.activeEditor||K0&&(wn(K0,function(x,T){o.dom.unbind(l2(o,T))}),K0=null)})),K0[s])return;d=function(x){for(var T=x.target,O=o.editorManager.get(),B=O.length;B--;){var V=O[B].getBody();(V===T||mT.isChildOf(T,V))&&Q8(O[B],s,x)}},K0[s]=d,mT.bind(m,s,d)}else d=function(x){Q8(o,s,x)},mT.bind(m,s,d),o.delegates[s]=d}},e7=dr(dr({},AE),{bindPendingEventDelegates:function(){var o=this;qt.each(o._pendingNativeEvents,function(s){Z8(o,s)})},toggleNativeEvent:function(o,s){var d=this;o==="focus"||o==="blur"||d.removed||(s?d.initialized?Z8(d,o):d._pendingNativeEvents?d._pendingNativeEvents.push(o):d._pendingNativeEvents=[o]:d.initialized&&(d.dom.unbind(l2(d,o),o,d.delegates[o]),delete d.delegates[o]))},unbindAllNativeEvents:function(){var o=this,s=o.getBody(),d=o.dom;o.delegates&&(wn(o.delegates,function(m,x){o.dom.unbind(l2(o,x),x,m)}),delete o.delegates),!o.inline&&s&&d&&(s.onload=null,d.unbind(o.getWin()),d.unbind(o.getDoc())),d&&(d.unbind(s),d.unbind(o.getContainer()))}}),SX=["design","readonly"],cP=function(o,s,d,m){var x=d[s.get()],T=d[m];try{T.activate()}catch(O){console.error("problem while activating editor mode "+m+":",O);return}x.deactivate(),x.editorReadOnly!==T.editorReadOnly&&vX(o,T.editorReadOnly),s.set(m),pD(o,m)},t7=function(o,s,d,m){if(m!==d.get()){if(!Vr(s,m))throw new Error("Editor mode '"+m+"' is invalid");o.initialized?cP(o,d,s,m):o.on("init",function(){return cP(o,d,s,m)})}},CX=function(o,s,d){var m;if(Je(SX,s))throw new Error("Cannot override default mode "+s);return dr(dr({},o),(m={},m[s]=dr(dr({},d),{deactivate:function(){try{d.deactivate()}catch(x){console.error("problem while deactivating editor mode "+s+":",x)}}}),m))},n7=function(o){var s=fl("design"),d=fl({design:{activate:le,deactivate:le,editorReadOnly:!1},readonly:{activate:le,deactivate:le,editorReadOnly:!0}});return u2(o),pp(o),{isReadOnly:function(){return lb(o)},set:function(m){return t7(o,d.get(),s,m)},get:function(){return s.get()},register:function(m,x){d.set(CX(d.get(),m,x))}}},fP=qt.each,dP=qt.explode,TX={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},r7=qt.makeMap("alt,ctrl,shift,meta,access"),o7=function(o){var s,d={};fP(dP(o.toLowerCase(),"+"),function(x){x in r7?d[x]=!0:/^[0-9]{2,}$/.test(x)?d.keyCode=parseInt(x,10):(d.charCode=x.charCodeAt(0),d.keyCode=TX[x]||x.toUpperCase().charCodeAt(0))});var m=[d.keyCode];for(s in r7)d[s]?m.push(s):d[s]=!1;return d.id=m.join(","),d.access&&(d.alt=!0,Cr.mac?d.ctrl=!0:d.shift=!0),d.meta&&(Cr.mac?d.meta=!0:(d.ctrl=!0,d.meta=!1)),d},EE=function(){function o(s){this.shortcuts={},this.pendingPatterns=[],this.editor=s;var d=this;s.on("keyup keypress keydown",function(m){(d.hasModifier(m)||d.isFunctionKey(m))&&!m.isDefaultPrevented()&&(fP(d.shortcuts,function(x){if(d.matchShortcut(m,x))return d.pendingPatterns=x.subpatterns.slice(0),m.type==="keydown"&&d.executeShortcutAction(x),!0}),d.matchShortcut(m,d.pendingPatterns[0])&&(d.pendingPatterns.length===1&&m.type==="keydown"&&d.executeShortcutAction(d.pendingPatterns[0]),d.pendingPatterns.shift()))})}return o.prototype.add=function(s,d,m,x){var T=this,O=T.normalizeCommandFunc(m);return fP(dP(qt.trim(s)),function(B){var V=T.createShortcut(B,d,O,x);T.shortcuts[V.id]=V}),!0},o.prototype.remove=function(s){var d=this.createShortcut(s);return this.shortcuts[d.id]?(delete this.shortcuts[d.id],!0):!1},o.prototype.normalizeCommandFunc=function(s){var d=this,m=s;return typeof m=="string"?function(){d.editor.execCommand(m,!1,null)}:qt.isArray(m)?function(){d.editor.execCommand(m[0],m[1],m[2])}:m},o.prototype.createShortcut=function(s,d,m,x){var T=qt.map(dP(s,">"),o7);return T[T.length-1]=qt.extend(T[T.length-1],{func:m,scope:x||this.editor}),qt.extend(T[0],{desc:this.editor.translate(d),subpatterns:T.slice(1)})},o.prototype.hasModifier=function(s){return s.altKey||s.ctrlKey||s.metaKey},o.prototype.isFunctionKey=function(s){return s.type==="keydown"&&s.keyCode>=112&&s.keyCode<=123},o.prototype.matchShortcut=function(s,d){return!d||d.ctrl!==s.ctrlKey||d.meta!==s.metaKey||d.alt!==s.altKey||d.shift!==s.shiftKey?!1:s.keyCode===d.keyCode||s.charCode&&s.charCode===d.charCode?(s.preventDefault(),!0):!1},o.prototype.executeShortcutAction=function(s){return s.func?s.func.call(s.scope):null},o}(),i7=function(){var o={},s={},d={},m={},x={},T={},O={},B=function(Z,pe){return function(ge,ve){return Z[ge.toLowerCase()]=dr(dr({},ve),{type:pe})}},V=function(Z,pe){return m[Z.toLowerCase()]=pe};return{addButton:B(o,"button"),addGroupToolbarButton:B(o,"grouptoolbarbutton"),addToggleButton:B(o,"togglebutton"),addMenuButton:B(o,"menubutton"),addSplitButton:B(o,"splitbutton"),addMenuItem:B(s,"menuitem"),addNestedMenuItem:B(s,"nestedmenuitem"),addToggleMenuItem:B(s,"togglemenuitem"),addAutocompleter:B(d,"autocompleter"),addContextMenu:B(x,"contextmenu"),addContextToolbar:B(T,"contexttoolbar"),addContextForm:B(T,"contextform"),addSidebar:B(O,"sidebar"),addIcon:V,getAll:function(){return{buttons:o,menuItems:s,icons:m,popups:d,contextMenus:x,contextToolbars:T,sidebars:O}}}},MX=function(){var o=i7();return{addAutocompleter:o.addAutocompleter,addButton:o.addButton,addContextForm:o.addContextForm,addContextMenu:o.addContextMenu,addContextToolbar:o.addContextToolbar,addIcon:o.addIcon,addMenuButton:o.addMenuButton,addMenuItem:o.addMenuItem,addNestedMenuItem:o.addNestedMenuItem,addSidebar:o.addSidebar,addSplitButton:o.addSplitButton,addToggleButton:o.addToggleButton,addGroupToolbarButton:o.addGroupToolbarButton,addToggleMenuItem:o.addToggleMenuItem,getAll:o.getAll}},cb=na.DOM,OE=qt.extend,a7=qt.each,u7=qt.resolve,kX=Cr.ie,IE=function(){function o(s,d,m){var x=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=m,this.documentBaseUrl=m.documentBaseURL,OE(this,e7),this.settings=eW(this,s,this.documentBaseUrl,m.defaultSettings,d),this.settings.suffix&&(m.suffix=this.settings.suffix),this.suffix=m.suffix,this.settings.base_url&&m._setBaseUrl(this.settings.base_url),this.baseUri=m.baseURI,this.settings.referrer_policy&&(Gd.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),na.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ni.languageLoad=this.settings.language_load,Ni.baseURL=m.baseURL,this.id=s,this.setDirty(!1),this.documentBaseURI=new ip(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new EE(this),this.editorCommands=new J8(this),this.settings.cache_suffix&&(Cr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:MX(),styleSheetLoader:void 0,show:le,hide:le,enable:le,disable:le,isDisabled:Ge};var T=this,O=n7(T);this.mode=O,this.setMode=O.set,m.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ho.overrideDefaults(function(){return{context:x.inline?x.getBody():x.getDoc(),element:x.getBody()}})}return o.prototype.render=function(){YG(this)},o.prototype.focus=function(s){this.execCommand("mceFocus",!1,s)},o.prototype.hasFocus=function(){return gm(this)},o.prototype.execCallback=function(s){for(var d=[],m=1;m<arguments.length;m++)d[m-1]=arguments[m];var x=this,T=x.settings[s],O;if(T)return x.callbackLookup&&(O=x.callbackLookup[s])&&(T=O.func,O=O.scope),typeof T=="string"&&(O=T.replace(/\.\w+$/,""),O=O?u7(O):0,T=u7(T),x.callbackLookup=x.callbackLookup||{},x.callbackLookup[s]={func:T,scope:O}),T.apply(O||x,d)},o.prototype.translate=function(s){return _o.translate(s)},o.prototype.getParam=function(s,d,m){return tW(this,s,d,m)},o.prototype.hasPlugin=function(s,d){var m=Je(pS(this).split(/[ ,]/),s);return m?d?Jc.get(s)!==void 0:!0:!1},o.prototype.nodeChanged=function(s){this._nodeChangeDispatcher.nodeChanged(s)},o.prototype.addCommand=function(s,d,m){this.editorCommands.addCommand(s,d,m)},o.prototype.addQueryStateHandler=function(s,d,m){this.editorCommands.addQueryStateHandler(s,d,m)},o.prototype.addQueryValueHandler=function(s,d,m){this.editorCommands.addQueryValueHandler(s,d,m)},o.prototype.addShortcut=function(s,d,m,x){this.shortcuts.add(s,d,m,x)},o.prototype.execCommand=function(s,d,m,x){return this.editorCommands.execCommand(s,d,m,x)},o.prototype.queryCommandState=function(s){return this.editorCommands.queryCommandState(s)},o.prototype.queryCommandValue=function(s){return this.editorCommands.queryCommandValue(s)},o.prototype.queryCommandSupported=function(s){return this.editorCommands.queryCommandSupported(s)},o.prototype.show=function(){var s=this;s.hidden&&(s.hidden=!1,s.inline?s.getBody().contentEditable="true":(cb.show(s.getContainer()),cb.hide(s.id)),s.load(),s.fire("show"))},o.prototype.hide=function(){var s=this,d=s.getDoc();s.hidden||(kX&&d&&!s.inline&&d.execCommand("SelectAll"),s.save(),s.inline?(s.getBody().contentEditable="false",s===s.editorManager.focusedEditor&&(s.editorManager.focusedEditor=null)):(cb.hide(s.getContainer()),cb.setStyle(s.id,"display",s.orgDisplay)),s.hidden=!0,s.fire("hide"))},o.prototype.isHidden=function(){return!!this.hidden},o.prototype.setProgressState=function(s,d){this.fire("ProgressState",{state:s,time:d})},o.prototype.load=function(s){var d=this,m=d.getElement(),x;if(d.removed)return"";if(m){s=s||{},s.load=!0;var T=us(m)?m.value:m.innerHTML;return x=d.setContent(T,s),s.element=m,s.no_events||d.fire("LoadContent",s),s.element=m=null,x}},o.prototype.save=function(s){var d=this,m=d.getElement(),x,T;if(!(!m||!d.initialized||d.removed))return s=s||{},s.save=!0,s.element=m,x=s.content=d.getContent(s),s.no_events||d.fire("SaveContent",s),s.format==="raw"&&d.fire("RawSaveContent",s),x=s.content,us(m)?m.value=x:((s.is_removing||!d.inline)&&(m.innerHTML=x),(T=cb.getParent(d.id,"form"))&&a7(T.elements,function(O){if(O.name===d.id)return O.value=x,!1})),s.element=m=null,s.set_dirty!==!1&&d.setDirty(!1),x},o.prototype.setContent=function(s,d){return UI(this,s,d)},o.prototype.getContent=function(s){return RU(this,s)},o.prototype.insertContent=function(s,d){d&&(s=OE({content:s},d)),this.execCommand("mceInsertContent",!1,s)},o.prototype.resetContent=function(s){s===void 0?UI(this,this.startContent,{format:"raw"}):UI(this,s),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},o.prototype.isDirty=function(){return!this.isNotDirty},o.prototype.setDirty=function(s){var d=!this.isNotDirty;this.isNotDirty=!s,s&&s!==d&&this.fire("dirty")},o.prototype.getContainer=function(){var s=this;return s.container||(s.container=cb.get(s.editorContainer||s.id+"_parent")),s.container},o.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},o.prototype.getElement=function(){return this.targetElm||(this.targetElm=cb.get(this.id)),this.targetElm},o.prototype.getWin=function(){var s=this,d;return s.contentWindow||(d=s.iframeElement,d&&(s.contentWindow=d.contentWindow)),s.contentWindow},o.prototype.getDoc=function(){var s=this,d;return s.contentDocument||(d=s.getWin(),d&&(s.contentDocument=d.document)),s.contentDocument},o.prototype.getBody=function(){var s=this.getDoc();return this.bodyElement||(s?s.body:null)},o.prototype.convertURL=function(s,d,m){var x=this,T=x.settings;return T.urlconverter_callback?x.execCallback("urlconverter_callback",s,m,!0,d):!T.convert_urls||m&&m.nodeName==="LINK"||s.indexOf("file:")===0||s.length===0?s:T.relative_urls?x.documentBaseURI.toRelative(s):(s=x.documentBaseURI.toAbsolute(s,T.remove_script_host),s)},o.prototype.addVisual=function(s){KG(this,s)},o.prototype.remove=function(){BU(this)},o.prototype.destroy=function(s){WC(this,s)},o.prototype.uploadImages=function(s){return this.editorUpload.uploadImages(s)},o.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},o.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},o.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},o.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},o.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},o}(),ch=na.DOM,DX=qt.explode,Dm=qt.each,AX=qt.extend,EX=0,s7=!1,Rs,Am=[],Mu=[],l7=function(o){return o!=="length"},hP=function(o){var s=o.type;Dm(cv.get(),function(d){switch(s){case"scroll":d.fire("ScrollWindow",o);break;case"resize":d.fire("ResizeWindow",o);break}})},c7=function(o){o!==s7&&(o?ho(window).on("resize scroll",hP):ho(window).off("resize scroll",hP),s7=o)},RE=function(o){var s=Mu;delete Am[o.id];for(var d=0;d<Am.length;d++)if(Am[d]===o){Am.splice(d,1);break}return Mu=Ke(Mu,function(m){return o!==m}),cv.activeEditor===o&&(cv.activeEditor=Mu.length>0?Mu[0]:null),cv.focusedEditor===o&&(cv.focusedEditor=null),s.length!==Mu.length},pP=function(o){return o&&o.initialized&&!(o.getContainer()||o.getBody()).parentNode&&(RE(o),o.unbindAllNativeEvents(),o.destroy(!0),o.removed=!0,o=null),o},f7=document.compatMode!=="CSS1Compat",cv=dr(dr({},AE),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ho,majorVersion:"5",minorVersion:"10.3",releaseDate:"2022-02-09",editors:Am,i18n:_o,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var o=this,s,d,m="";d=ip.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(d)&&(d=d.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(d)||(d+="/"));var x=window.tinymce||window.tinyMCEPreInit;if(x)s=x.base||x.baseURL,m=x.suffix;else{for(var T=document.getElementsByTagName("script"),O=0;O<T.length;O++){var B=T[O].src||"";if(B!==""){var V=B.substring(B.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(B)){V.indexOf(".min")!==-1&&(m=".min"),s=B.substring(0,B.lastIndexOf("/"));break}}}if(!s&&document.currentScript){var B=document.currentScript.src;B.indexOf(".min")!==-1&&(m=".min"),s=B.substring(0,B.lastIndexOf("/"))}}o.baseURL=new ip(d).toAbsolute(s),o.documentBaseURL=d,o.baseURI=new ip(o.baseURL),o.suffix=m,FD(o)},overrideDefaults:function(o){var s=o.base_url;s&&this._setBaseUrl(s);var d=o.suffix;o.suffix&&(this.suffix=d),this.defaultSettings=o;var m=o.plugin_base_urls;m!==void 0&&wn(m,function(x,T){Ni.PluginManager.urls[T]=x})},init:function(o){var s=this,d,m=qt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),x=function(ge,ve){return ge.inline&&ve.tagName.toLowerCase()in m},T=function(ge){var ve=ge.id;return ve||(ve=Br(ge,"name").filter(function(Ae){return!ch.get(Ae)}).getOrThunk(ch.uniqueId),ge.setAttribute("id",ve)),ve},O=function(ge){var ve=o[ge];if(ve)return ve.apply(s,[])},B=function(ge,ve){return ve.constructor===RegExp?ve.test(ge.className):ch.hasClass(ge,ve)},V=function(ge){var ve=[];if(Cr.browser.isIE()&&Cr.browser.version.major<11)return qA("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(f7)return qA("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(ge.types)return Dm(ge.types,function(De){ve=ve.concat(ch.select(De.selector))}),ve;if(ge.selector)return ch.select(ge.selector);if(ge.target)return[ge.target];switch(ge.mode){case"exact":var Ae=ge.elements||"";Ae.length>0&&Dm(DX(Ae),function(De){var Ie=ch.get(De);Ie?ve.push(Ie):Dm(document.forms,function(Ne){Dm(Ne.elements,function(Qe){Qe.name===De&&(De="mce_editor_"+EX++,ch.setAttrib(Qe,"id",De),ve.push(Qe))})})});break;case"textareas":case"specific_textareas":Dm(ch.select("textarea"),function(De){ge.editor_deselector&&B(De,ge.editor_deselector)||(!ge.editor_selector||B(De,ge.editor_selector))&&ve.push(De)});break}return ve},Z=function(ge){d=ge},pe=function(){var ge=0,ve=[],Ae,De=function(Ie,Ne,Qe){var Xe=new IE(Ie,Ne,s);ve.push(Xe),Xe.on("init",function(){++ge===Ae.length&&Z(ve)}),Xe.targetElm=Xe.targetElm||Qe,Xe.render()};if(ch.unbind(window,"ready",pe),O("onpageload"),Ae=ho.unique(V(o)),o.types){Dm(o.types,function(Ie){qt.each(Ae,function(Ne){return ch.is(Ne,Ie.selector)?(De(T(Ne),AX({},o,Ie),Ne),!1):!0})});return}qt.each(Ae,function(Ie){pP(s.get(Ie.id))}),Ae=qt.grep(Ae,function(Ie){return!s.get(Ie.id)}),Ae.length===0?Z([]):Dm(Ae,function(Ie){x(o,Ie)?qA("Could not initialize inline editor on invalid inline target element",Ie):De(T(Ie),o,Ie)})};return s.settings=o,ch.bind(window,"ready",pe),new Wu(function(ge){d?ge(d):Z=function(ve){ge(ve)}})},get:function(o){return arguments.length===0?Mu.slice(0):R(o)?Qn(Mu,function(s){return s.id===o}).getOr(null):ie(o)&&Mu[o]?Mu[o]:null},add:function(o){var s=this,d=Am[o.id];return d===o||(s.get(o.id)===null&&(l7(o.id)&&(Am[o.id]=o),Am.push(o),Mu.push(o)),c7(!0),s.activeEditor=o,s.fire("AddEditor",{editor:o}),Rs||(Rs=function(m){var x=s.fire("BeforeUnload");if(x.returnValue)return m.preventDefault(),m.returnValue=x.returnValue,x.returnValue},window.addEventListener("beforeunload",Rs))),o},createEditor:function(o,s){return this.add(new IE(o,s,this))},remove:function(o){var s=this,d,m;if(!o){for(d=Mu.length-1;d>=0;d--)s.remove(Mu[d]);return}if(R(o)){Dm(ch.select(o),function(x){m=s.get(x.id),m&&s.remove(m)});return}return m=o,L(s.get(m.id))?null:(RE(m)&&s.fire("RemoveEditor",{editor:m}),Mu.length===0&&window.removeEventListener("beforeunload",Rs),m.remove(),c7(Mu.length>0),m)},execCommand:function(o,s,d){var m=this,x=m.get(d);switch(o){case"mceAddEditor":return m.get(d)||new IE(d,m.settings,m).render(),!0;case"mceRemoveEditor":return x&&x.remove(),!0;case"mceToggleEditor":return x?(x.isHidden()?x.show():x.hide(),!0):(m.execCommand("mceAddEditor",!1,d),!0)}return m.activeEditor?m.activeEditor.execCommand(o,s,d):!1},triggerSave:function(){Dm(Mu,function(o){o.save()})},addI18n:function(o,s){_o.add(o,s)},translate:function(o){return _o.translate(o)},setActive:function(o){var s=this.activeEditor;this.activeEditor!==o&&(s&&s.fire("deactivate",{relatedTarget:o}),o.fire("activate",{relatedTarget:s})),this.activeEditor=o},_setBaseUrl:function(o){this.baseURL=new ip(this.documentBaseURL).toAbsolute(o.replace(/\/+$/,"")),this.baseURI=new ip(this.baseURL)}});cv.setup();var d7=Math.min,c2=Math.max,PE=Math.round,h7=function(o,s,d){var m=s.x,x=s.y,T=o.w,O=o.h,B=s.w,V=s.h,Z=(d||"").split("");return Z[0]==="b"&&(x+=V),Z[1]==="r"&&(m+=B),Z[0]==="c"&&(x+=PE(V/2)),Z[1]==="c"&&(m+=PE(B/2)),Z[3]==="b"&&(x-=O),Z[4]==="r"&&(m-=T),Z[3]==="c"&&(x-=PE(O/2)),Z[4]==="c"&&(m-=PE(T/2)),f2(m,x,T,O)},OX=function(o,s,d,m){var x,T;for(T=0;T<m.length;T++)if(x=h7(o,s,m[T]),x.x>=d.x&&x.x+x.w<=d.w+d.x&&x.y>=d.y&&x.y+x.h<=d.h+d.y)return m[T];return null},p7=function(o,s,d){return f2(o.x-s,o.y-d,o.w+s*2,o.h+d*2)},IX=function(o,s){var d=c2(o.x,s.x),m=c2(o.y,s.y),x=d7(o.x+o.w,s.x+s.w),T=d7(o.y+o.h,s.y+s.h);return x-d<0||T-m<0?null:f2(d,m,x-d,T-m)},RX=function(o,s,d){var m=o.x,x=o.y,T=o.x+o.w,O=o.y+o.h,B=s.x+s.w,V=s.y+s.h,Z=c2(0,s.x-m),pe=c2(0,s.y-x),ge=c2(0,T-B),ve=c2(0,O-V);return m+=Z,x+=pe,d&&(T+=Z,O+=pe,m-=ge,x-=ve),T-=ge,O-=ve,f2(m,x,T-m,O-x)},f2=function(o,s,d,m){return{x:o,y:s,w:d,h:m}},PX=function(o){return f2(o.left,o.top,o.width,o.height)},NX={inflate:p7,relativePosition:h7,findBestRelativePosition:OX,intersect:IX,clamp:RX,create:f2,fromClientRect:PX},LX=function(o,s,d){d===void 0&&(d=1e3);var m=!1,x=null,T=function(Z){return function(){for(var pe=[],ge=0;ge<arguments.length;ge++)pe[ge]=arguments[ge];m||(m=!0,x!==null&&(clearTimeout(x),x=null),Z.apply(null,pe))}},O=T(o),B=T(s),V=function(){for(var Z=[],pe=0;pe<arguments.length;pe++)Z[pe]=arguments[pe];!m&&x===null&&(x=setTimeout(function(){return B.apply(null,Z)},d))};return{start:V,resolve:O,reject:B}},m7=function(){var o={},s={},d=function(x,T){var O='Script at URL "'+T+'" failed to load',B='Script at URL "'+T+"\" did not call `tinymce.Resource.add('"+x+"', data)` within 1 second";if(o[x]!==void 0)return o[x];var V=new Wu(function(Z,pe){var ge=LX(Z,pe);s[x]=ge.resolve,Gd.ScriptLoader.loadScript(T,function(){return ge.start(B)},function(){return ge.reject(O)})});return o[x]=V,V},m=function(x,T){s[x]!==void 0&&(s[x](T),delete s[x]),o[x]=Wu.resolve(T)};return{load:d,add:m}},BX=m7(),NE=qt.each,zX=qt.extend,LE,fb,fv=function(){};fv.extend=LE=function(o){var s=this,d=s.prototype,m=function(){var B,V,Z,pe=this;if(!fb&&(pe.init&&pe.init.apply(pe,arguments),V=pe.Mixins,V))for(B=V.length;B--;)Z=V[B],Z.init&&Z.init.apply(pe,arguments)},x=function(){return this},T=function(B,V){return function(){var Z=this,pe=Z._super;Z._super=d[B];var ge=V.apply(Z,arguments);return Z._super=pe,ge}};fb=!0;var O=new s;return fb=!1,o.Mixins&&(NE(o.Mixins,function(B){for(var V in B)V!=="init"&&(o[V]=B[V])}),d.Mixins&&(o.Mixins=d.Mixins.concat(o.Mixins))),o.Methods&&NE(o.Methods.split(","),function(B){o[B]=x}),o.Properties&&NE(o.Properties.split(","),function(B){var V="_"+B;o[B]=function(Z){var pe=this;return Z!==void 0?(pe[V]=Z,pe):pe[V]}}),o.Statics&&NE(o.Statics,function(B,V){m[V]=B}),o.Defaults&&d.Defaults&&(o.Defaults=zX({},d.Defaults,o.Defaults)),wn(o,function(B,V){typeof B=="function"&&d[V]?O[V]=T(V,B):O[V]=B}),m.prototype=O,m.constructor=m,m.extend=LE,m};var dv=Math.min,d2=Math.max,hv=Math.round,g7=function(o){var s={},d=0,m=0,x=0,T=function(ge,ve,Ae){var De,Ie,Ne;De=0,Ie=0,Ne=0,ge=ge/255,ve=ve/255,Ae=Ae/255;var Qe=dv(ge,dv(ve,Ae)),Xe=d2(ge,d2(ve,Ae));if(Qe===Xe)return Ne=Qe,{h:0,s:0,v:Ne*100};var at=ge===Qe?ve-Ae:Ae===Qe?ge-ve:Ae-ge;return De=ge===Qe?3:Ae===Qe?1:5,De=60*(De-at/(Xe-Qe)),Ie=(Xe-Qe)/Xe,Ne=Xe,{h:hv(De),s:hv(Ie*100),v:hv(Ne*100)}},O=function(ge,ve,Ae){if(ge=(parseInt(ge,10)||0)%360,ve=parseInt(ve,10)/100,Ae=parseInt(Ae,10)/100,ve=d2(0,dv(ve,1)),Ae=d2(0,dv(Ae,1)),ve===0){d=m=x=hv(255*Ae);return}var De=ge/60,Ie=Ae*ve,Ne=Ie*(1-Math.abs(De%2-1)),Qe=Ae-Ie;switch(Math.floor(De)){case 0:d=Ie,m=Ne,x=0;break;case 1:d=Ne,m=Ie,x=0;break;case 2:d=0,m=Ie,x=Ne;break;case 3:d=0,m=Ne,x=Ie;break;case 4:d=Ne,m=0,x=Ie;break;case 5:d=Ie,m=0,x=Ne;break;default:d=m=x=0}d=hv(255*(d+Qe)),m=hv(255*(m+Qe)),x=hv(255*(x+Qe))},B=function(){var ge=function(ve){return ve=parseInt(ve,10).toString(16),ve.length>1?ve:"0"+ve};return"#"+ge(d)+ge(m)+ge(x)},V=function(){return{r:d,g:m,b:x}},Z=function(){return T(d,m,x)},pe=function(ge){var ve;return typeof ge=="object"?"r"in ge?(d=ge.r,m=ge.g,x=ge.b):"v"in ge&&O(ge.h,ge.s,ge.v):(ve=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(ge))?(d=parseInt(ve[1],10),m=parseInt(ve[2],10),x=parseInt(ve[3],10)):(ve=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(ge))?(d=parseInt(ve[1],16),m=parseInt(ve[2],16),x=parseInt(ve[3],16)):(ve=/#([0-F])([0-F])([0-F])/gi.exec(ge))&&(d=parseInt(ve[1]+ve[1],16),m=parseInt(ve[2]+ve[2],16),x=parseInt(ve[3]+ve[3],16)),d=d<0?0:d>255?255:d,m=m<0?0:m>255?255:m,x=x<0?0:x>255?255:x,s};return o&&pe(o),s.toRgb=V,s.toHsv=Z,s.toHex=B,s.parse=pe,s},v7=function(o){var s=JSON.stringify(o);return R(s)?s.replace(/[\u0080-\uFFFF]/g,function(d){var m=d.charCodeAt(0).toString(16);return"\\u"+"0000".substring(m.length)+m}):s},mP={serialize:v7,parse:function(o){try{return JSON.parse(o)}catch{}}},y7={callbacks:{},count:0,send:function(o){var s=this,d=na.DOM,m=o.count!==void 0?o.count:s.count,x="tinymce_jsonp_"+m;s.callbacks[m]=function(T){d.remove(x),delete s.callbacks[m],o.callback(T)},d.add(d.doc.body,"script",{id:x,src:o.url,type:"text/javascript"}),s.count++}},gT=dr(dr({},AE),{send:function(o){var s,d=0,m=function(){!o.async||s.readyState===4||d++>1e4?(o.success&&d<1e4&&s.status===200?o.success.call(o.success_scope,""+s.responseText,s,o):o.error&&o.error.call(o.error_scope,d>1e4?"TIMED_OUT":"GENERAL",s,o),s=null):ks.setTimeout(m,10)};if(o.scope=o.scope||this,o.success_scope=o.success_scope||o.scope,o.error_scope=o.error_scope||o.scope,o.async=o.async!==!1,o.data=o.data||"",gT.fire("beforeInitialize",{settings:o}),s=new XMLHttpRequest,s.overrideMimeType&&s.overrideMimeType(o.content_type),s.open(o.type||(o.data?"POST":"GET"),o.url,o.async),o.crossDomain&&(s.withCredentials=!0),o.content_type&&s.setRequestHeader("Content-Type",o.content_type),o.requestheaders&&qt.each(o.requestheaders,function(x){s.setRequestHeader(x.key,x.value)}),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s=gT.fire("beforeSend",{xhr:s,settings:o}).xhr,s.send(o.data),!o.async)return m();ks.setTimeout(m,10)}}),b7=qt.extend,FX=function(){function o(s){this.settings=b7({},s),this.count=0}return o.sendRPC=function(s){return new o().send(s)},o.prototype.send=function(s){var d=s.error,m=s.success,x=b7(this.settings,s);x.success=function(T,O){T=mP.parse(T),typeof T>"u"&&(T={error:"JSON Parse error."}),T.error?d.call(x.error_scope||x.scope,T.error,O):m.call(x.success_scope||x.scope,T.result)},x.error=function(T,O){d&&d.call(x.error_scope||x.scope,T,O)},x.data=mP.serialize({id:s.id||"c"+this.count++,method:s.method,params:s.params}),x.content_type="application/json",gT.send(x)},o}(),HX=function(){return function(){var o={},s=[],d={getItem:function(m){var x=o[m];return x||null},setItem:function(m,x){s.push(m),o[m]=String(x)},key:function(m){return s[m]},removeItem:function(m){s=s.filter(function(x){return x===m}),delete o[m]},clear:function(){s=[],o={}},length:0};return Object.defineProperty(d,"length",{get:function(){return s.length},configurable:!1,enumerable:!1}),d}()},vT;try{var gP="__storage_test__";vT=window.localStorage,vT.setItem(gP,gP),vT.removeItem(gP)}catch{vT=HX()}var VX=vT,x7={geom:{Rect:NX},util:{Promise:Wu,Delay:ks,Tools:qt,VK:Pr,URI:ip,Class:fv,EventDispatcher:lP,Observable:AE,I18n:_o,XHR:gT,JSON:mP,JSONRequest:FX,JSONP:y7,LocalStorage:VX,Color:g7,ImageUploader:XB},dom:{EventUtils:Hp,Sizzle:Hi,DomQuery:ho,TreeWalker:mi,TextSeeker:xx,DOMUtils:na,ScriptLoader:Gd,RangeUtils:M0,Serializer:DB,StyleSheetLoader:HM,ControlSelection:vD,BookmarkManager:eh,Selection:LI,Event:Hp.Event},html:{Styles:$h,Entities:Mc,Node:Xc,Schema:Mo,SaxParser:Tw,DomParser:jI,Writer:D1,Serializer:Qg},Env:Cr,AddOnManager:Ni,Annotator:pd,Formatter:ZB,UndoManager:ou,EditorCommands:J8,WindowManager:Gw,NotificationManager:Kc,EditorObservable:e7,Shortcuts:EE,Editor:IE,FocusManager:gw,EditorManager:cv,DOM:na.DOM,ScriptLoader:Gd.ScriptLoader,PluginManager:Jc,ThemeManager:Pf,IconManager:VA,Resource:BX,trim:qt.trim,isArray:qt.isArray,is:qt.is,toArray:qt.toArray,makeMap:qt.makeMap,each:qt.each,map:qt.map,grep:qt.grep,inArray:qt.inArray,extend:qt.extend,create:qt.create,walk:qt.walk,createNS:qt.createNS,resolve:qt.resolve,explode:qt.explode,_addCacheSuffix:qt._addCacheSuffix,isOpera:Cr.opera,isWebKit:Cr.webkit,isIE:Cr.ie,isGecko:Cr.gecko,isMac:Cr.mac},vP=qt.extend(cv,x7),jX=function(o){try{n.exports=o}catch{}},UX=function(o){window.tinymce=o,window.tinyMCE=o};UX(vP),jX(vP)})()})(Sde);var BEe=Sde.exports;const K7=ede(BEe);(function(){var n=function(a){var c=typeof a;return a===null?"null":c==="object"&&(Array.prototype.isPrototypeOf(a)||a.constructor&&a.constructor.name==="Array")?"array":c==="object"&&(String.prototype.isPrototypeOf(a)||a.constructor&&a.constructor.name==="String")?"string":c},e=function(a){return function(c){return n(c)===a}},t=function(a){return function(c){return typeof c===a}},r=function(a){return function(c){return a===c}},i=e("string"),u=e("object"),l=e("array"),f=r(null),h=t("boolean"),g=r(void 0),y=function(a){return a==null},b=function(a){return!y(a)},S=t("function"),_=t("number"),k=function(a,c){if(l(a)){for(var p=0,w=a.length;p<w;++p)if(!c(a[p]))return!1;return!0}return!1},A=function(){},R=function(a){return function(){return a()}},I=function(a,c){return function(){for(var p=[],w=0;w<arguments.length;w++)p[w]=arguments[w];return a(c.apply(null,p))}},z=function(a,c){return function(p){return a(c(p))}},L=function(a){return function(){return a}},q=function(a){return a},X=function(a,c){return a===c};function Y(a){for(var c=[],p=1;p<arguments.length;p++)c[p-1]=arguments[p];return function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];var E=c.concat(w);return a.apply(null,E)}}var ae=function(a){return function(c){return!a(c)}},te=function(a){return function(){throw new Error(a)}},ie=L(!1),le=L(!0),ce=tinymce.util.Tools.resolve("tinymce.ThemeManager"),ne=function(){return ne=Object.assign||function(a){for(var c,p=1,w=arguments.length;p<w;p++){c=arguments[p];for(var M in c)Object.prototype.hasOwnProperty.call(c,M)&&(a[M]=c[M])}return a},ne.apply(this,arguments)};function Q(a,c){var p={};for(var w in a)Object.prototype.hasOwnProperty.call(a,w)&&c.indexOf(w)<0&&(p[w]=a[w]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,w=Object.getOwnPropertySymbols(a);M<w.length;M++)c.indexOf(w[M])<0&&Object.prototype.propertyIsEnumerable.call(a,w[M])&&(p[w[M]]=a[w[M]]);return p}function Ce(a,c,p){if(p||arguments.length===2)for(var w=0,M=c.length,E;w<M;w++)(E||!(w in c))&&(E||(E=Array.prototype.slice.call(c,0,w)),E[w]=c[w]);return a.concat(E||Array.prototype.slice.call(c))}var ze=function(){return ke},ke=function(){var a=function(w){return w()},c=q,p={fold:function(w,M){return w()},isSome:ie,isNone:le,getOr:c,getOrThunk:a,getOrDie:function(w){throw new Error(w||"error: getOrDie called on none.")},getOrNull:L(null),getOrUndefined:L(void 0),or:c,orThunk:a,map:ze,each:A,bind:ze,exists:ie,forall:le,filter:function(){return ze()},toArray:function(){return[]},toString:L("none()")};return p}(),St=function(a){var c=L(a),p=function(){return M},w=function(E){return E(a)},M={fold:function(E,N){return N(a)},isSome:le,isNone:ie,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:p,orThunk:p,map:function(E){return St(E(a))},each:function(E){E(a)},bind:w,exists:w,forall:w,filter:function(E){return E(a)?M:ke},toArray:function(){return[a]},toString:function(){return"some("+a+")"}};return M},tt=function(a){return a==null?ke:St(a)},G={some:St,none:ze,from:tt},We=Array.prototype.slice,Ge=Array.prototype.indexOf,pt=Array.prototype.push,Ze=function(a,c){return Ge.call(a,c)},kt=function(a,c){var p=Ze(a,c);return p===-1?G.none():G.some(p)},Ot=function(a,c){return Ze(a,c)>-1},Nt=function(a,c){for(var p=0,w=a.length;p<w;p++){var M=a[p];if(c(M,p))return!0}return!1},fe=function(a,c){for(var p=[],w=0;w<a;w++)p.push(c(w));return p},Yt=function(a,c){for(var p=[],w=0;w<a.length;w+=c){var M=We.call(a,w,w+c);p.push(M)}return p},Ye=function(a,c){for(var p=a.length,w=new Array(p),M=0;M<p;M++){var E=a[M];w[M]=c(E,M)}return w},je=function(a,c){for(var p=0,w=a.length;p<w;p++){var M=a[p];c(M,p)}},bt=function(a,c){for(var p=a.length-1;p>=0;p--){var w=a[p];c(w,p)}},qe=function(a,c){for(var p=[],w=[],M=0,E=a.length;M<E;M++){var N=a[M],j=c(N,M)?p:w;j.push(N)}return{pass:p,fail:w}},Je=function(a,c){for(var p=[],w=0,M=a.length;w<M;w++){var E=a[w];c(E,w)&&p.push(E)}return p},st=function(a,c,p){return bt(a,function(w,M){p=c(p,w,M)}),p},Ft=function(a,c,p){return je(a,function(w,M){p=c(p,w,M)}),p},Ct=function(a,c,p){for(var w=0,M=a.length;w<M;w++){var E=a[w];if(c(E,w))return G.some(E);if(p(E,w))break}return G.none()},Rt=function(a,c){return Ct(a,c,ie)},ur=function(a,c){for(var p=0,w=a.length;p<w;p++){var M=a[p];if(c(M,p))return G.some(p)}return G.none()},Ke=function(a){for(var c=[],p=0,w=a.length;p<w;++p){if(!l(a[p]))throw new Error("Arr.flatten item "+p+" was not an array, input: "+a);pt.apply(c,a[p])}return c},Bt=function(a,c){return Ke(Ye(a,c))},Mn=function(a,c){for(var p=0,w=a.length;p<w;++p){var M=a[p];if(c(M,p)!==!0)return!1}return!0},Zt=function(a){var c=We.call(a,0);return c.reverse(),c},Qn=function(a,c){return Je(a,function(p){return!Ot(c,p)})},pr=function(a,c){for(var p={},w=0,M=a.length;w<M;w++){var E=a[w];p[String(E)]=c(E,w)}return p},ao=function(a){return[a]},To=function(a,c){var p=We.call(a,0);return p.sort(c),p},Go=function(a,c){return c>=0&&c<a.length?G.some(a[c]):G.none()},gn=function(a){return Go(a,0)},vn=function(a){return Go(a,a.length-1)},en=S(Array.from)?Array.from:function(a){return We.call(a)},vt=function(a,c){for(var p=0;p<a.length;p++){var w=c(a[p],p);if(w.isSome())return w}return G.none()},Tt=Object.keys,hn=Object.hasOwnProperty,Bn=function(a,c){for(var p=Tt(a),w=0,M=p.length;w<M;w++){var E=p[w],N=a[E];c(N,E)}},bn=function(a,c){return mt(a,function(p,w){return{k:w,v:c(p,w)}})},mt=function(a,c){var p={};return Bn(a,function(w,M){var E=c(w,M);p[E.k]=E.v}),p},an=function(a){return function(c,p){a[p]=c}},On=function(a,c,p,w){var M={};return Bn(a,function(E,N){(c(E,N)?p:w)(E,N)}),M},wn=function(a,c){var p={};return On(a,c,an(p),A),p},er=function(a,c){var p=[];return Bn(a,function(w,M){p.push(c(w,M))}),p},et=function(a,c){for(var p=Tt(a),w=0,M=p.length;w<M;w++){var E=p[w],N=a[E];if(c(N,E,a))return G.some(N)}return G.none()},jt=function(a){return er(a,q)},Pt=function(a,c){return ln(a,c)?G.from(a[c]):G.none()},ln=function(a,c){return hn.call(a,c)},Kn=function(a,c){return ln(a,c)&&a[c]!==void 0&&a[c]!==null},Lr=function(a,c,p){return p===void 0&&(p=X),a.exists(function(w){return p(w,c)})},ei=function(a,c,p){return p===void 0&&(p=X),ui(a,c,p).getOr(a.isNone()&&c.isNone())},Br=function(a){for(var c=[],p=function(M){c.push(M)},w=0;w<a.length;w++)a[w].each(p);return c},Vr=function(a){for(var c=[],p=0;p<a.length;p++){var w=a[p];if(w.isSome())c.push(w.getOrDie());else return G.none()}return G.some(c)},ui=function(a,c,p){return a.isSome()&&c.isSome()?G.some(p(a.getOrDie(),c.getOrDie())):G.none()},Ca=function(a,c,p,w){return a.isSome()&&c.isSome()&&p.isSome()?G.some(w(a.getOrDie(),c.getOrDie(),p.getOrDie())):G.none()},Ui=function(a,c){return a!=null?G.some(c(a)):G.none()},Si=function(a,c){return a?G.some(c):G.none()},Xi=function(a,c){return a+c},Ia=function(a,c){return a.substring(c)},Zi=function(a,c,p){return c===""||a.length>=c.length&&a.substr(p,p+c.length)===c},Bi=function(a,c){return Pa(a,c)?Ia(a,c.length):a},Ra=function(a,c){return dr(a,c)?a:Xi(a,c)},co=function(a,c){return a.indexOf(c)!==-1},Pa=function(a,c){return Zi(a,c,0)},dr=function(a,c){return Zi(a,c,a.length-c.length)},Hu=function(a){return function(c){return c.replace(a,"")}},ba=Hu(/^\s+|\s+$/g),Ua=function(a){return a.length>0},oa=function(a){return!Ua(a)},Ja=function(a){return a.style!==void 0&&S(a.style.getPropertyValue)},Vu=function(a,c){var p=c||document,w=p.createElement("div");if(w.innerHTML=a,!w.hasChildNodes()||w.childNodes.length>1)throw console.error("HTML does not have a single root node",a),new Error("HTML must have a single root node");return Pe(w.childNodes[0])},Qa=function(a,c){var p=c||document,w=p.createElement(a);return Pe(w)},ws=function(a,c){var p=c||document,w=p.createTextNode(a);return Pe(w)},Pe=function(a){if(a==null)throw new Error("Node cannot be null or undefined");return{dom:a}},it=function(a,c,p){return G.from(a.dom.elementFromPoint(c,p)).map(Pe)},He={fromHtml:Vu,fromTag:Qa,fromText:ws,fromDom:Pe,fromPoint:it};typeof window<"u"||Function("return this;")();var At=9,Rn=11,tr=1,Oe=3,$e=function(a){var c=a.dom.nodeName;return c.toLowerCase()},Et=function(a){return a.dom.nodeType},Jt=function(a){return function(c){return Et(c)===a}},he=Jt(tr),Me=Jt(Oe),Ue=Jt(At),lt=Jt(Rn),_t=function(a){var c=!1,p;return function(){for(var w=[],M=0;M<arguments.length;M++)w[M]=arguments[M];return c||(c=!0,p=a.apply(null,w)),p}},Dt=function(a,c,p,w){var M=a.isiOS()&&/ipad/i.test(p)===!0,E=a.isiOS()&&!M,N=a.isiOS()||a.isAndroid(),j=N||w("(pointer:coarse)"),U=M||!E&&N&&w("(min-device-width:768px)"),K=E||N&&!U,oe=c.isSafari()&&a.isiOS()&&/safari/i.test(p)===!1,se=!K&&!U&&!oe;return{isiPad:L(M),isiPhone:L(E),isTablet:L(U),isPhone:L(K),isTouch:L(j),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:L(oe),isDesktop:L(se)}},En=function(a,c){for(var p=0;p<a.length;p++){var w=a[p];if(w.test(c))return w}},Wn=function(a,c){var p=En(a,c);if(!p)return{major:0,minor:0};var w=function(M){return Number(c.replace(p,"$"+M))};return mr(w(1),w(2))},_r=function(a,c){var p=String(c).toLowerCase();return a.length===0?It():Wn(a,p)},It=function(){return mr(0,0)},mr=function(a,c){return{major:a,minor:c}},qr={nu:mr,detect:_r,unknown:It},Wo=function(a,c){return vt(c.brands,function(p){var w=p.brand.toLowerCase();return Rt(a,function(M){var E;return w===((E=M.brand)===null||E===void 0?void 0:E.toLowerCase())}).map(function(M){return{current:M.name,version:qr.nu(parseInt(p.version,10),0)}})})},ea=function(a,c){var p=String(c).toLowerCase();return Rt(a,function(w){return w.search(p)})},ro=function(a,c){return ea(a,c).map(function(p){var w=qr.detect(p.versionRegexes,c);return{current:p.name,version:w}})},Fs=function(a,c){return ea(a,c).map(function(p){var w=qr.detect(p.versionRegexes,c);return{current:p.name,version:w}})},_s=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Yi=function(a){return function(c){return co(c,a)}},Ul=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return co(a,"edge/")&&co(a,"chrome")&&co(a,"safari")&&co(a,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_s],search:function(a){return co(a,"chrome")&&!co(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return co(a,"msie")||co(a,"trident")}},{name:"Opera",versionRegexes:[_s,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Yi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Yi("firefox")},{name:"Safari",versionRegexes:[_s,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(co(a,"safari")||co(a,"mobile/"))&&co(a,"applewebkit")}}],vu=[{name:"Windows",search:Yi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return co(a,"iphone")||co(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Yi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Yi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Yi("linux"),versionRegexes:[]},{name:"Solaris",search:Yi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Yi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Yi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Eu={browsers:L(Ul),oses:L(vu)},pi="Edge",Wl="Chrome",nl="IE",Sl="Opera",gc="Firefox",Ou="Safari",os=function(){return vc({current:void 0,version:qr.unknown()})},vc=function(a){var c=a.current,p=a.version,w=function(M){return function(){return c===M}};return{current:c,version:p,isEdge:w(pi),isChrome:w(Wl),isIE:w(nl),isOpera:w(Sl),isFirefox:w(gc),isSafari:w(Ou)}},ju={unknown:os,nu:vc,edge:L(pi),chrome:L(Wl),ie:L(nl),opera:L(Sl),firefox:L(gc),safari:L(Ou)},Iu="Windows",we="iOS",rt="Android",wt="Linux",tn="OSX",kn="Solaris",yr="FreeBSD",jo="ChromeOS",ti=function(){return uo({current:void 0,version:qr.unknown()})},uo=function(a){var c=a.current,p=a.version,w=function(M){return function(){return c===M}};return{current:c,version:p,isWindows:w(Iu),isiOS:w(we),isAndroid:w(rt),isOSX:w(tn),isLinux:w(wt),isSolaris:w(kn),isFreeBSD:w(yr),isChromeOS:w(jo)}},yi={unknown:ti,nu:uo,windows:L(Iu),ios:L(we),android:L(rt),linux:L(wt),osx:L(tn),solaris:L(kn),freebsd:L(yr),chromeos:L(jo)},zi=function(a,c,p){var w=Eu.browsers(),M=Eu.oses(),E=c.bind(function(U){return Wo(w,U)}).orThunk(function(){return ro(w,a)}).fold(ju.unknown,ju.nu),N=Fs(M,a).fold(yi.unknown,yi.nu),j=Dt(N,E,a,p);return{browser:E,os:N,deviceType:j}},rl={detect:zi},Wa=function(a){return window.matchMedia(a).matches},Hs=_t(function(){return rl.detect(navigator.userAgent,G.from(navigator.userAgentData),Wa)}),Cr=function(){return Hs()},Cl=function(a,c,p){return(a.compareDocumentPosition(c)&p)!==0},Xf=function(a,c){return Cl(a,c,Node.DOCUMENT_POSITION_CONTAINED_BY)},Oo=function(a,c){var p=a.dom;if(p.nodeType!==tr)return!1;var w=p;if(w.matches!==void 0)return w.matches(c);if(w.msMatchesSelector!==void 0)return w.msMatchesSelector(c);if(w.webkitMatchesSelector!==void 0)return w.webkitMatchesSelector(c);if(w.mozMatchesSelector!==void 0)return w.mozMatchesSelector(c);throw new Error("Browser lacks native selectors")},ff=function(a){return a.nodeType!==tr&&a.nodeType!==At&&a.nodeType!==Rn||a.childElementCount===0},df=function(a,c){var p=c===void 0?document:c.dom;return ff(p)?[]:Ye(p.querySelectorAll(a),He.fromDom)},Pd=function(a,c){var p=c===void 0?document:c.dom;return ff(p)?G.none():G.from(p.querySelector(a)).map(He.fromDom)},si=function(a,c){return a.dom===c.dom},is=function(a,c){var p=a.dom,w=c.dom;return p===w?!1:p.contains(w)},Ah=function(a,c){return Xf(a.dom,c.dom)},Ss=function(a,c){return Cr().browser.isIE()?Ah(a,c):is(a,c)},ia=function(a){return He.fromDom(a.dom.ownerDocument)},ql=function(a){return Ue(a)?a:ia(a)},qt=function(a){return He.fromDom(ql(a).dom.documentElement)},yc=function(a){return He.fromDom(ql(a).dom.defaultView)},aa=function(a){return G.from(a.dom.parentNode).map(He.fromDom)},Yf=function(a){return aa(a)},Tl=function(a){return G.from(a.dom.offsetParent).map(He.fromDom)},ue=function(a){return G.from(a.dom.nextSibling).map(He.fromDom)},W=function(a){return Ye(a.dom.childNodes,He.fromDom)},H=function(a,c){var p=a.dom.childNodes;return G.from(p[c]).map(He.fromDom)},ee=function(a){return H(a,0)},ye=function(a,c){return{element:a,offset:c}},Re=function(a,c){var p=W(a);return p.length>0&&c<p.length?ye(p[c],0):ye(a,c)},gt=function(a){return lt(a)&&b(a.dom.host)},un=S(Element.prototype.attachShadow)&&S(Node.prototype.getRootNode),hr=L(un),Tr=un?function(a){return He.fromDom(a.dom.getRootNode())}:ql,Ln=function(a){return gt(a)?a:He.fromDom(ql(a).dom.body)},lr=function(a){return Kr(a).isSome()},Kr=function(a){var c=Tr(a);return gt(c)?G.some(c):G.none()},Jr=function(a){return He.fromDom(a.dom.host)},Hr=function(a){if(hr()&&b(a.target)){var c=He.fromDom(a.target);if(he(c)&&Oi(c)&&a.composed&&a.composedPath){var p=a.composedPath();if(p)return gn(p)}}return G.from(a.target)},Oi=function(a){return b(a.dom.shadowRoot)},Or=function(a){var c=Me(a)?a.dom.parentNode:a.dom;if(c==null||c.ownerDocument===null)return!1;var p=c.ownerDocument;return Kr(He.fromDom(c)).fold(function(){return p.body.contains(c)},z(Or,Jr))},li=function(){return ni(He.fromDom(document))},ni=function(a){var c=a.dom.body;if(c==null)throw new Error("Body is not available yet");return He.fromDom(c)},yu=function(a,c,p){if(i(p)||h(p)||_(p))a.setAttribute(c,p+"");else throw console.error("Invalid call to Attribute.set. Key ",c,":: Value ",p,":: Element ",a),new Error("Attribute value was not simple")},so=function(a,c,p){yu(a.dom,c,p)},$l=function(a,c){var p=a.dom;Bn(c,function(w,M){yu(p,M,w)})},ua=function(a,c){var p=a.dom.getAttribute(c);return p===null?void 0:p},xa=function(a,c){return G.from(ua(a,c))},Wb=function(a,c){var p=a.dom;return p&&p.hasAttribute?p.hasAttribute(c):!1},Uu=function(a,c){a.dom.removeAttribute(c)},Ty=function(a,c,p){if(!i(p))throw console.error("Invalid call to CSS.set. Property ",c,":: Value ",p,":: Element ",a),new Error("CSS value must be a string: "+p);Ja(a)&&a.style.setProperty(c,p)},hf=function(a,c){Ja(a)&&a.style.removeProperty(c)},Wr=function(a,c,p){var w=a.dom;Ty(w,c,p)},Gl=function(a,c){var p=a.dom;Bn(c,function(w,M){Ty(p,M,w)})},Ta=function(a,c){var p=a.dom;Bn(c,function(w,M){w.fold(function(){hf(p,M)},function(E){Ty(p,M,E)})})},Ma=function(a,c){var p=a.dom,w=window.getComputedStyle(p),M=w.getPropertyValue(c);return M===""&&!Or(a)?bu(p,c):M},bu=function(a,c){return Ja(a)?a.style.getPropertyValue(c):""},Za=function(a,c){var p=a.dom,w=bu(p,c);return G.from(w).filter(function(M){return M.length>0})},Eh=function(a){var c={},p=a.dom;if(Ja(p))for(var w=0;w<p.style.length;w++){var M=p.style.item(w);c[M]=p.style[M]}return c},bc=function(a,c,p){var w=He.fromTag(a);Wr(w,c,p);var M=Za(w,c);return M.isSome()},ri=function(a,c){var p=a.dom;hf(p,c),Lr(xa(a,"style").map(ba),"")&&Uu(a,"style")},Ki=function(a){return a.dom.offsetWidth},Vs=function(a,c){var p=function(j,U){if(!_(U)&&!U.match(/^[0-9]+$/))throw new Error(a+".set accepts only positive integer values. Value was "+U);var K=j.dom;Ja(K)&&(K.style[a]=U+"px")},w=function(j){var U=c(j);if(U<=0||U===null){var K=Ma(j,a);return parseFloat(K)||0}return U},M=w,E=function(j,U){return Ft(U,function(K,oe){var se=Ma(j,oe),be=se===void 0?0:parseInt(se,10);return isNaN(be)?K:K+be},0)},N=function(j,U,K){var oe=E(j,K),se=U>oe?U-oe:0;return se};return{set:p,get:w,getOuter:M,aggregate:E,max:N}},Kf=Vs("height",function(a){var c=a.dom;return Or(a)?c.getBoundingClientRect().height:c.offsetHeight}),cu=function(a){return Kf.get(a)},Xl=function(a){return Kf.getOuter(a)},qb=function(a,c){var p=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],w=Kf.max(a,c,p);Wr(a,"max-height",w+"px")},Oh=function(a,c){var p=function(w,M){return Oh(a+w,c+M)};return{left:a,top:c,translate:p}},Ii=Oh,Pc=function(a){var c=a.getBoundingClientRect();return Ii(c.left,c.top)},Nd=function(a,c){return a!==void 0?a:c!==void 0?c:0},ol=function(a){var c=a.dom.ownerDocument,p=c.body,w=c.defaultView,M=c.documentElement;if(p===a.dom)return Ii(p.offsetLeft,p.offsetTop);var E=Nd(w==null?void 0:w.pageYOffset,M.scrollTop),N=Nd(w==null?void 0:w.pageXOffset,M.scrollLeft),j=Nd(M.clientTop,p.clientTop),U=Nd(M.clientLeft,p.clientLeft);return Na(a).translate(N-U,E-j)},Na=function(a){var c=a.dom,p=c.ownerDocument,w=p.body;return w===c?Ii(w.offsetLeft,w.offsetTop):Or(a)?Pc(c):Ii(0,0)},Ld=Vs("width",function(a){return a.dom.offsetWidth}),Jf=function(a,c){return Ld.set(a,c)},Cs=function(a){return Ld.get(a)},il=function(a){return Ld.getOuter(a)},as=function(a,c){var p=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],w=Ld.max(a,c,p);Wr(a,"max-width",w+"px")},Rp=function(a,c,p,w,M,E,N){return{target:a,x:c,y:p,stop:w,prevent:M,kill:E,raw:N}},Nc=function(a){var c=He.fromDom(Hr(a).getOr(a.target)),p=function(){return a.stopPropagation()},w=function(){return a.preventDefault()},M=I(w,p);return Rp(c,a.clientX,a.clientY,p,w,M,a)},xu=function(a,c){return function(p){a(p)&&c(Nc(p))}},og=function(a,c,p,w,M){var E=xu(p,w);return a.dom.addEventListener(c,E,M),{unbind:Y(Rh,a,c,E,M)}},$b=function(a,c,p,w){return og(a,c,p,w,!1)},Ih=function(a,c,p,w){return og(a,c,p,w,!0)},Rh=function(a,c,p,w){a.dom.removeEventListener(c,p,w)},La=function(a,c){var p=aa(a);p.each(function(w){w.dom.insertBefore(c.dom,a.dom)})},Ph=function(a,c){var p=ue(a);p.fold(function(){var w=aa(a);w.each(function(M){Ts(M,c)})},function(w){La(w,c)})},Nh=function(a,c){var p=ee(a);p.fold(function(){Ts(a,c)},function(w){a.dom.insertBefore(c.dom,w.dom)})},Ts=function(a,c){a.dom.appendChild(c.dom)},Qf=function(a,c,p){H(a,p).fold(function(){Ts(a,c)},function(w){La(w,c)})},Lh=function(a,c){je(c,function(p){La(a,p)})},Zf=function(a,c){je(c,function(p){Ts(a,p)})},ca=function(a){a.dom.textContent="",je(W(a),function(c){Ml(c)})},Ml=function(a){var c=a.dom;c.parentNode!==null&&c.parentNode.removeChild(c)},Rv=function(a){var c=W(a);c.length>0&&Lh(a,c),Ml(a)},Yl=function(a){var c=a!==void 0?a.dom:document,p=c.body.scrollLeft||c.documentElement.scrollLeft,w=c.body.scrollTop||c.documentElement.scrollTop;return Ii(p,w)},Pv=function(a,c,p){var w=p!==void 0?p.dom:document,M=w.defaultView;M&&M.scrollTo(a,c)},Gb=function(a){var c=a===void 0?window:a;return Cr().browser.isFirefox()?G.none():G.from(c.visualViewport)},My=function(a,c,p,w){return{x:a,y:c,width:p,height:w,right:a+p,bottom:c+w}},Bh=function(a){var c=a===void 0?window:a,p=c.document,w=Yl(He.fromDom(p));return Gb(c).fold(function(){var M=c.document.documentElement,E=M.clientWidth,N=M.clientHeight;return My(w.left,w.top,E,N)},function(M){return My(Math.max(M.pageLeft,w.left),Math.max(M.pageTop,w.top),M.width,M.height)})},zh=function(a,c){var p=a.view(c);return p.fold(L([]),function(w){var M=a.owner(w),E=zh(a,M);return[w].concat(E)})},Bd=function(a,c){var p=c.owner(a),w=zh(c,p);return G.some(w)},Xr=function(a){var c,p=a.dom===document?G.none():G.from((c=a.dom.defaultView)===null||c===void 0?void 0:c.frameElement);return p.map(He.fromDom)},xc=function(a){return ia(a)},al=Object.freeze({__proto__:null,view:Xr,owner:xc}),Ms=function(a){var c=He.fromDom(document),p=Yl(c),w=Bd(a,al);return w.fold(Y(ol,a),function(M){var E=Na(a),N=st(M,function(j,U){var K=Na(U);return{left:j.left+K.left,top:j.top+K.top}},{left:0,top:0});return Ii(N.left+E.left+p.left,N.top+E.top+p.top)})},wc=function(a,c,p){return{point:a,width:c,height:p}},qa=function(a,c,p,w){return{x:a,y:c,width:p,height:w}},wu=function(a,c,p,w){return{x:a,y:c,width:p,height:w,right:a+p,bottom:c+w}},eu=function(a){var c=ol(a),p=il(a),w=Xl(a);return wu(c.left,c.top,p,w)},zd=function(a){var c=Ms(a),p=il(a),w=Xl(a);return wu(c.left,c.top,p,w)},us=function(){return Bh(window)},or=function(a){var c=function(se){return or(a)},p=function(se){return or(a)},w=function(se){return or(se(a))},M=function(se){return or(a)},E=function(se){se(a)},N=function(se){return se(a)},j=function(se,be){return be(a)},U=function(se){return se(a)},K=function(se){return se(a)},oe=function(){return G.some(a)};return{isValue:le,isError:ie,getOr:L(a),getOrThunk:L(a),getOrDie:L(a),or:c,orThunk:p,fold:j,map:w,mapError:M,each:E,bind:N,exists:U,forall:K,toOptional:oe}},Fh=function(a){var c=function(K){return K()},p=function(){return te(String(a))()},w=q,M=function(K){return K()},E=function(K){return Fh(a)},N=function(K){return Fh(K(a))},j=function(K){return Fh(a)},U=function(K,oe){return K(a)};return{isValue:ie,isError:le,getOr:q,getOrThunk:c,getOrDie:p,or:w,orThunk:M,fold:U,map:E,mapError:N,each:A,bind:j,exists:ie,forall:le,toOptional:G.none}},ky=function(a,c){return a.fold(function(){return Fh(c)},or)},fo={value:or,error:Fh,fromOption:ky},Ri;(function(a){a[a.Error=0]="Error",a[a.Value=1]="Value"})(Ri||(Ri={}));var Nv=function(a,c,p){return a.stype===Ri.Error?c(a.serror):p(a.svalue)},pf=function(a){var c=[],p=[];return je(a,function(w){Nv(w,function(M){return p.push(M)},function(M){return c.push(M)})}),{values:c,errors:p}},sa=function(a,c){return a.stype===Ri.Error?{stype:Ri.Error,serror:c(a.serror)}:a},Lv=function(a,c){return a.stype===Ri.Value?{stype:Ri.Value,svalue:c(a.svalue)}:a},kl=function(a,c){return a.stype===Ri.Value?c(a.svalue):a},ig=function(a,c){return a.stype===Ri.Error?c(a.serror):a},yo=function(a){return{stype:Ri.Value,svalue:a}},js=function(a){return{stype:Ri.Error,serror:a}},s_=function(a){return Nv(a,fo.error,fo.value)},l_=function(a){return a.fold(js,yo)},fa={fromResult:l_,toResult:s_,svalue:yo,partition:pf,serror:js,bind:kl,bindError:ig,map:Lv,mapError:sa,fold:Nv},Bv=function(a,c,p,w){return{tag:"field",key:a,newKey:c,presence:p,prop:w}},J=function(a,c){return{tag:"custom",newKey:a,instantiator:c}},me=function(a,c,p){switch(a.tag){case"field":return c(a.key,a.newKey,a.presence,a.prop);case"custom":return p(a.newKey,a.instantiator)}},xe=function(a,c){return c},Fe=function(a,c){var p=u(a)&&u(c);return p?Qt(a,c):c},yt=function(a){return function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];if(c.length===0)throw new Error("Can't merge zero objects");for(var w={},M=0;M<c.length;M++){var E=c[M];for(var N in E)ln(E,N)&&(w[N]=a(w[N],E[N]))}return w}},Qt=yt(Fe),vr=yt(xe),Qr=function(){return{tag:"required",process:{}}},Io=function(a){return{tag:"defaultedThunk",process:a}},bo=function(a){return Io(L(a))},Fi=function(){return{tag:"option",process:{}}},ss=function(a){return{tag:"mergeWithThunk",process:a}},ka=function(a){return ss(L(a))},b5=function(a,c){return a.length>0?fa.svalue(Qt(c,vr.apply(void 0,a))):fa.svalue(c)},NM=function(a){return I(fa.serror,Ke)(a)},LM=function(a,c){var p=fa.partition(a);return p.errors.length>0?NM(p.errors):b5(p.values,c)},x5=function(a){var c=fa.partition(a);return c.errors.length>0?NM(c.errors):fa.svalue(c.values)},ed={consolidateObj:LM,consolidateArr:x5},Dy=function(a){return u(a)&&Tt(a).length>100?" removed due to size":JSON.stringify(a,null,2)},Dl=function(a){var c=a.length>10?a.slice(0,10).concat([{path:[],getErrorInfo:L("... (only showing first ten failures)")}]):a;return Ye(c,function(p){return"Failed path: ("+p.path.join(" > ")+`)
`+p.getErrorInfo()})},zv=function(a,c){return fa.serror([{path:a,getErrorInfo:c}])},c_=function(a,c,p){return zv(a,function(){return'Could not find valid *required* value for "'+c+'" in '+Dy(p)})},Ay=function(a,c){return zv(a,function(){return'Choice schema did not contain choice key: "'+c+'"'})},Xb=function(a,c,p){return zv(a,function(){return'The chosen schema: "'+p+'" did not exist in branches: '+Dy(c)})},BM=function(a,c){return zv(a,function(){return"There are unsupported fields: ["+c.join(", ")+"] specified"})},w5=function(a,c){return zv(a,L(c))},td=function(a){var c=function(w,M){return fa.bindError(a(M),function(E){return w5(w,E)})},p=L("val");return{extract:c,toString:p}},Ey=td(fa.svalue),_5=function(a,c,p,w){return Pt(c,p).fold(function(){return c_(a,p,c)},w)},f_=function(a,c,p,w){var M=Pt(a,c).getOrThunk(function(){return p(a)});return w(M)},S5=function(a,c,p){return p(Pt(a,c))},C5=function(a,c,p,w){var M=Pt(a,c).map(function(E){return E===!0?p(a):E});return w(M)},Fv=function(a,c,p,w,M){var E=function(j){return M.extract(c.concat([w]),j)},N=function(j){return j.fold(function(){return fa.svalue(G.none())},function(U){var K=M.extract(c.concat([w]),U);return fa.map(K,G.some)})};switch(a.tag){case"required":return _5(c,p,w,E);case"defaultedThunk":return f_(p,w,a.process,E);case"option":return S5(p,w,N);case"defaultedOptionThunk":return C5(p,w,a.process,N);case"mergeWithThunk":return f_(p,w,L({}),function(j){var U=Qt(a.process(p),j);return E(U)})}},Oy=function(a,c,p){for(var w={},M=[],E=0,N=p;E<N.length;E++){var j=N[E];me(j,function(U,K,oe,se){var be=Fv(oe,a,c,U,se);fa.fold(be,function(_e){M.push.apply(M,_e)},function(_e){w[K]=_e})},function(U,K){w[U]=K(c)})}return M.length>0?fa.serror(M):fa.svalue(w)},zM=function(a){var c=function(w,M){return a().extract(w,M)},p=function(){return a().toString()};return{extract:c,toString:p}},FM=function(a){return Tt(wn(a,b))},Kl=function(a){var c=Sr(a),p=st(a,function(M,E){return me(E,function(N){var j;return Qt(M,(j={},j[N]=!0,j))},L(M))},{}),w=function(M,E){var N=h(E)?[]:FM(E),j=Je(N,function(U){return!Kn(p,U)});return j.length===0?c.extract(M,E):BM(M,j)};return{extract:w,toString:c.toString}},Sr=function(a){var c=function(w,M){return Oy(w,M,a)},p=function(){var w=Ye(a,function(M){return me(M,function(E,N,j,U){return E+" -> "+U.toString()},function(E,N){return"state("+E+")"})});return`obj{
`+w.join(`
`)+"}"};return{extract:c,toString:p}},Hh=function(a){var c=function(w,M){var E=Ye(M,function(N,j){return a.extract(w.concat(["["+j+"]"]),N)});return ed.consolidateArr(E)},p=function(){return"array("+a.toString()+")"};return{extract:c,toString:p}},Iy=function(a){var c=function(w,M){for(var E=[],N=0,j=a;N<j.length;N++){var U=j[N],K=U.extract(w,M);if(K.stype===Ri.Value)return K;E.push(K)}return ed.consolidateArr(E)},p=function(){return"oneOf("+Ye(a,function(w){return w.toString()}).join(", ")+")"};return{extract:c,toString:p}},Pp=function(a,c){var p=function(E,N){return Hh(td(a)).extract(E,N)},w=function(E,N){var j=Tt(N),U=p(E,j);return fa.bind(U,function(K){var oe=Ye(K,function(se){return Bv(se,se,Qr(),c)});return Sr(oe).extract(E,N)})},M=function(){return"setOf("+c.toString()+")"};return{extract:w,toString:M}},Hv=function(a,c){var p=_t(c),w=function(E,N){return p().extract(E,N)},M=function(){return p().toString()};return{extract:w,toString:M}},d_=I(Hh,Sr),mf=L(Ey),ag=function(a,c){return td(function(p){var w=typeof p;return a(p)?fa.svalue(p):fa.serror("Expected type: "+c+" but got: "+w)})},Vv=ag(_,"number"),$a=ag(i,"string"),Wu=ag(h,"boolean"),Ry=ag(S,"function"),Fd=function(a){if(Object(a)!==a)return!0;switch({}.toString.call(a).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(a).every(function(c){return Fd(a[c])});default:return!1}},Py=td(function(a){return Fd(a)?fa.svalue(a):fa.serror("Expected value to be acceptable for sending via postMessage")}),Yb=function(a,c,p,w){var M=Pt(p,w);return M.fold(function(){return Xb(a,p,w)},function(E){return E.extract(a.concat(["branch: "+w]),c)})},Kb=function(a,c){var p=function(M,E){var N=Pt(E,a);return N.fold(function(){return Ay(M,a)},function(j){return Yb(M,E,c,j)})},w=function(){return"chooseOn("+a+"). Possible values: "+Tt(c)};return{extract:p,toString:w}},T5=function(){return Hh(Ey)},jv=function(a){return td(function(c){return a(c).fold(fa.serror,fa.svalue)})},ks=function(a,c){return Pp(function(p){return fa.fromResult(a(p))},c)},HM=function(a,c,p){var w=c.extract([a],p);return fa.mapError(w,function(M){return{input:p,errors:M}})},wa=function(a,c,p){return fa.toResult(HM(a,c,p))},gf=function(a){return a.fold(function(c){throw new Error(Np(c))},q)},mi=function(a,c,p){return gf(wa(a,c,p))},Np=function(a){return`Errors: 
`+Dl(a.errors).join(`
`)+`

Input object: `+Dy(a.input)},Lc=function(a,c){return Kb(a,bn(c,Sr))},M5=function(a,c){return Hv(a,c)},_u=Bv,ul=J,VM=function(a){return jv(function(c){return Ot(a,c)?fo.value(c):fo.error('Unsupported value: "'+c+'", choose one of "'+a.join(", ")+'".')})},on=function(a){return _u(a,a,Qr(),mf())},Al=function(a,c){return _u(a,a,Qr(),c)},Vh=function(a){return Al(a,Vv)},Yr=function(a){return Al(a,$a)},_c=function(a,c){return _u(a,a,Qr(),VM(c))},k5=function(a){return Al(a,Wu)},Us=function(a){return Al(a,Ry)},Uv=function(a,c){return _u(a,a,Fi(),td(function(p){return fa.serror("The field: "+a+" is forbidden. "+c)}))},Hd=function(a,c){return _u(a,a,Qr(),Sr(c))},vf=function(a,c){return _u(a,a,Qr(),d_(c))},Ds=function(a,c){return _u(a,a,Qr(),Hh(c))},oi=function(a){return _u(a,a,Fi(),mf())},nd=function(a,c){return _u(a,a,Fi(),c)},ug=function(a){return nd(a,Vv)},Wi=function(a){return nd(a,$a)},Lp=function(a){return nd(a,Ry)},Jl=function(a,c){return nd(a,Hh(c))},Ql=function(a,c){return nd(a,Sr(c))},D5=function(a,c){return nd(a,Kl(c))},dt=function(a,c){return _u(a,a,bo(c),mf())},sl=function(a,c,p){return _u(a,a,bo(c),p)},rd=function(a,c){return sl(a,c,Vv)},Wv=function(a,c){return sl(a,c,$a)},Sc=function(a,c,p){return sl(a,c,VM(p))},Pi=function(a,c){return sl(a,c,Wu)},qi=function(a,c){return sl(a,c,Ry)},El=function(a,c){return sl(a,c,Py)},jh=function(a,c,p){return sl(a,c,Hh(p))},h_=function(a,c,p){return sl(a,c,Sr(p))},Er=function(a){var c=a,p=function(){return c},w=function(M){c=M};return{get:p,set:w}},Jb=function(a){if(!l(a))throw new Error("cases must be an array");if(a.length===0)throw new Error("there must be at least one case");var c=[],p={};return je(a,function(w,M){var E=Tt(w);if(E.length!==1)throw new Error("one and only one name per case");var N=E[0],j=w[N];if(p[N]!==void 0)throw new Error("duplicate key detected:"+N);if(N==="cata")throw new Error("cannot have a case named cata (sorry)");if(!l(j))throw new Error("case arguments must be an array");c.push(N),p[N]=function(){for(var U=[],K=0;K<arguments.length;K++)U[K]=arguments[K];var oe=U.length;if(oe!==j.length)throw new Error("Wrong number of arguments to case "+N+". Expected "+j.length+" ("+j+"), got "+oe);var se=function(be){var _e=Tt(be);if(c.length!==_e.length)throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+`
Actual: `+_e.join(","));var Ee=Mn(c,function(Ve){return Ot(_e,Ve)});if(!Ee)throw new Error("Not all branches were specified when using match. Specified: "+_e.join(", ")+`
Required: `+c.join(", "));return be[N].apply(null,U)};return{fold:function(){for(var be=[],_e=0;_e<arguments.length;_e++)be[_e]=arguments[_e];if(be.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+be.length);var Ee=be[M];return Ee.apply(null,U)},match:se,log:function(be){console.log(be,{constructors:c,constructor:N,params:U})}}}}),p},Cc={generate:Jb};Cc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var jM=function(a){var c=[],p=[];return je(a,function(w){w.fold(function(M){c.push(M)},function(M){p.push(M)})}),{errors:c,values:p}},Ny=function(a,c){var p={};return Bn(a,function(w,M){Ot(c,M)||(p[M]=w)}),p},Ly=function(a,c){var p;return p={},p[a]=c,p},p_=function(a){var c={};return je(a,function(p){c[p.key]=p.value}),c},m_=function(a,c){return Ny(a,c)},Vd=function(a,c){return Ly(a,c)},Uh=function(a){return p_(a)},A5=function(a,c){return a.length===0?fo.value(c):fo.value(Qt(c,vr.apply(void 0,a)))},g_=function(a){return fo.error(Ke(a))},E5=function(a,c){var p=jM(a);return p.errors.length>0?g_(p.errors):A5(p.values,c)},UM=function(a){return S(a)?a:ie},By=function(a,c,p){for(var w=a.dom,M=UM(p);w.parentNode;){w=w.parentNode;var E=He.fromDom(w),N=c(E);if(N.isSome())return N;if(M(E))break}return G.none()},qv=function(a,c,p){var w=c(a),M=UM(p);return w.orThunk(function(){return M(a)?G.none():By(a,c,M)})},WM=function(a,c){return si(a.element,c.event.target)},jd={can:le,abort:ie,run:A},$v=function(a){if(!Kn(a,"can")&&!Kn(a,"abort")&&!Kn(a,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(a,null,2)+" does not have can, abort, or run!");return ne(ne({},jd),a)},v_=function(a,c){return function(){for(var p=[],w=0;w<arguments.length;w++)p[w]=arguments[w];return Ft(a,function(M,E){return M&&c(E).apply(void 0,p)},!0)}},qM=function(a,c){return function(){for(var p=[],w=0;w<arguments.length;w++)p[w]=arguments[w];return Ft(a,function(M,E){return M||c(E).apply(void 0,p)},!1)}},O5=function(a){return S(a)?{can:le,abort:ie,run:a}:a},I5=function(a){var c=v_(a,function(M){return M.can}),p=qM(a,function(M){return M.abort}),w=function(){for(var M=[],E=0;E<arguments.length;E++)M[E]=arguments[E];je(a,function(N){N.run.apply(void 0,M)})};return{can:c,abort:p,run:w}},fu=L,Ud=fu("touchstart"),yf=fu("touchmove"),Bp=fu("touchend"),$M=fu("touchcancel"),bf=fu("mousedown"),sg=fu("mousemove"),y_=fu("mouseout"),b_=fu("mouseup"),Wh=fu("mouseover"),Bc=fu("focusin"),ls=fu("focusout"),Qb=fu("keydown"),x_=fu("keyup"),lg=fu("input"),Gv=fu("change"),Xv=fu("click"),R5=fu("transitioncancel"),Yv=fu("transitionend"),w_=fu("transitionstart"),P5=fu("selectstart"),Da=function(a){return L("alloy."+a)},Zb={tap:Da("tap")},zp=Da("focus"),__=Da("blur.post"),S_=Da("paste.post"),zc=Da("receive"),Tc=Da("execute"),cg=Da("focus.item"),Fp=Zb.tap,ex=Da("longpress"),zy=Da("sandbox.close"),C_=Da("typeahead.cancel"),fg=Da("system.init"),tx=Da("system.touchmove"),N5=Da("system.touchend"),T_=Da("system.scroll"),Mc=Da("system.resize"),Zl=Da("system.attached"),Kv=Da("system.detached"),xf=Da("system.dismissRequested"),Ws=Da("system.repositionRequested"),nx=Da("focusmanager.shifted"),qh=Da("slotcontainer.visibility"),GM=Da("change.tab"),cs=Da("dismiss.tab"),XM=Da("highlight"),Fy=Da("dehighlight"),Mo=function(a,c){wf(a,a.element,c,{})},Ir=function(a,c,p){wf(a,a.element,c,p)},$h=function(a){Mo(a,Tc())},M_=function(a,c,p){wf(a,c,p,{})},wf=function(a,c,p,w){var M=ne({target:c},w);a.getSystem().triggerEvent(p,c,M)},YM=function(a,c,p,w){a.getSystem().triggerEvent(p,c,w.event)},$i=function(a){return Uh(a)},k_=function(a,c){return{key:a,value:$v({abort:c})}},Hy=function(a,c){return{key:a,value:$v({can:c})}},rx=function(a){return{key:a,value:$v({run:function(c,p){p.event.prevent()}})}},fn=function(a,c){return{key:a,value:$v({run:c})}},Vy=function(a,c,p){return{key:a,value:$v({run:function(w,M){c.apply(void 0,[w,M].concat(p))}})}},Jv=function(a){return function(c){return fn(a,c)}},Qv=function(a){return function(c){return{key:a,value:$v({run:function(p,w){WM(p,w)&&c(p,w)}})}}},dg=function(a,c){return fn(a,function(p,w){p.getSystem().getByUid(c).each(function(M){YM(M,M.element,a,w)})})},hg=function(a,c,p){var w=c.partUids[p];return dg(a,w)},Hp=function(a,c){return fn(a,function(p,w){var M=w.event,E=p.getSystem().getByDom(M.target).getOrThunk(function(){var N=qv(M.target,function(j){return p.getSystem().getByDom(j).toOptional()},ie);return N.getOr(p)});c(p,E,w)})},Ga=function(a){return fn(a,function(c,p){p.cut()})},ta=function(a){return fn(a,function(c,p){p.stop()})},Gh=function(a,c){return Qv(a)(c)},da=Qv(Zl()),ec=Qv(Kv()),D_=Qv(fg()),_f=Jv(Tc()),ox=function(a,c){var p=c||document,w=p.createElement("div");return w.innerHTML=a,W(He.fromDom(w))},Ol=function(a){return a.dom.innerHTML},od=function(a,c){var p=ia(a),w=p.dom,M=He.fromDom(w.createDocumentFragment()),E=ox(c,w);Zf(M,E),ca(a),Ts(a,M)},Xh=function(a){var c=He.fromTag("div"),p=He.fromDom(a.dom.cloneNode(!0));return Ts(c,p),Ol(c)},qu=function(a,c){return He.fromDom(a.dom.cloneNode(c))},ix=function(a){return qu(a,!1)},As=function(a){if(gt(a))return"#shadow-root";var c=ix(a);return Xh(c)},$u=function(a){return As(a)},Zv=function(a,c,p){return si(c,a.element)&&!si(c,p)},L5=$i([Hy(zp(),function(a,c){var p=c.event,w=p.originator,M=p.target;return Zv(a,w,M)?(console.warn(zp()+` did not get interpreted by the desired target. 
Originator: `+$u(w)+`
Target: `+$u(M)+`
Check the `+zp()+" event handlers"),!1):!0})]),jy=Object.freeze({__proto__:null,events:L5}),du=0,ir=function(a){var c=new Date,p=c.getTime(),w=Math.floor(Math.random()*1e9);return du++,a+"_"+w+du+String(p)},Fc=L("alloy-id-"),B5=L("data-alloy-id"),KM=Fc(),e0=B5(),JM=function(a,c){var p=ir(KM+a);return Uy(c,p),p},Uy=function(a,c){Object.defineProperty(a.dom,e0,{value:c,writable:!0})},Wd=function(a){var c=he(a)?a.dom[e0]:null;return G.from(c)},pg=function(a){return ir(a)},A_=q,id=function(a){var c=function(M){return"The component must be in a context to execute: "+M+(a?`
`+$u(a().element)+" is not in context.":"")},p=function(M){return function(){throw new Error(c(M))}},w=function(M){return function(){console.warn(c(M))}};return{debugInfo:L("fake"),triggerEvent:w("triggerEvent"),triggerFocus:w("triggerFocus"),triggerEscape:w("triggerEscape"),broadcast:w("broadcast"),broadcastOn:w("broadcastOn"),broadcastEvent:w("broadcastEvent"),build:p("build"),addToWorld:p("addToWorld"),removeFromWorld:p("removeFromWorld"),addToGui:p("addToGui"),removeFromGui:p("removeFromGui"),getByUid:p("getByUid"),getByDom:p("getByDom"),isConnected:ie}},z5=id(),mg=function(a,c,p){var w=p.toString(),M=w.indexOf(")")+1,E=w.indexOf("("),N=w.substring(E+1,M-1).split(/,\s*/);return a.toFunctionAnnotation=function(){return{name:c,parameters:qd(N.slice(0,1).concat(N.slice(3)))}},a},qd=function(a){return Ye(a,function(c){return dr(c,"/*")?c.substring(0,c.length-2):c})},Vp=function(a,c){var p=a.toString(),w=p.indexOf(")")+1,M=p.indexOf("("),E=p.substring(M+1,w-1).split(/,\s*/);return a.toFunctionAnnotation=function(){return{name:c,parameters:qd(E)}},a},gg=function(a,c){var p=c.toString(),w=p.indexOf(")")+1,M=p.indexOf("("),E=p.substring(M+1,w-1).split(/,\s*/);return a.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:qd(E.slice(1))}},a},QM=ir("alloy-premade"),tu=function(a){return Vd(QM,a)},jp=function(a){return Pt(a,QM)},vg=function(a){return gg(function(c){for(var p=[],w=1;w<arguments.length;w++)p[w-1]=arguments[w];return a.apply(void 0,Ce([c.getApis(),c],p,!1))},a)},tc={init:function(){return Gu({readState:L("No State required")})}},Gu=function(a){return a},F5=function(a,c){var p=Ye(c,function(M){return Ql(M.name(),[on("config"),dt("state",tc)])}),w=wa("component.behaviours",Sr(p),a.behaviours).fold(function(M){throw new Error(Np(M)+`
Complete spec:
`+JSON.stringify(a,null,2))},q);return{list:c,data:bn(w,function(M){var E=M.map(function(N){return{config:N.config,state:N.state.init(N.config)}});return L(E)})}},H5=function(a){return a.list},V5=function(a){return a.data},ZM=function(a,c){var p={};return Bn(a,function(w,M){Bn(w,function(E,N){var j=Pt(p,N).getOr([]);p[N]=j.concat([c(M,E)])})}),p},ad=function(a){return{classes:g(a.classes)?[]:a.classes,attributes:g(a.attributes)?{}:a.attributes,styles:g(a.styles)?{}:a.styles}},ax=function(a,c){return ne(ne({},a),{attributes:ne(ne({},a.attributes),c.attributes),styles:ne(ne({},a.styles),c.styles),classes:a.classes.concat(c.classes)})},t0=function(a,c,p,w){var M=ne({},c);je(p,function(oe){M[oe.name()]=oe.exhibit(a,w)});var E=ZM(M,function(oe,se){return{name:oe,modification:se}}),N=function(oe){return st(oe,function(se,be){return ne(ne({},be.modification),se)},{})},j=st(E.classes,function(oe,se){return se.modification.concat(oe)},[]),U=N(E.attributes),K=N(E.styles);return ad({classes:j,attributes:U,styles:K})},j5=function(a,c,p,w){try{var M=To(p,function(E,N){var j=E[c],U=N[c],K=w.indexOf(j),oe=w.indexOf(U);if(K===-1)throw new Error("The ordering for "+a+" does not have an entry for "+j+`.
Order specified: `+JSON.stringify(w,null,2));if(oe===-1)throw new Error("The ordering for "+a+" does not have an entry for "+U+`.
Order specified: `+JSON.stringify(w,null,2));return K<oe?-1:oe<K?1:0});return fo.value(M)}catch(E){return fo.error([E])}},E_=function(a,c){return{handler:a,purpose:c}},ek=function(a,c){return{cHandler:a,purpose:c}},O_=function(a,c){return ek(Y.apply(void 0,[a.handler].concat(c)),a.purpose)},I_=function(a){return a.cHandler},Up=function(a,c){return{name:a,handler:c}},Wp=function(a,c){var p={};return je(a,function(w){p[w.name()]=w.handlers(c)}),p},Hi=function(a,c,p){var w=ne(ne({},p),Wp(c,a));return ZM(w,Up)},R_=function(a,c,p,w){var M=Hi(a,p,w);return W5(M,c)},Hc=function(a){var c=O5(a);return function(p,w){for(var M=[],E=2;E<arguments.length;E++)M[E-2]=arguments[E];var N=[p,w].concat(M);c.abort.apply(void 0,N)?w.stop():c.can.apply(void 0,N)&&c.run.apply(void 0,N)}},P_=function(a,c){return fo.error(["The event ("+a+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Ye(c,function(p){return p.name}),null,2)])},U5=function(a,c,p){var w=c[p];return w?j5("Event: "+p,"name",a,w).map(function(M){var E=Ye(M,function(N){return N.handler});return I5(E)}):P_(p,a)},W5=function(a,c){var p=er(a,function(w,M){var E=w.length===1?fo.value(w[0].handler):U5(w,c,M);return E.map(function(N){var j=Hc(N),U=w.length>1?Je(c[M],function(K){return Nt(w,function(oe){return oe.name===K})}).join(" > "):w[0].name;return Vd(M,E_(j,U))})});return E5(p,{})},ll,Sf="alloy.base.behaviour",N_=Sr([_u("dom","dom",Qr(),Sr([on("tag"),dt("styles",{}),dt("classes",[]),dt("attributes",{}),oi("value"),oi("innerHtml")])),on("components"),on("uid"),dt("events",{}),dt("apis",{}),_u("eventOrder","eventOrder",ka((ll={},ll[Tc()]=["disabling",Sf,"toggling","typeaheadevents"],ll[zp()]=[Sf,"focusing","keying"],ll[fg()]=[Sf,"disabling","toggling","representing"],ll[lg()]=[Sf,"representing","streaming","invalidating"],ll[Kv()]=[Sf,"representing","item-events","tooltipping"],ll[bf()]=["focusing",Sf,"item-type-events"],ll[Ud()]=["focusing",Sf,"item-type-events"],ll[Wh()]=["item-type-events","tooltipping"],ll[zc()]=["receiving","reflecting","tooltipping"],ll)),mf()),oi("domModification")]),Wy=function(a){return wa("custom.definition",N_,a)},n0=function(a){return ne(ne({},a.dom),{uid:a.uid,domChildren:Ye(a.components,function(c){return c.element})})},L_=function(a){return a.domModification.fold(function(){return ad({})},ad)},tk=function(a){return a.events},qp=function(a,c){var p=ua(a,c);return p===void 0||p===""?[]:p.split(" ")},B_=function(a,c,p){var w=qp(a,c),M=w.concat([p]);return so(a,c,M.join(" ")),!0},z_=function(a,c,p){var w=Je(qp(a,c),function(M){return M!==p});return w.length>0?so(a,c,w.join(" ")):Uu(a,c),!1},ux=function(a){return a.dom.classList!==void 0},sx=function(a){return qp(a,"class")},yg=function(a,c){return B_(a,"class",c)},nk=function(a,c){return z_(a,"class",c)},Xu=function(a,c){ux(a)?a.dom.classList.add(c):yg(a,c)},ud=function(a){var c=ux(a)?a.dom.classList:sx(a);c.length===0&&Uu(a,"class")},hu=function(a,c){if(ux(a)){var p=a.dom.classList;p.remove(c)}else nk(a,c);ud(a)},cl=function(a,c){return ux(a)&&a.dom.classList.contains(c)},Yh=function(a,c){je(c,function(p){Xu(a,p)})},$d=function(a,c){je(c,function(p){hu(a,p)})},F_=function(a,c){return Mn(c,function(p){return cl(a,p)})},nc=function(a){return a.dom.value},r0=function(a,c){if(c===void 0)throw new Error("Value.set was undefined");a.dom.value=c},rk=function(a){var c=He.fromTag(a.tag);$l(c,a.attributes),Yh(c,a.classes),Gl(c,a.styles),a.innerHtml.each(function(w){return od(c,w)});var p=a.domChildren;if(Zf(c,p),a.value.each(function(w){r0(c,w)}),!a.uid)debugger;return Uy(c,a.uid),c},q5=function(a){var c=Pt(a,"behaviours").getOr({});return Bt(Tt(c),function(p){var w=c[p];return b(w)?[w.me]:[]})},$5=function(a,c){return F5(a,c)},G5=function(a){var c=q5(a);return $5(a,c)},X5=function(a,c,p){var w=n0(a),M=L_(a),E={"alloy.base.modification":M},N=c.length>0?t0(p,E,c,w):M;return ax(w,N)},H_=function(a,c,p){var w={"alloy.base.behaviour":tk(a)};return R_(p,a.eventOrder,c,w).getOrDie()},lx=function(a){var c=function(){return ht},p=Er(z5),w=gf(Wy(a)),M=G5(a),E=H5(M),N=V5(M),j=X5(w,E,N),U=rk(j),K=H_(w,E,N),oe=Er(w.components),se=function(Wt){p.set(Wt)},be=function(){p.set(id(c))},_e=function(){var Wt=W(U),Kt=Bt(Wt,function(ct){return p.get().getByDom(ct).fold(function(){return[]},ao)});oe.set(Kt)},Ee=function(Wt){var Kt=N,ct=S(Kt[Wt.name()])?Kt[Wt.name()]:function(){throw new Error("Could not find "+Wt.name()+" in "+JSON.stringify(a,null,2))};return ct()},Ve=function(Wt){return S(N[Wt.name()])},ft=function(){return w.apis},Be=function(Wt){return N[Wt]().map(function(Kt){return Kt.state.readState()}).getOr("not enabled")},ht={uid:a.uid,getSystem:p.get,config:Ee,hasConfigured:Ve,spec:a,readState:Be,getApis:ft,connect:se,disconnect:be,element:U,syncComponents:_e,components:oe.get,events:K};return ht},kc=function(a){var c=Pt(a,"components").getOr([]);return Ye(c,nu)},ok=function(a){var c=A_(a),p=c.events,w=Q(c,["events"]),M=kc(w),E=ne(ne({},w),{events:ne(ne({},jy),p),components:M});return fo.value(lx(E))},$p=function(a){var c=He.fromText(a);return qy({element:c})},qy=function(a){var c=mi("external.component",Kl([on("element"),oi("uid")]),a),p=Er(id()),w=function(j){p.set(j)},M=function(){p.set(id(function(){return N}))},E=c.uid.getOrThunk(function(){return pg("external")});Uy(c.element,E);var N={uid:E,getSystem:p.get,config:G.none,hasConfigured:ie,connect:w,disconnect:M,getApis:function(){return{}},element:c.element,spec:a,readState:L("No state"),syncComponents:A,components:L([]),events:{}};return tu(N)},sd=pg,Vc=function(a){return ln(a,"uid")},nu=function(a){return jp(a).getOrThunk(function(){var c=Vc(a)?a:ne({uid:sd("")},a);return ok(c).getOrDie()})},Dc=tu;function Gp(a,c,p,w,M){return a(p,w)?G.some(p):S(M)&&M(p)?G.none():c(p,w,M)}var V_=function(a,c,p){for(var w=a.dom,M=S(p)?p:ie;w.parentNode;){w=w.parentNode;var E=He.fromDom(w);if(c(E))return G.some(E);if(M(E))break}return G.none()},ho=function(a,c,p){var w=function(M,E){return E(M)};return Gp(w,V_,a,c,p)},$y=function(a,c){var p=function(M){return c(He.fromDom(M))},w=Rt(a.dom.childNodes,p);return w.map(He.fromDom)},Y5=function(a,c){var p=function(w){for(var M=0;M<w.childNodes.length;M++){var E=He.fromDom(w.childNodes[M]);if(c(E))return G.some(E);var N=p(w.childNodes[M]);if(N.isSome())return N}return G.none()};return p(a.dom)},cx=function(a,c,p){return ho(a,c,p).isSome()},fx=function(a,c,p){return V_(a,function(w){return Oo(w,c)},p)},K5=function(a,c){return $y(a,function(p){return Oo(p,c)})},pu=function(a,c){return Pd(c,a)},qs=function(a,c,p){var w=function(M,E){return Oo(M,E)};return Gp(w,fx,a,c,p)},na=function(a){var c=ho(a,function(p){if(!he(p))return!1;var w=ua(p,"id");return w!==void 0&&w.indexOf("aria-owns")>-1});return c.bind(function(p){var w=ua(p,"id"),M=Tr(p);return pu(M,'[aria-owns="'+w+'"]')})},ik=function(){var a=ir("aria-owns"),c=function(w){so(w,"aria-owns",a)},p=function(w){Uu(w,"aria-owns")};return{id:a,link:c,unlink:p}},j_=function(a,c){return na(c).exists(function(p){return bg(a,p)})},bg=function(a,c){return cx(c,function(p){return si(p,a.element)},ie)||j_(a,c)},ak="unknown",xg;(function(a){a[a.STOP=0]="STOP",a[a.NORMAL=1]="NORMAL",a[a.LOGGING=2]="LOGGING"})(xg||(xg={}));var o0=Er({}),uk=function(a,c){var p=[],w=new Date().getTime();return{logEventCut:function(M,E,N){p.push({outcome:"cut",target:E,purpose:N})},logEventStopped:function(M,E,N){p.push({outcome:"stopped",target:E,purpose:N})},logNoParent:function(M,E,N){p.push({outcome:"no-parent",target:E,purpose:N})},logEventNoHandlers:function(M,E){p.push({outcome:"no-handlers-left",target:E})},logEventResponse:function(M,E,N){p.push({outcome:"response",purpose:N,target:E})},write:function(){var M=new Date().getTime();Ot(["mousemove","mouseover","mouseout",fg()],a)||console.log(a,{event:a,time:M-w,target:c.dom,sequence:Ye(p,function(E){return Ot(["cut","stopped","response"],E.outcome)?"{"+E.purpose+"} "+E.outcome+" at ("+$u(E.target)+")":E.outcome})})}}},Gd=function(a,c,p){var w=Pt(o0.get(),a).orThunk(function(){var N=Tt(o0.get());return vt(N,function(j){return a.indexOf(j)>-1?G.some(o0.get()[j]):G.none()})}).getOr(xg.NORMAL);switch(w){case xg.NORMAL:return p(U_());case xg.LOGGING:{var M=uk(a,c),E=p(M);return M.write(),E}case xg.STOP:return!0}},fl=["alloy/data/Fields","alloy/debugging/Debugging"],J5=function(){var a=new Error;if(a.stack!==void 0){var c=a.stack.split(`
`);return Rt(c,function(p){return p.indexOf("alloy")>0&&!Nt(fl,function(w){return p.indexOf(w)>-1})}).getOr(ak)}else return ak},Q5={logEventCut:A,logEventStopped:A,logNoParent:A,logEventNoHandlers:A,logEventResponse:A,write:A},wg=function(a,c,p){return Gd(a,c,p)},U_=L(Q5),Xp=L([on("menu"),on("selectedMenu")]),_g=L([on("item"),on("selectedItem")]);L(Sr(_g().concat(Xp())));var W_=L(Sr(_g())),Z5=Hd("initSize",[on("numColumns"),on("numRows")]),eO=function(){return Al("markers",W_())},Sg=function(){return Hd("markers",[on("backgroundMenu")].concat(Xp()).concat(_g()))},Cg=function(a){return Hd("markers",Ye(a,on))},dx=function(a,c,p){return J5(),_u(c,c,p,jv(function(w){return fo.value(function(){for(var M=[],E=0;E<arguments.length;E++)M[E]=arguments[E];return w.apply(void 0,M)})}))},_o=function(a){return dx("onHandler",a,bo(A))},Ni=function(a){return dx("onKeyboardHandler",a,bo(G.none))},Tg=function(a){return dx("onHandler",a,Qr())},Yp=function(a){return dx("onKeyboardHandler",a,Qr())},Ci=function(a,c){return ul(a,L(c))},hx=function(a){return ul(a,q)},px=L(Z5),Yu=function(a,c,p,w,M,E,N,j){return j===void 0&&(j=!1),{x:a,y:c,bubble:p,direction:w,placement:M,restriction:E,label:N+"-"+M,alwaysFit:j}},Kp=Cc.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),mx=function(a,c,p,w,M,E,N,j,U){return a.fold(c,p,w,M,E,N,j,U)},tO=function(a,c,p,w){return a.fold(c,c,w,w,c,w,p,p)},nO=function(a,c,p,w){return a.fold(c,w,c,w,p,p,c,w)},gx=Kp.southeast,i0=Kp.southwest,q_=Kp.northeast,vx=Kp.northwest,a0=Kp.south,yx=Kp.north,Il=Kp.east,Mg=Kp.west,Xd=function(a,c,p,w){var M=a+c;return M>w?p:M<p?w:M},Rl=function(a,c,p){return Math.min(Math.max(a,c),p)},sk=function(a,c){switch(c){case 1:return a.x;case 0:return a.x+a.width;case 2:return a.y;case 3:return a.y+a.height}},fs=function(a,c){return pr(["left","right","top","bottom"],function(p){return Pt(c,p).map(function(w){return sk(a,w)})})},$_=function(a,c,p){var w=function(U,K){return c[U].map(function(oe){var se=U==="top"||U==="bottom",be=se?p.top:p.left,_e=U==="left"||U==="top"?Math.max:Math.min,Ee=_e(oe,K)+be;return se?Rl(Ee,a.y,a.bottom):Rl(Ee,a.x,a.right)}).getOr(K)},M=w("left",a.x),E=w("top",a.y),N=w("right",a.right),j=w("bottom",a.bottom);return wu(M,E,N-M,j-E)},Kh="layout",G_=function(a){return a.x},X_=function(a,c){return a.x+a.width/2-c.width/2},lk=function(a,c){return a.x+a.width-c.width},bx=function(a,c){return a.y-c.height},u0=function(a){return a.y+a.height},Y_=function(a,c){return a.y+a.height/2-c.height/2},rO=function(a){return a.x+a.width},oO=function(a,c){return a.x-c.width},Es=function(a,c,p){return Yu(G_(a),u0(a),p.southeast(),gx(),"southeast",fs(a,{left:1,top:3}),Kh)},Su=function(a,c,p){return Yu(lk(a,c),u0(a),p.southwest(),i0(),"southwest",fs(a,{right:0,top:3}),Kh)},$s=function(a,c,p){return Yu(G_(a),bx(a,c),p.northeast(),q_(),"northeast",fs(a,{left:1,bottom:2}),Kh)},Ku=function(a,c,p){return Yu(lk(a,c),bx(a,c),p.northwest(),vx(),"northwest",fs(a,{right:0,bottom:2}),Kh)},Pl=function(a,c,p){return Yu(X_(a,c),bx(a,c),p.north(),yx(),"north",fs(a,{bottom:2}),Kh)},ds=function(a,c,p){return Yu(X_(a,c),u0(a),p.south(),a0(),"south",fs(a,{top:3}),Kh)},xx=function(a,c,p){return Yu(rO(a),Y_(a,c),p.east(),Il(),"east",fs(a,{left:0}),Kh)},Jp=function(a,c,p){return Yu(oO(a,c),Y_(a,c),p.west(),Mg(),"west",fs(a,{right:1}),Kh)},Qp=function(){return[Es,Su,$s,Ku,ds,Pl,xx,Jp]},K_=function(){return[Su,Es,Ku,$s,ds,Pl,xx,Jp]},ck=function(){return[$s,Ku,Es,Su,Pl,ds]},_x=function(){return[Ku,$s,Su,Es,Pl,ds]},Jh=function(){return[Es,Su,$s,Ku,ds,Pl]},Zp=function(){return[Su,Es,Ku,$s,ds,Pl]},fk=function(a,c){return c.universal?a:Je(a,function(p){return Ot(c.channels,p)})},iO=function(a){return $i([fn(zc(),function(c,p){var w=a.channels,M=Tt(w),E=p,N=fk(M,E);je(N,function(j){var U=w[j],K=U.schema,oe=mi("channel["+j+`] data
Receiver: `+$u(c.element),K,E.data);U.onReceive(c,oe)})})])},Sx=Object.freeze({__proto__:null,events:iO}),dl=[Al("channels",ks(fo.value,Kl([Tg("onReceive"),dt("schema",mf())])))],Cx=function(a,c,p){return _f(function(w){p(w,a,c)})},Cu=function(a,c,p){return D_(function(w,M){p(w,a,c)})},dk=function(a,c,p,w,M,E){var N=Kl(a),j=Ql(c,[D5("config",a)]);return pk(N,j,c,p,w,M,E)},aO=function(a,c,p,w,M,E){var N=a,j=Ql(c,[nd("config",a)]);return pk(N,j,c,p,w,M,E)},J_=function(a,c,p){var w=function(M){for(var E=[],N=1;N<arguments.length;N++)E[N-1]=arguments[N];var j=[M].concat(E);return M.config({name:L(a)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+a+". Using API: "+p)},function(U){var K=Array.prototype.slice.call(j,1);return c.apply(void 0,[M,U.config,U.state].concat(K))})};return mg(w,p,c)},hk=function(a){return{key:a,value:void 0}},pk=function(a,c,p,w,M,E,N){var j=function(se){return Kn(se,p)?se[p]():G.none()},U=bn(M,function(se,be){return J_(p,se,be)}),K=bn(E,function(se,be){return Vp(se,be)}),oe=ne(ne(ne({},K),U),{revoke:Y(hk,p),config:function(se){var be=mi(p+"-config",a,se);return{key:p,value:{config:be,me:oe,configAsRaw:_t(function(){return mi(p+"-config",a,se)}),initialConfig:se,state:N}}},schema:L(c),exhibit:function(se,be){return ui(j(se),Pt(w,"exhibit"),function(_e,Ee){return Ee(be,_e.config,_e.state)}).getOrThunk(function(){return ad({})})},name:L(p),handlers:function(se){return j(se).map(function(be){var _e=Pt(w,"events").getOr(function(){return{}});return _e(be.config,be.state)}).getOr({})}});return oe},zn=function(a){return Uh(a)},uO=Kl([on("fields"),on("name"),dt("active",{}),dt("apis",{}),dt("state",tc),dt("extra",{})]),Xa=function(a){var c=mi("Creating behaviour: "+a.name,uO,a);return dk(c.fields,c.name,c.active,c.apis,c.extra,c.state)},Q_=Kl([on("branchKey"),on("branches"),on("name"),dt("active",{}),dt("apis",{}),dt("state",tc),dt("extra",{})]),kg=function(a){var c=mi("Creating behaviour: "+a.name,Q_,a);return aO(Lc(c.branchKey,c.branches),c.name,c.active,c.apis,c.extra,c.state)},Tx=L(void 0),rc=Xa({fields:dl,name:"receiving",active:Sx}),s0=function(a,c){return ad({classes:[],styles:c.useFixed()?{}:{position:"relative"}})},Gy=Object.freeze({__proto__:null,exhibit:s0}),Mx=function(){return He.fromDom(document)},Yd=function(a){return a.dom.focus()},Xy=function(a){return a.dom.blur()},kx=function(a){var c=Tr(a).dom;return a.dom===c.activeElement},oc=function(a){return a===void 0&&(a=Mx()),G.from(a.dom.activeElement).map(He.fromDom)},Cf=function(a){return oc(Tr(a)).filter(function(c){return a.dom.contains(c.dom)})},Qh=function(a,c){var p=Tr(c),w=oc(p).bind(function(E){var N=function(j){return si(E,j)};return N(c)?G.some(c):Y5(c,N)}),M=a(c);return w.each(function(E){oc(p).filter(function(N){return si(N,E)}).fold(function(){Yd(E)},A)}),M},Tu=function(a,c,p,w,M){var E=function(N){return N+"px"};return{position:a,left:c.map(E),top:p.map(E),right:w.map(E),bottom:M.map(E)}},Z_=function(a){return ne(ne({},a),{position:G.some(a.position)})},Ut=function(a,c){Ta(a,Z_(c))},em=Cc.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Yy=function(a,c,p,w,M,E){var N=c.rect,j=N.x-p,U=N.y-w,K=N.width,oe=N.height,se=M-(j+K),be=E-(U+oe),_e=G.some(j),Ee=G.some(U),Ve=G.some(se),ft=G.some(be),Be=G.none();return mx(c.direction,function(){return Tu(a,_e,Ee,Be,Be)},function(){return Tu(a,Be,Ee,Ve,Be)},function(){return Tu(a,_e,Be,Be,ft)},function(){return Tu(a,Be,Be,Ve,ft)},function(){return Tu(a,_e,Ee,Be,Be)},function(){return Tu(a,_e,Be,Be,ft)},function(){return Tu(a,_e,Ee,Be,Be)},function(){return Tu(a,Be,Ee,Ve,Be)})},l0=function(a,c){return a.fold(function(){var p=c.rect;return Tu("absolute",G.some(p.x),G.some(p.y),G.none(),G.none())},function(p,w,M,E){return Yy("absolute",c,p,w,M,E)},function(p,w,M,E){return Yy("fixed",c,p,w,M,E)})},tm=function(a,c){var p=Y(Ms,c),w=a.fold(p,p,function(){var N=Yl();return Ms(c).translate(-N.left,-N.top)}),M=il(c),E=Xl(c);return wu(w.left,w.top,M,E)},ld=function(a,c){return c.fold(function(){return a.fold(us,us,wu)},function(p){return a.fold(p,p,function(){var w=p(),M=eS(a,w.x,w.y);return wu(M.left,M.top,w.width,w.height)})})},eS=function(a,c,p){var w=Ii(c,p),M=function(){var E=Yl();return w.translate(-E.left,-E.top)};return a.fold(L(w),L(w),M)},tS=function(a,c,p,w){return a.fold(c,p,w)};em.none;var Dx=em.relative,Ax=em.fixed,mk=function(a,c){return{anchorBox:a,origin:c}},nS=function(a,c){return mk(a,c)},rS="data-alloy-placement",oS=function(a,c){so(a,rS,c)},iS=function(a){return xa(a,rS)},aS=function(a){return Uu(a,rS)},Dg=Cc.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),sO=function(a,c){var p=c.x,w=c.y,M=c.right,E=c.bottom,N=a.x,j=a.y,U=a.right,K=a.bottom,oe=a.width,se=a.height,be=N>=p&&N<=M,_e=j>=w&&j<=E,Ee=be&&_e,Ve=U<=M&&U>=p,ft=K<=E&&K>=w,Be=Ve&&ft,ht=Math.min(oe,N>=p?M-N:U-p),Wt=Math.min(se,j>=w?E-j:K-w);return{originInBounds:Ee,sizeInBounds:Be,visibleW:ht,visibleH:Wt}},gk=function(a,c){var p=c.x,w=c.y,M=c.right,E=c.bottom,N=a.x,j=a.y,U=a.width,K=a.height,oe=Math.max(p,M-U),se=Math.max(w,E-K),be=Rl(N,p,oe),_e=Rl(j,w,se),Ee=Math.min(be+U,M)-be,Ve=Math.min(_e+K,E)-_e;return wu(be,_e,Ee,Ve)},Ex=function(a,c,p){var w=L(c.bottom-p.y),M=L(p.bottom-c.y),E=tO(a,M,M,w),N=L(c.right-p.x),j=L(p.right-c.x),U=nO(a,j,j,N);return{maxWidth:U,maxHeight:E}},Ky=function(a,c,p,w){var M=a.bubble,E=M.offset,N=$_(w,a.restriction,E),j=a.x+E.left,U=a.y+E.top,K=wu(j,U,c,p),oe=sO(K,N),se=oe.originInBounds,be=oe.sizeInBounds,_e=oe.visibleW,Ee=oe.visibleH,Ve=se&&be,ft=Ve?K:gk(K,N),Be=ft.width>0&&ft.height>0,ht=Ex(a.direction,ft,w),Wt=ht.maxWidth,Kt=ht.maxHeight,ct={rect:ft,maxHeight:Kt,maxWidth:Wt,direction:a.direction,placement:a.placement,classes:{on:M.classesOn,off:M.classesOff},layout:a.label,testY:U};return Ve||a.alwaysFit?Dg.fit(ct):Dg.nofit(ct,_e,Ee,Be)},Ox=function(a,c,p,w,M,E){var N=w.width,j=w.height,U=function(oe,se,be,_e,Ee){var Ve=oe(p,w,M,a,E),ft=Ky(Ve,N,j,E);return ft.fold(L(ft),function(Be,ht,Wt,Kt){var ct=Ee===Kt?Wt>_e||ht>be:!Ee&&Kt;return ct?ft:Dg.nofit(se,be,_e,Ee)})},K=Ft(c,function(oe,se){var be=Y(U,se);return oe.fold(L(oe),be)},Dg.nofit({rect:p,maxHeight:w.height,maxWidth:w.width,direction:gx(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:p.y},-1,-1,!1));return K.fold(q,q)},Ix=function(a){var c=Er(G.none()),p=function(){return c.get().each(a)},w=function(){p(),c.set(G.none())},M=function(){return c.get().isSome()},E=function(){return c.get()},N=function(j){p(),c.set(G.some(j))};return{clear:w,isSet:M,get:E,set:N}},Rx=function(){return Ix(function(a){return a.destroy()})},Ag=function(){return Ix(function(a){return a.unbind()})},vk=function(){var a=Rx(),c=function(p){return a.get().each(p)};return ne(ne({},a),{run:c})},Ba=function(){var a=Ix(A),c=function(p){return a.get().each(p)};return ne(ne({},a),{on:c})},Px=le,Ya=function(a,c,p){return $b(a,c,Px,p)},Nx=function(a,c,p){return Ih(a,c,Px,p)},c0=Nc,Lx=["top","bottom","right","left"],f0="data-alloy-transition-timer",yk=function(a,c){return F_(a,c.classes)},bk=function(a,c,p){return p.exists(function(w){var M=a.mode;return M==="all"?!0:w[M]!==c[M]})},lO=function(a,c){var p=function(w){return parseFloat(w).toFixed(3)};return et(c,function(w,M){var E=a[M].map(p),N=w.map(p);return!ei(E,N)}).isSome()},cO=function(a){var c=function(E){var N=Ma(a,E),j=i(N)?N.split(/\s*,\s*/):[];return Je(j,Ua)},p=function(E){if(i(E)&&/^[\d.]+/.test(E)){var N=parseFloat(E);return dr(E,"ms")?N:N*1e3}else return 0},w=c("transition-delay"),M=c("transition-duration");return Ft(M,function(E,N,j){var U=p(w[j])+p(N);return Math.max(E,U)},0)},xk=function(a,c){var p=Ag(),w=Ag(),M,E=function(oe){var se,be=(se=oe.raw.pseudoElement)!==null&&se!==void 0?se:"";return si(oe.target,a)&&oa(be)&&Ot(Lx,oe.raw.propertyName)},N=function(oe){if(y(oe)||E(oe)){p.clear(),w.clear();var se=oe==null?void 0:oe.raw.type;(y(se)||se===Yv())&&(clearTimeout(M),Uu(a,f0),$d(a,c.classes))}},j=function(){p.set(Ya(a,Yv(),N)),w.set(Ya(a,R5(),N))};if("ontransitionstart"in a.dom)var U=Ya(a,w_(),function(oe){E(oe)&&(U.unbind(),j())});else j();var K=cO(a);requestAnimationFrame(function(){M=setTimeout(N,K+17),so(a,f0,M)})},Bx=function(a,c){Yh(a,c.classes),xa(a,f0).each(function(p){clearTimeout(parseInt(p,10)),Uu(a,f0)}),xk(a,c)},zx=function(a,c,p,w,M,E){var N=bk(w,M,E);if(N||yk(a,w)){Wr(a,"position",p.position);var j=tm(c,a),U=l0(c,ne(ne({},M),{rect:j})),K=pr(Lx,function(oe){return U[oe]});lO(p,K)&&(Ta(a,K),N&&Bx(a,w),Ki(a))}else $d(a,w.classes)},fO=function(a){return{width:il(a),height:Xl(a)}},wk=function(a,c,p,w){ri(c,"max-height"),ri(c,"max-width");var M=fO(c);return Ox(c,w.preference,a,M,p,w.bounds)},uS=function(a,c){var p=c.classes;$d(a,p.off),Yh(a,p.on)},_k=function(a,c,p){var w=p.maxHeightFunction;w(a,c.maxHeight)},dO=function(a,c,p){var w=p.maxWidthFunction;w(a,c.maxWidth)},hs=function(a,c,p){var w=l0(p.origin,c);p.transition.each(function(M){zx(a,p.origin,w,M,c,p.lastPlacement)}),Ut(a,w)},Eg=function(a,c){oS(a,c.placement)},sS=function(a,c){qb(a,Math.floor(c))},Sk=L(function(a,c){sS(a,c),Gl(a,{"overflow-x":"hidden","overflow-y":"auto"})}),d0=L(function(a,c){sS(a,c)}),Ck=function(a,c,p){return a[c]===void 0?p:a[c]},hO=function(a,c,p,w,M,E,N,j){var U=Ck(N,"maxHeightFunction",Sk()),K=Ck(N,"maxWidthFunction",A),oe=a.anchorBox,se=a.origin,be={bounds:ld(se,E),origin:se,preference:w,maxHeightFunction:U,maxWidthFunction:K,lastPlacement:M,transition:j};return Jy(oe,c,p,be)},Jy=function(a,c,p,w){var M=wk(a,c,p,w);return hs(c,M,w),Eg(c,M),uS(c,M),_k(c,M,w),dO(c,M,w),{layout:M.layout,placement:M.placement}},Qy=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],nm=function(a,c,p,w){w===void 0&&(w=1);var M=a*w,E=c*w,N=function(U){return Pt(p,U).getOr([])},j=function(U,K,oe){var se=Qn(Qy,oe);return{offset:Ii(U,K),classesOn:Bt(oe,N),classesOff:Bt(se,N)}};return{southeast:function(){return j(-a,c,["top","alignLeft"])},southwest:function(){return j(a,c,["top","alignRight"])},south:function(){return j(-a/2,c,["top","alignCentre"])},northeast:function(){return j(-a,-c,["bottom","alignLeft"])},northwest:function(){return j(a,-c,["bottom","alignRight"])},north:function(){return j(-a/2,-c,["bottom","alignCentre"])},east:function(){return j(a,-c/2,["valignCentre","left"])},west:function(){return j(-a,-c/2,["valignCentre","right"])},insetNortheast:function(){return j(M,E,["top","alignLeft","inset"])},insetNorthwest:function(){return j(-M,E,["top","alignRight","inset"])},insetNorth:function(){return j(-M/2,E,["top","alignCentre","inset"])},insetSoutheast:function(){return j(M,-E,["bottom","alignLeft","inset"])},insetSouthwest:function(){return j(-M,-E,["bottom","alignRight","inset"])},insetSouth:function(){return j(-M/2,-E,["bottom","alignCentre","inset"])},insetEast:function(){return j(-M,-E/2,["valignCentre","right","inset"])},insetWest:function(){return j(M,-E/2,["valignCentre","left","inset"])}}},Fx=function(){return nm(0,0,{})},Hx=q,Vx=function(a,c){return function(p){return pO(p)==="rtl"?c:a}},pO=function(a){return Ma(a,"direction")==="rtl"?"rtl":"ltr"},Zh;(function(a){a.TopToBottom="toptobottom",a.BottomToTop="bottomtotop"})(Zh||(Zh={}));var jx="data-alloy-vertical-dir",mO=function(a){return cx(a,function(c){return he(c)&&ua(c,"data-alloy-vertical-dir")===Zh.BottomToTop})},rm=function(){return Ql("layouts",[on("onLtr"),on("onRtl"),oi("onBottomLtr"),oi("onBottomRtl")])},om=function(a,c,p,w,M,E,N){var j=N.map(mO).getOr(!1),U=c.layouts.map(function(_e){return _e.onLtr(a)}),K=c.layouts.map(function(_e){return _e.onRtl(a)}),oe=j?c.layouts.bind(function(_e){return _e.onBottomLtr.map(function(Ee){return Ee(a)})}).or(U).getOr(M):U.getOr(p),se=j?c.layouts.bind(function(_e){return _e.onBottomRtl.map(function(Ee){return Ee(a)})}).or(K).getOr(E):K.getOr(w),be=Vx(oe,se);return be(a)},Tk=function(a,c,p){var w=c.hotspot,M=tm(p,w.element),E=om(a.element,c,Jh(),Zp(),ck(),_x(),G.some(c.hotspot.element));return G.some(Hx({anchorBox:M,bubble:c.bubble.getOr(Fx()),overrides:c.overrides,layouts:E,placer:G.none()}))},Zy=[on("hotspot"),oi("bubble"),dt("overrides",{}),rm(),Ci("placement",Tk)],lS=function(a,c,p){var w=eS(p,c.x,c.y),M=wu(w.left,w.top,c.width,c.height),E=om(a.element,c,Qp(),K_(),Qp(),K_(),G.none());return G.some(Hx({anchorBox:M,bubble:c.bubble,overrides:c.overrides,layouts:E,placer:G.none()}))},Ux=[on("x"),on("y"),dt("height",0),dt("width",0),dt("bubble",Fx()),dt("overrides",{}),rm(),Ci("placement",lS)],Ju=Cc.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),gO=function(a){return a.fold(q,function(c,p,w){return c.translate(-p,-w)})},Wx=function(a){return a.fold(q,q)},Mk=function(a){return Ft(a,function(c,p){return c.translate(p.left,p.top)},Ii(0,0))},vO=function(a){var c=Ye(a,gO);return Mk(c)},Tf=function(a){var c=Ye(a,Wx);return Mk(c)},ep=Ju.screen,yO=Ju.absolute,cS=function(a,c,p){var w=yc(p.root).dom,M=function(E){var N=ia(E),j=ia(a.element);return si(N,j)};return G.from(w.frameElement).map(He.fromDom).filter(M).map(ol)},fS=function(a,c,p){var w=ia(a.element),M=Yl(w),E=cS(a,c,p).getOr(M);return yO(E,M.left,M.top)},Og=function(a,c,p,w){var M=ep(Ii(a,c));return G.some(wc(M,p,w))},kk=function(a,c,p,w,M){return a.map(function(E){var N=[c,E.point],j=tS(w,function(){return Tf(N)},function(){return Tf(N)},function(){return vO(N)}),U=qa(j.left,j.top,E.width,E.height),K=p.showAbove?ck():Jh(),oe=p.showAbove?_x():Zp(),se=om(M,p,K,oe,K,oe,G.none());return Hx({anchorBox:U,bubble:p.bubble.getOr(Fx()),overrides:p.overrides,layouts:se,placer:G.none()})})},h0=function(a,c,p){var w=fS(a,p,c);return c.node.filter(Or).bind(function(M){var E=M.dom.getBoundingClientRect(),N=Og(E.left,E.top,E.width,E.height),j=c.node.getOr(a.element);return kk(N,w,c,p,j)})},bO=[on("node"),on("root"),oi("bubble"),rm(),dt("overrides",{}),dt("showAbove",!1),Ci("placement",h0)],xO="\uFEFF",wO="",p0=function(a,c,p,w){return{start:a,soffset:c,finish:p,foffset:w}},Ig={create:p0},dS=Cc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Dk=function(a,c,p,w){return a.fold(c,p,w)},_O=function(a){return a.fold(q,q,q)},Ak=dS.before,Ek=dS.on,hS=dS.after,SO={before:Ak,on:Ek,after:hS,cata:Dk,getStart:_O},qx=Cc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),CO=function(a){return qx.exact(a.start,a.soffset,a.finish,a.foffset)},e1=function(a){return a.match({domRange:function(c){return He.fromDom(c.startContainer)},relative:function(c,p){return SO.getStart(c)},exact:function(c,p,w,M){return c}})},TO=qx.domRange,pS=qx.relative,MO=qx.exact,Ok=function(a){var c=e1(a);return yc(c)},kO=Ig.create,m0={domRange:TO,relative:pS,exact:MO,exactFromRange:CO,getWin:Ok,range:kO},Ik=function(a,c){c.fold(function(p){a.setStartBefore(p.dom)},function(p,w){a.setStart(p.dom,w)},function(p){a.setStartAfter(p.dom)})},DO=function(a,c){c.fold(function(p){a.setEndBefore(p.dom)},function(p,w){a.setEnd(p.dom,w)},function(p){a.setEndAfter(p.dom)})},mS=function(a,c,p){var w=a.document.createRange();return Ik(w,c),DO(w,p),w},gS=function(a,c,p,w,M){var E=a.document.createRange();return E.setStart(c.dom,p),E.setEnd(w.dom,M),E},$x=function(a){return{left:a.left,top:a.top,right:a.right,bottom:a.bottom,width:a.width,height:a.height}},Rk=function(a){var c=a.getClientRects(),p=c.length>0?c[0]:a.getBoundingClientRect();return p.width>0||p.height>0?G.some(p).map($x):G.none()},Pk=function(a){var c=a.getBoundingClientRect();return c.width>0||c.height>0?G.some(c).map($x):G.none()},g0=Cc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Nk=function(a,c,p){return c(He.fromDom(p.startContainer),p.startOffset,He.fromDom(p.endContainer),p.endOffset)},Lk=function(a,c){return c.match({domRange:function(p){return{ltr:L(p),rtl:G.none}},relative:function(p,w){return{ltr:_t(function(){return mS(a,p,w)}),rtl:_t(function(){return G.some(mS(a,w,p))})}},exact:function(p,w,M,E){return{ltr:_t(function(){return gS(a,p,w,M,E)}),rtl:_t(function(){return G.some(gS(a,M,E,p,w))})}}})},AO=function(a,c){var p=c.ltr();if(p.collapsed){var w=c.rtl().filter(function(M){return M.collapsed===!1});return w.map(function(M){return g0.rtl(He.fromDom(M.endContainer),M.endOffset,He.fromDom(M.startContainer),M.startOffset)}).getOrThunk(function(){return Nk(a,g0.ltr,p)})}else return Nk(a,g0.ltr,p)},EO=function(a,c){var p=Lk(a,c);return AO(a,p)},vS=function(a,c){var p=EO(a,c);return p.match({ltr:function(w,M,E,N){var j=a.document.createRange();return j.setStart(w.dom,M),j.setEnd(E.dom,N),j},rtl:function(w,M,E,N){var j=a.document.createRange();return j.setStart(E.dom,N),j.setEnd(w.dom,M),j}})};g0.ltr,g0.rtl;var Rg=function(a,c){var p=function(E){if(!a(E))throw new Error("Can only get "+c+" value of a "+c+" node");return w(E).getOr("")},w=function(E){return a(E)?G.from(E.dom.nodeValue):G.none()},M=function(E,N){if(!a(E))throw new Error("Can only set raw "+c+" value of a "+c+" node");E.dom.nodeValue=N};return{get:p,getOption:w,set:M}},Gx=Rg(Me,"text"),Bk=function(a){return Gx.get(a)},Xx=function(a){return Gx.getOption(a)},zk=function(a){return $e(a)==="img"?1:Xx(a).fold(function(){return W(a).length},function(c){return c.length})},OO=function(a){return Xx(a).filter(function(c){return c.trim().length!==0||c.indexOf(wO)>-1}).isSome()},yS=["img","br"],IO=function(a){var c=OO(a);return c||Ot(yS,$e(a))},Fk=function(a){return Pg(a,IO)},Pg=function(a,c){var p=function(w){for(var M=W(w),E=M.length-1;E>=0;E--){var N=M[E];if(c(N))return G.some(N);var j=p(N);if(j.isSome())return j}return G.none()};return p(a)},Ru=function(a,c){return df(c,a)},im=function(a,c,p,w){var M=ia(a),E=M.dom.createRange();return E.setStart(a.dom,c),E.setEnd(p.dom,w),E},Yx=function(a,c,p,w){var M=im(a,c,p,w),E=si(a,p)&&c===w;return M.collapsed&&!E},RO=function(a){return G.from(a.getSelection())},Hk=function(a){if(a.rangeCount>0){var c=a.getRangeAt(0),p=a.getRangeAt(a.rangeCount-1);return G.some(Ig.create(He.fromDom(c.startContainer),c.startOffset,He.fromDom(p.endContainer),p.endOffset))}else return G.none()},Vk=function(a){if(a.anchorNode===null||a.focusNode===null)return Hk(a);var c=He.fromDom(a.anchorNode),p=He.fromDom(a.focusNode);return Yx(c,a.anchorOffset,p,a.focusOffset)?G.some(Ig.create(c,a.anchorOffset,p,a.focusOffset)):Hk(a)},bS=function(a){return RO(a).filter(function(c){return c.rangeCount>0}).bind(Vk)},xS=function(a,c){var p=vS(a,c);return Rk(p)},ic=function(a,c){var p=vS(a,c);return Pk(p)},tp=function(a,c){return{element:a,offset:c}},Ng=function(a,c){var p=W(a);if(p.length===0)return tp(a,c);if(c<p.length)return tp(p[c],0);var w=p[p.length-1],M=Me(w)?Bk(w).length:W(w).length;return tp(w,M)},t1=function(a,c){return Me(a)?tp(a,c):Ng(a,c)},Lg=function(a,c){var p=c.getSelection.getOrThunk(function(){return function(){return bS(a)}});return p().map(function(w){var M=t1(w.start,w.soffset),E=t1(w.finish,w.foffset);return m0.range(M.element,M.offset,E.element,E.offset)})},Kd=function(a,c,p){var w=yc(c.root).dom,M=fS(a,p,c),E=Lg(w,c).bind(function(U){var K=ic(w,m0.exactFromRange(U)).orThunk(function(){var oe=He.fromText(xO);La(U.start,oe);var se=xS(w,m0.exact(oe,0,oe,1));return Ml(oe),se});return K.bind(function(oe){return Og(oe.left,oe.top,oe.width,oe.height)})}),N=Lg(w,c).bind(function(U){return he(U.start)?G.some(U.start):Yf(U.start)}),j=N.getOr(a.element);return kk(E,M,c,p,j)},Mf=[oi("getSelection"),on("root"),oi("bubble"),rm(),dt("overrides",{}),dt("showAbove",!1),Ci("placement",Kd)],v0="link-layout",wS=function(a){return a.x+a.width},jk=function(a,c){return a.x-c.width},Kx=function(a,c){return a.y-c.height+a.height},Bg=function(a){return a.y},np=function(a,c,p){return Yu(wS(a),Bg(a),p.southeast(),gx(),"southeast",fs(a,{left:0,top:2}),v0)},Jx=function(a,c,p){return Yu(jk(a,c),Bg(a),p.southwest(),i0(),"southwest",fs(a,{right:1,top:2}),v0)},_S=function(a,c,p){return Yu(wS(a),Kx(a,c),p.northeast(),q_(),"northeast",fs(a,{left:0,bottom:3}),v0)},Qu=function(a,c,p){return Yu(jk(a,c),Kx(a,c),p.northwest(),vx(),"northwest",fs(a,{right:1,bottom:3}),v0)},am=function(){return[np,Jx,_S,Qu]},Uk=function(){return[Jx,np,Qu,_S]},SS=function(a,c,p){var w=tm(p,c.item.element),M=om(a.element,c,am(),Uk(),am(),Uk(),G.none());return G.some(Hx({anchorBox:w,bubble:Fx(),overrides:c.overrides,layouts:M,placer:G.none()}))},Qx=[on("item"),rm(),dt("overrides",{}),Ci("placement",SS)],ps=Lc("type",{selection:Mf,node:bO,hotspot:Zy,submenu:Qx,makeshift:Ux}),PO=[Ds("classes",$a),Sc("mode","all",["all","layout","placement"])],Jd=[dt("useFixed",ie),oi("getBounds")],Wk=[Al("anchor",ps),Ql("transition",PO)],CS=function(){var a=document.documentElement;return Ax(0,0,a.clientWidth,a.clientHeight)},um=function(a){var c=ol(a.element),p=a.element.dom.getBoundingClientRect();return Dx(c.left,c.top,p.width,p.height)},qk=function(a,c,p,w,M,E,N){var j=nS(p.anchorBox,c);return hO(j,M.element,p.bubble,p.layouts,E,w,p.overrides,N)},Zx=function(a,c,p,w,M){$k(a,c,p,w,M,G.none())},$k=function(a,c,p,w,M,E){var N=E.map(eu);return TS(a,c,p,w,M,N)},TS=function(a,c,p,w,M,E){var N=mi("placement.info",Sr(Wk),M),j=N.anchor,U=w.element,K=p.get(w.uid);Qh(function(){Wr(U,"position","fixed");var oe=Za(U,"visibility");Wr(U,"visibility","hidden");var se=c.useFixed()?CS():um(a),be=j.placement,_e=E.map(L).or(c.getBounds);be(a,j,se).each(function(Ee){var Ve=Ee.placer.getOr(qk),ft=Ve(a,se,Ee,_e,w,K,N.transition);p.set(w.uid,ft)}),oe.fold(function(){ri(U,"visibility")},function(Ee){Wr(U,"visibility",Ee)}),Za(U,"left").isNone()&&Za(U,"top").isNone()&&Za(U,"right").isNone()&&Za(U,"bottom").isNone()&&Lr(Za(U,"position"),"fixed")&&ri(U,"position")},U)},Gk=function(a,c,p){return c.useFixed()?"fixed":"absolute"},NO=function(a,c,p,w){var M=w.element;je(["position","left","right","top","bottom"],function(E){return ri(M,E)}),aS(M),p.clear(w.uid)},MS=Object.freeze({__proto__:null,position:Zx,positionWithin:$k,positionWithinBounds:TS,getMode:Gk,reset:NO}),cd=function(){var a={},c=function(M,E){a[M]=E},p=function(M){return Pt(a,M)},w=function(M){b(M)?delete a[M]:a={}};return Gu({readState:function(){return a},clear:w,set:c,get:p})},ew=Object.freeze({__proto__:null,init:cd}),hl=Xa({fields:Jd,name:"positioning",active:Gy,apis:MS,state:ew}),n1=function(a){Mo(a,Kv());var c=a.components();je(c,n1)},r1=function(a){var c=a.components();je(c,r1),Mo(a,Zl())},kS=function(a,c){Ts(a.element,c.element)},LO=function(a){je(a.components(),function(c){return Ml(c.element)}),ca(a.element),a.syncComponents()},Xk=function(a,c){var p=a.components();LO(a);var w=Qn(p,c);je(w,function(M){n1(M),a.getSystem().removeFromWorld(M)}),je(c,function(M){M.getSystem().isConnected()?kS(a,M):(a.getSystem().addToWorld(M),kS(a,M),Or(a.element)&&r1(M)),a.syncComponents()})},Os=function(a,c){zg(a,c,Ts)},zg=function(a,c,p){a.getSystem().addToWorld(c),p(a.element,c.element),Or(a.element)&&r1(c),a.syncComponents()},o1=function(a){n1(a),Ml(a.element),a.getSystem().removeFromWorld(a)},jc=function(a){var c=aa(a.element).bind(function(p){return a.getSystem().getByDom(p).toOptional()});o1(a),c.each(function(p){p.syncComponents()})},Uc=function(a){var c=a.components();je(c,o1),ca(a.element),a.syncComponents()},Wc=function(a,c){fd(a,c,Ts)},pl=function(a,c){fd(a,c,Ph)},fd=function(a,c,p){p(a,c.element);var w=W(c.element);je(w,function(M){c.getByDom(M).each(r1)})},tw=function(a){var c=W(a.element);je(c,function(p){a.getByDom(p).each(n1)}),Ml(a.element)},qc=function(a,c,p,w){p.get().each(function(N){Uc(a)});var M=c.getAttachPoint(a);Os(M,a);var E=a.getSystem().build(w);return Os(a,E),p.set(E),E},dd=function(a,c,p,w){var M=qc(a,c,p,w);return c.onOpen(a,M),M},BO=function(a,c,p,w){return p.get().map(function(){return qc(a,c,p,w)})},zO=function(a,c,p,w,M){Zk(a,c),dd(a,c,p,w),M(),DS(a,c)},Yk=function(a,c,p){p.get().each(function(w){Uc(a),jc(a),c.onClose(a,w),p.clear()})},Kk=function(a,c,p){return p.isOpen()},Jk=function(a,c,p,w){return Kk(a,c,p)&&p.get().exists(function(M){return c.isPartOf(a,M,w)})},Qk=function(a,c,p){return p.get()},FO=function(a,c,p,w){Za(a.element,c).fold(function(){Uu(a.element,p)},function(M){so(a.element,p,M)}),Wr(a.element,c,w)},HO=function(a,c,p){xa(a.element,p).fold(function(){return ri(a.element,c)},function(w){return Wr(a.element,c,w)})},Zk=function(a,c,p){var w=c.getAttachPoint(a);Wr(a.element,"position",hl.getMode(w)),FO(a,"visibility",c.cloakVisibilityAttr,"hidden")},VO=function(a){return Nt(["top","left","right","bottom"],function(c){return Za(a,c).isSome()})},DS=function(a,c,p){VO(a.element)||ri(a.element,"position"),HO(a,"visibility",c.cloakVisibilityAttr)},eD=Object.freeze({__proto__:null,cloak:Zk,decloak:DS,open:dd,openWhileCloaked:zO,close:Yk,isOpen:Kk,isPartOf:Jk,getState:Qk,setContent:BO}),AS=function(a,c){return $i([fn(zy(),function(p,w){Yk(p,a,c)})])},tD=Object.freeze({__proto__:null,events:AS}),jO=[_o("onOpen"),_o("onClose"),on("isPartOf"),on("getAttachPoint"),dt("cloakVisibilityAttr","data-precloak-visibility")],UO=function(){var a=Ba(),c=L("not-implemented");return Gu({readState:c,isOpen:a.isSet,clear:a.clear,set:a.set,get:a.get})},WO=Object.freeze({__proto__:null,init:UO}),Lo=Xa({fields:jO,name:"sandboxing",active:tD,apis:eD,state:WO}),Fg=L("dismiss.popups"),y0=L("reposition.popups"),ac=L("mouse.released"),qO=Kl([dt("isExtraPart",ie),Ql("fireEventInstead",[dt("event",xf())])]),sm=function(a){var c,p=mi("Dismissal",qO,a);return c={},c[Fg()]={schema:Kl([on("target")]),onReceive:function(w,M){if(Lo.isOpen(w)){var E=Lo.isPartOf(w,M.target)||p.isExtraPart(w,M.target);E||p.fireEventInstead.fold(function(){return Lo.close(w)},function(N){return Mo(w,N.event)})}}},c},b0=Kl([Ql("fireEventInstead",[dt("event",Ws())]),Us("doReposition")]),i1=function(a){var c,p=mi("Reposition",b0,a);return c={},c[y0()]={onReceive:function(w){Lo.isOpen(w)&&p.fireEventInstead.fold(function(){return p.doReposition(w)},function(M){return Mo(w,M.event)})}},c},x0=function(a,c,p){c.store.manager.onLoad(a,c,p)},nD=function(a,c,p){c.store.manager.onUnload(a,c,p)},rD=function(a,c,p,w){c.store.manager.setValue(a,c,p,w)},ES=function(a,c,p){return c.store.manager.getValue(a,c,p)},OS=function(a,c,p){return p},Hg=Object.freeze({__proto__:null,onLoad:x0,onUnload:nD,setValue:rD,getValue:ES,getState:OS}),IS=function(a,c){var p=a.resetOnDom?[da(function(w,M){x0(w,a,c)}),ec(function(w,M){nD(w,a,c)})]:[Cu(a,c,x0)];return $i(p)},$O=Object.freeze({__proto__:null,events:IS}),Qd=function(){var a=Er(null),c=function(){return{mode:"memory",value:a.get()}},p=function(){return a.get()===null},w=function(){a.set(null)};return Gu({set:a.set,get:a.get,isNotSet:p,clear:w,readState:c})},RS=function(){var a=A;return Gu({readState:a})},nw=function(){var a=Er({}),c=Er({}),p=function(){return{mode:"dataset",dataByValue:a.get(),dataByText:c.get()}},w=function(){a.set({}),c.set({})},M=function(N){return Pt(a.get(),N).orThunk(function(){return Pt(c.get(),N)})},E=function(N){var j=a.get(),U=c.get(),K={},oe={};je(N,function(se){K[se.value]=se,Pt(se,"meta").each(function(be){Pt(be,"text").each(function(_e){oe[_e]=se})})}),a.set(ne(ne({},j),K)),c.set(ne(ne({},U),oe))};return Gu({readState:p,lookup:M,update:E,clear:w})},rw=function(a){return a.store.manager.state(a)},oD=Object.freeze({__proto__:null,memory:Qd,dataset:nw,manual:RS,init:rw}),w0=function(a,c,p,w){var M=c.store;p.update([w]),M.setValue(a,w),c.onSetValue(a,w)},iD=function(a,c,p){var w=c.store,M=w.getDataKey(a);return p.lookup(M).getOrThunk(function(){return w.getFallbackEntry(M)})},aD=function(a,c,p){var w=c.store;w.initialValue.each(function(M){w0(a,c,p,M)})},hd=function(a,c,p){p.clear()},Ac=[oi("initialValue"),on("getFallbackEntry"),on("getDataKey"),on("setValue"),Ci("manager",{setValue:w0,getValue:iD,onLoad:aD,onUnload:hd,state:nw})],ms=function(a,c,p){return c.store.getValue(a)},uD=function(a,c,p,w){c.store.setValue(a,w),c.onSetValue(a,w)},PS=function(a,c,p){c.store.initialValue.each(function(w){c.store.setValue(a,w)})},_0=[on("getValue"),dt("setValue",A),oi("initialValue"),Ci("manager",{setValue:uD,getValue:ms,onLoad:PS,onUnload:A,state:tc.init})],sD=function(a,c,p,w){p.set(w),c.onSetValue(a,w)},lD=function(a,c,p){return p.get()},cD=function(a,c,p){c.store.initialValue.each(function(w){p.isNotSet()&&p.set(w)})},ow=function(a,c,p){p.clear()},iw=[oi("initialValue"),Ci("manager",{setValue:sD,getValue:lD,onLoad:cD,onUnload:ow,state:Qd})],fD=[sl("store",{mode:"memory"},Lc("mode",{memory:iw,manual:_0,dataset:Ac})),_o("onSetValue"),dt("resetOnDom",!1)],qn=Xa({fields:fD,name:"representing",active:$O,apis:Hg,extra:{setValueFrom:function(a,c){var p=qn.getValue(c);qn.setValue(a,p)}},state:oD}),Pu=function(a,c){return h_(a,{},Ye(c,function(p){return Uv(p.name(),"Cannot configure "+p.name()+" for "+a)}).concat([ul("dump",q)]))},Vg=function(a){return a.dump},Nu=function(a,c){return ne(ne({},zn(c)),a.dump)},$c={field:Pu,augment:Nu,get:Vg},NS="placeholder",jg=Cc.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),aw=function(a){return ln(a,"uiType")},S0=function(a,c,p,w){return a.exists(function(M){return M!==p.owner})?jg.single(!0,L(p)):Pt(w,p.name).fold(function(){throw new Error("Unknown placeholder component: "+p.name+`
Known: [`+Tt(w)+`]
Namespace: `+a.getOr("none")+`
Spec: `+JSON.stringify(p,null,2))},function(M){return M.replace()})},Ug=function(a,c,p,w){return aw(p)&&p.uiType===NS?S0(a,c,p,w):jg.single(!1,L(p))},a1=function(a,c,p,w){var M=Ug(a,c,p,w);return M.fold(function(E,N){var j=aw(p)?N(c,p.config,p.validated):N(c),U=Pt(j,"components").getOr([]),K=Bt(U,function(oe){return a1(a,c,oe,w)});return[ne(ne({},j),{components:K})]},function(E,N){if(aw(p)){var j=N(c,p.config,p.validated),U=p.validated.preprocess.getOr(q);return U(j)}else return N(c)})},GO=function(a,c,p,w){return Bt(p,function(M){return a1(a,c,M,w)})},XO=function(a,c){var p=!1,w=function(){return p},M=function(){if(p)throw new Error("Trying to use the same placeholder more than once: "+a);return p=!0,c},E=function(){return c.fold(function(N,j){return N},function(N,j){return N})};return{name:L(a),required:E,used:w,replace:M}},LS=function(a,c,p,w){var M=bn(w,function(N,j){return XO(j,N)}),E=GO(a,c,p,M);return Bn(M,function(N){if(N.used()===!1&&N.required())throw new Error("Placeholder: "+N.name()+` was not found in components list
Namespace: `+a.getOr("none")+`
Components: `+JSON.stringify(c.components,null,2))}),E},BS=jg.single,dD=jg.multiple,Wg=L(NS),kf=Cc.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),u1=dt("factory",{sketch:q}),zS=dt("schema",[]),qg=on("name"),s1=_u("pname","pname",Io(function(a){return"<alloy."+ir(a.name)+">"}),mf()),l1=ul("schema",function(){return[oi("preprocess")]}),Zd=dt("defaults",L({})),Gc=dt("overrides",L({})),lm=Sr([u1,zS,qg,s1,Zd,Gc]),$g=Sr([u1,zS,qg,Zd,Gc]),c1=Sr([u1,zS,qg,s1,Zd,Gc]),uw=Sr([u1,l1,qg,on("unit"),s1,Zd,Gc]),f1=function(a){return a.fold(G.some,G.none,G.some,G.some)},FS=function(a){var c=function(p){return p.name};return a.fold(c,c,c,c)},YO=function(a){return a.fold(q,q,q,q)},sw=function(a,c){return function(p){var w=mi("Converting part type",c,p);return a(w)}},Zu=sw(kf.required,lm),Ec=sw(kf.external,$g),Df=sw(kf.optional,c1),pd=sw(kf.group,uw),eh=L("entirety"),cm=Object.freeze({__proto__:null,required:Zu,external:Ec,optional:Df,group:pd,asNamedPart:f1,name:FS,asCommon:YO,original:eh}),C0=function(a,c,p,w){return Qt(c.defaults(a,p,w),p,{uid:a.partUids[c.name]},c.overrides(a,p,w))},hD=function(a,c,p){var w={},M={};return je(p,function(E){E.fold(function(N){w[N.pname]=BS(!0,function(j,U,K){return N.factory.sketch(C0(j,N,U,K))})},function(N){var j=c.parts[N.name];M[N.name]=L(N.factory.sketch(C0(c,N,j[eh()]),j))},function(N){w[N.pname]=BS(!1,function(j,U,K){return N.factory.sketch(C0(j,N,U,K))})},function(N){w[N.pname]=dD(!0,function(j,U,K){var oe=j[N.name];return Ye(oe,function(se){return N.factory.sketch(Qt(N.defaults(j,se,K),se,N.overrides(j,se)))})})})}),{internals:L(w),externals:L(M)}},d1=function(a,c){var p={};return je(c,function(w){f1(w).each(function(M){var E=KO(a,M.pname);p[M.name]=function(N){var j=mi("Part: "+M.name+" in "+a,Sr(M.schema),N);return ne(ne({},E),{config:N,validated:j})}})}),p},KO=function(a,c){return{uiType:Wg(),owner:a,name:c}},HS=function(a,c,p){return{uiType:Wg(),owner:a,name:c,config:p,validated:{}}},pD=function(a){return Bt(a,function(c){return c.fold(G.none,G.some,G.none,G.none).map(function(p){return Hd(p.name,p.schema.concat([hx(eh())]))}).toArray()})},mD=function(a){return Ye(a,FS)},VS=function(a,c,p){return hD(a,c,p)},jS=function(a,c,p){return LS(G.some(a),c,c.components,p)},Ti=function(a,c,p){var w=c.partUids[p];return a.getSystem().getByUid(w).toOptional()},th=function(a,c,p){return Ti(a,c,p).getOrDie("Could not find part: "+p)},gD=function(a,c,p){var w={},M=c.partUids,E=a.getSystem();return je(p,function(N){w[N]=L(E.getByUid(M[N]))}),w},US=function(a,c){var p=a.getSystem();return bn(c.partUids,function(w,M){return L(p.getByUid(w))})},WS=function(a){return Tt(a.partUids)},h1=function(a,c,p){var w={},M=c.partUids,E=a.getSystem();return je(p,function(N){w[N]=L(E.getByUid(M[N]).getOrDie())}),w},Pr=function(a,c){var p=mD(c);return Uh(Ye(p,function(w){return{key:w,value:a+"-"+w}}))},qS=function(a){return _u("partUids","partUids",ss(function(c){return Pr(c.uid,a)}),mf())},vD=Object.freeze({__proto__:null,generate:d1,generateOne:HS,schemas:pD,names:mD,substitutes:VS,components:jS,defaultUids:Pr,defaultUidsSchema:qS,getAllParts:US,getAllPartNames:WS,getPart:Ti,getPartOrDie:th,getParts:gD,getPartsOrDie:h1}),JO=function(a,c){var p=a.length>0?[Hd("parts",a)]:[];return p.concat([on("uid"),dt("dom",{}),dt("components",[]),hx("originalSpec"),dt("debug.sketcher",{})]).concat(c)},yD=function(a,c,p,w,M){var E=JO(w,M);return mi(a+" [SpecSchema]",Kl(E.concat(c)),p)},bD=function(a,c,p,w){var M=lw(w),E=yD(a,c,M,[],[]);return p(E,M)},$S=function(a,c,p,w,M){var E=lw(M),N=pD(p),j=qS(p),U=yD(a,c,E,N,[j]),K=VS(a,U,p),oe=jS(a,U,K.internals());return w(U,oe,E,K.externals())},GS=function(a){return ln(a,"uid")},lw=function(a){return GS(a)?a:ne(ne({},a),{uid:pg("uid")})},QO=function(a){return a.uid!==void 0},xD=Kl([on("name"),on("factory"),on("configFields"),dt("apis",{}),dt("extraApis",{})]),ZO=Kl([on("name"),on("factory"),on("configFields"),on("partFields"),dt("apis",{}),dt("extraApis",{})]),uc=function(a){var c=mi("Sketcher for "+a.name,xD,a),p=function(E){return bD(c.name,c.configFields,c.factory,E)},w=bn(c.apis,vg),M=bn(c.extraApis,function(E,N){return Vp(E,N)});return ne(ne({name:c.name,configFields:c.configFields,sketch:p},w),M)},ml=function(a){var c=mi("Sketcher for "+a.name,ZO,a),p=function(N){return $S(c.name,c.configFields,c.partFields,c.factory,N)},w=d1(c.name,c.partFields),M=bn(c.apis,vg),E=bn(c.extraApis,function(N,j){return Vp(N,j)});return ne(ne({name:c.name,partFields:c.partFields,configFields:c.configFields,sketch:p,parts:w},M),E)},fm=function(a){return $e(a)==="input"&&ua(a,"type")!=="radio"||$e(a)==="textarea"},wD=function(a,c,p){return c.find(a)},e4=Object.freeze({__proto__:null,getCurrent:wD}),_D=[on("find")],So=Xa({fields:_D,name:"composing",apis:e4}),SD=["input","button","textarea","select"],p1=function(a,c,p){var w=c.disabled()?YS:Gg;w(a,c)},T0=function(a,c){return c.useNative===!0&&Ot(SD,$e(a.element))},cw=function(a){return Wb(a.element,"disabled")},M0=function(a){so(a.element,"disabled","disabled")},k0=function(a){Uu(a.element,"disabled")},t4=function(a){return ua(a.element,"aria-disabled")==="true"},n4=function(a){so(a.element,"aria-disabled","true")},XS=function(a){so(a.element,"aria-disabled","false")},YS=function(a,c,p){c.disableClass.each(function(M){Xu(a.element,M)});var w=T0(a,c)?M0:n4;w(a),c.onDisabled(a)},Gg=function(a,c,p){c.disableClass.each(function(M){hu(a.element,M)});var w=T0(a,c)?k0:XS;w(a),c.onEnabled(a)},fw=function(a,c){return T0(a,c)?cw(a):t4(a)},CD=function(a,c,p,w){var M=w?YS:Gg;M(a,c)},r4=Object.freeze({__proto__:null,enable:Gg,disable:YS,isDisabled:fw,onLoad:p1,set:CD}),KS=function(a,c){return ad({classes:c.disabled()?c.disableClass.toArray():[]})},o4=function(a,c){return $i([k_(Tc(),function(p,w){return fw(p,a)}),Cu(a,c,p1)])},m1=Object.freeze({__proto__:null,exhibit:KS,events:o4}),JS=[qi("disabled",ie),dt("useNative",!0),oi("disableClass"),_o("onDisabled"),_o("onEnabled")],Mr=Xa({fields:JS,name:"disabling",active:m1,apis:r4}),TD=function(a,c,p,w){var M=Ru(a.element,"."+c.highlightClass);je(M,function(E){Nt(w,function(N){return N.element===E})||(hu(E,c.highlightClass),a.getSystem().getByDom(E).each(function(N){c.onDehighlight(a,N),Mo(N,Fy())}))})},i4=function(a,c,p){return TD(a,c,p,[])},MD=function(a,c,p,w){dw(a,c,p,w)&&(hu(w.element,c.highlightClass),c.onDehighlight(a,w),Mo(w,Fy()))},D0=function(a,c,p,w){TD(a,c,p,[w]),dw(a,c,p,w)||(Xu(w.element,c.highlightClass),c.onHighlight(a,w),Mo(w,XM()))},gl=function(a,c,p){AD(a,c).each(function(w){D0(a,c,p,w)})},g1=function(a,c,p){ED(a,c).each(function(w){D0(a,c,p,w)})},a4=function(a,c,p,w){DD(a,c,p,w).fold(function(M){throw M},function(M){D0(a,c,p,M)})},QS=function(a,c,p,w){var M=A0(a,c),E=Rt(M,w);E.each(function(N){D0(a,c,p,N)})},dw=function(a,c,p,w){return cl(w.element,c.highlightClass)},kD=function(a,c,p){return pu(a.element,"."+c.highlightClass).bind(function(w){return a.getSystem().getByDom(w).toOptional()})},DD=function(a,c,p,w){var M=Ru(a.element,"."+c.itemClass);return G.from(M[w]).fold(function(){return fo.error(new Error("No element found with index "+w))},a.getSystem().getByDom)},AD=function(a,c,p){return pu(a.element,"."+c.itemClass).bind(function(w){return a.getSystem().getByDom(w).toOptional()})},ED=function(a,c,p){var w=Ru(a.element,"."+c.itemClass),M=w.length>0?G.some(w[w.length-1]):G.none();return M.bind(function(E){return a.getSystem().getByDom(E).toOptional()})},rp=function(a,c,p,w){var M=Ru(a.element,"."+c.itemClass),E=ur(M,function(N){return cl(N,c.highlightClass)});return E.bind(function(N){var j=Xd(N,w,0,M.length-1);return a.getSystem().getByDom(M[j]).toOptional()})},u4=function(a,c,p){return rp(a,c,p,-1)},s4=function(a,c,p){return rp(a,c,p,1)},A0=function(a,c,p){var w=Ru(a.element,"."+c.itemClass);return Br(Ye(w,function(M){return a.getSystem().getByDom(M).toOptional()}))},l4=Object.freeze({__proto__:null,dehighlightAll:i4,dehighlight:MD,highlight:D0,highlightFirst:gl,highlightLast:g1,highlightAt:a4,highlightBy:QS,isHighlighted:dw,getHighlighted:kD,getFirst:AD,getLast:ED,getPrevious:u4,getNext:s4,getCandidates:A0}),c4=[on("highlightClass"),on("itemClass"),_o("onHighlight"),_o("onDehighlight")],ii=Xa({fields:c4,name:"highlighting",apis:l4}),E0=[8],dm=[9],nh=[13],hm=[27],Gs=[32],hw=[37],v1=[38],O0=[39],pm=[40],f4=function(a,c,p){var w=Zt(a.slice(0,c)),M=Zt(a.slice(c+1));return Rt(w.concat(M),p)},OD=function(a,c,p){var w=Zt(a.slice(0,c));return Rt(w,p)},pw=function(a,c,p){var w=a.slice(0,c),M=a.slice(c+1);return Rt(M.concat(w),p)},d4=function(a,c,p){var w=a.slice(c+1);return Rt(w,p)},Ro=function(a){return function(c){var p=c.raw;return Ot(a,p.which)}},Af=function(a){return function(c){return Mn(a,function(p){return p(c)})}},I0=function(a){var c=a.raw;return c.shiftKey===!0},ID=function(a){var c=a.raw;return c.ctrlKey===!0},y1=ae(I0),Bo=function(a,c){return{matches:a,classification:c}},ZS=function(a,c){var p=Rt(a,function(w){return w.matches(c)});return p.map(function(w){return w.classification})},RD=function(a,c,p){var w=c.exists(function(M){return p.exists(function(E){return si(E,M)})});w||Ir(a,nx(),{prevFocus:c,newFocus:p})},b1=function(){var a=function(p){return Cf(p.element)},c=function(p,w){var M=a(p);p.getSystem().triggerFocus(w,p.element);var E=a(p);RD(p,M,E)};return{get:a,set:c}},PD=function(){var a=function(p){return ii.getHighlighted(p).map(function(w){return w.element})},c=function(p,w){var M=a(p);p.getSystem().getByDom(w).fold(A,function(N){ii.highlight(p,N)});var E=a(p);RD(p,M,E)};return{get:a,set:c}},x1;(function(a){a.OnFocusMode="onFocus",a.OnEnterOrSpaceMode="onEnterOrSpace",a.OnApiMode="onApi"})(x1||(x1={}));var op=function(a,c,p,w,M){var E=function(){return a.concat([dt("focusManager",b1()),sl("focusInside","onFocus",jv(function(K){return Ot(["onFocus","onEnterOrSpace","onApi"],K)?fo.value(K):fo.error("Invalid value for focusInside")})),Ci("handler",U),Ci("state",c),Ci("sendFocusIn",M)])},N=function(K,oe,se,be,_e){var Ee=se(K,oe,be,_e);return ZS(Ee,oe.event).bind(function(Ve){return Ve(K,oe,be,_e)})},j=function(K,oe){var se=K.focusInside!==x1.OnFocusMode?G.none():M(K).map(function(Ee){return fn(zp(),function(Ve,ft){Ee(Ve,K,oe),ft.stop()})}),be=function(Ee,Ve){var ft=Ro(Gs.concat(nh))(Ve.event);K.focusInside===x1.OnEnterOrSpaceMode&&ft&&WM(Ee,Ve)&&M(K).each(function(Be){Be(Ee,K,oe),Ve.stop()})},_e=[fn(Qb(),function(Ee,Ve){N(Ee,Ve,p,K,oe).fold(function(){be(Ee,Ve)},function(ft){Ve.stop()})}),fn(x_(),function(Ee,Ve){N(Ee,Ve,w,K,oe).each(function(ft){Ve.stop()})})];return $i(se.toArray().concat(_e))},U={schema:E,processKey:N,toEvents:j};return U},eC=function(a){var c=[oi("onEscape"),oi("onEnter"),dt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),dt("firstTabstop",0),dt("useTabstopAt",le),oi("visibilitySelector")].concat([a]),p=function(Ve,ft){var Be=Ve.visibilitySelector.bind(function(ht){return qs(ft,ht)}).getOr(ft);return cu(Be)>0},w=function(Ve,ft){var Be=Ru(Ve.element,ft.selector),ht=Je(Be,function(Wt){return p(ft,Wt)});return G.from(ht[ft.firstTabstop])},M=function(Ve,ft){return ft.focusManager.get(Ve).bind(function(Be){return qs(Be,ft.selector)})},E=function(Ve,ft){return p(Ve,ft)&&Ve.useTabstopAt(ft)},N=function(Ve,ft,Be){w(Ve,ft).each(function(ht){ft.focusManager.set(Ve,ht)})},j=function(Ve,ft,Be,ht,Wt){return Wt(ft,Be,function(Kt){return E(ht,Kt)}).fold(function(){return ht.cyclic?G.some(!0):G.none()},function(Kt){return ht.focusManager.set(Ve,Kt),G.some(!0)})},U=function(Ve,ft,Be,ht){var Wt=Ru(Ve.element,Be.selector);return M(Ve,Be).bind(function(Kt){var ct=ur(Wt,Y(si,Kt));return ct.bind(function(Lt){return j(Ve,Wt,Lt,Be,ht)})})},K=function(Ve,ft,Be){var ht=Be.cyclic?f4:OD;return U(Ve,ft,Be,ht)},oe=function(Ve,ft,Be){var ht=Be.cyclic?pw:d4;return U(Ve,ft,Be,ht)},se=function(Ve,ft,Be){return Be.onEnter.bind(function(ht){return ht(Ve,ft)})},be=function(Ve,ft,Be){return Be.onEscape.bind(function(ht){return ht(Ve,ft)})},_e=L([Bo(Af([I0,Ro(dm)]),K),Bo(Ro(dm),oe),Bo(Ro(hm),be),Bo(Af([y1,Ro(nh)]),se)]),Ee=L([]);return op(c,tc.init,_e,Ee,function(){return G.some(N)})},ND=eC(ul("cyclic",ie)),h4=eC(ul("cyclic",le)),p4=function(a,c,p){return M_(a,p,Tc()),G.some(!0)},mm=function(a,c,p){var w=fm(p)&&Ro(Gs)(c.event);return w?G.none():p4(a,c,p)},Xg=function(a,c){return G.some(!0)},R0=[dt("execute",mm),dt("useSpace",!1),dt("useEnter",!0),dt("useControlEnter",!1),dt("useDown",!1)],LD=function(a,c,p){return p.execute(a,c,a.element)},tC=function(a,c,p,w){var M=p.useSpace&&!fm(a.element)?Gs:[],E=p.useEnter?nh:[],N=p.useDown?pm:[],j=M.concat(E).concat(N);return[Bo(Ro(j),LD)].concat(p.useControlEnter?[Bo(Af([ID,Ro(nh)]),LD)]:[])},m4=function(a,c,p,w){return p.useSpace&&!fm(a.element)?[Bo(Ro(Gs),Xg)]:[]},mw=op(R0,tc.init,tC,m4,function(){return G.none()}),gw=function(){var a=Ba(),c=function(M,E){a.set({numRows:M,numColumns:E})},p=function(){return a.get().map(function(M){return M.numRows})},w=function(){return a.get().map(function(M){return M.numColumns})};return Gu({readState:function(){return a.get().map(function(M){return{numRows:String(M.numRows),numColumns:String(M.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:c,getNumRows:p,getNumColumns:w})},nC=function(a){return a.state(a)},g4=Object.freeze({__proto__:null,flatgrid:gw,init:nC}),rC=function(a){return function(c,p,w,M){var E=a(c.element);return Yg(E,c,p,w,M)}},vw=function(a,c){var p=Vx(a,c);return rC(p)},yw=function(a,c){var p=Vx(c,a);return rC(p)},oC=function(a){return function(c,p,w,M){return Yg(a,c,p,w,M)}},Yg=function(a,c,p,w,M){var E=w.focusManager.get(c).bind(function(N){return a(c.element,N,w,M)});return E.map(function(N){return w.focusManager.set(c,N),!0})},bw=oC,iC=oC,xw=oC,w1=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},BD=function(a){return!w1(a.dom)},v4=function(a,c){return ur(a,c).map(function(p){return{index:p,candidates:a}})},zD=function(a,c,p){var w=function(N){return si(N,c)},M=Ru(a,p),E=Je(M,BD);return v4(E,w)},FD=function(a,c){return ur(a,function(p){return si(c,p)})},aC=function(a,c,p,w){var M=Math.floor(c/p),E=c%p;return w(M,E).bind(function(N){var j=N.row*p+N.column;return j>=0&&j<a.length?G.some(a[j]):G.none()})},HD=function(a,c,p,w,M){return aC(a,c,w,function(E,N){var j=E===p-1,U=j?a.length-E*w:w,K=Xd(N,M,0,U-1);return G.some({row:E,column:K})})},VD=function(a,c,p,w,M){return aC(a,c,w,function(E,N){var j=Xd(E,M,0,p-1),U=j===p-1,K=U?a.length-j*w:w,oe=Rl(N,0,K-1);return G.some({row:j,column:oe})})},uC=function(a,c,p,w){return HD(a,c,p,w,1)},sC=function(a,c,p,w){return HD(a,c,p,w,-1)},y4=function(a,c,p,w){return VD(a,c,p,w,-1)},b4=function(a,c,p,w){return VD(a,c,p,w,1)},P0=[on("selector"),dt("execute",mm),Ni("onEscape"),dt("captureTab",!1),px()],x4=function(a,c,p){pu(a.element,c.selector).each(function(w){c.focusManager.set(a,w)})},gm=function(a,c){return c.focusManager.get(a).bind(function(p){return qs(p,c.selector)})},jD=function(a,c,p,w){return gm(a,p).bind(function(M){return p.execute(a,c,M)})},Kg=function(a){return function(c,p,w,M){return zD(c,p,w.selector).bind(function(E){return a(E.candidates,E.index,M.getNumRows().getOr(w.initSize.numRows),M.getNumColumns().getOr(w.initSize.numColumns))})}},ww=function(a,c,p){return p.captureTab?G.some(!0):G.none()},UD=function(a,c,p){return p.onEscape(a,c)},lC=Kg(sC),_1=Kg(uC),cC=Kg(y4),Jg=Kg(b4),S1=L([Bo(Ro(hw),vw(lC,_1)),Bo(Ro(O0),yw(lC,_1)),Bo(Ro(v1),bw(cC)),Bo(Ro(pm),iC(Jg)),Bo(Af([I0,Ro(dm)]),ww),Bo(Af([y1,Ro(dm)]),ww),Bo(Ro(hm),UD),Bo(Ro(Gs.concat(nh)),jD)]),w4=L([Bo(Ro(Gs),Xg)]),WD=op(P0,gw,S1,w4,function(){return G.some(x4)}),N0=function(a,c,p,w){var M=function(N){return $e(N)==="button"&&ua(N,"disabled")==="disabled"},E=function(N,j,U){var K=Xd(j,w,0,U.length-1);return K===N?G.none():M(U[K])?E(N,K,U):G.from(U[K])};return zD(a,p,c).bind(function(N){var j=N.index,U=N.candidates;return E(j,j,U)})},_4=[on("selector"),dt("getInitial",G.none),dt("execute",mm),Ni("onEscape"),dt("executeOnMove",!1),dt("allowVertical",!0)],C1=function(a,c){return c.focusManager.get(a).bind(function(p){return qs(p,c.selector)})},T1=function(a,c,p){return C1(a,p).bind(function(w){return p.execute(a,c,w)})},qD=function(a,c,p){c.getInitial(a).orThunk(function(){return pu(a.element,c.selector)}).each(function(w){c.focusManager.set(a,w)})},Xc=function(a,c,p){return N0(a,p.selector,c,-1)},fC=function(a,c,p){return N0(a,p.selector,c,1)},_w=function(a){return function(c,p,w,M){return a(c,p,w,M).bind(function(){return w.executeOnMove?T1(c,p,w):G.some(!0)})}},S4=function(a,c,p){return p.onEscape(a,c)},dC=function(a,c,p,w){var M=hw.concat(p.allowVertical?v1:[]),E=O0.concat(p.allowVertical?pm:[]);return[Bo(Ro(M),_w(vw(Xc,fC))),Bo(Ro(E),_w(yw(Xc,fC))),Bo(Ro(nh),T1),Bo(Ro(Gs),T1),Bo(Ro(hm),S4)]},$D=L([Bo(Ro(Gs),Xg)]),Sw=op(_4,tc.init,dC,$D,function(){return G.some(qD)}),M1=function(a,c,p){return G.from(a[c]).bind(function(w){return G.from(w[p]).map(function(M){return{rowIndex:c,columnIndex:p,cell:M}})})},hC=function(a,c,p,w){var M=a[c],E=M.length,N=Xd(p,w,0,E-1);return M1(a,c,N)},GD=function(a,c,p,w){var M=Xd(p,w,0,a.length-1),E=a[M].length,N=Rl(c,0,E-1);return M1(a,M,N)},XD=function(a,c,p,w){var M=a[c],E=M.length,N=Rl(p+w,0,E-1);return M1(a,c,N)},ip=function(a,c,p,w){var M=Rl(p+w,0,a.length-1),E=a[M].length,N=Rl(c,0,E-1);return M1(a,M,N)},Cw=function(a,c,p){return hC(a,c,p,1)},C4=function(a,c,p){return hC(a,c,p,-1)},pC=function(a,c,p){return GD(a,p,c,-1)},T4=function(a,c,p){return GD(a,p,c,1)},mC=function(a,c,p){return XD(a,c,p,-1)},L0=function(a,c,p){return XD(a,c,p,1)},Tw=function(a,c,p){return ip(a,p,c,-1)},M4=function(a,c,p){return ip(a,p,c,1)},YD=[Hd("selectors",[on("row"),on("cell")]),dt("cycles",!0),dt("previousSelector",G.none),dt("execute",mm)],gC=function(a,c,p){var w=c.previousSelector(a).orThunk(function(){var M=c.selectors;return pu(a.element,M.cell)});w.each(function(M){c.focusManager.set(a,M)})},vC=function(a,c,p){return Cf(a.element).bind(function(w){return p.execute(a,c,w)})},k4=function(a,c){return Ye(a,function(p){return Ru(p,c.selectors.cell)})},Mw=function(a,c){return function(p,w,M){var E=M.cycles?a:c;return qs(w,M.selectors.row).bind(function(N){var j=Ru(N,M.selectors.cell);return FD(j,w).bind(function(U){var K=Ru(p,M.selectors.row);return FD(K,N).bind(function(oe){var se=k4(K,M);return E(se,oe,U).map(function(be){return be.cell})})})})}},KD=Mw(C4,mC),JD=Mw(Cw,L0),QD=Mw(pC,Tw),k1=Mw(T4,M4),D1=L([Bo(Ro(hw),vw(KD,JD)),Bo(Ro(O0),yw(KD,JD)),Bo(Ro(v1),bw(QD)),Bo(Ro(pm),iC(k1)),Bo(Ro(Gs.concat(nh)),vC)]),Qg=L([Bo(Ro(Gs),Xg)]),ZD=op(YD,tc.init,D1,Qg,function(){return G.some(gC)}),eA=[on("selector"),dt("execute",mm),dt("moveOnTab",!1)],kw=function(a,c,p){return p.focusManager.get(a).bind(function(w){return p.execute(a,c,w)})},Dw=function(a,c,p){pu(a.element,c.selector).each(function(w){c.focusManager.set(a,w)})},yC=function(a,c,p){return N0(a,p.selector,c,-1)},bC=function(a,c,p){return N0(a,p.selector,c,1)},tA=function(a,c,p,w){return p.moveOnTab?xw(yC)(a,c,p,w):G.none()},rh=function(a,c,p,w){return p.moveOnTab?xw(bC)(a,c,p,w):G.none()},xC=L([Bo(Ro(v1),xw(yC)),Bo(Ro(pm),xw(bC)),Bo(Af([I0,Ro(dm)]),tA),Bo(Af([y1,Ro(dm)]),rh),Bo(Ro(nh),kw),Bo(Ro(Gs),kw)]),oh=L([Bo(Ro(Gs),Xg)]),D4=op(eA,tc.init,xC,oh,function(){return G.some(Dw)}),ap=[Ni("onSpace"),Ni("onEnter"),Ni("onShiftEnter"),Ni("onLeft"),Ni("onRight"),Ni("onTab"),Ni("onShiftTab"),Ni("onUp"),Ni("onDown"),Ni("onEscape"),dt("stopSpaceKeyup",!1),oi("focusIn")],nA=function(a,c,p){return[Bo(Ro(Gs),p.onSpace),Bo(Af([y1,Ro(nh)]),p.onEnter),Bo(Af([I0,Ro(nh)]),p.onShiftEnter),Bo(Af([I0,Ro(dm)]),p.onShiftTab),Bo(Af([y1,Ro(dm)]),p.onTab),Bo(Ro(v1),p.onUp),Bo(Ro(pm),p.onDown),Bo(Ro(hw),p.onLeft),Bo(Ro(O0),p.onRight),Bo(Ro(Gs),p.onSpace),Bo(Ro(hm),p.onEscape)]},rA=function(a,c,p){return p.stopSpaceKeyup?[Bo(Ro(Gs),Xg)]:[]},A4=op(ap,tc.init,nA,rA,function(a){return a.focusIn}),E4=ND.schema(),B0=h4.schema(),z0=Sw.schema(),Aw=WD.schema(),oA=ZD.schema(),vm=mw.schema(),ym=D4.schema(),iA=A4.schema(),A1=Object.freeze({__proto__:null,acyclic:E4,cyclic:B0,flow:z0,flatgrid:Aw,matrix:oA,execution:vm,menu:ym,special:iA}),Zg=function(a){return Kn(a,"setGridSize")},Rr=kg({branchKey:"mode",branches:A1,name:"keying",active:{events:function(a,c){var p=a.handler;return p.toEvents(a,c)}},apis:{focusIn:function(a,c,p){c.sendFocusIn(c).fold(function(){a.getSystem().triggerFocus(a.element,a.element)},function(w){w(a,c,p)})},setGridSize:function(a,c,p,w,M){Zg(p)?p.setGridSize(w,M):console.error("Layout does not support setGridSize")}},state:g4}),wC=function(a,c,p,w){Qh(function(){var M=Ye(w,a.getSystem().build);Xk(a,M)},a.element)},Ew=function(a,c,p,w){var M=a.getSystem().build(w);zg(a,M,p)},_C=function(a,c,p,w){Ew(a,c,Ts,w)},up=function(a,c,p,w){Ew(a,c,Nh,w)},Ow=function(a,c,p,w){var M=E1(a),E=Rt(M,function(N){return si(w.element,N.element)});E.each(jc)},E1=function(a,c){return a.components()},Iw=function(a,c,p,w,M){var E=E1(a);return G.from(E[w]).map(function(N){return Ow(a,c,p,N),M.each(function(j){Ew(a,c,function(U,K){Qf(U,K,w)},j)}),N})},SC=function(a,c,p,w,M){var E=E1(a);return ur(E,w).bind(function(N){return Iw(a,c,p,N,M)})},CC=Object.freeze({__proto__:null,append:_C,prepend:up,remove:Ow,replaceAt:Iw,replaceBy:SC,set:wC,contents:E1}),Zr=Xa({fields:[],name:"replacing",apis:CC}),aA=function(a,c){var p=$i(c);return Xa({fields:[on("enabled")],name:a,active:{events:L(p)}})},po=function(a,c){var p=aA(a,c);return{key:a,value:{config:{},me:p,configAsRaw:L({}),initialConfig:{},state:tc}}},uA=function(a,c){c.ignore||(Yd(a.element),c.onFocus(a))},O1=function(a,c){c.ignore||Xy(a.element)},Rw=function(a){return kx(a.element)},bm=Object.freeze({__proto__:null,focus:uA,blur:O1,isFocused:Rw}),TC=function(a,c){var p=c.ignore?{}:{attributes:{tabindex:"-1"}};return ad(p)},Pw=function(a){return $i([fn(zp(),function(c,p){uA(c,a),p.stop()})].concat(a.stopMousedown?[fn(bf(),function(c,p){p.event.prevent()})]:[]))},I1=Object.freeze({__proto__:null,exhibit:TC,events:Pw}),sA=[_o("onFocus"),dt("stopMousedown",!1),dt("ignore",!1)],$r=Xa({fields:sA,name:"focusing",active:I1,apis:bm}),lA=function(a){var c=function(){var p=Er(a),w=function(){return p.get()},M=function(j){return p.set(j)},E=function(){return p.set(a)},N=function(){return p.get()};return{get:w,set:M,clear:E,readState:N}};return{init:c}},cA=function(a,c,p){var w=c.aria;w.update(a,w,p.get())},F0=function(a,c,p){c.toggleClass.each(function(w){p.get()?Xu(a.element,w):hu(a.element,w)})},ev=function(a,c,p){MC(a,c,p,!p.get())},fA=function(a,c,p){p.set(!0),F0(a,c,p),cA(a,c,p)},dA=function(a,c,p){p.set(!1),F0(a,c,p),cA(a,c,p)},MC=function(a,c,p,w){var M=w?fA:dA;M(a,c,p)},Nw=function(a,c,p){return p.get()},hA=function(a,c,p){MC(a,c,p,c.selected)},Lw=Object.freeze({__proto__:null,onLoad:hA,toggle:ev,isOn:Nw,on:fA,off:dA,set:MC}),pA=function(){return ad({})},mA=function(a,c){var p=Cx(a,c,ev),w=Cu(a,c,hA);return $i(Ke([a.toggleOnExecute?[p]:[],[w]]))},O4=Object.freeze({__proto__:null,exhibit:pA,events:mA}),I4=function(a,c,p){so(a.element,"aria-pressed",p),c.syncWithExpanded&&gA(a,c,p)},R4=function(a,c,p){so(a.element,"aria-selected",p)},P4=function(a,c,p){so(a.element,"aria-checked",p)},gA=function(a,c,p){so(a.element,"aria-expanded",p)},kC=[dt("selected",!1),oi("toggleClass"),dt("toggleOnExecute",!0),sl("aria",{mode:"none"},Lc("mode",{pressed:[dt("syncWithExpanded",!1),Ci("update",I4)],checked:[Ci("update",P4)],expanded:[Ci("update",gA)],selected:[Ci("update",R4)],none:[Ci("update",A)]}))],zo=Xa({fields:kC,name:"toggling",active:O4,apis:Lw,state:lA(!1)}),vA=function(){var a=function(c,p){p.stop(),$h(c)};return[fn(Xv(),a),fn(Fp(),a),Ga(Ud()),Ga(bf())]},R1=function(a){var c=function(p){return _f(function(w,M){p(w),M.stop()})};return $i(Ke([a.map(c).toArray(),vA()]))},P1="alloy.item-hover",Bw="alloy.item-focus",zw=function(a){(Cf(a.element).isNone()||$r.isFocused(a))&&($r.isFocused(a)||$r.focus(a),Ir(a,P1,{item:a}))},yA=function(a){Ir(a,Bw,{item:a})},bA=L(P1),v=L(Bw),C=function(a){return{dom:a.dom,domModification:ne(ne({},a.domModification),{attributes:ne(ne(ne({role:a.toggling.isSome()?"menuitemcheckbox":"menuitem"},a.domModification.attributes),{"aria-haspopup":a.hasSubmenu}),a.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:$c.augment(a.itemBehaviours,[a.toggling.fold(zo.revoke,function(c){return zo.config(ne({aria:{mode:"checked"}},c))}),$r.config({ignore:a.ignoreFocus,stopMousedown:a.ignoreFocus,onFocus:function(c){yA(c)}}),Rr.config({mode:"execution"}),qn.config({store:{mode:"memory",initialValue:a.data}}),po("item-type-events",Ce(Ce([],vA(),!0),[fn(Wh(),zw),fn(cg(),$r.focus)],!1))]),components:a.components,eventOrder:a.eventOrder}},D=[on("data"),on("components"),on("dom"),dt("hasSubmenu",!1),oi("toggling"),$c.field("itemBehaviours",[zo,$r,Rr,qn]),dt("ignoreFocus",!1),dt("domModification",{}),Ci("builder",C),dt("eventOrder",{})],P=function(a){return{dom:a.dom,components:a.components,events:$i([ta(cg())])}},F=[on("dom"),on("components"),Ci("builder",P)],$=L("item-widget"),re=L([Zu({name:"widget",overrides:function(a){return{behaviours:zn([qn.config({store:{mode:"manual",getValue:function(c){return a.data},setValue:A}})])}}})]),de=function(a){var c=VS($(),a,re()),p=jS($(),a,c.internals()),w=function(E){return Ti(E,a,"widget").map(function(N){return Rr.focusIn(N),N})},M=function(E,N){return fm(N.event.target)?G.none():function(){return a.autofocus&&N.setSource(E.element),G.none()}()};return{dom:a.dom,components:p,domModification:a.domModification,events:$i([_f(function(E,N){w(E).each(function(j){N.stop()})}),fn(Wh(),zw),fn(cg(),function(E,N){a.autofocus?w(E):$r.focus(E)})]),behaviours:$c.augment(a.widgetBehaviours,[qn.config({store:{mode:"memory",initialValue:a.data}}),$r.config({ignore:a.ignoreFocus,onFocus:function(E){yA(E)}}),Rr.config({mode:"special",focusIn:a.autofocus?function(E){w(E)}:Tx(),onLeft:M,onRight:M,onEscape:function(E,N){return!$r.isFocused(E)&&!a.autofocus?($r.focus(E),G.some(!0)):(a.autofocus&&N.setSource(E.element),G.none())}})])}},Se=[on("uid"),on("data"),on("components"),on("dom"),dt("autofocus",!1),dt("ignoreFocus",!1),$c.field("widgetBehaviours",[qn,$r,Rr]),dt("domModification",{}),qS(re()),Ci("builder",de)],Le=Lc("type",{widget:Se,item:D,separator:F}),ot=function(a,c){return{mode:"flatgrid",selector:"."+a.markers.item,initSize:{numColumns:c.initSize.numColumns,numRows:c.initSize.numRows},focusManager:a.focusManager}},$t=function(a,c){return{mode:"matrix",selectors:{row:c.rowSelector,cell:"."+a.markers.item},focusManager:a.focusManager}},_n=function(a,c){return{mode:"menu",selector:"."+a.markers.item,moveOnTab:c.moveOnTab,focusManager:a.focusManager}},sn=L([pd({factory:{sketch:function(a){var c=mi("menu.spec item",Le,a);return c.builder(c)}},name:"items",unit:"item",defaults:function(a,c){return ln(c,"uid")?c:ne(ne({},c),{uid:pg("item")})},overrides:function(a,c){return{type:c.type,ignoreFocus:a.fakeFocus,domModification:{classes:[a.markers.item]}}}})]),Gt=L([on("value"),on("items"),on("dom"),on("components"),dt("eventOrder",{}),Pu("menuBehaviours",[ii,qn,So,Rr]),sl("movement",{mode:"menu",moveOnTab:!0},Lc("mode",{grid:[px(),Ci("config",ot)],matrix:[Ci("config",$t),on("rowSelector")],menu:[dt("moveOnTab",!0),Ci("config",_n)]})),eO(),dt("fakeFocus",!1),dt("focusManager",b1()),_o("onHighlight")]),Nn=L("alloy.menu-focus"),Pn=function(a,c,p,w){return{uid:a.uid,dom:a.dom,markers:a.markers,behaviours:Nu(a.menuBehaviours,[ii.config({highlightClass:a.markers.selectedItem,itemClass:a.markers.item,onHighlight:a.onHighlight}),qn.config({store:{mode:"memory",initialValue:a.value}}),So.config({find:G.some}),Rr.config(a.movement.config(a,a.movement))]),events:$i([fn(v(),function(M,E){var N=E.event;M.getSystem().getByDom(N.target).each(function(j){ii.highlight(M,j),E.stop(),Ir(M,Nn(),{menu:M,item:j})})}),fn(bA(),function(M,E){var N=E.event.item;ii.highlight(M,N)})]),components:c,eventOrder:a.eventOrder,domModification:{attributes:{role:"menu"}}}},xr=ml({name:"Menu",configFields:Gt(),partFields:sn(),factory:Pn}),qo=function(a){return mt(a,function(c,p){return{k:c,v:p}})},Ar=function(a,c,p,w){return Pt(p,w).bind(function(M){return Pt(a,M).bind(function(E){var N=Ar(a,c,p,E);return G.some([E].concat(N))})}).getOr([])},Gr=function(a,c){var p={};Bn(a,function(N,j){je(N,function(U){p[U]=j})});var w=c,M=qo(c),E=bn(M,function(N,j){return[j].concat(Ar(p,w,M,j))});return bn(p,function(N){return Pt(E,N).getOr([N])})},Po=function(){var a=Er({}),c=Er({}),p=Er({}),w=Ba(),M=Er({}),E=function(){a.set({}),c.set({}),p.set({}),w.clear()},N=function(){return w.get().isNone()},j=function(ct,Lt){var rn;c.set(ne(ne({},c.get()),(rn={},rn[ct]={type:"prepared",menu:Lt},rn)))},U=function(ct,Lt,rn,$n){w.set(ct),a.set(rn),c.set(Lt),M.set($n);var cn=Gr($n,rn);p.set(cn)},K=function(ct){return et(a.get(),function(Lt,rn){return Lt===ct})},oe=function(ct,Lt,rn){return Ve(ct).bind(function($n){return K(ct).bind(function(cn){return Lt(cn).map(function(Xn){return{triggeredMenu:$n,triggeringItem:Xn,triggeringPath:rn}})})})},se=function(ct,Lt){var rn=Je(Be(ct).toArray(),function($n){return Ve($n).isSome()});return Pt(p.get(),ct).bind(function($n){var cn=Zt(rn.concat($n)),Xn=Bt(cn,function(mn,nn){return oe(mn,Lt,cn.slice(0,nn+1)).fold(function(){return Lr(w.get(),mn)?[]:[G.none()]},function(jn){return[G.some(jn)]})});return Vr(Xn)})},be=function(ct){return Pt(a.get(),ct).map(function(Lt){var rn=Pt(p.get(),ct).getOr([]);return[Lt].concat(rn)})},_e=function(ct){return Pt(p.get(),ct).bind(function(Lt){return Lt.length>1?G.some(Lt.slice(1)):G.none()})},Ee=function(ct){return Pt(p.get(),ct)},Ve=function(ct){return ft(ct).bind(xo)},ft=function(ct){return Pt(c.get(),ct)},Be=function(ct){return Pt(a.get(),ct)},ht=function(ct){var Lt=M.get();return Qn(Tt(Lt),ct)},Wt=function(){return w.get().bind(Ve)},Kt=function(){return c.get()};return{setMenuBuilt:j,setContents:U,expand:be,refresh:Ee,collapse:_e,lookupMenu:ft,lookupItem:Be,otherMenus:ht,getPrimary:Wt,getMenus:Kt,clear:E,isClear:N,getTriggeringPath:se}},xo=function(a){return a.type==="prepared"?G.some(a.menu):G.none()},za={init:Po,extractPreparedMenu:xo},Lu=function(a,c){var p=Ba(),w=function(dn,cr,wr){return bn(wr,function(Ho,wi){var Ea=function(){return xr.sketch(ne(ne({},Ho),{value:wi,markers:a.markers,fakeFocus:a.fakeFocus,onHighlight:a.onHighlight,focusManager:a.fakeFocus?PD():b1()}))};return wi===cr?{type:"prepared",menu:dn.getSystem().build(Ea())}:{type:"notbuilt",nbMenu:Ea}})},M=za.init(),E=function(dn){var cr=w(dn,a.data.primary,a.data.menus),wr=U();return M.setContents(a.data.primary,cr,a.data.expansions,wr),M.getPrimary()},N=function(dn){return qn.getValue(dn).value},j=function(dn,cr,wr){return vt(cr,function(Ho){if(!Ho.getSystem().isConnected())return G.none();var wi=ii.getCandidates(Ho);return Rt(wi,function(Ea){return N(Ea)===wr})})},U=function(dn){return bn(a.data.menus,function(cr,wr){return Bt(cr.items,function(Ho){return Ho.type==="separator"?[]:[Ho.data.value]})})},K=function(dn,cr){ii.highlight(dn,cr),ii.getHighlighted(cr).orThunk(function(){return ii.getFirst(cr)}).each(function(wr){M_(dn,wr.element,cg())})},oe=function(dn,cr){return Br(Ye(cr,function(wr){return dn.lookupMenu(wr).bind(function(Ho){return Ho.type==="prepared"?G.some(Ho.menu):G.none()})}))},se=function(dn,cr,wr){var Ho=oe(cr,cr.otherMenus(wr));je(Ho,function(wi){$d(wi.element,[a.markers.backgroundMenu]),a.stayInDom||Zr.remove(dn,wi)})},be=function(dn){return p.get().getOrThunk(function(){var cr={},wr=Ru(dn.element,"."+a.markers.item),Ho=Je(wr,function(wi){return ua(wi,"aria-haspopup")==="true"});return je(Ho,function(wi){dn.getSystem().getByDom(wi).each(function(Ea){var vp=N(Ea);cr[vp]=Ea})}),p.set(cr),cr})},_e=function(dn,cr){var wr=be(dn);Bn(wr,function(Ho,wi){var Ea=Ot(cr,wi);so(Ho.element,"aria-expanded",Ea)})},Ee=function(dn,cr,wr){return G.from(wr[0]).bind(function(Ho){return cr.lookupMenu(Ho).bind(function(wi){if(wi.type==="notbuilt")return G.none();var Ea=wi.menu,vp=oe(cr,wr.slice(1));return je(vp,function(hh){Xu(hh.element,a.markers.backgroundMenu)}),Or(Ea.element)||Zr.append(dn,Dc(Ea)),$d(Ea.element,[a.markers.backgroundMenu]),K(dn,Ea),se(dn,cr,wr),G.some(Ea)})})},Ve;(function(dn){dn[dn.HighlightSubmenu=0]="HighlightSubmenu",dn[dn.HighlightParent=1]="HighlightParent"})(Ve||(Ve={}));var ft=function(dn,cr,wr){if(wr.type==="notbuilt"){var Ho=dn.getSystem().build(wr.nbMenu());return M.setMenuBuilt(cr,Ho),Ho}else return wr.menu},Be=function(dn,cr,wr){if(wr===void 0&&(wr=Ve.HighlightSubmenu),cr.hasConfigured(Mr)&&Mr.isDisabled(cr))return G.some(cr);var Ho=N(cr);return M.expand(Ho).bind(function(wi){return _e(dn,wi),G.from(wi[0]).bind(function(Ea){return M.lookupMenu(Ea).bind(function(vp){var hh=ft(dn,Ea,vp);return Or(hh.element)||Zr.append(dn,Dc(hh)),a.onOpenSubmenu(dn,cr,hh,Zt(wi)),wr===Ve.HighlightSubmenu?(ii.highlightFirst(hh),Ee(dn,M,wi)):(ii.dehighlightAll(hh),G.some(cr))})})})},ht=function(dn,cr){var wr=N(cr);return M.collapse(wr).bind(function(Ho){return _e(dn,Ho),Ee(dn,M,Ho).map(function(wi){return a.onCollapseMenu(dn,cr,wi),wi})})},Wt=function(dn,cr){var wr=N(cr);return M.refresh(wr).bind(function(Ho){return _e(dn,Ho),Ee(dn,M,Ho)})},Kt=function(dn,cr){return fm(cr.element)?G.none():Be(dn,cr,Ve.HighlightSubmenu)},ct=function(dn,cr){return fm(cr.element)?G.none():ht(dn,cr)},Lt=function(dn,cr){return ht(dn,cr).orThunk(function(){return a.onEscape(dn,cr).map(function(){return dn})})},rn=function(dn){return function(cr,wr){return qs(wr.getSource(),"."+a.markers.item).bind(function(Ho){return cr.getSystem().getByDom(Ho).toOptional().bind(function(wi){return dn(cr,wi).map(le)})})}},$n=$i([fn(Nn(),function(dn,cr){var wr=cr.event.item;M.lookupItem(N(wr)).each(function(){var Ho=cr.event.menu;ii.highlight(dn,Ho);var wi=N(cr.event.item);M.refresh(wi).each(function(Ea){return se(dn,M,Ea)})})}),_f(function(dn,cr){var wr=cr.event.target;dn.getSystem().getByDom(wr).each(function(Ho){var wi=N(Ho);wi.indexOf("collapse-item")===0&&ht(dn,Ho),Be(dn,Ho,Ve.HighlightSubmenu).fold(function(){a.onExecute(dn,Ho)},A)})}),da(function(dn,cr){E(dn).each(function(wr){Zr.append(dn,Dc(wr)),a.onOpenMenu(dn,wr),a.highlightImmediately&&K(dn,wr)})})].concat(a.navigateOnHover?[fn(bA(),function(dn,cr){var wr=cr.event.item;Wt(dn,wr),Be(dn,wr,Ve.HighlightParent),a.onHover(dn,wr)})]:[])),cn=function(dn){return ii.getHighlighted(dn).bind(ii.getHighlighted)},Xn=function(dn){cn(dn).each(function(cr){ht(dn,cr)})},mn=function(dn){M.getPrimary().each(function(cr){K(dn,cr)})},nn=function(dn){return G.from(dn.components()[0]).filter(function(cr){return ua(cr.element,"role")==="menu"})},jn=function(dn){var cr=M.getPrimary().bind(function(wr){return cn(dn).bind(function(Ho){var wi=N(Ho),Ea=jt(M.getMenus()),vp=Br(Ye(Ea,za.extractPreparedMenu));return M.getTriggeringPath(wi,function(hh){return j(dn,vp,hh)})}).map(function(Ho){return{primary:wr,triggeringPath:Ho}})});cr.fold(function(){nn(dn).each(function(wr){a.onRepositionMenu(dn,wr,[])})},function(wr){var Ho=wr.primary,wi=wr.triggeringPath;a.onRepositionMenu(dn,Ho,wi)})},gr={collapseMenu:Xn,highlightPrimary:mn,repositionMenus:jn};return{uid:a.uid,dom:a.dom,markers:a.markers,behaviours:Nu(a.tmenuBehaviours,[Rr.config({mode:"special",onRight:rn(Kt),onLeft:rn(ct),onEscape:rn(Lt),focusIn:function(dn,cr){M.getPrimary().each(function(wr){M_(dn,wr.element,cg())})}}),ii.config({highlightClass:a.markers.selectedMenu,itemClass:a.markers.menu}),So.config({find:function(dn){return ii.getHighlighted(dn)}}),Zr.config({})]),eventOrder:a.eventOrder,apis:gr,events:$n}},Xs=L("collapse-item"),Yo=function(a,c,p){return{primary:a,menus:c,expansions:p}},eo=function(a,c){return{primary:a,menus:Vd(a,c),expansions:{}}},Fo=function(a){return{value:ir(Xs()),meta:{text:a}}},bi=uc({name:"TieredMenu",configFields:[Yp("onExecute"),Yp("onEscape"),Tg("onOpenMenu"),Tg("onOpenSubmenu"),_o("onRepositionMenu"),_o("onCollapseMenu"),dt("highlightImmediately",!0),Hd("data",[on("primary"),on("menus"),on("expansions")]),dt("fakeFocus",!1),_o("onHighlight"),_o("onHover"),Sg(),on("dom"),dt("navigateOnHover",!0),dt("stayInDom",!1),Pu("tmenuBehaviours",[Rr,ii,So,Zr]),dt("eventOrder",{})],apis:{collapseMenu:function(a,c){a.collapseMenu(c)},highlightPrimary:function(a,c){a.highlightPrimary(c)},repositionMenus:function(a,c){a.repositionMenus(c)}},factory:Lu,extraApis:{tieredData:Yo,singleData:eo,collapseItem:Fo}}),ha=function(a,c,p,w,M){var E=function(){return a.lazySink(c)},N=w.type==="horizontal"?{layouts:{onLtr:function(){return Jh()},onRtl:function(){return Zp()}}}:{},j=function(K){return K.length===2},U=function(K){return j(K)?N:{}};return bi.sketch({dom:{tag:"div"},data:w.data,markers:w.menu.markers,highlightImmediately:w.menu.highlightImmediately,onEscape:function(){return Lo.close(c),a.onEscape.map(function(K){return K(c)}),G.some(!0)},onExecute:function(){return G.some(!0)},onOpenMenu:function(K,oe){hl.positionWithinBounds(E().getOrDie(),oe,p,M())},onOpenSubmenu:function(K,oe,se,be){var _e=E().getOrDie();hl.position(_e,se,{anchor:ne({type:"submenu",item:oe},U(be))})},onRepositionMenu:function(K,oe,se){var be=E().getOrDie();hl.positionWithinBounds(be,oe,p,M()),je(se,function(_e){var Ee=U(_e.triggeringPath);hl.position(be,_e.triggeredMenu,{anchor:ne({type:"submenu",item:_e.triggeringItem},Ee)})})}})},ih=function(a,c){var p=function(_e,Ee){var Ve=a.getRelated(_e);return Ve.exists(function(ft){return bg(ft,Ee)})},w=function(_e,Ee){Lo.setContent(_e,Ee)},M=function(_e,Ee,Ve){E(_e,Ee,Ve,G.none())},E=function(_e,Ee,Ve,ft){N(_e,Ee,Ve,function(){return ft.map(function(Be){return eu(Be)})})},N=function(_e,Ee,Ve,ft){var Be=a.lazySink(_e).getOrDie();Lo.openWhileCloaked(_e,Ee,function(){return hl.positionWithinBounds(Be,_e,Ve,ft())}),qn.setValue(_e,G.some({mode:"position",config:Ve,getBounds:ft}))},j=function(_e,Ee,Ve){U(_e,Ee,Ve,G.none)},U=function(_e,Ee,Ve,ft){var Be=ha(a,_e,Ee,Ve,ft);Lo.open(_e,Be),qn.setValue(_e,G.some({mode:"menu",menu:Be}))},K=function(_e){Lo.isOpen(_e)&&(qn.setValue(_e,G.none()),Lo.close(_e))},oe=function(_e){return Lo.getState(_e)},se=function(_e){Lo.isOpen(_e)&&qn.getValue(_e).each(function(Ee){switch(Ee.mode){case"menu":Lo.getState(_e).each(bi.repositionMenus);break;case"position":var Ve=a.lazySink(_e).getOrDie();hl.positionWithinBounds(Ve,_e,Ee.config,Ee.getBounds());break}})},be={setContent:w,showAt:M,showWithin:E,showWithinBounds:N,showMenuAt:j,showMenuWithinBounds:U,hide:K,getContent:oe,reposition:se,isOpen:Lo.isOpen};return{uid:a.uid,dom:a.dom,behaviours:Nu(a.inlineBehaviours,[Lo.config({isPartOf:function(_e,Ee,Ve){return bg(Ee,Ve)||p(_e,Ve)},getAttachPoint:function(_e){return a.lazySink(_e).getOrDie()},onOpen:function(_e){a.onShow(_e)},onClose:function(_e){a.onHide(_e)}}),qn.config({store:{mode:"memory",initialValue:G.none()}}),rc.config({channels:ne(ne({},sm(ne({isExtraPart:c.isExtraPart},a.fireDismissalEventInstead.map(function(_e){return{fireEventInstead:{event:_e.event}}}).getOr({})))),i1(ne(ne({},a.fireRepositionEventInstead.map(function(_e){return{fireEventInstead:{event:_e.event}}}).getOr({})),{doReposition:se})))})]),eventOrder:a.eventOrder,apis:be}},gi=uc({name:"InlineView",configFields:[on("lazySink"),_o("onShow"),_o("onHide"),Lp("onEscape"),Pu("inlineBehaviours",[Lo,qn,rc]),Ql("fireDismissalEventInstead",[dt("event",xf())]),Ql("fireRepositionEventInstead",[dt("event",Ws())]),dt("getRelated",G.none),dt("isExtraPart",ie),dt("eventOrder",G.none)],factory:ih,apis:{showAt:function(a,c,p,w){a.showAt(c,p,w)},showWithin:function(a,c,p,w,M){a.showWithin(c,p,w,M)},showWithinBounds:function(a,c,p,w,M){a.showWithinBounds(c,p,w,M)},showMenuAt:function(a,c,p,w){a.showMenuAt(c,p,w)},showMenuWithinBounds:function(a,c,p,w,M){a.showMenuWithinBounds(c,p,w,M)},hide:function(a,c){a.hide(c)},isOpen:function(a,c){return a.isOpen(c)},getContent:function(a,c){return a.getContent(c)},setContent:function(a,c,p){a.setContent(c,p)},reposition:function(a,c){a.reposition(c)}}}),sc="layout-inset",gs=function(a){return a.x},N1=function(a,c){return a.x+a.width/2-c.width/2},tv=function(a,c){return a.x+a.width-c.width},md=function(a){return a.y},Yc=function(a,c){return a.y+a.height-c.height},gd=function(a,c){return a.y+a.height/2-c.height/2},L1=function(a,c,p){return Yu(tv(a,c),Yc(a,c),p.insetSouthwest(),vx(),"southwest",fs(a,{right:0,bottom:3}),sc)},H0=function(a,c,p){return Yu(gs(a),Yc(a,c),p.insetSoutheast(),q_(),"southeast",fs(a,{left:1,bottom:3}),sc)},B1=function(a,c,p){return Yu(tv(a,c),md(a),p.insetNorthwest(),i0(),"northwest",fs(a,{right:0,top:2}),sc)},nv=function(a,c,p){return Yu(gs(a),md(a),p.insetNortheast(),gx(),"northeast",fs(a,{left:1,top:2}),sc)},Ef=function(a,c,p){return Yu(N1(a,c),md(a),p.insetNorth(),a0(),"north",fs(a,{top:2}),sc)},rv=function(a,c,p){return Yu(N1(a,c),Yc(a,c),p.insetSouth(),yx(),"south",fs(a,{bottom:3}),sc)},Fw=function(a,c,p){return Yu(tv(a,c),gd(a,c),p.insetEast(),Mg(),"east",fs(a,{right:0}),sc)},Hw=function(a,c,p){return Yu(gs(a),gd(a,c),p.insetWest(),Il(),"west",fs(a,{left:1}),sc)},z1=function(a){switch(a){case"north":return Ef;case"northeast":return nv;case"northwest":return B1;case"south":return rv;case"southeast":return H0;case"southwest":return L1;case"east":return Fw;case"west":return Hw}},WL=function(a,c,p,w,M){var E=iS(w).map(z1).getOr(Ef);return E(a,c,p,w,M)},P9=function(a){switch(a){case"north":return rv;case"northeast":return H0;case"northwest":return L1;case"south":return Ef;case"southeast":return nv;case"southwest":return B1;case"east":return Hw;case"west":return Fw}},N9=function(a,c,p,w,M){var E=iS(w).map(P9).getOr(Ef);return E(a,c,p,w,M)},ov=tinymce.util.Tools.resolve("tinymce.util.Delay"),qL=function(a){var c=R1(a.action),p=a.dom.tag,w=function(E){return Pt(a.dom,"attributes").bind(function(N){return Pt(N,E)})},M=function(){if(p==="button"){var E=w("type").getOr("button"),N=w("role").map(function(U){return{role:U}}).getOr({});return ne({type:E},N)}else{var j=w("role").getOr("button");return{role:j}}};return{uid:a.uid,dom:a.dom,components:a.components,events:c,behaviours:$c.augment(a.buttonBehaviours,[$r.config({}),Rr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:M()},eventOrder:a.eventOrder}},vl=uc({name:"Button",factory:qL,configFields:[dt("uid",void 0),on("dom"),dt("components",[]),$c.field("buttonBehaviours",[$r,Rr]),oi("action"),oi("role"),dt("eventOrder",{})]}),ci=function(a){var c=QO(a)&&Kn(a,"uid")?a.uid:pg("memento"),p=function(E){return E.getSystem().getByUid(c).getOrDie()},w=function(E){return E.getSystem().getByUid(c).toOptional()},M=function(){return ne(ne({},a),{uid:c})};return{get:p,getOpt:w,asSpec:M}},Of=tinymce.util.Tools.resolve("tinymce.util.I18n"),L9={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},$L="temporary-placeholder",N4=function(a){return function(){return Pt(a,$L).getOr("!not found!")}},L4=function(a,c){var p=a.toLowerCase();if(Of.isRtl()){var w=Ra(p,"-rtl");return ln(c,w)?w:p}else return p},GL=function(a,c){return Pt(c,L4(a,c))},XL=function(a,c){var p=c();return GL(a,p).getOrThunk(N4(p))},YL=function(a,c,p){var w=c();return GL(a,w).or(p).getOrThunk(N4(w))},B9=function(a){return Of.isRtl()?ln(L9,a):!1},B4=function(){return po("add-focusable",[da(function(a){K5(a.element,"svg").each(function(c){return so(c,"focusable","false")})})])},DC=function(a,c,p,w){var M,E,N=B9(c)?["tox-icon--flip"]:[],j=Pt(p,L4(c,p)).or(w).getOrThunk(N4(p));return{dom:{tag:a.tag,attributes:(M=a.attributes)!==null&&M!==void 0?M:{},classes:a.classes.concat(N),innerHtml:j},behaviours:zn(Ce(Ce([],(E=a.behaviours)!==null&&E!==void 0?E:[],!0),[B4()],!1))}},sp=function(a,c,p,w){return w===void 0&&(w=G.none()),DC(c,a,p(),w)},z9=function(a,c,p){var w=p(),M=Rt(a,function(E){return ln(w,L4(E,w))});return DC(c,M.getOr($L),w,G.none())},z4={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},F9=function(a){var c=ci({dom:{tag:"p",innerHtml:a.translationProvider(a.text)},behaviours:zn([Zr.config({})])}),p=function(_e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+_e+"%"}}}},w=function(_e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:_e+"%"}}},M=ci({dom:{tag:"div",classes:a.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(0)]},w(0)],behaviours:zn([Zr.config({})])}),E=function(_e,Ee){_e.getSystem().isConnected()&&M.getOpt(_e).each(function(Ve){Zr.set(Ve,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[p(Ee)]},w(Ee)])})},N=function(_e,Ee){if(_e.getSystem().isConnected()){var Ve=c.get(_e);Zr.set(Ve,[$p(Ee)])}},j={updateProgress:E,updateText:N},U=Ke([a.icon.toArray(),a.level.toArray(),a.level.bind(function(_e){return G.from(z4[_e])}).toArray()]),K=ci(vl.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[sp("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":a.translationProvider("Close")}},a.iconProvider)],action:function(_e){a.onAction(_e)}})),oe=z9(U,{tag:"div",classes:["tox-notification__icon"]},a.iconProvider),se={dom:{tag:"div",classes:["tox-notification__body"]},components:[c.asSpec()],behaviours:zn([Zr.config({})])},be=[oe,se];return{uid:a.uid,dom:{tag:"div",attributes:{role:"alert"},classes:a.level.map(function(_e){return["tox-notification","tox-notification--in","tox-notification--"+_e]}).getOr(["tox-notification","tox-notification--in"])},behaviours:zn([$r.config({}),po("notification-events",[fn(Bc(),function(_e){K.getOpt(_e).each($r.focus)})])]),components:be.concat(a.progress?[M.asSpec()]:[]).concat(a.closeButton?[K.asSpec()]:[]),apis:j}},F4=uc({name:"Notification",factory:F9,configFields:[oi("level"),on("progress"),on("icon"),on("onAction"),on("text"),on("iconProvider"),on("translationProvider"),Pi("closeButton",!0)],apis:{updateProgress:function(a,c,p){a.updateProgress(c,p)},updateText:function(a,c,p){a.updateText(c,p)}}});function H9(a,c,p){var w=c.backstage.shared,M=function(K){switch(K){case"bc-bc":return rv;case"tc-tc":return Ef;case"tc-bc":return Pl;case"bc-tc":default:return ds}},E=function(K){K.length>0&&je(K,function(oe,se){se===0?oe.moveRel(null,"banner"):oe.moveRel(K[se-1].getEl(),"bc-tc")})},N=function(K,oe){var se=!K.closeButton&&K.timeout&&(K.timeout>0||K.timeout<0),be=function(){oe(),gi.hide(Ee)},_e=nu(F4.sketch({text:K.text,level:Ot(["success","error","warning","warn","info"],K.type)?K.type:void 0,progress:K.progressBar===!0,icon:G.from(K.icon),closeButton:!se,onAction:be,iconProvider:w.providers.icons,translationProvider:w.providers.translate})),Ee=nu(gi.sketch(ne({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:w.getSink,fireDismissalEventInstead:{}},w.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));p.add(Ee),K.timeout>0&&ov.setTimeout(function(){be()},K.timeout);var Ve=function(){var ft=eu(He.fromDom(a.getContentAreaContainer())),Be=us(),ht=Rl(Be.x,ft.x,ft.right),Wt=Rl(Be.y,ft.y,ft.bottom),Kt=Math.max(ft.right,Be.right),ct=Math.max(ft.bottom,Be.bottom);return G.some(wu(ht,Wt,Kt-ht,ct-Wt))};return{close:be,moveTo:function(ft,Be){gi.showAt(Ee,Dc(_e),{anchor:{type:"makeshift",x:ft,y:Be}})},moveRel:function(ft,Be){var ht=Dc(_e),Wt={maxHeightFunction:d0()};if(Be!=="banner"&&b(ft)){var Kt=M(Be),ct={type:"node",root:li(),node:G.some(He.fromDom(ft)),overrides:Wt,layouts:{onRtl:function(){return[Kt]},onLtr:function(){return[Kt]}}};gi.showWithinBounds(Ee,ht,{anchor:ct},Ve)}else{var Lt=ne(ne({},w.anchors.banner()),{overrides:Wt});gi.showWithinBounds(Ee,ht,{anchor:Lt},Ve)}},text:function(ft){F4.updateText(_e,ft)},settings:K,getEl:function(){return _e.element.dom},progressBar:{value:function(ft){F4.updateProgress(_e,ft)}}}},j=function(K){K.close()},U=function(K){return K.settings};return{open:N,close:j,reposition:E,getArgs:U}}var V9=function(a,c){var p=null,w=function(){f(p)||(clearTimeout(p),p=null)},M=function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];f(p)&&(p=setTimeout(function(){p=null,a.apply(null,E)},c))};return{cancel:w,throttle:M}},H4=function(a,c){var p=null,w=function(){f(p)||(clearTimeout(p),p=null)},M=function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];w(),p=setTimeout(function(){p=null,a.apply(null,E)},c)};return{cancel:w,throttle:M}},j9=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),U9=function(a,c){return a.isBlock(c)||Ot(["BR","IMG","HR","INPUT"],c.nodeName)||a.getContentEditable(c)==="false"},KL=function(a,c,p,w,M){var E=j9(a,function(N){return U9(a,N)});return G.from(E.backwards(c,p,w,M))},W9="[data-mce-autocompleter]",q9=function(a,c){return xA(He.fromDom(a.selection.getNode())).getOrThunk(function(){var p=He.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',a.getDoc());return Ts(p,He.fromDom(c.extractContents())),c.insertNode(p.dom),aa(p).each(function(w){return w.dom.normalize()}),Fk(p).map(function(w){a.selection.setCursorLocation(w.dom,zk(w))}),p})},xA=function(a){return qs(a,W9)},$9=function(a){return a.collapsed&&a.startContainer.nodeType===3},wA=function(a){return a.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},JL=function(a){return a!==""&&` \f
\r	\v`.indexOf(a)!==-1},V4=function(a,c){return a.substring(c.length)},G9=function(a,c,p){var w;for(w=c-1;w>=0;w--){var M=a.charAt(w);if(JL(M))return G.none();if(M===p)break}return G.some(w)},QL=function(a,c,p,w){if(w===void 0&&(w=0),!$9(c))return G.none();var M=function(N,j,U){return G9(U,j,p).getOr(j)},E=a.getParent(c.startContainer,a.isBlock)||a.getRoot();return KL(a,c.startContainer,c.startOffset,M,E).bind(function(N){var j=c.cloneRange();if(j.setStart(N.container,N.offset),j.setEnd(c.endContainer,c.endOffset),j.collapsed)return G.none();var U=wA(j),K=U.lastIndexOf(p);return K!==0||V4(U,p).length<w?G.none():G.some({text:V4(U,p),range:j,triggerChar:p})})},j4=function(a,c,p,w){return w===void 0&&(w=0),xA(He.fromDom(c.startContainer)).fold(function(){return QL(a,c,p,w)},function(M){var E=a.createRng();E.selectNode(M.dom);var N=wA(E);return G.some({range:E,text:V4(N,p),triggerChar:p})})},X9=function(a,c){c.on("keypress compositionend",a.onKeypress.throttle),c.on("remove",a.onKeypress.cancel);var p=function(w,M){Ir(w,Qb(),{raw:M})};c.on("keydown",function(w){var M=function(){return a.getView().bind(ii.getHighlighted)};w.which===8&&a.onKeypress.throttle(w),a.isActive()&&(w.which===27&&a.cancelIfNecessary(),a.isMenuOpen()?w.which===13?(M().each($h),w.preventDefault()):w.which===40?(M().fold(function(){a.getView().each(ii.highlightFirst)},function(E){p(E,w)}),w.preventDefault(),w.stopImmediatePropagation()):(w.which===37||w.which===38||w.which===39)&&M().each(function(E){p(E,w),w.preventDefault(),w.stopImmediatePropagation()}):(w.which===13||w.which===38||w.which===40)&&a.cancelIfNecessary())}),c.on("NodeChange",function(w){a.isActive()&&!a.isProcessingAction()&&xA(He.fromDom(w.element)).isNone()&&a.cancelIfNecessary()})},Y9={setup:X9},AC=tinymce.util.Tools.resolve("tinymce.util.Promise"),U4=function(a,c){return{container:a,offset:c}},W4=function(a){return a.nodeType===Oe},K9=function(a){return a.nodeType===tr},ZL=function(a){if(W4(a))return U4(a,a.data.length);var c=a.childNodes;return c.length>0?ZL(c[c.length-1]):U4(a,c.length)},e6=function(a,c){var p=a.childNodes;return p.length>0&&c<p.length?e6(p[c],0):p.length>0&&K9(a)&&p.length===c?ZL(p[p.length-1]):U4(a,c)},J9=function(a,c){return KL(a,c.container,c.offset,function(p,w){return w===0?-1:w},a.getRoot()).filter(function(p){var w=p.container.data.charAt(p.offset-1);return!JL(w)}).isSome()},Q9=function(a){return function(c){var p=e6(c.startContainer,c.startOffset);return!J9(a,p)}},Z9=function(a,c,p){return vt(p.triggerChars,function(w){return j4(a,c,w)})},ej=function(a,c){var p=c(),w=a.selection.getRng();return Z9(a.dom,w,p).bind(function(M){return t6(a,c,M)})},t6=function(a,c,p,w){w===void 0&&(w={});var M=c(),E=a.selection.getRng(),N=E.startContainer.nodeValue,j=Je(M.lookupByChar(p.triggerChar),function(K){return p.text.length>=K.minChars&&K.matches.getOrThunk(function(){return Q9(a.dom)})(p.range,N,p.text)});if(j.length===0)return G.none();var U=AC.all(Ye(j,function(K){var oe=K.fetch(p.text,K.maxResults,w);return oe.then(function(se){return{matchText:p.text,items:se,columns:K.columns,onAction:K.onAction,highlightOn:K.highlightOn}})}));return G.some({lookupData:U,context:p})},n6=Sr([Yr("type"),Wi("text")]),tj=function(a){return wa("separatormenuitem",n6,a)},nj=Sr([dt("type","autocompleteitem"),dt("active",!1),dt("disabled",!1),dt("meta",{}),Yr("value"),Wi("text"),Wi("icon")]),q4=Sr([Yr("type"),Yr("ch"),rd("minChars",1),dt("columns",1),rd("maxResults",10),Lp("matches"),Us("fetch"),Us("onAction"),jh("highlightOn",[],$a)]),rj=function(a){return wa("Autocompleter.Separator",n6,a)},oj=function(a){return wa("Autocompleter.Item",nj,a)},ij=function(a){return wa("Autocompleter",q4,a)},F1=[Pi("disabled",!1),Wi("tooltip"),Wi("icon"),Wi("text"),qi("onSetup",function(){return A})],aj=Sr([Yr("type"),Us("onAction")].concat(F1)),_A=function(a){return wa("toolbarbutton",aj,a)},$4=[Pi("active",!1)].concat(F1),uj=Sr($4.concat([Yr("type"),Us("onAction")])),r6=function(a){return wa("ToggleButton",uj,a)},o6=[qi("predicate",ie),Sc("scope","node",["node","editor"]),Sc("position","selection",["node","selection","line"])],sj=F1.concat([dt("type","contextformbutton"),dt("primary",!1),Us("onAction"),ul("original",q)]),i6=$4.concat([dt("type","contextformbutton"),dt("primary",!1),Us("onAction"),ul("original",q)]),lj=F1.concat([dt("type","contextformbutton")]),G4=$4.concat([dt("type","contextformtogglebutton")]),X4=Lc("type",{contextformbutton:sj,contextformtogglebutton:i6}),a6=Sr([dt("type","contextform"),qi("initValue",L("")),Wi("label"),Ds("commands",X4),nd("launch",Lc("type",{contextformbutton:lj,contextformtogglebutton:G4}))].concat(o6)),Y4=function(a){return wa("ContextForm",a6,a)},K4=Sr([dt("type","contexttoolbar"),Yr("items")].concat(o6)),u6=function(a){return wa("ContextToolbar",K4,a)},xm=function(a){var c={};return je(a,function(p){c[p]={}}),Tt(c)},J4=function(a){var c=a.ui.registry.getAll().popups,p=bn(c,function(N){return ij(N).fold(function(j){throw new Error(Np(j))},q)}),w=xm(er(p,function(N){return N.ch})),M=jt(p),E=function(N){return Je(M,function(j){return j.ch===N})};return{dataset:p,triggerChars:w,lookupByChar:E}},Q4;(function(a){a[a.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",a[a.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Q4||(Q4={}));var lp=Q4,Z4="tox-menu-nav__js",eI="tox-collection__item",V0="tox-swatch",s6={normal:Z4,color:V0},l6="tox-collection__item--enabled",cj="tox-collection__group-heading",tI="tox-collection__item-icon",SA="tox-collection__item-label",nI="tox-collection__item-accessory",c6="tox-collection__item-caret",rI="tox-collection__item-checkmark",H1="tox-collection__item--active",f6="tox-collection__item-container",d6="tox-collection__item-container--column",oI="tox-collection__item-container--row",fj="tox-collection__item-container--align-right",dj="tox-collection__item-container--align-left",hj="tox-collection__item-container--valign-top",pj="tox-collection__item-container--valign-middle",mj="tox-collection__item-container--valign-bottom",h6=function(a){return Pt(s6,a).getOr(Z4)},gj=function(a){return a==="color"?"tox-swatches":"tox-menu"},iI=function(a){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:gj(a),tieredMenu:"tox-tiered-menu"}},iv=function(a){var c=iI(a);return{backgroundMenu:c.backgroundMenu,selectedMenu:c.selectedMenu,menu:c.menu,selectedItem:c.selectedItem,item:h6(a)}},p6=function(a,c,p){var w=iI(p);return{tag:"div",classes:Ke([[w.menu,"tox-menu-"+c+"-column"],a?[w.hasIcons]:[]])}},m6=[xr.parts.items({})],CA=function(a,c,p){var w=iI(p),M={tag:"div",classes:Ke([[w.tieredMenu]])};return{dom:M,markers:iv(p)}},aI=function(a,c){return function(p){var w=Yt(p,c);return Ye(w,function(M){return{dom:a,components:M}})}},uI=function(a){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[xr.parts.items({preprocess:a!=="auto"?aI({tag:"div",classes:["tox-swatches__row"]},a):q})]}]}},sI=function(a){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[xr.parts.items({preprocess:aI({tag:"div",classes:["tox-collection__group"]},a)})]}},lI=function(a,c){var p=[],w=[];return je(a,function(M,E){c(M,E)?(w.length>0&&p.push(w),w=[],ln(M.dom,"innerHtml")&&w.push(M)):w.push(M)}),w.length>0&&p.push(w),Ye(p,function(M){return{dom:{tag:"div",classes:["tox-collection__group"]},components:M}})},TA=function(a,c,p){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(a===1?["tox-collection--list"]:["tox-collection--grid"])},components:[xr.parts.items({preprocess:function(w){return a!=="auto"&&a>1?aI({tag:"div",classes:["tox-collection__group"]},a)(w):lI(w,function(M,E){return c[E].type==="separator"})}})]}},g6=function(a,c){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[xr.parts.items({preprocess:function(p){return lI(p,function(w,M){return a[M].type==="separator"})}})]}},MA=function(a){return Nt(a,function(c){return"icon"in c&&c.icon!==void 0})},cp=function(a){return console.error(Np(a)),console.log(a),G.none()},vj=function(a,c,p,w,M){var E=g6(p);return{value:a,dom:E.dom,components:E.components,items:p}},kA=function(a,c,p,w,M){if(M==="color"){var E=uI(w);return{value:a,dom:E.dom,components:E.components,items:p}}if(M==="normal"&&w==="auto"){var E=TA(w,p);return{value:a,dom:E.dom,components:E.components,items:p}}if(M==="normal"&&w===1){var E=TA(1,p);return{value:a,dom:E.dom,components:E.components,items:p}}if(M==="normal"){var E=TA(w,p);return{value:a,dom:E.dom,components:E.components,items:p}}if(M==="listpreview"&&w!=="auto"){var E=sI(w);return{value:a,dom:E.dom,components:E.components,items:p}}return{value:a,dom:p6(c,w,M),components:m6,items:p}},v6=[Yr("type"),Yr("src"),Wi("alt"),jh("classes",[],$a)],EC=Sr(v6),yj=[Yr("type"),Yr("text"),Wi("name"),jh("classes",["tox-collection__item-label"],$a)],cI=Sr(yj),V1=zM(function(){return Kb("type",{cardimage:EC,cardtext:cI,cardcontainer:bj})}),bj=Sr([Yr("type"),Wv("direction","horizontal"),Wv("align","left"),Wv("valign","middle"),Ds("items",V1)]),j1=[Pi("disabled",!1),Wi("text"),Wi("shortcut"),_u("value","value",Io(function(){return ir("menuitem-value")}),mf()),dt("meta",{})],y6=Sr([Yr("type"),Wi("label"),Ds("items",V1),qi("onSetup",function(){return A}),qi("onAction",A)].concat(j1)),b6=function(a){return wa("cardmenuitem",y6,a)},fI=Sr([Yr("type"),Pi("active",!1),Wi("icon")].concat(j1)),x6=function(a){return wa("choicemenuitem",fI,a)},w6=[Yr("type"),Yr("fancytype"),qi("onAction",A)],xj=[dt("initData",{})].concat(w6),DA=[h_("initData",{},[Pi("allowCustomColors",!0),Jl("colors",mf())])].concat(w6),wj=Lc("fancytype",{inserttable:xj,colorswatch:DA}),_6=function(a){return wa("fancymenuitem",wj,a)},Vw=Sr([Yr("type"),qi("onSetup",function(){return A}),qi("onAction",A),Wi("icon")].concat(j1)),_j=function(a){return wa("menuitem",Vw,a)},Sj=Sr([Yr("type"),Us("getSubmenuItems"),qi("onSetup",function(){return A}),Wi("icon")].concat(j1)),Cj=function(a){return wa("nestedmenuitem",Sj,a)},S6=Sr([Yr("type"),Wi("icon"),Pi("active",!1),qi("onSetup",function(){return A}),Us("onAction")].concat(j1)),C6=function(a){return wa("togglemenuitem",S6,a)},dI=function(a,c,p){var w=Ru(a.element,"."+p);if(w.length>0){var M=ur(w,function(E){var N=E.dom.getBoundingClientRect().top,j=w[0].dom.getBoundingClientRect().top;return Math.abs(N-j)>c}).getOr(w.length);return G.some({numColumns:M,numRows:Math.ceil(w.length/M)})}else return G.none()},T6=function(a,c){return zn([po(a,c)])},Tj=function(a){return T6(ir("unnamed-events"),a)},AA={namedEvents:T6,unnamedEvents:Tj},M6=ir("tooltip.exclusive"),j0=ir("tooltip.show"),OC=ir("tooltip.hide"),k6=function(a,c,p){a.getSystem().broadcastOn([M6],{})},hI=function(a,c,p,w){p.getTooltip().each(function(M){M.getSystem().isConnected()&&Zr.set(M,w)})},D6=Object.freeze({__proto__:null,hideAllExclusive:k6,setComponents:hI}),Mj=function(a,c){var p=function(M){c.getTooltip().each(function(E){jc(E),a.onHide(M,E),c.clearTooltip()}),c.clearTimer()},w=function(M){if(!c.isShowing()){k6(M);var E=a.lazySink(M).getOrDie(),N=M.getSystem().build({dom:a.tooltipDom,components:a.tooltipComponents,events:$i(a.mode==="normal"?[fn(Wh(),function(j){Mo(M,j0)}),fn(y_(),function(j){Mo(M,OC)})]:[]),behaviours:zn([Zr.config({})])});c.setTooltip(N),Os(E,N),a.onShow(M,N),hl.position(E,N,{anchor:a.anchor(M)})}};return $i(Ke([[fn(j0,function(M){c.resetTimer(function(){w(M)},a.delay)}),fn(OC,function(M){c.resetTimer(function(){p(M)},a.delay)}),fn(zc(),function(M,E){var N=E;N.universal||Ot(N.channels,M6)&&p(M)}),ec(function(M){p(M)})],a.mode==="normal"?[fn(Bc(),function(M){Mo(M,j0)}),fn(__(),function(M){Mo(M,OC)}),fn(Wh(),function(M){Mo(M,j0)}),fn(y_(),function(M){Mo(M,OC)})]:[fn(XM(),function(M,E){Mo(M,j0)}),fn(Fy(),function(M){Mo(M,OC)})]]))},A6=Object.freeze({__proto__:null,events:Mj}),E6=[on("lazySink"),on("tooltipDom"),dt("exclusive",!0),dt("tooltipComponents",[]),dt("delay",300),Sc("mode","normal",["normal","follow-highlight"]),dt("anchor",function(a){return{type:"hotspot",hotspot:a,layouts:{onLtr:L([ds,Pl,Es,$s,Su,Ku]),onRtl:L([ds,Pl,Es,$s,Su,Ku])}}}),_o("onHide"),_o("onShow")],O6=function(){var a=Ba(),c=Ba(),p=function(){a.on(clearTimeout)},w=function(E,N){p(),a.set(setTimeout(E,N))},M=L("not-implemented");return Gu({getTooltip:c.get,isShowing:c.isSet,setTooltip:c.set,clearTooltip:c.clear,clearTimer:p,resetTimer:w,readState:M})},I6=Object.freeze({__proto__:null,init:O6}),R6=Xa({fields:E6,name:"tooltipping",active:A6,state:I6,apis:D6}),kj=function(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},IC=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Dj=tinymce.util.Tools.resolve("tinymce.EditorManager"),pI=function(a){var c=a.getParam("skin"),p=a.getParam("skin_url");if(c!==!1){var w=c||"oxide";p?p=a.documentBaseURI.toAbsolute(p):p=Dj.baseURL+"/skins/ui/"+w}return p},mI=function(a){return a.getParam("readonly",!1,"boolean")},P6=function(a){return a.getParam("skin")===!1},N6=function(a){return a.getParam("height",Math.max(a.getElement().offsetHeight,200))},gI=function(a){return a.getParam("width",IC.DOM.getStyle(a.getElement(),"width"))},L6=function(a){return G.from(a.getParam("min_width")).filter(_)},B6=function(a){return G.from(a.getParam("min_height")).filter(_)},vI=function(a){return G.from(a.getParam("max_width")).filter(_)},yI=function(a){return G.from(a.getParam("max_height")).filter(_)},z6=function(a){return G.from(a.getParam("style_formats")).filter(l)},F6=function(a){return a.getParam("style_formats_merge",!1,"boolean")},Aj=function(a){return a.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},Ej=function(a){return a.getParam("content_langs",void 0,"array")},Oj=function(a){return a.getParam("removed_menuitems","")},bI=function(a){return a.getParam("menubar",!0,"boolean")!==!1},xI=function(a){var c=a.getParam("toolbar",!0),p=c===!0,w=i(c),M=l(c)&&c.length>0;return!EA(a)&&(M||w||p)},H6=function(a){var c=fe(9,function(w){return a.getParam("toolbar"+(w+1),!1,"string")}),p=Je(c,function(w){return typeof w=="string"});return p.length>0?G.some(p):G.none()},EA=function(a){return H6(a).fold(function(){var c=a.getParam("toolbar",[],"string[]");return c.length>0},le)},If;(function(a){a.default="wrap",a.floating="floating",a.sliding="sliding",a.scrolling="scrolling"})(If||(If={}));var RC=function(a){return a.getParam("toolbar_mode","","string")},U1;(function(a){a.auto="auto",a.top="top",a.bottom="bottom"})(U1||(U1={}));var Ij=function(a){return a.getParam("toolbar_groups",{},"object")},wI=function(a){return a.getParam("toolbar_location",U1.auto,"string")},V6=function(a){return wI(a)===U1.bottom},Rj=function(a){return a.getParam("fixed_toolbar_container","","string")},Pj=function(a){return a.getParam("fixed_toolbar_container_target")},Nj=function(a){return a.getParam("toolbar_persist",!1,"boolean")},j6=function(a){if(!a.inline)return G.none();var c=Rj(a);if(c.length>0)return pu(li(),c);var p=Pj(a);return b(p)?G.some(He.fromDom(p)):G.none()},OA=function(a){return a.inline&&j6(a).isSome()},PC=function(a){var c=j6(a);return c.getOrThunk(function(){return Ln(Tr(He.fromDom(a.getElement())))})},_I=function(a){return a.inline&&!bI(a)&&!xI(a)&&!EA(a)},IA=function(a){var c=a.getParam("toolbar_sticky",!1,"boolean");return(c||a.inline)&&!OA(a)&&!_I(a)},Lj=function(a){return a.getParam("toolbar_sticky_offset",0,"number")},Bj=function(a){return a.getParam("draggable_modal",!1,"boolean")},zj=function(a){var c=a.getParam("menu");return c?bn(c,function(p){return ne(ne({},p),{items:p.items})}):{}},Fj=function(a){return a.getParam("menubar")},SI=function(a){return a.getParam("toolbar",!0)},U6=function(a){return a.getParam("file_picker_callback")},W6=function(a){return a.getParam("file_picker_types")},Hj=function(a){return a.getParam("file_browser_callback_types")},q6=function(a){return a.getParam("typeahead_urls")===!1},Vj=function(a){return a.getParam("anchor_top","#top")},jj=function(a){return a.getParam("anchor_bottom","#bottom")},Uj=function(a){var c=a.getParam("file_picker_validator_handler",void 0,"function");return c===void 0?a.getParam("filepicker_validator_handler",void 0,"function"):c},CI="silver.readonly",Wj=Sr([k5("readonly")]),jw=function(a,c){var p=a.outerContainer,w=p.element;c&&(a.mothership.broadcastOn([Fg()],{target:w}),a.uiMothership.broadcastOn([Fg()],{target:w})),a.mothership.broadcastOn([CI],{readonly:c}),a.uiMothership.broadcastOn([CI],{readonly:c})},$6=function(a,c){a.on("init",function(){a.mode.isReadOnly()&&jw(c,!0)}),a.on("SwitchMode",function(){return jw(c,a.mode.isReadOnly())}),mI(a)&&a.setMode("readonly")},Bu=function(){var a;return rc.config({channels:(a={},a[CI]={schema:Wj,onReceive:function(c,p){Mr.set(c,p.readonly)}},a)})},qj=function(a){return Mr.config({disabled:a,disableClass:"tox-collection__item--state-disabled"})},$j=function(a){return Mr.config({disabled:a})},TI=function(a){return Mr.config({disabled:a,disableClass:"tox-tbtn--disabled"})},MI=function(a){return Mr.config({disabled:a,disableClass:"tox-tbtn--disabled",useNative:!1})},Rf={item:qj,button:$j,splitButton:TI,toolbarButton:MI},NC=function(a,c){var p=a.getApi(c);return function(w){w(p)}},LC=function(a,c){return da(function(p){var w=NC(a,p);w(function(M){var E=a.onSetup(M);S(E)&&c.set(E)})})},BC=function(a,c){return ec(function(p){return NC(a,p)(c.get())})},Uw,kI=function(a,c){return _f(function(p,w){NC(a,p)(a.onAction),!a.triggersSubmenu&&c===lp.CLOSE_ON_EXECUTE&&(Mo(p,zy()),w.stop())})},RA=(Uw={},Uw[Tc()]=["disabling","alloy.base.behaviour","toggling","item-events"],Uw),W1=Br,Ww=function(a,c,p,w){var M=Er(A);return{type:"item",dom:c.dom,components:W1(c.optComponents),data:a.data,eventOrder:RA,hasSubmenu:a.triggersSubmenu,itemBehaviours:zn([po("item-events",[kI(a,p),LC(a,M),BC(a,M)]),Rf.item(function(){return a.disabled||w.isDisabled()}),Bu(),Zr.config({})].concat(a.itemBehaviours))}},qw=function(a){return{value:a.value,meta:ne({text:a.text.getOr("")},a.meta)}},DI=tinymce.util.Tools.resolve("tinymce.Env"),Gj=function(a){var c={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},p={meta:"Ctrl",access:"Shift+Alt"},w=DI.mac?c:p,M=a.split("+"),E=Ye(M,function(N){var j=N.toLowerCase().trim();return ln(w,j)?w[j]:N});return DI.mac?E.join(""):E.join("+")},AI=function(a,c,p){return p===void 0&&(p=[tI]),sp(a,{tag:"div",classes:p},c)},G6=function(a){return{dom:{tag:"div",classes:[SA]},components:[$p(Of.translate(a))]}},X6=function(a,c){return{dom:{tag:"div",classes:c,innerHtml:a}}},Xj=function(a,c){return{dom:{tag:"div",classes:[SA]},components:[{dom:{tag:a.tag,styles:a.styles},components:[$p(Of.translate(c))]}]}},Yj=function(a){return{dom:{tag:"div",classes:[nI],innerHtml:Gj(a)}}},Y6=function(a){return AI("checkmark",a,[rI])},Kj=function(a){return AI("chevron-right",a,[c6])},Jj=function(a){return AI("chevron-down",a,[c6])},Qj=function(a,c){var p=a.direction==="vertical"?d6:oI,w=a.align==="left"?dj:fj,M=function(){switch(a.valign){case"top":return hj;case"middle":return pj;case"bottom":return mj}};return{dom:{tag:"div",classes:[f6,p,w,M()]},components:c}},K6=function(a,c,p){return{dom:{tag:"img",classes:c,attributes:{src:a,alt:p.getOr("")}}}},Zj=function(a,c,p){var w="custom",M="remove",E=a.ariaLabel,N=a.value,j=a.iconContent.map(function(K){return YL(K,c.icons,p)}),U=function(){var K=V0,oe=j.getOr(""),se=E.map(function(_e){return{title:c.translate(_e)}}).getOr({}),be={tag:"div",attributes:se,classes:[K]};return N===w?ne(ne({},be),{tag:"button",classes:Ce(Ce([],be.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:oe}):N===M?ne(ne({},be),{classes:Ce(Ce([],be.classes,!0),["tox-swatch--remove"],!1),innerHtml:oe}):ne(ne({},be),{attributes:ne(ne({},be.attributes),{"data-mce-color":N}),styles:{"background-color":N}})};return{dom:U(),optComponents:[]}},J6=function(a){var c=a.map(function(p){return{attributes:{title:Of.translate(p)}}}).getOr({});return ne({tag:"div",classes:[Z4,eI]},c)},av=function(a,c,p,w){var M={tag:"div",classes:[tI]},E=function(be){return sp(be,M,c.icons,w)},N=function(){return G.some({dom:M})},j=p?a.iconContent.map(E).orThunk(N):G.none(),U=a.checkMark,K=G.from(a.meta).fold(function(){return G6},function(be){return ln(be,"style")?Y(Xj,be.style):G6}),oe=a.htmlContent.fold(function(){return a.textContent.map(K)},function(be){return G.some(X6(be,[SA]))}),se={dom:J6(a.ariaLabel),optComponents:[j,oe,a.shortcutContent.map(Yj),U,a.caret]};return se},zC=function(a,c,p,w){return w===void 0&&(w=G.none()),a.presets==="color"?Zj(a,c,w):av(a,c,p,w)},Q6=function(a,c){return Pt(a,"tooltipWorker").map(function(p){return[R6.config({lazySink:c.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(w){return{type:"submenu",item:w,overrides:{maxHeightFunction:d0}}},mode:"follow-highlight",onShow:function(w,M){p(function(E){R6.setComponents(w,[qy({element:He.fromDom(E)})])})}})]}).getOr([])},EI=function(a){return IC.DOM.encode(a)},es=function(a,c){var p=Of.translate(a),w=EI(p);if(c.length>0){var M=new RegExp(kj(c),"gi");return w.replace(M,function(E){return'<span class="tox-autocompleter-highlight">'+E+"</span>"})}else return w},eU=function(a,c,p,w,M,E,N,j){j===void 0&&(j=!0);var U=zC({presets:w,textContent:G.none(),htmlContent:p?a.text.map(function(K){return es(K,c)}):G.none(),ariaLabel:a.text,iconContent:a.icon,shortcutContent:G.none(),checkMark:G.none(),caret:G.none(),value:a.value},N.providers,j,a.icon);return Ww({data:qw(a),disabled:a.disabled,getApi:L({}),onAction:function(K){return M(a.value,a.meta)},onSetup:L(A),triggersSubmenu:!1,itemBehaviours:Q6(a.meta,N)},U,E,N.providers)},Z6=function(a,c){return Ye(a,function(p){switch(p.type){case"cardcontainer":return Qj(p,Z6(p.items,c));case"cardimage":return K6(p.src,p.classes,p.alt);case"cardtext":var w=p.name.exists(function(E){return Ot(c.cardText.highlightOn,E)}),M=w?G.from(c.cardText.matchText).getOr(""):"";return X6(es(p.text,M),p.classes)}})},tU=function(a,c,p,w){var M=function(N){return{isDisabled:function(){return Mr.isDisabled(N)},setDisabled:function(j){Mr.set(N,j),je(Ru(N.element,"*"),function(U){N.getSystem().getByDom(U).each(function(K){K.hasConfigured(Mr)&&Mr.set(K,j)})})}}},E={dom:J6(a.label),optComponents:[G.some({dom:{tag:"div",classes:[f6,oI]},components:Z6(a.items,w)})]};return Ww({data:qw(ne({text:G.none()},a)),disabled:a.disabled,getApi:M,onAction:a.onAction,onSetup:a.onSetup,triggersSubmenu:!1,itemBehaviours:G.from(w.itemBehaviours).getOr([])},E,c,p.providers)},nU=function(a,c,p,w,M,E,N,j){j===void 0&&(j=!0);var U=function(oe){return{setActive:function(se){zo.set(oe,se)},isActive:function(){return zo.isOn(oe)},isDisabled:function(){return Mr.isDisabled(oe)},setDisabled:function(se){return Mr.set(oe,se)}}},K=zC({presets:p,textContent:c?a.text:G.none(),htmlContent:G.none(),ariaLabel:a.text,iconContent:a.icon,shortcutContent:c?a.shortcut:G.none(),checkMark:c?G.some(Y6(N.icons)):G.none(),caret:G.none(),value:a.value},N,j);return Qt(Ww({data:qw(a),disabled:a.disabled,getApi:U,onAction:function(oe){return w(a.value)},onSetup:function(oe){return oe.setActive(M),A},triggersSubmenu:!1,itemBehaviours:[]},K,E,N),{toggling:{toggleClass:l6,toggleOnExecute:!1,selected:a.active}})},eB=d1($(),re()),tB=function(a){return{value:a}},nB=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,rB=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,oB=function(a){return nB.test(a)||rB.test(a)},rU=function(a){return Bi(a,"#").toUpperCase()},oU=function(a){return oB(a)?G.some({value:rU(a)}):G.none()},iU=function(a){var c=a.value.replace(nB,function(p,w,M,E){return w+w+M+M+E+E});return{value:c}},aU=function(a){var c=iU(a),p=rB.exec(c.value);return p===null?["FFFFFF","FF","FF","FF"]:p},OI=function(a){var c=a.toString(16);return(c.length===1?"0"+c:c).toUpperCase()},FC=function(a){var c=OI(a.red)+OI(a.green)+OI(a.blue);return tB(c)},iB=Math.min,aB=Math.max,PA=Math.round,uU=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,sU=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,U0=function(a,c,p,w){return{red:a,green:c,blue:p,alpha:w}},II=function(a){var c=parseInt(a,10);return c.toString()===a&&c>=0&&c<=255},uB=function(a){var c,p,w,M=(a.hue||0)%360,E=a.saturation/100,N=a.value/100;if(E=aB(0,iB(E,1)),N=aB(0,iB(N,1)),E===0)return c=p=w=PA(255*N),U0(c,p,w,1);var j=M/60,U=N*E,K=U*(1-Math.abs(j%2-1)),oe=N-U;switch(Math.floor(j)){case 0:c=U,p=K,w=0;break;case 1:c=K,p=U,w=0;break;case 2:c=0,p=U,w=K;break;case 3:c=0,p=K,w=U;break;case 4:c=K,p=0,w=U;break;case 5:c=U,p=0,w=K;break;default:c=p=w=0}return c=PA(255*(c+oe)),p=PA(255*(p+oe)),w=PA(255*(w+oe)),U0(c,p,w,1)},HC=function(a){var c=aU(a),p=parseInt(c[1],16),w=parseInt(c[2],16),M=parseInt(c[3],16);return U0(p,w,M,1)},sB=function(a,c,p,w){var M=parseInt(a,10),E=parseInt(c,10),N=parseInt(p,10),j=parseFloat(w);return U0(M,E,N,j)},lB=function(a){if(a==="transparent")return G.some(U0(0,0,0,0));var c=uU.exec(a);if(c!==null)return G.some(sB(c[1],c[2],c[3],"1"));var p=sU.exec(a);return p!==null?G.some(sB(p[1],p[2],p[3],p[4])):G.none()},RI=function(a){return"rgba("+a.red+","+a.green+","+a.blue+","+a.alpha+")"},cB=U0(255,0,0,1),lU=function(a){return a.fire("SkinLoaded")},cU=function(a,c){return a.fire("SkinLoadError",c)},fB=function(a){return a.fire("ResizeEditor")},PI=function(a,c){return a.fire("ResizeContent",c)},fU=function(a,c){return a.fire("ScrollContent",c)},dU=function(a,c){return a.fire("TextColorChange",c)},VC=function(a,c,p){return{hue:a,saturation:c,value:p}},NA=function(a){var c=0,p=0,w=0,M=a.red/255,E=a.green/255,N=a.blue/255,j=Math.min(M,Math.min(E,N)),U=Math.max(M,Math.max(E,N));if(j===U)return w=j,VC(0,0,w*100);var K=M===j?E-N:N===j?M-E:N-M;return c=M===j?3:N===j?1:5,c=60*(c-K/(U-j)),p=(U-j)/U,w=U,VC(Math.round(c),Math.round(p*100),Math.round(w*100))},hU=function(a){return NA(HC(a))},NI=function(a){return FC(uB(a))},dB=function(a){return oU(a).orThunk(function(){return lB(a).map(FC)}).getOrThunk(function(){var c=document.createElement("canvas");c.height=1,c.width=1;var p=c.getContext("2d");p.clearRect(0,0,c.width,c.height),p.fillStyle="#FFFFFF",p.fillStyle=a,p.fillRect(0,0,1,1);var w=p.getImageData(0,0,1,1).data,M=w[0],E=w[1],N=w[2],j=w[3];return FC(U0(M,E,N,j))})},LA=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),LI="tinymce-custom-colors";function pU(a){a===void 0&&(a=10);var c=LA.getItem(LI),p=i(c)?JSON.parse(c):[],w=function(U){var K=a-U.length;return K<0?U.slice(0,a):U},M=w(p),E=function(U){kt(M,U).each(N),M.unshift(U),M.length>a&&M.pop(),LA.setItem(LI,JSON.stringify(M))},N=function(U){M.splice(U,1)},j=function(){return M.slice(0)};return{add:E,state:j}}var ts="choiceitem",mU=[{type:ts,text:"Light Green",value:"#BFEDD2"},{type:ts,text:"Light Yellow",value:"#FBEEB8"},{type:ts,text:"Light Red",value:"#F8CAC6"},{type:ts,text:"Light Purple",value:"#ECCAFA"},{type:ts,text:"Light Blue",value:"#C2E0F4"},{type:ts,text:"Green",value:"#2DC26B"},{type:ts,text:"Yellow",value:"#F1C40F"},{type:ts,text:"Red",value:"#E03E2D"},{type:ts,text:"Purple",value:"#B96AD9"},{type:ts,text:"Blue",value:"#3598DB"},{type:ts,text:"Dark Turquoise",value:"#169179"},{type:ts,text:"Orange",value:"#E67E23"},{type:ts,text:"Dark Red",value:"#BA372A"},{type:ts,text:"Dark Purple",value:"#843FA1"},{type:ts,text:"Dark Blue",value:"#236FA1"},{type:ts,text:"Light Gray",value:"#ECF0F1"},{type:ts,text:"Medium Gray",value:"#CED4D9"},{type:ts,text:"Gray",value:"#95A5A6"},{type:ts,text:"Dark Gray",value:"#7E8C8D"},{type:ts,text:"Navy Blue",value:"#34495E"},{type:ts,text:"Black",value:"#000000"},{type:ts,text:"White",value:"#ffffff"}],hB=pU(10),gU=function(a){for(var c=[],p=0;p<a.length;p+=2)c.push({text:a[p+1],value:"#"+dB(a[p]).value,type:"choiceitem"});return c},vU=function(a,c){return a.getParam("color_cols",c,"number")},BA=function(a){return a.getParam("custom_colors")!==!1},pB=function(a){return a.getParam("color_map")},BI=function(a){var c=pB(a);return c!==void 0?gU(c):mU},mB=function(){return Ye(hB.state(),function(a){return{type:ts,text:a,value:a}})},gB=function(a){hB.add(a)},zI="#000000",FI=function(a,c){var p;return a.dom.getParents(a.selection.getStart(),function(w){var M;(M=w.style[c==="forecolor"?"color":"background-color"])&&(p=p||M)}),G.from(p)},yU=function(a,c,p){a.undoManager.transact(function(){a.focus(),a.formatter.apply(c,{value:p}),a.nodeChanged()})},bU=function(a,c){a.undoManager.transact(function(){a.focus(),a.formatter.remove(c,{value:null},null,!0),a.nodeChanged()})},xU=function(a){a.addCommand("mceApplyTextcolor",function(c,p){yU(a,c,p)}),a.addCommand("mceRemoveTextcolor",function(c){bU(a,c)})},vB=function(a){return Math.max(5,Math.ceil(Math.sqrt(a)))},yB=function(a){var c=BI(a),p=vB(c.length);return vU(a,p)},HI=function(a){var c="choiceitem",p={type:c,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},w={type:c,text:"Custom color",icon:"color-picker",value:"custom"};return a?[p,w]:[p]},VI=function(a,c,p,w){if(p==="custom"){var M=SB(a);M(function(E){E.each(function(N){gB(N),a.execCommand("mceApplyTextcolor",c,N),w(N)})},zI)}else p==="remove"?(w(""),a.execCommand("mceRemoveTextcolor",c)):(w(p),a.execCommand("mceApplyTextcolor",c,p))},$w=function(a,c){return a.concat(mB().concat(HI(c)))},bB=function(a,c){return function(p){p($w(a,c))}},xB=function(a,c,p){var w=c==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";a.setIconFill(w,p)},wB=function(a,c,p,w,M){a.ui.registry.addSplitButton(c,{tooltip:w,presets:"color",icon:c==="forecolor"?"text-color":"highlight-bg-color",select:function(E){var N=FI(a,p);return N.bind(function(j){return lB(j).map(function(U){var K=FC(U).value;return co(E.toLowerCase(),K)})}).getOr(!1)},columns:yB(a),fetch:bB(BI(a),BA(a)),onAction:function(E){VI(a,p,M.get(),A)},onItemAction:function(E,N){VI(a,p,N,function(j){M.set(j),dU(a,{name:c,color:j})})},onSetup:function(E){xB(E,c,M.get());var N=function(j){j.name===c&&xB(E,j.name,j.color)};return a.on("TextColorChange",N),function(){a.off("TextColorChange",N)}}})},_B=function(a,c,p,w){a.ui.registry.addNestedMenuItem(c,{text:w,icon:c==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(M){VI(a,p,M.value,A)}}]}})},SB=function(a){return function(c,p){var w=!1,M=function(j){var U=j.getData(),K=U.colorpicker;w?(c(G.from(K)),j.close()):a.windowManager.alert(a.translate(["Invalid hex color code: {0}",K]))},E=function(j,U){U.name==="hex-valid"&&(w=U.value)},N={colorpicker:p};a.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:N,onAction:E,onSubmit:M,onClose:A,onCancel:function(){c(G.none())}})}},wU=function(a){xU(a);var c=Er(zI),p=Er(zI);wB(a,"forecolor","forecolor","Text color",c),wB(a,"backcolor","hilitecolor","Background color",p),_B(a,"forecolor","forecolor","Text color"),_B(a,"backcolor","hilitecolor","Background color")},zA=function(a,c,p,w,M,E,N,j){var U=MA(c),K=M!=="color"?"normal":"color",oe=CB(c,p,w,K,E,N,j);return kA(a,U,oe,w,M)},CB=function(a,c,p,w,M,E,N){return Br(Ye(a,function(j){return j.type==="choiceitem"?x6(j).fold(cp,function(U){return G.some(nU(U,p===1,w,c,E(j.value),M,N,MA(a)))}):G.none()}))},jC=function(a,c){var p=iv(c);if(a===1)return{mode:"menu",moveOnTab:!0};if(a==="auto")return{mode:"grid",selector:"."+p.item,initSize:{numColumns:1,numRows:1}};var w=c==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+w}},_U=function(a,c){return a===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:a==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:c==="color"?".tox-swatches__row":".tox-collection__group",cell:c==="color"?"."+V0:"."+eI}}},jI=function(a,c){var p=SU(a,c),w=c.colorinput.getColorCols(),M="color",E=zA(ir("menu-value"),p,function(j){a.onAction({value:j})},w,M,lp.CLOSE_ON_EXECUTE,ie,c.shared.providers),N=ne(ne({},E),{markers:iv(M),movement:jC(w,M)});return{type:"widget",data:{value:ir("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[eB.widget(xr.sketch(N))]}},SU=function(a,c){var p=a.initData.allowCustomColors&&c.colorinput.hasCustomColors();return a.initData.colors.fold(function(){return $w(c.colorinput.getColors(),p)},function(w){return w.concat(HI(p))})},TB=ir("cell-over"),MB=ir("cell-execute"),CU=function(a,c,p){var w,M=function(j){return Ir(j,TB,{row:a,col:c})},E=function(j){return Ir(j,MB,{row:a,col:c})},N=function(j,U){U.stop(),E(j)};return nu({dom:{tag:"div",attributes:(w={role:"button"},w["aria-labelledby"]=p,w)},behaviours:zn([po("insert-table-picker-cell",[fn(Wh(),$r.focus),fn(Tc(),E),fn(Xv(),N),fn(Fp(),N)]),zo.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),$r.config({onFocus:M})])})},TU=function(a,c,p){for(var w=[],M=0;M<c;M++){for(var E=[],N=0;N<p;N++)E.push(CU(M,N,a));w.push(E)}return w},MU=function(a,c,p,w,M){for(var E=0;E<w;E++)for(var N=0;N<M;N++)zo.set(a[E][N],E<=c&&N<=p)},kU=function(a){return Bt(a,function(c){return Ye(c,Dc)})},kB=function(a,c){return $p(c+"x"+a)},DU=function(a){var c=10,p=10,w=ir("size-label"),M=TU(w,c,p),E=kB(0,0),N=ci({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:w}},components:[E],behaviours:zn([Zr.config({})])});return{type:"widget",data:{value:ir("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[eB.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:kU(M).concat(N.asSpec()),behaviours:zn([po("insert-table-picker",[da(function(j){Zr.set(N.get(j),[E])}),Hp(TB,function(j,U,K){var oe=K.event,se=oe.row,be=oe.col;MU(M,se,be,c,p),Zr.set(N.get(j),[kB(se+1,be+1)])}),Hp(MB,function(j,U,K){var oe=K.event,se=oe.row,be=oe.col;a.onAction({numRows:se+1,numColumns:be+1}),Mo(j,zy())})]),Rr.config({initSize:{numRows:c,numColumns:p},mode:"flatgrid",selector:'[role="button"]'})])})]}},AU={inserttable:DU,colorswatch:jI},EU=function(a,c){return Pt(AU,a.fancytype).map(function(p){return p(a,c)})},OU=function(a,c,p,w,M){w===void 0&&(w=!0),M===void 0&&(M=!1);var E=M?Jj(p.icons):Kj(p.icons),N=function(U){return{isDisabled:function(){return Mr.isDisabled(U)},setDisabled:function(K){return Mr.set(U,K)}}},j=zC({presets:"normal",iconContent:a.icon,textContent:a.text,htmlContent:G.none(),ariaLabel:a.text,caret:G.some(E),checkMark:G.none(),shortcutContent:a.shortcut},p,w);return Ww({data:qw(a),getApi:N,disabled:a.disabled,onAction:A,onSetup:a.onSetup,triggersSubmenu:!0,itemBehaviours:[]},j,c,p)},DB=function(a,c,p,w){w===void 0&&(w=!0);var M=function(N){return{isDisabled:function(){return Mr.isDisabled(N)},setDisabled:function(j){return Mr.set(N,j)}}},E=zC({presets:"normal",iconContent:a.icon,textContent:a.text,htmlContent:G.none(),ariaLabel:a.text,caret:G.none(),checkMark:G.none(),shortcutContent:a.shortcut},p,w);return Ww({data:qw(a),getApi:M,disabled:a.disabled,onAction:a.onAction,onSetup:a.onSetup,triggersSubmenu:!1,itemBehaviours:[]},E,c,p)},IU=function(a){var c=a.text.fold(function(){return{}},function(p){return{innerHtml:p}});return{type:"separator",dom:ne({tag:"div",classes:[eI,cj]},c),components:[]}},RU=function(a,c,p,w){w===void 0&&(w=!0);var M=function(N){return{setActive:function(j){zo.set(N,j)},isActive:function(){return zo.isOn(N)},isDisabled:function(){return Mr.isDisabled(N)},setDisabled:function(j){return Mr.set(N,j)}}},E=zC({iconContent:a.icon,textContent:a.text,htmlContent:G.none(),ariaLabel:a.text,checkMark:G.some(Y6(p.icons)),caret:G.none(),shortcutContent:a.shortcut,presets:"normal",meta:a.meta},p,w);return Qt(Ww({data:qw(a),disabled:a.disabled,getApi:M,onAction:a.onAction,onSetup:a.onSetup,triggersSubmenu:!1,itemBehaviours:[]},E,c,p),{toggling:{toggleClass:l6,toggleOnExecute:!1,selected:a.active}})},UI=eU,UC=IU,PU=DB,FA=OU,NU=RU,LU=EU,BU=tU,WC;(function(a){a[a.ContentFocus=0]="ContentFocus",a[a.UiFocus=1]="UiFocus"})(WC||(WC={}));var zU=function(a,c,p,w,M){var E=p.shared.providers,N=function(j){return M?ne(ne({},j),{shortcut:G.none(),icon:j.text.isSome()?G.none():j.icon}):j};switch(a.type){case"menuitem":return _j(a).fold(cp,function(j){return G.some(PU(N(j),c,E,w))});case"nestedmenuitem":return Cj(a).fold(cp,function(j){return G.some(FA(N(j),c,E,w,M))});case"togglemenuitem":return C6(a).fold(cp,function(j){return G.some(NU(N(j),c,E,w))});case"separator":return tj(a).fold(cp,function(j){return G.some(UC(j))});case"fancymenuitem":return _6(a).fold(cp,function(j){return LU(N(j),p)});default:return console.error("Unknown item in general menu",a),G.none()}},FU=function(a,c,p,w,M,E,N){var j=w===1,U=!j||MA(a);return Br(Ye(a,function(K){switch(K.type){case"separator":return rj(K).fold(cp,function(oe){return G.some(UC(oe))});case"cardmenuitem":return b6(K).fold(cp,function(oe){return G.some(BU(ne(ne({},oe),{onAction:function(se){oe.onAction(se),p(oe.value,oe.meta)}}),M,E,{itemBehaviours:Q6(oe.meta,E),cardText:{matchText:c,highlightOn:N}}))});case"autocompleteitem":default:return oj(K).fold(cp,function(oe){return G.some(UI(oe,c,j,"normal",p,M,E,U))})}}))},WI=function(a,c,p,w,M){var E=MA(c),N=Br(Ye(c,function(U){var K=function(se){return M?!ln(se,"text"):E},oe=function(se){return zU(se,p,w,K(se),M)};return U.type==="nestedmenuitem"&&U.getSubmenuItems().length<=0?oe(ne(ne({},U),{disabled:!0})):oe(U)})),j=M?vj:kA;return j(a,E,N,1,"normal")},AB=function(a){return bi.singleData(a.value,a)},HU=function(a,c,p,w){var M=p===WC.ContentFocus?PD():b1(),E=jC(c,w),N=iv(w);return{dom:a.dom,components:a.components,items:a.items,value:a.value,markers:{selectedItem:N.selectedItem,item:N.item},movement:E,fakeFocus:p===WC.ContentFocus,focusManager:M,menuBehaviours:AA.unnamedEvents(c!=="auto"?[]:[da(function(j,U){dI(j,4,N.item).each(function(K){var oe=K.numColumns,se=K.numRows;Rr.setGridSize(j,se,oe)})})])}},VU=function(a,c){var p=Ba(),w=Er(!1),M=nu(gi.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:zn([po("dismissAutocompleter",[fn(xf(),function(){return U()})])]),lazySink:c.getSink})),E=function(){return gi.isOpen(M)},N=function(){return p.get().isSome()},j=function(){N()&&gi.hide(M)},U=function(){if(N()){var Be=p.get().map(function(ht){return ht.element});xA(Be.getOr(He.fromDom(a.selection.getNode()))).each(Rv),j(),p.clear(),w.set(!1)}},K=_t(function(){return J4(a)}),oe=function(Be,ht){var Wt=vt(ht,function(Kt){return G.from(Kt.columns)}).getOr(1);return Bt(ht,function(Kt){var ct=Kt.items;return FU(ct,Kt.matchText,function(Lt,rn){var $n=a.selection.getRng();j4(a.dom,$n,Be).fold(function(){return console.error("Lost context. Cursor probably moved")},function(cn){var Xn=cn.range,mn={hide:function(){U()},reload:function(nn){j(),Ee(nn)}};w.set(!0),Kt.onAction(mn,Xn,Lt,rn),w.set(!1)})},Wt,lp.BUBBLE_TO_SANDBOX,c,Kt.highlightOn)})},se=function(Be){if(!N()){var ht=q9(a,Be.range);p.set({triggerChar:Be.triggerChar,element:ht,matchLength:Be.text.length}),w.set(!1)}},be=function(Be,ht,Wt,Kt){Be.matchLength=ht.text.length;var ct=vt(Wt,function(Lt){return G.from(Lt.columns)}).getOr(1);gi.showAt(M,xr.sketch(HU(kA("autocompleter-value",!0,Kt,ct,"normal"),ct,WC.ContentFocus,"normal")),{anchor:{type:"node",root:He.fromDom(a.getBody()),node:G.from(Be.element)}}),gi.getContent(M).each(ii.highlightFirst)},_e=function(Be){return p.get().map(function(ht){return j4(a.dom,a.selection.getRng(),ht.triggerChar).bind(function(Wt){return t6(a,K,Wt,Be)})}).getOrThunk(function(){return ej(a,K)})},Ee=function(Be){_e(Be).fold(U,function(ht){se(ht.context),ht.lookupData.then(function(Wt){p.get().map(function(Kt){var ct=ht.context;if(Kt.triggerChar===ct.triggerChar){var Lt=oe(ct.triggerChar,Wt);Lt.length>0?be(Kt,ct,Wt,Lt):ct.text.length-Kt.matchLength>=10?U():j()}})})})},Ve=H4(function(Be){Be.which!==27&&Ee()},50),ft={onKeypress:Ve,cancelIfNecessary:U,isMenuOpen:E,isActive:N,isProcessingAction:w.get,getView:function(){return gi.getContent(M)}};a.hasPlugin("rtc")===!1&&Y9.setup(ft,a)},jU={register:VU},qC=function(a,c,p){return qs(a,c,p).isSome()},EB=function(a,c){var p=null,w=function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];p=setTimeout(function(){a.apply(null,E),p=null},c)},M=function(){p!==null&&(clearTimeout(p),p=null)};return{cancel:M,schedule:w}},OB=5,qI=400,IB=function(a){var c=a.raw;return c.touches===void 0||c.touches.length!==1?G.none():G.some(c.touches[0])},RB=function(a,c){var p=Math.abs(a.clientX-c.x),w=Math.abs(a.clientY-c.y);return p>OB||w>OB},UU=function(a){var c=Ba(),p=Er(!1),w=EB(function(K){a.triggerEvent(ex(),K),p.set(!0)},qI),M=function(K){return IB(K).each(function(oe){w.cancel();var se={x:oe.clientX,y:oe.clientY,target:K.target};w.schedule(K),p.set(!1),c.set(se)}),G.none()},E=function(K){return w.cancel(),IB(K).each(function(oe){c.on(function(se){RB(oe,se)&&c.clear()})}),G.none()},N=function(K){w.cancel();var oe=function(se){return si(se.target,K.target)};return c.get().filter(oe).map(function(se){return p.get()?(K.prevent(),!1):a.triggerEvent(Fp(),K)})},j=Uh([{key:Ud(),value:M},{key:yf(),value:E},{key:Bp(),value:N}]),U=function(K,oe){return Pt(j,oe).bind(function(se){return se(K)})};return{fireIfReady:U}},WU=function(a){var c=a.raw;return c.which===E0[0]&&!Ot(["input","textarea"],$e(a.target))&&!qC(a.target,'[contenteditable="true"]')},$I=function(){return Cr().browser.isFirefox()},$C=function(a,c){return $I()?Nx(a,"focus",c):Ya(a,"focusin",c)},qU=function(a,c){return $I()?Nx(a,"blur",c):Ya(a,"focusout",c)},$U=function(a,c){var p=ne({stopBackspace:!0},c),w=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],M=UU(p),E=Ye(w.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(_e){return Ya(a,_e,function(Ee){M.fireIfReady(Ee,_e).each(function(ft){ft&&Ee.kill()});var Ve=p.triggerEvent(_e,Ee);Ve&&Ee.kill()})}),N=Ba(),j=Ya(a,"paste",function(_e){M.fireIfReady(_e,"paste").each(function(Ve){Ve&&_e.kill()});var Ee=p.triggerEvent("paste",_e);Ee&&_e.kill(),N.set(setTimeout(function(){p.triggerEvent(S_(),_e)},0))}),U=Ya(a,"keydown",function(_e){var Ee=p.triggerEvent("keydown",_e);Ee?_e.kill():p.stopBackspace&&WU(_e)&&_e.prevent()}),K=$C(a,function(_e){var Ee=p.triggerEvent("focusin",_e);Ee&&_e.kill()}),oe=Ba(),se=qU(a,function(_e){var Ee=p.triggerEvent("focusout",_e);Ee&&_e.kill(),oe.set(setTimeout(function(){p.triggerEvent(__(),_e)},0))}),be=function(){je(E,function(_e){_e.unbind()}),U.unbind(),K.unbind(),se.unbind(),j.unbind(),N.on(clearTimeout),oe.on(clearTimeout)};return{unbind:be}},PB=function(a,c){var p=Pt(a,"target").getOr(c);return Er(p)},HA=function(a,c){var p=Er(!1),w=Er(!1),M=function(){p.set(!0)},E=function(){w.set(!0)};return{stop:M,cut:E,isStopped:p.get,isCut:w.get,event:a,setSource:c.set,getSource:c.get}},GU=function(a){var c=Er(!1),p=function(){c.set(!0)};return{stop:p,cut:A,isStopped:c.get,isCut:ie,event:a,setSource:te("Cannot set source of a broadcasted event"),getSource:te("Cannot get source of a broadcasted event")}},GC=Cc.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),GI=function(a,c,p,w,M,E){var N=a(c,w),j=HA(p,M);return N.fold(function(){return E.logEventNoHandlers(c,w),GC.complete()},function(U){var K=U.descHandler,oe=I_(K);return oe(j),j.isStopped()?(E.logEventStopped(c,U.element,K.purpose),GC.stopped()):j.isCut()?(E.logEventCut(c,U.element,K.purpose),GC.complete()):aa(U.element).fold(function(){return E.logNoParent(c,U.element,K.purpose),GC.complete()},function(se){return E.logEventResponse(c,U.element,K.purpose),GC.resume(se)})})},NB=function(a,c,p,w,M,E){return GI(a,c,p,w,M,E).fold(le,function(N){return NB(a,c,p,N,M,E)},ie)},XU=function(a,c,p,w,M){var E=PB(p,w);return GI(a,c,p,w,E,M)},YU=function(a,c,p){var w=GU(c);return je(a,function(M){var E=M.descHandler,N=I_(E);N(w)}),w.isStopped()},KU=function(a,c,p,w){return LB(a,c,p,p.target,w)},LB=function(a,c,p,w,M){var E=PB(p,w);return NB(a,c,p,w,E,M)},JU=function(a,c){return{element:a,descHandler:c}},QU=function(a,c){return{id:a,descHandler:c}},ZU=function(){var a={},c=function(N,j,U){Bn(U,function(K,oe){var se=a[oe]!==void 0?a[oe]:{};se[j]=O_(K,N),a[oe]=se})},p=function(N,j){return Wd(j).bind(function(U){return Pt(N,U)}).map(function(U){return JU(j,U)})},w=function(N){return Pt(a,N).map(function(j){return er(j,function(U,K){return QU(K,U)})}).getOr([])},M=function(N,j,U){return Pt(a,j).bind(function(K){return qv(U,function(oe){return p(K,oe)},N)})},E=function(N){Bn(a,function(j,U){ln(j,N)&&delete j[N]})};return{registerId:c,unregisterId:E,filterByType:w,find:M}},eW=function(){var a=ZU(),c={},p=function(K){var oe=K.element;return Wd(oe).getOrThunk(function(){return JM("uid-",K.element)})},w=function(K,oe){var se=c[oe];if(se===K)E(K);else throw new Error('The tagId "'+oe+'" is already used by: '+$u(se.element)+`
Cannot use it for: `+$u(K.element)+`
The conflicting element is`+(Or(se.element)?" ":" not ")+"already in the DOM")},M=function(K){var oe=p(K);Kn(c,oe)&&w(K,oe);var se=[K];a.registerId(se,oe,K.events),c[oe]=K},E=function(K){Wd(K.element).each(function(oe){delete c[oe],a.unregisterId(oe)})},N=function(K){return a.filterByType(K)},j=function(K,oe,se){return a.find(K,oe,se)},U=function(K){return Pt(c,K)};return{find:j,filter:N,register:M,unregister:E,getById:U}},q1=function(a){var c=a.dom,p=c.attributes,w=Q(c,["attributes"]);return{uid:a.uid,dom:ne({tag:"div",attributes:ne({role:"presentation"},p)},w),components:a.components,behaviours:Vg(a.containerBehaviours),events:a.events,domModification:a.domModification,eventOrder:a.eventOrder}},yl=uc({name:"Container",factory:q1,configFields:[dt("components",[]),Pu("containerBehaviours",[]),dt("events",{}),dt("domModification",{}),dt("eventOrder",{})]}),BB=function(a){var c=function(Be){return aa(a.element).fold(le,function(ht){return si(Be,ht)})},p=eW(),w=function(Be,ht){return p.find(c,Be,ht)},M=$U(a.element,{triggerEvent:function(Be,ht){return wg(Be,ht.target,function(Wt){return KU(w,Be,ht,Wt)})}}),E={debugInfo:L("real"),triggerEvent:function(Be,ht,Wt){wg(Be,ht,function(Kt){return LB(w,Be,Wt,ht,Kt)})},triggerFocus:function(Be,ht){Wd(Be).fold(function(){Yd(Be)},function(Wt){wg(zp(),Be,function(Kt){return XU(w,zp(),{originator:ht,kill:A,prevent:A,target:Be},Be,Kt),!1})})},triggerEscape:function(Be,ht){E.triggerEvent("keydown",Be.element,ht.event)},getByUid:function(Be){return Ve(Be)},getByDom:function(Be){return ft(Be)},build:nu,addToGui:function(Be){U(Be)},removeFromGui:function(Be){K(Be)},addToWorld:function(Be){N(Be)},removeFromWorld:function(Be){j(Be)},broadcast:function(Be){be(Be)},broadcastOn:function(Be,ht){_e(Be,ht)},broadcastEvent:function(Be,ht){Ee(Be,ht)},isConnected:le},N=function(Be){Be.connect(E),Me(Be.element)||(p.register(Be),je(Be.components(),N),E.triggerEvent(fg(),Be.element,{target:Be.element}))},j=function(Be){Me(Be.element)||(je(Be.components(),j),p.unregister(Be)),Be.disconnect()},U=function(Be){Os(a,Be)},K=function(Be){jc(Be)},oe=function(){M.unbind(),Ml(a.element)},se=function(Be){var ht=p.filter(zc());je(ht,function(Wt){var Kt=Wt.descHandler,ct=I_(Kt);ct(Be)})},be=function(Be){se({universal:!0,data:Be})},_e=function(Be,ht){se({universal:!1,channels:Be,data:ht})},Ee=function(Be,ht){var Wt=p.filter(Be);return YU(Wt,ht)},Ve=function(Be){return p.getById(Be).fold(function(){return fo.error(new Error('Could not find component with uid: "'+Be+'" in system.'))},fo.value)},ft=function(Be){var ht=Wd(Be).getOr("not found");return Ve(ht)};return N(a),{root:a,element:a.element,destroy:oe,add:U,remove:K,getByUid:Ve,getByDom:ft,addToWorld:N,removeFromWorld:j,broadcast:be,broadcastOn:_e,broadcastEvent:Ee}},tW=function(a,c){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Ye(a.items,c.interpreter)}},nW=L([dt("prefix","form-field"),Pu("fieldBehaviours",[So,qn])]),VA=L([Df({schema:[on("dom")],name:"label"}),Df({factory:{sketch:function(a){return{uid:a.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:a.text}}}},schema:[on("text")],name:"aria-descriptor"}),Zu({factory:{sketch:function(a){var c=m_(a,["factory"]);return a.factory.sketch(c)}},schema:[on("factory")],name:"field"})]),zB=function(a,c,p,w){var M=Nu(a.fieldBehaviours,[So.config({find:function(j){return Ti(j,a,"field")}}),qn.config({store:{mode:"manual",getValue:function(j){return So.getCurrent(j).bind(qn.getValue)},setValue:function(j,U){So.getCurrent(j).each(function(K){qn.setValue(K,U)})}}})]),E=$i([da(function(j,U){var K=gD(j,a,["label","field","aria-descriptor"]);K.field().each(function(oe){var se=ir(a.prefix);K.label().each(function(be){so(be.element,"for",se),so(oe.element,"id",se)}),K["aria-descriptor"]().each(function(be){var _e=ir(a.prefix);so(be.element,"id",_e),so(oe.element,"aria-describedby",_e)})})})]),N={getField:function(j){return Ti(j,a,"field")},getLabel:function(j){return Ti(j,a,"label")}};return{uid:a.uid,dom:a.dom,components:c,behaviours:M,events:E,apis:N}},Ko=ml({name:"FormField",configFields:nW(),partFields:VA(),factory:zB,apis:{getField:function(a,c){return a.getField(c)},getLabel:function(a,c){return a.getLabel(c)}}}),rW=function(a,c){return ad({attributes:Uh([{key:c.tabAttr,value:"true"}])})},oW=Object.freeze({__proto__:null,exhibit:rW}),iW=[dt("tabAttr","data-alloy-tabstop")],ru=Xa({fields:iW,name:"tabstopping",active:oW}),aW=tinymce.util.Tools.resolve("tinymce.html.Entities"),XC=function(a,c,p,w){var M=FB(a,c,p,w);return Ko.sketch(M)},uW=function(a,c){return XC(a,c,[],[])},FB=function(a,c,p,w){return{dom:HB(p),components:a.toArray().concat([c]),fieldBehaviours:zn(w)}},sW=function(){return HB([])},HB=function(a){return{tag:"div",classes:["tox-form__group"].concat(a)}},W0=function(a,c){return Ko.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:c.translate(a)}})},Kc=ir("form-component-change"),Jc=ir("form-close"),Pf=ir("form-cancel"),wm=ir("form-action"),Gw=ir("form-submit"),jA=ir("form-block"),Xw=ir("form-unblock"),VB=ir("form-tabchange"),UA=ir("form-resize"),XI=function(a,c){var p,w=a.label.map(function(se){return W0(se,c)}),M=function(se){return function(be,_e){qs(_e.event.target,"[data-collection-item-value]").each(function(Ee){se(be,_e,Ee,ua(Ee,"data-collection-item-value"))})}},E=function(se,be){var _e=Ye(be,function(ft){var Be=Of.translate(ft.text),ht=a.columns===1?'<div class="tox-collection__item-label">'+Be+"</div>":"",Wt='<div class="tox-collection__item-icon">'+ft.icon+"</div>",Kt={_:" "," - ":" ","-":" "},ct=Be.replace(/\_| \- |\-/g,function(rn){return Kt[rn]}),Lt=c.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+Lt+'" tabindex="-1" data-collection-item-value="'+aW.encodeAllRaw(ft.value)+'" title="'+ct+'" aria-label="'+ct+'">'+Wt+ht+"</div>"}),Ee=a.columns!=="auto"&&a.columns>1?Yt(_e,a.columns):[_e],Ve=Ye(Ee,function(ft){return'<div class="tox-collection__group">'+ft.join("")+"</div>"});od(se.element,Ve.join(""))},N=M(function(se,be,_e,Ee){be.stop(),c.isDisabled()||Ir(se,wm,{name:a.name,value:Ee})}),j=[fn(Wh(),M(function(se,be,_e){Yd(_e)})),fn(Xv(),N),fn(Fp(),N),fn(Bc(),M(function(se,be,_e){pu(se.element,"."+H1).each(function(Ee){hu(Ee,H1)}),Xu(_e,H1)})),fn(ls(),M(function(se){pu(se.element,"."+H1).each(function(be){hu(be,H1)})})),_f(M(function(se,be,_e,Ee){Ir(se,wm,{name:a.name,value:Ee})}))],U=function(se,be){return Ye(Ru(se.element,".tox-collection__item"),be)},K=Ko.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(a.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:q},behaviours:zn([Mr.config({disabled:c.isDisabled,onDisabled:function(se){U(se,function(be){Xu(be,"tox-collection__item--state-disabled"),so(be,"aria-disabled",!0)})},onEnabled:function(se){U(se,function(be){hu(be,"tox-collection__item--state-disabled"),Uu(be,"aria-disabled")})}}),Bu(),Zr.config({}),qn.config({store:{mode:"memory",initialValue:[]},onSetValue:function(se,be){E(se,be),a.columns==="auto"&&dI(se,5,"tox-collection__item").each(function(_e){var Ee=_e.numRows,Ve=_e.numColumns;Rr.setGridSize(se,Ee,Ve)}),Mo(se,UA)}}),ru.config({}),Rr.config(_U(a.columns,"normal")),po("collection-events",j)]),eventOrder:(p={},p[Tc()]=["disabling","alloy.base.behaviour","collection-events"],p)}),oe=["tox-form__group--collection"];return XC(w,K,oe,[])},WA=L([oi("data"),dt("inputAttributes",{}),dt("inputStyles",{}),dt("tag","input"),dt("inputClasses",[]),_o("onSetValue"),dt("styles",{}),dt("eventOrder",{}),Pu("inputBehaviours",[qn,$r]),dt("selectOnFocus",!0)]),jB=function(a){return zn([$r.config({onFocus:a.selectOnFocus?function(c){var p=c.element,w=nc(p);p.dom.setSelectionRange(0,w.length)}:A})])},lW=function(a){return ne(ne({},jB(a)),Nu(a.inputBehaviours,[qn.config({store:ne(ne({mode:"manual"},a.data.map(function(c){return{initialValue:c}}).getOr({})),{getValue:function(c){return nc(c.element)},setValue:function(c,p){var w=nc(c.element);w!==p&&r0(c.element,p)}}),onSetValue:a.onSetValue})]))},UB=function(a){return{tag:a.tag,attributes:ne({type:"text"},a.inputAttributes),styles:a.inputStyles,classes:a.inputClasses}},qA=function(a,c){return{uid:a.uid,dom:UB(a),components:[],behaviours:lW(a),eventOrder:a.eventOrder}},YC=uc({name:"Input",configFields:WA(),factory:qA}),WB={},qB={exports:WB};(function(a,c,p,w){(function(M,E){typeof c=="object"&&typeof p<"u"?p.exports=E():typeof a=="function"&&a.amd?a(E):(M=typeof globalThis<"u"?globalThis:M||self,M.EphoxContactWrapper=E())})(this,function(){var M=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof N3<"u"?N3:typeof self<"u"?self:{},E={exports:{}};(function(K){(function(oe){var se=setTimeout;function be(){}function _e(ct,Lt){return function(){ct.apply(Lt,arguments)}}function Ee(ct){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ct!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Kt(ct,this)}function Ve(ct,Lt){for(;ct._state===3;)ct=ct._value;if(ct._state===0){ct._deferreds.push(Lt);return}ct._handled=!0,Ee._immediateFn(function(){var rn=ct._state===1?Lt.onFulfilled:Lt.onRejected;if(rn===null){(ct._state===1?ft:Be)(Lt.promise,ct._value);return}var $n;try{$n=rn(ct._value)}catch(cn){Be(Lt.promise,cn);return}ft(Lt.promise,$n)})}function ft(ct,Lt){try{if(Lt===ct)throw new TypeError("A promise cannot be resolved with itself.");if(Lt&&(typeof Lt=="object"||typeof Lt=="function")){var rn=Lt.then;if(Lt instanceof Ee){ct._state=3,ct._value=Lt,ht(ct);return}else if(typeof rn=="function"){Kt(_e(rn,Lt),ct);return}}ct._state=1,ct._value=Lt,ht(ct)}catch($n){Be(ct,$n)}}function Be(ct,Lt){ct._state=2,ct._value=Lt,ht(ct)}function ht(ct){ct._state===2&&ct._deferreds.length===0&&Ee._immediateFn(function(){ct._handled||Ee._unhandledRejectionFn(ct._value)});for(var Lt=0,rn=ct._deferreds.length;Lt<rn;Lt++)Ve(ct,ct._deferreds[Lt]);ct._deferreds=null}function Wt(ct,Lt,rn){this.onFulfilled=typeof ct=="function"?ct:null,this.onRejected=typeof Lt=="function"?Lt:null,this.promise=rn}function Kt(ct,Lt){var rn=!1;try{ct(function($n){rn||(rn=!0,ft(Lt,$n))},function($n){rn||(rn=!0,Be(Lt,$n))})}catch($n){if(rn)return;rn=!0,Be(Lt,$n)}}Ee.prototype.catch=function(ct){return this.then(null,ct)},Ee.prototype.then=function(ct,Lt){var rn=new this.constructor(be);return Ve(this,new Wt(ct,Lt,rn)),rn},Ee.all=function(ct){var Lt=Array.prototype.slice.call(ct);return new Ee(function(rn,$n){if(Lt.length===0)return rn([]);var cn=Lt.length;function Xn(nn,jn){try{if(jn&&(typeof jn=="object"||typeof jn=="function")){var gr=jn.then;if(typeof gr=="function"){gr.call(jn,function(dn){Xn(nn,dn)},$n);return}}Lt[nn]=jn,--cn===0&&rn(Lt)}catch(dn){$n(dn)}}for(var mn=0;mn<Lt.length;mn++)Xn(mn,Lt[mn])})},Ee.resolve=function(ct){return ct&&typeof ct=="object"&&ct.constructor===Ee?ct:new Ee(function(Lt){Lt(ct)})},Ee.reject=function(ct){return new Ee(function(Lt,rn){rn(ct)})},Ee.race=function(ct){return new Ee(function(Lt,rn){for(var $n=0,cn=ct.length;$n<cn;$n++)ct[$n].then(Lt,rn)})},Ee._immediateFn=typeof setImmediate=="function"?function(ct){setImmediate(ct)}:function(ct){se(ct,0)},Ee._unhandledRejectionFn=function(ct){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",ct)},Ee._setImmediateFn=function(ct){Ee._immediateFn=ct},Ee._setUnhandledRejectionFn=function(ct){Ee._unhandledRejectionFn=ct},K.exports?K.exports=Ee:oe.Promise||(oe.Promise=Ee)})(M)})(E);var N=E.exports,j=function(){return typeof window<"u"?window:Function("return this;")()}(),U={boltExport:j.Promise||N};return U})})(void 0,WB,qB);var _m=qB.exports.boltExport,YI=function(a){var c=G.none(),p=[],w=function(K){return YI(function(oe){M(function(se){oe(K(se))})})},M=function(K){N()?U(K):p.push(K)},E=function(K){N()||(c=G.some(K),j(p),p=[])},N=function(){return c.isSome()},j=function(K){je(K,U)},U=function(K){c.each(function(oe){setTimeout(function(){K(oe)},0)})};return a(E),{get:M,map:w,isReady:N}},$B=function(a){return YI(function(c){c(a)})},cW={nu:YI,pure:$B},fW=function(a){setTimeout(function(){throw a},0)},$1=function(a){var c=function(U){a().then(U,fW)},p=function(U){return $1(function(){return a().then(U)})},w=function(U){return $1(function(){return a().then(function(K){return U(K).toPromise()})})},M=function(U){return $1(function(){return a().then(function(){return U.toPromise()})})},E=function(){return cW.nu(c)},N=function(){var U=null;return $1(function(){return U===null&&(U=a()),U})},j=a;return{map:p,bind:w,anonBind:M,toLazy:E,toCached:N,toPromise:j,get:c}},dW=function(a){return $1(function(){return new _m(a)})},hW=function(a){return $1(function(){return _m.resolve(a)})},Is={nu:dW,pure:hW},GB=["input","textarea"],XB=function(a){var c=$e(a);return Ot(GB,c)},YB=function(a,c){var p=c.getRoot(a).getOr(a.element);hu(p,c.invalidClass),c.notify.each(function(w){XB(a.element)&&so(a.element,"aria-invalid",!1),w.getContainer(a).each(function(M){od(M,w.validHtml)}),w.onValid(a)})},KB=function(a,c,p,w){var M=c.getRoot(a).getOr(a.element);Xu(M,c.invalidClass),c.notify.each(function(E){XB(a.element)&&so(a.element,"aria-invalid",!0),E.getContainer(a).each(function(N){od(N,w)}),E.onInvalid(a,w)})},JB=function(a,c,p){return c.validator.fold(function(){return Is.pure(fo.value(!0))},function(w){return w.validate(a)})},KI=function(a,c,p){return c.notify.each(function(w){w.onValidate(a)}),JB(a,c).map(function(w){return a.getSystem().isConnected()?w.fold(function(M){return KB(a,c,p,M),fo.error(M)},function(M){return YB(a,c),fo.value(M)}):fo.error("No longer in system")})},$A=function(a,c){var p=c.getRoot(a).getOr(a.element);return cl(p,c.invalidClass)},lc=Object.freeze({__proto__:null,markValid:YB,markInvalid:KB,query:JB,run:KI,isInvalid:$A}),QB=function(a,c){return a.validator.map(function(p){return $i([fn(p.onEvent,function(w){KI(w,a,c).get(q)})].concat(p.validateOnLoad?[da(function(w){KI(w,a,c).get(A)})]:[]))}).getOr({})},pW=Object.freeze({__proto__:null,events:QB}),mW=[on("invalidClass"),dt("getRoot",G.none),Ql("notify",[dt("aria","alert"),dt("getContainer",G.none),dt("validHtml",""),_o("onValid"),_o("onInvalid"),_o("onValidate")]),Ql("validator",[on("validate"),dt("onEvent","input"),dt("validateOnLoad",!0)])],Sm=Xa({fields:mW,name:"invalidating",active:pW,apis:lc,extra:{validation:function(a){return function(c){var p=qn.getValue(c);return Is.pure(a(p))}}}}),gW=function(a,c,p,w){return p.getOrCreate(a,c,w)},ZB=Object.freeze({__proto__:null,getCoupled:gW}),ez=[Al("others",ks(fo.value,mf()))],vW=function(){var a={},c=function(w,M,E){var N=Tt(M.others);if(N)return Pt(a,E).getOrThunk(function(){var j=Pt(M.others,E).getOrDie("No information found for coupled component: "+E),U=j(w),K=w.getSystem().build(U);return a[E]=K,K});throw new Error("Cannot find coupled component: "+E+". Known coupled components: "+JSON.stringify(N,null,2))},p=L({});return Gu({readState:p,getOrCreate:c})},yW=Object.freeze({__proto__:null,init:vW}),ou=Xa({fields:ez,name:"coupling",apis:ZB,state:yW}),tz=L("sink"),JI=L(Df({name:tz(),overrides:L({dom:{tag:"div"},behaviours:zn([hl.config({useFixed:le})]),events:$i([Ga(Qb()),Ga(bf()),Ga(Xv())])})})),ah;(function(a){a[a.HighlightFirst=0]="HighlightFirst",a[a.HighlightNone=1]="HighlightNone"})(ah||(ah={}));var QI=function(a,c){var p=a.getHotspot(c).getOr(c),w="hotspot",M=a.getAnchorOverrides();return a.layouts.fold(function(){return{type:w,hotspot:p,overrides:M}},function(E){return{type:w,hotspot:p,overrides:M,layouts:E}})},bW=function(a,c,p){var w=a.fetch;return w(p).map(c)},xW=function(a,c,p,w,M,E,N){var j=bW(a,c,w),U=q0(w,a);return j.map(function(K){return K.bind(function(oe){return G.from(bi.sketch(ne(ne({},E.menu()),{uid:pg(""),data:oe,highlightImmediately:N===ah.HighlightFirst,onOpenMenu:function(se,be){var _e=U().getOrDie();hl.position(_e,be,{anchor:p}),Lo.decloak(M)},onOpenSubmenu:function(se,be,_e){var Ee=U().getOrDie();hl.position(Ee,_e,{anchor:{type:"submenu",item:be}}),Lo.decloak(M)},onRepositionMenu:function(se,be,_e){var Ee=U().getOrDie();hl.position(Ee,be,{anchor:p}),je(_e,function(Ve){hl.position(Ee,Ve.triggeredMenu,{anchor:{type:"submenu",item:Ve.triggeringItem}})})},onEscape:function(){return $r.focus(w),Lo.close(M),G.some(!0)}})))})})},ZI=function(a,c,p,w,M,E,N){var j=QI(a,p),U=xW(a,c,j,p,w,M,N);return U.map(function(K){return K.fold(function(){Lo.isOpen(w)&&Lo.close(w)},function(oe){Lo.cloak(w),Lo.open(w,oe),E(w)}),w})},wW=function(a,c,p,w,M,E,N){return Lo.close(w),Is.pure(w)},Yw=function(a,c,p,w,M,E){var N=ou.getCoupled(p,"sandbox"),j=Lo.isOpen(N),U=j?wW:ZI;return U(a,c,p,N,w,M,E)},_W=function(a,c,p){var w=So.getCurrent(c).getOr(c),M=Cs(a.element);p?Wr(w.element,"min-width",M+"px"):Jf(w.element,M)},q0=function(a,c){return a.getSystem().getByUid(c.uid+"-"+tz()).map(function(p){return function(){return fo.value(p)}}).getOrThunk(function(){return c.lazySink.fold(function(){return function(){return fo.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(p){return function(){return p(a)}})})},nz=function(a){Lo.getState(a).each(function(c){bi.repositionMenus(c)})},eR=function(a,c,p){var w=ik(),M=function(j,U){var K=QI(a,c);w.link(c.element),a.matchWidth&&_W(K.hotspot,U,a.useMinWidth),a.onOpen(K,j,U),p!==void 0&&p.onOpen!==void 0&&p.onOpen(j,U)},E=function(j,U){w.unlink(c.element),p!==void 0&&p.onClose!==void 0&&p.onClose(j,U)},N=q0(c,a);return{dom:{tag:"div",classes:a.sandboxClasses,attributes:{id:w.id,role:"listbox"}},behaviours:$c.augment(a.sandboxBehaviours,[qn.config({store:{mode:"memory",initialValue:c}}),Lo.config({onOpen:M,onClose:E,isPartOf:function(j,U,K){return bg(U,K)||bg(c,K)},getAttachPoint:function(){return N().getOrDie()}}),So.config({find:function(j){return Lo.getState(j).bind(function(U){return So.getCurrent(U)})}}),rc.config({channels:ne(ne({},sm({isExtraPart:ie})),i1({doReposition:nz}))})])}},uv=function(a){var c=ou.getCoupled(a,"sandbox");nz(c)},tR=function(){return[dt("sandboxClasses",[]),$c.field("sandboxBehaviours",[So,rc,Lo,qn])]},SW=L([on("dom"),on("fetch"),_o("onOpen"),Ni("onExecute"),dt("getHotspot",G.some),dt("getAnchorOverrides",L({})),rm(),Pu("dropdownBehaviours",[zo,ou,Rr,$r]),on("toggleClass"),dt("eventOrder",{}),oi("lazySink"),dt("matchWidth",!1),dt("useMinWidth",!1),oi("role")].concat(tR())),vd=L([Ec({schema:[Sg()],name:"menu",defaults:function(a){return{onExecute:a.onExecute}}}),JI()]),rz=function(a,c,p,w){var M,E=function(oe){return Pt(a.dom,"attributes").bind(function(se){return Pt(se,oe)})},N=function(oe){Lo.getState(oe).each(function(se){bi.highlightPrimary(se)})},j=function(oe){var se=N;Yw(a,q,oe,w,se,ah.HighlightFirst).get(A)},U={expand:function(oe){zo.isOn(oe)||Yw(a,q,oe,w,A,ah.HighlightNone).get(A)},open:function(oe){zo.isOn(oe)||Yw(a,q,oe,w,A,ah.HighlightFirst).get(A)},isOpen:zo.isOn,close:function(oe){zo.isOn(oe)&&Yw(a,q,oe,w,A,ah.HighlightFirst).get(A)},repositionMenus:function(oe){zo.isOn(oe)&&uv(oe)}},K=function(oe,se){return $h(oe),G.some(!0)};return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.dropdownBehaviours,[zo.config({toggleClass:a.toggleClass,aria:{mode:"expanded"}}),ou.config({others:{sandbox:function(oe){return eR(a,oe,{onOpen:function(){return zo.on(oe)},onClose:function(){return zo.off(oe)}})}}}),Rr.config({mode:"special",onSpace:K,onEnter:K,onDown:function(oe,se){if(yd.isOpen(oe)){var be=ou.getCoupled(oe,"sandbox");N(be)}else yd.open(oe);return G.some(!0)},onEscape:function(oe,se){return yd.isOpen(oe)?(yd.close(oe),G.some(!0)):G.none()}}),$r.config({})]),events:R1(G.some(j)),eventOrder:ne(ne({},a.eventOrder),(M={},M[Tc()]=["disabling","toggling","alloy.base.behaviour"],M)),apis:U,domModification:{attributes:ne(ne({"aria-haspopup":"true"},a.role.fold(function(){return{}},function(oe){return{role:oe}})),a.dom.tag==="button"?{type:E("type").getOr("button")}:{})}}},yd=ml({name:"Dropdown",configFields:SW(),partFields:vd(),factory:rz,apis:{open:function(a,c){return a.open(c)},expand:function(a,c){return a.expand(c)},close:function(a,c){return a.close(c)},isOpen:function(a,c){return a.isOpen(c)},repositionMenus:function(a,c){return a.repositionMenus(c)}}}),CW=function(){return ad({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},TW=function(){return $i([k_(P5(),le)])},GA=Object.freeze({__proto__:null,events:TW,exhibit:CW}),KC=Xa({fields:[],name:"unselecting",active:GA}),oz=function(a,c){return yd.sketch({dom:a.dom,components:a.components,toggleClass:"mce-active",dropdownBehaviours:zn([Rf.button(c.providers.isDisabled),Bu(),KC.config({}),ru.config({})]),layouts:a.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:c.getSink,fetch:function(p){return Is.nu(function(w){return a.fetch(w)}).map(function(w){return G.from(AB(Qt(zA(ir("menu-value"),w,function(M){a.onItemAction(p,M)},a.columns,a.presets,lp.CLOSE_ON_EXECUTE,ie,c.providers),{movement:jC(a.columns,a.presets)})))})},parts:{menu:CA(!1,1,a.presets)}})},iz=ir("color-input-change"),az=ir("color-swatch-change"),uz=ir("color-picker-cancel"),nR=function(a,c,p){var w=Ko.parts.field({factory:YC,inputClasses:["tox-textfield"],onSetValue:function(U){return Sm.run(U).get(A)},inputBehaviours:zn([Mr.config({disabled:c.providers.isDisabled}),Bu(),ru.config({}),Sm.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(U){return aa(U.element)},notify:{onValid:function(U){var K=qn.getValue(U);Ir(U,iz,{color:K})}},validator:{validateOnLoad:!1,validate:function(U){var K=qn.getValue(U);if(K.length===0)return Is.pure(fo.value(!0));var oe=He.fromTag("span");Wr(oe,"background-color",K);var se=Za(oe,"background-color").fold(function(){return fo.error("blah")},function(be){return fo.value(K)});return Is.pure(se)}}})]),selectOnFocus:!1}),M=a.label.map(function(U){return W0(U,c.providers)}),E=function(U,K){Ir(U,az,{value:K})},N=function(U,K){j.getOpt(U).each(function(oe){K==="custom"?p.colorPicker(function(se){se.fold(function(){return Mo(oe,uz)},function(be){E(oe,be),gB(be)})},"#ffffff"):K==="remove"?E(oe,""):E(oe,K)})},j=ci(oz({dom:{tag:"span",attributes:{"aria-label":c.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Su,Es,ds]},onLtr:function(){return[Es,Su,ds]}},components:[],fetch:bB(p.getColors(),p.hasCustomColors()),columns:p.getColorCols(),presets:"color",onItemAction:N},c));return Ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:M.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[w,j.asSpec()]}]),fieldBehaviours:zn([po("form-field-events",[fn(iz,function(U,K){j.getOpt(U).each(function(oe){Wr(oe.element,"background-color",K.event.color)}),Ir(U,Kc,{name:a.name})}),fn(az,function(U,K){Ko.getField(U).each(function(oe){qn.setValue(oe,K.event.value),So.getCurrent(U).each($r.focus)})}),fn(uz,function(U,K){Ko.getField(U).each(function(oe){So.getCurrent(U).each($r.focus)})})])])})},MW=Df({schema:[on("dom")],name:"label"}),$0=function(a){return Df({name:""+a+"-edge",overrides:function(c){var p=c.model.manager.edgeActions[a];return p.fold(function(){return{}},function(w){return{events:$i([Vy(Ud(),function(M,E,N){return w(M,N)},[c]),Vy(bf(),function(M,E,N){return w(M,N)},[c]),Vy(sg(),function(M,E,N){N.mouseIsDown.get()&&w(M,N)},[c])])}})}})},kW=$0("top-left"),DW=$0("top"),AW=$0("top-right"),EW=$0("right"),OW=$0("bottom-right"),sz=$0("bottom"),lz=$0("bottom-left"),IW=$0("left"),RW=Zu({name:"thumb",defaults:L({dom:{styles:{position:"absolute"}}}),overrides:function(a){return{events:$i([hg(Ud(),a,"spectrum"),hg(yf(),a,"spectrum"),hg(Bp(),a,"spectrum"),hg(bf(),a,"spectrum"),hg(sg(),a,"spectrum"),hg(b_(),a,"spectrum")])}}}),PW=Zu({schema:[ul("mouseIsDown",function(){return Er(!1)})],name:"spectrum",overrides:function(a){var c=a.model,p=c.manager,w=function(M,E){return p.getValueFromEvent(E).map(function(N){return p.setValueFrom(M,a,N)})};return{behaviours:zn([Rr.config({mode:"special",onLeft:function(M){return p.onLeft(M,a)},onRight:function(M){return p.onRight(M,a)},onUp:function(M){return p.onUp(M,a)},onDown:function(M){return p.onDown(M,a)}}),$r.config({})]),events:$i([fn(Ud(),w),fn(yf(),w),fn(bf(),w),fn(sg(),function(M,E){a.mouseIsDown.get()&&w(M,E)})])}}}),NW=[MW,IW,EW,DW,sz,kW,AW,lz,OW,RW,PW],LW="slider.change.value",Kw=L(LW),cz=function(a){return a.type.indexOf("touch")!==-1},XA=function(a){var c=a.event.raw;if(cz(c)){var p=c;return p.touches!==void 0&&p.touches.length===1?G.some(p.touches[0]).map(function(M){return Ii(M.clientX,M.clientY)}):G.none()}else{var w=c;return w.clientX!==void 0?G.some(w).map(function(M){return Ii(M.clientX,M.clientY)}):G.none()}},YA="top",BW="right",fz="bottom",zW="left",G1=function(a){return a.model.minX},X1=function(a){return a.model.minY},KA=function(a){return a.model.minX-1},Y1=function(a){return a.model.minY-1},K1=function(a){return a.model.maxX},J1=function(a){return a.model.maxY},uh=function(a){return a.model.maxX+1},JA=function(a){return a.model.maxY+1},Q1=function(a,c,p){return c(a)-p(a)},QA=function(a){return Q1(a,K1,G1)},JC=function(a){return Q1(a,J1,X1)},dz=function(a){return QA(a)/2},hz=function(a){return JC(a)/2},Jw=function(a){return a.stepSize},rR=function(a){return a.snapToGrid},pz=function(a){return a.snapStart},QC=function(a){return a.rounded},ZA=function(a,c){return a[c+"-edge"]!==void 0},Nf=function(a){return ZA(a,zW)},mz=function(a){return ZA(a,BW)},gz=function(a){return ZA(a,YA)},vz=function(a){return ZA(a,fz)},Cm=function(a){return a.model.value.get()},yz=function(a){return{x:a}},bz=function(a){return{y:a}},G0=function(a,c){return{x:a,y:c}},sh=function(a,c){Ir(a,Kw(),{value:c})},FW=function(a,c){sh(a,G0(KA(c),Y1(c)))},HW=function(a,c){sh(a,bz(Y1(c)))},VW=function(a,c){sh(a,G0(dz(c),Y1(c)))},xz=function(a,c){sh(a,G0(uh(c),Y1(c)))},jW=function(a,c){sh(a,yz(uh(c)))},UW=function(a,c){sh(a,G0(uh(c),hz(c)))},WW=function(a,c){sh(a,G0(uh(c),JA(c)))},wz=function(a,c){sh(a,bz(JA(c)))},eE=function(a,c){sh(a,G0(dz(c),JA(c)))},qW=function(a,c){sh(a,G0(KA(c),JA(c)))},tE=function(a,c){sh(a,yz(KA(c)))},Qw=function(a,c){sh(a,G0(KA(c),hz(c)))},nE=function(a,c,p,w){return a<c?a:a>p?p:a===c?c-1:Math.max(c,a-w)},rE=function(a,c,p,w){return a>p?a:a<c?c:a===p?p+1:Math.min(p,a+w)},oR=function(a,c,p){return Math.max(c,Math.min(p,a))},$W=function(a,c,p,w,M){return M.fold(function(){var E=a-c,N=Math.round(E/w)*w;return oR(c+N,c-1,p+1)},function(E){var N=(a-E)%w,j=Math.round(N/w),U=Math.floor((a-E)/w),K=Math.floor((p-E)/w),oe=Math.min(K,U+j),se=E+oe*w;return Math.max(E,se)})},GW=function(a,c,p){return Math.min(p,Math.max(a,c))-c},ZC=function(a){var c=a.min,p=a.max,w=a.range,M=a.value,E=a.step,N=a.snap,j=a.snapStart,U=a.rounded,K=a.hasMinEdge,oe=a.hasMaxEdge,se=a.minBound,be=a.maxBound,_e=a.screenRange,Ee=K?c-1:c,Ve=oe?p+1:p;if(M<se)return Ee;if(M>be)return Ve;var ft=GW(M,se,be),Be=oR(ft/_e*w+c,Ee,Ve);return N&&Be>=c&&Be<=p?$W(Be,c,p,E,j):U?Math.round(Be):Be},_z=function(a){var c=a.min,p=a.max,w=a.range,M=a.value,E=a.hasMinEdge,N=a.hasMaxEdge,j=a.maxBound,U=a.maxOffset,K=a.centerMinEdge,oe=a.centerMaxEdge;return M<c?E?0:K:M>p?N?j:oe:(M-c)/w*U},iR="top",aR="right",uR="bottom",eT="left",Sz="width",cc="height",fp=function(a){return a.element.dom.getBoundingClientRect()},lh=function(a,c){return a[c]},oE=function(a){var c=fp(a);return lh(c,eT)},sR=function(a){var c=fp(a);return lh(c,aR)},iE=function(a){var c=fp(a);return lh(c,iR)},Cz=function(a){var c=fp(a);return lh(c,uR)},Tz=function(a){var c=fp(a);return lh(c,Sz)},lR=function(a){var c=fp(a);return lh(c,cc)},dp=function(a,c,p){return(a+c)/2-p},aE=function(a,c){var p=fp(a),w=fp(c),M=lh(p,eT),E=lh(p,aR),N=lh(w,eT);return dp(M,E,N)},cR=function(a,c){var p=fp(a),w=fp(c),M=lh(p,iR),E=lh(p,uR),N=lh(w,iR);return dp(M,E,N)},Z1=function(a,c){Ir(a,Kw(),{value:c})},Zw=function(a){return{x:a}},fR=function(a,c,p){var w={min:G1(c),max:K1(c),range:QA(c),value:p,step:Jw(c),snap:rR(c),snapStart:pz(c),rounded:QC(c),hasMinEdge:Nf(c),hasMaxEdge:mz(c),minBound:oE(a),maxBound:sR(a),screenRange:Tz(a)};return ZC(w)},XW=function(a,c,p){var w=fR(a,c,p),M=Zw(w);return Z1(a,M),w},YW=function(a,c){var p=G1(c);Z1(a,Zw(p))},KW=function(a,c){var p=K1(c);Z1(a,Zw(p))},JW=function(a,c,p){var w=a>0?rE:nE,M=w(Cm(p).x,G1(p),K1(p),Jw(p));return Z1(c,Zw(M)),G.some(M)},uE=function(a){return function(c,p){return JW(a,c,p).map(le)}},QW=function(a){var c=XA(a);return c.map(function(p){return p.left})},Mz=function(a,c,p,w,M){var E=0,N=Tz(a),j=w.bind(function(oe){return G.some(aE(oe,a))}).getOr(E),U=M.bind(function(oe){return G.some(aE(oe,a))}).getOr(N),K={min:G1(c),max:K1(c),range:QA(c),value:p,hasMinEdge:Nf(c),hasMaxEdge:mz(c),minBound:oE(a),minOffset:E,maxBound:sR(a),maxOffset:N,centerMinEdge:j,centerMaxEdge:U};return _z(K)},dR=function(a,c,p,w,M,E){var N=Mz(c,E,p,w,M);return oE(c)-oE(a)+N},Tm=function(a,c,p,w){var M=Cm(p),E=dR(a,w.getSpectrum(a),M.x,w.getLeftEdge(a),w.getRightEdge(a),p),N=Cs(c.element)/2;Wr(c.element,"left",E-N+"px")},sE=uE(-1),ZW=uE(1),eq=G.none,kz=G.none,Dz={"top-left":G.none(),top:G.none(),"top-right":G.none(),right:G.some(jW),"bottom-right":G.none(),bottom:G.none(),"bottom-left":G.none(),left:G.some(tE)},hR=Object.freeze({__proto__:null,setValueFrom:XW,setToMin:YW,setToMax:KW,findValueOfOffset:fR,getValueFromEvent:QW,findPositionOfValue:dR,setPositionFromValue:Tm,onLeft:sE,onRight:ZW,onUp:eq,onDown:kz,edgeActions:Dz}),tT=function(a,c){Ir(a,Kw(),{value:c})},X0=function(a){return{y:a}},eb=function(a,c,p){var w={min:X1(c),max:J1(c),range:JC(c),value:p,step:Jw(c),snap:rR(c),snapStart:pz(c),rounded:QC(c),hasMinEdge:gz(c),hasMaxEdge:vz(c),minBound:iE(a),maxBound:Cz(a),screenRange:lR(a)};return ZC(w)},tq=function(a,c,p){var w=eb(a,c,p),M=X0(w);return tT(a,M),w},nq=function(a,c){var p=X1(c);tT(a,X0(p))},rq=function(a,c){var p=J1(c);tT(a,X0(p))},oq=function(a,c,p){var w=a>0?rE:nE,M=w(Cm(p).y,X1(p),J1(p),Jw(p));return tT(c,X0(M)),G.some(M)},Az=function(a){return function(c,p){return oq(a,c,p).map(le)}},iq=function(a){var c=XA(a);return c.map(function(p){return p.top})},aq=function(a,c,p,w,M){var E=0,N=lR(a),j=w.bind(function(oe){return G.some(cR(oe,a))}).getOr(E),U=M.bind(function(oe){return G.some(cR(oe,a))}).getOr(N),K={min:X1(c),max:J1(c),range:JC(c),value:p,hasMinEdge:gz(c),hasMaxEdge:vz(c),minBound:iE(a),minOffset:E,maxBound:Cz(a),maxOffset:N,centerMinEdge:j,centerMaxEdge:U};return _z(K)},nT=function(a,c,p,w,M,E){var N=aq(c,E,p,w,M);return iE(c)-iE(a)+N},tb=function(a,c,p,w){var M=Cm(p),E=nT(a,w.getSpectrum(a),M.y,w.getTopEdge(a),w.getBottomEdge(a),p),N=cu(c.element)/2;Wr(c.element,"top",E-N+"px")},uq=G.none,Ez=G.none,sq=Az(-1),lq=Az(1),cq={"top-left":G.none(),top:G.some(HW),"top-right":G.none(),right:G.none(),"bottom-right":G.none(),bottom:G.some(wz),"bottom-left":G.none(),left:G.none()},fq=Object.freeze({__proto__:null,setValueFrom:tq,setToMin:nq,setToMax:rq,findValueOfOffset:eb,getValueFromEvent:iq,findPositionOfValue:nT,setPositionFromValue:tb,onLeft:uq,onRight:Ez,onUp:sq,onDown:lq,edgeActions:cq}),lE=function(a,c){Ir(a,Kw(),{value:c})},rT=function(a,c){return{x:a,y:c}},pR=function(a,c,p){var w=fR(a,c,p.left),M=eb(a,c,p.top),E=rT(w,M);return lE(a,E),E},dq=function(a,c,p,w){var M=a>0?rE:nE,E=c?Cm(w).x:M(Cm(w).x,G1(w),K1(w),Jw(w)),N=c?M(Cm(w).y,X1(w),J1(w),Jw(w)):Cm(w).y;return lE(p,rT(E,N)),G.some(E)},oT=function(a,c){return function(p,w){return dq(a,c,p,w).map(le)}},mR=function(a,c){var p=G1(c),w=X1(c);lE(a,rT(p,w))},gR=function(a,c){var p=K1(c),w=J1(c);lE(a,rT(p,w))},Oz=function(a){return XA(a)},hq=function(a,c,p,w){var M=Cm(p),E=dR(a,w.getSpectrum(a),M.x,w.getLeftEdge(a),w.getRightEdge(a),p),N=nT(a,w.getSpectrum(a),M.y,w.getTopEdge(a),w.getBottomEdge(a),p),j=Cs(c.element)/2,U=cu(c.element)/2;Wr(c.element,"left",E-j+"px"),Wr(c.element,"top",N-U+"px")},pq=oT(-1,!1),cE=oT(1,!1),Iz=oT(-1,!0),mq=oT(1,!0),gq={"top-left":G.some(FW),top:G.some(VW),"top-right":G.some(xz),right:G.some(UW),"bottom-right":G.some(WW),bottom:G.some(eE),"bottom-left":G.some(qW),left:G.some(Qw)},vq=Object.freeze({__proto__:null,setValueFrom:pR,setToMin:mR,setToMax:gR,getValueFromEvent:Oz,setPositionFromValue:hq,onLeft:pq,onRight:cE,onUp:Iz,onDown:mq,edgeActions:gq}),yq=[dt("stepSize",1),dt("onChange",A),dt("onChoose",A),dt("onInit",A),dt("onDragStart",A),dt("onDragEnd",A),dt("snapToGrid",!1),dt("rounded",!0),oi("snapStart"),Al("model",Lc("mode",{x:[dt("minX",0),dt("maxX",100),ul("value",function(a){return Er(a.mode.minX)}),on("getInitialValue"),Ci("manager",hR)],y:[dt("minY",0),dt("maxY",100),ul("value",function(a){return Er(a.mode.minY)}),on("getInitialValue"),Ci("manager",fq)],xy:[dt("minX",0),dt("maxX",100),dt("minY",0),dt("maxY",100),ul("value",function(a){return Er({x:a.mode.minX,y:a.mode.minY})}),on("getInitialValue"),Ci("manager",vq)]})),Pu("sliderBehaviours",[Rr,qn]),ul("mouseIsDown",function(){return Er(!1)})],sv=function(a,c,p,w){var M,E=function(ct){return th(ct,a,"thumb")},N=function(ct){return th(ct,a,"spectrum")},j=function(ct){return Ti(ct,a,"left-edge")},U=function(ct){return Ti(ct,a,"right-edge")},K=function(ct){return Ti(ct,a,"top-edge")},oe=function(ct){return Ti(ct,a,"bottom-edge")},se=a.model,be=se.manager,_e=function(ct,Lt){be.setPositionFromValue(ct,Lt,a,{getLeftEdge:j,getRightEdge:U,getTopEdge:K,getBottomEdge:oe,getSpectrum:N})},Ee=function(ct,Lt){se.value.set(Lt);var rn=E(ct);_e(ct,rn)},Ve=function(ct,Lt){Ee(ct,Lt);var rn=E(ct);return a.onChange(ct,rn,Lt),G.some(!0)},ft=function(ct){be.setToMin(ct,a)},Be=function(ct){be.setToMax(ct,a)},ht=function(ct){var Lt=function(){Ti(ct,a,"thumb").each(function($n){var cn=se.value.get();a.onChoose(ct,$n,cn)})},rn=a.mouseIsDown.get();a.mouseIsDown.set(!1),rn&&Lt()},Wt=function(ct,Lt){Lt.stop(),a.mouseIsDown.set(!0),a.onDragStart(ct,E(ct))},Kt=function(ct,Lt){Lt.stop(),a.onDragEnd(ct,E(ct)),ht(ct)};return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.sliderBehaviours,[Rr.config({mode:"special",focusIn:function(ct){return Ti(ct,a,"spectrum").map(Rr.focusIn).map(le)}}),qn.config({store:{mode:"manual",getValue:function(ct){return se.value.get()}}}),rc.config({channels:(M={},M[ac()]={onReceive:ht},M)})]),events:$i([fn(Kw(),function(ct,Lt){Ve(ct,Lt.event.value)}),da(function(ct,Lt){var rn=se.getInitialValue();se.value.set(rn);var $n=E(ct);_e(ct,$n);var cn=N(ct);a.onInit(ct,$n,cn,se.value.get())}),fn(Ud(),Wt),fn(Bp(),Kt),fn(bf(),Wt),fn(b_(),Kt)]),apis:{resetToMin:ft,resetToMax:Be,setValue:Ee,refresh:_e},domModification:{styles:{position:"relative"}}}},bd=ml({name:"Slider",configFields:yq,partFields:NW,factory:sv,apis:{setValue:function(a,c,p){a.setValue(c,p)},resetToMin:function(a,c){a.resetToMin(c)},resetToMax:function(a,c){a.resetToMax(c)},refresh:function(a,c){a.refresh(c)}}}),fE=ir("rgb-hex-update"),vR=ir("slider-update"),dE=ir("palette-update"),Rz=function(a,c){var p=bd.parts.spectrum({dom:{tag:"div",classes:[c("hue-slider-spectrum")],attributes:{role:"presentation"}}}),w=bd.parts.thumb({dom:{tag:"div",classes:[c("hue-slider-thumb")],attributes:{role:"presentation"}}});return bd.sketch({dom:{tag:"div",classes:[c("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:L({y:0})},components:[p,w],sliderBehaviours:zn([$r.config({})]),onChange:function(M,E,N){Ir(M,vR,{value:N})}})},iT="form",Pz=[Pu("formBehaviours",[qn])],yR=function(a){return"<alloy.field."+a+">"},bq=function(a){var c=function(){var E=[],N=function(j,U){return E.push(j),HS(iT,yR(j),U)};return{field:N,record:L(E)}}(),p=a(c),w=c.record(),M=Ye(w,function(E){return Zu({name:E,pname:yR(E)})});return $S(iT,Pz,M,wq,p)},xq=function(a,c){return a.fold(function(){return fo.error(c)},fo.value)},wq=function(a,c){return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.formBehaviours,[qn.config({store:{mode:"manual",getValue:function(p){var w=US(p,a);return bn(w,function(M,E){return M().bind(function(N){var j=So.getCurrent(N);return xq(j,new Error("Cannot find a current component to extract the value from for form part '"+E+"': "+$u(N.element)))}).map(qn.getValue)})},setValue:function(p,w){Bn(w,function(M,E){Ti(p,a,E).each(function(N){So.getCurrent(N).each(function(j){qn.setValue(j,M)})})})}}})]),apis:{getField:function(p,w){return Ti(p,a,w).bind(So.getCurrent)}}}},e2={getField:vg(function(a,c,p){return a.getField(c,p)}),sketch:bq},bR=ir("valid-input"),xR=ir("invalid-input"),Nz=ir("validating-input"),wR="colorcustom.rgb.",_q=function(a,c,p,w){var M=function(be,_e){return Sm.config({invalidClass:c("invalid"),notify:{onValidate:function(Ee){Ir(Ee,Nz,{type:be})},onValid:function(Ee){Ir(Ee,bR,{type:be,value:qn.getValue(Ee)})},onInvalid:function(Ee){Ir(Ee,xR,{type:be,value:qn.getValue(Ee)})}},validator:{validate:function(Ee){var Ve=qn.getValue(Ee),ft=_e(Ve)?fo.value(!0):fo.error(a("aria.input.invalid"));return Is.pure(ft)},validateOnLoad:!1}})},E=function(be,_e,Ee,Ve,ft){var Be=a(wR+"range"),ht=Ko.parts.label({dom:{tag:"label",innerHtml:Ee,attributes:{"aria-label":Ve}}}),Wt=Ko.parts.field({data:ft,factory:YC,inputAttributes:ne({type:"text"},_e==="hex"?{"aria-live":"polite"}:{}),inputClasses:[c("textfield")],inputBehaviours:zn([M(_e,be),ru.config({})]),onSetValue:function(rn){if(Sm.isInvalid(rn)){var $n=Sm.run(rn);$n.get(A)}}}),Kt=[ht,Wt],ct=_e!=="hex"?[Ko.parts["aria-descriptor"]({text:Be})]:[],Lt=Kt.concat(ct);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Lt}},N=function(be,_e){var Ee=FC(_e);return e2.getField(be,"hex").each(function(Ve){$r.isFocused(Ve)||qn.setValue(be,{hex:Ee.value})}),Ee},j=function(be,_e){var Ee=_e.red,Ve=_e.green,ft=_e.blue;qn.setValue(be,{red:Ee,green:Ve,blue:ft})},U=ci({dom:{tag:"div",classes:[c("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),K=function(be,_e){U.getOpt(be).each(function(Ee){Wr(Ee.element,"background-color","#"+_e.value)})},oe=function(){var be={red:Er(G.some(255)),green:Er(G.some(255)),blue:Er(G.some(255)),hex:Er(G.some("ffffff"))},_e=function(nn,jn){var gr=HC(jn);j(nn,gr),Be(gr)},Ee=function(nn){return be[nn].get()},Ve=function(nn,jn){be[nn].set(jn)},ft=function(){return Ee("red").bind(function(nn){return Ee("green").bind(function(jn){return Ee("blue").map(function(gr){return U0(nn,jn,gr,1)})})})},Be=function(nn){var jn=nn.red,gr=nn.green,dn=nn.blue;Ve("red",G.some(jn)),Ve("green",G.some(gr)),Ve("blue",G.some(dn))},ht=function(nn,jn){var gr=jn.event;gr.type!=="hex"?Ve(gr.type,G.none()):w(nn)},Wt=function(nn,jn){p(nn);var gr=tB(jn);Ve("hex",G.some(jn));var dn=HC(gr);j(nn,dn),Be(dn),Ir(nn,fE,{hex:gr}),K(nn,gr)},Kt=function(nn,jn,gr){var dn=parseInt(gr,10);Ve(jn,G.some(dn)),ft().each(function(cr){var wr=N(nn,cr);Ir(nn,fE,{hex:wr}),K(nn,wr)})},ct=function(nn){return nn.type==="hex"},Lt=function(nn,jn){var gr=jn.event;ct(gr)?Wt(nn,gr.value):Kt(nn,gr.type,gr.value)},rn=function(nn){return{label:a(wR+nn+".label"),description:a(wR+nn+".description")}},$n=rn("red"),cn=rn("green"),Xn=rn("blue"),mn=rn("hex");return Qt(e2.sketch(function(nn){return{dom:{tag:"form",classes:[c("rgb-form")],attributes:{"aria-label":a("aria.color.picker")}},components:[nn.field("red",Ko.sketch(E(II,"red",$n.label,$n.description,255))),nn.field("green",Ko.sketch(E(II,"green",cn.label,cn.description,255))),nn.field("blue",Ko.sketch(E(II,"blue",Xn.label,Xn.description,255))),nn.field("hex",Ko.sketch(E(oB,"hex",mn.label,mn.description,"ffffff"))),U.asSpec()],formBehaviours:zn([Sm.config({invalidClass:c("form-invalid")}),po("rgb-form-events",[fn(bR,Lt),fn(xR,ht),fn(Nz,ht)])])}}),{apis:{updateHex:function(nn,jn){qn.setValue(nn,{hex:jn.value}),_e(nn,jn),K(nn,jn)}}})},se=uc({factory:oe,name:"RgbForm",configFields:[],apis:{updateHex:function(be,_e,Ee){be.updateHex(_e,Ee)}},extraApis:{}});return se},hE=function(a,c){var p=bd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[c("sv-palette-spectrum")]}}),w=bd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[c("sv-palette-thumb")],innerHtml:"<div class="+c("sv-palette-inner-thumb")+' role="presentation"></div>'}}),M=function(K,oe){var se=K.width,be=K.height,_e=K.getContext("2d");if(_e!==null){_e.fillStyle=oe,_e.fillRect(0,0,se,be);var Ee=_e.createLinearGradient(0,0,se,0);Ee.addColorStop(0,"rgba(255,255,255,1)"),Ee.addColorStop(1,"rgba(255,255,255,0)"),_e.fillStyle=Ee,_e.fillRect(0,0,se,be);var Ve=_e.createLinearGradient(0,0,0,be);Ve.addColorStop(0,"rgba(0,0,0,0)"),Ve.addColorStop(1,"rgba(0,0,0,1)"),_e.fillStyle=Ve,_e.fillRect(0,0,se,be)}},E=function(K,oe){var se=K.components()[0].element.dom,be=VC(oe,100,100),_e=uB(be);M(se,RI(_e))},N=function(K,oe){var se=NA(HC(oe));bd.setValue(K,{x:se.saturation,y:100-se.value})},j=function(K){var oe=L({x:0,y:0}),se=function(Ee,Ve,ft){Ir(Ee,dE,{value:ft})},be=function(Ee,Ve,ft,Be){M(ft.element.dom,RI(cB))},_e=zn([So.config({find:G.some}),$r.config({})]);return bd.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[c("sv-palette")]},model:{mode:"xy",getInitialValue:oe},rounded:!1,components:[p,w],onChange:se,onInit:be,sliderBehaviours:_e})},U=uc({factory:j,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(K,oe,se){E(oe,se)},setThumb:function(K,oe,se){N(oe,se)}},extraApis:{}});return U},Sq=function(a,c){var p=function(M){var E=_q(a,c,M.onValidHex,M.onInvalidHex),N=hE(a,c),j=function(Lt){return(100-Lt)/100*360},U=function(Lt){return 100-Lt/360*100},K={paletteRgba:Er(cB),paletteHue:Er(0)},oe=ci(Rz(a,c)),se=ci(N.sketch({})),be=ci(E.sketch({})),_e=function(Lt,rn,$n){se.getOpt(Lt).each(function(cn){N.setHue(cn,$n)})},Ee=function(Lt,rn){be.getOpt(Lt).each(function($n){E.updateHex($n,rn)})},Ve=function(Lt,rn,$n){oe.getOpt(Lt).each(function(cn){bd.setValue(cn,{y:U($n)})})},ft=function(Lt,rn){se.getOpt(Lt).each(function($n){N.setThumb($n,rn)})},Be=function(Lt,rn){var $n=HC(Lt);K.paletteRgba.set($n),K.paletteHue.set(rn)},ht=function(Lt,rn,$n,cn){Be(rn,$n),je(cn,function(Xn){Xn(Lt,rn,$n)})},Wt=function(){var Lt=[Ee];return function(rn,$n){var cn=$n.event.value,Xn=K.paletteHue.get(),mn=VC(Xn,cn.x,100-cn.y),nn=NI(mn);ht(rn,nn,Xn,Lt)}},Kt=function(){var Lt=[_e,Ee];return function(rn,$n){var cn=j($n.event.value.y),Xn=K.paletteRgba.get(),mn=NA(Xn),nn=VC(cn,mn.saturation,mn.value),jn=NI(nn);ht(rn,jn,cn,Lt)}},ct=function(){var Lt=[_e,Ve,ft];return function(rn,$n){var cn=$n.event.hex,Xn=hU(cn);ht(rn,cn,Xn.hue,Lt)}};return{uid:M.uid,dom:M.dom,components:[se.asSpec(),oe.asSpec(),be.asSpec()],behaviours:zn([po("colour-picker-events",[fn(fE,ct()),fn(dE,Wt()),fn(vR,Kt())]),So.config({find:function(Lt){return be.getOpt(Lt)}}),Rr.config({mode:"acyclic"})])}},w=uc({name:"ColourPicker",configFields:[on("dom"),dt("onValidHex",A),dt("onInvalidHex",A)],factory:p});return w},Cq=function(){return So.config({find:G.some})},Lz=function(a){return So.config({find:a.getOpt})},Bz=function(a){return So.config({find:function(c){return H(c.element,a).bind(function(p){return c.getSystem().getByDom(p).toOptional()})}})},hp={self:Cq,memento:Lz,childAt:Bz},Tq={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},pE=function(a){return Tq[a]},Mq=function(a){return pE(a)},kq=function(a){var c=function(N){return"tox-"+N},p=Sq(Mq,c),w=function(N){Ir(N,wm,{name:"hex-valid",value:!0})},M=function(N){Ir(N,wm,{name:"hex-valid",value:!1})},E=ci(p.sketch({dom:{tag:"div",classes:[c("color-picker-container")],attributes:{role:"presentation"}},onValidHex:w,onInvalidHex:M}));return{dom:{tag:"div"},components:[E.asSpec()],behaviours:zn([qn.config({store:{mode:"manual",getValue:function(N){var j=E.get(N),U=So.getCurrent(j),K=U.bind(function(oe){var se=qn.getValue(oe);return se.hex});return K.map(function(oe){return"#"+oe}).getOr("")},setValue:function(N,j){var U=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,K=U.exec(j),oe=E.get(N),se=So.getCurrent(oe);se.fold(function(){console.log("Can not find form")},function(be){qn.setValue(be,{hex:G.from(K[1]).getOr("")}),e2.getField(be,"hex").each(function(_e){Mo(_e,lg())})})}}}),hp.self()])}},Dq=tinymce.util.Tools.resolve("tinymce.Resource"),Aq=function(a){return ln(a,"init")},mE=function(a){var c=Ba(),p=ci({dom:{tag:a.tag}}),w=Ba();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:zn([po("custom-editor-events",[da(function(M){p.getOpt(M).each(function(E){(Aq(a)?a.init(E.element.dom):Dq.load(a.scriptId,a.scriptUrl).then(function(N){return N(E.element.dom,a.settings)})).then(function(N){w.on(function(j){N.setValue(j)}),w.clear(),c.set(N)})})})]),qn.config({store:{mode:"manual",getValue:function(){return c.get().fold(function(){return w.get().getOr("")},function(M){return M.getValue()})},setValue:function(M,E){c.get().fold(function(){w.set(E)},function(N){return N.setValue(E)})}}}),hp.self()]),components:[p.asSpec()]}},Mm=tinymce.util.Tools.resolve("tinymce.util.Tools"),Eq=Sr([dt("preprocess",q),dt("postprocess",q)]),Oq=function(a,c){var p=mi("RepresentingConfigs.memento processors",Eq,c);return qn.config({store:{mode:"manual",getValue:function(w){var M=a.get(w),E=qn.getValue(M);return p.postprocess(E)},setValue:function(w,M){var E=p.preprocess(M),N=a.get(w);qn.setValue(N,E)}}})},aT=function(a,c,p){return qn.config(Qt({store:{mode:"manual",getValue:c,setValue:p}},a.map(function(w){return{store:{initialValue:w}}}).getOr({})))},_R=function(a,c,p){return aT(a,function(w){return c(w.element)},function(w,M){return p(w.element,M)})},SR=function(a){return _R(a,nc,r0)},zz=function(a){return _R(a,Ol,od)},Iq=function(a){return qn.config({store:{mode:"memory",initialValue:a}})},nb={memento:Oq,withElement:_R,withComp:aT,domValue:SR,domHtml:zz,memory:Iq},Fz="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",Hz=function(a,c){var p=Mm.explode(c.getSetting("images_file_types",Fz,"string")),w=function(M){return Nt(p,function(E){return dr(M.name.toLowerCase(),"."+E.toLowerCase())})};return Je(en(a),w)},Rq=function(a,c){var p=function(se,be){be.stop()},w=function(se){return function(be,_e){je(se,function(Ee){Ee(be,_e)})}},M=function(se,be){if(!Mr.isDisabled(se)){var _e=be.event.raw;N(se,_e.dataTransfer.files)}},E=function(se,be){var _e=be.event.raw.target;N(se,_e.files)},N=function(se,be){qn.setValue(se,Hz(be,c)),Ir(se,Kc,{name:a.name})},j=ci({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:zn([po("input-file-events",[Ga(Xv()),Ga(Fp())])])}),U=function(se){return{uid:se.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:zn([nb.memory([]),hp.self(),Mr.config({}),zo.config({toggleClass:"dragenter",toggleOnExecute:!1}),po("dropzone-events",[fn("dragenter",w([p,zo.toggle])),fn("dragleave",w([p,zo.toggle])),fn("dragover",p),fn("drop",w([p,M])),fn(Gv(),E)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:c.translate("Drop an image here")}},vl.sketch({dom:{tag:"button",innerHtml:c.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[j.asSpec()],action:function(be){var _e=j.get(be);_e.element.dom.click()},buttonBehaviours:zn([ru.config({}),Rf.button(c.isDisabled),Bu()])})]}]}},K=a.label.map(function(se){return W0(se,c)}),oe=Ko.parts.field({factory:{sketch:U}});return XC(K,oe,["tox-form__group--stretched"],[])},Vz=function(a,c){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+a.columns+"col"]},components:Ye(a.items,c.interpreter)}},gE=ir("alloy-fake-before-tabstop"),vE=ir("alloy-fake-after-tabstop"),CR=function(a){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:a},behaviours:zn([$r.config({ignore:!0}),ru.config({})])}},jz=function(a){return{dom:{tag:"div",classes:["tox-navobj"]},components:[CR([gE]),a,CR([vE])],behaviours:zn([hp.childAt(1)])}},Uz=function(a,c){Ir(a,Qb(),{raw:{which:9,shiftKey:c}})},Pq=function(a,c){var p=c.element;cl(p,gE)?Uz(a,!0):cl(p,vE)&&Uz(a,!1)},t2=function(a){return qC(a,["."+gE,"."+vE].join(","),ie)},Nq=!(Cr().browser.isIE()||Cr().browser.isEdge()),Wz=function(a){var c=Er("");return{getValue:function(p){return c.get()},setValue:function(p,w){if(a)so(p.element,"srcdoc",w);else{so(p.element,"src","javascript:''");var M=p.element.dom.contentWindow.document;M.open(),M.write(w),M.close()}c.set(w)}}},Lq=function(a,c){var p=Nq&&a.sandboxed,w=ne(ne({},a.label.map(function(U){return{title:U}}).getOr({})),p?{sandbox:"allow-scripts allow-same-origin"}:{}),M=Wz(p),E=a.label.map(function(U){return W0(U,c)}),N=function(U){return jz({uid:U.uid,dom:{tag:"iframe",attributes:w},behaviours:zn([ru.config({}),$r.config({}),nb.withComp(G.none(),M.getValue,M.setValue)])})},j=Ko.parts.field({factory:{sketch:N}});return XC(E,j,["tox-form__group--stretched"],[])},n2=function(a,c){return Bq(document.createElement("canvas"),a,c)},TR=function(a){var c=n2(a.width,a.height),p=lv(c);return p.drawImage(a,0,0),c},lv=function(a){return a.getContext("2d")},Bq=function(a,c,p){return a.width=c,a.height=p,a},MR=function(a){return a.naturalWidth||a.width},kR=function(a){return a.naturalHeight||a.height},zq=function(a){return new _m(function(c,p){var w=URL.createObjectURL(a),M=new Image,E=function(){M.removeEventListener("load",N),M.removeEventListener("error",j)},N=function(){E(),c(M)},j=function(){E(),p("Unable to load data of type "+a.type+": "+w)};M.addEventListener("load",N),M.addEventListener("error",j),M.src=w,M.complete&&setTimeout(N,0)})},Fq=function(a){var c=a.split(","),p=/data:([^;]+)/.exec(c[0]);if(!p)return G.none();for(var w=p[1],M=c[1],E=1024,N=atob(M),j=N.length,U=Math.ceil(j/E),K=new Array(U),oe=0;oe<U;++oe){for(var se=oe*E,be=Math.min(se+E,j),_e=new Array(be-se),Ee=se,Ve=0;Ee<be;++Ve,++Ee)_e[Ve]=N[Ee].charCodeAt(0);K[oe]=new Uint8Array(_e)}return G.some(new Blob(K,{type:w}))},Hq=function(a){return new _m(function(c,p){Fq(a).fold(function(){p("uri is not base64: "+a)},c)})},DR=function(a,c,p){return c=c||"image/png",S(HTMLCanvasElement.prototype.toBlob)?new _m(function(w,M){a.toBlob(function(E){E?w(E):M()},c,p)}):Hq(a.toDataURL(c,p))},Vq=function(a,c,p){return c=c||"image/png",a.toDataURL(c,p)},jq=function(a){return zq(a).then(function(c){Uq(c);var p=n2(MR(c),kR(c)),w=lv(p);return w.drawImage(c,0,0),p})},qz=function(a){return new _m(function(c){var p=new FileReader;p.onloadend=function(){c(p.result)},p.readAsDataURL(a)})},Uq=function(a){URL.revokeObjectURL(a.src)},$z=function(a,c,p){var w=c.type,M=L(w),E=function(){return _m.resolve(c)},N=L(p),j=function(){return p.split(",")[1]},U=function(be,_e){return a.then(function(Ee){return DR(Ee,be,_e)})},K=function(be,_e){return a.then(function(Ee){return Vq(Ee,be,_e)})},oe=function(be,_e){return K(be,_e).then(function(Ee){return Ee.split(",")[1]})},se=function(){return a.then(TR)};return{getType:M,toBlob:E,toDataURL:N,toBase64:j,toAdjustedBlob:U,toAdjustedDataURL:K,toAdjustedBase64:oe,toCanvas:se}},Wq=function(a){return qz(a).then(function(c){return $z(jq(a),a,c)})},Y0=function(a,c){return DR(a,c).then(function(p){return $z(_m.resolve(a),p,a.toDataURL())})},qq=function(a){return Wq(a)},uT=function(a,c,p){var w=typeof a=="string"?parseFloat(a):a;return w>p?w=p:w<c&&(w=c),w},AR=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},yE=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],bE=function(a,c){for(var p=[],w=new Array(25),M,E=0;E<5;E++){for(var N=0;N<5;N++)p[N]=c[N+E*5];for(var N=0;N<5;N++){M=0;for(var j=0;j<5;j++)M+=a[N+j*5]*p[j];w[N+E*5]=M}}return w},$q=function(a,c){var p;return c=uT(c,-1,1),c*=100,c<0?p=127+c/100*127:(p=c%1,p===0?p=yE[c]:p=yE[Math.floor(c)]*(1-p)+yE[Math.floor(c)+1]*p,p=p*127+127),bE(a,[p/127,0,0,0,.5*(127-p),0,p/127,0,0,.5*(127-p),0,0,p/127,0,.5*(127-p),0,0,0,1,0,0,0,0,0,1])},Gz=function(a,c){return c=uT(255*c,-255,255),bE(a,[1,0,0,0,c,0,1,0,0,c,0,0,1,0,c,0,0,0,1,0,0,0,0,0,1])},Xz=function(a,c,p,w){return c=uT(c,0,2),p=uT(p,0,2),w=uT(w,0,2),bE(a,[c,0,0,0,0,0,p,0,0,0,0,0,w,0,0,0,0,0,1,0,0,0,0,0,1])},ER=function(a,c){return a.toCanvas().then(function(p){return Gq(p,a.getType(),c)})},Gq=function(a,c,p){var w=lv(a),M=function(N,j){for(var U,K,oe,se,be=N.data,_e=j[0],Ee=j[1],Ve=j[2],ft=j[3],Be=j[4],ht=j[5],Wt=j[6],Kt=j[7],ct=j[8],Lt=j[9],rn=j[10],$n=j[11],cn=j[12],Xn=j[13],mn=j[14],nn=j[15],jn=j[16],gr=j[17],dn=j[18],cr=j[19],wr=0;wr<be.length;wr+=4)U=be[wr],K=be[wr+1],oe=be[wr+2],se=be[wr+3],be[wr]=U*_e+K*Ee+oe*Ve+se*ft+Be,be[wr+1]=U*ht+K*Wt+oe*Kt+se*ct+Lt,be[wr+2]=U*rn+K*$n+oe*cn+se*Xn+mn,be[wr+3]=U*nn+K*jn+oe*gr+se*dn+cr;return N},E=M(w.getImageData(0,0,a.width,a.height),p);return w.putImageData(E,0,0),Y0(a,c)},Xq=function(a,c){return a.toCanvas().then(function(p){return Yq(p,a.getType(),c)})},Yq=function(a,c,p){var w=lv(a),M=function(j,U,K){for(var oe=function(jn,gr,dn){return jn>dn?jn=dn:jn<gr&&(jn=gr),jn},se=Math.round(Math.sqrt(K.length)),be=Math.floor(se/2),_e=j.data,Ee=U.data,Ve=j.width,ft=j.height,Be=0;Be<ft;Be++)for(var ht=0;ht<Ve;ht++){for(var Wt=0,Kt=0,ct=0,Lt=0;Lt<se;Lt++)for(var rn=0;rn<se;rn++){var $n=oe(ht+rn-be,0,Ve-1),cn=oe(Be+Lt-be,0,ft-1),Xn=(cn*Ve+$n)*4,mn=K[Lt*se+rn];Wt+=_e[Xn]*mn,Kt+=_e[Xn+1]*mn,ct+=_e[Xn+2]*mn}var nn=(Be*Ve+ht)*4;Ee[nn]=oe(Wt,0,255),Ee[nn+1]=oe(Kt,0,255),Ee[nn+2]=oe(ct,0,255)}return U},E=w.getImageData(0,0,a.width,a.height),N=w.getImageData(0,0,a.width,a.height);return N=M(E,N,p),w.putImageData(N,0,0),Y0(a,c)},Kq=function(a){var c=function(p,w,M){for(var E=lv(p),N=new Array(256),j=function(oe,se){for(var be=oe.data,_e=0;_e<be.length;_e+=4)be[_e]=se[be[_e]],be[_e+1]=se[be[_e+1]],be[_e+2]=se[be[_e+2]];return oe},U=0;U<N.length;U++)N[U]=a(U,M);var K=j(E.getImageData(0,0,p.width,p.height),N);return E.putImageData(K,0,0),Y0(p,w)};return function(p,w){return p.toCanvas().then(function(M){return c(M,p.getType(),w)})}},Yz=function(a){return function(c,p){return ER(c,a(AR(),p))}},Kz=function(a){return function(c){return ER(c,a)}},Jq=function(a){return function(c){return Xq(c,a)}},Qq=Kz([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),Zq=Yz(Gz),$o=Yz($q),r2=function(a,c,p,w){return ER(a,Xz(AR(),c,p,w))},Jz=Jq([0,-1,0,-1,5,-1,0,-1,0]),Qz=Kq(function(a,c){return Math.pow(a/255,1-c)*255}),OR=function(a,c,p){var w=MR(a),M=kR(a),E=c/w,N=p/M,j=!1;(E<.5||E>2)&&(E=E<.5?.5:2,j=!0),(N<.5||N>2)&&(N=N<.5?.5:2,j=!0);var U=e$(a,E,N);return j?U.then(function(K){return OR(K,c,p)}):U},e$=function(a,c,p){return new _m(function(w){var M=MR(a),E=kR(a),N=Math.floor(M*c),j=Math.floor(E*p),U=n2(N,j),K=lv(U);K.drawImage(a,0,0,M,E,0,0,N,j),w(U)})},Zz=function(a,c){c===void 0&&(c=2);var p=Math.pow(10,c),w=Math.round(a*p);return Math.ceil(w/p)},t$=function(a,c){return a.toCanvas().then(function(p){return e8(p,a.getType(),c)})},e8=function(a,c,p){var w=p<0?360+p:p,M=w*Math.PI/180,E=a.width,N=a.height,j=Math.sin(M),U=Math.cos(M),K=Zz(Math.abs(E*U)+Math.abs(N*j)),oe=Zz(Math.abs(E*j)+Math.abs(N*U)),se=n2(K,oe),be=lv(se);return be.translate(K/2,oe/2),be.rotate(M),be.drawImage(a,-E/2,-N/2),Y0(se,c)},n$=function(a,c){return a.toCanvas().then(function(p){return r$(p,a.getType(),c)})},r$=function(a,c,p){var w=n2(a.width,a.height),M=lv(w);return p==="v"?(M.scale(1,-1),M.drawImage(a,0,-w.height)):(M.scale(-1,1),M.drawImage(a,-w.width,0)),Y0(w,c)},o$=function(a,c,p,w,M){return a.toCanvas().then(function(E){return i$(E,a.getType(),c,p,w,M)})},i$=function(a,c,p,w,M,E){var N=n2(M,E),j=lv(N);return j.drawImage(a,-p,-w),Y0(N,c)},a$=function(a,c,p){return a.toCanvas().then(function(w){return OR(w,c,p).then(function(M){return Y0(M,a.getType())})})},u$=function(a){return Qq(a)},s$=function(a){return Jz(a)},l$=function(a,c){return Qz(a,c)},c$=function(a,c,p,w){return r2(a,c,p,w)},f$=function(a,c){return Zq(a,c)},d$=function(a,c){return $o(a,c)},IR=function(a,c){return n$(a,c)},h$=function(a,c,p,w,M){return o$(a,c,p,w,M)},p$=function(a,c,p){return a$(a,c,p)},t8=function(a,c){return t$(a,c)},n8=function(a,c,p){return sp(a,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:p},c)},xE=function(a,c){return n8(a,c,[])},r8=function(a,c){return n8(a,c,[Zr.config({})])},RR=function(a,c,p){return{dom:{tag:"span",innerHtml:p.translate(a),classes:[c+"__select-label"]},behaviours:zn([Zr.config({})])}},PR,NR=ir("toolbar.button.execute"),m$=function(a){return _f(function(c,p){NC(a,c)(function(w){Ir(c,NR,{buttonApi:w}),a.onAction(w)})})},LR=(PR={},PR[Tc()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],PR),rb=ir("update-menu-text"),BR=ir("update-menu-icon"),zR=function(a,c,p){var w=Er(A),M=a.text.map(function(se){return ci(RR(se,c,p.providers))}),E=a.icon.map(function(se){return ci(r8(se,p.providers.icons))}),N=function(se,be){var _e=qn.getValue(se);return $r.focus(_e),Ir(_e,"keydown",{raw:be.event.raw}),yd.close(_e),G.some(!0)},j=a.role.fold(function(){return{}},function(se){return{role:se}}),U=a.tooltip.fold(function(){return{}},function(se){var be=p.providers.translate(se);return{title:be,"aria-label":be}}),K=sp("chevron-down",{tag:"div",classes:[c+"__select-chevron"]},p.providers.icons),oe=ci(yd.sketch(ne(ne(ne({},a.uid?{uid:a.uid}:{}),j),{dom:{tag:"button",classes:[c,c+"--select"].concat(Ye(a.classes,function(se){return c+"--"+se})),attributes:ne({},U)},components:W1([E.map(function(se){return se.asSpec()}),M.map(function(se){return se.asSpec()}),G.some(K)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:zn(Ce(Ce([],a.dropdownBehaviours,!0),[Rf.button(function(){return a.disabled||p.providers.isDisabled()}),Bu(),KC.config({}),Zr.config({}),po("dropdown-events",[LC(a,w),BC(a,w)]),po("menubutton-update-display-text",[fn(rb,function(se,be){M.bind(function(_e){return _e.getOpt(se)}).each(function(_e){Zr.set(_e,[$p(p.providers.translate(be.event.text))])})}),fn(BR,function(se,be){E.bind(function(_e){return _e.getOpt(se)}).each(function(_e){Zr.set(_e,[r8(be.event.icon,p.providers.icons)])})})])],!1)),eventOrder:Qt(LR,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:zn([Rr.config({mode:"special",onLeft:N,onRight:N})]),lazySink:p.getSink,toggleClass:c+"--active",parts:{menu:CA(!1,a.columns,a.presets)},fetch:function(se){return Is.nu(Y(a.fetch,se))}})));return oe.asSpec()},g$=function(a){return i(a)},FR=function(a){return a.type==="separator"},v$=function(a){return ln(a,"getSubmenuItems")},y$={type:"separator"},b$=function(a,c){var p=Ft(a,function(w,M){return g$(M)?M===""?w:M==="|"?w.length>0&&!FR(w[w.length-1])?w.concat([y$]):w:ln(c,M.toLowerCase())?w.concat([c[M.toLowerCase()]]):w:w.concat([M])},[]);return p.length>0&&FR(p[p.length-1])&&p.pop(),p},sT=function(a,c){var p=a.getSubmenuItems(),w=o8(p,c),M=Qt(w.menus,Vd(a.value,w.items)),E=Qt(w.expansions,Vd(a.value,a.value));return{item:a,menus:M,expansions:E}},x$=function(a,c){return v$(a)?sT(a,c):{item:a,menus:{},expansions:{}}},HR=function(a){if(FR(a))return a;var c=Pt(a,"value").getOrThunk(function(){return ir("generated-menu-item")});return Qt({value:c},a)},o8=function(a,c){var p=b$(i(a)?a.split(" "):a,c);return st(p,function(w,M){var E=HR(M),N=x$(E,c);return{menus:Qt(w.menus,N.menus),items:[N.item].concat(w.items),expansions:Qt(w.expansions,N.expansions)}},{menus:{},expansions:{},items:[]})},o2=function(a,c,p,w){var M=ir("primary-menu"),E=o8(a,p.shared.providers.menuItems());if(E.items.length===0)return G.none();var N=WI(M,E.items,c,p,w),j=bn(E.menus,function(K,oe){return WI(oe,K,c,p,!1)}),U=Qt(j,Vd(M,N));return G.from(bi.tieredData(M,U,E.expansions))},w$=function(a){return{isDisabled:function(){return Mr.isDisabled(a)},setDisabled:function(c){return Mr.set(a,c)},setActive:function(c){var p=a.element;c?(Xu(p,"tox-tbtn--enabled"),so(p,"aria-pressed",!0)):(hu(p,"tox-tbtn--enabled"),Uu(p,"aria-pressed"))},isActive:function(){return cl(a.element,"tox-tbtn--enabled")}}},VR=function(a,c,p,w){return zR({text:a.text,icon:a.icon,tooltip:a.tooltip,role:w,fetch:function(M,E){a.fetch(function(N){E(o2(N,lp.CLOSE_ON_EXECUTE,p,!1))})},onSetup:a.onSetup,getApi:w$,columns:1,presets:"normal",classes:[],dropdownBehaviours:[ru.config({})]},c,p.shared)},i8=function(a,c,p){var w=function(E){return function(N){var j=!N.isActive();N.setActive(j),E.storage.set(j),p.shared.getSink().each(function(U){c().getOpt(U).each(function(K){Yd(K.element),Ir(K,wm,{name:E.name,value:E.storage.get()})})})}},M=function(E){return function(N){N.setActive(E.storage.get())}};return function(E){E(Ye(a,function(N){var j=N.text.fold(function(){return{}},function(U){return{text:U}});return ne(ne({type:N.type,active:!1},j),{onAction:w(N),onSetup:M(N)})}))}},jR=function(a,c,p,w,M,E){p===void 0&&(p=[]);var N=c.fold(function(){return{}},function(K){return{action:K}}),j=ne({buttonBehaviours:zn([Rf.button(function(){return a.disabled||E.isDisabled()}),Bu(),ru.config({}),po("button press",[rx("click"),rx("mousedown")])].concat(p)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},N),U=Qt(j,{dom:w});return Qt(U,{components:M})},a8=function(a,c,p,w){w===void 0&&(w=[]);var M=a.tooltip.map(function(U){return{"aria-label":p.translate(U),title:p.translate(U)}}).getOr({}),E={tag:"button",classes:["tox-tbtn"],attributes:M},N=a.icon.map(function(U){return xE(U,p.icons)}),j=W1([N]);return jR(a,c,w,E,j,p)},lT=function(a,c,p,w){w===void 0&&(w=[]);var M=a8(a,G.some(c),p,w);return vl.sketch(M)},cT=function(a,c,p,w,M){w===void 0&&(w=[]),M===void 0&&(M=[]);var E=p.translate(a.text),N=a.icon?a.icon.map(function(se){return xE(se,p.icons)}):G.none(),j=N.isSome()?W1([N]):[],U=N.isSome()?{}:{innerHtml:E},K=Ce(Ce(Ce(Ce([],!a.primary&&!a.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),N.isSome()?["tox-button--icon"]:[],!0),a.borderless?["tox-button--naked"]:[],!0),M,!0),oe=ne(ne({tag:"button",classes:K},U),{attributes:{title:E}});return jR(a,c,w,oe,j,p)},UR=function(a,c,p,w,M){w===void 0&&(w=[]),M===void 0&&(M=[]);var E=cT(a,G.some(c),p,w,M);return vl.sketch(E)},u8=function(a,c){return function(p){c==="custom"?Ir(p,wm,{name:a,value:{}}):c==="submit"?Mo(p,Gw):c==="cancel"?Mo(p,Pf):console.error("Unknown button type: ",c)}},_$=function(a,c){return c==="menu"},S$=function(a,c){return c==="custom"||c==="cancel"||c==="submit"},i2=function(a,c,p){if(_$(a,c)){var w=function(){return N},M=a,E=ne(ne({},a),{onSetup:function(K){return K.setDisabled(a.disabled),A},fetch:i8(M.items,w,p)}),N=ci(VR(E,"tox-tbtn",p,G.none()));return N.asSpec()}else if(S$(a,c)){var j=u8(a.name,c),U=ne(ne({},a),{borderless:!1});return UR(U,j,p.shared.providers,[])}else console.error("Unknown footer button type: ",c)},WR=function(a,c){var p=u8(a.name,"custom");return uW(G.none(),Ko.parts.field(ne({factory:vl},cT(a,G.some(p),c,[nb.memory(""),hp.self()]))))},s8=L([dt("field1Name","field1"),dt("field2Name","field2"),Tg("onLockedChange"),Cg(["lockClass"]),dt("locked",!1),$c.field("coupledFieldBehaviours",[So,qn])]),C$=function(a,c,p){return Ti(a,c,p).bind(So.getCurrent)},wE=function(a,c){return Zu({factory:Ko,name:a,overrides:function(p){return{fieldBehaviours:zn([po("coupled-input-behaviour",[fn(lg(),function(w){C$(w,p,c).each(function(M){Ti(w,p,"lock").each(function(E){zo.isOn(E)&&p.onLockedChange(w,M,E)})})})])])}}})},T$=L([wE("field1","field2"),wE("field2","field1"),Zu({factory:vl,schema:[on("dom")],name:"lock",overrides:function(a){return{buttonBehaviours:zn([zo.config({selected:a.locked,toggleClass:a.markers.lockClass,aria:{mode:"pressed"}})])}}})]),M$=function(a,c,p,w){return{uid:a.uid,dom:a.dom,components:c,behaviours:$c.augment(a.coupledFieldBehaviours,[So.config({find:G.some}),qn.config({store:{mode:"manual",getValue:function(M){var E,N=h1(M,a,["field1","field2"]);return E={},E[a.field1Name]=qn.getValue(N.field1()),E[a.field2Name]=qn.getValue(N.field2()),E},setValue:function(M,E){var N=h1(M,a,["field1","field2"]);Kn(E,a.field1Name)&&qn.setValue(N.field1(),E[a.field1Name]),Kn(E,a.field2Name)&&qn.setValue(N.field2(),E[a.field2Name])}}})]),apis:{getField1:function(M){return Ti(M,a,"field1")},getField2:function(M){return Ti(M,a,"field2")},getLock:function(M){return Ti(M,a,"lock")}}}},Qc=ml({name:"FormCoupledInputs",configFields:s8(),partFields:T$(),factory:M$,apis:{getField1:function(a,c){return a.getField1(c)},getField2:function(a,c){return a.getField2(c)},getLock:function(a,c){return a.getLock(c)}}}),k$=function(a){var c={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},p=function(M){return M in c?c[M]:1},w=a.value.toFixed(p(a.unit));return w.indexOf(".")!==-1&&(w=w.replace(/\.?0*$/,"")),w+a.unit},ob=function(a){var c=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,p=c.exec(a);if(p!==null){var w=parseFloat(p[1]),M=p[2];return fo.value({value:w,unit:M})}else return fo.error(a)},l8=function(a,c){var p={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},w=function(M){return ln(p,M)};return a.unit===c?G.some(a.value):w(a.unit)&&w(c)?p[a.unit]===p[c]?G.some(a.value):G.some(a.value/p[a.unit]*p[c]):G.none()},qR=function(a){return G.none()},D$=function(a,c){return function(p){return l8(p,c).map(function(w){return{value:w*a,unit:c}})}},A$=function(a,c){var p=ob(a).toOptional(),w=ob(c).toOptional();return ui(p,w,function(M,E){return l8(M,E.unit).map(function(N){return E.value/N}).map(function(N){return D$(N,E.unit)}).getOr(qR)}).getOr(qR)},$R=function(a,c){var p=qR,w=ir("ratio-event"),M=function(se){return sp(se,{tag:"span",classes:["tox-icon","tox-lock-icon__"+se]},c.icons)},E=Qc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:c.translate(a.label.getOr("Constrain proportions"))}},components:[M("lock"),M("unlock")],buttonBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),Bu(),ru.config({})])}),N=function(se){return{dom:{tag:"div",classes:["tox-form__group"]},components:se}},j=function(se){return Ko.parts.field({factory:YC,inputClasses:["tox-textfield"],inputBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),Bu(),ru.config({}),po("size-input-events",[fn(Bc(),function(be,_e){Ir(be,w,{isField1:se})}),fn(Gv(),function(be,_e){Ir(be,Kc,{name:a.name})})])]),selectOnFocus:!1})},U=function(se){return{dom:{tag:"label",classes:["tox-label"],innerHtml:c.translate(se)}}},K=Qc.parts.field1(N([Ko.parts.label(U("Width")),j(!0)])),oe=Qc.parts.field2(N([Ko.parts.label(U("Height")),j(!1)]));return Qc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[K,oe,N([U("&nbsp;"),E])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(se,be,_e){ob(qn.getValue(se)).each(function(Ee){p(Ee).each(function(Ve){qn.setValue(be,k$(Ve))})})},coupledFieldBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()},onDisabled:function(se){Qc.getField1(se).bind(Ko.getField).each(Mr.disable),Qc.getField2(se).bind(Ko.getField).each(Mr.disable),Qc.getLock(se).each(Mr.disable)},onEnabled:function(se){Qc.getField1(se).bind(Ko.getField).each(Mr.enable),Qc.getField2(se).bind(Ko.getField).each(Mr.enable),Qc.getLock(se).each(Mr.enable)}}),Bu(),po("size-input-events2",[fn(w,function(se,be){var _e=be.event.isField1,Ee=_e?Qc.getField1(se):Qc.getField2(se),Ve=_e?Qc.getField2(se):Qc.getField1(se),ft=Ee.map(qn.getValue).getOr(""),Be=Ve.map(qn.getValue).getOr("");p=A$(ft,Be)})])])})},E$=L(ir("undo")),O$=L(ir("redo")),I$=L(ir("zoom")),R$=L(ir("back")),P$=L(ir("apply")),c8=L(ir("swap")),N$=L(ir("transform")),L$=L(ir("temp-transform")),B$=L(ir("transform-apply")),Ys={undo:E$,redo:O$,zoom:I$,back:R$,apply:P$,swap:c8,transform:N$,tempTransform:L$,transformApply:B$},f8=L("save-state"),z$=L("disable"),F$=L("enable"),Fa={formActionEvent:wm,saveState:f8,disable:z$,enable:F$},H$=function(a,c){var p=function(nr,wo,Mi,iu){return ci(UR({name:nr,text:nr,disabled:Mi,primary:iu,icon:G.none(),borderless:!1},wo,c))},w=function(nr,wo,Mi,iu){return ci(lT({name:nr,icon:G.some(nr),tooltip:G.some(wo),disabled:iu,primary:!1,borderless:!1},Mi,c))},M=function(nr,wo){nr.map(function(Mi){var iu=Mi.get(wo);iu.hasConfigured(Mr)&&Mr.disable(iu)})},E=function(nr,wo){nr.map(function(Mi){var iu=Mi.get(wo);iu.hasConfigured(Mr)&&Mr.enable(iu)})},N={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},j=A,U=function(nr,wo,Mi){Ir(nr,wo,Mi)},K=function(nr){return Mo(nr,Fa.disable())},oe=function(nr){return Mo(nr,Fa.enable())},se=function(nr,wo){K(nr),U(nr,Ys.transform(),{transform:wo}),oe(nr)},be=function(nr,wo){K(nr),U(nr,Ys.tempTransform(),{transform:wo}),oe(nr)},_e=function(nr){return function(){UE.getOpt(nr).each(function(wo){Zr.set(wo,[jE])})}},Ee=function(nr,wo){K(nr),U(nr,Ys.transformApply(),{transform:wo,swap:_e(nr)}),oe(nr)},Ve=function(){return p("Back",function(nr){return U(nr,Ys.back(),{swap:_e(nr)})},!1,!1)},ft=function(){return ci({dom:{tag:"div",classes:["tox-spacer"]},behaviours:zn([Mr.config({})])})},Be=function(){return p("Apply",function(nr){return U(nr,Ys.apply(),{swap:_e(nr)})},!0,!0)},ht=function(){return function(nr){var wo=a.getRect();return h$(nr,wo.x,wo.y,wo.w,wo.h)}},Wt=[Ve(),ft(),p("Apply",function(nr){var wo=ht();Ee(nr,wo),a.hideCrop()},!1,!0)],Kt=yl.sketch({dom:N,components:Wt.map(function(nr){return nr.asSpec()}),containerBehaviours:zn([po("image-tools-crop-buttons-events",[fn(Fa.disable(),function(nr,wo){M(Wt,nr)}),fn(Fa.enable(),function(nr,wo){E(Wt,nr)})])])}),ct=ci($R({name:"size",label:G.none(),constrain:!0,disabled:!1},c)),Lt=function(nr,wo){return function(Mi){return p$(Mi,nr,wo)}},rn=[Ve(),ft(),ct,ft(),p("Apply",function(nr){ct.getOpt(nr).each(function(wo){var Mi=qn.getValue(wo),iu=parseInt(Mi.width,10),Bf=parseInt(Mi.height,10),zf=Lt(iu,Bf);Ee(nr,zf)})},!1,!0)],$n=yl.sketch({dom:N,components:rn.map(function(nr){return nr.asSpec()}),containerBehaviours:zn([po("image-tools-resize-buttons-events",[fn(Fa.disable(),function(nr,wo){M(rn,nr)}),fn(Fa.enable(),function(nr,wo){E(rn,nr)})])])}),cn=function(nr,wo){return function(Mi){return nr(Mi,wo)}},Xn=cn(IR,"h"),mn=cn(IR,"v"),nn=cn(t8,-90),jn=cn(t8,90),gr=function(nr,wo){be(nr,wo)},dn=[Ve(),ft(),w("flip-horizontally","Flip horizontally",function(nr){gr(nr,Xn)},!1),w("flip-vertically","Flip vertically",function(nr){gr(nr,mn)},!1),w("rotate-left","Rotate counterclockwise",function(nr){gr(nr,nn)},!1),w("rotate-right","Rotate clockwise",function(nr){gr(nr,jn)},!1),ft(),Be()],cr=yl.sketch({dom:N,components:dn.map(function(nr){return nr.asSpec()}),containerBehaviours:zn([po("image-tools-fliprotate-buttons-events",[fn(Fa.disable(),function(nr,wo){M(dn,nr)}),fn(Fa.enable(),function(nr,wo){E(dn,nr)})])])}),wr=function(nr,wo,Mi,iu,Bf){var zf=bd.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:c.translate(nr)}}),yp=bd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),WE=bd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ci(bd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Mi,maxX:Bf,getInitialValue:L({x:iu})},components:[zf,yp,WE],sliderBehaviours:zn([$r.config({})]),onChoose:wo}))},Ho=function(nr,wo,Mi,iu,Bf){var zf=function(yp,WE,PY){var NY=cn(wo,PY.x/100);se(yp,NY)};return wr(nr,zf,Mi,iu,Bf)},wi=function(nr,wo,Mi,iu,Bf){return[Ve(),Ho(nr,wo,Mi,iu,Bf),Be()]},Ea=function(nr,wo,Mi,iu,Bf){var zf=wi(nr,wo,Mi,iu,Bf);return yl.sketch({dom:N,components:zf.map(function(yp){return yp.asSpec()}),containerBehaviours:zn([po("image-tools-filter-panel-buttons-events",[fn(Fa.disable(),function(yp,WE){M(zf,yp)}),fn(Fa.enable(),function(yp,WE){E(zf,yp)})])])})},vp=[Ve(),ft(),Be()],hh=yl.sketch({dom:N,components:vp.map(function(nr){return nr.asSpec()})}),MY=Ea("Brightness",f$,-100,0,100),kY=Ea("Contrast",d$,-100,0,100),F7=Ea("Gamma",l$,-100,0,100),DY=function(nr,wo,Mi){return function(iu){return c$(iu,nr,wo,Mi)}},CP=function(nr){var wo=function(Mi,iu,Bf){var zf=H7.getOpt(Mi),yp=V7.getOpt(Mi),WE=TP.getOpt(Mi);zf.each(function(PY){yp.each(function(NY){WE.each(function(K_e){var J_e=qn.getValue(PY).x/100,Q_e=qn.getValue(K_e).x/100,Z_e=qn.getValue(NY).x/100,eSe=DY(J_e,Q_e,Z_e);se(Mi,eSe)})})})};return wr(nr,wo,0,100,200)},H7=CP("R"),TP=CP("G"),V7=CP("B"),Rm=[Ve(),H7,TP,V7,Be()],MP=yl.sketch({dom:N,components:Rm.map(function(nr){return nr.asSpec()})}),Lf=function(nr,wo,Mi){return function(iu){var Bf=function(){UE.getOpt(iu).each(function(zf){Zr.set(zf,[nr]),Mi(zf)})};U(iu,Ys.swap(),{transform:wo,swap:Bf})}},AY=function(nr){a.showCrop()},EY=function(nr){ct.getOpt(nr).each(function(wo){var Mi=a.getMeasurements(),iu=Mi.width,Bf=Mi.height;qn.setValue(wo,{width:iu,height:Bf})})},OY=G.some(s$),Fl=G.some(u$),p2=[w("crop","Crop",Lf(Kt,G.none(),AY),!1),w("resize","Resize",Lf($n,G.none(),EY),!1),w("orientation","Orientation",Lf(cr,G.none(),j),!1),w("brightness","Brightness",Lf(MY,G.none(),j),!1),w("sharpen","Sharpen",Lf(hh,OY,j),!1),w("contrast","Contrast",Lf(kY,G.none(),j),!1),w("color-levels","Color levels",Lf(MP,G.none(),j),!1),w("gamma","Gamma",Lf(F7,G.none(),j),!1),w("invert","Invert",Lf(hh,Fl,j),!1)],jE=yl.sketch({dom:N,components:p2.map(function(nr){return nr.asSpec()})}),IY=yl.sketch({dom:{tag:"div"},components:[jE],containerBehaviours:zn([Zr.config({})])}),UE=ci(IY),RY=function(nr){return UE.getOpt(nr).map(function(wo){var Mi=wo.components()[0];return Mi.components()[Mi.components().length-1]})};return{memContainer:UE,getApplyButton:RY}},_E=tinymce.util.Tools.resolve("tinymce.geom.Rect"),d8=tinymce.util.Tools.resolve("tinymce.util.Observable"),ib=tinymce.util.Tools.resolve("tinymce.util.VK"),SE=function(a){var c=Math.max,p=a.documentElement,w=a.body,M=c(p.scrollWidth,w.scrollWidth),E=c(p.clientWidth,w.clientWidth),N=c(p.offsetWidth,w.offsetWidth),j=c(p.scrollHeight,w.scrollHeight),U=c(p.clientHeight,w.clientHeight),K=c(p.offsetHeight,w.offsetHeight);return{width:M<N?E:M,height:j<K?U:j}},V$=function(a){return b(a.changedTouches)},a2=function(a){if(V$(a))for(var c="screenX screenY pageX pageY clientX clientY".split(" "),p=0;p<c.length;p++)a[c[p]]=a.changedTouches[0][c[p]]};function j$(a,c){var p,w,M,E,N=[],j=[],U=(p=c.document)!==null&&p!==void 0?p:document,K=(w=c.root)!==null&&w!==void 0?w:U,oe=He.fromDom(U),se,be,_e,Ee=He.fromDom(K.getElementById((M=c.handle)!==null&&M!==void 0?M:a)),Ve=function(Wt){var Kt=Wt.raw,ct=SE(U);a2(Kt),Wt.prevent(),se=Kt.button,be=Kt.screenX,_e=Kt.screenY;var Lt=Ma(Ee,"cursor");E=He.fromTag("div",U),Gl(E,{position:"absolute",top:"0",left:"0",width:ct.width+"px",height:ct.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:Lt}),Ts(ni(oe),E),j.push(Ya(oe,"mousemove",ft),Ya(oe,"touchmove",ft),Ya(oe,"mouseup",Be),Ya(oe,"touchend",Be)),c.start(Kt)},ft=function(Wt){var Kt=Wt.raw;if(a2(Kt),Kt.button!==se)return Be(Wt);Kt.deltaX=Kt.screenX-be,Kt.deltaY=Kt.screenY-_e,Wt.prevent(),c.drag(Kt)},Be=function(Wt){a2(Wt.raw),je(j,function(Kt){return Kt.unbind()}),j=[],Ml(E),c.stop&&c.stop(Wt.raw)},ht=function(){je(j.concat(N),function(Wt){return Wt.unbind()}),j=[],N=[],b(E)&&Ml(E)};return N.push(Ya(Ee,"mousedown",Ve),Ya(Ee,"touchstart",Ve)),{destroy:ht}}var fT=0,h8=function(a,c,p,w,M){var E,N=[],j="tox-",U=j+"crid-"+fT++,K=He.fromDom(w),oe=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],se=["top","right","bottom","left"],be=function(cn,Xn){return{x:Xn.x+cn.x,y:Xn.y+cn.y,w:Xn.w,h:Xn.h}},_e=function(cn,Xn){return{x:Xn.x-cn.x,y:Xn.y-cn.y,w:Xn.w,h:Xn.h}},Ee=function(){return _e(p,a)},Ve=function(cn,Xn,mn,nn){var jn=Xn.x+mn*cn.deltaX,gr=Xn.y+nn*cn.deltaY,dn=Math.max(20,Xn.w+mn*cn.deltaW),cr=Math.max(20,Xn.h+nn*cn.deltaH),wr=a=_E.clamp({x:jn,y:gr,w:dn,h:cr},p,cn.name==="move");wr=_e(p,wr),$n.fire("updateRect",{rect:wr}),ct(wr)},ft=function(){var cn=function(jn){var gr;return j$(U,{document:w.ownerDocument,root:Tr(K).dom,handle:U+"-"+jn.name,start:function(){gr=a},drag:function(dn){Ve(jn,gr,dn.deltaX,dn.deltaY)}})},Xn=He.fromTag("div");$l(Xn,{id:U,class:j+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Ts(K,Xn),je(se,function(jn){pu(K,"#"+U).each(function(gr){var dn=He.fromTag("div");$l(dn,{id:U+"-"+jn,class:j+"croprect-block","data-mce-bogus":"all"}),Wr(dn,"display","none"),Ts(gr,dn)})}),je(oe,function(jn){pu(K,"#"+U).each(function(gr){var dn=He.fromTag("div");$l(dn,{id:U+"-"+jn.name,"aria-label":jn.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:jn.label}),Yh(dn,[j+"croprect-handle",j+"croprect-handle-"+jn.name]),Wr(dn,"display","none"),Ts(gr,dn)})}),E=Ye(oe,cn),ht(a);var mn=function(jn){so(jn.target,"aria-grabbed",jn.raw.type==="focus"?"true":"false")},nn=function(jn){var gr;je(oe,function(cr){if(ua(jn.target,"id")===U+"-"+cr.name)return gr=cr,!1});var dn=function(cr,wr,Ho,wi,Ea){cr.stopPropagation(),cr.preventDefault(),Ve(gr,Ho,wi,Ea)};switch(jn.raw.keyCode){case ib.LEFT:dn(jn,gr,a,-10,0);break;case ib.RIGHT:dn(jn,gr,a,10,0);break;case ib.UP:dn(jn,gr,a,0,-10);break;case ib.DOWN:dn(jn,gr,a,0,10);break;case ib.ENTER:case ib.SPACEBAR:jn.prevent(),M();break}};N.push(Ya(K,"focusin",mn),Ya(K,"focusout",mn),Ya(K,"keydown",nn))},Be=function(cn){var Xn=Ce(Ce([],Ye(oe,function(nn){return"#"+U+"-"+nn.name}),!0),Ye(se,function(nn){return"#"+U+"-"+nn}),!0).join(","),mn=Ru(K,Xn);cn?je(mn,function(nn){return ri(nn,"display")}):je(mn,function(nn){return Wr(nn,"display","none")})},ht=function(cn){var Xn=function(mn,nn){pu(K,"#"+U+"-"+mn).each(function(jn){Gl(jn,{left:nn.x+"px",top:nn.y+"px",width:Math.max(0,nn.w)+"px",height:Math.max(0,nn.h)+"px"})})};je(oe,function(mn){pu(K,"#"+U+"-"+mn.name).each(function(nn){Gl(nn,{left:cn.w*mn.xMul+cn.x+"px",top:cn.h*mn.yMul+cn.y+"px"})})}),Xn("top",{x:c.x,y:c.y,w:c.w,h:cn.y-c.y}),Xn("right",{x:cn.x+cn.w,y:cn.y,w:c.w-cn.x-cn.w+c.x,h:cn.h}),Xn("bottom",{x:c.x,y:cn.y+cn.h,w:c.w,h:c.h-cn.y-cn.h+c.y}),Xn("left",{x:c.x,y:cn.y,w:cn.x-c.x,h:cn.h}),Xn("move",cn)},Wt=function(cn){a=cn,ht(a)},Kt=function(cn){c=cn,ht(a)},ct=function(cn){Wt(be(p,cn))},Lt=function(cn){p=cn,ht(a)},rn=function(){je(E,function(cn){return cn.destroy()}),E=[],je(N,function(cn){return cn.unbind()}),N=[]};ft();var $n=ne(ne({},d8),{toggleVisibility:Be,setClampRect:Lt,setRect:Wt,getInnerRect:Ee,setInnerRect:ct,setViewPortRect:Kt,destroy:rn});return $n},xd={create:h8},U$=function(a){return new AC(function(c){var p=function(){a.removeEventListener("load",p),c(a)};a.complete?c(a):a.addEventListener("load",p)})},p8=function(a){var c=ci({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),p=Er(1),w=vk(),M=Er({x:0,y:0,w:1,h:1}),E=Er({x:0,y:0,w:1,h:1}),N=function(ft,Be){Ee.getOpt(ft).each(function(ht){var Wt=p.get(),Kt=Cs(ht.element),ct=cu(ht.element),Lt=Be.dom.naturalWidth*Wt,rn=Be.dom.naturalHeight*Wt,$n=Math.max(0,Kt/2-Lt/2),cn=Math.max(0,ct/2-rn/2),Xn={left:$n.toString()+"px",top:cn.toString()+"px",width:Lt.toString()+"px",height:rn.toString()+"px",position:"absolute"};Gl(Be,Xn),c.getOpt(ht).each(function(mn){Gl(mn.element,Xn)}),w.run(function(mn){var nn=M.get();mn.setRect({x:nn.x*Wt+$n,y:nn.y*Wt+cn,w:nn.w*Wt,h:nn.h*Wt}),mn.setClampRect({x:$n,y:cn,w:Lt,h:rn}),mn.setViewPortRect({x:0,y:0,w:Kt,h:ct})})})},j=function(ft,Be){Ee.getOpt(ft).each(function(ht){var Wt=Cs(ht.element),Kt=cu(ht.element),ct=Be.dom.naturalWidth,Lt=Be.dom.naturalHeight,rn=Math.min(Wt/ct,Kt/Lt);rn>=1?p.set(1):p.set(rn)})},U=function(ft,Be){var ht=He.fromTag("img");return so(ht,"src",Be),U$(ht.dom).then(function(){ft.getSystem().isConnected()&&Ee.getOpt(ft).map(function(Wt){var Kt=qy({element:ht});Zr.replaceAt(Wt,1,G.some(Kt));var ct=E.get(),Lt={x:0,y:0,w:ht.dom.naturalWidth,h:ht.dom.naturalHeight};E.set(Lt);var rn=_E.inflate(Lt,-20,-20);M.set(rn),(ct.w!==Lt.w||ct.h!==Lt.h)&&j(Wt,ht),N(Wt,ht)})})},K=function(ft,Be){var ht=p.get(),Wt=Be>0?Math.min(2,ht+.1):Math.max(.1,ht-.1);p.set(Wt),Ee.getOpt(ft).each(function(Kt){var ct=Kt.components()[1].element;N(Kt,ct)})},oe=function(){w.run(function(ft){ft.toggleVisibility(!0)})},se=function(){w.run(function(ft){ft.toggleVisibility(!1)})},be=function(){return M.get()},_e=yl.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[c.asSpec(),{dom:{tag:"img",attributes:{src:a}}},{dom:{tag:"div"},behaviours:zn([po("image-panel-crop-events",[da(function(ft){Ee.getOpt(ft).each(function(Be){var ht=Be.element.dom,Wt=xd.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},ht,A);Wt.toggleVisibility(!1),Wt.on("updateRect",function(Kt){var ct=Kt.rect,Lt=p.get(),rn={x:Math.round(ct.x/Lt),y:Math.round(ct.y/Lt),w:Math.round(ct.w/Lt),h:Math.round(ct.h/Lt)};M.set(rn)}),w.set(Wt)})}),ec(function(){w.clear()})])])}],containerBehaviours:zn([Zr.config({}),po("image-panel-events",[da(function(ft){U(ft,a)})])])}),Ee=ci(_e),Ve=function(){var ft=E.get();return{width:ft.w,height:ft.h}};return{memContainer:Ee,updateSrc:U,zoom:K,showCrop:oe,hideCrop:se,getRect:be,getMeasurements:Ve}},CE=function(a,c,p,w,M){return lT({name:a,icon:G.some(c),disabled:p,tooltip:G.some(a),primary:!1,borderless:!1},w,M)},m8=function(a,c){c?Mr.enable(a):Mr.disable(a)},W$=function(a){var c=function(E,N,j){p.getOpt(E).each(function(U){m8(U,N)}),w.getOpt(E).each(function(U){m8(U,j)})},p=ci(CE("Undo","undo",!0,function(E){Ir(E,Ys.undo(),{direction:1})},a)),w=ci(CE("Redo","redo",!0,function(E){Ir(E,Ys.redo(),{direction:1})},a)),M=yl.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[p.asSpec(),w.asSpec(),CE("Zoom in","zoom-in",!1,function(E){Ir(E,Ys.zoom(),{direction:1})},a),CE("Zoom out","zoom-out",!1,function(E){Ir(E,Ys.zoom(),{direction:-1})},a)]});return{container:M,updateButtonUndoStates:c}};function q$(){var a=[],c=-1,p=function(j){var U=a.splice(++c);return a.push(j),{state:j,removed:U}},w=function(){if(E())return a[--c]},M=function(){if(N())return a[++c]},E=function(){return c>0},N=function(){return c!==-1&&c<a.length-1};return{data:a,add:p,undo:w,redo:M,canUndo:E,canRedo:N}}var $$=function(a){var c=Er(a),p=Ba(),w=q$();w.add(a);var M=function(){return c.get()},E=function(ht){c.set(ht)},N=function(){return p.get().getOrThunk(c.get)},j=function(ht){var Wt=U(ht);return se(),p.set(Wt),Wt.url},U=function(ht){return{blob:ht,url:URL.createObjectURL(ht)}},K=function(ht){URL.revokeObjectURL(ht.url)},oe=function(ht){Mm.each(ht,K)},se=function(){p.on(K),p.clear()},be=function(ht){var Wt=U(ht);E(Wt);var Kt=w.add(Wt).removed;return oe(Kt),Wt.url},_e=function(ht){var Wt=U(ht);return p.set(Wt),Wt.url},Ee=function(ht){return p.get().fold(A,function(Wt){be(Wt.blob),ht()})},Ve=function(){var ht=w.undo();return E(ht),ht.url},ft=function(){var ht=w.redo();return E(ht),ht.url},Be=function(){var ht=w.canUndo(),Wt=w.canRedo();return{undoEnabled:ht,redoEnabled:Wt}};return{getBlobState:M,setBlobState:E,addBlobState:be,getTempState:N,updateTempState:j,addTempState:_e,applyTempState:Ee,destroyTempState:se,undo:Ve,redo:ft,getHistoryStates:Be}},G$=function(a,c){var p=$$(a.currentState),w=function(mn,nn){var jn=nn.event.direction;rn.zoom(mn,jn)},M=function(mn){var nn=p.getHistoryStates();$n.updateButtonUndoStates(mn,nn.undoEnabled,nn.redoEnabled),Ir(mn,Fa.formActionEvent,{name:Fa.saveState(),value:nn.undoEnabled})},E=function(mn){$n.updateButtonUndoStates(mn,!1,!1)},N=function(mn,nn){var jn=p.undo();se(mn,jn).then(function(gr){oe(mn),M(mn)})},j=function(mn,nn){var jn=p.redo();se(mn,jn).then(function(gr){oe(mn),M(mn)})},U=function(mn){return mn.toBlob()},K=function(mn){Ir(mn,Fa.formActionEvent,{name:Fa.disable(),value:{}})},oe=function(mn){cn.getApplyButton(mn).each(function(nn){Mr.enable(nn)}),Ir(mn,Fa.formActionEvent,{name:Fa.enable(),value:{}})},se=function(mn,nn){return K(mn),rn.updateSrc(mn,nn)},be=function(mn,nn,jn,gr,dn){K(mn),qq(nn).then(jn).then(U).then(gr).then(function(cr){return se(mn,cr)}).then(function(){M(mn),dn(),oe(mn)}).catch(function(cr){console.log(cr),mn.getSystem().isConnected()&&oe(mn)})},_e=function(mn,nn,jn){var gr=p.getBlobState().blob,dn=function(cr){return p.updateTempState(cr)};be(mn,gr,nn,dn,jn)},Ee=function(mn,nn){var jn=p.getTempState().blob,gr=function(dn){return p.addTempState(dn)};be(mn,jn,nn,gr,A)},Ve=function(mn,nn,jn){var gr=p.getBlobState().blob,dn=function(cr){var wr=p.addBlobState(cr);return Be(mn),wr};be(mn,gr,nn,dn,jn)},ft=function(mn,nn){var jn=function(){Be(mn);var gr=nn.event.swap;gr()};p.applyTempState(jn)},Be=function(mn){var nn=p.getBlobState().url;return p.destroyTempState(),M(mn),nn},ht=function(mn){var nn=Be(mn);se(mn,nn).then(function(jn){oe(mn)})},Wt=function(mn,nn){ht(mn);var jn=nn.event.swap;jn(),rn.hideCrop()},Kt=function(mn,nn){return _e(mn,nn.event.transform,A)},ct=function(mn,nn){return Ee(mn,nn.event.transform)},Lt=function(mn,nn){return Ve(mn,nn.event.transform,nn.event.swap)},rn=p8(a.currentState.url),$n=W$(c),cn=H$(rn,c),Xn=function(mn,nn){E(mn);var jn=nn.event.transform,gr=nn.event.swap;jn.fold(function(){gr()},function(dn){_e(mn,dn,gr)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[cn.memContainer.asSpec(),rn.memContainer.asSpec(),$n.container],behaviours:zn([qn.config({store:{mode:"manual",getValue:function(){return p.getBlobState()}}}),po("image-tools-events",[fn(Ys.undo(),N),fn(Ys.redo(),j),fn(Ys.zoom(),w),fn(Ys.back(),Wt),fn(Ys.apply(),ft),fn(Ys.transform(),Kt),fn(Ys.tempTransform(),ct),fn(Ys.transformApply(),Lt),fn(Ys.swap(),Xn)]),hp.self()])}},X$=function(a,c){var p={dom:{tag:"label",innerHtml:c.providers.translate(a.label),classes:["tox-label"]}},w=Ye(a.items,c.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[p].concat(w),behaviours:zn([hp.self(),Zr.config({}),nb.domHtml(G.none()),Rr.config({mode:"acyclic"})])}},GR=function(a){return!ln(a,"items")},g8="data-value",XR=function(a,c,p,w){return Ye(p,function(M){return GR(M)?{type:"togglemenuitem",text:M.text,value:M.value,active:M.value===w,onAction:function(){qn.setValue(a,M.value),Ir(a,Kc,{name:c}),$r.focus(a)}}:{type:"nestedmenuitem",text:M.text,getSubmenuItems:function(){return XR(a,c,M.items,w)}}})},YR=function(a,c){return vt(a,function(p){return GR(p)?Si(p.value===c,p):YR(p.items,c)})},v8=function(a,c){var p=c.shared.providers,w=gn(a.items).filter(GR),M=a.label.map(function(j){return W0(j,p)}),E=Ko.parts.field({dom:{},factory:{sketch:function(j){return zR({uid:j.uid,text:w.map(function(U){return U.text}),icon:G.none(),tooltip:a.label,role:G.none(),fetch:function(U,K){var oe=XR(U,a.name,a.items,qn.getValue(U));K(o2(oe,lp.CLOSE_ON_EXECUTE,c,!1))},onSetup:L(A),getApi:L({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ru.config({}),qn.config({store:{mode:"manual",initialValue:w.map(function(U){return U.value}).getOr(""),getValue:function(U){return ua(U.element,g8)},setValue:function(U,K){YR(a.items,K).each(function(oe){so(U.element,g8,oe.value),Ir(U,rb,{text:oe.text})})}}})]},"tox-listbox",c.shared)}}}),N={dom:{tag:"div",classes:["tox-listboxfield"]},components:[E]};return Ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ke([M.toArray(),[N]]),fieldBehaviours:zn([Mr.config({disabled:L(a.disabled),onDisabled:function(j){Ko.getField(j).each(Mr.disable)},onEnabled:function(j){Ko.getField(j).each(Mr.enable)}})])})},Y$=function(a,c){return{dom:{tag:"div",classes:a.classes},components:Ye(a.items,c.shared.interpreter)}},y8=function(a,c){var p=Ye(a.options,function(M){return{dom:{tag:"option",value:M.value,innerHtml:M.text}}}),w=a.data.map(function(M){return Vd("initialValue",M)}).getOr({});return{uid:a.uid,dom:{tag:"select",classes:a.selectClasses,attributes:a.selectAttributes},components:p,behaviours:Nu(a.selectBehaviours,[$r.config({}),qn.config({store:ne({mode:"manual",getValue:function(M){return nc(M.element)},setValue:function(M,E){var N=Rt(a.options,function(j){return j.value===E});N.isSome()&&r0(M.element,E)}},w)})])}},K$=uc({name:"HtmlSelect",configFields:[on("options"),Pu("selectBehaviours",[$r,qn]),dt("selectClasses",[]),dt("selectAttributes",{}),oi("data")],factory:y8}),J$=function(a,c){var p=Ye(a.items,function(j){return{text:c.translate(j.text),value:j.value}}),w=a.label.map(function(j){return W0(j,c)}),M=Ko.parts.field({dom:{},selectAttributes:{size:a.size},options:p,factory:K$,selectBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),ru.config({}),po("selectbox-change",[fn(Gv(),function(j,U){Ir(j,Kc,{name:a.name})})])])}),E=a.size>1?G.none():G.some(sp("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},c.icons)),N={dom:{tag:"div",classes:["tox-selectfield"]},components:Ke([[M],E.toArray()])};return Ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ke([w.toArray(),[N]]),fieldBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()},onDisabled:function(j){Ko.getField(j).each(Mr.disable)},onEnabled:function(j){Ko.getField(j).each(Mr.enable)}}),Bu()])})},Q$=function(a,c){var p=function(j){return{dom:{tag:"th",innerHtml:c.translate(j)}}},w=function(j){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Ye(j,p)}]}},M=function(j){return{dom:{tag:"td",innerHtml:c.translate(j)}}},E=function(j){return{dom:{tag:"tr"},components:Ye(j,M)}},N=function(j){return{dom:{tag:"tbody"},components:Ye(j,E)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[w(a.header),N(a.cells)],behaviours:zn([ru.config({}),$r.config({})])}},b8=function(a,c){var p=a.label.map(function(be){return W0(be,c)}),w=[Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),Bu(),Rr.config({mode:"execution",useEnter:a.multiline!==!0,useControlEnter:a.multiline===!0,execute:function(be){return Mo(be,Gw),G.some(!0)}}),po("textfield-change",[fn(lg(),function(be,_e){Ir(be,Kc,{name:a.name})}),fn(S_(),function(be,_e){Ir(be,Kc,{name:a.name})})]),ru.config({})],M=a.validation.map(function(be){return Sm.config({getRoot:function(_e){return aa(_e.element)},invalidClass:"tox-invalid",validator:{validate:function(_e){var Ee=qn.getValue(_e),Ve=be.validator(Ee);return Is.pure(Ve===!0?fo.value(Ee):fo.error(Ve))},validateOnLoad:be.validateOnLoad}})}).toArray(),E=a.placeholder.fold(L({}),function(be){return{placeholder:c.translate(be)}}),N=a.inputMode.fold(L({}),function(be){return{inputmode:be}}),j=ne(ne({},E),N),U=Ko.parts.field({tag:a.multiline===!0?"textarea":"input",inputAttributes:j,inputClasses:[a.classname],inputBehaviours:zn(Ke([w,M])),selectOnFocus:!1,factory:YC}),K=a.flex?["tox-form__group--stretched"]:[],oe=K.concat(a.maximized?["tox-form-group--maximize"]:[]),se=[Mr.config({disabled:function(){return a.disabled||c.isDisabled()},onDisabled:function(be){Ko.getField(be).each(Mr.disable)},onEnabled:function(be){Ko.getField(be).each(Mr.enable)}}),Bu()];return XC(p,U,oe,se)},Z$=function(a,c){return b8({name:a.name,multiline:!1,label:a.label,inputMode:a.inputMode,placeholder:a.placeholder,flex:!1,disabled:a.disabled,classname:"tox-textfield",validation:G.none(),maximized:a.maximized},c)},eG=function(a,c){return b8({name:a.name,multiline:!0,label:a.label,inputMode:G.none(),placeholder:a.placeholder,flex:!0,disabled:a.disabled,classname:"tox-textarea",validation:G.none(),maximized:a.maximized},c)},tG=function(a,c){var p=a.stream.streams,w=p.setup(a,c);return $i([fn(a.event,w),ec(function(){return c.cancel()})].concat(a.cancelEvent.map(function(M){return[fn(M,function(){return c.cancel()})]}).getOr([])))},nG=Object.freeze({__proto__:null,events:tG}),x8=function(a){var c=Er(null),p=function(){return{timer:c.get()!==null?"set":"unset"}},w=function(E){c.set(E)},M=function(){var E=c.get();E!==null&&E.cancel()};return Gu({readState:p,setTimer:w,cancel:M})},rG=function(a){return a.stream.streams.state(a)},oG=Object.freeze({__proto__:null,throttle:x8,init:rG}),iG=function(a,c){var p=a.stream,w=H4(a.onStream,p.delay);return c.setTimer(w),function(M,E){w.throttle(M,E),p.stopEvent&&E.stop()}},aG=[Al("stream",Lc("mode",{throttle:[on("delay"),dt("stopEvent",!0),Ci("streams",{setup:iG,state:x8})]})),dt("event","input"),oi("cancelEvent"),Tg("onStream")],w8=Xa({fields:aG,name:"streaming",active:nG,state:oG}),dT=function(a,c,p){var w=qn.getValue(p);qn.setValue(c,w),S8(c)},_8=function(a,c){var p=a.element,w=nc(p),M=p.dom;ua(p,"type")!=="number"&&c(M,w)},S8=function(a){_8(a,function(c,p){return c.setSelectionRange(p.length,p.length)})},C8=function(a,c){_8(a,function(p,w){return p.setSelectionRange(c,w.length)})},uG=function(a,c,p){if(a.selectsOver){var w=qn.getValue(c),M=a.getDisplayText(w),E=qn.getValue(p),N=a.getDisplayText(E);return N.indexOf(M)===0?G.some(function(){dT(a,c,p),C8(c,M.length)}):G.none()}else return G.none()},KR=L("alloy.typeahead.itemexecute"),sG=function(a,c,p,w){var M=function(U,K,oe){a.previewing.set(!1);var se=ou.getCoupled(U,"sandbox");if(Lo.isOpen(se))So.getCurrent(se).each(function(_e){ii.getHighlighted(_e).fold(function(){oe(_e)},function(){YM(se,_e.element,"keydown",K)})});else{var be=function(_e){So.getCurrent(_e).each(oe)};ZI(a,N(U),U,se,w,be,ah.HighlightFirst).get(A)}},E=jB(a),N=function(U){return function(K){return K.map(function(oe){var se=jt(oe.menus),be=Bt(se,function(Ee){return Je(Ee.items,function(Ve){return Ve.type==="item"})}),_e=qn.getState(U);return _e.update(Ye(be,function(Ee){return Ee.data})),oe})}},j=[$r.config({}),qn.config({onSetValue:a.onSetValue,store:ne({mode:"dataset",getDataKey:function(U){return nc(U.element)},getFallbackEntry:function(U){return{value:U,meta:{}}},setValue:function(U,K){r0(U.element,a.model.getDisplayText(K))}},a.initialData.map(function(U){return Vd("initialValue",U)}).getOr({}))}),w8.config({stream:{mode:"throttle",delay:a.responseTime,stopEvent:!1},onStream:function(U,K){var oe=ou.getCoupled(U,"sandbox"),se=$r.isFocused(U);if(se&&nc(U.element).length>=a.minChars){var be=So.getCurrent(oe).bind(function(Ee){return ii.getHighlighted(Ee).map(qn.getValue)});a.previewing.set(!0);var _e=function(Ee){So.getCurrent(oe).each(function(Ve){be.fold(function(){a.model.selectsOver&&ii.highlightFirst(Ve)},function(ft){ii.highlightBy(Ve,function(Be){var ht=qn.getValue(Be);return ht.value===ft.value}),ii.getHighlighted(Ve).orThunk(function(){return ii.highlightFirst(Ve),G.none()})})})};ZI(a,N(U),U,oe,w,_e,ah.HighlightFirst).get(A)}},cancelEvent:C_()}),Rr.config({mode:"special",onDown:function(U,K){return M(U,K,ii.highlightFirst),G.some(!0)},onEscape:function(U){var K=ou.getCoupled(U,"sandbox");return Lo.isOpen(K)?(Lo.close(K),G.some(!0)):G.none()},onUp:function(U,K){return M(U,K,ii.highlightLast),G.some(!0)},onEnter:function(U){var K=ou.getCoupled(U,"sandbox"),oe=Lo.isOpen(K);if(oe&&!a.previewing.get())return So.getCurrent(K).bind(function(be){return ii.getHighlighted(be)}).map(function(be){return Ir(U,KR(),{item:be}),!0});var se=qn.getValue(U);return Mo(U,C_()),a.onExecute(K,U,se),oe&&Lo.close(K),G.some(!0)}}),zo.config({toggleClass:a.markers.openClass,aria:{mode:"expanded"}}),ou.config({others:{sandbox:function(U){return eR(a,U,{onOpen:function(){return zo.on(U)},onClose:function(){return zo.off(U)}})}}}),po("typeaheadevents",[_f(function(U){var K=A;Yw(a,N(U),U,w,K,ah.HighlightFirst).get(A)}),fn(KR(),function(U,K){var oe=ou.getCoupled(U,"sandbox");dT(a.model,U,K.event.item),Mo(U,C_()),a.onItemExecute(U,oe,K.event.item,qn.getValue(U)),Lo.close(oe),S8(U)})].concat(a.dismissOnBlur?[fn(__(),function(U){var K=ou.getCoupled(U,"sandbox");Cf(K.element).isNone()&&Lo.close(K)})]:[]))];return{uid:a.uid,dom:UB(Qt(a,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ne(ne({},E),Nu(a.typeaheadBehaviours,j)),eventOrder:a.eventOrder}},lG=L([oi("lazySink"),on("fetch"),dt("minChars",5),dt("responseTime",1e3),_o("onOpen"),dt("getHotspot",G.some),dt("getAnchorOverrides",L({})),dt("layouts",G.none()),dt("eventOrder",{}),h_("model",{},[dt("getDisplayText",function(a){return a.meta!==void 0&&a.meta.text!==void 0?a.meta.text:a.value}),dt("selectsOver",!0),dt("populateFromBrowse",!0)]),_o("onSetValue"),Ni("onExecute"),_o("onItemExecute"),dt("inputClasses",[]),dt("inputAttributes",{}),dt("inputStyles",{}),dt("matchWidth",!0),dt("useMinWidth",!1),dt("dismissOnBlur",!0),Cg(["openClass"]),oi("initialData"),Pu("typeaheadBehaviours",[$r,qn,w8,Rr,zo,ou]),ul("previewing",function(){return Er(!0)})].concat(WA()).concat(tR())),cG=L([Ec({schema:[Sg()],name:"menu",overrides:function(a){return{fakeFocus:!0,onHighlight:function(c,p){a.previewing.get()?c.getSystem().getByUid(a.uid).each(function(w){uG(a.model,w,p).fold(function(){return ii.dehighlight(c,p)},function(M){return M()})}):c.getSystem().getByUid(a.uid).each(function(w){a.model.populateFromBrowse&&dT(a.model,w,p)}),a.previewing.set(!1)},onExecute:function(c,p){return c.getSystem().getByUid(a.uid).toOptional().map(function(w){return Ir(w,KR(),{item:p}),!0})},onHover:function(c,p){a.previewing.set(!1),c.getSystem().getByUid(a.uid).each(function(w){a.model.populateFromBrowse&&dT(a.model,w,p)})}}}})]),fG=ml({name:"Typeahead",configFields:lG(),partFields:cG(),factory:sG}),Zc=function(a){var c=function(){return Zc(a.toCached())},p=function(U){return Zc(a.bind(function(K){return K.fold(function(oe){return Is.pure(fo.error(oe))},function(oe){return U(oe)})}))},w=function(U){return Zc(a.map(function(K){return K.bind(U)}))},M=function(U){return Zc(a.map(function(K){return K.map(U)}))},E=function(U){return Zc(a.map(function(K){return K.mapError(U)}))},N=function(U,K){return a.map(function(oe){return oe.fold(U,K)})},j=function(U,K){return Zc(Is.nu(function(oe){var se=!1,be=setTimeout(function(){se=!0,oe(fo.error(K()))},U);a.get(function(_e){se||(clearTimeout(be),oe(_e))})}))};return ne(ne({},a),{toCached:c,bindFuture:p,bindResult:w,mapResult:M,mapError:E,foldResult:N,withTimeout:j})},T8=function(a){return Zc(Is.nu(a))},M8=function(a){return Zc(Is.pure(fo.value(a)))},dG=function(a){return Zc(Is.pure(fo.error(a)))},hG=function(a){return Zc(Is.pure(a))},pG=function(a){return Zc(a.map(fo.value))},mG=function(a){return T8(function(c){a.then(function(p){c(fo.value(p))},function(p){c(fo.error(p))})})},gG={nu:T8,wrap:Zc,pure:M8,value:M8,error:dG,fromResult:hG,fromFuture:pG,fromPromise:mG},k8={type:"separator"},vG=function(a){return{type:"menuitem",value:a.url,text:a.title,meta:{attach:a.attach},onAction:A}},JR=function(a,c){return{type:"menuitem",value:c,text:a,meta:{attach:void 0},onAction:A}},yG=function(a){return Ye(a,vG)},bG=function(a,c){return Je(c,function(p){return p.type===a})},D8=function(a,c){return yG(bG(a,c))},xG=function(a){return D8("header",a.targets)},wG=function(a){return D8("anchor",a.targets)},A8=function(a){return G.from(a.anchorTop).map(function(c){return JR("<top>",c)}).toArray()},_G=function(a){return G.from(a.anchorBottom).map(function(c){return JR("<bottom>",c)}).toArray()},SG=function(a){return Ye(a,function(c){return JR(c,c)})},CG=function(a){return Ft(a,function(c,p){var w=c.length===0||p.length===0;return w?c.concat(p):c.concat(k8,p)},[])},QR=function(a,c){var p=a.toLowerCase();return Je(c,function(w){var M=w.meta!==void 0&&w.meta.text!==void 0?w.meta.text:w.text;return co(M.toLowerCase(),p)||co(w.value.toLowerCase(),p)})},TG=function(a,c,p){var w=qn.getValue(c),M=w.meta.text!==void 0?w.meta.text:w.value,E=p.getLinkInformation();return E.fold(function(){return[]},function(N){var j=QR(M,SG(p.getHistory(a)));return a==="file"?CG([j,QR(M,xG(N)),QR(M,Ke([A8(N),wG(N),_G(N)]))]):j})},E8=ir("aria-invalid"),O8=function(a,c,p){var w,M=c.shared.providers,E=function(Be){var ht=qn.getValue(Be);p.addToHistory(ht.value,a.filetype)},N=Ko.parts.field({factory:fG,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":E8,type:"url"},minChars:0,responseTime:0,fetch:function(Be){var ht=TG(a.filetype,Be,p),Wt=o2(ht,lp.BUBBLE_TO_SANDBOX,c,!1);return Is.pure(Wt)},getHotspot:function(Be){return _e.getOpt(Be)},onSetValue:function(Be,ht){Be.hasConfigured(Sm)&&Sm.run(Be).get(A)},typeaheadBehaviours:zn(Ke([p.getValidationHandler().map(function(Be){return Sm.config({getRoot:function(ht){return aa(ht.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(ht,Wt){K.getOpt(ht).each(function(Kt){so(Kt.element,"title",M.translate(Wt))})}},validator:{validate:function(ht){var Wt=qn.getValue(ht);return gG.nu(function(Kt){Be({type:a.filetype,url:Wt.value},function(ct){if(ct.status==="invalid"){var Lt=fo.error(ct.message);Kt(Lt)}else{var rn=fo.value(ct.message);Kt(rn)}})})},validateOnLoad:!1}})}).toArray(),[Mr.config({disabled:function(){return a.disabled||M.isDisabled()}}),ru.config({}),po("urlinput-events",Ke([a.filetype==="file"?[fn(lg(),function(Be){Ir(Be,Kc,{name:a.name})})]:[],[fn(Gv(),function(Be){Ir(Be,Kc,{name:a.name}),E(Be)}),fn(S_(),function(Be){Ir(Be,Kc,{name:a.name}),E(Be)})]]))]])),eventOrder:(w={},w[lg()]=["streaming","urlinput-events","invalidating"],w),model:{getDisplayText:function(Be){return Be.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:c.shared.getSink,parts:{menu:CA(!1,1,"normal")},onExecute:function(Be,ht,Wt){Ir(ht,Gw,{})},onItemExecute:function(Be,ht,Wt,Kt){E(Be),Ir(Be,Kc,{name:a.name})}}),j=a.label.map(function(Be){return W0(Be,M)}),U=function(Be,ht,Wt,Kt){return Wt===void 0&&(Wt=Be),Kt===void 0&&(Kt=Be),sp(Wt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Be],attributes:ne({title:M.translate(Kt),"aria-live":"polite"},ht.fold(function(){return{}},function(ct){return{id:ct}}))},M.icons)},K=ci(U("invalid",G.some(E8),"warning")),oe=ci({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[K.asSpec()]}),se=p.getUrlPicker(a.filetype),be=ir("browser.url.event"),_e=ci({dom:{tag:"div",classes:["tox-control-wrap"]},components:[N,oe.asSpec()],behaviours:zn([Mr.config({disabled:function(){return a.disabled||M.isDisabled()}})])}),Ee=ci(UR({name:a.name,icon:G.some("browse"),text:a.label.getOr(""),disabled:a.disabled,primary:!1,borderless:!0},function(Be){return Mo(Be,be)},M,[],["tox-browse-url"])),Ve=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ke([[_e.asSpec()],se.map(function(){return Ee.asSpec()}).toArray()])}},ft=function(Be){So.getCurrent(Be).each(function(ht){var Wt=qn.getValue(ht),Kt=ne({fieldname:a.name},Wt);se.each(function(ct){ct(Kt).get(function(Lt){qn.setValue(ht,Lt),Ir(Be,Kc,{name:a.name})})})})};return Ko.sketch({dom:sW(),components:j.toArray().concat([Ve()]),fieldBehaviours:zn([Mr.config({disabled:function(){return a.disabled||M.isDisabled()},onDisabled:function(Be){Ko.getField(Be).each(Mr.disable),Ee.getOpt(Be).each(Mr.disable)},onEnabled:function(Be){Ko.getField(Be).each(Mr.enable),Ee.getOpt(Be).each(Mr.enable)}}),Bu(),po("url-input-events",[fn(be,ft)])])})},ab=function(a,c){return yl.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+a.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[vl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:XL(a.icon,c.icons),attributes:{title:c.translate(a.iconTooltip)}},action:function(p){Ir(p,wm,{name:"alert-banner",value:a.url})},buttonBehaviours:zn([B4()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:c.translate(a.text)}}]})},TE=function(a,c){var p=qn.config({store:{mode:"manual",getValue:function(U){var K=U.element.dom;return K.checked},setValue:function(U,K){var oe=U.element.dom;oe.checked=K}}}),w=function(U){return U.element.dom.click(),G.some(!0)},M=Ko.parts.field({factory:{sketch:q},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:zn([hp.self(),Mr.config({disabled:function(){return a.disabled||c.isDisabled()}}),ru.config({}),$r.config({}),p,Rr.config({mode:"special",onEnter:w,onSpace:w,stopSpaceKeyup:!0}),po("checkbox-events",[fn(Gv(),function(U,K){Ir(U,Kc,{name:a.name})})])])}),E=Ko.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:c.translate(a.label)},behaviours:zn([KC.config({})])}),N=function(U){var K=U==="checked"?"selected":"unselected";return sp(K,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+U]},c.icons)},j=ci({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[N("checked"),N("unchecked")]});return Ko.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[M,j.asSpec(),E],fieldBehaviours:zn([Mr.config({disabled:function(){return a.disabled||c.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(U){Ko.getField(U).each(Mr.disable)},onEnabled:function(U){Ko.getField(U).each(Mr.enable)}}),Bu()])})},MG=function(a){return a.presets==="presentation"?yl.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:a.html}}):yl.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:a.html,attributes:{role:"document"}},containerBehaviours:zn([ru.config({}),$r.config({})])})},vs=function(a){return function(c,p,w){return Pt(p,"name").fold(function(){return a(p,w)},function(M){return c.field(M,a(p,w))})}},ZR=function(a){return function(c,p,w){var M=Qt(p,{source:"dynamic"});return vs(a)(c,M,w)}},kG={bar:vs(function(a,c){return tW(a,c.shared)}),collection:vs(function(a,c){return XI(a,c.shared.providers)}),alertbanner:vs(function(a,c){return ab(a,c.shared.providers)}),input:vs(function(a,c){return Z$(a,c.shared.providers)}),textarea:vs(function(a,c){return eG(a,c.shared.providers)}),label:vs(function(a,c){return X$(a,c.shared)}),iframe:ZR(function(a,c){return Lq(a,c.shared.providers)}),button:vs(function(a,c){return WR(a,c.shared.providers)}),checkbox:vs(function(a,c){return TE(a,c.shared.providers)}),colorinput:vs(function(a,c){return nR(a,c.shared,c.colorinput)}),colorpicker:vs(kq),dropzone:vs(function(a,c){return Rq(a,c.shared.providers)}),grid:vs(function(a,c){return Vz(a,c.shared)}),listbox:vs(function(a,c){return v8(a,c)}),selectbox:vs(function(a,c){return J$(a,c.shared.providers)}),sizeinput:vs(function(a,c){return $R(a,c.shared.providers)}),urlinput:vs(function(a,c){return O8(a,c,c.urlinput)}),customeditor:vs(mE),htmlpanel:vs(MG),imagetools:vs(function(a,c){return G$(a,c.shared.providers)}),table:vs(function(a,c){return Q$(a,c.shared.providers)}),panel:vs(function(a,c){return Y$(a,c)})},DG={field:function(a,c){return c}},eP=function(a,c,p){var w=Qt(p,{shared:{interpreter:function(M){return ME(a,M,w)}}});return ME(a,c,w)},ME=function(a,c,p){return Pt(kG,c.type).fold(function(){return console.error('Unknown factory type "'+c.type+'", defaulting to container: ',c),c},function(w){return w(a,c,p)})},AG=function(a,c){var p=DG;return ME(p,a,c)},I8={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},EG=function(a,c,p){var w=12,M={maxHeightFunction:d0()},E=function(){return{type:"node",root:Ln(a()),node:G.from(a()),bubble:nm(w,w,I8),layouts:{onRtl:function(){return[nv]},onLtr:function(){return[B1]}},overrides:M}},N=function(){return{type:"hotspot",hotspot:c(),bubble:nm(-w,w,I8),layouts:{onRtl:function(){return[Es]},onLtr:function(){return[Su]}},overrides:M}};return function(){return p()?E():N()}},OG=function(a,c,p){var w=function(){return{type:"node",root:Ln(a()),node:G.from(a()),layouts:{onRtl:function(){return[Ef]},onLtr:function(){return[Ef]}}}},M=function(){return{type:"hotspot",hotspot:c(),layouts:{onRtl:function(){return[ds]},onLtr:function(){return[ds]}}}};return function(){return p()?w():M()}},IG=function(a,c){return function(){return{type:"selection",root:c(),getSelection:function(){var p=a.selection.getRng();return G.some(m0.range(He.fromDom(p.startContainer),p.startOffset,He.fromDom(p.endContainer),p.endOffset))}}}},R8=function(a){return function(c){return{type:"node",root:a(),node:c}}},RG=function(a,c,p){var w=OA(a),M=function(){return He.fromDom(a.getBody())},E=function(){return He.fromDom(a.getContentAreaContainer())},N=function(){return w||!p()};return{inlineDialog:EG(E,c,N),banner:OG(E,c,N),cursor:IG(a,M),node:R8(M)}},P8=function(a){return function(c,p){var w=SB(a);w(c,p)}},PG=function(a){return function(){return BA(a)}},NG=function(a){return function(){return BI(a)}},tP=function(a){return function(){return yB(a)}},nP=function(a){return{colorPicker:P8(a),hasCustomColors:PG(a),getColors:NG(a),getColorCols:tP(a)}},hT=function(a){return function(){return Bj(a)}},LG=function(a){return{isDraggableModal:hT(a)}},BG=function(a){var c=Er(V6(a)?"bottom":"top");return{isPositionedAtTop:function(){return c.get()==="top"},getDockingMode:c.get,setDockingMode:c.set}},N8=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],zG=function(a){return ln(a,"items")},FG=function(a){return ln(a,"block")},L8=function(a){return ln(a,"inline")},B8=function(a){return ln(a,"selector")},rP=function(a){return Ft(a,function(c,p){if(zG(p)){var w=rP(p.items);return{customFormats:c.customFormats.concat(w.customFormats),formats:c.formats.concat([{title:p.title,items:w.formats}])}}else if(L8(p)||FG(p)||B8(p)){var M=i(p.name)?p.name:p.title.toLowerCase(),E="custom-"+M;return{customFormats:c.customFormats.concat([{name:E,format:p}]),formats:c.formats.concat([{title:p.title,format:E,icon:p.icon}])}}else return ne(ne({},c),{formats:c.formats.concat(p)})},{customFormats:[],formats:[]})},HG=function(a,c){var p=rP(c),w=function(M){je(M,function(E){a.formatter.has(E.name)||a.formatter.register(E.name,E.format)})};return a.formatter?w(p.customFormats):a.on("init",function(){w(p.customFormats)}),p.formats},z8=function(a){return z6(a).map(function(c){var p=HG(a,c);return F6(a)?N8.concat(p):p}).getOr(N8)},F8=function(a,c,p){var w={type:"formatter",isSelected:c(a.format),getStylePreview:p(a.format)};return Qt(a,w)},H8=function(a,c,p,w){var M=function(U){return F8(U,p,w)},E=function(U){var K={type:"submenu"};return Qt(U,K)},N=function(U){var K=i(U.name)?U.name:ir(U.title),oe="custom-"+K,se={type:"formatter",format:oe,isSelected:p(oe),getStylePreview:w(oe)},be=Qt(U,se);return a.formatter.register(K,be),be},j=function(U){return Ye(U,function(K){var oe=Tt(K);if(Kn(K,"items")){var se=j(K.items);return Qt(E(K),{getStyleItems:L(se)})}else return Kn(K,"format")?M(K):oe.length===1&&Ot(oe,"title")?Qt(K,{type:"separator"}):N(K)})};return j(c)},VG=function(a){var c=function(se){return function(){return a.formatter.match(se)}},p=function(se){return function(){var be=a.formatter.get(se);return be!==void 0?G.some({tag:be.length>0&&(be[0].inline||be[0].block)||"div",styles:a.dom.parseStyle(a.formatter.getCssText(se))}):G.none()}},w=function(se){var be=se.items;return be!==void 0&&be.length>0?Bt(be,w):[se.format]},M=Er([]),E=Er([]),N=Er([]),j=Er([]),U=Er(!1);a.on("PreInit",function(se){var be=z8(a),_e=H8(a,be,c,p);M.set(_e),E.set(Bt(_e,w))}),a.on("addStyleModifications",function(se){var be=H8(a,se.items,c,p);N.set(be),U.set(se.replace),j.set(Bt(be,w))});var K=function(){var se=U.get()?[]:M.get(),be=N.get();return se.concat(be)},oe=function(){var se=U.get()?[]:E.get(),be=j.get();return se.concat(be)};return{getData:K,getFlattenedKeys:oe}},V8=function(a){return b(a)&&a.nodeType===1},jG=Mm.trim,j8=function(a){return function(c){return!!(V8(c)&&(c.contentEditable===a||c.getAttribute("data-mce-contenteditable")===a))}},UG=j8("true"),WG=j8("false"),oP=function(a,c,p,w,M){return{type:a,title:c,url:p,level:w,attach:M}},ub=function(a){for(;a=a.parentNode;){var c=a.contentEditable;if(c&&c!=="inherit")return UG(a)}return!1},U8=function(a,c){return Ye(Ru(He.fromDom(c),a),function(p){return p.dom})},W8=function(a){return a.innerText||a.textContent},qG=function(a){return a.id?a.id:ir("h")},$G=function(a){return a&&a.nodeName==="A"&&(a.id||a.name)!==void 0},q8=function(a){return $G(a)&&G8(a)},$8=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)},G8=function(a){return ub(a)&&!WG(a)},GG=function(a){return $8(a)&&G8(a)},XG=function(a){return $8(a)?parseInt(a.nodeName.substr(1),10):0},YG=function(a){var c=qG(a),p=function(){a.id=c};return oP("header",W8(a),"#"+c,XG(a),p)},KG=function(a){var c=a.id||a.name,p=W8(a);return oP("anchor",p||"#"+c,"#"+c,0,A)},JG=function(a){return Ye(Je(a,GG),YG)},QG=function(a){return Ye(Je(a,q8),KG)},ZG=function(a){var c=U8("h1,h2,h3,h4,h5,h6,a:not([href])",a);return c},eX=function(a){return jG(a.title).length>0},X8=function(a){var c=ZG(a);return Je(JG(c).concat(QG(c)),eX)},tX={find:X8},kE="tinymce-url-history",Y8=5,K8=function(a){return i(a)&&/^https?/.test(a)},nX=function(a){return l(a)&&a.length<=Y8&&Mn(a,K8)},DE=function(a){return u(a)&&et(a,function(c){return!nX(c)}).isNone()},iP=function(){var a=LA.getItem(kE);if(a===null)return{};var c;try{c=JSON.parse(a)}catch(p){if(p instanceof SyntaxError)return console.log("Local storage "+kE+" was not valid JSON",p),{};throw p}return DE(c)?c:(console.log("Local storage "+kE+" was not valid format",c),{})},rX=function(a){if(!DE(a))throw new Error(`Bad format for history:
`+JSON.stringify(a));LA.setItem(kE,JSON.stringify(a))},oX=function(a){var c=iP();return Pt(c,a).getOr([])},iX=function(a,c){if(K8(a)){var p=iP(),w=Pt(p,c).getOr([]),M=Je(w,function(E){return E!==a});p[c]=[a].concat(M).slice(0,Y8),rX(p)}},aP=function(a){return!!a},aX=function(a){return bn(Mm.makeMap(a,/[, ]/),aP)},uP=function(a){return G.from(U6(a)).filter(S)},uX=function(a){var c=G.some(W6(a)).filter(aP),p=G.some(Hj(a)).filter(aP),w=c.or(p).map(aX);return uP(a).fold(ie,function(M){return w.fold(le,function(E){return Tt(E).length>0?E:!1})})},sX=function(a,c){var p=uX(a);return h(p)?p?uP(a):G.none():p[c]?uP(a):G.none()},lX=function(a,c){return sX(a,c).map(function(p){return function(w){return Is.nu(function(M){var E=function(j,U){if(!i(j))throw new Error("Expected value to be string");if(U!==void 0&&!u(U))throw new Error("Expected meta to be a object");var K={value:j,meta:U};M(K)},N=ne({filetype:c,fieldname:w.fieldname},G.from(w.meta).getOr({}));p.call(a,E,w.value,N)})}})},pT=function(a){return G.from(a).filter(i).getOrUndefined()},cX=function(a){return q6(a)?G.none():G.some({targets:tX.find(a.getBody()),anchorTop:pT(Vj(a)),anchorBottom:pT(jj(a))})},fX=function(a){return G.from(Uj(a))},J8=function(a){return{getHistory:oX,addToHistory:iX,getLinkInformation:function(){return cX(a)},getValidationHandler:function(){return fX(a)},getUrlPicker:function(c){return lX(a,c)}}},sb=function(a,c,p){var w=Er(!1),M=BG(c),E={shared:{providers:{icons:function(){return c.ui.registry.getAll().icons},menuItems:function(){return c.ui.registry.getAll().menuItems},translate:Of.translate,isDisabled:function(){return c.mode.isReadOnly()||c.ui.isDisabled()},getSetting:c.getParam.bind(c)},interpreter:function(N){return AG(N,E)},anchors:RG(c,p,M.isPositionedAtTop),header:M,getSink:function(){return fo.value(a)}},urlinput:J8(c),styleselect:VG(c),colorinput:nP(c),dialog:LG(c),isContextMenuOpen:function(){return w.get()},setContextMenuState:function(N){return w.set(N)}};return E},dX=function(a,c,p){var w=function(Kt,ct){je([c,p],function(Lt){Lt.broadcastEvent(Kt,ct)})},M=function(Kt,ct){je([c,p],function(Lt){Lt.broadcastOn([Kt],ct)})},E=function(Kt){return M(Fg(),{target:Kt.target})},N=Mx(),j=Ya(N,"touchstart",E),U=Ya(N,"touchmove",function(Kt){return w(tx(),Kt)}),K=Ya(N,"touchend",function(Kt){return w(N5(),Kt)}),oe=Ya(N,"mousedown",E),se=Ya(N,"mouseup",function(Kt){Kt.raw.button===0&&M(ac(),{target:Kt.target})}),be=function(Kt){return M(Fg(),{target:He.fromDom(Kt.target)})},_e=function(Kt){Kt.button===0&&M(ac(),{target:He.fromDom(Kt.target)})},Ee=function(){je(a.editorManager.get(),function(Kt){a!==Kt&&Kt.fire("DismissPopups",{relatedTarget:a})})},Ve=function(Kt){return w(T_(),c0(Kt))},ft=function(Kt){M(y0(),{}),w(Mc(),c0(Kt))},Be=function(){return M(y0(),{})},ht=function(Kt){Kt.state&&M(Fg(),{target:He.fromDom(a.getContainer())})},Wt=function(Kt){M(Fg(),{target:He.fromDom(Kt.relatedTarget.getContainer())})};a.on("PostRender",function(){a.on("click",be),a.on("tap",be),a.on("mouseup",_e),a.on("mousedown",Ee),a.on("ScrollWindow",Ve),a.on("ResizeWindow",ft),a.on("ResizeEditor",Be),a.on("AfterProgressState",ht),a.on("DismissPopups",Wt)}),a.on("remove",function(){a.off("click",be),a.off("tap",be),a.off("mouseup",_e),a.off("mousedown",Ee),a.off("ScrollWindow",Ve),a.off("ResizeWindow",ft),a.off("ResizeEditor",Be),a.off("AfterProgressState",ht),a.off("DismissPopups",Wt),oe.unbind(),j.unbind(),U.unbind(),K.unbind(),se.unbind()}),a.on("detach",function(){tw(c),tw(p),c.destroy(),p.destroy()})},Nl=vD,km=cm,hX=L([dt("shell",!1),on("makeItem"),dt("setupItem",A),$c.field("listBehaviours",[Zr])]),pX=function(){return{behaviours:zn([Zr.config({})])}},mX=Df({name:"items",overrides:pX}),gX=L([mX]),vX=L("CustomList"),lb=function(a,c,p,w){var M=function(j,U){N(j).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(K){var oe=Zr.contents(K),se=U.length,be=se-oe.length,_e=be>0?fe(be,function(){return a.makeItem()}):[],Ee=oe.slice(se);je(Ee,function(ft){return Zr.remove(K,ft)}),je(_e,function(ft){return Zr.append(K,ft)});var Ve=Zr.contents(K);je(Ve,function(ft,Be){a.setupItem(j,ft,U[Be],Be)})})},E=a.shell?{behaviours:[Zr.config({})],components:[]}:{behaviours:[],components:c},N=function(j){return a.shell?G.some(j):Ti(j,a,"items")};return{uid:a.uid,dom:a.dom,components:E.components,behaviours:Nu(a.listBehaviours,E.behaviours),apis:{setItems:M}}},sP=ml({name:vX(),configFields:hX(),partFields:gX(),factory:lb,apis:{setItems:function(a,c,p){a.setItems(c,p)}}}),u2=L([on("dom"),dt("shell",!0),Pu("toolbarBehaviours",[Zr])]),yX=function(){return{behaviours:zn([Zr.config({})])}},bX=L([Df({name:"groups",overrides:yX})]),xX=function(a,c,p,w){var M=function(j,U){E(j).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(K){Zr.set(K,U)})},E=function(j){return a.shell?G.some(j):Ti(j,a,"groups")},N=a.shell?{behaviours:[Zr.config({})],components:[]}:{behaviours:[],components:c};return{uid:a.uid,dom:a.dom,components:N.components,behaviours:Nu(a.toolbarBehaviours,N.behaviours),apis:{setGroups:M},domModification:{attributes:{role:"group"}}}},pp=ml({name:"Toolbar",configFields:u2(),partFields:bX(),factory:xX,apis:{setGroups:function(a,c,p){a.setGroups(c,p)}}}),wX=A,lP=ie,s2=L([]),AE=Object.freeze({__proto__:null,setup:wX,isDocked:lP,getBehaviours:s2}),mT=function(a){var c=Lr(Za(a,"position"),"fixed"),p=c?G.none():Tl(a);return p.orThunk(function(){var w=He.fromTag("span");return aa(a).bind(function(M){Ts(M,w);var E=Tl(w);return Ml(w),E})})},K0=function(a){return mT(a).map(ol).getOrThunk(function(){return Ii(0,0)})},l2=Cc.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),_X=function(a,c){var p=a.element;Xu(p,c.transitionClass),hu(p,c.fadeOutClass),Xu(p,c.fadeInClass),c.onShow(a)},Q8=function(a,c){var p=a.element;Xu(p,c.transitionClass),hu(p,c.fadeInClass),Xu(p,c.fadeOutClass),c.onHide(a)},Z8=function(a,c){return a.y<c.bottom&&a.bottom>c.y},e7=function(a,c){return a.y>=c.y},SX=function(a,c){return a.bottom<=c.bottom},cP=function(a,c,p){return Mn(a,function(w){switch(w){case"bottom":return SX(c,p);case"top":return e7(c,p)}})},t7=function(a,c){return c.getInitialPos().map(function(p){return wu(p.bounds.x,p.bounds.y,Cs(a),cu(a))})},CX=function(a,c,p){p.setInitialPos({style:Eh(a),position:Ma(a,"position")||"static",bounds:c})},n7=function(a,c,p){return p.getInitialPos().bind(function(w){switch(p.clearInitialPos(),w.position){case"static":return G.some(l2.static());case"absolute":var M=mT(a).map(eu).getOrThunk(function(){return eu(li())});return G.some(l2.absolute(Tu("absolute",Pt(w.style,"left").map(function(E){return c.x-M.x}),Pt(w.style,"top").map(function(E){return c.y-M.y}),Pt(w.style,"right").map(function(E){return M.right-c.right}),Pt(w.style,"bottom").map(function(E){return M.bottom-c.bottom}))));default:return G.none()}})},fP=function(a,c,p){return t7(a,p).filter(function(w){return cP(p.getModes(),w,c)}).bind(function(w){return n7(a,w,p)})},dP=function(a,c,p){var w=eu(a);if(cP(p.getModes(),w,c))return G.none();CX(a,w,p);var M=us(),E=w.x-M.x,N=c.y-M.y,j=M.bottom-c.bottom,U=w.y<=c.y;return G.some(l2.fixed(Tu("fixed",G.some(E),U?G.some(N):G.none(),G.none(),U?G.none():G.some(j))))},TX=function(a,c,p){var w=a.element,M=Lr(Za(w,"position"),"fixed");return M?fP(w,c,p):dP(w,c,p)},r7=function(a,c){var p=a.element;return t7(p,c).bind(function(w){return n7(p,w,c)})},o7=function(a,c,p){p.setDocked(!1),je(["left","right","top","bottom","position"],function(w){return ri(a.element,w)}),c.onUndocked(a)},EE=function(a,c,p,w){var M=w.position==="fixed";p.setDocked(M),Ut(a.element,w);var E=M?c.onDocked:c.onUndocked;E(a)},i7=function(a,c,p,w,M){M===void 0&&(M=!1),c.contextual.each(function(E){E.lazyContext(a).each(function(N){var j=Z8(N,w);if(j!==p.isVisible())if(p.setVisible(j),M&&!j)Yh(a.element,[E.fadeOutClass]),E.onHide(a);else{var U=j?_X:Q8;U(a,E)}})})},MX=function(a,c,p){var w=c.lazyViewport(a),M=p.isDocked();M&&i7(a,c,p,w),TX(a,w,p).each(function(E){E.fold(function(){return o7(a,c,p)},function(N){return EE(a,c,p,N)},function(N){i7(a,c,p,w,!0),EE(a,c,p,N)})})},cb=function(a,c,p){var w=a.element;p.setDocked(!1),r7(a,p).each(function(M){M.fold(function(){return o7(a,c,p)},function(E){return EE(a,c,p,E)},A)}),p.setVisible(!0),c.contextual.each(function(M){$d(w,[M.fadeInClass,M.fadeOutClass,M.transitionClass]),M.onShow(a)}),OE(a,c,p)},OE=function(a,c,p){a.getSystem().isConnected()&&MX(a,c,p)},a7=function(a,c,p){p.isDocked()&&cb(a,c,p)},u7=function(a,c,p){return p.isDocked()},kX=function(a,c,p,w){return p.setModes(w)},IE=function(a,c,p){return p.getModes()},ch=Object.freeze({__proto__:null,refresh:OE,reset:a7,isDocked:u7,getModes:IE,setModes:kX}),DX=function(a,c){return $i([Gh(Yv(),function(p,w){a.contextual.each(function(M){if(cl(p.element,M.transitionClass)){$d(p.element,[M.transitionClass,M.fadeInClass]);var E=c.isVisible()?M.onShown:M.onHidden;E(p)}w.stop()})}),fn(T_(),function(p,w){OE(p,a,c)}),fn(Mc(),function(p,w){a7(p,a,c)})])},Dm=Object.freeze({__proto__:null,events:DX}),AX=[Ql("contextual",[Yr("fadeInClass"),Yr("fadeOutClass"),Yr("transitionClass"),Us("lazyContext"),_o("onShow"),_o("onShown"),_o("onHide"),_o("onHidden")]),qi("lazyViewport",us),jh("modes",["top","bottom"],$a),_o("onDocked"),_o("onUndocked")],EX=function(a){var c=Er(!1),p=Er(!0),w=Ba(),M=Er(a.modes),E=function(){return"docked:  "+c.get()+", visible: "+p.get()+", modes: "+M.get().join(",")};return Gu({isDocked:c.get,setDocked:c.set,getInitialPos:w.get,setInitialPos:w.set,clearInitialPos:w.clear,isVisible:p.get,setVisible:p.set,getModes:M.get,setModes:M.set,readState:E})},s7=Object.freeze({__proto__:null,init:EX}),Rs=Xa({fields:AX,name:"docking",active:Dm,apis:ch,state:s7}),Am=L(ir("toolbar-height-change")),Mu={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},l7="tox-tinymce--toolbar-sticky-on",hP="tox-tinymce--toolbar-sticky-off",c7=function(a,c){var p=ia(c),w=p.dom.defaultView.innerHeight,M=Yl(p),E=He.fromDom(a.elm),N=zd(E),j=cu(E),U=N.y,K=U+j,oe=ol(c),se=cu(c),be=oe.top,_e=be+se,Ee=Math.abs(be-M.top)<2,Ve=Math.abs(_e-(M.top+w))<2;if(Ee&&U<_e)Pv(M.left,U-se,p);else if(Ve&&K>be){var ft=U-w+j+se;Pv(M.left,ft,p)}},RE=function(a,c){return Ot(Rs.getModes(a),c)},pP=function(a){var c=function(w){return Xl(w)+(parseInt(Ma(w,"margin-top"),10)||0)+(parseInt(Ma(w,"margin-bottom"),10)||0)},p=a.element;aa(p).each(function(w){var M="padding-"+Rs.getModes(a)[0];if(Rs.isDocked(a)){var E=Cs(w);Wr(p,"width",E+"px"),Wr(w,M,c(p)+"px")}else ri(p,"width"),ri(w,M)})},f7=function(a,c){c?(hu(a,Mu.fadeOutClass),Yh(a,[Mu.transitionClass,Mu.fadeInClass])):(hu(a,Mu.fadeInClass),Yh(a,[Mu.fadeOutClass,Mu.transitionClass]))},cv=function(a,c){var p=He.fromDom(a.getContainer());c?(Xu(p,l7),hu(p,hP)):(Xu(p,hP),hu(p,l7))},d7=function(a,c){var p=ia(c);oc(p).filter(function(w){return!si(c,w)}).filter(function(w){return si(w,He.fromDom(p.dom.body))||Ss(a,w)}).each(function(){return Yd(c)})},c2=function(a,c){return Cf(a).orThunk(function(){return c().toOptional().bind(function(p){return Cf(p.element)})})},PE=function(a,c,p){a.inline||(c.header.isPositionedAtTop()||a.on("ResizeEditor",function(){p().each(Rs.reset)}),a.on("ResizeWindow ResizeEditor",function(){p().each(pP)}),a.on("SkinLoaded",function(){p().each(function(w){Rs.isDocked(w)?Rs.reset(w):Rs.refresh(w)})}),a.on("FullscreenStateChanged",function(){p().each(Rs.reset)})),a.on("AfterScrollIntoView",function(w){p().each(function(M){Rs.refresh(M);var E=M.element;BD(E)&&c7(w,E)})}),a.on("PostRender",function(){cv(a,!1)})},h7=function(a){return a().map(Rs.isDocked).getOr(!1)},OX=function(){var a;return[rc.config({channels:(a={},a[Am()]={onReceive:pP},a)})]},p7=function(a,c){var p=Ba(),w=c.getSink,M=function(j){w().each(function(U){return j(U.element)})},E=function(j){a.inline||pP(j),cv(a,Rs.isDocked(j)),j.getSystem().broadcastOn([y0()],{}),w().each(function(U){return U.getSystem().broadcastOn([y0()],{})})},N=a.inline?[]:OX();return Ce([$r.config({}),Rs.config({contextual:ne({lazyContext:function(j){var U=Xl(j.element),K=a.inline?a.getContentAreaContainer():a.getContainer(),oe=eu(He.fromDom(K)),se=oe.height-U,be=oe.y+(RE(j,"top")?0:U);return G.some(wu(oe.x,be,oe.width,se))},onShow:function(){M(function(j){return f7(j,!0)})},onShown:function(j){M(function(U){return $d(U,[Mu.transitionClass,Mu.fadeInClass])}),p.get().each(function(U){d7(j.element,U),p.clear()})},onHide:function(j){c2(j.element,w).fold(p.clear,p.set),M(function(U){return f7(U,!1)})},onHidden:function(){M(function(j){return $d(j,[Mu.transitionClass])})}},Mu),lazyViewport:function(j){var U=us(),K=Lj(a),oe=U.y+(RE(j,"top")?K:0),se=U.height-(RE(j,"bottom")?K:0);return wu(U.x,oe,U.width,se)},modes:[c.header.getDockingMode()],onDocked:E,onUndocked:E})],N,!0)},IX=Object.freeze({__proto__:null,setup:PE,isDocked:h7,getBehaviours:p7}),RX=function(a){var c=a.editor,p=a.sticky?p7:s2;return{uid:a.uid,dom:a.dom,components:a.components,behaviours:zn(p(c,a.sharedBackstage))}},f2=Sr([Yr("type"),Al("items",Iy([d_([Yr("name"),Ds("items",$a)]),$a]))].concat(F1)),PX=function(a){return wa("GroupToolbarButton",f2,a)},NX=[Wi("text"),Wi("tooltip"),Wi("icon"),Us("fetch"),qi("onSetup",function(){return A})],LX=Sr(Ce([Yr("type")],NX,!0)),m7=function(a){return wa("menubutton",LX,a)},BX=Sr([Yr("type"),Wi("tooltip"),Wi("icon"),Wi("text"),Lp("select"),Us("fetch"),qi("onSetup",function(){return A}),Sc("presets","normal",["normal","color","listpreview"]),dt("columns",1),Us("onAction"),Us("onItemAction")]),NE=function(a){return wa("SplitButton",BX,a)},zX=function(a,c){var p=function(M,E){var N=Ye(E,function(j){var U={type:"menubutton",text:j.text,fetch:function(oe){oe(j.getItems())}},K=m7(U).mapError(function(oe){return Np(oe)}).getOrDie();return VR(K,"tox-mbtn",c.backstage,G.some("menuitem"))});Zr.set(M,N)},w={focus:Rr.focusIn,setMenus:p};return{uid:a.uid,dom:a.dom,components:[],behaviours:zn([Zr.config({}),po("menubar-events",[da(function(M){a.onSetup(M)}),fn(Wh(),function(M,E){pu(M.element,".tox-mbtn--active").each(function(N){qs(E.event.target,".tox-mbtn").each(function(j){si(N,j)||M.getSystem().getByDom(N).each(function(U){M.getSystem().getByDom(j).each(function(K){yd.expand(K),yd.close(U),$r.focus(K)})})})})}),fn(nx(),function(M,E){E.event.prevFocus.bind(function(N){return M.getSystem().getByDom(N).toOptional()}).each(function(N){E.event.newFocus.bind(function(j){return M.getSystem().getByDom(j).toOptional()}).each(function(j){yd.isOpen(N)&&(yd.expand(j),yd.close(N))})})})]),Rr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(M){return a.onEscape(M),G.some(!0)}}),ru.config({})]),apis:w,domModification:{attributes:{role:"menubar"}}}},LE=uc({factory:zX,name:"silver.Menubar",configFields:[on("dom"),on("uid"),on("onEscape"),on("backstage"),dt("onSetup",A)],apis:{focus:function(a,c){a.focus(c)},setMenus:function(a,c,p){a.setMenus(c,p)}}}),fb=function(a,c){return c.getAnimationRoot.fold(function(){return a.element},function(p){return p(a)})},fv=function(a){return a.dimension.property},dv=function(a,c){return a.dimension.getDimension(c)},d2=function(a,c){var p=fb(a,c);$d(p,[c.shrinkingClass,c.growingClass])},hv=function(a,c){hu(a.element,c.openClass),Xu(a.element,c.closedClass),Wr(a.element,fv(c),"0px"),Ki(a.element)},g7=function(a,c){hu(a.element,c.closedClass),Xu(a.element,c.openClass),ri(a.element,fv(c))},v7=function(a,c,p,w){p.setCollapsed(),Wr(a.element,fv(c),dv(c,a.element)),Ki(a.element),d2(a,c),hv(a,c),c.onStartShrink(a),c.onShrunk(a)},mP=function(a,c,p,w){var M=w.getOrThunk(function(){return dv(c,a.element)});p.setCollapsed(),Wr(a.element,fv(c),M),Ki(a.element);var E=fb(a,c);hu(E,c.growingClass),Xu(E,c.shrinkingClass),hv(a,c),c.onStartShrink(a)},y7=function(a,c,p){var w=dv(c,a.element),M=w==="0px"?v7:mP;M(a,c,p,G.some(w))},gT=function(a,c,p){var w=fb(a,c),M=cl(w,c.shrinkingClass),E=dv(c,a.element);g7(a,c);var N=dv(c,a.element),j=function(){Wr(a.element,fv(c),E),Ki(a.element)},U=function(){hv(a,c)},K=M?j:U;K(),hu(w,c.shrinkingClass),Xu(w,c.growingClass),g7(a,c),Wr(a.element,fv(c),N),p.setExpanded(),c.onStartGrow(a)},b7=function(a,c,p){if(p.isExpanded()){ri(a.element,fv(c));var w=dv(c,a.element);Wr(a.element,fv(c),w)}},FX=function(a,c,p){p.isExpanded()||gT(a,c,p)},HX=function(a,c,p){p.isExpanded()&&y7(a,c,p)},vT=function(a,c,p){p.isExpanded()&&v7(a,c,p)},gP=function(a,c,p){return p.isExpanded()},VX=function(a,c,p){return p.isCollapsed()},x7=function(a,c,p){var w=fb(a,c);return cl(w,c.growingClass)===!0},vP=function(a,c,p){var w=fb(a,c);return cl(w,c.shrinkingClass)===!0},jX=function(a,c,p){return x7(a,c)||vP(a,c)},UX=function(a,c,p){var w=p.isExpanded()?y7:gT;w(a,c,p)},o=Object.freeze({__proto__:null,refresh:b7,grow:FX,shrink:HX,immediateShrink:vT,hasGrown:gP,hasShrunk:VX,isGrowing:x7,isShrinking:vP,isTransitioning:jX,toggleGrow:UX,disableTransitions:d2}),s=function(a,c,p){var w=c.expanded;return ad(w?{classes:[c.openClass],styles:{}}:{classes:[c.closedClass],styles:Vd(c.dimension.property,"0px")})},d=function(a,c){return $i([Gh(Yv(),function(p,w){var M=w.event.raw;if(M.propertyName===a.dimension.property){d2(p,a),c.isExpanded()&&ri(p.element,a.dimension.property);var E=c.isExpanded()?a.onGrown:a.onShrunk;E(p)}})])},m=Object.freeze({__proto__:null,exhibit:s,events:d}),x=[on("closedClass"),on("openClass"),on("shrinkingClass"),on("growingClass"),oi("getAnimationRoot"),_o("onShrunk"),_o("onStartShrink"),_o("onGrown"),_o("onStartGrow"),dt("expanded",!1),Al("dimension",Lc("property",{width:[Ci("property","width"),Ci("getDimension",function(a){return Cs(a)+"px"})],height:[Ci("property","height"),Ci("getDimension",function(a){return cu(a)+"px"})]}))],T=function(a){var c=Er(a.expanded),p=function(){return"expanded: "+c.get()};return Gu({isExpanded:function(){return c.get()===!0},isCollapsed:function(){return c.get()===!1},setCollapsed:Y(c.set,!1),setExpanded:Y(c.set,!0),readState:p})},O=Object.freeze({__proto__:null,init:T}),B=Xa({fields:x,name:"sliding",active:m,apis:o,state:O}),V="container",Z=[Pu("slotBehaviours",[])],pe=function(a){return"<alloy.field."+a+">"},ge=function(a){var c=function(){var E=[],N=function(j,U){return E.push(j),HS(V,pe(j),U)};return{slot:N,record:L(E)}}(),p=a(c),w=c.record(),M=Ye(w,function(E){return Zu({name:E,pname:pe(E)})});return $S(V,Z,M,ve,p)},ve=function(a,c){var p=function(Ve){return WS(a)},w=function(Ve,ft){return Ti(Ve,a,ft)},M=function(Ve,ft){return function(Be,ht){return Ti(Be,a,ht).map(function(Wt){return Ve(Wt,ht)}).getOr(ft)}},E=function(Ve){return function(ft,Be){je(Be,function(ht){return Ve(ft,ht)})}},N=function(Ve,ft){return ua(Ve.element,"aria-hidden")!=="true"},j=function(Ve,ft){if(!N(Ve)){var Be=Ve.element;ri(Be,"display"),Uu(Be,"aria-hidden"),Ir(Ve,qh(),{name:ft,visible:!0})}},U=function(Ve,ft){if(N(Ve)){var Be=Ve.element;Wr(Be,"display","none"),so(Be,"aria-hidden","true"),Ir(Ve,qh(),{name:ft,visible:!1})}},K=M(N,!1),oe=M(U),se=E(oe),be=function(Ve){return se(Ve,p())},_e=M(j),Ee={getSlotNames:p,getSlot:w,isShowing:K,hideSlot:oe,hideAllSlots:be,showSlot:_e};return{uid:a.uid,dom:a.dom,components:c,behaviours:Vg(a.slotBehaviours),apis:Ee}},Ae=bn({getSlotNames:function(a,c){return a.getSlotNames(c)},getSlot:function(a,c,p){return a.getSlot(c,p)},isShowing:function(a,c,p){return a.isShowing(c,p)},hideSlot:function(a,c,p){return a.hideSlot(c,p)},hideAllSlots:function(a,c){return a.hideAllSlots(c)},showSlot:function(a,c,p){return a.showSlot(c,p)}},function(a){return vg(a)}),De=ne(ne({},Ae),{sketch:ge}),Ie=Sr([Wi("icon"),Wi("tooltip"),qi("onShow",A),qi("onHide",A),qi("onSetup",function(){return A})]),Ne=function(a){return wa("sidebar",Ie,a)},Qe=function(a){var c=a.ui.registry.getAll().sidebars;je(Tt(c),function(p){var w=c[p],M=function(){return Lr(G.from(a.queryCommandValue("ToggleSidebar")),p)};a.ui.registry.addToggleButton(p,{icon:w.icon,tooltip:w.tooltip,onAction:function(E){a.execCommand("ToggleSidebar",!1,p),E.setActive(M())},onSetup:function(E){var N=function(){return E.setActive(M())};return a.on("ToggleSidebar",N),function(){a.off("ToggleSidebar",N)}}})})},Xe=function(a){return{element:function(){return a.element.dom}}},at=function(a,c){var p=Ye(Tt(c),function(w){var M=c[w],E=gf(Ne(M));return{name:w,getApi:Xe,onSetup:E.onSetup,onShow:E.onShow,onHide:E.onHide}});return Ye(p,function(w){var M=Er(A);return a.slot(w.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:AA.unnamedEvents([LC(w,M),BC(w,M),fn(qh(),function(E,N){var j=N.event,U=Rt(p,function(K){return K.name===j.name});U.each(function(K){var oe=j.visible?K.onShow:K.onHide;oe(K.getApi(E))})})])})})},xt=function(a){return De.sketch(function(c){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:at(c,a),slotBehaviours:AA.unnamedEvents([da(function(p){return De.hideAllSlots(p)})])}})},nt=function(a,c){var p=So.getCurrent(a);p.each(function(w){return Zr.set(w,[xt(c)])})},Mt=function(a,c){var p=So.getCurrent(a);p.each(function(w){var M=So.getCurrent(w);M.each(function(E){B.hasGrown(w)?De.isShowing(E,c)?B.shrink(w):(De.hideAllSlots(E),De.showSlot(E,c)):(De.hideAllSlots(E),De.showSlot(E,c),B.grow(w))})})},Xt=function(a){var c=So.getCurrent(a);return c.bind(function(p){var w=B.isGrowing(p)||B.hasGrown(p);if(w){var M=So.getCurrent(p);return M.bind(function(E){return Rt(De.getSlotNames(E),function(N){return De.isShowing(E,N)})})}else return G.none()})},Sn=ir("FixSizeEvent"),Dr=ir("AutoSizeEvent"),Zn=function(a){return{uid:a.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:zn([ru.config({}),$r.config({}),B.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(c){var p=So.getCurrent(c);p.each(De.hideAllSlots),Mo(c,Dr)},onGrown:function(c){Mo(c,Dr)},onStartGrow:function(c){Ir(c,Sn,{width:Za(c.element,"width").getOr("")})},onStartShrink:function(c){Ir(c,Sn,{width:Cs(c.element)+"px"})}}),Zr.config({}),So.config({find:function(c){var p=Zr.contents(c);return gn(p)}})])}],behaviours:zn([hp.childAt(0),po("sidebar-sliding-events",[fn(Sn,function(c,p){Wr(c.element,"width",p.event.width)}),fn(Dr,function(c,p){ri(c.element,"width")})])])}},pn=function(a,c,p,w){so(a.element,"aria-busy",!0);var M=c.getRoot(a).getOr(a),E=zn([Rr.config({mode:"special",onTab:function(){return G.some(!0)},onShiftTab:function(){return G.some(!0)}}),$r.config({})]),N=w(M,E),j=M.getSystem().build(N);Zr.append(M,Dc(j)),j.hasConfigured(Rr)&&c.focus&&Rr.focusIn(j),p.isBlocked()||c.onBlock(a),p.blockWith(function(){return Zr.remove(M,j)})},jr=function(a,c,p){Uu(a.element,"aria-busy"),p.isBlocked()&&c.onUnblock(a),p.clear()},An=Object.freeze({__proto__:null,block:pn,unblock:jr}),Jn=[qi("getRoot",G.none),Pi("focus",!0),_o("onBlock"),_o("onUnblock")],Dn=function(){var a=Rx(),c=function(p){a.set({destroy:p})};return Gu({readState:a.isSet,blockWith:c,clear:a.clear,isBlocked:a.isSet})},Vn=Object.freeze({__proto__:null,init:Dn}),rr=Xa({fields:Jn,name:"blocking",apis:An,state:Vn}),xn=function(a){var c=a.dom.attributes!==void 0?a.dom.attributes:[];return Ft(c,function(p,w){var M;return w.name==="class"?p:ne(ne({},p),(M={},M[w.name]=w.value,M))},{})},ar=function(a){return Array.prototype.slice.call(a.dom.classList,0)},oo=function(a){var c=He.fromHtml(a),p=W(c),w=xn(c),M=ar(c),E=p.length===0?{}:{innerHtml:Ol(c)};return ne({tag:$e(c),classes:M,attributes:w},E)},xi=function(a){return function(c,p){return{dom:{tag:"div",attributes:{"aria-label":a.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:oo('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},Uo=function(a){return So.getCurrent(a).each(function(c){return Yd(c.element)})},mu=function(a,c){var p="tabindex",w="data-mce-"+p;G.from(a.iframeElement).map(He.fromDom).each(function(M){c?(xa(M,p).each(function(E){return so(M,w,E)}),so(M,p,-1)):(Uu(M,p),xa(M,w).each(function(E){so(M,p,E),Uu(M,w)}))})},ku=function(a,c,p,w){var M=c.element;if(mu(a,p),p)rr.block(c,xi(w)),ri(M,"display"),Uu(M,"aria-hidden"),a.hasFocus()&&Uo(c);else{var E=So.getCurrent(c).exists(function(N){return kx(N.element)});rr.unblock(c),Wr(M,"display","none"),so(M,"aria-hidden","true"),E&&a.focus()}},Oc=function(a){return{uid:a.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:zn([Zr.config({}),rr.config({focus:!1}),So.config({find:function(c){return gn(c.components())}})]),components:[]}},ef=function(a){return a.type==="focusin"},yn=function(a){if(ef(a)){var c=a.composed?gn(a.composedPath()):G.from(a.target);return c.map(He.fromDom).filter(he).exists(function(p){return cl(p,"mce-pastebin")})}else return!1},zt=function(a,c,p){var w=Er(!1),M=Ba(),E=function(j){w.get()&&!yn(j)&&(j.preventDefault(),Uo(c()),a.editorManager.setActive(a))};a.inline||a.on("PreInit",function(){a.dom.bind(a.getWin(),"focusin",E),a.on("BeforeExecCommand",function(j){j.command.toLowerCase()==="mcefocus"&&j.value!==!0&&E(j)})});var N=function(j){j!==w.get()&&(w.set(j),ku(a,c(),j,p.providers),a.fire("AfterProgressState",{state:j}))};a.on("ProgressState",function(j){if(M.on(ov.clearTimeout),_(j.time)){var U=ov.setEditorTimeout(a,function(){return N(j.state)},j.time);M.set(U)}else N(j.state),M.clear()})},Cn=function(a,c){var p={len:0,list:[]},w=Ft(a,function(M,E){var N=c(E,M.len);return N.fold(L(M),function(j){return{len:j.finish,list:M.list.concat([j])}})},p);return w.list},Ht=function(a,c,p){return{within:a,extra:c,withinWidth:p}},fr=function(a,c,p){var w=Cn(a,function(j,U){var K=p(j);return G.some({element:j,start:U,finish:U+K,width:K})}),M=Je(w,function(j){return j.finish<=c}),E=st(M,function(j,U){return j+U.width},0),N=w.slice(M.length);return{within:M,extra:N,withinWidth:E}},Fn=function(a){return Ye(a,function(c){return c.element})},zr=function(a,c,p){var w=Fn(a.concat(c));return Ht(w,[],p)},ko=function(a,c,p,w){var M=Fn(a).concat([p]);return Ht(M,Fn(c),w)},pa=function(a,c,p){return Ht(Fn(a),[],p)},Ll=function(a,c,p){var w=fr(c,a,p);return w.extra.length===0?G.some(w):G.none()},fc=function(a,c,p,w){var M=Ll(a,c,p).getOrThunk(function(){return fr(c,a-p(w),p)}),E=M.within,N=M.extra,j=M.withinWidth;return N.length===1&&N[0].width<=p(w)?zr(E,N,j):N.length>=1?ko(E,N,w,j):pa(E,N,j)},wd=function(a,c){var p=Ye(c,function(w){return Dc(w)});pp.setGroups(a,p)},Bl=function(a){return vt(a,function(c){return Cf(c.element).bind(function(p){return c.getSystem().getByDom(p).toOptional()})})},zl=function(a,c,p){var w=c.builtGroups.get();if(w.length!==0){var M=th(a,c,"primary"),E=ou.getCoupled(a,"overflowGroup");Wr(M.element,"visibility","hidden");var N=w.concat([E]),j=Bl(N);p([]),wd(M,N);var U=Cs(M.element),K=fc(U,c.builtGroups.get(),function(oe){return Cs(oe.element)},E);K.extra.length===0?(Zr.remove(M,E),p([])):(wd(M,K.within),p(K.extra)),ri(M.element,"visibility"),Ki(M.element),j.each($r.focus)}},zu=L([Pu("splitToolbarBehaviours",[ou]),ul("builtGroups",function(){return Er([])})]),pv=L([Cg(["overflowToggledClass"]),Lp("getOverflowBounds"),on("lazySink"),ul("overflowGroups",function(){return Er([])})].concat(zu())),Ps=L([Zu({factory:pp,schema:u2(),name:"primary"}),Ec({schema:u2(),name:"overflow"}),Ec({name:"overflow-button"}),Ec({name:"overflow-group"})]),_d=L(function(a,c){as(a,Math.floor(c))}),Em=L([Cg(["toggledClass"]),on("lazySink"),Us("fetch"),Lp("getBounds"),Ql("fireDismissalEventInstead",[dt("event",xf())]),rm()]),Aa=L([Ec({name:"button",overrides:function(a){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:zn([zo.config({toggleClass:a.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Ec({factory:pp,schema:u2(),name:"toolbar",overrides:function(a){return{toolbarBehaviours:zn([Rr.config({mode:"cyclic",onEscape:function(c){return Ti(c,a,"button").each($r.focus),G.none()}})])}}})]),Ji=function(a,c){var p=ou.getCoupled(a,"toolbarSandbox");Lo.isOpen(p)?Lo.close(p):Lo.open(p,c.toolbar())},Du=function(a,c,p,w){var M=p.getBounds.map(function(N){return N()}),E=p.lazySink(a).getOrDie();hl.positionWithinBounds(E,c,{anchor:{type:"hotspot",hotspot:a,layouts:w,overrides:{maxWidthFunction:_d()}}},M)},fh=function(a,c,p,w,M){pp.setGroups(c,M),Du(a,c,p,w),zo.on(a)},Om=function(a,c,p){var w=ik(),M=function(N,j){p.fetch().get(function(U){fh(a,j,p,c.layouts,U),w.link(a.element),Rr.focusIn(j)})},E=function(){zo.off(a),$r.focus(a),w.unlink(a.element)};return{dom:{tag:"div",attributes:{id:w.id}},behaviours:zn([Rr.config({mode:"special",onEscape:function(N){return Lo.close(N),G.some(!0)}}),Lo.config({onOpen:M,onClose:E,isPartOf:function(N,j,U){return bg(j,U)||bg(a,U)},getAttachPoint:function(){return p.lazySink(a).getOrDie()}}),rc.config({channels:ne(ne({},sm(ne({isExtraPart:ie},p.fireDismissalEventInstead.map(function(N){return{fireEventInstead:{event:N.event}}}).getOr({})))),i1({doReposition:function(){Lo.getState(ou.getCoupled(a,"toolbarSandbox")).each(function(N){Du(a,N,p,c.layouts)})}}))})])}},dh=function(a,c,p,w){return ne(ne({},vl.sketch(ne(ne({},w.button()),{action:function(M){Ji(M,w)},buttonBehaviours:$c.augment({dump:w.button().buttonBehaviours},[ou.config({others:{toolbarSandbox:function(M){return Om(M,p,a)}}})])}))),{apis:{setGroups:function(M,E){Lo.getState(ou.getCoupled(M,"toolbarSandbox")).each(function(N){fh(M,N,a,p.layouts,E)})},reposition:function(M){Lo.getState(ou.getCoupled(M,"toolbarSandbox")).each(function(E){Du(M,E,a,p.layouts)})},toggle:function(M){Ji(M,w)},getToolbar:function(M){return Lo.getState(ou.getCoupled(M,"toolbarSandbox"))},isOpen:function(M){return Lo.isOpen(ou.getCoupled(M,"toolbarSandbox"))}}})},mp=ml({name:"FloatingToolbarButton",factory:dh,configFields:Em(),partFields:Aa(),apis:{setGroups:function(a,c,p){a.setGroups(c,p)},reposition:function(a,c){a.reposition(c)},toggle:function(a,c){a.toggle(c)},getToolbar:function(a,c){return a.getToolbar(c)},isOpen:function(a,c){return a.isOpen(c)}}}),yT=L([on("items"),Cg(["itemSelector"]),Pu("tgroupBehaviours",[Rr])]),WX=L([pd({name:"items",unit:"item"})]),w7=function(a,c,p,w){return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.tgroupBehaviours,[Rr.config({mode:"flow",selector:a.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},bT=ml({name:"ToolbarGroup",configFields:yT(),partFields:WX(),factory:w7}),_7=function(a){return Ye(a,function(c){return Dc(c)})},yP=function(a,c,p){zl(a,p,function(w){p.overflowGroups.set(w),c.getOpt(a).each(function(M){mp.setGroups(M,_7(w))})})},qX=function(a,c,p,w){var M=ci(mp.sketch({fetch:function(){return Is.nu(function(E){E(_7(a.overflowGroups.get()))})},layouts:{onLtr:function(){return[Su,Es]},onRtl:function(){return[Es,Su]},onBottomLtr:function(){return[Ku,$s]},onBottomRtl:function(){return[$s,Ku]}},getBounds:p.getOverflowBounds,lazySink:a.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:a.markers.overflowToggledClass},parts:{button:w["overflow-button"](),toolbar:w.overflow()}}));return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.splitToolbarBehaviours,[ou.config({others:{overflowGroup:function(){return bT.sketch(ne(ne({},w["overflow-group"]()),{items:[M.asSpec()]}))}}})]),apis:{setGroups:function(E,N){a.builtGroups.set(Ye(N,E.getSystem().build)),yP(E,M,a)},refresh:function(E){return yP(E,M,a)},toggle:function(E){M.getOpt(E).each(function(N){mp.toggle(N)})},isOpen:function(E){return M.getOpt(E).map(mp.isOpen).getOr(!1)},reposition:function(E){M.getOpt(E).each(function(N){mp.reposition(N)})},getOverflow:function(E){return M.getOpt(E).bind(mp.getToolbar)}},domModification:{attributes:{role:"group"}}}},S7=ml({name:"SplitFloatingToolbar",configFields:pv(),partFields:Ps(),factory:qX,apis:{setGroups:function(a,c,p){a.setGroups(c,p)},refresh:function(a,c){a.refresh(c)},reposition:function(a,c){a.reposition(c)},toggle:function(a,c){a.toggle(c)},isOpen:function(a,c){return a.isOpen(c)},getOverflow:function(a,c){return a.getOverflow(c)}}}),$X=L([Cg(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),_o("onOpened"),_o("onClosed")].concat(zu())),GX=L([Zu({factory:pp,schema:u2(),name:"primary"}),Zu({factory:pp,schema:u2(),name:"overflow",overrides:function(a){return{toolbarBehaviours:zn([B.config({dimension:{property:"height"},closedClass:a.markers.closedClass,openClass:a.markers.openClass,shrinkingClass:a.markers.shrinkingClass,growingClass:a.markers.growingClass,onShrunk:function(c){Ti(c,a,"overflow-button").each(function(p){zo.off(p),$r.focus(p)}),a.onClosed(c)},onGrown:function(c){Rr.focusIn(c),a.onOpened(c)},onStartGrow:function(c){Ti(c,a,"overflow-button").each(zo.on)}}),Rr.config({mode:"acyclic",onEscape:function(c){return Ti(c,a,"overflow-button").each($r.focus),G.some(!0)}})])}}}),Ec({name:"overflow-button",overrides:function(a){return{buttonBehaviours:zn([zo.config({toggleClass:a.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Ec({name:"overflow-group"})]),db=function(a,c){return Ti(a,c,"overflow").map(B.hasGrown).getOr(!1)},bP=function(a,c){Ti(a,c,"overflow-button").bind(function(){return Ti(a,c,"overflow")}).each(function(p){ut(a,c),B.toggleGrow(p)})},ut=function(a,c){Ti(a,c,"overflow").each(function(p){zl(a,c,function(w){var M=Ye(w,function(E){return Dc(E)});pp.setGroups(p,M)}),Ti(a,c,"overflow-button").each(function(w){B.hasGrown(p)&&zo.on(w)}),B.refresh(p)})},Vt=function(a,c,p,w){var M="alloy.toolbar.toggle",E=function(N,j){var U=Ye(j,N.getSystem().build);a.builtGroups.set(U)};return{uid:a.uid,dom:a.dom,components:c,behaviours:Nu(a.splitToolbarBehaviours,[ou.config({others:{overflowGroup:function(N){return bT.sketch(ne(ne({},w["overflow-group"]()),{items:[vl.sketch(ne(ne({},w["overflow-button"]()),{action:function(j){Mo(N,M)}}))]}))}}}),po("toolbar-toggle-events",[fn(M,function(N){bP(N,a)})])]),apis:{setGroups:function(N,j){E(N,j),ut(N,a)},refresh:function(N){return ut(N,a)},toggle:function(N){return bP(N,a)},isOpen:function(N){return db(N,a)}},domModification:{attributes:{role:"group"}}}},In=ml({name:"SplitSlidingToolbar",configFields:$X(),partFields:GX(),factory:Vt,apis:{setGroups:function(a,c,p){a.setGroups(c,p)},refresh:function(a,c){a.refresh(c)},toggle:function(a,c){a.toggle(c)},isOpen:function(a,c){return a.isOpen(c)}}}),Hn=function(a){var c=a.title.fold(function(){return{}},function(p){return{attributes:{title:p}}});return{dom:ne({tag:"div",classes:["tox-toolbar__group"]},c),components:[bT.parts.items({})],items:a.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:zn([ru.config({}),$r.config({})])}},lo=function(a){return bT.sketch(Hn(a))},fi=function(a,c){var p=da(function(w){var M=Ye(a.initGroups,lo);pp.setGroups(w,M)});return zn([Rf.toolbarButton(a.providers.isDisabled),Bu(),Rr.config({mode:c,onEscape:a.onEscape,selector:".tox-toolbar__group"}),po("toolbar-events",[p])])},ma=function(a){var c=a.cyclicKeying?"cyclic":"acyclic";return{uid:a.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":Hn({title:G.none(),items:[]}),"overflow-button":a8({name:"more",icon:G.some("more-drawer"),disabled:!1,tooltip:G.some("More..."),primary:!1,borderless:!1},G.none(),a.providers)},splitToolbarBehaviours:fi(a,c)}},J0=function(a){var c=ma(a),p=4,w=S7.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return S7.sketch(ne(ne({},c),{lazySink:a.getSink,getOverflowBounds:function(){var M=a.moreDrawerData.lazyHeader().element,E=zd(M),N=qt(M),j=zd(N),U=Math.max(N.dom.scrollHeight,j.height);return wu(E.x+p,j.y,E.width-p*2,U)},parts:ne(ne({},c.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:a.attributes}}}),components:[w],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},qye=function(a){var c=In.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),p=In.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),w=ma(a);return In.sketch(ne(ne({},w),{components:[c,p],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(M){M.getSystem().broadcastOn([Am()],{type:"opened"})},onClosed:function(M){M.getSystem().broadcastOn([Am()],{type:"closed"})}}))},C7=function(a){var c=a.cyclicKeying?"cyclic":"acyclic";return pp.sketch({uid:a.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(a.type===If.scrolling?["tox-toolbar--scrolling"]:[])},components:[pp.parts.groups({})],toolbarBehaviours:fi(a,c)})},$ye=function(a,c,p){var w={getSocket:function(M){return Nl.getPart(M,a,"socket")},setSidebar:function(M,E){Nl.getPart(M,a,"sidebar").each(function(N){return nt(N,E)})},toggleSidebar:function(M,E){Nl.getPart(M,a,"sidebar").each(function(N){return Mt(N,E)})},whichSidebar:function(M){return Nl.getPart(M,a,"sidebar").bind(Xt).getOrNull()},getHeader:function(M){return Nl.getPart(M,a,"header")},getToolbar:function(M){return Nl.getPart(M,a,"toolbar")},setToolbar:function(M,E){Nl.getPart(M,a,"toolbar").each(function(N){N.getApis().setGroups(N,E)})},setToolbars:function(M,E){Nl.getPart(M,a,"multiple-toolbar").each(function(N){sP.setItems(N,E)})},refreshToolbar:function(M){var E=Nl.getPart(M,a,"toolbar");E.each(function(N){return N.getApis().refresh(N)})},toggleToolbarDrawer:function(M){Nl.getPart(M,a,"toolbar").each(function(E){Ui(E.getApis().toggle,function(N){return N(E)})})},isToolbarDrawerToggled:function(M){return Nl.getPart(M,a,"toolbar").bind(function(E){return G.from(E.getApis().isOpen).map(function(N){return N(E)})}).getOr(!1)},getThrobber:function(M){return Nl.getPart(M,a,"throbber")},focusToolbar:function(M){var E=Nl.getPart(M,a,"toolbar").orThunk(function(){return Nl.getPart(M,a,"multiple-toolbar")});E.each(function(N){Rr.focusIn(N)})},setMenubar:function(M,E){Nl.getPart(M,a,"menubar").each(function(N){LE.setMenus(N,E)})},focusMenubar:function(M){Nl.getPart(M,a,"menubar").each(function(E){LE.focus(E)})}};return{uid:a.uid,dom:a.dom,components:c,apis:w,behaviours:a.behaviours}},Gye=km.optional({factory:LE,name:"menubar",schema:[on("backstage")]}),Xye=function(a){return a.type===If.sliding?qye:a.type===If.floating?J0:C7},Yye=km.optional({factory:{sketch:function(a){return sP.sketch({uid:a.uid,dom:a.dom,listBehaviours:zn([Rr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return C7({type:a.type,uid:ir("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:a.providers,onEscape:function(){return a.onEscape(),G.some(!0)}})},setupItem:function(c,p,w,M){pp.setGroups(p,w)},shell:!0})}},name:"multiple-toolbar",schema:[on("dom"),on("onEscape")]}),Kye=km.optional({factory:{sketch:function(a){var c=Xye(a),p={type:a.type,uid:a.uid,onEscape:function(){return a.onEscape(),G.some(!0)},cyclicKeying:!1,initGroups:[],getSink:a.getSink,providers:a.providers,moreDrawerData:{lazyToolbar:a.lazyToolbar,lazyMoreButton:a.lazyMoreButton,lazyHeader:a.lazyHeader},attributes:a.attributes};return c(p)}},name:"toolbar",schema:[on("dom"),on("onEscape"),on("getSink")]}),Jye=km.optional({factory:{sketch:RX},name:"header",schema:[on("dom")]}),Qye=km.optional({name:"socket",schema:[on("dom")]}),Zye=km.optional({factory:{sketch:Zn},name:"sidebar",schema:[on("dom")]}),e1e=km.optional({factory:{sketch:Oc},name:"throbber",schema:[on("dom")]}),gu=ml({name:"OuterContainer",factory:$ye,configFields:[on("dom"),on("behaviours")],partFields:[Jye,Gye,Kye,Yye,Qye,Zye,e1e],apis:{getSocket:function(a,c){return a.getSocket(c)},setSidebar:function(a,c,p){a.setSidebar(c,p)},toggleSidebar:function(a,c,p){a.toggleSidebar(c,p)},whichSidebar:function(a,c){return a.whichSidebar(c)},getHeader:function(a,c){return a.getHeader(c)},getToolbar:function(a,c){return a.getToolbar(c)},setToolbar:function(a,c,p){var w=Ye(p,function(M){return lo(M)});a.setToolbar(c,w)},setToolbars:function(a,c,p){var w=Ye(p,function(M){return Ye(M,lo)});a.setToolbars(c,w)},refreshToolbar:function(a,c){return a.refreshToolbar(c)},toggleToolbarDrawer:function(a,c){a.toggleToolbarDrawer(c)},isToolbarDrawerToggled:function(a,c){return a.isToolbarDrawerToggled(c)},getThrobber:function(a,c){return a.getThrobber(c)},setMenubar:function(a,c,p){a.setMenubar(c,p)},focusMenubar:function(a,c){a.focusMenubar(c)},focusToolbar:function(a,c){a.focusToolbar(c)}}}),t1e="file edit view insert format tools table help",Dne={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},n1e=function(a,c,p){var w=Oj(p).split(/[ ,]/);return{text:a.title,getItems:function(){return Bt(a.items,function(M){var E=M.toLowerCase();return E.trim().length===0?[]:Nt(w,function(N){return N===E})?[]:E==="separator"||E==="|"?[{type:"separator"}]:c.menuItems[E]?[c.menuItems[E]]:[]})}}},XX=function(a){return typeof a=="string"?a.split(" "):a},Ane=function(a,c){var p=ne(ne({},Dne),c.menus),w=Tt(c.menus).length>0,M=c.menubar===void 0||c.menubar===!0?XX(t1e):XX(c.menubar===!1?"":c.menubar),E=Je(M,function(j){var U=ln(Dne,j);return w?U||Pt(c.menus,j).exists(function(K){return ln(K,"items")}):U}),N=Ye(E,function(j){var U=p[j];return n1e({title:U.title,items:XX(U.items)},c,a)});return Je(N,function(j){var U=function(K){return K.type!=="separator"};return j.getItems().length>0&&Nt(j.getItems(),U)})},Ene=function(a){var c=function(){a._skinLoaded=!0,lU(a)};return function(){a.initialized?c():a.on("init",c)}},r1e=function(a,c){return function(){return cU(a,{message:c})}},One=function(a,c,p){return new AC(function(w,M){p.load(c,w,M),a.on("remove",function(){return p.unload(c)})})},o1e=function(a,c){var p=c+"/skin.min.css";return One(a,p,a.ui.styleSheetLoader)},i1e=function(a,c){var p=lr(He.fromDom(a.getElement()));if(p){var w=c+"/skin.shadowdom.min.css";return One(a,w,IC.DOM.styleSheetLoader)}else return AC.resolve()},Ine=function(a,c){var p=pI(c);p&&c.contentCSS.push(p+(a?"/content.inline":"/content")+".min.css"),P6(c)===!1&&i(p)?AC.all([o1e(c,p),i1e(c,p)]).then(Ene(c),r1e(c,"Skin could not be loaded")):Ene(c)()},a1e=Y(Ine,!1),u1e=Y(Ine,!0),T7=function(a,c){return function(p){var w=Ag(),M=function(){p.setActive(a.formatter.match(c));var E=a.formatter.formatChanged(c,p.setActive);w.set(E)};return a.initialized?M():a.once("init",M),function(){a.off("init",M),w.clear()}}},M7=function(a,c,p){return function(w){var M=function(){return p(w)},E=function(){p(w),a.on(c,M)};return a.initialized?E():a.once("init",E),function(){a.off("init",E),a.off(c,M)}}},Rne=function(a){return function(c){return function(){a.undoManager.transact(function(){a.focus(),a.execCommand("mceToggleFormat",!1,c.format)})}}},gp=function(a,c){return function(){return a.execCommand(c)}},s1e=function(a,c,p){var w=function(j,U,K,oe){var se=c.shared.providers.translate(j.title);if(j.type==="separator")return G.some({type:"separator",text:se});if(j.type==="submenu"){var be=Bt(j.getStyleItems(),function(_e){return M(_e,U,oe)});return U===0&&be.length<=0?G.none():G.some({type:"nestedmenuitem",text:se,disabled:be.length<=0,getSubmenuItems:function(){return Bt(j.getStyleItems(),function(_e){return M(_e,U,oe)})}})}else return G.some(ne({type:"togglemenuitem",text:se,icon:j.icon,active:j.isSelected(oe),disabled:K,onAction:p.onAction(j)},j.getStylePreview().fold(function(){return{}},function(_e){return{meta:{style:_e}}})))},M=function(j,U,K){var oe=j.type==="formatter"&&p.isInvalid(j);return U===0?oe?[]:w(j,U,!1,K).toArray():w(j,U,oe,K).toArray()},E=function(j){var U=p.getCurrentValue(),K=p.shouldHide?0:1;return Bt(j,function(oe){return M(oe,K,U)})},N=function(j,U){return function(K,oe){var se=U(),be=E(se),_e=o2(be,lp.CLOSE_ON_EXECUTE,j,!1);oe(_e)}};return{validateItems:E,getFetch:N}},BE=function(a,c,p){var w=p.dataset,M=w.type==="basic"?function(){return Ye(w.data,function(E){return F8(E,p.isSelectedFor,p.getPreviewFor)})}:w.getData;return{items:s1e(a,c,p),getStyleItems:M}},xP=function(a,c,p){var w=BE(a,c,p),M=w.items,E=w.getStyleItems,N=function(U){return{getComponent:L(U)}},j=M7(a,"NodeChange",function(U){var K=U.getComponent();p.updateText(K)});return zR({text:p.icon.isSome()?G.none():p.text,icon:p.icon,tooltip:G.from(p.tooltip),role:G.none(),fetch:M.getFetch(c,E),onSetup:j,getApi:N,columns:1,presets:"normal",classes:p.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",c.shared)},l1e=function(a){return Ye(a,function(c){var p=c,w=c,M=c.split("=");return M.length>1&&(p=M[0],w=M[1]),{title:p,format:w}})},c1e=function(a){return{type:"basic",data:a}},zE;(function(a){a[a.SemiColon=0]="SemiColon",a[a.Space=1]="Space"})(zE||(zE={}));var f1e=function(a,c){return c===zE.SemiColon?a.replace(/;$/,"").split(";"):a.split(" ")},YX=function(a,c,p,w){var M=a.getParam(c,p,"string"),E=l1e(f1e(M,w));return{type:"basic",data:E}},KX=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Pne=function(a){var c=function(){return Rt(KX,function(j){return a.formatter.match(j.format)})},p=function(j){return function(){return a.formatter.match(j)}},w=function(j){return G.none},M=function(j){var U=c(),K=U.fold(L("left"),function(oe){return oe.title.toLowerCase()});Ir(j,BR,{icon:"align-"+K})},E=c1e(KX),N=function(j){return function(){return Rt(KX,function(U){return U.format===j.format}).each(function(U){return a.execCommand(U.command)})}};return{tooltip:"Align",text:G.none(),icon:G.some("align-left"),isSelectedFor:p,getCurrentValue:G.none,getPreviewFor:w,onAction:N,updateText:M,dataset:E,shouldHide:!1,isInvalid:function(j){return!a.formatter.canApply(j.format)}}},d1e=function(a,c){return xP(a,c,Pne(a))},h1e=function(a,c){var p=BE(a,c,Pne(a));a.ui.registry.addNestedMenuItem("align",{text:c.shared.providers.translate("Align"),getSubmenuItems:function(){return p.items.validateItems(p.getStyleItems())}})},p1e="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",m1e=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Nne=function(a){var c=a.split(/\s*,\s*/);return Ye(c,function(p){return p.replace(/^['"]+|['"]+$/g,"")})},g1e=function(a){var c=function(){var p=Nne(a.toLowerCase());return Mn(m1e,function(w){return p.indexOf(w.toLowerCase())>-1})};return a.indexOf("-apple-system")===0&&c()},Lne=function(a){var c="System Font",p=function(){var K=function(Ee){return Ee?Nne(Ee)[0]:""},oe=a.queryCommandValue("FontName"),se=U.data,be=oe?oe.toLowerCase():"",_e=Rt(se,function(Ee){var Ve=Ee.format;return Ve.toLowerCase()===be||K(Ve).toLowerCase()===K(be).toLowerCase()}).orThunk(function(){return Si(g1e(be),{title:c,format:be})});return{matchOpt:_e,font:oe}},w=function(K){return function(oe){return oe.exists(function(se){return se.format===K})}},M=function(){var K=p().matchOpt;return K},E=function(K){return function(){return G.some({tag:"div",styles:K.indexOf("dings")===-1?{"font-family":K}:{}})}},N=function(K){return function(){a.undoManager.transact(function(){a.focus(),a.execCommand("FontName",!1,K.format)})}},j=function(K){var oe=p(),se=oe.matchOpt,be=oe.font,_e=se.fold(L(be),function(Ee){return Ee.title});Ir(K,rb,{text:_e})},U=YX(a,"font_formats",p1e,zE.SemiColon);return{tooltip:"Fonts",text:G.some(c),icon:G.none(),isSelectedFor:w,getCurrentValue:M,getPreviewFor:E,onAction:N,updateText:j,dataset:U,shouldHide:!1,isInvalid:ie}},v1e=function(a,c){return xP(a,c,Lne(a))},y1e=function(a,c){var p=BE(a,c,Lne(a));a.ui.registry.addNestedMenuItem("fontformats",{text:c.shared.providers.translate("Fonts"),getSubmenuItems:function(){return p.items.validateItems(p.getStyleItems())}})},b1e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",x1e={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},w1e={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},_1e=function(a,c){var p=Math.pow(10,c);return Math.round(a*p)/p},S1e=function(a,c){return/[0-9.]+px$/.test(a)?_1e(parseInt(a,10)*72/96,c||0)+"pt":Pt(w1e,a).getOr(a)},C1e=function(a){return Pt(x1e,a).getOr("")},Bne=function(a){var c=function(){var U=G.none(),K=j.data,oe=a.queryCommandValue("FontSize");if(oe)for(var se=function(_e){var Ee=S1e(oe,_e),Ve=C1e(Ee);U=Rt(K,function(ft){return ft.format===oe||ft.format===Ee||ft.format===Ve})},be=3;U.isNone()&&be>=0;be--)se(be);return{matchOpt:U,size:oe}},p=function(U){return function(K){return K.exists(function(oe){return oe.format===U})}},w=function(){var U=c().matchOpt;return U},M=L(G.none),E=function(U){return function(){a.undoManager.transact(function(){a.focus(),a.execCommand("FontSize",!1,U.format)})}},N=function(U){var K=c(),oe=K.matchOpt,se=K.size,be=oe.fold(L(se),function(_e){return _e.title});Ir(U,rb,{text:be})},j=YX(a,"fontsize_formats",b1e,zE.Space);return{tooltip:"Font sizes",text:G.some("12pt"),icon:G.none(),isSelectedFor:p,getPreviewFor:M,getCurrentValue:w,onAction:E,updateText:N,dataset:j,shouldHide:!1,isInvalid:ie}},T1e=function(a,c){return xP(a,c,Bne(a))},M1e=function(a,c){var p=BE(a,c,Bne(a));a.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return p.items.validateItems(p.getStyleItems())}})},zne=function(a,c){var p=c(),w=Ye(p,function(M){return M.format});return G.from(a.formatter.closest(w)).bind(function(M){return Rt(p,function(E){return E.format===M})}).orThunk(function(){return Si(a.formatter.match("p"),{title:"Paragraph",format:"p"})})},k1e="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Fne=function(a){var c="Paragraph",p=function(N){return function(){return a.formatter.match(N)}},w=function(N){return function(){var j=a.formatter.get(N);return G.some({tag:j.length>0&&(j[0].inline||j[0].block)||"div",styles:a.dom.parseStyle(a.formatter.getCssText(N))})}},M=function(N){var j=zne(a,function(){return E.data}),U=j.fold(L(c),function(K){return K.title});Ir(N,rb,{text:U})},E=YX(a,"block_formats",k1e,zE.SemiColon);return{tooltip:"Blocks",text:G.some(c),icon:G.none(),isSelectedFor:p,getCurrentValue:G.none,getPreviewFor:w,onAction:Rne(a),updateText:M,dataset:E,shouldHide:!1,isInvalid:function(N){return!a.formatter.canApply(N.format)}}},D1e=function(a,c){return xP(a,c,Fne(a))},A1e=function(a,c){var p=BE(a,c,Fne(a));a.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return p.items.validateItems(p.getStyleItems())}})},Hne=function(a,c){var p="Paragraph",w=function(N){return function(){return a.formatter.match(N)}},M=function(N){return function(){var j=a.formatter.get(N);return j!==void 0?G.some({tag:j.length>0&&(j[0].inline||j[0].block)||"div",styles:a.dom.parseStyle(a.formatter.getCssText(N))}):G.none()}},E=function(N){var j=function(se){var be=se.items;return be!==void 0&&be.length>0?Bt(be,j):[{title:se.title,format:se.format}]},U=Bt(z8(a),j),K=zne(a,L(U)),oe=K.fold(L(p),function(se){return se.title});Ir(N,rb,{text:oe})};return{tooltip:"Formats",text:G.some(p),icon:G.none(),isSelectedFor:w,getCurrentValue:G.none,getPreviewFor:M,onAction:Rne(a),updateText:E,shouldHide:a.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(N){return!a.formatter.canApply(N.format)},dataset:c}},E1e=function(a,c){var p=ne({type:"advanced"},c.styleselect);return xP(a,c,Hne(a,p))},O1e=function(a,c){var p=ne({type:"advanced"},c.styleselect),w=BE(a,c,Hne(a,p));a.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return w.items.validateItems(w.getStyleItems())}})},I1e=function(a,c){var p=function(w,M){a.updateState.each(function(E){var N=E(w,M);c.set(N)}),a.renderComponents.each(function(E){var N=E(M,c.get()),j=Ye(N,w.getSystem().build);Xk(w,j)})};return $i([fn(zc(),function(w,M){var E=M;if(!E.universal){var N=a.channel;Ot(E.channels,N)&&p(w,E.data)}}),da(function(w,M){a.initialData.each(function(E){p(w,E)})})])},R1e=Object.freeze({__proto__:null,events:I1e}),P1e=function(a,c,p){return p},N1e=Object.freeze({__proto__:null,getState:P1e}),L1e=[on("channel"),oi("renderComponents"),oi("updateState"),oi("initialData")],B1e=function(){var a=Er(G.none()),c=function(){return a.set(G.none())},p=function(){return a.get().getOr("none")};return{readState:p,get:a.get,set:a.set,clear:c}},z1e=Object.freeze({__proto__:null,init:B1e}),Sd=Xa({fields:L1e,name:"reflecting",active:R1e,apis:N1e,state:z1e}),F1e=L([on("toggleClass"),on("fetch"),Tg("onExecute"),dt("getHotspot",G.some),dt("getAnchorOverrides",L({})),rm(),Tg("onItemExecute"),oi("lazySink"),on("dom"),_o("onOpen"),Pu("splitDropdownBehaviours",[ou,Rr,$r]),dt("matchWidth",!1),dt("useMinWidth",!1),dt("eventOrder",{}),oi("role")].concat(tR())),H1e=Zu({factory:vl,schema:[on("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:zn([$r.revoke()])}},overrides:function(a){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(c){c.getSystem().getByUid(a.uid).each($h)},buttonBehaviours:zn([zo.config({toggleOnExecute:!1,toggleClass:a.toggleClass})])}}}),V1e=Zu({factory:vl,schema:[on("dom")],name:"button",defaults:function(){return{buttonBehaviours:zn([$r.revoke()])}},overrides:function(a){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(c){c.getSystem().getByUid(a.uid).each(function(p){a.onExecute(p,c)})}}}}),j1e=L([H1e,V1e,Df({factory:{sketch:function(a){return{uid:a.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:a.text}}}},schema:[on("text")],name:"aria-descriptor"}),Ec({schema:[Sg()],name:"menu",defaults:function(a){return{onExecute:function(c,p){c.getSystem().getByUid(a.uid).each(function(w){a.onItemExecute(w,c,p)})}}}}),JI()]),U1e=function(a,c,p,w){var M,E=function(se){So.getCurrent(se).each(function(be){ii.highlightFirst(be),Rr.focusIn(be)})},N=function(se){var be=E;Yw(a,q,se,w,be,ah.HighlightFirst).get(A)},j=function(se){return N(se),G.some(!0)},U=function(se){var be=th(se,a,"button");return $h(be),G.some(!0)},K=ne(ne({},$i([da(function(se,be){var _e=Ti(se,a,"aria-descriptor");_e.each(function(Ee){var Ve=ir("aria");so(Ee.element,"id",Ve),so(se.element,"aria-describedby",Ve)})})])),R1(G.some(N))),oe={repositionMenus:function(se){zo.isOn(se)&&uv(se)}};return{uid:a.uid,dom:a.dom,components:c,apis:oe,eventOrder:ne(ne({},a.eventOrder),(M={},M[Tc()]=["disabling","toggling","alloy.base.behaviour"],M)),events:K,behaviours:Nu(a.splitDropdownBehaviours,[ou.config({others:{sandbox:function(se){var be=th(se,a,"arrow"),_e={onOpen:function(){zo.on(be),zo.on(se)},onClose:function(){zo.off(be),zo.off(se)}};return eR(a,se,_e)}}}),Rr.config({mode:"special",onSpace:U,onEnter:U,onDown:j}),$r.config({}),zo.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:a.role.getOr("button"),"aria-haspopup":!0}}}},k7=ml({name:"SplitDropdown",configFields:F1e(),partFields:j1e(),factory:U1e,apis:{repositionMenus:function(a,c){return a.repositionMenus(c)}}}),W1e=function(a){return{isDisabled:function(){return Mr.isDisabled(a)},setDisabled:function(c){return Mr.set(a,c)}}},q1e=function(a){return{setActive:function(c){zo.set(a,c)},isActive:function(){return zo.isOn(a)},isDisabled:function(){return Mr.isDisabled(a)},setDisabled:function(c){return Mr.set(a,c)}}},Vne=function(a,c){return a.map(function(p){return{"aria-label":c.translate(p),title:c.translate(p)}}).getOr({})},jne=ir("focus-button"),JX=function(a,c,p,w,M,E){var N;return{dom:{tag:"button",classes:["tox-tbtn"].concat(c.isSome()?["tox-tbtn--select"]:[]),attributes:Vne(p,E)},components:W1([a.map(function(j){return xE(j,E.icons)}),c.map(function(j){return RR(j,"tox-tbtn",E)})]),eventOrder:(N={},N[bf()]=["focusing","alloy.base.behaviour","common-button-display-events"],N),buttonBehaviours:zn([Rf.toolbarButton(E.isDisabled),Bu(),po("common-button-display-events",[fn(bf(),function(j,U){U.event.prevent(),Mo(j,jne)})])].concat(w.map(function(j){return Sd.config({channel:j,initialData:{icon:a,text:c},renderComponents:function(U,K){return W1([U.icon.map(function(oe){return xE(oe,E.icons)}),U.text.map(function(oe){return RR(oe,"tox-tbtn",E)})])}})}).toArray()).concat(M.getOr([])))}},$1e=function(a,c,p,w){var M=c.shared;return mp.sketch({lazySink:M.getSink,fetch:function(){return Is.nu(function(E){E(Ye(p(a.items),lo))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:JX(a.icon,a.text,a.tooltip,G.none(),G.none(),M.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:w}}}})},Une=function(a,c,p){var w=Er(A),M=JX(a.icon,a.text,a.tooltip,G.none(),G.none(),p);return vl.sketch({dom:M.dom,components:M.components,eventOrder:LR,buttonBehaviours:zn([po("toolbar-button-events",[m$({onAction:a.onAction,getApi:c.getApi}),LC(c,w),BC(c,w)]),Rf.toolbarButton(function(){return a.disabled||p.isDisabled()}),Bu()].concat(c.toolbarButtonBehaviours))})},G1e=function(a,c){return Wne(a,c,[])},Wne=function(a,c,p){return Une(a,{toolbarButtonBehaviours:[].concat(p.length>0?[po("toolbarButtonWith",p)]:[]),getApi:W1e,onSetup:a.onSetup},c)},X1e=function(a,c){return qne(a,c,[])},qne=function(a,c,p){return Qt(Une(a,{toolbarButtonBehaviours:[Zr.config({}),zo.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(p.length>0?[po("toolbarToggleButtonWith",p)]:[]),getApi:q1e,onSetup:a.onSetup},c))},Y1e=function(a,c,p){return function(w){return Is.nu(function(M){return c.fetch(M)}).map(function(M){return G.from(AB(Qt(zA(ir("menu-value"),M,function(E){c.onItemAction(a(w),E)},c.columns,c.presets,lp.CLOSE_ON_EXECUTE,c.select.getOr(ie),p),{movement:jC(c.columns,c.presets),menuBehaviours:AA.unnamedEvents(c.columns!=="auto"?[]:[da(function(E,N){dI(E,4,h6(c.presets)).each(function(j){var U=j.numRows,K=j.numColumns;Rr.setGridSize(E,U,K)})})])})))})}},K1e=function(a,c){var p,w=ir("channel-update-split-dropdown-display"),M=function(j){return{isDisabled:function(){return Mr.isDisabled(j)},setDisabled:function(U){return Mr.set(j,U)},setIconFill:function(U,K){pu(j.element,'svg path[id="'+U+'"], rect[id="'+U+'"]').each(function(oe){so(oe,"fill",K)})},setIconStroke:function(U,K){pu(j.element,'svg path[id="'+U+'"], rect[id="'+U+'"]').each(function(oe){so(oe,"stroke",K)})},setActive:function(U){so(j.element,"aria-pressed",U),pu(j.element,"span").each(function(K){j.getSystem().getByDom(K).each(function(oe){return zo.set(oe,U)})})},isActive:function(){return pu(j.element,"span").exists(function(U){return j.getSystem().getByDom(U).exists(zo.isOn)})}}},E=Er(A),N={getApi:M,onSetup:a.onSetup};return k7.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ne({"aria-pressed":!1},Vne(a.tooltip,c.providers))},onExecute:function(j){a.onAction(M(j))},onItemExecute:function(j,U,K){},splitDropdownBehaviours:zn([Rf.splitButton(c.providers.isDisabled),Bu(),po("split-dropdown-events",[fn(jne,$r.focus),LC(N,E),BC(N,E)]),KC.config({})]),eventOrder:(p={},p[Zl()]=["alloy.base.behaviour","split-dropdown-events"],p),toggleClass:"tox-tbtn--enabled",lazySink:c.getSink,fetch:Y1e(M,a,c.providers),parts:{menu:CA(!1,a.columns,a.presets)},components:[k7.parts.button(JX(a.icon,a.text,G.none(),G.some(w),G.some([zo.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),c.providers)),k7.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:XL("chevron-down",c.providers.icons)},buttonBehaviours:zn([Rf.splitButton(c.providers.isDisabled),Bu(),B4()])}),k7.parts["aria-descriptor"]({text:c.providers.translate("To open the popup, press Shift+Enter")})]})},J1e=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],wP=function(a,c){return function(p,w,M){var E=a(p).mapError(function(N){return Np(N)}).getOrDie();return c(E,w,M)}},FE={button:wP(_A,function(a,c){return G1e(a,c.backstage.shared.providers)}),togglebutton:wP(r6,function(a,c){return X1e(a,c.backstage.shared.providers)}),menubutton:wP(m7,function(a,c){return VR(a,"tox-tbtn",c.backstage,G.none())}),splitbutton:wP(NE,function(a,c){return K1e(a,c.backstage.shared)}),grouptoolbarbutton:wP(PX,function(a,c,p){var w,M=p.ui.registry.getAll().buttons,E=function(j){return D7(p,{buttons:M,toolbar:j,allowToolbarGroups:!1},c,G.none())},N=(w={},w[jx]=c.backstage.shared.header.isPositionedAtTop()?Zh.TopToBottom:Zh.BottomToTop,w);switch(RC(p)){case If.floating:return $1e(a,c.backstage,E,N);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(a,c){return E1e(a,c.backstage)},fontsizeSelectButton:function(a,c){return T1e(a,c.backstage)},fontSelectButton:function(a,c){return v1e(a,c.backstage)},formatButton:function(a,c){return D1e(a,c.backstage)},alignMenuButton:function(a,c){return d1e(a,c.backstage)}},Q1e=function(a,c,p){return Pt(FE,a.type).fold(function(){return console.error("skipping button defined by",a),G.none()},function(w){return G.some(w(a,c,p))})},$ne={styleselect:FE.styleSelectButton,fontsizeselect:FE.fontsizeSelectButton,fontselect:FE.fontSelectButton,formatselect:FE.formatButton,align:FE.alignMenuButton},Z1e=function(a){var c=Ye(J1e,function(p){var w=Je(p.items,function(M){return ln(a,M)||ln($ne,M)});return{name:p.name,items:w}});return Je(c,function(p){return p.items.length>0})},ebe=function(a){var c=a.split("|");return Ye(c,function(p){return{items:p.trim().split(" ")}})},tbe=function(a){return k(a,function(c){return ln(c,"name")&&ln(c,"items")})},nbe=function(a){var c=a.toolbar,p=a.buttons;return c===!1?[]:c===void 0||c===!0?Z1e(p):i(c)?ebe(c):tbe(c)?c:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},rbe=function(a,c,p,w,M,E){return Pt(c,p.toLowerCase()).orThunk(function(){return E.bind(function(N){return vt(N,function(j){return Pt(c,j+p.toLowerCase())})})}).fold(function(){return Pt($ne,p.toLowerCase()).map(function(N){return N(a,M)}).orThunk(function(){return G.none()})},function(N){return N.type==="grouptoolbarbutton"&&!w?(console.warn("Ignoring the '"+p+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),G.none()):Q1e(N,M,a)})},D7=function(a,c,p,w){var M=nbe(c),E=Ye(M,function(N){var j=Bt(N.items,function(U){return U.trim().length===0?[]:rbe(a,c.buttons,U,c.allowToolbarGroups,p,w).toArray()});return{title:G.from(a.translate(N.name)),items:j}});return Je(E,function(N){return N.items.length>0})},Gne=function(a,c,p,w){var M=c.outerContainer,E=p.toolbar,N=p.buttons;if(k(E,i)){var j=E.map(function(U){var K={toolbar:U,buttons:N,allowToolbarGroups:p.allowToolbarGroups};return D7(a,K,{backstage:w},G.none())});gu.setToolbars(M,j)}else gu.setToolbar(M,D7(a,p,{backstage:w},G.none()))},Xne=Cr(),obe=Xne.os.isiOS()&&Xne.os.version.major<=12,ibe=function(a,c){var p=a.dom,w=a.getWin(),M=a.getDoc().documentElement,E=Er(Ii(w.innerWidth,w.innerHeight)),N=Er(Ii(M.offsetWidth,M.offsetHeight)),j=function(){var be=E.get();(be.left!==w.innerWidth||be.top!==w.innerHeight)&&(E.set(Ii(w.innerWidth,w.innerHeight)),PI(a))},U=function(){var be=a.getDoc().documentElement,_e=N.get();(_e.left!==be.offsetWidth||_e.top!==be.offsetHeight)&&(N.set(Ii(be.offsetWidth,be.offsetHeight)),PI(a))},K=function(be){return fU(a,be)};p.bind(w,"resize",j),p.bind(w,"scroll",K);var oe=Nx(He.fromDom(a.getBody()),"load",U),se=c.uiMothership.element;a.on("hide",function(){Wr(se,"display","none")}),a.on("show",function(){ri(se,"display")}),a.on("NodeChange",U),a.on("remove",function(){oe.unbind(),p.unbind(w,"resize",j),p.unbind(w,"scroll",K),w=null})},abe=function(a,c,p,w,M){var E=Er(0),N=c.outerContainer;a1e(a);var j=He.fromDom(M.targetNode),U=Ln(Tr(j));pl(j,c.mothership),Wc(U,c.uiMothership),a.on("PostRender",function(){Gne(a,c,p,w),E.set(a.getWin().innerWidth),gu.setMenubar(N,Ane(a,p)),gu.setSidebar(N,p.sidebar),ibe(a,c)});var K=gu.getSocket(N).getOrDie("Could not find expected socket element");if(obe){Gl(K.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var oe=V9(function(){a.fire("ScrollContent")},20),se=Ya(K.element,"scroll",oe.throttle);a.on("remove",se.unbind)}$6(a,c),a.addCommand("ToggleSidebar",function(Ve,ft){gu.toggleSidebar(N,ft),a.fire("ToggleSidebar")}),a.addQueryValueHandler("ToggleSidebar",function(){return gu.whichSidebar(N)});var be=RC(a),_e=function(){gu.refreshToolbar(c.outerContainer)};(be===If.sliding||be===If.floating)&&a.on("ResizeWindow ResizeEditor ResizeContent",function(){var Ve=a.getWin().innerWidth;Ve!==E.get()&&(_e(),E.set(Ve))});var Ee={enable:function(){jw(c,!1)},disable:function(){jw(c,!0)},isDisabled:function(){return Mr.isDisabled(N)}};return{iframeContainer:K.element.dom,editorContainer:N.element.dom,api:Ee}},ube=Object.freeze({__proto__:null,render:abe}),QX=function(a){var c=/^[0-9\.]+(|px)$/i;return c.test(""+a)?G.some(parseInt(""+a,10)):G.none()},ZX=function(a){return _(a)?a+"px":a},A7=function(a,c,p){var w=c.filter(function(E){return a<E}),M=p.filter(function(E){return a>E});return w.or(M).getOr(a)},sbe=function(a){var c=N6(a),p=B6(a),w=yI(a);return QX(c).map(function(M){return A7(M,p,w)})},lbe=function(a){var c=sbe(a);return c.getOr(N6(a))},Yne=function(a){var c=gI(a),p=L6(a),w=vI(a);return QX(c).map(function(M){return A7(M,p,w)})},cbe=function(a){var c=Yne(a);return c.getOr(gI(a))},fbe=function(a,c,p,w,M){var E=p.uiMothership,N=p.outerContainer,j=IC.DOM,U=OA(a),K=IA(a),oe=vI(a).or(Yne(a)),se=w.shared.header,be=se.isPositionedAtTop,_e=RC(a),Ee=_e===If.sliding||_e===If.floating,Ve=Er(!1),ft=function(){return Ve.get()&&!a.removed},Be=function(mn){return Ee?mn.fold(L(0),function(nn){return nn.components().length>1?cu(nn.components()[1].element):0}):0},ht=function(mn){switch(wI(a)){case U1.auto:var nn=gu.getToolbar(N),jn=Be(nn),gr=cu(mn.element)-jn,dn=eu(c),cr=dn.y>gr;if(cr)return"top";var wr=qt(c),Ho=Math.max(wr.dom.scrollHeight,cu(wr)),wi=dn.bottom<Ho-gr;if(wi)return"bottom";var Ea=us(),vp=Ea.bottom<dn.bottom-gr;return vp?"bottom":"top";case U1.bottom:return"bottom";case U1.top:default:return"top"}},Wt=function(mn){var nn=M.get();Rs.setModes(nn,[mn]),se.setDockingMode(mn);var jn=be()?Zh.TopToBottom:Zh.BottomToTop;so(nn.element,jx,jn)},Kt=function(){var mn=oe.getOrThunk(function(){var nn=QX(Ma(li(),"margin-left")).getOr(0);return Cs(li())-ol(c).left+nn});Wr(M.get().element,"max-width",mn+"px")},ct=function(){var mn=gu.getToolbar(N),nn=Be(mn),jn=eu(c),gr=be()?Math.max(jn.y-cu(M.get().element)+nn,0):jn.bottom;Gl(N.element,{position:"absolute",top:Math.round(gr)+"px",left:Math.round(jn.x)+"px"})},Lt=function(){E.broadcastOn([y0()],{})},rn=function(mn){if(mn===void 0&&(mn=!1),!!ft()){if(U||Kt(),Ee&&gu.refreshToolbar(N),U||ct(),K){var nn=M.get();mn?Rs.reset(nn):Rs.refresh(nn)}Lt()}},$n=function(mn){if(mn===void 0&&(mn=!0),!(U||!K||!ft())){var nn=se.getDockingMode(),jn=ht(M.get());jn!==nn&&(Wt(jn),mn&&rn(!0))}},cn=function(){Ve.set(!0),Wr(N.element,"display","flex"),j.addClass(a.getBody(),"mce-edit-focus"),ri(E.element,"display"),$n(!1),rn()},Xn=function(){Ve.set(!1),p.outerContainer&&(Wr(N.element,"display","none"),j.removeClass(a.getBody(),"mce-edit-focus")),Wr(E.element,"display","none")};return{isVisible:ft,isPositionedAtTop:be,show:cn,hide:Xn,update:rn,updateMode:$n,repositionPopups:Lt}},Kne=function(a,c){var p=eu(a);return{pos:c?p.y:p.bottom,bounds:p}},dbe=function(a,c,p,w){var M=Er(Kne(c,p.isPositionedAtTop())),E=function(j){var U=Kne(c,p.isPositionedAtTop()),K=U.pos,oe=U.bounds,se=M.get(),be=se.pos,_e=se.bounds,Ee=oe.height!==_e.height||oe.width!==_e.width;M.set({pos:K,bounds:oe}),Ee&&PI(a,j),p.isVisible()&&(be!==K?p.update(!0):Ee&&(p.updateMode(),p.repositionPopups()))};w||(a.on("activate",p.show),a.on("deactivate",p.hide)),a.on("SkinLoaded ResizeWindow",function(){return p.update(!0)}),a.on("NodeChange keydown",function(j){ov.requestAnimationFrame(function(){return E(j)})}),a.on("ScrollWindow",function(){return p.updateMode()});var N=Ag();N.set(Nx(He.fromDom(a.getBody()),"load",E)),a.on("remove",function(){N.clear()})},hbe=function(a,c,p,w,M){var E=c.mothership,N=c.uiMothership,j=c.outerContainer,U=Er(null),K=He.fromDom(M.targetNode),oe=fbe(a,K,c,w,U),se=Nj(a);u1e(a);var be=function(){if(U.get()){oe.show();return}U.set(gu.getHeader(j).getOrDie());var Ve=PC(a);Wc(Ve,E),Wc(Ve,N),Gne(a,c,p,w),gu.setMenubar(j,Ane(a,p)),oe.show(),dbe(a,K,oe,se),a.nodeChanged()},_e=function(){return ov.setEditorTimeout(a,be,0)};a.on("show",be),a.on("hide",oe.hide),se||(a.on("focus",_e),a.on("blur",oe.hide)),a.on("init",function(){(a.hasFocus()||se)&&_e()}),$6(a,c);var Ee={show:function(){oe.show()},hide:function(){oe.hide()},enable:function(){jw(c,!1)},disable:function(){jw(c,!0)},isDisabled:function(){return Mr.isDisabled(j)}};return{editorContainer:j.element.dom,api:Ee}},pbe=Object.freeze({__proto__:null,render:hbe}),mbe="contexttoolbar-show",Jne="contexttoolbar-hide",gbe=function(a){return{hide:function(){return Mo(a,zy())},getValue:function(){return qn.getValue(a)}}},Qne=function(a,c){return fn(NR,function(p,w){var M=a.get(p),E=gbe(M);c.onAction(E,w.event.buttonApi)})},vbe=function(a,c,p){var w=c.original;w.primary;var M=Q(w,["primary"]),E=gf(_A(ne(ne({},M),{type:"button",onAction:A})));return Wne(E,p.backstage.shared.providers,[Qne(a,c)])},ybe=function(a,c,p){var w=c.original;w.primary;var M=Q(w,["primary"]),E=gf(r6(ne(ne({},M),{type:"togglebutton",onAction:A})));return qne(E,p.backstage.shared.providers,[Qne(a,c)])},bbe=function(a,c,p){var w={backstage:{shared:{providers:p}}};return c.type==="contextformtogglebutton"?ybe(a,c,w):vbe(a,c,w)},xbe=function(a,c,p){var w=Ye(c,function(N){return ci(bbe(a,N,p))}),M=function(){return Ye(w,function(N){return N.asSpec()})},E=function(N){return vt(c,function(j,U){return j.primary?G.from(w[U]).bind(function(K){return K.getOpt(N)}).filter(ae(Mr.isDisabled)):G.none()})};return{asSpecs:M,findPrimary:E}},Zne=function(a,c){var p=a.label.fold(function(){return{}},function(E){return{"aria-label":E}}),w=ci(YC.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:a.initValue(),inputAttributes:p,selectOnFocus:!0,inputBehaviours:zn([Rr.config({mode:"special",onEnter:function(E){return M.findPrimary(E).map(function(N){return $h(N),!0})},onLeft:function(E,N){return N.cut(),G.none()},onRight:function(E,N){return N.cut(),G.none()}})])})),M=xbe(w,a.commands,c);return[{title:G.none(),items:[w.asSpec()]},{title:G.none(),items:M.asSpecs()}]},wbe=function(a,c,p){return C7({type:a,uid:ir("context-toolbar"),initGroups:Zne(c,p),onEscape:G.none,cyclicKeying:!0,providers:p})},_be={renderContextForm:wbe,buildInitGroups:Zne},ere=function(a,c,p){return p===void 0&&(p=.01),c.bottom-a.y>=p&&a.bottom-c.y>=p},Sbe=function(a){var c=a.getBoundingClientRect();if(c.height<=0&&c.width<=0){var p=Re(He.fromDom(a.startContainer),a.startOffset).element,w=Me(p)?aa(p):G.some(p);return w.filter(he).map(function(M){return M.dom.getBoundingClientRect()}).getOr(c)}else return c},eY=function(a){var c=a.selection.getRng(),p=Sbe(c);if(a.inline){var w=Yl();return wu(w.left+p.left,w.top+p.top,p.width,p.height)}else{var M=zd(He.fromDom(a.getBody()));return wu(M.x+p.left,M.y+p.top,p.width,p.height)}},Cbe=function(a,c){return c.filter(Or).map(zd).getOrThunk(function(){return eY(a)})},Tbe=function(a,c,p){var w=Math.max(a.x+p,c.x),M=Math.min(a.right-p,c.right);return{x:w,width:M-w}},Mbe=function(a,c,p,w,M,E){var N=He.fromDom(a.getContainer()),j=pu(N,".tox-editor-header").getOr(N),U=eu(j),K=U.y>=c.bottom,oe=w&&!K;if(a.inline&&oe)return{y:Math.max(U.bottom+E,p.y),bottom:p.bottom};if(a.inline&&!oe)return{y:p.y,bottom:Math.min(U.y-E,p.bottom)};var se=M==="line"?eu(N):c;return oe?{y:Math.max(U.bottom+E,p.y),bottom:Math.min(se.bottom-E,p.bottom)}:{y:Math.max(se.y+E,p.y),bottom:Math.min(U.y-E,p.bottom)}},tre=function(a,c,p,w){w===void 0&&(w=0);var M=Bh(window),E=eu(He.fromDom(a.getContentAreaContainer())),N=bI(a)||xI(a)||EA(a),j=Tbe(E,M,w),U=j.x,K=j.width;if(a.inline&&!N)return wu(U,M.y,K,M.height);var oe=c.header.isPositionedAtTop(),se=Mbe(a,E,M,oe,p,w),be=se.y,_e=se.bottom;return wu(U,be,K,_e-be)},E7=12,nre={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},rre={maxHeightFunction:d0(),maxWidthFunction:_d()},kbe=function(a,c){var p=a.selection.getRng(),w=Re(He.fromDom(p.startContainer),p.startOffset);return p.startContainer===p.endContainer&&p.startOffset===p.endOffset-1&&si(w.element,c)},Dbe=function(a,c,p){var w=Za(a,"position");Wr(a,"position",c);var M=p(a);return w.each(function(E){return Wr(a,"position",E)}),M},ore=function(a){return a==="node"},Abe=function(a,c,p,w,M){var E=eY(a),N=w.lastElement().exists(function(K){return si(p,K)});if(kbe(a,p))return N?WL:Ef;if(N)return Dbe(c,w.getMode(),function(){var K=ere(E,eu(c));return K&&!w.isReposition()?N9:WL});var j=w.getMode()==="fixed"?M.y+Yl().top:M.y,U=cu(c)+E7;return j+U<=E.y?Ef:rv},Ebe=function(a,c,p,w){var M=function(U){return function(K,oe,se,be,_e){var Ee=Abe(a,be,U,p,_e),Ve=ne(ne({},K),{y:_e.y,height:_e.height});return ne(ne({},Ee(Ve,oe,se,be,_e)),{alwaysFit:!0})}},E=function(U){return ore(w)?[M(U)]:[]},N={onLtr:function(U){return[Pl,ds,$s,Es,Ku,Su].concat(E(U))},onRtl:function(U){return[Pl,ds,Ku,Su,$s,Es].concat(E(U))}},j={onLtr:function(U){return[ds,Es,Su,$s,Ku,Pl].concat(E(U))},onRtl:function(U){return[ds,Su,Es,Ku,$s,Pl].concat(E(U))}};return c?j:N},Obe=function(a,c,p,w){return c==="line"?{bubble:nm(E7,0,nre),layouts:{onLtr:function(){return[xx]},onRtl:function(){return[Jp]}},overrides:rre}:{bubble:nm(0,E7,nre,1/E7),layouts:Ebe(a,p,w,c),overrides:rre}},tY=function(a,c){var p=Je(c,function(N){return N.predicate(a.dom)}),w=qe(p,function(N){return N.type==="contexttoolbar"}),M=w.pass,E=w.fail;return{contextToolbars:M,contextForms:E}},Ibe=function(a){if(a.length<=1)return a;var c=function(j){return Nt(a,function(U){return U.position===j})},p=function(j){return Je(a,function(U){return U.position===j})},w=c("selection"),M=c("node");if(w||M)if(M&&w){var E=p("node"),N=Ye(p("selection"),function(j){return ne(ne({},j),{position:"node"})});return E.concat(N)}else return p(w?"selection":"node");else return p("line")},Rbe=function(a){if(a.length<=1)return a;var c=function(w){return Rt(a,function(M){return M.position===w})},p=c("selection").orThunk(function(){return c("node")}).orThunk(function(){return c("line")}).map(function(w){return w.position});return p.fold(function(){return[]},function(w){return Je(a,function(M){return M.position===w})})},Pbe=function(a,c,p){var w=tY(a,c);if(w.contextForms.length>0)return G.some({elem:a,toolbars:[w.contextForms[0]]});var M=tY(a,p);if(M.contextForms.length>0)return G.some({elem:a,toolbars:[M.contextForms[0]]});if(w.contextToolbars.length>0||M.contextToolbars.length>0){var E=Ibe(w.contextToolbars.concat(M.contextToolbars));return G.some({elem:a,toolbars:E})}else return G.none()},Nbe=function(a,c,p){return a(c)?G.none():By(c,function(w){if(he(w)){var M=tY(w,p.inNodeScope),E=M.contextToolbars,N=M.contextForms,j=N.length>0?N:Rbe(E);return j.length>0?G.some({elem:w,toolbars:j}):G.none()}else return G.none()},a)},Lbe=function(a,c){var p=He.fromDom(c.getBody()),w=function(N){return si(N,p)},M=function(N){return!w(N)&&!Ss(p,N)},E=He.fromDom(c.selection.getNode());return M(E)?G.none():Pbe(E,a.inNodeScope,a.inEditorScope).orThunk(function(){return Nbe(w,E,a)})},Bbe=function(a,c){var p={},w=[],M=[],E={},N={},j=function(oe,se){var be=gf(Y4(se));p[oe]=be,be.launch.map(function(_e){E["form:"+oe]=ne(ne({},se.launch),{type:_e.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){c(be)}})}),be.scope==="editor"?M.push(be):w.push(be),N[oe]=be},U=function(oe,se){u6(se).each(function(be){se.scope==="editor"?M.push(be):w.push(be),N[oe]=be})},K=Tt(a);return je(K,function(oe){var se=a[oe];se.type==="contextform"?j(oe,se):se.type==="contexttoolbar"&&U(oe,se)}),{forms:p,inNodeScope:w,inEditorScope:M,lookupTable:N,formNavigators:E}},ire=ir("forward-slide"),are=ir("backward-slide"),nY=ir("change-slide-event"),rY="tox-pop--resizing",zbe=function(a){var c=Er([]);return gi.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(p){c.set([]),gi.getContent(p).each(function(w){ri(w.element,"visibility")}),hu(p.element,rY),ri(p.element,"width")},inlineBehaviours:zn([po("context-toolbar-events",[Gh(Yv(),function(p,w){w.event.raw.propertyName==="width"&&(hu(p.element,rY),ri(p.element,"width"))}),fn(nY,function(p,w){var M=p.element;ri(M,"width");var E=Cs(M);gi.setContent(p,w.event.contents),Xu(M,rY);var N=Cs(M);Wr(M,"width",E+"px"),gi.getContent(p).each(function(j){w.event.focus.bind(function(U){return Yd(U),Cf(M)}).orThunk(function(){return Rr.focusIn(j),oc(Tr(M))})}),ov.setTimeout(function(){Wr(p.element,"width",N+"px")},0)}),fn(ire,function(p,w){gi.getContent(p).each(function(M){c.set(c.get().concat([{bar:M,focus:oc(Tr(p.element))}]))}),Ir(p,nY,{contents:w.event.forwardContents,focus:G.none()})}),fn(are,function(p,w){vn(c.get()).each(function(M){c.set(c.get().slice(0,c.get().length-1)),Ir(p,nY,{contents:Dc(M.bar),focus:M.focus})})})]),Rr.config({mode:"special",onEscape:function(p){return vn(c.get()).fold(function(){return a.onEscape()},function(w){return Mo(p,are),G.some(!0)})}})]),lazySink:function(){return fo.value(a.sink)}})},oY="tox-pop--transition",Fbe=function(a,c,p,w){var M=w.backstage,E=M.shared,N=Cr().deviceType.isTouch,j=Ba(),U=Ba(),K=Ba(),oe=nu(zbe({sink:p,onEscape:function(){return a.focus(),G.some(!0)}})),se=function(){var cn=K.get().getOr("node"),Xn=ore(cn)?1:0;return tre(a,E,cn,Xn)},be=function(){return!a.removed&&!(N()&&M.isContextMenuOpen())},_e=function(cn){return Lr(ui(cn,j.get(),si),!0)},Ee=function(){if(be()){var cn=se(),Xn=Lr(K.get(),"node")?Cbe(a,j.get()):eY(a);return cn.height<=0||!ere(Xn,cn)}else return!0},Ve=function(){j.clear(),U.clear(),K.clear(),gi.hide(oe)},ft=function(){if(gi.isOpen(oe)){var cn=oe.element;ri(cn,"display"),Ee()?Wr(cn,"display","none"):(U.set(0),gi.reposition(oe))}},Be=function(cn){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[cn],behaviours:zn([Rr.config({mode:"acyclic"}),po("pop-dialog-wrap-events",[da(function(Xn){a.shortcuts.add("ctrl+F9","focus statusbar",function(){return Rr.focusIn(Xn)})}),ec(function(Xn){a.shortcuts.remove("ctrl+F9")})])])}},ht=_t(function(){return Bbe(c,function(cn){var Xn=ct([cn]);Ir(oe,ire,{forwardContents:Be(Xn)})})}),Wt=function(cn,Xn){return D7(a,{buttons:cn,toolbar:Xn.items,allowToolbarGroups:!1},w,G.some(["form:"]))},Kt=function(cn,Xn){return _be.buildInitGroups(cn,Xn)},ct=function(cn){var Xn=a.ui.registry.getAll().buttons,mn=ht(),nn=ne(ne({},Xn),mn.formNavigators),jn=RC(a)===If.scrolling?If.scrolling:If.default,gr=Ke(Ye(cn,function(dn){return dn.type==="contexttoolbar"?Wt(nn,dn):Kt(dn,E.providers)}));return C7({type:jn,uid:ir("context-toolbar"),initGroups:gr,onEscape:G.none,cyclicKeying:!0,providers:E.providers})},Lt=function(cn,Xn){var mn=cn==="node"?E.anchors.node(Xn):E.anchors.cursor(),nn=Obe(a,cn,N(),{lastElement:j.get,isReposition:function(){return Lr(U.get(),0)},getMode:function(){return hl.getMode(p)}});return Qt(mn,nn)},rn=function(cn,Xn){if($n.cancel(),!!be()){var mn=ct(cn),nn=cn[0].position,jn=Lt(nn,Xn);K.set(nn),U.set(1);var gr=oe.element;ri(gr,"display"),_e(Xn)||(hu(gr,oY),hl.reset(p,oe)),gi.showWithinBounds(oe,Be(mn),{anchor:jn,transition:{classes:[oY],mode:"placement"}},function(){return G.some(se())}),Xn.fold(j.clear,j.set),Ee()&&Wr(gr,"display","none")}},$n=H4(function(){if(!(!a.hasFocus()||a.removed))if(cl(oe.element,oY))$n.throttle();else{var cn=ht();Lbe(cn,a).fold(Ve,function(Xn){rn(Xn.toolbars,G.some(Xn.elem))})}},17);a.on("init",function(){a.on("remove",Ve),a.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ft),a.on("click keyup focus SetContent",$n.throttle),a.on(Jne,Ve),a.on(mbe,function(cn){var Xn=ht();Pt(Xn.lookupTable,cn.toolbarKey).each(function(mn){rn([mn],Si(cn.target!==a,cn.target)),gi.getContent(oe).each(Rr.focusIn)})}),a.on("focusout",function(cn){ov.setEditorTimeout(a,function(){Cf(p.element).isNone()&&Cf(oe.element).isNone()&&Ve()},0)}),a.on("SwitchMode",function(){a.mode.isReadOnly()&&Ve()}),a.on("AfterProgressState",function(cn){cn.state?Ve():a.hasFocus()&&$n.throttle()}),a.on("NodeChange",function(cn){Cf(oe.element).fold($n.throttle,A)})})},Hbe=function(a){var c=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];je(c,function(p){a.ui.registry.addToggleButton(p.name,{tooltip:p.text,icon:p.icon,onAction:gp(a,p.cmd),onSetup:T7(a,p.name)})}),a.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:gp(a,"JustifyNone")})},Vbe={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},jbe=function(){var a="[0-9]+",c="[+-]?"+a,p="[eE]"+c,w="\\.",M=function(j){return"(?:"+j+")?"},E=["Infinity",a+w+M(a)+M(p),w+a+M(p),a+M(p)].join("|"),N="[+-]?(?:"+E+")";return new RegExp("^("+N+")(.*)$")}(),Ube=function(a,c){return Nt(c,function(p){return Nt(Vbe[p],function(w){return a===w})})},Wbe=function(a,c){var p=G.from(jbe.exec(a));return p.bind(function(w){var M=Number(w[1]),E=w[2];return Ube(E,c)?G.some({value:M,unit:E}):G.none()})},qbe=function(a,c){return Wbe(a,c).map(function(p){var w=p.value,M=p.unit;return w+M})},ure=function(a,c){var p=function(){var w=c.getOptions(a),M=c.getCurrent(a).map(c.hash),E=Ba();return Ye(w,function(N){return{type:"togglemenuitem",text:c.display(N),onSetup:function(j){var U=function(oe){oe&&(E.on(function(se){return se.setActive(!1)}),E.set(j)),j.setActive(oe)};U(Lr(M,c.hash(N)));var K=c.watcher(a,N,U);return function(){E.clear(),K()}},onAction:function(){return c.setCurrent(a,N)}}})};a.ui.registry.addMenuButton(c.name,{tooltip:c.text,icon:c.icon,fetch:function(w){return w(p())},onSetup:c.onToolbarSetup}),a.ui.registry.addNestedMenuItem(c.name,{type:"nestedmenuitem",text:c.text,getSubmenuItems:p,onSetup:c.onMenuSetup})},$be={name:"lineheight",text:"Line height",icon:"line-height",getOptions:Aj,hash:function(a){return qbe(a,["fixed","relative","empty"]).getOr(a)},display:q,watcher:function(a,c,p){return a.formatter.formatChanged("lineheight",p,!1,{value:c}).unbind},getCurrent:function(a){return G.from(a.queryCommandValue("LineHeight"))},setCurrent:function(a,c){return a.execCommand("LineHeight",!1,c)}},Gbe=function(a){var c=G.from(Ej(a));return c.map(function(p){return{name:"language",text:"Language",icon:"language",getOptions:L(p),hash:function(w){return g(w.customCode)?w.code:w.code+"/"+w.customCode},display:function(w){return w.title},watcher:function(w,M,E){return w.formatter.formatChanged("lang",E,!1,{value:M.code,customValue:M.customCode}).unbind},getCurrent:function(w){var M=He.fromDom(w.selection.getNode());return qv(M,function(E){return G.some(E).filter(he).bind(function(N){var j=xa(N,"lang");return j.map(function(U){var K=xa(N,"data-mce-lang").getOrUndefined();return{code:U,customCode:K,title:""}})})})},setCurrent:function(w,M){return w.execCommand("Lang",!1,M)},onToolbarSetup:function(w){var M=Ag();return w.setActive(a.formatter.match("lang",{},void 0,!0)),M.set(a.formatter.formatChanged("lang",w.setActive,!0)),M.clear}}})},Xbe=function(a){ure(a,$be),Gbe(a).each(function(c){return ure(a,c)})},Ybe=function(a,c){h1e(a,c),y1e(a,c),O1e(a,c),A1e(a,c),M1e(a,c)},Kbe=function(a){return M7(a,"NodeChange",function(c){c.setDisabled(!a.queryCommandState("outdent"))})},Jbe=function(a){a.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:Kbe(a),onAction:gp(a,"outdent")}),a.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:gp(a,"indent")})},Qbe=function(a){Jbe(a)},iY=function(a,c){return function(){a.execCommand("mceToggleFormat",!1,c)}},Zbe=function(a){Mm.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(w,M){a.ui.registry.addToggleButton(w.name,{tooltip:w.text,icon:w.icon,onSetup:T7(a,w.name),onAction:iY(a,w.name)})});for(var c=1;c<=6;c++){var p="h"+c;a.ui.registry.addToggleButton(p,{text:p.toUpperCase(),tooltip:"Heading "+c,onSetup:T7(a,p),onAction:iY(a,p)})}},exe=function(a){Mm.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(c){a.ui.registry.addButton(c.name,{tooltip:c.text,icon:c.icon,onAction:gp(a,c.action)})})},txe=function(a){Mm.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(c){a.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:gp(a,c.action),onSetup:T7(a,c.name)})})},nxe=function(a){Zbe(a),exe(a),txe(a)},rxe=function(a){Mm.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(c){a.ui.registry.addMenuItem(c.name,{text:c.text,icon:c.icon,shortcut:c.shortcut,onAction:gp(a,c.action)})}),a.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:iY(a,"code")})},oxe=function(a){nxe(a),rxe(a)},O7=function(a,c){return M7(a,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(p){p.setDisabled(a.mode.isReadOnly()||!a.undoManager[c]())})},ixe=function(a){a.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:O7(a,"hasUndo"),onAction:gp(a,"undo")}),a.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:O7(a,"hasRedo"),onAction:gp(a,"redo")})},axe=function(a){a.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:O7(a,"hasUndo"),onAction:gp(a,"undo")}),a.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:O7(a,"hasRedo"),onAction:gp(a,"redo")})},uxe=function(a){ixe(a),axe(a)},sxe=function(a){return M7(a,"VisualAid",function(c){c.setActive(a.hasVisual)})},lxe=function(a){a.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:sxe(a),onAction:gp(a,"mceToggleVisualAid")})},cxe=function(a){a.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:gp(a,"mceToggleVisualAid")})},fxe=function(a){cxe(a),lxe(a)},dxe=function(a,c){Hbe(a),oxe(a),Ybe(a,c),uxe(a),wU(a),fxe(a),Qbe(a),Xbe(a)},_P=function(a,c){return{type:"makeshift",x:a,y:c}},hxe=function(a,c,p){return _P(a.x+c,a.y+p)},sre=function(a){return a.type==="longpress"||a.type.indexOf("touch")===0},pxe=function(a){if(sre(a)){var c=a.touches[0];return _P(c.pageX,c.pageY)}else return _P(a.pageX,a.pageY)},mxe=function(a){if(sre(a)){var c=a.touches[0];return _P(c.clientX,c.clientY)}else return _P(a.clientX,a.clientY)},gxe=function(a,c){var p=IC.DOM.getPos(a);return hxe(c,p.x,p.y)},vxe=function(a,c){return c.type==="contextmenu"||c.type==="longpress"?a.inline?pxe(c):gxe(a.getContentAreaContainer(),mxe(c)):lre(a)},lre=function(a){return{type:"selection",root:He.fromDom(a.selection.getNode())}},yxe=function(a){return{type:"node",node:G.some(He.fromDom(a.selection.getNode())),root:He.fromDom(a.getBody())}},cre=function(a,c,p){switch(p){case"node":return yxe(a);case"point":return vxe(a,c);case"selection":return lre(a)}},bxe=function(a,c,p,w,M,E){var N=p(),j=cre(a,c,E);o2(N,lp.CLOSE_ON_EXECUTE,w,!1).map(function(U){c.preventDefault(),gi.showMenuAt(M,{anchor:j},{menu:{markers:iv("normal")},data:U})})},xxe={onLtr:function(){return[ds,Es,Su,$s,Ku,Pl,Ef,rv,nv,H0,B1,L1]},onRtl:function(){return[ds,Su,Es,Ku,$s,Pl,Ef,rv,B1,L1,nv,H0]}},wxe=12,_xe={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Sxe=function(a,c){var p=a.selection;if(p.isCollapsed()||c.touches.length<1)return!1;var w=c.touches[0],M=p.getRng(),E=xS(a.getWin(),m0.domRange(M));return E.exists(function(N){return N.left<=w.clientX&&N.right>=w.clientX&&N.top<=w.clientY&&N.bottom>=w.clientY})},Cxe=function(a){var c=a.selection.getRng(),p=function(){ov.setEditorTimeout(a,function(){a.selection.setRng(c)},10),E()};a.once("touchend",p);var w=function(N){N.preventDefault(),N.stopImmediatePropagation()};a.on("mousedown",w,!0);var M=function(){return E()};a.once("longpresscancel",M);var E=function(){a.off("touchend",p),a.off("longpresscancel",M),a.off("mousedown",w)}},Txe=function(a,c,p){var w=cre(a,c,p),M=p==="point"?wxe:0;return ne({bubble:nm(0,M,_xe),layouts:xxe,overrides:{maxWidthFunction:_d(),maxHeightFunction:d0()}},w)},Mxe=function(a,c,p,w,M,E,N){var j=Txe(a,c,E);o2(p,lp.CLOSE_ON_EXECUTE,w,!0).map(function(U){c.preventDefault(),gi.showMenuWithinBounds(M,{anchor:j},{menu:{markers:iv("normal"),highlightImmediately:N},data:U,type:"horizontal"},function(){return G.some(tre(a,w.shared,E==="node"?"node":"selection"))}),a.fire(Jne)})},kxe=function(a,c,p,w,M,E){var N=Cr(),j=N.os.isiOS(),U=N.os.isOSX(),K=N.os.isAndroid(),oe=N.deviceType.isTouch(),se=function(){return!(K||j||U&&oe)},be=function(){var Ee=p();Mxe(a,c,Ee,w,M,E,se())};if((U||j)&&E!=="node"){var _e=function(){Cxe(a),be()};Sxe(a,c)?_e():(a.once("selectionchange",_e),a.once("touchend",function(){return a.off("selectionchange",_e)}))}else be()},fre=function(a){return typeof a=="string"?a.split(/[ ,]/):a},dre=function(a){return a.getParam("contextmenu_never_use_native",!1,"boolean")},Dxe=function(a,c,p){var w=a.ui.registry.getAll().contextMenus;return G.from(a.getParam(c)).map(fre).getOrThunk(function(){return Je(fre(p),function(M){return ln(w,M)})})},Axe=function(a){return a.getParam("contextmenu")===!1},Exe=function(a){return Dxe(a,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},Oxe=function(a){return a.getParam("contextmenu_avoid_overlap","","string")},hre=function(a){return i(a)?a==="|":a.type==="separator"},aY={type:"separator"},pre=function(a){var c=function(p){return{text:p.text,icon:p.icon,disabled:p.disabled,shortcut:p.shortcut}};if(i(a))return a;switch(a.type){case"separator":return aY;case"submenu":return ne(ne({type:"nestedmenuitem"},c(a)),{getSubmenuItems:function(){var p=a.getSubmenuItems();return i(p)?p:Ye(p,pre)}});default:return ne(ne({type:"menuitem"},c(a)),{onAction:R(a.onAction)})}},mre=function(a,c){if(c.length===0)return a;var p=vn(a).filter(function(M){return!hre(M)}),w=p.fold(function(){return[]},function(M){return[aY]});return a.concat(w).concat(c).concat([aY])},Ixe=function(a,c,p){var w=Ft(c,function(M,E){return Pt(a,E.toLowerCase()).map(function(N){var j=N.update(p);if(i(j))return mre(M,j.split(" "));if(j.length>0){var U=Ye(j,pre);return mre(M,U)}else return M}).getOrThunk(function(){return M.concat([E])})},[]);return w.length>0&&hre(w[w.length-1])&&w.pop(),w},Rxe=function(a,c){return c.ctrlKey&&!dre(a)},gre=function(a,c){return c.type!=="longpress"&&(c.button!==2||c.target===a.getBody()&&c.pointerType==="")},vre=function(a,c){return gre(a,c)?a.selection.getStart(!0):c.target},Pxe=function(a,c){var p=Oxe(a),w=gre(a,c)?"selection":"point";if(Ua(p)){var M=vre(a,c),E=qC(He.fromDom(M),p);return E?"node":w}else return w},Nxe=function(a,c,p){var w=Cr(),M=w.deviceType.isTouch,E=nu(gi.sketch({dom:{tag:"div"},lazySink:c,onEscape:function(){return a.focus()},onShow:function(){return p.setContextMenuState(!0)},onHide:function(){return p.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:zn([po("dismissContextMenu",[fn(xf(),function(U,K){Lo.close(U),a.focus()})])])})),N=function(U){return gi.hide(E)},j=function(U){if(dre(a)&&U.preventDefault(),!(Rxe(a,U)||Axe(a))){var K=Pxe(a,U),oe=function(){var be=vre(a,U),_e=a.ui.registry.getAll(),Ee=Exe(a);return Ixe(_e.contextMenus,Ee,be)},se=M()?kxe:bxe;se(a,U,oe,p,E,K)}};a.on("init",function(){var U="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(M()?"":" ResizeWindow");a.on(U,N),a.on("longpress contextmenu",j)})},uY=Cc.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),I7=function(a){return function(c){return c.translate(-a.left,-a.top)}},R7=function(a){return function(c){return c.translate(a.left,a.top)}},hb=function(a){return function(c,p){return Ft(a,function(w,M){return M(w)},Ii(c,p))}},P7=function(a,c,p){return a.fold(hb([R7(p),I7(c)]),hb([I7(c)]),hb([]))},HE=function(a,c,p){return a.fold(hb([R7(p)]),hb([]),hb([R7(c)]))},yre=function(a,c,p){return a.fold(hb([]),hb([I7(p)]),hb([R7(c),I7(p)]))},Lxe=function(a,c,p,w,M,E){var N=HE(a,M,E),j=HE(c,M,E);return Math.abs(N.left-j.left)<=p&&Math.abs(N.top-j.top)<=w},Bxe=function(a,c,p,w,M,E){var N=HE(a,M,E),j=HE(c,M,E),U=Math.abs(N.left-j.left),K=Math.abs(N.top-j.top);return Ii(U,K)},bre=function(a,c,p){var w=a.fold(function(M,E){return{position:G.some("absolute"),left:G.some(M+"px"),top:G.some(E+"px")}},function(M,E){return{position:G.some("absolute"),left:G.some(M-p.left+"px"),top:G.some(E-p.top+"px")}},function(M,E){return{position:G.some("fixed"),left:G.some(M+"px"),top:G.some(E+"px")}});return ne({right:G.none(),bottom:G.none()},w)},zxe=function(a,c,p){return a.fold(function(w,M){return N7(w+c,M+p)},function(w,M){return h2(w+c,M+p)},function(w,M){return xT(w+c,M+p)})},sY=function(a,c,p,w){var M=function(E,N){return function(j,U){var K=E(c,p,w);return N(j.getOr(K.left),U.getOr(K.top))}};return a.fold(M(yre,N7),M(HE,h2),M(P7,xT))},N7=uY.offset,h2=uY.absolute,xT=uY.fixed,xre=function(a,c){var p=ua(a,c);return g(p)?NaN:parseInt(p,10)},Fxe=function(a,c){var p=a.element,w=xre(p,c.leftAttr),M=xre(p,c.topAttr);return isNaN(w)||isNaN(M)?G.none():G.some(Ii(w,M))},Hxe=function(a,c,p){var w=a.element;so(w,c.leftAttr,p.left+"px"),so(w,c.topAttr,p.top+"px")},Vxe=function(a,c){var p=a.element;Uu(p,c.leftAttr),Uu(p,c.topAttr)},jxe=function(a,c,p,w){return Fxe(a,c).fold(function(){return p},function(M){return xT(M.left+w.left,M.top+w.top)})},Uxe=function(a,c,p,w,M,E){var N=jxe(a,c,p,w),j=c.mustSnap?qxe(a,c,N,M,E):$xe(a,c,N,M,E),U=P7(N,M,E);return Hxe(a,c,U),j.fold(function(){return{coord:xT(U.left,U.top),extra:G.none()}},function(K){return{coord:K.output,extra:K.extra}})},Wxe=function(a,c){Vxe(a,c)},wre=function(a,c,p,w){return vt(a,function(M){var E=M.sensor,N=Lxe(c,E,M.range.left,M.range.top,p,w);return N?G.some({output:sY(M.output,c,p,w),extra:M.extra}):G.none()})},qxe=function(a,c,p,w,M){var E=c.getSnapPoints(a),N=wre(E,p,w,M);return N.orThunk(function(){var j=Ft(E,function(U,K){var oe=K.sensor,se=Bxe(p,oe,K.range.left,K.range.top,w,M);return U.deltas.fold(function(){return{deltas:G.some(se),snap:G.some(K)}},function(be){var _e=(se.left+se.top)/2,Ee=(be.left+be.top)/2;return _e<=Ee?{deltas:G.some(se),snap:G.some(K)}:U})},{deltas:G.none(),snap:G.none()});return j.snap.map(function(U){return{output:sY(U.output,p,w,M),extra:U.extra}})})},$xe=function(a,c,p,w,M){var E=c.getSnapPoints(a);return wre(E,p,w,M)},Gxe=function(a,c,p){return{coord:sY(a.output,a.output,c,p),extra:a.extra}},Xxe=function(a,c,p,w){var M=c.getTarget(a.element);if(c.repositionTarget){var E=ia(a.element),N=Yl(E),j=K0(M),U=Gxe(w,N,j),K=bre(U.coord,N,j);Ta(M,K)}},Yxe=Object.freeze({__proto__:null,snapTo:Xxe}),lY="data-initial-z-index",Kxe=function(a){aa(a.element).filter(he).each(function(c){xa(c,lY).fold(function(){return ri(c,"z-index")},function(p){return Wr(c,"z-index",p)}),Uu(c,lY)})},Jxe=function(a){aa(a.element).filter(he).each(function(c){Za(c,"z-index").each(function(p){so(c,lY,p)}),Wr(c,"z-index",Ma(a.element,"z-index"))})},_re=function(a,c){a.getSystem().addToGui(c),Jxe(c)},Qxe=function(a){Kxe(a),a.getSystem().removeFromGui(a)},Sre=function(a,c,p){return a.getSystem().build(yl.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[c]},events:p}))},Zxe=Ql("snaps",[on("getSnapPoints"),_o("onSensor"),on("leftAttr"),on("topAttr"),dt("lazyViewport",us),dt("mustSnap",!1)]),cY=[dt("useFixed",ie),on("blockerClass"),dt("getTarget",q),dt("onDrag",A),dt("repositionTarget",!0),dt("onDrop",A),qi("getBounds",us),Zxe],ewe=function(a){return Ca(Za(a,"left"),Za(a,"top"),Za(a,"position"),function(c,p,w){var M=w==="fixed"?xT:N7;return M(parseInt(c,10),parseInt(p,10))}).getOrThunk(function(){var c=ol(a);return h2(c.left,c.top)})},twe=function(a,c,p,w,M){var E=M.bounds,N=HE(c,p,w),j=Rl(N.left,E.x,E.x+E.width-M.width),U=Rl(N.top,E.y,E.y+E.height-M.height),K=h2(j,U);return c.fold(function(){var oe=yre(K,p,w);return N7(oe.left,oe.top)},L(K),function(){var oe=P7(K,p,w);return xT(oe.left,oe.top)})},nwe=function(a,c,p,w,M,E,N){var j=c.fold(function(){var U=zxe(p,E.left,E.top),K=P7(U,w,M);return xT(K.left,K.top)},function(U){var K=Uxe(a,U,p,E,w,M);return K.extra.each(function(oe){U.onSensor(a,oe)}),K.coord});return twe(a,j,w,M,N)},rwe=function(a,c,p,w){var M=c.getTarget(a.element);if(c.repositionTarget){var E=ia(a.element),N=Yl(E),j=K0(M),U=ewe(M),K=nwe(a,c.snaps,U,N,j,w,p),oe=bre(K,N,j);Ta(M,oe)}c.onDrag(a,M,w)},Cre=function(a,c){return{bounds:a.getBounds(),height:Xl(c.element),width:il(c.element)}},fY=function(a,c,p,w,M){var E=p.update(w,M),N=p.getStartData().getOrThunk(function(){return Cre(c,a)});E.each(function(j){rwe(a,c,N,j)})},Tre=function(a,c,p,w){c.each(Qxe),p.snaps.each(function(E){Wxe(a,E)});var M=p.getTarget(a.element);w.reset(),p.onDrop(a,M)},dY=function(a){return function(c,p){var w=function(M){p.setStartData(Cre(c,M))};return $i(Ce([fn(T_(),function(M){p.getStartData().each(function(){return w(M)})})],a(c,p,w),!0))}},owe=function(a){return $i([fn(bf(),a.forceDrop),fn(b_(),a.drop),fn(sg(),function(c,p){a.move(p.event)}),fn(y_(),a.delayDrop)])},iwe=function(a){return G.from(Ii(a.x,a.y))},awe=function(a,c){return Ii(c.left-a.left,c.top-a.top)},uwe=Object.freeze({__proto__:null,getData:iwe,getDelta:awe}),Mre=function(a,c,p){return[fn(bf(),function(w,M){var E=M.event.raw;if(E.button===0){M.stop();var N=function(){return Tre(w,G.some(K),a,c)},j=EB(N,200),U={drop:N,delayDrop:j.schedule,forceDrop:N,move:function(se){j.cancel(),fY(w,a,c,uwe,se)}},K=Sre(w,a.blockerClass,owe(U)),oe=function(){p(w),_re(w,K)};oe()}})]},swe=Ce(Ce([],cY,!0),[Ci("dragger",{handlers:dY(Mre)})],!1),lwe=function(a){return $i([fn(Ud(),a.forceDrop),fn(Bp(),a.drop),fn($M(),a.drop),fn(yf(),function(c,p){a.move(p.event)})])},cwe=function(a){var c=a[0];return G.some(Ii(c.clientX,c.clientY))},fwe=function(a){var c=a.raw,p=c.touches;return p.length===1?cwe(p):G.none()},dwe=function(a,c){return Ii(c.left-a.left,c.top-a.top)},kre=Object.freeze({__proto__:null,getData:fwe,getDelta:dwe}),Dre=function(a,c,p){var w=Ba(),M=function(E){Tre(E,w.get(),a,c),w.clear()};return[fn(Ud(),function(E,N){N.stop();var j=function(){return M(E)},U={drop:j,delayDrop:A,forceDrop:j,move:function(se){fY(E,a,c,kre,se)}},K=Sre(E,a.blockerClass,lwe(U));w.set(K);var oe=function(){p(E),_re(E,K)};oe()}),fn(yf(),function(E,N){N.stop(),fY(E,a,c,kre,N.event)}),fn(Bp(),function(E,N){N.stop(),M(E)}),fn($M(),M)]},hwe=Ce(Ce([],cY,!0),[Ci("dragger",{handlers:dY(Dre)})],!1),pwe=function(a,c,p){return Ce(Ce([],Mre(a,c,p),!0),Dre(a,c,p),!0)},mwe=Ce(Ce([],cY,!0),[Ci("dragger",{handlers:dY(pwe)})],!1),gwe=swe,vwe=hwe,ywe=mwe,bwe=Object.freeze({__proto__:null,mouse:gwe,touch:vwe,mouseOrTouch:ywe}),xwe=function(){var a=G.none(),c=G.none(),p=function(){a=G.none(),c=G.none()},w=function(U,K){var oe=a.map(function(se){return U.getDelta(se,K)});return a=G.some(K),oe},M=function(U,K){return U.getData(K).bind(function(oe){return w(U,oe)})},E=function(U){c=G.some(U)},N=function(){return c},j=L({});return Gu({readState:j,reset:p,update:M,getStartData:N,setStartData:E})},wwe=Object.freeze({__proto__:null,init:xwe}),wT=kg({branchKey:"mode",branches:bwe,name:"dragging",active:{events:function(a,c){var p=a.dragger;return p.handlers(a,c)}},extra:{snap:function(a){return{sensor:a.sensor,range:a.range,output:a.output,extra:G.from(a.extra)}}},state:wwe,apis:Yxe}),hY=40,L7=hY/2,Are=function(a,c,p,w,M,E){return a.fold(function(){return wT.snap({sensor:h2(p-L7,w-L7),range:Ii(M,E),output:h2(G.some(p),G.some(w)),extra:{td:c}})},function(N){var j=p-L7,U=w-L7,K=hY,oe=hY,se=N.element.dom.getBoundingClientRect();return wT.snap({sensor:h2(j,U),range:Ii(K,oe),output:h2(G.some(p-se.width/2),G.some(w-se.height/2)),extra:{td:c}})})},Ere=function(a,c,p){var w=function(M,E){return M.exists(function(N){return si(N,E)})};return{getSnapPoints:a,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(M,E){var N=E.td;w(c.get(),N)||(c.set(N),p(N))},mustSnap:!0}},Ore=function(a){return ci(vl.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:zn([wT.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:a}),KC.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},_we=function(a,c){var p=Er([]),w=Er([]),M=Er(!1),E=Ba(),N=Ba(),j=function(rn){var $n=zd(rn);return Are(_e.getOpt(c),rn,$n.x,$n.y,$n.width,$n.height)},U=function(){return Ye(p.get(),function(rn){return j(rn)})},K=function(rn){var $n=zd(rn);return Are(Ee.getOpt(c),rn,$n.right,$n.bottom,$n.width,$n.height)},oe=function(){return Ye(w.get(),function(rn){return K(rn)})},se=Ere(U,E,function(rn){N.get().each(function($n){a.fire("TableSelectorChange",{start:rn,finish:$n})})}),be=Ere(oe,N,function(rn){E.get().each(function($n){a.fire("TableSelectorChange",{start:$n,finish:rn})})}),_e=Ore(se),Ee=Ore(be),Ve=nu(_e.asSpec()),ft=nu(Ee.asSpec()),Be=function(rn,$n,cn,Xn){var mn=$n.dom.getBoundingClientRect();ri(rn.element,"display");var nn=yc(He.fromDom(a.getBody())).dom.innerHeight,jn=cn(mn),gr=Xn(mn,nn);(jn||gr)&&Wr(rn.element,"display","none")},ht=function(rn,$n,cn,Xn){var mn=cn($n);wT.snapTo(rn,mn);var nn=function(gr){return gr[Xn]<0},jn=function(gr,dn){return gr[Xn]>dn};Be(rn,$n,nn,jn)},Wt=function(rn){return ht(Ve,rn,j,"top")},Kt=function(){return E.get().each(Wt)},ct=function(rn){return ht(ft,rn,K,"bottom")},Lt=function(){return N.get().each(ct)};Cr().deviceType.isTouch()&&(a.on("TableSelectionChange",function(rn){M.get()||(Os(c,Ve),Os(c,ft),M.set(!0)),E.set(rn.start),N.set(rn.finish),rn.otherCells.each(function($n){p.set($n.upOrLeftCells),w.set($n.downOrRightCells),Wt(rn.start),ct(rn.finish)})}),a.on("ResizeEditor ResizeWindow ScrollContent",function(){Kt(),Lt()}),a.on("TableSelectionClear",function(){M.get()&&(jc(Ve),jc(ft),M.set(!1)),E.clear(),N.clear()}))},Swe=function(a){return!!(a.nodeType===1&&(a.nodeName==="BR"||a.getAttribute("data-mce-bogus")||a.getAttribute("data-mce-type")==="bookmark"))},Cwe=function(a,c,p){c.delimiter||(c.delimiter="");var w=function(E){var N=E||[],j=Ye(N,function(K,oe){return vl.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":oe,"tab-index":-1,"aria-level":oe+1},innerHtml:K.name},action:function(se){a.focus(),a.selection.select(K.element),a.nodeChanged()},buttonBehaviours:zn([Rf.button(p.isDisabled),Bu()])})}),U={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+c.delimiter+" "}};return Ft(j.slice(1),function(K,oe){var se=K;return se.push(U),se.push(oe),se},[j[0]])},M=function(E){for(var N=[],j=E.length;j-- >0;){var U=E[j];if(U.nodeType===1&&!Swe(U)){var K=a.fire("ResolveName",{name:U.nodeName.toLowerCase(),target:U});if(K.isDefaultPrevented()||N.push({name:K.name,element:U}),K.isPropagationStopped())break}}return N};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:zn([Rr.config({mode:"flow",selector:"div[role=button]"}),Mr.config({disabled:p.isDisabled}),Bu(),ru.config({}),Zr.config({}),po("elementPathEvents",[da(function(E,N){a.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Rr.focusIn(E)}),a.on("NodeChange",function(j){var U=M(j.parents);U.length>0?Zr.set(E,w(U)):Zr.set(E,[])})})])]),components:[]}},_T;(function(a){a[a.None=0]="None",a[a.Both=1]="Both",a[a.Vertical=2]="Vertical"})(_T||(_T={}));var Twe=function(a,c,p,w,M){var E={};return E.height=A7(w+c.top,B6(a),yI(a)),p===_T.Both&&(E.width=A7(M+c.left,L6(a),vI(a))),E},Ire=function(a,c,p){var w=He.fromDom(a.getContainer()),M=Twe(a,c,p,cu(w),Cs(w));Bn(M,function(E,N){return Wr(w,N,ZX(E))}),fB(a)},Mwe=function(a){var c=!a.hasPlugin("autoresize"),p=a.getParam("resize",c);return p===!1?_T.None:p==="both"?_T.Both:_T.Vertical},B7=function(a,c,p,w){var M=20,E=Ii(p*M,w*M);return Ire(a,E,c),G.some(!0)},kwe=function(a,c){var p=Mwe(a);return p===_T.None?G.none():G.some(sp("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:c.translate("Resize")},behaviours:[wT.config({mode:"mouse",repositionTarget:!1,onDrag:function(w,M,E){return Ire(a,E,p)},blockerClass:"tox-blocker"}),Rr.config({mode:"special",onLeft:function(){return B7(a,p,-1,0)},onRight:function(){return B7(a,p,1,0)},onUp:function(){return B7(a,p,0,-1)},onDown:function(){return B7(a,p,0,1)}}),ru.config({}),$r.config({})]},c.icons))},Dwe=function(a,c){var p,w=function(M,E,N){return Zr.set(M,[$p(c.translate(["{0} "+N,E[N]]))])};return vl.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:zn([Rf.button(c.isDisabled),Bu(),ru.config({}),Zr.config({}),qn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),po("wordcount-events",[_f(function(M){var E=qn.getValue(M),N=E.mode==="words"?"characters":"words";qn.setValue(M,{mode:N,count:E.count}),w(M,E.count,N)}),da(function(M){a.on("wordCountUpdate",function(E){var N=qn.getValue(M).mode;qn.setValue(M,{mode:N,count:E.wordCount}),w(M,E.wordCount,N)})})])]),eventOrder:(p={},p[Tc()]=["disabling","alloy.base.behaviour","wordcount-events"],p)})},Awe=function(a,c){var p=function(){var E=Of.translate(["Powered by {0}","Tiny"]),N='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+E+'">'+E+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:N}}},w=function(){var E=[];return a.getParam("elementpath",!0,"boolean")&&E.push(Cwe(a,{},c)),a.hasPlugin("wordcount")&&E.push(Dwe(a,c)),a.getParam("branding",!0,"boolean")&&E.push(p()),E.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:E}]:[]},M=function(){var E=w(),N=kwe(a,c);return E.concat(N.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:M()}},Ewe=function(a){var c,p=a.inline,w=p?pbe:ube,M=IA(a)?IX:AE,E=G.none(),N=Cr(),j=N.browser.isIE(),U=j?["tox-platform-ie"]:[],K=N.deviceType.isTouch(),oe="tox-platform-touch",se=K?[oe]:[],be=V6(a),_e=PC(a),Ee=Of.isRtl()?{attributes:{dir:"rtl"}}:{},Ve={attributes:(c={},c[jx]=be?Zh.BottomToTop:Zh.TopToBottom,c)},ft=function(){return E.bind(gu.getHeader)},Be=function(){return M.isDocked(ft)},ht=function(){Wr(Lf.element,"width",document.body.clientWidth+"px")},Wt=function(){var Fl=si(li(),_e)&&Ma(_e,"display")==="grid",p2={dom:ne({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(U).concat(se)},Ee),behaviours:zn([hl.config({useFixed:function(){return Be()}})])},jE={dom:{styles:{width:document.body.clientWidth+"px"}},events:$i([fn(Mc(),ht)])};return Qt(p2,Fl?jE:{})},Kt=nu(Wt()),ct=function(){return fo.value(Kt)},Lt=ci({dom:{tag:"div",classes:["tox-anchorbar"]}}),rn=function(){return E.bind(function(Fl){return Lt.getOpt(Fl)}).getOrDie("Could not find a anchor bar element")},$n=function(){return E.bind(function(Fl){return gu.getToolbar(Fl)}).getOrDie("Could not find more toolbar element")},cn=function(){return E.bind(function(Fl){return gu.getThrobber(Fl)}).getOrDie("Could not find throbber element")},Xn=sb(Kt,a,rn),mn=gu.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Xn,onEscape:function(){a.focus()}}),nn=RC(a),jn=gu.parts.toolbar(ne({dom:{tag:"div",classes:["tox-toolbar"]},getSink:ct,providers:Xn.shared.providers,onEscape:function(){a.focus()},type:nn,lazyToolbar:$n,lazyHeader:function(){return ft().getOrDie("Could not find header element")}},Ve)),gr=gu.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Xn.shared.providers,onEscape:function(){a.focus()},type:nn}),dn=gu.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),cr=gu.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),wr=gu.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Xn}),Ho=a.getParam("statusbar",!0,"boolean"),wi=Ho&&!p?G.some(Awe(a,Xn.shared.providers)):G.none(),Ea={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[dn,cr]},vp=EA(a),hh=xI(a),MY=bI(a),kY=function(){return vp?[gr]:hh?[jn]:[]},F7=gu.parts.header({dom:ne({tag:"div",classes:["tox-editor-header"]},Ve),components:Ke([MY?[mn]:[],kY(),OA(a)?[]:[Lt.asSpec()]]),sticky:IA(a),editor:a,sharedBackstage:Xn.shared}),DY=Ke([be?[]:[F7],p?[]:[Ea],be?[F7]:[]]),CP={dom:{tag:"div",classes:["tox-editor-container"]},components:DY},H7=Ke([[CP],p?[]:wi.toArray(),[wr]]),TP=_I(a),V7=ne(ne({role:"application"},Of.isRtl()?{dir:"rtl"}:{}),TP?{"aria-hidden":"true"}:{}),Rm=nu(gu.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(p?["tox-tinymce-inline"]:[]).concat(be?["tox-tinymce--toolbar-bottom"]:[]).concat(se).concat(U),styles:ne({visibility:"hidden"},TP?{opacity:"0",border:"0"}:{}),attributes:V7},components:H7,behaviours:zn([Bu(),Mr.config({disableClass:"tox-tinymce--disabled"}),Rr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));E=G.some(Rm),a.shortcuts.add("alt+F9","focus menubar",function(){gu.focusMenubar(Rm)}),a.shortcuts.add("alt+F10","focus toolbar",function(){gu.focusToolbar(Rm)}),a.addCommand("ToggleToolbarDrawer",function(){gu.toggleToolbarDrawer(Rm)}),a.addQueryStateHandler("ToggleToolbarDrawer",function(){return gu.isToolbarDrawerToggled(Rm)});var MP=BB(Rm),Lf=BB(Kt);dX(a,MP,Lf);var AY=function(){var Fl={broadcastAll:Lf.broadcast,broadcastOn:Lf.broadcastOn,register:A};return{channels:Fl}},EY=function(){var Fl=ZX(lbe(a)),p2=ZX(cbe(a));return a.inline||(bc("div","width",p2)&&Wr(Rm.element,"width",p2),bc("div","height",Fl)?Wr(Rm.element,"height",Fl):Wr(Rm.element,"height","200px")),Fl},OY=function(){M.setup(a,Xn.shared,ft),dxe(a,Xn),Nxe(a,ct,Xn),Qe(a),zt(a,cn,Xn.shared),bn(Ij(a),function(zf,yp){a.ui.registry.addGroupToolbarButton(yp,zf)});var Fl=a.ui.registry.getAll(),p2=Fl.buttons,jE=Fl.menuItems,IY=Fl.contextToolbars,UE=Fl.sidebars,RY=H6(a),nr={menuItems:jE,menus:zj(a),menubar:Fj(a),toolbar:RY.getOrThunk(function(){return SI(a)}),allowToolbarGroups:nn===If.floating,buttons:p2,sidebar:UE};Fbe(a,IY,Kt,{backstage:Xn}),_we(a,Kt);var wo=a.getElement(),Mi=EY(),iu={mothership:MP,uiMothership:Lf,outerContainer:Rm},Bf={targetNode:wo,height:Mi};return w.render(a,iu,nr,Xn,Bf)};return{mothership:MP,uiMothership:Lf,backstage:Xn,renderUI:OY,getUi:AY}},Owe=function(a,c){var p=G.from(ua(a,"id")).fold(function(){var w=ir("dialog-describe");return so(c,"id",w),w},q);so(a,"aria-describedby",p)},Iwe=function(a,c){var p=xa(a,"id").fold(function(){var w=ir("dialog-label");return so(c,"id",w),w},q);so(a,"aria-labelledby",p)},Rwe=L([on("lazySink"),oi("dragBlockClass"),qi("getBounds",us),dt("useTabstopAt",le),dt("eventOrder",{}),Pu("modalBehaviours",[Rr]),Ni("onExecute"),Yp("onEscape")]),pY={sketch:q},Pwe=L([Df({name:"draghandle",overrides:function(a,c){return{behaviours:zn([wT.config({mode:"mouse",getTarget:function(p){return fx(p,'[role="dialog"]').getOr(p)},blockerClass:a.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(c,null,2)).message),getBounds:a.getDragBounds})])}}}),Zu({schema:[on("dom")],name:"title"}),Zu({factory:pY,schema:[on("dom")],name:"close"}),Zu({factory:pY,schema:[on("dom")],name:"body"}),Df({factory:pY,schema:[on("dom")],name:"footer"}),Ec({factory:{sketch:function(a,c){return ne(ne({},a),{dom:c.dom,components:c.components})}},schema:[dt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),dt("components",[])],name:"blocker"})]),Nwe=function(a,c,p,w){var M,E=Ba(),N=function(Ee){E.set(Ee);var Ve=a.lazySink(Ee).getOrDie(),ft=w.blocker(),Be=Ve.getSystem().build(ne(ne({},ft),{components:ft.components.concat([Dc(Ee)]),behaviours:zn([$r.config({}),po("dialog-blocker-events",[Gh(Bc(),function(){Rr.focusIn(Ee)})])])}));Os(Ve,Be),Rr.focusIn(Ee)},j=function(Ee){E.clear(),aa(Ee.element).each(function(Ve){Ee.getSystem().getByDom(Ve).each(function(ft){jc(ft)})})},U=function(Ee){return th(Ee,a,"body")},K=function(Ee){return th(Ee,a,"footer")},oe=function(Ee,Ve){rr.block(Ee,Ve)},se=function(Ee){rr.unblock(Ee)},be=ir("modal-events"),_e=ne(ne({},a.eventOrder),(M={},M[Zl()]=[be].concat(a.eventOrder["alloy.system.attached"]||[]),M));return{uid:a.uid,dom:a.dom,components:c,apis:{show:N,hide:j,getBody:U,getFooter:K,setIdle:se,setBusy:oe},eventOrder:_e,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Nu(a.modalBehaviours,[Zr.config({}),Rr.config({mode:"cyclic",onEnter:a.onExecute,onEscape:a.onEscape,useTabstopAt:a.useTabstopAt}),rr.config({getRoot:E.get}),po(be,[da(function(Ee){Iwe(Ee.element,th(Ee,a,"title").element),Owe(Ee.element,th(Ee,a,"body").element)})])])}},ys=ml({name:"ModalDialog",configFields:Rwe(),partFields:Pwe(),factory:Nwe,apis:{show:function(a,c){a.show(c)},hide:function(a,c){a.hide(c)},getBody:function(a,c){return a.getBody(c)},getFooter:function(a,c){return a.getFooter(c)},setBusy:function(a,c,p){a.setBusy(c,p)},setIdle:function(a,c){a.setIdle(c)}}}),Lwe=Sr([Yr("type"),Yr("name")].concat(j1)),Bwe=Wu,Rre=[_u("name","name",Io(function(){return ir("button-name")}),$a),Wi("icon"),Sc("align","end",["start","end"]),Pi("primary",!1),Pi("disabled",!1)],Pre=Ce(Ce([],Rre,!0),[Yr("text")],!1),mY=Ce([_c("type",["submit","cancel","custom"])],Pre,!0),zwe=Ce([_c("type",["menu"]),Wi("text"),Wi("tooltip"),Wi("icon"),Ds("items",Lwe)],Rre,!0),Fwe=Lc("type",{submit:mY,cancel:mY,custom:mY,menu:zwe}),Hwe=[Yr("type"),Yr("text"),_c("level",["info","warn","error","success"]),Yr("icon"),dt("url","")],Vwe=Sr(Hwe),jwe=function(a){return[Yr("type"),a]},Uwe=[Yr("type"),Yr("text"),Pi("disabled",!1),Pi("primary",!1),_u("name","name",Io(function(){return ir("button-name")}),$a),Wi("icon"),Pi("borderless",!1)],Wwe=Sr(Uwe),qwe=[Yr("type"),Yr("name"),Yr("label"),Pi("disabled",!1)],$we=Sr(qwe),Gwe=Wu,gY=[Yr("type"),Yr("name")],Im=gY.concat([Wi("label")]),Xwe=Im.concat([dt("columns","auto")]),Ywe=Sr(Xwe),Kwe=d_([Yr("value"),Yr("text"),Yr("icon")]),Jwe=Im,Qwe=Sr(Jwe),Zwe=$a,e2e=Im,t2e=Sr(e2e),n2e=$a,r2e=gY.concat([Wv("tag","textarea"),Yr("scriptId"),Yr("scriptUrl"),El("settings",void 0)]),o2e=gY.concat([Wv("tag","textarea"),Us("init")]),i2e=jv(function(a){return wa("customeditor.old",Kl(o2e),a).orThunk(function(){return wa("customeditor.new",Kl(r2e),a)})}),a2e=$a,u2e=Im,s2e=Sr(u2e),l2e=T5(),c2e=function(a){return[Yr("type"),Vh("columns"),a]},f2e=[Yr("type"),Yr("html"),Sc("presets","presentation",["presentation","document"])],d2e=Sr(f2e),h2e=Im.concat([Pi("sandboxed",!0)]),p2e=Sr(h2e),m2e=$a,g2e=Im.concat([Al("currentState",Sr([on("blob"),Yr("url")]))]),v2e=Sr(g2e),y2e=Im.concat([Wi("inputMode"),Wi("placeholder"),Pi("maximized",!1),Pi("disabled",!1)]),b2e=Sr(y2e),x2e=$a,w2e=function(a){return[Yr("type"),Yr("label"),a]},_2e=[Yr("text"),Yr("value")],S2e=[Yr("text"),Ds("items",M5("items",function(){return Nre}))],Nre=Iy([Sr(_2e),Sr(S2e)]),C2e=Im.concat([Ds("items",Nre),Pi("disabled",!1)]),T2e=Sr(C2e),M2e=$a,k2e=Im.concat([vf("items",[Yr("text"),Yr("value")]),rd("size",1),Pi("disabled",!1)]),D2e=Sr(k2e),A2e=$a,E2e=Im.concat([Pi("constrain",!0),Pi("disabled",!1)]),O2e=Sr(E2e),Lre=Sr([Yr("width"),Yr("height")]),I2e=[Yr("type"),Ds("header",$a),Ds("cells",Hh($a))],R2e=Sr(I2e),P2e=Im.concat([Wi("placeholder"),Pi("maximized",!1),Pi("disabled",!1)]),N2e=Sr(P2e),L2e=$a,B2e=Im.concat([Sc("filetype","file",["image","media","file"]),dt("disabled",!1)]),z2e=Sr(B2e),F2e=Sr([Yr("value"),dt("meta",{})]),vY=function(a){return _u("items","items",Qr(),Hh(jv(function(c){return wa("Checking item of "+a,yY,c).fold(function(p){return fo.error(Np(p))},function(p){return fo.value(p)})})))},yY=zM(function(){return Kb("type",{alertbanner:Vwe,bar:Sr(jwe(vY("bar"))),button:Wwe,checkbox:$we,colorinput:Qwe,colorpicker:t2e,dropzone:s2e,grid:Sr(c2e(vY("grid"))),iframe:p2e,input:b2e,listbox:T2e,selectbox:D2e,sizeinput:O2e,textarea:N2e,urlinput:z2e,customeditor:i2e,htmlpanel:d2e,imagetools:v2e,collection:Ywe,label:Sr(w2e(vY("label"))),table:R2e,panel:Bre})}),H2e=[Yr("type"),dt("classes",[]),Ds("items",yY)],Bre=Sr(H2e),V2e=[_u("name","name",Io(function(){return ir("tab-name")}),$a),Yr("title"),Ds("items",yY)],j2e=[Yr("type"),vf("tabs",V2e)],U2e=Sr(j2e),W2e=Pre,q2e=Fwe,$2e=Sr([Yr("title"),Al("body",Kb("type",{panel:Bre,tabpanel:U2e})),Wv("size","normal"),Ds("buttons",q2e),dt("initialData",{}),qi("onAction",A),qi("onChange",A),qi("onSubmit",A),qi("onClose",A),qi("onCancel",A),dt("onTabChange",A)]),G2e=function(a){return wa("dialog",$2e,a)},X2e=Sr(Ce([_c("type",["cancel","custom"])],W2e,!0)),Y2e=Sr([Yr("title"),Yr("url"),ug("height"),ug("width"),Jl("buttons",X2e),qi("onAction",A),qi("onCancel",A),qi("onClose",A),qi("onMessage",A)]),K2e=function(a){return wa("dialog",Y2e,a)},bY=function(a){return u(a)?[a].concat(Bt(jt(a),bY)):l(a)?Bt(a,bY):[]},J2e=function(a){return i(a.type)&&i(a.name)},Q2e={checkbox:Gwe,colorinput:Zwe,colorpicker:n2e,dropzone:l2e,input:x2e,iframe:m2e,sizeinput:Lre,selectbox:A2e,listbox:M2e,size:Lre,textarea:L2e,urlinput:F2e,customeditor:a2e,collection:Kwe,togglemenuitem:Bwe},Z2e=function(a){return G.from(Q2e[a.type])},e_e=function(a){return Je(bY(a),J2e)},t_e=function(a){var c=e_e(a),p=Bt(c,function(w){return Z2e(w).fold(function(){return[]},function(M){return[Al(w.name,M)]})});return Sr(p)},zre=function(a){var c=gf(G2e(a)),p=t_e(a),w=a.initialData;return{internalDialog:c,dataValidator:p,initialData:w}},SP={open:function(a,c){var p=zre(c);return a(p.internalDialog,p.initialData,p.dataValidator)},openUrl:function(a,c){var p=gf(K2e(c));return a(p)},redial:function(a){return zre(a)}},Fre=function(a){var c=[],p={};return Bn(a,function(w,M){w.fold(function(){c.push(M)},function(E){p[M]=E})}),c.length>0?fo.error(c):fo.value(p)},n_e=function(a,c){var p=ci(e2.sketch(function(w){return{dom:{tag:"div",classes:["tox-form"].concat(a.classes)},components:Ye(a.items,function(M){return eP(w,M,c)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[p.asSpec()]}],behaviours:zn([Rr.config({mode:"acyclic",useTabstopAt:ae(t2)}),hp.memento(p),nb.memento(p,{postprocess:function(w){return Fre(w).fold(function(M){return console.error(M),{}},q)}})])}},r_e=function(a,c){return{uid:a.uid,dom:a.dom,components:a.components,events:R1(a.action),behaviours:Nu(a.tabButtonBehaviours,[$r.config({}),Rr.config({mode:"execution",useSpace:!0,useEnter:!0}),qn.config({store:{mode:"memory",initialValue:a.value}})]),domModification:a.domModification}},o_e=uc({name:"TabButton",configFields:[dt("uid",void 0),on("value"),_u("dom","dom",ss(function(){return{attributes:{role:"tab",id:ir("aria"),"aria-selected":"false"}}}),mf()),oi("action"),dt("domModification",{}),Pu("tabButtonBehaviours",[$r,Rr,qn]),on("view")],factory:r_e}),i_e=L([on("tabs"),on("dom"),dt("clickToDismiss",!1),Pu("tabbarBehaviours",[ii,Rr]),Cg(["tabClass","selectedClass"])]),a_e=pd({factory:o_e,name:"tabs",unit:"tab",overrides:function(a){var c=function(w,M){ii.dehighlight(w,M),Ir(w,cs(),{tabbar:w,button:M})},p=function(w,M){ii.highlight(w,M),Ir(w,GM(),{tabbar:w,button:M})};return{action:function(w){var M=w.getSystem().getByUid(a.uid).getOrDie(),E=ii.isHighlighted(M,w),N=function(){return E&&a.clickToDismiss?c:E?A:p}();N(M,w)},domModification:{classes:[a.markers.tabClass]}}}}),u_e=L([a_e]),s_e=function(a,c,p,w){return{uid:a.uid,dom:a.dom,components:c,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Nu(a.tabbarBehaviours,[ii.config({highlightClass:a.markers.selectedClass,itemClass:a.markers.tabClass,onHighlight:function(M,E){so(E.element,"aria-selected","true")},onDehighlight:function(M,E){so(E.element,"aria-selected","false")}}),Rr.config({mode:"flow",getInitial:function(M){return ii.getHighlighted(M).map(function(E){return E.element})},selector:"."+a.markers.tabClass,executeOnMove:!0})])}},Hre=ml({name:"Tabbar",configFields:i_e(),partFields:u_e(),factory:s_e}),l_e=function(a,c){return{uid:a.uid,dom:a.dom,behaviours:Nu(a.tabviewBehaviours,[Zr.config({})]),domModification:{attributes:{role:"tabpanel"}}}},c_e=uc({name:"Tabview",configFields:[Pu("tabviewBehaviours",[Zr])],factory:l_e}),f_e=L([dt("selectFirst",!0),_o("onChangeTab"),_o("onDismissTab"),dt("tabs",[]),Pu("tabSectionBehaviours",[])]),d_e=Zu({factory:Hre,schema:[on("dom"),Hd("markers",[on("tabClass"),on("selectedClass")])],name:"tabbar",defaults:function(a){return{tabs:a.tabs}}}),h_e=Zu({factory:c_e,name:"tabview"}),p_e=L([d_e,h_e]),m_e=function(a,c,p,w){var M=function(N){var j=qn.getValue(N);Ti(N,a,"tabview").each(function(U){var K=Rt(a.tabs,function(oe){return oe.value===j});K.each(function(oe){var se=oe.view();xa(N.element,"id").each(function(be){so(U.element,"aria-labelledby",be)}),Zr.set(U,se),a.onChangeTab(U,N,se)})})},E=function(N,j){Ti(N,a,"tabbar").each(function(U){j(U).each($h)})};return{uid:a.uid,dom:a.dom,components:c,behaviours:Vg(a.tabSectionBehaviours),events:$i(Ke([a.selectFirst?[da(function(N,j){E(N,ii.getFirst)})]:[],[fn(GM(),function(N,j){var U=j.event.button;M(U)}),fn(cs(),function(N,j){var U=j.event.button;a.onDismissTab(N,U)})]])),apis:{getViewItems:function(N){return Ti(N,a,"tabview").map(function(j){return Zr.contents(j)}).getOr([])},showTab:function(N,j){var U=function(K){var oe=ii.getCandidates(K),se=Rt(oe,function(be){return qn.getValue(be)===j});return se.filter(function(be){return!ii.isHighlighted(K,be)})};E(N,U)}}}},VE=ml({name:"TabSection",configFields:f_e(),partFields:p_e(),factory:m_e,apis:{getViewItems:function(a,c){return a.getViewItems(c)},showTab:function(a,c,p){a.showTab(c,p)}}}),g_e=function(a,c,p){return Ye(a,function(w,M){Zr.set(p,a[M].view());var E=c.dom.getBoundingClientRect();return Zr.set(p,[]),E.height})},v_e=function(a){return gn(To(a,function(c,p){return c>p?-1:c<p?1:0}))},y_e=function(a,c,p){var w=qt(a).dom,M=fx(a,".tox-dialog-wrap").getOr(a),E=Ma(M,"position")==="fixed",N;E?N=Math.max(w.clientHeight,window.innerHeight):N=Math.max(w.offsetHeight,w.scrollHeight);var j=cu(c),U=c.dom.offsetLeft>=p.dom.offsetLeft+Cs(p),K=U?Math.max(cu(p),j):j,oe=parseInt(Ma(a,"margin-top"),10)||0,se=parseInt(Ma(a,"margin-bottom"),10)||0,be=cu(a)+oe+se,_e=be-K;return N-_e},b_e=function(a,c){gn(a).each(function(p){return VE.showTab(c,p.value)})},Vre=function(a,c){Wr(a,"height",c+"px"),Cr().browser.isIE()?ri(a,"flex-basis"):Wr(a,"flex-basis",c+"px")},z7=function(a,c,p){fx(a,'[role="dialog"]').each(function(w){pu(w,'[role="tablist"]').each(function(M){p.get().map(function(E){return Wr(c,"height","0"),Wr(c,"flex-basis","0"),Math.min(E,y_e(w,c,M))}).each(function(E){Vre(c,E)})})})},xY=function(a){return pu(a,'[role="tabpanel"]')},x_e=function(a){var c=function(){var w=Ba(),M=[da(function(N){var j=N.element;xY(j).each(function(U){Wr(U,"visibility","hidden"),N.getSystem().getByDom(U).toOptional().each(function(K){var oe=g_e(a,U,K),se=v_e(oe);se.fold(w.clear,w.set)}),z7(j,U,w),ri(U,"visibility"),b_e(a,N),ov.requestAnimationFrame(function(){z7(j,U,w)})})}),fn(Mc(),function(N){var j=N.element;xY(j).each(function(U){z7(j,U,w)})}),fn(UA,function(N,j){var U=N.element;xY(U).each(function(K){var oe=oc(Tr(K));Wr(K,"visibility","hidden");var se=Za(K,"height").map(function(Ee){return parseInt(Ee,10)});ri(K,"height"),ri(K,"flex-basis");var be=K.dom.getBoundingClientRect().height,_e=se.forall(function(Ee){return be>Ee});_e?(w.set(be),z7(U,K,w)):se.each(function(Ee){Vre(K,Ee)}),ri(K,"visibility"),oe.each(Yd)})})],E=!1;return{extraEvents:M,selectFirst:E}}(),p=function(){var w=[],M=!0;return{extraEvents:w,selectFirst:M}}();return{smartTabHeight:c,naiveTabHeight:p}},jre="send-data-to-section",Ure="send-data-to-view",w_e=function(a,c){var p=Er({}),w=function(U){var K=qn.getValue(U),oe=Fre(K).getOr({}),se=p.get(),be=Qt(se,oe);p.set(be)},M=function(U){var K=p.get();qn.setValue(U,K)},E=Er(null),N=Ye(a.tabs,function(U){return{value:U.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:c.shared.providers.translate(U.title)},view:function(){return[e2.sketch(function(K){return{dom:{tag:"div",classes:["tox-form"]},components:Ye(U.items,function(oe){return eP(K,oe,c)}),formBehaviours:zn([Rr.config({mode:"acyclic",useTabstopAt:ae(t2)}),po("TabView.form.events",[da(M),ec(w)]),rc.config({channels:Uh([{key:jre,value:{onReceive:w}},{key:Ure,value:{onReceive:M}}])})])}})]}}}),j=x_e(N).smartTabHeight;return VE.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(U,K,oe){var se=qn.getValue(K);Ir(U,VB,{name:se,oldName:E.get()}),E.set(se)},tabs:N,components:[VE.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Hre.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:zn([ru.config({})])}),VE.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:j.selectFirst,tabSectionBehaviours:zn([po("tabpanel",j.extraEvents),Rr.config({mode:"acyclic"}),So.config({find:function(U){return gn(VE.getViewItems(U))}}),qn.config({store:{mode:"manual",getValue:function(U){return U.getSystem().broadcastOn([jre],{}),p.get()},setValue:function(U,K){p.set(K),U.getSystem().broadcastOn([Ure],{})}}})])})},wY=ir("update-dialog"),Wre=ir("update-title"),qre=ir("update-body"),$re=ir("update-footer"),Gre=ir("body-send-message"),Xre=function(a,c,p,w){var M=function(j){switch(j.body.type){case"tabpanel":return[w_e(j.body,p)];default:return[n_e(j.body,p)]}},E=function(j,U){return G.some({isTabPanel:function(){return U.body.type==="tabpanel"}})},N={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ne(ne({},c.map(function(j){return{id:j}}).getOr({})),w?N:{})},components:[],behaviours:zn([hp.childAt(0),Sd.config({channel:qre,updateState:E,renderComponents:M,initialData:a})])}},__e=function(a,c,p,w){return Xre(a,G.some(c),p,w)},S_e=function(a,c){var p=Xre(a,G.none(),c,!1);return ys.parts.body(p)},C_e=function(a){var c={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[jz({dom:{tag:"iframe",attributes:{src:a.url}},behaviours:zn([ru.config({}),$r.config({})])})]}],behaviours:zn([Rr.config({mode:"acyclic",useTabstopAt:ae(t2)})])};return ys.parts.body(c)},T_e=DI.deviceType.isTouch(),Yre=function(a,c){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[a,c]}},Kre=function(a,c){return ys.parts.close(vl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":c.translate("Close")}},action:a,buttonBehaviours:zn([ru.config({})])}))},Jre=function(){return ys.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},Qre=function(a,c){return ys.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:oo("<p>"+c.translate(a)+"</p>")}]}]})},Zre=function(a){return ys.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:a})},eoe=function(a,c){return[yl.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:a}),yl.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:c})]},_Y=function(a){var c,p="tox-dialog",w=p+"-wrap",M=w+"__backdrop",E=p+"__disable-scroll";return ys.sketch({lazySink:a.lazySink,onEscape:function(N){return a.onEscape(N),G.some(!0)},useTabstopAt:function(N){return!t2(N)},dom:{tag:"div",classes:[p].concat(a.extraClasses),styles:ne({position:"relative"},a.extraStyles)},components:Ce([a.header,a.body],a.footer.toArray(),!0),parts:{blocker:{dom:oo('<div class="'+w+'"></div>'),components:[{dom:{tag:"div",classes:T_e?[M,M+"--opaque"]:[M]}}]}},dragBlockClass:w,modalBehaviours:zn(Ce([$r.config({}),po("dialog-events",a.dialogEvents.concat([Gh(Bc(),function(N,j){Rr.focusIn(N)})])),po("scroll-lock",[da(function(){Xu(li(),E)}),ec(function(){hu(li(),E)})])],a.extraBehaviours,!0)),eventOrder:ne((c={},c[Tc()]=["dialog-events"],c[Zl()]=["scroll-lock","dialog-events","alloy.base.behaviour"],c[Kv()]=["alloy.base.behaviour","dialog-events","scroll-lock"],c),a.eventOrder)})},toe=function(a){return vl.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":a.translate("Close"),title:a.translate("Close")}},components:[sp("close",{tag:"div",classes:["tox-icon"]},a.icons)],action:function(c){Mo(c,Pf)}})},noe=function(a,c,p){var w=function(M){return[$p(p.translate(M.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:ne({},c.map(function(M){return{id:M}}).getOr({}))},components:w(a),behaviours:zn([Sd.config({channel:Wre,renderComponents:w})])}},roe=function(){return{dom:oo('<div class="tox-dialog__draghandle"></div>')}},M_e=function(a,c,p){return yl.sketch({dom:oo('<div class="tox-dialog__header"></div>'),components:[noe(a,G.some(c),p),roe(),toe(p)],containerBehaviours:zn([wT.config({mode:"mouse",blockerClass:"blocker",getTarget:function(w){return qs(w,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},k_e=function(a,c){var p=ys.parts.title(noe(a,G.none(),c)),w=ys.parts.draghandle(roe()),M=ys.parts.close(toe(c)),E=[p].concat(a.draggable?[w]:[]).concat([M]);return yl.sketch({dom:oo('<div class="tox-dialog__header"></div>'),components:E})},ooe=function(a,c){return k_e({title:c.shared.providers.translate(a),draggable:c.dialog.isDraggableModal()},c.shared.providers)},ioe=function(a,c,p){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":p.translate(a)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:c,components:[{dom:oo('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},aoe=function(a,c,p){return{onClose:function(){return p.closeWindow()},onBlock:function(w){ys.setBusy(a(),function(M,E){return ioe(w.message,E,c)})},onUnblock:function(){ys.setIdle(a())}}},uoe=function(a,c,p,w){var M,E=function(N,j){return G.some(j)};return nu(_Y(ne(ne({},a),{lazySink:w.shared.getSink,extraBehaviours:Ce([Sd.config({channel:wY,updateState:E,initialData:c}),nb.memory({})],a.extraBehaviours,!0),onEscape:function(N){Mo(N,Pf)},dialogEvents:p,eventOrder:(M={},M[zc()]=[Sd.name(),rc.name()],M[Zl()]=["scroll-lock",Sd.name(),"messages","dialog-events","alloy.base.behaviour"],M[Kv()]=["alloy.base.behaviour","dialog-events","messages",Sd.name(),"scroll-lock"],M)})))},soe=function(a){var c=function(p){var w=Ye(p.items,function(M){var E=Er(!1);return ne(ne({},M),{storage:E})});return ne(ne({},p),{items:w})};return Ye(a,function(p){return p.type==="menu"?c(p):p})},loe=function(a){return Ft(a,function(c,p){if(p.type==="menu"){var w=p;return Ft(w.items,function(M,E){return M[E.name]=E.storage,M},c)}return c},{})},coe=function(a,c){return[Hp(Bc(),Pq),a(Jc,function(p,w){c.onClose(),w.onClose()}),a(Pf,function(p,w,M,E){w.onCancel(p),Mo(E,Jc)}),fn(Xw,function(p,w){return c.onUnblock()}),fn(jA,function(p,w){return c.onBlock(w.event)})]},D_e=function(a,c){var p=function(M,E){return fn(M,function(N,j){w(N,function(U,K){E(a(),U,j.event,N)})})},w=function(M,E){Sd.getState(M).get().each(function(N){E(N,M)})};return Ce(Ce([],coe(p,c),!0),[p(wm,function(M,E,N){E.onAction(M,{name:N.name})})],!1)},A_e=function(a,c,p){var w=function(E,N){return fn(E,function(j,U){M(j,function(K,oe){N(a(),K,U.event,j)})})},M=function(E,N){Sd.getState(E).get().each(function(j){N(j.internalDialog,E)})};return Ce(Ce([],coe(w,c),!0),[w(Gw,function(E,N){return N.onSubmit(E)}),w(Kc,function(E,N,j){N.onChange(E,{name:j.name})}),w(wm,function(E,N,j,U){var K=function(){return Rr.focusIn(U)},oe=function(_e){return Wb(_e,"disabled")||xa(_e,"aria-disabled").exists(function(Ee){return Ee==="true"})},se=Tr(U.element),be=oc(se);N.onAction(E,{name:j.name,value:j.value}),oc(se).fold(K,function(_e){oe(_e)||be.exists(function(Ee){return Ss(_e,Ee)&&oe(Ee)})?K():p().toOptional().filter(function(Ee){return!Ss(Ee.element,_e)}).each(K)})}),w(VB,function(E,N,j){N.onTabChange(E,{newTabName:j.name,oldTabName:j.oldName})}),ec(function(E){var N=a();qn.setValue(E,N.getData())})],!1)},SY={initUrlDialog:D_e,initDialog:A_e},E_e=function(a,c){return i2(a,a.type,c)},O_e=function(a,c,p){return Rt(c,function(w){return w.name===p}).bind(function(w){return w.memento.getOpt(a)})},I_e=function(a,c){var p=c.map(function(j){return j.footerButtons}).getOr([]),w=qe(p,function(j){return j.align==="start"}),M=function(j,U){return yl.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+j]},components:Ye(U,function(K){return K.memento.asSpec()})})},E=M("start",w.pass),N=M("end",w.fail);return[E,N]},foe=function(a,c){var p=function(w,M){var E=Ye(M.buttons,function(j){var U=ci(E_e(j,c));return{name:j.name,align:j.align,memento:U}}),N=function(j,U){return O_e(j,E,U)};return G.some({lookupByName:N,footerButtons:E})};return{dom:oo('<div class="tox-dialog__footer"></div>'),components:[],behaviours:zn([Sd.config({channel:$re,initialData:a,updateState:p,renderComponents:I_e})])}},R_e=function(a,c){return foe(a,c)},doe=function(a,c){return ys.parts.footer(foe(a,c))},CY=function(a,c){var p=a.getRoot();if(p.getSystem().isConnected()){var w=So.getCurrent(a.getFormWrapper()).getOr(a.getFormWrapper());return e2.getField(w,c).fold(function(){var M=a.getFooter(),E=Sd.getState(M);return E.get().bind(function(N){return N.lookupByName(w,c)})},function(M){return G.some(M)})}else return G.none()},P_e=function(a,c){var p=a.getRoot();return Sd.getState(p).get().map(function(w){return gf(wa("data",w.dataValidator,c))}).getOr(c)},hoe=function(a,c,p){var w=function(Ve){var ft=a.getRoot();ft.getSystem().isConnected()&&Ve(ft)},M=function(){var Ve=a.getRoot(),ft=Ve.getSystem().isConnected()?a.getFormWrapper():Ve,Be=qn.getValue(ft),ht=bn(p,function(Wt){return Wt.get()});return ne(ne({},Be),ht)},E=function(Ve){w(function(ft){var Be=Ee.getData(),ht=ne(ne({},Be),Ve),Wt=P_e(a,ht),Kt=a.getFormWrapper();qn.setValue(Kt,Wt),Bn(p,function(ct,Lt){ln(ht,Lt)&&ct.set(ht[Lt])})})},N=function(Ve){CY(a,Ve).each(Mr.disable)},j=function(Ve){CY(a,Ve).each(Mr.enable)},U=function(Ve){CY(a,Ve).each($r.focus)},K=function(Ve){if(!i(Ve))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");w(function(ft){Ir(ft,jA,{message:Ve})})},oe=function(){w(function(Ve){Mo(Ve,Xw)})},se=function(Ve){w(function(ft){var Be=a.getBody(),ht=Sd.getState(Be);ht.get().exists(function(Wt){return Wt.isTabPanel()})&&So.getCurrent(Be).each(function(Wt){VE.showTab(Wt,Ve)})})},be=function(Ve){w(function(ft){var Be=c(Ve);ft.getSystem().broadcastOn([wY],Be),ft.getSystem().broadcastOn([Wre],Be.internalDialog),ft.getSystem().broadcastOn([qre],Be.internalDialog),ft.getSystem().broadcastOn([$re],Be.internalDialog),Ee.setData(Be.initialData)})},_e=function(){w(function(Ve){Mo(Ve,Jc)})},Ee={getData:M,setData:E,disable:N,enable:j,focus:U,block:K,unblock:oe,showTab:se,redial:be,close:_e};return Ee},N_e=function(a){switch(a){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},L_e=function(a,c,p){var w=ooe(a.internalDialog.title,p),M=S_e({body:a.internalDialog.body},p),E=soe(a.internalDialog.buttons),N=loe(E),j=doe({buttons:E},p),U=SY.initDialog(function(){return _e},aoe(function(){return se},p.shared.providers,c),p.shared.getSink),K=N_e(a.internalDialog.size),oe={header:w,body:M,footer:G.some(j),extraClasses:K,extraBehaviours:[],extraStyles:{}},se=uoe(oe,a,U,p),be=function(){var Ee=function(){var Ve=ys.getBody(se);return So.getCurrent(Ve).getOr(Ve)};return{getRoot:L(se),getBody:function(){return ys.getBody(se)},getFooter:function(){return ys.getFooter(se)},getFormWrapper:Ee}}(),_e=hoe(be,c.redial,N);return{dialog:se,instanceApi:_e}},B_e=function(a,c,p,w){var M,E,N=ir("dialog-label"),j=ir("dialog-content"),U=function(Be,ht){return G.some(ht)},K=ci(M_e({title:a.internalDialog.title,draggable:!0},N,p.shared.providers)),oe=ci(__e({body:a.internalDialog.body},j,p,w)),se=soe(a.internalDialog.buttons),be=loe(se),_e=ci(R_e({buttons:se},p)),Ee=SY.initDialog(function(){return ft},{onBlock:function(Be){rr.block(Ve,function(ht,Wt){return ioe(Be.message,Wt,p.shared.providers)})},onUnblock:function(){rr.unblock(Ve)},onClose:function(){return c.closeWindow()}},p.shared.getSink),Ve=nu({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(M={role:"dialog"},M["aria-labelledby"]=N,M["aria-describedby"]=j,M)},eventOrder:(E={},E[zc()]=[Sd.name(),rc.name()],E[Tc()]=["execute-on-form"],E[Zl()]=["reflecting","execute-on-form"],E),behaviours:zn([Rr.config({mode:"cyclic",onEscape:function(Be){return Mo(Be,Jc),G.some(!0)},useTabstopAt:function(Be){return!t2(Be)&&($e(Be)!=="button"||ua(Be,"disabled")!=="disabled")}}),Sd.config({channel:wY,updateState:U,initialData:a}),$r.config({}),po("execute-on-form",Ee.concat([Gh(Bc(),function(Be,ht){Rr.focusIn(Be)})])),rr.config({getRoot:function(){return G.some(Ve)}}),Zr.config({}),nb.memory({})]),components:[K.asSpec(),oe.asSpec(),_e.asSpec()]}),ft=hoe({getRoot:L(Ve),getFooter:function(){return _e.get(Ve)},getBody:function(){return oe.get(Ve)},getFormWrapper:function(){var Be=oe.get(Ve);return So.getCurrent(Be).getOr(Be)}},c.redial,be);return{dialog:Ve,instanceApi:ft}},TY=tinymce.util.Tools.resolve("tinymce.util.URI"),z_e=function(a){var c=function(N){a.getSystem().isConnected()&&N(a)},p=function(N){if(!i(N))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(function(j){Ir(j,jA,{message:N})})},w=function(){c(function(N){Mo(N,Xw)})},M=function(){c(function(N){Mo(N,Jc)})},E=function(N){c(function(j){j.getSystem().broadcastOn([Gre],N)})};return{block:p,unblock:w,close:M,sendMessage:E}},F_e=["insertContent","setContent","execCommand","close","block","unblock"],poe=function(a){return u(a)&&F_e.indexOf(a.mceAction)!==-1},H_e=function(a){return!poe(a)&&u(a)&&ln(a,"mceAction")},V_e=function(a,c,p){switch(p.mceAction){case"insertContent":a.insertContent(p.content);break;case"setContent":a.setContent(p.content);break;case"execCommand":var w=h(p.ui)?p.ui:!1;a.execCommand(p.cmd,w,p.value);break;case"close":c.close();break;case"block":c.block(p.message);break;case"unblock":c.unblock();break}},j_e=function(a,c,p,w){var M,E=ooe(a.title,w),N=C_e(a),j=a.buttons.bind(function(ht){return ht.length===0?G.none():G.some(doe({buttons:ht},w))}),U=SY.initUrlDialog(function(){return Be},aoe(function(){return ft},w.shared.providers,c)),K=ne(ne({},a.height.fold(function(){return{}},function(ht){return{height:ht+"px","max-height":ht+"px"}})),a.width.fold(function(){return{}},function(ht){return{width:ht+"px","max-width":ht+"px"}})),oe=a.width.isNone()&&a.height.isNone()?["tox-dialog--width-lg"]:[],se=new TY(a.url,{base_uri:new TY(window.location.href)}),be=se.protocol+"://"+se.host+(se.port?":"+se.port:""),_e=Ag(),Ee=[po("messages",[da(function(){var ht=Ya(He.fromDom(window),"message",function(Wt){if(se.isSameOrigin(new TY(Wt.raw.origin))){var Kt=Wt.raw.data;poe(Kt)?V_e(p,Be,Kt):H_e(Kt)&&a.onMessage(Be,Kt)}});_e.set(ht)}),ec(_e.clear)]),rc.config({channels:(M={},M[Gre]={onReceive:function(ht,Wt){pu(ht.element,"iframe").each(function(Kt){var ct=Kt.dom.contentWindow;ct.postMessage(Wt,be)})}},M)})],Ve={header:E,body:N,footer:j,extraClasses:oe,extraBehaviours:Ee,extraStyles:K},ft=uoe(Ve,a,U,w),Be=z_e(ft);return{dialog:ft,instanceApi:Be}},U_e=function(a){var c=a.backstage.shared,p=function(w,M){var E=function(){ys.hide(K),M()},N=ci(i2({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:G.none()},"cancel",a.backstage)),j=Jre(),U=Kre(E,c.providers),K=nu(_Y({lazySink:function(){return c.getSink()},header:Yre(j,U),body:Qre(w,c.providers),footer:G.some(Zre(eoe([],[N.asSpec()]))),onEscape:E,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[fn(Pf,E)],eventOrder:{}}));ys.show(K);var oe=N.get(K);$r.focus(oe)};return{open:p}},W_e=function(a){var c=a.backstage.shared,p=function(w,M){var E=function(be){ys.hide(oe),M(be)},N=ci(i2({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:G.none()},"submit",a.backstage)),j=i2({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:G.none()},"cancel",a.backstage),U=Jre(),K=Kre(function(){return E(!1)},c.providers),oe=nu(_Y({lazySink:function(){return c.getSink()},header:Yre(U,K),body:Qre(w,c.providers),footer:G.some(Zre(eoe([],[j,N.asSpec()]))),onEscape:function(){return E(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[fn(Pf,function(){return E(!1)}),fn(Gw,function(){return E(!0)})],eventOrder:{}}));ys.show(oe);var se=N.get(oe);$r.focus(se)};return{open:p}},q_e=function(a,c){return gf(wa("data",c,a))},$_e=function(a){return qC(a,".tox-alert-dialog")||qC(a,".tox-confirm-dialog")},G_e=function(a,c,p){return c&&p?[]:[Rs.config({contextual:{lazyContext:function(){return G.some(eu(He.fromDom(a.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},X_e=function(a){var c=a.backstage,p=a.editor,w=IA(p),M=U_e(a),E=W_e(a),N=function(Ee,Ve,ft){return Ve!==void 0&&Ve.inline==="toolbar"?oe(Ee,c.shared.anchors.inlineDialog(),ft,Ve.ariaAttrs):Ve!==void 0&&Ve.inline==="cursor"?oe(Ee,c.shared.anchors.cursor(),ft,Ve.ariaAttrs):K(Ee,ft)},j=function(Ee,Ve){return U(Ee,Ve)},U=function(Ee,Ve){var ft=function(Be){var ht=j_e(Be,{closeWindow:function(){ys.hide(ht.dialog),Ve(ht.instanceApi)}},p,c);return ys.show(ht.dialog),ht.instanceApi};return SP.openUrl(ft,Ee)},K=function(Ee,Ve){var ft=function(Be,ht,Wt){var Kt=ht,ct={dataValidator:Wt,initialData:Kt,internalDialog:Be},Lt=L_e(ct,{redial:SP.redial,closeWindow:function(){ys.hide(Lt.dialog),Ve(Lt.instanceApi)}},c);return ys.show(Lt.dialog),Lt.instanceApi.setData(Kt),Lt.instanceApi};return SP.open(ft,Ee)},oe=function(Ee,Ve,ft,Be){var ht=function(Wt,Kt,ct){var Lt=q_e(Kt,ct),rn=Ba(),$n=c.shared.header.isPositionedAtTop(),cn={dataValidator:ct,initialData:Lt,internalDialog:Wt},Xn=function(){return rn.on(function(jn){gi.reposition(jn),Rs.refresh(jn)})},mn=B_e(cn,{redial:SP.redial,closeWindow:function(){rn.on(gi.hide),p.off("ResizeEditor",Xn),rn.clear(),ft(mn.instanceApi)}},c,Be),nn=nu(gi.sketch(ne(ne({lazySink:c.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},$n?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:zn(Ce([po("window-manager-inline-events",[fn(xf(),function(jn,gr){Mo(mn.dialog,Pf)})])],G_e(p,w,$n),!0)),isExtraPart:function(jn,gr){return $_e(gr)}})));return rn.set(nn),gi.showWithin(nn,Dc(mn.dialog),{anchor:Ve},G.some(li())),(!w||!$n)&&(Rs.refresh(nn),p.on("ResizeEditor",Xn)),mn.instanceApi.setData(Lt),Rr.focusIn(mn.dialog),mn.instanceApi};return SP.open(ht,Ee)},se=function(Ee,Ve){E.open(Ee,function(ft){Ve(ft)})},be=function(Ee,Ve){M.open(Ee,function(){Ve()})},_e=function(Ee){Ee.close()};return{open:N,openUrl:j,alert:be,close:_e,confirm:se}};function Y_e(){ce.add("silver",function(a){var c=Ewe(a),p=c.uiMothership,w=c.backstage,M=c.renderUI,E=c.getUi;jU.register(a,w.shared);var N=X_e({editor:a,backstage:w});return{renderUI:M,getWindowManagerImpl:L(N),getNotificationManagerImpl:function(){return H9(a,{backstage:w},p)},ui:E()}})}Y_e()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(Q,Ce,ze){var ke=Ce==="UL"?"InsertUnorderedList":"InsertOrderedList";Q.execCommand(ke,!1,ze===!1?null:{"list-style-type":ze})},t=function(Q){Q.addCommand("ApplyUnorderedListStyle",function(Ce,ze){e(Q,"UL",ze["list-style-type"])}),Q.addCommand("ApplyOrderedListStyle",function(Ce,ze){e(Q,"OL",ze["list-style-type"])})},r=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(Q){var Ce=Q.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return Ce?Ce.split(/[ ,]/):[]},u=function(Q){var Ce=Q.getParam("advlist_bullet_styles","default,circle,square");return Ce?Ce.split(/[ ,]/):[]},l=function(){},f=function(Q){return function(){return Q}},h=function(Q){return Q},g=f(!1),y=f(!0),b=function(){return S},S=function(){var Q=function(ke){return ke()},Ce=h,ze={fold:function(ke,St){return ke()},isSome:g,isNone:y,getOr:Ce,getOrThunk:Q,getOrDie:function(ke){throw new Error(ke||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:Ce,orThunk:Q,map:b,each:l,bind:b,exists:g,forall:y,filter:function(){return b()},toArray:function(){return[]},toString:f("none()")};return ze}(),_=function(Q){var Ce=f(Q),ze=function(){return St},ke=function(tt){return tt(Q)},St={fold:function(tt,G){return G(Q)},isSome:y,isNone:g,getOr:Ce,getOrThunk:Ce,getOrDie:Ce,getOrNull:Ce,getOrUndefined:Ce,or:ze,orThunk:ze,map:function(tt){return _(tt(Q))},each:function(tt){tt(Q)},bind:ke,exists:ke,forall:ke,filter:function(tt){return tt(Q)?St:S},toArray:function(){return[Q]},toString:function(){return"some("+Q+")"}};return St},k=function(Q){return Q==null?S:_(Q)},A={some:_,none:b,from:k},R=function(Q,Ce){return Q.$.contains(Q.getBody(),Ce)},I=function(Q){return Q&&/^(TH|TD)$/.test(Q.nodeName)},z=function(Q){return function(Ce){return Ce&&/^(OL|UL|DL)$/.test(Ce.nodeName)&&R(Q,Ce)}},L=function(Q){var Ce=Q.dom.getParent(Q.selection.getNode(),"ol,ul"),ze=Q.dom.getStyle(Ce,"listStyleType");return A.from(ze)},q=function(Q,Ce){for(var ze=0;ze<Q.length;ze++){var ke=Q[ze];if(Ce(ke))return ze}return-1},X=function(Q){return Q.replace(/\-/g," ").replace(/\b\w/g,function(Ce){return Ce.toUpperCase()})},Y=function(Q,Ce,ze){var ke=q(Ce.parents,I),St=ke!==-1?Ce.parents.slice(0,ke):Ce.parents,tt=r.grep(St,z(Q));return tt.length>0&&tt[0].nodeName===ze},ae=function(Q,Ce){return function(ze){var ke=function(St){ze.setActive(Y(Q,St,Ce))};return Q.on("NodeChange",ke),function(){return Q.off("NodeChange",ke)}}},te=function(Q,Ce,ze,ke,St,tt){Q.ui.registry.addSplitButton(Ce,{tooltip:ze,icon:St==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(G){var We=r.map(tt,function(Ge){var pt=St==="OL"?"num":"bull",Ze=Ge==="disc"||Ge==="decimal"?"default":Ge,kt=Ge==="default"?"":Ge,Ot=X(Ge);return{type:"choiceitem",value:kt,icon:"list-"+pt+"-"+Ze,text:Ot}});G(We)},onAction:function(){return Q.execCommand(ke)},onItemAction:function(G,We){e(Q,St,We)},select:function(G){var We=L(Q);return We.map(function(Ge){return G===Ge}).getOr(!1)},onSetup:ae(Q,St)})},ie=function(Q,Ce,ze,ke,St,tt){Q.ui.registry.addToggleButton(Ce,{active:!1,tooltip:ze,icon:St==="OL"?"ordered-list":"unordered-list",onSetup:ae(Q,St),onAction:function(){return Q.execCommand(ke)}})},le=function(Q,Ce,ze,ke,St,tt){tt.length>1?te(Q,Ce,ze,ke,St,tt):ie(Q,Ce,ze,ke,St)},ce=function(Q){le(Q,"numlist","Numbered list","InsertOrderedList","OL",i(Q)),le(Q,"bullist","Bullet list","InsertUnorderedList","UL",u(Q))};function ne(){n.add("advlist",function(Q){Q.hasPlugin("lists")?(ce(Q),t(Q)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}ne()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(ce){return ce.getParam("allow_html_in_named_anchor",!1,"boolean")},i="a:not([href])",u=function(ce){return!ce},l=function(ce){var ne=ce.getAttribute("id")||ce.getAttribute("name");return ne||""},f=function(ce){return ce&&ce.nodeName.toLowerCase()==="a"},h=function(ce){return f(ce)&&!ce.getAttribute("href")&&l(ce)!==""},g=function(ce){return h(ce)&&!ce.firstChild},y=function(ce){var ne=ce.dom;e(ne).walk(ce.selection.getRng(),function(Q){t.each(Q,function(Ce){g(Ce)&&ne.remove(Ce,!1)})})},b=function(ce){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(ce)},S=function(ce){return ce.dom.getParent(ce.selection.getStart(),i)},_=function(ce){var ne=S(ce);return ne?l(ne):""},k=function(ce,ne){ce.undoManager.transact(function(){r(ce)||ce.selection.collapse(!0),ce.selection.isCollapsed()?ce.insertContent(ce.dom.createHTML("a",{id:ne})):(y(ce),ce.formatter.remove("namedAnchor",null,null,!0),ce.formatter.apply("namedAnchor",{value:ne}),ce.addVisual())})},A=function(ce,ne,Q){Q.removeAttribute("name"),Q.id=ne,ce.addVisual(),ce.undoManager.add()},R=function(ce,ne){var Q=S(ce);Q?A(ce,ne,Q):k(ce,ne),ce.focus()},I=function(ce,ne){return b(ne)?(R(ce,ne),!0):(ce.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},z=function(ce){var ne=_(ce);ce.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:ne},onSubmit:function(Q){I(ce,Q.getData().id)&&Q.close()}})},L=function(ce){ce.addCommand("mceAnchor",function(){z(ce)})},q=function(ce){return ce&&u(ce.attr("href"))&&!u(ce.attr("id")||ce.attr("name"))},X=function(ce){return q(ce)&&!ce.firstChild},Y=function(ce){return function(ne){for(var Q=0;Q<ne.length;Q++){var Ce=ne[Q];X(Ce)&&Ce.attr("contenteditable",ce)}}},ae=function(ce){ce.on("PreInit",function(){ce.parser.addNodeFilter("a",Y("false")),ce.serializer.addNodeFilter("a",Y(null))})},te=function(ce){ce.formatter.register("namedAnchor",{inline:"a",selector:i,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(ne,Q,Ce){return h(ne)}})},ie=function(ce){ce.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return ce.execCommand("mceAnchor")},onSetup:function(ne){return ce.selection.selectorChangedWithUnbind("a:not([href])",ne.setActive).unbind}}),ce.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return ce.execCommand("mceAnchor")}})};function le(){n.add("anchor",function(ce){ae(ce),L(ce),ie(ce),ce.on("PreInit",function(){te(ce)})})}le()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(te,ie,le){return ie===""||te.length>=ie.length&&te.substr(le,le+ie.length)===ie},t=function(te,ie){return te.indexOf(ie)!==-1},r=function(te,ie){return e(te,ie,0)},i=tinymce.util.Tools.resolve("tinymce.Env"),u=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-+~=.,%()\/\w]*[-+~=%()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},l=new RegExp("^"+u().source+"$","i"),f=function(te){return te.getParam("autolink_pattern",l)},h=function(te){return te.getParam("default_link_target",!1)},g=function(te){return te.getParam("link_default_protocol","http","string")},y=function(te){return/^[(\[{ \u00a0]$/.test(te)},b=function(te){return te.nodeType===3},S=function(te){return te.nodeType===1},_=function(te){return X(te,-1)},k=function(te){return X(te,0)},A=function(te){return X(te,-1)},R=function(te,ie){if(ie<0&&(ie=0),b(te)){var le=te.data.length;ie>le&&(ie=le)}return ie},I=function(te,ie,le){!S(ie)||ie.hasChildNodes()?te.setStart(ie,R(ie,le)):te.setStartBefore(ie)},z=function(te,ie,le){!S(ie)||ie.hasChildNodes()?te.setEnd(ie,R(ie,le)):te.setEndAfter(ie)},L=function(te){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(te)},q=function(te){return/[?!,.;:]/.test(te)},X=function(te,ie){var le,ce,ne,Q,Ce,ze,ke,St=f(te),tt=h(te);if(te.dom.getParent(te.selection.getNode(),"a[href]")===null){var G=te.selection.getRng().cloneRange();if(G.startOffset<5){if(Ce=G.endContainer.previousSibling,!Ce){if(!G.endContainer.firstChild||!G.endContainer.firstChild.nextSibling)return;Ce=G.endContainer.firstChild.nextSibling}if(ze=Ce.length,I(G,Ce,ze),z(G,Ce,ze),G.endOffset<5)return;le=G.endOffset,ce=Ce}else{if(ce=G.endContainer,!b(ce)&&ce.firstChild){for(;!b(ce)&&ce.firstChild;)ce=ce.firstChild;b(ce)&&(I(G,ce,0),z(G,ce,ce.nodeValue.length))}G.endOffset===1?le=2:le=G.endOffset-1-ie}var We=le;do I(G,ce,le>=2?le-2:0),z(G,ce,le>=1?le-1:0),le-=1,ke=G.toString();while(!y(ke)&&le-2>=0);y(G.toString())?(I(G,ce,le),z(G,ce,We),le+=1):G.startOffset===0?(I(G,ce,0),z(G,ce,We)):(I(G,ce,le),z(G,ce,We)),Q=G.toString(),q(Q.charAt(Q.length-1))&&z(G,ce,We-1),Q=G.toString().trim();var Ge=Q.match(St),pt=g(te);if(Ge){var Ze=Ge[0];r(Ze,"www.")?Ze=pt+"://"+Ze:t(Ze,"@")&&!L(Ze)&&(Ze="mailto:"+Ze),ne=te.selection.getBookmark(),te.selection.setRng(G),te.execCommand("createlink",!1,Ze),tt!==!1&&te.dom.setAttrib(te.selection.getNode(),"target",tt),te.selection.moveToBookmark(ne),te.nodeChanged()}}},Y=function(te){var ie;if(te.on("keydown",function(le){if(le.keyCode===13)return A(te)}),i.browser.isIE()){te.on("focus",function(){if(!ie){ie=!0;try{te.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}te.on("keypress",function(le){if(le.keyCode===41||le.keyCode===93||le.keyCode===125)return _(te)}),te.on("keyup",function(le){if(le.keyCode===32)return k(te)})};function ae(){n.add("autolink",function(te){Y(te)})}ae()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(ne){return function(Q){return ne===Q}},t=e(void 0),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),i=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=function(ne){return ne.fire("RestoreDraft")},f=function(ne){return ne.fire("StoreDraft")},h=function(ne){return ne.fire("RemoveDraft")},g=function(ne,Q){var Ce={s:1e3,m:6e4},ze=ne||Q,ke=/^(\d+)([ms]?)$/.exec(""+ze);return(ke[2]?Ce[ke[2]]:1)*parseInt(ze,10)},y=function(ne){return ne.getParam("autosave_ask_before_unload",!0)},b=function(ne){var Q=document.location;return ne.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,Q.pathname).replace(/{query}/g,Q.search).replace(/{hash}/g,Q.hash).replace(/{id}/g,ne.id)},S=function(ne){return ne.getParam("autosave_restore_when_empty",!1)},_=function(ne){return g(ne.getParam("autosave_interval"),"30s")},k=function(ne){return g(ne.getParam("autosave_retention"),"20m")},A=function(ne,Q){if(t(Q))return ne.dom.isEmpty(ne.getBody());var Ce=u.trim(Q);if(Ce==="")return!0;var ze=new DOMParser().parseFromString(Ce,"text/html");return ne.dom.isEmpty(ze)},R=function(ne){var Q=parseInt(i.getItem(b(ne)+"time"),10)||0;return new Date().getTime()-Q>k(ne)?(I(ne,!1),!1):!0},I=function(ne,Q){var Ce=b(ne);i.removeItem(Ce+"draft"),i.removeItem(Ce+"time"),Q!==!1&&h(ne)},z=function(ne){var Q=b(ne);!A(ne)&&ne.isDirty()&&(i.setItem(Q+"draft",ne.getContent({format:"raw",no_events:!0})),i.setItem(Q+"time",new Date().getTime().toString()),f(ne))},L=function(ne){var Q=b(ne);R(ne)&&(ne.setContent(i.getItem(Q+"draft"),{format:"raw"}),l(ne))},q=function(ne){var Q=_(ne);r.setEditorInterval(ne,function(){z(ne)},Q)},X=function(ne){ne.undoManager.transact(function(){L(ne),I(ne)}),ne.focus()},Y=function(ne){return{hasDraft:function(){return R(ne)},storeDraft:function(){return z(ne)},restoreDraft:function(){return L(ne)},removeDraft:function(Q){return I(ne,Q)},isEmpty:function(Q){return A(ne,Q)}}},ae=tinymce.util.Tools.resolve("tinymce.EditorManager"),te=function(ne){ne.editorManager.on("BeforeUnload",function(Q){var Ce;u.each(ae.get(),function(ze){ze.plugins.autosave&&ze.plugins.autosave.storeDraft(),!Ce&&ze.isDirty()&&y(ze)&&(Ce=ze.translate("You have unsaved changes are you sure you want to navigate away?"))}),Ce&&(Q.preventDefault(),Q.returnValue=Ce)})},ie=function(ne){return function(Q){Q.setDisabled(!R(ne));var Ce=function(){return Q.setDisabled(!R(ne))};return ne.on("StoreDraft RestoreDraft RemoveDraft",Ce),function(){return ne.off("StoreDraft RestoreDraft RemoveDraft",Ce)}}},le=function(ne){q(ne),ne.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){X(ne)},onSetup:ie(ne)}),ne.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){X(ne)},onSetup:ie(ne)})};function ce(){n.add("autosave",function(ne){return te(ne),le(ne),ne.on("init",function(){S(ne)&&ne.dom.isEmpty(ne.getBody())&&L(ne)}),Y(ne)})}ce()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(f,h){f.focus(),f.undoManager.transact(function(){f.setContent(h)}),f.selection.setCursorLocation(),f.nodeChanged()},t=function(f){return f.getContent({source_view:!0})},r=function(f){var h=t(f);f.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:h},onSubmit:function(g){e(f,g.getData().code),g.close()}})},i=function(f){f.addCommand("mceCodeEditor",function(){r(f)})},u=function(f){var h=function(){return f.execCommand("mceCodeEditor")};f.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:h}),f.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:h})};function l(){n.add("code",function(f){return i(f),u(f),{}})}l()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){},t=function(We){return function(){return We}},r=function(We){return We},i=t(!1),u=t(!0),l=function(){return f},f=function(){var We=function(Ze){return Ze()},Ge=r,pt={fold:function(Ze,kt){return Ze()},isSome:i,isNone:u,getOr:Ge,getOrThunk:We,getOrDie:function(Ze){throw new Error(Ze||"error: getOrDie called on none.")},getOrNull:t(null),getOrUndefined:t(void 0),or:Ge,orThunk:We,map:l,each:e,bind:l,exists:i,forall:u,filter:function(){return l()},toArray:function(){return[]},toString:t("none()")};return pt}(),h=function(We){var Ge=t(We),pt=function(){return kt},Ze=function(Ot){return Ot(We)},kt={fold:function(Ot,Nt){return Nt(We)},isSome:u,isNone:i,getOr:Ge,getOrThunk:Ge,getOrDie:Ge,getOrNull:Ge,getOrUndefined:Ge,or:pt,orThunk:pt,map:function(Ot){return h(Ot(We))},each:function(Ot){Ot(We)},bind:Ze,exists:Ze,forall:Ze,filter:function(Ot){return Ot(We)?kt:f},toArray:function(){return[We]},toString:function(){return"some("+We+")"}};return kt},g=function(We){return We==null?f:h(We)},y={some:h,none:l,from:g},b=function(We,Ge){return Ge>=0&&Ge<We.length?y.some(We[Ge]):y.none()},S=function(We){return b(We,0)},_=function(We,Ge){return We?y.some(Ge):y.none()},k=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=function(We){return We&&We.nodeName==="PRE"&&We.className.indexOf("language-")!==-1},R=function(We){return function(Ge,pt){return We(pt)}},I=typeof window<"u"?window:Function("return this;")(),z={},L={exports:z},q={};(function(We,Ge,pt,Ze){var kt=window.Prism;window.Prism={manual:!0},function(Nt,fe){typeof Ge=="object"&&typeof pt<"u"?pt.exports=fe():typeof We=="function"&&We.amd?We(fe):(Nt=typeof globalThis<"u"?globalThis:Nt||self,Nt.EphoxContactWrapper=fe())}(this,function(){var Nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof q<"u"?q:typeof self<"u"?self:{},fe={exports:{}};(function(je){var bt=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},qe=function(Je){var st=/\blang(?:uage)?-([\w-]+)\b/i,Ft=0,Ct={},Rt={manual:Je.Prism&&Je.Prism.manual,disableWorkerMessageHandler:Je.Prism&&Je.Prism.disableWorkerMessageHandler,util:{encode:function gn(vn){return vn instanceof ur?new ur(vn.type,gn(vn.content),vn.alias):Array.isArray(vn)?vn.map(gn):vn.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(gn){return Object.prototype.toString.call(gn).slice(8,-1)},objId:function(gn){return gn.__id||Object.defineProperty(gn,"__id",{value:++Ft}),gn.__id},clone:function gn(vn,en){en=en||{};var vt,Tt;switch(Rt.util.type(vn)){case"Object":if(Tt=Rt.util.objId(vn),en[Tt])return en[Tt];vt={},en[Tt]=vt;for(var hn in vn)vn.hasOwnProperty(hn)&&(vt[hn]=gn(vn[hn],en));return vt;case"Array":return Tt=Rt.util.objId(vn),en[Tt]?en[Tt]:(vt=[],en[Tt]=vt,vn.forEach(function(Bn,bn){vt[bn]=gn(Bn,en)}),vt);default:return vn}},getLanguage:function(gn){for(;gn&&!st.test(gn.className);)gn=gn.parentElement;return gn?(gn.className.match(st)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(vt){var gn=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(vt.stack)||[])[1];if(gn){var vn=document.getElementsByTagName("script");for(var en in vn)if(vn[en].src==gn)return vn[en]}return null}},isActive:function(gn,vn,en){for(var vt="no-"+vn;gn;){var Tt=gn.classList;if(Tt.contains(vn))return!0;if(Tt.contains(vt))return!1;gn=gn.parentElement}return!!en}},languages:{plain:Ct,plaintext:Ct,text:Ct,txt:Ct,extend:function(gn,vn){var en=Rt.util.clone(Rt.languages[gn]);for(var vt in vn)en[vt]=vn[vt];return en},insertBefore:function(gn,vn,en,vt){vt=vt||Rt.languages;var Tt=vt[gn],hn={};for(var Bn in Tt)if(Tt.hasOwnProperty(Bn)){if(Bn==vn)for(var bn in en)en.hasOwnProperty(bn)&&(hn[bn]=en[bn]);en.hasOwnProperty(Bn)||(hn[Bn]=Tt[Bn])}var mt=vt[gn];return vt[gn]=hn,Rt.languages.DFS(Rt.languages,function(an,On){On===mt&&an!=gn&&(this[an]=hn)}),hn},DFS:function gn(vn,en,vt,Tt){Tt=Tt||{};var hn=Rt.util.objId;for(var Bn in vn)if(vn.hasOwnProperty(Bn)){en.call(vn,Bn,vn[Bn],vt||Bn);var bn=vn[Bn],mt=Rt.util.type(bn);mt==="Object"&&!Tt[hn(bn)]?(Tt[hn(bn)]=!0,gn(bn,en,null,Tt)):mt==="Array"&&!Tt[hn(bn)]&&(Tt[hn(bn)]=!0,gn(bn,en,Bn,Tt))}}},plugins:{},highlightAll:function(gn,vn){Rt.highlightAllUnder(document,gn,vn)},highlightAllUnder:function(gn,vn,en){var vt={callback:en,container:gn,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Rt.hooks.run("before-highlightall",vt),vt.elements=Array.prototype.slice.apply(vt.container.querySelectorAll(vt.selector)),Rt.hooks.run("before-all-elements-highlight",vt);for(var Tt=0,hn;hn=vt.elements[Tt++];)Rt.highlightElement(hn,vn===!0,vt.callback)},highlightElement:function(gn,vn,en){var vt=Rt.util.getLanguage(gn),Tt=Rt.languages[vt];gn.className=gn.className.replace(st,"").replace(/\s+/g," ")+" language-"+vt;var hn=gn.parentElement;hn&&hn.nodeName.toLowerCase()==="pre"&&(hn.className=hn.className.replace(st,"").replace(/\s+/g," ")+" language-"+vt);var Bn=gn.textContent,bn={element:gn,language:vt,grammar:Tt,code:Bn};function mt(On){bn.highlightedCode=On,Rt.hooks.run("before-insert",bn),bn.element.innerHTML=bn.highlightedCode,Rt.hooks.run("after-highlight",bn),Rt.hooks.run("complete",bn),en&&en.call(bn.element)}if(Rt.hooks.run("before-sanity-check",bn),hn=bn.element.parentElement,hn&&hn.nodeName.toLowerCase()==="pre"&&!hn.hasAttribute("tabindex")&&hn.setAttribute("tabindex","0"),!bn.code){Rt.hooks.run("complete",bn),en&&en.call(bn.element);return}if(Rt.hooks.run("before-highlight",bn),!bn.grammar){mt(Rt.util.encode(bn.code));return}if(vn&&Je.Worker){var an=new Worker(Rt.filename);an.onmessage=function(On){mt(On.data)},an.postMessage(JSON.stringify({language:bn.language,code:bn.code,immediateClose:!0}))}else mt(Rt.highlight(bn.code,bn.grammar,bn.language))},highlight:function(gn,vn,en){var vt={code:gn,grammar:vn,language:en};return Rt.hooks.run("before-tokenize",vt),vt.tokens=Rt.tokenize(vt.code,vt.grammar),Rt.hooks.run("after-tokenize",vt),ur.stringify(Rt.util.encode(vt.tokens),vt.language)},tokenize:function(gn,vn){var en=vn.rest;if(en){for(var vt in en)vn[vt]=en[vt];delete vn.rest}var Tt=new Mn;return Zt(Tt,Tt.head,gn),Bt(gn,Tt,vn,Tt.head,0),pr(Tt)},hooks:{all:{},add:function(gn,vn){var en=Rt.hooks.all;en[gn]=en[gn]||[],en[gn].push(vn)},run:function(gn,vn){var en=Rt.hooks.all[gn];if(!(!en||!en.length))for(var vt=0,Tt;Tt=en[vt++];)Tt(vn)}},Token:ur};Je.Prism=Rt;function ur(gn,vn,en,vt){this.type=gn,this.content=vn,this.alias=en,this.length=(vt||"").length|0}ur.stringify=function gn(vn,en){if(typeof vn=="string")return vn;if(Array.isArray(vn)){var vt="";return vn.forEach(function(mt){vt+=gn(mt,en)}),vt}var Tt={type:vn.type,content:gn(vn.content,en),tag:"span",classes:["token",vn.type],attributes:{},language:en},hn=vn.alias;hn&&(Array.isArray(hn)?Array.prototype.push.apply(Tt.classes,hn):Tt.classes.push(hn)),Rt.hooks.run("wrap",Tt);var Bn="";for(var bn in Tt.attributes)Bn+=" "+bn+'="'+(Tt.attributes[bn]||"").replace(/"/g,"&quot;")+'"';return"<"+Tt.tag+' class="'+Tt.classes.join(" ")+'"'+Bn+">"+Tt.content+"</"+Tt.tag+">"};function Ke(gn,vn,en,vt){gn.lastIndex=vn;var Tt=gn.exec(en);if(Tt&&vt&&Tt[1]){var hn=Tt[1].length;Tt.index+=hn,Tt[0]=Tt[0].slice(hn)}return Tt}function Bt(gn,vn,en,vt,Tt,hn){for(var Bn in en)if(!(!en.hasOwnProperty(Bn)||!en[Bn])){var bn=en[Bn];bn=Array.isArray(bn)?bn:[bn];for(var mt=0;mt<bn.length;++mt){if(hn&&hn.cause==Bn+","+mt)return;var an=bn[mt],On=an.inside,wn=!!an.lookbehind,er=!!an.greedy,et=an.alias;if(er&&!an.pattern.global){var jt=an.pattern.toString().match(/[imsuy]*$/)[0];an.pattern=RegExp(an.pattern.source,jt+"g")}for(var Pt=an.pattern||an,ln=vt.next,Kn=Tt;ln!==vn.tail&&!(hn&&Kn>=hn.reach);Kn+=ln.value.length,ln=ln.next){var Lr=ln.value;if(vn.length>gn.length)return;if(!(Lr instanceof ur)){var ei=1,Br;if(er){if(Br=Ke(Pt,Kn,gn,wn),!Br)break;var Ui=Br.index,Vr=Br.index+Br[0].length,ui=Kn;for(ui+=ln.value.length;Ui>=ui;)ln=ln.next,ui+=ln.value.length;if(ui-=ln.value.length,Kn=ui,ln.value instanceof ur)continue;for(var Ca=ln;Ca!==vn.tail&&(ui<Vr||typeof Ca.value=="string");Ca=Ca.next)ei++,ui+=Ca.value.length;ei--,Lr=gn.slice(Kn,ui),Br.index-=Kn}else if(Br=Ke(Pt,0,Lr,wn),!Br)continue;var Ui=Br.index,Si=Br[0],Xi=Lr.slice(0,Ui),Ia=Lr.slice(Ui+Si.length),Zi=Kn+Lr.length;hn&&Zi>hn.reach&&(hn.reach=Zi);var Bi=ln.prev;Xi&&(Bi=Zt(vn,Bi,Xi),Kn+=Xi.length),Qn(vn,Bi,ei);var Ra=new ur(Bn,On?Rt.tokenize(Si,On):Si,et,Si);if(ln=Zt(vn,Bi,Ra),Ia&&Zt(vn,ln,Ia),ei>1){var co={cause:Bn+","+mt,reach:Zi};Bt(gn,vn,en,ln.prev,Kn,co),hn&&co.reach>hn.reach&&(hn.reach=co.reach)}}}}}}function Mn(){var gn={value:null,prev:null,next:null},vn={value:null,prev:gn,next:null};gn.next=vn,this.head=gn,this.tail=vn,this.length=0}function Zt(gn,vn,en){var vt=vn.next,Tt={value:en,prev:vn,next:vt};return vn.next=Tt,vt.prev=Tt,gn.length++,Tt}function Qn(gn,vn,en){for(var vt=vn.next,Tt=0;Tt<en&&vt!==gn.tail;Tt++)vt=vt.next;vn.next=vt,vt.prev=vn,gn.length-=Tt}function pr(gn){for(var vn=[],en=gn.head.next;en!==gn.tail;)vn.push(en.value),en=en.next;return vn}if(!Je.document)return Je.addEventListener&&(Rt.disableWorkerMessageHandler||Je.addEventListener("message",function(gn){var vn=JSON.parse(gn.data),en=vn.language,vt=vn.code,Tt=vn.immediateClose;Je.postMessage(Rt.highlight(vt,Rt.languages[en],en)),Tt&&Je.close()},!1)),Rt;var ao=Rt.util.currentScript();ao&&(Rt.filename=ao.src,ao.hasAttribute("data-manual")&&(Rt.manual=!0));function To(){Rt.manual||Rt.highlightAll()}if(!Rt.manual){var Go=document.readyState;Go==="loading"||Go==="interactive"&&ao&&ao.defer?document.addEventListener("DOMContentLoaded",To):window.requestAnimationFrame?window.requestAnimationFrame(To):window.setTimeout(To,16)}return Rt}(bt);je.exports&&(je.exports=qe),typeof Nt<"u"&&(Nt.Prism=qe)})(fe),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(je){function bt(qe,Je){return"___"+qe.toUpperCase()+Je+"___"}Object.defineProperties(je.languages["markup-templating"]={},{buildPlaceholders:{value:function(qe,Je,st,Ft){if(qe.language===Je){var Ct=qe.tokenStack=[];qe.code=qe.code.replace(st,function(Rt){if(typeof Ft=="function"&&!Ft(Rt))return Rt;for(var ur=Ct.length,Ke;qe.code.indexOf(Ke=bt(Je,ur))!==-1;)++ur;return Ct[ur]=Rt,Ke}),qe.grammar=je.languages.markup}}},tokenizePlaceholders:{value:function(qe,Je){if(qe.language!==Je||!qe.tokenStack)return;qe.grammar=je.languages[Je];var st=0,Ft=Object.keys(qe.tokenStack);function Ct(Rt){for(var ur=0;ur<Rt.length&&!(st>=Ft.length);ur++){var Ke=Rt[ur];if(typeof Ke=="string"||Ke.content&&typeof Ke.content=="string"){var Bt=Ft[st],Mn=qe.tokenStack[Bt],Zt=typeof Ke=="string"?Ke:Ke.content,Qn=bt(Je,Bt),pr=Zt.indexOf(Qn);if(pr>-1){++st;var ao=Zt.substring(0,pr),To=new je.Token(Je,je.tokenize(Mn,qe.grammar),"language-"+Je,Mn),Go=Zt.substring(pr+Qn.length),gn=[];ao&&gn.push.apply(gn,Ct([ao])),gn.push(To),Go&&gn.push.apply(gn,Ct([Go])),typeof Ke=="string"?Rt.splice.apply(Rt,[ur,1].concat(gn)):Ke.content=gn}}else Ke.content&&Ct(Ke.content)}return Rt}Ct(qe.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean,function(je){var bt=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,qe=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return bt.source});je.languages.cpp=je.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return bt.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:bt,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),je.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:module|import)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return qe})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),je.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:je.languages.cpp}}}}),je.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),je.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:je.languages.extend("cpp",{})}}),je.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},je.languages.cpp["base-clause"])}(Prism),function(je){function bt(Kn,Lr){return Kn.replace(/<<(\d+)>>/g,function(ei,Br){return"(?:"+Lr[+Br]+")"})}function qe(Kn,Lr,ei){return RegExp(bt(Kn,Lr),ei||"")}function Je(Kn,Lr){for(var ei=0;ei<Lr;ei++)Kn=Kn.replace(/<<self>>/g,function(){return"(?:"+Kn+")"});return Kn.replace(/<<self>>/g,"[^\\s\\S]")}var st={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Ft(Kn){return"\\b(?:"+Kn.trim().replace(/ /g,"|")+")\\b"}var Ct=Ft(st.typeDeclaration),Rt=RegExp(Ft(st.type+" "+st.typeDeclaration+" "+st.contextual+" "+st.other)),ur=Ft(st.typeDeclaration+" "+st.contextual+" "+st.other),Ke=Ft(st.type+" "+st.typeDeclaration+" "+st.other),Bt=Je(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Mn=Je(/\((?:[^()]|<<self>>)*\)/.source,2),Zt=/@?\b[A-Za-z_]\w*\b/.source,Qn=bt(/<<0>>(?:\s*<<1>>)?/.source,[Zt,Bt]),pr=bt(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[ur,Qn]),ao=/\[\s*(?:,\s*)*\]/.source,To=bt(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[pr,ao]),Go=bt(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[Bt,Mn,ao]),gn=bt(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Go]),vn=bt(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[gn,pr,ao]),en={keyword:Rt,punctuation:/[<>()?,.:[\]]/},vt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Tt=/"(?:\\.|[^\\"\r\n])*"/.source,hn=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;je.languages.csharp=je.languages.extend("clike",{string:[{pattern:qe(/(^|[^$\\])<<0>>/.source,[hn]),lookbehind:!0,greedy:!0},{pattern:qe(/(^|[^@$\\])<<0>>/.source,[Tt]),lookbehind:!0,greedy:!0},{pattern:RegExp(vt),greedy:!0,alias:"character"}],"class-name":[{pattern:qe(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[pr]),lookbehind:!0,inside:en},{pattern:qe(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[Zt,vn]),lookbehind:!0,inside:en},{pattern:qe(/(\busing\s+)<<0>>(?=\s*=)/.source,[Zt]),lookbehind:!0},{pattern:qe(/(\b<<0>>\s+)<<1>>/.source,[Ct,Qn]),lookbehind:!0,inside:en},{pattern:qe(/(\bcatch\s*\(\s*)<<0>>/.source,[pr]),lookbehind:!0,inside:en},{pattern:qe(/(\bwhere\s+)<<0>>/.source,[Zt]),lookbehind:!0},{pattern:qe(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[To]),lookbehind:!0,inside:en},{pattern:qe(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[vn,Ke,Zt]),inside:en}],keyword:Rt,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),je.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),je.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:qe(/([(,]\s*)<<0>>(?=\s*:)/.source,[Zt]),lookbehind:!0,alias:"punctuation"}}),je.languages.insertBefore("csharp","class-name",{namespace:{pattern:qe(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[Zt]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:qe(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Mn]),lookbehind:!0,alias:"class-name",inside:en},"return-type":{pattern:qe(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[vn,pr]),inside:en,alias:"class-name"},"constructor-invocation":{pattern:qe(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[vn]),lookbehind:!0,inside:en,alias:"class-name"},"generic-method":{pattern:qe(/<<0>>\s*<<1>>(?=\s*\()/.source,[Zt,Bt]),inside:{function:qe(/^<<0>>/.source,[Zt]),generic:{pattern:RegExp(Bt),alias:"class-name",inside:en}}},"type-list":{pattern:qe(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[Ct,Qn,Zt,vn,Rt.source,Mn,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:qe(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Qn,Mn]),lookbehind:!0,greedy:!0,inside:je.languages.csharp},keyword:Rt,"class-name":{pattern:RegExp(vn),greedy:!0,inside:en},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Bn=Tt+"|"+vt,bn=bt(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Bn]),mt=Je(bt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[bn]),2),an=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,On=bt(/<<0>>(?:\s*\(<<1>>*\))?/.source,[pr,mt]);je.languages.insertBefore("csharp","class-name",{attribute:{pattern:qe(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[an,On]),lookbehind:!0,greedy:!0,inside:{target:{pattern:qe(/^<<0>>(?=\s*:)/.source,[an]),alias:"keyword"},"attribute-arguments":{pattern:qe(/\(<<0>>*\)/.source,[mt]),inside:je.languages.csharp},"class-name":{pattern:RegExp(pr),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var wn=/:[^}\r\n]+/.source,er=Je(bt(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[bn]),2),et=bt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[er,wn]),jt=Je(bt(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Bn]),2),Pt=bt(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[jt,wn]);function ln(Kn,Lr){return{interpolation:{pattern:qe(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Kn]),lookbehind:!0,inside:{"format-string":{pattern:qe(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Lr,wn]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:je.languages.csharp}}},string:/[\s\S]+/}}je.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:qe(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[et]),lookbehind:!0,greedy:!0,inside:ln(et,er)},{pattern:qe(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Pt]),lookbehind:!0,greedy:!0,inside:ln(Pt,jt)}]})}(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp,function(je){var bt=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;je.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+bt.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+bt.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+bt.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:bt,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},je.languages.css.atrule.inside.rest=je.languages.css;var qe=je.languages.markup;qe&&(qe.tag.addInlined("style","css"),qe.tag.addAttribute("style","css"))}(Prism),function(je){var bt=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,qe=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Je={pattern:RegExp(qe+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};je.languages.java=je.languages.extend("clike",{"class-name":[Je,{pattern:RegExp(qe+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:Je.inside}],keyword:bt,function:[je.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),je.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),je.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Je,keyword:bt,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return bt.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(je){je.type==="entity"&&(je.attributes.title=je.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(je,bt){var qe={};qe["language-"+bt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[bt]},qe.cdata=/^<!\[CDATA\[|\]\]>$/i;var Je={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:qe}};Je["language-"+bt]={pattern:/[\s\S]+/,inside:Prism.languages[bt]};var st={};st[je]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return je}),"i"),lookbehind:!0,greedy:!0,inside:Je},Prism.languages.insertBefore("markup","cdata",st)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(je,bt){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+je+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[bt,"language-"+bt],inside:Prism.languages[bt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(je){var bt=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,qe=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Je=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,st=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Ft=/[{}\[\](),:;]/;je.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:bt,variable:/\$+(?:\w+\b|(?=\{))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[\w|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[\w|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:qe,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Je,operator:st,punctuation:Ft};var Ct={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:je.languages.php},Rt=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Ct}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Ct}}];je.languages.insertBefore("php","variable",{string:Rt,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:bt,string:Rt,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:qe,number:Je,operator:st,punctuation:Ft}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),je.hooks.add("before-tokenize",function(ur){if(/<\?/.test(ur.code)){var Ke=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/gi;je.languages["markup-templating"].buildPlaceholders(ur,"php",Ke)}}),je.hooks.add("after-tokenize",function(ur){je.languages["markup-templating"].tokenizePlaceholders(ur,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(je){je.languages.ruby=je.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var bt={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:je.languages.ruby}};delete je.languages.ruby.function,je.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:bt}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:bt}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:je.languages.ruby}}}),je.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),je.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:bt}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:bt}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?/}},interpolation:bt}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|[a-z_]\w*$/i,alias:"symbol",inside:{punctuation:/^<<[-~]?'|'$/}}}}],je.languages.rb=je.languages.ruby}(Prism);var Yt=fe.exports,Ye={boltExport:Yt};return Ye});var Ot=window.Prism;return window.Prism=kt,Ot})(void 0,z,L);var X=L.exports.boltExport,Y=function(We){return We.getParam("codesample_languages")},ae=function(We){return We.getParam("codesample_global_prismjs",!1,"boolean")},te=function(We){return I.Prism&&ae(We)?I.Prism:X},ie=function(We){var Ge=We.selection?We.selection.getNode():null;return _(A(Ge),Ge)},le=function(We,Ge,pt){We.undoManager.transact(function(){var Ze=ie(We);return pt=k.DOM.encode(pt),Ze.fold(function(){We.insertContent('<pre id="__new" class="language-'+Ge+'">'+pt+"</pre>"),We.selection.select(We.$("#__new").removeAttr("id")[0])},function(kt){We.dom.setAttrib(kt,"class","language-"+Ge),kt.innerHTML=pt,te(We).highlightElement(kt),We.selection.select(kt)})})},ce=function(We){var Ge=ie(We);return Ge.fold(t(""),function(pt){return pt.textContent})},ne=function(We){var Ge=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],pt=Y(We);return pt||Ge},Q=function(We,Ge){var pt=ie(We);return pt.fold(function(){return Ge},function(Ze){var kt=Ze.className.match(/language-(\w+)/);return kt?kt[1]:Ge})},Ce=function(We){var Ge=ne(We),pt=S(Ge).fold(t(""),function(Ot){return Ot.value}),Ze=Q(We,pt),kt=ce(We);We.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:Ge},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Ze,code:kt},onSubmit:function(Ot){var Nt=Ot.getData();le(We,Nt.language,Nt.code),Ot.close()}})},ze=function(We){We.addCommand("codesample",function(){var Ge=We.selection.getNode();We.selection.isCollapsed()||A(Ge)?Ce(We):We.formatter.toggle("code")})},ke=function(We){var Ge=We.$;We.on("PreProcess",function(pt){Ge("pre[contenteditable=false]",pt.node).filter(R(A)).each(function(Ze,kt){var Ot=Ge(kt),Nt=kt.textContent;Ot.attr("class",Ge.trim(Ot.attr("class"))),Ot.removeAttr("contentEditable"),Ot.empty().append(Ge("<code></code>").each(function(){this.textContent=Nt}))})}),We.on("SetContent",function(){var pt=Ge("pre").filter(R(A)).filter(function(Ze,kt){return kt.contentEditable!=="false"});pt.length&&We.undoManager.transact(function(){pt.each(function(Ze,kt){Ge(kt).find("br").each(function(Ot,Nt){Nt.parentNode.replaceChild(We.getDoc().createTextNode(`
`),Nt)}),kt.contentEditable="false",kt.innerHTML=We.dom.encode(kt.textContent),te(We).highlightElement(kt),kt.className=Ge.trim(kt.className)})})})},St=function(We){var Ge=We.selection.getStart();return We.dom.is(Ge,'pre[class*="language-"]')},tt=function(We){var Ge=function(){return We.execCommand("codesample")};We.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Ge,onSetup:function(pt){var Ze=function(){pt.setActive(St(We))};return We.on("NodeChange",Ze),function(){return We.off("NodeChange",Ze)}}}),We.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Ge})};function G(){n.add("codesample",function(We){ke(We),tt(We),ze(We),We.on("dblclick",function(Ge){A(Ge.target)&&Ce(We)})})}G()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(mt){var an=typeof mt;return mt===null?"null":an==="object"&&(Array.prototype.isPrototypeOf(mt)||mt.constructor&&mt.constructor.name==="Array")?"array":an==="object"&&(String.prototype.isPrototypeOf(mt)||mt.constructor&&mt.constructor.name==="String")?"string":an},t=function(mt){return function(an){return e(an)===mt}},r=function(mt){return function(an){return typeof an===mt}},i=t("string"),u=r("boolean"),l=function(mt){return mt==null},f=function(mt){return!l(mt)},h=r("function"),g=r("number"),y=function(){},b=function(mt,an){return function(On){return mt(an(On))}},S=function(mt){return function(){return mt}},_=function(mt){return mt},k=S(!1),A=S(!0),R=function(){return I},I=function(){var mt=function(wn){return wn()},an=_,On={fold:function(wn,er){return wn()},isSome:k,isNone:A,getOr:an,getOrThunk:mt,getOrDie:function(wn){throw new Error(wn||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:an,orThunk:mt,map:R,each:y,bind:R,exists:k,forall:A,filter:function(){return R()},toArray:function(){return[]},toString:S("none()")};return On}(),z=function(mt){var an=S(mt),On=function(){return er},wn=function(et){return et(mt)},er={fold:function(et,jt){return jt(mt)},isSome:A,isNone:k,getOr:an,getOrThunk:an,getOrDie:an,getOrNull:an,getOrUndefined:an,or:On,orThunk:On,map:function(et){return z(et(mt))},each:function(et){et(mt)},bind:wn,exists:wn,forall:wn,filter:function(et){return et(mt)?er:I},toArray:function(){return[mt]},toString:function(){return"some("+mt+")"}};return er},L=function(mt){return mt==null?I:z(mt)},q={some:z,none:R,from:L},X=function(mt,an){for(var On=mt.length,wn=new Array(On),er=0;er<On;er++){var et=mt[er];wn[er]=an(et,er)}return wn},Y=function(mt,an){for(var On=0,wn=mt.length;On<wn;On++){var er=mt[On];an(er,On)}},ae=function(mt,an){for(var On=[],wn=0,er=mt.length;wn<er;wn++){var et=mt[wn];an(et,wn)&&On.push(et)}return On},te=9,ie=11,le=1,ce=3,ne=function(mt,an){var On=an||document,wn=On.createElement("div");if(wn.innerHTML=mt,!wn.hasChildNodes()||wn.childNodes.length>1)throw console.error("HTML does not have a single root node",mt),new Error("HTML must have a single root node");return ze(wn.childNodes[0])},Q=function(mt,an){var On=an||document,wn=On.createElement(mt);return ze(wn)},Ce=function(mt,an){var On=an||document,wn=On.createTextNode(mt);return ze(wn)},ze=function(mt){if(mt==null)throw new Error("Node cannot be null or undefined");return{dom:mt}},ke=function(mt,an,On){return q.from(mt.dom.elementFromPoint(an,On)).map(ze)},St={fromHtml:ne,fromTag:Q,fromText:Ce,fromDom:ze,fromPoint:ke},tt=function(mt,an){var On=mt.dom;if(On.nodeType!==le)return!1;var wn=On;if(wn.matches!==void 0)return wn.matches(an);if(wn.msMatchesSelector!==void 0)return wn.msMatchesSelector(an);if(wn.webkitMatchesSelector!==void 0)return wn.webkitMatchesSelector(an);if(wn.mozMatchesSelector!==void 0)return wn.mozMatchesSelector(an);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var G=function(mt){var an=mt.dom.nodeName;return an.toLowerCase()},We=function(mt){return mt.dom.nodeType},Ge=function(mt){return function(an){return We(an)===mt}},pt=Ge(le),Ze=Ge(ce),kt=Ge(te),Ot=Ge(ie),Nt=function(mt){return function(an){return pt(an)&&G(an)===mt}},fe=function(mt){return St.fromDom(mt.dom.ownerDocument)},Yt=function(mt){return kt(mt)?mt:fe(mt)},Ye=function(mt){return q.from(mt.dom.parentNode).map(St.fromDom)},je=function(mt){return X(mt.dom.childNodes,St.fromDom)},bt=function(mt,an,On){if(i(On)||u(On)||g(On))mt.setAttribute(an,On+"");else throw console.error("Invalid call to Attribute.set. Key ",an,":: Value ",On,":: Element ",mt),new Error("Attribute value was not simple")},qe=function(mt,an,On){bt(mt.dom,an,On)},Je=function(mt,an){mt.dom.removeAttribute(an)},st=function(mt){return Ot(mt)&&f(mt.dom.host)},Ft=h(Element.prototype.attachShadow)&&h(Node.prototype.getRootNode),Ct=Ft?function(mt){return St.fromDom(mt.dom.getRootNode())}:Yt,Rt=function(mt){var an=Ct(mt);return st(an)?q.some(an):q.none()},ur=function(mt){return St.fromDom(mt.dom.host)},Ke=function(mt){var an=Ze(mt)?mt.dom.parentNode:mt.dom;if(an==null||an.ownerDocument===null)return!1;var On=an.ownerDocument;return Rt(St.fromDom(an)).fold(function(){return On.body.contains(an)},b(Ke,ur))},Bt=function(mt,an,On){for(var wn=mt.dom,er=h(On)?On:k;wn.parentNode;){wn=wn.parentNode;var et=St.fromDom(wn);if(an(et))return q.some(et);if(er(et))break}return q.none()},Mn=function(mt,an,On){return Bt(mt,function(wn){return tt(wn,an)},On)},Zt=function(mt){return mt.style!==void 0&&h(mt.style.getPropertyValue)},Qn=function(mt,an){var On=mt.dom,wn=window.getComputedStyle(On),er=wn.getPropertyValue(an);return er===""&&!Ke(mt)?pr(On,an):er},pr=function(mt,an){return Zt(mt)?mt.style.getPropertyValue(an):""},ao=function(mt){return Qn(mt,"direction")==="rtl"?"rtl":"ltr"},To=function(mt,an){return ae(je(mt),an)},Go=function(mt,an){return To(mt,function(On){return tt(On,an)})},gn=function(mt){return Ye(mt).filter(pt)},vn=function(mt,an){var On=an?Mn(mt,"ol,ul"):q.some(mt);return On.getOr(mt)},en=Nt("li"),vt=function(mt,an){var On=mt.selection.getSelectedBlocks();On.length>0&&(Y(On,function(wn){var er=St.fromDom(wn),et=en(er),jt=vn(er,et),Pt=gn(jt);Pt.each(function(ln){var Kn=ao(ln);if(Kn!==an?qe(jt,"dir",an):ao(jt)!==an&&Je(jt,"dir"),et){var Lr=Go(jt,"li[dir]");Y(Lr,function(ei){return Je(ei,"dir")})}})}),mt.nodeChanged())},Tt=function(mt){mt.addCommand("mceDirectionLTR",function(){vt(mt,"ltr")}),mt.addCommand("mceDirectionRTL",function(){vt(mt,"rtl")})},hn=function(mt,an){return function(On){var wn=function(er){var et=St.fromDom(er.element);On.setActive(ao(et)===an)};return mt.on("NodeChange",wn),function(){return mt.off("NodeChange",wn)}}},Bn=function(mt){mt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return mt.execCommand("mceDirectionLTR")},onSetup:hn(mt,"ltr")}),mt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return mt.execCommand("mceDirectionRTL")},onSetup:hn(mt,"rtl")})};function bn(){n.add("directionality",function(mt){Tt(mt),Bn(mt)})}bn()})();(function(){var n=function(W){var H=W,ee=function(){return H},ye=function(Re){H=Re};return{get:ee,set:ye}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(W){return{isFullscreen:function(){return W.get()!==null}}},r=function(W){var H=typeof W;return W===null?"null":H==="object"&&(Array.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="Array")?"array":H==="object"&&(String.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="String")?"string":H},i=function(W){return function(H){return r(H)===W}},u=function(W){return function(H){return typeof H===W}},l=i("string"),f=i("array"),h=u("boolean"),g=function(W){return W==null},y=function(W){return!g(W)},b=u("function"),S=u("number"),_=function(){},k=function(W,H){return function(){for(var ee=[],ye=0;ye<arguments.length;ye++)ee[ye]=arguments[ye];return W(H.apply(null,ee))}},A=function(W,H){return function(ee){return W(H(ee))}},R=function(W){return function(){return W}},I=function(W){return W};function z(W){for(var H=[],ee=1;ee<arguments.length;ee++)H[ee-1]=arguments[ee];return function(){for(var ye=[],Re=0;Re<arguments.length;Re++)ye[Re]=arguments[Re];var gt=H.concat(ye);return W.apply(null,gt)}}var L=R(!1),q=R(!0),X=function(){return Y},Y=function(){var W=function(ye){return ye()},H=I,ee={fold:function(ye,Re){return ye()},isSome:L,isNone:q,getOr:H,getOrThunk:W,getOrDie:function(ye){throw new Error(ye||"error: getOrDie called on none.")},getOrNull:R(null),getOrUndefined:R(void 0),or:H,orThunk:W,map:X,each:_,bind:X,exists:L,forall:q,filter:function(){return X()},toArray:function(){return[]},toString:R("none()")};return ee}(),ae=function(W){var H=R(W),ee=function(){return Re},ye=function(gt){return gt(W)},Re={fold:function(gt,un){return un(W)},isSome:q,isNone:L,getOr:H,getOrThunk:H,getOrDie:H,getOrNull:H,getOrUndefined:H,or:ee,orThunk:ee,map:function(gt){return ae(gt(W))},each:function(gt){gt(W)},bind:ye,exists:ye,forall:ye,filter:function(gt){return gt(W)?Re:Y},toArray:function(){return[W]},toString:function(){return"some("+W+")"}};return Re},te=function(W){return W==null?Y:ae(W)},ie={some:ae,none:X,from:te},le=function(){return le=Object.assign||function(W){for(var H,ee=1,ye=arguments.length;ee<ye;ee++){H=arguments[ee];for(var Re in H)Object.prototype.hasOwnProperty.call(H,Re)&&(W[Re]=H[Re])}return W},le.apply(this,arguments)},ce=function(W){var H=n(ie.none()),ee=function(){return H.get().each(W)},ye=function(){ee(),H.set(ie.none())},Re=function(){return H.get().isSome()},gt=function(){return H.get()},un=function(hr){ee(),H.set(ie.some(hr))};return{clear:ye,isSet:Re,get:gt,set:un}},ne=function(){return ce(function(W){return W.unbind()})},Q=function(){var W=ce(_),H=function(ee){return W.get().each(ee)};return le(le({},W),{on:H})},Ce=Array.prototype.push,ze=function(W,H){for(var ee=W.length,ye=new Array(ee),Re=0;Re<ee;Re++){var gt=W[Re];ye[Re]=H(gt,Re)}return ye},ke=function(W,H){for(var ee=0,ye=W.length;ee<ye;ee++){var Re=W[ee];H(Re,ee)}},St=function(W,H){for(var ee=[],ye=0,Re=W.length;ye<Re;ye++){var gt=W[ye];H(gt,ye)&&ee.push(gt)}return ee},tt=function(W,H,ee){for(var ye=0,Re=W.length;ye<Re;ye++){var gt=W[ye];if(H(gt,ye))return ie.some(gt);if(ee(gt,ye))break}return ie.none()},G=function(W,H){return tt(W,H,L)},We=function(W){for(var H=[],ee=0,ye=W.length;ee<ye;++ee){if(!f(W[ee]))throw new Error("Arr.flatten item "+ee+" was not an array, input: "+W);Ce.apply(H,W[ee])}return H},Ge=function(W,H){return We(ze(W,H))},pt=function(W,H){return H>=0&&H<W.length?ie.some(W[H]):ie.none()},Ze=function(W){return pt(W,0)},kt=function(W,H){for(var ee=0;ee<W.length;ee++){var ye=H(W[ee],ee);if(ye.isSome())return ye}return ie.none()},Ot=Object.keys,Nt=function(W,H){for(var ee=Ot(W),ye=0,Re=ee.length;ye<Re;ye++){var gt=ee[ye],un=W[gt];H(un,gt)}},fe=function(W,H){return W.indexOf(H)!==-1},Yt=function(W){return W.style!==void 0&&b(W.style.getPropertyValue)},Ye=function(W,H){var ee=H||document,ye=ee.createElement("div");if(ye.innerHTML=W,!ye.hasChildNodes()||ye.childNodes.length>1)throw console.error("HTML does not have a single root node",W),new Error("HTML must have a single root node");return qe(ye.childNodes[0])},je=function(W,H){var ee=H||document,ye=ee.createElement(W);return qe(ye)},bt=function(W,H){var ee=H||document,ye=ee.createTextNode(W);return qe(ye)},qe=function(W){if(W==null)throw new Error("Node cannot be null or undefined");return{dom:W}},Je=function(W,H,ee){return ie.from(W.dom.elementFromPoint(H,ee)).map(qe)},st={fromHtml:Ye,fromTag:je,fromText:bt,fromDom:qe,fromPoint:Je};typeof window<"u"||Function("return this;")();var Ft=9,Ct=11,Rt=1,ur=3,Ke=function(W){return W.dom.nodeType},Bt=function(W){return function(H){return Ke(H)===W}},Mn=Bt(Rt),Zt=Bt(ur),Qn=Bt(Ft),pr=Bt(Ct),ao=function(W){var H=!1,ee;return function(){for(var ye=[],Re=0;Re<arguments.length;Re++)ye[Re]=arguments[Re];return H||(H=!0,ee=W.apply(null,ye)),ee}},To=function(W,H,ee,ye){var Re=W.isiOS()&&/ipad/i.test(ee)===!0,gt=W.isiOS()&&!Re,un=W.isiOS()||W.isAndroid(),hr=un||ye("(pointer:coarse)"),Tr=Re||!gt&&un&&ye("(min-device-width:768px)"),Ln=gt||un&&!Tr,lr=H.isSafari()&&W.isiOS()&&/safari/i.test(ee)===!1,Kr=!Ln&&!Tr&&!lr;return{isiPad:R(Re),isiPhone:R(gt),isTablet:R(Tr),isPhone:R(Ln),isTouch:R(hr),isAndroid:W.isAndroid,isiOS:W.isiOS,isWebView:R(lr),isDesktop:R(Kr)}},Go=function(W,H){for(var ee=0;ee<W.length;ee++){var ye=W[ee];if(ye.test(H))return ye}},gn=function(W,H){var ee=Go(W,H);if(!ee)return{major:0,minor:0};var ye=function(Re){return Number(H.replace(ee,"$"+Re))};return vt(ye(1),ye(2))},vn=function(W,H){var ee=String(H).toLowerCase();return W.length===0?en():gn(W,ee)},en=function(){return vt(0,0)},vt=function(W,H){return{major:W,minor:H}},Tt={nu:vt,detect:vn,unknown:en},hn=function(W,H){return kt(H.brands,function(ee){var ye=ee.brand.toLowerCase();return G(W,function(Re){var gt;return ye===((gt=Re.brand)===null||gt===void 0?void 0:gt.toLowerCase())}).map(function(Re){return{current:Re.name,version:Tt.nu(parseInt(ee.version,10),0)}})})},Bn=function(W,H){var ee=String(H).toLowerCase();return G(W,function(ye){return ye.search(ee)})},bn=function(W,H){return Bn(W,H).map(function(ee){var ye=Tt.detect(ee.versionRegexes,H);return{current:ee.name,version:ye}})},mt=function(W,H){return Bn(W,H).map(function(ee){var ye=Tt.detect(ee.versionRegexes,H);return{current:ee.name,version:ye}})},an=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,On=function(W){return function(H){return fe(H,W)}},wn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(W){return fe(W,"edge/")&&fe(W,"chrome")&&fe(W,"safari")&&fe(W,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,an],search:function(W){return fe(W,"chrome")&&!fe(W,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(W){return fe(W,"msie")||fe(W,"trident")}},{name:"Opera",versionRegexes:[an,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:On("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:On("firefox")},{name:"Safari",versionRegexes:[an,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(W){return(fe(W,"safari")||fe(W,"mobile/"))&&fe(W,"applewebkit")}}],er=[{name:"Windows",search:On("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(W){return fe(W,"iphone")||fe(W,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:On("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:On("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:On("linux"),versionRegexes:[]},{name:"Solaris",search:On("sunos"),versionRegexes:[]},{name:"FreeBSD",search:On("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:On("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],et={browsers:R(wn),oses:R(er)},jt="Edge",Pt="Chrome",ln="IE",Kn="Opera",Lr="Firefox",ei="Safari",Br=function(){return Vr({current:void 0,version:Tt.unknown()})},Vr=function(W){var H=W.current,ee=W.version,ye=function(Re){return function(){return H===Re}};return{current:H,version:ee,isEdge:ye(jt),isChrome:ye(Pt),isIE:ye(ln),isOpera:ye(Kn),isFirefox:ye(Lr),isSafari:ye(ei)}},ui={unknown:Br,nu:Vr,edge:R(jt),chrome:R(Pt),ie:R(ln),opera:R(Kn),firefox:R(Lr),safari:R(ei)},Ca="Windows",Ui="iOS",Si="Android",Xi="Linux",Ia="OSX",Zi="Solaris",Bi="FreeBSD",Ra="ChromeOS",co=function(){return Pa({current:void 0,version:Tt.unknown()})},Pa=function(W){var H=W.current,ee=W.version,ye=function(Re){return function(){return H===Re}};return{current:H,version:ee,isWindows:ye(Ca),isiOS:ye(Ui),isAndroid:ye(Si),isOSX:ye(Ia),isLinux:ye(Xi),isSolaris:ye(Zi),isFreeBSD:ye(Bi),isChromeOS:ye(Ra)}},dr={unknown:co,nu:Pa,windows:R(Ca),ios:R(Ui),android:R(Si),linux:R(Xi),osx:R(Ia),solaris:R(Zi),freebsd:R(Bi),chromeos:R(Ra)},Hu=function(W,H,ee){var ye=et.browsers(),Re=et.oses(),gt=H.bind(function(Tr){return hn(ye,Tr)}).orThunk(function(){return bn(ye,W)}).fold(ui.unknown,ui.nu),un=mt(Re,W).fold(dr.unknown,dr.nu),hr=To(un,gt,W,ee);return{browser:gt,os:un,deviceType:hr}},ba={detect:Hu},Ua=function(W){return window.matchMedia(W).matches},oa=ao(function(){return ba.detect(navigator.userAgent,ie.from(navigator.userAgentData),Ua)}),Ja=function(){return oa()},Vu=function(W,H){var ee=W.dom;if(ee.nodeType!==Rt)return!1;var ye=ee;if(ye.matches!==void 0)return ye.matches(H);if(ye.msMatchesSelector!==void 0)return ye.msMatchesSelector(H);if(ye.webkitMatchesSelector!==void 0)return ye.webkitMatchesSelector(H);if(ye.mozMatchesSelector!==void 0)return ye.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")},Qa=function(W){return W.nodeType!==Rt&&W.nodeType!==Ft&&W.nodeType!==Ct||W.childElementCount===0},ws=function(W,H){var ee=H===void 0?document:H.dom;return Qa(ee)?[]:ze(ee.querySelectorAll(W),st.fromDom)},Pe=function(W,H){return W.dom===H.dom},it=function(W){return st.fromDom(W.dom.ownerDocument)},He=function(W){return Qn(W)?W:it(W)},At=function(W){return ie.from(W.dom.parentNode).map(st.fromDom)},Rn=function(W,H){for(var ee=b(H)?H:L,ye=W.dom,Re=[];ye.parentNode!==null&&ye.parentNode!==void 0;){var gt=ye.parentNode,un=st.fromDom(gt);if(Re.push(un),ee(un)===!0)break;ye=gt}return Re},tr=function(W){var H=function(ee){return St(ee,function(ye){return!Pe(W,ye)})};return At(W).map(Oe).map(H).getOr([])},Oe=function(W){return ze(W.dom.childNodes,st.fromDom)},$e=function(W){return pr(W)&&y(W.dom.host)},Et=b(Element.prototype.attachShadow)&&b(Node.prototype.getRootNode),Jt=R(Et),he=Et?function(W){return st.fromDom(W.dom.getRootNode())}:He,Me=function(W){var H=he(W);return $e(H)?ie.some(H):ie.none()},Ue=function(W){return st.fromDom(W.dom.host)},lt=function(W){if(Jt()&&y(W.target)){var H=st.fromDom(W.target);if(Mn(H)&&_t(H)&&W.composed&&W.composedPath){var ee=W.composedPath();if(ee)return Ze(ee)}}return ie.from(W.target)},_t=function(W){return y(W.dom.shadowRoot)},Dt=function(W){var H=Zt(W)?W.dom.parentNode:W.dom;if(H==null||H.ownerDocument===null)return!1;var ee=H.ownerDocument;return Me(st.fromDom(H)).fold(function(){return ee.body.contains(H)},A(Dt,Ue))},En=function(W){var H=W.dom.body;if(H==null)throw new Error("Body is not available yet");return st.fromDom(H)},Wn=function(W,H,ee){if(l(ee)||h(ee)||S(ee))W.setAttribute(H,ee+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",ee,":: Element ",W),new Error("Attribute value was not simple")},_r=function(W,H,ee){Wn(W.dom,H,ee)},It=function(W,H){var ee=W.dom.getAttribute(H);return ee===null?void 0:ee},mr=function(W,H){W.dom.removeAttribute(H)},qr=function(W,H,ee){if(!l(ee))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",ee,":: Element ",W),new Error("CSS value must be a string: "+ee);Yt(W)&&W.style.setProperty(H,ee)},Wo=function(W,H){var ee=W.dom;Nt(H,function(ye,Re){qr(ee,Re,ye)})},ea=function(W,H){var ee=W.dom,ye=window.getComputedStyle(ee),Re=ye.getPropertyValue(H);return Re===""&&!Dt(W)?ro(ee,H):Re},ro=function(W,H){return Yt(W)?W.style.getPropertyValue(H):""},Fs=function(W,H,ee,ye,Re,gt,un){return{target:W,x:H,y:ee,stop:ye,prevent:Re,kill:gt,raw:un}},_s=function(W){var H=st.fromDom(lt(W).getOr(W.target)),ee=function(){return W.stopPropagation()},ye=function(){return W.preventDefault()},Re=k(ye,ee);return Fs(H,W.clientX,W.clientY,ee,ye,Re,W)},Yi=function(W,H){return function(ee){W(ee)&&H(_s(ee))}},Ul=function(W,H,ee,ye,Re){var gt=Yi(ee,ye);return W.dom.addEventListener(H,gt,Re),{unbind:z(Eu,W,H,gt,Re)}},vu=function(W,H,ee,ye){return Ul(W,H,ee,ye,!1)},Eu=function(W,H,ee,ye){W.dom.removeEventListener(H,ee,ye)},pi=q,Wl=function(W,H,ee){return vu(W,H,pi,ee)},nl=function(W,H){var ee=function(ye,Re){return nl(W+ye,H+Re)};return{left:W,top:H,translate:ee}},Sl=nl,gc=function(W){var H=W!==void 0?W.dom:document,ee=H.body.scrollLeft||H.documentElement.scrollLeft,ye=H.body.scrollTop||H.documentElement.scrollTop;return Sl(ee,ye)},Ou=function(W){var H=W===void 0?window:W;return Ja().browser.isFirefox()?ie.none():ie.from(H.visualViewport)},os=function(W,H,ee,ye){return{x:W,y:H,width:ee,height:ye,right:W+ee,bottom:H+ye}},vc=function(W){var H=W===void 0?window:W,ee=H.document,ye=gc(st.fromDom(ee));return Ou(H).fold(function(){var Re=H.document.documentElement,gt=Re.clientWidth,un=Re.clientHeight;return os(ye.left,ye.top,gt,un)},function(Re){return os(Math.max(Re.pageLeft,ye.left),Math.max(Re.pageTop,ye.top),Re.width,Re.height)})},ju=function(W,H,ee){return Ou(ee).map(function(ye){var Re=function(gt){return H(_s(gt))};return ye.addEventListener(W,Re),{unbind:function(){return ye.removeEventListener(W,Re)}}}).getOrThunk(function(){return{unbind:_}})},Iu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),we=tinymce.util.Tools.resolve("tinymce.Env"),rt=tinymce.util.Tools.resolve("tinymce.util.Delay"),wt=function(W,H){W.fire("FullscreenStateChanged",{state:H})},tn=function(W){return W.getParam("fullscreen_native",!1,"boolean")},kn=function(W){var H=st.fromDom(W.getElement());return Me(H).map(Ue).getOrThunk(function(){return En(it(H))})},yr=function(W){return W.fullscreenElement!==void 0?W.fullscreenElement:W.msFullscreenElement!==void 0?W.msFullscreenElement:W.webkitFullscreenElement!==void 0?W.webkitFullscreenElement:null},jo=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},ti=function(W){var H=W.dom;H.requestFullscreen?H.requestFullscreen():H.msRequestFullscreen?H.msRequestFullscreen():H.webkitRequestFullScreen&&H.webkitRequestFullScreen()},uo=function(W){var H=W.dom;H.exitFullscreen?H.exitFullscreen():H.msExitFullscreen?H.msExitFullscreen():H.webkitCancelFullScreen&&H.webkitCancelFullScreen()},yi=function(W){return W.dom===yr(it(W).dom)},zi=function(W,H,ee){return St(Rn(W,ee),H)},rl=function(W,H){return St(tr(W),H)},Wa=function(W){return ws(W)},Hs=function(W,H,ee){return zi(W,function(ye){return Vu(ye,H)},ee)},Cr=function(W,H){return rl(W,function(ee){return Vu(ee,H)})},Cl="data-ephox-mobile-fullscreen-style",Xf="display:none!important;",Oo="position:absolute!important;",ff="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",df="background-color:rgb(255,255,255)!important;",Pd=we.os.isAndroid(),si=function(W){var H=ea(W,"background-color");return H!==void 0&&H!==""?"background-color:"+H+"!important":df},is=function(W,H,ee){var ye=function(Ln){return Cr(Ln,"*:not(.tox-silver-sink)")},Re=function(Ln){return function(lr){var Kr=It(lr,"style"),Jr=Kr===void 0?"no-styles":Kr.trim();Jr!==Ln&&(_r(lr,Cl,Jr),Wo(lr,W.parseStyle(Ln)))}},gt=Hs(H,"*"),un=Ge(gt,ye),hr=si(ee);ke(un,Re(Xf)),ke(gt,Re(Oo+ff+hr));var Tr=Pd===!0?"":Oo;Re(Tr+ff+hr)(H)},Ah=function(W){var H=Wa("["+Cl+"]");ke(H,function(ee){var ye=It(ee,Cl);ye!=="no-styles"?Wo(ee,W.parseStyle(ye)):mr(ee,"style"),mr(ee,Cl)})},Ss=Iu.DOM,ia=function(){return vc(window)},ql=function(W){return window.scrollTo(W.x,W.y)},qt=Ou().fold(function(){return{bind:_,unbind:_}},function(W){var H=Q(),ee=ne(),ye=ne(),Re=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},gt=function(){window.requestAnimationFrame(function(){H.on(function(Ln){return Wo(Ln,{top:W.offsetTop+"px",left:W.offsetLeft+"px",height:W.height+"px",width:W.width+"px"})})})},un=rt.throttle(function(){Re(),gt()},50),hr=function(Ln){H.set(Ln),un(),ee.set(ju("resize",un)),ye.set(ju("scroll",un))},Tr=function(){H.on(function(){ee.clear(),ye.clear()}),H.clear()};return{bind:hr,unbind:Tr}}),yc=function(W,H){var ee=document.body,ye=document.documentElement,Re=W.getContainer(),gt=st.fromDom(Re),un=kn(W),hr=H.get(),Tr=st.fromDom(W.getBody()),Ln=we.deviceType.isTouch(),lr=Re.style,Kr=W.iframeElement,Jr=Kr.style,Hr=function(ni){ni(ee,"tox-fullscreen"),ni(ye,"tox-fullscreen"),ni(Re,"tox-fullscreen"),Me(gt).map(function(yu){return Ue(yu).dom}).each(function(yu){ni(yu,"tox-fullscreen"),ni(yu,"tox-shadowhost")})},Oi=function(){Ln&&Ah(W.dom),Hr(Ss.removeClass),qt.unbind(),ie.from(H.get()).each(function(ni){return ni.fullscreenChangeHandler.unbind()})};if(hr)hr.fullscreenChangeHandler.unbind(),tn(W)&&yi(un)&&uo(it(un)),Jr.width=hr.iframeWidth,Jr.height=hr.iframeHeight,lr.width=hr.containerWidth,lr.height=hr.containerHeight,lr.top=hr.containerTop,lr.left=hr.containerLeft,Oi(),ql(hr.scrollPos),H.set(null),wt(W,!1),W.off("remove",Oi);else{var Or=Wl(it(un),jo(),function(ni){tn(W)&&!yi(un)&&H.get()!==null&&yc(W,H)}),li={scrollPos:ia(),containerWidth:lr.width,containerHeight:lr.height,containerTop:lr.top,containerLeft:lr.left,iframeWidth:Jr.width,iframeHeight:Jr.height,fullscreenChangeHandler:Or};Ln&&is(W.dom,gt,Tr),Jr.width=Jr.height="100%",lr.width=lr.height="",Hr(Ss.addClass),qt.bind(gt),W.on("remove",Oi),H.set(li),tn(W)&&ti(un),wt(W,!0)}},aa=function(W,H){W.addCommand("mceFullScreen",function(){yc(W,H)})},Yf=function(W,H){return function(ee){ee.setActive(H.get()!==null);var ye=function(Re){return ee.setActive(Re.state)};return W.on("FullscreenStateChanged",ye),function(){return W.off("FullscreenStateChanged",ye)}}},Tl=function(W,H){var ee=function(){return W.execCommand("mceFullScreen")};W.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:ee,onSetup:Yf(W,H)}),W.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:ee,onSetup:Yf(W,H)})};function ue(){e.add("fullscreen",function(W){var H=n(null);return W.inline||(aa(W,H),Tl(W,H),W.addShortcut("Meta+Shift+F","","mceFullScreen")),t(H)})}ue()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(i){i.addCommand("InsertHorizontalRule",function(){i.execCommand("mceInsertContent",!1,"<hr />")})},t=function(i){var u=function(){return i.execCommand("InsertHorizontalRule")};i.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:u}),i.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:u})};function r(){n.add("hr",function(i){e(i),t(i)})}r()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(L){return L.getParam("insertdatetime_dateformat",L.translate("%Y-%m-%d"))},t=function(L){return L.getParam("insertdatetime_timeformat",L.translate("%H:%M:%S"))},r=function(L){return L.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},i=function(L){var q=r(L);return q.length>0?q[0]:t(L)},u=function(L){return L.getParam("insertdatetime_element",!1)},l="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),h="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),g="January February March April May June July August September October November December".split(" "),y=function(L,q){if(L=""+L,L.length<q)for(var X=0;X<q-L.length;X++)L="0"+L;return L},b=function(L,q,X){return X===void 0&&(X=new Date),q=q.replace("%D","%m/%d/%Y"),q=q.replace("%r","%I:%M:%S %p"),q=q.replace("%Y",""+X.getFullYear()),q=q.replace("%y",""+X.getYear()),q=q.replace("%m",y(X.getMonth()+1,2)),q=q.replace("%d",y(X.getDate(),2)),q=q.replace("%H",""+y(X.getHours(),2)),q=q.replace("%M",""+y(X.getMinutes(),2)),q=q.replace("%S",""+y(X.getSeconds(),2)),q=q.replace("%I",""+((X.getHours()+11)%12+1)),q=q.replace("%p",X.getHours()<12?"AM":"PM"),q=q.replace("%B",""+L.translate(g[X.getMonth()])),q=q.replace("%b",""+L.translate(h[X.getMonth()])),q=q.replace("%A",""+L.translate(f[X.getDay()])),q=q.replace("%a",""+L.translate(l[X.getDay()])),q=q.replace("%%","%"),q},S=function(L,q,X,Y){var ae=L.dom.create("time",{datetime:X},Y);q.parentNode.insertBefore(ae,q),L.dom.remove(q),L.selection.select(ae,!0),L.selection.collapse(!1)},_=function(L,q){if(u(L)){var X=b(L,q),Y=void 0;/%[HMSIp]/.test(q)?Y=b(L,"%Y-%m-%dT%H:%M"):Y=b(L,"%Y-%m-%d");var ae=L.dom.getParent(L.selection.getStart(),"time");ae?S(L,ae,Y,X):L.insertContent('<time datetime="'+Y+'">'+X+"</time>")}else L.insertContent(b(L,q))},k=function(L){L.addCommand("mceInsertDate",function(q,X){_(L,X??e(L))}),L.addCommand("mceInsertTime",function(q,X){_(L,X??t(L))})},A=function(L){var q=L,X=function(){return q},Y=function(ae){q=ae};return{get:X,set:Y}},R=tinymce.util.Tools.resolve("tinymce.util.Tools"),I=function(L){var q=r(L),X=A(i(L)),Y=function(te){return L.execCommand("mceInsertDate",!1,te)};L.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(te){return te===X.get()},fetch:function(te){te(R.map(q,function(ie){return{type:"choiceitem",text:b(L,ie),value:ie}}))},onAction:function(te){Y(X.get())},onItemAction:function(te,ie){X.set(ie),Y(ie)}});var ae=function(te){return function(){X.set(te),Y(te)}};L.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return R.map(q,function(te){return{type:"menuitem",text:b(L,te),onAction:ae(te)}})}})};function z(){n.add("insertdatetime",function(L){k(L),I(L)})}z()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.VK"),t=function(we){var rt=typeof we;return we===null?"null":rt==="object"&&(Array.prototype.isPrototypeOf(we)||we.constructor&&we.constructor.name==="Array")?"array":rt==="object"&&(String.prototype.isPrototypeOf(we)||we.constructor&&we.constructor.name==="String")?"string":rt},r=function(we){return function(rt){return t(rt)===we}},i=function(we){return function(rt){return typeof rt===we}},u=function(we){return function(rt){return we===rt}},l=r("string"),f=r("array"),h=u(null),g=i("boolean"),y=i("function"),b=function(){},S=function(we){return function(){return we}},_=function(we){return we},k=function(we,rt){return we===rt},A=S(!1),R=S(!0),I=function(){return z},z=function(){var we=function(tn){return tn()},rt=_,wt={fold:function(tn,kn){return tn()},isSome:A,isNone:R,getOr:rt,getOrThunk:we,getOrDie:function(tn){throw new Error(tn||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:rt,orThunk:we,map:I,each:b,bind:I,exists:A,forall:R,filter:function(){return I()},toArray:function(){return[]},toString:S("none()")};return wt}(),L=function(we){var rt=S(we),wt=function(){return kn},tn=function(yr){return yr(we)},kn={fold:function(yr,jo){return jo(we)},isSome:R,isNone:A,getOr:rt,getOrThunk:rt,getOrDie:rt,getOrNull:rt,getOrUndefined:rt,or:wt,orThunk:wt,map:function(yr){return L(yr(we))},each:function(yr){yr(we)},bind:tn,exists:tn,forall:tn,filter:function(yr){return yr(we)?kn:z},toArray:function(){return[we]},toString:function(){return"some("+we+")"}};return kn},q=function(we){return we==null?z:L(we)},X={some:L,none:I,from:q},Y=Array.prototype.indexOf,ae=Array.prototype.push,te=function(we,rt){return Y.call(we,rt)},ie=function(we,rt){return te(we,rt)>-1},le=function(we,rt){for(var wt=we.length,tn=new Array(wt),kn=0;kn<wt;kn++){var yr=we[kn];tn[kn]=rt(yr,kn)}return tn},ce=function(we,rt){for(var wt=0,tn=we.length;wt<tn;wt++){var kn=we[wt];rt(kn,wt)}},ne=function(we,rt,wt){return ce(we,function(tn,kn){wt=rt(wt,tn,kn)}),wt},Q=function(we){for(var rt=[],wt=0,tn=we.length;wt<tn;++wt){if(!f(we[wt]))throw new Error("Arr.flatten item "+wt+" was not an array, input: "+we);ae.apply(rt,we[wt])}return rt},Ce=function(we,rt){return Q(le(we,rt))},ze=function(we,rt){for(var wt=0;wt<we.length;wt++){var tn=rt(we[wt],wt);if(tn.isSome())return tn}return X.none()},ke=function(we,rt,wt){return wt===void 0&&(wt=k),we.exists(function(tn){return wt(tn,rt)})},St=function(we){for(var rt=[],wt=function(kn){rt.push(kn)},tn=0;tn<we.length;tn++)we[tn].each(wt);return rt},tt=function(we,rt){return we?X.some(rt):X.none()},G=function(we){var rt=we.getParam("link_assume_external_targets",!1);return g(rt)&&rt?1:l(rt)&&(rt==="http"||rt==="https")?rt:0},We=function(we){return we.getParam("link_context_toolbar",!1,"boolean")},Ge=function(we){return we.getParam("link_list")},pt=function(we){return we.getParam("default_link_target")},Ze=function(we){return we.getParam("target_list",!0)},kt=function(we){return we.getParam("rel_list",[],"array")},Ot=function(we){return we.getParam("link_class_list",[],"array")},Nt=function(we){return we.getParam("link_title",!0,"boolean")},fe=function(we){return we.getParam("allow_unsafe_link_target",!1,"boolean")},Yt=function(we){return we.getParam("link_quicklink",!1,"boolean")},Ye=function(we){return we.getParam("link_default_protocol","http","string")},je=tinymce.util.Tools.resolve("tinymce.util.Tools"),bt=function(we){return l(we.value)?we.value:""},qe=function(we){return l(we.text)?we.text:l(we.title)?we.title:""},Je=function(we,rt){var wt=[];return je.each(we,function(tn){var kn=qe(tn);if(tn.menu!==void 0){var yr=Je(tn.menu,rt);wt.push({text:kn,items:yr})}else{var jo=rt(tn);wt.push({text:kn,value:jo})}}),wt},st=function(we){return we===void 0&&(we=bt),function(rt){return X.from(rt).map(function(wt){return Je(wt,we)})}},Ft=function(we){return st(bt)(we)},Ct=function(we,rt){return function(wt){return{name:we,type:"listbox",label:rt,items:wt}}},Rt={sanitize:Ft,sanitizeWith:st,createUi:Ct,getValue:bt},ur=function(){return ur=Object.assign||function(we){for(var rt,wt=1,tn=arguments.length;wt<tn;wt++){rt=arguments[wt];for(var kn in rt)Object.prototype.hasOwnProperty.call(rt,kn)&&(we[kn]=rt[kn])}return we},ur.apply(this,arguments)},Ke=Object.keys,Bt=Object.hasOwnProperty,Mn=function(we,rt){for(var wt=Ke(we),tn=0,kn=wt.length;tn<kn;tn++){var yr=wt[tn],jo=we[yr];rt(jo,yr)}},Zt=function(we){return function(rt,wt){we[wt]=rt}},Qn=function(we,rt,wt,tn){var kn={};return Mn(we,function(yr,jo){(rt(yr,jo)?wt:tn)(yr,jo)}),kn},pr=function(we,rt){var wt={};return Qn(we,rt,Zt(wt),b),wt},ao=function(we,rt){return Bt.call(we,rt)},To=function(we,rt){return ao(we,rt)&&we[rt]!==void 0&&we[rt]!==null},Go=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),gn=tinymce.util.Tools.resolve("tinymce.util.URI"),vn=function(we){return we&&we.nodeName.toLowerCase()==="a"},en=function(we){return vn(we)&&!!hn(we)},vt=function(we,rt){if(we.collapsed)return[];var wt=we.cloneContents(),tn=new Go(wt.firstChild,wt),kn=[],yr=wt.firstChild;do rt(yr)&&kn.push(yr);while(yr=tn.next());return kn},Tt=function(we){return/^\w+:/i.test(we)},hn=function(we){var rt=we.getAttribute("data-mce-href");return rt||we.getAttribute("href")},Bn=function(we,rt){var wt=["noopener"],tn=we?we.split(/\s+/):[],kn=function(uo){return je.trim(uo.sort().join(" "))},yr=function(uo){return uo=jo(uo),uo.length>0?uo.concat(wt):wt},jo=function(uo){return uo.filter(function(yi){return je.inArray(wt,yi)===-1})},ti=rt?yr(tn):jo(tn);return ti.length>0?kn(ti):""},bn=function(we){return we.replace(/\uFEFF/g,"")},mt=function(we,rt){return rt=rt||we.selection.getNode(),et(rt)?we.dom.select("a[href]",rt)[0]:we.dom.getParent(rt,"a[href]")},an=function(we,rt){var wt=rt?rt.innerText||rt.textContent:we.getContent({format:"text"});return bn(wt)},On=function(we){return je.grep(we,en).length>0},wn=function(we){return vt(we,en).length>0},er=function(we){var rt=we.schema.getTextInlineElements(),wt=function(kn){return kn.nodeType===1&&!vn(kn)&&!ao(rt,kn.nodeName.toLowerCase())},tn=vt(we.selection.getRng(),wt);return tn.length===0},et=function(we){return we&&we.nodeName==="FIGURE"&&/\bimage\b/i.test(we.className)},jt=function(we){var rt=["title","rel","class","target"];return ne(rt,function(wt,tn){return we[tn].each(function(kn){wt[tn]=kn.length>0?kn:null}),wt},{href:we.href})},Pt=function(we,rt){return(rt==="http"||rt==="https")&&!Tt(we)?rt+"://"+we:we},ln=function(we,rt){var wt=ur({},rt);if(!(kt(we).length>0)&&fe(we)===!1){var tn=Bn(wt.rel,wt.target==="_blank");wt.rel=tn||null}return X.from(wt.target).isNone()&&Ze(we)===!1&&(wt.target=pt(we)),wt.href=Pt(wt.href,G(we)),wt},Kn=function(we,rt,wt,tn){wt.each(function(kn){ao(rt,"innerText")?rt.innerText=kn:rt.textContent=kn}),we.dom.setAttribs(rt,tn),we.selection.select(rt)},Lr=function(we,rt,wt,tn){et(rt)?Ia(we,rt,tn):wt.fold(function(){we.execCommand("mceInsertLink",!1,tn)},function(kn){we.insertContent(we.dom.createHTML("a",tn,we.dom.encode(kn)))})},ei=function(we,rt,wt){var tn=we.selection.getNode(),kn=mt(we,tn),yr=ln(we,jt(wt));we.undoManager.transact(function(){wt.href===rt.href&&rt.attach(),kn?(we.focus(),Kn(we,kn,wt.text,yr)):Lr(we,tn,wt.text,yr)})},Br=function(we){var rt=we.dom,wt=we.selection,tn=wt.getBookmark(),kn=wt.getRng().cloneRange(),yr=rt.getParent(kn.startContainer,"a[href]",we.getBody()),jo=rt.getParent(kn.endContainer,"a[href]",we.getBody());yr&&kn.setStartBefore(yr),jo&&kn.setEndAfter(jo),wt.setRng(kn),we.execCommand("unlink"),wt.moveToBookmark(tn)},Vr=function(we){we.undoManager.transact(function(){var rt=we.selection.getNode();et(rt)?Xi(we,rt):Br(we),we.focus()})},ui=function(we){var rt=we.class,wt=we.href,tn=we.rel,kn=we.target,yr=we.text,jo=we.title;return pr({class:rt.getOrNull(),href:wt,rel:tn.getOrNull(),target:kn.getOrNull(),text:yr.getOrNull(),title:jo.getOrNull()},function(ti,uo){return h(ti)===!1})},Ca=function(we,rt){var wt=rt.href;return ur(ur({},rt),{href:gn.isDomSafe(wt,"a",we.settings)?wt:""})},Ui=function(we,rt,wt){var tn=Ca(we,wt);we.hasPlugin("rtc",!0)?we.execCommand("createlink",!1,ui(tn)):ei(we,rt,tn)},Si=function(we){we.hasPlugin("rtc",!0)?we.execCommand("unlink"):Vr(we)},Xi=function(we,rt){var wt=we.dom.select("img",rt)[0];if(wt){var tn=we.dom.getParents(wt,"a[href]",rt)[0];tn&&(tn.parentNode.insertBefore(wt,tn),we.dom.remove(tn))}},Ia=function(we,rt,wt){var tn=we.dom.select("img",rt)[0];if(tn){var kn=we.dom.create("a",wt);tn.parentNode.insertBefore(kn,tn),kn.appendChild(tn)}},Zi=function(we){return To(we,"items")},Bi=function(we,rt){return ze(rt,function(wt){return Zi(wt)?Bi(we,wt.items):tt(wt.value===we,wt)})},Ra=function(we,rt,wt,tn){var kn=tn[rt],yr=we.length>0;return kn!==void 0?Bi(kn,wt).map(function(jo){return{url:{value:jo.value,meta:{text:yr?we:jo.text,attach:b}},text:yr?we:jo.text}}):X.none()},co=function(we,rt){return rt==="link"?we.link:rt==="anchor"?we.anchor:X.none()},Pa=function(we,rt){var wt={text:we.text,title:we.title},tn=function(uo){return tt(wt.title.length<=0,X.from(uo.meta.title).getOr(""))},kn=function(uo){return tt(wt.text.length<=0,X.from(uo.meta.text).getOr(uo.value))},yr=function(uo){var yi=kn(uo.url),zi=tn(uo.url);return yi.isSome()||zi.isSome()?X.some(ur(ur({},yi.map(function(rl){return{text:rl}}).getOr({})),zi.map(function(rl){return{title:rl}}).getOr({}))):X.none()},jo=function(uo,yi){var zi=co(rt,yi.name).getOr([]);return Ra(wt.text,yi.name,zi,uo)},ti=function(uo,yi){var zi=yi.name;return zi==="url"?yr(uo()):ie(["anchor","link"],zi)?jo(uo(),yi):((zi==="text"||zi==="title")&&(wt[zi]=uo()[zi]),X.none())};return{onChange:ti}},dr={init:Pa,getDelta:Ra},Hu=tinymce.util.Tools.resolve("tinymce.util.Delay"),ba=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ua=function(we,rt,wt){var tn=we.selection.getRng();Hu.setEditorTimeout(we,function(){we.windowManager.confirm(rt,function(kn){we.selection.setRng(tn),wt(kn)})})},oa=function(we){var rt=we.href,wt=rt.indexOf("@")>0&&rt.indexOf("/")===-1&&rt.indexOf("mailto:")===-1;return wt?X.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(tn){return ur(ur({},tn),{href:"mailto:"+rt})}}):X.none()},Ja=function(we,rt){return function(wt){var tn=wt.href,kn=we===1&&!Tt(tn)||we===0&&/^\s*www(\.|\d\.)/i.test(tn);return kn?X.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+rt+":// prefix?",preprocess:function(yr){return ur(ur({},yr),{href:rt+"://"+tn})}}):X.none()}},Vu=function(we,rt){return ze([oa,Ja(G(we),Ye(we))],function(wt){return wt(rt)}).fold(function(){return ba.resolve(rt)},function(wt){return new ba(function(tn){Ua(we,wt.message,function(kn){tn(kn?wt.preprocess(rt):rt)})})})},Qa={preprocess:Vu},ws=function(we){var rt=we.dom.select("a:not([href])"),wt=Ce(rt,function(tn){var kn=tn.name||tn.id;return kn?[{text:kn,value:"#"+kn}]:[]});return wt.length>0?X.some([{text:"None",value:""}].concat(wt)):X.none()},Pe={getAnchors:ws},it=function(we){var rt=Ot(we);return rt.length>0?Rt.sanitize(rt):X.none()},He={getClasses:it},At=tinymce.util.Tools.resolve("tinymce.util.XHR"),Rn=function(we){try{return X.some(JSON.parse(we))}catch{return X.none()}},tr=function(we){var rt=function(tn){return we.convertURL(tn.value||tn.url,"href")},wt=Ge(we);return new ba(function(tn){l(wt)?At.send({url:wt,success:function(kn){return tn(Rn(kn))},error:function(kn){return tn(X.none())}}):y(wt)?wt(function(kn){return tn(X.some(kn))}):tn(X.from(wt))}).then(function(tn){return tn.bind(Rt.sanitizeWith(rt)).map(function(kn){if(kn.length>0){var yr=[{text:"None",value:""}];return yr.concat(kn)}else return kn})})},Oe={getLinks:tr},$e=function(we,rt){var wt=kt(we);if(wt.length>0){var tn=ke(rt,"_blank"),kn=fe(we)===!1,yr=function(ti){return Bn(Rt.getValue(ti),tn)},jo=kn?Rt.sanitizeWith(yr):Rt.sanitize;return jo(wt)}return X.none()},Et={getRels:$e},Jt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],he=function(we){var rt=Ze(we);return f(rt)?Rt.sanitize(rt).orThunk(function(){return X.some(Jt)}):rt===!1?X.none():X.some(Jt)},Me={getTargets:he},Ue=function(we,rt,wt){var tn=we.getAttrib(rt,wt);return tn!==null&&tn.length>0?X.some(tn):X.none()},lt=function(we,rt){var wt=we.dom,tn=er(we),kn=tn?X.some(an(we.selection,rt)):X.none(),yr=rt?X.some(wt.getAttrib(rt,"href")):X.none(),jo=rt?X.from(wt.getAttrib(rt,"target")):X.none(),ti=Ue(wt,rt,"rel"),uo=Ue(wt,rt,"class"),yi=Ue(wt,rt,"title");return{url:yr,text:kn,title:yi,target:jo,rel:ti,linkClass:uo}},_t=function(we,rt){return Oe.getLinks(we).then(function(wt){var tn=lt(we,rt);return{anchor:tn,catalogs:{targets:Me.getTargets(we),rels:Et.getRels(we,tn.target),classes:He.getClasses(we),anchor:Pe.getAnchors(we),link:wt},optNode:X.from(rt),flags:{titleEnabled:Nt(we)}}})},Dt={collect:_t},En=function(we,rt){return function(wt){var tn=wt.getData();if(!tn.url.value){Si(we),wt.close();return}var kn=function(ti){return X.from(tn[ti]).filter(function(uo){return!ke(rt.anchor[ti],uo)})},yr={href:tn.url.value,text:kn("text"),target:kn("target"),rel:kn("rel"),class:kn("linkClass"),title:kn("title")},jo={href:tn.url.value,attach:tn.url.meta!==void 0&&tn.url.meta.attach?tn.url.meta.attach:b};Qa.preprocess(we,yr).then(function(ti){Ui(we,jo,ti)}),wt.close()}},Wn=function(we){var rt=mt(we);return Dt.collect(we,rt)},_r=function(we,rt){var wt=we.anchor,tn=wt.url.getOr("");return{url:{value:tn,meta:{original:{value:tn}}},text:wt.text.getOr(""),title:wt.title.getOr(""),anchor:tn,link:tn,rel:wt.rel.getOr(""),target:wt.target.or(rt).getOr(""),linkClass:wt.linkClass.getOr("")}},It=function(we,rt,wt){var tn=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],kn=we.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),yr=we.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],jo=X.from(pt(wt)),ti=_r(we,jo),uo=we.catalogs,yi=dr.init(ti,uo),zi={type:"panel",items:Q([tn,kn,yr,St([uo.anchor.map(Rt.createUi("anchor","Anchors")),uo.rels.map(Rt.createUi("rel","Rel")),uo.targets.map(Rt.createUi("target","Open link in...")),uo.link.map(Rt.createUi("link","Link list")),uo.classes.map(Rt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:zi,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ti,onChange:function(rl,Wa){var Hs=Wa.name;yi.onChange(rl.getData,{name:Hs}).each(function(Cr){rl.setData(Cr)})},onSubmit:rt}},mr=function(we){var rt=Wn(we);rt.then(function(wt){var tn=En(we,wt);return It(wt,tn,we)}).then(function(wt){we.windowManager.open(wt)})},qr=function(we,rt){document.body.appendChild(we),we.dispatchEvent(rt),document.body.removeChild(we)},Wo=function(we){var rt=document.createElement("a");rt.target="_blank",rt.href=we,rt.rel="noreferrer noopener";var wt=document.createEvent("MouseEvents");wt.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),qr(rt,wt)},ea=function(we,rt){return we.dom.getParent(rt,"a[href]")},ro=function(we){return ea(we,we.selection.getStart())},Fs=function(we){return we.altKey===!0&&we.shiftKey===!1&&we.ctrlKey===!1&&we.metaKey===!1},_s=function(we,rt){if(rt){var wt=hn(rt);if(/^#/.test(wt)){var tn=we.$(wt);tn.length&&we.selection.scrollIntoView(tn[0],!0)}else Wo(rt.href)}},Yi=function(we){return function(){mr(we)}},Ul=function(we){return function(){_s(we,ro(we))}},vu=function(we){we.on("click",function(rt){var wt=ea(we,rt.target);wt&&e.metaKeyPressed(rt)&&(rt.preventDefault(),_s(we,wt))}),we.on("keydown",function(rt){var wt=ro(we);wt&&rt.keyCode===13&&Fs(rt)&&(rt.preventDefault(),_s(we,wt))})},Eu=function(we,rt){return we.on("NodeChange",rt),function(){return we.off("NodeChange",rt)}},pi=function(we){return function(rt){var wt=function(){return rt.setActive(!we.mode.isReadOnly()&&mt(we,we.selection.getNode())!==null)};return wt(),Eu(we,wt)}},Wl=function(we){return function(rt){var wt=function(){return rt.setDisabled(mt(we,we.selection.getNode())===null)};return wt(),Eu(we,wt)}},nl=function(we){return function(rt){var wt=function(kn){return On(kn)||wn(we.selection.getRng())},tn=we.dom.getParents(we.selection.getStart());return rt.setDisabled(!wt(tn)),Eu(we,function(kn){return rt.setDisabled(!wt(kn.parents))})}},Sl=function(we){we.addCommand("mceLink",function(){Yt(we)?we.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Yi(we)()})},gc=function(we){we.addShortcut("Meta+K","",function(){we.execCommand("mceLink")})},Ou=function(we){we.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Yi(we),onSetup:pi(we)}),we.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Ul(we),onSetup:Wl(we)}),we.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Si(we)},onSetup:nl(we)})},os=function(we){we.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Ul(we),onSetup:Wl(we)}),we.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Yi(we)}),we.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Si(we)},onSetup:nl(we)})},vc=function(we){var rt="link unlink openlink",wt="link";we.ui.registry.addContextMenu("link",{update:function(tn){return On(we.dom.getParents(tn,"a"))?rt:wt}})},ju=function(we){var rt=function(kn){kn.selection.collapse(!1)},wt=function(kn){var yr=we.selection.getNode();return kn.setDisabled(!mt(we,yr)),b},tn=function(kn){var yr=mt(we),jo=er(we);if(!yr&&jo){var ti=an(we.selection,yr);return X.some(ti.length>0?ti:kn)}else return X.none()};we.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:pi(we)},label:"Link",predicate:function(kn){return!!mt(we,kn)&&We(we)},initValue:function(){var kn=mt(we);return kn?hn(kn):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(kn){var yr=we.selection.getNode();return kn.setActive(!!mt(we,yr)),pi(we)(kn)},onAction:function(kn){var yr=kn.getValue(),jo=tn(yr),ti={href:yr,attach:b};Ui(we,ti,{href:yr,text:jo,title:X.none(),rel:X.none(),target:X.none(),class:X.none()}),rt(we),kn.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:wt,onAction:function(kn){Si(we),kn.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:wt,onAction:function(kn){Ul(we)(),kn.hide()}}]})};function Iu(){n.add("link",function(we){Ou(we),os(we),vc(we),ju(we),vu(we),Sl(we),gc(we)})}Iu()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(J){var me=typeof J;return J===null?"null":me==="object"&&(Array.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="Array")?"array":me==="object"&&(String.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="String")?"string":me},t=function(J){return function(me){return e(me)===J}},r=function(J){return function(me){return typeof me===J}},i=t("string"),u=t("object"),l=t("array"),f=r("boolean"),h=r("function"),g=r("number"),y=function(){},b=function(J){return function(){return J}},S=function(J){return J},_=function(J,me){return J===me},k=function(J){return function(me){return!J(me)}},A=b(!1),R=b(!0),I=function(){return z},z=function(){var J=function(Fe){return Fe()},me=S,xe={fold:function(Fe,yt){return Fe()},isSome:A,isNone:R,getOr:me,getOrThunk:J,getOrDie:function(Fe){throw new Error(Fe||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:me,orThunk:J,map:I,each:y,bind:I,exists:A,forall:R,filter:function(){return I()},toArray:function(){return[]},toString:b("none()")};return xe}(),L=function(J){var me=b(J),xe=function(){return yt},Fe=function(Qt){return Qt(J)},yt={fold:function(Qt,vr){return vr(J)},isSome:R,isNone:A,getOr:me,getOrThunk:me,getOrDie:me,getOrNull:me,getOrUndefined:me,or:xe,orThunk:xe,map:function(Qt){return L(Qt(J))},each:function(Qt){Qt(J)},bind:Fe,exists:Fe,forall:Fe,filter:function(Qt){return Qt(J)?yt:z},toArray:function(){return[J]},toString:function(){return"some("+J+")"}};return yt},q=function(J){return J==null?z:L(J)},X={some:L,none:I,from:q},Y=Array.prototype.slice,ae=Array.prototype.push,te=function(J,me){for(var xe=J.length,Fe=new Array(xe),yt=0;yt<xe;yt++){var Qt=J[yt];Fe[yt]=me(Qt,yt)}return Fe},ie=function(J,me){for(var xe=0,Fe=J.length;xe<Fe;xe++){var yt=J[xe];me(yt,xe)}},le=function(J,me){for(var xe=[],Fe=0,yt=J.length;Fe<yt;Fe++){var Qt=J[Fe];me(Qt,Fe)&&xe.push(Qt)}return xe},ce=function(J,me){if(J.length===0)return[];for(var xe=me(J[0]),Fe=[],yt=[],Qt=0,vr=J.length;Qt<vr;Qt++){var Qr=J[Qt],Io=me(Qr);Io!==xe&&(Fe.push(yt),yt=[]),xe=Io,yt.push(Qr)}return yt.length!==0&&Fe.push(yt),Fe},ne=function(J,me,xe){return ie(J,function(Fe,yt){xe=me(xe,Fe,yt)}),xe},Q=function(J,me,xe){for(var Fe=0,yt=J.length;Fe<yt;Fe++){var Qt=J[Fe];if(me(Qt,Fe))return X.some(Qt);if(xe(Qt,Fe))break}return X.none()},Ce=function(J,me){return Q(J,me,A)},ze=function(J){for(var me=[],xe=0,Fe=J.length;xe<Fe;++xe){if(!l(J[xe]))throw new Error("Arr.flatten item "+xe+" was not an array, input: "+J);ae.apply(me,J[xe])}return me},ke=function(J,me){return ze(te(J,me))},St=function(J){var me=Y.call(J,0);return me.reverse(),me},tt=function(J,me){return me>=0&&me<J.length?X.some(J[me]):X.none()},G=function(J){return tt(J,0)},We=function(J){return tt(J,J.length-1)},Ge=function(J,me){for(var xe=0;xe<J.length;xe++){var Fe=me(J[xe],xe);if(Fe.isSome())return Fe}return X.none()},pt=function(){return pt=Object.assign||function(J){for(var me,xe=1,Fe=arguments.length;xe<Fe;xe++){me=arguments[xe];for(var yt in me)Object.prototype.hasOwnProperty.call(me,yt)&&(J[yt]=me[yt])}return J},pt.apply(this,arguments)};function Ze(J,me,xe){if(xe||arguments.length===2)for(var Fe=0,yt=me.length,Qt;Fe<yt;Fe++)(Qt||!(Fe in me))&&(Qt||(Qt=Array.prototype.slice.call(me,0,Fe)),Qt[Fe]=me[Fe]);return J.concat(Qt||Array.prototype.slice.call(me))}var kt=function(J){var me=!1,xe;return function(){for(var Fe=[],yt=0;yt<arguments.length;yt++)Fe[yt]=arguments[yt];return me||(me=!0,xe=J.apply(null,Fe)),xe}},Ot=function(J,me,xe,Fe){var yt=J.isiOS()&&/ipad/i.test(xe)===!0,Qt=J.isiOS()&&!yt,vr=J.isiOS()||J.isAndroid(),Qr=vr||Fe("(pointer:coarse)"),Io=yt||!Qt&&vr&&Fe("(min-device-width:768px)"),bo=Qt||vr&&!Io,Fi=me.isSafari()&&J.isiOS()&&/safari/i.test(xe)===!1,ss=!bo&&!Io&&!Fi;return{isiPad:b(yt),isiPhone:b(Qt),isTablet:b(Io),isPhone:b(bo),isTouch:b(Qr),isAndroid:J.isAndroid,isiOS:J.isiOS,isWebView:b(Fi),isDesktop:b(ss)}},Nt=function(J,me){for(var xe=0;xe<J.length;xe++){var Fe=J[xe];if(Fe.test(me))return Fe}},fe=function(J,me){var xe=Nt(J,me);if(!xe)return{major:0,minor:0};var Fe=function(yt){return Number(me.replace(xe,"$"+yt))};return je(Fe(1),Fe(2))},Yt=function(J,me){var xe=String(me).toLowerCase();return J.length===0?Ye():fe(J,xe)},Ye=function(){return je(0,0)},je=function(J,me){return{major:J,minor:me}},bt={nu:je,detect:Yt,unknown:Ye},qe=function(J,me){return Ge(me.brands,function(xe){var Fe=xe.brand.toLowerCase();return Ce(J,function(yt){var Qt;return Fe===((Qt=yt.brand)===null||Qt===void 0?void 0:Qt.toLowerCase())}).map(function(yt){return{current:yt.name,version:bt.nu(parseInt(xe.version,10),0)}})})},Je=function(J,me){var xe=String(me).toLowerCase();return Ce(J,function(Fe){return Fe.search(xe)})},st=function(J,me){return Je(J,me).map(function(xe){var Fe=bt.detect(xe.versionRegexes,me);return{current:xe.name,version:Fe}})},Ft=function(J,me){return Je(J,me).map(function(xe){var Fe=bt.detect(xe.versionRegexes,me);return{current:xe.name,version:Fe}})},Ct=function(J,me){return J.indexOf(me)!==-1},Rt=function(J){return function(me){return me.replace(J,"")}},ur=Rt(/^\s+|\s+$/g),Ke=function(J){return J.length>0},Bt=function(J){return!Ke(J)},Mn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Zt=function(J){return function(me){return Ct(me,J)}},Qn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(J){return Ct(J,"edge/")&&Ct(J,"chrome")&&Ct(J,"safari")&&Ct(J,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Mn],search:function(J){return Ct(J,"chrome")&&!Ct(J,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(J){return Ct(J,"msie")||Ct(J,"trident")}},{name:"Opera",versionRegexes:[Mn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Zt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Zt("firefox")},{name:"Safari",versionRegexes:[Mn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(J){return(Ct(J,"safari")||Ct(J,"mobile/"))&&Ct(J,"applewebkit")}}],pr=[{name:"Windows",search:Zt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(J){return Ct(J,"iphone")||Ct(J,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Zt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Zt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Zt("linux"),versionRegexes:[]},{name:"Solaris",search:Zt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Zt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Zt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ao={browsers:b(Qn),oses:b(pr)},To="Edge",Go="Chrome",gn="IE",vn="Opera",en="Firefox",vt="Safari",Tt=function(){return hn({current:void 0,version:bt.unknown()})},hn=function(J){var me=J.current,xe=J.version,Fe=function(yt){return function(){return me===yt}};return{current:me,version:xe,isEdge:Fe(To),isChrome:Fe(Go),isIE:Fe(gn),isOpera:Fe(vn),isFirefox:Fe(en),isSafari:Fe(vt)}},Bn={unknown:Tt,nu:hn,edge:b(To),chrome:b(Go),ie:b(gn),opera:b(vn),firefox:b(en),safari:b(vt)},bn="Windows",mt="iOS",an="Android",On="Linux",wn="OSX",er="Solaris",et="FreeBSD",jt="ChromeOS",Pt=function(){return ln({current:void 0,version:bt.unknown()})},ln=function(J){var me=J.current,xe=J.version,Fe=function(yt){return function(){return me===yt}};return{current:me,version:xe,isWindows:Fe(bn),isiOS:Fe(mt),isAndroid:Fe(an),isOSX:Fe(wn),isLinux:Fe(On),isSolaris:Fe(er),isFreeBSD:Fe(et),isChromeOS:Fe(jt)}},Kn={unknown:Pt,nu:ln,windows:b(bn),ios:b(mt),android:b(an),linux:b(On),osx:b(wn),solaris:b(er),freebsd:b(et),chromeos:b(jt)},Lr=function(J,me,xe){var Fe=ao.browsers(),yt=ao.oses(),Qt=me.bind(function(Io){return qe(Fe,Io)}).orThunk(function(){return st(Fe,J)}).fold(Bn.unknown,Bn.nu),vr=Ft(yt,J).fold(Kn.unknown,Kn.nu),Qr=Ot(vr,Qt,J,xe);return{browser:Qt,os:vr,deviceType:Qr}},ei={detect:Lr},Br=function(J){return window.matchMedia(J).matches},Vr=kt(function(){return ei.detect(navigator.userAgent,X.from(navigator.userAgentData),Br)}),ui=function(){return Vr()},Ca=function(J,me,xe){return(J.compareDocumentPosition(me)&xe)!==0},Ui=function(J,me){return Ca(J,me,Node.DOCUMENT_POSITION_CONTAINED_BY)},Si=1,Xi=function(J,me){var xe=me||document,Fe=xe.createElement("div");if(Fe.innerHTML=J,!Fe.hasChildNodes()||Fe.childNodes.length>1)throw console.error("HTML does not have a single root node",J),new Error("HTML must have a single root node");return Bi(Fe.childNodes[0])},Ia=function(J,me){var xe=me||document,Fe=xe.createElement(J);return Bi(Fe)},Zi=function(J,me){var xe=me||document,Fe=xe.createTextNode(J);return Bi(Fe)},Bi=function(J){if(J==null)throw new Error("Node cannot be null or undefined");return{dom:J}},Ra=function(J,me,xe){return X.from(J.dom.elementFromPoint(me,xe)).map(Bi)},co={fromHtml:Xi,fromTag:Ia,fromText:Zi,fromDom:Bi,fromPoint:Ra},Pa=function(J,me){var xe=J.dom;if(xe.nodeType!==Si)return!1;var Fe=xe;if(Fe.matches!==void 0)return Fe.matches(me);if(Fe.msMatchesSelector!==void 0)return Fe.msMatchesSelector(me);if(Fe.webkitMatchesSelector!==void 0)return Fe.webkitMatchesSelector(me);if(Fe.mozMatchesSelector!==void 0)return Fe.mozMatchesSelector(me);throw new Error("Browser lacks native selectors")},dr=function(J,me){return J.dom===me.dom},Hu=function(J,me){var xe=J.dom,Fe=me.dom;return xe===Fe?!1:xe.contains(Fe)},ba=function(J,me){return Ui(J.dom,me.dom)},Ua=function(J,me){return ui().browser.isIE()?ba(J,me):Hu(J,me)},oa=Pa,Ja=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Vu=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Qa=tinymce.util.Tools.resolve("tinymce.util.VK"),ws=Object.keys,Pe=function(J,me){for(var xe=ws(J),Fe=0,yt=xe.length;Fe<yt;Fe++){var Qt=xe[Fe],vr=J[Qt];me(vr,Qt)}},it=function(J){return function(me,xe){J[xe]=me}},He=function(J,me,xe,Fe){var yt={};return Pe(J,function(Qt,vr){(me(Qt,vr)?xe:Fe)(Qt,vr)}),yt},At=function(J,me){var xe={};return He(J,me,it(xe),y),xe};typeof window<"u"||Function("return this;")();var Rn=function(J){var me=J.dom.nodeName;return me.toLowerCase()},tr=function(J){return J.dom.nodeType},Oe=function(J){return function(me){return tr(me)===J}},$e=Oe(Si),Et=function(J){return function(me){return $e(me)&&Rn(me)===J}},Jt=function(J,me,xe){if(i(xe)||f(xe)||g(xe))J.setAttribute(me,xe+"");else throw console.error("Invalid call to Attribute.set. Key ",me,":: Value ",xe,":: Element ",J),new Error("Attribute value was not simple")},he=function(J,me){var xe=J.dom;Pe(me,function(Fe,yt){Jt(xe,yt,Fe)})},Me=function(J){return ne(J.dom.attributes,function(me,xe){return me[xe.name]=xe.value,me},{})},Ue=function(J){return X.from(J.dom.parentNode).map(co.fromDom)},lt=function(J){return te(J.dom.childNodes,co.fromDom)},_t=function(J,me){var xe=J.dom.childNodes;return X.from(xe[me]).map(co.fromDom)},Dt=function(J){return _t(J,0)},En=function(J){return _t(J,J.dom.childNodes.length-1)},Wn=function(J,me){var xe=Ue(J);xe.each(function(Fe){Fe.dom.insertBefore(me.dom,J.dom)})},_r=function(J,me){J.dom.appendChild(me.dom)},It=function(J,me){ie(me,function(xe){Wn(J,xe)})},mr=function(J,me){ie(me,function(xe){_r(J,xe)})},qr=function(J){var me=J.dom;me.parentNode!==null&&me.parentNode.removeChild(me)},Wo=function(J,me){return co.fromDom(J.dom.cloneNode(me))},ea=function(J){return Wo(J,!0)},ro=function(J,me){var xe=co.fromTag(me),Fe=Me(J);return he(xe,Fe),xe},Fs=function(J,me){var xe=ro(J,me);Wn(J,xe);var Fe=lt(J);return mr(xe,Fe),qr(J),xe},_s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Yi=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ul=function(J){return function(me){return me&&me.nodeName.toLowerCase()===J}},vu=function(J){return function(me){return me&&J.test(me.nodeName)}},Eu=function(J){return J&&J.nodeType===3},pi=vu(/^(OL|UL|DL)$/),Wl=vu(/^(OL|UL)$/),nl=Ul("ol"),Sl=vu(/^(LI|DT|DD)$/),gc=vu(/^(DT|DD)$/),Ou=vu(/^(TH|TD)$/),os=Ul("br"),vc=function(J){return J.parentNode.firstChild===J},ju=function(J,me){return me&&!!J.schema.getTextBlockElements()[me.nodeName]},Iu=function(J,me){return J&&J.nodeName in me},we=function(J,me){return os(me)?J.isBlock(me.nextSibling)&&!os(me.previousSibling):!1},rt=function(J,me,xe){var Fe=J.isEmpty(me);return xe&&J.select("span[data-mce-type=bookmark]",me).length>0?!1:Fe},wt=function(J,me){return J.isChildOf(me,J.getRoot())},tn=function(J){return J.getParam("lists_indent_on_tab",!0)},kn=function(J){var me=J.getParam("forced_root_block","p");return me===!1?"":me===!0?"p":me},yr=function(J){return J.getParam("forced_root_block_attrs",{})},jo=function(J,me){var xe=J.dom,Fe=J.schema.getBlockElements(),yt=xe.createFragment(),Qt=kn(J),vr,Qr,Io;if(Qt&&(Qr=xe.create(Qt),Qr.tagName===Qt.toUpperCase()&&xe.setAttribs(Qr,yr(J)),Iu(me.firstChild,Fe)||yt.appendChild(Qr)),me)for(;vr=me.firstChild;){var bo=vr.nodeName;!Io&&(bo!=="SPAN"||vr.getAttribute("data-mce-type")!=="bookmark")&&(Io=!0),Iu(vr,Fe)?(yt.appendChild(vr),Qr=null):Qt?(Qr||(Qr=xe.create(Qt),yt.appendChild(Qr)),Qr.appendChild(vr)):yt.appendChild(vr)}return Qt?Io||Qr.appendChild(xe.create("br",{"data-mce-bogus":"1"})):yt.appendChild(xe.create("br")),yt},ti=_s.DOM,uo=function(J,me,xe){var Fe=function(bo){Yi.each(yt,function(Fi){bo.parentNode.insertBefore(Fi,xe.parentNode)}),ti.remove(bo)},yt=ti.select('span[data-mce-type="bookmark"]',me),Qt=jo(J,xe),vr=ti.createRng();vr.setStartAfter(xe),vr.setEndAfter(me);for(var Qr=vr.extractContents(),Io=Qr.firstChild;Io;Io=Io.firstChild)if(Io.nodeName==="LI"&&J.dom.isEmpty(Io)){ti.remove(Io);break}J.dom.isEmpty(Qr)||ti.insertAfter(Qr,me),ti.insertAfter(Qt,me),rt(J.dom,xe.parentNode)&&Fe(xe.parentNode),ti.remove(xe),rt(J.dom,me)&&ti.remove(me)},yi=Et("dd"),zi=Et("dt"),rl=function(J,me){yi(me)?Fs(me,"dt"):zi(me)&&Ue(me).each(function(xe){return uo(J,xe.dom,me.dom)})},Wa=function(J){zi(J)&&Fs(J,"dd")},Hs=function(J,me,xe){me==="Indent"?ie(xe,Wa):ie(xe,function(Fe){return rl(J,Fe)})},Cr=function(J,me){if(Eu(J))return{container:J,offset:me};var xe=Ja.getNode(J,me);return Eu(xe)?{container:xe,offset:me>=J.childNodes.length?xe.data.length:0}:xe.previousSibling&&Eu(xe.previousSibling)?{container:xe.previousSibling,offset:xe.previousSibling.data.length}:xe.nextSibling&&Eu(xe.nextSibling)?{container:xe.nextSibling,offset:0}:{container:J,offset:me}},Cl=function(J){var me=J.cloneRange(),xe=Cr(J.startContainer,J.startOffset);me.setStart(xe.container,xe.offset);var Fe=Cr(J.endContainer,J.endOffset);return me.setEnd(Fe.container,Fe.offset),me},Xf=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Oo=function(J,me){var xe=me||J.selection.getStart(!0);return J.dom.getParent(xe,"OL,UL,DL",Ss(J,xe))},ff=function(J,me){return J&&me.length===1&&me[0]===J},df=function(J){return le(J.querySelectorAll("ol,ul,dl"),pi)},Pd=function(J){var me=Oo(J),xe=J.selection.getSelectedBlocks();return ff(me,xe)?df(me):le(xe,function(Fe){return pi(Fe)&&me!==Fe})},si=function(J,me){var xe=Yi.map(me,function(Fe){var yt=J.dom.getParent(Fe,"li,dd,dt",Ss(J,Fe));return yt||Fe});return Xf.unique(xe)},is=function(J){var me=J.selection.getSelectedBlocks();return le(si(J,me),Sl)},Ah=function(J){return le(is(J),gc)},Ss=function(J,me){var xe=J.dom.getParents(me,"TD,TH");return xe.length>0?xe[0]:J.getBody()},ia=function(J,me){var xe=J.dom.getParents(me,"ol,ul",Ss(J,me));return We(xe)},ql=function(J){var me=ia(J,J.selection.getStart()),xe=le(J.selection.getSelectedBlocks(),Wl);return me.toArray().concat(xe)},qt=function(J){var me=ql(J);return yc(J,me)},yc=function(J,me){var xe=te(me,function(Fe){return ia(J,Fe).getOr(Fe)});return Xf.unique(xe)},aa=function(J,me,xe){return xe===void 0&&(xe=_),J.exists(function(Fe){return xe(Fe,me)})},Yf=function(J,me,xe){return J.isSome()&&me.isSome()?X.some(xe(J.getOrDie(),me.getOrDie())):X.none()},Tl=function(J,me){var xe=me||document,Fe=xe.createDocumentFragment();return ie(J,function(yt){Fe.appendChild(yt.dom)}),co.fromDom(Fe)},ue=function(J,me,xe){return J.fire("ListMutation",{action:me,element:xe})},W=function(J){return J.style!==void 0&&h(J.style.getPropertyValue)},H=function(J,me,xe){if(!i(xe))throw console.error("Invalid call to CSS.set. Property ",me,":: Value ",xe,":: Element ",J),new Error("CSS value must be a string: "+xe);W(J)&&J.style.setProperty(me,xe)},ee=function(J,me,xe){var Fe=J.dom;H(Fe,me,xe)},ye=function(J,me){_r(J.item,me.list)},Re=function(J){for(var me=1;me<J.length;me++)ye(J[me-1],J[me])},gt=function(J,me){Yf(We(J),G(me),ye)},un=function(J,me){var xe={list:co.fromTag(me,J),item:co.fromTag("li",J)};return _r(xe.list,xe.item),xe},hr=function(J,me,xe){for(var Fe=[],yt=0;yt<xe;yt++)Fe.push(un(J,me.listType));return Fe},Tr=function(J,me){for(var xe=0;xe<J.length-1;xe++)ee(J[xe].item,"list-style-type","none");We(J).each(function(Fe){he(Fe.list,me.listAttributes),he(Fe.item,me.itemAttributes),mr(Fe.item,me.content)})},Ln=function(J,me){Rn(J.list)!==me.listType&&(J.list=Fs(J.list,me.listType)),he(J.list,me.listAttributes)},lr=function(J,me,xe){var Fe=co.fromTag("li",J);return he(Fe,me),mr(Fe,xe),Fe},Kr=function(J,me){_r(J.list,me),J.item=me},Jr=function(J,me,xe){var Fe=me.slice(0,xe.depth);return We(Fe).each(function(yt){var Qt=lr(J,xe.itemAttributes,xe.content);Kr(yt,Qt),Ln(yt,xe)}),Fe},Hr=function(J,me,xe){var Fe=hr(J,xe,xe.depth-me.length);return Re(Fe),Tr(Fe,xe),gt(me,Fe),me.concat(Fe)},Oi=function(J,me){var xe=ne(me,function(Fe,yt){return yt.depth>Fe.length?Hr(J,Fe,yt):Jr(J,Fe,yt)},[]);return G(xe).map(function(Fe){return Fe.list})},Or=function(J){return oa(J,"OL,UL")},li=function(J){return Dt(J).exists(Or)},ni=function(J){return En(J).exists(Or)},yu=function(J){return J.depth>0},so=function(J){return J.isSelected},$l=function(J){var me=lt(J),xe=ni(J)?me.slice(0,-1):me;return te(xe,ea)},ua=function(J,me,xe){return Ue(J).filter($e).map(function(Fe){return{depth:me,dirty:!1,isSelected:xe,content:$l(J),itemAttributes:Me(J),listAttributes:Me(Fe),listType:Rn(Fe)}})},xa=function(J,me){switch(J){case"Indent":me.depth++;break;case"Outdent":me.depth--;break;case"Flatten":me.depth=0}me.dirty=!0},Wb=function(J,me){J.listType=me.listType,J.listAttributes=pt({},me.listAttributes)},Uu=function(J){J.listAttributes=At(J.listAttributes,function(me,xe){return xe!=="start"})},Ty=function(J,me){var xe=J[me].depth,Fe=function(Qt){return Qt.depth===xe&&!Qt.dirty},yt=function(Qt){return Qt.depth<xe};return Q(St(J.slice(0,me)),Fe,yt).orThunk(function(){return Q(J.slice(me+1),Fe,yt)})},hf=function(J){return ie(J,function(me,xe){Ty(J,xe).fold(function(){me.dirty&&Uu(me)},function(Fe){return Wb(me,Fe)})}),J},Wr=function(J){var me=J,xe=function(){return me},Fe=function(yt){me=yt};return{get:xe,set:Fe}},Gl=function(J,me,xe,Fe){return Dt(Fe).filter(Or).fold(function(){me.each(function(vr){dr(vr.start,Fe)&&xe.set(!0)});var yt=ua(Fe,J,xe.get());me.each(function(vr){dr(vr.end,Fe)&&xe.set(!1)});var Qt=En(Fe).filter(Or).map(function(vr){return Ta(J,me,xe,vr)}).getOr([]);return yt.toArray().concat(Qt)},function(yt){return Ta(J,me,xe,yt)})},Ta=function(J,me,xe,Fe){return ke(lt(Fe),function(yt){var Qt=Or(yt)?Ta:Gl,vr=J+1;return Qt(vr,me,xe,yt)})},Ma=function(J,me){var xe=Wr(!1),Fe=0;return te(J,function(yt){return{sourceList:yt,entries:Ta(Fe,me,xe,yt)}})},bu=function(J,me){var xe=hf(me);return te(xe,function(Fe){var yt=Tl(Fe.content);return co.fromDom(jo(J,yt.dom))})},Za=function(J,me){var xe=hf(me);return Oi(J.contentDocument,xe).toArray()},Eh=function(J,me){return ke(ce(me,yu),function(xe){var Fe=G(xe).exists(yu);return Fe?Za(J,xe):bu(J,xe)})},bc=function(J,me){ie(le(J,so),function(xe){return xa(me,xe)})},ri=function(J){var me=te(is(J),co.fromDom);return Yf(Ce(me,k(li)),Ce(St(me),k(li)),function(xe,Fe){return{start:xe,end:Fe}})},Ki=function(J,me,xe){var Fe=Ma(me,ri(J));ie(Fe,function(yt){bc(yt.entries,xe);var Qt=Eh(J,yt.entries);ie(Qt,function(vr){ue(J,xe==="Indent"?"IndentList":"OutdentList",vr.dom)}),It(yt.sourceList,Qt),qr(yt.sourceList)})},Vs=function(J,me){var xe=te(qt(J),co.fromDom),Fe=te(Ah(J),co.fromDom),yt=!1;if(xe.length||Fe.length){var Qt=J.selection.getBookmark();Ki(J,xe,me),Hs(J,me,Fe),J.selection.moveToBookmark(Qt),J.selection.setRng(Cl(J.selection.getRng())),J.nodeChanged(),yt=!0}return yt},Kf=function(J){return Vs(J,"Indent")},cu=function(J){return Vs(J,"Outdent")},Xl=function(J){return Vs(J,"Flatten")},qb=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Oh=_s.DOM,Ii=function(J){var me={},xe=function(Fe){var yt=J[Fe?"startContainer":"endContainer"],Qt=J[Fe?"startOffset":"endOffset"];if(yt.nodeType===1){var vr=Oh.create("span",{"data-mce-type":"bookmark"});yt.hasChildNodes()?(Qt=Math.min(Qt,yt.childNodes.length-1),Fe?yt.insertBefore(vr,yt.childNodes[Qt]):Oh.insertAfter(vr,yt.childNodes[Qt])):yt.appendChild(vr),yt=vr,Qt=0}me[Fe?"startContainer":"endContainer"]=yt,me[Fe?"startOffset":"endOffset"]=Qt};return xe(!0),J.collapsed||xe(),me},Pc=function(J){var me=function(Fe){var yt,Qt=function(Io){for(var bo=Io.parentNode.firstChild,Fi=0;bo;){if(bo===Io)return Fi;(bo.nodeType!==1||bo.getAttribute("data-mce-type")!=="bookmark")&&Fi++,bo=bo.nextSibling}return-1},vr=yt=J[Fe?"startContainer":"endContainer"],Qr=J[Fe?"startOffset":"endOffset"];vr&&(vr.nodeType===1&&(Qr=Qt(vr),vr=vr.parentNode,Oh.remove(yt),!vr.hasChildNodes()&&Oh.isBlock(vr)&&vr.appendChild(Oh.create("br"))),J[Fe?"startContainer":"endContainer"]=vr,J[Fe?"startOffset":"endOffset"]=Qr)};me(!0),me();var xe=Oh.createRng();return xe.setStart(J.startContainer,J.startOffset),J.endContainer&&xe.setEnd(J.endContainer,J.endOffset),Cl(xe)},Nd=function(J){switch(J){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},ol=function(J){return/\btox\-/.test(J.className)},Na=function(J,me,xe){var Fe=function(Qt){var vr=Q(Qt.parents,pi,Ou).filter(function(Qr){return Qr.nodeName===me&&!ol(Qr)}).isSome();xe(vr)},yt=J.dom.getParents(J.selection.getNode());return Fe({parents:yt}),J.on("NodeChange",Fe),function(){return J.off("NodeChange",Fe)}},Ld=function(J,me,xe){var Fe=xe["list-style-type"]?xe["list-style-type"]:null;J.setStyle(me,"list-style-type",Fe)},Jf=function(J,me){Yi.each(me,function(xe,Fe){J.setAttribute(Fe,xe)})},Cs=function(J,me,xe){Jf(me,xe["list-attributes"]),Yi.each(J.select("li",me),function(Fe){Jf(Fe,xe["list-item-attributes"])})},il=function(J,me,xe){Ld(J,me,xe),Cs(J,me,xe)},as=function(J,me,xe){Yi.each(xe,function(Fe){var yt;return J.setStyle(me,(yt={},yt[Fe]="",yt))})},Rp=function(J,me,xe,Fe){var yt=me[xe?"startContainer":"endContainer"],Qt=me[xe?"startOffset":"endOffset"];for(yt.nodeType===1&&(yt=yt.childNodes[Math.min(Qt,yt.childNodes.length-1)]||yt),!xe&&os(yt.nextSibling)&&(yt=yt.nextSibling);yt.parentNode!==Fe;){if(ju(J,yt)||/^(TD|TH)$/.test(yt.parentNode.nodeName))return yt;yt=yt.parentNode}return yt},Nc=function(J,me,xe){for(var Fe=[],yt=J.dom,Qt=Rp(J,me,!0,xe),vr=Rp(J,me,!1,xe),Qr,Io=[],bo=Qt;bo&&(Io.push(bo),bo!==vr);bo=bo.nextSibling);return Yi.each(Io,function(Fi){if(ju(J,Fi)){Fe.push(Fi),Qr=null;return}if(yt.isBlock(Fi)||os(Fi)){os(Fi)&&yt.remove(Fi),Qr=null;return}var ss=Fi.nextSibling;if(qb.isBookmarkNode(Fi)&&(pi(ss)||ju(J,ss)||!ss&&Fi.parentNode===xe)){Qr=null;return}Qr||(Qr=yt.create("p"),Fi.parentNode.insertBefore(Qr,Fi),Fe.push(Qr)),Qr.appendChild(Fi)}),Fe},xu=function(J,me,xe){var Fe=J.getStyle(me,"list-style-type"),yt=xe?xe["list-style-type"]:"";return yt=yt===null?"":yt,Fe===yt},og=function(J,me,xe){var Fe=J.selection.getRng(),yt="LI",Qt=Ss(J,J.selection.getStart(!0)),vr=J.dom;if(vr.getContentEditable(J.selection.getNode())!=="false"){me=me.toUpperCase(),me==="DL"&&(yt="DT");var Qr=Ii(Fe),Io=Nc(J,Fe,Qt);Yi.each(Io,function(bo){var Fi,ss=bo.previousSibling,ka=bo.parentNode;Sl(ka)||(ss&&pi(ss)&&ss.nodeName===me&&xu(vr,ss,xe)?(Fi=ss,bo=vr.rename(bo,yt),ss.appendChild(bo)):(Fi=vr.create(me),bo.parentNode.insertBefore(Fi,bo),Fi.appendChild(bo),bo=vr.rename(bo,yt)),as(vr,bo,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),il(vr,Fi,xe),Ph(J.dom,Fi))}),J.selection.setRng(Pc(Qr))}},$b=function(J,me){return J&&me&&pi(J)&&J.nodeName===me.nodeName},Ih=function(J,me,xe){var Fe=J.getStyle(me,"list-style-type",!0),yt=J.getStyle(xe,"list-style-type",!0);return Fe===yt},Rh=function(J,me){return J.className===me.className},La=function(J,me,xe){return $b(me,xe)&&Ih(J,me,xe)&&Rh(me,xe)},Ph=function(J,me){var xe,Fe;if(xe=me.nextSibling,La(J,me,xe)){for(;Fe=xe.firstChild;)me.appendChild(Fe);J.remove(xe)}if(xe=me.previousSibling,La(J,me,xe)){for(;Fe=xe.lastChild;)me.insertBefore(Fe,me.firstChild);J.remove(xe)}},Nh=function(J,me,xe,Fe){if(me.nodeName!==xe){var yt=J.dom.rename(me,xe);il(J.dom,yt,Fe),ue(J,Nd(xe),yt)}else il(J.dom,me,Fe),ue(J,Nd(xe),me)},Ts=function(J,me,xe,Fe,yt){var Qt=pi(me);if(Qt&&me.nodeName===Fe&&!Qf(yt))Xl(J);else{og(J,Fe,yt);var vr=Ii(J.selection.getRng()),Qr=Qt?Ze([me],xe,!0):xe;Yi.each(Qr,function(Io){Nh(J,Io,Fe,yt)}),J.selection.setRng(Pc(vr))}},Qf=function(J){return"list-style-type"in J},Lh=function(J,me,xe,Fe){if(me!==J.getBody())if(me)if(me.nodeName===xe&&!Qf(Fe)&&!ol(me))Xl(J);else{var yt=Ii(J.selection.getRng());il(J.dom,me,Fe);var Qt=J.dom.rename(me,xe);Ph(J.dom,Qt),J.selection.setRng(Pc(yt)),og(J,xe,Fe),ue(J,Nd(xe),Qt)}else og(J,xe,Fe),ue(J,Nd(xe),me)},Zf=function(J,me,xe){var Fe=Oo(J),yt=Pd(J),Qt=u(xe)?xe:{};yt.length>0?Ts(J,Fe,yt,me,Qt):Lh(J,Fe,me,Qt)},ca=_s.DOM,Ml=function(J,me){var xe=me.parentNode;if(xe.nodeName==="LI"&&xe.firstChild===me){var Fe=xe.previousSibling;Fe&&Fe.nodeName==="LI"?(Fe.appendChild(me),rt(J,xe)&&ca.remove(xe)):ca.setStyle(xe,"listStyleType","none")}if(pi(xe)){var Fe=xe.previousSibling;Fe&&Fe.nodeName==="LI"&&Fe.appendChild(me)}},Rv=function(J,me){var xe=Yi.grep(J.select("ol,ul",me));Yi.each(xe,function(Fe){Ml(J,Fe)})},Yl=function(J,me,xe,Fe){var yt=me.startContainer,Qt=me.startOffset;if(Eu(yt)&&(xe?Qt<yt.data.length:Qt>0))return yt;var vr=J.schema.getNonEmptyElements();yt.nodeType===1&&(yt=Ja.getNode(yt,Qt));var Qr=new Vu(yt,Fe);for(xe&&we(J.dom,yt)&&Qr.next();yt=Qr[xe?"next":"prev2"]();)if(yt.nodeName==="LI"&&!yt.hasChildNodes()||vr[yt.nodeName]||Eu(yt)&&yt.data.length>0)return yt},Pv=function(J,me){var xe=me.childNodes;return xe.length===1&&!pi(xe[0])&&J.isBlock(xe[0])},Gb=function(J,me){Pv(J,me)&&J.remove(me.firstChild,!0)},My=function(J,me,xe){var Fe,yt=Pv(J,xe)?xe.firstChild:xe;if(Gb(J,me),!rt(J,me,!0))for(;Fe=me.firstChild;)yt.appendChild(Fe)},Bh=function(J,me,xe){var Fe,yt=me.parentNode;if(!(!wt(J,me)||!wt(J,xe))){pi(xe.lastChild)&&(Fe=xe.lastChild),yt===xe.lastChild&&os(yt.previousSibling)&&J.remove(yt.previousSibling);var Qt=xe.lastChild;Qt&&os(Qt)&&me.hasChildNodes()&&J.remove(Qt),rt(J,xe,!0)&&J.$(xe).empty(),My(J,me,xe),Fe&&xe.appendChild(Fe);var vr=Ua(co.fromDom(xe),co.fromDom(me)),Qr=vr?J.getParents(me,pi,xe):[];J.remove(me),ie(Qr,function(Io){rt(J,Io)&&Io!==J.getRoot()&&J.remove(Io)})}},zh=function(J,me,xe){J.dom.$(xe).empty(),Bh(J.dom,me,xe),J.selection.setCursorLocation(xe,0)},Bd=function(J,me,xe,Fe){var yt=J.dom;if(yt.isEmpty(Fe))zh(J,xe,Fe);else{var Qt=Ii(me);Bh(yt,xe,Fe),J.selection.setRng(Pc(Qt))}},Xr=function(J,me,xe,Fe){var yt=Ii(me);Bh(J.dom,xe,Fe);var Qt=Pc(yt);J.selection.setRng(Qt)},xc=function(J,me){var xe=J.dom,Fe=J.selection,yt=Fe.getStart(),Qt=Ss(J,yt),vr=xe.getParent(Fe.getStart(),"LI",Qt);if(vr){var Qr=vr.parentNode;if(Qr===J.getBody()&&rt(xe,Qr))return!0;var Io=Cl(Fe.getRng()),bo=xe.getParent(Yl(J,Io,me,Qt),"LI",Qt);if(bo&&bo!==vr)return J.undoManager.transact(function(){me?Bd(J,Io,bo,vr):vc(vr)?cu(J):Xr(J,Io,vr,bo)}),!0;if(!bo&&!me&&Io.startOffset===0&&Io.endOffset===0)return J.undoManager.transact(function(){Xl(J)}),!0}return!1},al=function(J,me,xe){var Fe=J.getParent(me.parentNode,J.isBlock,xe);J.remove(me),Fe&&J.isEmpty(Fe)&&J.remove(Fe)},Ms=function(J,me){var xe=J.dom,Fe=J.selection.getStart(),yt=Ss(J,Fe),Qt=xe.getParent(Fe,xe.isBlock,yt);if(Qt&&xe.isEmpty(Qt)){var vr=Cl(J.selection.getRng()),Qr=xe.getParent(Yl(J,vr,me,yt),"LI",yt);if(Qr)return J.undoManager.transact(function(){al(xe,Qt,yt),Ph(xe,Qr.parentNode),J.selection.select(Qr,!0),J.selection.collapse(me)}),!0}return!1},wc=function(J,me){return xc(J,me)||Ms(J,me)},qa=function(J){var me=J.selection.getStart(),xe=Ss(J,me),Fe=J.dom.getParent(me,"LI,DT,DD",xe);return Fe||is(J).length>0?(J.undoManager.transact(function(){J.execCommand("Delete"),Rv(J.dom,J.getBody())}),!0):!1},wu=function(J,me){return J.selection.isCollapsed()?wc(J,me):qa(J)},eu=function(J){J.on("keydown",function(me){me.keyCode===Qa.BACKSPACE?wu(J,!1)&&me.preventDefault():me.keyCode===Qa.DELETE&&wu(J,!0)&&me.preventDefault()})},zd=function(J){return{backspaceDelete:function(me){wu(J,me)}}},us=function(J,me){var xe=Oo(J);J.undoManager.transact(function(){u(me.styles)&&J.dom.setStyles(xe,me.styles),u(me.attrs)&&Pe(me.attrs,function(Fe,yt){return J.dom.setAttrib(xe,yt,Fe)})})},or=function(J){var me=St(ur(J).split("")),xe=te(me,function(Fe,yt){var Qt=Fe.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,yt)*Qt});return ne(xe,function(Fe,yt){return Fe+yt},0)},Fh=function(J){if(J--,J<0)return"";var me=J%26,xe=Math.floor(J/26),Fe=Fh(xe),yt=String.fromCharCode(65+me);return Fe+yt},ky=function(J){return/^[A-Z]+$/.test(J)},fo=function(J){return/^[a-z]+$/.test(J)},Ri=function(J){return/^[0-9]+$/.test(J)},Nv=function(J){return Ri(J)?2:ky(J)?0:fo(J)?1:Bt(J)?3:4},pf=function(J){switch(Nv(J)){case 2:return X.some({listStyleType:X.none(),start:J});case 0:return X.some({listStyleType:X.some("upper-alpha"),start:or(J).toString()});case 1:return X.some({listStyleType:X.some("lower-alpha"),start:or(J).toString()});case 3:return X.some({listStyleType:X.none(),start:""});case 4:return X.none()}},sa=function(J){var me=parseInt(J.start,10);return aa(J.listStyleType,"upper-alpha")?Fh(me):aa(J.listStyleType,"lower-alpha")?Fh(me).toLowerCase():J.start},Lv=function(J){var me=Oo(J);nl(me)&&J.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:sa({start:J.dom.getAttrib(me,"start","1"),listStyleType:X.some(J.dom.getStyle(me,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(xe){var Fe=xe.getData();pf(Fe.start).each(function(yt){J.execCommand("mceListUpdate",!1,{attrs:{start:yt.start==="1"?"":yt.start},styles:{"list-style-type":yt.listStyleType.getOr("")}})}),xe.close()}})},kl=function(J,me){return function(){var xe=Oo(J);return xe&&xe.nodeName===me}},ig=function(J){J.addCommand("mceListProps",function(){Lv(J)})},yo=function(J){J.on("BeforeExecCommand",function(me){var xe=me.command.toLowerCase();xe==="indent"?Kf(J):xe==="outdent"&&cu(J)}),J.addCommand("InsertUnorderedList",function(me,xe){Zf(J,"UL",xe)}),J.addCommand("InsertOrderedList",function(me,xe){Zf(J,"OL",xe)}),J.addCommand("InsertDefinitionList",function(me,xe){Zf(J,"DL",xe)}),J.addCommand("RemoveList",function(){Xl(J)}),ig(J),J.addCommand("mceListUpdate",function(me,xe){u(xe)&&us(J,xe)}),J.addQueryStateHandler("InsertUnorderedList",kl(J,"UL")),J.addQueryStateHandler("InsertOrderedList",kl(J,"OL")),J.addQueryStateHandler("InsertDefinitionList",kl(J,"DL"))},js=function(J){J.on("keydown",function(me){me.keyCode!==Qa.TAB||Qa.metaKeyPressed(me)||J.undoManager.transact(function(){(me.shiftKey?cu(J):Kf(J))&&me.preventDefault()})})},s_=function(J){tn(J)&&js(J),eu(J)},l_=function(J){var me=function(xe){return function(){return J.execCommand(xe)}};J.hasPlugin("advlist")||(J.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:me("InsertOrderedList"),onSetup:function(xe){return Na(J,"OL",xe.setActive)}}),J.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:me("InsertUnorderedList"),onSetup:function(xe){return Na(J,"UL",xe.setActive)}}))},fa=function(J){var me={text:"List properties...",icon:"ordered-list",onAction:function(){return J.execCommand("mceListProps")},onSetup:function(xe){return Na(J,"OL",function(Fe){return xe.setDisabled(!Fe)})}};J.ui.registry.addMenuItem("listprops",me),J.ui.registry.addContextMenu("lists",{update:function(xe){var Fe=Oo(J,xe);return nl(Fe)?["listprops"]:[]}})};function Bv(){n.add("lists",function(J){return J.hasPlugin("rtc",!0)===!1?(s_(J),yo(J)):ig(J),l_(J),fa(J),zd(J)})}Bv()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){return e=Object.assign||function(Pe){for(var it,He=1,At=arguments.length;He<At;He++){it=arguments[He];for(var Rn in it)Object.prototype.hasOwnProperty.call(it,Rn)&&(Pe[Rn]=it[Rn])}return Pe},e.apply(this,arguments)},t=function(Pe){var it=typeof Pe;return Pe===null?"null":it==="object"&&(Array.prototype.isPrototypeOf(Pe)||Pe.constructor&&Pe.constructor.name==="Array")?"array":it==="object"&&(String.prototype.isPrototypeOf(Pe)||Pe.constructor&&Pe.constructor.name==="String")?"string":it},r=function(Pe){return function(it){return t(it)===Pe}},i=r("string"),u=r("object"),l=r("array"),f=function(Pe){return Pe==null},h=function(Pe){return!f(Pe)},g=function(){},y=function(Pe){return function(){return Pe}},b=function(Pe){return Pe},S=y(!1),_=y(!0),k=function(){return A},A=function(){var Pe=function(At){return At()},it=b,He={fold:function(At,Rn){return At()},isSome:S,isNone:_,getOr:it,getOrThunk:Pe,getOrDie:function(At){throw new Error(At||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:it,orThunk:Pe,map:k,each:g,bind:k,exists:S,forall:_,filter:function(){return k()},toArray:function(){return[]},toString:y("none()")};return He}(),R=function(Pe){var it=y(Pe),He=function(){return Rn},At=function(tr){return tr(Pe)},Rn={fold:function(tr,Oe){return Oe(Pe)},isSome:_,isNone:S,getOr:it,getOrThunk:it,getOrDie:it,getOrNull:it,getOrUndefined:it,or:He,orThunk:He,map:function(tr){return R(tr(Pe))},each:function(tr){tr(Pe)},bind:At,exists:At,forall:At,filter:function(tr){return tr(Pe)?Rn:A},toArray:function(){return[Pe]},toString:function(){return"some("+Pe+")"}};return Rn},I=function(Pe){return Pe==null?A:R(Pe)},z={some:R,none:k,from:I},L=Array.prototype.push,q=function(Pe,it){for(var He=0,At=Pe.length;He<At;He++){var Rn=Pe[He];it(Rn,He)}},X=function(Pe){for(var it=[],He=0,At=Pe.length;He<At;++He){if(!l(Pe[He]))throw new Error("Arr.flatten item "+He+" was not an array, input: "+Pe);L.apply(it,Pe[He])}return it},Y=function(Pe){var it=Pe,He=function(){return it},At=function(Rn){it=Rn};return{get:He,set:At}},ae=Object.keys,te=Object.hasOwnProperty,ie=function(Pe,it){for(var He=ae(Pe),At=0,Rn=He.length;At<Rn;At++){var tr=He[At],Oe=Pe[tr];it(Oe,tr)}},le=function(Pe,it){return ce(Pe,it)?z.from(Pe[it]):z.none()},ce=function(Pe,it){return te.call(Pe,it)},ne=function(Pe){return Pe.getParam("media_scripts")},Q=function(Pe){return Pe.getParam("audio_template_callback")},Ce=function(Pe){return Pe.getParam("video_template_callback")},ze=function(Pe){return Pe.getParam("media_live_embeds",!0)},ke=function(Pe){return Pe.getParam("media_filter_html",!0)},St=function(Pe){return Pe.getParam("media_url_resolver")},tt=function(Pe){return Pe.getParam("media_alt_source",!0)},G=function(Pe){return Pe.getParam("media_poster",!0)},We=function(Pe){return Pe.getParam("media_dimensions",!0)},Ge=tinymce.util.Tools.resolve("tinymce.util.Tools"),pt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ze=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),kt=function(Pe,it){if(Pe){for(var He=0;He<Pe.length;He++)if(it.indexOf(Pe[He].filter)!==-1)return Pe[He]}},Ot=pt.DOM,Nt=function(Pe){return Pe.replace(/px$/,"")},fe=function(Pe){var it=Pe.map.style,He=it?Ot.parseStyle(it):{};return{type:"ephox-embed-iri",source:Pe.map["data-ephox-embed-iri"],altsource:"",poster:"",width:le(He,"max-width").map(Nt).getOr(""),height:le(He,"max-height").map(Nt).getOr("")}},Yt=function(Pe,it){var He=Y(!1),At={};return Ze({validate:!1,allow_conditional_comments:!0,start:function(Rn,tr){if(!He.get())if(ce(tr.map,"data-ephox-embed-iri"))He.set(!0),At=fe(tr);else{if(!At.source&&Rn==="param"&&(At.source=tr.map.movie),(Rn==="iframe"||Rn==="object"||Rn==="embed"||Rn==="video"||Rn==="audio")&&(At.type||(At.type=Rn),At=Ge.extend(tr.map,At)),Rn==="script"){var Oe=kt(Pe,tr.map.src);if(!Oe)return;At={type:"script",source:tr.map.src,width:String(Oe.width),height:String(Oe.height)}}Rn==="source"&&(At.source?At.altsource||(At.altsource=tr.map.src):At.source=tr.map.src),Rn==="img"&&!At.poster&&(At.poster=tr.map.src)}}}).parse(it),At.source=At.source||At.src||At.data,At.altsource=At.altsource||"",At.poster=At.poster||"",At},Ye=function(Pe){var it={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},He=Pe.toLowerCase().split(".").pop(),At=it[He];return At||""},je=tinymce.util.Tools.resolve("tinymce.html.Schema"),bt=tinymce.util.Tools.resolve("tinymce.html.Writer"),qe=pt.DOM,Je=function(Pe){return/^[0-9.]+$/.test(Pe)?Pe+"px":Pe},st=function(Pe,it){ie(it,function(He,At){var Rn=""+He;if(Pe.map[At])for(var tr=Pe.length;tr--;){var Oe=Pe[tr];Oe.name===At&&(Rn?(Pe.map[At]=Rn,Oe.value=Rn):(delete Pe.map[At],Pe.splice(tr,1)))}else Rn&&(Pe.push({name:At,value:Rn}),Pe.map[At]=Rn)})},Ft=function(Pe,it){var He=it.map.style,At=He?qe.parseStyle(He):{};At["max-width"]=Je(Pe.width),At["max-height"]=Je(Pe.height),st(it,{style:qe.serializeStyle(At)})},Ct=["source","altsource"],Rt=function(Pe,it,He){var At=bt(),Rn=Y(!1),tr=0,Oe;return Ze({validate:!1,allow_conditional_comments:!0,comment:function($e){At.comment($e)},cdata:function($e){At.cdata($e)},text:function($e,Et){At.text($e,Et)},start:function($e,Et,Jt){if(!Rn.get())if(ce(Et.map,"data-ephox-embed-iri"))Rn.set(!0),Ft(it,Et);else{switch($e){case"video":case"object":case"embed":case"img":case"iframe":it.height!==void 0&&it.width!==void 0&&st(Et,{width:it.width,height:it.height});break}if(He)switch($e){case"video":st(Et,{poster:it.poster,src:""}),it.altsource&&st(Et,{src:""});break;case"iframe":st(Et,{src:it.source});break;case"source":if(tr<2&&(st(Et,{src:it[Ct[tr]],type:it[Ct[tr]+"mime"]}),!it[Ct[tr]]))return;tr++;break;case"img":if(!it.poster)return;Oe=!0;break}}At.start($e,Et,Jt)},end:function($e){if(!Rn.get()){if($e==="video"&&He){for(var Et=0;Et<2;Et++)if(it[Ct[Et]]){var Jt=[];Jt.map={},tr<=Et&&(st(Jt,{src:it[Ct[Et]],type:it[Ct[Et]+"mime"]}),At.start("source",Jt,!0))}}if(it.poster&&$e==="object"&&He&&!Oe){var he=[];he.map={},st(he,{src:it.poster,width:it.width,height:it.height}),At.start("img",he,!0)}}At.end($e)}},je({})).parse(Pe),At.getContent()},ur=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Ke=function(Pe){var it=Pe.match(/^(https?:\/\/|www\.)(.+)$/i);return it&&it.length>1?it[1]==="www."?"https://":it[1]:"https://"},Bt=function(Pe,it){for(var He=Ke(it),At=Pe.regex.exec(it),Rn=He+Pe.url,tr=function($e){Rn=Rn.replace("$"+$e,function(){return At[$e]?At[$e]:""})},Oe=0;Oe<At.length;Oe++)tr(Oe);return Rn.replace(/\?$/,"")},Mn=function(Pe){var it=ur.filter(function(He){return He.regex.test(Pe)});return it.length>0?Ge.extend({},it[0],{url:Bt(it[0],Pe)}):null},Zt=function(Pe){var it=Pe.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Pe.source+'" width="'+Pe.width+'" height="'+Pe.height+'"'+it+"></iframe>"},Qn=function(Pe){var it='<object data="'+Pe.source+'" width="'+Pe.width+'" height="'+Pe.height+'" type="application/x-shockwave-flash">';return Pe.poster&&(it+='<img src="'+Pe.poster+'" width="'+Pe.width+'" height="'+Pe.height+'" />'),it+="</object>",it},pr=function(Pe,it){return it?it(Pe):'<audio controls="controls" src="'+Pe.source+'">'+(Pe.altsource?`
<source src="`+Pe.altsource+'"'+(Pe.altsourcemime?' type="'+Pe.altsourcemime+'"':"")+` />
`:"")+"</audio>"},ao=function(Pe,it){return it?it(Pe):'<video width="'+Pe.width+'" height="'+Pe.height+'"'+(Pe.poster?' poster="'+Pe.poster+'"':"")+` controls="controls">
<source src="`+Pe.source+'"'+(Pe.sourcemime?' type="'+Pe.sourcemime+'"':"")+` />
`+(Pe.altsource?'<source src="'+Pe.altsource+'"'+(Pe.altsourcemime?' type="'+Pe.altsourcemime+'"':"")+` />
`:"")+"</video>"},To=function(Pe){return'<script src="'+Pe.source+'"><\/script>'},Go=function(Pe,it){var He=Ge.extend({},it);if(!He.source&&(Ge.extend(He,Yt(ne(Pe),He.embed)),!He.source))return"";He.altsource||(He.altsource=""),He.poster||(He.poster=""),He.source=Pe.convertURL(He.source,"source"),He.altsource=Pe.convertURL(He.altsource,"source"),He.sourcemime=Ye(He.source),He.altsourcemime=Ye(He.altsource),He.poster=Pe.convertURL(He.poster,"poster");var At=Mn(He.source);if(At&&(He.source=At.url,He.type=At.type,He.allowfullscreen=At.allowFullscreen,He.width=He.width||String(At.w),He.height=He.height||String(At.h)),He.embed)return Rt(He.embed,He,!0);var Rn=kt(ne(Pe),He.source);Rn&&(He.type="script",He.width=String(Rn.width),He.height=String(Rn.height));var tr=Q(Pe),Oe=Ce(Pe);return He.width=He.width||"300",He.height=He.height||"150",Ge.each(He,function($e,Et){He[Et]=Pe.dom.encode(""+$e)}),He.type==="iframe"?Zt(He):He.sourcemime==="application/x-shockwave-flash"?Qn(He):He.sourcemime.indexOf("audio")!==-1?pr(He,tr):He.type==="script"?To(He):ao(He,Oe)},gn=function(Pe){return Pe.hasAttribute("data-mce-object")||Pe.hasAttribute("data-ephox-embed-iri")},vn=function(Pe){Pe.on("click keyup touchend",function(){var it=Pe.selection.getNode();it&&Pe.dom.hasClass(it,"mce-preview-object")&&Pe.dom.getAttrib(it,"data-mce-selected")&&it.setAttribute("data-mce-selected","2")}),Pe.on("ObjectSelected",function(it){var He=it.target.getAttribute("data-mce-object");He==="script"&&it.preventDefault()}),Pe.on("ObjectResized",function(it){var He=it.target;if(He.getAttribute("data-mce-object")){var At=He.getAttribute("data-mce-html");At&&(At=unescape(At),He.setAttribute("data-mce-html",escape(Rt(At,{width:String(it.width),height:String(it.height)}))))}})},en=tinymce.util.Tools.resolve("tinymce.util.Promise"),vt={},Tt=function(Pe,it,He){return new en(function(At,Rn){var tr=function(Oe){return Oe.html&&(vt[Pe.source]=Oe),At({url:Pe.source,html:Oe.html?Oe.html:it(Pe)})};vt[Pe.source]?tr(vt[Pe.source]):He({url:Pe.source},tr,Rn)})},hn=function(Pe,it){return en.resolve({html:it(Pe),url:Pe.source})},Bn=function(Pe){return function(it){return Go(Pe,it)}},bn=function(Pe,it){var He=St(Pe);return He?Tt(it,Bn(Pe),He):hn(it,Bn(Pe))},mt=function(Pe){return ce(vt,Pe)},an=function(Pe,it){return le(it,Pe).bind(function(He){return le(He,"meta")})},On=function(Pe,it,He){return function(At){var Rn,tr=function(){return le(Pe,At)},Oe=function(){return le(it,At)},$e=function(he){return le(he,"value").bind(function(Me){return Me.length>0?z.some(Me):z.none()})},Et=function(){return tr().bind(function(he){return u(he)?$e(he).orThunk(Oe):Oe().orThunk(function(){return z.from(he)})})},Jt=function(){return Oe().orThunk(function(){return tr().bind(function(he){return u(he)?$e(he):z.from(he)})})};return Rn={},Rn[At]=(At===He?Et():Jt()).getOr(""),Rn}},wn=function(Pe,it){var He={};return le(Pe,"dimensions").each(function(At){q(["width","height"],function(Rn){le(it,Rn).orThunk(function(){return le(At,Rn)}).each(function(tr){return He[Rn]=tr})})}),He},er=function(Pe,it){var He=it?an(it,Pe).getOr({}):{},At=On(Pe,He,it);return e(e(e(e(e({},At("source")),At("altsource")),At("poster")),At("embed")),wn(Pe,He))},et=function(Pe){var it=e(e({},Pe),{source:{value:le(Pe,"source").getOr("")},altsource:{value:le(Pe,"altsource").getOr("")},poster:{value:le(Pe,"poster").getOr("")}});return q(["width","height"],function(He){le(Pe,He).each(function(At){var Rn=it.dimensions||{};Rn[He]=At,it.dimensions=Rn})}),it},jt=function(Pe){return function(it){var He=it&&it.msg?"Media embed handler error: "+it.msg:"Media embed handler threw unknown error.";Pe.notificationManager.open({type:"error",text:He})}},Pt=function(Pe,it){return Yt(ne(Pe),it)},ln=function(Pe){var it=Pe.selection.getNode(),He=gn(it)?Pe.serializer.serialize(it,{selection:!0}):"";return e({embed:He},Yt(ne(Pe),He))},Kn=function(Pe,it){return function(He){if(i(He.url)&&He.url.trim().length>0){var At=He.html,Rn=Pt(it,At),tr=e(e({},Rn),{source:He.url,embed:At});Pe.setData(et(tr))}}},Lr=function(Pe,it){for(var He=Pe.dom.select("*[data-mce-object]"),At=0;At<it.length;At++)for(var Rn=He.length-1;Rn>=0;Rn--)it[At]===He[Rn]&&He.splice(Rn,1);Pe.selection.select(He[0])},ei=function(Pe,it){var He=Pe.dom.select("*[data-mce-object]");Pe.insertContent(it),Lr(Pe,He),Pe.nodeChanged()},Br=function(Pe,it,He){it.embed=Rt(it.embed,it),it.embed&&(Pe.source===it.source||mt(it.source))?ei(He,it.embed):bn(He,it).then(function(At){ei(He,At.html)}).catch(jt(He))},Vr=function(Pe){var it=ln(Pe),He=Y(it),At=et(it),Rn=function(Wn,_r){var It=er(_r.getData(),"source");Wn.source!==It.source&&(Kn(En,Pe)({url:It.source,html:""}),bn(Pe,It).then(Kn(En,Pe)).catch(jt(Pe)))},tr=function(Wn){var _r=er(Wn.getData()),It=Pt(Pe,_r.embed);Wn.setData(et(It))},Oe=function(Wn,_r){var It=er(Wn.getData(),_r),mr=Go(Pe,It);Wn.setData(et(e(e({},It),{embed:mr})))},$e=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Et=We(Pe)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Jt={title:"General",name:"general",items:X([$e,Et])},he={type:"textarea",name:"embed",label:"Paste your embed code below:"},Me={title:"Embed",items:[he]},Ue=[];tt(Pe)&&Ue.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),G(Pe)&&Ue.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var lt={title:"Advanced",name:"advanced",items:Ue},_t=[Jt,Me];Ue.length>0&&_t.push(lt);var Dt={type:"tabpanel",tabs:_t},En=Pe.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Dt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(Wn){var _r=er(Wn.getData());Br(He.get(),_r,Pe),Wn.close()},onChange:function(Wn,_r){switch(_r.name){case"source":Rn(He.get(),Wn);break;case"embed":tr(Wn);break;case"dimensions":case"altsource":case"poster":Oe(Wn,_r.name);break}He.set(er(Wn.getData()))},initialData:At})},ui=function(Pe){var it=function(){Vr(Pe)};return{showDialog:it}},Ca=function(Pe){var it=function(){Vr(Pe)};Pe.addCommand("mceMedia",it)},Ui=tinymce.util.Tools.resolve("tinymce.html.Node"),Si=tinymce.util.Tools.resolve("tinymce.Env"),Xi=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Ia=function(Pe,it){if(ke(Pe)===!1)return it;var He=bt(),At;return Ze({validate:!1,allow_conditional_comments:!1,comment:function(Rn){At||He.comment(Rn)},cdata:function(Rn){At||He.cdata(Rn)},text:function(Rn,tr){At||He.text(Rn,tr)},start:function(Rn,tr,Oe){if(At=!0,!(Rn==="script"||Rn==="noscript"||Rn==="svg")){for(var $e=tr.length-1;$e>=0;$e--){var Et=tr[$e].name;Et.indexOf("on")===0&&(delete tr.map[Et],tr.splice($e,1)),Et==="style"&&(tr[$e].value=Pe.dom.serializeStyle(Pe.dom.parseStyle(tr[$e].value),Rn))}He.start(Rn,tr,Oe),At=!1}},end:function(Rn){At||He.end(Rn)}},je({})).parse(it),He.getContent()},Zi=function(Pe){var it=Pe.name;return it==="iframe"||it==="video"||it==="audio"},Bi=function(Pe,it,He,At){At===void 0&&(At=null);var Rn=Pe.attr(He);return h(Rn)?Rn:ce(it,He)?null:At},Ra=function(Pe,it,He){var At=it.name==="img"||Pe.name==="video",Rn=At?"300":null,tr=Pe.name==="audio"?"30":"150",Oe=At?tr:null;it.attr({width:Bi(Pe,He,"width",Rn),height:Bi(Pe,He,"height",Oe)})},co=function(Pe,it,He,At){for(var Rn=Xi({forced_root_block:!1,validate:!1},Pe.schema).parse(At,{context:it});Rn.firstChild;)He.append(Rn.firstChild)},Pa=function(Pe,it){var He=it.name,At=new Ui("img",1);return At.shortEnded=!0,Hu(Pe,it,At),Ra(it,At,{}),At.attr({style:it.attr("style"),src:Si.transparentSrc,"data-mce-object":He,class:"mce-object mce-object-"+He}),At},dr=function(Pe,it){var He=it.name,At=new Ui("span",1);At.attr({contentEditable:"false",style:it.attr("style"),"data-mce-object":He,class:"mce-preview-object mce-object-"+He}),Hu(Pe,it,At);var Rn=Pe.dom.parseStyle(it.attr("style")),tr=new Ui(He,1);if(Ra(it,tr,Rn),tr.attr({src:it.attr("src"),style:it.attr("style"),class:it.attr("class")}),He==="iframe")tr.attr({allowfullscreen:it.attr("allowfullscreen"),frameborder:"0"});else{var Oe=["controls","crossorigin","currentTime","loop","muted","poster","preload"];q(Oe,function(Jt){tr.attr(Jt,it.attr(Jt))});var $e=At.attr("data-mce-html");h($e)&&co(Pe,He,tr,unescape($e))}var Et=new Ui("span",1);return Et.attr("class","mce-shim"),At.append(tr),At.append(Et),At},Hu=function(Pe,it,He){for(var At=it.attributes,Rn=At.length;Rn--;){var tr=At[Rn].name,Oe=At[Rn].value;tr!=="width"&&tr!=="height"&&tr!=="style"&&((tr==="data"||tr==="src")&&(Oe=Pe.convertURL(Oe,tr)),He.attr("data-mce-p-"+tr,Oe))}var $e=it.firstChild&&it.firstChild.value;$e&&(He.attr("data-mce-html",escape(Ia(Pe,$e))),He.firstChild=null)},ba=function(Pe){var it=Pe.attr("class");return it&&/\btiny-pageembed\b/.test(it)},Ua=function(Pe){for(;Pe=Pe.parent;)if(Pe.attr("data-ephox-embed-iri")||ba(Pe))return!0;return!1},oa=function(Pe){return function(it){for(var He=it.length,At,Rn;He--;)At=it[He],At.parent&&(At.parent.attr("data-mce-object")||At.name==="script"&&(Rn=kt(ne(Pe),At.attr("src")),!Rn)||(Rn&&(Rn.width&&At.attr("width",Rn.width.toString()),Rn.height&&At.attr("height",Rn.height.toString())),Zi(At)&&ze(Pe)&&Si.ceFalse?Ua(At)||At.replace(dr(Pe,At)):Ua(At)||At.replace(Pa(Pe,At))))}},Ja=function(Pe){Pe.on("preInit",function(){var it=Pe.schema.getSpecialElements();Ge.each("video audio iframe object".split(" "),function(At){it[At]=new RegExp("</"+At+"[^>]*>","gi")});var He=Pe.schema.getBoolAttrs();Ge.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(At){He[At]={}}),Pe.parser.addNodeFilter("iframe,video,audio,object,embed,script",oa(Pe)),Pe.serializer.addAttributeFilter("data-mce-object",function(At,Rn){for(var tr=At.length,Oe,$e,Et,Jt,he,Me,Ue,lt;tr--;)if(Oe=At[tr],!!Oe.parent){for(Ue=Oe.attr(Rn),$e=new Ui(Ue,1),Ue!=="audio"&&Ue!=="script"&&(lt=Oe.attr("class"),lt&&lt.indexOf("mce-preview-object")!==-1?$e.attr({width:Oe.firstChild.attr("width"),height:Oe.firstChild.attr("height")}):$e.attr({width:Oe.attr("width"),height:Oe.attr("height")})),$e.attr({style:Oe.attr("style")}),Jt=Oe.attributes,Et=Jt.length;Et--;){var _t=Jt[Et].name;_t.indexOf("data-mce-p-")===0&&$e.attr(_t.substr(11),Jt[Et].value)}Ue==="script"&&$e.attr("type","text/javascript"),he=Oe.attr("data-mce-html"),he&&(Me=new Ui("#text",3),Me.raw=!0,Me.value=Ia(Pe,unescape(he)),$e.append(Me)),Oe.replace($e)}})}),Pe.on("SetContent",function(){Pe.$("span.mce-preview-object").each(function(it,He){var At=Pe.$(He);At.find("span.mce-shim").length===0&&At.append('<span class="mce-shim"></span>')})})},Vu=function(Pe){Pe.on("ResolveName",function(it){var He;it.target.nodeType===1&&(He=it.target.getAttribute("data-mce-object"))&&(it.name=He)})},Qa=function(Pe){var it=function(){return Pe.execCommand("mceMedia")};Pe.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:it,onSetup:function(He){var At=Pe.selection;return He.setActive(gn(At.getNode())),At.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",He.setActive).unbind}}),Pe.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:it})};function ws(){n.add("media",function(Pe){return Ca(Pe),Qa(Pe),Vu(Pe),Ja(Pe),vn(Pe),ui(Pe)})}ws()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(b){var S=b.getParam("nonbreaking_force_tab",0);return typeof S=="boolean"?S===!0?3:0:S},t=function(b){return b.getParam("nonbreaking_wrap",!0,"boolean")},r=function(b,S){for(var _="",k=0;k<S;k++)_+=b;return _},i=function(b){return b.plugins.visualchars?b.plugins.visualchars.isEnabled():!1},u=function(b,S){var _=function(){return i(b)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},k=function(){return'<span class="'+_()+'" contenteditable="false">'+r("&nbsp;",S)+"</span>"},A=t(b),R=A||b.plugins.visualchars?k():r("&nbsp;",S);b.undoManager.transact(function(){return b.insertContent(R)})},l=function(b){b.addCommand("mceNonBreaking",function(){u(b,1)})},f=tinymce.util.Tools.resolve("tinymce.util.VK"),h=function(b){var S=e(b);S>0&&b.on("keydown",function(_){if(_.keyCode===f.TAB&&!_.isDefaultPrevented()){if(_.shiftKey)return;_.preventDefault(),_.stopImmediatePropagation(),u(b,S)}})},g=function(b){var S=function(){return b.execCommand("mceNonBreaking")};b.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:S}),b.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:S})};function y(){n.add("nonbreaking",function(b){l(b),g(b),h(b)})}y()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.Tools"),t=function(y){return y.getParam("noneditable_noneditable_class","mceNonEditable")},r=function(y){return y.getParam("noneditable_editable_class","mceEditable")},i=function(y){var b=y.getParam("noneditable_regexp",[]);return b&&b.constructor===RegExp?[b]:b},u=function(y){return function(b){return(" "+b.attr("class")+" ").indexOf(y)!==-1}},l=function(y,b,S){return function(_){var k=arguments,A=k[k.length-2],R=A>0?b.charAt(A-1):"";if(R==='"')return _;if(R===">"){var I=b.lastIndexOf("<",A);if(I!==-1){var z=b.substring(I,A);if(z.indexOf('contenteditable="false"')!==-1)return _}}return'<span class="'+S+'" data-mce-content="'+y.dom.encode(k[0])+'">'+y.dom.encode(typeof k[1]=="string"?k[1]:k[0])+"</span>"}},f=function(y,b,S){var _=b.length,k=S.content;if(S.format!=="raw"){for(;_--;)k=k.replace(b[_],l(y,k,t(y)));S.content=k}},h=function(y){var b="contenteditable",S=" "+e.trim(r(y))+" ",_=" "+e.trim(t(y))+" ",k=u(S),A=u(_),R=i(y);y.on("PreInit",function(){R.length>0&&y.on("BeforeSetContent",function(I){f(y,R,I)}),y.parser.addAttributeFilter("class",function(I){for(var z=I.length,L;z--;)L=I[z],k(L)?L.attr(b,"true"):A(L)&&L.attr(b,"false")}),y.serializer.addAttributeFilter(b,function(I){for(var z=I.length,L;z--;)L=I[z],!(!k(L)&&!A(L))&&(R.length>0&&L.attr("data-mce-content")?(L.name="#text",L.type=3,L.raw=!0,L.value=L.attr("data-mce-content")):L.attr(b,null))})})};function g(){n.add("noneditable",function(y){h(y)})}g()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),t=function(b){return b.getParam("pagebreak_separator","<!-- pagebreak -->")},r=function(b){return b.getParam("pagebreak_split_block",!1)},i="mce-pagebreak",u=function(b){var S='<img src="'+e.transparentSrc+'" class="'+i+'" data-mce-resize="false" data-mce-placeholder />';return b?"<p>"+S+"</p>":S},l=function(b){var S=t(b),_=function(){return r(b)},k=new RegExp(S.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(A){return"\\"+A}),"gi");b.on("BeforeSetContent",function(A){A.content=A.content.replace(k,u(_()))}),b.on("PreInit",function(){b.serializer.addNodeFilter("img",function(A){for(var R=A.length,I,z;R--;)if(I=A[R],z=I.attr("class"),z&&z.indexOf(i)!==-1){var L=I.parent;if(b.schema.getBlockElements()[L.name]&&_()){L.type=3,L.value=S,L.raw=!0,I.remove();continue}I.type=3,I.value=S,I.raw=!0}})})},f=function(b){b.addCommand("mcePageBreak",function(){b.insertContent(u(r(b)))})},h=function(b){b.on("ResolveName",function(S){S.target.nodeName==="IMG"&&b.dom.hasClass(S.target,i)&&(S.name="pagebreak")})},g=function(b){var S=function(){return b.execCommand("mcePageBreak")};b.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:S}),b.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:S})};function y(){n.add("pagebreak",function(b){f(b),g(b),l(b),h(b)})}y()})();(function(){var n=function(H){var ee=H,ye=function(){return ee},Re=function(gt){ee=gt};return{get:ye,set:Re}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(H){return H.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},r=function(H){return{clipboard:H}},i=function(H){var ee=typeof H;return H===null?"null":ee==="object"&&(Array.prototype.isPrototypeOf(H)||H.constructor&&H.constructor.name==="Array")?"array":ee==="object"&&(String.prototype.isPrototypeOf(H)||H.constructor&&H.constructor.name==="String")?"string":ee},u=function(H){return function(ee){return i(ee)===H}},l=function(H){return function(ee){return typeof ee===H}},f=u("array"),h=function(H){return H==null},g=function(H){return!h(H)},y=l("function"),b=function(){},S=function(H){return function(){return H}},_=function(H){return H},k=S(!1),A=S(!0),R=function(){return I},I=function(){var H=function(Re){return Re()},ee=_,ye={fold:function(Re,gt){return Re()},isSome:k,isNone:A,getOr:ee,getOrThunk:H,getOrDie:function(Re){throw new Error(Re||"error: getOrDie called on none.")},getOrNull:S(null),getOrUndefined:S(void 0),or:ee,orThunk:H,map:R,each:b,bind:R,exists:k,forall:A,filter:function(){return R()},toArray:function(){return[]},toString:S("none()")};return ye}(),z=function(H){var ee=S(H),ye=function(){return gt},Re=function(un){return un(H)},gt={fold:function(un,hr){return hr(H)},isSome:A,isNone:k,getOr:ee,getOrThunk:ee,getOrDie:ee,getOrNull:ee,getOrUndefined:ee,or:ye,orThunk:ye,map:function(un){return z(un(H))},each:function(un){un(H)},bind:Re,exists:Re,forall:Re,filter:function(un){return un(H)?gt:I},toArray:function(){return[H]},toString:function(){return"some("+H+")"}};return gt},L=function(H){return H==null?I:z(H)},q={some:z,none:R,from:L},X=Array.prototype.slice,Y=Array.prototype.push,ae=function(H,ee){for(var ye=0,Re=H.length;ye<Re;ye++){var gt=H[ye];if(ee(gt,ye))return!0}return!1},te=function(H,ee){for(var ye=H.length,Re=new Array(ye),gt=0;gt<ye;gt++){var un=H[gt];Re[gt]=ee(un,gt)}return Re},ie=function(H,ee){for(var ye=0,Re=H.length;ye<Re;ye++){var gt=H[ye];ee(gt,ye)}},le=function(H,ee){for(var ye=[],Re=0,gt=H.length;Re<gt;Re++){var un=H[Re];ee(un,Re)&&ye.push(un)}return ye},ce=function(H,ee,ye){return ie(H,function(Re,gt){ye=ee(ye,Re,gt)}),ye},ne=function(H){for(var ee=[],ye=0,Re=H.length;ye<Re;++ye){if(!f(H[ye]))throw new Error("Arr.flatten item "+ye+" was not an array, input: "+H);Y.apply(ee,H[ye])}return ee},Q=function(H,ee){return ne(te(H,ee))},Ce=y(Array.from)?Array.from:function(H){return X.call(H)},ze=function(){return ze=Object.assign||function(H){for(var ee,ye=1,Re=arguments.length;ye<Re;ye++){ee=arguments[ye];for(var gt in ee)Object.prototype.hasOwnProperty.call(ee,gt)&&(H[gt]=ee[gt])}return H},ze.apply(this,arguments)},ke=function(H){var ee=n(q.none()),ye=function(){return ee.get().each(H)},Re=function(){ye(),ee.set(q.none())},gt=function(){return ee.get().isSome()},un=function(){return ee.get()},hr=function(Tr){ye(),ee.set(q.some(Tr))};return{clear:Re,isSet:gt,get:un,set:hr}},St=function(){var H=ke(b),ee=function(ye){return H.get().each(ye)};return ze(ze({},H),{on:ee})},tt=function(H,ee,ye){return ee===""||H.length>=ee.length&&H.substr(ye,ye+ee.length)===ee},G=function(H,ee){return tt(H,ee,0)},We=function(H,ee){return tt(H,ee,H.length-ee.length)},Ge=function(H,ee){return ee<=0?"":new Array(ee+1).join(H)},pt=tinymce.util.Tools.resolve("tinymce.Env"),Ze=tinymce.util.Tools.resolve("tinymce.util.Delay"),kt=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ot=tinymce.util.Tools.resolve("tinymce.util.VK"),Nt=function(H,ee,ye,Re){return H.fire("PastePreProcess",{content:ee,internal:ye,wordContent:Re})},fe=function(H,ee,ye,Re){return H.fire("PastePostProcess",{node:ee,internal:ye,wordContent:Re})},Yt=function(H,ee){return H.fire("PastePlainTextToggle",{state:ee})},Ye=function(H,ee){return H.fire("paste",{ieFake:ee})},je=tinymce.util.Tools.resolve("tinymce.util.Tools"),bt=function(H){return H.getParam("paste_block_drop",!1)},qe=function(H){return H.getParam("paste_data_images",!1)},Je=function(H){return H.getParam("paste_filter_drop",!0)},st=function(H){return H.getParam("paste_preprocess")},Ft=function(H){return H.getParam("paste_postprocess")},Ct=function(H){return H.getParam("paste_webkit_styles")},Rt=function(H){return H.getParam("paste_remove_styles_if_webkit",!0)},ur=function(H){return H.getParam("paste_merge_formats",!0)},Ke=function(H){return H.getParam("smart_paste",!0)},Bt=function(H){return H.getParam("paste_as_text",!1)},Mn=function(H){return H.getParam("paste_retain_style_properties")},Zt=function(H){var ee="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return H.getParam("paste_word_valid_elements",ee)},Qn=function(H){return H.getParam("paste_convert_word_fake_lists",!0)},pr=function(H){return H.getParam("paste_enable_default_filters",!0)},ao=function(H){return H.getParam("validate")},To=function(H){return H.getParam("allow_html_data_urls",!1,"boolean")},Go=function(H){return H.getParam("paste_data_images",!1,"boolean")},gn=function(H){return H.getParam("images_dataimg_filter")},vn=function(H){return H.getParam("images_reuse_filename")},en=function(H){return H.getParam("forced_root_block")},vt=function(H){return H.getParam("forced_root_block_attrs")},Tt=function(H){return H.getParam("paste_tab_spaces",4,"number")},hn=function(H){var ee="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return je.explode(H.getParam("images_file_types",ee,"string"))},Bn="x-tinymce/html",bn="<!-- "+Bn+" -->",mt=function(H){return bn+H},an=function(H){return H.replace(bn,"")},On=function(H){return H.indexOf(bn)!==-1},wn=S(Bn),er=Object.hasOwnProperty,et=function(H,ee){return er.call(H,ee)},jt=tinymce.util.Tools.resolve("tinymce.html.Entities"),Pt=function(H){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(H)},ln=function(H){return H.replace(/\r?\n/g,"<br>")},Kn=function(H,ee){var ye=[],Re="<"+H;if(typeof ee=="object"){for(var gt in ee)et(ee,gt)&&ye.push(gt+'="'+jt.encodeAllRaw(ee[gt])+'"');ye.length&&(Re+=" "+ye.join(" "))}return Re+">"},Lr=function(H,ee,ye){var Re=H.split(/\n\n/),gt=Kn(ee,ye),un="</"+ee+">",hr=je.map(Re,function(Ln){return Ln.split(/\n/).join("<br />")}),Tr=function(Ln){return gt+Ln+un};return hr.length===1?hr[0]:je.map(hr,Tr).join("")},ei=function(H,ee,ye){return ee?Lr(H,ee===!0?"p":ee,ye):ln(H)},Br=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Vr=tinymce.util.Tools.resolve("tinymce.html.Serializer"),ui="",Ca=tinymce.util.Tools.resolve("tinymce.html.Node"),Ui=tinymce.util.Tools.resolve("tinymce.html.Schema"),Si=function(H){return H.constructor===RegExp},Xi=function(H,ee){return je.each(ee,function(ye){Si(ye)?H=H.replace(ye,""):H=H.replace(ye[0],ye[1])}),H},Ia=function(H){var ee=Ui(),ye=Br({},ee),Re="",gt=ee.getShortEndedElements(),un=je.makeMap("script noscript style textarea video audio iframe object"," "),hr=ee.getBlockElements(),Tr=function(Ln){var lr=Ln.name,Kr=Ln;if(lr==="br"){Re+=`
`;return}if(lr!=="wbr"){if(gt[lr]&&(Re+=" "),un[lr]){Re+=" ";return}if(Ln.type===3&&(Re+=Ln.value),!Ln.shortEnded&&(Ln=Ln.firstChild))do Tr(Ln);while(Ln=Ln.next);hr[lr]&&Kr.next&&(Re+=`
`,lr==="p"&&(Re+=`
`))}};return H=Xi(H,[/<!\[[^\]]+\]>/g]),Tr(ye.parse(H)),Re},Zi=function(H){var ee=function(ye,Re,gt){return!Re&&!gt?" ":ui};return H=Xi(H,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,ee],/<br class="Apple-interchange-newline">/g,/<br>$/i]),H},Bi=function(H){var ee=0;return function(){return H+ee++}},Ra=function(H){var ee=H.toLowerCase(),ye={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return je.hasOwn(ye,ee)?"image/"+ye[ee]:"image/"+ee},co=function(H){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(H)||/class="OutlineElement/.test(H)||/id="?docs\-internal\-guid\-/.test(H)},Pa=function(H){var ee=!1,ye=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return H=H.replace(/^[\u00a0 ]+/,""),je.each(ye,function(Re){if(Re.test(H))return ee=!0,!1}),ee},dr=function(H){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(H)},Hu=function(H){for(var ee,ye,Re=1,gt=function(Or){var li="";if(Or.type===3)return Or.value;if(Or=Or.firstChild)do li+=gt(Or);while(Or=Or.next);return li},un=function(Or,li){if(Or.type===3&&li.test(Or.value))return Or.value=Or.value.replace(li,""),!1;if(Or=Or.firstChild)do if(!un(Or,li))return!1;while(Or=Or.next);return!0},hr=function(Or){if(Or._listIgnore){Or.remove();return}if(Or=Or.firstChild)do hr(Or);while(Or=Or.next)},Tr=function(Or,li,ni){var yu=Or._listLevel||Re;yu!==Re&&(yu<Re?ee&&(ee=ee.parent.parent):(ye=ee,ee=null)),!ee||ee.name!==li?(ye=ye||ee,ee=new Ca(li,1),ni>1&&ee.attr("start",""+ni),Or.wrap(ee)):ee.append(Or),Or.name="li",yu>Re&&ye&&ye.lastChild.append(ee),Re=yu,hr(Or),un(Or,/^\u00a0+/),un(Or,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),un(Or,/^\u00a0+/)},Ln=[],lr=H.firstChild;typeof lr<"u"&&lr!==null;)if(Ln.push(lr),lr=lr.walk(),lr!==null)for(;typeof lr<"u"&&lr.parent!==H;)lr=lr.walk();for(var Kr=0;Kr<Ln.length;Kr++)if(H=Ln[Kr],H.name==="p"&&H.firstChild){var Jr=gt(H);if(dr(Jr)){Tr(H,"ul");continue}if(Pa(Jr)){var Hr=/([0-9]+)\./.exec(Jr),Oi=1;Hr&&(Oi=parseInt(Hr[1],10)),Tr(H,"ol",Oi);continue}if(H._listLevel){Tr(H,"ul",1);continue}ee=null}else ye=ee,ee=null},ba=function(H,ee,ye,Re){var gt={},un=H.dom.parseStyle(Re);je.each(un,function(Tr,Ln){switch(Ln){case"mso-list":var lr=/\w+ \w+([0-9]+)/i.exec(Re);lr&&(ye._listLevel=parseInt(lr[1],10)),/Ignore/i.test(Tr)&&ye.firstChild&&(ye._listIgnore=!0,ye.firstChild._listIgnore=!0);break;case"horiz-align":Ln="text-align";break;case"vert-align":Ln="vertical-align";break;case"font-color":case"mso-foreground":Ln="color";break;case"mso-background":case"mso-highlight":Ln="background";break;case"font-weight":case"font-style":Tr!=="normal"&&(gt[Ln]=Tr);return;case"mso-element":if(/^(comment|comment-list)$/i.test(Tr)){ye.remove();return}break}if(Ln.indexOf("mso-comment")===0){ye.remove();return}Ln.indexOf("mso-")!==0&&(Mn(H)==="all"||ee&&ee[Ln])&&(gt[Ln]=Tr)}),/(bold)/i.test(gt["font-weight"])&&(delete gt["font-weight"],ye.wrap(new Ca("b",1))),/(italic)/i.test(gt["font-style"])&&(delete gt["font-style"],ye.wrap(new Ca("i",1)));var hr=H.dom.serializeStyle(gt,ye.name);return hr||null},Ua=function(H,ee){var ye,Re=Mn(H);Re&&(ye=je.makeMap(Re.split(/[, ]/))),ee=Xi(ee,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,ui],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Ln,lr){return lr.length>0?lr.replace(/./," ").slice(Math.floor(lr.length/2)).split("").join(ui):""}]]);var gt=Zt(H),un=Ui({valid_elements:gt,valid_children:"-li[p]"});je.each(un.elements,function(Ln){Ln.attributes.class||(Ln.attributes.class={},Ln.attributesOrder.push("class")),Ln.attributes.style||(Ln.attributes.style={},Ln.attributesOrder.push("style"))});var hr=Br({},un);hr.addAttributeFilter("style",function(Ln){for(var lr=Ln.length,Kr;lr--;)Kr=Ln[lr],Kr.attr("style",ba(H,ye,Kr,Kr.attr("style"))),Kr.name==="span"&&Kr.parent&&!Kr.attributes.length&&Kr.unwrap()}),hr.addAttributeFilter("class",function(Ln){for(var lr=Ln.length,Kr,Jr;lr--;)Kr=Ln[lr],Jr=Kr.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Jr)&&Kr.remove(),Kr.attr("class",null)}),hr.addNodeFilter("del",function(Ln){for(var lr=Ln.length;lr--;)Ln[lr].remove()}),hr.addNodeFilter("a",function(Ln){for(var lr=Ln.length,Kr,Jr,Hr;lr--;){if(Kr=Ln[lr],Jr=Kr.attr("href"),Hr=Kr.attr("name"),Jr&&Jr.indexOf("#_msocom_")!==-1){Kr.remove();continue}if(Jr&&Jr.indexOf("file://")===0&&(Jr=Jr.split("#")[1],Jr&&(Jr="#"+Jr)),!Jr&&!Hr)Kr.unwrap();else{if(Hr&&!/^_?(?:toc|edn|ftn)/i.test(Hr)){Kr.unwrap();continue}Kr.attr({href:Jr,name:Hr})}}});var Tr=hr.parse(ee);return Qn(H)&&Hu(Tr),ee=Vr({validate:ao(H)},un).serialize(Tr),ee},oa=function(H,ee){return pr(H)?Ua(H,ee):ee},Ja=function(H,ee){var ye=Br({},H.schema);ye.addNodeFilter("meta",function(gt){je.each(gt,function(un){un.remove()})});var Re=ye.parse(ee,{forced_root_block:!1,isRootContent:!0});return Vr({validate:ao(H)},H.schema).serialize(Re)},Vu=function(H,ee){return{content:H,cancelled:ee}},Qa=function(H,ee,ye,Re){var gt=H.dom.create("div",{style:"display:none"},ee),un=fe(H,gt,ye,Re);return Vu(un.node.innerHTML,un.isDefaultPrevented())},ws=function(H,ee,ye,Re){var gt=Nt(H,ee,ye,Re),un=Ja(H,gt.content);return H.hasEventListeners("PastePostProcess")&&!gt.isDefaultPrevented()?Qa(H,un,ye,Re):Vu(un,gt.isDefaultPrevented())},Pe=function(H,ee,ye){var Re=co(ee),gt=Re?oa(H,ee):ee;return ws(H,gt,ye,Re)},it=function(H,ee){return H.insertContent(ee,{merge:ur(H),paste:!0}),!0},He=function(H){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(H)},At=function(H,ee){return He(ee)&&ae(hn(H),function(ye){return We(ee.toLowerCase(),"."+ye.toLowerCase())})},Rn=function(H,ee,ye){return H.undoManager.extra(function(){ye(H,ee)},function(){H.insertContent('<img src="'+ee+'">')}),!0},tr=function(H,ee,ye){return H.undoManager.extra(function(){ye(H,ee)},function(){H.execCommand("mceInsertLink",!1,ee)}),!0},Oe=function(H,ee,ye){return H.selection.isCollapsed()===!1&&He(ee)?tr(H,ee,ye):!1},$e=function(H,ee,ye){return At(H,ee)?Rn(H,ee,ye):!1},Et=function(H,ee){je.each([Oe,$e,it],function(ye){return ye(H,ee,it)!==!0})},Jt=function(H,ee,ye){ye||Ke(H)===!1?it(H,ee):Et(H,ee)},he=function(H){return" \f	\v".indexOf(H)!==-1},Me=function(H){return H===`
`||H==="\r"},Ue=function(H,ee){return ee<H.length&&ee>=0?Me(H[ee]):!1},lt=function(H,ee){var ye=Ge(" ",Tt(H)),Re=ee.replace(/\t/g,ye),gt=ce(Re,function(un,hr){return he(hr)||hr===ui?un.pcIsSpace||un.str===""||un.str.length===Re.length-1||Ue(Re,un.str.length+1)?{pcIsSpace:!1,str:un.str+ui}:{pcIsSpace:!0,str:un.str+" "}:{pcIsSpace:Me(hr),str:un.str+hr}},{pcIsSpace:!1,str:""});return gt.str},_t=function(H,ee,ye,Re){var gt=Pe(H,ee,ye);gt.cancelled===!1&&Jt(H,gt.content,Re)},Dt=function(H,ee,ye){var Re=ye||On(ee);_t(H,an(ee),Re,!1)},En=function(H,ee){var ye=H.dom.encode(ee).replace(/\r\n/g,`
`),Re=lt(H,ye),gt=ei(Re,en(H),vt(H));_t(H,gt,!1,!0)},Wn=function(H){var ee={},ye="data:text/mce-internal,";if(H){if(H.getData){var Re=H.getData("Text");Re&&Re.length>0&&Re.indexOf(ye)===-1&&(ee["text/plain"]=Re)}if(H.types)for(var gt=0;gt<H.types.length;gt++){var un=H.types[gt];try{ee[un]=H.getData(un)}catch{ee[un]=""}}}return ee},_r=function(H,ee){return Wn(ee.clipboardData||H.getDoc().dataTransfer)},It=function(H,ee){return ee in H&&H[ee].length>0},mr=function(H){return It(H,"text/html")||It(H,"text/plain")},qr=function(H){var ee=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(H);return ee?{type:ee[1],data:decodeURIComponent(ee[2])}:{type:null,data:null}},Wo=function(H,ee){var ye=gn(H);return ye?ye(ee):!0},ea=function(H,ee){var ye=ee.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return g(ye)?H.dom.encode(ye[1]):null},ro=Bi("mceclip"),Fs=function(H,ee){var ye=qr(ee.uri),Re=ye.data,gt=ye.type,un=ro(),hr=ee.blob,Tr=new Image;if(Tr.src=ee.uri,Wo(H,Tr)){var Ln=H.editorUpload.blobCache,lr=void 0,Kr=Ln.getByData(Re,gt);if(Kr)lr=Kr;else{var Jr=vn(H)&&g(hr.name),Hr=Jr?ea(H,hr.name):un,Oi=Jr?hr.name:void 0;lr=Ln.create(un,hr,Re,Hr,Oi),Ln.add(lr)}Dt(H,'<img src="'+lr.blobUri()+'">',!1)}else Dt(H,'<img src="'+ee.uri+'">',!1)},_s=function(H){return H.type==="paste"},Yi=function(H){return g(H.getAsFile)},Ul=function(H){return kt.all(te(H,function(ee){return new kt(function(ye){var Re=Yi(ee)?ee.getAsFile():ee,gt=new window.FileReader;gt.onload=function(){ye({blob:Re,uri:gt.result})},gt.readAsDataURL(Re)})}))},vu=function(H){var ee=hn(H);return function(ye){return G(ye.type,"image/")&&ae(ee,function(Re){return Ra(Re)===ye.type})}},Eu=function(H,ee){var ye=ee.items?Q(Ce(ee.items),function(gt){return gt.kind==="file"?[gt.getAsFile()]:[]}):[],Re=ee.files?Ce(ee.files):[];return le(ye.length>0?ye:Re,vu(H))},pi=function(H,ee,ye){var Re=_s(ee)?ee.clipboardData:ee.dataTransfer;if(Go(H)&&Re){var gt=Eu(H,Re);if(gt.length>0)return ee.preventDefault(),Ul(gt).then(function(un){ye&&H.selection.setRng(ye),ie(un,function(hr){Fs(H,hr)})}),!0}return!1},Wl=function(H){var ee=H.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&ee&&ee.items&&ee.items.length===0},nl=function(H){return Ot.metaKeyPressed(H)&&H.keyCode===86||H.shiftKey&&H.keyCode===45},Sl=function(H,ee,ye){var Re=St(),gt=St(),un;H.on("keyup",gt.clear),H.on("keydown",function(Ln){var lr=function(Kr){nl(Kr)&&!Kr.isDefaultPrevented()&&ee.remove()};if(nl(Ln)&&!Ln.isDefaultPrevented()){if(un=Ln.shiftKey&&Ln.keyCode===86,un&&pt.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(Ln.stopImmediatePropagation(),Re.set(Ln),gt.set(!0),pt.ie&&un){Ln.preventDefault(),Ye(H,!0);return}ee.remove(),ee.create(),H.once("keyup",lr),H.once("paste",function(){H.off("keyup",lr)})}});var hr=function(Ln,lr,Kr,Jr,Hr){var Oi;It(lr,"text/html")?Oi=lr["text/html"]:(Oi=ee.getHtml(),Hr=Hr||On(Oi),ee.isDefaultContent(Oi)&&(Jr=!0)),Oi=Zi(Oi),ee.remove();var Or=Hr===!1&&Pt(Oi),li=He(Oi);if((!Oi.length||Or&&!li)&&(Jr=!0),(Jr||li)&&(It(lr,"text/plain")&&Or?Oi=lr["text/plain"]:Oi=Ia(Oi)),ee.isDefaultContent(Oi)){Kr||Ln.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Jr?En(Ln,Oi):Dt(Ln,Oi,Hr)},Tr=function(){return ee.getLastRng()||H.selection.getRng()};H.on("paste",function(Ln){var lr=Re.isSet()||gt.isSet();lr&&Re.clear();var Kr=_r(H,Ln),Jr=ye.get()==="text"||un,Hr=It(Kr,wn());if(un=!1,Ln.isDefaultPrevented()||Wl(Ln)){ee.remove();return}if(!mr(Kr)&&pi(H,Ln,Tr())){ee.remove();return}lr||Ln.preventDefault(),pt.ie&&(!lr||Ln.ieFake)&&!It(Kr,"text/html")&&(ee.create(),H.dom.bind(ee.getEl(),"paste",function(Oi){Oi.stopPropagation()}),H.getDoc().execCommand("Paste",!1,null),Kr["text/html"]=ee.getHtml()),It(Kr,"text/html")?(Ln.preventDefault(),Hr||(Hr=On(Kr["text/html"])),hr(H,Kr,lr,Jr,Hr)):Ze.setEditorTimeout(H,function(){hr(H,Kr,lr,Jr,Hr)},0)})},gc=function(H,ee,ye){Sl(H,ee,ye);var Re;H.parser.addNodeFilter("img",function(gt,un,hr){var Tr=function(Hr){return Hr.data&&Hr.data.paste===!0},Ln=function(Hr){!Hr.attr("data-mce-object")&&Re!==pt.transparentSrc&&Hr.remove()},lr=function(Hr){return Hr.indexOf("webkit-fake-url")===0},Kr=function(Hr){return Hr.indexOf("data:")===0};if(!Go(H)&&Tr(hr))for(var Jr=gt.length;Jr--;)Re=gt[Jr].attr("src"),Re&&(lr(Re)||!To(H)&&Kr(Re))&&Ln(gt[Jr])})},Ou=function(H){return pt.ie&&H.inline?document.body:H.getBody()},os=function(H){return Ou(H)!==H.getBody()},vc=function(H,ee,ye){os(H)&&H.dom.bind(ee,"paste keyup",function(Re){kn(H,ye)||H.fire("paste")})},ju=function(H,ee,ye){var Re=H.dom,gt=H.getBody();ee.set(H.selection.getRng());var un=H.dom.add(Ou(H),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},ye);(pt.ie||pt.gecko)&&Re.setStyle(un,"left",Re.getStyle(gt,"direction",!0)==="rtl"?65535:-65535),Re.bind(un,"beforedeactivate focusin focusout",function(hr){hr.stopPropagation()}),vc(H,un,ye),un.focus(),H.selection.select(un,!0)},Iu=function(H,ee){if(we(H)){for(var ye=void 0,Re=ee.get();ye=H.dom.get("mcepastebin");)H.dom.remove(ye),H.dom.unbind(ye);Re&&H.selection.setRng(Re)}ee.set(null)},we=function(H){return H.dom.get("mcepastebin")},rt=function(H){var ee=function(Tr,Ln){Tr.appendChild(Ln),H.dom.remove(Ln,!0)},ye=je.grep(Ou(H).childNodes,function(Tr){return Tr.id==="mcepastebin"}),Re=ye.shift();je.each(ye,function(Tr){ee(Re,Tr)});for(var gt=H.dom.select("div[id=mcepastebin]",Re),un=gt.length-1;un>=0;un--){var hr=H.dom.create("div");Re.insertBefore(hr,gt[un]),ee(hr,gt[un])}return Re?Re.innerHTML:""},wt=function(H,ee){return ee===H},tn=function(H){return H&&H.id==="mcepastebin"},kn=function(H,ee){var ye=we(H);return tn(ye)&&wt(ee,ye.innerHTML)},yr=function(H){var ee=n(null),ye="%MCEPASTEBIN%";return{create:function(){return ju(H,ee,ye)},remove:function(){return Iu(H,ee)},getEl:function(){return we(H)},getHtml:function(){return rt(H)},getLastRng:ee.get,isDefault:function(){return kn(H,ye)},isDefaultContent:function(Re){return wt(ye,Re)}}},jo=function(H,ee){var ye=yr(H);return H.on("PreInit",function(){return gc(H,ye,ee)}),{pasteFormat:ee,pasteHtml:function(Re,gt){return Dt(H,Re,gt)},pasteText:function(Re){return En(H,Re)},pasteImageData:function(Re,gt){return pi(H,Re,gt)},getDataTransferItems:Wn,hasHtmlOrText:mr,hasContentType:It}},ti=function(H,ee){ee.pasteFormat.get()==="text"?(ee.pasteFormat.set("html"),Yt(H,!1)):(ee.pasteFormat.set("text"),Yt(H,!0)),H.focus()},uo=function(H,ee){H.addCommand("mceTogglePlainTextPaste",function(){ti(H,ee)}),H.addCommand("mceInsertClipboardContent",function(ye,Re){Re.content&&ee.pasteHtml(Re.content,Re.internal),Re.text&&ee.pasteText(Re.text)})},yi=function(H){return pt.iOS===!1&&typeof(H==null?void 0:H.setData)=="function"},zi=function(H,ee,ye){if(yi(H))try{return H.clearData(),H.setData("text/html",ee),H.setData("text/plain",ye),H.setData(wn(),ee),!0}catch{return!1}else return!1},rl=function(H,ee,ye,Re){zi(H.clipboardData,ee.html,ee.text)?(H.preventDefault(),Re()):ye(ee.html,Re)},Wa=function(H){return function(ee,ye){var Re=mt(ee),gt=H.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),un=H.dom.create("div",{contenteditable:"true"},Re);H.dom.setStyles(gt,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),gt.appendChild(un),H.dom.add(H.getBody(),gt);var hr=H.selection.getRng();un.focus();var Tr=H.dom.createRng();Tr.selectNodeContents(un),H.selection.setRng(Tr),Ze.setTimeout(function(){H.selection.setRng(hr),gt.parentNode.removeChild(gt),ye()},0)}},Hs=function(H){return{html:H.selection.getContent({contextual:!0}),text:H.selection.getContent({format:"text"})}},Cr=function(H){return!!H.dom.getParent(H.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",H.getBody())},Cl=function(H){return!H.selection.isCollapsed()||Cr(H)},Xf=function(H){return function(ee){Cl(H)&&rl(ee,Hs(H),Wa(H),function(){if(pt.browser.isChrome()||pt.browser.isFirefox()){var ye=H.selection.getRng();Ze.setEditorTimeout(H,function(){H.selection.setRng(ye),H.execCommand("Delete")},0)}else H.execCommand("Delete")})}},Oo=function(H){return function(ee){Cl(H)&&rl(ee,Hs(H),Wa(H),b)}},ff=function(H){H.on("cut",Xf(H)),H.on("copy",Oo(H))},df=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Pd=function(H,ee){return df.getCaretRangeFromPoint(ee.clientX,ee.clientY,H.getDoc())},si=function(H){var ee=H["text/plain"];return ee?ee.indexOf("file://")===0:!1},is=function(H,ee){H.focus(),H.selection.setRng(ee)},Ah=function(H,ee,ye){bt(H)&&H.on("dragend dragover draggesture dragdrop drop drag",function(Re){Re.preventDefault(),Re.stopPropagation()}),qe(H)||H.on("drop",function(Re){var gt=Re.dataTransfer;gt&&gt.files&&gt.files.length>0&&Re.preventDefault()}),H.on("drop",function(Re){var gt=Pd(H,Re);if(!(Re.isDefaultPrevented()||ye.get())){var un=ee.getDataTransferItems(Re.dataTransfer),hr=ee.hasContentType(un,wn());if(!((!ee.hasHtmlOrText(un)||si(un))&&ee.pasteImageData(Re,gt))&&gt&&Je(H)){var Tr=un["mce-internal"]||un["text/html"]||un["text/plain"];Tr&&(Re.preventDefault(),Ze.setEditorTimeout(H,function(){H.undoManager.transact(function(){un["mce-internal"]&&H.execCommand("Delete"),is(H,gt),Tr=Zi(Tr),un["text/html"]?ee.pasteHtml(Tr,hr):ee.pasteText(Tr)})}))}}}),H.on("dragstart",function(Re){ye.set(!0)}),H.on("dragover dragend",function(Re){qe(H)&&ye.get()===!1&&(Re.preventDefault(),is(H,Pd(H,Re))),Re.type==="dragend"&&ye.set(!1)})},Ss=function(H){var ee=H.plugins.paste,ye=st(H);ye&&H.on("PastePreProcess",function(gt){ye.call(ee,ee,gt)});var Re=Ft(H);Re&&H.on("PastePostProcess",function(gt){Re.call(ee,ee,gt)})},ia=function(H,ee){H.on("PastePreProcess",function(ye){ye.content=ee(H,ye.content,ye.internal,ye.wordContent)})},ql=function(H,ee){H.on("PastePostProcess",function(ye){ee(H,ye.node)})},qt=function(H,ee){if(!co(ee))return ee;var ye=[];je.each(H.schema.getBlockElements(),function(gt,un){ye.push(un)});var Re=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+ye.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return ee=Xi(ee,[[Re,"$1"]]),ee=Xi(ee,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),ee},yc=function(H,ee,ye,Re){if(Re||ye)return ee;var gt=Ct(H),un;if(Rt(H)===!1||gt==="all")return ee;if(gt&&(un=gt.split(/[, ]/)),un){var hr=H.dom,Tr=H.selection.getNode();ee=ee.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Ln,lr,Kr,Jr){var Hr=hr.parseStyle(hr.decode(Kr)),Oi={};if(un==="none")return lr+Jr;for(var Or=0;Or<un.length;Or++){var li=Hr[un[Or]],ni=hr.getStyle(Tr,un[Or],!0);/color/.test(un[Or])&&(li=hr.toHex(li),ni=hr.toHex(ni)),ni!==li&&(Oi[un[Or]]=li)}var yu=hr.serializeStyle(Oi,"span");return yu?lr+' style="'+yu+'"'+Jr:lr+Jr})}else ee=ee.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return ee=ee.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Ln,lr,Kr,Jr){return lr+' style="'+Kr+'"'+Jr}),ee},aa=function(H,ee){H.$("a",ee).find("font,u").each(function(ye,Re){H.dom.remove(Re,!0)})},Yf=function(H){pt.webkit&&ia(H,yc),pt.ie&&(ia(H,qt),ql(H,aa))},Tl=function(H,ee){return function(ye){ye.setActive(ee.pasteFormat.get()==="text");var Re=function(gt){return ye.setActive(gt.state)};return H.on("PastePlainTextToggle",Re),function(){return H.off("PastePlainTextToggle",Re)}}},ue=function(H,ee){var ye=function(){return H.execCommand("mceTogglePlainTextPaste")};H.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:ye,onSetup:Tl(H,ee)}),H.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:ye,onSetup:Tl(H,ee)})};function W(){e.add("paste",function(H){if(t(H)===!1){var ee=n(!1),ye=n(Bt(H)?"text":"html"),Re=jo(H,ye);return Yf(H),ue(H,Re),uo(H,Re),Ss(H),ff(H),Ah(H,Re,ee),r(Re)}})}W()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(k){return k.getParam("content_style","","string")},i=function(k){return k.getParam("content_css_cors",!1,"boolean")},u=function(k){var A=k.getParam("body_class","","hash");return A[k.id]||""},l=function(k){var A=k.getParam("body_class","","string");return A.indexOf("=")===-1?A:u(k)},f=function(k){var A=k.getParam("body_id","","hash");return A[k.id]||A},h=function(k){var A=k.getParam("body_id","tinymce","string");return A.indexOf("=")===-1?A:f(k)},g=function(k){var A="",R=k.dom.encode,I=r(k);A+='<base href="'+R(k.documentBaseURI.getURI())+'">';var z=i(k)?' crossorigin="anonymous"':"";t.each(k.contentCSS,function(le){A+='<link type="text/css" rel="stylesheet" href="'+R(k.documentBaseURI.toAbsolute(le))+'"'+z+">"}),I&&(A+='<style type="text/css">'+I+"</style>");var L=h(k),q=l(k),X=e.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Y='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+X+")) {e.preventDefault();}}}, false);<\/script> ",ae=k.getBody().dir,te=ae?' dir="'+R(ae)+'"':"",ie="<!DOCTYPE html><html><head>"+A+'</head><body id="'+R(L)+'" class="mce-content-body '+R(q)+'"'+te+">"+k.getContent()+Y+"</body></html>";return ie},y=function(k){var A=g(k),R=k.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:A}});R.focus("close")},b=function(k){k.addCommand("mcePreview",function(){y(k)})},S=function(k){var A=function(){return k.execCommand("mcePreview")};k.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:A}),k.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:A})};function _(){n.add("preview",function(k){b(k),S(k)})}_()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),t=function(u){u.addCommand("mcePrint",function(){e.browser.isIE()?u.getDoc().execCommand("print",!1,null):u.getWin().print()})},r=function(u){var l=function(){return u.execCommand("mcePrint")};u.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:l}),u.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:l})};function i(){n.add("print",function(u){t(u),r(u),u.addShortcut("Meta+P","","mcePrint")})}i()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),t=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(_){return _.getParam("save_enablewhendirty",!0)},i=function(_){return!!_.getParam("save_onsavecallback")},u=function(_){return!!_.getParam("save_oncancelcallback")},l=function(_,k){_.notificationManager.open({text:k,type:"error"})},f=function(_){var k=e.DOM.getParent(_.id,"form");if(!(r(_)&&!_.isDirty())){if(_.save(),i(_)){_.execCallback("save_onsavecallback",_),_.nodeChanged();return}k?(_.setDirty(!1),(!k.onsubmit||k.onsubmit())&&(typeof k.submit=="function"?k.submit():l(_,"Error: Form submit field collision.")),_.nodeChanged()):l(_,"Error: No form element found.")}},h=function(_){var k=t.trim(_.startContent);if(u(_)){_.execCallback("save_oncancelcallback",_);return}_.resetContent(k)},g=function(_){_.addCommand("mceSave",function(){f(_)}),_.addCommand("mceCancel",function(){h(_)})},y=function(_){return function(k){var A=function(){k.setDisabled(r(_)&&!_.isDirty())};return A(),_.on("NodeChange dirty",A),function(){return _.off("NodeChange dirty",A)}}},b=function(_){_.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return _.execCommand("mceSave")},onSetup:y(_)}),_.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return _.execCommand("mceCancel")},onSetup:y(_)}),_.addShortcut("Meta+S","","mceSave")};function S(){n.add("save",function(_){b(_),g(_)})}S()})();(function(){var n=function(Oe){var $e=Oe,Et=function(){return $e},Jt=function(he){$e=he};return{get:Et,set:Jt}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(Oe){for(var $e,Et=1,Jt=arguments.length;Et<Jt;Et++){$e=arguments[Et];for(var he in $e)Object.prototype.hasOwnProperty.call($e,he)&&(Oe[he]=$e[he])}return Oe},t.apply(this,arguments)},r=function(Oe){var $e=typeof Oe;return Oe===null?"null":$e==="object"&&(Array.prototype.isPrototypeOf(Oe)||Oe.constructor&&Oe.constructor.name==="Array")?"array":$e==="object"&&(String.prototype.isPrototypeOf(Oe)||Oe.constructor&&Oe.constructor.name==="String")?"string":$e},i=function(Oe){return function($e){return r($e)===Oe}},u=function(Oe){return function($e){return typeof $e===Oe}},l=i("string"),f=i("array"),h=u("boolean"),g=u("number"),y=function(){},b=function(Oe){return function(){return Oe}},S=function(Oe){return Oe},_=b(!1),k=b(!0),A="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",R=b(A),I=function(){return z},z=function(){var Oe=function(Jt){return Jt()},$e=S,Et={fold:function(Jt,he){return Jt()},isSome:_,isNone:k,getOr:$e,getOrThunk:Oe,getOrDie:function(Jt){throw new Error(Jt||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:$e,orThunk:Oe,map:I,each:y,bind:I,exists:_,forall:k,filter:function(){return I()},toArray:function(){return[]},toString:b("none()")};return Et}(),L=function(Oe){var $e=b(Oe),Et=function(){return he},Jt=function(Me){return Me(Oe)},he={fold:function(Me,Ue){return Ue(Oe)},isSome:k,isNone:_,getOr:$e,getOrThunk:$e,getOrDie:$e,getOrNull:$e,getOrUndefined:$e,or:Et,orThunk:Et,map:function(Me){return L(Me(Oe))},each:function(Me){Me(Oe)},bind:Jt,exists:Jt,forall:Jt,filter:function(Me){return Me(Oe)?he:z},toArray:function(){return[Oe]},toString:function(){return"some("+Oe+")"}};return he},q=function(Oe){return Oe==null?z:L(Oe)},X={some:L,none:I,from:q},Y=R,ae=tinymce.util.Tools.resolve("tinymce.Env"),te=tinymce.util.Tools.resolve("tinymce.util.Tools"),ie=Array.prototype.slice,le=Array.prototype.push,ce=function(Oe,$e){for(var Et=Oe.length,Jt=new Array(Et),he=0;he<Et;he++){var Me=Oe[he];Jt[he]=$e(Me,he)}return Jt},ne=function(Oe,$e){for(var Et=0,Jt=Oe.length;Et<Jt;Et++){var he=Oe[Et];$e(he,Et)}},Q=function(Oe,$e){for(var Et=Oe.length-1;Et>=0;Et--){var Jt=Oe[Et];$e(Jt,Et)}},Ce=function(Oe,$e){if(Oe.length===0)return[];for(var Et=$e(Oe[0]),Jt=[],he=[],Me=0,Ue=Oe.length;Me<Ue;Me++){var lt=Oe[Me],_t=$e(lt);_t!==Et&&(Jt.push(he),he=[]),Et=_t,he.push(lt)}return he.length!==0&&Jt.push(he),Jt},ze=function(Oe,$e,Et){return ne(Oe,function(Jt,he){Et=$e(Et,Jt,he)}),Et},ke=function(Oe){for(var $e=[],Et=0,Jt=Oe.length;Et<Jt;++Et){if(!f(Oe[Et]))throw new Error("Arr.flatten item "+Et+" was not an array, input: "+Oe);le.apply($e,Oe[Et])}return $e},St=function(Oe,$e){return ke(ce(Oe,$e))},tt=function(Oe,$e){var Et=ie.call(Oe,0);return Et.sort($e),Et},G=Object.hasOwnProperty,We=function(Oe,$e){return G.call(Oe,$e)};typeof window<"u"||Function("return this;")();var Ge=9,pt=11,Ze=1,kt=3,Ot=function(Oe){return Oe.dom.nodeType},Nt=function(Oe){return function($e){return Ot($e)===Oe}},fe=Nt(kt),Yt=function(Oe,$e,Et){if(l(Et)||h(Et)||g(Et))Oe.setAttribute($e,Et+"");else throw console.error("Invalid call to Attribute.set. Key ",$e,":: Value ",Et,":: Element ",Oe),new Error("Attribute value was not simple")},Ye=function(Oe,$e,Et){Yt(Oe.dom,$e,Et)},je=function(Oe,$e,Et){return(Oe.compareDocumentPosition($e)&Et)!==0},bt=function(Oe,$e){return je(Oe,$e,Node.DOCUMENT_POSITION_PRECEDING)},qe=function(Oe,$e){var Et=$e||document,Jt=Et.createElement("div");if(Jt.innerHTML=Oe,!Jt.hasChildNodes()||Jt.childNodes.length>1)throw console.error("HTML does not have a single root node",Oe),new Error("HTML must have a single root node");return Ft(Jt.childNodes[0])},Je=function(Oe,$e){var Et=$e||document,Jt=Et.createElement(Oe);return Ft(Jt)},st=function(Oe,$e){var Et=$e||document,Jt=Et.createTextNode(Oe);return Ft(Jt)},Ft=function(Oe){if(Oe==null)throw new Error("Node cannot be null or undefined");return{dom:Oe}},Ct=function(Oe,$e,Et){return X.from(Oe.dom.elementFromPoint($e,Et)).map(Ft)},Rt={fromHtml:qe,fromTag:Je,fromText:st,fromDom:Ft,fromPoint:Ct},ur=function(Oe){return Oe.nodeType!==Ze&&Oe.nodeType!==Ge&&Oe.nodeType!==pt||Oe.childElementCount===0},Ke=function(Oe,$e){var Et=$e===void 0?document:$e.dom;return ur(Et)?[]:ce(Et.querySelectorAll(Oe),Rt.fromDom)},Bt=function(Oe){return X.from(Oe.dom.parentNode).map(Rt.fromDom)},Mn=function(Oe){return ce(Oe.dom.childNodes,Rt.fromDom)},Zt=function(Oe,$e){return{element:Oe,offset:$e}},Qn=function(Oe,$e){var Et=Mn(Oe);return Et.length>0&&$e<Et.length?Zt(Et[$e],0):Zt(Oe,$e)},pr=function(Oe,$e){var Et=Bt(Oe);Et.each(function(Jt){Jt.dom.insertBefore($e.dom,Oe.dom)})},ao=function(Oe,$e){Oe.dom.appendChild($e.dom)},To=function(Oe,$e){pr(Oe,$e),ao($e,Oe)},Go=function(Oe,$e){var Et=function(Me){if(!Oe(Me))throw new Error("Can only get "+$e+" value of a "+$e+" node");return Jt(Me).getOr("")},Jt=function(Me){return Oe(Me)?X.from(Me.dom.nodeValue):X.none()},he=function(Me,Ue){if(!Oe(Me))throw new Error("Can only set raw "+$e+" value of a "+$e+" node");Me.dom.nodeValue=Ue};return{get:Et,getOption:Jt,set:he}},gn=Go(fe,"text"),vn=function(Oe){return gn.get(Oe)},en=function(Oe,$e){return Ke($e,Oe)},vt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Tt=function(Oe,$e){return Oe.isBlock($e)||We(Oe.schema.getShortEndedElements(),$e.nodeName)},hn=function(Oe,$e){return Oe.getContentEditable($e)==="false"},Bn=function(Oe,$e){return Oe.getContentEditable($e)==="true"&&Oe.getContentEditableParent($e.parentNode)==="false"},bn=function(Oe,$e){return!Oe.isBlock($e)&&We(Oe.schema.getWhiteSpaceElements(),$e.nodeName)},mt=function(Oe,$e){return Tt(Oe,$e)||hn(Oe,$e)||bn(Oe,$e)||Bn(Oe,$e)},an=function(Oe){return Oe.nodeType===3},On=function(){return{sOffset:0,fOffset:0,elements:[]}},wn=function(Oe,$e){return Qn(Rt.fromDom(Oe),$e)},er=function(Oe,$e,Et,Jt,he,Me){Me===void 0&&(Me=!0);for(var Ue=Me?$e(!1):Et;Ue;){var lt=hn(Oe,Ue);if(lt||bn(Oe,Ue)){var _t=lt?Jt.cef(Ue):Jt.boundary(Ue);if(_t)break;Ue=$e(!0);continue}else if(Tt(Oe,Ue)){if(Jt.boundary(Ue))break}else an(Ue)&&Jt.text(Ue);if(Ue===he)break;Ue=$e(!1)}},et=function(Oe,$e,Et,Jt,he){if(!mt(Oe,Et)){var Me=Oe.getParent(Jt,Oe.isBlock),Ue=new vt(Et,Me),lt=he?Ue.next.bind(Ue):Ue.prev.bind(Ue);er(Oe,lt,Et,{boundary:k,cef:k,text:function(_t){he?$e.fOffset+=_t.length:$e.sOffset+=_t.length,$e.elements.push(Rt.fromDom(_t))}})}},jt=function(Oe,$e,Et,Jt,he,Me){Me===void 0&&(Me=!0);var Ue=new vt(Et,$e),lt=[],_t=On();et(Oe,_t,Et,$e,!1);var Dt=function(){return _t.elements.length>0&&(lt.push(_t),_t=On()),!1};return er(Oe,Ue.next.bind(Ue),Et,{boundary:Dt,cef:function(En){return Dt(),he&&lt.push.apply(lt,he.cef(En)),!1},text:function(En){_t.elements.push(Rt.fromDom(En)),he&&he.text(En,_t)}},Jt,Me),Jt&&et(Oe,_t,Jt,$e,!0),Dt(),lt},Pt=function(Oe,$e){var Et=wn($e.startContainer,$e.startOffset),Jt=Et.element.dom,he=wn($e.endContainer,$e.endOffset),Me=he.element.dom;return jt(Oe,$e.commonAncestorContainer,Jt,Me,{text:function(Ue,lt){Ue===Me?lt.fOffset+=Ue.length-he.offset:Ue===Jt&&(lt.sOffset+=Et.offset)},cef:function(Ue){var lt=St(en(Rt.fromDom(Ue),"*[contenteditable=true]"),function(_t){var Dt=_t.dom;return jt(Oe,Dt,Dt)});return tt(lt,function(_t,Dt){return bt(_t.elements[0].dom,Dt.elements[0].dom)?1:-1})}},!1)},ln=function(Oe,$e){return $e.collapsed?[]:Pt(Oe,$e)},Kn=function(Oe,$e){var Et=Oe.createRng();return Et.selectNode($e),ln(Oe,Et)},Lr=function(Oe,$e){return St($e,function(Et){return Kn(Oe,Et)})},ei=function(Oe,$e,Et,Jt){Et===void 0&&(Et=0),Jt===void 0&&(Jt=Oe.length);var he=$e.regex;he.lastIndex=Et;for(var Me=[],Ue;Ue=he.exec(Oe);){var lt=Ue[$e.matchIndex],_t=Ue.index+Ue[0].indexOf(lt),Dt=_t+lt.length;if(Dt>Jt)break;Me.push({start:_t,finish:Dt}),he.lastIndex=Dt}return Me},Br=function(Oe,$e){var Et=ze(Oe,function(Jt,he){var Me=vn(he),Ue=Jt.last,lt=Ue+Me.length,_t=St($e,function(Dt,En){return Dt.start<lt&&Dt.finish>Ue?[{element:he,start:Math.max(Ue,Dt.start)-Ue,finish:Math.min(lt,Dt.finish)-Ue,matchId:En}]:[]});return{results:Jt.results.concat(_t),last:lt}},{results:[],last:0}).results;return Ce(Et,function(Jt){return Jt.matchId})},Vr=function(Oe,$e){return St($e,function(Et){var Jt=Et.elements,he=ce(Jt,vn).join(""),Me=ei(he,Oe,Et.sOffset,he.length-Et.fOffset);return Br(Jt,Me)})},ui=function(Oe,$e){Q(Oe,function(Et,Jt){Q(Et,function(he){var Me=Rt.fromDom($e.cloneNode(!1));Ye(Me,"data-mce-index",Jt);var Ue=he.element.dom;if(Ue.length===he.finish&&he.start===0)To(he.element,Me);else{Ue.length!==he.finish&&Ue.splitText(he.finish);var lt=Ue.splitText(he.start);To(Rt.fromDom(lt),Me)}})})},Ca=function(Oe,$e,Et,Jt){var he=Kn(Oe,Et),Me=Vr($e,he);return ui(Me,Jt),Me.length},Ui=function(Oe,$e,Et,Jt){var he=Et.getBookmark(),Me=Oe.select("td[data-mce-selected],th[data-mce-selected]"),Ue=Me.length>0?Lr(Oe,Me):ln(Oe,Et.getRng()),lt=Vr($e,Ue);return ui(lt,Jt),Et.moveToBookmark(he),lt.length},Si=function(Oe){var $e=Oe.getAttribute("data-mce-index");return typeof $e=="number"?""+$e:$e},Xi=function(Oe,$e,Et,Jt){var he=Oe.dom.create("span",{"data-mce-bogus":1});he.className="mce-match-marker";var Me=Oe.getBody();return oa(Oe,$e,!1),Jt?Ui(Oe.dom,Et,Oe.selection,he):Ca(Oe.dom,Et,Me,he)},Ia=function(Oe){var $e=Oe.parentNode;Oe.firstChild&&$e.insertBefore(Oe.firstChild,Oe),Oe.parentNode.removeChild(Oe)},Zi=function(Oe,$e){var Et=[],Jt=te.toArray(Oe.getBody().getElementsByTagName("span"));if(Jt.length)for(var he=0;he<Jt.length;he++){var Me=Si(Jt[he]);Me===null||!Me.length||Me===$e.toString()&&Et.push(Jt[he])}return Et},Bi=function(Oe,$e,Et){var Jt=$e.get(),he=Jt.index,Me=Oe.dom;Et=Et!==!1,Et?he+1===Jt.count?he=0:he++:he-1===-1?he=Jt.count-1:he--,Me.removeClass(Zi(Oe,Jt.index),"mce-match-marker-selected");var Ue=Zi(Oe,he);return Ue.length?(Me.addClass(Zi(Oe,he),"mce-match-marker-selected"),Oe.selection.scrollIntoView(Ue[0]),he):-1},Ra=function(Oe,$e){var Et=$e.parentNode;Oe.remove($e),Oe.isEmpty(Et)&&Oe.remove(Et)},co=function(Oe,$e){var Et=Oe.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Jt="("+Et+")";return $e?"(?:^|\\s|"+Y()+")"+Jt+("(?=$|\\s|"+Y()+")"):Jt},Pa=function(Oe,$e,Et,Jt,he,Me){var Ue=Oe.selection,lt=co(Et,he),_t=Ue.isForward(),Dt={regex:new RegExp(lt,Jt?"g":"gi"),matchIndex:1},En=Xi(Oe,$e,Dt,Me);if(ae.browser.isSafari()&&Ue.setRng(Ue.getRng(),_t),En){var Wn=Bi(Oe,$e,!0);$e.set({index:Wn,count:En,text:Et,matchCase:Jt,wholeWord:he,inSelection:Me})}return En},dr=function(Oe,$e){var Et=Bi(Oe,$e,!0);$e.set(t(t({},$e.get()),{index:Et}))},Hu=function(Oe,$e){var Et=Bi(Oe,$e,!1);$e.set(t(t({},$e.get()),{index:Et}))},ba=function(Oe){var $e=Si(Oe);return $e!==null&&$e.length>0},Ua=function(Oe,$e,Et,Jt,he){var Me=$e.get(),Ue=Me.index,lt,_t=Ue;Jt=Jt!==!1;for(var Dt=Oe.getBody(),En=te.grep(te.toArray(Dt.getElementsByTagName("span")),ba),Wn=0;Wn<En.length;Wn++){var _r=Si(En[Wn]),It=lt=parseInt(_r,10);if(he||It===Me.index){for(Et.length?(En[Wn].firstChild.nodeValue=Et,Ia(En[Wn])):Ra(Oe.dom,En[Wn]);En[++Wn];)if(It=parseInt(Si(En[Wn]),10),It===lt)Ra(Oe.dom,En[Wn]);else{Wn--;break}Jt&&_t--}else lt>Ue&&En[Wn].setAttribute("data-mce-index",String(lt-1))}return $e.set(t(t({},Me),{count:he?0:Me.count-1,index:_t})),Jt?dr(Oe,$e):Hu(Oe,$e),!he&&$e.get().count>0},oa=function(Oe,$e,Et){for(var Jt,he,Me=$e.get(),Ue=te.toArray(Oe.getBody().getElementsByTagName("span")),lt=0;lt<Ue.length;lt++){var _t=Si(Ue[lt]);_t!==null&&_t.length&&(_t===Me.index.toString()&&(Jt||(Jt=Ue[lt].firstChild),he=Ue[lt].firstChild),Ia(Ue[lt]))}if($e.set(t(t({},Me),{index:-1,count:0,text:""})),Jt&&he){var Dt=Oe.dom.createRng();return Dt.setStart(Jt,0),Dt.setEnd(he,he.data.length),Et!==!1&&Oe.selection.setRng(Dt),Dt}},Ja=function(Oe,$e){return $e.get().count>1},Vu=function(Oe,$e){return $e.get().count>1},Qa=function(Oe,$e){var Et=function(lt){return oa(Oe,$e,lt)},Jt=function(lt,_t,Dt,En){return En===void 0&&(En=!1),Pa(Oe,$e,lt,_t,Dt,En)},he=function(){return dr(Oe,$e)},Me=function(){return Hu(Oe,$e)},Ue=function(lt,_t,Dt){return Ua(Oe,$e,lt,_t,Dt)};return{done:Et,find:Jt,next:he,prev:Me,replace:Ue}},ws=function(Oe){var $e=n(X.none()),Et=function(){return $e.get().each(Oe)},Jt=function(){Et(),$e.set(X.none())},he=function(){return $e.get().isSome()},Me=function(){return $e.get()},Ue=function(lt){Et(),$e.set(X.some(lt))};return{clear:Jt,isSet:he,get:Me,set:Ue}},Pe=function(){var Oe=ws(y),$e=function(Et){return Oe.get().each(Et)};return t(t({},Oe),{on:$e})},it=function(Oe,$e){var Et=Pe();Oe.undoManager.add();var Jt=te.trim(Oe.selection.getContent({format:"text"})),he=function(mr){var qr=Ja(Oe,$e)?mr.enable:mr.disable;qr("next");var Wo=Vu(Oe,$e)?mr.enable:mr.disable;Wo("prev")},Me=function(mr){var qr=mr.getData(),Wo=$e.get();$e.set(t(t({},Wo),{matchCase:qr.matchcase,wholeWord:qr.wholewords,inSelection:qr.inselection}))},Ue=function(mr,qr){var Wo=["replace","replaceall","prev","next"],ea=qr?mr.disable:mr.enable;ne(Wo,ea)},lt=function(mr){Oe.windowManager.alert("Could not find the specified string.",function(){mr.focus("findtext")})},_t=function(mr,qr){ae.browser.isSafari()&&ae.deviceType.isTouch()&&(qr==="find"||qr==="replace"||qr==="replaceall")&&mr.focus(qr)},Dt=function(mr){oa(Oe,$e,!1),Ue(mr,!0),he(mr)},En=function(mr){var qr=mr.getData(),Wo=$e.get();if(!qr.findtext.length){Dt(mr);return}if(Wo.text===qr.findtext&&Wo.matchCase===qr.matchcase&&Wo.wholeWord===qr.wholewords)dr(Oe,$e);else{var ea=Pa(Oe,$e,qr.findtext,qr.matchcase,qr.wholewords,qr.inselection);ea<=0&&lt(mr),Ue(mr,ea===0)}he(mr)},Wn=$e.get(),_r={findtext:Jt,replacetext:"",wholewords:Wn.wholeWord,matchcase:Wn.matchCase,inselection:Wn.inSelection},It={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:_r,onChange:function(mr,qr){qr.name==="findtext"&&$e.get().count>0&&Dt(mr)},onAction:function(mr,qr){var Wo=mr.getData();switch(qr.name){case"find":En(mr);break;case"replace":Ua(Oe,$e,Wo.replacetext)?he(mr):Dt(mr);break;case"replaceall":Ua(Oe,$e,Wo.replacetext,!0,!0),Dt(mr);break;case"prev":Hu(Oe,$e),he(mr);break;case"next":dr(Oe,$e),he(mr);break;case"matchcase":case"wholewords":case"inselection":Me(mr),Dt(mr);break}_t(mr,qr.name)},onSubmit:function(mr){En(mr),_t(mr,"find")},onClose:function(){Oe.focus(),oa(Oe,$e),Oe.undoManager.add()}};Et.set(Oe.windowManager.open(It,{inline:"toolbar"}))},He=function(Oe,$e){Oe.addCommand("SearchReplace",function(){it(Oe,$e)})},At=function(Oe,$e){return function(){it(Oe,$e)}},Rn=function(Oe,$e){Oe.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:At(Oe,$e),icon:"search"}),Oe.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:At(Oe,$e),icon:"search"}),Oe.shortcuts.add("Meta+F","",At(Oe,$e))};function tr(){e.add("searchreplace",function(Oe){var $e=n({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return He(Oe,$e),Rn(Oe,$e),Qa(Oe,$e)})}tr()})();(function(){var n=function(Ze){var kt=Ze,Ot=function(){return kt},Nt=function(fe){kt=fe};return{get:Ot,set:Nt}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(Ze){return Ze.hasPlugin("tinymcespellchecker",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},r=Object.hasOwnProperty,i=function(Ze){for(var kt in Ze)if(r.call(Ze,kt))return!1;return!0},u=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=tinymce.util.Tools.resolve("tinymce.util.URI"),f=tinymce.util.Tools.resolve("tinymce.util.XHR"),h=function(Ze){return Ze.fire("SpellcheckStart")},g=function(Ze){return Ze.fire("SpellcheckEnd")},y=function(Ze){var kt="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return Ze.getParam("spellchecker_languages",kt)},b=function(Ze){var kt=Ze.getParam("language","en");return Ze.getParam("spellchecker_language",kt)},S=function(Ze){return Ze.getParam("spellchecker_rpc_url")},_=function(Ze){return Ze.getParam("spellchecker_callback")},k=function(Ze){var kt=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`]+',"g");return Ze.getParam("spellchecker_wordchar_pattern",kt)},A=function(Ze){return Ze&&Ze.nodeType===1&&Ze.contentEditable==="false"},R=function(Ze,kt){var Ot,Nt=[],fe=kt.dom,Yt=kt.schema.getBlockElements(),Ye=kt.schema.getWhiteSpaceElements(),je=kt.schema.getShortEndedElements(),bt=function(vt,Tt){if(!vt[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:vt.index,end:vt.index+vt[0].length,text:vt[0],data:Tt}},qe=function(vt){if(vt.nodeType===3)return vt.data;if(Ye[vt.nodeName]&&!Yt[vt.nodeName])return"";if(A(vt))return`
`;var Tt="";if((Yt[vt.nodeName]||je[vt.nodeName])&&(Tt+=`
`),vt=vt.firstChild)do Tt+=qe(vt);while(vt=vt.nextSibling);return Tt},Je=function(vt,Tt,hn){var Bn,bn,mt,an,On=[],wn=0,er=vt,et,jt=0;Tt=Tt.slice(0),Tt.sort(function(Pt,ln){return Pt.start-ln.start}),et=Tt.shift();e:for(;;){if((Yt[er.nodeName]||je[er.nodeName]||A(er))&&wn++,er.nodeType===3&&(!bn&&er.length+wn>=et.end?(bn=er,an=et.end-wn):Bn&&On.push(er),!Bn&&er.length+wn>et.start&&(Bn=er,mt=et.start-wn),wn+=er.length),Bn&&bn){if(er=hn({startNode:Bn,startNodeIndex:mt,endNode:bn,endNodeIndex:an,innerNodes:On,match:et.text,matchIndex:jt}),wn-=bn.length-an,Bn=null,bn=null,On=[],et=Tt.shift(),jt++,!et)break}else if((!Ye[er.nodeName]||Yt[er.nodeName])&&er.firstChild){if(!A(er)){er=er.firstChild;continue}}else if(er.nextSibling){er=er.nextSibling;continue}for(;;)if(er.nextSibling){er=er.nextSibling;break}else if(er.parentNode!==vt)er=er.parentNode;else break e}},st=function(vt){var Tt=function(hn,Bn){var bn=Nt[Bn];bn.stencil||(bn.stencil=vt(bn));var mt=bn.stencil.cloneNode(!1);return mt.setAttribute("data-mce-index",""+Bn),hn&&mt.appendChild(fe.doc.createTextNode(hn)),mt};return function(hn){var Bn,bn,mt,an=hn.startNode,On=hn.endNode,wn=hn.matchIndex,er=fe.doc;if(an===On){var et=an;mt=et.parentNode,hn.startNodeIndex>0&&(Bn=er.createTextNode(et.data.substring(0,hn.startNodeIndex)),mt.insertBefore(Bn,et));var jt=Tt(hn.match,wn);return mt.insertBefore(jt,et),hn.endNodeIndex<et.length&&(bn=er.createTextNode(et.data.substring(hn.endNodeIndex)),mt.insertBefore(bn,et)),et.parentNode.removeChild(et),jt}Bn=er.createTextNode(an.data.substring(0,hn.startNodeIndex)),bn=er.createTextNode(On.data.substring(hn.endNodeIndex));for(var Pt=Tt(an.data.substring(hn.startNodeIndex),wn),ln=0,Kn=hn.innerNodes.length;ln<Kn;++ln){var Lr=hn.innerNodes[ln],ei=Tt(Lr.data,wn);Lr.parentNode.replaceChild(ei,Lr)}var Br=Tt(On.data.substring(0,hn.endNodeIndex),wn);return mt=an.parentNode,mt.insertBefore(Bn,an),mt.insertBefore(Pt,an),mt.removeChild(an),mt=On.parentNode,mt.insertBefore(Br,On),mt.insertBefore(bn,On),mt.removeChild(On),Br}},Ft=function(vt){for(var Tt=vt.parentNode;vt.childNodes.length>0;)Tt.insertBefore(vt.childNodes[0],vt);Tt.removeChild(vt)},Ct=function(vt){return vt.className.indexOf("mce-spellchecker-word")!==-1},Rt=function(vt){var Tt=Ze.getElementsByTagName("*"),hn=[];vt=typeof vt=="number"?""+vt:null;for(var Bn=0;Bn<Tt.length;Bn++){var bn=Tt[Bn],mt=bn.getAttribute("data-mce-index");mt!==null&&mt.length&&Ct(bn)&&(mt===vt||vt===null)&&hn.push(bn)}return hn},ur=function(vt){for(var Tt=Nt.length;Tt--;)if(Nt[Tt]===vt)return Tt;return-1};function Ke(vt){var Tt=[];return Bt(function(hn,Bn){vt(hn,Bn)&&Tt.push(hn)}),Nt=Tt,this}function Bt(vt){for(var Tt=0,hn=Nt.length;Tt<hn&&vt(Nt[Tt],Tt)!==!1;Tt++);return this}function Mn(vt){return Nt.length&&Je(Ze,Nt,st(vt)),this}function Zt(vt,Tt){if(en&&vt.global)for(;Ot=vt.exec(en);)Nt.push(bt(Ot,Tt));return this}function Qn(vt){var Tt,hn=Rt(vt?ur(vt):null);for(Tt=hn.length;Tt--;)Ft(hn[Tt]);return this}var pr=function(vt){return Nt[vt.getAttribute("data-mce-index")]},ao=function(vt){return Rt(ur(vt))[0]};function To(vt,Tt,hn){return Nt.push({start:vt,end:vt+Tt,text:en.substr(vt,Tt),data:hn}),this}var Go=function(vt){var Tt=Rt(ur(vt)),hn=kt.dom.createRng();return hn.setStartBefore(Tt[0]),hn.setEndAfter(Tt[Tt.length-1]),hn},gn=function(vt,Tt){var hn=Go(vt);return hn.deleteContents(),Tt.length>0&&hn.insertNode(kt.dom.doc.createTextNode(Tt)),hn};function vn(){return Nt.splice(0,Nt.length),Qn(),this}var en=qe(Ze);return{text:en,matches:Nt,each:Bt,filter:Ke,reset:vn,matchFromElement:pr,elementFromMatch:ao,find:Zt,add:To,wrap:Mn,unwrap:Qn,replace:gn,rangeFromMatch:Go,indexOf:ur}},I=function(Ze,kt){if(!kt.get()){var Ot=R(Ze.getBody(),Ze);kt.set(Ot)}return kt.get()},z=function(Ze,kt,Ot){return function(Nt,fe,Yt,Ye){var je={method:Nt,lang:Ot.get()},bt="";je[Nt==="addToDictionary"?"word":"text"]=fe,u.each(je,function(qe,Je){bt&&(bt+="&"),bt+=Je+"="+encodeURIComponent(qe)}),f.send({url:new l(kt).toAbsolute(S(Ze)),type:"post",content_type:"application/x-www-form-urlencoded",data:bt,success:function(qe){var Je=JSON.parse(qe);if(Je)Je.error?Ye(Je.error):Yt(Je);else{var st=Ze.translate("Server response wasn't proper JSON.");Ye(st)}},error:function(){var qe=Ze.translate("The spelling service was not found: (")+S(Ze)+Ze.translate(")");Ye(qe)}})}},L=function(Ze,kt,Ot,Nt,fe,Yt,Ye){var je=_(Ze),bt=je||z(Ze,kt,Ot);bt.call(Ze.plugins.spellchecker,Nt,fe,Yt,Ye)},q=function(Ze,kt,Ot,Nt,fe,Yt){if(!te(Ze,Ot,Nt)){var Ye=function(bt){Ze.notificationManager.open({text:bt,type:"error"}),Ze.setProgressState(!1),te(Ze,Ot,Nt)},je=function(bt){ce(Ze,Ot,Nt,fe,bt)};Ze.setProgressState(!0),L(Ze,kt,Yt,"spellcheck",I(Ze,Nt).text,je,Ye),Ze.focus()}},X=function(Ze,kt,Ot){Ze.dom.select("span.mce-spellchecker-word").length||te(Ze,kt,Ot)},Y=function(Ze,kt,Ot,Nt,fe,Yt,Ye){Ze.setProgressState(!0),L(Ze,kt,fe,"addToDictionary",Yt,function(){Ze.setProgressState(!1),Ze.dom.remove(Ye,!0),X(Ze,Ot,Nt)},function(je){Ze.notificationManager.open({text:je,type:"error"}),Ze.setProgressState(!1)})},ae=function(Ze,kt,Ot,Nt,fe,Yt){Ze.selection.collapse(),Yt?u.each(Ze.dom.select("span.mce-spellchecker-word"),function(Ye){Ye.getAttribute("data-mce-word")===Nt&&Ze.dom.remove(Ye,!0)}):Ze.dom.remove(fe,!0),X(Ze,kt,Ot)},te=function(Ze,kt,Ot){var Nt=Ze.selection.getBookmark();if(I(Ze,Ot).reset(),Ze.selection.moveToBookmark(Nt),Ot.set(null),kt.get())return kt.set(!1),g(Ze),!0},ie=function(Ze){var kt=Ze.getAttribute("data-mce-index");return typeof kt=="number"?""+kt:kt},le=function(Ze,kt){var Ot=[],Nt=u.toArray(Ze.getBody().getElementsByTagName("span"));if(Nt.length)for(var fe=0;fe<Nt.length;fe++){var Yt=ie(Nt[fe]);Yt===null||!Yt.length||Yt===kt.toString()&&Ot.push(Nt[fe])}return Ot},ce=function(Ze,kt,Ot,Nt,fe){var Yt=!!fe.dictionary,Ye=fe.words;if(Ze.setProgressState(!1),i(Ye)){var je=Ze.translate("No misspellings found.");Ze.notificationManager.open({text:je,type:"info"}),kt.set(!1);return}Nt.set({suggestions:Ye,hasDictionarySupport:Yt});var bt=Ze.selection.getBookmark();I(Ze,Ot).find(k(Ze)).filter(function(qe){return!!Ye[qe.text]}).wrap(function(qe){return Ze.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":qe.text})}),Ze.selection.moveToBookmark(bt),kt.set(!0),h(Ze)},ne=function(Ze,kt,Ot,Nt,fe){var Yt=function(){return k(Ze)},Ye=function(je){ce(Ze,kt,Nt,Ot,je)};return{getTextMatcher:Nt.get,getWordCharPattern:Yt,markErrors:Ye,getLanguage:fe.get}},Q=function(Ze,kt,Ot,Nt,fe,Yt){Ze.addCommand("mceSpellCheck",function(){q(Ze,kt,Ot,Nt,fe,Yt)})},Ce=function(){return Ce=Object.assign||function(Ze){for(var kt,Ot=1,Nt=arguments.length;Ot<Nt;Ot++){kt=arguments[Ot];for(var fe in kt)Object.prototype.hasOwnProperty.call(kt,fe)&&(Ze[fe]=kt[fe])}return Ze},Ce.apply(this,arguments)},ze="SpellcheckStart SpellcheckEnd",ke=function(Ze,kt){var Ot=[];return u.each(kt,function(Nt){Ot.push({selectable:!0,text:Nt.name,data:Nt.value})}),Ot},St=function(Ze){return u.map(y(Ze).split(","),function(kt){var Ot=kt.split("=");return{name:Ot[0],value:Ot[1]}})},tt=function(Ze,kt,Ot,Nt,fe,Yt){var Ye=ke("Language",St(Ze)),je=function(){q(Ze,kt,Ot,Nt,Yt,fe)},bt={tooltip:"Spellcheck",onAction:je,icon:"spell-check",onSetup:function(Je){var st=function(){Je.setActive(Ot.get())};return Ze.on(ze,st),function(){Ze.off(ze,st)}}},qe=Ce(Ce({},bt),{type:"splitbutton",select:function(Je){return Je===fe.get()},fetch:function(Je){var st=u.map(Ye,function(Ft){return{type:"choiceitem",value:Ft.data,text:Ft.text}});Je(st)},onItemAction:function(Je,st){fe.set(st)}});Ye.length>1?Ze.ui.registry.addSplitButton("spellchecker",qe):Ze.ui.registry.addToggleButton("spellchecker",bt),Ze.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(Je){Je.setActive(Ot.get());var st=function(){Je.setActive(Ot.get())};return Ze.on(ze,st),function(){Ze.off(ze,st)}},onAction:je})},G=!0,We=function(Ze,kt,Ot,Nt,fe,Yt,Ye,je){var bt=[],qe=Ot.get().suggestions[Ye];u.each(qe,function(st){bt.push({text:st,onAction:function(){Ze.insertContent(Ze.dom.encode(st)),Ze.dom.remove(je),X(Ze,Nt,fe)}})});var Je=Ot.get().hasDictionarySupport;return Je&&(bt.push({type:"separator"}),bt.push({text:"Add to dictionary",onAction:function(){Y(Ze,kt,Nt,fe,Yt,Ye,je)}})),bt.push.apply(bt,[{type:"separator"},{text:"Ignore",onAction:function(){ae(Ze,Nt,fe,Ye,je)}},{text:"Ignore all",onAction:function(){ae(Ze,Nt,fe,Ye,je,G)}}]),bt},Ge=function(Ze,kt,Ot,Nt,fe,Yt){var Ye=function(je){var bt=je;if(bt.className==="mce-spellchecker-word"){var qe=le(Ze,ie(bt));if(qe.length>0){var Je=Ze.dom.createRng();return Je.setStartBefore(qe[0]),Je.setEndAfter(qe[qe.length-1]),Ze.selection.setRng(Je),We(Ze,kt,Ot,Nt,fe,Yt,bt.getAttribute("data-mce-word"),qe)}}else return[]};Ze.ui.registry.addContextMenu("spellchecker",{update:Ye})};function pt(){e.add("spellchecker",function(Ze,kt){if(t(Ze)===!1){var Ot=n(!1),Nt=n(b(Ze)),fe=n(null),Yt=n(null);return tt(Ze,kt,Ot,fe,Nt,Yt),Ge(Ze,kt,Yt,Ot,fe,Nt),Q(Ze,kt,Ot,fe,Yt,Nt),ne(Ze,Ot,Yt,fe,Nt)}})}pt()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),t=tinymce.util.Tools.resolve("tinymce.EditorManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Delay"),u=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=tinymce.util.Tools.resolve("tinymce.util.VK"),f=function(_){return _.getParam("tabfocus_elements",":prev,:next")},h=function(_){return _.getParam("tab_focus",f(_))},g=e.DOM,y=function(_){_.keyCode===l.TAB&&!_.ctrlKey&&!_.altKey&&!_.metaKey&&_.preventDefault()},b=function(_){var k=function(A){var R;if(!(A.keyCode!==l.TAB||A.ctrlKey||A.altKey||A.metaKey||A.isDefaultPrevented())){var I=function(X){var Y=g.select(":input:enabled,*[tabindex]:not(iframe)"),ae=function(le){var ce=le;return le.nodeName==="BODY"||ce.type!=="hidden"&&ce.style.display!=="none"&&ce.style.visibility!=="hidden"&&ae(le.parentNode)},te=function(le){return/INPUT|TEXTAREA|BUTTON/.test(le.tagName)&&t.get(A.id)&&le.tabIndex!==-1&&ae(le)};if(u.each(Y,function(le,ce){if(le.id===_.id)return R=ce,!1}),X>0){for(var ie=R+1;ie<Y.length;ie++)if(te(Y[ie]))return Y[ie]}else for(var ie=R-1;ie>=0;ie--)if(te(Y[ie]))return Y[ie];return null},z=u.explode(h(_));z.length===1&&(z[1]=z[0],z[0]=":prev");var L;if(A.shiftKey?z[0]===":prev"?L=I(-1):L=g.get(z[0]):z[1]===":next"?L=I(1):L=g.get(z[1]),L){var q=t.get(L.id||L.name);L.id&&q?q.focus():i.setTimeout(function(){r.webkit||window.focus(),L.focus()},10),A.preventDefault()}}};_.on("init",function(){_.inline&&g.setAttrib(_.getBody(),"tabIndex",null),_.on("keyup",y),r.gecko?_.on("keypress keydown",k):_.on("keydown",k)})};function S(){n.add("tabfocus",function(_){b(_)})}S()})();(function(){var n=function(v){var C=typeof v;return v===null?"null":C==="object"&&(Array.prototype.isPrototypeOf(v)||v.constructor&&v.constructor.name==="Array")?"array":C==="object"&&(String.prototype.isPrototypeOf(v)||v.constructor&&v.constructor.name==="String")?"string":C},e=function(v){return function(C){return n(C)===v}},t=function(v){return function(C){return typeof C===v}},r=function(v){return function(C){return v===C}},i=e("string"),u=e("object"),l=e("array"),f=r(null),h=t("boolean"),g=r(void 0),y=function(v){return v==null},b=function(v){return!y(v)},S=t("function"),_=t("number"),k=function(){},A=function(v,C){return function(){for(var D=[],P=0;P<arguments.length;P++)D[P]=arguments[P];return v(C.apply(null,D))}},R=function(v,C){return function(D){return v(C(D))}},I=function(v){return function(){return v}},z=function(v){return v},L=function(v,C){return v===C};function q(v){for(var C=[],D=1;D<arguments.length;D++)C[D-1]=arguments[D];return function(){for(var P=[],F=0;F<arguments.length;F++)P[F]=arguments[F];var $=C.concat(P);return v.apply(null,$)}}var X=function(v){return function(C){return!v(C)}},Y=function(v){return function(){throw new Error(v)}},ae=I(!1),te=I(!0),ie=function(){return le},le=function(){var v=function(P){return P()},C=z,D={fold:function(P,F){return P()},isSome:ae,isNone:te,getOr:C,getOrThunk:v,getOrDie:function(P){throw new Error(P||"error: getOrDie called on none.")},getOrNull:I(null),getOrUndefined:I(void 0),or:C,orThunk:v,map:ie,each:k,bind:ie,exists:ae,forall:te,filter:function(){return ie()},toArray:function(){return[]},toString:I("none()")};return D}(),ce=function(v){var C=I(v),D=function(){return F},P=function($){return $(v)},F={fold:function($,re){return re(v)},isSome:te,isNone:ae,getOr:C,getOrThunk:C,getOrDie:C,getOrNull:C,getOrUndefined:C,or:D,orThunk:D,map:function($){return ce($(v))},each:function($){$(v)},bind:P,exists:P,forall:P,filter:function($){return $(v)?F:le},toArray:function(){return[v]},toString:function(){return"some("+v+")"}};return F},ne=function(v){return v==null?le:ce(v)},Q={some:ce,none:ie,from:ne},Ce=Array.prototype.slice,ze=Array.prototype.indexOf,ke=Array.prototype.push,St=function(v,C){return ze.call(v,C)},tt=function(v,C){return St(v,C)>-1},G=function(v,C){for(var D=0,P=v.length;D<P;D++){var F=v[D];if(C(F,D))return!0}return!1},We=function(v,C){for(var D=[],P=0;P<v;P++)D.push(C(P));return D},Ge=function(v,C){for(var D=v.length,P=new Array(D),F=0;F<D;F++){var $=v[F];P[F]=C($,F)}return P},pt=function(v,C){for(var D=0,P=v.length;D<P;D++){var F=v[D];C(F,D)}},Ze=function(v,C){for(var D=v.length-1;D>=0;D--){var P=v[D];C(P,D)}},kt=function(v,C){for(var D=[],P=[],F=0,$=v.length;F<$;F++){var re=v[F],de=C(re,F)?D:P;de.push(re)}return{pass:D,fail:P}},Ot=function(v,C){for(var D=[],P=0,F=v.length;P<F;P++){var $=v[P];C($,P)&&D.push($)}return D},Nt=function(v,C,D){return Ze(v,function(P,F){D=C(D,P,F)}),D},fe=function(v,C,D){return pt(v,function(P,F){D=C(D,P,F)}),D},Yt=function(v,C,D){for(var P=0,F=v.length;P<F;P++){var $=v[P];if(C($,P))return Q.some($);if(D($,P))break}return Q.none()},Ye=function(v,C){return Yt(v,C,ae)},je=function(v,C){for(var D=0,P=v.length;D<P;D++){var F=v[D];if(C(F,D))return Q.some(D)}return Q.none()},bt=function(v){for(var C=[],D=0,P=v.length;D<P;++D){if(!l(v[D]))throw new Error("Arr.flatten item "+D+" was not an array, input: "+v);ke.apply(C,v[D])}return C},qe=function(v,C){return bt(Ge(v,C))},Je=function(v,C){for(var D=0,P=v.length;D<P;++D){var F=v[D];if(C(F,D)!==!0)return!1}return!0},st=function(v){var C=Ce.call(v,0);return C.reverse(),C},Ft=function(v,C){for(var D={},P=0,F=v.length;P<F;P++){var $=v[P];D[String($)]=C($,P)}return D},Ct=function(v){return[v]},Rt=function(v,C){var D=Ce.call(v,0);return D.sort(C),D},ur=function(v,C){return C>=0&&C<v.length?Q.some(v[C]):Q.none()},Ke=function(v){return ur(v,0)},Bt=function(v){return ur(v,v.length-1)},Mn=function(v,C){for(var D=0;D<v.length;D++){var P=C(v[D],D);if(P.isSome())return P}return Q.none()},Zt=function(){return Zt=Object.assign||function(v){for(var C,D=1,P=arguments.length;D<P;D++){C=arguments[D];for(var F in C)Object.prototype.hasOwnProperty.call(C,F)&&(v[F]=C[F])}return v},Zt.apply(this,arguments)};function Qn(v,C,D){if(D||arguments.length===2)for(var P=0,F=C.length,$;P<F;P++)($||!(P in C))&&($||($=Array.prototype.slice.call(C,0,P)),$[P]=C[P]);return v.concat($||Array.prototype.slice.call(C))}var pr=function(v){var C=!1,D;return function(){for(var P=[],F=0;F<arguments.length;F++)P[F]=arguments[F];return C||(C=!0,D=v.apply(null,P)),D}},ao=function(v,C,D,P){var F=v.isiOS()&&/ipad/i.test(D)===!0,$=v.isiOS()&&!F,re=v.isiOS()||v.isAndroid(),de=re||P("(pointer:coarse)"),Se=F||!$&&re&&P("(min-device-width:768px)"),Le=$||re&&!Se,ot=C.isSafari()&&v.isiOS()&&/safari/i.test(D)===!1,$t=!Le&&!Se&&!ot;return{isiPad:I(F),isiPhone:I($),isTablet:I(Se),isPhone:I(Le),isTouch:I(de),isAndroid:v.isAndroid,isiOS:v.isiOS,isWebView:I(ot),isDesktop:I($t)}},To=function(v,C){for(var D=0;D<v.length;D++){var P=v[D];if(P.test(C))return P}},Go=function(v,C){var D=To(v,C);if(!D)return{major:0,minor:0};var P=function(F){return Number(C.replace(D,"$"+F))};return en(P(1),P(2))},gn=function(v,C){var D=String(C).toLowerCase();return v.length===0?vn():Go(v,D)},vn=function(){return en(0,0)},en=function(v,C){return{major:v,minor:C}},vt={nu:en,detect:gn,unknown:vn},Tt=function(v,C){return Mn(C.brands,function(D){var P=D.brand.toLowerCase();return Ye(v,function(F){var $;return P===(($=F.brand)===null||$===void 0?void 0:$.toLowerCase())}).map(function(F){return{current:F.name,version:vt.nu(parseInt(D.version,10),0)}})})},hn=function(v,C){var D=String(C).toLowerCase();return Ye(v,function(P){return P.search(D)})},Bn=function(v,C){return hn(v,C).map(function(D){var P=vt.detect(D.versionRegexes,C);return{current:D.name,version:P}})},bn=function(v,C){return hn(v,C).map(function(D){var P=vt.detect(D.versionRegexes,C);return{current:D.name,version:P}})},mt=function(v,C){return v.substring(C)},an=function(v,C,D){return C===""||v.length>=C.length&&v.substr(D,D+C.length)===C},On=function(v,C){return er(v,C)?mt(v,C.length):v},wn=function(v,C){return v.indexOf(C)!==-1},er=function(v,C){return an(v,C,0)},et=function(v,C){return an(v,C,v.length-C.length)},jt=function(v){return function(C){return C.replace(v,"")}},Pt=jt(/^\s+|\s+$/g),ln=function(v){return v.length>0},Kn=function(v){return!ln(v)},Lr=function(v){var C=parseFloat(v);return isNaN(C)?Q.none():Q.some(C)},ei=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Br=function(v){return function(C){return wn(C,v)}},Vr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(v){return wn(v,"edge/")&&wn(v,"chrome")&&wn(v,"safari")&&wn(v,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ei],search:function(v){return wn(v,"chrome")&&!wn(v,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(v){return wn(v,"msie")||wn(v,"trident")}},{name:"Opera",versionRegexes:[ei,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Br("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Br("firefox")},{name:"Safari",versionRegexes:[ei,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(v){return(wn(v,"safari")||wn(v,"mobile/"))&&wn(v,"applewebkit")}}],ui=[{name:"Windows",search:Br("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(v){return wn(v,"iphone")||wn(v,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Br("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Br("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Br("linux"),versionRegexes:[]},{name:"Solaris",search:Br("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Br("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Br("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ca={browsers:I(Vr),oses:I(ui)},Ui="Edge",Si="Chrome",Xi="IE",Ia="Opera",Zi="Firefox",Bi="Safari",Ra=function(){return co({current:void 0,version:vt.unknown()})},co=function(v){var C=v.current,D=v.version,P=function(F){return function(){return C===F}};return{current:C,version:D,isEdge:P(Ui),isChrome:P(Si),isIE:P(Xi),isOpera:P(Ia),isFirefox:P(Zi),isSafari:P(Bi)}},Pa={unknown:Ra,nu:co,edge:I(Ui),chrome:I(Si),ie:I(Xi),opera:I(Ia),firefox:I(Zi),safari:I(Bi)},dr="Windows",Hu="iOS",ba="Android",Ua="Linux",oa="OSX",Ja="Solaris",Vu="FreeBSD",Qa="ChromeOS",ws=function(){return Pe({current:void 0,version:vt.unknown()})},Pe=function(v){var C=v.current,D=v.version,P=function(F){return function(){return C===F}};return{current:C,version:D,isWindows:P(dr),isiOS:P(Hu),isAndroid:P(ba),isOSX:P(oa),isLinux:P(Ua),isSolaris:P(Ja),isFreeBSD:P(Vu),isChromeOS:P(Qa)}},it={unknown:ws,nu:Pe,windows:I(dr),ios:I(Hu),android:I(ba),linux:I(Ua),osx:I(oa),solaris:I(Ja),freebsd:I(Vu),chromeos:I(Qa)},He=function(v,C,D){var P=Ca.browsers(),F=Ca.oses(),$=C.bind(function(Se){return Tt(P,Se)}).orThunk(function(){return Bn(P,v)}).fold(Pa.unknown,Pa.nu),re=bn(F,v).fold(it.unknown,it.nu),de=ao(re,$,v,D);return{browser:$,os:re,deviceType:de}},At={detect:He},Rn=function(v){return window.matchMedia(v).matches},tr=pr(function(){return At.detect(navigator.userAgent,Q.from(navigator.userAgentData),Rn)}),Oe=function(){return tr()},$e=function(v,C,D){return(v.compareDocumentPosition(C)&D)!==0},Et=function(v,C){return $e(v,C,Node.DOCUMENT_POSITION_CONTAINED_BY)},Jt=8,he=9,Me=11,Ue=1,lt=3,_t=function(v,C){var D=C||document,P=D.createElement("div");if(P.innerHTML=v,!P.hasChildNodes()||P.childNodes.length>1)throw console.error("HTML does not have a single root node",v),new Error("HTML must have a single root node");return Wn(P.childNodes[0])},Dt=function(v,C){var D=C||document,P=D.createElement(v);return Wn(P)},En=function(v,C){var D=C||document,P=D.createTextNode(v);return Wn(P)},Wn=function(v){if(v==null)throw new Error("Node cannot be null or undefined");return{dom:v}},_r=function(v,C,D){return Q.from(v.dom.elementFromPoint(C,D)).map(Wn)},It={fromHtml:_t,fromTag:Dt,fromText:En,fromDom:Wn,fromPoint:_r},mr=function(v,C){var D=v.dom;if(D.nodeType!==Ue)return!1;var P=D;if(P.matches!==void 0)return P.matches(C);if(P.msMatchesSelector!==void 0)return P.msMatchesSelector(C);if(P.webkitMatchesSelector!==void 0)return P.webkitMatchesSelector(C);if(P.mozMatchesSelector!==void 0)return P.mozMatchesSelector(C);throw new Error("Browser lacks native selectors")},qr=function(v){return v.nodeType!==Ue&&v.nodeType!==he&&v.nodeType!==Me||v.childElementCount===0},Wo=function(v,C){var D=C===void 0?document:C.dom;return qr(D)?[]:Ge(D.querySelectorAll(v),It.fromDom)},ea=function(v,C){var D=C===void 0?document:C.dom;return qr(D)?Q.none():Q.from(D.querySelector(v)).map(It.fromDom)},ro=function(v,C){return v.dom===C.dom},Fs=function(v,C){var D=v.dom,P=C.dom;return D===P?!1:D.contains(P)},_s=function(v,C){return Et(v.dom,C.dom)},Yi=function(v,C){return Oe().browser.isIE()?_s(v,C):Fs(v,C)},Ul=mr,vu=Object.keys,Eu=Object.hasOwnProperty,pi=function(v,C){for(var D=vu(v),P=0,F=D.length;P<F;P++){var $=D[P],re=v[$];C(re,$)}},Wl=function(v,C){return nl(v,function(D,P){return{k:P,v:C(D,P)}})},nl=function(v,C){var D={};return pi(v,function(P,F){var $=C(P,F);D[$.k]=$.v}),D},Sl=function(v){return function(C,D){v[D]=C}},gc=function(v,C,D,P){var F={};return pi(v,function($,re){(C($,re)?D:P)($,re)}),F},Ou=function(v,C){var D={};return gc(v,C,Sl(D),k),D},os=function(v,C){var D=[];return pi(v,function(P,F){D.push(C(P,F))}),D},vc=function(v){return os(v,z)},ju=function(v){return vu(v).length},Iu=function(v,C){return we(v,C)?Q.from(v[C]):Q.none()},we=function(v,C){return Eu.call(v,C)},rt=function(v,C){return we(v,C)&&v[C]!==void 0&&v[C]!==null},wt=function(v){for(var C in v)if(Eu.call(v,C))return!1;return!0},tn=["tfoot","thead","tbody","colgroup"],kn=function(v){return tt(tn,v)},yr=function(v,C){return{rows:v,columns:C}},jo=function(v,C){return{row:v,column:C}},ti=function(v,C,D){return{element:v,rowspan:C,colspan:D}},uo=function(v,C,D,P){return{element:v,rowspan:C,colspan:D,isNew:P}},yi=function(v,C,D,P,F,$){return{element:v,rowspan:C,colspan:D,row:P,column:F,isLocked:$}},zi=function(v,C,D){return{element:v,cells:C,section:D}},rl=function(v,C,D,P){return{element:v,cells:C,section:D,isNew:P}},Wa=function(v,C,D){return{element:v,isNew:C,isLocked:D}},Hs=function(v,C,D,P){return{element:v,cells:C,section:D,isNew:P}},Cr=function(v,C,D,P){return{startRow:v,startCol:C,finishRow:D,finishCol:P}},Cl=function(v,C,D){return{element:v,colspan:C,column:D}},Xf=function(v,C){return{element:v,columns:C}};typeof window<"u"||Function("return this;")();var Oo=function(v){var C=v.dom.nodeName;return C.toLowerCase()},ff=function(v){return v.dom.nodeType},df=function(v){return function(C){return ff(C)===v}},Pd=function(v){return ff(v)===Jt||Oo(v)==="#comment"},si=df(Ue),is=df(lt),Ah=df(he),Ss=df(Me),ia=function(v){return function(C){return si(C)&&Oo(C)===v}},ql=function(v){return It.fromDom(v.dom.ownerDocument)},qt=function(v){return Ah(v)?v:ql(v)},yc=function(v){return It.fromDom(qt(v).dom.defaultView)},aa=function(v){return Q.from(v.dom.parentNode).map(It.fromDom)},Yf=function(v){return Q.from(v.dom.parentElement).map(It.fromDom)},Tl=function(v,C){for(var D=S(C)?C:ae,P=v.dom,F=[];P.parentNode!==null&&P.parentNode!==void 0;){var $=P.parentNode,re=It.fromDom($);if(F.push(re),D(re)===!0)break;P=$}return F},ue=function(v){return Q.from(v.dom.previousSibling).map(It.fromDom)},W=function(v){return Q.from(v.dom.nextSibling).map(It.fromDom)},H=function(v){return Ge(v.dom.childNodes,It.fromDom)},ee=function(v,C){var D=v.dom.childNodes;return Q.from(D[C]).map(It.fromDom)},ye=function(v){return ee(v,0)},Re=function(v){return Ss(v)&&b(v.dom.host)},gt=S(Element.prototype.attachShadow)&&S(Node.prototype.getRootNode),un=I(gt),hr=gt?function(v){return It.fromDom(v.dom.getRootNode())}:qt,Tr=function(v){var C=hr(v);return Re(C)?Q.some(C):Q.none()},Ln=function(v){return It.fromDom(v.dom.host)},lr=function(v){if(un()&&b(v.target)){var C=It.fromDom(v.target);if(si(C)&&Kr(C)&&v.composed&&v.composedPath){var D=v.composedPath();if(D)return Ke(D)}}return Q.from(v.target)},Kr=function(v){return b(v.dom.shadowRoot)},Jr=function(v){var C=is(v)?v.dom.parentNode:v.dom;if(C==null||C.ownerDocument===null)return!1;var D=C.ownerDocument;return Tr(It.fromDom(C)).fold(function(){return D.body.contains(C)},R(Jr,Ln))},Hr=function(){return Oi(It.fromDom(document))},Oi=function(v){var C=v.dom.body;if(C==null)throw new Error("Body is not available yet");return It.fromDom(C)},Or=function(v,C,D){return Ot(Tl(v,D),C)},li=function(v,C){return Ot(H(v),C)},ni=function(v,C){var D=[];return pt(H(v),function(P){C(P)&&(D=D.concat([P])),D=D.concat(ni(P,C))}),D},yu=function(v,C,D){return Or(v,function(P){return mr(P,C)},D)},so=function(v,C){return li(v,function(D){return mr(D,C)})},$l=function(v,C){return Wo(C,v)};function ua(v,C,D,P,F){return v(D,P)?Q.some(D):S(F)&&F(D)?Q.none():C(D,P,F)}var xa=function(v,C,D){for(var P=v.dom,F=S(D)?D:ae;P.parentNode;){P=P.parentNode;var $=It.fromDom(P);if(C($))return Q.some($);if(F($))break}return Q.none()},Wb=function(v,C,D){var P=function(F,$){return $(F)};return ua(P,xa,v,C,D)},Uu=function(v,C){var D=function(F){return C(It.fromDom(F))},P=Ye(v.dom.childNodes,D);return P.map(It.fromDom)},Ty=function(v,C){var D=function(P){for(var F=0;F<P.childNodes.length;F++){var $=It.fromDom(P.childNodes[F]);if(C($))return Q.some($);var re=D(P.childNodes[F]);if(re.isSome())return re}return Q.none()};return D(v.dom)},hf=function(v,C,D){return xa(v,function(P){return mr(P,C)},D)},Wr=function(v,C){return Uu(v,function(D){return mr(D,C)})},Gl=function(v,C){return ea(C,v)},Ta=function(v,C,D){var P=function(F,$){return mr(F,$)};return ua(P,hf,v,C,D)},Ma=function(v,C,D){if(i(D)||h(D)||_(D))v.setAttribute(C,D+"");else throw console.error("Invalid call to Attribute.set. Key ",C,":: Value ",D,":: Element ",v),new Error("Attribute value was not simple")},bu=function(v,C,D){Ma(v.dom,C,D)},Za=function(v,C){var D=v.dom;pi(C,function(P,F){Ma(D,F,P)})},Eh=function(v,C){pi(C,function(D,P){D.fold(function(){Ki(v,P)},function(F){Ma(v.dom,P,F)})})},bc=function(v,C){var D=v.dom.getAttribute(C);return D===null?void 0:D},ri=function(v,C){return Q.from(bc(v,C))},Ki=function(v,C){v.dom.removeAttribute(C)},Vs=function(v){return fe(v.dom.attributes,function(C,D){return C[D.name]=D.value,C},{})},Kf=function(v,C,D){return D===void 0&&(D=L),v.exists(function(P){return D(P,C)})},cu=function(v){for(var C=[],D=function(F){C.push(F)},P=0;P<v.length;P++)v[P].each(D);return C},Xl=function(v,C,D){return v.isSome()&&C.isSome()?Q.some(D(v.getOrDie(),C.getOrDie())):Q.none()},qb=function(v,C){return v!=null?C(v):Q.none()},Oh=function(v){return v.bind(z)},Ii=function(v,C){return v?Q.some(C):Q.none()},Pc=function(v){return v.style!==void 0&&S(v.style.getPropertyValue)},Nd=function(v,C,D){if(!i(D))throw console.error("Invalid call to CSS.set. Property ",C,":: Value ",D,":: Element ",v),new Error("CSS value must be a string: "+D);Pc(v)&&v.style.setProperty(C,D)},ol=function(v,C){Pc(v)&&v.style.removeProperty(C)},Na=function(v,C,D){var P=v.dom;Nd(P,C,D)},Ld=function(v,C){var D=v.dom;pi(C,function(P,F){Nd(D,F,P)})},Jf=function(v,C){var D=v.dom,P=window.getComputedStyle(D),F=P.getPropertyValue(C);return F===""&&!Jr(v)?Cs(D,C):F},Cs=function(v,C){return Pc(v)?v.style.getPropertyValue(C):""},il=function(v,C){var D=v.dom,P=Cs(D,C);return Q.from(P).filter(function(F){return F.length>0})},as=function(v,C){var D=v.dom;ol(D,C),Kf(ri(v,"style").map(Pt),"")&&Ki(v,"style")},Rp=function(v,C){var D=v.dom,P=C.dom;Pc(D)&&Pc(P)&&(P.style.cssText=D.style.cssText)},Nc=function(v,C,D){return D===void 0&&(D=0),ri(v,C).map(function(P){return parseInt(P,10)}).getOr(D)},xu=function(v,C){return Nc(v,C,1)},og=function(v){return ia("col")(v)?Nc(v,"span",1)>1:xu(v,"colspan")>1},$b=function(v){return xu(v,"rowspan")>1},Ih=function(v,C){return parseInt(Jf(v,C),10)},Rh=I(10),La=I(10),Ph=function(v,C){return Nh(v,C,te)},Nh=function(v,C,D){return qe(H(v),function(P){return mr(P,C)?D(P)?[P]:[]:Nh(P,C,D)})},Ts=function(v,C,D){if(D===void 0&&(D=ae),D(C))return Q.none();if(tt(v,Oo(C)))return Q.some(C);var P=function(F){return mr(F,"table")||D(F)};return hf(C,v.join(","),P)},Qf=function(v,C){return Ts(["td","th"],v,C)},Lh=function(v){return Ph(v,"th,td")},Zf=function(v){return mr(v,"colgroup")?so(v,"col"):qe(Rv(v),function(C){return so(C,"col")})},ca=function(v,C){return Ta(v,"table",C)},Ml=function(v){return Ph(v,"tr")},Rv=function(v){return ca(v).fold(I([]),function(C){return so(C,"colgroup")})},Yl=function(v,C){return Ge(v,function(D){if(Oo(D)==="colgroup"){var P=Ge(Zf(D),function(F){var $=Nc(F,"span",1);return ti(F,1,$)});return zi(D,P,"colgroup")}else{var P=Ge(Lh(D),function($){var re=Nc($,"rowspan",1),de=Nc($,"colspan",1);return ti($,re,de)});return zi(D,P,C(D))}})},Pv=function(v){return aa(v).map(function(C){var D=Oo(C);return kn(D)?D:"tbody"}).getOr("tbody")},Gb=function(v){var C=Ml(v),D=Rv(v),P=Qn(Qn([],D,!0),C,!0);return Yl(P,Pv)},My=function(v,C){return Yl(v,function(){return C})},Bh=function(v,C,D){var P=v.cells,F=P.slice(0,C),$=P.slice(C),re=F.concat(D).concat($);return Xr(v,re)},zh=function(v,C,D){return Bh(v,C,[D])},Bd=function(v,C,D){var P=v.cells;P[C]=D},Xr=function(v,C){return Hs(v.element,C,v.section,v.isNew)},xc=function(v,C){var D=v.cells,P=Ge(D,C);return Hs(v.element,P,v.section,v.isNew)},al=function(v,C){return v.cells[C]},Ms=function(v,C){return al(v,C).element},wc=function(v){return v.cells.length},qa=function(v){var C=kt(v,function(D){return D.section==="colgroup"});return{rows:C.fail,cols:C.pass}},wu=function(v,C,D){var P=Ge(v.cells,D);return Hs(C(v.element),P,v.section,!0)},eu="data-snooker-locked-cols",zd=function(v){return ri(v,eu).bind(function(C){return Q.from(C.match(/\d+/g))}).map(function(C){return Ft(C,te)})},us=function(v){var C=fe(qa(v).rows,function(P,F){return pt(F.cells,function($,re){$.isLocked&&(P[re]=!0)}),P},{}),D=os(C,function(P,F){return parseInt(F,10)});return Rt(D)},or=function(v,C){return v+","+C},Fh=function(v,C,D){return Q.from(v.access[or(C,D)])},ky=function(v,C,D){var P=fo(v,function(F){return D(C,F.element)});return P.length>0?Q.some(P[0]):Q.none()},fo=function(v,C){var D=qe(v.all,function(P){return P.cells});return Ot(D,C)},Ri=function(v){var C={},D=0;return pt(v.cells,function(P){var F=P.colspan;We(F,function($){var re=D+$;C[re]=Cl(P.element,F,re)}),D+=F}),C},Nv=function(v){var C={},D=[],P=Ke(v).map(function(Nn){return Nn.element}).bind(ca),F=P.bind(zd).getOr({}),$=0,re=0,de=0,Se=kt(v,function(Nn){return Nn.section==="colgroup"}),Le=Se.pass,ot=Se.fail;pt(ot,function(Nn){var Pn=[];pt(Nn.cells,function(xr){for(var qo=0;C[or(de,qo)]!==void 0;)qo++;for(var Ar=rt(F,qo.toString()),Gr=yi(xr.element,xr.rowspan,xr.colspan,de,qo,Ar),Po=0;Po<xr.colspan;Po++)for(var xo=0;xo<xr.rowspan;xo++){var za=de+xo,Lu=qo+Po,Xs=or(za,Lu);C[Xs]=Gr,re=Math.max(re,Lu+1)}Pn.push(Gr)}),$++,D.push(zi(Nn.element,Pn,Nn.section)),de++});var $t=Bt(Le).map(function(Nn){var Pn=Ri(Nn),xr=Xf(Nn.element,vc(Pn));return{colgroups:[xr],columns:Pn}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),_n=$t.columns,sn=$t.colgroups,Gt=yr($,re);return{grid:Gt,access:C,all:D,columns:_n,colgroups:sn}},pf=function(v){var C=Gb(v);return Nv(C)},sa=function(v){return qe(v.all,function(C){return C.cells})},Lv=function(v){return vc(v.columns)},kl=function(v){return vu(v.columns).length>0},ig=function(v,C){return Q.from(v.columns[C])},yo={fromTable:pf,generate:Nv,getAt:Fh,findItem:ky,filterItems:fo,justCells:sa,justColumns:Lv,hasColumns:kl,getColumnAt:ig},js=function(v,C){var D=C.column,P=C.column+C.colspan-1,F=C.row,$=C.row+C.rowspan-1;return D<=v.finishCol&&P>=v.startCol&&F<=v.finishRow&&$>=v.startRow},s_=function(v,C){return C.column>=v.startCol&&C.column+C.colspan-1<=v.finishCol&&C.row>=v.startRow&&C.row+C.rowspan-1<=v.finishRow},l_=function(v,C){for(var D=!0,P=q(s_,C),F=C.startRow;F<=C.finishRow;F++)for(var $=C.startCol;$<=C.finishCol;$++)D=D&&yo.getAt(v,F,$).exists(P);return D?Q.some(C):Q.none()},fa=function(v,C){return Cr(Math.min(v.row,C.row),Math.min(v.column,C.column),Math.max(v.row+v.rowspan-1,C.row+C.rowspan-1),Math.max(v.column+v.colspan-1,C.column+C.colspan-1))},Bv=function(v,C,D){var P=yo.findItem(v,C,ro),F=yo.findItem(v,D,ro);return P.bind(function($){return F.map(function(re){return fa($,re)})})},J=function(v,C,D){return Bv(v,C,D).bind(function(P){return l_(v,P)})},me=function(v,C,D,P){return yo.findItem(v,C,ro).bind(function(F){var $=D>0?F.row+F.rowspan-1:F.row,re=P>0?F.column+F.colspan-1:F.column,de=yo.getAt(v,$+D,re+P);return de.map(function(Se){return Se.element})})},xe=function(v,C,D){return Bv(v,C,D).map(function(P){var F=yo.filterItems(v,q(js,P));return Ge(F,function($){return $.element})})},Fe=function(v,C){var D=function(P,F){return Yi(F,P)};return yo.findItem(v,C,D).map(function(P){return P.element})},yt=function(v,C,D){return ca(v).bind(function(P){var F=Io(P);return me(F,v,C,D)})},Qt=function(v,C,D){var P=Io(v);return xe(P,C,D)},vr=function(v,C,D,P,F){var $=Io(v),re=ro(v,D)?Q.some(C):Fe($,C),de=ro(v,F)?Q.some(P):Fe($,P);return re.bind(function(Se){return de.bind(function(Le){return xe($,Se,Le)})})},Qr=function(v,C,D){var P=Io(v);return J(P,C,D)},Io=yo.fromTable,bo=function(v,C){var D=aa(v);D.each(function(P){P.dom.insertBefore(C.dom,v.dom)})},Fi=function(v,C){var D=W(v);D.fold(function(){var P=aa(v);P.each(function(F){ka(F,C)})},function(P){bo(P,C)})},ss=function(v,C){var D=ye(v);D.fold(function(){ka(v,C)},function(P){v.dom.insertBefore(C.dom,P.dom)})},ka=function(v,C){v.dom.appendChild(C.dom)},b5=function(v,C,D){ee(v,D).fold(function(){ka(v,C)},function(P){bo(P,C)})},NM=function(v,C){bo(v,C),ka(C,v)},LM=function(v,C){pt(C,function(D){bo(v,D)})},x5=function(v,C){pt(C,function(D,P){var F=P===0?v:C[P-1];Fi(F,D)})},ed=function(v,C){pt(C,function(D){ka(v,D)})},Dy=function(v){v.dom.textContent="",pt(H(v),function(C){Dl(C)})},Dl=function(v){var C=v.dom;C.parentNode!==null&&C.parentNode.removeChild(C)},zv=function(v){var C=H(v);C.length>0&&LM(v,C),Dl(v)},c_=function(v,C){var D=function($){if(!v($))throw new Error("Can only get "+C+" value of a "+C+" node");return P($).getOr("")},P=function($){return v($)?Q.from($.dom.nodeValue):Q.none()},F=function($,re){if(!v($))throw new Error("Can only set raw "+C+" value of a "+C+" node");$.dom.nodeValue=re};return{get:D,getOption:P,set:F}},Ay=c_(is,"text"),Xb=function(v){return Ay.get(v)},BM=function(v){return Ay.getOption(v)},w5=function(v,C){return Ay.set(v,C)},td=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Ey(){var v=function(Le){return It.fromDom(Le.dom.cloneNode(!1))},C=function(Le){return qt(Le).dom},D=function(Le){return si(Le)?Oo(Le)==="body"?!0:tt(td,Oo(Le)):!1},P=function(Le){return si(Le)?tt(["br","img","hr","input"],Oo(Le)):!1},F=function(Le){return si(Le)&&bc(Le,"contenteditable")==="false"},$=function(Le,ot){return Le.dom.compareDocumentPosition(ot.dom)},re=function(Le,ot){var $t=Vs(Le);Za(ot,$t)},de=function(Le){var ot=Oo(Le);return tt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ot)},Se=function(Le){return si(Le)?ri(Le,"lang"):Q.none()};return{up:I({selector:hf,closest:Ta,predicate:xa,all:Tl}),down:I({selector:$l,predicate:ni}),styles:I({get:Jf,getRaw:il,set:Na,remove:as}),attrs:I({get:bc,set:bu,remove:Ki,copyTo:re}),insert:I({before:bo,after:Fi,afterAll:x5,append:ka,appendAll:ed,prepend:ss,wrap:NM}),remove:I({unwrap:zv,remove:Dl}),create:I({nu:It.fromTag,clone:v,text:It.fromText}),query:I({comparePosition:$,prevSibling:ue,nextSibling:W}),property:I({children:H,name:Oo,parent:aa,document:C,isText:is,isComment:Pd,isElement:si,isSpecial:de,getLanguage:Se,getText:Xb,setText:w5,isBoundary:D,isEmptyTag:P,isNonEditable:F}),eq:ro,is:Ul}}var _5=function(v,C,D,P){var F=D[0],$=D.slice(1);return P(v,C,F,$)},f_=function(v,C,D){return D.length>0?_5(v,C,D,S5):Q.none()},S5=function(v,C,D,P){var F=C(v,D);return Nt(P,function($,re){var de=C(v,re);return C5(v,$,de)},F)},C5=function(v,C,D){return C.bind(function(P){return D.filter(q(v.eq,P))})},Fv=function(v,C){return q(v.eq,C)},Oy=function(v,C,D,P){P===void 0&&(P=ae);var F=[C].concat(v.up().all(C)),$=[D].concat(v.up().all(D)),re=function(ot){var $t=je(ot,P);return $t.fold(function(){return ot},function(_n){return ot.slice(0,_n+1)})},de=re(F),Se=re($),Le=Ye(de,function(ot){return G(Se,Fv(v,ot))});return{firstpath:de,secondpath:Se,shared:Le}},zM=f_,FM=Oy,Kl=Ey(),Sr=function(v,C){return zM(Kl,function(D,P){return v(P)},C)},Hh=function(v,C,D){return FM(Kl,v,C,D)},Iy=function(v){return hf(v,"table")},Pp=function(v,C,D){var P=function(F){return function($){return D!==void 0&&D($)||ro($,F)}};return ro(v,C)?Q.some({boxes:Q.some([v]),start:v,finish:C}):Iy(v).bind(function(F){return Iy(C).bind(function($){if(ro(F,$))return Q.some({boxes:Qt(F,v,C),start:v,finish:C});if(Yi(F,$)){var re=yu(C,"td,th",P(F)),de=re.length>0?re[re.length-1]:C;return Q.some({boxes:vr(F,v,F,C,$),start:v,finish:de})}else if(Yi($,F)){var re=yu(v,"td,th",P($)),Se=re.length>0?re[re.length-1]:v;return Q.some({boxes:vr($,v,F,C,$),start:v,finish:Se})}else return Hh(v,C).shared.bind(function(Le){return Ta(Le,"table",D).bind(function(ot){var $t=yu(C,"td,th",P(ot)),_n=$t.length>0?$t[$t.length-1]:C,sn=yu(v,"td,th",P(ot)),Gt=sn.length>0?sn[sn.length-1]:v;return Q.some({boxes:vr(ot,v,F,C,$),start:Gt,finish:_n})})})})})},Hv=function(v,C){var D=$l(v,C);return D.length>0?Q.some(D):Q.none()},d_=function(v,C){return Ye(v,function(D){return mr(D,C)})},mf=function(v,C,D){return Gl(v,C).bind(function(P){return Gl(v,D).bind(function(F){return Sr(Iy,[P,F]).map(function($){return{first:P,last:F,table:$}})})})},ag=function(v,C){return hf(v,"table").bind(function(D){return Gl(D,C).bind(function(P){return Pp(P,v).bind(function(F){return F.boxes.map(function($){return{boxes:$,start:F.start,finish:F.finish}})})})})},Vv=function(v,C,D,P,F){return d_(v,F).bind(function($){return yt($,C,D).bind(function(re){return ag(re,P)})})},$a=function(v,C){return Hv(v,C)},Wu=function(v,C,D){return mf(v,C,D).bind(function(P){var F=function(Se){return ro(v,Se)},$="thead,tfoot,tbody,table",re=hf(P.first,$,F),de=hf(P.last,$,F);return re.bind(function(Se){return de.bind(function(Le){return ro(Se,Le)?Qr(P.table,P.first,P.last):Q.none()})})})},Ry=function(v){if(!l(v))throw new Error("cases must be an array");if(v.length===0)throw new Error("there must be at least one case");var C=[],D={};return pt(v,function(P,F){var $=vu(P);if($.length!==1)throw new Error("one and only one name per case");var re=$[0],de=P[re];if(D[re]!==void 0)throw new Error("duplicate key detected:"+re);if(re==="cata")throw new Error("cannot have a case named cata (sorry)");if(!l(de))throw new Error("case arguments must be an array");C.push(re),D[re]=function(){for(var Se=[],Le=0;Le<arguments.length;Le++)Se[Le]=arguments[Le];var ot=Se.length;if(ot!==de.length)throw new Error("Wrong number of arguments to case "+re+". Expected "+de.length+" ("+de+"), got "+ot);var $t=function(_n){var sn=vu(_n);if(C.length!==sn.length)throw new Error("Wrong number of arguments to match. Expected: "+C.join(",")+`
Actual: `+sn.join(","));var Gt=Je(C,function(Nn){return tt(sn,Nn)});if(!Gt)throw new Error("Not all branches were specified when using match. Specified: "+sn.join(", ")+`
Required: `+C.join(", "));return _n[re].apply(null,Se)};return{fold:function(){for(var _n=[],sn=0;sn<arguments.length;sn++)_n[sn]=arguments[sn];if(_n.length!==v.length)throw new Error("Wrong number of arguments to fold. Expected "+v.length+", got "+_n.length);var Gt=_n[F];return Gt.apply(null,Se)},match:$t,log:function(_n){console.log(_n,{constructors:C,constructor:re,params:Se})}}}}),D},Fd={generate:Ry},Py=Fd.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Yb=function(v,C,D,P){return v.fold(C,D,P)},Kb=Py.none,T5=Py.multiple,jv=Py.single,ks=function(v,C,D){var P=function(){return $a(v(),D).fold(function(){return C().fold(Kb,jv)},function(F){return T5(F)})};return{get:P}},HM=tinymce.util.Tools.resolve("tinymce.PluginManager"),wa=function(v,C){return It.fromDom(v.dom.cloneNode(C))},gf=function(v){return wa(v,!1)},mi=function(v){return wa(v,!0)},Np=function(v,C){var D=It.fromTag(C),P=Vs(v);return Za(D,P),D},Lc=function(v,C){var D=Np(v,C),P=H(mi(v));return ed(D,P),D},M5=function(v,C){var D=Np(v,C);bo(v,D);var P=H(v);return ed(D,P),Dl(v),D},_u=function(v,C){var D=function(de,Se){if(!_(Se)&&!Se.match(/^[0-9]+$/))throw new Error(v+".set accepts only positive integer values. Value was "+Se);var Le=de.dom;Pc(Le)&&(Le.style[v]=Se+"px")},P=function(de){var Se=C(de);if(Se<=0||Se===null){var Le=Jf(de,v);return parseFloat(Le)||0}return Se},F=P,$=function(de,Se){return fe(Se,function(Le,ot){var $t=Jf(de,ot),_n=$t===void 0?0:parseInt($t,10);return isNaN(_n)?Le:Le+_n},0)},re=function(de,Se,Le){var ot=$(de,Le),$t=Se>ot?Se-ot:0;return $t};return{set:D,get:P,getOuter:F,aggregate:$,max:re}},ul=function(){var v=Oe().browser;return v.isIE()||v.isEdge()},VM=function(v,C){return Lr(v).getOr(C)},on=function(v,C,D){return VM(Jf(v,C),D)},Al=function(v){return Jf(v,"box-sizing")},Vh=function(v,C,D,P){var F=on(v,"padding-"+D,0),$=on(v,"padding-"+P,0),re=on(v,"border-"+D+"-width",0),de=on(v,"border-"+P+"-width",0);return C-F-$-re-de},Yr=function(v,C){var D=v.dom,P=D.getBoundingClientRect().height||D.offsetHeight;return C==="border-box"?P:Vh(v,P,"top","bottom")},_c=function(v,C){var D=v.dom,P=D.getBoundingClientRect().width||D.offsetWidth;return C==="border-box"?P:Vh(v,P,"left","right")},k5=function(v){return ul()?Yr(v,Al(v)):on(v,"height",v.dom.offsetHeight)},Us=function(v){return ul()?_c(v,Al(v)):on(v,"width",v.dom.offsetWidth)},Uv=function(v){return _c(v,"content-box")},Hd=_u("width",function(v){return v.dom.offsetWidth}),vf=function(v){return Hd.get(v)},Ds=function(v){return Hd.getOuter(v)},oi=Uv,nd=Us,ug=function(v,C){C===void 0&&(C=te);var D=v.grid,P=We(D.columns,z),F=We(D.rows,z);return Ge(P,function($){var re=function(){return qe(F,function(Le){return yo.getAt(v,Le,$).filter(function(ot){return ot.column===$}).toArray()})},de=function(Le){return Le.colspan===1&&C(Le.element)},Se=function(){return yo.getAt(v,0,$)};return Wi(re,de,Se)})},Wi=function(v,C,D){var P=v(),F=Ye(P,C),$=F.orThunk(function(){return Q.from(P[0]).orThunk(D)});return $.map(function(re){return re.element})},Lp=function(v){var C=v.grid,D=We(C.rows,z),P=We(C.columns,z);return Ge(D,function(F){var $=function(){return qe(P,function(Se){return yo.getAt(v,F,Se).filter(function(Le){return Le.row===F}).fold(I([]),function(Le){return[Le]})})},re=function(Se){return Se.rowspan===1},de=function(){return yo.getAt(v,F,0)};return Wi($,re,de)})},Jl=function(v,C){if(C<0||C>=v.length-1)return Q.none();var D=v[C].fold(function(){var F=st(v.slice(0,C));return Mn(F,function($,re){return $.map(function(de){return{value:de,delta:re+1}})})},function(F){return Q.some({value:F,delta:0})}),P=v[C+1].fold(function(){var F=v.slice(C+1);return Mn(F,function($,re){return $.map(function(de){return{value:de,delta:re+1}})})},function(F){return Q.some({value:F,delta:1})});return D.bind(function(F){return P.map(function($){var re=$.delta+F.delta;return Math.abs($.value-F.value)/re})})},Ql=function(v,C){return function(D){return D5(D)==="rtl"?C:v}},D5=function(v){return Jf(v,"direction")==="rtl"?"rtl":"ltr"},dt=_u("height",function(v){var C=v.dom;return Jr(v)?C.getBoundingClientRect().height:C.offsetHeight}),sl=function(v){return dt.get(v)},rd=function(v){return dt.getOuter(v)},Wv=k5,Sc=function(v,C){var D=function(P,F){return Sc(v+P,C+F)};return{left:v,top:C,translate:D}},Pi=Sc,qi=function(v){var C=v.getBoundingClientRect();return Pi(C.left,C.top)},El=function(v,C){return v!==void 0?v:C!==void 0?C:0},jh=function(v){var C=v.dom.ownerDocument,D=C.body,P=C.defaultView,F=C.documentElement;if(D===v.dom)return Pi(D.offsetLeft,D.offsetTop);var $=El(P==null?void 0:P.pageYOffset,F.scrollTop),re=El(P==null?void 0:P.pageXOffset,F.scrollLeft),de=El(F.clientTop,D.clientTop),Se=El(F.clientLeft,D.clientLeft);return h_(v).translate(re-Se,$-de)},h_=function(v){var C=v.dom,D=C.ownerDocument,P=D.body;return P===C?Pi(P.offsetLeft,P.offsetTop):Jr(v)?qi(C):Pi(0,0)},Er=function(v,C){return{row:v,y:C}},Jb=function(v,C){return{col:v,x:C}},Cc=function(v){var C=jh(v);return C.left+Ds(v)},jM=function(v){return jh(v).left},Ny=function(v,C){return Jb(v,jM(C))},Ly=function(v,C){return Jb(v,Cc(C))},p_=function(v){return jh(v).top},m_=function(v,C){return Er(v,p_(C))},Vd=function(v,C){return Er(v,p_(C)+rd(C))},Uh=function(v,C,D){if(D.length===0)return[];var P=Ge(D.slice(1),function($,re){return $.map(function(de){return v(re,de)})}),F=D[D.length-1].map(function($){return C(D.length-1,$)});return P.concat([F])},A5=function(v){return-v},g_={delta:z,positions:function(v){return Uh(m_,Vd,v)},edge:p_},E5={delta:z,edge:jM,positions:function(v){return Uh(Ny,Ly,v)}},UM={delta:A5,edge:Cc,positions:function(v){return Uh(Ly,Ny,v)}},By=Ql(E5,UM),qv={delta:function(v,C){return By(C).delta(v,C)},positions:function(v,C){return By(C).positions(v,C)},edge:function(v){return By(v).edge(v)}},WM={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},jd=function(){var v="[0-9]+",C="[+-]?"+v,D="[eE]"+C,P="\\.",F=function(de){return"(?:"+de+")?"},$=["Infinity",v+P+F(v)+F(D),P+v+F(D),v+F(D)].join("|"),re="[+-]?(?:"+$+")";return new RegExp("^("+re+")(.*)$")}(),$v=function(v,C){return G(C,function(D){return G(WM[D],function(P){return v===P})})},v_=function(v,C){var D=Q.from(jd.exec(v));return D.bind(function(P){var F=Number(P[1]),$=P[2];return $v($,C)?Q.some({value:F,unit:$}):Q.none()})},qM=/(\d+(\.\d+)?)%/,O5=/(\d+(\.\d+)?)px|em/,I5=ia("col"),fu=function(v,C,D){var P=Yf(v).getOrThunk(function(){return Oi(ql(v))});return C(v)/D(P)*100},Ud=function(v,C){Na(v,"width",C+"px")},yf=function(v,C){Na(v,"width",C+"%")},Bp=function(v,C){Na(v,"height",C+"px")},$M=function(v){return Wv(v)+"px"},bf=function(v,C,D,P){var F=ca(v).map(function($){var re=D($);return Math.floor(C/100*re)}).getOr(C);return P(v,F),F},sg=function(v,C,D,P){var F=parseFloat(v);return et(v,"%")&&Oo(C)!=="table"?bf(C,F,D,P):F},y_=function(v){var C=$M(v);return C?sg(C,v,sl,Bp):sl(v)},b_=function(v,C,D){var P=D(v),F=xu(v,C);return P/F},Wh=function(v,C){return il(v,C).orThunk(function(){return ri(v,C).map(function(D){return D+"px"})})},Bc=function(v){return Wh(v,"width")},ls=function(v){return Wh(v,"height")},Qb=function(v){return fu(v,vf,oi)},x_=function(v){return I5(v)?vf(v):nd(v)},lg=function(v){return b_(v,"rowspan",y_)},Gv=function(v){var C=Bc(v);return C.bind(function(D){return v_(D,["fixed","relative","empty"])})},Xv=function(v,C,D){Na(v,"width",C+D)},R5=function(v){return vf(v)+"px"},Yv=function(v){return fu(v,vf,oi)+"%"},w_=function(v){return Bc(v).exists(function(C){return qM.test(C)})},P5=function(v){return Bc(v).exists(function(C){return O5.test(C)})},Da=function(v){return Bc(v).isNone()},Zb=I(qM),zp=ia("col"),__=function(v){return Bc(v).getOrThunk(function(){return x_(v)+"px"})},S_=function(v){return ls(v).getOrThunk(function(){return lg(v)+"px"})},zc=function(v){return Ge(yo.justColumns(v),function(C){return Q.from(C.element)})},Tc=function(v){var C=Oe().browser,D=C.isChrome()||C.isFirefox();return zp(v)?D:!0},cg=function(v,C,D,P,F,$){return v.filter(P).fold(function(){return $(Jl(D,C))},function(re){return F(re)})},Fp=function(v,C,D,P){var F=ug(v),$=yo.hasColumns(v)?zc(v):F,re=[Q.some(qv.edge(C))].concat(Ge(qv.positions(F,C),function(Se){return Se.map(function(Le){return Le.x})})),de=X(og);return Ge($,function(Se,Le){return cg(Se,Le,re,de,function(ot){if(Tc(ot))return D(ot);var $t=qb(F[Le],z);return cg($t,Le,re,de,function(_n){return P(Q.some(vf(_n)))},P)},P)})},ex=function(v){return v.map(function(C){return C+"px"}).getOr("")},zy=function(v,C){return Fp(v,C,__,ex)},C_=function(v,C,D){return Fp(v,C,Qb,function(P){return P.fold(function(){return D.minCellWidth()},function(F){return F/D.pixelWidth()*100})})},fg=function(v,C,D){return Fp(v,C,x_,function(P){return P.getOrThunk(D.minCellWidth)})},tx=function(v,C,D,P,F){var $=Lp(v),re=[Q.some(D.edge(C))].concat(Ge(D.positions($,C),function(de){return de.map(function(Se){return Se.y})}));return Ge($,function(de,Se){return cg(de,Se,re,X($b),P,F)})},N5=function(v,C,D){return tx(v,C,D,lg,function(P){return P.getOrThunk(La)})},T_=function(v,C,D){return tx(v,C,D,S_,ex)},Mc=function(v,C){return function(){return Jr(v)?C(v):parseFloat(il(v,"width").getOr("0"))}},Zl=function(v){var C=Mc(v,vf),D=I(0),P=function(F,$){return fg(F,v,$)};return{width:C,pixelWidth:C,getWidths:P,getCellDelta:D,singleColumnWidth:I([0]),minCellWidth:D,setElementWidth:k,adjustTableWidth:k,isRelative:!0,label:"none"}},Kv=function(v){var C=Mc(v,function(Se){return parseFloat(Yv(Se))}),D=Mc(v,vf),P=function(Se){return Se/D()*100},F=function(Se,Le){return[100-Se]},$=function(){return Rh()/D()*100},re=function(Se){var Le=C(),ot=Se/100*Le,$t=Le+ot;yf(v,$t)},de=function(Se,Le){return C_(Se,v,Le)};return{width:C,pixelWidth:D,getWidths:de,getCellDelta:P,singleColumnWidth:F,minCellWidth:$,setElementWidth:yf,adjustTableWidth:re,isRelative:!0,label:"percent"}},xf=function(v){var C=Mc(v,vf),D=z,P=function(re,de){var Se=Math.max(Rh(),re+de);return[Se-re]},F=function(re){var de=C()+re;Ud(v,de)},$=function(re,de){return fg(re,v,de)};return{width:C,pixelWidth:C,getWidths:$,getCellDelta:D,singleColumnWidth:P,minCellWidth:Rh,setElementWidth:Ud,adjustTableWidth:F,isRelative:!1,label:"pixel"}},Ws=function(v,C){var D=Zb().exec(C);return D!==null?Kv(v):xf(v)},nx=function(v){var C=Bc(v);return C.fold(function(){return Zl(v)},function(D){return Ws(v,D)})},qh={getTableSize:nx,pixelSize:xf,percentageSize:Kv,noneSize:Zl},GM=function(v,C,D,P,F,$){return{minRow:v,minCol:C,maxRow:D,maxCol:P,allCells:F,selectedCells:$}},cs=function(v,C){var D=v.grid.columns,P=v.grid.rows,F=P,$=D,re=0,de=0,Se=[],Le=[];return pi(v.access,function(ot){if(Se.push(ot),C(ot)){Le.push(ot);var $t=ot.row,_n=$t+ot.rowspan-1,sn=ot.column,Gt=sn+ot.colspan-1;$t<F?F=$t:_n>re&&(re=_n),sn<$?$=sn:Gt>de&&(de=Gt)}}),GM(F,$,re,de,Se,Le)},XM=function(v,C,D){var P=v[D].element,F=It.fromTag("td");ka(F,It.fromTag("br"));var $=C?ka:ss;$(P,F)},Fy=function(v,C,D,P){for(var F=C.grid.columns,$=C.grid.rows,re=0;re<$;re++)for(var de=!1,Se=0;Se<F;Se++)if(!(re<D.minRow||re>D.maxRow||Se<D.minCol||Se>D.maxCol)){var Le=yo.getAt(C,re,Se).filter(P).isNone();Le?XM(v,de,re):de=!0}},Mo=function(v,C,D,P){pi(D.columns,function(re){(re.column<C.minCol||re.column>C.maxCol)&&Dl(re.element)});var F=Ot(Ph(v,"tr"),function(re){return re.dom.childElementCount===0});pt(F,Dl),(C.minCol===C.maxCol||C.minRow===C.maxRow)&&pt(Ph(v,"th,td"),function(re){Ki(re,"rowspan"),Ki(re,"colspan")}),Ki(v,eu),Ki(v,"data-snooker-col-series");var $=qh.getTableSize(v);$.adjustTableWidth(P)},Ir=function(v,C,D,P){if(P.minCol===0&&C.grid.columns===P.maxCol+1)return 0;var F=fg(C,v,D),$=fe(F,function(Le,ot){return Le+ot},0),re=fe(F.slice(P.minCol,P.maxCol+1),function(Le,ot){return Le+ot},0),de=re/$*D.pixelWidth(),Se=de-D.pixelWidth();return D.getCellDelta(Se)},$h=function(v,C){var D=function(_n){return mr(_n.element,C)},P=mi(v),F=Gb(P),$=qh.getTableSize(v),re=yo.generate(F),de=cs(re,D),Se="th:not("+C+"),td:not("+C+")",Le=Nh(P,"th,td",function(_n){return mr(_n,Se)});pt(Le,Dl),Fy(F,re,de,D);var ot=yo.fromTable(v),$t=Ir(v,ot,$,de);return Mo(P,de,re,$t),P},M_="",wf=function(v){return Oo(v)==="img"?1:BM(v).fold(function(){return H(v).length},function(C){return C.length})},YM=function(v){return BM(v).filter(function(C){return C.trim().length!==0||C.indexOf(M_)>-1}).isSome()},$i=["img","br"],k_=function(v){var C=YM(v);return C||tt($i,Oo(v))},Hy=function(v){return Ty(v,k_)},rx=function(v){return fn(v,k_)},fn=function(v,C){var D=function(P){for(var F=H(P),$=F.length-1;$>=0;$--){var re=F[$];if(C(re))return Q.some(re);var de=D(re);if(de.isSome())return de}return Q.none()};return D(v)},Vy={scope:["row","col"]},Jv=function(v){return function(){var C=It.fromTag("td",v.dom);return ka(C,It.fromTag("br",v.dom)),C}},Qv=function(v){return function(){return It.fromTag("col",v.dom)}},dg=function(v){return function(){return It.fromTag("colgroup",v.dom)}},hg=function(v){return function(){return It.fromTag("tr",v.dom)}},Hp=function(v,C,D){var P=Lc(v,C);return pi(D,function(F,$){F===null?Ki(P,$):bu(P,$,F)}),P},Ga=function(v){return v},ta=function(v,C,D){var P=Hy(v);return P.map(function(F){var $=D.join(","),re=yu(F,$,function(de){return ro(de,v)});return Nt(re,function(de,Se){var Le=gf(Se);return Ki(Le,"contenteditable"),ka(de,Le),Le},C)}).getOr(C)},Gh=function(v,C){pi(Vy,function(D,P){return ri(v,P).filter(function(F){return tt(D,F)}).each(function(F){return bu(C,P,F)})})},da=function(v,C,D){var P=function(re,de){Rp(re.element,de),as(de,"height"),re.colspan!==1&&as(de,"width")},F=function(re){var de=It.fromTag(Oo(re.element),C.dom),Se=D.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Le=Se.length>0?ta(re.element,de,Se):de;return ka(Le,It.fromTag("br")),P(re,de),Gh(re.element,de),v(re.element,de),de},$=function(re){var de=It.fromTag(Oo(re.element),C.dom);return P(re,de),v(re.element,de),de};return{col:$,colgroup:dg(C),row:hg(C),cell:F,replace:Hp,colGap:Qv(C),gap:Jv(C)}},ec=function(v){return{col:Qv(v),colgroup:dg(v),row:hg(v),cell:Jv(v),replace:Ga,colGap:Qv(v),gap:Jv(v)}},D_=function(v,C){var D=C||document,P=D.createElement("div");return P.innerHTML=v,H(It.fromDom(P))},_f=function(v){return Ge(v,It.fromDom)},ox=function(v){return v.nodeName.toLowerCase()},Ol=function(v){return It.fromDom(v.getBody())},od=function(v){return v.getBoundingClientRect().width},Xh=function(v){return v.getBoundingClientRect().height},qu=function(v){return function(C){return ro(C,Ol(v))}},ix=function(v){return v?v.replace(/px$/,""):""},As=function(v){return/^\d+(\.\d+)?$/.test(v)?v+"px":v},$u=function(v){Ki(v,"data-mce-style");var C=function(D){return Ki(D,"data-mce-style")};pt(Lh(v),C),pt(Zf(v),C),pt(Ml(v),C)},Zv=function(v,C){var D=v.dom.getStyle(C,"width")||v.dom.getAttrib(C,"width");return Q.from(D).filter(ln)},L5=function(v){return/^(\d+(\.\d+)?)%$/.test(v)},jy=function(v){return/^(\d+(\.\d+)?)px$/.test(v)},du=function(v){return It.fromDom(v.selection.getStart())},ir=function(v){return It.fromDom(v.selection.getEnd())},Fc=function(v){return Yb(v.get(),I([]),z,Ct)},B5=function(v){var C=function(F,$){return ri(F,$).exists(function(re){return parseInt(re,10)>1})},D=function(F){return C(F,"rowspan")||C(F,"colspan")},P=Fc(v);return P.length>0&&Je(P,D)?Q.some(P):Q.none()},KM=function(v,C,D){return Yb(C.get(),Q.none,function(P){return P.length<=1?Q.none():Wu(v,D.firstSelectedSelector,D.lastSelectedSelector).map(function(F){return{bounds:F,cells:P}})},Q.none)},e0="data-mce-selected",JM="td["+e0+"],th["+e0+"]",Uy="["+e0+"]",Wd="data-mce-first-selected",pg="td["+Wd+"],th["+Wd+"]",A_="data-mce-last-selected",id="td["+A_+"],th["+A_+"]",z5=Uy,mg={selected:e0,selectedSelector:JM,firstSelected:Wd,firstSelectedSelector:pg,lastSelected:A_,lastSelectedSelector:id},qd=function(v){return{element:v,mergable:Q.none(),unmergable:Q.none(),selection:[v]}},Vp=function(v,C,D){return{element:D,mergable:KM(C,v,mg),unmergable:B5(v),selection:Fc(v)}},gg=function(v,C,D){return{element:v,clipboard:C,generators:D}},QM=function(v,C,D,P){return{selection:Fc(v),clipboard:D,generators:P}},tu=function(v){return ca(v).bind(function(C){return $a(C,mg.firstSelectedSelector)}).fold(I(v),function(C){return C[0]})},jp=function(v){return function(C,D){var P=Oo(C),F=P==="col"||P==="colgroup"?tu(C):C;return Ta(F,v,D)}},vg=jp("th,td,caption"),tc=jp("th,td"),Gu=function(v){return Fc(v)},F5=function(v,C){var D=tc(v),P=D.bind(function(F){return ca(F)}).map(function(F){return Ml(F)});return Xl(D,P,function(F,$){return Ot($,function(re){return G(_f(re.dom.cells),function(de){return bc(de,C)==="1"||ro(de,F)})})}).getOr([])},H5=function(v){return ca(v[0]).map(function(C){var D=$h(C,z5);return $u(D),[D]})},V5=function(v,C){return Ge(C,function(D){return v.selection.serializer.serialize(D.dom,{})}).join("")},ZM=function(v){return Ge(v,function(C){return C.dom.innerText}).join("")},ad=function(v,C,D){v.on("BeforeGetContent",function(P){var F=function($){P.preventDefault(),H5($).each(function(re){P.content=P.format==="text"?ZM(re):V5(v,re)})};P.selection===!0&&Yb(C.get(),k,F,k)}),v.on("BeforeSetContent",function(P){if(P.selection===!0&&P.paste===!0){var F=Gu(C);Ke(F).each(function($){ca($).each(function(re){var de=Ot(D_(P.content),function(_n){return Oo(_n)!=="meta"}),Se=ia("table");if(de.length===1&&Se(de[0])){P.preventDefault();var Le=It.fromDom(v.getDoc()),ot=ec(Le),$t=gg($,de[0],ot);D.pasteCells(re,$t).each(function(){v.focus()})}})})}})},ax=Fd.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),t0=Zt({},ax),j5=function(v,C){return v.length===0?t0.none():v.length===1?t0.only(0):C===0?t0.left(0,1):C===v.length-1?t0.right(C-1,C):C>0&&C<v.length-1?t0.middle(C-1,C,C+1):t0.none()},E_=function(v,C,D,P,F){var $=v.slice(0),re=j5(v,C),de=I(Ge($,I(0))),Se=function(_n){return P.singleColumnWidth($[_n],D)},Le=function(_n,sn){return F.calcLeftEdgeDeltas($,_n,sn,D,P.minCellWidth(),P.isRelative)},ot=function(_n,sn,Gt){return F.calcMiddleDeltas($,_n,sn,Gt,D,P.minCellWidth(),P.isRelative)},$t=function(_n,sn){return F.calcRightEdgeDeltas($,_n,sn,D,P.minCellWidth(),P.isRelative)};return re.fold(de,Se,Le,ot,$t)},ek=function(v,C,D){for(var P=0,F=v;F<C;F++)P+=D[F]!==void 0?D[F]:0;return P},O_=function(v,C){var D=yo.justCells(v);return Ge(D,function(P){var F=ek(P.column,P.column+P.colspan,C);return{element:P.element,width:F,colspan:P.colspan}})},I_=function(v,C){var D=yo.justColumns(v);return Ge(D,function(P,F){return{element:P.element,width:C[F],colspan:P.colspan}})},Up=function(v,C){var D=yo.justCells(v);return Ge(D,function(P){var F=ek(P.row,P.row+P.rowspan,C);return{element:P.element,height:F,rowspan:P.rowspan}})},Wp=function(v,C){return Ge(v.all,function(D,P){return{element:D.element,height:C[P]}})},Hi=function(v){return Nt(v,function(C,D){return C+D},0)},R_=function(v,C){return yo.hasColumns(v)?I_(v,C):O_(v,C)},Hc=function(v,C,D){var P=R_(v,C);pt(P,function(F){D.setElementWidth(F.element,F.width)})},P_=function(v,C,D,P,F){var $=yo.fromTable(v),re=F.getCellDelta(C),de=F.getWidths($,F),Se=D===$.grid.columns-1,Le=P.clampTableDelta(de,D,re,F.minCellWidth(),Se),ot=E_(de,D,Le,F,P),$t=Ge(ot,function(_n,sn){return _n+de[sn]});Hc($,$t,F),P.resizeTable(F.adjustTableWidth,Le,Se)},U5=function(v,C,D,P){var F=yo.fromTable(v),$=N5(F,v,P),re=Ge($,function(ot,$t){return D===$t?Math.max(C+ot,La()):ot}),de=Up(F,re),Se=Wp(F,re);pt(Se,function(ot){Bp(ot.element,ot.height)}),pt(de,function(ot){Bp(ot.element,ot.height)});var Le=Hi(re);Bp(v,Le)},W5=function(v,C,D,P,F){var $=yo.generate(C),re=P.getWidths($,P),de=P.pixelWidth(),Se=F.calcRedestributedWidths(re,de,D.pixelDelta,P.isRelative),Le=Se.newSizes,ot=Se.delta;Hc($,Le,P),P.adjustTableWidth(ot)},ll=function(v,C,D,P){var F=yo.generate(C),$=P.getWidths(F,P);Hc(F,$,P)},Sf=function(v){return Ge(v,I(0))},N_=function(v,C,D,P,F){return F(v.slice(0,C)).concat(P).concat(F(v.slice(D)))},Wy=function(v){return function(C,D,P,F){if(v(P)){var $=Math.max(F,C[D]-Math.abs(P)),re=Math.abs($-C[D]);return P>=0?re:-re}else return P}},n0=Wy(function(v){return v<0}),L_=Wy(te),tk=function(){var v=function(de,Se,Le,ot,$t){var _n=n0(de,Se,ot,$t);return N_(de,Se,Le+1,[_n,0],Sf)},C=function(de,Se,Le,ot){var $t=(100+Le)/100,_n=Math.max(ot,(de[Se]+Le)/$t);return Ge(de,function(sn,Gt){var Nn=Gt===Se?_n:sn/$t;return Nn-sn})},D=function(de,Se,Le,ot,$t,_n){return _n?C(de,Se,ot,$t):v(de,Se,Le,ot,$t)},P=function(de,Se,Le,ot,$t,_n,sn){return D(de,Le,ot,$t,_n,sn)},F=function(de,Se){return de(Se)},$=function(de,Se,Le,ot,$t,_n){if(_n)return C(de,Le,ot,$t);var sn=n0(de,Le,ot,$t);return Sf(de.slice(0,Le)).concat([sn])},re=function(de,Se,Le,ot){if(ot){var $t=Se+Le,_n=$t/Se,sn=Ge(de,function(Gt){return Gt/_n});return{delta:_n*100-100,newSizes:sn}}else return{delta:Le,newSizes:de}};return{resizeTable:F,clampTableDelta:n0,calcLeftEdgeDeltas:D,calcMiddleDeltas:P,calcRightEdgeDeltas:$,calcRedestributedWidths:re}},qp=function(){var v=function(re,de,Se,Le,ot){var $t=Le>=0?Se:de,_n=L_(re,$t,Le,ot);return N_(re,de,Se+1,[_n,-_n],Sf)},C=function(re,de,Se,Le,ot,$t){return v(re,Se,Le,ot,$t)},D=function(re,de,Se){Se&&re(de)},P=function(re,de,Se,Le,ot,$t){if($t)return Sf(re);var _n=Le/re.length;return Ge(re,I(_n))},F=function(re,de,Se,Le,ot){if(ot){if(Se>=0)return Se;var $t=fe(re,function(_n,sn){return _n+sn-Le},0);return Math.max(-$t,Se)}else return n0(re,de,Se,Le)},$=function(re,de,Se,Le){return{delta:0,newSizes:re}};return{resizeTable:D,clampTableDelta:F,calcLeftEdgeDeltas:v,calcMiddleDeltas:C,calcRightEdgeDeltas:P,calcRedestributedWidths:$}},B_=function(v,C){var D=Q.from(v.dom.documentElement).map(It.fromDom).getOr(v);return{parent:I(D),view:I(v),origin:I(Pi(0,0)),isResizable:C}},z_=function(v,C,D){var P=function(){return jh(C)};return{parent:I(C),view:I(v),origin:P,isResizable:D}},ux=function(v,C,D){return{parent:I(C),view:I(v),origin:I(Pi(0,0)),isResizable:D}},sx={only:B_,detached:z_,body:ux},yg=Fd.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),nk=function(v,C,D){var P=D.substring(0,D.length-v.length),F=parseFloat(P);return P===F.toString()?C(F):yg.invalid(D)},Xu=function(v){return et(v,"%")?nk("%",yg.percent,v):et(v,"px")?nk("px",yg.pixels,v):yg.invalid(v)},ud=Zt(Zt({},yg),{from:Xu}),hu=function(v,C){return Ge(v,function(D){var P=ud.from(D);return P.fold(function(){return D},function(F){var $=F/C*100;return $+"%"},function(F){return F+"%"})})},cl=function(v,C,D){var P=D/C;return Ge(v,function(F){var $=ud.from(F);return $.fold(function(){return F},function(re){return re*P+"px"},function(re){return re/100*D+"px"})})},Yh=function(v,C){var D=v.fold(function(){return I("")},function(P){var F=P/C;return I(F+"px")},function(){var P=100/C;return I(P+"%")});return We(C,D)},$d=function(v,C,D){return v.fold(function(){return C},function(P){return cl(C,D,P)},function(P){return hu(C,D)})},F_=function(v,C,D){var P=ud.from(D),F=Je(v,function($){return $==="0px"})?Yh(P,v.length):$d(P,v,C);return q5(F)},nc=function(v,C){return v.length===0?C:Nt(v,function(D,P){return ud.from(P).fold(I(0),z,z)+D},0)},r0=function(v,C){var D=Math.floor(v);return{value:D+C,remainder:v-D}},rk=function(v,C){return ud.from(v).fold(I(v),function(D){return D+C+"px"},function(D){return D+C+"%"})},q5=function(v){if(v.length===0)return v;var C=Nt(v,function(P,F){var $=ud.from(F).fold(function(){return{value:F,remainder:0}},function(re){return r0(re,"px")},function(re){return{value:re+"%",remainder:0}});return{output:[$.value].concat(P.output),remainder:P.remainder+$.remainder}},{output:[],remainder:0}),D=C.output;return D.slice(0,D.length-1).concat([rk(D[D.length-1],Math.round(C.remainder))])},$5=ud.from,G5=function(v,C,D){pt(C,function(P){var F=v.slice(P.column,P.colspan+P.column),$=nc(F,Rh());Na(P.element,"width",$+D)})},X5=function(v,C,D){pt(C,function(P,F){var $=nc([v[F]],Rh());Na(P.element,"width",$+D)})},H_=function(v,C,D,P){pt(D,function(F){var $=v.slice(F.row,F.rowspan+F.row),re=nc($,La());Na(F.element,"height",re+P)}),pt(C,function(F,$){Na(F.element,"height",v[$])})},lx=function(v){return $5(v).fold(I("px"),I("px"),I("%"))},kc=function(v,C,D){var P=yo.fromTable(v),F=P.all,$=yo.justCells(P),re=yo.justColumns(P);C.each(function(de){var Se=lx(de),Le=vf(v),ot=zy(P,v),$t=F_(ot,Le,de);yo.hasColumns(P)?X5($t,re,Se):G5($t,$,Se),Na(v,"width",de)}),D.each(function(de){var Se=lx(de),Le=sl(v),ot=T_(P,v,g_),$t=F_(ot,Le,de);H_($t,F,$,Se),Na(v,"height",de)})},ok=w_,$p=P5,qy=Da,sd=function(v){var C=yo.fromTable(v);return C.grid},Vc=function(v){var C=[],D=function($){if($===void 0)throw new Error("Event bind error: undefined handler");C.push($)},P=function($){C=Ot(C,function(re){return re!==$})},F=function(){for(var $=[],re=0;re<arguments.length;re++)$[re]=arguments[re];var de={};pt(v,function(Se,Le){de[Se]=$[Le]}),pt(C,function(Se){Se(de)})};return{bind:D,unbind:P,trigger:F}},nu=function(v){var C=Wl(v,function(P){return{bind:P.bind,unbind:P.unbind}}),D=Wl(v,function(P){return P.trigger});return{registry:C,trigger:D}},Dc=function(v,C){var D=null,P=function(){f(D)||(clearTimeout(D),D=null)},F=function(){for(var $=[],re=0;re<arguments.length;re++)$[re]=arguments[re];P(),D=setTimeout(function(){D=null,v.apply(null,$)},C)};return{cancel:P,throttle:F}},Gp=function(v){return v.slice(0).sort()},V_=function(v,C){throw new Error("All required keys ("+Gp(v).join(", ")+") were not specified. Specified keys were: "+Gp(C).join(", ")+".")},ho=function(v){throw new Error("Unsupported keys for object: "+Gp(v).join(", "))},$y=function(v,C){if(!l(C))throw new Error("The "+v+" fields must be an array. Was: "+C+".");pt(C,function(D){if(!i(D))throw new Error("The value "+D+" in the "+v+" fields was not a string.")})},Y5=function(v,C){throw new Error("All values need to be of type: "+C+". Keys ("+Gp(v).join(", ")+") were not.")},cx=function(v){var C=Gp(v),D=Ye(C,function(P,F){return F<C.length-1&&P===C[F+1]});D.each(function(P){throw new Error("The field: "+P+" occurs more than once in the combined fields: ["+C.join(", ")+"].")})},fx=function(v,C){return K5(v,C,{validate:S,label:"function"})},K5=function(v,C,D){if(C.length===0)throw new Error("You must specify at least one required field.");return $y("required",C),cx(C),function(P){var F=vu(P),$=Je(C,function(de){return tt(F,de)});$||V_(C,F),v(C,F);var re=Ot(C,function(de){return!D.validate(P[de],de)});return re.length>0&&Y5(re,D.label),P}},pu=function(v,C){var D=Ot(C,function(P){return!tt(v,P)});D.length>0&&ho(D)},qs=function(v){return fx(pu,v)},na=qs(["compare","extract","mutate","sink"]),ik=qs(["element","start","stop","destroy"]),j_=qs(["forceDrop","drop","move","delayDrop"]),bg=function(){var v=Q.none(),C=function(){v=Q.none()},D=function($,re){var de=v.map(function(Se){return $.compare(Se,re)});return v=Q.some(re),de},P=function($,re){var de=re.extract($);de.each(function(Se){var Le=D(re,Se);Le.each(function(ot){F.trigger.move(ot)})})},F=nu({move:Vc(["info"])});return{onEvent:P,reset:C,events:F.registry}},ak=function(){var v=nu({move:Vc(["info"])});return{onEvent:k,reset:k,events:v.registry}},xg=function(){var v=ak(),C=bg(),D=v,P=function(){D.reset(),D=C},F=function(){D.reset(),D=v},$=function(de,Se){D.onEvent(de,Se)},re=function(){return D===C};return{on:P,off:F,isOn:re,onEvent:$,events:C.events}},o0=function(v,C,D){var P=!1,F=nu({start:Vc([]),stop:Vc([])}),$=xg(),re=function(){sn.stop(),$.isOn()&&($.off(),F.trigger.stop())},de=Dc(re,200),Se=function(Nn){sn.start(Nn),$.on(),F.trigger.start()},Le=function(Nn){de.cancel(),$.onEvent(Nn,C)};$.events.move.bind(function(Nn){C.mutate(v,Nn.info)});var ot=function(){P=!0},$t=function(){P=!1},_n=function(Nn){return function(){for(var Pn=[],xr=0;xr<arguments.length;xr++)Pn[xr]=arguments[xr];P&&Nn.apply(null,Pn)}},sn=C.sink(j_({forceDrop:re,drop:_n(re),move:_n(Le),delayDrop:_n(de.throttle)}),D),Gt=function(){sn.destroy()};return{element:sn.element,go:Se,on:ot,off:$t,destroy:Gt,events:F.registry}},uk=function(v,C,D,P,F,$,re){return{target:v,x:C,y:D,stop:P,prevent:F,kill:$,raw:re}},Gd=function(v){var C=It.fromDom(lr(v).getOr(v.target)),D=function(){return v.stopPropagation()},P=function(){return v.preventDefault()},F=A(P,D);return uk(C,v.clientX,v.clientY,D,P,F,v)},fl=function(v,C){return function(D){v(D)&&C(Gd(D))}},J5=function(v,C,D,P,F){var $=fl(D,P);return v.dom.addEventListener(C,$,F),{unbind:q(wg,v,C,$,F)}},Q5=function(v,C,D,P){return J5(v,C,D,P,!1)},wg=function(v,C,D,P){v.dom.removeEventListener(C,D,P)},U_=te,Xp=function(v,C,D){return Q5(v,C,U_,D)},_g=Gd,W_=function(v,C){var D=bc(v,C);return D===void 0||D===""?[]:D.split(" ")},Z5=function(v,C,D){var P=W_(v,C),F=P.concat([D]);return bu(v,C,F.join(" ")),!0},eO=function(v,C,D){var P=Ot(W_(v,C),function(F){return F!==D});return P.length>0?bu(v,C,P.join(" ")):Ki(v,C),!1},Sg=function(v){return v.dom.classList!==void 0},Cg=function(v){return W_(v,"class")},dx=function(v,C){return Z5(v,"class",C)},_o=function(v,C){return eO(v,"class",C)},Ni=function(v,C){Sg(v)?v.dom.classList.add(C):dx(v,C)},Tg=function(v){var C=Sg(v)?v.dom.classList:Cg(v);C.length===0&&Ki(v,"class")},Yp=function(v,C){if(Sg(v)){var D=v.dom.classList;D.remove(C)}else _o(v,C);Tg(v)},Ci=function(v,C){return Sg(v)&&v.dom.classList.contains(C)},hx=function(v){var C=v.replace(/\./g,"-"),D=function(P){return C+"-"+P};return{resolve:D}},px=hx("ephox-dragster"),Yu=px.resolve,Kp=function(v){var C=Zt({layerClass:Yu("blocker")},v),D=It.fromTag("div");bu(D,"role","presentation"),Ld(D,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ni(D,Yu("blocker")),Ni(D,C.layerClass);var P=I(D),F=function(){Dl(D)};return{element:P,destroy:F}},mx=function(v,C){return Pi(C.left-v.left,C.top-v.top)},tO=function(v){return Q.some(Pi(v.x,v.y))},nO=function(v,C){v.mutate(C.left,C.top)},gx=function(v,C){var D=Kp(C),P=Xp(D.element(),"mousedown",v.forceDrop),F=Xp(D.element(),"mouseup",v.drop),$=Xp(D.element(),"mousemove",v.move),re=Xp(D.element(),"mouseout",v.delayDrop),de=function(){D.destroy(),F.unbind(),$.unbind(),re.unbind(),P.unbind()},Se=function(ot){ka(ot,D.element())},Le=function(){Dl(D.element())};return ik({element:D.element,start:Se,stop:Le,destroy:de})},i0=na({compare:mx,extract:tO,sink:gx,mutate:nO}),q_=function(v,C){C===void 0&&(C={});var D=C.mode!==void 0?C.mode:i0;return o0(v,D,C)},vx=function(v){return Ta(v,"[contenteditable]")},a0=function(v,C){return C===void 0&&(C=!1),!Oe().browser.isIE()&&Jr(v)?v.dom.isContentEditable:vx(v).fold(I(C),function(D){return yx(D)==="true"})},yx=function(v){return v.dom.contentEditable},Il=hx("ephox-snooker"),Mg=Il.resolve,Xd=function(){var v=nu({drag:Vc(["xDelta","yDelta"])}),C=function(D,P){v.trigger.drag(D,P)};return{mutate:C,events:v.registry}},Rl=function(){var v=nu({drag:Vc(["xDelta","yDelta","target"])}),C=Q.none(),D=Xd();D.events.drag.bind(function($){C.each(function(re){v.trigger.drag($.xDelta,$.yDelta,re)})});var P=function($){C=Q.some($)},F=function(){return C};return{assign:P,get:F,mutate:D.mutate,events:v.registry}},sk=function(v,C,D,P,F){var $=It.fromTag("div");return Ld($,{position:"absolute",left:C-P/2+"px",top:D+"px",height:F+"px",width:P+"px"}),Za($,{"data-column":v,role:"presentation"}),$},fs=function(v,C,D,P,F){var $=It.fromTag("div");return Ld($,{position:"absolute",left:C+"px",top:D-F/2+"px",height:F+"px",width:P+"px"}),Za($,{"data-row":v,role:"presentation"}),$},$_=Mg("resizer-bar"),Kh=Mg("resizer-rows"),G_=Mg("resizer-cols"),X_=7,lk=function(v,C){return qe(v.all,function(D,P){return C(D.element)?[P]:[]})},bx=function(v,C){var D=[];return We(v.grid.columns,function(P){var F=yo.getColumnAt(v,P).map(function($){return $.element});F.forall(C)&&D.push(P)}),Ot(D,function(P){var F=yo.filterItems(v,function($){return $.column===P});return Je(F,function($){return C($.element)})})},u0=function(v){var C=$l(v.parent(),"."+$_);pt(C,Dl)},Y_=function(v,C,D){var P=v.origin();pt(C,function(F){F.each(function($){var re=D(P,$);Ni(re,$_),ka(v.parent(),re)})})},rO=function(v,C,D,P){Y_(v,C,function(F,$){var re=sk($.col,$.x-F.left,D.top-F.top,X_,P);return Ni(re,G_),re})},oO=function(v,C,D,P){Y_(v,C,function(F,$){var re=fs($.row,D.left-F.left,$.y-F.top,P,X_);return Ni(re,Kh),re})},Es=function(v,C,D,P,F){var $=jh(D),re=C.isResizable,de=P.length>0?g_.positions(P,D):[],Se=de.length>0?lk(v,re):[],Le=Ot(de,function(sn,Gt){return G(Se,function(Nn){return Gt===Nn})});oO(C,Le,$,Ds(D));var ot=F.length>0?qv.positions(F,D):[],$t=ot.length>0?bx(v,re):[],_n=Ot(ot,function(sn,Gt){return G($t,function(Nn){return Gt===Nn})});rO(C,_n,$,rd(D))},Su=function(v,C){if(u0(v),v.isResizable(C)){var D=yo.fromTable(C),P=Lp(D),F=ug(D);Es(D,v,C,P,F)}},$s=function(v,C){var D=$l(v.parent(),"."+$_);pt(D,C)},Ku=function(v){$s(v,function(C){Na(C,"display","none")})},Pl=function(v){$s(v,function(C){Na(C,"display","block")})},ds=function(v){return Ci(v,Kh)},xx=function(v){return Ci(v,G_)},Jp=Mg("resizer-bar-dragging"),Qp=function(v){var C=Rl(),D=q_(C,{}),P=Q.none(),F=function(Gt,Nn){return Q.from(bc(Gt,Nn))};C.events.drag.bind(function(Gt){F(Gt.target,"data-row").each(function(Nn){var Pn=Ih(Gt.target,"top");Na(Gt.target,"top",Pn+Gt.yDelta+"px")}),F(Gt.target,"data-column").each(function(Nn){var Pn=Ih(Gt.target,"left");Na(Gt.target,"left",Pn+Gt.xDelta+"px")})});var $=function(Gt,Nn){var Pn=Ih(Gt,Nn),xr=Nc(Gt,"data-initial-"+Nn,0);return Pn-xr};D.events.stop.bind(function(){C.get().each(function(Gt){P.each(function(Nn){F(Gt,"data-row").each(function(Pn){var xr=$(Gt,"top");Ki(Gt,"data-initial-top"),sn.trigger.adjustHeight(Nn,xr,parseInt(Pn,10))}),F(Gt,"data-column").each(function(Pn){var xr=$(Gt,"left");Ki(Gt,"data-initial-left"),sn.trigger.adjustWidth(Nn,xr,parseInt(Pn,10))}),Su(v,Nn)})})});var re=function(Gt,Nn){sn.trigger.startAdjust(),C.assign(Gt),bu(Gt,"data-initial-"+Nn,Ih(Gt,Nn)),Ni(Gt,Jp),Na(Gt,"opacity","0.2"),D.go(v.parent())},de=Xp(v.parent(),"mousedown",function(Gt){ds(Gt.target)&&re(Gt.target,"top"),xx(Gt.target)&&re(Gt.target,"left")}),Se=function(Gt){return ro(Gt,v.view())},Le=function(Gt){return Ta(Gt,"table",Se).filter(a0)},ot=Xp(v.view(),"mouseover",function(Gt){Le(Gt.target).fold(function(){Jr(Gt.target)&&u0(v)},function(Nn){P=Q.some(Nn),Su(v,Nn)})}),$t=function(){de.unbind(),ot.unbind(),D.destroy(),u0(v)},_n=function(Gt){Su(v,Gt)},sn=nu({adjustHeight:Vc(["table","delta","row"]),adjustWidth:Vc(["table","delta","column"]),startAdjust:Vc([])});return{destroy:$t,refresh:_n,on:D.on,off:D.off,hideBars:q(Ku,v),showBars:q(Pl,v),events:sn.registry}},K_=function(v,C,D){var P=g_,F=qv,$=Qp(v),re=nu({beforeResize:Vc(["table","type"]),afterResize:Vc(["table","type"]),startDrag:Vc([])});return $.events.adjustHeight.bind(function(de){var Se=de.table;re.trigger.beforeResize(Se,"row");var Le=P.delta(de.delta,Se);U5(Se,Le,de.row,P),re.trigger.afterResize(Se,"row")}),$.events.startAdjust.bind(function(de){re.trigger.startDrag()}),$.events.adjustWidth.bind(function(de){var Se=de.table;re.trigger.beforeResize(Se,"col");var Le=F.delta(de.delta,Se),ot=D(Se);P_(Se,Le,de.column,C,ot),re.trigger.afterResize(Se,"col")}),{on:$.on,off:$.off,hideBars:$.hideBars,showBars:$.showBars,destroy:$.destroy,events:re.registry}},ck={create:K_},_x=function(v,C){return v.fire("newrow",{node:C})},Jh=function(v,C){return v.fire("newcell",{node:C})},Zp=function(v,C,D,P,F){v.fire("ObjectResizeStart",{target:C,width:D,height:P,origin:F})},fk=function(v,C,D,P,F){v.fire("ObjectResized",{target:C,width:D,height:P,origin:F})},iO=function(v,C,D,P,F){v.fire("TableSelectionChange",{cells:C,start:D,finish:P,otherCells:F})},Sx=function(v){v.fire("TableSelectionClear")},dl=function(v,C,D){v.fire("TableModified",Zt(Zt({},D),{table:C}))},Cx={structure:!1,style:!0},Cu={structure:!0,style:!1},dk={structure:!0,style:!0},aO="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",J_={"border-collapse":"collapse",width:"100%"},hk=We(5,function(v){var C=v+1+"px";return{title:C,value:C}}),pk=Ge(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(v){return{title:v,value:v.toLowerCase()}}),zn=function(v){var C;if(l0(v)){var D=v.dom,P=(C=D.getParent(v.selection.getStart(),D.isBlock))!==null&&C!==void 0?C:v.getBody(),F=oi(It.fromDom(P));return Zt(Zt({},J_),{width:F+"px"})}else return tm(v)?Ou(J_,function($,re){return re!=="width"}):J_},uO={border:"1"},Xa="preservetable",Q_=function(v){return v.getParam("table_sizing_mode","auto")},kg=function(v){return v.getParam("table_responsive_width")},Tx=function(v){return v.getParam("table_border_widths",hk,"array")},rc=function(v){return v.getParam("table_border_styles",pk,"array")},s0=function(v){return v.getParam("table_default_attributes",uO,"object")},Gy=function(v){return v.getParam("table_default_styles",zn(v),"object")},Mx=function(v){return v.getParam("table_resize_bars",!0,"boolean")},Yd=function(v){return v.getParam("table_tab_navigation",!0,"boolean")},Xy=function(v){return v.getParam("table_cell_advtab",!0,"boolean")},kx=function(v){return v.getParam("table_row_advtab",!0,"boolean")},oc=function(v){return v.getParam("table_advtab",!0,"boolean")},Cf=function(v){return v.getParam("table_appearance_options",!0,"boolean")},Qh=function(v){return v.getParam("table_grid",!0,"boolean")},Tu=function(v){return v.getParam("table_style_by_css",!1,"boolean")},Z_=function(v){return v.getParam("table_cell_class_list",[],"array")},Ut=function(v){return v.getParam("table_row_class_list",[],"array")},em=function(v){return v.getParam("table_class_list",[],"array")},Yy=function(v){return Q_(v)==="relative"||kg(v)===!0},l0=function(v){return Q_(v)==="fixed"||kg(v)===!1},tm=function(v){return Q_(v)==="responsive"},ld=function(v){return v.getParam("table_toolbar",aO)},eS=function(v){return v.getParam("table_use_colgroups",!1,"boolean")},tS=function(v){var C="section",D=v.getParam("table_header_type",C,"string"),P=["section","cells","sectionCells","auto"];return tt(P,D)?D:C},Dx=function(v){var C=["preservetable","resizetable"],D=v.getParam("table_column_resizing",Xa,"string");return Ye(C,function(P){return P===D}).getOr(Xa)},Ax=function(v){return Dx(v)==="preservetable"},mk=function(v){return Dx(v)==="resizetable"},nS=function(v){var C=v.getParam("table_clone_elements");return i(C)?Q.some(C.split(/[ ,]/)):Array.isArray(C)?Q.some(C):Q.none()},rS=function(v){var C=v.getParam("object_resizing",!0);return i(C)?C==="table":C},oS=function(v){return v.getParam("table_background_color_map",[],"array")},iS=function(v){return v.getParam("table_border_color_map",[],"array")},aS=function(v,C){return Yy(v)?qh.percentageSize(C):l0(v)?qh.pixelSize(C):qh.getTableSize(C)},Dg=function(v){Ki(v,"width")},sO=function(v){var C=Yv(v);kc(v,Q.some(C),Q.none()),Dg(v)},gk=function(v){var C=R5(v);kc(v,Q.some(C),Q.none()),Dg(v)},Ex=function(v){as(v,"width");var C=Zf(v),D=C.length>0?C:Lh(v);pt(D,function(P){as(P,"width"),Dg(P)}),Dg(v)},Ky=sO,Ox=gk,Ix=Ex,Rx=function(v){var C=yo.fromTable(v);yo.hasColumns(C)||pt(Lh(v),function(D){var P=Jf(D,"width");Na(D,"width",P),Ki(D,"width")})},Ag=function(){var v=It.fromTag("div");return Ld(v,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ka(Hr(),v),v},vk=function(v,C){return v.inline?sx.body(Ol(v),Ag(),C):sx.only(It.fromDom(v.getDoc()),C)},Ba=function(v,C){v.inline&&Dl(C.parent())},Px="bar-",Ya=function(v){return bc(v,"data-mce-resize")!=="false"},Nx=function(v){var C=Q.none(),D=Q.none(),P=Q.none(),F,$,re=function(Gt){return Gt.nodeName==="TABLE"},de=function(){return D},Se=function(){return P.getOr(sx.only(It.fromDom(v.getBody()),Ya))},Le=function(Gt){return aS(v,Gt)},ot=function(){return Ax(v)?qp():tk()},$t=function(Gt){return sd(Gt).columns},_n=function(Gt,Nn,Pn){var xr=et(Nn,"e");if($===""&&Ky(Gt),Pn!==F&&$!==""){Na(Gt,"width",$);var qo=ot(),Ar=Le(Gt),Gr=Ax(v)||xr?$t(Gt)-1:0;P_(Gt,Pn-F,Gr,qo,Ar)}else if(L5($)){var Po=parseFloat($.replace("%","")),xo=Pn*Po/F;Na(Gt,"width",xo+"%")}jy($)&&Rx(Gt)},sn=function(){D.each(function(Gt){Gt.destroy()}),P.each(function(Gt){Ba(v,Gt)})};return v.on("init",function(){var Gt=vk(v,Ya);if(P=Q.some(Gt),rS(v)&&Mx(v)){var Nn=ot(),Pn=ck.create(Gt,Nn,Le);Pn.on(),Pn.events.startDrag.bind(function(xr){C=Q.some(v.selection.getRng())}),Pn.events.beforeResize.bind(function(xr){var qo=xr.table.dom;Zp(v,qo,od(qo),Xh(qo),Px+xr.type)}),Pn.events.afterResize.bind(function(xr){var qo=xr.table,Ar=qo.dom;$u(qo),C.each(function(Gr){v.selection.setRng(Gr),v.focus()}),fk(v,Ar,od(Ar),Xh(Ar),Px+xr.type),v.undoManager.add()}),D=Q.some(Pn)}}),v.on("ObjectResizeStart",function(Gt){var Nn=Gt.target;if(re(Nn)){var Pn=It.fromDom(Nn);pt(v.dom.select(".mce-clonedresizable"),function(xr){v.dom.addClass(xr,"mce-"+Dx(v)+"-columns")}),!$p(Pn)&&l0(v)?Ox(Pn):!ok(Pn)&&Yy(v)&&Ky(Pn),qy(Pn)&&er(Gt.origin,Px)&&Ky(Pn),F=Gt.width,$=tm(v)?"":Zv(v,Nn).getOr("")}}),v.on("ObjectResized",function(Gt){var Nn=Gt.target;if(re(Nn)){var Pn=It.fromDom(Nn),xr=Gt.origin;er(xr,"corner-")&&_n(Pn,xr,Gt.width),$u(Pn),dl(v,Pn.dom,Cx)}}),v.on("SwitchMode",function(){de().each(function(Gt){v.mode.isReadOnly()?Gt.hideBars():Gt.showBars()})}),{lazyResize:de,lazyWire:Se,destroy:sn}},c0=function(v,C){return{element:v,offset:C}},Lx=function(v,C,D){return v.property().isText(C)&&v.property().getText(C).trim().length===0||v.property().isComment(C)?D(C).bind(function(P){return Lx(v,P,D).orThunk(function(){return Q.some(P)})}):Q.none()},f0=function(v,C){if(v.property().isText(C))return v.property().getText(C).length;var D=v.property().children(C);return D.length},yk=function(v,C){var D=Lx(v,C,v.query().prevSibling).getOr(C);if(v.property().isText(D))return c0(D,f0(v,D));var P=v.property().children(D);return P.length>0?yk(v,P[P.length-1]):c0(D,f0(v,D))},bk=yk,lO=Ey(),cO=function(v){return bk(lO,v)},xk=function(v,C){var D=xu(v,"colspan");if(D===1){var P=Gv(v);P.each(function(F){var $=F.value/2;Xv(v,$,F.unit),Xv(C,$,F.unit)})}},Bx=ia("th"),zx=function(v){return Je(v,function(C){return Bx(C.element)})},fO=function(v,C){return v&&C?"sectionCells":v?"section":"cells"},wk=function(v){var C=v.section==="thead",D=Kf(uS(v.cells),"th");return C||D?{type:"header",subType:fO(C,D)}:v.section==="tfoot"?{type:"footer"}:{type:"body"}},uS=function(v){var C=Ot(v,function(D){return Bx(D.element)});return C.length===0?Q.some("td"):C.length===v.length?Q.some("th"):Q.none()},_k=function(v){var C=Ge(v,function($){return wk($).type}),D=tt(C,"header"),P=tt(C,"footer");if(!D&&!P)return Q.some("body");var F=tt(C,"body");return D&&!F&&!P?Q.some("header"):!D&&!F&&P?Q.some("footer"):Q.none()},dO=function(v){return Mn(v.all,function(C){var D=wk(C);return D.type==="header"?Q.from(D.subType):Q.none()})},hs=function(v,C,D){return Wa(D(v.element,C),!0,v.isLocked)},Eg=function(v,C){return v.section!==C?Hs(v.element,v.cells,C,v.isNew):v},sS=function(){return{transformRow:Eg,transformCell:function(v,C,D){var P=D(v.element,C),F=Oo(P)!=="td"?M5(P,"td"):P;return Wa(F,v.isNew,v.isLocked)}}},Sk=function(){return{transformRow:Eg,transformCell:hs}},d0=function(){return{transformRow:function(v,C){var D=C==="thead"?"tbody":C;return Eg(v,D)},transformCell:hs}},Ck=function(){return{transformRow:z,transformCell:hs}},hO=function(v,C){var D=yo.fromTable(v),P=dO(D).getOr(C);switch(P){case"section":return sS();case"sectionCells":return Sk();case"cells":return d0()}},Jy={getTableSectionType:hO,section:sS,sectionCells:Sk,cells:d0,fallback:Ck},Qy=function(v,C,D,P){D===P?Ki(v,C):bu(v,C,D)},nm=function(v,C,D){Bt(so(v,C)).fold(function(){return ss(v,D)},function(P){return Fi(P,D)})},Fx=function(v,C){var D=Wr(v,C).getOrThunk(function(){var P=It.fromTag(C,ql(v).dom);return C==="thead"?nm(v,"caption,colgroup",P):C==="colgroup"?nm(v,"caption",P):ka(v,P),P});return Dy(D),D},Hx=function(v,C){var D=[],P=[],F=function(sn){return Ge(sn,function(Gt){Gt.isNew&&D.push(Gt.element);var Nn=Gt.element;return Dy(Nn),pt(Gt.cells,function(Pn){Pn.isNew&&P.push(Pn.element),Qy(Pn.element,"colspan",Pn.colspan,1),Qy(Pn.element,"rowspan",Pn.rowspan,1),ka(Nn,Pn.element)}),Nn})},$=function(sn){return qe(sn,function(Gt){return Ge(Gt.cells,function(Nn){return Qy(Nn.element,"span",Nn.colspan,1),Nn.element})})},re=function(sn,Gt){var Nn=Fx(v,Gt),Pn=Gt==="colgroup"?$:F,xr=Pn(sn);ed(Nn,xr)},de=function(sn){Wr(v,sn).each(Dl)},Se=function(sn,Gt){sn.length>0?re(sn,Gt):de(Gt)},Le=[],ot=[],$t=[],_n=[];return pt(C,function(sn){switch(sn.section){case"thead":Le.push(sn);break;case"tbody":ot.push(sn);break;case"tfoot":$t.push(sn);break;case"colgroup":_n.push(sn);break}}),Se(_n,"colgroup"),Se(Le,"thead"),Se(ot,"tbody"),Se($t,"tfoot"),{newRows:D,newCells:P}},Vx=function(v){return Ge(v,function(C){var D=gf(C.element);return pt(C.cells,function(P){var F=mi(P.element);Qy(F,"colspan",P.colspan,1),Qy(F,"rowspan",P.rowspan,1),ka(D,F)}),D})},pO=function(v,C){return Ge(v,function(D){return al(D,C)})},Zh=function(v,C){return v[C]},jx=function(v,C){if(v.length===0)return 0;var D=v[0],P=je(v,function(F){return!C(D.element,F.element)});return P.getOr(v.length)},mO=function(v,C,D,P){var F=Zh(v,C),$=F.section==="colgroup",re=jx(F.cells.slice(D),P),de=$?1:jx(pO(v.slice(C),D),P);return{colspan:re,rowspan:de}},rm=function(v,C){var D=Ge(v,function(F){return Ge(F.cells,ae)}),P=function(F,$,re,de){for(var Se=F;Se<F+re;Se++)for(var Le=$;Le<$+de;Le++)D[Se][Le]=!0};return Ge(v,function(F,$){var re=qe(F.cells,function(de,Se){if(D[$][Se]===!1){var Le=mO(v,$,Se,C);return P($,Se,Le.rowspan,Le.colspan),[uo(de.element,Le.rowspan,Le.colspan,de.isNew)]}else return[]});return rl(F.element,re,F.section,F.isNew)})},om=function(v,C,D){var P=[];pt(v.colgroups,function(ot){for(var $t=[],_n=0;_n<v.grid.columns;_n++){var sn=yo.getColumnAt(v,_n).map(function(Gt){return Wa(Gt.element,D,!1)}).getOrThunk(function(){return Wa(C.colGap(),!0,!1)});$t.push(sn)}P.push(Hs(ot.element,$t,"colgroup",D))});for(var F=0;F<v.grid.rows;F++){for(var $=[],re=0;re<v.grid.columns;re++){var de=yo.getAt(v,F,re).map(function(ot){return Wa(ot.element,D,ot.isLocked)}).getOrThunk(function(){return Wa(C.gap(),!0,!1)});$.push(de)}var Se=v.all[F],Le=Hs(Se.element,$,Se.section,D);P.push(Le)}return P},Tk=function(v,C){return om(v,C,!1)},Zy=function(v){return rm(v,ro)},lS=function(v,C){return Mn(v.all,function(D){return Ye(D.cells,function(P){return ro(C,P.element)})})},Ux=function(v,C,D){var P=Ge(C.selection,function($){return Qf($).bind(function(re){return lS(v,re)}).filter(D)}),F=cu(P);return Ii(F.length>0,F)},Ju=function(v,C,D,P,F){return function($,re,de,Se,Le){var ot=yo.fromTable(re),$t=Q.from(Le==null?void 0:Le.section).getOrThunk(Jy.fallback),_n=C(ot,de).map(function(sn){var Gt=Tk(ot,Se),Nn=v(Gt,sn,ro,F(Se),$t),Pn=us(Nn.grid),xr=Zy(Nn.grid);return{info:sn,grid:xr,cursor:Nn.cursor,lockedColumns:Pn}});return _n.bind(function(sn){var Gt=Hx(re,sn.grid),Nn=Q.from(Le==null?void 0:Le.sizing).getOrThunk(function(){return qh.getTableSize(re)}),Pn=Q.from(Le==null?void 0:Le.resize).getOrThunk(qp);return D(re,sn.grid,sn.info,{sizing:Nn,resize:Pn,section:$t}),P(re),Su($,re),Ki(re,eu),sn.lockedColumns.length>0&&bu(re,eu,sn.lockedColumns.join(",")),Q.some({cursor:sn.cursor,newRows:Gt.newRows,newCells:Gt.newCells})})}},gO=function(v,C){return Qf(C.element).bind(function(D){return lS(v,D).map(function(P){var F=Zt(Zt({},P),{generators:C.generators,clipboard:C.clipboard});return F})})},Wx=function(v,C){return Ux(v,C,te).map(function(D){return{cells:D,generators:C.generators,clipboard:C.clipboard}})},Mk=function(v,C){return C.mergable},vO=function(v,C){return C.unmergable},Tf=function(v,C){return Ux(v,C,te)},ep=function(v,C){return Ux(v,C,function(D){return!D.isLocked})},yO=function(v,C){return lS(v,C).exists(function(D){return!D.isLocked})},cS=function(v,C){return Je(C,function(D){return yO(v,D)})},fS=function(v,C){return Mk(v,C).filter(function(D){return cS(v,D.cells)})},Og=function(v,C){return vO(v,C).filter(function(D){return cS(v,D)})},kk=function(v,C,D,P){var F=qa(v).rows;if(F.length===0)return v;for(var $=C.startRow;$<=C.finishRow;$++)for(var re=C.startCol;re<=C.finishCol;re++){var de=F[$],Se=al(de,re).isLocked;Bd(de,re,Wa(P(),!1,Se))}return v},h0=function(v,C,D,P){for(var F=qa(v).rows,$=!0,re=0;re<F.length;re++)for(var de=0;de<wc(F[0]);de++){var Se=F[re],Le=al(Se,de),ot=Le.element,$t=D(ot,C);$t===!0&&$===!1?Bd(Se,de,Wa(P(),!0,Le.isLocked)):$t===!0&&($=!1)}return v},bO=function(v,C){return fe(v,function(D,P){return G(D,function(F){return C(F.element,P.element)})?D:D.concat([P])},[])},xO=function(v,C,D,P){return C>0&&C<v[0].cells.length&&pt(v,function(F){var $=F.cells[C-1],re=F.cells[C],de=D(re.element,$.element);de&&Bd(F,C,Wa(P(),!0,re.isLocked))}),v},wO=function(v,C,D,P){var F=qa(v).rows;if(C>0&&C<F.length){var $=F[C-1].cells,re=bO($,D);pt(re,function(de){for(var Se=Q.none(),Le=C;Le<F.length;Le++)for(var ot=function(_n){var sn=F[Le],Gt=al(sn,_n),Nn=D(Gt.element,de.element);Nn&&(Se.isNone()&&(Se=Q.some(P())),Se.each(function(Pn){Bd(sn,_n,Wa(Pn,!0,Gt.isLocked))}))},$t=0;$t<wc(F[0]);$t++)ot($t)})}return v},p0=function(v){var C=function($t){return p0(v)},D=function($t){return p0(v)},P=function($t){return p0($t(v))},F=function($t){return p0(v)},$=function($t){$t(v)},re=function($t){return $t(v)},de=function($t,_n){return _n(v)},Se=function($t){return $t(v)},Le=function($t){return $t(v)},ot=function(){return Q.some(v)};return{isValue:te,isError:ae,getOr:I(v),getOrThunk:I(v),getOrDie:I(v),or:C,orThunk:D,fold:de,map:P,mapError:F,each:$,bind:re,exists:Se,forall:Le,toOptional:ot}},Ig=function(v){var C=function(Le){return Le()},D=function(){return Y(String(v))()},P=z,F=function(Le){return Le()},$=function(Le){return Ig(v)},re=function(Le){return Ig(Le(v))},de=function(Le){return Ig(v)},Se=function(Le,ot){return Le(v)};return{isValue:ae,isError:te,getOr:z,getOrThunk:C,getOrDie:D,or:P,orThunk:F,fold:Se,map:$,mapError:re,each:k,bind:de,exists:ae,forall:te,toOptional:Q.none}},dS=function(v,C){return v.fold(function(){return Ig(C)},p0)},Dk={value:p0,error:Ig,fromOption:dS},_O=function(v,C,D){if(v.row>=C.length||v.column>wc(C[0]))return Dk.error("invalid start address out of table bounds, row: "+v.row+", column: "+v.column);var P=C.slice(v.row),F=P[0].cells.slice(v.column),$=wc(D[0]),re=D.length;return Dk.value({rowDelta:P.length-re,colDelta:F.length-$})},Ak=function(v,C){var D=wc(v[0]),P=wc(C[0]);return{rowDelta:0,colDelta:D-P}},Ek=function(v,C){var D=v.length,P=C.length;return{rowDelta:D-P,colDelta:0}},hS=function(v,C,D,P){var F=C.section==="colgroup"?D.col:D.cell;return We(v,function($){return Wa(F(),!0,P($))})},SO=function(v,C,D,P){var F=v[v.length-1];return v.concat(We(C,function(){var $=F.section==="colgroup"?D.colgroup:D.row,re=wu(F,$,z),de=hS(re.cells.length,re,D,function(Se){return we(P,Se.toString())});return Xr(re,de)}))},qx=function(v,C,D,P){return Ge(v,function(F){var $=hS(C,F,D,ae);return Bh(F,P,$)})},CO=function(v,C,D){return Ge(v,function(P){return fe(D,function(F,$){var re=hS(1,P,C,te)[0];return zh(F,$,re)},P)})},e1=function(v,C,D){var P=C.colDelta<0?qx:z,F=C.rowDelta<0?SO:z,$=us(v),re=wc(v[0]),de=G($,function(ot){return ot===re-1}),Se=P(v,Math.abs(C.colDelta),D,de?re-1:re),Le=us(Se);return F(Se,Math.abs(C.rowDelta),D,Ft(Le,te))},TO=function(v,C,D,P){var F=al(v[C],D),$=q(P,F.element),re=v[C];return v.length>1&&wc(re)>1&&(D>0&&$(Ms(re,D-1))||D<re.cells.length-1&&$(Ms(re,D+1))||C>0&&$(Ms(v[C-1],D))||C<v.length-1&&$(Ms(v[C+1],D)))},pS=function(v,C,D,P,F,$){for(var re=v.row,de=v.column,Se=D.length,Le=wc(D[0]),ot=re+Se,$t=de+Le+$.length,_n=Ft($,te),sn=re;sn<ot;sn++)for(var Gt=0,Nn=de;Nn<$t;Nn++){if(_n[Nn]){Gt++;continue}TO(C,sn,Nn,F)&&h0(C,Ms(C[sn],Nn),F,P.cell);var Pn=Nn-de-Gt,xr=al(D[sn-re],Pn),qo=xr.element,Ar=P.replace(qo);Bd(C[sn],Nn,Wa(Ar,!0,xr.isLocked))}return C},MO=function(v,C,D){var P=wc(C[0]),F=qa(C).cols.length+v.row,$=We(P-v.column,function(de){return de+v.column}),re=Ye($,function(de){return Je(D,function(Se){return Se!==de})}).getOr(P-1);return{row:F,column:re}},Ok=function(v,C,D){return Ot(D,function(P){return P>=v.column&&P<=wc(C[0])+v.column})},kO=function(v,C,D,P,F){var $=us(C),re=MO(v,C,$),de=qa(D).rows,Se=Ok(re,de,$),Le=_O(re,C,de);return Le.map(function(ot){var $t=Zt(Zt({},ot),{colDelta:ot.colDelta-Se.length}),_n=e1(C,$t,P),sn=us(_n),Gt=Ok(re,de,sn);return pS(re,_n,de,P,F,Gt)})},m0=function(v,C,D,P,F){xO(C,v,F,P.cell);var $=Ek(D,C),re=e1(D,$,P),de=Ek(C,re),Se=e1(C,de,P);return Ge(Se,function(Le,ot){return Bh(Le,v,re[ot].cells)})},Ik=function(v,C,D,P,F){wO(C,v,F,P.cell);var $=us(C),re=Ak(C,D),de=Zt(Zt({},re),{colDelta:re.colDelta-$.length}),Se=e1(C,de,P),Le=qa(Se),ot=Le.cols,$t=Le.rows,_n=us(Se),sn=Ak(D,C),Gt=Zt(Zt({},sn),{colDelta:sn.colDelta+_n.length}),Nn=CO(D,P,_n),Pn=e1(Nn,Gt,P);return ot.concat($t.slice(0,v)).concat(Pn).concat($t.slice(v,$t.length))},DO=function(v,C,D,P){return wu(v,function(F){return P(F,D)},C)},mS=function(v,C,D,P,F){var $=qa(v),re=$.rows,de=$.cols,Se=re.slice(0,C),Le=re.slice(C),ot=DO(re[D],function($t,_n){var sn=C>0&&C<re.length&&P(Ms(re[C-1],_n),Ms(re[C],_n)),Gt=sn?al(re[C],_n):Wa(F($t.element,P),!0,$t.isLocked);return Gt},P,F);return de.concat(Se).concat([ot]).concat(Le)},gS=function(v,C,D,P,F,$,re){if(D==="colgroup"||!P){var de=al(v,F);return Wa(re(de.element,$),!0,!1)}else return al(v,C)},$x=function(v,C,D,P,F){return Ge(v,function($){var re=C>0&&C<wc($)&&P(Ms($,C-1),Ms($,C)),de=gS($,C,$.section,re,D,P,F);return zh($,C,de)})},Rk=function(v,C){return qe(v,function(D){var P=D.cells,F=Nt(C,function($,re){return re>=0&&re<$.length?$.slice(0,re).concat($.slice(re+1)):$},P);return F.length>0?[Hs(D.element,F,D.section,D.isNew)]:[]})},Pk=function(v,C,D){var P=qa(v),F=P.rows,$=P.cols;return $.concat(F.slice(0,C)).concat(F.slice(D+1))},g0=function(v,C,D,P){return Ms(v[C],D)!==void 0&&C>0&&P(Ms(v[C-1],D),Ms(v[C],D))},Nk=function(v,C,D){return C>0&&D(Ms(v,C-1),Ms(v,C))},Lk=function(v,C,D,P){return g0(v,C,D,P)||Nk(v[C],D,P)},AO=function(v,C){var D=Je(C,z)&&zx(v.cells);return D?te:function(P,F,$){var re=Oo(P.element);return!(re==="th"&&C[$])}},EO=function(v,C){var D=Je(C,z)&&zx(v);return D?te:function(P,F,$){var re=Oo(P.element);return!(re==="th"&&C[F])}},vS=function(v,C,D,P){var F=function(de){return de==="row"?$b(C):og(C)},$=function(de){return F(de)?de+"group":de};if(v)return Bx(C)?$(D):null;if(P&&Bx(C)){var re=D==="row"?"col":"row";return $(re)}else return null},Rg=function(v,C){return function(D,P,F){return Q.some(vS(v,D.element,"col",C[F]))}},Gx=function(v,C){return function(D,P){return Q.some(vS(v,D.element,"row",C[P]))}},Bk=function(v,C,D){return Wa(D(v.element,C),!0,v.isLocked)},Xx=function(v,C,D,P,F,$,re){var de=function(Se){return G(C,function(Le){return D(Se.element,Le.element)})};return Ge(v,function(Se,Le){return xc(Se,function(ot,$t){if(de(ot)){var _n=re(ot,Le,$t)?F(ot,D,P):ot;return $(_n,Le,$t).each(function(sn){Eh(_n.element,{scope:Q.from(sn)})}),_n}else return ot})})},zk=function(v,C,D){return qe(v,function(P,F){return Lk(v,F,C,D)?[]:[al(P,C)]})},OO=function(v,C,D){var P=v[C];return qe(P.cells,function(F,$){return Lk(v,C,$,D)?[]:[F]})},yS=function(v,C,D,P,F){var $=qa(v).rows,re=qe(C,function(ot){return zk($,ot,P)}),de=Ge(v,function(ot){return zx(ot.cells)}),Se=EO(re,de),Le=Gx(D,de);return Xx(v,re,P,F,Bk,Le,Se)},IO=function(v,C,D,P,F,$,re){var de=qa(v),Se=de.cols,Le=de.rows,ot=Le[C[0]],$t=qe(C,function(xr){return OO(Le,xr,F)}),_n=Ge(ot.cells,function(xr,qo){return zx(zk(Le,qo,F))}),sn=Qn([],Le,!0);pt(C,function(xr){sn[xr]=re.transformRow(Le[xr],D)});var Gt=Se.concat(sn),Nn=AO(ot,_n),Pn=Rg(P,_n);return Xx(Gt,$t,F,$,re.transformCell,Pn,Nn)},Fk=function(v,C,D,P){var F=qa(v).rows,$=Ge(C,function(re){return al(F[re.row],re.column)});return Xx(v,$,D,P,Bk,Q.none,te)},Pg=function(v){var C=function(D,P){var F=G(D,function($){return $.column===P.column});return F?D:D.concat([P])};return fe(v,C,[]).sort(function(D,P){return D.column-P.column})},Ru=ia("col"),im=ia("colgroup"),Yx=function(v){return Oo(v)==="tr"||im(v)},RO=function(v){var C=Nc(v,"colspan",1),D=Nc(v,"rowspan",1);return{element:v,colspan:C,rowspan:D}},Hk=function(v,C){C===void 0&&(C=RO);var D=function(de){return Ru(de.element)?v.col(de):v.cell(de)},P=function(de){return im(de.element)?v.colgroup(de):v.row(de)},F=function(de){if(Yx(de))return P({element:de});var Se=D(C(de));return $=Q.some({item:de,replacement:Se}),Se},$=Q.none(),re=function(de,Se){return $.fold(function(){return F(de)},function(Le){return Se(de,Le.item)?Le.replacement:F(de)})};return{getOrInit:re}},Vk=function(v){return function(C){var D=[],P=function(re,de){return Ye(D,function(Se){return de(Se.item,re)})},F=function(re){var de=v==="td"?{scope:null}:{},Se=C.replace(re,v,de);return D.push({item:re,sub:Se}),Se},$=function(re,de){return Yx(re)||Ru(re)?re:P(re,de).fold(function(){return F(re)},function(Se){return de(re,Se.item)?Se.sub:F(re)})};return{replaceOrInit:$}}},bS=function(v){return ri(v,"scope").map(function(C){return C.substr(0,3)})},xS=function(v){var C=function(P){var F=bS(P);return F.each(function($){return bu(P,"scope",$)}),function(){var $=v.cell({element:P,colspan:1,rowspan:1});return as($,"width"),as(P,"width"),F.each(function(re){return bu($,"scope",re)}),$}},D=function(P){var F=function(){var $=cu(Ge(P,bS));if($.length===0)return Q.none();var re=$[0],de=["row","col"],Se=G($,function(Le){return Le!==re&&tt(de,Le)});return Se?Q.none():Q.from(re)};return as(P[0],"width"),F().fold(function(){return Ki(P[0],"scope")},function($){return bu(P[0],"scope",$+"group")}),I(P[0])};return{unmerge:C,merge:D}},ic={modification:Hk,transform:Vk,merging:xS},tp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ng=function(v,C){var D=v.property().name(C);return tt(["ol","ul"],D)},t1=function(v,C){var D=v.property().name(C);return tt(tp,D)},Lg=function(v,C){return tt(["br","img","hr","input"],v.property().name(C))},Kd=Ey(),Mf=function(v){return t1(Kd,v)},v0=function(v){return Ng(Kd,v)},wS=function(v){return Lg(Kd,v)},jk=function(v){var C=function(Se){return Oo(Se)==="br"},D=function(Se){return Je(Se,function(Le){return C(Le)||is(Le)&&Xb(Le).trim().length===0})},P=function(Se){return Oo(Se)==="li"||xa(Se,v0).isSome()},F=function(Se){return W(Se).map(function(Le){return Mf(Le)?!0:wS(Le)?Oo(Le)!=="img":!1}).getOr(!1)},$=function(Se){return rx(Se).bind(function(Le){var ot=F(Le);return aa(Le).map(function($t){return ot===!0||P($t)||C(Le)||Mf($t)&&!ro(Se,$t)?[]:[It.fromTag("br")]})}).getOr([])},re=function(){var Se=qe(v,function(Le){var ot=H(Le);return D(ot)?[]:ot.concat($(Le))});return Se.length===0?[It.fromTag("br")]:Se},de=re();Dy(v[0]),ed(v[0],de)},Kx=function(v){return a0(v,!0)},Bg=function(v){var C=Lh(v);C.length===0&&Dl(v)},np=function(v,C){return{grid:v,cursor:C}},Jx=function(v){return Mn(v,function(C){return Mn(C.cells,function(D){var P=D.element;return Ii(Kx(P),P)})})},_S=function(v,C,D){var P,F,$=qa(v).rows;return Q.from((F=(P=$[C])===null||P===void 0?void 0:P.cells[D])===null||F===void 0?void 0:F.element).filter(Kx).orThunk(function(){return Jx($)})},Qu=function(v,C,D){var P=_S(v,C,D);return np(v,P)},am=function(v){var C=function(D,P){var F=G(D,function($){return $.row===P.row});return F?D:D.concat([P])};return fe(v,C,[]).sort(function(D,P){return D.row-P.row})},Uk=function(v,C,D,P){var F=C[0].row,$=am(C),re=Nt($,function(de,Se){var Le=mS(de.grid,F,Se.row+de.delta,D,P.getOrInit);return{grid:Le,delta:de.delta+1}},{grid:v,delta:0}).grid;return Qu(re,F,C[0].column)},SS=function(v,C,D,P){var F=am(C),$=F[F.length-1],re=$.row+$.rowspan,de=Nt(F,function(Se,Le){return mS(Se,re,Le.row,D,P.getOrInit)},v);return Qu(de,re,C[0].column)},Qx=function(v,C,D,P){var F=C.details,$=Pg(F),re=$[0].column,de=Nt($,function(Se,Le){var ot=$x(Se.grid,re,Le.column+Se.delta,D,P.getOrInit);return{grid:ot,delta:Se.delta+1}},{grid:v,delta:0}).grid;return Qu(de,F[0].row,re)},ps=function(v,C,D,P){var F=C.details,$=F[F.length-1],re=$.column+$.colspan,de=Pg(F),Se=Nt(de,function(Le,ot){return $x(Le,re,ot.column,D,P.getOrInit)},v);return Qu(Se,F[0].row,re)},PO=function(v,C,D,P){var F=Pg(C),$=Ge(F,function(de){return de.column}),re=yS(v,$,!0,D,P.replaceOrInit);return Qu(re,C[0].row,C[0].column)},Jd=function(v,C,D,P){var F=Fk(v,C,D,P.replaceOrInit);return Qu(F,C[0].row,C[0].column)},Wk=function(v,C,D,P){var F=Pg(C),$=Ge(F,function(de){return de.column}),re=yS(v,$,!1,D,P.replaceOrInit);return Qu(re,C[0].row,C[0].column)},CS=function(v,C,D,P){var F=Fk(v,C,D,P.replaceOrInit);return Qu(F,C[0].row,C[0].column)},um=function(v,C){return function(D,P,F,$,re){var de=am(P),Se=Ge(de,function(ot){return ot.row}),Le=IO(D,Se,v,C,F,$.replaceOrInit,re);return Qu(Le,P[0].row,P[0].column)}},qk=um("thead",!0),Zx=um("tbody",!1),$k=um("tfoot",!1),TS=function(v,C,D,P){var F=Pg(C.details),$=Rk(v,Ge(F,function(de){return de.column})),re=$.length>0?$[0].cells.length-1:0;return Qu($,F[0].row,Math.min(F[0].column,re))},Gk=function(v,C,D,P){var F=am(C),$=Pk(v,F[0].row,F[F.length-1].row),re=$.length>0?$.length-1:0;return Qu($,Math.min(C[0].row,re),C[0].column)},NO=function(v,C,D,P){var F=C.cells;jk(F);var $=kk(v,C.bounds,D,P.merge(F));return np($,Q.from(F[0]))},MS=function(v,C,D,P){var F=function(re,de){return h0(re,de,D,P.unmerge(de))},$=Nt(C,F,v);return np($,Q.from(C[0]))},cd=function(v,C,D,P){var F=function(Se,Le){var ot=yo.fromTable(Se);return om(ot,Le,!0)},$=F(C.clipboard,C.generators),re=jo(C.row,C.column),de=kO(re,v,$,C.generators,D);return de.fold(function(){return np(v,Q.some(C.element))},function(Se){return Qu(Se,C.row,C.column)})},ew=function(v,C,D){var P=My(v,D.section),F=yo.generate(P);return om(F,C,!0)},hl=function(v,C,D,P){var F=qa(v).rows,$=C.cells[0].column,re=F[C.cells[0].row],de=ew(C.clipboard,C.generators,re),Se=m0($,v,de,C.generators,D);return Qu(Se,C.cells[0].row,C.cells[0].column)},n1=function(v,C,D,P){var F=qa(v).rows,$=C.cells[C.cells.length-1].column+C.cells[C.cells.length-1].colspan,re=F[C.cells[0].row],de=ew(C.clipboard,C.generators,re),Se=m0($,v,de,C.generators,D);return Qu(Se,C.cells[0].row,C.cells[0].column)},r1=function(v,C,D,P){var F=qa(v).rows,$=C.cells[0].row,re=F[$],de=ew(C.clipboard,C.generators,re),Se=Ik($,v,de,C.generators,D);return Qu(Se,C.cells[0].row,C.cells[0].column)},kS=function(v,C,D,P){var F=qa(v).rows,$=C.cells[C.cells.length-1].row+C.cells[C.cells.length-1].rowspan,re=F[C.cells[0].row],de=ew(C.clipboard,C.generators,re),Se=Ik($,v,de,C.generators,D);return Qu(Se,C.cells[0].row,C.cells[0].column)},LO=function(v,C){var D=yo.fromTable(v),P=Tf(D,C);return P.bind(function(F){var $=F[F.length-1],re=F[0].column,de=$.column+$.colspan,Se=bt(Ge(D.all,function(Le){return Ot(Le.cells,function(ot){return ot.column>=re&&ot.column<de})}));return uS(Se)}).getOr("")},Xk=function(v,C){var D=yo.fromTable(v),P=Tf(D,C);return P.bind(uS).getOr("")},Os=function(v,C){var D=yo.fromTable(v),P=Tf(D,C);return P.bind(function(F){var $=F[F.length-1],re=F[0].row,de=$.row+$.rowspan,Se=D.all.slice(re,de);return _k(Se)}).getOr("")},zg=function(v,C,D,P){return ll(v,C,D,P.sizing)},o1=function(v,C,D,P){return W5(v,C,D,P.sizing,P.resize)},jc=function(v,C){return G(C,function(D){return D.column===0&&D.isLocked})},Uc=function(v,C){return G(C,function(D){return D.column+D.colspan>=v.grid.columns&&D.isLocked})},Wc=function(v,C){var D=ug(v),P=Pg(C);return fe(P,function(F,$){var re=D[$.column],de=re.map(Ds).getOr(0);return F+de},0)},pl=function(v){return function(C,D){return Tf(C,D).filter(function(P){var F=v?jc:Uc;return!F(C,P)}).map(function(P){return{details:P,pixelDelta:Wc(C,P)}})}},fd=function(v,C){return ep(v,C).map(function(D){return{details:D,pixelDelta:-Wc(v,D)}})},tw=function(v){return function(C,D){return Wx(C,D).filter(function(P){var F=v?jc:Uc;return!F(C,P.cells)})}},qc=ic.transform("th"),dd=ic.transform("td"),BO=Ju(Uk,Tf,k,k,ic.modification),zO=Ju(SS,Tf,k,k,ic.modification),Yk=Ju(Qx,pl(!0),o1,k,ic.modification),Kk=Ju(ps,pl(!1),o1,k,ic.modification),Jk=Ju(TS,fd,o1,Bg,ic.modification),Qk=Ju(Gk,Tf,k,Bg,ic.modification),FO=Ju(PO,ep,k,k,qc),HO=Ju(Wk,ep,k,k,dd),Zk=Ju(qk,ep,k,k,qc),VO=Ju(Zx,ep,k,k,dd),DS=Ju($k,ep,k,k,dd),eD=Ju(Jd,ep,k,k,qc),AS=Ju(CS,ep,k,k,dd),tD=Ju(NO,fS,zg,k,ic.merging),jO=Ju(MS,Og,zg,k,ic.merging),UO=Ju(cd,gO,zg,k,ic.modification),WO=Ju(hl,tw(!0),k,k,ic.modification),Lo=Ju(n1,tw(!1),k,k,ic.modification),Fg=Ju(r1,Wx,k,k,ic.modification),y0=Ju(kS,Wx,k,k,ic.modification),ac=LO,qO=Xk,sm=Os,b0=function(v,C,D){var P=function(gs){return Oo(Ol(gs))==="table"},F=function(gs){return P(v)===!1||sd(gs).rows>1},$=function(gs){return P(v)===!1||sd(gs).columns>1},re=nS(v),de=mk(v)?k:xk,Se=function(gs){switch(tS(v)){case"section":return Jy.section();case"sectionCells":return Jy.sectionCells();case"cells":return Jy.cells();default:return Jy.getTableSectionType(gs,"section")}},Le=function(gs,N1){return N1.cursor.fold(function(){var tv=Lh(gs);return Ke(tv).filter(Jr).map(function(md){C.clear(gs);var Yc=v.dom.createRng();return Yc.selectNode(md.dom),v.selection.setRng(Yc),bu(md,"data-mce-selected","1"),Yc})},function(tv){var md=cO(tv),Yc=v.dom.createRng();return Yc.setStart(md.element.dom,md.offset),Yc.setEnd(md.element.dom,md.offset),v.selection.setRng(Yc),C.clear(gs),Q.some(Yc)})},ot=function(gs,N1,tv,md,Yc){return function(gd,L1,H0){H0===void 0&&(H0=!1),$u(gd);var B1=md(),nv=It.fromDom(v.getDoc()),Ef=da(tv,nv,re),rv={sizing:aS(v,gd),resize:mk(v)?tk():qp(),section:Se(gd)};return N1(gd)?gs(B1,gd,L1,Ef,rv).bind(function(Fw){pt(Fw.newRows,function(z1){_x(v,z1.dom)}),pt(Fw.newCells,function(z1){Jh(v,z1.dom)});var Hw=Le(gd,Fw);return Jr(gd)&&($u(gd),H0||dl(v,gd.dom,Yc)),Hw.map(function(z1){return{rng:z1,effect:Yc}})}):Q.none()}},$t=ot(Qk,F,k,D,Cu),_n=ot(Jk,$,k,D,Cu),sn=ot(BO,te,k,D,Cu),Gt=ot(zO,te,k,D,Cu),Nn=ot(Yk,te,de,D,Cu),Pn=ot(Kk,te,de,D,Cu),xr=ot(tD,te,k,D,Cu),qo=ot(jO,te,k,D,Cu),Ar=ot(WO,te,k,D,Cu),Gr=ot(Lo,te,k,D,Cu),Po=ot(Fg,te,k,D,Cu),xo=ot(y0,te,k,D,Cu),za=ot(UO,te,k,D,dk),Lu=ot(eD,te,k,D,Cu),Xs=ot(AS,te,k,D,Cu),Yo=ot(FO,te,k,D,Cu),eo=ot(HO,te,k,D,Cu),Fo=ot(Zk,te,k,D,Cu),bi=ot(VO,te,k,D,Cu),ha=ot(DS,te,k,D,Cu),ih=qO,gi=ac,sc=sm;return{deleteRow:$t,deleteColumn:_n,insertRowsBefore:sn,insertRowsAfter:Gt,insertColumnsBefore:Nn,insertColumnsAfter:Pn,mergeCells:xr,unmergeCells:qo,pasteColsBefore:Ar,pasteColsAfter:Gr,pasteRowsBefore:Po,pasteRowsAfter:xo,pasteCells:za,makeCellsHeader:Lu,unmakeCellsHeader:Xs,makeColumnsHeader:Yo,unmakeColumnsHeader:eo,makeRowsHeader:Fo,makeRowsBody:bi,makeRowsFooter:ha,getTableRowType:sc,getTableCellType:ih,getTableColType:gi}},i1={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},x0=function(){return It.fromTag("th")},nD=function(){return It.fromTag("td")},rD=function(){return It.fromTag("col")},ES=function(v,C,D,P){for(var F=It.fromTag("tr"),$=0;$<v;$++){var re=P<C||$<D?x0():nD();$<D&&bu(re,"scope","row"),P<C&&bu(re,"scope","col"),ka(re,It.fromTag("br")),ka(F,re)}return F},OS=function(v){var C=It.fromTag("colgroup");return We(v,function(){return ka(C,rD())}),C},Hg=function(v,C,D,P){return We(v,function(F){return ES(C,D,P,F)})},IS=function(v,C,D,P,F,$){$===void 0&&($=i1);var re=It.fromTag("table"),de=F!=="cells";Ld(re,$.styles),Za(re,$.attributes),$.colGroups&&ka(re,OS(C));var Se=Math.min(v,D);if(de&&D>0){var Le=It.fromTag("thead");ka(re,Le);var ot=F==="sectionCells"?Se:0,$t=Hg(D,C,ot,P);ed(Le,$t)}var _n=It.fromTag("tbody");ka(re,_n);var sn=de?v-Se:v,Gt=de?0:D,Nn=Hg(sn,C,Gt,P);return ed(_n,Nn),re},$O=function(v){return v.dom.innerHTML},Qd=function(v){var C=It.fromTag("div"),D=It.fromDom(v.dom.cloneNode(!0));return ka(C,D),$O(C)},RS=function(v,C){v.selection.select(C.dom,!0),v.selection.collapse(!0)},nw=function(v,C){Gl(C,"td,th").each(q(RS,v))},rw=function(v,C){pt($l(C,"tr"),function(D){_x(v,D.dom),pt($l(D,"th,td"),function(P){Jh(v,P.dom)})})},oD=function(v){return i(v)&&v.indexOf("%")!==-1},w0=function(v,C,D,P,F){var $=Gy(v),re={styles:$,attributes:s0(v),colGroups:eS(v)};return v.undoManager.ignore(function(){var de=IS(D,C,F,P,tS(v),re);bu(de,"data-mce-id","__mce");var Se=Qd(de);v.insertContent(Se),v.addVisual()}),Gl(Ol(v),'table[data-mce-id="__mce"]').map(function(de){return l0(v)?Ox(de):tm(v)?Ix(de):(Yy(v)||oD($.width))&&Ky(de),$u(de),Ki(de,"data-mce-id"),rw(v,de),nw(v,de),de.dom}).getOr(null)},iD=function(v,C,D,P,F){P===void 0&&(P={});var $=function(Se){return _(Se)&&Se>0};if($(C)&&$(D)){var re=P.headerRows||0,de=P.headerColumns||0;return w0(v,D,C,de,re)}else return console.error(F),null},aD=function(v){return function(){return v().fold(function(){return[]},function(C){return Ge(C,function(D){return D.dom})})}},hd=function(v){return function(C){var D=C.length>0?Q.some(_f(C)):Q.none();v(D)}},Ac=function(v){return function(C,D,P){P===void 0&&(P={});var F=iD(v,D,C,P,"Invalid values for insertTable - rows and columns values are required to insert a table.");return v.undoManager.add(),F}},ms=function(v,C,D,P){return{insertTable:Ac(v),setClipboardRows:hd(C.setRows),getClipboardRows:aD(C.getRows),setClipboardCols:hd(C.setColumns),getClipboardCols:aD(C.getColumns),resizeHandler:D,selectionTargets:P}},uD=function(v,C,D){var P=Nc(v,C,1);D===1||P<=1?Ki(v,C):bu(v,C,Math.min(D,P))},PS=function(v,C,D){if(yo.hasColumns(v)){var P=Ot(yo.justColumns(v),function(re){return re.column>=C&&re.column<D}),F=Ge(P,function(re){var de=mi(re.element);return uD(de,"span",D-C),de}),$=It.fromTag("colgroup");return ed($,F),[$]}else return[]},_0=function(v,C,D){return Ge(v.all,function(P){var F=Ot(P.cells,function(de){return de.column>=C&&de.column<D}),$=Ge(F,function(de){var Se=mi(de.element);return uD(Se,"colspan",D-C),Se}),re=It.fromTag("tr");return ed(re,$),re})},sD=function(v,C){var D=yo.fromTable(v),P=ep(D,C);return P.map(function(F){var $=F[F.length-1],re=F[0].column,de=$.column+$.colspan,Se=PS(D,re,de),Le=_0(D,re,de);return Qn(Qn([],Se,!0),Le,!0)})},lD=function(v,C,D){var P=yo.fromTable(v),F=Tf(P,C);return F.bind(function($){var re=om(P,D,!1),de=qa(re).rows,Se=de.slice($[0].row,$[$.length-1].row+$[$.length-1].rowspan),Le=qe(Se,function($t){var _n=Ot($t.cells,function(sn){return!sn.isLocked});return _n.length>0?[Zt(Zt({},$t),{cells:_n})]:[]}),ot=Zy(Le);return Ii(ot.length>0,ot)}).map(function($){return Vx($)})},cD=tinymce.util.Tools.resolve("tinymce.util.Tools"),ow=function(v,C,D){var P=v.select("td,th",C),F,$=function(re,de){for(var Se=0;Se<de.length;Se++){var Le=v.getStyle(de[Se],D);if(typeof re>"u"&&(re=Le),re!==Le)return""}return re};return $(F,P)},iw=function(v,C,D){D&&v.formatter.apply("align"+D,{},C)},fD=function(v,C,D){D&&v.formatter.apply("valign"+D,{},C)},qn=function(v,C){cD.each("left center right".split(" "),function(D){v.formatter.remove("align"+D,{},C)})},Pu=function(v,C){cD.each("top middle bottom".split(" "),function(D){v.formatter.remove("valign"+D,{},C)})},Vg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Nu=function(v){return{value:v}},$c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,NS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,jg=function(v){return $c.test(v)||NS.test(v)},aw=function(v){return On(v,"#").toUpperCase()},S0=function(v){return jg(v)?Q.some({value:aw(v)}):Q.none()},Ug=function(v){var C=v.toString(16);return(C.length===1?"0"+C:C).toUpperCase()},a1=function(v){var C=Ug(v.red)+Ug(v.green)+Ug(v.blue);return Nu(C)},GO=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,XO=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,LS=function(v,C,D,P){return{red:v,green:C,blue:D,alpha:P}},BS=function(v,C,D,P){var F=parseInt(v,10),$=parseInt(C,10),re=parseInt(D,10),de=parseFloat(P);return LS(F,$,re,de)},dD=function(v){if(v==="transparent")return Q.some(LS(0,0,0,0));var C=GO.exec(v);if(C!==null)return Q.some(BS(C[1],C[2],C[3],"1"));var D=XO.exec(v);return D!==null?Q.some(BS(D[1],D[2],D[3],D[4])):Q.none()},Wg=function(v){return S0(v).orThunk(function(){return dD(v).map(a1)}).getOrThunk(function(){var C=document.createElement("canvas");C.height=1,C.width=1;var D=C.getContext("2d");D.clearRect(0,0,C.width,C.height),D.fillStyle="#FFFFFF",D.fillStyle=v,D.fillRect(0,0,1,1);var P=D.getImageData(0,0,1,1).data,F=P[0],$=P[1],re=P[2],de=P[3];return a1(LS(F,$,re,de))})},kf=function(v){var C=v,D=function(){return C},P=function(F){C=F};return{get:D,set:P}},u1=function(v){var C=kf(Q.none()),D=function(){return C.get().each(v)},P=function(){D(),C.set(Q.none())},F=function(){return C.get().isSome()},$=function(){return C.get()},re=function(de){D(),C.set(Q.some(de))};return{clear:P,isSet:F,get:$,set:re}},zS=function(){return u1(function(v){return v.unbind()})},qg=function(){var v=u1(k),C=function(D){return v.get().each(D)};return Zt(Zt({},v),{on:C})},s1=function(v,C,D,P){return function(F){var $=zS(),re=Kn(P),de=function(){var Se=Gu(C),Le=function(ot){return v.formatter.match(D,{value:P},ot.dom,re)};re?(F.setActive(!G(Se,Le)),$.set(v.formatter.formatChanged(D,function(ot){return F.setActive(!ot)},!0))):(F.setActive(Je(Se,Le)),$.set(v.formatter.formatChanged(D,F.setActive,!1,{value:P})))};return v.initialized?de():v.on("init",de),$.clear}},l1=function(v){return rt(v,"menu")},Zd=function(v){return Ge(v,function(C){var D=C.text||C.title;return l1(C)?{text:D,items:Zd(C.menu)}:{text:D,value:C.value}})},Gc=function(v,C,D,P,F){return Ge(D,function($){var re=$.text||$.title;return l1($)?{type:"nestedmenuitem",text:re,getSubmenuItems:function(){return Gc(v,C,$.menu,P,F)}}:{text:re,type:"togglemenuitem",onAction:function(){return F($.value)},onSetup:s1(v,C,P,$.value)}})},lm=function(v,C){return function(D){var P;v.execCommand("mceTableApplyCellStyle",!1,(P={},P[C]=D,P))}},$g=function(v){return qe(v,function(C){return l1(C)?[Zt(Zt({},C),{menu:$g(C.menu)})]:ln(C.value)?[C]:[]})},c1=function(v,C,D,P,F){return function($){return $(Gc(v,C,D,P,F))}},uw=function(v,C,D){var P=Ge(C,function(F){return{text:F.title,value:"#"+Wg(F.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:P.length>0?P:void 0,allowCustomColors:!1},onAction:function(F){var $,re=F.value==="remove"?"":F.value;v.execCommand("mceTableApplyCellStyle",!1,($={},$[D]=re,$))}}]},f1=function(v){return function(){var C=v.queryCommandValue("mceTableRowType"),D=C==="header"?"body":"header";v.execCommand("mceTableRowType",!1,{type:D})}},FS=function(v){return function(){var C=v.queryCommandValue("mceTableColType"),D=C==="th"?"td":"th";v.execCommand("mceTableColType",!1,{type:D})}},YO=function(v){var C=Zd(Z_(v));return C.length>0?Q.some({name:"class",type:"listbox",label:"Class",items:C}):Q.none()},sw=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Vg}],Zu=function(v){return sw.concat(YO(v).toArray())},Ec=function(v,C){var D=[{text:"Select...",value:""}],P=[{name:"borderstyle",type:"listbox",label:"Border style",items:D.concat(Zd(rc(v)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],F={name:"borderwidth",type:"input",label:"Border width"},$=C==="cell"?[F].concat(P):P;return{title:"Advanced",name:"advanced",items:$}},Df=function(v){return function(C,D){var P=C.dom,F=function(de,Se){(!v||Se)&&P.setAttrib(D,de,Se)},$=function(de,Se){(!v||Se)&&P.setStyle(D,de,Se)},re=function(de,Se){(!v||Se)&&(Se===""?C.formatter.remove(de,{value:null},D,!0):C.formatter.apply(de,{value:Se},D))};return{setAttrib:F,setStyle:$,setFormat:re}}},pd={normal:Df(!1),ifTruthy:Df(!0)},eh=function(v){return function(C){return er(C,"rgb")?v.toHex(C):C}},cm=function(v,C){var D=It.fromDom(C);return{borderwidth:il(D,"border-width").getOr(""),borderstyle:il(D,"border-style").getOr(""),bordercolor:il(D,"border-color").map(eh(v)).getOr(""),backgroundcolor:il(D,"background-color").map(eh(v)).getOr("")}},C0=function(v){var C=v[0],D=v.slice(1);return pt(D,function(P){pt(vu(C),function(F){pi(P,function($,re){var de=C[F];de!==""&&F===re&&de!==$&&(C[F]="")})})}),C},hD=function(v,C,D,P){return Ye(v,function(F){return!g(D.formatter.matchNode(P,C+F))}).getOr("")},d1=q(hD,["left","center","right"],"align"),KO=q(hD,["top","middle","bottom"],"valign"),HS=function(v,C){var D=Gy(v),P=s0(v),F=function(ot){return{borderstyle:Iu(D,"border-style").getOr(""),bordercolor:eh(ot)(Iu(D,"border-color").getOr("")),backgroundcolor:eh(ot)(Iu(D,"background-color").getOr(""))}},$={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},re=function(){var ot=D["border-width"];return Tu(v)&&ot?{border:ot}:Iu(P,"border").fold(function(){return{}},function($t){return{border:$t}})},de=C?F(v.dom):{},Se=function(){var ot=Iu(D,"border-spacing").or(Iu(P,"cellspacing")).fold(function(){return{}},function(_n){return{cellspacing:_n}}),$t=Iu(D,"border-padding").or(Iu(P,"cellpadding")).fold(function(){return{}},function(_n){return{cellpadding:_n}});return Zt(Zt({},ot),$t)},Le=Zt(Zt(Zt(Zt(Zt(Zt({},$),D),P),de),re()),Se());return Le},pD=function(v){return ca(It.fromDom(v)).map(function(C){var D={selection:_f(v.cells)};return sm(C,D)}).getOr("")},mD=function(v,C,D){var P=function(de,Se){var Le=il(It.fromDom(Se),"border-width");return Tu(v)&&Le.isSome()?Le.getOr(""):de.getAttrib(Se,"border")||ow(v.dom,Se,"border-width")||ow(v.dom,Se,"border")},F=v.dom,$=Tu(v)?F.getStyle(C,"border-spacing")||F.getAttrib(C,"cellspacing"):F.getAttrib(C,"cellspacing")||F.getStyle(C,"border-spacing"),re=Tu(v)?ow(F,C,"padding")||F.getAttrib(C,"cellpadding"):F.getAttrib(C,"cellpadding")||ow(F,C,"padding");return Zt({width:F.getStyle(C,"width")||F.getAttrib(C,"width"),height:F.getStyle(C,"height")||F.getAttrib(C,"height"),cellspacing:$,cellpadding:re,border:P(F,C),caption:!!F.select("caption",C)[0],class:F.getAttrib(C,"class",""),align:d1(v,C)},D?cm(F,C):{})},VS=function(v,C,D){var P=v.dom;return Zt({height:P.getStyle(C,"height")||P.getAttrib(C,"height"),class:P.getAttrib(C,"class",""),type:pD(C),align:d1(v,C)},D?cm(P,C):{})},jS=function(v,C,D,P){var F=v.dom,$=P.getOr(C),re=function(de,Se){return F.getStyle(de,Se)||F.getAttrib(de,Se)};return Zt({width:re($,"width"),height:re(C,"height"),scope:F.getAttrib(C,"scope"),celltype:ox(C),class:F.getAttrib(C,"class",""),halign:d1(v,C),valign:KO(v,C)},D?cm(F,C):{})},Ti=function(v,C){var D=yo.fromTable(v),P=yo.justCells(D),F=Ot(P,function($){return G(C,function(re){return ro($.element,re)})});return Ge(F,function($){return{element:$.element.dom,column:yo.getColumnAt(D,$.column).map(function(re){return re.element.dom})}})},th=function(v,C,D){v.setAttrib("scope",D.scope),v.setAttrib("class",D.class),v.setStyle("height",As(D.height)),C.setStyle("width",As(D.width))},gD=function(v,C){v.setFormat("tablecellbackgroundcolor",C.backgroundcolor),v.setFormat("tablecellbordercolor",C.bordercolor),v.setFormat("tablecellborderstyle",C.borderstyle),v.setFormat("tablecellborderwidth",As(C.borderwidth))},US=function(v,C,D){var P=C.length===1;pt(C,function(F){var $=F.element,re=P?pd.normal(v,$):pd.ifTruthy(v,$),de=F.column.map(function(Se){return P?pd.normal(v,Se):pd.ifTruthy(v,Se)}).getOr(re);th(re,de,D),Xy(v)&&gD(re,D),P&&(qn(v,$),Pu(v,$)),D.halign&&iw(v,$,D.halign),D.valign&&fD(v,$,D.valign)})},WS=function(v,C){v.execCommand("mceTableCellType",!1,{type:C.celltype,no_events:!0})},h1=function(v,C,D,P){var F=Ou(P,function($,re){return D[re]!==$});ju(F)>0&&C.length>=1&&ca(C[0]).each(function($){var re=Ti($,C),de=ju(Ou(F,function(Le,ot){return ot!=="scope"&&ot!=="celltype"}))>0,Se=we(F,"celltype");(de||we(F,"scope"))&&US(v,re,P),Se&&WS(v,P),dl(v,$.dom,{structure:Se,style:de})})},Pr=function(v,C,D,P){var F=P.getData();P.close(),v.undoManager.transact(function(){h1(v,C,D,F),v.focus()})},qS=function(v,C){var D=ca(C[0]).map(function(P){return Ge(Ti(P,C),function(F){return jS(v,F.element,Xy(v),F.column)})});return C0(D.getOrDie())},vD=function(v,C){var D=Gu(C);if(D.length!==0){var P=qS(v,D),F={type:"tabpanel",tabs:[{title:"General",name:"general",items:Zu(v)},Ec(v,"cell")]},$={type:"panel",items:[{type:"grid",columns:2,items:Zu(v)}]};v.windowManager.open({title:"Cell Properties",size:"normal",body:Xy(v)?F:$,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:P,onSubmit:q(Pr,v,D,P)})}},JO=function(v){var C=Zd(Ut(v));return C.length>0?Q.some({name:"class",type:"listbox",label:"Class",items:C}):Q.none()},yD=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],bD=function(v){return yD.concat(JO(v).toArray())},$S=function(v,C){v.setAttrib("class",C.class),v.setStyle("height",As(C.height))},GS=function(v,C){v.setStyle("background-color",C.backgroundcolor),v.setStyle("border-color",C.bordercolor),v.setStyle("border-style",C.borderstyle)},lw=function(v,C,D,P){var F=C.length===1;pt(C,function($){var re=F?pd.normal(v,$):pd.ifTruthy(v,$);$S(re,D),kx(v)&&GS(re,D),D.align!==P.align&&(qn(v,$),iw(v,$,D.align))})},QO=function(v,C){v.execCommand("mceTableRowType",!1,{type:C.type,no_events:!0})},xD=function(v,C,D,P){var F=Ou(P,function(de,Se){return D[Se]!==de});if(ju(F)>0){var $=we(F,"type"),re=$?ju(F)>1:!0;re&&lw(v,C,P,D),$&&QO(v,P),ca(It.fromDom(C[0])).each(function(de){return dl(v,de.dom,{structure:$,style:re})})}},ZO=function(v,C,D,P){var F=P.getData();P.close(),v.undoManager.transact(function(){xD(v,C,D,F),v.focus()})},uc=function(v){var C=F5(du(v),mg.selected);if(C.length!==0){var D=Ge(C,function(re){return VS(v,re.dom,kx(v))}),P=C0(D),F={type:"tabpanel",tabs:[{title:"General",name:"general",items:bD(v)},Ec(v,"row")]},$={type:"panel",items:[{type:"grid",columns:2,items:bD(v)}]};v.windowManager.open({title:"Row Properties",size:"normal",body:kx(v)?F:$,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:P,onSubmit:q(ZO,v,Ge(C,function(re){return re.dom}),P)})}},ml=function(v,C,D){var P=D?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],F=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],$=Cf(v)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],re=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],de=C.length>0?[{type:"listbox",name:"class",label:"Class",items:C}]:[];return P.concat(F).concat($).concat(re).concat(de)},fm=function(v,C,D,P){if(C.tagName==="TD"||C.tagName==="TH")i(D)?v.setStyle(C,D,P):v.setStyle(C,D);else if(C.children)for(var F=0;F<C.children.length;F++)fm(v,C.children[F],D,P)},wD=function(v,C,D){var P=v.dom,F={},$={};if(F.class=D.class,$.height=As(D.height),P.getAttrib(C,"width")&&!Tu(v)?F.width=ix(D.width):$.width=As(D.width),Tu(v)?($["border-width"]=As(D.border),$["border-spacing"]=As(D.cellspacing)):(F.border=D.border,F.cellpadding=D.cellpadding,F.cellspacing=D.cellspacing),Tu(v)&&C.children)for(var re=0;re<C.children.length;re++)fm(P,C.children[re],{"border-width":As(D.border),padding:As(D.cellpadding)}),oc(v)&&fm(P,C.children[re],{"border-color":D.bordercolor});oc(v)&&($["background-color"]=D.backgroundcolor,$["border-color"]=D.bordercolor,$["border-style"]=D.borderstyle),F.style=P.serializeStyle(Zt(Zt({},Gy(v)),$)),P.setAttribs(C,Zt(Zt({},s0(v)),F))},e4=function(v,C,D,P){var F=v.dom,$=P.getData(),re=Ou($,function(de,Se){return D[Se]!==de});P.close(),$.class===""&&delete $.class,v.undoManager.transact(function(){if(!C){var de=parseInt($.cols,10)||1,Se=parseInt($.rows,10)||1;C=w0(v,de,Se,0,0)}if(ju(re)>0){wD(v,C,$);var Le=F.select("caption",C)[0];(Le&&!$.caption||!Le&&$.caption)&&v.execCommand("mceTableToggleCaption"),$.align===""?qn(v,C):iw(v,C,$.align)}if(v.focus(),v.addVisual(),ju(re)>0){var ot=we(re,"caption"),$t=ot?ju(re)>1:!0;dl(v,C,{structure:ot,style:$t})}})},_D=function(v,C){var D=v.dom,P,F=HS(v,oc(v));C===!1?(P=D.getParent(v.selection.getStart(),"table",v.getBody()),P?F=mD(v,P,oc(v)):oc(v)&&(F.borderstyle="",F.bordercolor="",F.backgroundcolor="")):(F.cols="1",F.rows="1",oc(v)&&(F.borderstyle="",F.bordercolor="",F.backgroundcolor=""));var $=Zd(em(v));$.length>0&&F.class&&(F.class=F.class.replace(/\s*mce\-item\-table\s*/g,""));var re={type:"grid",columns:2,items:ml(v,$,C)},de=function(){return{type:"panel",items:[re]}},Se=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[re]},Ec(v,"table")]}},Le=oc(v)?Se():de();v.windowManager.open({title:"Table Properties",size:"normal",body:Le,onSubmit:q(e4,v,P,F),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:F})},So=function(v){return vg(du(v),qu(v))},SD=function(v){return tc(du(v),qu(v))},p1=function(v,C,D,P,F){var $=qu(v),re=function(){return So(v).each(function(Ar){ca(Ar,$).filter(X($)).each(function(Gr){var Po=It.fromText("");if(Fi(Gr,Po),Dl(Gr),v.dom.isEmpty(v.getBody()))v.setContent(""),v.selection.setCursorLocation();else{var xo=v.dom.createRng();xo.setStart(Po.dom,0),xo.setEnd(Po.dom,0),v.selection.setRng(xo),v.nodeChanged()}})})},de=function(Ar){return So(v).each(function(Gr){var Po=tm(v)||l0(v)||Yy(v);Po||ca(Gr,$).each(function(xo){Ar==="relative"&&!ok(xo)?Ky(xo):Ar==="fixed"&&!$p(xo)?Ox(xo):Ar==="responsive"&&!qy(xo)&&Ix(xo),$u(xo),dl(v,xo.dom,Cu)})})},Se=function(Ar){return ca(Ar,$)},Le=function(Ar){return SD(v).bind(function(Gr){return Se(Gr).map(function(Po){return Ar(Po,Gr)})})},ot=function(Ar,Gr){Le(function(Po){v.formatter.toggle("tableclass",{value:Gr},Po.dom),dl(v,Po.dom,Cx)})},$t=function(Ar,Gr){Le(function(Po){var xo=Gu(P),za=Je(xo,function(Xs){return v.formatter.match("tablecellclass",{value:Gr},Xs.dom)}),Lu=za?v.formatter.remove:v.formatter.apply;pt(xo,function(Xs){return Lu("tablecellclass",{value:Gr},Xs.dom)}),dl(v,Po.dom,Cx)})},_n=function(){So(v).each(function(Ar){ca(Ar,$).each(function(Gr){Wr(Gr,"caption").fold(function(){var Po=It.fromTag("caption");ka(Po,It.fromText("Caption")),b5(Gr,Po,0),v.selection.setCursorLocation(Po.dom,0)},function(Po){ia("caption")(Ar)&&ea("td",Gr).each(function(xo){return v.selection.setCursorLocation(xo.dom,0)}),Dl(Po)}),dl(v,Gr.dom,Cu)})})},sn=function(Ar){v.focus()},Gt=function(Ar,Gr){return Gr===void 0&&(Gr=!1),Le(function(Po,xo){var za=Vp(P,Po,xo);Ar(Po,za,Gr).each(sn)})},Nn=function(){return Le(function(Ar,Gr){var Po=Vp(P,Ar,Gr),xo=da(k,It.fromDom(v.getDoc()),Q.none());return lD(Ar,Po,xo)})},Pn=function(){return Le(function(Ar,Gr){var Po=Vp(P,Ar,Gr);return sD(Ar,Po)})},xr=function(Ar,Gr){return Gr().each(function(Po){var xo=Ge(Po,function(za){return mi(za)});Le(function(za,Lu){var Xs=ec(It.fromDom(v.getDoc())),Yo=QM(P,Lu,xo,Xs);Ar(za,Yo).each(sn)})})},qo=function(Ar){return function(Gr,Po){return Iu(Po,"type").each(function(xo){Gt(Ar(xo),Po.no_events)})}};pi({mceTableSplitCells:function(){return Gt(C.unmergeCells)},mceTableMergeCells:function(){return Gt(C.mergeCells)},mceTableInsertRowBefore:function(){return Gt(C.insertRowsBefore)},mceTableInsertRowAfter:function(){return Gt(C.insertRowsAfter)},mceTableInsertColBefore:function(){return Gt(C.insertColumnsBefore)},mceTableInsertColAfter:function(){return Gt(C.insertColumnsAfter)},mceTableDeleteCol:function(){return Gt(C.deleteColumn)},mceTableDeleteRow:function(){return Gt(C.deleteRow)},mceTableCutCol:function(){return Pn().each(function(Ar){F.setColumns(Ar),Gt(C.deleteColumn)})},mceTableCutRow:function(){return Nn().each(function(Ar){F.setRows(Ar),Gt(C.deleteRow)})},mceTableCopyCol:function(){return Pn().each(function(Ar){return F.setColumns(Ar)})},mceTableCopyRow:function(){return Nn().each(function(Ar){return F.setRows(Ar)})},mceTablePasteColBefore:function(){return xr(C.pasteColsBefore,F.getColumns)},mceTablePasteColAfter:function(){return xr(C.pasteColsAfter,F.getColumns)},mceTablePasteRowBefore:function(){return xr(C.pasteRowsBefore,F.getRows)},mceTablePasteRowAfter:function(){return xr(C.pasteRowsAfter,F.getRows)},mceTableDelete:re,mceTableCellToggleClass:$t,mceTableToggleClass:ot,mceTableToggleCaption:_n,mceTableSizingMode:function(Ar,Gr){return de(Gr)},mceTableCellType:qo(function(Ar){return Ar==="th"?C.makeCellsHeader:C.unmakeCellsHeader}),mceTableColType:qo(function(Ar){return Ar==="th"?C.makeColumnsHeader:C.unmakeColumnsHeader}),mceTableRowType:qo(function(Ar){switch(Ar){case"header":return C.makeRowsHeader;case"footer":return C.makeRowsFooter;default:return C.makeRowsBody}})},function(Ar,Gr){return v.addCommand(Gr,Ar)}),pi({mceTableProps:q(_D,v,!1),mceTableRowProps:q(uc,v),mceTableCellProps:q(vD,v,P)},function(Ar,Gr){return v.addCommand(Gr,function(){return Ar()})}),v.addCommand("mceInsertTable",function(Ar,Gr){u(Gr)&&vu(Gr).length>0?iD(v,Gr.rows,Gr.columns,Gr.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):_D(v,!0)}),v.addCommand("mceTableApplyCellStyle",function(Ar,Gr){var Po=function(Lu){return"tablecell"+Lu.toLowerCase().replace("-","")};if(u(Gr)){var xo=Gu(P);if(xo.length!==0){var za=Ou(Gr,function(Lu,Xs){return v.formatter.has(Po(Xs))&&i(Lu)});wt(za)||(pi(za,function(Lu,Xs){pt(xo,function(Yo){pd.normal(v,Yo.dom).setFormat(Po(Xs),Lu)})}),Se(xo[0]).each(function(Lu){return dl(v,Lu.dom,Cx)}))}}})},T0=function(v,C,D){var P=qu(v),F=function($){return tc(du(v)).bind(function(re){return ca(re,P).map(function(de){var Se=Vp(D,de,re);return $(de,Se)})}).getOr("")};pi({mceTableRowType:function(){return F(C.getTableRowType)},mceTableCellType:function(){return F(C.getTableCellType)},mceTableColType:function(){return F(C.getTableColType)}},function($,re){return v.addQueryValueHandler(re,$)})},cw=function(){var v=qg(),C=qg();return{getRows:v.get,setRows:function(D){D.fold(v.clear,v.set),C.clear()},clearRows:v.clear,getColumns:C.get,setColumns:function(D){D.fold(C.clear,C.set),v.clear()},clearColumns:C.clear}},M0={remove_similar:!0,inherit:!1},k0=Zt({selector:"td,th"},M0),t4={tablecellbackgroundcolor:Zt({styles:{backgroundColor:"%value"}},k0),tablecellverticalalign:Zt({styles:{"vertical-align":"%value"}},k0),tablecellbordercolor:Zt({styles:{borderColor:"%value"}},k0),tablecellclass:Zt({classes:["%value"]},k0),tableclass:Zt({selector:"table",classes:["%value"]},M0),tablecellborderstyle:Zt({styles:{borderStyle:"%value"}},k0),tablecellborderwidth:Zt({styles:{borderWidth:"%value"}},k0)},n4=function(v){v.formatter.register(t4)},XS=Fd.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),YS=function(v){return v===void 0&&(v=void 0),XS.none(v)},Gg=Zt(Zt({},XS),{none:YS}),fw=function(v,C,D,P,F){F===void 0&&(F=te);var $=P===1;if(!$&&D<=0)return Gg.first(v[0]);if($&&D>=v.length-1)return Gg.last(v[v.length-1]);var re=D+P,de=v[re];return F(de)?Gg.middle(C,de):fw(v,C,re,P,F)},CD=function(v,C){return ca(v,C).bind(function(D){var P=Lh(D),F=je(P,function($){return ro(v,$)});return F.map(function($){return{index:$,all:P}})})},r4=function(v,C,D){var P=CD(v,D);return P.fold(function(){return Gg.none(v)},function(F){return fw(F.all,v,F.index,1,C)})},KS=function(v,C,D){var P=CD(v,D);return P.fold(function(){return Gg.none()},function(F){return fw(F.all,v,F.index,-1,C)})},o4=function(v,C,D,P){return{start:v,soffset:C,finish:D,foffset:P}},m1={create:o4},JS=Fd.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mr=function(v,C,D,P){return v.fold(C,D,P)},TD=function(v){return v.fold(z,z,z)},i4=JS.before,MD=JS.on,D0=JS.after,gl={before:i4,on:MD,after:D0,cata:Mr,getStart:TD},g1=Fd.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),a4=function(v){return g1.exact(v.start,v.soffset,v.finish,v.foffset)},QS=function(v){return v.match({domRange:function(C){return It.fromDom(C.startContainer)},relative:function(C,D){return gl.getStart(C)},exact:function(C,D,P,F){return C}})},dw=g1.domRange,kD=g1.relative,DD=g1.exact,AD=function(v){var C=QS(v);return yc(C)},ED=m1.create,rp={domRange:dw,relative:kD,exact:DD,exactFromRange:a4,getWin:AD,range:ED},u4=function(v,C){var D=v.document.createRange();return D.selectNode(C.dom),D},s4=function(v,C){var D=v.document.createRange();return A0(D,C),D},A0=function(v,C){return v.selectNodeContents(C.dom)},l4=function(v,C){C.fold(function(D){v.setStartBefore(D.dom)},function(D,P){v.setStart(D.dom,P)},function(D){v.setStartAfter(D.dom)})},c4=function(v,C){C.fold(function(D){v.setEndBefore(D.dom)},function(D,P){v.setEnd(D.dom,P)},function(D){v.setEndAfter(D.dom)})},ii=function(v,C,D){var P=v.document.createRange();return l4(P,C),c4(P,D),P},E0=function(v,C,D,P,F){var $=v.document.createRange();return $.setStart(C.dom,D),$.setEnd(P.dom,F),$},dm=function(v){return{left:v.left,top:v.top,right:v.right,bottom:v.bottom,width:v.width,height:v.height}},nh=function(v){var C=v.getClientRects(),D=C.length>0?C[0]:v.getBoundingClientRect();return D.width>0||D.height>0?Q.some(D).map(dm):Q.none()},hm=Fd.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Gs=function(v,C,D){return C(It.fromDom(D.startContainer),D.startOffset,It.fromDom(D.endContainer),D.endOffset)},hw=function(v,C){return C.match({domRange:function(D){return{ltr:I(D),rtl:Q.none}},relative:function(D,P){return{ltr:pr(function(){return ii(v,D,P)}),rtl:pr(function(){return Q.some(ii(v,P,D))})}},exact:function(D,P,F,$){return{ltr:pr(function(){return E0(v,D,P,F,$)}),rtl:pr(function(){return Q.some(E0(v,F,$,D,P))})}}})},v1=function(v,C){var D=C.ltr();if(D.collapsed){var P=C.rtl().filter(function(F){return F.collapsed===!1});return P.map(function(F){return hm.rtl(It.fromDom(F.endContainer),F.endOffset,It.fromDom(F.startContainer),F.startOffset)}).getOrThunk(function(){return Gs(v,hm.ltr,D)})}else return Gs(v,hm.ltr,D)},O0=function(v,C){var D=hw(v,C);return v1(v,D)},pm=function(v,C){var D=O0(v,C);return D.match({ltr:function(P,F,$,re){var de=v.document.createRange();return de.setStart(P.dom,F),de.setEnd($.dom,re),de},rtl:function(P,F,$,re){var de=v.document.createRange();return de.setStart($.dom,re),de.setEnd(P.dom,F),de}})};hm.ltr,hm.rtl;var f4=function(v,C,D,P,F){if(F===0)return 0;if(C===P)return F-1;for(var $=P,re=1;re<F;re++){var de=v(re),Se=Math.abs(C-de.left);if(D<=de.bottom){if(D<de.top||Se>$)return re-1;$=Se}}return 0},OD=function(v,C,D){return C>=v.left&&C<=v.right&&D>=v.top&&D<=v.bottom},pw=function(v,C,D,P,F){var $=function(Le){var ot=v.dom.createRange();return ot.setStart(C.dom,Le),ot.collapse(!0),ot},re=function(Le){var ot=$(Le);return ot.getBoundingClientRect()},de=Xb(C).length,Se=f4(re,D,P,F.right,de);return $(Se)},d4=function(v,C,D,P){var F=v.dom.createRange();F.selectNode(C.dom);var $=F.getClientRects(),re=Mn($,function(de){return OD(de,D,P)?Q.some(de):Q.none()});return re.map(function(de){return pw(v,C,D,P,de)})},Ro=function(v,C,D,P){var F=v.dom.createRange(),$=H(C);return Mn($,function(re){return F.selectNode(re.dom),OD(F.getBoundingClientRect(),D,P)?Af(v,re,D,P):Q.none()})},Af=function(v,C,D,P){return is(C)?d4(v,C,D,P):Ro(v,C,D,P)},I0=function(v,C,D,P){var F=v.dom.createRange();F.selectNode(C.dom);var $=F.getBoundingClientRect(),re=Math.max($.left,Math.min($.right,D)),de=Math.max($.top,Math.min($.bottom,P));return Af(v,C,re,de)},ID=!0,y1=!1,Bo=function(v,C){return C-v.left<v.right-C?ID:y1},ZS=function(v,C,D){var P=v.dom.createRange();return P.selectNode(C.dom),P.collapse(D),P},RD=function(v,C,D){var P=v.dom.createRange();P.selectNode(C.dom);var F=P.getBoundingClientRect(),$=Bo(F,D),re=$===ID?Hy:rx;return re(C).map(function(de){return ZS(v,de,$)})},b1=function(v,C,D){var P=C.dom.getBoundingClientRect(),F=Bo(P,D);return Q.some(ZS(v,C,F))},PD=function(v,C,D){var P=H(C).length===0?b1:RD;return P(v,C,D)},x1=function(v,C,D){var P,F;return Q.from((F=(P=v.dom).caretPositionFromPoint)===null||F===void 0?void 0:F.call(P,C,D)).bind(function($){if($.offsetNode===null)return Q.none();var re=v.dom.createRange();return re.setStart($.offsetNode,$.offset),re.collapse(),Q.some(re)})},op=function(v,C,D){var P,F;return Q.from((F=(P=v.dom).caretRangeFromPoint)===null||F===void 0?void 0:F.call(P,C,D))},eC=function(v,C,D,P){var F=v.dom.createRange();F.selectNode(C.dom);var $=F.getBoundingClientRect(),re=Math.max($.left,Math.min($.right,D)),de=Math.max($.top,Math.min($.bottom,P));return I0(v,C,re,de)},ND=function(v,C,D){return It.fromPoint(v,C,D).bind(function(P){var F=function(){return PD(v,P,C)};return H(P).length===0?F():eC(v,P,C,D).orThunk(F)})},h4=function(){return document.caretPositionFromPoint?x1:document.caretRangeFromPoint?op:ND}(),p4=function(v,C,D){var P=It.fromDom(v.document);return h4(P,C,D).map(function(F){return m1.create(It.fromDom(F.startContainer),F.startOffset,It.fromDom(F.endContainer),F.endOffset)})},mm=function(v,C){var D=Oo(v);return D==="input"?gl.after(v):tt(["br","img"],D)?C===0?gl.before(v):gl.after(v):gl.on(v,C)},Xg=function(v,C){var D=v.fold(gl.before,mm,gl.after),P=C.fold(gl.before,mm,gl.after);return rp.relative(D,P)},R0=function(v,C,D,P){var F=mm(v,C),$=mm(D,P);return rp.relative(F,$)},LD=function(v){return v.match({domRange:function(C){var D=It.fromDom(C.startContainer),P=It.fromDom(C.endContainer);return R0(D,C.startOffset,P,C.endOffset)},relative:Xg,exact:R0})},tC=function(v,C,D,P){var F=ql(v),$=F.dom.createRange();return $.setStart(v.dom,C),$.setEnd(D.dom,P),$},m4=function(v,C,D,P){var F=tC(v,C,D,P),$=ro(v,D)&&C===P;return F.collapsed&&!$},mw=function(v){return Q.from(v.getSelection())},gw=function(v,C){mw(v).each(function(D){D.removeAllRanges(),D.addRange(C)})},nC=function(v,C,D,P,F){var $=E0(v,C,D,P,F);gw(v,$)},g4=function(v,C,D,P,F,$){C.collapse(D.dom,P),C.extend(F.dom,$)},rC=function(v,C){return O0(v,C).match({ltr:function(D,P,F,$){nC(v,D,P,F,$)},rtl:function(D,P,F,$){mw(v).each(function(re){if(re.setBaseAndExtent)re.setBaseAndExtent(D.dom,P,F.dom,$);else if(re.extend)try{g4(v,re,D,P,F,$)}catch{nC(v,F,$,D,P)}else nC(v,F,$,D,P)})}})},vw=function(v,C,D,P,F){var $=R0(C,D,P,F);rC(v,$)},yw=function(v,C,D){var P=Xg(C,D);rC(v,P)},oC=function(v){var C=rp.getWin(v).dom,D=function(F,$,re,de){return E0(C,F,$,re,de)},P=LD(v);return O0(C,P).match({ltr:D,rtl:D})},Yg=function(v){if(v.rangeCount>0){var C=v.getRangeAt(0),D=v.getRangeAt(v.rangeCount-1);return Q.some(m1.create(It.fromDom(C.startContainer),C.startOffset,It.fromDom(D.endContainer),D.endOffset))}else return Q.none()},bw=function(v){if(v.anchorNode===null||v.focusNode===null)return Yg(v);var C=It.fromDom(v.anchorNode),D=It.fromDom(v.focusNode);return m4(C,v.anchorOffset,D,v.focusOffset)?Q.some(m1.create(C,v.anchorOffset,D,v.focusOffset)):Yg(v)},iC=function(v,C,D){D===void 0&&(D=!0);var P=D?s4:u4,F=P(v,C);gw(v,F)},xw=function(v){return mw(v).filter(function(C){return C.rangeCount>0}).bind(bw)},w1=function(v){return xw(v).map(function(C){return rp.exact(C.start,C.soffset,C.finish,C.foffset)})},BD=function(v,C){var D=pm(v,C);return nh(D)},v4=function(v,C,D){return p4(v,C,D)},zD=function(v){mw(v).each(function(C){return C.removeAllRanges()})},FD=tinymce.util.Tools.resolve("tinymce.util.VK"),aC=function(v,C,D){return uC(v,C,r4(D,a0))},HD=function(v,C,D){return uC(v,C,KS(D,a0))},VD=function(v,C){var D=rp.exact(C,0,C,0);return oC(D)},uC=function(v,C,D){return D.fold(Q.none,Q.none,function(P,F){return Hy(F).map(function($){return VD(v,$)})},function(P){return v.execCommand("mceTableInsertRowAfter"),aC(v,C,P)})},sC=["table","li","dl"],y4=function(v,C,D){if(v.keyCode===FD.TAB){var P=Ol(C),F=function(de){var Se=Oo(de);return ro(de,P)||tt(sC,Se)},$=C.selection.getRng(),re=It.fromDom(v.shiftKey?$.startContainer:$.endContainer);Qf(re,F).each(function(de){v.preventDefault(),ca(de,F).each(D.clear),C.selection.collapse(v.shiftKey);var Se=v.shiftKey?HD:aC,Le=Se(C,F,de);Le.each(function(ot){C.selection.setRng(ot)})})}},b4=function(v,C){return{selection:v,kill:C}},P0={create:b4},x4=function(v,C,D,P){return{start:gl.on(v,C),finish:gl.on(D,P)}},gm={create:x4},jD=function(v,C){var D=pm(v,C);return m1.create(It.fromDom(D.startContainer),D.startOffset,It.fromDom(D.endContainer),D.endOffset)},Kg=gm.create,ww=function(v,C,D,P,F,$,re){return ro(D,F)&&P===$?Q.none():Ta(D,"td,th",C).bind(function(de){return Ta(F,"td,th",C).bind(function(Se){return UD(v,C,de,Se,re)})})},UD=function(v,C,D,P,F){return ro(D,P)?Q.none():Pp(D,P,C).bind(function($){var re=$.boxes.getOr([]);return re.length>1?(F(v,re,$.start,$.finish),Q.some(P0.create(Q.some(Kg(D,0,D,wf(D))),!0))):Q.none()})},lC=function(v,C,D,P,F){var $=function(re){return F.clearBeforeUpdate(D),F.selectRange(D,re.boxes,re.start,re.finish),re.boxes};return Vv(P,v,C,F.firstSelectedSelector,F.lastSelectedSelector).map($)},_1=function(v,C){return{item:v,mode:C}},cC=function(v,C,D,P){return P===void 0&&(P=Jg),v.property().parent(C).map(function(F){return _1(F,P)})},Jg=function(v,C,D,P){return P===void 0&&(P=S1),D.sibling(v,C).map(function(F){return _1(F,P)})},S1=function(v,C,D,P){P===void 0&&(P=S1);var F=v.property().children(C),$=D.first(F);return $.map(function(re){return _1(re,P)})},w4=[{current:cC,next:Jg,fallback:Q.none()},{current:Jg,next:S1,fallback:Q.some(cC)},{current:S1,next:S1,fallback:Q.some(Jg)}],WD=function(v,C,D,P,F){F===void 0&&(F=w4);var $=Ye(F,function(re){return re.current===D});return $.bind(function(re){return re.current(v,C,P,re.next).orThunk(function(){return re.fallback.bind(function(de){return WD(v,C,de,P)})})})},N0=function(){var v=function(D,P){return D.query().prevSibling(P)},C=function(D){return D.length>0?Q.some(D[D.length-1]):Q.none()};return{sibling:v,first:C}},_4=function(){var v=function(D,P){return D.query().nextSibling(P)},C=function(D){return D.length>0?Q.some(D[0]):Q.none()};return{sibling:v,first:C}},C1={left:N0,right:_4},T1=function(v,C,D,P,F,$){var re=WD(v,C,P,F);return re.bind(function(de){return $(de.item)?Q.none():D(de.item)?Q.some(de.item):T1(v,de.item,D,de.mode,F,$)})},qD=function(v,C,D,P){return T1(v,C,D,Jg,C1.left(),P)},Xc=function(v,C,D,P){return T1(v,C,D,Jg,C1.right(),P)},fC=function(v){return function(C){return v.property().children(C).length===0}},_w=function(v,C,D){return dC(v,C,fC(v),D)},S4=function(v,C,D){return $D(v,C,fC(v),D)},dC=qD,$D=Xc,Sw=Ey(),M1=function(v,C){return _w(Sw,v,C)},hC=function(v,C){return S4(Sw,v,C)},GD=function(v,C,D){return dC(Sw,v,C,D)},XD=function(v,C,D){return $D(Sw,v,C,D)},ip=function(v,C,D){return xa(v,C,D).isSome()},Cw=Fd.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),C4=function(v,C,D){var P=v.getRect(C),F=v.getRect(D);return F.right>P.left&&F.left<P.right},pC=function(v){return Ta(v,"tr")},T4=function(v,C,D,P,F,$,re){return Ta(P,"td,th",re).bind(function(de){return Ta(C,"td,th",re).map(function(Se){return ro(de,Se)?ro(P,de)&&wf(de)===F?$(Se):Cw.none("in same cell"):Sr(pC,[de,Se]).fold(function(){return C4(v,Se,de)?Cw.success():$(Se)},function(Le){return $(Se)})})}).getOr(Cw.none("default"))},mC=function(v,C,D,P,F){return v.fold(C,D,P,F)},L0=Zt(Zt({},Cw),{verify:T4,cata:mC}),Tw=function(v,C,D,P){return{parent:v,children:C,element:D,index:P}},M4=function(v){return aa(v).bind(function(C){var D=H(C);return YD(D,v).map(function(P){return Tw(C,D,v,P)})})},YD=function(v,C){return je(v,q(ro,C))},gC=function(v){return Oo(v)==="br"},vC=function(v,C,D){return C(v,D).bind(function(P){return is(P)&&Xb(P).trim().length===0?vC(P,C,D):Q.some(P)})},k4=function(v,C,D){return D.traverse(C).orThunk(function(){return vC(C,D.gather,v)}).map(D.relative)},Mw=function(v,C){return ee(v,C).filter(gC).orThunk(function(){return ee(v,C-1).filter(gC)})},KD=function(v,C,D,P){return Mw(C,D).bind(function(F){return P.traverse(F).fold(function(){return vC(F,P.gather,v).map(P.relative)},function($){return M4($).map(function(re){return gl.on(re.parent,re.index)})})})},JD=function(v,C,D,P){var F=gC(C)?k4(v,C,P):KD(v,C,D,P);return F.map(function($){return{start:$,finish:$}})},QD=function(v){return L0.cata(v,function(C){return Q.none()},function(){return Q.none()},function(C){return Q.some(c0(C,0))},function(C){return Q.some(c0(C,wf(C)))})},k1=function(v,C){return{left:v.left,top:v.top+C,right:v.right,bottom:v.bottom+C}},D1=function(v,C){return{left:v.left,top:v.top-C,right:v.right,bottom:v.bottom-C}},Qg=function(v,C,D){return{left:v.left+C,top:v.top+D,right:v.right+C,bottom:v.bottom+D}},ZD=function(v){return v.top},eA=function(v){return v.bottom},kw=function(v,C,D){return D>=0&&D<wf(C)?v.getRangedRect(C,D,C,D+1):D>0?v.getRangedRect(C,D-1,C,D):Q.none()},Dw=function(v){return{left:v.left,top:v.top,right:v.right,bottom:v.bottom}},yC=function(v,C){return Q.some(v.getRect(C))},bC=function(v,C,D){return si(C)?yC(v,C).map(Dw):is(C)?kw(v,C,D).map(Dw):Q.none()},tA=function(v,C){return si(C)?yC(v,C).map(Dw):is(C)?v.getRangedRect(C,0,C,wf(C)).map(Dw):Q.none()},rh=5,xC=100,oh=Fd.generate([{none:[]},{retry:["caret"]}]),D4=function(v,C){return v.left<C.left||Math.abs(C.right-v.left)<1||v.left>C.right},ap=function(v,C,D){return Wb(C,Mf).fold(ae,function(P){return tA(v,P).exists(function(F){return D4(D,F)})})},nA=function(v,C,D,P,F){var $=k1(F,rh);return Math.abs(D.bottom-P.bottom)<1||D.top>F.bottom?oh.retry($):D.top===F.bottom?oh.retry(k1(F,1)):ap(v,C,F)?oh.retry(Qg($,rh,0)):oh.none()},rA=function(v,C,D,P,F){var $=D1(F,rh);return Math.abs(D.top-P.top)<1||D.bottom<F.top?oh.retry($):D.bottom===F.top?oh.retry(D1(F,1)):ap(v,C,F)?oh.retry(Qg($,rh,0)):oh.none()},A4={point:ZD,adjuster:rA,move:D1,gather:M1},E4={point:eA,adjuster:nA,move:k1,gather:hC},B0=function(v,C,D){return v.elementFromPoint(C,D).filter(function(P){return Oo(P)==="table"}).isSome()},z0=function(v,C,D,P,F){return Aw(v,C,D,C.move(P,rh),F)},Aw=function(v,C,D,P,F){return F===0?Q.some(P):B0(v,P.left,C.point(P))?z0(v,C,D,P,F-1):v.situsFromPoint(P.left,C.point(P)).bind(function($){return $.start.fold(Q.none,function(re){return tA(v,re).bind(function(de){return C.adjuster(v,re,de,D,P).fold(Q.none,function(Se){return Aw(v,C,D,Se,F-1)})}).orThunk(function(){return Q.some(P)})},Q.none)})},oA=function(v,C){return v.situsFromPoint(C.left,C.bottom+rh)},vm=function(v,C){return v.situsFromPoint(C.left,C.top-rh)},ym=function(v,C,D){return v.point(C)>D.getInnerHeight()?Q.some(v.point(C)-D.getInnerHeight()):v.point(C)<0?Q.some(-v.point(C)):Q.none()},iA=function(v,C,D){var P=v.move(D,rh),F=Aw(C,v,D,P,xC).getOr(P);return ym(v,F,C).fold(function(){return C.situsFromPoint(F.left,v.point(F))},function($){return C.scrollBy(0,$),C.situsFromPoint(F.left,v.point(F)-$)})},A1={tryUp:q(iA,A4),tryDown:q(iA,E4),ieTryUp:vm,ieTryDown:oA,getJumpSize:I(rh)},Zg=20,Rr=function(v,C,D){return v.getSelection().bind(function(P){return JD(C,P.finish,P.foffset,D).fold(function(){return Q.some(c0(P.finish,P.foffset))},function(F){var $=v.fromSitus(F),re=L0.verify(v,P.finish,P.foffset,$.finish,$.foffset,D.failure,C);return QD(re)})})},wC=function(v,C,D,P,F,$){return $===0?Q.none():up(v,C,D,P,F).bind(function(re){var de=v.fromSitus(re),Se=L0.verify(v,D,P,de.finish,de.foffset,F.failure,C);return L0.cata(Se,function(){return Q.none()},function(){return Q.some(re)},function(Le){return ro(D,Le)&&P===0?Ew(v,D,P,D1,F):wC(v,C,Le,0,F,$-1)},function(Le){return ro(D,Le)&&P===wf(Le)?Ew(v,D,P,k1,F):wC(v,C,Le,wf(Le),F,$-1)})})},Ew=function(v,C,D,P,F){return bC(v,C,D).bind(function($){return _C(v,F,P($,A1.getJumpSize()))})},_C=function(v,C,D){var P=Oe().browser;return P.isChrome()||P.isSafari()||P.isFirefox()||P.isEdge()?C.otherRetry(v,D):P.isIE()?C.ieRetry(v,D):Q.none()},up=function(v,C,D,P,F){return bC(v,D,P).bind(function($){return _C(v,F,$)})},Ow=function(v,C,D){return Rr(v,C,D).bind(function(P){return wC(v,C,P.element,P.offset,D,Zg).map(v.fromSitus)})},E1=function(v,C){return ip(v,function(D){return aa(D).exists(function(P){return ro(P,C)})})},Iw=function(v,C,D,P,F){return Ta(P,"td,th",C).bind(function($){return Ta($,"table",C).bind(function(re){return E1(F,re)?Ow(v,C,D).bind(function(de){return Ta(de.finish,"td,th",C).map(function(Se){return{start:$,finish:Se,range:de}})}):Q.none()})})},SC=function(v,C,D,P,F,$){return Oe().browser.isIE()?Q.none():$(P,C).orThunk(function(){return Iw(v,C,D,P,F).map(function(re){var de=re.range;return P0.create(Q.some(Kg(de.start,de.soffset,de.finish,de.foffset)),!0)})})},CC=function(v,C){return Ta(v,"tr",C).bind(function(D){return Ta(D,"table",C).bind(function(P){var F=$l(P,"tr");return ro(D,F[0])?GD(P,function($){return rx($).isSome()},C).map(function($){var re=wf($);return P0.create(Q.some(Kg($,re,$,re)),!0)}):Q.none()})})},Zr=function(v,C){return Ta(v,"tr",C).bind(function(D){return Ta(D,"table",C).bind(function(P){var F=$l(P,"tr");return ro(D,F[F.length-1])?XD(P,function($){return Hy($).isSome()},C).map(function($){return P0.create(Q.some(Kg($,0,$,0)),!0)}):Q.none()})})},aA=function(v,C,D,P,F,$,re){return Iw(v,D,P,F,$).bind(function(de){return UD(C,D,de.start,de.finish,re)})},po=function(v,C){return Ta(v,"td,th",C)},uA=function(v,C,D,P){var F=qg(),$=F.clear,re=function(ot){F.on(function($t){P.clearBeforeUpdate(C),po(ot.target,D).each(function(_n){Pp($t,_n,D).each(function(sn){var Gt=sn.boxes.getOr([]);if(Gt.length===1){var Nn=Gt[0],Pn=yx(Nn)==="false",xr=Kf(vx(ot.target),Nn,ro);Pn&&xr&&(P.selectRange(C,Gt,Nn,Nn),v.selectContents(Nn))}else Gt.length>1&&(P.selectRange(C,Gt,sn.start,sn.finish),v.selectContents(_n))})})})},de=function(ot){P.clear(C),po(ot.target,D).each(F.set)},Se=function(ot){re(ot)},Le=function(ot){re(ot),$()};return{clearstate:$,mousedown:de,mouseover:Se,mouseup:Le}},O1={traverse:W,gather:hC,relative:gl.before,otherRetry:A1.tryDown,ieRetry:A1.ieTryDown,failure:L0.failedDown},Rw={traverse:ue,gather:M1,relative:gl.before,otherRetry:A1.tryUp,ieRetry:A1.ieTryUp,failure:L0.failedUp},bm=function(v){return function(C){return C===v}},TC=bm(38),Pw=bm(40),I1=function(v){return v>=37&&v<=40},sA={isBackward:bm(37),isForward:bm(39)},$r={isBackward:bm(39),isForward:bm(37)},lA=function(v){var C=v!==void 0?v.dom:document,D=C.body.scrollLeft||C.documentElement.scrollLeft,P=C.body.scrollTop||C.documentElement.scrollTop;return Pi(D,P)},cA=function(v,C,D){var P=D!==void 0?D.dom:document,F=P.defaultView;F&&F.scrollBy(v,C)},F0=function(v){var C=function(Pn,xr){return It.fromPoint(It.fromDom(v.document),Pn,xr)},D=function(Pn){return Pn.dom.getBoundingClientRect()},P=function(Pn,xr,qo,Ar){var Gr=rp.exact(Pn,xr,qo,Ar);return BD(v,Gr)},F=function(){return w1(v).map(function(Pn){return jD(v,Pn)})},$=function(Pn){var xr=rp.relative(Pn.start,Pn.finish);return jD(v,xr)},re=function(Pn,xr){return v4(v,Pn,xr).map(function(qo){return gm.create(qo.start,qo.soffset,qo.finish,qo.foffset)})},de=function(){zD(v)},Se=function(Pn){Pn===void 0&&(Pn=!1),w1(v).each(function(xr){return xr.fold(function(qo){return qo.collapse(Pn)},function(qo,Ar){var Gr=Pn?qo:Ar;yw(v,Gr,Gr)},function(qo,Ar,Gr,Po){var xo=Pn?qo:Gr,za=Pn?Ar:Po;vw(v,xo,za,xo,za)})})},Le=function(Pn){iC(v,Pn,!1)},ot=function(Pn){iC(v,Pn)},$t=function(Pn){vw(v,Pn.start,Pn.soffset,Pn.finish,Pn.foffset)},_n=function(Pn,xr){yw(v,Pn,xr)},sn=function(){return v.innerHeight},Gt=function(){var Pn=lA(It.fromDom(v.document));return Pn.top},Nn=function(Pn,xr){cA(Pn,xr,It.fromDom(v.document))};return{elementFromPoint:C,getRect:D,getRangedRect:P,getSelection:F,fromSitus:$,situsFromPoint:re,clearSelection:de,collapseSelection:Se,setSelection:$t,setRelativeSelection:_n,selectNode:Le,selectContents:ot,getInnerHeight:sn,getScrollY:Gt,scrollBy:Nn}},ev=function(v,C){return{rows:v,cols:C}},fA=function(v,C,D,P){var F=F0(v),$=uA(F,C,D,P);return{clearstate:$.clearstate,mousedown:$.mousedown,mouseover:$.mouseover,mouseup:$.mouseup}},dA=function(v,C,D,P){var F=F0(v),$=function(){return P.clear(C),Q.none()},re=function(Se,Le,ot,$t,_n,sn){var Gt=Se.raw,Nn=Gt.which,Pn=Gt.shiftKey===!0,xr=Hv(C,P.selectedSelector).fold(function(){return I1(Nn)&&!Pn&&P.clearBeforeUpdate(C),Pw(Nn)&&Pn?q(aA,F,C,D,O1,$t,Le,P.selectRange):TC(Nn)&&Pn?q(aA,F,C,D,Rw,$t,Le,P.selectRange):Pw(Nn)?q(SC,F,D,O1,$t,Le,Zr):TC(Nn)?q(SC,F,D,Rw,$t,Le,CC):Q.none},function(qo){var Ar=function(Gr){return function(){var Po=Mn(Gr,function(xo){return lC(xo.rows,xo.cols,C,qo,P)});return Po.fold(function(){return mf(C,P.firstSelectedSelector,P.lastSelectedSelector).map(function(xo){var za=Pw(Nn)||sn.isForward(Nn)?gl.after:gl.before;return F.setRelativeSelection(gl.on(xo.first,0),za(xo.table)),P.clear(C),P0.create(Q.none(),!0)})},function(xo){return Q.some(P0.create(Q.none(),!0))})}};return Pw(Nn)&&Pn?Ar([ev(1,0)]):TC(Nn)&&Pn?Ar([ev(-1,0)]):sn.isBackward(Nn)&&Pn?Ar([ev(0,-1),ev(-1,0)]):sn.isForward(Nn)&&Pn?Ar([ev(0,1),ev(1,0)]):I1(Nn)&&!Pn?$:Q.none});return xr()},de=function(Se,Le,ot,$t,_n){return Hv(C,P.selectedSelector).fold(function(){var sn=Se.raw,Gt=sn.which,Nn=sn.shiftKey===!0;return Nn&&I1(Gt)?ww(C,D,Le,ot,$t,_n,P.selectRange):Q.none()},Q.none)};return{keydown:re,keyup:de}},MC=function(v,C,D,P){var F=F0(v);return function($,re){P.clearBeforeUpdate(C),Pp($,re,D).each(function(de){var Se=de.boxes.getOr([]);P.selectRange(C,Se,de.start,de.finish),F.selectContents(re),F.collapseSelection()})}},Nw=function(v,C){pt(C,function(D){Yp(v,D)})},hA=function(v){return function(C){Ni(C,v)}},Lw=function(v){return function(C){Nw(C,v)}},pA=function(v){var C=hA(v.selected),D=Lw([v.selected,v.lastSelected,v.firstSelected]),P=function($){var re=$l($,v.selectedSelector);pt(re,D)},F=function($,re,de,Se){P($),pt(re,C),Ni(de,v.firstSelected),Ni(Se,v.lastSelected)};return{clearBeforeUpdate:P,clear:P,selectRange:F,selectedSelector:v.selectedSelector,firstSelectedSelector:v.firstSelectedSelector,lastSelectedSelector:v.lastSelectedSelector}},mA=function(v,C,D){var P=function(Se){Ki(Se,v.selected),Ki(Se,v.firstSelected),Ki(Se,v.lastSelected)},F=function(Se){bu(Se,v.selected,"1")},$=function(Se){re(Se),D()},re=function(Se){var Le=$l(Se,v.selectedSelector+","+v.firstSelectedSelector+","+v.lastSelectedSelector);pt(Le,P)},de=function(Se,Le,ot,$t){$(Se),pt(Le,F),bu(ot,v.firstSelected,"1"),bu($t,v.lastSelected,"1"),C(Le,ot,$t)};return{clearBeforeUpdate:re,clear:$,selectRange:de,selectedSelector:v.selectedSelector,firstSelectedSelector:v.firstSelectedSelector,lastSelectedSelector:v.lastSelectedSelector}},O4={byClass:pA,byAttr:mA},I4=function(v,C){var D=v.slice(0,C[C.length-1].row+1),P=Zy(D);return qe(P,function(F){var $=F.cells.slice(0,C[C.length-1].column+1);return Ge($,function(re){return re.element})})},R4=function(v,C){var D=v.slice(C[0].row+C[0].rowspan-1,v.length),P=Zy(D);return qe(P,function(F){var $=F.cells.slice(C[0].column+C[0].colspan-1,F.cells.length);return Ge($,function(re){return re.element})})},P4=function(v,C,D){var P=yo.fromTable(v),F=Tf(P,C);return F.map(function($){var re=om(P,D,!1),de=I4(re,$),Se=R4(re,$);return{upOrLeftCells:de,downOrRightCells:Se}})},gA=tinymce.util.Tools.resolve("tinymce.Env"),kC=function(v){return Ci(It.fromDom(v.target),"ephox-snooker-resizer-bar")===!1};function zo(v,C,D){var P=function(re,de,Se){D.targets().each(function(Le){var ot=ca(de);ot.each(function($t){var _n=nS(v),sn=da(k,It.fromDom(v.getDoc()),_n),Gt=P4($t,Le,sn);iO(v,re,de,Se,Gt)})})},F=function(){return Sx(v)},$=O4.byAttr(mg,P,F);return v.on("init",function(re){var de=v.getWin(),Se=Ol(v),Le=qu(v),ot=function(){var Yo=v.selection,eo=It.fromDom(Yo.getStart()),Fo=It.fromDom(Yo.getEnd()),bi=Sr(ca,[eo,Fo]);bi.fold(function(){return $.clear(Se)},k)},$t=fA(de,Se,Le,$),_n=dA(de,Se,Le,$),sn=MC(de,Se,Le,$),Gt=function(Yo){return Yo.raw.shiftKey===!0};v.on("TableSelectorChange",function(Yo){return sn(Yo.start,Yo.finish)});var Nn=function(Yo,eo){Gt(Yo)&&(eo.kill&&Yo.kill(),eo.selection.each(function(Fo){var bi=rp.relative(Fo.start,Fo.finish),ha=pm(de,bi);v.selection.setRng(ha)}))},Pn=function(Yo){var eo=_g(Yo);if(eo.raw.shiftKey&&I1(eo.raw.which)){var Fo=v.selection.getRng(),bi=It.fromDom(Fo.startContainer),ha=It.fromDom(Fo.endContainer);_n.keyup(eo,bi,Fo.startOffset,ha,Fo.endOffset).each(function(ih){Nn(eo,ih)})}},xr=function(Yo){var eo=_g(Yo);C().each(function(gi){return gi.hideBars()});var Fo=v.selection.getRng(),bi=It.fromDom(Fo.startContainer),ha=It.fromDom(Fo.endContainer),ih=Ql(sA,$r)(It.fromDom(v.selection.getStart()));_n.keydown(eo,bi,Fo.startOffset,ha,Fo.endOffset,ih).each(function(gi){Nn(eo,gi)}),C().each(function(gi){return gi.showBars()})},qo=function(Yo){return Yo.button===0},Ar=function(Yo){return Yo.buttons===void 0||gA.browser.isEdge()&&Yo.buttons===0?!0:(Yo.buttons&1)!==0},Gr=function(Yo){$t.clearstate()},Po=function(Yo){qo(Yo)&&kC(Yo)&&$t.mousedown(_g(Yo))},xo=function(Yo){Ar(Yo)&&kC(Yo)&&$t.mouseover(_g(Yo))},za=function(Yo){qo(Yo)&&kC(Yo)&&$t.mouseup(_g(Yo))},Lu=function(){var Yo=kf(It.fromDom(Se)),eo=kf(0),Fo=function(bi){var ha=It.fromDom(bi.target);if(Oo(ha)==="td"||Oo(ha)==="th"){var ih=Yo.get(),gi=eo.get();ro(ih,ha)&&bi.timeStamp-gi<300&&(bi.preventDefault(),sn(ha,ha))}Yo.set(ha),eo.set(bi.timeStamp)};return{touchEnd:Fo}},Xs=Lu();v.on("dragstart",Gr),v.on("mousedown",Po),v.on("mouseover",xo),v.on("mouseup",za),v.on("touchend",Xs.touchEnd),v.on("keyup",Pn),v.on("keydown",xr),v.on("NodeChange",ot)}),{clear:$.clear}}var vA=function(v,C){return Wr(v,C).isSome()},R1=function(v,C){var D=kf(Q.none()),P=kf([]),F=Q.none(),$=ia("caption"),re=function(eo){return F.forall(function(Fo){return!Fo[eo]})},de=function(){return vg(du(v),qu(v))},Se=function(){return vg(ir(v),qu(v))},Le=function(){return de().bind(function(eo){return Oh(Xl(ca(eo),Se().bind(ca),function(Fo,bi){return ro(Fo,bi)?$(eo)?Q.some(qd(eo)):Q.some(Vp(C,Fo,eo)):Q.none()}))})},ot=function(eo){var Fo=ca(eo.element);return Fo.map(function(bi){var ha=yo.fromTable(bi),ih=Tf(ha,eo).getOr([]),gi=fe(ih,function(sc,gs){return gs.isLocked&&(sc.onAny=!0,gs.column===0?sc.onFirst=!0:gs.column+gs.colspan>=ha.grid.columns&&(sc.onLast=!0)),sc},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:fS(ha,eo).isSome(),unmergeable:Og(ha,eo).isSome(),locked:gi}})},$t=function(){D.set(pr(Le)()),F=D.get().bind(ot),pt(P.get(),function(eo){return eo()})},_n=function(eo){return eo(),P.set(P.get().concat([eo])),function(){P.set(Ot(P.get(),function(Fo){return Fo!==eo}))}},sn=function(eo,Fo){return _n(function(){return D.get().fold(function(){eo.setDisabled(!0)},function(bi){eo.setDisabled(Fo(bi))})})},Gt=function(eo,Fo,bi){return _n(function(){return D.get().fold(function(){eo.setDisabled(!0),eo.setActive(!1)},function(ha){eo.setDisabled(Fo(ha)),eo.setActive(bi(ha))})})},Nn=function(eo){return F.exists(function(Fo){return Fo.locked[eo]})},Pn=function(eo){return sn(eo,function(Fo){return!1})},xr=function(eo){return sn(eo,function(Fo){return $(Fo.element)})},qo=function(eo){return function(Fo){return sn(Fo,function(bi){return $(bi.element)||Nn(eo)})}},Ar=function(eo){return function(Fo){return sn(Fo,function(bi){return $(bi.element)||eo().isNone()})}},Gr=function(eo,Fo){return function(bi){return sn(bi,function(ha){return $(ha.element)||eo().isNone()||Nn(Fo)})}},Po=function(eo){return sn(eo,function(Fo){return re("mergeable")})},xo=function(eo){return sn(eo,function(Fo){return re("unmergeable")})},za=function(eo){return Gt(eo,ae,function(Fo){var bi=ca(Fo.element,qu(v));return bi.exists(function(ha){return vA(ha,"caption")})})},Lu=function(eo,Fo){return function(bi){return Gt(bi,function(ha){return $(ha.element)},function(){return v.queryCommandValue(eo)===Fo})}},Xs=Lu("mceTableRowType","header"),Yo=Lu("mceTableColType","th");return v.on("NodeChange ExecCommand TableSelectorChange",$t),{onSetupTable:Pn,onSetupCellOrRow:xr,onSetupColumn:qo,onSetupPasteable:Ar,onSetupPasteableColumn:Gr,onSetupMergeable:Po,onSetupUnmergeable:xo,resetTargets:$t,onSetupTableWithCaption:za,onSetupTableRowHeaders:Xs,onSetupTableColumnHeaders:Yo,targets:D.get}},P1=function(v,C,D,P){v.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(de){return de("inserttable | cell row column | advtablesort | tableprops deletetable")}});var F=function(de){return function(){return v.execCommand(de)}};v.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:F("mceTableProps"),icon:"table",onSetup:D.onSetupTable}),v.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:F("mceTableDelete"),icon:"table-delete-table",onSetup:D.onSetupTable}),v.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:F("mceTableCellProps"),icon:"table-cell-properties",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:F("mceTableMergeCells"),icon:"table-merge-cells",onSetup:D.onSetupMergeable}),v.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:F("mceTableSplitCells"),icon:"table-split-cells",onSetup:D.onSetupUnmergeable}),v.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:F("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:F("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:F("mceTableDeleteRow"),icon:"table-delete-row",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:F("mceTableRowProps"),icon:"table-row-properties",onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:F("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:D.onSetupColumn("onFirst")}),v.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:F("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:D.onSetupColumn("onLast")}),v.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:F("mceTableDeleteCol"),icon:"table-delete-column",onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:F("mceTableCutRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:F("mceTableCopyRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:F("mceTablePasteRowBefore"),onSetup:D.onSetupPasteable(P.getRows)}),v.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:F("mceTablePasteRowAfter"),onSetup:D.onSetupPasteable(P.getRows)}),v.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:F("mceTableCutCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:F("mceTableCopyCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:F("mceTablePasteColBefore"),onSetup:D.onSetupPasteableColumn(P.getColumns,"onFirst")}),v.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:F("mceTablePasteColAfter"),onSetup:D.onSetupPasteableColumn(P.getColumns,"onLast")}),v.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:F("mceInsertTable"),icon:"table"});var $=$g(em(v));$.length!==0&&v.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:c1(v,C,$,"tableclass",function(de){return v.execCommand("mceTableToggleClass",!1,de)}),onSetup:D.onSetupTable});var re=$g(Z_(v));re.length!==0&&v.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:c1(v,C,re,"tablecellclass",function(de){return v.execCommand("mceTableCellToggleClass",!1,de)}),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:c1(v,C,Vg,"tablecellverticalalign",lm(v,"vertical-align")),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:c1(v,C,Tx(v),"tablecellborderwidth",lm(v,"border-width")),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:c1(v,C,rc(v),"tablecellborderstyle",lm(v,"border-style")),onSetup:D.onSetupCellOrRow}),v.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:F("mceTableToggleCaption"),icon:"table-caption",onSetup:D.onSetupTableWithCaption}),v.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(de){return de(uw(v,oS(v),"background-color"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(de){return de(uw(v,iS(v),"border-color"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:f1(v),onSetup:D.onSetupTableRowHeaders}),v.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:FS(v),onSetup:D.onSetupTableColumnHeaders})},Bw=function(v){var C=function(P){return v.dom.is(P,"table")&&v.getBody().contains(P)},D=ld(v);D.length>0&&v.ui.registry.addContextToolbar("table",{predicate:C,items:D,scope:"node",position:"node"})},zw=function(v,C,D,P){var F=function(sn){return function(){return v.execCommand(sn)}},$=function(sn){v.execCommand("mceInsertTable",!1,{rows:sn.numRows,columns:sn.numColumns})},re={text:"Table properties",onSetup:D.onSetupTable,onAction:F("mceTableProps")},de={text:"Delete table",icon:"table-delete-table",onSetup:D.onSetupTable,onAction:F("mceTableDelete")};v.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:F("mceTableInsertRowBefore"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:F("mceTableInsertRowAfter"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:F("mceTableDeleteRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:F("mceTableRowProps"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:F("mceTableCutRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:F("mceTableCopyRow"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:F("mceTablePasteRowBefore"),onSetup:D.onSetupPasteable(P.getRows)}),v.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:F("mceTablePasteRowAfter"),onSetup:D.onSetupPasteable(P.getRows)});var Se={type:"nestedmenuitem",text:"Row",getSubmenuItems:I("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};v.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:F("mceTableInsertColBefore"),onSetup:D.onSetupColumn("onFirst")}),v.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:F("mceTableInsertColAfter"),onSetup:D.onSetupColumn("onLast")}),v.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:F("mceTableDeleteCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:F("mceTableCutCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:F("mceTableCopyCol"),onSetup:D.onSetupColumn("onAny")}),v.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:F("mceTablePasteColBefore"),onSetup:D.onSetupPasteableColumn(P.getColumns,"onFirst")}),v.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:F("mceTablePasteColAfter"),onSetup:D.onSetupPasteableColumn(P.getColumns,"onLast")});var Le={type:"nestedmenuitem",text:"Column",getSubmenuItems:I("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};v.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:F("mceTableCellProps"),onSetup:D.onSetupCellOrRow}),v.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:F("mceTableMergeCells"),onSetup:D.onSetupMergeable}),v.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:F("mceTableSplitCells"),onSetup:D.onSetupUnmergeable});var ot={type:"nestedmenuitem",text:"Cell",getSubmenuItems:I("tablecellprops tablemergecells tablesplitcells")};Qh(v)===!1?v.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:F("mceInsertTable")}):v.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:$}]}}),v.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:F("mceInsertTable")}),v.ui.registry.addMenuItem("tableprops",re),v.ui.registry.addMenuItem("deletetable",de),v.ui.registry.addNestedMenuItem("row",Se),v.ui.registry.addNestedMenuItem("column",Le),v.ui.registry.addNestedMenuItem("cell",ot),v.ui.registry.addContextMenu("table",{update:function(){return D.resetTargets(),D.targets().fold(I(""),function(sn){return Oo(sn.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var $t=$g(em(v));$t.length!==0&&v.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return Gc(v,C,$t,"tableclass",function(sn){return v.execCommand("mceTableToggleClass",!1,sn)})},onSetup:D.onSetupTable});var _n=$g(Z_(v));_n.length!==0&&v.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return Gc(v,C,_n,"tablecellclass",function(sn){return v.execCommand("mceTableCellToggleClass",!1,sn)})},onSetup:D.onSetupCellOrRow}),v.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return Gc(v,C,Vg,"tablecellverticalalign",lm(v,"vertical-align"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return Gc(v,C,Tx(v),"tablecellborderwidth",lm(v,"border-width"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return Gc(v,C,rc(v),"tablecellborderstyle",lm(v,"border-style"))},onSetup:D.onSetupCellOrRow}),v.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:F("mceTableToggleCaption"),onSetup:D.onSetupTableWithCaption}),v.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return uw(v,oS(v),"background-color")},onSetup:D.onSetupCellOrRow}),v.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return uw(v,iS(v),"border-color")},onSetup:D.onSetupCellOrRow}),v.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:f1(v),onSetup:D.onSetupTableRowHeaders}),v.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:FS(v),onSetup:D.onSetupTableColumnHeaders})},yA=function(v){var C=ks(function(){return Ol(v)},function(){return tc(du(v),qu(v))},mg.selectedSelector),D=R1(v,C),P=Nx(v),F=zo(v,P.lazyResize,D),$=b0(v,F,P.lazyWire),re=cw();return p1(v,$,F,C,re),T0(v,$,C),ad(v,C,$),zw(v,C,D,re),P1(v,C,D,re),Bw(v),v.on("PreInit",function(){v.serializer.addTempAttr(mg.firstSelected),v.serializer.addTempAttr(mg.lastSelected),n4(v)}),Yd(v)&&v.on("keydown",function(de){y4(de,v,F)}),v.on("remove",function(){P.destroy()}),ms(v,re,P,D)};function bA(){HM.add("table",yA)}bA()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(Ke){var Bt=typeof Ke;return Ke===null?"null":Bt==="object"&&(Array.prototype.isPrototypeOf(Ke)||Ke.constructor&&Ke.constructor.name==="Array")?"array":Bt==="object"&&(String.prototype.isPrototypeOf(Ke)||Ke.constructor&&Ke.constructor.name==="String")?"string":Bt},t=function(Ke){return function(Bt){return e(Bt)===Ke}},r=function(Ke){return function(Bt){return typeof Bt===Ke}},i=t("string"),u=r("function"),l=function(){},f=function(Ke){return function(){return Ke}},h=function(Ke){return Ke};function g(Ke){for(var Bt=[],Mn=1;Mn<arguments.length;Mn++)Bt[Mn-1]=arguments[Mn];return function(){for(var Zt=[],Qn=0;Qn<arguments.length;Qn++)Zt[Qn]=arguments[Qn];var pr=Bt.concat(Zt);return Ke.apply(null,pr)}}var y=f(!1),b=f(!0),S=tinymce.util.Tools.resolve("tinymce.util.Tools"),_=tinymce.util.Tools.resolve("tinymce.util.XHR"),k=function(Ke){return Ke.getParam("template_cdate_classes","cdate")},A=function(Ke){return Ke.getParam("template_mdate_classes","mdate")},R=function(Ke){return Ke.getParam("template_selected_content_classes","selcontent")},I=function(Ke){return Ke.getParam("template_preview_replace_values")},z=function(Ke){return Ke.getParam("content_style","","string")},L=function(Ke){return Ke.getParam("content_css_cors",!1,"boolean")},q=function(Ke){return Ke.getParam("template_replace_values")},X=function(Ke){return Ke.getParam("templates")},Y=function(Ke){return Ke.getParam("template_cdate_format",Ke.translate("%Y-%m-%d"))},ae=function(Ke){return Ke.getParam("template_mdate_format",Ke.translate("%Y-%m-%d"))},te=function(Ke){var Bt=Ke.getParam("body_class","","hash");return Bt[Ke.id]||""},ie=function(Ke){var Bt=Ke.getParam("body_class","","string");return Bt.indexOf("=")===-1?Bt:te(Ke)},le=function(Ke,Bt){if(Ke=""+Ke,Ke.length<Bt)for(var Mn=0;Mn<Bt-Ke.length;Mn++)Ke="0"+Ke;return Ke},ce=function(Ke,Bt,Mn){Mn===void 0&&(Mn=new Date);var Zt="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Qn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),pr="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ao="January February March April May June July August September October November December".split(" ");return Bt=Bt.replace("%D","%m/%d/%Y"),Bt=Bt.replace("%r","%I:%M:%S %p"),Bt=Bt.replace("%Y",""+Mn.getFullYear()),Bt=Bt.replace("%y",""+Mn.getYear()),Bt=Bt.replace("%m",le(Mn.getMonth()+1,2)),Bt=Bt.replace("%d",le(Mn.getDate(),2)),Bt=Bt.replace("%H",""+le(Mn.getHours(),2)),Bt=Bt.replace("%M",""+le(Mn.getMinutes(),2)),Bt=Bt.replace("%S",""+le(Mn.getSeconds(),2)),Bt=Bt.replace("%I",""+((Mn.getHours()+11)%12+1)),Bt=Bt.replace("%p",Mn.getHours()<12?"AM":"PM"),Bt=Bt.replace("%B",""+Ke.translate(ao[Mn.getMonth()])),Bt=Bt.replace("%b",""+Ke.translate(pr[Mn.getMonth()])),Bt=Bt.replace("%A",""+Ke.translate(Qn[Mn.getDay()])),Bt=Bt.replace("%a",""+Ke.translate(Zt[Mn.getDay()])),Bt=Bt.replace("%%","%"),Bt},ne=function(Ke,Bt){return function(){var Mn=X(Ke);u(Mn)?Mn(Bt):i(Mn)?_.send({url:Mn,success:function(Zt){Bt(JSON.parse(Zt))}}):Bt(Mn)}},Q=function(Ke,Bt){return S.each(Bt,function(Mn,Zt){u(Mn)&&(Mn=Mn(Zt)),Ke=Ke.replace(new RegExp("\\{\\$"+Zt+"\\}","g"),Mn)}),Ke},Ce=function(Ke,Bt){var Mn=Ke.dom,Zt=q(Ke);S.each(Mn.select("*",Bt),function(Qn){S.each(Zt,function(pr,ao){Mn.hasClass(Qn,ao)&&u(pr)&&pr(Qn)})})},ze=function(Ke,Bt){return new RegExp("\\b"+Bt+"\\b","g").test(Ke.className)},ke=function(Ke,Bt,Mn){var Zt=Ke.dom,Qn=Ke.selection.getContent();Mn=Q(Mn,q(Ke));var pr=Zt.create("div",null,Mn),ao=Zt.select(".mceTmpl",pr);ao&&ao.length>0&&(pr=Zt.create("div",null),pr.appendChild(ao[0].cloneNode(!0))),S.each(Zt.select("*",pr),function(To){ze(To,k(Ke).replace(/\s+/g,"|"))&&(To.innerHTML=ce(Ke,Y(Ke))),ze(To,A(Ke).replace(/\s+/g,"|"))&&(To.innerHTML=ce(Ke,ae(Ke))),ze(To,R(Ke).replace(/\s+/g,"|"))&&(To.innerHTML=Qn)}),Ce(Ke,pr),Ke.execCommand("mceInsertContent",!1,pr.innerHTML),Ke.addVisual()},St=function(){return tt},tt=function(){var Ke=function(Zt){return Zt()},Bt=h,Mn={fold:function(Zt,Qn){return Zt()},isSome:y,isNone:b,getOr:Bt,getOrThunk:Ke,getOrDie:function(Zt){throw new Error(Zt||"error: getOrDie called on none.")},getOrNull:f(null),getOrUndefined:f(void 0),or:Bt,orThunk:Ke,map:St,each:l,bind:St,exists:y,forall:b,filter:function(){return St()},toArray:function(){return[]},toString:f("none()")};return Mn}(),G=function(Ke){var Bt=f(Ke),Mn=function(){return Qn},Zt=function(pr){return pr(Ke)},Qn={fold:function(pr,ao){return ao(Ke)},isSome:b,isNone:y,getOr:Bt,getOrThunk:Bt,getOrDie:Bt,getOrNull:Bt,getOrUndefined:Bt,or:Mn,orThunk:Mn,map:function(pr){return G(pr(Ke))},each:function(pr){pr(Ke)},bind:Zt,exists:Zt,forall:Zt,filter:function(pr){return pr(Ke)?Qn:tt},toArray:function(){return[Ke]},toString:function(){return"some("+Ke+")"}};return Qn},We=function(Ke){return Ke==null?tt:G(Ke)},Ge={some:G,none:St,from:We},pt=function(Ke,Bt){for(var Mn=Ke.length,Zt=new Array(Mn),Qn=0;Qn<Mn;Qn++){var pr=Ke[Qn];Zt[Qn]=Bt(pr,Qn)}return Zt},Ze=function(Ke,Bt,Mn){for(var Zt=0,Qn=Ke.length;Zt<Qn;Zt++){var pr=Ke[Zt];if(Bt(pr,Zt))return Ge.some(pr);if(Mn(pr,Zt))break}return Ge.none()},kt=function(Ke,Bt){return Ze(Ke,Bt,y)},Ot=tinymce.util.Tools.resolve("tinymce.Env"),Nt=tinymce.util.Tools.resolve("tinymce.util.Promise"),fe=Object.hasOwnProperty,Yt=function(Ke,Bt){return Ye(Ke,Bt)?Ge.from(Ke[Bt]):Ge.none()},Ye=function(Ke,Bt){return fe.call(Ke,Bt)},je={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},bt=function(Ke){return Ke.replace(/["'<>&]/g,function(Bt){return Yt(je,Bt).getOr(Bt)})},qe=function(Ke,Bt){if(Bt.indexOf("<html>")===-1){var Mn="",Zt=z(Ke),Qn=L(Ke)?' crossorigin="anonymous"':"";S.each(Ke.contentCSS,function(en){Mn+='<link type="text/css" rel="stylesheet" href="'+Ke.documentBaseURI.toAbsolute(en)+'"'+Qn+">"}),Zt&&(Mn+='<style type="text/css">'+Zt+"</style>");var pr=ie(Ke),ao=Ke.dom.encode,To=Ot.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Go='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+To+")) {e.preventDefault();}}}, false);<\/script> ",gn=Ke.getBody().dir,vn=gn?' dir="'+ao(gn)+'"':"";Bt='<!DOCTYPE html><html><head><base href="'+ao(Ke.documentBaseURI.getURI())+'">'+Mn+Go+'</head><body class="'+ao(pr)+'"'+vn+">"+Bt+"</body></html>"}return Q(Bt,I(Ke))},Je=function(Ke,Bt){var Mn=function(){if(!Bt||Bt.length===0){var en=Ke.translate("No templates defined.");return Ke.notificationManager.open({text:en,type:"info"}),Ge.none()}return Ge.from(S.map(Bt,function(vt,Tt){var hn=function(Bn){return Bn.url!==void 0};return{selected:Tt===0,text:vt.title,value:{url:hn(vt)?Ge.from(vt.url):Ge.none(),content:hn(vt)?Ge.none():Ge.from(vt.content),description:vt.description}}}))},Zt=function(en){return pt(en,function(vt){return{text:vt.text,value:vt.text}})},Qn=function(en,vt){return kt(en,function(Tt){return Tt.text===vt})},pr=function(en){Ke.windowManager.alert("Could not load the specified template.",function(){return en.focus("template")})},ao=function(en){return new Nt(function(vt,Tt){en.value.url.fold(function(){return vt(en.value.content.getOr(""))},function(hn){return _.send({url:hn,success:function(Bn){vt(Bn)},error:function(Bn){Tt(Bn)}})})})},To=function(en,vt){return function(Tt,hn){if(hn.name==="template"){var Bn=Tt.getData().template;Qn(en,Bn).each(function(bn){Tt.block("Loading..."),ao(bn).then(function(mt){vt(Tt,bn,mt)}).catch(function(){vt(Tt,bn,""),Tt.disable("save"),pr(Tt)})})}}},Go=function(en){return function(vt){var Tt=vt.getData();Qn(en,Tt.template).each(function(hn){ao(hn).then(function(Bn){Ke.execCommand("mceInsertTemplate",!1,Bn),vt.close()}).catch(function(){vt.disable("save"),pr(vt)})})}},gn=function(en){var vt=Zt(en),Tt=function(bn,mt){return{title:"Insert Template",size:"large",body:{type:"panel",items:bn},initialData:mt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Go(en),onChange:To(en,hn)}},hn=function(bn,mt,an){var On=qe(Ke,an),wn=[{type:"selectbox",name:"template",label:"Templates",items:vt},{type:"htmlpanel",html:'<p aria-live="polite">'+bt(mt.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],er={template:mt.text,preview:On};bn.unblock(),bn.redial(Tt(wn,er)),bn.focus("template")},Bn=Ke.windowManager.open(Tt([],{template:"",preview:""}));Bn.block("Loading..."),ao(en[0]).then(function(bn){hn(Bn,en[0],bn)}).catch(function(){hn(Bn,en[0],""),Bn.disable("save"),pr(Bn)})},vn=Mn();vn.each(gn)},st=function(Ke){return function(Bt){Je(Ke,Bt)}},Ft=function(Ke){Ke.addCommand("mceInsertTemplate",g(ke,Ke)),Ke.addCommand("mceTemplate",ne(Ke,st(Ke)))},Ct=function(Ke){Ke.on("PreProcess",function(Bt){var Mn=Ke.dom,Zt=ae(Ke);S.each(Mn.select("div",Bt.node),function(Qn){Mn.hasClass(Qn,"mceTmpl")&&(S.each(Mn.select("*",Qn),function(pr){Mn.hasClass(pr,A(Ke).replace(/\s+/g,"|"))&&(pr.innerHTML=ce(Ke,Zt))}),Ce(Ke,Qn))})})},Rt=function(Ke){var Bt=function(){return Ke.execCommand("mceTemplate")};Ke.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:Bt}),Ke.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:Bt})};function ur(){n.add("template",function(Ke){Rt(Ke),Ft(Ke),Ct(Ke)})}ur()})();(function(){var n=function(he){var Me=he,Ue=function(){return Me},lt=function(_t){Me=_t};return{get:Ue,set:lt}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(){return t=Object.assign||function(he){for(var Me,Ue=1,lt=arguments.length;Ue<lt;Ue++){Me=arguments[Ue];for(var _t in Me)Object.prototype.hasOwnProperty.call(Me,_t)&&(he[_t]=Me[_t])}return he},t.apply(this,arguments)};function r(he,Me,Ue){if(Ue||arguments.length===2)for(var lt=0,_t=Me.length,Dt;lt<_t;lt++)(Dt||!(lt in Me))&&(Dt||(Dt=Array.prototype.slice.call(Me,0,lt)),Dt[lt]=Me[lt]);return he.concat(Dt||Array.prototype.slice.call(Me))}var i=function(he){var Me=typeof he;return he===null?"null":Me==="object"&&(Array.prototype.isPrototypeOf(he)||he.constructor&&he.constructor.name==="Array")?"array":Me==="object"&&(String.prototype.isPrototypeOf(he)||he.constructor&&he.constructor.name==="String")?"string":Me},u=function(he){return function(Me){return i(Me)===he}},l=u("string"),f=u("object"),h=u("array"),g=function(){},y=function(he){return function(){return he}},b=function(he){return he},S=function(he){return function(){throw new Error(he)}},_=y(!1),k=y(!0),A=function(){return R},R=function(){var he=function(lt){return lt()},Me=b,Ue={fold:function(lt,_t){return lt()},isSome:_,isNone:k,getOr:Me,getOrThunk:he,getOrDie:function(lt){throw new Error(lt||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:Me,orThunk:he,map:A,each:g,bind:A,exists:_,forall:k,filter:function(){return A()},toArray:function(){return[]},toString:y("none()")};return Ue}(),I=function(he){var Me=y(he),Ue=function(){return _t},lt=function(Dt){return Dt(he)},_t={fold:function(Dt,En){return En(he)},isSome:k,isNone:_,getOr:Me,getOrThunk:Me,getOrDie:Me,getOrNull:Me,getOrUndefined:Me,or:Ue,orThunk:Ue,map:function(Dt){return I(Dt(he))},each:function(Dt){Dt(he)},bind:lt,exists:lt,forall:lt,filter:function(Dt){return Dt(he)?_t:R},toArray:function(){return[he]},toString:function(){return"some("+he+")"}};return _t},z=function(he){return he==null?R:I(he)},L={some:I,none:A,from:z},q=Array.prototype.slice,X=Array.prototype.indexOf,Y=function(he,Me){return X.call(he,Me)},ae=function(he,Me){return Y(he,Me)>-1},te=function(he,Me){for(var Ue=he.length,lt=new Array(Ue),_t=0;_t<Ue;_t++){var Dt=he[_t];lt[_t]=Me(Dt,_t)}return lt},ie=function(he,Me){for(var Ue=0,lt=he.length;Ue<lt;Ue++){var _t=he[Ue];Me(_t,Ue)}},le=function(he,Me){for(var Ue=he.length-1;Ue>=0;Ue--){var lt=he[Ue];Me(lt,Ue)}},ce=function(he,Me){for(var Ue=[],lt=0,_t=he.length;lt<_t;lt++){var Dt=he[lt];Me(Dt,lt)&&Ue.push(Dt)}return Ue},ne=function(he,Me,Ue){return le(he,function(lt,_t){Ue=Me(Ue,lt,_t)}),Ue},Q=function(he,Me,Ue){return ie(he,function(lt,_t){Ue=Me(Ue,lt,_t)}),Ue},Ce=function(he,Me,Ue){for(var lt=0,_t=he.length;lt<_t;lt++){var Dt=he[lt];if(Me(Dt,lt))return L.some(Dt);if(Ue(Dt,lt))break}return L.none()},ze=function(he,Me){return Ce(he,Me,_)},ke=function(he,Me){for(var Ue=0,lt=he.length;Ue<lt;++Ue){var _t=he[Ue];if(Me(_t,Ue)!==!0)return!1}return!0},St=function(he,Me){var Ue=q.call(he,0);return Ue.sort(Me),Ue},tt=function(he,Me){return Me>=0&&Me<he.length?L.some(he[Me]):L.none()},G=function(he){return tt(he,0)},We=Object.keys,Ge=Object.hasOwnProperty,pt=function(he,Me){return Ge.call(he,Me)},Ze=function(he){if(!h(he))throw new Error("cases must be an array");if(he.length===0)throw new Error("there must be at least one case");var Me=[],Ue={};return ie(he,function(lt,_t){var Dt=We(lt);if(Dt.length!==1)throw new Error("one and only one name per case");var En=Dt[0],Wn=lt[En];if(Ue[En]!==void 0)throw new Error("duplicate key detected:"+En);if(En==="cata")throw new Error("cannot have a case named cata (sorry)");if(!h(Wn))throw new Error("case arguments must be an array");Me.push(En),Ue[En]=function(){for(var _r=[],It=0;It<arguments.length;It++)_r[It]=arguments[It];var mr=_r.length;if(mr!==Wn.length)throw new Error("Wrong number of arguments to case "+En+". Expected "+Wn.length+" ("+Wn+"), got "+mr);var qr=function(Wo){var ea=We(Wo);if(Me.length!==ea.length)throw new Error("Wrong number of arguments to match. Expected: "+Me.join(",")+`
Actual: `+ea.join(","));var ro=ke(Me,function(Fs){return ae(ea,Fs)});if(!ro)throw new Error("Not all branches were specified when using match. Specified: "+ea.join(", ")+`
Required: `+Me.join(", "));return Wo[En].apply(null,_r)};return{fold:function(){for(var Wo=[],ea=0;ea<arguments.length;ea++)Wo[ea]=arguments[ea];if(Wo.length!==he.length)throw new Error("Wrong number of arguments to fold. Expected "+he.length+", got "+Wo.length);var ro=Wo[_t];return ro.apply(null,_r)},match:qr,log:function(Wo){console.log(Wo,{constructors:Me,constructor:En,params:_r})}}}}),Ue},kt={generate:Ze};kt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Ot=function(he){var Me=[],Ue=[];return ie(he,function(lt){lt.fold(function(_t){Me.push(_t)},function(_t){Ue.push(_t)})}),{errors:Me,values:Ue}},Nt=function(he){var Me=function(qr){return Nt(he)},Ue=function(qr){return Nt(he)},lt=function(qr){return Nt(qr(he))},_t=function(qr){return Nt(he)},Dt=function(qr){qr(he)},En=function(qr){return qr(he)},Wn=function(qr,Wo){return Wo(he)},_r=function(qr){return qr(he)},It=function(qr){return qr(he)},mr=function(){return L.some(he)};return{isValue:k,isError:_,getOr:y(he),getOrThunk:y(he),getOrDie:y(he),or:Me,orThunk:Ue,fold:Wn,map:lt,mapError:_t,each:Dt,bind:En,exists:_r,forall:It,toOptional:mr}},fe=function(he){var Me=function(It){return It()},Ue=function(){return S(String(he))()},lt=b,_t=function(It){return It()},Dt=function(It){return fe(he)},En=function(It){return fe(It(he))},Wn=function(It){return fe(he)},_r=function(It,mr){return It(he)};return{isValue:_,isError:k,getOr:b,getOrThunk:Me,getOrDie:Ue,or:lt,orThunk:_t,fold:_r,map:Dt,mapError:En,each:g,bind:Wn,exists:_,forall:k,toOptional:L.none}},Yt=function(he,Me){return he.fold(function(){return fe(Me)},Nt)},Ye={value:Nt,error:fe,fromOption:Yt},je=function(he){return he.type==="inline-command"||he.type==="inline-format"},bt=function(he){return he.type==="block-command"||he.type==="block-format"},qe=function(he){return St(he,function(Me,Ue){return Me.start.length===Ue.start.length?0:Me.start.length>Ue.start.length?-1:1})},Je=function(he){var Me=function(Dt){return Ye.error({message:Dt,pattern:he})},Ue=function(Dt,En,Wn){if(he.format!==void 0){var _r=void 0;if(h(he.format)){if(!ke(he.format,l))return Me(Dt+" pattern has non-string items in the `format` array");_r=he.format}else if(l(he.format))_r=[he.format];else return Me(Dt+" pattern has non-string `format` parameter");return Ye.value(En(_r))}else return he.cmd!==void 0?l(he.cmd)?Ye.value(Wn(he.cmd,he.value)):Me(Dt+" pattern has non-string `cmd` parameter"):Me(Dt+" pattern is missing both `format` and `cmd` parameters")};if(!f(he))return Me("Raw pattern is not an object");if(!l(he.start))return Me("Raw pattern is missing `start` parameter");if(he.end!==void 0){if(!l(he.end))return Me("Inline pattern has non-string `end` parameter");if(he.start.length===0&&he.end.length===0)return Me("Inline pattern has empty `start` and `end` parameters");var lt=he.start,_t=he.end;return _t.length===0&&(_t=lt,lt=""),Ue("Inline",function(Dt){return{type:"inline-format",start:lt,end:_t,format:Dt}},function(Dt,En){return{type:"inline-command",start:lt,end:_t,cmd:Dt,value:En}})}else return he.replacement!==void 0?l(he.replacement)?he.start.length===0?Me("Replacement pattern has empty `start` parameter"):Ye.value({type:"inline-command",start:"",end:he.start,cmd:"mceInsertContent",value:he.replacement}):Me("Replacement pattern has non-string `replacement` parameter"):he.start.length===0?Me("Block pattern has empty `start` parameter"):Ue("Block",function(Dt){return{type:"block-format",start:he.start,format:Dt[0]}},function(Dt,En){return{type:"block-command",start:he.start,cmd:Dt,value:En}})},st=function(he){if(he.type==="block-command")return{start:he.start,cmd:he.cmd,value:he.value};if(he.type==="block-format")return{start:he.start,format:he.format};if(he.type==="inline-command")return he.cmd==="mceInsertContent"&&he.start===""?{start:he.end,replacement:he.value}:{start:he.start,end:he.end,cmd:he.cmd,value:he.value};if(he.type==="inline-format")return{start:he.start,end:he.end,format:he.format.length===1?he.format[0]:he.format}},Ft=function(he){return{inlinePatterns:ce(he,je),blockPatterns:qe(ce(he,bt))}},Ct=function(he){var Me=function(lt){var _t=Ot(te(lt,Je));if(_t.errors.length>0){var Dt=_t.errors[0];throw new Error(Dt.message+`:
`+JSON.stringify(Dt.pattern,null,2))}he.set(Ft(_t.values))},Ue=function(){return r(r([],te(he.get().inlinePatterns,st),!0),te(he.get().blockPatterns,st),!0)};return{setPatterns:Me,getPatterns:Ue}},Rt=typeof window<"u"?window:Function("return this;")(),ur=function(){for(var he=[],Me=0;Me<arguments.length;Me++)he[Me]=arguments[Me];var Ue=Rt.console;Ue&&(Ue.error?Ue.error.apply(Ue,he):Ue.log.apply(Ue,he))},Ke=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],Bt=function(he){var Me=he.getParam("textpattern_patterns",Ke,"array");if(!h(Me))return ur("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var Ue=Ot(te(Me,Je));return ie(Ue.errors,function(lt){return ur(lt.message,lt.pattern)}),Ft(Ue.values)},Mn=function(he){var Me=he.getParam("forced_root_block","p");return Me===!1?"":Me===!0?"p":Me},Zt=tinymce.util.Tools.resolve("tinymce.util.Delay"),Qn=tinymce.util.Tools.resolve("tinymce.util.VK"),pr="\uFEFF",ao="",To=tinymce.util.Tools.resolve("tinymce.util.Tools"),Go=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),gn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),vn=function(he,Me){return{container:he,offset:Me}},en=function(he){return he.nodeType===Node.TEXT_NODE},vt=function(he,Me,Ue){if(Me&&he.isEmpty(Me)&&!Ue(Me)){var lt=Me.parentNode;he.remove(Me),vt(he,lt,Ue)}},Tt=function(he,Me,Ue,lt){lt===void 0&&(lt=!0);var _t=Me.startContainer.parentNode,Dt=Me.endContainer.parentNode;Me.deleteContents(),lt&&!Ue(Me.startContainer)&&(en(Me.startContainer)&&Me.startContainer.data.length===0&&he.remove(Me.startContainer),en(Me.endContainer)&&Me.endContainer.data.length===0&&he.remove(Me.endContainer),vt(he,_t,Ue),_t!==Dt&&vt(he,Dt,Ue))},hn=function(he,Me){var Ue=Me.get(he);return h(Ue)&&G(Ue).exists(function(lt){return pt(lt,"block")})},Bn=function(he){return he.start.length===0},bn=function(he,Me){var Ue=L.from(he.dom.getParent(Me.startContainer,he.dom.isBlock));return Mn(he)===""?Ue.orThunk(function(){return L.some(he.getBody())}):Ue},mt=Go.DOM,an=function(he){return function(Me){return he===Me?-1:0}},On=function(he){return function(Me){return he.isBlock(Me)||ae(["BR","IMG","HR","INPUT"],Me.nodeName)||he.getContentEditable(Me)==="false"}},wn=function(he,Me,Ue){if(en(he)&&Me>=0)return L.some(vn(he,Me));var lt=gn(mt);return L.from(lt.backwards(he,Me,an(he),Ue)).map(function(_t){return vn(_t.container,_t.container.data.length)})},er=function(he,Me,Ue){if(en(he)&&Me>=he.length)return L.some(vn(he,Me));var lt=gn(mt);return L.from(lt.forwards(he,Me,an(he),Ue)).map(function(_t){return vn(_t.container,0)})},et=function(he,Me,Ue){if(!en(he))return L.none();var lt=he.textContent;if(Me>=0&&Me<=lt.length)return L.some(vn(he,Me));var _t=gn(mt);return L.from(_t.backwards(he,Me,an(he),Ue)).bind(function(Dt){var En=Dt.container.data;return et(Dt.container,Me+En.length,Ue)})},jt=function(he,Me,Ue){if(!en(he))return L.none();var lt=he.textContent;if(Me<=lt.length)return L.some(vn(he,Me));var _t=gn(mt);return L.from(_t.forwards(he,Me,an(he),Ue)).bind(function(Dt){return jt(Dt.container,Me-lt.length,Ue)})},Pt=function(he,Me,Ue,lt,_t){var Dt=gn(he,On(he));return L.from(Dt.backwards(Me,Ue,lt,_t))},ln=function(he,Me,Ue){if(en(Me)&&(Ue<0||Ue>Me.data.length))return[];for(var lt=[Ue],_t=Me;_t!==he&&_t.parentNode;){for(var Dt=_t.parentNode,En=0;En<Dt.childNodes.length;En++)if(Dt.childNodes[En]===_t){lt.push(En);break}_t=Dt}return _t===he?lt.reverse():[]},Kn=function(he,Me,Ue,lt,_t){var Dt=ln(he,Me,Ue),En=ln(he,lt,_t);return{start:Dt,end:En}},Lr=function(he,Me){var Ue=Me.slice(),lt=Ue.pop(),_t=Q(Ue,function(Dt,En){return Dt.bind(function(Wn){return L.from(Wn.childNodes[En])})},L.some(he));return _t.bind(function(Dt){return en(Dt)&&(lt<0||lt>Dt.data.length)?L.none():L.some({node:Dt,offset:lt})})},ei=function(he,Me){return Lr(he,Me.start).bind(function(Ue){var lt=Ue.node,_t=Ue.offset;return Lr(he,Me.end).map(function(Dt){var En=Dt.node,Wn=Dt.offset,_r=document.createRange();return _r.setStart(lt,_t),_r.setEnd(En,Wn),_r})})},Br=function(he,Me){return Kn(he,Me.startContainer,Me.startOffset,Me.endContainer,Me.endOffset)},Vr=function(he,Me,Ue){var lt=er(Me,0,Me);lt.each(function(_t){var Dt=_t.container;jt(Dt,Ue.start.length,Me).each(function(En){var Wn=he.createRng();Wn.setStart(Dt,0),Wn.setEnd(En.container,En.offset),Tt(he,Wn,function(_r){return _r===Me})})})},ui=function(he,Me){var Ue=he.dom,lt=Me.pattern,_t=ei(Ue.getRoot(),Me.range).getOrDie("Unable to resolve path range");return bn(he,_t).each(function(Dt){lt.type==="block-format"?hn(lt.format,he.formatter)&&he.undoManager.transact(function(){Vr(he.dom,Dt,lt),he.formatter.apply(lt.format)}):lt.type==="block-command"&&he.undoManager.transact(function(){Vr(he.dom,Dt,lt),he.execCommand(lt.cmd,!1,lt.value)})}),!0},Ca=function(he,Me){var Ue=Me.replace(ao," ");return ze(he,function(lt){return Me.indexOf(lt.start)===0||Ue.indexOf(lt.start)===0})},Ui=function(he,Me){var Ue=he.dom,lt=he.selection.getRng();return bn(he,lt).filter(function(_t){var Dt=Mn(he),En=Dt===""&&Ue.is(_t,"body")||Ue.is(_t,Dt);return _t!==null&&En}).bind(function(_t){var Dt=_t.textContent,En=Ca(Me,Dt);return En.map(function(Wn){return To.trim(Dt).length===Wn.start.length?[]:[{pattern:Wn,range:Kn(Ue.getRoot(),_t,0,_t,0)}]})}).getOr([])},Si=function(he,Me){if(Me.length!==0){var Ue=he.selection.getBookmark();ie(Me,function(lt){return ui(he,lt)}),he.selection.moveToBookmark(Ue)}},Xi=0,Ia=function(he){var Me=new Date,Ue=Me.getTime(),lt=Math.floor(Math.random()*1e9);return Xi++,he+"_"+lt+Xi+String(Ue)},Zi=function(he,Me,Ue){return Me===""||he.length>=Me.length&&he.substr(Ue,Ue+Me.length)===Me},Bi=function(he,Me){return Zi(he,Me,he.length-Me.length)},Ra=function(he,Me){return he.create("span",{"data-mce-type":"bookmark",id:Me})},co=function(he,Me){var Ue=he.createRng();return Ue.setStartAfter(Me.start),Ue.setEndBefore(Me.end),Ue},Pa=function(he,Me,Ue){var lt=ei(he.getRoot(),Ue).getOrDie("Unable to resolve path range"),_t=lt.startContainer,Dt=lt.endContainer,En=lt.endOffset===0?Dt:Dt.splitText(lt.endOffset),Wn=lt.startOffset===0?_t:_t.splitText(lt.startOffset);return{prefix:Me,end:En.parentNode.insertBefore(Ra(he,Me+"-end"),En),start:Wn.parentNode.insertBefore(Ra(he,Me+"-start"),Wn)}},dr=function(he,Me,Ue){vt(he,he.get(Me.prefix+"-end"),Ue),vt(he,he.get(Me.prefix+"-start"),Ue)},Hu=function(he,Me,Ue){return function(lt,_t){var Dt=lt.data,En=Dt.substring(0,_t),Wn=En.lastIndexOf(Ue.charAt(Ue.length-1)),_r=En.lastIndexOf(Ue);return _r!==-1?_r+Ue.length:Wn!==-1?Wn+1:-1}},ba=function(he,Me,Ue,lt){var _t=Me.start,Dt=Pt(he,lt.container,lt.offset,Hu(he,Ue,_t),Ue);return Dt.bind(function(En){if(En.offset>=_t.length){var Wn=he.createRng();return Wn.setStart(En.container,En.offset-_t.length),Wn.setEnd(En.container,En.offset),L.some(Wn)}else{var _r=En.offset-_t.length;return et(En.container,_r,Ue).map(function(It){var mr=he.createRng();return mr.setStart(It.container,It.offset),mr.setEnd(En.container,En.offset),mr}).filter(function(It){return It.toString()===_t}).orThunk(function(){return ba(he,Me,Ue,vn(En.container,0))})}})},Ua=function(he,Me,Ue,lt,_t,Dt){if(Dt===void 0&&(Dt=!1),Me.start.length===0&&!Dt){var En=he.createRng();return En.setStart(Ue,lt),En.setEnd(Ue,lt),L.some(En)}return wn(Ue,lt,_t).bind(function(Wn){var _r=ba(he,Me,_t,Wn);return _r.bind(function(It){return Dt&&(It.endContainer===Wn.container&&It.endOffset===Wn.offset||Wn.offset===0&&It.endContainer.textContent.length===It.endOffset)?L.none():L.some(It)})})},oa=function(he,Me,Ue){var lt=he.dom,_t=lt.getRoot(),Dt=Ue.pattern,En=Ue.position.container,Wn=Ue.position.offset;return et(En,Wn-Ue.pattern.end.length,Me).bind(function(_r){var It=Kn(_t,_r.container,_r.offset,En,Wn);if(Bn(Dt))return L.some({matches:[{pattern:Dt,startRng:It,endRng:It}],position:_r});var mr=Ja(he,Ue.remainingPatterns,_r.container,_r.offset,Me),qr=mr.getOr({matches:[],position:_r}),Wo=qr.position,ea=Ua(lt,Dt,Wo.container,Wo.offset,Me,mr.isNone());return ea.map(function(ro){var Fs=Br(_t,ro);return{matches:qr.matches.concat([{pattern:Dt,startRng:Fs,endRng:It}]),position:vn(ro.startContainer,ro.startOffset)}})})},Ja=function(he,Me,Ue,lt,_t){var Dt=he.dom;return wn(Ue,lt,Dt.getRoot()).bind(function(En){var Wn=Dt.createRng();Wn.setStart(_t,0),Wn.setEnd(Ue,lt);for(var _r=Wn.toString(),It=0;It<Me.length;It++){var mr=Me[It];if(Bi(_r,mr.end)){var qr=Me.slice();qr.splice(It,1);var Wo=oa(he,_t,{pattern:mr,remainingPatterns:qr,position:En});if(Wo.isSome())return Wo}}return L.none()})},Vu=function(he,Me,Ue){he.selection.setRng(Ue),Me.type==="inline-format"?ie(Me.format,function(lt){he.formatter.apply(lt)}):he.execCommand(Me.cmd,!1,Me.value)},Qa=function(he,Me,Ue,lt){var _t=co(he.dom,Ue);Tt(he.dom,_t,lt),Vu(he,Me,_t)},ws=function(he,Me,Ue,lt,_t){var Dt=he.dom,En=co(Dt,lt),Wn=co(Dt,Ue);Tt(Dt,Wn,_t),Tt(Dt,En,_t);var _r={prefix:Ue.prefix,start:Ue.end,end:lt.start},It=co(Dt,_r);Vu(he,Me,It)},Pe=function(he,Me){var Ue=Ia("mce_textpattern"),lt=ne(Me,function(_t,Dt){var En=Pa(he,Ue+("_end"+_t.length),Dt.endRng);return _t.concat([t(t({},Dt),{endMarker:En})])},[]);return ne(lt,function(_t,Dt){var En=lt.length-_t.length-1,Wn=Bn(Dt.pattern)?Dt.endMarker:Pa(he,Ue+("_start"+En),Dt.startRng);return _t.concat([t(t({},Dt),{startMarker:Wn})])},[])},it=function(he,Me,Ue){var lt=he.selection.getRng();return lt.collapsed===!1?[]:bn(he,lt).bind(function(_t){var Dt=lt.startOffset-(Ue?1:0);return Ja(he,Me,lt.startContainer,Dt,_t)}).fold(function(){return[]},function(_t){return _t.matches})},He=function(he,Me){if(Me.length!==0){var Ue=he.dom,lt=he.selection.getBookmark(),_t=Pe(Ue,Me);ie(_t,function(Dt){var En=Ue.getParent(Dt.startMarker.start,Ue.isBlock),Wn=function(_r){return _r===En};Bn(Dt.pattern)?Qa(he,Dt.pattern,Dt.endMarker,Wn):ws(he,Dt.pattern,Dt.startMarker,Dt.endMarker,Wn),dr(Ue,Dt.endMarker,Wn),dr(Ue,Dt.startMarker,Wn)}),he.selection.moveToBookmark(lt)}},At=function(he,Me){if(!he.selection.isCollapsed())return!1;var Ue=it(he,Me.inlinePatterns,!1),lt=Ui(he,Me.blockPatterns);return lt.length>0||Ue.length>0?(he.undoManager.add(),he.undoManager.extra(function(){he.execCommand("mceInsertNewLine")},function(){he.insertContent(pr),He(he,Ue),Si(he,lt);var _t=he.selection.getRng(),Dt=wn(_t.startContainer,_t.startOffset,he.dom.getRoot());he.execCommand("mceInsertNewLine"),Dt.each(function(En){var Wn=En.container;Wn.data.charAt(En.offset-1)===pr&&(Wn.deleteData(En.offset-1,1),vt(he.dom,Wn.parentNode,function(_r){return _r===he.dom.getRoot()}))})}),!0):!1},Rn=function(he,Me){var Ue=it(he,Me.inlinePatterns,!0);Ue.length>0&&he.undoManager.transact(function(){He(he,Ue)})},tr=function(he,Me,Ue){for(var lt=0;lt<he.length;lt++)if(Ue(he[lt],Me))return!0;return!1},Oe=function(he,Me){return tr(he,Me,function(Ue,lt){return Ue===lt.keyCode&&Qn.modifierPressed(lt)===!1})},$e=function(he,Me){return tr(he,Me,function(Ue,lt){return Ue.charCodeAt(0)===lt.charCode})},Et=function(he,Me){var Ue=[",",".",";",":","!","?"],lt=[32];he.on("keydown",function(_t){_t.keyCode===13&&!Qn.modifierPressed(_t)&&At(he,Me.get())&&_t.preventDefault()},!0),he.on("keyup",function(_t){Oe(lt,_t)&&Rn(he,Me.get())}),he.on("keypress",function(_t){$e(Ue,_t)&&Zt.setEditorTimeout(he,function(){Rn(he,Me.get())})})};function Jt(){e.add("textpattern",function(he){var Me=n(Bt(he));return Et(he,Me),Ct(Me)})}Jt()})();(function(){var n=function(y){var b=y,S=function(){return b},_=function(k){b=k};return{get:S,set:_}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(y,b){y.fire("VisualBlocks",{state:b})},r=function(y,b,S){var _=y.dom;_.toggleClass(y.getBody(),"mce-visualblocks"),S.set(!S.get()),t(y,S.get())},i=function(y,b,S){y.addCommand("mceVisualBlocks",function(){r(y,b,S)})},u=function(y){return y.getParam("visualblocks_default_state",!1,"boolean")},l=function(y,b,S){y.on("PreviewFormats AfterPreviewFormats",function(_){S.get()&&y.dom.toggleClass(y.getBody(),"mce-visualblocks",_.type==="afterpreviewformats")}),y.on("init",function(){u(y)&&r(y,b,S)})},f=function(y,b){return function(S){S.setActive(b.get());var _=function(k){return S.setActive(k.state)};return y.on("VisualBlocks",_),function(){return y.off("VisualBlocks",_)}}},h=function(y,b){var S=function(){return y.execCommand("mceVisualBlocks")};y.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:S,onSetup:f(y,b)}),y.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:S,onSetup:f(y,b)})};function g(){e.add("visualblocks",function(y,b){var S=n(!1);i(y,b,S),h(y,S),l(y,b,S)})}g()})();(function(){var n=function(et){var jt=et,Pt=function(){return jt},ln=function(Kn){jt=Kn};return{get:Pt,set:ln}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=function(et){var jt=function(){return et.get()};return{isEnabled:jt}},r=function(et,jt){return et.fire("VisualChars",{state:jt})},i=function(et){var jt=typeof et;return et===null?"null":jt==="object"&&(Array.prototype.isPrototypeOf(et)||et.constructor&&et.constructor.name==="Array")?"array":jt==="object"&&(String.prototype.isPrototypeOf(et)||et.constructor&&et.constructor.name==="String")?"string":jt},u=function(et){return function(jt){return i(jt)===et}},l=function(et){return function(jt){return typeof jt===et}},f=u("string"),h=l("boolean"),g=l("number"),y=function(){},b=function(et){return function(){return et}},S=function(et){return et},_=b(!1),k=b(!0),A=function(){return R},R=function(){var et=function(ln){return ln()},jt=S,Pt={fold:function(ln,Kn){return ln()},isSome:_,isNone:k,getOr:jt,getOrThunk:et,getOrDie:function(ln){throw new Error(ln||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:jt,orThunk:et,map:A,each:y,bind:A,exists:_,forall:k,filter:function(){return A()},toArray:function(){return[]},toString:b("none()")};return Pt}(),I=function(et){var jt=b(et),Pt=function(){return Kn},ln=function(Lr){return Lr(et)},Kn={fold:function(Lr,ei){return ei(et)},isSome:k,isNone:_,getOr:jt,getOrThunk:jt,getOrDie:jt,getOrNull:jt,getOrUndefined:jt,or:Pt,orThunk:Pt,map:function(Lr){return I(Lr(et))},each:function(Lr){Lr(et)},bind:ln,exists:ln,forall:ln,filter:function(Lr){return Lr(et)?Kn:R},toArray:function(){return[et]},toString:function(){return"some("+et+")"}};return Kn},z=function(et){return et==null?R:I(et)},L={some:I,none:A,from:z},q=function(et,jt){for(var Pt=et.length,ln=new Array(Pt),Kn=0;Kn<Pt;Kn++){var Lr=et[Kn];ln[Kn]=jt(Lr,Kn)}return ln},X=function(et,jt){for(var Pt=0,ln=et.length;Pt<ln;Pt++){var Kn=et[Pt];jt(Kn,Pt)}},Y=function(et,jt){for(var Pt=[],ln=0,Kn=et.length;ln<Kn;ln++){var Lr=et[ln];jt(Lr,ln)&&Pt.push(Lr)}return Pt},ae=Object.keys,te=function(et,jt){for(var Pt=ae(et),ln=0,Kn=Pt.length;ln<Kn;ln++){var Lr=Pt[ln],ei=et[Lr];jt(ei,Lr)}};typeof window<"u"||Function("return this;")();var ie=3,le=function(et){return et.dom.nodeType},ce=function(et){return et.dom.nodeValue},ne=function(et){return function(jt){return le(jt)===et}},Q=ne(ie),Ce=function(et,jt,Pt){if(f(Pt)||h(Pt)||g(Pt))et.setAttribute(jt,Pt+"");else throw console.error("Invalid call to Attribute.set. Key ",jt,":: Value ",Pt,":: Element ",et),new Error("Attribute value was not simple")},ze=function(et,jt,Pt){Ce(et.dom,jt,Pt)},ke=function(et,jt){var Pt=et.dom.getAttribute(jt);return Pt===null?void 0:Pt},St=function(et,jt){et.dom.removeAttribute(jt)},tt=function(et,jt){var Pt=ke(et,jt);return Pt===void 0||Pt===""?[]:Pt.split(" ")},G=function(et,jt,Pt){var ln=tt(et,jt),Kn=ln.concat([Pt]);return ze(et,jt,Kn.join(" ")),!0},We=function(et,jt,Pt){var ln=Y(tt(et,jt),function(Kn){return Kn!==Pt});return ln.length>0?ze(et,jt,ln.join(" ")):St(et,jt),!1},Ge=function(et){return et.dom.classList!==void 0},pt=function(et){return tt(et,"class")},Ze=function(et,jt){return G(et,"class",jt)},kt=function(et,jt){return We(et,"class",jt)},Ot=function(et,jt){Ge(et)?et.dom.classList.add(jt):Ze(et,jt)},Nt=function(et){var jt=Ge(et)?et.dom.classList:pt(et);jt.length===0&&St(et,"class")},fe=function(et,jt){if(Ge(et)){var Pt=et.dom.classList;Pt.remove(jt)}else kt(et,jt);Nt(et)},Yt=function(et,jt){var Pt=jt||document,ln=Pt.createElement("div");if(ln.innerHTML=et,!ln.hasChildNodes()||ln.childNodes.length>1)throw console.error("HTML does not have a single root node",et),new Error("HTML must have a single root node");return bt(ln.childNodes[0])},Ye=function(et,jt){var Pt=jt||document,ln=Pt.createElement(et);return bt(ln)},je=function(et,jt){var Pt=jt||document,ln=Pt.createTextNode(et);return bt(ln)},bt=function(et){if(et==null)throw new Error("Node cannot be null or undefined");return{dom:et}},qe=function(et,jt,Pt){return L.from(et.dom.elementFromPoint(jt,Pt)).map(bt)},Je={fromHtml:Yt,fromTag:Ye,fromText:je,fromDom:bt,fromPoint:qe},st={"":"nbsp","":"shy"},Ft=function(et,jt){var Pt="";return te(et,function(ln,Kn){Pt+=Kn}),new RegExp("["+Pt+"]",jt?"g":"")},Ct=function(et){var jt="";return te(et,function(Pt){jt&&(jt+=","),jt+="span.mce-"+Pt}),jt},Rt=Ft(st),ur=Ft(st,!0),Ke=Ct(st),Bt="mce-nbsp",Mn=function(et){return'<span data-mce-bogus="1" class="mce-'+st[et]+'">'+et+"</span>"},Zt=function(et){var jt=ce(et);return Q(et)&&jt!==void 0&&Rt.test(jt)},Qn=function(et,jt){var Pt=[],ln=et.dom,Kn=q(ln.childNodes,Je.fromDom);return X(Kn,function(Lr){jt(Lr)&&(Pt=Pt.concat([Lr])),Pt=Pt.concat(Qn(Lr,jt))}),Pt},pr=function(et,jt){for(;et.parentNode;){if(et.parentNode===jt)return et;et=et.parentNode}},ao=function(et){return et.replace(ur,Mn)},To=function(et){return et.nodeName.toLowerCase()==="span"&&et.classList.contains("mce-nbsp-wrap")},Go=function(et,jt){var Pt=Qn(Je.fromDom(jt),Zt);X(Pt,function(ln){var Kn=ln.dom.parentNode;if(To(Kn))Ot(Je.fromDom(Kn),Bt);else{for(var Lr=ao(et.dom.encode(ce(ln))),ei=et.dom.create("div",null,Lr),Br=void 0;Br=ei.lastChild;)et.dom.insertAfter(Br,ln.dom);et.dom.remove(ln.dom)}})},gn=function(et,jt){var Pt=et.dom.select(Ke,jt);X(Pt,function(ln){To(ln)?fe(Je.fromDom(ln),Bt):et.dom.remove(ln,!0)})},vn=function(et){var jt=et.getBody(),Pt=et.selection.getBookmark(),ln=pr(et.selection.getNode(),jt);ln=ln!==void 0?ln:jt,gn(et,ln),Go(et,ln),et.selection.moveToBookmark(Pt)},en=function(et,jt){r(et,jt.get());var Pt=et.getBody();jt.get()===!0?Go(et,Pt):gn(et,Pt)},vt=function(et,jt){jt.set(!jt.get());var Pt=et.selection.getBookmark();en(et,jt),et.selection.moveToBookmark(Pt)},Tt=function(et,jt){et.addCommand("mceVisualChars",function(){vt(et,jt)})},hn=function(et){return et.getParam("visualchars_default_state",!1)},Bn=function(et){return et.getParam("forced_root_block")!==!1},bn=function(et,jt){et.on("init",function(){en(et,jt)})},mt=tinymce.util.Tools.resolve("tinymce.util.Delay"),an=function(et,jt){var Pt=mt.debounce(function(){vn(et)},300);Bn(et)&&et.on("keydown",function(ln){jt.get()===!0&&(ln.keyCode===13?vn(et):Pt())}),et.on("remove",Pt.stop)},On=function(et,jt){return function(Pt){Pt.setActive(jt.get());var ln=function(Kn){return Pt.setActive(Kn.state)};return et.on("VisualChars",ln),function(){return et.off("VisualChars",ln)}}},wn=function(et,jt){var Pt=function(){return et.execCommand("mceVisualChars")};et.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:Pt,onSetup:On(et,jt)}),et.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:Pt,onSetup:On(et,jt)})};function er(){e.add("visualchars",function(et){var jt=n(hn(et));return Tt(et,jt),wn(et,jt),an(et,jt),bn(et,jt),t(jt)})}er()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(qe){return qe},t=function(){return t=Object.assign||function(qe){for(var Je,st=1,Ft=arguments.length;st<Ft;st++){Je=arguments[st];for(var Ct in Je)Object.prototype.hasOwnProperty.call(Je,Ct)&&(qe[Ct]=Je[Ct])}return qe},t.apply(this,arguments)},r="\uFEFF",i=function(qe){return qe.replace(/\uFEFF/g,"")},u=function(qe,Je){for(var st=qe.length,Ft=new Array(st),Ct=0;Ct<st;Ct++){var Rt=qe[Ct];Ft[Ct]=Je(Rt,Ct)}return Ft},l="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",f={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:l},h={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},g=[new RegExp(f.aletter),new RegExp(f.midnumlet),new RegExp(f.midletter),new RegExp(f.midnum),new RegExp(f.numeric),new RegExp(f.cr),new RegExp(f.lf),new RegExp(f.newline),new RegExp(f.extend),new RegExp(f.format),new RegExp(f.katakana),new RegExp(f.extendnumlet),new RegExp("@")],y="",b=new RegExp("^"+f.punctuation+"$"),S=/^\s+$/,_=g,k=h.OTHER,A=function(qe){for(var Je=k,st=_.length,Ft=0;Ft<st;++Ft){var Ct=_[Ft];if(Ct&&Ct.test(qe)){Je=Ft;break}}return Je},R=function(qe){var Je={};return function(st){if(Je[st])return Je[st];var Ft=qe(st);return Je[st]=Ft,Ft}},I=function(qe){var Je=R(A);return u(qe,Je)},z=function(qe,Je){var st=qe[Je],Ft=qe[Je+1];if(Je<0||Je>qe.length-1&&Je!==0||st===h.ALETTER&&Ft===h.ALETTER)return!1;var Ct=qe[Je+2];if(st===h.ALETTER&&(Ft===h.MIDLETTER||Ft===h.MIDNUMLET||Ft===h.AT)&&Ct===h.ALETTER)return!1;var Rt=qe[Je-1];return(st===h.MIDLETTER||st===h.MIDNUMLET||Ft===h.AT)&&Ft===h.ALETTER&&Rt===h.ALETTER||(st===h.NUMERIC||st===h.ALETTER)&&(Ft===h.NUMERIC||Ft===h.ALETTER)||(st===h.MIDNUM||st===h.MIDNUMLET)&&Ft===h.NUMERIC&&Rt===h.NUMERIC||st===h.NUMERIC&&(Ft===h.MIDNUM||Ft===h.MIDNUMLET)&&Ct===h.NUMERIC||st===h.EXTEND||st===h.FORMAT||Rt===h.EXTEND||Rt===h.FORMAT||Ft===h.EXTEND||Ft===h.FORMAT||st===h.CR&&Ft===h.LF?!1:st===h.NEWLINE||st===h.CR||st===h.LF||Ft===h.NEWLINE||Ft===h.CR||Ft===h.LF?!0:!(st===h.KATAKANA&&Ft===h.KATAKANA||Ft===h.EXTENDNUMLET&&(st===h.ALETTER||st===h.NUMERIC||st===h.KATAKANA||st===h.EXTENDNUMLET)||st===h.EXTENDNUMLET&&(Ft===h.ALETTER||Ft===h.NUMERIC||Ft===h.KATAKANA)||st===h.AT)},L=y,q=S,X=b,Y=function(qe){return qe==="http"||qe==="https"},ae=function(qe,Je){var st;for(st=Je;st<qe.length&&!q.test(qe[st]);st++);return st},te=function(qe,Je){var st=ae(qe,Je+1),Ft=qe.slice(Je+1,st).join(L);return Ft.substr(0,3)==="://"?st:Je},ie=function(qe,Je,st,Ft){for(var Ct=[],Rt=[],ur=0;ur<st.length;++ur)if(Rt.push(qe[ur]),z(st,ur)){var Ke=Je[ur];if((Ft.includeWhitespace||!q.test(Ke))&&(Ft.includePunctuation||!X.test(Ke))){var Bt=ur-Rt.length+1,Mn=ur+1,Zt=Je.slice(Bt,Mn).join(L);if(Y(Zt)){var Qn=te(Je,ur),pr=qe.slice(Mn,Qn);Array.prototype.push.apply(Rt,pr),ur=Qn}Ct.push(Rt)}Rt=[]}return Ct},le=function(){return{includeWhitespace:!1,includePunctuation:!1}},ce=function(qe,Je,st){st=t(t({},le()),st);for(var Ft=[],Ct=[],Rt=0;Rt<qe.length;Rt++){var ur=Je(qe[Rt]);ur!==r&&(Ft.push(qe[Rt]),Ct.push(ur))}var Ke=I(Ct);return ie(Ft,Ct,Ke,st)},ne=ce,Q=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ce=function(qe,Je){for(var st=Je.getBlockElements(),Ft=Je.getShortEndedElements(),Ct=function(Bt){return st[Bt.nodeName]||Ft[Bt.nodeName]},Rt=[],ur="",Ke=new Q(qe,qe);qe=Ke.next();)qe.nodeType===3?ur+=i(qe.data):Ct(qe)&&ur.length&&(Rt.push(ur),ur="");return ur.length&&Rt.push(ur),Rt},ze=function(qe){return qe.replace(/\u200B/g,"")},ke=function(qe){return qe.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},St=function(qe,Je){var st=ze(Ce(qe,Je).join(`
`));return ne(st.split(""),e).length},tt=function(qe,Je){var st=Ce(qe,Je).join("");return ke(st)},G=function(qe,Je){var st=Ce(qe,Je).join("").replace(/\s/g,"");return ke(st)},We=function(qe,Je){return function(){return Je(qe.getBody(),qe.schema)}},Ge=function(qe,Je){return function(){return Je(qe.selection.getRng().cloneContents(),qe.schema)}},pt=function(qe){return We(qe,St)},Ze=function(qe){return{body:{getWordCount:pt(qe),getCharacterCount:We(qe,tt),getCharacterCountWithoutSpaces:We(qe,G)},selection:{getWordCount:Ge(qe,St),getCharacterCount:Ge(qe,tt),getCharacterCountWithoutSpaces:Ge(qe,G)},getCount:pt(qe)}},kt=function(qe,Je){qe.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(Je.body.getWordCount()),String(Je.selection.getWordCount())],["Characters (no spaces)",String(Je.body.getCharacterCountWithoutSpaces()),String(Je.selection.getCharacterCountWithoutSpaces())],["Characters",String(Je.body.getCharacterCount()),String(Je.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},Ot=function(qe,Je){qe.addCommand("mceWordCount",function(){return kt(qe,Je)})},Nt=tinymce.util.Tools.resolve("tinymce.util.Delay"),fe=function(qe,Je){qe.fire("wordCountUpdate",{wordCount:{words:Je.body.getWordCount(),characters:Je.body.getCharacterCount(),charactersWithoutSpaces:Je.body.getCharacterCountWithoutSpaces()}})},Yt=function(qe,Je){fe(qe,Je)},Ye=function(qe,Je,st){var Ft=Nt.debounce(function(){return Yt(qe,Je)},st);qe.on("init",function(){Yt(qe,Je),Nt.setEditorTimeout(qe,function(){qe.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Ft)},0)})},je=function(qe){var Je=function(){return qe.execCommand("mceWordCount")};qe.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:Je}),qe.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:Je})};function bt(qe){qe===void 0&&(qe=300),n.add("wordcount",function(Je){var st=Ze(Je);return Ot(Je,st),je(Je),Ye(Je,st,qe),st})}bt()})();(function(){var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(){return e=Object.assign||function(ue){for(var W,H=1,ee=arguments.length;H<ee;H++){W=arguments[H];for(var ye in W)Object.prototype.hasOwnProperty.call(W,ye)&&(ue[ye]=W[ye])}return ue},e.apply(this,arguments)},t=function(ue){var W=typeof ue;return ue===null?"null":W==="object"&&(Array.prototype.isPrototypeOf(ue)||ue.constructor&&ue.constructor.name==="Array")?"array":W==="object"&&(String.prototype.isPrototypeOf(ue)||ue.constructor&&ue.constructor.name==="String")?"string":W},r=function(ue){return function(W){return t(W)===ue}},i=function(ue){return function(W){return typeof W===ue}},u=function(ue){return function(W){return ue===W}},l=r("string"),f=r("object"),h=r("array"),g=u(null),y=i("boolean"),b=function(ue){return ue==null},S=function(ue){return!b(ue)},_=i("function"),k=i("number"),A=function(){},R=function(ue){return function(){return ue}},I=function(ue){return ue},z=R(!1),L=R(!0),q=function(){return X},X=function(){var ue=function(ee){return ee()},W=I,H={fold:function(ee,ye){return ee()},isSome:z,isNone:L,getOr:W,getOrThunk:ue,getOrDie:function(ee){throw new Error(ee||"error: getOrDie called on none.")},getOrNull:R(null),getOrUndefined:R(void 0),or:W,orThunk:ue,map:q,each:A,bind:q,exists:z,forall:L,filter:function(){return q()},toArray:function(){return[]},toString:R("none()")};return H}(),Y=function(ue){var W=R(ue),H=function(){return ye},ee=function(Re){return Re(ue)},ye={fold:function(Re,gt){return gt(ue)},isSome:L,isNone:z,getOr:W,getOrThunk:W,getOrDie:W,getOrNull:W,getOrUndefined:W,or:H,orThunk:H,map:function(Re){return Y(Re(ue))},each:function(Re){Re(ue)},bind:ee,exists:ee,forall:ee,filter:function(Re){return Re(ue)?ye:X},toArray:function(){return[ue]},toString:function(){return"some("+ue+")"}};return ye},ae=function(ue){return ue==null?X:Y(ue)},te={some:Y,none:q,from:ae},ie=Object.keys,le=Object.hasOwnProperty,ce=function(ue,W){for(var H=ie(ue),ee=0,ye=H.length;ee<ye;ee++){var Re=H[ee],gt=ue[Re];W(gt,Re)}},ne=function(ue){return function(W,H){ue[H]=W}},Q=function(ue,W,H,ee){var ye={};return ce(ue,function(Re,gt){(W(Re,gt)?H:ee)(Re,gt)}),ye},Ce=function(ue,W){var H={};return Q(ue,W,ne(H),A),H},ze=function(ue,W){return le.call(ue,W)},ke=function(ue,W){return ze(ue,W)&&ue[W]!==void 0&&ue[W]!==null},St=Array.prototype.push,tt=function(ue){for(var W=[],H=0,ee=ue.length;H<ee;++H){if(!h(ue[H]))throw new Error("Arr.flatten item "+H+" was not an array, input: "+ue);St.apply(W,ue[H])}return W},G=function(ue,W){return W>=0&&W<ue.length?te.some(ue[W]):te.none()},We=function(ue){return G(ue,0)},Ge=function(ue,W){for(var H=0;H<ue.length;H++){var ee=W(ue[H],H);if(ee.isSome())return ee}return te.none()};typeof window<"u"||Function("return this;")();var pt=function(ue,W,H){if(l(H)||y(H)||k(H))ue.setAttribute(W,H+"");else throw console.error("Invalid call to Attribute.set. Key ",W,":: Value ",H,":: Element ",ue),new Error("Attribute value was not simple")},Ze=function(ue,W,H){pt(ue.dom,W,H)},kt=function(ue,W){ue.dom.removeAttribute(W)},Ot=function(ue,W){var H=W||document,ee=H.createElement("div");if(ee.innerHTML=ue,!ee.hasChildNodes()||ee.childNodes.length>1)throw console.error("HTML does not have a single root node",ue),new Error("HTML must have a single root node");return Yt(ee.childNodes[0])},Nt=function(ue,W){var H=W||document,ee=H.createElement(ue);return Yt(ee)},fe=function(ue,W){var H=W||document,ee=H.createTextNode(ue);return Yt(ee)},Yt=function(ue){if(ue==null)throw new Error("Node cannot be null or undefined");return{dom:ue}},Ye=function(ue,W,H){return te.from(ue.dom.elementFromPoint(W,H)).map(Yt)},je={fromHtml:Ot,fromTag:Nt,fromText:fe,fromDom:Yt,fromPoint:Ye},bt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),qe=tinymce.util.Tools.resolve("tinymce.util.Promise"),Je=tinymce.util.Tools.resolve("tinymce.util.URI"),st=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ft=function(ue){return ue.getParam("image_dimensions",!0,"boolean")},Ct=function(ue){return ue.getParam("image_advtab",!1,"boolean")},Rt=function(ue){return ue.getParam("image_uploadtab",!0,"boolean")},ur=function(ue){return ue.getParam("image_prepend_url","","string")},Ke=function(ue){return ue.getParam("image_class_list")},Bt=function(ue){return ue.getParam("image_description",!0,"boolean")},Mn=function(ue){return ue.getParam("image_title",!1,"boolean")},Zt=function(ue){return ue.getParam("image_caption",!1,"boolean")},Qn=function(ue){return ue.getParam("image_list",!1)},pr=function(ue){return S(ue.getParam("images_upload_url"))},ao=function(ue){return S(ue.getParam("images_upload_handler"))},To=function(ue){return ue.getParam("a11y_advanced_options",!1,"boolean")},Go=function(ue){return ue.getParam("automatic_uploads",!0,"boolean")},gn=function(ue,W){return Math.max(parseInt(ue,10),parseInt(W,10))},vn=function(ue){return new qe(function(W){var H=document.createElement("img"),ee=function(Re){H.onload=H.onerror=null,H.parentNode&&H.parentNode.removeChild(H),W(Re)};H.onload=function(){var Re=gn(H.width,H.clientWidth),gt=gn(H.height,H.clientHeight),un={width:Re,height:gt};ee(qe.resolve(un))},H.onerror=function(){ee(qe.reject("Failed to get image dimensions for: "+ue))};var ye=H.style;ye.visibility="hidden",ye.position="fixed",ye.bottom=ye.left="0px",ye.width=ye.height="auto",document.body.appendChild(H),H.src=ue})},en=function(ue){return ue&&(ue=ue.replace(/px$/,"")),ue},vt=function(ue){return ue.length>0&&/^[0-9]+$/.test(ue)&&(ue+="px"),ue},Tt=function(ue){if(ue.margin){var W=String(ue.margin).split(" ");switch(W.length){case 1:ue["margin-top"]=ue["margin-top"]||W[0],ue["margin-right"]=ue["margin-right"]||W[0],ue["margin-bottom"]=ue["margin-bottom"]||W[0],ue["margin-left"]=ue["margin-left"]||W[0];break;case 2:ue["margin-top"]=ue["margin-top"]||W[0],ue["margin-right"]=ue["margin-right"]||W[1],ue["margin-bottom"]=ue["margin-bottom"]||W[0],ue["margin-left"]=ue["margin-left"]||W[1];break;case 3:ue["margin-top"]=ue["margin-top"]||W[0],ue["margin-right"]=ue["margin-right"]||W[1],ue["margin-bottom"]=ue["margin-bottom"]||W[2],ue["margin-left"]=ue["margin-left"]||W[1];break;case 4:ue["margin-top"]=ue["margin-top"]||W[0],ue["margin-right"]=ue["margin-right"]||W[1],ue["margin-bottom"]=ue["margin-bottom"]||W[2],ue["margin-left"]=ue["margin-left"]||W[3]}delete ue.margin}return ue},hn=function(ue,W){var H=Qn(ue);l(H)?st.send({url:H,success:function(ee){W(JSON.parse(ee))}}):_(H)?H(W):W(H)},Bn=function(ue,W,H){var ee=function(){H.onload=H.onerror=null,ue.selection&&(ue.selection.select(H),ue.nodeChanged())};H.onload=function(){!W.width&&!W.height&&Ft(ue)&&ue.dom.setAttribs(H,{width:String(H.clientWidth),height:String(H.clientHeight)}),ee()},H.onerror=ee},bn=function(ue){return new qe(function(W,H){var ee=new FileReader;ee.onload=function(){W(ee.result)},ee.onerror=function(){H(ee.error.message)},ee.readAsDataURL(ue)})},mt=function(ue){return ue.nodeName==="IMG"&&(ue.hasAttribute("data-mce-object")||ue.hasAttribute("data-mce-placeholder"))},an=function(ue,W){return Je.isDomSafe(W,"img",ue.settings)},On=bt.DOM,wn=function(ue){return ue.style.marginLeft&&ue.style.marginRight&&ue.style.marginLeft===ue.style.marginRight?en(ue.style.marginLeft):""},er=function(ue){return ue.style.marginTop&&ue.style.marginBottom&&ue.style.marginTop===ue.style.marginBottom?en(ue.style.marginTop):""},et=function(ue){return ue.style.borderWidth?en(ue.style.borderWidth):""},jt=function(ue,W){return ue.hasAttribute(W)?ue.getAttribute(W):""},Pt=function(ue,W){return ue.style[W]?ue.style[W]:""},ln=function(ue){return ue.parentNode!==null&&ue.parentNode.nodeName==="FIGURE"},Kn=function(ue,W,H){H===""?ue.removeAttribute(W):ue.setAttribute(W,H)},Lr=function(ue){var W=On.create("figure",{class:"image"});On.insertAfter(W,ue),W.appendChild(ue),W.appendChild(On.create("figcaption",{contentEditable:"true"},"Caption")),W.contentEditable="false"},ei=function(ue){var W=ue.parentNode;On.insertAfter(ue,W),On.remove(W)},Br=function(ue){ln(ue)?ei(ue):Lr(ue)},Vr=function(ue,W){var H=ue.getAttribute("style"),ee=W(H!==null?H:"");ee.length>0?(ue.setAttribute("style",ee),ue.setAttribute("data-mce-style",ee)):ue.removeAttribute("style")},ui=function(ue,W){return function(H,ee,ye){H.style[ee]?(H.style[ee]=vt(ye),Vr(H,W)):Kn(H,ee,ye)}},Ca=function(ue,W){return ue.style[W]?en(ue.style[W]):jt(ue,W)},Ui=function(ue,W){var H=vt(W);ue.style.marginLeft=H,ue.style.marginRight=H},Si=function(ue,W){var H=vt(W);ue.style.marginTop=H,ue.style.marginBottom=H},Xi=function(ue,W){var H=vt(W);ue.style.borderWidth=H},Ia=function(ue,W){ue.style.borderStyle=W},Zi=function(ue){return Pt(ue,"borderStyle")},Bi=function(ue){return ue.nodeName==="FIGURE"},Ra=function(ue){return ue.nodeName==="IMG"},co=function(ue){return On.getAttrib(ue,"alt").length===0&&On.getAttrib(ue,"role")==="presentation"},Pa=function(ue){return co(ue)?"":jt(ue,"alt")},dr=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Hu=function(ue,W){var H=document.createElement("img");return Kn(H,"style",W.style),(wn(H)||W.hspace!=="")&&Ui(H,W.hspace),(er(H)||W.vspace!=="")&&Si(H,W.vspace),(et(H)||W.border!=="")&&Xi(H,W.border),(Zi(H)||W.borderStyle!=="")&&Ia(H,W.borderStyle),ue(H.getAttribute("style"))},ba=function(ue,W){var H=document.createElement("img");if(ws(ue,e(e({},W),{caption:!1}),H),Ja(H,W.alt,W.isDecorative),W.caption){var ee=On.create("figure",{class:"image"});return ee.appendChild(H),ee.appendChild(On.create("figcaption",{contentEditable:"true"},"Caption")),ee.contentEditable="false",ee}else return H},Ua=function(ue,W){return{src:jt(W,"src"),alt:Pa(W),title:jt(W,"title"),width:Ca(W,"width"),height:Ca(W,"height"),class:jt(W,"class"),style:ue(jt(W,"style")),caption:ln(W),hspace:wn(W),vspace:er(W),border:et(W),borderStyle:Pt(W,"borderStyle"),isDecorative:co(W)}},oa=function(ue,W,H,ee,ye){H[ee]!==W[ee]&&ye(ue,ee,H[ee])},Ja=function(ue,W,H){if(H){On.setAttrib(ue,"role","presentation");var ee=je.fromDom(ue);Ze(ee,"alt","")}else{if(g(W)){var ee=je.fromDom(ue);kt(ee,"alt")}else{var ee=je.fromDom(ue);Ze(ee,"alt",W)}On.getAttrib(ue,"role")==="presentation"&&On.setAttrib(ue,"role","")}},Vu=function(ue,W,H){(H.alt!==W.alt||H.isDecorative!==W.isDecorative)&&Ja(ue,H.alt,H.isDecorative)},Qa=function(ue,W){return function(H,ee,ye){ue(H,ye),Vr(H,W)}},ws=function(ue,W,H){var ee=Ua(ue,H);oa(H,ee,W,"caption",function(ye,Re,gt){return Br(ye)}),oa(H,ee,W,"src",Kn),oa(H,ee,W,"title",Kn),oa(H,ee,W,"width",ui("width",ue)),oa(H,ee,W,"height",ui("height",ue)),oa(H,ee,W,"class",Kn),oa(H,ee,W,"style",Qa(function(ye,Re){return Kn(ye,"style",Re)},ue)),oa(H,ee,W,"hspace",Qa(Ui,ue)),oa(H,ee,W,"vspace",Qa(Si,ue)),oa(H,ee,W,"border",Qa(Xi,ue)),oa(H,ee,W,"borderStyle",Qa(Ia,ue)),Vu(H,ee,W)},Pe=function(ue,W){var H=ue.dom.styles.parse(W),ee=Tt(H),ye=ue.dom.styles.parse(ue.dom.styles.serialize(ee));return ue.dom.styles.serialize(ye)},it=function(ue){var W=ue.selection.getNode(),H=ue.dom.getParent(W,"figure.image");return H?ue.dom.select("img",H)[0]:W&&(W.nodeName!=="IMG"||mt(W))?null:W},He=function(ue,W){var H=ue.dom,ee=Ce(ue.schema.getTextBlockElements(),function(Re,gt){return!ue.schema.isValidChild(gt,"figure")}),ye=H.getParent(W.parentNode,function(Re){return ke(ee,Re.nodeName)},ue.getBody());return ye?H.split(ye,W):W},At=function(ue){var W=it(ue);return W?Ua(function(H){return Pe(ue,H)},W):dr()},Rn=function(ue,W){var H=ba(function(Re){return Pe(ue,Re)},W);ue.dom.setAttrib(H,"data-mce-id","__mcenew"),ue.focus(),ue.selection.setContent(H.outerHTML);var ee=ue.dom.select('*[data-mce-id="__mcenew"]')[0];if(ue.dom.setAttrib(ee,"data-mce-id",null),Bi(ee)){var ye=He(ue,ee);ue.selection.select(ye)}else ue.selection.select(ee)},tr=function(ue,W){ue.dom.setAttrib(W,"src",W.getAttribute("src"))},Oe=function(ue,W){if(W){var H=ue.dom.is(W.parentNode,"figure.image")?W.parentNode:W;ue.dom.remove(H),ue.focus(),ue.nodeChanged(),ue.dom.isEmpty(ue.getBody())&&(ue.setContent(""),ue.selection.setCursorLocation())}},$e=function(ue,W){var H=it(ue);if(ws(function(ye){return Pe(ue,ye)},W,H),tr(ue,H),Bi(H.parentNode)){var ee=H.parentNode;He(ue,ee),ue.selection.select(H.parentNode)}else ue.selection.select(H),Bn(ue,W,H)},Et=function(ue,W){var H=W.src;return e(e({},W),{src:an(ue,H)?H:""})},Jt=function(ue,W){var H=it(ue);if(H){var ee=Ua(function(gt){return Pe(ue,gt)},H),ye=e(e({},ee),W),Re=Et(ue,ye);ye.src?$e(ue,Re):Oe(ue,H)}else W.src&&Rn(ue,e(e({},dr()),W))},he=function(ue,W){var H=f(ue)&&f(W);return H?Ue(ue,W):W},Me=function(ue){return function(){for(var W=[],H=0;H<arguments.length;H++)W[H]=arguments[H];if(W.length===0)throw new Error("Can't merge zero objects");for(var ee={},ye=0;ye<W.length;ye++){var Re=W[ye];for(var gt in Re)ze(Re,gt)&&(ee[gt]=ue(ee[gt],Re[gt]))}return ee}},Ue=Me(he),lt=function(ue){return ue.length>0},_t=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Dt=tinymce.util.Tools.resolve("tinymce.util.Tools"),En=function(ue){return l(ue.value)?ue.value:""},Wn=function(ue){return l(ue.text)?ue.text:l(ue.title)?ue.title:""},_r=function(ue,W){var H=[];return Dt.each(ue,function(ee){var ye=Wn(ee);if(ee.menu!==void 0){var Re=_r(ee.menu,W);H.push({text:ye,items:Re})}else{var gt=W(ee);H.push({text:ye,value:gt})}}),H},It=function(ue){return ue===void 0&&(ue=En),function(W){return W?te.from(W).map(function(H){return _r(H,ue)}):te.none()}},mr=function(ue){return It(En)(ue)},qr=function(ue){return ze(ue,"items")},Wo=function(ue,W){return Ge(ue,function(H){return qr(H)?Wo(H.items,W):H.value===W?te.some(H):te.none()})},ea=function(ue,W){return ue.bind(function(H){return Wo(H,W)})},ro={sanitizer:It,sanitize:mr,findEntry:ea},Fs=function(ue){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},_s={makeTab:Fs},Yi=function(ue){var W=ro.sanitizer(function(Or){return ue.convertURL(Or.value||Or.url,"src")}),H=new qe(function(Or){hn(ue,function(li){Or(W(li).map(function(ni){return tt([[{text:"None",value:""}],ni])}))})}),ee=ro.sanitize(Ke(ue)),ye=Ct(ue),Re=Rt(ue),gt=pr(ue),un=ao(ue),hr=At(ue),Tr=Bt(ue),Ln=Mn(ue),lr=Ft(ue),Kr=Zt(ue),Jr=To(ue),Hr=Go(ue),Oi=te.some(ur(ue)).filter(function(Or){return l(Or)&&Or.length>0});return H.then(function(Or){return{image:hr,imageList:Or,classList:ee,hasAdvTab:ye,hasUploadTab:Re,hasUploadUrl:gt,hasUploadHandler:un,hasDescription:Tr,hasImageTitle:Ln,hasDimensions:lr,hasImageCaption:Kr,prependURL:Oi,hasAccessibilityOptions:Jr,automaticUploads:Hr}})},Ul=function(ue){var W={name:"src",type:"urlinput",filetype:"image",label:"Source"},H=ue.imageList.map(function(Ln){return{name:"images",type:"listbox",label:"Image list",items:Ln}}),ee={name:"alt",type:"input",label:"Alternative description",disabled:ue.hasAccessibilityOptions&&ue.image.isDecorative},ye={name:"title",type:"input",label:"Image title"},Re={name:"dimensions",type:"sizeinput"},gt={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},un=ue.classList.map(function(Ln){return{name:"classes",type:"listbox",label:"Class",items:Ln}}),hr={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Tr=function(Ln){return Ln?{type:"grid",columns:2}:{type:"panel"}};return tt([[W],H.toArray(),ue.hasAccessibilityOptions&&ue.hasDescription?[gt]:[],ue.hasDescription?[ee]:[],ue.hasImageTitle?[ye]:[],ue.hasDimensions?[Re]:[],[e(e({},Tr(ue.classList.isSome()&&ue.hasImageCaption)),{items:tt([un.toArray(),ue.hasImageCaption?[hr]:[]])})]])},vu=function(ue){return{title:"General",name:"general",items:Ul(ue)}},Eu={makeTab:vu,makeItems:Ul},pi=function(ue){var W=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:W}},Wl={makeTab:pi},nl=function(ue){return{prevImage:ro.findEntry(ue.imageList,ue.image.src),prevAlt:ue.image.alt,open:!0}},Sl=function(ue){return{src:{value:ue.src,meta:{}},images:ue.src,alt:ue.alt,title:ue.title,dimensions:{width:ue.width,height:ue.height},classes:ue.class,caption:ue.caption,style:ue.style,vspace:ue.vspace,border:ue.border,hspace:ue.hspace,borderstyle:ue.borderStyle,fileinput:[],isDecorative:ue.isDecorative}},gc=function(ue,W){return{src:ue.src.value,alt:ue.alt.length===0&&W?null:ue.alt,title:ue.title,width:ue.dimensions.width,height:ue.dimensions.height,class:ue.classes,style:ue.style,caption:ue.caption,hspace:ue.hspace,vspace:ue.vspace,border:ue.border,borderStyle:ue.borderstyle,isDecorative:ue.isDecorative}},Ou=function(ue,W){return/^(?:[a-zA-Z]+:)?\/\//.test(W)?te.none():ue.prependURL.bind(function(H){return W.substring(0,H.length)!==H?te.some(H+W):te.none()})},os=function(ue,W){var H=W.getData();Ou(ue,H.src.value).each(function(ee){W.setData({src:{value:ee,meta:H.src.meta}})})},vc=function(ue,W,H){ue.hasDescription&&l(H.alt)&&(W.alt=H.alt),ue.hasAccessibilityOptions&&(W.isDecorative=H.isDecorative||W.isDecorative||!1),ue.hasImageTitle&&l(H.title)&&(W.title=H.title),ue.hasDimensions&&(l(H.width)&&(W.dimensions.width=H.width),l(H.height)&&(W.dimensions.height=H.height)),l(H.class)&&ro.findEntry(ue.classList,H.class).each(function(ee){W.classes=ee.value}),ue.hasImageCaption&&y(H.caption)&&(W.caption=H.caption),ue.hasAdvTab&&(l(H.style)&&(W.style=H.style),l(H.vspace)&&(W.vspace=H.vspace),l(H.border)&&(W.border=H.border),l(H.hspace)&&(W.hspace=H.hspace),l(H.borderstyle)&&(W.borderstyle=H.borderstyle))},ju=function(ue,W){var H=W.getData(),ee=H.src.meta;if(ee!==void 0){var ye=Ue({},H);vc(ue,ye,ee),W.setData(ye)}},Iu=function(ue,W,H,ee){var ye=ee.getData(),Re=ye.src.value,gt=ye.src.meta||{};!gt.width&&!gt.height&&W.hasDimensions&&(lt(Re)?ue.imageSize(Re).then(function(un){H.open&&ee.setData({dimensions:un})}).catch(function(un){return console.error(un)}):ee.setData({dimensions:{width:"",height:""}}))},we=function(ue,W,H){var ee=H.getData(),ye=ro.findEntry(ue.imageList,ee.src.value);W.prevImage=ye,H.setData({images:ye.map(function(Re){return Re.value}).getOr("")})},rt=function(ue,W,H,ee){os(W,ee),ju(W,ee),Iu(ue,W,H,ee),we(W,H,ee)},wt=function(ue,W,H,ee){var ye=ee.getData(),Re=ro.findEntry(W.imageList,ye.images);Re.each(function(gt){var un=ye.alt===""||H.prevImage.map(function(hr){return hr.text===ye.alt}).getOr(!1);un?gt.value===""?ee.setData({src:gt,alt:H.prevAlt}):ee.setData({src:gt,alt:gt.text}):ee.setData({src:gt})}),H.prevImage=Re,rt(ue,W,H,ee)},tn=function(ue){var W=ue["margin-top"]&&ue["margin-bottom"]&&ue["margin-top"]===ue["margin-bottom"];return W?en(String(ue["margin-top"])):""},kn=function(ue){var W=ue["margin-right"]&&ue["margin-left"]&&ue["margin-right"]===ue["margin-left"];return W?en(String(ue["margin-right"])):""},yr=function(ue){return ue["border-width"]?en(String(ue["border-width"])):""},jo=function(ue){return ue["border-style"]?String(ue["border-style"]):""},ti=function(ue,W,H){return W(ue(W(H)))},uo=function(ue,W,H){var ee=Tt(ue(H.style)),ye=Ue({},H);return ye.vspace=tn(ee),ye.hspace=kn(ee),ye.border=yr(ee),ye.borderstyle=jo(ee),ye.style=ti(ue,W,ee),ye},yi=function(ue,W){var H=W.getData(),ee=uo(ue.parseStyle,ue.serializeStyle,H);W.setData(ee)},zi=function(ue,W,H){var ee=Ue(Sl(W.image),H.getData()),ye=Hu(ue.normalizeCss,gc(ee,!1));H.setData({style:ye})},rl=function(ue,W,H,ee){var ye=ee.getData();ee.block("Uploading image"),We(ye.fileinput).fold(function(){ee.unblock()},function(Re){var gt=URL.createObjectURL(Re),un=function(){ee.unblock(),URL.revokeObjectURL(gt)},hr=function(Tr){ee.setData({src:{value:Tr,meta:{}}}),ee.showTab("general"),rt(ue,W,H,ee)};bn(Re).then(function(Tr){var Ln=ue.createBlobCache(Re,gt,Tr);W.automaticUploads?ue.uploadImage(Ln).then(function(lr){hr(lr.url),un()}).catch(function(lr){un(),ue.alertErr(lr)}):(ue.addToBlobCache(Ln),hr(Ln.blobUri()),ee.unblock())})})},Wa=function(ue,W,H){return function(ee,ye){ye.name==="src"?rt(ue,W,H,ee):ye.name==="images"?wt(ue,W,H,ee):ye.name==="alt"?H.prevAlt=ee.getData().alt:ye.name==="style"?yi(ue,ee):ye.name==="vspace"||ye.name==="hspace"||ye.name==="border"||ye.name==="borderstyle"?zi(ue,W,ee):ye.name==="fileinput"?rl(ue,W,H,ee):ye.name==="isDecorative"&&(ee.getData().isDecorative?ee.disable("alt"):ee.enable("alt"))}},Hs=function(ue){return function(){ue.open=!1}},Cr=function(ue){if(ue.hasAdvTab||ue.hasUploadUrl||ue.hasUploadHandler){var W={type:"tabpanel",tabs:tt([[Eu.makeTab(ue)],ue.hasAdvTab?[_s.makeTab(ue)]:[],ue.hasUploadTab&&(ue.hasUploadUrl||ue.hasUploadHandler)?[Wl.makeTab(ue)]:[]])};return W}else{var H={type:"panel",items:Eu.makeItems(ue)};return H}},Cl=function(ue){return function(W){var H=nl(W);return{title:"Insert/Edit Image",size:"normal",body:Cr(W),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Sl(W.image),onSubmit:ue.onSubmit(W),onChange:Wa(ue,W,H),onClose:Hs(H)}}},Xf=function(ue){return function(W){return function(H){var ee=Ue(Sl(W.image),H.getData());ue.execCommand("mceUpdateImage",!1,gc(ee,W.hasAccessibilityOptions)),ue.editorUpload.uploadImagesAuto(),H.close()}}},Oo=function(ue){return function(W){return an(ue,W)?vn(ue.documentBaseURI.toAbsolute(W)).then(function(H){return{width:String(H.width),height:String(H.height)}}):qe.resolve({width:"",height:""})}},ff=function(ue){return function(W,H,ee){return ue.editorUpload.blobCache.create({blob:W,blobUri:H,name:W.name?W.name.replace(/\.[^\.]+$/,""):null,filename:W.name,base64:ee.split(",")[1]})}},df=function(ue){return function(W){ue.editorUpload.blobCache.add(W)}},Pd=function(ue){return function(W){ue.windowManager.alert(W)}},si=function(ue){return function(W){return Pe(ue,W)}},is=function(ue){return function(W){return ue.dom.parseStyle(W)}},Ah=function(ue){return function(W,H){return ue.dom.serializeStyle(W,H)}},Ss=function(ue){return function(W){return _t(ue).upload([W],!1).then(function(H){return H.length===0?qe.reject("Failed to upload image"):H[0].status===!1?qe.reject(H[0].error.message):H[0]})}},ia=function(ue){var W={onSubmit:Xf(ue),imageSize:Oo(ue),addToBlobCache:df(ue),createBlobCache:ff(ue),alertErr:Pd(ue),normalizeCss:si(ue),parseStyle:is(ue),serializeStyle:Ah(ue),uploadImage:Ss(ue)},H=function(){Yi(ue).then(Cl(W)).then(ue.windowManager.open)};return{open:H}},ql=function(ue){ue.addCommand("mceImage",ia(ue).open),ue.addCommand("mceUpdateImage",function(W,H){ue.undoManager.transact(function(){return Jt(ue,H)})})},qt=function(ue){var W=ue.attr("class");return W&&/\bimage\b/.test(W)},yc=function(ue){return function(W){for(var H=W.length,ee=function(Re){Re.attr("contenteditable",ue?"true":null)};H--;){var ye=W[H];qt(ye)&&(ye.attr("contenteditable",ue?"false":null),Dt.each(ye.getAll("figcaption"),ee))}}},aa=function(ue){ue.on("PreInit",function(){ue.parser.addNodeFilter("figure",yc(!0)),ue.serializer.addNodeFilter("figure",yc(!1))})},Yf=function(ue){ue.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ia(ue).open,onSetup:function(W){return W.setActive(S(it(ue))),ue.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",W.setActive).unbind}}),ue.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ia(ue).open}),ue.ui.registry.addContextMenu("image",{update:function(W){return Bi(W)||Ra(W)&&!mt(W)?["image"]:[]}})};function Tl(){n.add("image",function(ue){aa(ue),Yf(ue),ql(ue)})}Tl()})();const iQ={zh_CH:"zh_CN"},PH={light:"light",dark:"dark"},Cde=["bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | undo redo | link unlink image code | removeformat"],Tde=["raw","text","html","tree"],Mde={disabled:{type:Boolean,default:!1},theme:{type:String,default:PH.light,validator:n=>Object.values(PH).includes(n)},lang:{type:String,default:iQ.zh_CH,validator:n=>Object.values(iQ).includes(n)},height:{type:Number,default:600},options:{type:Object,default:()=>({})},toolbar:{type:Array,default:()=>Cde},modelValue:{type:String},modelValueEvents:{type:Array,default:()=>[]},outputFormat:{type:String,validtor:n=>Tde.includes(n)}},zEe={name:"ProTinymce"},FEe=ja({...zEe,props:Mde,emits:["change","update:modelValue"],setup(n,{emit:e}){const t=n,r=e,i=Ao(null),u=Ao(null);r5(()=>{Sh(()=>{b()})}),rSe(()=>{S()});const l=No(()=>t.theme===PH.light?"oxide":"oxide-dark"),f=No(()=>t.lang),h=No(()=>{const{height:A,toolbar:R}=t,I="/resource/tinymce";return{height:A,toolbar:R,selector:"#demo-tinymce",setup:z=>{g(z)},convert_urls:!1,file_picker_types:"file image media",skin_url:`${I}/skins/ui/${l.value}`,branding:!1,default_link_target:"_blank",link_title:!1,object_resizing:!1,auto_focus:!0,content_css:`${I}/skins/content/default/content.css`,language_url:`${I}/langs/${f.value}.js`,language:f.value,menubar:"file edit insert view format table formats",plugins:"lists image media table wordcount save preview",formats:{h1:{block:"h1"},h2:{block:"h2"},h3:{block:"h3"}}}});function g(A){u.value=A,A.on("init",()=>{u.value&&(t.modelValue&&_(t.modelValue),y())}),A.on(t.modelValueEvents.length?t.modelValueEvents.join(" "):"change keyup undo redo",()=>{const R=k();r("update:modelValue",R),r("change",R)})}function y(A){uu(()=>t.modelValue,(R,I)=>{I!==R&&R!==k()&&_(R||"")})}function b(){K7.init(h.value),uu(()=>t.disabled,A=>{var R;(R=u.value)==null||R.setMode(A?"readonly":"design")},{immediate:!0})}function S(){var A,R;(R=K7==null?void 0:K7.remove)==null||R.call(K7,(A=io(h))==null?void 0:A.selector)}function _(A){u.value&&u.value.setContent(A)}function k(){var A;return((A=u.value)==null?void 0:A.getContent({format:t.outputFormat}))||""}return(A,R)=>(Fr(),la("div",null,[Oa("textarea",{id:"demo-tinymce",ref_key:"tinymceRef",ref:i,style:{visibility:"hidden"}},null,512)]))}}),HEe=lf(FEe),VEe={headerTitle:String,size:{type:Vl(String)},columnsState:{type:Vl(Object),default:()=>({})},columns:{type:Vl(Array),default:()=>[]},data:{type:Vl(Array),default:()=>[]},border:{type:Vl(Boolean),default:!0},request:{type:Vl(Function)},params:{type:Vl(Object)},transform:{type:Vl(Function)},transformParams:{type:Vl(Function)},pagination:{type:Vl([Object,Boolean]),default:!0},tableLayout:{type:Vl(String),default:"fixed"},rowKey:{type:String,default:"id"},checkable:{type:Boolean,default:!1},reserveSelection:{type:Boolean,default:!1},options:{type:Vl([Boolean,Object]),default:()=>({})},loading:{type:Boolean,default:!1},selectedKeys:{type:Vl(Array),default:()=>[]},cacheSelectedData:{type:Vl(Array),default:()=>[]},editable:{type:Vl(Object)},alwaysShowAlert:{type:Boolean,default:!1},showAlert:{type:Boolean,default:!0},autoFitHeight:{type:Boolean,default:!1},autoRequest:{type:Boolean,default:!1}},jEe={PAGE_CHANGE:"page-change"},UEe={[jEe.PAGE_CHANGE]:(n,e)=>!!e&&!!n,"update:loading":n=>!0,"update:selectedKeys":n=>!!n,"selection-change":n=>!!n,register:n=>!!n};function dee(n,e=Symbol(),t={}){const{readonly:r=!0,createProvider:i=!1,native:u=!1}=t,l=Th(n),f=r?yL(l):l;return!i&&vN(e,u?n:f),{state:l}}function hee(n=Symbol(),e){return dy(n,e||{})}function WEe(n){const e=Ao({}),t=Ao(null);uu([()=>n.columnsState],()=>{l(n.columnsState.value||{})},{deep:!0,immediate:!0}),uu(e,g=>{i().set(R3({...g}))},{deep:!0});function r(g){const y=i().get();Object.keys(y).length?l(y):l(g)}function i(){const{persistenceKey:g,persistenceType:y="localStorage"}=n.columnsState,b=window[y];return{set:S=>{g&&y&&b.setItem(g,JSON.stringify(S))},remove:()=>{g&&y&&b.removeItem(g)},get:()=>{try{return g&&y?JSON.parse(b.getItem(g)||""):{}}catch{return{}}}}}function u(g){t.value={...g}}function l(g){e.value=Object.assign({},e.value,g)}function f(){e.value={...t.value},i().remove()}function h(g){return e.value[g]||{show:!0}}return{columnsMap:e,defaultColumnsMap:t,mergeColumnsMap:l,resetColumnsMap:f,setDefaultColumnsMap:u,getColumnMapConfig:h,initLocalStorageOrDynamicMap:r}}function qEe(n,{page:e=1,pageSize:t=10}){const r=(e-1)*t;return n.slice(r,r+t)}function kde(n){return(e,t)=>{var r,i;const u=((r=n[e.key])==null?void 0:r.order)||0,l=((i=n[t.key])==null?void 0:i.order)||0;return u-l}}function $Ee(n,e){function t(r){return r.map(i=>{var u;const l=e[i.key]||{fixed:i.fixed};if(l&&l.show===!1)return!1;const f={...i,fixed:l.fixed,children:void 0};if(i.children&&(u=i.children)!=null&&u.length){const h=t(i.children);if(h.length)f.children=h;else return!1}return f}).filter(Boolean)}return t(n)}function Tp(n,e){if(typeof e=="string")return n[e];if(typeof e=="function")return e(n)}function GEe(...n){return NMe(...n)}function XEe(n){return wfe(n)||jDe(n)?hy(n):n}function YEe(n){const{dataSource:e,editableConfig:t,columns:r}=n,i=Ao(new Map),u=Ao(null),l=No(()=>{const X={};for(const[Y,ae]of i.value.entries())ae.isEdit&&(X[Y]=ae.data);return X});function f(X){u.value=X}function h(X){t.mode==="single"&&_();const Y=R(X);i.value.set(X,{isEdit:!0,data:{...Y},errors:void 0})}function g(X){var Y;if(t.onCancel){const te=((Y=i.value.get(X))==null?void 0:Y.data)||{};t.onCancel(te,ae)}else ae();function ae(){i.value.delete(X)}}function y(X){var Y;const ae=A(X);if(!u.value){te();return}(Y=u.value)==null||Y.validateField(L(X),(ie,le)=>{var ce;(ce=t.onError)==null||ce.call(t,JEe(le)),ie&&te()});function te(){const ie=R(X);k(ie,ae),i.value.delete(X),z()}}function b(X){if(t.onDelete){t.onDelete(R(X),Y);return}Y();function Y(){const ae=I(X);ae!==-1&&(e.value.splice(ae,1),i.value.delete(X),z())}}function S(X){const Y=i.value.get(X);Y&&Y.errors&&(Y.errors=void 0)}function _(){i.value.clear()}function k(X,Y){Object.keys(Y).forEach(ae=>{X[ae]=Y[ae]})}function A(X){var Y;return((Y=i.value.get(X))==null?void 0:Y.data)||{}}function R(X){return e.value.find(Y=>Tp(Y,n.rowKey)===X)}function I(X){return e.value.findIndex(Y=>Tp(Y,n.rowKey)===X)}function z(){var X;(X=t==null?void 0:t.onChange)==null||X.call(t,e.value)}function L(X){return r.map(Y=>`${X}.${Y.key}`)}function q(){return i.value.size>0}return{editableRowsModel:l,formInstanceRef:u,setFormInstanceRef:f,startEditable:h,cancelEditable:g,saveEditable:y,deleteEditable:b,clearEditRow:_,clearValidateErrors:S,hasEditingRow:q,editableCellMap:No(()=>i.value)}}function KEe(n){const e=n.split(".");return e.length>=2?e[1]:n}function JEe(n){if(!n)return{};const e={};return Object.keys(n).forEach(t=>{const r=n[t],i=KEe(t);e[i]=r}),e}function QEe(n,e){const t=Ao([]),r=new Map,{emits:i,tableInstance:u}=e||{};uu([n.selectedKeys,n.dataSource,n.cacheSelectedData],()=>{l()},{deep:!0,immediate:!0});function l(){const y=n.dataSource;f(n.selectedKeys.value),n.cacheSelectedData.value.forEach(S=>{const _=Tp(S,n.rowKey),k=y.value.find(A=>Tp(A,n.rowKey)===_);k?r.set(_,k):r.set(_,S)});const b=g(y.value,n.rowKey,n.selectedKeys.value);b.forEach(S=>{const _=Tp(S,n.rowKey);r.set(_,S)}),Sh(()=>{b.forEach(S=>{var _;(_=u.value)==null||_.toggleRowSelection(S,!0)})})}function f(y){y.toString()!==t.value.toString()&&(t.value=y,i("update:selectedKeys",[...t.value]))}function h(){var y;f([]),(y=u.value)==null||y.clearSelection(),r.clear()}function g(y,b,S){const _=[];return y.forEach(k=>{const A=Tp(k,b);S.includes(A)&&_.push(k),k.children&&k.children.length&&_.push(...g(k.children,b,S))}),_}return{cacheSelectedData:r,selectedKeys:No(()=>t.value),setSelectedKeys:f,clearSelectedKeys:h}}var ZEe=!1;function pee(n){return vfe()?(yfe(n),!0):!1}function Eb(n){return typeof n=="function"?n():io(n)}const Dde=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const e3e=Object.prototype.toString,t3e=n=>e3e.call(n)==="[object Object]",H3=()=>{};function mee(n,e){function t(...r){return new Promise((i,u)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(u)})}return t}const Ade=n=>n();function n3e(n,e={}){let t,r,i=H3;const u=l=>{clearTimeout(l),i(),i=H3};return l=>{const f=Eb(n),h=Eb(e.maxWait);return t&&u(t),f<=0||h!==void 0&&h<=0?(r&&(u(r),r=null),Promise.resolve(l())):new Promise((g,y)=>{i=e.rejectOnCancel?y:g,h&&!r&&(r=setTimeout(()=>{t&&u(t),r=null,g(l())},h)),t=setTimeout(()=>{r&&u(r),r=null,g(l())},f)})}}function r3e(n,e=!0,t=!0,r=!1){let i=0,u,l=!0,f=H3,h;const g=()=>{u&&(clearTimeout(u),u=void 0,f(),f=H3)};return y=>{const b=Eb(n),S=Date.now()-i,_=()=>h=y();return g(),b<=0?(i=Date.now(),_()):(S>b&&(t||!l)?(i=Date.now(),_()):e&&(h=new Promise((k,A)=>{f=r?A:k,u=setTimeout(()=>{i=Date.now(),l=!0,k(_()),g()},Math.max(0,b-S))})),!t&&!u&&(u=setTimeout(()=>l=!0,b)),l=!1,h)}}function o3e(n=Ade){const e=Ao(!0);function t(){e.value=!1}function r(){e.value=!0}const i=(...u)=>{e.value&&n(...u)};return{isActive:yL(e),pause:t,resume:r,eventFilter:i}}function Ede(n){return n||$Z()}function i3e(...n){if(n.length!==1)return AH(...n);const e=n[0];return typeof e=="function"?yL(dSe(()=>({get:e,set:H3}))):Ao(e)}function a3e(n,e=200,t={}){return mee(n3e(e,t),n)}function u3e(n,e=200,t=!1,r=!0,i=!1){return mee(r3e(e,t,r,i),n)}function s3e(n,e,t={}){const{eventFilter:r=Ade,...i}=t;return uu(n,mee(r,e),i)}function l3e(n,e,t={}){const{eventFilter:r,...i}=t,{eventFilter:u,pause:l,resume:f,isActive:h}=o3e(r);return{stop:s3e(n,e,{...i,eventFilter:u}),pause:l,resume:f,isActive:h}}function Ode(n,e=!0,t){Ede()?r5(n,t):e?n():Sh(n)}function c3e(n,e){Ede(e)&&fSe(n,e)}function MYe(n=!1,e={}){const{truthyValue:t=!0,falsyValue:r=!1}=e,i=Y2(n),u=Ao(n);function l(f){if(arguments.length)return u.value=f,u.value;{const h=Eb(t);return u.value=u.value===h?Eb(r):h,u.value}}return i?l:[u,l]}function f3e(n,e,t){const r=uu(n,(...i)=>(Sh(()=>r()),e(...i)),t);return r}function NH(n){var e;const t=Eb(n);return(e=t==null?void 0:t.$el)!=null?e:t}const V3=Dde?window:void 0,d3e=Dde?window.document:void 0;function GN(...n){let e,t,r,i;if(typeof n[0]=="string"||Array.isArray(n[0])?([t,r,i]=n,e=V3):[e,t,r,i]=n,!e)return H3;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const u=[],l=()=>{u.forEach(y=>y()),u.length=0},f=(y,b,S,_)=>(y.addEventListener(b,S,_),()=>y.removeEventListener(b,S,_)),h=uu(()=>[NH(e),Eb(i)],([y,b])=>{if(l(),!y)return;const S=t3e(b)?{...b}:b;u.push(...t.flatMap(_=>r.map(k=>f(y,_,k,S))))},{immediate:!0,flush:"post"}),g=()=>{h(),l()};return pee(g),g}function h3e(){const n=Ao(!1);return $Z()&&r5(()=>{n.value=!0}),n}function Ide(n){const e=h3e();return No(()=>(e.value,!!n()))}function p3e(n,e={}){const{window:t=V3}=e,r=Ide(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function");let i;const u=Ao(!1),l=g=>{u.value=g.matches},f=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",l):i.removeListener(l))},h=hSe(()=>{r.value&&(f(),i=t.matchMedia(Eb(n)),"addEventListener"in i?i.addEventListener("change",l):i.addListener(l),u.value=i.matches)});return pee(()=>{h(),f(),i=void 0}),u}const J7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q7="__vueuse_ssr_handlers__",m3e=g3e();function g3e(){return Q7 in J7||(J7[Q7]=J7[Q7]||{}),J7[Q7]}function Rde(n,e){return m3e[n]||e}function v3e(n){return n==null?"any":n instanceof Set?"set":n instanceof Map?"map":n instanceof Date?"date":typeof n=="boolean"?"boolean":typeof n=="string"?"string":typeof n=="object"?"object":Number.isNaN(n)?"any":"number"}const y3e={boolean:{read:n=>n==="true",write:n=>String(n)},object:{read:n=>JSON.parse(n),write:n=>JSON.stringify(n)},number:{read:n=>Number.parseFloat(n),write:n=>String(n)},any:{read:n=>n,write:n=>String(n)},string:{read:n=>n,write:n=>String(n)},map:{read:n=>new Map(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n.entries()))},set:{read:n=>new Set(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n))},date:{read:n=>new Date(n),write:n=>n.toISOString()}},tie="vueuse-storage";function b3e(n,e,t,r={}){var i;const{flush:u="pre",deep:l=!0,listenToStorageChanges:f=!0,writeDefaults:h=!0,mergeDefaults:g=!1,shallow:y,window:b=V3,eventFilter:S,onError:_=ie=>{console.error(ie)},initOnMounted:k}=r,A=(y?gfe:Ao)(typeof e=="function"?e():e);if(!t)try{t=Rde("getDefaultStorage",()=>{var ie;return(ie=V3)==null?void 0:ie.localStorage})()}catch(ie){_(ie)}if(!t)return A;const R=Eb(e),I=v3e(R),z=(i=r.serializer)!=null?i:y3e[I],{pause:L,resume:q}=l3e(A,()=>X(A.value),{flush:u,deep:l,eventFilter:S});return b&&f&&Ode(()=>{GN(b,"storage",te),GN(b,tie,ae),k&&te()}),k||te(),A;function X(ie){try{if(ie==null)t.removeItem(n);else{const le=z.write(ie),ce=t.getItem(n);ce!==le&&(t.setItem(n,le),b&&b.dispatchEvent(new CustomEvent(tie,{detail:{key:n,oldValue:ce,newValue:le,storageArea:t}})))}}catch(le){_(le)}}function Y(ie){const le=ie?ie.newValue:t.getItem(n);if(le==null)return h&&R!=null&&t.setItem(n,z.write(R)),R;if(!ie&&g){const ce=z.read(le);return typeof g=="function"?g(ce,R):I==="object"&&!Array.isArray(ce)?{...R,...ce}:ce}else return typeof le!="string"?le:z.read(le)}function ae(ie){te(ie.detail)}function te(ie){if(!(ie&&ie.storageArea!==t)){if(ie&&ie.key==null){A.value=R;return}if(!(ie&&ie.key!==n)){L();try{(ie==null?void 0:ie.newValue)!==z.write(A.value)&&(A.value=Y(ie))}catch(le){_(le)}finally{ie?Sh(q):q()}}}}}function Pde(n){return p3e("(prefers-color-scheme: dark)",n)}function x3e(n={}){const{selector:e="html",attribute:t="class",initialValue:r="auto",window:i=V3,storage:u,storageKey:l="vueuse-color-scheme",listenToStorageChanges:f=!0,storageRef:h,emitAuto:g,disableTransition:y=!0}=n,b={auto:"",light:"light",dark:"dark",...n.modes||{}},S=Pde({window:i}),_=No(()=>S.value?"dark":"light"),k=h||(l==null?i3e(r):b3e(l,r,u,{window:i,listenToStorageChanges:f})),A=No(()=>k.value==="auto"?_.value:k.value),R=Rde("updateHTMLAttrs",(q,X,Y)=>{const ae=typeof q=="string"?i==null?void 0:i.document.querySelector(q):NH(q);if(!ae)return;let te;if(y&&(te=i.document.createElement("style"),te.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),i.document.head.appendChild(te)),X==="class"){const ie=Y.split(/\s/g);Object.values(b).flatMap(le=>(le||"").split(/\s/g)).filter(Boolean).forEach(le=>{ie.includes(le)?ae.classList.add(le):ae.classList.remove(le)})}else ae.setAttribute(X,Y);y&&(i.getComputedStyle(te).opacity,document.head.removeChild(te))});function I(q){var X;R(e,t,(X=b[q])!=null?X:q)}function z(q){n.onChanged?n.onChanged(q,I):I(q)}uu(A,z,{flush:"post",immediate:!0}),Ode(()=>z(A.value));const L=No({get(){return g?k.value:A.value},set(q){k.value=q}});try{return Object.assign(L,{store:k,system:_,state:A})}catch{return L}}function kYe(n={}){const{valueDark:e="dark",valueLight:t="",window:r=V3}=n,i=x3e({...n,onChanged:(l,f)=>{var h;n.onChanged?(h=n.onChanged)==null||h.call(n,l==="dark",f,l):f(l)},modes:{dark:e,light:t}}),u=No(()=>i.system?i.system.value:Pde({window:r}).value?"dark":"light");return No({get(){return i.value==="dark"},set(l){const f=l?"dark":"light";u.value===f?i.value="auto":i.value=f}})}const nie=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function DYe(n,e={}){const{document:t=d3e,autoExit:r=!1}=e,i=No(()=>{var I;return(I=NH(n))!=null?I:t==null?void 0:t.querySelector("html")}),u=Ao(!1),l=No(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(I=>t&&I in t||i.value&&I in i.value)),f=No(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(I=>t&&I in t||i.value&&I in i.value)),h=No(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(I=>t&&I in t||i.value&&I in i.value)),g=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(I=>t&&I in t),y=Ide(()=>i.value&&t&&l.value!==void 0&&f.value!==void 0&&h.value!==void 0),b=()=>g?(t==null?void 0:t[g])===i.value:!1,S=()=>{if(h.value){if(t&&t[h.value]!=null)return t[h.value];{const I=i.value;if((I==null?void 0:I[h.value])!=null)return!!I[h.value]}}return!1};async function _(){if(!(!y.value||!u.value)){if(f.value)if((t==null?void 0:t[f.value])!=null)await t[f.value]();else{const I=i.value;(I==null?void 0:I[f.value])!=null&&await I[f.value]()}u.value=!1}}async function k(){if(!y.value||u.value)return;S()&&await _();const I=i.value;l.value&&(I==null?void 0:I[l.value])!=null&&(await I[l.value](),u.value=!0)}async function A(){await(u.value?_():k())}const R=()=>{const I=S();(!I||I&&b())&&(u.value=I)};return GN(t,nie,R,!1),GN(()=>NH(i),nie,R,!1),r&&pee(_),{isSupported:y,isFullscreen:u,enter:k,exit:_,toggle:A}}const Z7={pageSizes:[10,20,30,40],background:!0,layout:["total","sizes","prev","pager","next","jumper"]},w3e=10,_3e=(n,e)=>{const{emits:t}=e,{columns:r,data:i,params:u,pagination:l}=AV(n),{request:f}=n,h=Ao([]),g=No(()=>S3e(r.value)),y=Ao(0),b=Ao(!1),S=Th({page:1,pageSize:10}),_=No(()=>{var q,X,Y;return typeof l.value=="boolean"?{...Z7,currentPage:S.page,total:y.value,layout:(q=Z7.layout)==null?void 0:q.join(",")}:{...Z7,...l.value,currentPage:l.value.page||S.page,total:y.value,layout:((X=l.value.layout)==null?void 0:X.join(","))||((Y=Z7.layout)==null?void 0:Y.join(","))}});f3e(()=>n.pagination,()=>{if(!n.autoRequest)if(typeof l.value=="boolean"){I();return}else S.pageSize=l.value.pageSize||w3e,I()},{immediate:!0}),uu([u,i],()=>{R()});const k=q=>{S.page=q,z()},A=q=>{S.page=1,S.pageSize=q,z()};function R(){S.page=1,z()}function I(){z()}async function z(){L(!0);try{if(!f)h.value=l.value?qEe(i.value,{page:S.page,pageSize:S.pageSize}):i.value,y.value=i.value.length;else{const q=n.transform,X=n.transformParams,Y=Object.assign({},(u==null?void 0:u.value)||{},S),ae=await f(X?X(Y):Y),{total:te,data:ie}=q?q(ae):ae;h.value=ie,y.value=te}L(!1)}catch(q){console.error(q)}}function L(q){b.value=q,t("update:loading",b.value)}return{tableColums:g,paginationProps:_,total:y,loading:b,dataSource:h,pageQuery:S,refresh:I,reload:R,setQueryPageSize:A,setQueryPage:k}};function S3e(n){const e=n.find(t=>t.valueType==="indexBorder");return e&&(!e.title&&(e.title=""),!e.width&&(e.width=60)),n}const Nde=Symbol();function C3e(n,e){const{emits:t}=e,r=Ao(null),i=Ao(null),u=Ao(0),l=Ao(null),f=Ao(null),h=Ao(null),g=Th({size:"default",height:0}),y=No(()=>({enableValidate:n.editable.enableValidate}));let b;try{const{proTable:bt}=dy(Nde)||{};b=bt}catch{}const{paginationProps:S,dataSource:_,total:k,pageQuery:A,loading:R,tableColums:I,reload:z,refresh:L,setQueryPage:q,setQueryPageSize:X}=_3e(Th({...AV(n),transform:n.transform||(b==null?void 0:b.transform),transformParams:n.transformParams||(b==null?void 0:b.transformParams)}),{emits:t}),{cacheSelectedData:Y,selectedKeys:ae,setSelectedKeys:te,clearSelectedKeys:ie}=QEe({dataSource:_,selectedKeys:AH(n,"selectedKeys"),cacheSelectedData:AH(n,"cacheSelectedData"),rowKey:n.rowKey},{tableInstance:r,emits:t}),{startEditable:le,cancelEditable:ce,saveEditable:ne,deleteEditable:Q,editableCellMap:Ce,clearEditRow:ze,clearValidateErrors:ke,hasEditingRow:St,setFormInstanceRef:tt,editableRowsModel:G}=YEe({dataSource:_,rowKey:n.rowKey,editableConfig:n.editable,columns:n.columns}),{defaultColumnsMap:We,columnsMap:Ge,setDefaultColumnsMap:pt,mergeColumnsMap:Ze,resetColumnsMap:kt,getColumnMapConfig:Ot,initLocalStorageOrDynamicMap:Nt}=WEe({columnsState:n.columnsState}),fe={startEditable:le,cancelEditable:ce,saveEditable:ne,deleteEditable:Q,clearEditRow:ze,hasEditingRow:St,setFormInstanceRef:tt,clearValidateErrors:ke},Yt={setDefaultColumnsMap:pt,mergeColumnsMap:Ze,resetColumnsMap:kt,getColumnMapConfig:Ot,initLocalStorageOrDynamicMap:Nt};n.autoFitHeight?r5(()=>{Sh(()=>{var bt;u.value=((bt=i.value)==null?void 0:bt.clientHeight)||0,uu([i,h,f,l,ae],()=>{Sh(()=>{Ye()})},{immediate:!0,flush:"post"})})}):Ye();function Ye(){if(n.height){g.height=n.height;return}if(!n.autoFitHeight){g.height=void 0;return}let bt=u.value;if(!bt)return 0;f.value&&(bt-=f.value.offsetHeight),h.value&&ae.value.length&&(bt-=h.value.offsetHeight),l.value&&(bt-=l.value.clientHeight),g.height=bt-5}function je(bt){Object.assign(g,bt)}return{doHeight:Ye,toolbarRef:f,alertRef:h,paginationRef:l,proTableWrapperRef:i,sharedProperties:y,paginationProps:S,tableProps:g,loading:R,selectedKeys:ae,cacheSelectedData:Y,total:k,pageQuery:A,dataSource:_,tableColums:I,defaultColumnsMap:We,columnsMap:Ge,reload:z,setQueryPage:q,setQueryPageSize:X,setSelectedKeys:te,clearSelectedKeys:ie,tableActionRef:{tableRef:r,doHeight:Ye,reload:z,refresh:L,clearSelectedKeys:ie,editableCellUtils:fe,columnsSettingUtils:Yt},tableInstanceRef:r,mergeTableProps:je,customRendererMap:b==null?void 0:b.rendererMap,editableCellMap:Ce,editableRowsModel:G,editableCellUtils:fe,columnsSettingUtils:Yt}}const Lde=Symbol();function T3e(n){return dee(n,Lde,{readonly:!1,native:!0})}function SL(){return hee(Lde)}const Bde=Symbol();function M3e(n){return dee(n,Bde,{readonly:!1})}function k3e(){return hee(Bde)}const D3e=n=>(bfe("data-v-63d8f846"),n=n(),xfe(),n),A3e=D3e(()=>Oa("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"info-circle",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[Oa("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}),Oa("path",{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"})],-1)),E3e=ja({__name:"tips",props:{text:{},size:{}},setup(n){return(e,t)=>{const r=ra("el-icon"),i=ra("el-tooltip");return Fr(),Ei(i,{effect:"dark",content:e.text,placement:"top"},{default:go(()=>[Do(r,{class:"custom-icon",size:e.size},{default:go(()=>[A3e]),_:1},8,["size"])]),_:1},8,["content"])}}}),O3e=Gf(E3e,[["__scopeId","data-v-63d8f846"]]),zde=lf(O3e),I3e=ja({__name:"editable-cell",props:{column:{},value:{},row:{},rowKey:{}},setup(n){const{editableCellMap:e,sharedProperties:t}=SL(),r=n,i=No(()=>{var g;return((g=r.column)==null?void 0:g.key)&&r.column.rowComponent&&r.column.rowComponent.el});function u(g){const y=Tp(r.row,r.rowKey);if(!y)return;const b=e.value.get(y);b!=null&&b.data&&(b.data[r.column.key]=g)}function l(){const g=Tp(r.row,r.rowKey);if(!g)return;const y=e.value.get(g);if(y!=null&&y.data)return y==null?void 0:y.data[r.column.key]}function f(g){if(!(g!=null&&g.el))return null;function y(_){if(!_)return"";const{el:k}=_;return typeof k=="string"?ra(k):R3(k)}const b=Tp(r.row,r.rowKey);if(t.value.enableValidate)return hy(Sfe,{prop:`${b}.${r.column.key}`,rules:g.rules},{default:()=>S()});return S();function S(){return hy(y(g),{...(g==null?void 0:g.props)||{},modelValue:l(),"onUpdate:modelValue":u})}}function h(){const{column:g}=r;if(!g)return Do(kp,null,null);const{rowComponent:y}=g;return y?Do("span",null,[f(y)]):Do(kp,null,null)}return(g,y)=>i.value?(Fr(),Ei(n_(h()),{key:0})):Au("",!0)}}),R3e={class:"badge"},P3e={key:1},N3e=ja({__name:"badge",props:{text:{},color:{}},setup(n){const e=n,t=i=>["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"].includes(i),r=No(()=>t(e.color||"")?{}:{backgroundColor:e.color,color:e.color});return(i,u)=>(Fr(),la("span",R3e,[i.color?(Fr(),la("span",{key:0,class:bL(["badge__dot",t(i.color)?`badge__dot--${i.color}`:""]),style:n5(r.value)},null,6)):Au("",!0),i.text||i.$slots.text?(Fr(),la("span",P3e,[xl(i.$slots,"text",{},()=>[Wf(Ch(i.text),1)],!0)])):Au("",!0)]))}}),L3e=Gf(N3e,[["__scopeId","data-v-826a6da3"]]);function B3e(n){const{row:e,columnConfig:t,valueEnum:r,valueType:i,pagination:u,index:l,customRendererMap:f}=n,h=GEe(e,t.key),g=F3e(i,e);let y={type:typeof g=="string"?g:g.type||"text"};typeof g=="object"&&(y=Object.assign(y,{...g}));const b=z3e(r,e);if(f){const _=f[y.type];if(_){const k=_(qN({value:h,row:e,index:l,columnConfig:t,valueEnum:b,valueType:y,pagination:u}));return wfe(k)?hy(k):k}}const S={text:()=>h==null?"":Ch(h),enum:()=>{const _=b[h];return _?Do(L3e,{color:_.color,text:_.text},null):""},progress:()=>Do(WSe,{percentage:h,status:y==null?void 0:y.status,color:y.color},{default:({percentage:_})=>`${_||0}%`}),indexBorder:()=>{if(!u)return Ch("");const{page:_,pageSize:k}=u;return(_-1)*k+l+1},image:()=>{let _=h;return typeof y.src=="function"&&(_=y.src(h)),h?Do(qSe,{src:_,previewSrcList:[_],initialIndex:0,previewTeleported:!0,style:y.style},null):null}}[y.type];return S?S():h}function z3e(n,...e){return typeof n=="function"?n(...e):n}function F3e(n,...e){return typeof n=="function"?n(...e):n}const H3e=ja({__name:"pro-table-column",props:{column:{},rowKey:{}},setup(n){const e=n,t=k3e(),r=WZ(),{editableCellMap:i,pageQuery:u,customRendererMap:l}=SL();function f(y,b){var S;const{row:_,$index:k}=b||{};if(y.children&&y.children.length)return y.children.map(Y=>h(Y));const{valueType:A="text",valueEnum:R,render:I}=y,z={...r,...t.slots},L=Tp(_,e.rowKey),q={...b,editableState:L?i.value.get(L):void 0};if(z[y.key])return(S=z[y.key])==null?void 0:S.call(z,q);const X=L?i.value.get(L):void 0;return y.editable&&X&&X.isEdit?Do(I3e,{row:_,column:y,rowKey:e.rowKey},null):XEe(typeof I=="function"?I(q):B3e({valueEnum:R,valueType:A,row:_,columnConfig:y,index:k,customRendererMap:l,pagination:{page:u.page,pageSize:u.pageSize}}))}const h=y=>{const b={...y};return delete b.children,Do(VSe,Ed({prop:String(y.key)},b),{default:S=>f(y,S),header:S=>{var _;return r[`${y.key}Header`]?(_=r[`${y.key}Header`])==null?void 0:_.call(r,{...S,info:y}):Do("span",{class:"column-header"},[Do("span",{class:"column-header-title"},[y.title]),y.tip?Do(zde,{text:y.tip},null):null])}})},g=()=>h(e.column);return(y,b)=>(Fr(),Ei(n_(g())))}}),V3e=Gf(H3e,[["__scopeId","data-v-815d8ad1"]]),j3e={class:"setting-tree"},U3e={class:"setting-tree__header"},W3e={class:"setting-tree__node"},q3e={key:0,class:"tools"},$3e=ja({__name:"setting-tree",props:{title:{type:String,default:""},columns:{type:Array,default:()=>[]},fixed:{type:Vl(String),default:"auto"},defaultCheckedKeys:{type:Vl(Array),default:()=>[]}},emits:{change:(n,e)=>e&&n,check:()=>!0,move:(n,e,t)=>n&&e&&t},setup(n,{emit:e}){const t=e,r=Ao(),i=n,u=Th({map:new Map,columns:[],checkedKeys:[]}),{columnsSettingUtils:l,columnsMap:f}=SL();uu([()=>i.columns,f],()=>{if(i.columns.length===0)return;const I=new Map,z=[],L=X=>{X.forEach(Y=>{I.set(Y.key,Y),Y.children&&L(Y.children)})};function q(X){return X.map(Y=>{var ae,te;const ie={title:Y.title,key:Y.key,fixed:Y.fixed,_rowKey:Y.key},le=f.value[Y.key]||{show:!0};return!((ae=Y.children)!=null&&ae.length)&&(le==null?void 0:le.show)!==!1&&z.push(Y.key),(te=Y.children)!=null&&te.length&&(ie.children=q(Y.children),ie.children.every(ce=>z.includes(ce.key))&&z.push(ie.key)),ie})}L([...i.columns]),u.map=I,u.columns=q([...i.columns]),u.checkedKeys=z,k(z)},{deep:!0,immediate:!0});const h=(I,z)=>{const{checkedKeys:L=[]}=z||{},q=L.includes(I.key),X={...f.value},Y=ae=>{var te,ie,le,ce;const ne={...X[ae]};ne.show=q,(ie=(te=u.map)==null?void 0:te.get(ae))!=null&&ie.children&&((ce=(le=u.map.get(ae))==null?void 0:le.children)==null||ce.forEach(Q=>Y(Q.key))),X[ae]=ne};Y(I.key),l.mergeColumnsMap({...X}),t("check")},g=()=>{t("change",i.fixed,i.columns)},y=I=>{t("move",i.fixed,"left",I)},b=I=>{t("move",i.fixed,"auto",I)},S=I=>{t("move",i.fixed,"right",I)},_=()=>{g()};function k(I){Sh(()=>{var z;(z=r.value)==null||z.setCheckedKeys(I)})}const A=(I,z,L)=>!!(I.level===z.level&&["next","prev"].includes(L)),R=I=>!(I.level>1);return(I,z)=>{const L=ra("el-icon"),q=ra("el-tooltip"),X=ra("el-space"),Y=ra("el-tree");return Fr(),la("div",j3e,[Oa("div",U3e,Ch(n.title),1),Do(Y,{ref_key:"treeRef",ref:r,"allow-drop":A,"allow-drag":R,data:n.columns,"default-checked-keys":n.defaultCheckedKeys,"show-checkbox":"",draggable:"","node-key":"_rowKey",props:{label:"title",children:"children"},"expand-on-click-node":!1,onNodeDragEnd:_,onCheck:h},{default:go(({node:ae})=>[Oa("div",W3e,[Oa("span",null,Ch(ae.label),1),ae.level===1?(Fr(),la("span",q3e,[Do(X,null,{default:go(()=>[n.fixed!=="auto"?(Fr(),Ei(q,{key:0,effect:"dark",content:"",placement:"top-start"},{default:go(()=>[Do(L,{color:"var(--el-color-primary)",onClick:te=>b(ae)},{default:go(()=>[Do(io(jSe))]),_:2},1032,["onClick"])]),_:2},1024)):Au("",!0),n.fixed!=="left"?(Fr(),Ei(q,{key:1,effect:"dark",content:"",placement:"top-start"},{default:go(()=>[Do(L,{color:"var(--el-color-primary)",onClick:te=>y(ae)},{default:go(()=>[Do(io(Cfe))]),_:2},1032,["onClick"])]),_:2},1024)):Au("",!0),n.fixed!=="right"?(Fr(),Ei(q,{key:2,effect:"dark",content:"",placement:"top-start"},{default:go(()=>[Do(L,{color:"var(--el-color-primary)",onClick:te=>S(ae)},{default:go(()=>[Do(io(USe))]),_:2},1032,["onClick"])]),_:2},1024)):Au("",!0)]),_:2},1024)])):Au("",!0)])]),_:1},8,["data","default-checked-keys"])])}}}),$Y=Gf($3e,[["__scopeId","data-v-9a223f33"]]),G3e={style:{display:"flex","align-items":"center","justify-content":"space-between"}},X3e=ja({__name:"column-setting",props:{columns:{}},emits:{change:n=>n},setup(n,{emit:e}){const t=e,r=n,{columnsSettingUtils:i,columnsMap:u}=SL(),{initLocalStorageOrDynamicMap:l,setDefaultColumnsMap:f,resetColumnsMap:h,getColumnMapConfig:g}=i,y=Ao(),b=Ao(),S=Th({indeterminate:!1,checked:!1}),_=Th({leftColumns:[],autoColumns:[],rightColumns:[]}),k=uu(()=>r.columns,()=>{I(),Sh(()=>{k()})},{immediate:!0});uu(u,()=>{const te=Object.values(u.value).filter(le=>!le||le.show===!1),ie=r.columns.filter(le=>{const ce=u.value[le.key];return!ce||ce.show===!1});S.indeterminate=te.length!==0&&ie.length!==r.columns.length,S.checked=te.length===0&&r.columns.length!==te.length},{immediate:!0});const A=te=>{R(te)},R=(te=!0)=>{const ie={},le=ce=>{ce.forEach(({key:ne,fixed:Q,children:Ce})=>{var ze;const ke=ne;ke&&(ie[ke]={show:te,fixed:Q,order:(ze=u.value[ke])==null?void 0:ze.order}),Ce&&le(Ce)})};le(r.columns),i.mergeColumnsMap(ie)};function I(){const te={};r.columns.forEach((ie,le)=>{var ce;te[ie.key]={order:le,show:((ce=te[ie.key])==null?void 0:ce.show)!==!1,fixed:ie.fixed}}),l({...te}),f({...te}),z()}function z(){const te=ae([...r.columns]).sort(kde(u.value));_.autoColumns=[],_.leftColumns=[],_.rightColumns=[],te.forEach(ie=>{ie.fixed==="left"?_.leftColumns.push(ie):ie.fixed==="right"?_.rightColumns.push(ie):_.autoColumns.push(ie)})}const L=()=>{h(),I(),z(),Y()},q=()=>{Y()},X=(te,ie,le)=>{const ce={auto:_.autoColumns,left:_.leftColumns,right:_.rightColumns},ne=ce[te].splice(ce[te].findIndex(Ce=>Ce.key===le.data.key),1),Q=g(ne[0].key);ie==="left"?ne[0].fixed="left":ie==="right"?ne[0].fixed="right":ne[0].fixed=void 0,Q.fixed=ne[0].fixed,ce[ie].push(...ne),Y()};function Y(){const te={};[..._.leftColumns,..._.autoColumns,..._.rightColumns].forEach((ie,le)=>{te[ie.key]={...u.value[ie.key]||{},fixed:ie.fixed,order:le}}),i.mergeColumnsMap(te),t("change",{...u.value})}function ae(te){return te.map(ie=>{const le={title:ie.title,key:ie.key,fixed:ie.fixed,_rowKey:ie.key};return ie.children&&(le.children=ae(ie.children)),le})}return(te,ie)=>{const le=ra("el-icon"),ce=ra("el-tooltip"),ne=ra("el-checkbox"),Q=ra("el-button"),Ce=ra("el-popover");return Fr(),la(kp,null,[Do(ce,{effect:"dark",content:"",placement:"top"},{default:go(()=>[Oa("span",{ref_key:"triggerRef",ref:y,style:{cursor:"pointer"}},[Do(le,{size:18},{default:go(()=>[Do(io(zSe))]),_:1})],512)]),_:1}),Oa("div",null,[Do(Ce,{ref_key:"popoverRef",ref:b,"virtual-ref":y.value,"virtual-triggering":"",placement:"bottom",width:300,trigger:"click"},{default:go(()=>[Oa("div",null,[Oa("div",G3e,[Oa("span",null,[Do(ne,{"model-value":S.checked,label:"",size:"large",indeterminate:S.indeterminate,onChange:A},null,8,["model-value","indeterminate"])]),Oa("span",null,[Do(Q,{link:"",type:"primary",onClick:L},{default:go(()=>[Wf("")]),_:1})])]),_.leftColumns.length?(Fr(),Ei($Y,{key:0,title:"",fixed:"left",columns:_.leftColumns,onMove:X,onCheck:q,onChange:Y},null,8,["columns"])):Au("",!0),_.autoColumns.length?(Fr(),Ei($Y,{key:1,title:!_.leftColumns.length&&!_.leftColumns.length?"":"",fixed:"auto",columns:_.autoColumns,onMove:X,onCheck:q,onChange:Y},null,8,["title","columns"])):Au("",!0),_.rightColumns.length?(Fr(),Ei($Y,{key:2,title:"",fixed:"right",columns:_.rightColumns,onMove:X,onCheck:q,onChange:Y},null,8,["columns"])):Au("",!0)])]),_:1},8,["virtual-ref"])])],64)}}}),Y3e={key:0,class:"pro-table-header"},K3e={class:"pro-table-header__left"},J3e={key:0,class:"pro-table-header__title"},Q3e={class:"pro-table-header__right"},Z3e={class:"cursor"},e5e=ja({__name:"toolbar",props:{columns:{default:()=>[]},headerTitle:{default:""},options:{type:[Boolean,Object],default:()=>({})}},setup(n){const e=[{title:"",size:"large"},{title:"",size:"default"},{title:"",size:"small"}],t={reload:!0,density:!0,setting:!0},r=n,{mergeTableProps:i,tableActionRef:u}=SL(),l=No(()=>{if(typeof r.options=="boolean"){if(r.options)return{reload:!0,density:!0,setting:!0};if(r.options===!1)return{reload:!1,density:!1,setting:!1}}return{...t,...r.options}});return(f,h)=>{const g=ra("el-icon"),y=ra("el-tooltip"),b=ra("el-dropdown-item"),S=ra("el-dropdown-menu"),_=ra("el-dropdown"),k=ra("el-space");return f.options.headerTitle||f.options.toolbar||f.headerTitle||l.value.reload||l.value.density||l.value.setting?(Fr(),la("div",Y3e,[Oa("div",K3e,[xl(f.$slots,"headerTitle",{},()=>[f.headerTitle?(Fr(),la("span",J3e,Ch(f.headerTitle),1)):Au("",!0)],!0)]),Oa("div",Q3e,[Do(k,null,{default:go(()=>[xl(f.$slots,"toolbar",{},void 0,!0),l.value.reload?(Fr(),Ei(y,{key:0,effect:"dark",content:"",placement:"top"},{default:go(()=>[Oa("span",{class:"cursor",onClick:h[0]||(h[0]=(...A)=>io(u).refresh&&io(u).refresh(...A))},[Do(g,{size:18},{default:go(()=>[Do(io(BSe))]),_:1})])]),_:1})):Au("",!0),l.value.setting?(Fr(),Ei(X3e,{key:1,columns:f.columns},null,8,["columns"])):Au("",!0),l.value.density?(Fr(),Ei(y,{key:2,effect:"dark",content:"",placement:"top"},{default:go(()=>[Oa("span",Z3e,[Do(_,null,{dropdown:go(()=>[Do(S,null,{default:go(()=>[(Fr(),la(kp,null,j2(e,(A,R)=>Do(b,{key:R,onClick:I=>io(i)({size:A.size})},{default:go(()=>[Wf(Ch(A.title),1)]),_:2},1032,["onClick"])),64))]),_:1})]),default:go(()=>[Oa("span",null,[Do(g,{size:18},{default:go(()=>[Do(io(_de))]),_:1})])]),_:1})])]),_:1})):Au("",!0)]),_:3})])])):Au("",!0)}}}),t5e=Gf(e5e,[["__scopeId","data-v-9830ce62"]]),Fde=ja({name:"ProTable",__name:"pro-table",props:VEe,emits:UEe,setup(n,{expose:e,emit:t}){const r=$Z();r&&M3e(r);const i=n,u=t,l=C3e(Th(i),{emits:u}),{toolbarRef:f,alertRef:h,paginationRef:g,proTableWrapperRef:y,tableInstanceRef:b,tableActionRef:S,paginationProps:_,loading:k,pageQuery:A,columnsMap:R,tableProps:I,tableColums:z,dataSource:L,selectedKeys:q,setSelectedKeys:X,cacheSelectedData:Y,clearSelectedKeys:ae,editableCellUtils:te,setQueryPage:ie,setQueryPageSize:le,editableRowsModel:ce}=l;T3e(l),u("register",S);const ne=No(()=>$Ee(z.value,R.value).sort(kde(R.value))),Q=No(()=>{var We;return(We=i.editable)!=null&&We.enableValidate?_fe:"div"});function Ce(We){var Ge;(Ge=i.editable)!=null&&Ge.enableValidate&&te.setFormInstanceRef(We)}function ze(We){St(),ie(We),tt()}function ke(We){St(),le(We),tt()}function St(){i.reserveSelection||ae(),te.clearEditRow()}function tt(){u("page-change",A.page,A.pageSize)}const G=We=>{if(Array.isArray(We)){const Ge=L.value.map(Ze=>Tp(Ze,i.rowKey)),pt=We.map(Ze=>Tp(Ze,i.rowKey));Ge.forEach(Ze=>{pt.includes(Ze)||Y.has(Ze)&&Y.delete(Ze)}),We.forEach(Ze=>{const kt=Tp(Ze,i.rowKey);Y.has(kt)||Y.set(kt,Ze)}),X(Array.from(Y.keys())),u("selection-change",lSe(()=>Array.from(Y.values())))}};return e(S),(We,Ge)=>{const pt=ra("el-button"),Ze=ra("el-alert"),kt=ra("el-table-column"),Ot=ra("el-table"),Nt=ra("el-pagination"),fe=mfe("loading");return Fr(),la("div",{ref_key:"proTableWrapperRef",ref:y,class:"pro-table",style:n5({height:We.autoFitHeight?"100%":""})},[We.options?(Fr(),la("div",{key:0,ref_key:"toolbarRef",ref:f},[Do(t5e,{"header-title":We.headerTitle,columns:io(z),options:{...We.options===!0?{}:We.options,headerTitle:!!We.$slots.headerTitle,toolbar:!!We.$slots.toolbar}},{headerTitle:go(()=>[xl(We.$slots,"headerTitle")]),toolbar:go(()=>[xl(We.$slots,"toolbar")]),_:3},8,["header-title","columns","options"])],512)):Au("",!0),We.showAlert&&(We.alwaysShowAlert||io(q).length)?(Fr(),la("div",{key:1,ref_key:"alertRef",ref:h,class:"pro-table__alert"},[xl(We.$slots,"alert",{},()=>[Do(Ze,{type:"info","show-icon":"",closable:!1},{title:go(()=>[Wf(" "+Ch(io(q).length)+"  ",1),Do(pt,{type:"primary",link:"",onClick:io(ae)},{default:go(()=>[Wf("")]),_:1},8,["onClick"])]),_:1})])],512)):Au("",!0),(Fr(),Ei(n_(Q.value),{ref:Ce,class:"pro-table__wrapper",model:io(ce)},{default:go(()=>[UZ((Fr(),Ei(Ot,Ed({ref_key:"tableInstanceRef",ref:b},{...We.$attrs,style:void 0},{height:io(I).height,style:{},border:We.border,"row-key":We.rowKey,"table-layout":We.tableLayout,size:io(I).size,data:io(L),onSelectionChange:G}),{default:go(()=>[We.checkable?(Fr(),Ei(kt,{key:0,type:"selection",width:"40","reserve-selection":We.reserveSelection},null,8,["reserve-selection"])):Au("",!0),(Fr(!0),la(kp,null,j2(ne.value,(Yt,Ye)=>(Fr(),Ei(V3e,{key:`${Yt.key}-${Ye}`,column:Yt,"row-key":i.rowKey},null,8,["column","row-key"]))),128))]),_:1},16,["height","border","row-key","table-layout","size","data"])),[[fe,io(k)]])]),_:1},8,["model"])),We.pagination?(Fr(),la("div",{key:2,ref_key:"paginationRef",ref:g,class:"pro-table__pagination"},[Do(Nt,Ed(io(_),{small:io(I).size==="small",onSizeChange:ke,onCurrentChange:ze}),null,16,["small"])],512)):Au("",!0)],4)}}});function gee(){const n=Ao();function e(g){g&&(n.value=g)}async function t(){var g;await Sh();const y=(g=n.value)==null?void 0:g.tableRef;return Y2(y)?y.value:y}function r(){var g;return(g=n.value)==null?void 0:g.editableCellUtils}function i(g){var y;(y=r())==null||y.startEditable(g)}function u(g){var y;(y=r())==null||y.cancelEditable(g)}function l(g){var y;(y=r())==null||y.saveEditable(g)}function f(g){var y;(y=r())==null||y.deleteEditable(g)}function h(){var g;return(g=r())==null?void 0:g.hasEditingRow()}return{register:e,getTableRef:t,reload:()=>{var g;(g=n.value)==null||g.reload()},refresh:()=>{var g;(g=n.value)==null||g.refresh()},startEditable:i,cancelEditable:u,saveEditable:l,deleteEditable:f,hasEditingRow:h}}const Hde=lf(Fde);/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function rie(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function my(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rie(Object(t),!0).forEach(function(r){n5e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rie(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tH(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tH=function(e){return typeof e}:tH=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tH(n)}function n5e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ob(){return Ob=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ob.apply(this,arguments)}function r5e(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,u;for(u=0;u<r.length;u++)i=r[u],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function o5e(n,e){if(n==null)return{};var t=r5e(n,e),r,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(i=0;i<u.length;i++)r=u[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var i5e="1.15.0";function kb(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Fb=kb(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),CL=kb(/Edge/i),oie=kb(/firefox/i),wN=kb(/safari/i)&&!kb(/chrome/i)&&!kb(/android/i),Vde=kb(/iP(ad|od|hone)/i),jde=kb(/chrome/i)&&kb(/android/i),Ude={capture:!1,passive:!1};function Ha(n,e,t){n.addEventListener(e,t,!Fb&&Ude)}function _a(n,e,t){n.removeEventListener(e,t,!Fb&&Ude)}function LH(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function a5e(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function oy(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&LH(n,e):LH(n,e))||r&&n===t)return n;if(n===t)break}while(n=a5e(n))}return null}var iie=/\s+/g;function xp(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(iie," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(iie," ")}}function Jo(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function T3(n,e){var t="";if(typeof n=="string")t=n;else do{var r=Jo(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Wde(n,e,t){if(n){var r=n.getElementsByTagName(e),i=0,u=r.length;if(t)for(;i<u;i++)t(r[i],i);return r}return[]}function cy(){var n=document.scrollingElement;return n||document.documentElement}function hc(n,e,t,r,i){if(!(!n.getBoundingClientRect&&n!==window)){var u,l,f,h,g,y,b;if(n!==window&&n.parentNode&&n!==cy()?(u=n.getBoundingClientRect(),l=u.top,f=u.left,h=u.bottom,g=u.right,y=u.height,b=u.width):(l=0,f=0,h=window.innerHeight,g=window.innerWidth,y=window.innerHeight,b=window.innerWidth),(e||t)&&n!==window&&(i=i||n.parentNode,!Fb))do if(i&&i.getBoundingClientRect&&(Jo(i,"transform")!=="none"||t&&Jo(i,"position")!=="static")){var S=i.getBoundingClientRect();l-=S.top+parseInt(Jo(i,"border-top-width")),f-=S.left+parseInt(Jo(i,"border-left-width")),h=l+u.height,g=f+u.width;break}while(i=i.parentNode);if(r&&n!==window){var _=T3(i||n),k=_&&_.a,A=_&&_.d;_&&(l/=A,f/=k,b/=k,y/=A,h=l+y,g=f+b)}return{top:l,left:f,bottom:h,right:g,width:b,height:y}}}function aie(n,e,t){for(var r=P2(n,!0),i=hc(n)[e];r;){var u=hc(r)[t],l=void 0;if(t==="top"||t==="left"?l=i>=u:l=i<=u,!l)return r;if(r===cy())break;r=P2(r,!1)}return!1}function j3(n,e,t,r){for(var i=0,u=0,l=n.children;u<l.length;){if(l[u].style.display!=="none"&&l[u]!==Qo.ghost&&(r||l[u]!==Qo.dragged)&&oy(l[u],t.draggable,n,!1)){if(i===e)return l[u];i++}u++}return null}function vee(n,e){for(var t=n.lastElementChild;t&&(t===Qo.ghost||Jo(t,"display")==="none"||e&&!LH(t,e));)t=t.previousElementSibling;return t||null}function zm(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Qo.clone&&(!e||LH(n,e))&&t++;return t}function uie(n){var e=0,t=0,r=cy();if(n)do{var i=T3(n),u=i.a,l=i.d;e+=n.scrollLeft*u,t+=n.scrollTop*l}while(n!==r&&(n=n.parentNode));return[e,t]}function u5e(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function P2(n,e){if(!n||!n.getBoundingClientRect)return cy();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=Jo(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return cy();if(r||e)return t;r=!0}}while(t=t.parentNode);return cy()}function s5e(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function GY(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var _N;function qde(n,e){return function(){if(!_N){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),_N=setTimeout(function(){_N=void 0},e)}}}function l5e(){clearTimeout(_N),_N=void 0}function $de(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Gde(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var _p="Sortable"+new Date().getTime();function c5e(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var t=[].slice.call(this.el.children);t.forEach(function(r){if(!(Jo(r,"display")==="none"||r===Qo.ghost)){n.push({target:r,rect:hc(r)});var i=my({},n[n.length-1].rect);if(r.thisAnimationDuration){var u=T3(r,!0);u&&(i.top-=u.f,i.left-=u.e)}r.fromRect=i}})}},addAnimationState:function(t){n.push(t)},removeAnimationState:function(t){n.splice(u5e(n,{target:t}),1)},animateAll:function(t){var r=this;if(!this.options.animation){clearTimeout(e),typeof t=="function"&&t();return}var i=!1,u=0;n.forEach(function(l){var f=0,h=l.target,g=h.fromRect,y=hc(h),b=h.prevFromRect,S=h.prevToRect,_=l.rect,k=T3(h,!0);k&&(y.top-=k.f,y.left-=k.e),h.toRect=y,h.thisAnimationDuration&&GY(b,y)&&!GY(g,y)&&(_.top-y.top)/(_.left-y.left)===(g.top-y.top)/(g.left-y.left)&&(f=d5e(_,b,S,r.options)),GY(y,g)||(h.prevFromRect=g,h.prevToRect=y,f||(f=r.options.animation),r.animate(h,_,y,f)),f&&(i=!0,u=Math.max(u,f),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},f),h.thisAnimationDuration=f)}),clearTimeout(e),i?e=setTimeout(function(){typeof t=="function"&&t()},u):typeof t=="function"&&t(),n=[]},animate:function(t,r,i,u){if(u){Jo(t,"transition",""),Jo(t,"transform","");var l=T3(this.el),f=l&&l.a,h=l&&l.d,g=(r.left-i.left)/(f||1),y=(r.top-i.top)/(h||1);t.animatingX=!!g,t.animatingY=!!y,Jo(t,"transform","translate3d("+g+"px,"+y+"px,0)"),this.forRepaintDummy=f5e(t),Jo(t,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),Jo(t,"transform","translate3d(0,0,0)"),typeof t.animated=="number"&&clearTimeout(t.animated),t.animated=setTimeout(function(){Jo(t,"transition",""),Jo(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},u)}}}}function f5e(n){return n.offsetWidth}function d5e(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var GE=[],XY={initializeByDefault:!0},TL={mount:function(n){for(var e in XY)XY.hasOwnProperty(e)&&!(e in n)&&(n[e]=XY[e]);GE.forEach(function(t){if(t.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),GE.push(n)},pluginEvent:function(n,e,t){var r=this;this.eventCanceled=!1,t.cancel=function(){r.eventCanceled=!0};var i=n+"Global";GE.forEach(function(u){e[u.pluginName]&&(e[u.pluginName][i]&&e[u.pluginName][i](my({sortable:e},t)),e.options[u.pluginName]&&e[u.pluginName][n]&&e[u.pluginName][n](my({sortable:e},t)))})},initializePlugins:function(n,e,t,r){GE.forEach(function(l){var f=l.pluginName;if(!(!n.options[f]&&!l.initializeByDefault)){var h=new l(n,e,n.options);h.sortable=n,h.options=n.options,n[f]=h,Ob(t,h.defaults)}});for(var i in n.options)if(n.options.hasOwnProperty(i)){var u=this.modifyOption(n,i,n.options[i]);typeof u<"u"&&(n.options[i]=u)}},getEventProperties:function(n,e){var t={};return GE.forEach(function(r){typeof r.eventProperties=="function"&&Ob(t,r.eventProperties.call(e[r.pluginName],n))}),t},modifyOption:function(n,e,t){var r;return GE.forEach(function(i){n[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[e]=="function"&&(r=i.optionListeners[e].call(n[i.pluginName],t))}),r}};function h5e(n){var e=n.sortable,t=n.rootEl,r=n.name,i=n.targetEl,u=n.cloneEl,l=n.toEl,f=n.fromEl,h=n.oldIndex,g=n.newIndex,y=n.oldDraggableIndex,b=n.newDraggableIndex,S=n.originalEvent,_=n.putSortable,k=n.extraEventProperties;if(e=e||t&&t[_p],!!e){var A,R=e.options,I="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Fb&&!CL?A=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(A=document.createEvent("Event"),A.initEvent(r,!0,!0)),A.to=l||t,A.from=f||t,A.item=i||t,A.clone=u,A.oldIndex=h,A.newIndex=g,A.oldDraggableIndex=y,A.newDraggableIndex=b,A.originalEvent=S,A.pullMode=_?_.lastPutMode:void 0;var z=my(my({},k),TL.getEventProperties(r,e));for(var L in z)A[L]=z[L];t&&t.dispatchEvent(A),R[I]&&R[I].call(e,A)}}var p5e=["evt"],ph=function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=t.evt,i=o5e(t,p5e);TL.pluginEvent.bind(Qo)(n,e,my({dragEl:kr,parentEl:Js,ghostEl:_i,rootEl:bs,nextEl:KT,lastDownEl:nH,cloneEl:Ns,cloneHidden:O2,dragStarted:iN,putSortable:tf,activeSortable:Qo.active,originalEvent:r,oldIndex:x3,oldDraggableIndex:SN,newIndex:wp,newDraggableIndex:A2,hideGhostForTarget:Jde,unhideGhostForTarget:Qde,cloneNowHidden:function(){O2=!0},cloneNowShown:function(){O2=!1},dispatchSortableEvent:function(u){Cd({sortable:e,name:u,originalEvent:r})}},i))};function Cd(n){h5e(my({putSortable:tf,cloneEl:Ns,targetEl:kr,rootEl:bs,oldIndex:x3,oldDraggableIndex:SN,newIndex:wp,newDraggableIndex:A2},n))}var kr,Js,_i,bs,KT,nH,Ns,O2,x3,wp,SN,A2,eF,tf,p3=!1,BH=!1,zH=[],CT,mv,YY,KY,sie,lie,iN,XE,CN,TN=!1,tF=!1,rH,Ff,JY=[],aQ=!1,FH=[],zV=typeof document<"u",nF=Vde,cie=CL||Fb?"cssFloat":"float",m5e=zV&&!jde&&!Vde&&"draggable"in document.createElement("div"),Xde=function(){if(zV){if(Fb)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Yde=function(n,e){var t=Jo(n),r=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),i=j3(n,0,e),u=j3(n,1,e),l=i&&Jo(i),f=u&&Jo(u),h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+hc(i).width,g=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+hc(u).width;if(t.display==="flex")return t.flexDirection==="column"||t.flexDirection==="column-reverse"?"vertical":"horizontal";if(t.display==="grid")return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var y=l.float==="left"?"left":"right";return u&&(f.clear==="both"||f.clear===y)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||h>=r&&t[cie]==="none"||u&&t[cie]==="none"&&h+g>r)?"vertical":"horizontal"},g5e=function(n,e,t){var r=t?n.left:n.top,i=t?n.right:n.bottom,u=t?n.width:n.height,l=t?e.left:e.top,f=t?e.right:e.bottom,h=t?e.width:e.height;return r===l||i===f||r+u/2===l+h/2},v5e=function(n,e){var t;return zH.some(function(r){var i=r[_p].options.emptyInsertThreshold;if(!(!i||vee(r))){var u=hc(r),l=n>=u.left-i&&n<=u.right+i,f=e>=u.top-i&&e<=u.bottom+i;if(l&&f)return t=r}}),t},Kde=function(n){function e(i,u){return function(l,f,h,g){var y=l.options.group.name&&f.options.group.name&&l.options.group.name===f.options.group.name;if(i==null&&(u||y))return!0;if(i==null||i===!1)return!1;if(u&&i==="clone")return i;if(typeof i=="function")return e(i(l,f,h,g),u)(l,f,h,g);var b=(u?l:f).options.group.name;return i===!0||typeof i=="string"&&i===b||i.join&&i.indexOf(b)>-1}}var t={},r=n.group;(!r||tH(r)!="object")&&(r={name:r}),t.name=r.name,t.checkPull=e(r.pull,!0),t.checkPut=e(r.put),t.revertClone=r.revertClone,n.group=t},Jde=function(){!Xde&&_i&&Jo(_i,"display","none")},Qde=function(){!Xde&&_i&&Jo(_i,"display","")};zV&&!jde&&document.addEventListener("click",function(n){if(BH)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),BH=!1,!1},!0);var TT=function(n){if(kr){n=n.touches?n.touches[0]:n;var e=v5e(n.clientX,n.clientY);if(e){var t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);t.target=t.rootEl=e,t.preventDefault=void 0,t.stopPropagation=void 0,e[_p]._onDragOver(t)}}},y5e=function(n){kr&&kr.parentNode[_p]._isOutsideThisEl(n.target)};function Qo(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Ob({},e),n[_p]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Yde(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(u,l){u.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Qo.supportPointer!==!1&&"PointerEvent"in window&&!wN,emptyInsertThreshold:5};TL.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);Kde(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:m5e,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ha(n,"pointerdown",this._onTapStart):(Ha(n,"mousedown",this._onTapStart),Ha(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ha(n,"dragover",this),Ha(n,"dragenter",this)),zH.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ob(this,c5e())}Qo.prototype={constructor:Qo,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(XE=null)},_getDirection:function(n,e){return typeof this.options.direction=="function"?this.options.direction.call(this,n,e,kr):this.options.direction},_onTapStart:function(n){if(n.cancelable){var e=this,t=this.el,r=this.options,i=r.preventOnFilter,u=n.type,l=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,f=(l||n).target,h=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||f,g=r.filter;if(M5e(t),!kr&&!(/mousedown|pointerdown/.test(u)&&n.button!==0||r.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&wN&&f&&f.tagName.toUpperCase()==="SELECT")&&(f=oy(f,r.draggable,t,!1),!(f&&f.animated)&&nH!==f)){if(x3=zm(f),SN=zm(f,r.draggable),typeof g=="function"){if(g.call(this,n,f,this)){Cd({sortable:e,rootEl:h,name:"filter",targetEl:f,toEl:t,fromEl:t}),ph("filter",e,{evt:n}),i&&n.cancelable&&n.preventDefault();return}}else if(g&&(g=g.split(",").some(function(y){if(y=oy(h,y.trim(),t,!1),y)return Cd({sortable:e,rootEl:y,name:"filter",targetEl:f,fromEl:t,toEl:t}),ph("filter",e,{evt:n}),!0}),g)){i&&n.cancelable&&n.preventDefault();return}r.handle&&!oy(h,r.handle,t,!1)||this._prepareDragStart(n,l,f)}}},_prepareDragStart:function(n,e,t){var r=this,i=r.el,u=r.options,l=i.ownerDocument,f;if(t&&!kr&&t.parentNode===i){var h=hc(t);if(bs=i,kr=t,Js=kr.parentNode,KT=kr.nextSibling,nH=t,eF=u.group,Qo.dragged=kr,CT={target:kr,clientX:(e||n).clientX,clientY:(e||n).clientY},sie=CT.clientX-h.left,lie=CT.clientY-h.top,this._lastX=(e||n).clientX,this._lastY=(e||n).clientY,kr.style["will-change"]="all",f=function(){if(ph("delayEnded",r,{evt:n}),Qo.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!oie&&r.nativeDraggable&&(kr.draggable=!0),r._triggerDragStart(n,e),Cd({sortable:r,name:"choose",originalEvent:n}),xp(kr,u.chosenClass,!0)},u.ignore.split(",").forEach(function(g){Wde(kr,g.trim(),QY)}),Ha(l,"dragover",TT),Ha(l,"mousemove",TT),Ha(l,"touchmove",TT),Ha(l,"mouseup",r._onDrop),Ha(l,"touchend",r._onDrop),Ha(l,"touchcancel",r._onDrop),oie&&this.nativeDraggable&&(this.options.touchStartThreshold=4,kr.draggable=!0),ph("delayStart",this,{evt:n}),u.delay&&(!u.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(CL||Fb))){if(Qo.eventCanceled){this._onDrop();return}Ha(l,"mouseup",r._disableDelayedDrag),Ha(l,"touchend",r._disableDelayedDrag),Ha(l,"touchcancel",r._disableDelayedDrag),Ha(l,"mousemove",r._delayedDragTouchMoveHandler),Ha(l,"touchmove",r._delayedDragTouchMoveHandler),u.supportPointer&&Ha(l,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(f,u.delay)}else f()}},_delayedDragTouchMoveHandler:function(n){var e=n.touches?n.touches[0]:n;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){kr&&QY(kr),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;_a(n,"mouseup",this._disableDelayedDrag),_a(n,"touchend",this._disableDelayedDrag),_a(n,"touchcancel",this._disableDelayedDrag),_a(n,"mousemove",this._delayedDragTouchMoveHandler),_a(n,"touchmove",this._delayedDragTouchMoveHandler),_a(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,e){e=e||n.pointerType=="touch"&&n,!this.nativeDraggable||e?this.options.supportPointer?Ha(document,"pointermove",this._onTouchMove):e?Ha(document,"touchmove",this._onTouchMove):Ha(document,"mousemove",this._onTouchMove):(Ha(kr,"dragend",this),Ha(bs,"dragstart",this._onDragStart));try{document.selection?oH(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,e){if(p3=!1,bs&&kr){ph("dragStarted",this,{evt:e}),this.nativeDraggable&&Ha(document,"dragover",y5e);var t=this.options;!n&&xp(kr,t.dragClass,!1),xp(kr,t.ghostClass,!0),Qo.active=this,n&&this._appendGhost(),Cd({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(mv){this._lastX=mv.clientX,this._lastY=mv.clientY,Jde();for(var n=document.elementFromPoint(mv.clientX,mv.clientY),e=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(mv.clientX,mv.clientY),n!==e);)e=n;if(kr.parentNode[_p]._isOutsideThisEl(n),e)do{if(e[_p]){var t=void 0;if(t=e[_p]._onDragOver({clientX:mv.clientX,clientY:mv.clientY,target:n,rootEl:e}),t&&!this.options.dragoverBubble)break}n=e}while(e=e.parentNode);Qde()}},_onTouchMove:function(n){if(CT){var e=this.options,t=e.fallbackTolerance,r=e.fallbackOffset,i=n.touches?n.touches[0]:n,u=_i&&T3(_i,!0),l=_i&&u&&u.a,f=_i&&u&&u.d,h=nF&&Ff&&uie(Ff),g=(i.clientX-CT.clientX+r.x)/(l||1)+(h?h[0]-JY[0]:0)/(l||1),y=(i.clientY-CT.clientY+r.y)/(f||1)+(h?h[1]-JY[1]:0)/(f||1);if(!Qo.active&&!p3){if(t&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<t)return;this._onDragStart(n,!0)}if(_i){u?(u.e+=g-(YY||0),u.f+=y-(KY||0)):u={a:1,b:0,c:0,d:1,e:g,f:y};var b="matrix(".concat(u.a,",").concat(u.b,",").concat(u.c,",").concat(u.d,",").concat(u.e,",").concat(u.f,")");Jo(_i,"webkitTransform",b),Jo(_i,"mozTransform",b),Jo(_i,"msTransform",b),Jo(_i,"transform",b),YY=g,KY=y,mv=i}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!_i){var n=this.options.fallbackOnBody?document.body:bs,e=hc(kr,!0,nF,!0,n),t=this.options;if(nF){for(Ff=n;Jo(Ff,"position")==="static"&&Jo(Ff,"transform")==="none"&&Ff!==document;)Ff=Ff.parentNode;Ff!==document.body&&Ff!==document.documentElement?(Ff===document&&(Ff=cy()),e.top+=Ff.scrollTop,e.left+=Ff.scrollLeft):Ff=cy(),JY=uie(Ff)}_i=kr.cloneNode(!0),xp(_i,t.ghostClass,!1),xp(_i,t.fallbackClass,!0),xp(_i,t.dragClass,!0),Jo(_i,"transition",""),Jo(_i,"transform",""),Jo(_i,"box-sizing","border-box"),Jo(_i,"margin",0),Jo(_i,"top",e.top),Jo(_i,"left",e.left),Jo(_i,"width",e.width),Jo(_i,"height",e.height),Jo(_i,"opacity","0.8"),Jo(_i,"position",nF?"absolute":"fixed"),Jo(_i,"zIndex","100000"),Jo(_i,"pointerEvents","none"),Qo.ghost=_i,n.appendChild(_i),Jo(_i,"transform-origin",sie/parseInt(_i.style.width)*100+"% "+lie/parseInt(_i.style.height)*100+"%")}},_onDragStart:function(n,e){var t=this,r=n.dataTransfer,i=t.options;if(ph("dragStart",this,{evt:n}),Qo.eventCanceled){this._onDrop();return}ph("setupClone",this),Qo.eventCanceled||(Ns=Gde(kr),Ns.removeAttribute("id"),Ns.draggable=!1,Ns.style["will-change"]="",this._hideClone(),xp(Ns,this.options.chosenClass,!1),Qo.clone=Ns),t.cloneId=oH(function(){ph("clone",t),!Qo.eventCanceled&&(t.options.removeCloneOnHide||bs.insertBefore(Ns,kr),t._hideClone(),Cd({sortable:t,name:"clone"}))}),!e&&xp(kr,i.dragClass,!0),e?(BH=!0,t._loopId=setInterval(t._emulateDragOver,50)):(_a(document,"mouseup",t._onDrop),_a(document,"touchend",t._onDrop),_a(document,"touchcancel",t._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(t,r,kr)),Ha(document,"drop",t),Jo(kr,"transform","translateZ(0)")),p3=!0,t._dragStartId=oH(t._dragStarted.bind(t,e,n)),Ha(document,"selectstart",t),iN=!0,wN&&Jo(document.body,"user-select","none")},_onDragOver:function(n){var e=this.el,t=n.target,r,i,u,l=this.options,f=l.group,h=Qo.active,g=eF===f,y=l.sort,b=tf||h,S,_=this,k=!1;if(aQ)return;function A(St,tt){ph(St,_,my({evt:n,isOwner:g,axis:S?"vertical":"horizontal",revert:u,dragRect:r,targetRect:i,canSort:y,fromSortable:b,target:t,completed:I,onMove:function(G,We){return rF(bs,e,kr,r,G,hc(G),n,We)},changed:z},tt))}function R(){A("dragOverAnimationCapture"),_.captureAnimationState(),_!==b&&b.captureAnimationState()}function I(St){return A("dragOverCompleted",{insertion:St}),St&&(g?h._hideClone():h._showClone(_),_!==b&&(xp(kr,tf?tf.options.ghostClass:h.options.ghostClass,!1),xp(kr,l.ghostClass,!0)),tf!==_&&_!==Qo.active?tf=_:_===Qo.active&&tf&&(tf=null),b===_&&(_._ignoreWhileAnimating=t),_.animateAll(function(){A("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(t===kr&&!kr.animated||t===e&&!t.animated)&&(XE=null),!l.dragoverBubble&&!n.rootEl&&t!==document&&(kr.parentNode[_p]._isOutsideThisEl(n.target),!St&&TT(n)),!l.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),k=!0}function z(){wp=zm(kr),A2=zm(kr,l.draggable),Cd({sortable:_,name:"change",toEl:e,newIndex:wp,newDraggableIndex:A2,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),t=oy(t,l.draggable,e,!0),A("dragOver"),Qo.eventCanceled)return k;if(kr.contains(n.target)||t.animated&&t.animatingX&&t.animatingY||_._ignoreWhileAnimating===t)return I(!1);if(BH=!1,h&&!l.disabled&&(g?y||(u=Js!==bs):tf===this||(this.lastPutMode=eF.checkPull(this,h,kr,n))&&f.checkPut(this,h,kr,n))){if(S=this._getDirection(n,t)==="vertical",r=hc(kr),A("dragOverValid"),Qo.eventCanceled)return k;if(u)return Js=bs,R(),this._hideClone(),A("revert"),Qo.eventCanceled||(KT?bs.insertBefore(kr,KT):bs.appendChild(kr)),I(!0);var L=vee(e,l.draggable);if(!L||_5e(n,S,this)&&!L.animated){if(L===kr)return I(!1);if(L&&e===n.target&&(t=L),t&&(i=hc(t)),rF(bs,e,kr,r,t,i,n,!!t)!==!1)return R(),L&&L.nextSibling?e.insertBefore(kr,L.nextSibling):e.appendChild(kr),Js=e,z(),I(!0)}else if(L&&w5e(n,S,this)){var q=j3(e,0,l,!0);if(q===kr)return I(!1);if(t=q,i=hc(t),rF(bs,e,kr,r,t,i,n,!1)!==!1)return R(),e.insertBefore(kr,q),Js=e,z(),I(!0)}else if(t.parentNode===e){i=hc(t);var X=0,Y,ae=kr.parentNode!==e,te=!g5e(kr.animated&&kr.toRect||r,t.animated&&t.toRect||i,S),ie=S?"top":"left",le=aie(t,"top","top")||aie(kr,"top","top"),ce=le?le.scrollTop:void 0;XE!==t&&(Y=i[ie],TN=!1,tF=!te&&l.invertSwap||ae),X=S5e(n,t,i,S,te?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,tF,XE===t);var ne;if(X!==0){var Q=zm(kr);do Q-=X,ne=Js.children[Q];while(ne&&(Jo(ne,"display")==="none"||ne===_i))}if(X===0||ne===t)return I(!1);XE=t,CN=X;var Ce=t.nextElementSibling,ze=!1;ze=X===1;var ke=rF(bs,e,kr,r,t,i,n,ze);if(ke!==!1)return(ke===1||ke===-1)&&(ze=ke===1),aQ=!0,setTimeout(x5e,30),R(),ze&&!Ce?e.appendChild(kr):t.parentNode.insertBefore(kr,ze?Ce:t),le&&$de(le,0,ce-le.scrollTop),Js=kr.parentNode,Y!==void 0&&!tF&&(rH=Math.abs(Y-hc(t)[ie])),z(),I(!0)}if(e.contains(kr))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_a(document,"mousemove",this._onTouchMove),_a(document,"touchmove",this._onTouchMove),_a(document,"pointermove",this._onTouchMove),_a(document,"dragover",TT),_a(document,"mousemove",TT),_a(document,"touchmove",TT)},_offUpEvents:function(){var n=this.el.ownerDocument;_a(n,"mouseup",this._onDrop),_a(n,"touchend",this._onDrop),_a(n,"pointerup",this._onDrop),_a(n,"touchcancel",this._onDrop),_a(document,"selectstart",this)},_onDrop:function(n){var e=this.el,t=this.options;if(wp=zm(kr),A2=zm(kr,t.draggable),ph("drop",this,{evt:n}),Js=kr&&kr.parentNode,wp=zm(kr),A2=zm(kr,t.draggable),Qo.eventCanceled){this._nulling();return}p3=!1,tF=!1,TN=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),uQ(this.cloneId),uQ(this._dragStartId),this.nativeDraggable&&(_a(document,"drop",this),_a(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),wN&&Jo(document.body,"user-select",""),Jo(kr,"transform",""),n&&(iN&&(n.cancelable&&n.preventDefault(),!t.dropBubble&&n.stopPropagation()),_i&&_i.parentNode&&_i.parentNode.removeChild(_i),(bs===Js||tf&&tf.lastPutMode!=="clone")&&Ns&&Ns.parentNode&&Ns.parentNode.removeChild(Ns),kr&&(this.nativeDraggable&&_a(kr,"dragend",this),QY(kr),kr.style["will-change"]="",iN&&!p3&&xp(kr,tf?tf.options.ghostClass:this.options.ghostClass,!1),xp(kr,this.options.chosenClass,!1),Cd({sortable:this,name:"unchoose",toEl:Js,newIndex:null,newDraggableIndex:null,originalEvent:n}),bs!==Js?(wp>=0&&(Cd({rootEl:Js,name:"add",toEl:Js,fromEl:bs,originalEvent:n}),Cd({sortable:this,name:"remove",toEl:Js,originalEvent:n}),Cd({rootEl:Js,name:"sort",toEl:Js,fromEl:bs,originalEvent:n}),Cd({sortable:this,name:"sort",toEl:Js,originalEvent:n})),tf&&tf.save()):wp!==x3&&wp>=0&&(Cd({sortable:this,name:"update",toEl:Js,originalEvent:n}),Cd({sortable:this,name:"sort",toEl:Js,originalEvent:n})),Qo.active&&((wp==null||wp===-1)&&(wp=x3,A2=SN),Cd({sortable:this,name:"end",toEl:Js,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){ph("nulling",this),bs=kr=Js=_i=KT=Ns=nH=O2=CT=mv=iN=wp=A2=x3=SN=XE=CN=tf=eF=Qo.dragged=Qo.ghost=Qo.clone=Qo.active=null,FH.forEach(function(n){n.checked=!0}),FH.length=YY=KY=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":kr&&(this._onDragOver(n),b5e(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],e,t=this.el.children,r=0,i=t.length,u=this.options;r<i;r++)e=t[r],oy(e,u.draggable,this.el,!1)&&n.push(e.getAttribute(u.dataIdAttr)||T5e(e));return n},sort:function(n,e){var t={},r=this.el;this.toArray().forEach(function(i,u){var l=r.children[u];oy(l,this.options.draggable,r,!1)&&(t[i]=l)},this),e&&this.captureAnimationState(),n.forEach(function(i){t[i]&&(r.removeChild(t[i]),r.appendChild(t[i]))}),e&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,e){return oy(n,e||this.options.draggable,this.el,!1)},option:function(n,e){var t=this.options;if(e===void 0)return t[n];var r=TL.modifyOption(this,n,e);typeof r<"u"?t[n]=r:t[n]=e,n==="group"&&Kde(t)},destroy:function(){ph("destroy",this);var n=this.el;n[_p]=null,_a(n,"mousedown",this._onTapStart),_a(n,"touchstart",this._onTapStart),_a(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(_a(n,"dragover",this),_a(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),zH.splice(zH.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!O2){if(ph("hideClone",this),Qo.eventCanceled)return;Jo(Ns,"display","none"),this.options.removeCloneOnHide&&Ns.parentNode&&Ns.parentNode.removeChild(Ns),O2=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(O2){if(ph("showClone",this),Qo.eventCanceled)return;kr.parentNode==bs&&!this.options.group.revertClone?bs.insertBefore(Ns,kr):KT?bs.insertBefore(Ns,KT):bs.appendChild(Ns),this.options.group.revertClone&&this.animate(kr,Ns),Jo(Ns,"display",""),O2=!1}}};function b5e(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function rF(n,e,t,r,i,u,l,f){var h,g=n[_p],y=g.options.onMove,b;return window.CustomEvent&&!Fb&&!CL?h=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent("move",!0,!0)),h.to=e,h.from=n,h.dragged=t,h.draggedRect=r,h.related=i||e,h.relatedRect=u||hc(e),h.willInsertAfter=f,h.originalEvent=l,n.dispatchEvent(h),y&&(b=y.call(g,h,l)),b}function QY(n){n.draggable=!1}function x5e(){aQ=!1}function w5e(n,e,t){var r=hc(j3(t.el,0,t.options,!0)),i=10;return e?n.clientX<r.left-i||n.clientY<r.top&&n.clientX<r.right:n.clientY<r.top-i||n.clientY<r.bottom&&n.clientX<r.left}function _5e(n,e,t){var r=hc(vee(t.el,t.options.draggable)),i=10;return e?n.clientX>r.right+i||n.clientX<=r.right&&n.clientY>r.bottom&&n.clientX>=r.left:n.clientX>r.right&&n.clientY>r.top||n.clientX<=r.right&&n.clientY>r.bottom+i}function S5e(n,e,t,r,i,u,l,f){var h=r?n.clientY:n.clientX,g=r?t.height:t.width,y=r?t.top:t.left,b=r?t.bottom:t.right,S=!1;if(!l){if(f&&rH<g*i){if(!TN&&(CN===1?h>y+g*u/2:h<b-g*u/2)&&(TN=!0),TN)S=!0;else if(CN===1?h<y+rH:h>b-rH)return-CN}else if(h>y+g*(1-i)/2&&h<b-g*(1-i)/2)return C5e(e)}return S=S||l,S&&(h<y+g*u/2||h>b-g*u/2)?h>y+g/2?1:-1:0}function C5e(n){return zm(kr)<zm(n)?1:-1}function T5e(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function M5e(n){FH.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&FH.push(r)}}function oH(n){return setTimeout(n,0)}function uQ(n){return clearTimeout(n)}zV&&Ha(document,"touchmove",function(n){(Qo.active||p3)&&n.cancelable&&n.preventDefault()});Qo.utils={on:Ha,off:_a,css:Jo,find:Wde,is:function(n,e){return!!oy(n,e,n,!1)},extend:s5e,throttle:qde,closest:oy,toggleClass:xp,clone:Gde,index:zm,nextTick:oH,cancelNextTick:uQ,detectDirection:Yde,getChild:j3};Qo.get=function(n){return n[_p]};Qo.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Qo.utils=my(my({},Qo.utils),r.utils)),TL.mount(r)})};Qo.create=function(n,e){return new Qo(n,e)};Qo.version=i5e;var Hl=[],aN,sQ,lQ=!1,ZY,eK,HH,uN;function k5e(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?Ha(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ha(document,"pointermove",this._handleFallbackAutoScroll):t.touches?Ha(document,"touchmove",this._handleFallbackAutoScroll):Ha(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?_a(document,"dragover",this._handleAutoScroll):(_a(document,"pointermove",this._handleFallbackAutoScroll),_a(document,"touchmove",this._handleFallbackAutoScroll),_a(document,"mousemove",this._handleFallbackAutoScroll)),fie(),iH(),l5e()},nulling:function(){HH=sQ=aN=lQ=uN=ZY=eK=null,Hl.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var r=this,i=(e.touches?e.touches[0]:e).clientX,u=(e.touches?e.touches[0]:e).clientY,l=document.elementFromPoint(i,u);if(HH=e,t||this.options.forceAutoScrollFallback||CL||Fb||wN){tK(e,this.options,l,t);var f=P2(l,!0);lQ&&(!uN||i!==ZY||u!==eK)&&(uN&&fie(),uN=setInterval(function(){var h=P2(document.elementFromPoint(i,u),!0);h!==f&&(f=h,iH()),tK(e,r.options,h,t)},10),ZY=i,eK=u)}else{if(!this.options.bubbleScroll||P2(l,!0)===cy()){iH();return}tK(e,this.options,P2(l,!1),!1)}}},Ob(n,{pluginName:"scroll",initializeByDefault:!0})}function iH(){Hl.forEach(function(n){clearInterval(n.pid)}),Hl=[]}function fie(){clearInterval(uN)}var tK=qde(function(n,e,t,r){if(e.scroll){var i=(n.touches?n.touches[0]:n).clientX,u=(n.touches?n.touches[0]:n).clientY,l=e.scrollSensitivity,f=e.scrollSpeed,h=cy(),g=!1,y;sQ!==t&&(sQ=t,iH(),aN=e.scroll,y=e.scrollFn,aN===!0&&(aN=P2(t,!0)));var b=0,S=aN;do{var _=S,k=hc(_),A=k.top,R=k.bottom,I=k.left,z=k.right,L=k.width,q=k.height,X=void 0,Y=void 0,ae=_.scrollWidth,te=_.scrollHeight,ie=Jo(_),le=_.scrollLeft,ce=_.scrollTop;_===h?(X=L<ae&&(ie.overflowX==="auto"||ie.overflowX==="scroll"||ie.overflowX==="visible"),Y=q<te&&(ie.overflowY==="auto"||ie.overflowY==="scroll"||ie.overflowY==="visible")):(X=L<ae&&(ie.overflowX==="auto"||ie.overflowX==="scroll"),Y=q<te&&(ie.overflowY==="auto"||ie.overflowY==="scroll"));var ne=X&&(Math.abs(z-i)<=l&&le+L<ae)-(Math.abs(I-i)<=l&&!!le),Q=Y&&(Math.abs(R-u)<=l&&ce+q<te)-(Math.abs(A-u)<=l&&!!ce);if(!Hl[b])for(var Ce=0;Ce<=b;Ce++)Hl[Ce]||(Hl[Ce]={});(Hl[b].vx!=ne||Hl[b].vy!=Q||Hl[b].el!==_)&&(Hl[b].el=_,Hl[b].vx=ne,Hl[b].vy=Q,clearInterval(Hl[b].pid),(ne!=0||Q!=0)&&(g=!0,Hl[b].pid=setInterval((function(){r&&this.layer===0&&Qo.active._onTouchMove(HH);var ze=Hl[this.layer].vy?Hl[this.layer].vy*f:0,ke=Hl[this.layer].vx?Hl[this.layer].vx*f:0;typeof y=="function"&&y.call(Qo.dragged.parentNode[_p],ke,ze,n,HH,Hl[this.layer].el)!=="continue"||$de(Hl[this.layer].el,ke,ze)}).bind({layer:b}),24))),b++}while(e.bubbleScroll&&S!==h&&(S=P2(S,!1)));lQ=g}},30),Zde=function(n){var e=n.originalEvent,t=n.putSortable,r=n.dragEl,i=n.activeSortable,u=n.dispatchSortableEvent,l=n.hideGhostForTarget,f=n.unhideGhostForTarget;if(e){var h=t||i;l();var g=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,y=document.elementFromPoint(g.clientX,g.clientY);f(),h&&!h.el.contains(y)&&(u("spill"),this.onSpill({dragEl:r,putSortable:t}))}};function yee(){}yee.prototype={startIndex:null,dragStart:function(n){var e=n.oldDraggableIndex;this.startIndex=e},onSpill:function(n){var e=n.dragEl,t=n.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var r=j3(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),t&&t.animateAll()},drop:Zde};Ob(yee,{pluginName:"revertOnSpill"});function bee(){}bee.prototype={onSpill:function(n){var e=n.dragEl,t=n.putSortable,r=t||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:Zde};Ob(bee,{pluginName:"removeOnSpill"});Qo.mount(new k5e);Qo.mount(bee,yee);const D5e={},A5e=n=>(bfe("data-v-35a9e64a"),n=n(),xfe(),n),E5e={class:"default-handle"},O5e=A5e(()=>Oa("span",{class:"handle-icon"},[Oa("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"holder",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[Oa("path",{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"})])],-1)),I5e=[O5e];function R5e(n,e){return Fr(),la("div",E5e,I5e)}const P5e=Gf(D5e,[["render",R5e],["__scopeId","data-v-35a9e64a"]]),N5e="drag-sort-table-handle",L5e=ja({__name:"drag-sort-table",props:{dragSortKey:{},size:{},height:{},autoFitHeight:{type:Boolean},columnsState:{},columns:{default:()=>[]},data:{default:()=>[]},border:{type:Boolean},request:{},params:{},pagination:{type:[Object,Boolean]},tableLayout:{},rowKey:{},checkable:{type:Boolean},reserveSelection:{type:Boolean},options:{type:[Boolean,Object]},loading:{type:Boolean},selectedKeys:{},editable:{},transform:{},transformParams:{},alwaysShowAlert:{type:Boolean},autoRequest:{type:Boolean},cacheSelectedData:{}},emits:["dragSortEnd"],setup(n,{emit:e}){const t=n,r=e,{register:i,getTableRef:u}=gee(),{data:l}=AV(t),f=WZ(),h=No(()=>t.columns.map(y=>({...y,render(b){var S;const{row:_}=b,k=[f[y.key]||((S=y==null?void 0:y.render)==null?void 0:S.call(y,b))||_[y.key]];return t.dragSortKey===y.key&&k.unshift(hy(P5e,{style:{marginRight:"10px"},class:g(y.key)})),hy("div",{style:{display:"flex","align-items":"center"}},k)}})));r5(async()=>{if(!t.dragSortKey)return;const y=await u();if(y){const b=y.$el.querySelector("tbody");b.addEventListener("change",S=>{S.stopPropagation()}),Qo.create(b,{handle:t.dragSortKey?`.${g(t.dragSortKey)}`:void 0,animation:200,async onEnd(S){const{newIndex:_,oldIndex:k}=S;if(_===void 0||k===void 0)return;const A=l.value.splice(k,1)[0];l.value.splice(_,0,A),r("dragSortEnd",l.value)}})}});function g(y){return`${N5e}_${y}`}return(y,b)=>(Fr(),Ei(io(Hde),Ed(y.$attrs,{data:io(l),columns:h.value,onRegister:io(i)}),null,16,["data","columns","onRegister"]))}}),B5e=lf(L5e),z5e={class:"editable-pro-table"},F5e={class:"editable-pro-table__operate"},H5e=ja({__name:"editable-pro-table",props:{rowKey:{default:"id"},columns:{default:()=>[]},autoFitHeight:{type:Boolean,default:!0},data:{default:()=>[]},appendPosition:{default:"bottom"},appendErrorText:{},mode:{default:"multiple"},onSave:{},onCancel:{},onDelete:{},onError:{}},emits:["change","appendError"],setup(n,{emit:e}){const t=n,r=e,i=Ao([]),{register:u,startEditable:l,cancelEditable:f,deleteEditable:h,saveEditable:g,hasEditingRow:y}=gee(),b=No(()=>t.columns.map(A=>({editable:!0,...A})));uu(()=>t.data,()=>{i.value=[...t.data]},{immediate:!0});const S=A=>{i.value=A,r("change",i.value)},_=()=>{if(t.mode==="single"&&y()){r("appendError",{message:t.appendErrorText||""});return}const A=new Date().getTime(),R={id:A};t.appendPosition==="top"?i.value.unshift(R):i.value.push(R),l(A)};function k(A){return t.rowKey?A[t.rowKey]:""}return(A,R)=>{const I=ra("el-button"),z=ra("el-popconfirm"),L=ra("el-space");return Fr(),la("div",z5e,[Oa("div",{class:"editable-pro-table__table",style:n5({height:A.autoFitHeight?"calc(100% - 40px)":""})},[Do(Fde,Ed({columns:b.value,pagination:!1,data:i.value,editable:{mode:A.mode,onSave:A.onSave,onError:A.onError,onCancel:A.onCancel,onDelete:A.onDelete,onChange:S},"auto-fit-height":A.autoFitHeight,options:!1},A.$attrs,{onRegister:io(u)}),{operation:go(({row:q,editableState:X})=>[Do(L,null,{default:go(()=>[!X||!X.isEdit?(Fr(),Ei(I,{key:0,type:"primary",link:"",onClick:Y=>io(l)(k(q))},{default:go(()=>[Wf("")]),_:2},1032,["onClick"])):(Fr(),la(kp,{key:1},[Do(I,{type:"primary",link:"",onClick:Y=>io(g)(k(q))},{default:go(()=>[Wf("")]),_:2},1032,["onClick"]),Do(I,{type:"primary",link:"",onClick:Y=>io(f)(k(q))},{default:go(()=>[Wf("")]),_:2},1032,["onClick"])],64)),Do(z,{title:"",onConfirm:Y=>io(h)(k(q))},{reference:go(()=>[Do(I,{type:"danger",link:""},{default:go(()=>[Wf("")]),_:1})]),_:2},1032,["onConfirm"])]),_:2},1024)]),_:1},16,["columns","data","editable","auto-fit-height","onRegister"])],4),Oa("div",F5e,[Do(I,{style:{width:"100%"},icon:io(ySe),onClick:_},{default:go(()=>[Wf("")]),_:1},8,["icon"])])])}}}),V5e=Gf(H5e,[["__scopeId","data-v-937bc36b"]]),j5e=lf(V5e);/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let ehe;const FV=n=>ehe=n,the=Symbol();function cQ(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var MN;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(MN||(MN={}));const U5e=!1;function W5e(){const n=hfe(!0),e=n.run(()=>Ao({}));let t=[],r=[];const i=pfe({install(u){FV(i),i._a=u,u.provide(the,i),u.config.globalProperties.$pinia=i,r.forEach(l=>t.push(l)),r=[]},use(u){return!this._a&&!ZEe?r.push(u):t.push(u),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return i}const nhe=()=>{};function die(n,e,t,r=nhe){n.push(e);const i=()=>{const u=n.indexOf(e);u>-1&&(n.splice(u,1),r())};return!t&&vfe()&&yfe(i),i}function YE(n,...e){n.slice().forEach(t=>{t(...e)})}const q5e=n=>n();function fQ(n,e){n instanceof Map&&e instanceof Map&&e.forEach((t,r)=>n.set(r,t)),n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t],i=n[t];cQ(i)&&cQ(r)&&n.hasOwnProperty(t)&&!Y2(r)&&!qZ(r)?n[t]=fQ(i,r):n[t]=r}return n}const $5e=Symbol();function G5e(n){return!cQ(n)||!n.hasOwnProperty($5e)}const{assign:T2}=Object;function X5e(n){return!!(Y2(n)&&n.effect)}function Y5e(n,e,t,r){const{state:i,actions:u,getters:l}=e,f=t.state.value[n];let h;function g(){!f&&(t.state.value[n]=i?i():{});const y=AV(t.state.value[n]);return T2(y,u,Object.keys(l||{}).reduce((b,S)=>(b[S]=pfe(No(()=>{FV(t);const _=t._s.get(n);return l[S].call(_,_)})),b),{}))}return h=rhe(n,g,e,t,r,!0),h}function rhe(n,e,t={},r,i,u){let l;const f=T2({actions:{}},t),h={deep:!0};let g,y,b=[],S=[],_;const k=r.state.value[n];!u&&!k&&(r.state.value[n]={}),Ao({});let A;function R(ae){let te;g=y=!1,typeof ae=="function"?(ae(r.state.value[n]),te={type:MN.patchFunction,storeId:n,events:_}):(fQ(r.state.value[n],ae),te={type:MN.patchObject,payload:ae,storeId:n,events:_});const ie=A=Symbol();Sh().then(()=>{A===ie&&(g=!0)}),y=!0,YE(b,te,r.state.value[n])}const I=u?function(){const{state:ae}=t,te=ae?ae():{};this.$patch(ie=>{T2(ie,te)})}:nhe;function z(){l.stop(),b=[],S=[],r._s.delete(n)}function L(ae,te){return function(){FV(r);const ie=Array.from(arguments),le=[],ce=[];function ne(ze){le.push(ze)}function Q(ze){ce.push(ze)}YE(S,{args:ie,name:ae,store:X,after:ne,onError:Q});let Ce;try{Ce=te.apply(this&&this.$id===n?this:X,ie)}catch(ze){throw YE(ce,ze),ze}return Ce instanceof Promise?Ce.then(ze=>(YE(le,ze),ze)).catch(ze=>(YE(ce,ze),Promise.reject(ze))):(YE(le,Ce),Ce)}}const q={_p:r,$id:n,$onAction:die.bind(null,S),$patch:R,$reset:I,$subscribe(ae,te={}){const ie=die(b,ae,te.detached,()=>le()),le=l.run(()=>uu(()=>r.state.value[n],ce=>{(te.flush==="sync"?y:g)&&ae({storeId:n,type:MN.direct,events:_},ce)},T2({},h,te)));return ie},$dispose:z},X=Th(q);r._s.set(n,X);const Y=(r._a&&r._a.runWithContext||q5e)(()=>r._e.run(()=>(l=hfe()).run(e)));for(const ae in Y){const te=Y[ae];if(Y2(te)&&!X5e(te)||qZ(te))u||(k&&G5e(te)&&(Y2(te)?te.value=k[ae]:fQ(te,k[ae])),r.state.value[n][ae]=te);else if(typeof te=="function"){const ie=L(ae,te);Y[ae]=ie,f.actions[ae]=te}}return T2(X,Y),T2(R3(X),Y),Object.defineProperty(X,"$state",{get:()=>r.state.value[n],set:ae=>{R(te=>{T2(te,ae)})}}),r._p.forEach(ae=>{T2(X,l.run(()=>ae({store:X,app:r._a,pinia:r,options:f})))}),k&&u&&t.hydrate&&t.hydrate(X.$state,k),g=!0,y=!0,X}function ML(n,e,t){let r,i;const u=typeof e=="function";typeof n=="string"?(r=n,i=u?t:e):(i=n,r=n.id);function l(f,h){const g=oSe();return f=f||(g?dy(the,null):null),f&&FV(f),f=ehe,f._s.has(r)||(u?rhe(r,e,i,f):Y5e(r,i,f)),f._s.get(r)}return l.$id=r,l}function AYe(n){{n=R3(n);const e={};for(const t in n){const r=n[t];(Y2(r)||qZ(r))&&(e[t]=AH(n,t))}return e}}W5e();const K5e="routeStoreKey",EYe=ML(K5e,{state(){return{keepAliveCache:new Set}},actions:{addAlive(n){this.keepAliveCache.add(n)}},getters:{getAliveCache:n=>Array.from(n.keepAliveCache)}});/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const m3=typeof window<"u";function J5e(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const au=Object.assign;function nK(n,e){const t={};for(const r in e){const i=e[r];t[r]=kv(i)?i.map(n):n(i)}return t}const kN=()=>{},kv=Array.isArray,Q5e=/\/$/,Z5e=n=>n.replace(Q5e,"");function rK(n,e,t="/"){let r,i={},u="",l="";const f=e.indexOf("#");let h=e.indexOf("?");return f<h&&f>=0&&(h=-1),h>-1&&(r=e.slice(0,h),u=e.slice(h+1,f>-1?f:e.length),i=n(u)),f>-1&&(r=r||e.slice(0,f),l=e.slice(f,e.length)),r=rOe(r??e,t),{fullPath:r+(u&&"?")+u+l,path:r,query:i,hash:l}}function eOe(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function hie(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function tOe(n,e,t){const r=e.matched.length-1,i=t.matched.length-1;return r>-1&&r===i&&U3(e.matched[r],t.matched[i])&&ohe(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function U3(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function ohe(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!nOe(n[t],e[t]))return!1;return!0}function nOe(n,e){return kv(n)?pie(n,e):kv(e)?pie(e,n):n===e}function pie(n,e){return kv(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function rOe(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let u=t.length-1,l,f;for(l=0;l<r.length;l++)if(f=r[l],f!==".")if(f==="..")u>1&&u--;else break;return t.slice(0,u).join("/")+"/"+r.slice(l-(l===r.length?1:0)).join("/")}var XN;(function(n){n.pop="pop",n.push="push"})(XN||(XN={}));var DN;(function(n){n.back="back",n.forward="forward",n.unknown=""})(DN||(DN={}));function oOe(n){if(!n)if(m3){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Z5e(n)}const iOe=/^[^#]+#/;function aOe(n,e){return n.replace(iOe,"#")+e}function uOe(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const HV=()=>({left:window.pageXOffset,top:window.pageYOffset});function sOe(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),i=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!i)return;e=uOe(i,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function mie(n,e){return(history.state?history.state.position-e:-1)+n}const dQ=new Map;function lOe(n,e){dQ.set(n,e)}function cOe(n){const e=dQ.get(n);return dQ.delete(n),e}let fOe=()=>location.protocol+"//"+location.host;function ihe(n,e){const{pathname:t,search:r,hash:i}=e,u=n.indexOf("#");if(u>-1){let l=i.includes(n.slice(u))?n.slice(u).length:1,f=i.slice(l);return f[0]!=="/"&&(f="/"+f),hie(f,"")}return hie(t,n)+r+i}function dOe(n,e,t,r){let i=[],u=[],l=null;const f=({state:S})=>{const _=ihe(n,location),k=t.value,A=e.value;let R=0;if(S){if(t.value=_,e.value=S,l&&l===k){l=null;return}R=A?S.position-A.position:0}else r(_);i.forEach(I=>{I(t.value,k,{delta:R,type:XN.pop,direction:R?R>0?DN.forward:DN.back:DN.unknown})})};function h(){l=t.value}function g(S){i.push(S);const _=()=>{const k=i.indexOf(S);k>-1&&i.splice(k,1)};return u.push(_),_}function y(){const{history:S}=window;S.state&&S.replaceState(au({},S.state,{scroll:HV()}),"")}function b(){for(const S of u)S();u=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",y)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",y,{passive:!0}),{pauseListeners:h,listen:g,destroy:b}}function gie(n,e,t,r=!1,i=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:i?HV():null}}function hOe(n){const{history:e,location:t}=window,r={value:ihe(n,t)},i={value:e.state};i.value||u(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(h,g,y){const b=n.indexOf("#"),S=b>-1?(t.host&&document.querySelector("base")?n:n.slice(b))+h:fOe()+n+h;try{e[y?"replaceState":"pushState"](g,"",S),i.value=g}catch(_){console.error(_),t[y?"replace":"assign"](S)}}function l(h,g){const y=au({},e.state,gie(i.value.back,h,i.value.forward,!0),g,{position:i.value.position});u(h,y,!0),r.value=h}function f(h,g){const y=au({},i.value,e.state,{forward:h,scroll:HV()});u(y.current,y,!0);const b=au({},gie(r.value,h,null),{position:y.position+1},g);u(h,b,!1),r.value=h}return{location:r,state:i,push:f,replace:l}}function pOe(n){n=oOe(n);const e=hOe(n),t=dOe(n,e.state,e.location,e.replace);function r(u,l=!0){l||t.pauseListeners(),history.go(u)}const i=au({location:"",base:n,go:r,createHref:aOe.bind(null,n)},e,t);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function mOe(n){return typeof n=="string"||n&&typeof n=="object"}function ahe(n){return typeof n=="string"||typeof n=="symbol"}const m2={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},uhe=Symbol("");var vie;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(vie||(vie={}));function W3(n,e){return au(new Error,{type:n,[uhe]:!0},e)}function pb(n,e){return n instanceof Error&&uhe in n&&(e==null||!!(n.type&e))}const yie="[^/]+?",gOe={sensitive:!1,strict:!1,start:!0,end:!0},vOe=/[.+*?^${}()[\]/\\]/g;function yOe(n,e){const t=au({},gOe,e),r=[];let i=t.start?"^":"";const u=[];for(const g of n){const y=g.length?[]:[90];t.strict&&!g.length&&(i+="/");for(let b=0;b<g.length;b++){const S=g[b];let _=40+(t.sensitive?.25:0);if(S.type===0)b||(i+="/"),i+=S.value.replace(vOe,"\\$&"),_+=40;else if(S.type===1){const{value:k,repeatable:A,optional:R,regexp:I}=S;u.push({name:k,repeatable:A,optional:R});const z=I||yie;if(z!==yie){_+=10;try{new RegExp(`(${z})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${k}" (${z}): `+q.message)}}let L=A?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;b||(L=R&&g.length<2?`(?:/${L})`:"/"+L),R&&(L+="?"),i+=L,_+=20,R&&(_+=-8),A&&(_+=-20),z===".*"&&(_+=-50)}y.push(_)}r.push(y)}if(t.strict&&t.end){const g=r.length-1;r[g][r[g].length-1]+=.7000000000000001}t.strict||(i+="/?"),t.end?i+="$":t.strict&&(i+="(?:/|$)");const l=new RegExp(i,t.sensitive?"":"i");function f(g){const y=g.match(l),b={};if(!y)return null;for(let S=1;S<y.length;S++){const _=y[S]||"",k=u[S-1];b[k.name]=_&&k.repeatable?_.split("/"):_}return b}function h(g){let y="",b=!1;for(const S of n){(!b||!y.endsWith("/"))&&(y+="/"),b=!1;for(const _ of S)if(_.type===0)y+=_.value;else if(_.type===1){const{value:k,repeatable:A,optional:R}=_,I=k in g?g[k]:"";if(kv(I)&&!A)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const z=kv(I)?I.join("/"):I;if(!z)if(R)S.length<2&&(y.endsWith("/")?y=y.slice(0,-1):b=!0);else throw new Error(`Missing required param "${k}"`);y+=z}}return y||"/"}return{re:l,score:r,keys:u,parse:f,stringify:h}}function bOe(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function xOe(n,e){let t=0;const r=n.score,i=e.score;for(;t<r.length&&t<i.length;){const u=bOe(r[t],i[t]);if(u)return u;t++}if(Math.abs(i.length-r.length)===1){if(bie(r))return 1;if(bie(i))return-1}return i.length-r.length}function bie(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const wOe={type:0,value:""},_Oe=/[a-zA-Z0-9_]/;function SOe(n){if(!n)return[[]];if(n==="/")return[[wOe]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(_){throw new Error(`ERR (${t})/"${g}": ${_}`)}let t=0,r=t;const i=[];let u;function l(){u&&i.push(u),u=[]}let f=0,h,g="",y="";function b(){g&&(t===0?u.push({type:0,value:g}):t===1||t===2||t===3?(u.length>1&&(h==="*"||h==="+")&&e(`A repeatable param (${g}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:g,regexp:y,repeatable:h==="*"||h==="+",optional:h==="*"||h==="?"})):e("Invalid state to consume buffer"),g="")}function S(){g+=h}for(;f<n.length;){if(h=n[f++],h==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:h==="/"?(g&&b(),l()):h===":"?(b(),t=1):S();break;case 4:S(),t=r;break;case 1:h==="("?t=2:_Oe.test(h)?S():(b(),t=0,h!=="*"&&h!=="?"&&h!=="+"&&f--);break;case 2:h===")"?y[y.length-1]=="\\"?y=y.slice(0,-1)+h:t=3:y+=h;break;case 3:b(),t=0,h!=="*"&&h!=="?"&&h!=="+"&&f--,y="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${g}"`),b(),l(),i}function COe(n,e,t){const r=yOe(SOe(n.path),t),i=au(r,{record:n,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function she(n,e){const t=[],r=new Map;e=_ie({strict:!1,end:!0,sensitive:!1},e);function i(y){return r.get(y)}function u(y,b,S){const _=!S,k=TOe(y);k.aliasOf=S&&S.record;const A=_ie(e,y),R=[k];if("alias"in y){const L=typeof y.alias=="string"?[y.alias]:y.alias;for(const q of L)R.push(au({},k,{components:S?S.record.components:k.components,path:q,aliasOf:S?S.record:k}))}let I,z;for(const L of R){const{path:q}=L;if(b&&q[0]!=="/"){const X=b.record.path,Y=X[X.length-1]==="/"?"":"/";L.path=b.record.path+(q&&Y+q)}if(I=COe(L,b,A),S?S.alias.push(I):(z=z||I,z!==I&&z.alias.push(I),_&&y.name&&!wie(I)&&l(y.name)),k.children){const X=k.children;for(let Y=0;Y<X.length;Y++)u(X[Y],I,S&&S.children[Y])}S=S||I,(I.record.components&&Object.keys(I.record.components).length||I.record.name||I.record.redirect)&&h(I)}return z?()=>{l(z)}:kN}function l(y){if(ahe(y)){const b=r.get(y);b&&(r.delete(y),t.splice(t.indexOf(b),1),b.children.forEach(l),b.alias.forEach(l))}else{const b=t.indexOf(y);b>-1&&(t.splice(b,1),y.record.name&&r.delete(y.record.name),y.children.forEach(l),y.alias.forEach(l))}}function f(){return t}function h(y){let b=0;for(;b<t.length&&xOe(y,t[b])>=0&&(y.record.path!==t[b].record.path||!lhe(y,t[b]));)b++;t.splice(b,0,y),y.record.name&&!wie(y)&&r.set(y.record.name,y)}function g(y,b){let S,_={},k,A;if("name"in y&&y.name){if(S=r.get(y.name),!S)throw W3(1,{location:y});A=S.record.name,_=au(xie(b.params,S.keys.filter(z=>!z.optional).map(z=>z.name)),y.params&&xie(y.params,S.keys.map(z=>z.name))),k=S.stringify(_)}else if("path"in y)k=y.path,S=t.find(z=>z.re.test(k)),S&&(_=S.parse(k),A=S.record.name);else{if(S=b.name?r.get(b.name):t.find(z=>z.re.test(b.path)),!S)throw W3(1,{location:y,currentLocation:b});A=S.record.name,_=au({},b.params,y.params),k=S.stringify(_)}const R=[];let I=S;for(;I;)R.unshift(I.record),I=I.parent;return{name:A,path:k,params:_,matched:R,meta:kOe(R)}}return n.forEach(y=>u(y)),{addRoute:u,resolve:g,removeRoute:l,getRoutes:f,getRecordMatcher:i}}function xie(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function TOe(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:MOe(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function MOe(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="object"?t[r]:t;return e}function wie(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function kOe(n){return n.reduce((e,t)=>au(e,t.meta),{})}function _ie(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function lhe(n,e){return e.children.some(t=>t===n||lhe(n,t))}const che=/#/g,DOe=/&/g,AOe=/\//g,EOe=/=/g,OOe=/\?/g,fhe=/\+/g,IOe=/%5B/g,ROe=/%5D/g,dhe=/%5E/g,POe=/%60/g,hhe=/%7B/g,NOe=/%7C/g,phe=/%7D/g,LOe=/%20/g;function xee(n){return encodeURI(""+n).replace(NOe,"|").replace(IOe,"[").replace(ROe,"]")}function BOe(n){return xee(n).replace(hhe,"{").replace(phe,"}").replace(dhe,"^")}function hQ(n){return xee(n).replace(fhe,"%2B").replace(LOe,"+").replace(che,"%23").replace(DOe,"%26").replace(POe,"`").replace(hhe,"{").replace(phe,"}").replace(dhe,"^")}function zOe(n){return hQ(n).replace(EOe,"%3D")}function FOe(n){return xee(n).replace(che,"%23").replace(OOe,"%3F")}function HOe(n){return n==null?"":FOe(n).replace(AOe,"%2F")}function VH(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function VOe(n){const e={};if(n===""||n==="?")return e;const t=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<t.length;++r){const i=t[r].replace(fhe," "),u=i.indexOf("="),l=VH(u<0?i:i.slice(0,u)),f=u<0?null:VH(i.slice(u+1));if(l in e){let h=e[l];kv(h)||(h=e[l]=[h]),h.push(f)}else e[l]=f}return e}function Sie(n){let e="";for(let t in n){const r=n[t];if(t=zOe(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(kv(r)?r.map(i=>i&&hQ(i)):[r&&hQ(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+t,i!=null&&(e+="="+i))})}return e}function jOe(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=kv(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const UOe=Symbol(""),Cie=Symbol(""),VV=Symbol(""),wee=Symbol(""),pQ=Symbol("");function DP(){let n=[];function e(r){return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function E2(n,e,t,r,i){const u=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,f)=>{const h=b=>{b===!1?f(W3(4,{from:t,to:e})):b instanceof Error?f(b):mOe(b)?f(W3(2,{from:e,to:b})):(u&&r.enterCallbacks[i]===u&&typeof b=="function"&&u.push(b),l())},g=n.call(r&&r.instances[i],e,t,h);let y=Promise.resolve(g);n.length<3&&(y=y.then(h)),y.catch(b=>f(b))})}function oK(n,e,t,r){const i=[];for(const u of n)for(const l in u.components){let f=u.components[l];if(!(e!=="beforeRouteEnter"&&!u.instances[l]))if(WOe(f)){const h=(f.__vccOpts||f)[e];h&&i.push(E2(h,t,r,u,l))}else{let h=f();i.push(()=>h.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${u.path}"`));const y=J5e(g)?g.default:g;u.components[l]=y;const b=(y.__vccOpts||y)[e];return b&&E2(b,t,r,u,l)()}))}}return i}function WOe(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Tie(n){const e=dy(VV),t=dy(wee),r=No(()=>e.resolve(io(n.to))),i=No(()=>{const{matched:h}=r.value,{length:g}=h,y=h[g-1],b=t.matched;if(!y||!b.length)return-1;const S=b.findIndex(U3.bind(null,y));if(S>-1)return S;const _=Mie(h[g-2]);return g>1&&Mie(y)===_&&b[b.length-1].path!==_?b.findIndex(U3.bind(null,h[g-2])):S}),u=No(()=>i.value>-1&&XOe(t.params,r.value.params)),l=No(()=>i.value>-1&&i.value===t.matched.length-1&&ohe(t.params,r.value.params));function f(h={}){return GOe(h)?e[io(n.replace)?"replace":"push"](io(n.to)).catch(kN):Promise.resolve()}return{route:r,href:No(()=>r.value.href),isActive:u,isExactActive:l,navigate:f}}const qOe=ja({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Tie,setup(n,{slots:e}){const t=Th(Tie(n)),{options:r}=dy(VV),i=No(()=>({[kie(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[kie(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const u=e.default&&e.default(t);return n.custom?u:hy("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:i.value},u)}}}),$Oe=qOe;function GOe(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function XOe(n,e){for(const t in e){const r=e[t],i=n[t];if(typeof r=="string"){if(r!==i)return!1}else if(!kv(i)||i.length!==r.length||r.some((u,l)=>u!==i[l]))return!1}return!0}function Mie(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const kie=(n,e,t)=>n??e??t,YOe=ja({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=dy(pQ),i=No(()=>n.route||r.value),u=dy(Cie,0),l=No(()=>{let g=io(u);const{matched:y}=i.value;let b;for(;(b=y[g])&&!b.components;)g++;return g}),f=No(()=>i.value.matched[l.value]);vN(Cie,No(()=>l.value+1)),vN(UOe,f),vN(pQ,i);const h=Ao();return uu(()=>[h.value,f.value,n.name],([g,y,b],[S,_,k])=>{y&&(y.instances[b]=g,_&&_!==y&&g&&g===S&&(y.leaveGuards.size||(y.leaveGuards=_.leaveGuards),y.updateGuards.size||(y.updateGuards=_.updateGuards))),g&&y&&(!_||!U3(y,_)||!S)&&(y.enterCallbacks[b]||[]).forEach(A=>A(g))},{flush:"post"}),()=>{const g=i.value,y=n.name,b=f.value,S=b&&b.components[y];if(!S)return Die(t.default,{Component:S,route:g});const _=b.props[y],k=_?_===!0?g.params:typeof _=="function"?_(g):_:null,A=hy(S,au({},k,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(b.instances[y]=null)},ref:h}));return Die(t.default,{Component:A,route:g})||A}}});function Die(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const KOe=YOe;function JOe(n){const e=she(n.routes,n),t=n.parseQuery||VOe,r=n.stringifyQuery||Sie,i=n.history,u=DP(),l=DP(),f=DP(),h=gfe(m2);let g=m2;m3&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const y=nK.bind(null,fe=>""+fe),b=nK.bind(null,HOe),S=nK.bind(null,VH);function _(fe,Yt){let Ye,je;return ahe(fe)?(Ye=e.getRecordMatcher(fe),je=Yt):je=fe,e.addRoute(je,Ye)}function k(fe){const Yt=e.getRecordMatcher(fe);Yt&&e.removeRoute(Yt)}function A(){return e.getRoutes().map(fe=>fe.record)}function R(fe){return!!e.getRecordMatcher(fe)}function I(fe,Yt){if(Yt=au({},Yt||h.value),typeof fe=="string"){const st=rK(t,fe,Yt.path),Ft=e.resolve({path:st.path},Yt),Ct=i.createHref(st.fullPath);return au(st,Ft,{params:S(Ft.params),hash:VH(st.hash),redirectedFrom:void 0,href:Ct})}let Ye;if("path"in fe)Ye=au({},fe,{path:rK(t,fe.path,Yt.path).path});else{const st=au({},fe.params);for(const Ft in st)st[Ft]==null&&delete st[Ft];Ye=au({},fe,{params:b(st)}),Yt.params=b(Yt.params)}const je=e.resolve(Ye,Yt),bt=fe.hash||"";je.params=y(S(je.params));const qe=eOe(r,au({},fe,{hash:BOe(bt),path:je.path})),Je=i.createHref(qe);return au({fullPath:qe,hash:bt,query:r===Sie?jOe(fe.query):fe.query||{}},je,{redirectedFrom:void 0,href:Je})}function z(fe){return typeof fe=="string"?rK(t,fe,h.value.path):au({},fe)}function L(fe,Yt){if(g!==fe)return W3(8,{from:Yt,to:fe})}function q(fe){return ae(fe)}function X(fe){return q(au(z(fe),{replace:!0}))}function Y(fe){const Yt=fe.matched[fe.matched.length-1];if(Yt&&Yt.redirect){const{redirect:Ye}=Yt;let je=typeof Ye=="function"?Ye(fe):Ye;return typeof je=="string"&&(je=je.includes("?")||je.includes("#")?je=z(je):{path:je},je.params={}),au({query:fe.query,hash:fe.hash,params:"path"in je?{}:fe.params},je)}}function ae(fe,Yt){const Ye=g=I(fe),je=h.value,bt=fe.state,qe=fe.force,Je=fe.replace===!0,st=Y(Ye);if(st)return ae(au(z(st),{state:typeof st=="object"?au({},bt,st.state):bt,force:qe,replace:Je}),Yt||Ye);const Ft=Ye;Ft.redirectedFrom=Yt;let Ct;return!qe&&tOe(r,je,Ye)&&(Ct=W3(16,{to:Ft,from:je}),Ge(je,je,!0,!1)),(Ct?Promise.resolve(Ct):le(Ft,je)).catch(Rt=>pb(Rt)?pb(Rt,2)?Rt:We(Rt):tt(Rt,Ft,je)).then(Rt=>{if(Rt){if(pb(Rt,2))return ae(au({replace:Je},z(Rt.to),{state:typeof Rt.to=="object"?au({},bt,Rt.to.state):bt,force:qe}),Yt||Ft)}else Rt=ne(Ft,je,!0,Je,bt);return ce(Ft,je,Rt),Rt})}function te(fe,Yt){const Ye=L(fe,Yt);return Ye?Promise.reject(Ye):Promise.resolve()}function ie(fe){const Yt=kt.values().next().value;return Yt&&typeof Yt.runWithContext=="function"?Yt.runWithContext(fe):fe()}function le(fe,Yt){let Ye;const[je,bt,qe]=QOe(fe,Yt);Ye=oK(je.reverse(),"beforeRouteLeave",fe,Yt);for(const st of je)st.leaveGuards.forEach(Ft=>{Ye.push(E2(Ft,fe,Yt))});const Je=te.bind(null,fe,Yt);return Ye.push(Je),Nt(Ye).then(()=>{Ye=[];for(const st of u.list())Ye.push(E2(st,fe,Yt));return Ye.push(Je),Nt(Ye)}).then(()=>{Ye=oK(bt,"beforeRouteUpdate",fe,Yt);for(const st of bt)st.updateGuards.forEach(Ft=>{Ye.push(E2(Ft,fe,Yt))});return Ye.push(Je),Nt(Ye)}).then(()=>{Ye=[];for(const st of qe)if(st.beforeEnter)if(kv(st.beforeEnter))for(const Ft of st.beforeEnter)Ye.push(E2(Ft,fe,Yt));else Ye.push(E2(st.beforeEnter,fe,Yt));return Ye.push(Je),Nt(Ye)}).then(()=>(fe.matched.forEach(st=>st.enterCallbacks={}),Ye=oK(qe,"beforeRouteEnter",fe,Yt),Ye.push(Je),Nt(Ye))).then(()=>{Ye=[];for(const st of l.list())Ye.push(E2(st,fe,Yt));return Ye.push(Je),Nt(Ye)}).catch(st=>pb(st,8)?st:Promise.reject(st))}function ce(fe,Yt,Ye){f.list().forEach(je=>ie(()=>je(fe,Yt,Ye)))}function ne(fe,Yt,Ye,je,bt){const qe=L(fe,Yt);if(qe)return qe;const Je=Yt===m2,st=m3?history.state:{};Ye&&(je||Je?i.replace(fe.fullPath,au({scroll:Je&&st&&st.scroll},bt)):i.push(fe.fullPath,bt)),h.value=fe,Ge(fe,Yt,Ye,Je),We()}let Q;function Ce(){Q||(Q=i.listen((fe,Yt,Ye)=>{const je=I(fe),bt=Y(je);if(bt){ae(au(bt,{replace:!0}),je).catch(kN);return}g=je;const qe=h.value;m3&&lOe(mie(qe.fullPath,Ye.delta),HV()),le(je,qe).catch(Je=>pb(Je,12)?Je:pb(Je,2)?(ae(Je.to,je).then(st=>{pb(st,20)&&!Ye.delta&&Ye.type===XN.pop&&i.go(-1,!1)}).catch(kN),Promise.reject()):(Ye.delta&&i.go(-Ye.delta,!1),tt(Je,je,qe))).then(Je=>{Je=Je||ne(je,qe,!1),Je&&(Ye.delta&&!pb(Je,8)?i.go(-Ye.delta,!1):Ye.type===XN.pop&&pb(Je,20)&&i.go(-1,!1)),ce(je,qe,Je)}).catch(kN)}))}let ze=DP(),ke=DP(),St;function tt(fe,Yt,Ye){We(fe);const je=ke.list();return je.length?je.forEach(bt=>bt(fe,Yt,Ye)):console.error(fe),Promise.reject(fe)}function G(){return St&&h.value!==m2?Promise.resolve():new Promise((fe,Yt)=>{ze.add([fe,Yt])})}function We(fe){return St||(St=!fe,Ce(),ze.list().forEach(([Yt,Ye])=>fe?Ye(fe):Yt()),ze.reset()),fe}function Ge(fe,Yt,Ye,je){const{scrollBehavior:bt}=n;if(!m3||!bt)return Promise.resolve();const qe=!Ye&&cOe(mie(fe.fullPath,0))||(je||!Ye)&&history.state&&history.state.scroll||null;return Sh().then(()=>bt(fe,Yt,qe)).then(Je=>Je&&sOe(Je)).catch(Je=>tt(Je,fe,Yt))}const pt=fe=>i.go(fe);let Ze;const kt=new Set,Ot={currentRoute:h,listening:!0,addRoute:_,removeRoute:k,hasRoute:R,getRoutes:A,resolve:I,options:n,push:q,replace:X,go:pt,back:()=>pt(-1),forward:()=>pt(1),beforeEach:u.add,beforeResolve:l.add,afterEach:f.add,onError:ke.add,isReady:G,install(fe){const Yt=this;fe.component("RouterLink",$Oe),fe.component("RouterView",KOe),fe.config.globalProperties.$router=Yt,Object.defineProperty(fe.config.globalProperties,"$route",{enumerable:!0,get:()=>io(h)}),m3&&!Ze&&h.value===m2&&(Ze=!0,q(i.location).catch(bt=>{}));const Ye={};for(const bt in m2)Object.defineProperty(Ye,bt,{get:()=>h.value[bt],enumerable:!0});fe.provide(VV,Yt),fe.provide(wee,iSe(Ye)),fe.provide(pQ,h);const je=fe.unmount;kt.add(fe),fe.unmount=function(){kt.delete(fe),kt.size<1&&(g=m2,Q&&Q(),Q=null,h.value=m2,Ze=!1,St=!1),je()}}};function Nt(fe){return fe.reduce((Yt,Ye)=>Yt.then(()=>ie(Ye)),Promise.resolve())}return Ot}function QOe(n,e){const t=[],r=[],i=[],u=Math.max(e.matched.length,n.matched.length);for(let l=0;l<u;l++){const f=e.matched[l];f&&(n.matched.find(g=>U3(g,f))?r.push(f):t.push(f));const h=n.matched[l];h&&(e.matched.find(g=>U3(g,h))||i.push(h))}return[t,r,i]}function OYe(){return dy(VV)}function IYe(){return dy(wee)}function mhe(n,e){return JOe({routes:n,history:pOe("/"),...e})}async function ZOe(n){const e=n;function t(l){var f,h;if(!l||!Reflect.has(l,"children")||!((f=l.children)!=null&&f.length))return!1;const g=l.children;let y=!1;for(let b=0;b<g.length;b++)if((h=g[b].children)!=null&&h.length){y=!0;break}return y}function r(l){var f;const h=mhe([l]).getRoutes();i(h,l.children||[],l),l.children=(f=l.children)==null?void 0:f.map(g=>Zfe(g,"children"))}function i(l,f,h){var g;for(let y=0;y<f.length;y++){const b=f[y],S=l.find(_=>_.name===b.name);S&&(h.children=h.children||[],h.children.find(_=>_.name===S.name)||h.children.push(S),(g=b.children)!=null&&g.length&&i(l,b.children,h))}}function u(l){const f=qN(l);for(let h=0;h<f.length;h++){const g=f[h];t(g)&&r(g)}return f}return u(e)}function ghe(n,e=""){var t,r;for(let i=0;i<n.length;i++){const u=n[i];u.path.startsWith("/")||(u.path=`${e}/${u.path}`),(t=u==null?void 0:u.children)!=null&&t.length&&ghe(u.children,(r=u.meta)!=null&&r.hidePathForChildren?e:u.path)}}function e4e(n){const e=t(qN(n));function t(i){return i.map(u=>{var l,f;let h={...u};const g=u.children;return g&&g.length&&(h.children=t(g||[]),((l=h.children)==null?void 0:l.length)===1&&((f=h.meta)==null?void 0:f.hideChildrenInMenu)!==!1&&(h={...h.children[0],meta:Object.assign(h.meta||{},h.children[0].meta)})),h})}const r=NAe(e,{conversion:i=>{const{name:u}=i;return{meta:i.meta,name:u,path:i.path}}});return ghe(r),qN(r)}function t4e(n){return n.sort((e,t)=>{var r,i;return(((r=e.meta)==null?void 0:r.order)||Number.POSITIVE_INFINITY)-(((i=t.meta)==null?void 0:i.order)||Number.POSITIVE_INFINITY)})}var n4e={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(n,e){(function(t,r){n.exports=r()})(N3,function(){var t={};t.version="0.2.0";var r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(k){var A,R;for(A in k)R=k[A],R!==void 0&&k.hasOwnProperty(A)&&(r[A]=R);return this},t.status=null,t.set=function(k){var A=t.isStarted();k=i(k,r.minimum,1),t.status=k===1?null:k;var R=t.render(!A),I=R.querySelector(r.barSelector),z=r.speed,L=r.easing;return R.offsetWidth,f(function(q){r.positionUsing===""&&(r.positionUsing=t.getPositioningCSS()),h(I,l(k,z,L)),k===1?(h(R,{transition:"none",opacity:1}),R.offsetWidth,setTimeout(function(){h(R,{transition:"all "+z+"ms linear",opacity:0}),setTimeout(function(){t.remove(),q()},z)},z)):setTimeout(q,z)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var k=function(){setTimeout(function(){t.status&&(t.trickle(),k())},r.trickleSpeed)};return r.trickle&&k(),this},t.done=function(k){return!k&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(k){var A=t.status;return A?(typeof k!="number"&&(k=(1-A)*i(Math.random()*A,.1,.95)),A=i(A+k,0,.994),t.set(A)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},function(){var k=0,A=0;t.promise=function(R){return!R||R.state()==="resolved"?this:(A===0&&t.start(),k++,A++,R.always(function(){A--,A===0?(k=0,t.done()):t.set((k-A)/k)}),this)}}(),t.render=function(k){if(t.isRendered())return document.getElementById("nprogress");y(document.documentElement,"nprogress-busy");var A=document.createElement("div");A.id="nprogress",A.innerHTML=r.template;var R=A.querySelector(r.barSelector),I=k?"-100":u(t.status||0),z=document.querySelector(r.parent),L;return h(R,{transition:"all 0 linear",transform:"translate3d("+I+"%,0,0)"}),r.showSpinner||(L=A.querySelector(r.spinnerSelector),L&&_(L)),z!=document.body&&y(z,"nprogress-custom-parent"),z.appendChild(A),A},t.remove=function(){b(document.documentElement,"nprogress-busy"),b(document.querySelector(r.parent),"nprogress-custom-parent");var k=document.getElementById("nprogress");k&&_(k)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var k=document.body.style,A="WebkitTransform"in k?"Webkit":"MozTransform"in k?"Moz":"msTransform"in k?"ms":"OTransform"in k?"O":"";return A+"Perspective"in k?"translate3d":A+"Transform"in k?"translate":"margin"};function i(k,A,R){return k<A?A:k>R?R:k}function u(k){return(-1+k)*100}function l(k,A,R){var I;return r.positionUsing==="translate3d"?I={transform:"translate3d("+u(k)+"%,0,0)"}:r.positionUsing==="translate"?I={transform:"translate("+u(k)+"%,0)"}:I={"margin-left":u(k)+"%"},I.transition="all "+A+"ms "+R,I}var f=function(){var k=[];function A(){var R=k.shift();R&&R(A)}return function(R){k.push(R),k.length==1&&A()}}(),h=function(){var k=["Webkit","O","Moz","ms"],A={};function R(q){return q.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(X,Y){return Y.toUpperCase()})}function I(q){var X=document.body.style;if(q in X)return q;for(var Y=k.length,ae=q.charAt(0).toUpperCase()+q.slice(1),te;Y--;)if(te=k[Y]+ae,te in X)return te;return q}function z(q){return q=R(q),A[q]||(A[q]=I(q))}function L(q,X,Y){X=z(X),q.style[X]=Y}return function(q,X){var Y=arguments,ae,te;if(Y.length==2)for(ae in X)te=X[ae],te!==void 0&&X.hasOwnProperty(ae)&&L(q,ae,te);else L(q,Y[1],Y[2])}}();function g(k,A){var R=typeof k=="string"?k:S(k);return R.indexOf(" "+A+" ")>=0}function y(k,A){var R=S(k),I=R+A;g(R,A)||(k.className=I.substring(1))}function b(k,A){var R=S(k),I;g(k,A)&&(I=R.replace(" "+A+" "," "),k.className=I.substring(1,I.length-1))}function S(k){return(" "+(k.className||"")+" ").replace(/\s+/gi," ")}function _(k){k&&k.parentNode&&k.parentNode.removeChild(k)}return t})})(n4e);var a5=(n=>(n.TOKEN="__TOKEN__",n.USER_INFO="__USER_INFO__",n.LAYOUT="__LAYOUT__",n.PERMISSIONS="_PERMISSIONS_",n))(a5||{}),jH=(n=>(n.ROLE="ROLE",n.ROUTE_MAPPING="ROUTE_MAPPING",n))(jH||{});function r4e(n){return yL(n)}const AP={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},vhe=r4e({baseApiUrl:AP.VITE_APP_API_BASE_URL,casBaseUrl:AP.VITE_CAS_BASE_URL,projectTitle:AP.VITE_APP_TITLE,projectDesc:AP.VITE_APP_DESC,enableSSO:AP.VITE_ENABLE_SSO,storage:{prefix:"_BASIC_"}}),o4e=vhe.storage.prefix,u5=RAe({prefixKey:o4e});function i4e(n){u5.set(a5.USER_INFO,n)}function a4e(n){u5.set(a5.TOKEN,n)}function yhe(n){u5.set(a5.PERMISSIONS,n)}function u4e(){return u5.get(a5.PERMISSIONS)}function s4e(n){return u5.set(a5.LAYOUT,n)}const l4e=()=>{u5.clearAll()},xy=()=>ai(()=>import("./basic-layout-820bddc8.kTO8HHaG.js"),__vite__mapDeps([0,1,2,3,4])),N2=()=>Promise.resolve({name:"BlankContainer",setup(){return()=>hy("div")}}),c4e="Login",f4e="/login",d4e="PageNotFound",iK="Redirect",h4e=[{name:"Charts",path:"/charts",meta:{title:"",order:20,icon:"ep.document"},redirect:{name:"Echarts"},component:xy,children:[{name:"Echarts",path:"echarts",meta:{title:"echarts",sort:4},component:()=>ai(()=>import("./echarts-ba3bf82b.mhuS0dLM.js"),__vite__mapDeps([5,1,2,3]))}]}],p4e=Object.freeze(Object.defineProperty({__proto__:null,default:h4e},Symbol.toStringTag,{value:"Module"})),m4e=[{name:"Components",path:"/components",meta:{title:"",sort:4,icon:"ep.grid"},redirect:{name:"ProTable"},component:xy,children:[{name:"ProTable",path:"pro-table",meta:{title:"ProTable"},component:N2,redirect:{name:"ProTableBasic"},children:[{name:"ProTableBasic",path:"pro-table-basic",meta:{title:"ProTable "},component:()=>ai(()=>import("./pro-table-page-5a2cad46.GVBRESGT.js"),__vite__mapDeps([6,1,2,3]))},{name:"ProTableEdit",path:"pro-table-edit",meta:{title:"ProTable edit ",ignoreAuth:!0},component:()=>ai(()=>import("./pro-table-edit-8539cb97.GHmtP9An.js"),__vite__mapDeps([7,2,1,3]))},{name:"EditableProTable",path:"editable-pro-table",meta:{title:"EditableProTable",ignoreAuth:!0},component:()=>ai(()=>import("./editable-pro-table-dff34c25.YK0V06PE.js"),__vite__mapDeps([8,2,1,3]))},{name:"DragSortTable",path:"drag-sort-table",meta:{title:"DragSortTable",ignoreAuth:!0},component:()=>ai(()=>import("./drag-sort-table-013e5f3f.CeBDehbK.js"),__vite__mapDeps([9,1,2,3]))}]},{name:"Editor",path:"editor",meta:{title:""},component:N2,redirect:{name:"RichEditor"},children:[{name:"RichEditor",path:"rich-editor",meta:{title:"tinymce"},component:()=>ai(()=>import("./rich-editor-6d792732.m0WrZLgG.js"),__vite__mapDeps([10,1,2,3]))}]},{name:"ProForm",path:"pro-form",meta:{title:"ProForm"},component:N2,children:[{name:"ProFormBase",path:"base",meta:{title:""},component:()=>ai(()=>import("./pro-form-06f52e45.dCd79q_k.js"),__vite__mapDeps([11,1,2,3]))},{name:"ProFormRef",path:"ref",meta:{title:" ref ",ignoreAuth:!0},component:()=>ai(()=>import("./pro-form-ref-bc1cba42.p8NKKOFz.js"),__vite__mapDeps([12,1,2,3]))},{name:"ProFromDynamic",path:"dynamic",meta:{title:"",ignoreAuth:!0},component:()=>ai(()=>import("./dynamic-c0ae62b2.a8z3LJoj.js"),__vite__mapDeps([13,1,2,3]))},{name:"ProFormModal",path:"modal",meta:{title:"Modal "},component:()=>ai(()=>import("./modal-form-f24c12df.z7Y30wTH.js"),__vite__mapDeps([14,1,2,3]))},{name:"ProFormDrawer",path:"drawer",meta:{title:"Drawer "},component:()=>ai(()=>import("./drawer-form-bfa8cb51.r2RwrQCz.js"),__vite__mapDeps([15,1]))},{name:"ProFormSteps",path:"steps",meta:{title:"StepsForm "},component:()=>ai(()=>import("./steps-form-fabb545b.3G3aJMI5.js"),__vite__mapDeps([16,1]))}]},{name:"Upload",path:"upload",meta:{title:""},component:()=>ai(()=>import("./Upload-b484ad42.XPwK_jie.js"),__vite__mapDeps([17,2,1,3]))},{name:"Anchor",path:"anchor",meta:{title:""},component:()=>ai(()=>import("./anchor-demo-67e570da.IibJgcNQ.js"),__vite__mapDeps([18,1,2,3]))},{name:"Segmented",path:"segmented",meta:{title:"segmented "},component:()=>ai(()=>import("./segmented-c59cb5ed.QHCacM_I.js"),__vite__mapDeps([19,1,2,3]))},{name:"ContextMenu",path:"context-menu",meta:{title:"",ignoreAuth:!0},component:()=>ai(()=>import("./context-menu-a250dee8.TeFMLdJ-.js"),__vite__mapDeps([20,4,1,2,3]))},{name:"Tree",path:"tree",meta:{title:"Tree",ignoreAuth:!0},component:N2,children:[{name:"TreeSelect",path:"tree-select",meta:{ignoreAuth:!0,title:"TreeSelect"},component:()=>ai(()=>import("./tree-select-95e45bc0.HtuVmOJy.js"),__vite__mapDeps([21,1,2,3]))},{name:"BaseTree",path:"base",meta:{title:"Tree",ignoreAuth:!0},component:()=>ai(()=>import("./tree-9e6f444f.ifpoezG9.js"),__vite__mapDeps([22,1,2,3]))}]}]}],g4e=Object.freeze(Object.defineProperty({__proto__:null,default:m4e},Symbol.toStringTag,{value:"Module"})),v4e={name:"Docs",path:"/docs",meta:{icon:"ep.document",ignoreAuth:!0,title:"",href:"https://qsyjlab.github.io/vite-admin-vue/"},component:N2},y4e=Object.freeze(Object.defineProperty({__proto__:null,default:v4e},Symbol.toStringTag,{value:"Module"})),b4e={name:"Exception",path:"/exception",meta:{title:"",hideChildrenInMenu:!1,ignoreAuth:!0,icon:"ep.warning-filled"},component:xy,children:[{name:"404",path:"404",meta:{ignoreAuth:!0,title:"404"},component:()=>ai(()=>import("./error-404-0057fae5.f0H56Alt.js"),__vite__mapDeps([23,1,2,3]))},{name:"403",path:"403",meta:{title:"403",ignoreAuth:!0},component:()=>ai(()=>import("./error-403-824918e4.yzOC6uA2.js"),__vite__mapDeps([24,1,2,3]))}]},x4e=Object.freeze(Object.defineProperty({__proto__:null,default:b4e},Symbol.toStringTag,{value:"Module"})),w4e=[{name:"Feature",path:"/feature",meta:{title:"",icon:"ify.iconoir:git-fork"},redirect:"/feature/watermark",component:xy,children:[{name:"Watermark",path:"watermark",meta:{title:""},component:()=>ai(()=>import("./watermark-8eee907d.yAwByBfK.js"),__vite__mapDeps([25,1,2,3]))},{name:"Qrcode",path:"qrcode",meta:{title:""},component:()=>ai(()=>import("./qrcode-427b57fa.a8VqjhDC.js"),__vite__mapDeps([26,1,2,3]))},{name:"TabPage",path:"tab-page",meta:{title:""},component:()=>ai(()=>import("./tab-page-04c7a929.dFLVYJNt.js"),__vite__mapDeps([27,28,1,2,3])),children:[{name:"TabPageDetail",path:"detail/:id",meta:{title:"",hideInMenu:!0},component:()=>ai(()=>import("./detail-af8cbfff.qN8kbvxp.js"),__vite__mapDeps([29,28,1,2,3]))}]},{name:"ImageViewer",path:"image-viewer",meta:{title:""},component:()=>ai(()=>import("./image-viwer-6784e2c1.qJogc6la.js"),__vite__mapDeps([30,1,2,3]))},{name:"Message",path:"message",meta:{title:""},component:()=>ai(()=>import("./message-6ebbed22.whxvVUgo.js"),__vite__mapDeps([31,2,1,3]))},{name:"Encrypt",path:"encrypt",meta:{title:""},component:()=>ai(()=>import("./encrypt-aa65d009.pf9vFp3N.js"),__vite__mapDeps([32,1,2,3]))},{name:"Print",path:"print",meta:{title:"",ignoreAuth:!0},component:()=>ai(()=>import("./print-6fdaa8d1.JrvDtvMH.js"),__vite__mapDeps([33,34,1,2,3]))},{name:"Excel",path:"excel",meta:{title:"Excel",ignoreAuth:!0},component:N2,children:[{name:"ExcelBase",path:"base",meta:{title:"",ignoreAuth:!0},component:()=>ai(()=>import("./excel-6e39550e.CLrYUjQs.js"),__vite__mapDeps([35,36,1,2,3]))},{name:"ExcelBaseMutiHeader",path:"mutiple-header",meta:{title:"",ignoreAuth:!0},component:()=>ai(()=>import("./mutiple-header-f04dafa9.-ExmYl7W.js"),__vite__mapDeps([37,36,1,2,3]))},{name:"ExcelImport",path:"import",meta:{title:"",ignoreAuth:!0},component:()=>ai(()=>import("./import-4fe3fa6a.P9vZVXAN.js"),__vite__mapDeps([38,36,1,2,3]))}]},{name:"docx",path:"docx",meta:{title:"docx",ignoreAuth:!0,hideChildrenInMenu:!1},component:N2,children:[{name:"HtmlToDocx",path:"html-to-docx",meta:{title:"docx",ignoreAuth:!0},component:()=>ai(()=>import("./html-to-docx-30ce8939.DQzaMUp8.js"),__vite__mapDeps([39,40,1,2,3]))},{name:"RichDocx",path:"rich-docx-template",meta:{title:"",ignoreAuth:!0},component:()=>ai(()=>import("./template-9e055fb9.4oADivRI.js"),__vite__mapDeps([41,40,1,2,3]))}]}]}],_4e=Object.freeze(Object.defineProperty({__proto__:null,default:w4e},Symbol.toStringTag,{value:"Module"})),S4e=[{path:"/welcome",name:"Welcome",meta:{title:"Welcome",order:10,icon:"ep.home-filled",hideInTab:!0},redirect:{name:"WelcomeIndex"},component:xy,children:[{path:"index",name:"WelcomeIndex",meta:{title:"Welcome",icon:"ep.home-filled",affixTab:!0,hideInBreadcrumb:!0},component:()=>ai(()=>import("./WelcomeTo-b1d10aca.sXeD3P3v.js"),__vite__mapDeps([42,1,2,3]))}]},{path:"/dashboard",name:"Dashboard",meta:{title:"Dashboard",icon:"ep.stopwatch",hideChildrenInMenu:!0},redirect:{name:"DashboardIndex"},component:()=>ai(()=>import("./basic-layout-820bddc8.kTO8HHaG.js"),__vite__mapDeps([0,1,2,3,4])),children:[{path:"index",name:"DashboardIndex",meta:{title:"Dashboard",sort:2,icon:"ep.stopwatch",currentActiveMenu:"Dashboard",hideInBreadcrumb:!0,hideInMenu:!0},component:()=>ai(()=>import("./WelcomeTo-b1d10aca.sXeD3P3v.js"),__vite__mapDeps([42,1,2,3])),children:[]}]}],C4e=Object.freeze(Object.defineProperty({__proto__:null,default:S4e},Symbol.toStringTag,{value:"Module"})),T4e=[{path:"/hooks",name:"Hooks",meta:{title:"Hooks",sort:1,icon:"ep.home-filled"},redirect:{name:"UseDialog"},component:xy,children:[{path:"use-dialog",name:"UseDialog",meta:{title:"useDialog",sort:1,icon:"ep.home-filled"},component:()=>ai(()=>import("./modal-097d6a05.7mtr3C7Q.js"),__vite__mapDeps([43,1,2,3]))}]}],M4e=Object.freeze(Object.defineProperty({__proto__:null,default:T4e},Symbol.toStringTag,{value:"Module"})),k4e=[],D4e=Object.freeze(Object.defineProperty({__proto__:null,default:k4e},Symbol.toStringTag,{value:"Module"})),A4e=[{name:"OutPage",path:"/out-page",meta:{title:"",icon:"ep.link"},redirect:{name:"Iframe"},component:xy,children:[{name:"OutLink",path:"out-link",meta:{title:"",href:"https://qsyjlab.github.io/vite-admin-vue/"},component:N2},{name:"Iframe",path:"iframe",meta:{isKeepAlive:!0,title:"iframe"},component:()=>ai(()=>import("./iframe-c8bc97df.3ecr5y0a.js"),__vite__mapDeps([44,1,2,3]))}]}],E4e=Object.freeze(Object.defineProperty({__proto__:null,default:A4e},Symbol.toStringTag,{value:"Module"})),O4e=[{name:"Plugins",path:"/plugins",meta:{title:"",sort:3,icon:"svg.plugin"},redirect:{name:"DayJs"},component:xy,children:[{name:"DayJs",path:"dayjs",meta:{title:"DayJs",icon:"ep.timer"},component:()=>ai(()=>import("./DayJs-ca03e34d.fZsAD6Ps.js"),__vite__mapDeps([45,1,2,3]))},{name:"CanvsToPdf",path:"canvs-to-pdf",meta:{title:"CanvsToPdf",icon:"ep.camera-filled"},component:()=>ai(()=>import("./CanvsToPdf-4ffbe8aa.9NfwNAxG.js"),__vite__mapDeps([46,1,34,2,3])).then(n=>n.C)}]}],I4e=Object.freeze(Object.defineProperty({__proto__:null,default:O4e},Symbol.toStringTag,{value:"Module"})),R4e=[{name:"System",path:"/system",meta:{title:"",sort:3,icon:"ep.setting"},redirect:{name:"SystemMenu"},component:xy,children:[{name:"SystemMenu",path:"menu",meta:{title:"",icon:"ep.timer"},component:()=>ai(()=>import("./menu-0dd363c6.5-brt4ka.js"),__vite__mapDeps([47,1,2,3]))}]}],P4e=Object.freeze(Object.defineProperty({__proto__:null,default:R4e},Symbol.toStringTag,{value:"Module"})),Aie=Object.assign({"./modules/charts.ts":p4e,"./modules/components.ts":g4e,"./modules/docs.ts":y4e,"./modules/exception.ts":x4e,"./modules/features.ts":_4e,"./modules/home.ts":C4e,"./modules/hooks.ts":M4e,"./modules/icon.ts":D4e,"./modules/link.ts":E4e,"./modules/plugins.ts":I4e,"./modules/system.ts":P4e});function N4e(){const n=[];return Object.keys(Aie).forEach(e=>{const t=Aie[e].default,r=Array.isArray(t)?[...t]:[t];n.push(...r)}),n}const mQ=N4e(),bhe={path:"/:pathMatch(.*)",name:d4e,component:()=>ai(()=>import("./error-404-0057fae5.f0H56Alt.js"),__vite__mapDeps([23,1,2,3]))},L4e={path:f4e,name:c4e,meta:{title:"",isAuth:!1},component:()=>ai(()=>import("./login-180bced7.MPrr65In.js"),__vite__mapDeps([48,2,1,3]))},B4e={path:"/error403",name:"Error403",meta:{title:"403"},component:()=>ai(()=>import("./error-403-824918e4.yzOC6uA2.js"),__vite__mapDeps([24,1,2,3]))},z4e={path:"/error404",name:"Error404",meta:{title:"404"},component:()=>ai(()=>import("./error-404-0057fae5.f0H56Alt.js"),__vite__mapDeps([23,1,2,3]))},F4e={path:"/",name:"Root",redirect:"/welcome",meta:{title:"",hideInBreadcrumb:!0}},H4e={path:"/redirect",component:xy,name:"RedirectTo",meta:{title:iK,hideBreadcrumb:!0,hideMenu:!0,ignoreKeepAlive:!0},children:[{path:"/redirect/:path(.*)/:_redirect_type(.*)/:_origin_params(.*)?",name:iK,component:()=>ai(()=>import("./redirect-482d4fa8.vvqUk4yY.js"),__vite__mapDeps([49,1,2,3])),meta:{title:iK,ignoreKeepAlive:!0,hideBreadcrumb:!0}}]},_ee=[F4e,L4e,B4e,z4e,bhe,H4e];function xhe(n,e=[]){return n.forEach(t=>{e.push(t.name),xhe(t.children||[],e)}),e}const V4e=xhe(_ee);var See=(n=>(n.TopMix="TOP_MIX",n.Top="TOP",n.Side="SIDE",n.SideMix="SIDEMIX",n))(See||{});const gQ=yL({themeColor:"#1677FF",theme:"light",logo:"/logo.svg",defaultLayoutSetting:{layoutMode:See.Side,showBreadCrumb:!0,showBreadCrumbIcon:!0,showSettingButton:!0,showHeader:!0,headerHeight:48,asideMenuCollapsed:!1,asideWidth:220,showTagPage:!0,tabBarHeight:30,splitMenu:!0,showBackTop:!0,showFooter:!0,footerHeight:50},openLeavePagePrompt:!0,keepAliveCachePolicy:"normal",permissionMode:jH.ROUTE_MAPPING}),j4e=ML("permissionStoreKey",()=>{const n=Ao([]),e=Ao([]),t=u4e();t&&(n.value=t);function r(S){n.value=S,yhe(n.value)}function i(){return n.value}function u(S){e.value=S}function l(){const S=_=>_.filter(k=>{var A;const R=!((A=k.meta)!=null&&A.hideInMenu);return R&&k.children&&(k.children=S(k.children)),R});return t4e(S(qN(e.value)))}async function f(){whe();const S=await g();b(S),M3.addRoute(bhe)}function h(){}function g(){let S=[];if(gQ.permissionMode===jH.ROUTE_MAPPING)S=Woe(mQ,function(_){var k;const A=_.name;return!A||(k=_.meta)!=null&&k.ignoreAuth?!0:y(A)},{id:"name"});else if(gQ.permissionMode===jH.ROLE){let _=function(A){var R,I,z;const L=(I=(R=A.meta)==null?void 0:R.roles)==null?void 0:I.map(String);return(z=A.meta)!=null&&z.ignoreAuth?!0:k.roles?!L||L.length===0?!0:k.hasRole(L):!1};const k=$he();S=Woe(mQ,_,{id:"name"})}return u(e4e(S)),ZOe(S)}function y(S){return S?Array.isArray(S)?!!S.map(_=>n.value.includes(_)).find(_=>_):n.value.includes(S):!1}function b(S){S.forEach(_=>{M3.addRoute(_)})}return{permissions:n,getMenus:l,setPermissions:r,getPermissions:i,setFrontedMenuList:u,hasPermission:y,loadDynamicRoutes:f,resetPermissionRoutes:h}}),MT=new Map,Eie=n=>[n.method,n.url].join("&");class U4e{addPending(e){this.removePending(e);const t=Eie(e),r=new AbortController;e.signal=e.signal||r.signal,MT.has(t)||MT.set(t,r)}removeAllPending(){MT.forEach(e=>{e&&e.abort()}),this.reset()}removePending(e){const t=Eie(e);if(MT.has(t)){const r=MT.get(t);r&&r.abort(t),MT.delete(t)}}reset(){MT.clear()}}function W4e(n){return{all:n=n||new Map,on:function(e,t){var r=n.get(e);r?r.push(t):n.set(e,[t])},off:function(e,t){var r=n.get(e);r&&(t?r.splice(r.indexOf(t)>>>0,1):n.set(e,[]))},emit:function(e,t){var r=n.get(e);r&&r.slice().map(function(i){i(t)}),(r=n.get("*"))&&r.slice().map(function(i){i(e,t)})}}}she([..._ee,...mQ],{});const Oie=Symbol("Route Listener"),EP={to:void 0,from:void 0,matched:[]},Iie=W4e();function RYe(n,e=!0){const t=r=>{n(r.to,r.from,r.matched)};return Iie.on(Oie,t),e&&EP.from&&EP.to&&n(EP.to,EP.from,EP.matched||[]),()=>{Iie.off(Oie,t)}}const M3=mhe(_ee,{scrollBehavior:()=>({left:0,top:0,behavior:"smooth"})});function whe(){M3.getRoutes().forEach(n=>{const{name:e}=n;e&&!V4e.includes(e)&&M3.hasRoute(e)&&M3.removeRoute(e)})}function _he(n,e){return function(){return n.apply(e,arguments)}}const{toString:q4e}=Object.prototype,{getPrototypeOf:Cee}=Object,jV=(n=>e=>{const t=q4e.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),wy=n=>(n=n.toLowerCase(),e=>jV(e)===n),UV=n=>e=>typeof e===n,{isArray:s5}=Array,YN=UV("undefined");function $4e(n){return n!==null&&!YN(n)&&n.constructor!==null&&!YN(n.constructor)&&Km(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const She=wy("ArrayBuffer");function G4e(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&She(n.buffer),e}const X4e=UV("string"),Km=UV("function"),Che=UV("number"),WV=n=>n!==null&&typeof n=="object",Y4e=n=>n===!0||n===!1,aH=n=>{if(jV(n)!=="object")return!1;const e=Cee(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},K4e=wy("Date"),J4e=wy("File"),Q4e=wy("Blob"),Z4e=wy("FileList"),eIe=n=>WV(n)&&Km(n.pipe),tIe=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Km(n.append)&&((e=jV(n))==="formdata"||e==="object"&&Km(n.toString)&&n.toString()==="[object FormData]"))},nIe=wy("URLSearchParams"),rIe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kL(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),s5(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const u=t?Object.getOwnPropertyNames(n):Object.keys(n),l=u.length;let f;for(r=0;r<l;r++)f=u[r],e.call(null,n[f],f,n)}}function The(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Mhe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,khe=n=>!YN(n)&&n!==Mhe;function vQ(){const{caseless:n}=khe(this)&&this||{},e={},t=(r,i)=>{const u=n&&The(e,i)||i;aH(e[u])&&aH(r)?e[u]=vQ(e[u],r):aH(r)?e[u]=vQ({},r):s5(r)?e[u]=r.slice():e[u]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&kL(arguments[r],t);return e}const oIe=(n,e,t,{allOwnKeys:r}={})=>(kL(e,(i,u)=>{t&&Km(i)?n[u]=_he(i,t):n[u]=i},{allOwnKeys:r}),n),iIe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),aIe=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},uIe=(n,e,t,r)=>{let i,u,l;const f={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),u=i.length;u-- >0;)l=i[u],(!r||r(l,n,e))&&!f[l]&&(e[l]=n[l],f[l]=!0);n=t!==!1&&Cee(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},sIe=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},lIe=n=>{if(!n)return null;if(s5(n))return n;let e=n.length;if(!Che(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},cIe=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Cee(Uint8Array)),fIe=(n,e)=>{const t=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=t.next())&&!r.done;){const i=r.value;e.call(n,i[0],i[1])}},dIe=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},hIe=wy("HTMLFormElement"),pIe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),Rie=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),mIe=wy("RegExp"),Dhe=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};kL(t,(i,u)=>{let l;(l=e(i,u,n))!==!1&&(r[u]=l||i)}),Object.defineProperties(n,r)},gIe=n=>{Dhe(n,(e,t)=>{if(Km(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Km(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},vIe=(n,e)=>{const t={},r=i=>{i.forEach(u=>{t[u]=!0})};return s5(n)?r(n):r(String(n).split(e)),t},yIe=()=>{},bIe=(n,e)=>(n=+n,Number.isFinite(n)?n:e),aK="abcdefghijklmnopqrstuvwxyz",Pie="0123456789",Ahe={DIGIT:Pie,ALPHA:aK,ALPHA_DIGIT:aK+aK.toUpperCase()+Pie},xIe=(n=16,e=Ahe.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function wIe(n){return!!(n&&Km(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const _Ie=n=>{const e=new Array(10),t=(r,i)=>{if(WV(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const u=s5(r)?[]:{};return kL(r,(l,f)=>{const h=t(l,i+1);!YN(h)&&(u[f]=h)}),e[i]=void 0,u}}return r};return t(n,0)},SIe=wy("AsyncFunction"),CIe=n=>n&&(WV(n)||Km(n))&&Km(n.then)&&Km(n.catch),Un={isArray:s5,isArrayBuffer:She,isBuffer:$4e,isFormData:tIe,isArrayBufferView:G4e,isString:X4e,isNumber:Che,isBoolean:Y4e,isObject:WV,isPlainObject:aH,isUndefined:YN,isDate:K4e,isFile:J4e,isBlob:Q4e,isRegExp:mIe,isFunction:Km,isStream:eIe,isURLSearchParams:nIe,isTypedArray:cIe,isFileList:Z4e,forEach:kL,merge:vQ,extend:oIe,trim:rIe,stripBOM:iIe,inherits:aIe,toFlatObject:uIe,kindOf:jV,kindOfTest:wy,endsWith:sIe,toArray:lIe,forEachEntry:fIe,matchAll:dIe,isHTMLForm:hIe,hasOwnProperty:Rie,hasOwnProp:Rie,reduceDescriptors:Dhe,freezeMethods:gIe,toObjectSet:vIe,toCamelCase:pIe,noop:yIe,toFiniteNumber:bIe,findKey:The,global:Mhe,isContextDefined:khe,ALPHABET:Ahe,generateString:xIe,isSpecCompliantForm:wIe,toJSONObject:_Ie,isAsyncFn:SIe,isThenable:CIe};function Sa(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}Un.inherits(Sa,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Un.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ehe=Sa.prototype,Ohe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Ohe[n]={value:n}});Object.defineProperties(Sa,Ohe);Object.defineProperty(Ehe,"isAxiosError",{value:!0});Sa.from=(n,e,t,r,i,u)=>{const l=Object.create(Ehe);return Un.toFlatObject(n,l,function(f){return f!==Error.prototype},f=>f!=="isAxiosError"),Sa.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,u&&Object.assign(l,u),l};const TIe=null;function yQ(n){return Un.isPlainObject(n)||Un.isArray(n)}function Ihe(n){return Un.endsWith(n,"[]")?n.slice(0,-2):n}function Nie(n,e,t){return n?n.concat(e).map(function(r,i){return r=Ihe(r),!t&&i?"["+r+"]":r}).join(t?".":""):e}function MIe(n){return Un.isArray(n)&&!n.some(yQ)}const kIe=Un.toFlatObject(Un,{},null,function(n){return/^is[A-Z]/.test(n)});function qV(n,e,t){if(!Un.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Un.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,k){return!Un.isUndefined(k[_])});const r=t.metaTokens,i=t.visitor||g,u=t.dots,l=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&Un.isSpecCompliantForm(e);if(!Un.isFunction(i))throw new TypeError("visitor must be a function");function h(_){if(_===null)return"";if(Un.isDate(_))return _.toISOString();if(!f&&Un.isBlob(_))throw new Sa("Blob is not supported. Use a Buffer instead.");return Un.isArrayBuffer(_)||Un.isTypedArray(_)?f&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function g(_,k,A){let R=_;if(_&&!A&&typeof _=="object"){if(Un.endsWith(k,"{}"))k=r?k:k.slice(0,-2),_=JSON.stringify(_);else if(Un.isArray(_)&&MIe(_)||(Un.isFileList(_)||Un.endsWith(k,"[]"))&&(R=Un.toArray(_)))return k=Ihe(k),R.forEach(function(I,z){!(Un.isUndefined(I)||I===null)&&e.append(l===!0?Nie([k],z,u):l===null?k:k+"[]",h(I))}),!1}return yQ(_)?!0:(e.append(Nie(A,k,u),h(_)),!1)}const y=[],b=Object.assign(kIe,{defaultVisitor:g,convertValue:h,isVisitable:yQ});function S(_,k){if(!Un.isUndefined(_)){if(y.indexOf(_)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(_),Un.forEach(_,function(A,R){(!(Un.isUndefined(A)||A===null)&&i.call(e,A,Un.isString(R)?R.trim():R,k,b))===!0&&S(A,k?k.concat(R):[R])}),y.pop()}}if(!Un.isObject(n))throw new TypeError("data must be an object");return S(n),e}function Lie(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function Tee(n,e){this._pairs=[],n&&qV(n,this,e)}const Rhe=Tee.prototype;Rhe.append=function(n,e){this._pairs.push([n,e])};Rhe.toString=function(n){const e=n?function(t){return n.call(this,t,Lie)}:Lie;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};function DIe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Phe(n,e,t){if(!e)return n;const r=t&&t.encode||DIe,i=t&&t.serialize;let u;if(i?u=i(e,t):u=Un.isURLSearchParams(e)?e.toString():new Tee(e,t).toString(r),u){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+u}return n}class AIe{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Un.forEach(this.handlers,function(t){t!==null&&e(t)})}}const Bie=AIe,Nhe={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},EIe=typeof URLSearchParams<"u"?URLSearchParams:Tee,OIe=typeof FormData<"u"?FormData:null,IIe=typeof Blob<"u"?Blob:null,RIe=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),PIe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sv={isBrowser:!0,classes:{URLSearchParams:EIe,FormData:OIe,Blob:IIe},isStandardBrowserEnv:RIe,isStandardBrowserWebWorkerEnv:PIe,protocols:["http","https","file","blob","url","data"]};function NIe(n,e){return qV(n,new Sv.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,u){return Sv.isNode&&Un.isBuffer(t)?(this.append(r,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function LIe(n){return Un.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function BIe(n){const e={},t=Object.keys(n);let r;const i=t.length;let u;for(r=0;r<i;r++)u=t[r],e[u]=n[u];return e}function Lhe(n){function e(t,r,i,u){let l=t[u++];const f=Number.isFinite(+l),h=u>=t.length;return l=!l&&Un.isArray(i)?i.length:l,h?(Un.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!f):((!i[l]||!Un.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],u)&&Un.isArray(i[l])&&(i[l]=BIe(i[l])),!f)}if(Un.isFormData(n)&&Un.isFunction(n.entries)){const t={};return Un.forEachEntry(n,(r,i)=>{e(LIe(r),i,t,0)}),t}return null}function zIe(n,e,t){if(Un.isString(n))try{return(e||JSON.parse)(n),Un.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Mee={transitional:Nhe,adapter:Sv.isNode?"http":"xhr",transformRequest:[function(n,e){const t=e.getContentType()||"",r=t.indexOf("application/json")>-1,i=Un.isObject(n);if(i&&Un.isHTMLForm(n)&&(n=new FormData(n)),Un.isFormData(n))return r&&r?JSON.stringify(Lhe(n)):n;if(Un.isArrayBuffer(n)||Un.isBuffer(n)||Un.isStream(n)||Un.isFile(n)||Un.isBlob(n))return n;if(Un.isArrayBufferView(n))return n.buffer;if(Un.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let u;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return NIe(n,this.formSerializer).toString();if((u=Un.isFileList(n))||t.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qV(u?{"files[]":n}:n,l&&new l,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),zIe(n)):n}],transformResponse:[function(n){const e=this.transitional||Mee.transitional,t=e&&e.forcedJSONParsing,r=this.responseType==="json";if(n&&Un.isString(n)&&(t&&!this.responseType||r)){const i=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(n)}catch(u){if(i)throw u.name==="SyntaxError"?Sa.from(u,Sa.ERR_BAD_RESPONSE,this,null,this.response):u}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sv.classes.FormData,Blob:Sv.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Un.forEach(["delete","get","head","post","put","patch"],n=>{Mee.headers[n]={}});const kee=Mee,FIe=Un.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HIe=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&FIe[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},zie=Symbol("internals");function OP(n){return n&&String(n).trim().toLowerCase()}function uH(n){return n===!1||n==null?n:Un.isArray(n)?n.map(uH):String(n)}function VIe(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const jIe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function uK(n,e,t,r,i){if(Un.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Un.isString(e)){if(Un.isString(r))return e.indexOf(r)!==-1;if(Un.isRegExp(r))return r.test(e)}}function UIe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function WIe(n,e){const t=Un.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,u,l){return this[r].call(this,e,i,u,l)},configurable:!0})})}class $V{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function u(f,h,g){const y=OP(h);if(!y)throw new Error("header name must be a non-empty string");const b=Un.findKey(i,y);(!b||i[b]===void 0||g===!0||g===void 0&&i[b]!==!1)&&(i[b||h]=uH(f))}const l=(f,h)=>Un.forEach(f,(g,y)=>u(g,y,h));return Un.isPlainObject(e)||e instanceof this.constructor?l(e,t):Un.isString(e)&&(e=e.trim())&&!jIe(e)?l(HIe(e),t):e!=null&&u(t,e,r),this}get(e,t){if(e=OP(e),e){const r=Un.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return VIe(i);if(Un.isFunction(t))return t.call(this,i,r);if(Un.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=OP(e),e){const r=Un.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||uK(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function u(l){if(l=OP(l),l){const f=Un.findKey(r,l);f&&(!t||uK(r,r[f],f,t))&&(delete r[f],i=!0)}}return Un.isArray(e)?e.forEach(u):u(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const u=t[r];(!e||uK(this,this[u],u,e,!0))&&(delete this[u],i=!0)}return i}normalize(e){const t=this,r={};return Un.forEach(this,(i,u)=>{const l=Un.findKey(r,u);if(l){t[l]=uH(i),delete t[u];return}const f=e?UIe(u):String(u).trim();f!==u&&delete t[u],t[f]=uH(i),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Un.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Un.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const t=(this[zie]=this[zie]={accessors:{}}).accessors,r=this.prototype;function i(u){const l=OP(u);t[l]||(WIe(r,u),t[l]=!0)}return Un.isArray(e)?e.forEach(i):i(e),this}}$V.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Un.reduceDescriptors($V.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Un.freezeMethods($V);const Db=$V;function sK(n,e){const t=this||kee,r=e||t,i=Db.from(r.headers);let u=r.data;return Un.forEach(n,function(l){u=l.call(t,u,i.normalize(),e?e.status:void 0)}),i.normalize(),u}function Bhe(n){return!!(n&&n.__CANCEL__)}function DL(n,e,t){Sa.call(this,n??"canceled",Sa.ERR_CANCELED,e,t),this.name="CanceledError"}Un.inherits(DL,Sa,{__CANCEL__:!0});function qIe(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Sa("Request failed with status code "+t.status,[Sa.ERR_BAD_REQUEST,Sa.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const $Ie=Sv.isStandardBrowserEnv?function(){return{write:function(n,e,t,r,i,u){const l=[];l.push(n+"="+encodeURIComponent(e)),Un.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),Un.isString(r)&&l.push("path="+r),Un.isString(i)&&l.push("domain="+i),u===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function GIe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function XIe(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function zhe(n,e){return n&&!GIe(e)?XIe(n,e):e}const YIe=Sv.isStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let t;function r(i){let u=i;return n&&(e.setAttribute("href",u),u=e.href),e.setAttribute("href",u),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return t=r(window.location.href),function(i){const u=Un.isString(i)?r(i):i;return u.protocol===t.protocol&&u.host===t.host}}():function(){return function(){return!0}}();function KIe(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function JIe(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,u=0,l;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),g=r[u];l||(l=h),t[i]=f,r[i]=h;let y=u,b=0;for(;y!==i;)b+=t[y++],y=y%n;if(i=(i+1)%n,i===u&&(u=(u+1)%n),h-l<e)return;const S=g&&h-g;return S?Math.round(b*1e3/S):void 0}}function Fie(n,e){let t=0;const r=JIe(50,250);return i=>{const u=i.loaded,l=i.lengthComputable?i.total:void 0,f=u-t,h=r(f),g=u<=l;t=u;const y={loaded:u,total:l,progress:l?u/l:void 0,bytes:f,rate:h||void 0,estimated:h&&l&&g?(l-u)/h:void 0,event:i};y[e?"download":"upload"]=!0,n(y)}}const QIe=typeof XMLHttpRequest<"u",ZIe=QIe&&function(n){return new Promise(function(e,t){let r=n.data;const i=Db.from(n.headers).normalize(),u=n.responseType;let l;function f(){n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}Un.isFormData(r)&&(Sv.isStandardBrowserEnv||Sv.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let h=new XMLHttpRequest;if(n.auth){const S=n.auth.username||"",_=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";i.set("Authorization","Basic "+btoa(S+":"+_))}const g=zhe(n.baseURL,n.url);h.open(n.method.toUpperCase(),Phe(g,n.params,n.paramsSerializer),!0),h.timeout=n.timeout;function y(){if(!h)return;const S=Db.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!u||u==="text"||u==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:S,config:n,request:h};qIe(function(k){e(k),f()},function(k){t(k),f()},_),h=null}if("onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(t(new Sa("Request aborted",Sa.ECONNABORTED,n,h)),h=null)},h.onerror=function(){t(new Sa("Network Error",Sa.ERR_NETWORK,n,h)),h=null},h.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||Nhe;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),t(new Sa(S,_.clarifyTimeoutError?Sa.ETIMEDOUT:Sa.ECONNABORTED,n,h)),h=null},Sv.isStandardBrowserEnv){const S=(n.withCredentials||YIe(g))&&n.xsrfCookieName&&$Ie.read(n.xsrfCookieName);S&&i.set(n.xsrfHeaderName,S)}r===void 0&&i.setContentType(null),"setRequestHeader"in h&&Un.forEach(i.toJSON(),function(S,_){h.setRequestHeader(_,S)}),Un.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),u&&u!=="json"&&(h.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&h.addEventListener("progress",Fie(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Fie(n.onUploadProgress)),(n.cancelToken||n.signal)&&(l=S=>{h&&(t(!S||S.type?new DL(null,n,h):S),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const b=KIe(g);if(b&&Sv.protocols.indexOf(b)===-1){t(new Sa("Unsupported protocol "+b+":",Sa.ERR_BAD_REQUEST,n));return}h.send(r||null)})},sH={http:TIe,xhr:ZIe};Un.forEach(sH,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Fhe={getAdapter:n=>{n=Un.isArray(n)?n:[n];const{length:e}=n;let t,r;for(let i=0;i<e&&(t=n[i],!(r=Un.isString(t)?sH[t.toLowerCase()]:t));i++);if(!r)throw r===!1?new Sa(`Adapter ${t} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(Un.hasOwnProp(sH,t)?`Adapter '${t}' is not available in the build`:`Unknown adapter '${t}'`);if(!Un.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:sH};function lK(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new DL(null,n)}function Hie(n){return lK(n),n.headers=Db.from(n.headers),n.data=sK.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Fhe.getAdapter(n.adapter||kee.adapter)(n).then(function(e){return lK(n),e.data=sK.call(n,n.transformResponse,e),e.headers=Db.from(e.headers),e},function(e){return Bhe(e)||(lK(n),e&&e.response&&(e.response.data=sK.call(n,n.transformResponse,e.response),e.response.headers=Db.from(e.response.headers))),Promise.reject(e)})}const Vie=n=>n instanceof Db?n.toJSON():n;function q3(n,e){e=e||{};const t={};function r(g,y,b){return Un.isPlainObject(g)&&Un.isPlainObject(y)?Un.merge.call({caseless:b},g,y):Un.isPlainObject(y)?Un.merge({},y):Un.isArray(y)?y.slice():y}function i(g,y,b){if(Un.isUndefined(y)){if(!Un.isUndefined(g))return r(void 0,g,b)}else return r(g,y,b)}function u(g,y){if(!Un.isUndefined(y))return r(void 0,y)}function l(g,y){if(Un.isUndefined(y)){if(!Un.isUndefined(g))return r(void 0,g)}else return r(void 0,y)}function f(g,y,b){if(b in e)return r(g,y);if(b in n)return r(void 0,g)}const h={url:u,method:u,data:u,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:f,headers:(g,y)=>i(Vie(g),Vie(y),!0)};return Un.forEach(Object.keys(Object.assign({},n,e)),function(g){const y=h[g]||i,b=y(n[g],e[g],g);Un.isUndefined(b)&&y!==f||(t[g]=b)}),t}const Hhe="1.5.0",Dee={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Dee[n]=function(t){return typeof t===n||"a"+(e<1?"n ":" ")+n}});const jie={};Dee.transitional=function(n,e,t){function r(i,u){return"[Axios v"+Hhe+"] Transitional option '"+i+"'"+u+(t?". "+t:"")}return(i,u,l)=>{if(n===!1)throw new Sa(r(u," has been removed"+(e?" in "+e:"")),Sa.ERR_DEPRECATED);return e&&!jie[u]&&(jie[u]=!0,console.warn(r(u," has been deprecated since v"+e+" and will be removed in the near future"))),n?n(i,u,l):!0}};function eRe(n,e,t){if(typeof n!="object")throw new Sa("options must be an object",Sa.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const u=r[i],l=e[u];if(l){const f=n[u],h=f===void 0||l(f,u,n);if(h!==!0)throw new Sa("option "+u+" must be "+h,Sa.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Sa("Unknown option "+u,Sa.ERR_BAD_OPTION)}}const bQ={assertOptions:eRe,validators:Dee},g2=bQ.validators;class UH{constructor(e){this.defaults=e,this.interceptors={request:new Bie,response:new Bie}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=q3(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:u}=t;r!==void 0&&bQ.assertOptions(r,{silentJSONParsing:g2.transitional(g2.boolean),forcedJSONParsing:g2.transitional(g2.boolean),clarifyTimeoutError:g2.transitional(g2.boolean)},!1),i!=null&&(Un.isFunction(i)?t.paramsSerializer={serialize:i}:bQ.assertOptions(i,{encode:g2.function,serialize:g2.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=u&&Un.merge(u.common,u[t.method]);u&&Un.forEach(["delete","get","head","post","put","patch","common"],k=>{delete u[k]}),t.headers=Db.concat(l,u);const f=[];let h=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(h=h&&k.synchronous,f.unshift(k.fulfilled,k.rejected))});const g=[];this.interceptors.response.forEach(function(k){g.push(k.fulfilled,k.rejected)});let y,b=0,S;if(!h){const k=[Hie.bind(this),void 0];for(k.unshift.apply(k,f),k.push.apply(k,g),S=k.length,y=Promise.resolve(t);b<S;)y=y.then(k[b++],k[b++]);return y}S=f.length;let _=t;for(b=0;b<S;){const k=f[b++],A=f[b++];try{_=k(_)}catch(R){A.call(this,R);break}}try{y=Hie.call(this,_)}catch(k){return Promise.reject(k)}for(b=0,S=g.length;b<S;)y=y.then(g[b++],g[b++]);return y}getUri(e){e=q3(this.defaults,e);const t=zhe(e.baseURL,e.url);return Phe(t,e.params,e.paramsSerializer)}}Un.forEach(["delete","get","head","options"],function(n){UH.prototype[n]=function(e,t){return this.request(q3(t||{},{method:n,url:e,data:(t||{}).data}))}});Un.forEach(["post","put","patch"],function(n){function e(t){return function(r,i,u){return this.request(q3(u||{},{method:n,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}UH.prototype[n]=e(),UH.prototype[n+"Form"]=e(!0)});const lH=UH;class Aee{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](i);r._listeners=null}),this.promise.then=i=>{let u;const l=new Promise(f=>{r.subscribe(f),u=f}).then(i);return l.cancel=function(){r.unsubscribe(u)},l},e(function(i,u,l){r.reason||(r.reason=new DL(i,u,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new Aee(function(t){e=t}),cancel:e}}}const tRe=Aee;function nRe(n){return function(e){return n.apply(null,e)}}function rRe(n){return Un.isObject(n)&&n.isAxiosError===!0}const xQ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xQ).forEach(([n,e])=>{xQ[e]=n});const oRe=xQ;function Vhe(n){const e=new lH(n),t=_he(lH.prototype.request,e);return Un.extend(t,lH.prototype,e,{allOwnKeys:!0}),Un.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return Vhe(q3(n,r))},t}const jl=Vhe(kee);jl.Axios=lH;jl.CanceledError=DL;jl.CancelToken=tRe;jl.isCancel=Bhe;jl.VERSION=Hhe;jl.toFormData=qV;jl.AxiosError=Sa;jl.Cancel=jl.CanceledError;jl.all=function(n){return Promise.all(n)};jl.spread=nRe;jl.isAxiosError=rRe;jl.mergeConfig=q3;jl.AxiosHeaders=Db;jl.formToJSON=n=>Lhe(Un.isHTMLForm(n)?new FormData(n):n);jl.getAdapter=Fhe.getAdapter;jl.HttpStatusCode=oRe;jl.default=jl;const Eee=jl;class iRe{constructor(e){S3(this,"instanceConfig",{}),S3(this,"instance"),S3(this,"canceler",new U4e),this.instanceConfig=Hoe({},e),this.instance=Eee.create(this.instanceConfig),Object.defineProperties(this,{instanceConfig:{writable:!1},instance:{writable:!1,enumerable:!1},canceler:{writable:!1,enumerable:!1,configurable:!1}}),this.registerInterceptors()}request(e={},t={}){return new Promise((r,i)=>{const{ignoreTransformResponse:u=!1,ignoreTransformRequest:l=!1,ignoreCancelRequest:f=!1}=t,{transformResponse:h,transformRequest:g,requestCatch:y}=this.instanceConfig.transform||{};let b=Hoe(Zfe(this.instanceConfig,["transform","interceptorHooks"]),e);!l&&g&&Mb(g)&&(b=g(b)),f||this.canceler.addPending(b),this.instance.request(b).then(S=>{if(!u&&h&&Mb(h))try{const _=h(S,t);r(_)}catch(_){i(_)}r(S.data)}).catch(S=>{if(y&&Mb(y))return i(y(S,t));i(S)})})}uploadFile(e,t){const r=new FormData,i=e.name||"file";return r.append(i,e.file),e.data&&Object.keys(e.data).forEach(u=>{var l,f;const h=(l=e.data)==null?void 0:l[u];if(Array.isArray(h)){h.forEach(g=>{r.append(`${u}[]`,g)});return}r.append(u,(f=e.data)==null?void 0:f[u])}),this.request({...t,method:"POST",data:r})}registerInterceptors(){const{requestInterceptor:e,requestInterceptorCatch:t,responseInterceptor:r,responseInterceptorCatch:i}=this.instanceConfig.interceptorHooks||{};this.instance.interceptors.request.use(e,u=>(t==null?void 0:t(u,this))??u),this.instance.interceptors.response.use(r,u=>(i==null?void 0:i(u,this))??u)}}function wQ(n){return Eee.isCancel(n)}function aRe(n){return Eee.isAxiosError(n)}const uRe="";var bb=(n=>(n[n.SUCCESS=200]="SUCCESS",n[n.BAD_REQUEST=400]="BAD_REQUEST",n[n.UNAUTHORIZED=401]="UNAUTHORIZED",n[n.FORBIDDEN=403]="FORBIDDEN",n[n.NOT_FOUND=404]="NOT_FOUND",n[n.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",n[n.BAD_GATEWAY=502]="BAD_GATEWAY",n[n.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",n))(bb||{});function Oee(n){pSe({message:n||uRe,grouping:!0,type:"error"})}function sRe(n){let e="";switch(n){case bb.BAD_REQUEST:e="";break;case bb.UNAUTHORIZED:e="",$he().loginOutSystem();break;case bb.FORBIDDEN:e="";break;case bb.NOT_FOUND:e="";break;case bb.INTERNAL_SERVER_ERROR:e="";break;case bb.BAD_GATEWAY:e="";break;case bb.SERVICE_UNAVAILABLE:e="";break;default:e=""}Oee(e)}const lRe=n=>n,cRe=n=>Promise.reject(n),fRe=n=>n,dRe=async n=>(wQ(n),Promise.reject(n)),jhe=(n,e)=>{var t,r,i;const{ignoreResponseErrorMessage:u=!1}=e,{data:l}=n,{code:f,message:h=""}=l||{};switch(f){case bb.SUCCESS:return l;default:{const g={message:h||"",code:f||-1,data:null};throw!u&&Oee(g.message),console.error("[AxiosRequest error]:",`${(r=(t=n==null?void 0:n.config)==null?void 0:t.method)==null?void 0:r.toUpperCase()} ${(i=n==null?void 0:n.request)==null?void 0:i.responseURL} ${g.code} (${g.message})`),g}}},Uhe=(n,e)=>{var t;const{ignoreErrorMessage:r=!1}=e;return wQ(n)?n:aRe(n)?(sRe(Number((t=n.response)==null?void 0:t.status)),n):(!r&&!wQ(n)&&Oee(n.message),n)},Whe={requestInterceptor:lRe,requestInterceptorCatch:cRe,responseInterceptor:fRe,responseInterceptorCatch:dRe};class qhe extends iRe{constructor(e){super(e)}request(e,t){return super.request(e,t)}}const hRe=new qhe({interceptorHooks:Whe,baseURL:"/basic-api",transform:{transformResponse:jhe,requestCatch:Uhe}});new qhe({interceptorHooks:Whe,baseURL:vhe.baseApiUrl,transform:{transformResponse:jhe,requestCatch:Uhe}});function pRe(n){return hRe.request({url:"/login",method:"post",data:n})}const mRe="userStoreKey",$he=ML(mRe,{state(){return{initialized:!1,userInfo:{userId:"",userName:""},token:"",permissions:[],roles:[]}},actions:{setInitialized(n){this.initialized=n},setUserInfo(n){this.userInfo=n,i4e(this.userInfo)},setPermissions(n){this.permissions=n,yhe(n)},setRoles(n){this.roles=n},hasRole(n){return n?Array.isArray(n)?n.map(String).some(e=>this.roles.map(String).includes(String(e))):this.roles.map(String).includes(String(n)):!1},setToken(n){n&&(this.token=n,a4e(n))},async loginAfterInitialize(n){this.setInitialized(!1),this.setToken(n.token),this.setUserInfo({userId:n.userId,userName:n.username});const e=j4e();e.setPermissions(n.permissions),await e.loadDynamicRoutes(),this.setInitialized(!0)},loginSystem(n){return pRe(n).then(async e=>(e.data&&this.loginAfterInitialize(e.data),e))},loginOutSystem(){l4e(),whe(),this.setInitialized(!1)}}}),gRe="Layout",PYe=ML(gRe,{state(){return{layoutConfig:{layoutMode:See.Side,collapsed:!1,asideWidth:220,tabBarHeight:30,headerHeight:48,theme:"light",themeColor:"#1677FF",splitMenu:!0,footerHeight:56},mixMenuLayoutConfig:{fixedMenu:!1,showChildren:!1},isOpenSettig:!1}},actions:{setLayoutConfig(n){this.layoutConfig={...this.layoutConfig,...n},s4e(this.layoutConfig)},setMixMenuLayoutConfig(n){this.mixMenuLayoutConfig={...this.mixMenuLayoutConfig,...n}},toggleSettingDrawer(){this.isOpenSettig=!this.isOpenSettig},setMixMenuFixed(n){this.mixMenuLayoutConfig.fixedMenu=n}}});function oF(n){return n.meta.affixTab}function vRe(n){return{name:n.name,fullPath:n.fullPath,meta:n.meta,query:n.query,params:n.params}}const NYe=ML("tab-page",()=>{const n=Ao(new Set),e=Ao([]),t=Ao(null),r=Ao([]),i=No(()=>Array.from(n.value)),u=No(()=>e.value),l=No(()=>t.value),f=No(()=>r.value);function h(q){if(q.meta.hideInTab)return;const X=vRe(q),Y=io(e);Y.length===0?Y.push(X):Y.find(ae=>ae.name===X.name&&ae.fullPath===X.fullPath)||Y.push(X),I(),t.value=X}function g(q,X){var Y;const ae=X||t.value;if(!ae)return;const te=u.value.find(ie=>ae.fullPath===ie.fullPath);te&&(te.meta.title=(Y=q.meta)==null?void 0:Y.title,I())}function y(q){e.value[q].meta.affixTab||(e.value.splice(q,1),I(),L())}function b(){A(),t.value=null,I(),L()}function S(){A(),t.value&&!oF(t.value)&&e.value.push(t.value)}function _(q){let X=q!==void 0&&q>=0?q:e.value.findIndex(Y=>{var ae;return Y.fullPath===((ae=t.value)==null?void 0:ae.fullPath)});if(X!==-1)for(let Y=0;Y<X;Y++)oF(e.value[Y])||(e.value.splice(Y,1),Y--,X--)}function k(){if(!e.value.length)return;const q=e.value.findIndex(X=>{var Y;return X.fullPath===((Y=t.value)==null?void 0:Y.fullPath)});if(q!==-1)for(let X=e.value.length-1;X>q;X--)oF(e.value[X])||e.value.splice(X,1)}function A(){e.value=e.value.filter(q=>q.meta.affixTab)}function R(q){M3.push({path:q.fullPath}),t.value=q}function I(){if(gQ.keepAliveCachePolicy!=="tab")return;const q=e.value.filter(X=>X.meta.ignoreKeepAlive).map(X=>X.name);n.value.clear(),q.forEach(X=>{z(X)})}function z(q){n.value.add(q)}function L(){const q=e.value.length-1;q<0||(t.value=e.value[q],R(t.value))}return{isAffixTab:oF,addTabPage:h,removeTabPage:y,removeAllTabPage:b,removeOhterTabPages:S,removeLeftAllTabPages:_,removeRightAllTabPages:k,updateTabPage:g,addKeepAlive:z,goTabPage:R,getTabPages:u,getAffixTabsList:f,getKeepAliveCache:i,getCurrentActivityTabPage:l}});var Ghe={exports:{}},yRe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Xhe={exports:{}},bRe=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")},xRe=bRe,wRe=Array.prototype.concat,_Re=Array.prototype.slice,Uie=Xhe.exports=function(n){for(var e=[],t=0,r=n.length;t<r;t++){var i=n[t];xRe(i)?e=wRe.call(e,_Re.call(i)):e.push(i)}return e};Uie.wrap=function(n){return function(){return n(Uie(arguments))}};var SRe=Xhe.exports,AN=yRe,AL=SRe,Yhe=Object.hasOwnProperty,Khe=Object.create(null);for(var cK in AN)Yhe.call(AN,cK)&&(Khe[AN[cK]]=cK);var Mp=Ghe.exports={to:{},get:{}};Mp.get=function(n){var e=n.substring(0,3).toLowerCase(),t,r;switch(e){case"hsl":t=Mp.get.hsl(n),r="hsl";break;case"hwb":t=Mp.get.hwb(n),r="hwb";break;default:t=Mp.get.rgb(n),r="rgb";break}return t?{model:r,value:t}:null};Mp.get.rgb=function(n){if(!n)return null;var e=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,u=/^(\w+)$/,l=[0,0,0,1],f,h,g;if(f=n.match(t)){for(g=f[2],f=f[1],h=0;h<3;h++){var y=h*2;l[h]=parseInt(f.slice(y,y+2),16)}g&&(l[3]=parseInt(g,16)/255)}else if(f=n.match(e)){for(f=f[1],g=f[3],h=0;h<3;h++)l[h]=parseInt(f[h]+f[h],16);g&&(l[3]=parseInt(g+g,16)/255)}else if(f=n.match(r)){for(h=0;h<3;h++)l[h]=parseInt(f[h+1],0);f[4]&&(f[5]?l[3]=parseFloat(f[4])*.01:l[3]=parseFloat(f[4]))}else if(f=n.match(i)){for(h=0;h<3;h++)l[h]=Math.round(parseFloat(f[h+1])*2.55);f[4]&&(f[5]?l[3]=parseFloat(f[4])*.01:l[3]=parseFloat(f[4]))}else return(f=n.match(u))?f[1]==="transparent"?[0,0,0,0]:Yhe.call(AN,f[1])?(l=AN[f[1]],l[3]=1,l):null:null;for(h=0;h<3;h++)l[h]=W2(l[h],0,255);return l[3]=W2(l[3],0,1),l};Mp.get.hsl=function(n){if(!n)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,u=W2(parseFloat(t[2]),0,100),l=W2(parseFloat(t[3]),0,100),f=W2(isNaN(r)?1:r,0,1);return[i,u,l,f]}return null};Mp.get.hwb=function(n){if(!n)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=n.match(e);if(t){var r=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,u=W2(parseFloat(t[2]),0,100),l=W2(parseFloat(t[3]),0,100),f=W2(isNaN(r)?1:r,0,1);return[i,u,l,f]}return null};Mp.to.hex=function(){var n=AL(arguments);return"#"+iF(n[0])+iF(n[1])+iF(n[2])+(n[3]<1?iF(Math.round(n[3]*255)):"")};Mp.to.rgb=function(){var n=AL(arguments);return n.length<4||n[3]===1?"rgb("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+")":"rgba("+Math.round(n[0])+", "+Math.round(n[1])+", "+Math.round(n[2])+", "+n[3]+")"};Mp.to.rgb.percent=function(){var n=AL(arguments),e=Math.round(n[0]/255*100),t=Math.round(n[1]/255*100),r=Math.round(n[2]/255*100);return n.length<4||n[3]===1?"rgb("+e+"%, "+t+"%, "+r+"%)":"rgba("+e+"%, "+t+"%, "+r+"%, "+n[3]+")"};Mp.to.hsl=function(){var n=AL(arguments);return n.length<4||n[3]===1?"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)":"hsla("+n[0]+", "+n[1]+"%, "+n[2]+"%, "+n[3]+")"};Mp.to.hwb=function(){var n=AL(arguments),e="";return n.length>=4&&n[3]!==1&&(e=", "+n[3]),"hwb("+n[0]+", "+n[1]+"%, "+n[2]+"%"+e+")"};Mp.to.keyword=function(n){return Khe[n.slice(0,3)]};function W2(n,e,t){return Math.min(Math.max(e,n),t)}function iF(n){var e=Math.round(n).toString(16).toUpperCase();return e.length<2?"0"+e:e}var CRe=Ghe.exports,Jhe={exports:{}},TRe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},cM=TRe,Qhe={};for(var fK in cM)cM.hasOwnProperty(fK)&&(Qhe[cM[fK]]=fK);var mo=Jhe.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var mh in mo)if(mo.hasOwnProperty(mh)){if(!("channels"in mo[mh]))throw new Error("missing channels property: "+mh);if(!("labels"in mo[mh]))throw new Error("missing channel labels property: "+mh);if(mo[mh].labels.length!==mo[mh].channels)throw new Error("channel and label counts mismatch: "+mh);var MRe=mo[mh].channels,kRe=mo[mh].labels;delete mo[mh].channels,delete mo[mh].labels,Object.defineProperty(mo[mh],"channels",{value:MRe}),Object.defineProperty(mo[mh],"labels",{value:kRe})}mo.rgb.hsl=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),u=Math.max(e,t,r),l=u-i,f,h,g;return u===i?f=0:e===u?f=(t-r)/l:t===u?f=2+(r-e)/l:r===u&&(f=4+(e-t)/l),f=Math.min(f*60,360),f<0&&(f+=360),g=(i+u)/2,u===i?h=0:g<=.5?h=l/(u+i):h=l/(2-u-i),[f,h*100,g*100]};mo.rgb.hsv=function(n){var e,t,r,i,u,l=n[0]/255,f=n[1]/255,h=n[2]/255,g=Math.max(l,f,h),y=g-Math.min(l,f,h),b=function(S){return(g-S)/6/y+1/2};return y===0?i=u=0:(u=y/g,e=b(l),t=b(f),r=b(h),l===g?i=r-t:f===g?i=1/3+e-r:h===g&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)),[i*360,u*100,g*100]};mo.rgb.hwb=function(n){var e=n[0],t=n[1],r=n[2],i=mo.rgb.hsl(n)[0],u=1/255*Math.min(e,Math.min(t,r));return r=1-1/255*Math.max(e,Math.max(t,r)),[i,u*100,r*100]};mo.rgb.cmyk=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i,u,l,f;return f=Math.min(1-e,1-t,1-r),i=(1-e-f)/(1-f)||0,u=(1-t-f)/(1-f)||0,l=(1-r-f)/(1-f)||0,[i*100,u*100,l*100,f*100]};function DRe(n,e){return Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2)}mo.rgb.keyword=function(n){var e=Qhe[n];if(e)return e;var t=1/0,r;for(var i in cM)if(cM.hasOwnProperty(i)){var u=cM[i],l=DRe(n,u);l<t&&(t=l,r=i)}return r};mo.keyword.rgb=function(n){return cM[n]};mo.rgb.xyz=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var i=e*.4124+t*.3576+r*.1805,u=e*.2126+t*.7152+r*.0722,l=e*.0193+t*.1192+r*.9505;return[i*100,u*100,l*100]};mo.rgb.lab=function(n){var e=mo.rgb.xyz(n),t=e[0],r=e[1],i=e[2],u,l,f;return t/=95.047,r/=100,i/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,u=116*r-16,l=500*(t-r),f=200*(r-i),[u,l,f]};mo.hsl.rgb=function(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100,i,u,l,f,h;if(t===0)return h=r*255,[h,h,h];r<.5?u=r*(1+t):u=r+t-r*t,i=2*r-u,f=[0,0,0];for(var g=0;g<3;g++)l=e+1/3*-(g-1),l<0&&l++,l>1&&l--,6*l<1?h=i+(u-i)*6*l:2*l<1?h=u:3*l<2?h=i+(u-i)*(2/3-l)*6:h=i,f[g]=h*255;return f};mo.hsl.hsv=function(n){var e=n[0],t=n[1]/100,r=n[2]/100,i=t,u=Math.max(r,.01),l,f;return r*=2,t*=r<=1?r:2-r,i*=u<=1?u:2-u,f=(r+t)/2,l=r===0?2*i/(u+i):2*t/(r+t),[e,l*100,f*100]};mo.hsv.rgb=function(n){var e=n[0]/60,t=n[1]/100,r=n[2]/100,i=Math.floor(e)%6,u=e-Math.floor(e),l=255*r*(1-t),f=255*r*(1-t*u),h=255*r*(1-t*(1-u));switch(r*=255,i){case 0:return[r,h,l];case 1:return[f,r,l];case 2:return[l,r,h];case 3:return[l,f,r];case 4:return[h,l,r];case 5:return[r,l,f]}};mo.hsv.hsl=function(n){var e=n[0],t=n[1]/100,r=n[2]/100,i=Math.max(r,.01),u,l,f;return f=(2-t)*r,u=(2-t)*i,l=t*i,l/=u<=1?u:2-u,l=l||0,f/=2,[e,l*100,f*100]};mo.hwb.rgb=function(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100,i=t+r,u,l,f,h;i>1&&(t/=i,r/=i),u=Math.floor(6*e),l=1-r,f=6*e-u,u&1&&(f=1-f),h=t+f*(l-t);var g,y,b;switch(u){default:case 6:case 0:g=l,y=h,b=t;break;case 1:g=h,y=l,b=t;break;case 2:g=t,y=l,b=h;break;case 3:g=t,y=h,b=l;break;case 4:g=h,y=t,b=l;break;case 5:g=l,y=t,b=h;break}return[g*255,y*255,b*255]};mo.cmyk.rgb=function(n){var e=n[0]/100,t=n[1]/100,r=n[2]/100,i=n[3]/100,u,l,f;return u=1-Math.min(1,e*(1-i)+i),l=1-Math.min(1,t*(1-i)+i),f=1-Math.min(1,r*(1-i)+i),[u*255,l*255,f*255]};mo.xyz.rgb=function(n){var e=n[0]/100,t=n[1]/100,r=n[2]/100,i,u,l;return i=e*3.2406+t*-1.5372+r*-.4986,u=e*-.9689+t*1.8758+r*.0415,l=e*.0557+t*-.204+r*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u*12.92,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l*12.92,i=Math.min(Math.max(0,i),1),u=Math.min(Math.max(0,u),1),l=Math.min(Math.max(0,l),1),[i*255,u*255,l*255]};mo.xyz.lab=function(n){var e=n[0],t=n[1],r=n[2],i,u,l;return e/=95.047,t/=100,r/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=116*t-16,u=500*(e-t),l=200*(t-r),[i,u,l]};mo.lab.xyz=function(n){var e=n[0],t=n[1],r=n[2],i,u,l;u=(e+16)/116,i=t/500+u,l=u-r/200;var f=Math.pow(u,3),h=Math.pow(i,3),g=Math.pow(l,3);return u=f>.008856?f:(u-16/116)/7.787,i=h>.008856?h:(i-16/116)/7.787,l=g>.008856?g:(l-16/116)/7.787,i*=95.047,u*=100,l*=108.883,[i,u,l]};mo.lab.lch=function(n){var e=n[0],t=n[1],r=n[2],i,u,l;return i=Math.atan2(r,t),u=i*360/2/Math.PI,u<0&&(u+=360),l=Math.sqrt(t*t+r*r),[e,l,u]};mo.lch.lab=function(n){var e=n[0],t=n[1],r=n[2],i,u,l;return l=r/360*2*Math.PI,i=t*Math.cos(l),u=t*Math.sin(l),[e,i,u]};mo.rgb.ansi16=function(n){var e=n[0],t=n[1],r=n[2],i=1 in arguments?arguments[1]:mo.rgb.hsv(n)[2];if(i=Math.round(i/50),i===0)return 30;var u=30+(Math.round(r/255)<<2|Math.round(t/255)<<1|Math.round(e/255));return i===2&&(u+=60),u};mo.hsv.ansi16=function(n){return mo.rgb.ansi16(mo.hsv.rgb(n),n[2])};mo.rgb.ansi256=function(n){var e=n[0],t=n[1],r=n[2];if(e===t&&t===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5);return i};mo.ansi16.rgb=function(n){var e=n%10;if(e===0||e===7)return n>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var t=(~~(n>50)+1)*.5,r=(e&1)*t*255,i=(e>>1&1)*t*255,u=(e>>2&1)*t*255;return[r,i,u]};mo.ansi256.rgb=function(n){if(n>=232){var e=(n-232)*10+8;return[e,e,e]}n-=16;var t,r=Math.floor(n/36)/5*255,i=Math.floor((t=n%36)/6)/5*255,u=t%6/5*255;return[r,i,u]};mo.rgb.hex=function(n){var e=((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255),t=e.toString(16).toUpperCase();return"000000".substring(t.length)+t};mo.hex.rgb=function(n){var e=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var t=e[0];e[0].length===3&&(t=t.split("").map(function(f){return f+f}).join(""));var r=parseInt(t,16),i=r>>16&255,u=r>>8&255,l=r&255;return[i,u,l]};mo.rgb.hcg=function(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(Math.max(e,t),r),u=Math.min(Math.min(e,t),r),l=i-u,f,h;return l<1?f=u/(1-l):f=0,l<=0?h=0:i===e?h=(t-r)/l%6:i===t?h=2+(r-e)/l:h=4+(e-t)/l+4,h/=6,h%=1,[h*360,l*100,f*100]};mo.hsl.hcg=function(n){var e=n[1]/100,t=n[2]/100,r=1,i=0;return t<.5?r=2*e*t:r=2*e*(1-t),r<1&&(i=(t-.5*r)/(1-r)),[n[0],r*100,i*100]};mo.hsv.hcg=function(n){var e=n[1]/100,t=n[2]/100,r=e*t,i=0;return r<1&&(i=(t-r)/(1-r)),[n[0],r*100,i*100]};mo.hcg.rgb=function(n){var e=n[0]/360,t=n[1]/100,r=n[2]/100;if(t===0)return[r*255,r*255,r*255];var i=[0,0,0],u=e%1*6,l=u%1,f=1-l,h=0;switch(Math.floor(u)){case 0:i[0]=1,i[1]=l,i[2]=0;break;case 1:i[0]=f,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=l;break;case 3:i[0]=0,i[1]=f,i[2]=1;break;case 4:i[0]=l,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=f}return h=(1-t)*r,[(t*i[0]+h)*255,(t*i[1]+h)*255,(t*i[2]+h)*255]};mo.hcg.hsv=function(n){var e=n[1]/100,t=n[2]/100,r=e+t*(1-e),i=0;return r>0&&(i=e/r),[n[0],i*100,r*100]};mo.hcg.hsl=function(n){var e=n[1]/100,t=n[2]/100,r=t*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[n[0],i*100,r*100]};mo.hcg.hwb=function(n){var e=n[1]/100,t=n[2]/100,r=e+t*(1-e);return[n[0],(r-e)*100,(1-r)*100]};mo.hwb.hcg=function(n){var e=n[1]/100,t=n[2]/100,r=1-t,i=r-e,u=0;return i<1&&(u=(r-i)/(1-i)),[n[0],i*100,u*100]};mo.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]};mo.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]};mo.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]};mo.gray.hsl=mo.gray.hsv=function(n){return[0,0,n[0]]};mo.gray.hwb=function(n){return[0,100,n[0]]};mo.gray.cmyk=function(n){return[0,0,0,n[0]]};mo.gray.lab=function(n){return[n[0],0,0]};mo.gray.hex=function(n){var e=Math.round(n[0]/100*255)&255,t=(e<<16)+(e<<8)+e,r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};mo.rgb.gray=function(n){var e=(n[0]+n[1]+n[2])/3;return[e/255*100]};var Zhe=Jhe.exports,WH=Zhe;function ARe(){for(var n={},e=Object.keys(WH),t=e.length,r=0;r<t;r++)n[e[r]]={distance:-1,parent:null};return n}function ERe(n){var e=ARe(),t=[n];for(e[n].distance=0;t.length;)for(var r=t.pop(),i=Object.keys(WH[r]),u=i.length,l=0;l<u;l++){var f=i[l],h=e[f];h.distance===-1&&(h.distance=e[r].distance+1,h.parent=r,t.unshift(f))}return e}function ORe(n,e){return function(t){return e(n(t))}}function IRe(n,e){for(var t=[e[n].parent,n],r=WH[e[n].parent][n],i=e[n].parent;e[i].parent;)t.unshift(e[i].parent),r=ORe(WH[e[i].parent][i],r),i=e[i].parent;return r.conversion=t,r}var RRe=function(n){for(var e=ERe(n),t={},r=Object.keys(e),i=r.length,u=0;u<i;u++){var l=r[u],f=e[l];f.parent!==null&&(t[l]=IRe(l,e))}return t},_Q=Zhe,PRe=RRe,g3={},NRe=Object.keys(_Q);function LRe(n){var e=function(t){return t==null?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),n(t))};return"conversion"in n&&(e.conversion=n.conversion),e}function BRe(n){var e=function(t){if(t==null)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=n(t);if(typeof r=="object")for(var i=r.length,u=0;u<i;u++)r[u]=Math.round(r[u]);return r};return"conversion"in n&&(e.conversion=n.conversion),e}NRe.forEach(function(n){g3[n]={},Object.defineProperty(g3[n],"channels",{value:_Q[n].channels}),Object.defineProperty(g3[n],"labels",{value:_Q[n].labels});var e=PRe(n),t=Object.keys(e);t.forEach(function(r){var i=e[r];g3[n][r]=BRe(i),g3[n][r].raw=LRe(i)})});var zRe=g3,sN=CRe,Sp=zRe,Iee=[].slice,epe=["keyword","gray","hex"],SQ={};Object.keys(Sp).forEach(function(n){SQ[Iee.call(Sp[n].labels).sort().join("")]=n});var qH={};function of(n,e){if(!(this instanceof of))return new of(n,e);if(e&&e in epe&&(e=null),e&&!(e in Sp))throw new Error("Unknown model: "+e);var t,r;if(n==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof of)this.model=n.model,this.color=n.color.slice(),this.valpha=n.valpha;else if(typeof n=="string"){var i=sN.get(n);if(i===null)throw new Error("Unable to parse color from string: "+n);this.model=i.model,r=Sp[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(n.length){this.model=e||"rgb",r=Sp[this.model].channels;var u=Iee.call(n,0,r);this.color=CQ(u,r),this.valpha=typeof n[r]=="number"?n[r]:1}else if(typeof n=="number")n&=16777215,this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{this.valpha=1;var l=Object.keys(n);"alpha"in n&&(l.splice(l.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0);var f=l.sort().join("");if(!(f in SQ))throw new Error("Unable to parse color from object: "+JSON.stringify(n));this.model=SQ[f];var h=Sp[this.model].labels,g=[];for(t=0;t<h.length;t++)g.push(n[h[t]]);this.color=CQ(g)}if(qH[this.model])for(r=Sp[this.model].channels,t=0;t<r;t++){var y=qH[this.model][t];y&&(this.color[t]=y(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}of.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(n){var e=this.model in sN.to?this:this.rgb();e=e.round(typeof n=="number"?n:1);var t=e.valpha===1?e.color:e.color.concat(this.valpha);return sN.to[e.model](t)},percentString:function(n){var e=this.rgb().round(typeof n=="number"?n:1),t=e.valpha===1?e.color:e.color.concat(this.valpha);return sN.to.rgb.percent(t)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var n={},e=Sp[this.model].channels,t=Sp[this.model].labels,r=0;r<e;r++)n[t[r]]=this.color[r];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray:function(){var n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject:function(){var n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round:function(n){return n=Math.max(n||0,0),new of(this.color.map(HRe(n)).concat(this.valpha),this.model)},alpha:function(n){return arguments.length?new of(this.color.concat(Math.max(0,Math.min(1,n))),this.model):this.valpha},red:Ks("rgb",0,dc(255)),green:Ks("rgb",1,dc(255)),blue:Ks("rgb",2,dc(255)),hue:Ks(["hsl","hsv","hsl","hwb","hcg"],0,function(n){return(n%360+360)%360}),saturationl:Ks("hsl",1,dc(100)),lightness:Ks("hsl",2,dc(100)),saturationv:Ks("hsv",1,dc(100)),value:Ks("hsv",2,dc(100)),chroma:Ks("hcg",1,dc(100)),gray:Ks("hcg",2,dc(100)),white:Ks("hwb",1,dc(100)),wblack:Ks("hwb",2,dc(100)),cyan:Ks("cmyk",0,dc(100)),magenta:Ks("cmyk",1,dc(100)),yellow:Ks("cmyk",2,dc(100)),black:Ks("cmyk",3,dc(100)),x:Ks("xyz",0,dc(100)),y:Ks("xyz",1,dc(100)),z:Ks("xyz",2,dc(100)),l:Ks("lab",0,dc(100)),a:Ks("lab",1),b:Ks("lab",2),keyword:function(n){return arguments.length?new of(n):Sp[this.model].keyword(this.color)},hex:function(n){return arguments.length?new of(n):sN.to.hex(this.rgb().round().color)},rgbNumber:function(){var n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity:function(){for(var n=this.rgb().color,e=[],t=0;t<n.length;t++){var r=n[t]/255;e[t]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(n){var e=this.luminosity(),t=n.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level:function(n){var e=this.contrast(n);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var n=this.rgb().color,e=(n[0]*299+n[1]*587+n[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var n=this.rgb(),e=0;e<3;e++)n.color[e]=255-n.color[e];return n},lighten:function(n){var e=this.hsl();return e.color[2]+=e.color[2]*n,e},darken:function(n){var e=this.hsl();return e.color[2]-=e.color[2]*n,e},saturate:function(n){var e=this.hsl();return e.color[1]+=e.color[1]*n,e},desaturate:function(n){var e=this.hsl();return e.color[1]-=e.color[1]*n,e},whiten:function(n){var e=this.hwb();return e.color[1]+=e.color[1]*n,e},blacken:function(n){var e=this.hwb();return e.color[2]+=e.color[2]*n,e},grayscale:function(){var n=this.rgb().color,e=n[0]*.3+n[1]*.59+n[2]*.11;return of.rgb(e,e,e)},fade:function(n){return this.alpha(this.valpha-this.valpha*n)},opaquer:function(n){return this.alpha(this.valpha+this.valpha*n)},rotate:function(n){var e=this.hsl(),t=e.color[0];return t=(t+n)%360,t=t<0?360+t:t,e.color[0]=t,e},mix:function(n,e){if(!n||!n.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof n);var t=n.rgb(),r=this.rgb(),i=e===void 0?.5:e,u=2*i-1,l=t.alpha()-r.alpha(),f=((u*l===-1?u:(u+l)/(1+u*l))+1)/2,h=1-f;return of.rgb(f*t.red()+h*r.red(),f*t.green()+h*r.green(),f*t.blue()+h*r.blue(),t.alpha()*i+r.alpha()*(1-i))}};Object.keys(Sp).forEach(function(n){if(epe.indexOf(n)===-1){var e=Sp[n].channels;of.prototype[n]=function(){if(this.model===n)return new of(this);if(arguments.length)return new of(arguments,n);var t=typeof arguments[e]=="number"?e:this.valpha;return new of(VRe(Sp[this.model][n].raw(this.color)).concat(t),n)},of[n]=function(t){return typeof t=="number"&&(t=CQ(Iee.call(arguments),e)),new of(t,n)}}});function FRe(n,e){return Number(n.toFixed(e))}function HRe(n){return function(e){return FRe(e,n)}}function Ks(n,e,t){return n=Array.isArray(n)?n:[n],n.forEach(function(r){(qH[r]||(qH[r]=[]))[e]=t}),n=n[0],function(r){var i;return arguments.length?(t&&(r=t(r)),i=this[n](),i.color[e]=r,i):(i=this[n]().color[e],t&&(i=t(i)),i)}}function dc(n){return function(e){return Math.max(0,Math.min(n,e))}}function VRe(n){return Array.isArray(n)?n:[n]}function CQ(n,e){for(var t=0;t<e;t++)typeof n[t]!="number"&&(n[t]=0);return n}var jRe=of,tpe={};const URe=jRe;tpe.getRgbStr=function(n){return URe(n).rgb().round().color.join(",")};const WRe=["hex","rgb","hsl"];function qRe(n){return!n||WRe.indexOf(n)<0?"hex":n}tpe.getColorString=function(n,e){const t=qRe(e);return t==="hex"?n[t]():n[t]().round().string()};function $Re(){const n=Ao(null);function e(r){n.value=r}async function t(){const r=io(n);if(!r)throw Error("The form instance is not registered");return await Sh(),r}return{formInstance:n,register:e,getForm:t,validate:async r=>{const i=await t();i==null||i.validate(r)},scrollToField:async()=>{const r=await t();r==null||r.scrollToField()},resetFields:async()=>{const r=await t();r==null||r.resetFields()},clearValidate:async()=>{const r=await t();r==null||r.clearValidate()},validateField:async()=>{const r=await t();r==null||r.validateField()},forceUpdateModel:async r=>{const i=await t();i==null||i.forceUpdateModel(r)},setFieldValue:async(r,i)=>{const u=await t();u==null||u.setFieldValue(r,i)},getFieldValue:async r=>{const i=await t();i==null||i.getFieldValue(r)}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var TQ=function(n,e){return TQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},TQ(n,e)};function Tn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");TQ(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var GRe=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),XRe=function(){function n(){this.browser=new GRe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n}(),JT=new XRe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(JT.wxa=!0,JT.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?JT.worker=!0:typeof navigator>"u"?(JT.node=!0,JT.svgSupported=!0):YRe(navigator.userAgent,JT);function YRe(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),u=n.match(/Edge?\/([\d.]+)/),l=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),u&&(t.edge=!0,t.version=u[1],t.newEdge=+u[1].split(".")[0]>18),l&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var f=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in f||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}const Li=JT;var Ree=12,KRe="sans-serif",wM=Ree+"px "+KRe,JRe=20,QRe=100,ZRe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function ePe(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),i=(n.charCodeAt(t)-JRe)/QRe;e[r]=i}return e}var tPe=ePe(ZRe),Ib={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,e;return function(t,r){if(!n){var i=Ib.createCanvas();n=i&&i.getContext("2d")}if(n)return e!==r&&(e=n.font=r||wM),n.measureText(t);t=t||"",r=r||wM;var u=/(\d+)px/.exec(r),l=u&&+u[1]||Ree,f=0;if(r.indexOf("mono")>=0)f=l*t.length;else for(var h=0;h<t.length;h++){var g=tPe[t[h]];f+=g==null?l:g*l}return{width:f}}}(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}};function npe(n){for(var e in Ib)n[e]&&(Ib[e]=n[e])}var rpe=Jm(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),ope=Jm(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),l5=Object.prototype.toString,GV=Array.prototype,nPe=GV.forEach,rPe=GV.filter,Pee=GV.slice,oPe=GV.map,Wie=(function(){}).constructor,aF=Wie?Wie.prototype:null,Nee="__proto__",iPe=2311;function Lee(){return iPe++}function XV(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function vo(n){if(n==null||typeof n!="object")return n;var e=n,t=l5.call(n);if(t==="[object Array]"){if(!D3(n)){e=[];for(var r=0,i=n.length;r<i;r++)e[r]=vo(n[r])}}else if(ope[t]){if(!D3(n)){var u=n.constructor;if(u.from)e=u.from(n);else{e=new u(n.length);for(var r=0,i=n.length;r<i;r++)e[r]=n[r]}}}else if(!rpe[t]&&!D3(n)&&!$3(n)){e={};for(var l in n)n.hasOwnProperty(l)&&l!==Nee&&(e[l]=vo(n[l]))}return e}function Vo(n,e,t){if(!no(e)||!no(n))return t?vo(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==Nee){var i=n[r],u=e[r];no(u)&&no(i)&&!sr(u)&&!sr(i)&&!$3(u)&&!$3(i)&&!MQ(u)&&!MQ(i)&&!D3(u)&&!D3(i)?Vo(i,u,t):(t||!(r in n))&&(n[r]=vo(e[r]))}return n}function ipe(n,e){for(var t=n[0],r=1,i=n.length;r<i;r++)t=Vo(t,n[r],e);return t}function Gn(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==Nee&&(n[t]=e[t]);return n}function Co(n,e,t){for(var r=ga(e),i=0;i<r.length;i++){var u=r[i];(t?e[u]!=null:n[u]==null)&&(n[u]=e[u])}return n}var aPe=Ib.createCanvas;function Di(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function Bee(n,e){var t=n.prototype;function r(){}r.prototype=e.prototype,n.prototype=new r;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);n.prototype.constructor=n,n.superClass=e}function cf(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var u=r[i];u!=="constructor"&&(t?e[u]!=null:n[u]==null)&&(n[u]=e[u])}else Co(n,e,t)}function $f(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function Te(n,e,t){if(n&&e)if(n.forEach&&n.forEach===nPe)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);else for(var u in n)n.hasOwnProperty(u)&&e.call(t,n[u],u,n)}function br(n,e,t){if(!n)return[];if(!e)return YV(n);if(n.map&&n.map===oPe)return n.map(e,t);for(var r=[],i=0,u=n.length;i<u;i++)r.push(e.call(t,n[i],i,n));return r}function Jm(n,e,t,r){if(n&&e){for(var i=0,u=n.length;i<u;i++)t=e.call(r,t,n[i],i,n);return t}}function Ls(n,e,t){if(!n)return[];if(!e)return YV(n);if(n.filter&&n.filter===rPe)return n.filter(e,t);for(var r=[],i=0,u=n.length;i<u;i++)e.call(t,n[i],i,n)&&r.push(n[i]);return r}function ape(n,e,t){if(n&&e){for(var r=0,i=n.length;r<i;r++)if(e.call(t,n[r],r,n))return n[r]}}function ga(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function uPe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(Pee.call(arguments)))}}var Ur=aF&&Eo(aF.bind)?aF.call.bind(aF.bind):uPe;function ji(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(Pee.call(arguments)))}}function sr(n){return Array.isArray?Array.isArray(n):l5.call(n)==="[object Array]"}function Eo(n){return typeof n=="function"}function Nr(n){return typeof n=="string"}function $H(n){return l5.call(n)==="[object String]"}function su(n){return typeof n=="number"}function no(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function MQ(n){return!!rpe[l5.call(n)]}function Mh(n){return!!ope[l5.call(n)]}function $3(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function EL(n){return n.colorStops!=null}function upe(n){return n.image!=null}function sPe(n){return l5.call(n)==="[object RegExp]"}function KN(n){return n!==n}function Rb(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(n[t]!=null)return n[t]}function Gi(n,e){return n??e}function k3(n,e,t){return n??e??t}function YV(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return Pee.apply(n,e)}function zee(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function Ap(n,e){if(!n)throw new Error(e)}function Ym(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var spe="__ec_primitive__";function GH(n){n[spe]=!0}function D3(n){return n[spe]}var lPe=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return ga(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n}(),lpe=typeof Map=="function";function cPe(){return lpe?new Map:new lPe}var cpe=function(){function n(e){var t=sr(e);this.data=cPe();var r=this;e instanceof n?e.each(i):e&&Te(e,i);function i(u,l){t?r.set(u,l):r.set(l,u)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,i){e.call(t,r,i)})},n.prototype.keys=function(){var e=this.data.keys();return lpe?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function to(n){return new cpe(n)}function fpe(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];for(var i=n.length,r=0;r<e.length;r++)t[r+i]=e[r];return t}function OL(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&Gn(t,e),t}function Fee(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function Zo(n,e){return n.hasOwnProperty(e)}function af(){}var dpe=180/Math.PI;const fPe=Object.freeze(Object.defineProperty({__proto__:null,HashMap:cpe,RADIAN_TO_DEGREE:dpe,assert:Ap,bind:Ur,clone:vo,concatArray:fpe,createCanvas:aPe,createHashMap:to,createObject:OL,curry:ji,defaults:Co,disableUserSelect:Fee,each:Te,eqNaN:KN,extend:Gn,filter:Ls,find:ape,guid:Lee,hasOwn:Zo,indexOf:Di,inherits:Bee,isArray:sr,isArrayLike:$f,isBuiltInObject:MQ,isDom:$3,isFunction:Eo,isGradientObject:EL,isImagePatternObject:upe,isNumber:su,isObject:no,isPrimitive:D3,isRegExp:sPe,isString:Nr,isStringSafe:$H,isTypedArray:Mh,keys:ga,logError:XV,map:br,merge:Vo,mergeAll:ipe,mixin:cf,noop:af,normalizeCssArray:zee,reduce:Jm,retrieve:Rb,retrieve2:Gi,retrieve3:k3,setAsPrimitive:GH,slice:YV,trim:Ym},Symbol.toStringTag,{value:"Module"}));function IM(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function hpe(n,e){return n[0]=e[0],n[1]=e[1],n}function ppe(n){return[n[0],n[1]]}function dPe(n,e,t){return n[0]=e,n[1]=t,n}function kQ(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function hPe(n,e,t,r){return n[0]=e[0]+t[0]*r,n[1]=e[1]+t[1]*r,n}function mpe(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function Hee(n){return Math.sqrt(Vee(n))}var pPe=Hee;function Vee(n){return n[0]*n[0]+n[1]*n[1]}var mPe=Vee;function gPe(n,e,t){return n[0]=e[0]*t[0],n[1]=e[1]*t[1],n}function vPe(n,e,t){return n[0]=e[0]/t[0],n[1]=e[1]/t[1],n}function yPe(n,e){return n[0]*e[0]+n[1]*e[1]}function cH(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function gpe(n,e){var t=Hee(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function XH(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var YH=XH;function vpe(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var fM=vpe;function bPe(n,e){return n[0]=-e[0],n[1]=-e[1],n}function fH(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function Ic(n,e,t){var r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function _b(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Sb(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}const xPe=Object.freeze(Object.defineProperty({__proto__:null,add:kQ,applyTransform:Ic,clone:ppe,copy:hpe,create:IM,dist:YH,distSquare:fM,distance:XH,distanceSquare:vpe,div:vPe,dot:yPe,len:Hee,lenSquare:Vee,length:pPe,lengthSquare:mPe,lerp:fH,max:Sb,min:_b,mul:gPe,negate:bPe,normalize:gpe,scale:cH,scaleAndAdd:hPe,set:dPe,sub:mpe},Symbol.toStringTag,{value:"Module"}));var KE=function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n}(),wPe=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new KE(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,i=e.offsetY,u=r-this._x,l=i-this._y;this._x=r,this._y=i,t.drift(u,l,e),this.handler.dispatchToElement(new KE(t,e),"drag",e.event);var f=this.handler.findHover(r,i,t).target,h=this._dropTarget;this._dropTarget=f,t!==f&&(h&&f!==h&&this.handler.dispatchToElement(new KE(h,e),"dragleave",e.event),f&&f!==h&&this.handler.dispatchToElement(new KE(f,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new KE(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new KE(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const _Pe=wPe;var SPe=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,i){this._$handlers||(this._$handlers={});var u=this._$handlers;if(typeof t=="function"&&(i=r,r=t,t=null),!r||!e)return this;var l=this._$eventProcessor;t!=null&&l&&l.normalizeQuery&&(t=l.normalizeQuery(t)),u[e]||(u[e]=[]);for(var f=0;f<u[e].length;f++)if(u[e][f].h===r)return this;var h={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},g=u[e].length-1,y=u[e][g];return y&&y.callAtLast?u[e].splice(g,0,h):u[e].push(h),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var i=[],u=0,l=r[e].length;u<l;u++)r[e][u].h!==t&&i.push(r[e][u]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],u=this._$eventProcessor;if(i)for(var l=t.length,f=i.length,h=0;h<f;h++){var g=i[h];if(!(u&&u.filter&&g.query!=null&&!u.filter(e,g.query)))switch(l){case 0:g.h.call(g.ctx);break;case 1:g.h.call(g.ctx,t[0]);break;case 2:g.h.call(g.ctx,t[0],t[1]);break;default:g.h.apply(g.ctx,t);break}}return u&&u.afterTrigger&&u.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],u=this._$eventProcessor;if(i)for(var l=t.length,f=t[l-1],h=i.length,g=0;g<h;g++){var y=i[g];if(!(u&&u.filter&&y.query!=null&&!u.filter(e,y.query)))switch(l){case 0:y.h.call(f);break;case 1:y.h.call(f,t[0]);break;case 2:y.h.call(f,t[0],t[1]);break;default:y.h.apply(f,t.slice(1,l-1));break}}return u&&u.afterTrigger&&u.afterTrigger(e),this},n}();const eg=SPe;var CPe=Math.log(2);function DQ(n,e,t,r,i,u){var l=r+"-"+i,f=n.length;if(u.hasOwnProperty(l))return u[l];if(e===1){var h=Math.round(Math.log((1<<f)-1&~i)/CPe);return n[t][h]}for(var g=r|1<<t,y=t+1;r&1<<y;)y++;for(var b=0,S=0,_=0;S<f;S++){var k=1<<S;k&i||(b+=(_%2?-1:1)*n[t][S]*DQ(n,e-1,y,g,i|k,u),_++)}return u[l]=b,b}function qie(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},i=DQ(t,8,0,0,0,r);if(i!==0){for(var u=[],l=0;l<8;l++)for(var f=0;f<8;f++)u[f]==null&&(u[f]=0),u[f]+=((l+f)%2?-1:1)*DQ(t,7,l===0?1:0,1<<l,1<<f,r)/i*e[l];return function(h,g,y){var b=g*u[6]+y*u[7]+1;h[0]=(g*u[0]+y*u[1]+u[2])/b,h[1]=(g*u[3]+y*u[4]+u[5])/b}}}var $ie="___zrEVENTSAVED",dK=[];function TPe(n,e,t,r,i){return AQ(dK,e,r,i,!0)&&AQ(n,t,dK[0],dK[1])}function AQ(n,e,t,r,i){if(e.getBoundingClientRect&&Li.domSupported&&!ype(e)){var u=e[$ie]||(e[$ie]={}),l=MPe(e,u),f=kPe(l,u,i);if(f)return f(n,t,r),!0}return!1}function MPe(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],i=["top","bottom"],u=0;u<4;u++){var l=document.createElement("div"),f=l.style,h=u%2,g=(u>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[h]+":0",i[g]+":0",r[1-h]+":auto",i[1-g]+":auto",""].join("!important;"),n.appendChild(l),t.push(l)}return t}function kPe(n,e,t){for(var r=t?"invTrans":"trans",i=e[r],u=e.srcCoords,l=[],f=[],h=!0,g=0;g<4;g++){var y=n[g].getBoundingClientRect(),b=2*g,S=y.left,_=y.top;l.push(S,_),h=h&&u&&S===u[b]&&_===u[b+1],f.push(n[g].offsetLeft,n[g].offsetTop)}return h&&i?i:(e.srcCoords=l,e[r]=t?qie(f,l):qie(l,f))}function ype(n){return n.nodeName.toUpperCase()==="CANVAS"}var DPe=/([&<>"'])/g,APe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yh(n){return n==null?"":(n+"").replace(DPe,function(e,t){return APe[t]})}var EPe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,hK=[],OPe=Li.browser.firefox&&+Li.browser.version.split(".")[0]<39;function EQ(n,e,t,r){return t=t||{},r?Gie(n,e,t):OPe&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):Gie(n,e,t),t}function Gie(n,e,t){if(Li.domSupported&&n.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(ype(n)){var u=n.getBoundingClientRect();t.zrX=r-u.left,t.zrY=i-u.top;return}else if(AQ(hK,n,r,i)){t.zrX=hK[0],t.zrY=hK[1];return}}t.zrX=t.zrY=0}function jee(n){return n||window.event}function Fm(n,e,t){if(e=jee(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var u=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];u&&EQ(n,u,e,t)}else{EQ(n,e,e,t);var l=IPe(e);e.zrDelta=l?l/120:-(e.detail||0)/3}var f=e.button;return e.which==null&&f!==void 0&&EPe.test(e.type)&&(e.which=f&1?1:f&2?3:f&4?2:0),e}function IPe(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;if(t==null||r==null)return e;var i=Math.abs(r!==0?r:t),u=r>0?-1:r<0?1:t>0?-1:1;return 3*i*u}function OQ(n,e,t,r){n.addEventListener(e,t,r)}function RPe(n,e,t,r){n.removeEventListener(e,t,r)}var Pb=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function Xie(n){return n.which===2||n.which===3}var PPe=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var i=e.touches;if(i){for(var u={points:[],touches:[],target:t,event:e},l=0,f=i.length;l<f;l++){var h=i[l],g=EQ(r,h,{});u.points.push([g.zrX,g.zrY]),u.touches.push(h)}this._track.push(u)}},n.prototype._recognize=function(e){for(var t in pK)if(pK.hasOwnProperty(t)){var r=pK[t](this._track,e);if(r)return r}},n}();function Yie(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function NPe(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var pK={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,i=(n[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var u=Yie(r)/Yie(i);!isFinite(u)&&(u=1),e.pinchScale=u;var l=NPe(r);return e.pinchX=l[0],e.pinchY=l[1],{type:"pinch",target:n[0].target,event:e}}}}};function Qm(){return[1,0,0,1,0,0]}function IL(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function KV(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function fy(n,e,t){var r=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],u=e[0]*t[2]+e[2]*t[3],l=e[1]*t[2]+e[3]*t[3],f=e[0]*t[4]+e[2]*t[5]+e[4],h=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=r,n[1]=i,n[2]=u,n[3]=l,n[4]=f,n[5]=h,n}function Nb(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function i_(n,e,t){var r=e[0],i=e[2],u=e[4],l=e[1],f=e[3],h=e[5],g=Math.sin(t),y=Math.cos(t);return n[0]=r*y+l*g,n[1]=-r*g+l*y,n[2]=i*y+f*g,n[3]=-i*g+y*f,n[4]=y*u+g*h,n[5]=y*h-g*u,n}function Uee(n,e,t){var r=t[0],i=t[1];return n[0]=e[0]*r,n[1]=e[1]*i,n[2]=e[2]*r,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*i,n}function c5(n,e){var t=e[0],r=e[2],i=e[4],u=e[1],l=e[3],f=e[5],h=t*l-u*r;return h?(h=1/h,n[0]=l*h,n[1]=-u*h,n[2]=-r*h,n[3]=t*h,n[4]=(r*f-l*i)*h,n[5]=(u*i-t*f)*h,n):null}function LPe(n){var e=Qm();return KV(e,n),e}const BPe=Object.freeze(Object.defineProperty({__proto__:null,clone:LPe,copy:KV,create:Qm,identity:IL,invert:c5,mul:fy,rotate:i_,scale:Uee,translate:Nb},Symbol.toStringTag,{value:"Module"}));var zPe=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,i){e.x=t.x+r.x*i,e.y=t.y+r.y*i},n.lerp=function(e,t,r,i){var u=1-i;e.x=u*t.x+i*r.x,e.y=u*t.y+i*r.y},n}();const di=zPe;var uF=Math.min,sF=Math.max,kT=new di,DT=new di,AT=new di,ET=new di,IP=new di,RP=new di,FPe=function(){function n(e,t,r,i){r<0&&(e=e+r,r=-r),i<0&&(t=t+i,i=-i),this.x=e,this.y=t,this.width=r,this.height=i}return n.prototype.union=function(e){var t=uF(e.x,this.x),r=uF(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=sF(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=sF(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,i=e.height/t.height,u=Qm();return Nb(u,u,[-t.x,-t.y]),Uee(u,u,[r,i]),Nb(u,u,[e.x,e.y]),u},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var r=this,i=r.x,u=r.x+r.width,l=r.y,f=r.y+r.height,h=e.x,g=e.x+e.width,y=e.y,b=e.y+e.height,S=!(u<h||g<i||f<y||b<l);if(t){var _=1/0,k=0,A=Math.abs(u-h),R=Math.abs(g-i),I=Math.abs(f-y),z=Math.abs(b-l),L=Math.min(A,R),q=Math.min(I,z);u<h||g<i?L>k&&(k=L,A<R?di.set(RP,-A,0):di.set(RP,R,0)):L<_&&(_=L,A<R?di.set(IP,A,0):di.set(IP,-R,0)),f<y||b<l?q>k&&(k=q,I<z?di.set(RP,0,-I):di.set(RP,0,z)):L<_&&(_=L,I<z?di.set(IP,0,I):di.set(IP,0,-z))}return t&&di.copy(t,S?IP:RP),S},n.prototype.contain=function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,r){if(!r){e!==t&&n.copy(e,t);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],u=r[3],l=r[4],f=r[5];e.x=t.x*i+l,e.y=t.y*u+f,e.width=t.width*i,e.height=t.height*u,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}kT.x=AT.x=t.x,kT.y=ET.y=t.y,DT.x=ET.x=t.x+t.width,DT.y=AT.y=t.y+t.height,kT.transform(r),ET.transform(r),DT.transform(r),AT.transform(r),e.x=uF(kT.x,DT.x,AT.x,ET.x),e.y=uF(kT.y,DT.y,AT.y,ET.y);var h=sF(kT.x,DT.x,AT.x,ET.x),g=sF(kT.y,DT.y,AT.y,ET.y);e.width=h-e.x,e.height=g-e.y},n}();const vi=FPe;var bpe="silent";function HPe(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:VPe}}function VPe(){Pb(this.event)}var jPe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(eg),PP=function(){function n(e,t){this.x=e,this.y=t}return n}(),UPe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],mK=new vi(0,0,0,0),xpe=function(n){Tn(e,n);function e(t,r,i,u,l){var f=n.call(this)||this;return f._hovered=new PP(0,0),f.storage=t,f.painter=r,f.painterRoot=u,f._pointerSize=l,i=i||new jPe,f.proxy=null,f.setHandlerProxy(i),f._draggingMgr=new _Pe(f),f}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(Te(UPe,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,u=wpe(this,r,i),l=this._hovered,f=l.target;f&&!f.__zr&&(l=this.findHover(l.x,l.y),f=l.target);var h=this._hovered=u?new PP(r,i):this.findHover(r,i),g=h.target,y=this.proxy;y.setCursor&&y.setCursor(g?g.cursor:"default"),f&&g!==f&&this.dispatchToElement(l,"mouseout",t),this.dispatchToElement(h,"mousemove",t),g&&g!==f&&this.dispatchToElement(h,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new PP(0,0)},e.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,i){t=t||{};var u=t.target;if(!(u&&u.silent)){for(var l="on"+r,f=HPe(r,t,i);u&&(u[l]&&(f.cancelBubble=!!u[l].call(u,f)),u.trigger(r,f),u=u.__hostTarget?u.__hostTarget:u.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(r,f),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(h){typeof h[l]=="function"&&h[l].call(h,f),h.trigger&&h.trigger(r,f)}))}},e.prototype.findHover=function(t,r,i){var u=this.storage.getDisplayList(),l=new PP(t,r);if(Kie(u,l,t,r,i),this._pointerSize&&!l.target){for(var f=[],h=this._pointerSize,g=h/2,y=new vi(t-g,r-g,h,h),b=u.length-1;b>=0;b--){var S=u[b];S!==i&&!S.ignore&&!S.ignoreCoarsePointer&&(!S.parent||!S.parent.ignoreCoarsePointer)&&(mK.copy(S.getBoundingRect()),S.transform&&mK.applyTransform(S.transform),mK.intersect(y)&&f.push(S))}if(f.length)for(var _=4,k=Math.PI/12,A=Math.PI*2,R=0;R<g;R+=_)for(var I=0;I<A;I+=k){var z=t+R*Math.cos(I),L=r+R*Math.sin(I);if(Kie(f,l,z,L,i),l.target)return l}}return l},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new PPe);var i=this._gestureMgr;r==="start"&&i.clear();var u=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),u){var l=u.type;t.gestureEvent=l;var f=new PP;f.target=u.target,this.dispatchToElement(f,l,u.event)}},e}(eg);Te(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){xpe.prototype[n]=function(e){var t=e.zrX,r=e.zrY,i=wpe(this,t,r),u,l;if((n!=="mouseup"||!i)&&(u=this.findHover(t,r),l=u.target),n==="mousedown")this._downEl=l,this._downPoint=[e.zrX,e.zrY],this._upEl=l;else if(n==="mouseup")this._upEl=l;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||YH(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(u,n,e)}});function WPe(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,i=void 0,u=!1;r;){if(r.ignoreClip&&(u=!0),!u){var l=r.getClipPath();if(l&&!l.contain(e,t))return!1;r.silent&&(i=!0)}var f=r.__hostTarget;r=f||r.parent}return i?bpe:!0}return!1}function Kie(n,e,t,r,i){for(var u=n.length-1;u>=0;u--){var l=n[u],f=void 0;if(l!==i&&!l.ignore&&(f=WPe(l,t,r))&&(!e.topTarget&&(e.topTarget=l),f!==bpe)){e.target=l;break}}}function wpe(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}const qPe=xpe;var _pe=32,NP=7;function $Pe(n){for(var e=0;n>=_pe;)e|=n&1,n>>=1;return n+e}function Jie(n,e,t,r){var i=e+1;if(i===t)return 1;if(r(n[i++],n[e])<0){for(;i<t&&r(n[i],n[i-1])<0;)i++;GPe(n,e,i)}else for(;i<t&&r(n[i],n[i-1])>=0;)i++;return i-e}function GPe(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}function Qie(n,e,t,r,i){for(r===e&&r++;r<t;r++){for(var u=n[r],l=e,f=r,h;l<f;)h=l+f>>>1,i(u,n[h])<0?f=h:l=h+1;var g=r-l;switch(g){case 3:n[l+3]=n[l+2];case 2:n[l+2]=n[l+1];case 1:n[l+1]=n[l];break;default:for(;g>0;)n[l+g]=n[l+g-1],g--}n[l]=u}}function gK(n,e,t,r,i,u){var l=0,f=0,h=1;if(u(n,e[t+i])>0){for(f=r-i;h<f&&u(n,e[t+i+h])>0;)l=h,h=(h<<1)+1,h<=0&&(h=f);h>f&&(h=f),l+=i,h+=i}else{for(f=i+1;h<f&&u(n,e[t+i-h])<=0;)l=h,h=(h<<1)+1,h<=0&&(h=f);h>f&&(h=f);var g=l;l=i-h,h=i-g}for(l++;l<h;){var y=l+(h-l>>>1);u(n,e[t+y])>0?l=y+1:h=y}return h}function vK(n,e,t,r,i,u){var l=0,f=0,h=1;if(u(n,e[t+i])<0){for(f=i+1;h<f&&u(n,e[t+i-h])<0;)l=h,h=(h<<1)+1,h<=0&&(h=f);h>f&&(h=f);var g=l;l=i-h,h=i-g}else{for(f=r-i;h<f&&u(n,e[t+i+h])>=0;)l=h,h=(h<<1)+1,h<=0&&(h=f);h>f&&(h=f),l+=i,h+=i}for(l++;l<h;){var y=l+(h-l>>>1);u(n,e[t+y])<0?h=y:l=y+1}return h}function XPe(n,e){var t=NP,r,i,u=0;n.length;var l=[];r=[],i=[];function f(_,k){r[u]=_,i[u]=k,u+=1}function h(){for(;u>1;){var _=u-2;if(_>=1&&i[_-1]<=i[_]+i[_+1]||_>=2&&i[_-2]<=i[_]+i[_-1])i[_-1]<i[_+1]&&_--;else if(i[_]>i[_+1])break;y(_)}}function g(){for(;u>1;){var _=u-2;_>0&&i[_-1]<i[_+1]&&_--,y(_)}}function y(_){var k=r[_],A=i[_],R=r[_+1],I=i[_+1];i[_]=A+I,_===u-3&&(r[_+1]=r[_+2],i[_+1]=i[_+2]),u--;var z=vK(n[R],n,k,A,0,e);k+=z,A-=z,A!==0&&(I=gK(n[k+A-1],n,R,I,I-1,e),I!==0&&(A<=I?b(k,A,R,I):S(k,A,R,I)))}function b(_,k,A,R){var I=0;for(I=0;I<k;I++)l[I]=n[_+I];var z=0,L=A,q=_;if(n[q++]=n[L++],--R===0){for(I=0;I<k;I++)n[q+I]=l[z+I];return}if(k===1){for(I=0;I<R;I++)n[q+I]=n[L+I];n[q+R]=l[z];return}for(var X=t,Y,ae,te;;){Y=0,ae=0,te=!1;do if(e(n[L],l[z])<0){if(n[q++]=n[L++],ae++,Y=0,--R===0){te=!0;break}}else if(n[q++]=l[z++],Y++,ae=0,--k===1){te=!0;break}while((Y|ae)<X);if(te)break;do{if(Y=vK(n[L],l,z,k,0,e),Y!==0){for(I=0;I<Y;I++)n[q+I]=l[z+I];if(q+=Y,z+=Y,k-=Y,k<=1){te=!0;break}}if(n[q++]=n[L++],--R===0){te=!0;break}if(ae=gK(l[z],n,L,R,0,e),ae!==0){for(I=0;I<ae;I++)n[q+I]=n[L+I];if(q+=ae,L+=ae,R-=ae,R===0){te=!0;break}}if(n[q++]=l[z++],--k===1){te=!0;break}X--}while(Y>=NP||ae>=NP);if(te)break;X<0&&(X=0),X+=2}if(t=X,t<1&&(t=1),k===1){for(I=0;I<R;I++)n[q+I]=n[L+I];n[q+R]=l[z]}else{if(k===0)throw new Error;for(I=0;I<k;I++)n[q+I]=l[z+I]}}function S(_,k,A,R){var I=0;for(I=0;I<R;I++)l[I]=n[A+I];var z=_+k-1,L=R-1,q=A+R-1,X=0,Y=0;if(n[q--]=n[z--],--k===0){for(X=q-(R-1),I=0;I<R;I++)n[X+I]=l[I];return}if(R===1){for(q-=k,z-=k,Y=q+1,X=z+1,I=k-1;I>=0;I--)n[Y+I]=n[X+I];n[q]=l[L];return}for(var ae=t;;){var te=0,ie=0,le=!1;do if(e(l[L],n[z])<0){if(n[q--]=n[z--],te++,ie=0,--k===0){le=!0;break}}else if(n[q--]=l[L--],ie++,te=0,--R===1){le=!0;break}while((te|ie)<ae);if(le)break;do{if(te=k-vK(l[L],n,_,k,k-1,e),te!==0){for(q-=te,z-=te,k-=te,Y=q+1,X=z+1,I=te-1;I>=0;I--)n[Y+I]=n[X+I];if(k===0){le=!0;break}}if(n[q--]=l[L--],--R===1){le=!0;break}if(ie=R-gK(n[z],l,0,R,R-1,e),ie!==0){for(q-=ie,L-=ie,R-=ie,Y=q+1,X=L+1,I=0;I<ie;I++)n[Y+I]=l[X+I];if(R<=1){le=!0;break}}if(n[q--]=n[z--],--k===0){le=!0;break}ae--}while(te>=NP||ie>=NP);if(le)break;ae<0&&(ae=0),ae+=2}if(t=ae,t<1&&(t=1),R===1){for(q-=k,z-=k,Y=q+1,X=z+1,I=k-1;I>=0;I--)n[Y+I]=n[X+I];n[q]=l[L]}else{if(R===0)throw new Error;for(X=q-(R-1),I=0;I<R;I++)n[X+I]=l[I]}}return{mergeRuns:h,forceMergeRuns:g,pushRun:f}}function dH(n,e,t,r){t||(t=0),r||(r=n.length);var i=r-t;if(!(i<2)){var u=0;if(i<_pe){u=Jie(n,t,r,e),Qie(n,t,r,t+u,e);return}var l=XPe(n,e),f=$Pe(i);do{if(u=Jie(n,t,r,e),u<f){var h=i;h>f&&(h=f),Qie(n,t,t+h,t+u,e),u=h}l.pushRun(t,u),l.mergeRuns(),i-=u,t+=u}while(i!==0);l.forceMergeRuns()}}var Cp=1,lN=2,v3=4,Zie=!1;function yK(){Zie||(Zie=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function eae(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var YPe=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=eae}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,u=t.length;i<u;i++)this._updateAndAddDisplayable(t[i],null,e);r.length=this._displayListLen,dH(r,eae)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t?t=t.slice():t=[];for(var u=i,l=e;u;)u.parent=l,u.updateTransform(),t.push(u),l=u,u=u.getClipPath()}if(e.childrenRef){for(var f=e.childrenRef(),h=0;h<f.length;h++){var g=f[h];e.__dirty&&(g.__dirty|=Cp),this._updateAndAddDisplayable(g,t,r)}e.__dirty=0}else{var y=e;t&&t.length?y.__clipPaths=t:y.__clipPaths&&y.__clipPaths.length>0&&(y.__clipPaths=[]),isNaN(y.z)&&(yK(),y.z=0),isNaN(y.z2)&&(yK(),y.z2=0),isNaN(y.zlevel)&&(yK(),y.zlevel=0),this._displayList[this._displayListLen++]=y}var b=e.getDecalElement&&e.getDecalElement();b&&this._updateAndAddDisplayable(b,t,r);var S=e.getTextGuideLine();S&&this._updateAndAddDisplayable(S,t,r);var _=e.getTextContent();_&&this._updateAndAddDisplayable(_,t,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var i=Di(this._roots,e);i>=0&&this._roots.splice(i,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const KPe=YPe;var Spe;Spe=Li.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const IQ=Spe;var hH={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)))},elasticOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-hH.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?hH.bounceIn(n*2)*.5:hH.bounceOut(n*2-1)*.5+.5}};const Cpe=hH;var lF=Math.pow,q2=Math.sqrt,KH=1e-8,Tpe=1e-4,tae=q2(3),cF=1/3,iy=IM(),Um=IM(),A3=IM();function L2(n){return n>-KH&&n<KH}function Mpe(n){return n>KH||n<-KH}function pc(n,e,t,r,i){var u=1-i;return u*u*(u*n+3*i*e)+i*i*(i*r+3*u*t)}function nae(n,e,t,r,i){var u=1-i;return 3*(((e-n)*u+2*(t-e)*i)*u+(r-t)*i*i)}function JH(n,e,t,r,i,u){var l=r+3*(e-t)-n,f=3*(t-e*2+n),h=3*(e-n),g=n-i,y=f*f-3*l*h,b=f*h-9*l*g,S=h*h-3*f*g,_=0;if(L2(y)&&L2(b))if(L2(f))u[0]=0;else{var k=-h/f;k>=0&&k<=1&&(u[_++]=k)}else{var A=b*b-4*y*S;if(L2(A)){var R=b/y,k=-f/l+R,I=-R/2;k>=0&&k<=1&&(u[_++]=k),I>=0&&I<=1&&(u[_++]=I)}else if(A>0){var z=q2(A),L=y*f+1.5*l*(-b+z),q=y*f+1.5*l*(-b-z);L<0?L=-lF(-L,cF):L=lF(L,cF),q<0?q=-lF(-q,cF):q=lF(q,cF);var k=(-f-(L+q))/(3*l);k>=0&&k<=1&&(u[_++]=k)}else{var X=(2*y*f-3*l*b)/(2*q2(y*y*y)),Y=Math.acos(X)/3,ae=q2(y),te=Math.cos(Y),k=(-f-2*ae*te)/(3*l),I=(-f+ae*(te+tae*Math.sin(Y)))/(3*l),ie=(-f+ae*(te-tae*Math.sin(Y)))/(3*l);k>=0&&k<=1&&(u[_++]=k),I>=0&&I<=1&&(u[_++]=I),ie>=0&&ie<=1&&(u[_++]=ie)}}return _}function kpe(n,e,t,r,i){var u=6*t-12*e+6*n,l=9*e+3*r-3*n-9*t,f=3*e-3*n,h=0;if(L2(l)){if(Mpe(u)){var g=-f/u;g>=0&&g<=1&&(i[h++]=g)}}else{var y=u*u-4*l*f;if(L2(y))i[0]=-u/(2*l);else if(y>0){var b=q2(y),g=(-u+b)/(2*l),S=(-u-b)/(2*l);g>=0&&g<=1&&(i[h++]=g),S>=0&&S<=1&&(i[h++]=S)}}return h}function QH(n,e,t,r,i,u){var l=(e-n)*i+n,f=(t-e)*i+e,h=(r-t)*i+t,g=(f-l)*i+l,y=(h-f)*i+f,b=(y-g)*i+g;u[0]=n,u[1]=l,u[2]=g,u[3]=b,u[4]=b,u[5]=y,u[6]=h,u[7]=r}function JPe(n,e,t,r,i,u,l,f,h,g,y){var b,S=.005,_=1/0,k,A,R,I;iy[0]=h,iy[1]=g;for(var z=0;z<1;z+=.05)Um[0]=pc(n,t,i,l,z),Um[1]=pc(e,r,u,f,z),R=fM(iy,Um),R<_&&(b=z,_=R);_=1/0;for(var L=0;L<32&&!(S<Tpe);L++)k=b-S,A=b+S,Um[0]=pc(n,t,i,l,k),Um[1]=pc(e,r,u,f,k),R=fM(Um,iy),k>=0&&R<_?(b=k,_=R):(A3[0]=pc(n,t,i,l,A),A3[1]=pc(e,r,u,f,A),I=fM(A3,iy),A<=1&&I<_?(b=A,_=I):S*=.5);return y&&(y[0]=pc(n,t,i,l,b),y[1]=pc(e,r,u,f,b)),q2(_)}function QPe(n,e,t,r,i,u,l,f,h){for(var g=n,y=e,b=0,S=1/h,_=1;_<=h;_++){var k=_*S,A=pc(n,t,i,l,k),R=pc(e,r,u,f,k),I=A-g,z=R-y;b+=Math.sqrt(I*I+z*z),g=A,y=R}return b}function jf(n,e,t,r){var i=1-r;return i*(i*n+2*r*e)+r*r*t}function rae(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function ZPe(n,e,t,r,i){var u=n-2*e+t,l=2*(e-n),f=n-r,h=0;if(L2(u)){if(Mpe(l)){var g=-f/l;g>=0&&g<=1&&(i[h++]=g)}}else{var y=l*l-4*u*f;if(L2(y)){var g=-l/(2*u);g>=0&&g<=1&&(i[h++]=g)}else if(y>0){var b=q2(y),g=(-l+b)/(2*u),S=(-l-b)/(2*u);g>=0&&g<=1&&(i[h++]=g),S>=0&&S<=1&&(i[h++]=S)}}return h}function Dpe(n,e,t){var r=n+t-2*e;return r===0?.5:(n-e)/r}function ZH(n,e,t,r,i){var u=(e-n)*r+n,l=(t-e)*r+e,f=(l-u)*r+u;i[0]=n,i[1]=u,i[2]=f,i[3]=f,i[4]=l,i[5]=t}function eNe(n,e,t,r,i,u,l,f,h){var g,y=.005,b=1/0;iy[0]=l,iy[1]=f;for(var S=0;S<1;S+=.05){Um[0]=jf(n,t,i,S),Um[1]=jf(e,r,u,S);var _=fM(iy,Um);_<b&&(g=S,b=_)}b=1/0;for(var k=0;k<32&&!(y<Tpe);k++){var A=g-y,R=g+y;Um[0]=jf(n,t,i,A),Um[1]=jf(e,r,u,A);var _=fM(Um,iy);if(A>=0&&_<b)g=A,b=_;else{A3[0]=jf(n,t,i,R),A3[1]=jf(e,r,u,R);var I=fM(A3,iy);R<=1&&I<b?(g=R,b=I):y*=.5}}return h&&(h[0]=jf(n,t,i,g),h[1]=jf(e,r,u,g)),q2(b)}function tNe(n,e,t,r,i,u,l){for(var f=n,h=e,g=0,y=1/l,b=1;b<=l;b++){var S=b*y,_=jf(n,t,i,S),k=jf(e,r,u,S),A=_-f,R=k-h;g+=Math.sqrt(A*A+R*R),f=_,h=k}return g}var nNe=/cubic-bezier\(([0-9,\.e ]+)\)/;function Ape(n){var e=n&&nNe.exec(n);if(e){var t=e[1].split(","),r=+Ym(t[0]),i=+Ym(t[1]),u=+Ym(t[2]),l=+Ym(t[3]);if(isNaN(r+i+u+l))return;var f=[];return function(h){return h<=0?0:h>=1?1:JH(0,r,u,1,h,f)&&pc(0,i,l,1,f[0])}}}var rNe=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||af,this.ondestroy=e.ondestroy||af,this.onrestart=e.onrestart||af,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var r=this._life,i=e-this._startTime-this._pausedTime,u=i/r;u<0&&(u=0),u=Math.min(u,1);var l=this.easingFunc,f=l?l(u):u;if(this.onframe(f),u===1)if(this.loop){var h=i%r;this._startTime=e-h,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Eo(e)?e:Cpe[e]||Ape(e)},n}();const oNe=rNe;var Epe=function(){function n(e){this.value=e}return n}(),iNe=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new Epe(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),aNe=function(){function n(e){this._list=new iNe,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,i=this._map,u=null;if(i[e]==null){var l=r.len(),f=this._lastRemovedEntry;if(l>=this._maxSize&&l>0){var h=r.head;r.remove(h),delete i[h.key],u=h.value,this._lastRemovedEntry=h}f?f.value=t:f=new Epe(t),f.key=e,r.insertEntry(f),i[e]=f}return u},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const RL=aNe;var oae={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Cv(n){return n=Math.round(n),n<0?0:n>255?255:n}function uNe(n){return n=Math.round(n),n<0?0:n>360?360:n}function JN(n){return n<0?0:n>1?1:n}function bK(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?Cv(parseFloat(e)/100*255):Cv(parseInt(e,10))}function dM(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?JN(parseFloat(e)/100):JN(parseFloat(e))}function xK(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function B2(n,e,t){return n+(e-n)*t}function Bm(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function RQ(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var Ope=new RL(20),fF=null;function JE(n,e){fF&&RQ(fF,e),fF=Ope.put(n,fF||e.slice())}function wh(n,e){if(n){e=e||[];var t=Ope.get(n);if(t)return RQ(e,t);n=n+"";var r=n.replace(/ /g,"").toLowerCase();if(r in oae)return RQ(e,oae[r]),JE(n,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var u=parseInt(r.slice(1,4),16);if(!(u>=0&&u<=4095)){Bm(e,0,0,0,1);return}return Bm(e,(u&3840)>>4|(u&3840)>>8,u&240|(u&240)>>4,u&15|(u&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),JE(n,e),e}else if(i===7||i===9){var u=parseInt(r.slice(1,7),16);if(!(u>=0&&u<=16777215)){Bm(e,0,0,0,1);return}return Bm(e,(u&16711680)>>16,(u&65280)>>8,u&255,i===9?parseInt(r.slice(7),16)/255:1),JE(n,e),e}return}var l=r.indexOf("("),f=r.indexOf(")");if(l!==-1&&f+1===i){var h=r.substr(0,l),g=r.substr(l+1,f-(l+1)).split(","),y=1;switch(h){case"rgba":if(g.length!==4)return g.length===3?Bm(e,+g[0],+g[1],+g[2],1):Bm(e,0,0,0,1);y=dM(g.pop());case"rgb":if(g.length>=3)return Bm(e,bK(g[0]),bK(g[1]),bK(g[2]),g.length===3?y:dM(g[3])),JE(n,e),e;Bm(e,0,0,0,1);return;case"hsla":if(g.length!==4){Bm(e,0,0,0,1);return}return g[3]=dM(g[3]),PQ(g,e),JE(n,e),e;case"hsl":if(g.length!==3){Bm(e,0,0,0,1);return}return PQ(g,e),JE(n,e),e;default:return}}Bm(e,0,0,0,1)}}function PQ(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=dM(n[1]),i=dM(n[2]),u=i<=.5?i*(r+1):i+r-i*r,l=i*2-u;return e=e||[],Bm(e,Cv(xK(l,u,t+1/3)*255),Cv(xK(l,u,t)*255),Cv(xK(l,u,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function sNe(n){if(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.min(e,t,r),u=Math.max(e,t,r),l=u-i,f=(u+i)/2,h,g;if(l===0)h=0,g=0;else{f<.5?g=l/(u+i):g=l/(2-u-i);var y=((u-e)/6+l/2)/l,b=((u-t)/6+l/2)/l,S=((u-r)/6+l/2)/l;e===u?h=S-b:t===u?h=1/3+y-S:r===u&&(h=2/3+b-y),h<0&&(h+=1),h>1&&(h-=1)}var _=[h*360,g,f];return n[3]!=null&&_.push(n[3]),_}}function NQ(n,e){var t=wh(n);if(t){for(var r=0;r<3;r++)e<0?t[r]=t[r]*(1-e)|0:t[r]=(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return Tv(t,t.length===4?"rgba":"rgb")}}function lNe(n){var e=wh(n);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function EN(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){t=t||[];var r=n*(e.length-1),i=Math.floor(r),u=Math.ceil(r),l=e[i],f=e[u],h=r-i;return t[0]=Cv(B2(l[0],f[0],h)),t[1]=Cv(B2(l[1],f[1],h)),t[2]=Cv(B2(l[2],f[2],h)),t[3]=JN(B2(l[3],f[3],h)),t}}var cNe=EN;function Wee(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){var r=n*(e.length-1),i=Math.floor(r),u=Math.ceil(r),l=wh(e[i]),f=wh(e[u]),h=r-i,g=Tv([Cv(B2(l[0],f[0],h)),Cv(B2(l[1],f[1],h)),Cv(B2(l[2],f[2],h)),JN(B2(l[3],f[3],h))],"rgba");return t?{color:g,leftIndex:i,rightIndex:u,value:r}:g}}var fNe=Wee;function pH(n,e,t,r){var i=wh(n);if(n)return i=sNe(i),e!=null&&(i[0]=uNe(e)),t!=null&&(i[1]=dM(t)),r!=null&&(i[2]=dM(r)),Tv(PQ(i),"rgba")}function Ipe(n,e){var t=wh(n);if(t&&e!=null)return t[3]=JN(e),Tv(t,"rgba")}function Tv(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function QN(n,e){var t=wh(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function dNe(){return Tv([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}const hNe=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:EN,fastMapToColor:cNe,lerp:Wee,lift:NQ,lum:QN,mapToColor:fNe,modifyAlpha:Ipe,modifyHSL:pH,parse:wh,random:dNe,stringify:Tv,toHex:lNe},Symbol.toStringTag,{value:"Module"}));function pNe(n){return n.type==="linear"}function mNe(n){return n.type==="radial"}(function(){return Li.hasGlobalWindow&&Eo(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})();var LQ=Array.prototype.slice;function xb(n,e,t){return(e-n)*t+n}function wK(n,e,t,r){for(var i=e.length,u=0;u<i;u++)n[u]=xb(e[u],t[u],r);return n}function gNe(n,e,t,r){for(var i=e.length,u=i&&e[0].length,l=0;l<i;l++){n[l]||(n[l]=[]);for(var f=0;f<u;f++)n[l][f]=xb(e[l][f],t[l][f],r)}return n}function dF(n,e,t,r){for(var i=e.length,u=0;u<i;u++)n[u]=e[u]+t[u]*r;return n}function iae(n,e,t,r){for(var i=e.length,u=i&&e[0].length,l=0;l<i;l++){n[l]||(n[l]=[]);for(var f=0;f<u;f++)n[l][f]=e[l][f]+t[l][f]*r}return n}function vNe(n,e){for(var t=n.length,r=e.length,i=t>r?e:n,u=Math.min(t,r),l=i[u-1]||{color:[0,0,0,0],offset:0},f=u;f<Math.max(t,r);f++)i.push({offset:l.offset,color:l.color.slice()})}function yNe(n,e,t){var r=n,i=e;if(!(!r.push||!i.push)){var u=r.length,l=i.length;if(u!==l){var f=u>l;if(f)r.length=l;else for(var h=u;h<l;h++)r.push(t===1?i[h]:LQ.call(i[h]))}for(var g=r[0]&&r[0].length,h=0;h<r.length;h++)if(t===1)isNaN(r[h])&&(r[h]=i[h]);else for(var y=0;y<g;y++)isNaN(r[h][y])&&(r[h][y]=i[h][y])}}function ON(n){if($f(n)){var e=n.length;if($f(n[0])){for(var t=[],r=0;r<e;r++)t.push(LQ.call(n[r]));return t}return LQ.call(n)}return n}function mH(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function bNe(n){return $f(n&&n[0])?2:1}var hF=0,gH=1,Rpe=2,cN=3,BQ=4,zQ=5,aae=6;function uae(n){return n===BQ||n===zQ}function pF(n){return n===gH||n===Rpe}var LP=[0,0,0,0],xNe=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var i=this.keyframes,u=i.length,l=!1,f=aae,h=t;if($f(t)){var g=bNe(t);f=g,(g===1&&!su(t[0])||g===2&&!su(t[0][0]))&&(l=!0)}else if(su(t)&&!KN(t))f=hF;else if(Nr(t))if(!isNaN(+t))f=hF;else{var y=wh(t);y&&(h=y,f=cN)}else if(EL(t)){var b=Gn({},h);b.colorStops=br(t.colorStops,function(_){return{offset:_.offset,color:wh(_.color)}}),pNe(t)?f=BQ:mNe(t)&&(f=zQ),h=b}u===0?this.valType=f:(f!==this.valType||f===aae)&&(l=!0),this.discrete=this.discrete||l;var S={time:e,value:h,rawValue:t,percent:0};return r&&(S.easing=r,S.easingFunc=Eo(r)?r:Cpe[r]||Ape(r)),i.push(S),S},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(A,R){return A.time-R.time});for(var i=this.valType,u=r.length,l=r[u-1],f=this.discrete,h=pF(i),g=uae(i),y=0;y<u;y++){var b=r[y],S=b.value,_=l.value;b.percent=b.time/e,f||(h&&y!==u-1?yNe(S,_,i):g&&vNe(S.colorStops,_.colorStops))}if(!f&&i!==zQ&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var k=r[0].value,y=0;y<u;y++)i===hF?r[y].additiveValue=r[y].value-k:i===cN?r[y].additiveValue=dF([],r[y].value,k,-1):pF(i)&&(r[y].additiveValue=i===gH?dF([],r[y].value,k,-1):iae([],r[y].value,k,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",u=this.valType,l=this.keyframes,f=l.length,h=this.propName,g=u===cN,y,b=this._lastFr,S=Math.min,_,k;if(f===1)_=k=l[0];else{if(t<0)y=0;else if(t<this._lastFrP){var A=S(b+1,f-1);for(y=A;y>=0&&!(l[y].percent<=t);y--);y=S(y,f-2)}else{for(y=b;y<f&&!(l[y].percent>t);y++);y=S(y-1,f-2)}k=l[y+1],_=l[y]}if(_&&k){this._lastFr=y,this._lastFrP=t;var R=k.percent-_.percent,I=R===0?1:S((t-_.percent)/R,1);k.easingFunc&&(I=k.easingFunc(I));var z=r?this._additiveValue:g?LP:e[h];if((pF(u)||g)&&!z&&(z=this._additiveValue=[]),this.discrete)e[h]=I<1?_.rawValue:k.rawValue;else if(pF(u))u===gH?wK(z,_[i],k[i],I):gNe(z,_[i],k[i],I);else if(uae(u)){var L=_[i],q=k[i],X=u===BQ;e[h]={type:X?"linear":"radial",x:xb(L.x,q.x,I),y:xb(L.y,q.y,I),colorStops:br(L.colorStops,function(ae,te){var ie=q.colorStops[te];return{offset:xb(ae.offset,ie.offset,I),color:mH(wK([],ae.color,ie.color,I))}}),global:q.global},X?(e[h].x2=xb(L.x2,q.x2,I),e[h].y2=xb(L.y2,q.y2,I)):e[h].r=xb(L.r,q.r,I)}else if(g)wK(z,_[i],k[i],I),r||(e[h]=mH(z));else{var Y=xb(_[i],k[i],I);r?this._additiveValue=Y:e[h]=Y}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,i=this._additiveValue;t===hF?e[r]=e[r]+i:t===cN?(wh(e[r],LP),dF(LP,LP,i,1),e[r]=mH(LP)):t===gH?dF(e[r],e[r],i,1):t===Rpe&&iae(e[r],e[r],i,1)},n}(),wNe=function(){function n(e,t,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){XV("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,ga(t),r)},n.prototype.whenWithKeys=function(e,t,r,i){for(var u=this._tracks,l=0;l<r.length;l++){var f=r[l],h=u[f];if(!h){h=u[f]=new xNe(f);var g=void 0,y=this._getAdditiveTrack(f);if(y){var b=y.keyframes,S=b[b.length-1];g=S&&S.value,y.valType===cN&&g&&(g=mH(g))}else g=this._target[f];if(g==null)continue;e>0&&h.addKeyframe(0,ON(g),i),this._trackKeys.push(f)}h.addKeyframe(e,ON(t[f]),i)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var u=r[i].getTrack(e);u&&(t=u)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,u=0;u<this._trackKeys.length;u++){var l=this._trackKeys[u],f=this._tracks[l],h=this._getAdditiveTrack(l),g=f.keyframes,y=g.length;if(f.prepare(i,h),f.needsAnimate())if(!this._allowDiscrete&&f.discrete){var b=g[y-1];b&&(t._target[f.propName]=b.rawValue),f.setFinished()}else r.push(f)}if(r.length||this._force){var S=new oNe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(_){t._started=2;var k=t._additiveAnimators;if(k){for(var A=!1,R=0;R<k.length;R++)if(k[R]._clip){A=!0;break}A||(t._additiveAnimators=null)}for(var R=0;R<r.length;R++)r[R].step(t._target,_);var I=t._onframeCbs;if(I)for(var R=0;R<I.length;R++)I[R](t._target,_)},ondestroy:function(){t._doneCallback()}});this._clip=S,this.animation&&this.animation.addClip(S),e&&S.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return br(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,u=0;u<e.length;u++){var l=r[e[u]];l&&!l.isFinished()&&(t?l.step(this._target,1):this._started===1&&l.step(this._target,0),l.setFinished())}for(var f=!0,u=0;u<i.length;u++)if(!r[i[u]].isFinished()){f=!1;break}return f&&this._abortedCallback(),f},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var u=t[i],l=this._tracks[u];if(!(!l||l.isFinished())){var f=l.keyframes,h=f[r?0:f.length-1];h&&(e[u]=ON(h.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||ga(e);for(var r=0;r<t.length;r++){var i=t[r],u=this._tracks[i];if(u){var l=u.keyframes;if(l.length>1){var f=l.pop();u.addKeyframe(f.time,e[i]),u.prepare(this._maxTime,u.getAdditiveTrack())}}}},n}();const qee=wNe;function w3(){return new Date().getTime()}var _Ne=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,t=t||{},r.stage=t.stage||{},r}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=w3()-this._pausedTime,i=r-this._time,u=this._head;u;){var l=u.next,f=u.step(r,i);f&&(u.ondestroy(),this.removeClip(u)),u=l}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function r(){t._running&&(IQ(r),!t._paused&&t.update())}IQ(r)},e.prototype.start=function(){this._running||(this._time=w3(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=w3(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=w3()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,r){r=r||{},this.start();var i=new qee(t,r.loop);return this.addAnimator(i),i},e}(eg);const SNe=_Ne;var CNe=300,_K=Li.domSupported,SK=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=br(n,function(i){var u=i.replace("mouse","pointer");return t.hasOwnProperty(u)?u:i});return{mouse:n,touch:e,pointer:r}}(),sae={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},lae=!1;function FQ(n){var e=n.pointerType;return e==="pen"||e==="touch"}function TNe(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function CK(n){n&&(n.zrByTouch=!0)}function MNe(n,e){return Fm(n.dom,new kNe(n,e),!0)}function Ppe(n,e){for(var t=e,r=!1;t&&t.nodeType!==9&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var kNe=function(){function n(e,t){this.stopPropagation=af,this.stopImmediatePropagation=af,this.preventDefault=af,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n}(),bv={mousedown:function(n){n=Fm(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Fm(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Fm(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=Fm(this.dom,n);var e=n.toElement||n.relatedTarget;Ppe(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){lae=!0,n=Fm(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){lae||(n=Fm(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=Fm(this.dom,n),CK(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),bv.mousemove.call(this,n),bv.mousedown.call(this,n)},touchmove:function(n){n=Fm(this.dom,n),CK(n),this.handler.processGesture(n,"change"),bv.mousemove.call(this,n)},touchend:function(n){n=Fm(this.dom,n),CK(n),this.handler.processGesture(n,"end"),bv.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<CNe&&bv.click.call(this,n)},pointerdown:function(n){bv.mousedown.call(this,n)},pointermove:function(n){FQ(n)||bv.mousemove.call(this,n)},pointerup:function(n){bv.mouseup.call(this,n)},pointerout:function(n){FQ(n)||bv.mouseout.call(this,n)}};Te(["click","dblclick","contextmenu"],function(n){bv[n]=function(e){e=Fm(this.dom,e),this.trigger(n,e)}});var HQ={pointermove:function(n){FQ(n)||HQ.mousemove.call(this,n)},pointerup:function(n){HQ.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function DNe(n,e){var t=e.domHandlers;Li.pointerEventsSupported?Te(SK.pointer,function(r){vH(e,r,function(i){t[r].call(n,i)})}):(Li.touchEventsSupported&&Te(SK.touch,function(r){vH(e,r,function(i){t[r].call(n,i),TNe(e)})}),Te(SK.mouse,function(r){vH(e,r,function(i){i=jee(i),e.touching||t[r].call(n,i)})}))}function ANe(n,e){Li.pointerEventsSupported?Te(sae.pointer,t):Li.touchEventsSupported||Te(sae.mouse,t);function t(r){function i(u){u=jee(u),Ppe(n,u.target)||(u=MNe(n,u),e.domHandlers[r].call(n,u))}vH(e,r,i,{capture:!0})}}function vH(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,OQ(n.domTarget,e,t,r)}function TK(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&RPe(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var cae=function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n}(),ENe=function(n){Tn(e,n);function e(t,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new cae(t,bv),_K&&(i._globalHandlerScope=new cae(document,HQ)),DNe(i,i._localHandlerScope),i}return e.prototype.dispose=function(){TK(this._localHandlerScope),_K&&TK(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,_K&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?ANe(this,r):TK(r)}},e}(eg);const ONe=ENe;var Npe=1;Li.hasGlobalWindow&&(Npe=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var eV=Npe,VQ=.4,jQ="#333",UQ="#ccc",INe="#eee",fae=IL,dae=5e-5;function OT(n){return n>dae||n<-dae}var IT=[],QE=[],MK=Qm(),kK=Math.abs,RNe=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return OT(this.rotation)||OT(this.x)||OT(this.y)||OT(this.scaleX-1)||OT(this.scaleY-1)||OT(this.skewX)||OT(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;if(!(t||e)){r&&(fae(r),this.invTransform=null);return}r=r||Qm(),t?this.getLocalTransform(r):fae(r),e&&(t?fy(r,e,r):KV(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(IT);var r=IT[0]<0?-1:1,i=IT[1]<0?-1:1,u=((IT[0]-r)*t+r)/IT[0]||0,l=((IT[1]-i)*t+i)/IT[1]||0;e[0]*=u,e[1]*=u,e[2]*=l,e[3]*=l}this.invTransform=this.invTransform||Qm(),c5(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),u=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(u),t=Math.sqrt(t),this.skewX=u,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(fy(QE,e.invTransform,t),t=QE);var r=this.originX,i=this.originY;(r||i)&&(MK[4]=r,MK[5]=i,fy(QE,t,MK),QE[4]-=r,QE[5]-=i,t=QE),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],i=this.invTransform;return i&&Ic(r,r,i),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],i=this.transform;return i&&Ic(r,r,i),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&kK(e[0]-1)>1e-10&&kK(e[3]-1)>1e-10?Math.sqrt(kK(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){PNe(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,i=e.originY||0,u=e.scaleX,l=e.scaleY,f=e.anchorX,h=e.anchorY,g=e.rotation||0,y=e.x,b=e.y,S=e.skewX?Math.tan(e.skewX):0,_=e.skewY?Math.tan(-e.skewY):0;if(r||i||f||h){var k=r+f,A=i+h;t[4]=-k*u-S*A*l,t[5]=-A*l-_*k*u}else t[4]=t[5]=0;return t[0]=u,t[3]=l,t[1]=_*u,t[2]=S*l,g&&i_(t,t,g),t[4]+=r+y,t[5]+=i+b,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),gy=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function PNe(n,e){for(var t=0;t<gy.length;t++){var r=gy[t];n[r]=e[r]}}const nM=RNe;var hae={};function Dp(n,e){e=e||wM;var t=hae[e];t||(t=hae[e]=new RL(500));var r=t.get(n);return r==null&&(r=Ib.measureText(n,e).width,t.put(n,r)),r}function pae(n,e,t,r){var i=Dp(n,e),u=$ee(e),l=fN(0,i,t),f=y3(0,u,r),h=new vi(l,f,i,u);return h}function PL(n,e,t,r){var i=((n||"")+"").split(`
`),u=i.length;if(u===1)return pae(i[0],e,t,r);for(var l=new vi(0,0,0,0),f=0;f<i.length;f++){var h=pae(i[f],e,t,r);f===0?l.copy(h):l.union(h)}return l}function fN(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function y3(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function $ee(n){return Dp("",n)}function Dv(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function tV(n,e,t){var r=e.position||"inside",i=e.distance!=null?e.distance:5,u=t.height,l=t.width,f=u/2,h=t.x,g=t.y,y="left",b="top";if(r instanceof Array)h+=Dv(r[0],t.width),g+=Dv(r[1],t.height),y=null,b=null;else switch(r){case"left":h-=i,g+=f,y="right",b="middle";break;case"right":h+=i+l,g+=f,b="middle";break;case"top":h+=l/2,g-=i,y="center",b="bottom";break;case"bottom":h+=l/2,g+=u+i,y="center";break;case"inside":h+=l/2,g+=f,y="center",b="middle";break;case"insideLeft":h+=i,g+=f,b="middle";break;case"insideRight":h+=l-i,g+=f,y="right",b="middle";break;case"insideTop":h+=l/2,g+=i,y="center";break;case"insideBottom":h+=l/2,g+=u-i,y="center",b="bottom";break;case"insideTopLeft":h+=i,g+=i;break;case"insideTopRight":h+=l-i,g+=i,y="right";break;case"insideBottomLeft":h+=i,g+=u-i,b="bottom";break;case"insideBottomRight":h+=l-i,g+=u-i,y="right",b="bottom";break}return n=n||{},n.x=h,n.y=g,n.align=y,n.verticalAlign=b,n}var DK="__zr_normal__",AK=gy.concat(["ignore"]),NNe=Jm(gy,function(n,e){return n[e]=!0,n},{ignore:!1}),ZE={},LNe=new vi(0,0,0,0),Gee=function(){function n(e){this.id=Lee(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,u=t.innerTransformable,l=void 0,f=void 0,h=!1;u.parent=i?this:null;var g=!1;if(u.copyTransform(t),r.position!=null){var y=LNe;r.layoutRect?y.copy(r.layoutRect):y.copy(this.getBoundingRect()),i||y.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(ZE,r,y):tV(ZE,r,y),u.x=ZE.x,u.y=ZE.y,l=ZE.align,f=ZE.verticalAlign;var b=r.origin;if(b&&r.rotation!=null){var S=void 0,_=void 0;b==="center"?(S=y.width*.5,_=y.height*.5):(S=Dv(b[0],y.width),_=Dv(b[1],y.height)),g=!0,u.originX=-u.x+S+(i?0:y.x),u.originY=-u.y+_+(i?0:y.y)}}r.rotation!=null&&(u.rotation=r.rotation);var k=r.offset;k&&(u.x+=k[0],u.y+=k[1],g||(u.originX=-k[0],u.originY=-k[1]));var A=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,R=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),I=void 0,z=void 0,L=void 0;A&&this.canBeInsideText()?(I=r.insideFill,z=r.insideStroke,(I==null||I==="auto")&&(I=this.getInsideTextFill()),(z==null||z==="auto")&&(z=this.getInsideTextStroke(I),L=!0)):(I=r.outsideFill,z=r.outsideStroke,(I==null||I==="auto")&&(I=this.getOutsideFill()),(z==null||z==="auto")&&(z=this.getOutsideStroke(I),L=!0)),I=I||"#000",(I!==R.fill||z!==R.stroke||L!==R.autoStroke||l!==R.align||f!==R.verticalAlign)&&(h=!0,R.fill=I,R.stroke=z,R.autoStroke=L,R.align=l,R.verticalAlign=f,t.setDefaultTextStyle(R)),t.__dirty|=Cp,h&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?UQ:jQ},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r=typeof t=="string"&&wh(t);r||(r=[255,255,255,1]);for(var i=r[3],u=this.__zr.isDarkMode(),l=0;l<3;l++)r[l]=r[l]*i+(u?0:255)*(1-i);return r[3]=1,Tv(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},Gn(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(no(e))for(var r=e,i=ga(r),u=0;u<i.length;u++){var l=i[u];this.attrKV(l,e[l])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],u=i.__fromStateTransition;if(!(i.getLoop()||u&&u!==DK)){var l=i.targetName,f=l?t[l]:t;i.saveTo(f)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,AK)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var i=0;i<r.length;i++){var u=r[i];e[u]!=null&&!(u in t)&&(t[u]=this[u])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(DK,!1,e)},n.prototype.useState=function(e,t,r,i){var u=e===DK,l=this.hasState();if(!(!l&&u)){var f=this.currentStates,h=this.stateTransition;if(!(Di(f,e)>=0&&(t||f.length===1))){var g;if(this.stateProxy&&!u&&(g=this.stateProxy(e)),g||(g=this.states&&this.states[e]),!g&&!u){XV("State "+e+" not exists.");return}u||this.saveCurrentToNormalState(g);var y=!!(g&&g.hoverLayer||i);y&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,g,this._normalState,t,!r&&!this.__inHover&&h&&h.duration>0,h);var b=this._textContent,S=this._textGuide;return b&&b.useState(e,t,r,y),S&&S.useState(e,t,r,y),u?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!y&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Cp),g}}},n.prototype.useStates=function(e,t,r){if(!e.length)this.clearStates();else{var i=[],u=this.currentStates,l=e.length,f=l===u.length;if(f){for(var h=0;h<l;h++)if(e[h]!==u[h]){f=!1;break}}if(f)return;for(var h=0;h<l;h++){var g=e[h],y=void 0;this.stateProxy&&(y=this.stateProxy(g,e)),y||(y=this.states[g]),y&&i.push(y)}var b=i[l-1],S=!!(b&&b.hoverLayer||r);S&&this._toggleHoverLayerFlag(!0);var _=this._mergeStates(i),k=this.stateTransition;this.saveCurrentToNormalState(_),this._applyStateObj(e.join(","),_,this._normalState,!1,!t&&!this.__inHover&&k&&k.duration>0,k);var A=this._textContent,R=this._textGuide;A&&A.useStates(e,t,S),R&&R.useStates(e,t,S),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!S&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Cp)}},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=Di(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var i=this.currentStates.slice(),u=Di(i,e),l=Di(i,t)>=0;u>=0?l?i.splice(u,1):i[u]=t:r&&!l&&i.push(t),this.useStates(i)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},r,i=0;i<e.length;i++){var u=e[i];Gn(t,u),u.textConfig&&(r=r||{},Gn(r,u.textConfig))}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,i,u,l){var f=!(t&&i);t&&t.textConfig?(this.textConfig=Gn({},i?this.textConfig:r.textConfig),Gn(this.textConfig,t.textConfig)):f&&r.textConfig&&(this.textConfig=r.textConfig);for(var h={},g=!1,y=0;y<AK.length;y++){var b=AK[y],S=u&&NNe[b];t&&t[b]!=null?S?(g=!0,h[b]=t[b]):this[b]=t[b]:f&&r[b]!=null&&(S?(g=!0,h[b]=r[b]):this[b]=r[b])}if(!u)for(var y=0;y<this.animators.length;y++){var _=this.animators[y],k=_.targetName;_.getLoop()||_.__changeFinalValue(k?(t||r)[k]:t||r)}g&&this._transitionState(e,h,l)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new nM,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Gn(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=Cp;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var i=e?this[e]:this,u=new qee(i,t,r);return e&&(u.targetName=e),this.addAnimator(u,e),u},n.prototype.addAnimator=function(e,t){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var u=i.animators,l=Di(u,e);l>=0&&u.splice(l,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,i=r.length,u=[],l=0;l<i;l++){var f=r[l];!e||e===f.scope?f.stop(t):u.push(f)}return this.animators=u,this},n.prototype.animateTo=function(e,t,r){EK(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){EK(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,i){for(var u=EK(this,t,r,i),l=0;l<u.length;l++)u[l].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Cp;function t(r,i,u,l){Object.defineProperty(e,r,{get:function(){if(!this[i]){var h=this[i]=[];f(this,h)}return this[i]},set:function(h){this[u]=h[0],this[l]=h[1],this[i]=h,f(this,h)}});function f(h,g){Object.defineProperty(g,0,{get:function(){return h[u]},set:function(y){h[u]=y}}),Object.defineProperty(g,1,{get:function(){return h[l]},set:function(y){h[l]=y}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),n}();cf(Gee,eg);cf(Gee,nM);function EK(n,e,t,r,i){t=t||{};var u=[];Lpe(n,"",n,e,t,r,u,i);var l=u.length,f=!1,h=t.done,g=t.aborted,y=function(){f=!0,l--,l<=0&&(f?h&&h():g&&g())},b=function(){l--,l<=0&&(f?h&&h():g&&g())};l||h&&h(),u.length>0&&t.during&&u[0].during(function(k,A){t.during(A)});for(var S=0;S<u.length;S++){var _=u[S];y&&_.done(y),b&&_.aborted(b),t.force&&_.duration(t.duration),_.start(t.easing)}return u}function OK(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function BNe(n){return $f(n[0])}function zNe(n,e,t){if($f(e[t]))if($f(n[t])||(n[t]=[]),Mh(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),OK(n[t],e[t],r))}else{var i=e[t],u=n[t],l=i.length;if(BNe(i))for(var f=i[0].length,h=0;h<l;h++)u[h]?OK(u[h],i[h],f):u[h]=Array.prototype.slice.call(i[h]);else OK(u,i,l);u.length=i.length}else n[t]=e[t]}function FNe(n,e){return n===e||$f(n)&&$f(e)&&HNe(n,e)}function HNe(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function Lpe(n,e,t,r,i,u,l,f){for(var h=ga(r),g=i.duration,y=i.delay,b=i.additive,S=i.setToFinal,_=!no(u),k=n.animators,A=[],R=0;R<h.length;R++){var I=h[R],z=r[I];if(z!=null&&t[I]!=null&&(_||u[I]))if(no(z)&&!$f(z)&&!EL(z)){if(e){f||(t[I]=z,n.updateDuringAnimation(e));continue}Lpe(n,I,t[I],z,i,u&&u[I],l,f)}else A.push(I);else f||(t[I]=z,n.updateDuringAnimation(e),A.push(I))}var L=A.length;if(!b&&L)for(var q=0;q<k.length;q++){var X=k[q];if(X.targetName===e){var Y=X.stopTracks(A);if(Y){var ae=Di(k,X);k.splice(ae,1)}}}if(i.force||(A=Ls(A,function(ce){return!FNe(r[ce],t[ce])}),L=A.length),L>0||i.force&&!l.length){var te=void 0,ie=void 0,le=void 0;if(f){ie={},S&&(te={});for(var q=0;q<L;q++){var I=A[q];ie[I]=t[I],S?te[I]=r[I]:t[I]=r[I]}}else if(S){le={};for(var q=0;q<L;q++){var I=A[q];le[I]=ON(t[I]),zNe(t,r,I)}}var X=new qee(t,!1,!1,b?Ls(k,function(ne){return ne.targetName===e}):null);X.targetName=e,i.scope&&(X.scope=i.scope),S&&te&&X.whenWithKeys(0,te,A),le&&X.whenWithKeys(0,le,A),X.whenWithKeys(g??500,f?ie:r,A).delay(y||0),n.addAnimator(X,e),l.push(X)}}const Bpe=Gee;var zpe=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t))),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,u=i.indexOf(r);u>=0&&(i.splice(u,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var i=Di(this._children,t);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(t,r){var i=this._children,u=i[r];if(t&&t!==this&&t.parent!==this&&t!==u){i[r]=t,u.parent=null;var l=this.__zr;l&&u.removeSelfFromZr(l),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,i=this._children,u=Di(i,t);return u<0?this:(i.splice(u,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var u=t[i];r&&u.removeSelfFromZr(r),u.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var i=this._children,u=0;u<i.length;u++){var l=i[u];t.call(r,l,u)}return this},e.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var u=this._children[i],l=t.call(r,u);u.isGroup&&!l&&u.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var r=new vi(0,0,0,0),i=t||this._children,u=[],l=null,f=0;f<i.length;f++){var h=i[f];if(!(h.ignore||h.invisible)){var g=h.getBoundingRect(),y=h.getLocalTransform(u);y?(vi.applyTransform(r,g,y),l=l||r.clone(),l.union(r)):(l=l||g.clone(),l.union(g))}}return l||r},e}(Bpe);zpe.prototype.type="group";const hi=zpe;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var yH={},rM={};function VNe(n){delete rM[n]}function jNe(n){if(!n)return!1;if(typeof n=="string")return QN(n,1)<VQ;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,i=0;i<r;i++)t+=QN(e[i].color,1);return t/=r,t<VQ}return!1}var UNe=function(){function n(e,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var u=new KPe,l=r.renderer||"canvas";yH[l]||(l=ga(yH)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var f=new yH[l](t,u,r,e),h=r.ssr||f.ssrOnly;this.storage=u,this.painter=f;var g=!Li.node&&!Li.worker&&!h?new ONe(f.getViewportRoot(),f.root):null,y=r.useCoarsePointer,b=y==null||y==="auto"?Li.touchEventsSupported:!!y,S=44,_;b&&(_=Gi(r.pointerSize,S)),this.handler=new qPe(u,f,g,f.root,_),this.animation=new SNe({stage:{update:h?null:function(){return i._flush(!0)}}}),h||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=jNe(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,r=w3();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=w3();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof hi&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,VNe(this.id)},n}();function WQ(n,e){var t=new UNe(Lee(),n,e);return rM[t.id]=t,t}function WNe(n){n.dispose()}function qNe(){for(var n in rM)rM.hasOwnProperty(n)&&rM[n].dispose();rM={}}function $Ne(n){return rM[n]}function Fpe(n,e){yH[n]=e}var GNe="5.4.4";const XNe=Object.freeze(Object.defineProperty({__proto__:null,dispose:WNe,disposeAll:qNe,getInstance:$Ne,init:WQ,registerPainter:Fpe,version:GNe},Symbol.toStringTag,{value:"Module"}));var mae=1e-4,Hpe=20;function YNe(n){return n.replace(/^\s+|\s+$/g,"")}function rs(n,e,t,r){var i=e[0],u=e[1],l=t[0],f=t[1],h=u-i,g=f-l;if(h===0)return g===0?l:(l+f)/2;if(r)if(h>0){if(n<=i)return l;if(n>=u)return f}else{if(n>=i)return l;if(n<=u)return f}else{if(n===i)return l;if(n===u)return f}return(n-i)/h*g+l}function Xo(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return Nr(n)?YNe(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n}function el(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),Hpe),n=(+n).toFixed(e),t?n:+n}function uy(n){return n.sort(function(e,t){return e-t}),n}function sy(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return Vpe(n)}function Vpe(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,i=t>0?t:e.length,u=e.indexOf("."),l=u<0?0:i-1-u;return Math.max(0,l-r)}function Xee(n,e){var t=Math.log,r=Math.LN10,i=Math.floor(t(n[1]-n[0])/r),u=Math.round(t(Math.abs(e[1]-e[0]))/r),l=Math.min(Math.max(-i+u,0),20);return isFinite(l)?l:20}function KNe(n,e,t){if(!n[e])return 0;var r=jpe(n,t);return r[e]||0}function jpe(n,e){var t=Jm(n,function(_,k){return _+(isNaN(k)?0:k)},0);if(t===0)return[];for(var r=Math.pow(10,e),i=br(n,function(_){return(isNaN(_)?0:_)/t*r*100}),u=r*100,l=br(i,function(_){return Math.floor(_)}),f=Jm(l,function(_,k){return _+k},0),h=br(i,function(_,k){return _-l[k]});f<u;){for(var g=Number.NEGATIVE_INFINITY,y=null,b=0,S=h.length;b<S;++b)h[b]>g&&(g=h[b],y=b);++l[y],h[y]=0,++f}return br(l,function(_){return _/r})}function JNe(n,e){var t=Math.max(sy(n),sy(e)),r=n+e;return t>Hpe?r:el(r,t)}var QNe=9007199254740991;function Yee(n){var e=Math.PI*2;return(n%e+e)%e}function ZN(n){return n>-mae&&n<mae}var ZNe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ep(n){if(n instanceof Date)return n;if(Nr(n)){var e=ZNe.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function Upe(n){return Math.pow(10,JV(n))}function JV(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function Kee(n,e){var t=JV(n),r=Math.pow(10,t),i=n/r,u;return e?i<1.5?u=1:i<2.5?u=2:i<4?u=3:i<7?u=5:u=10:i<1?u=1:i<2?u=2:i<3?u=3:i<5?u=5:u=10,n=u*r,t>=-20?+n.toFixed(t<0?-t:0):n}function eLe(n,e){var t=(n.length-1)*e+1,r=Math.floor(t),i=+n[r-1],u=t-r;return u?i+u*(n[r]-i):i}function qQ(n){n.sort(function(h,g){return f(h,g,0)?-1:1});for(var e=-1/0,t=1,r=0;r<n.length;){for(var i=n[r].interval,u=n[r].close,l=0;l<2;l++)i[l]<=e&&(i[l]=e,u[l]=l?1:1-t),e=i[l],t=u[l];i[0]===i[1]&&u[0]*u[1]!==1?n.splice(r,1):r++}return n;function f(h,g,y){return h.interval[y]<g.interval[y]||h.interval[y]===g.interval[y]&&(h.close[y]-g.close[y]===(y?-1:1)||!y&&f(h,g,1))}}function eL(n){var e=parseFloat(n);return e==n&&(e!==0||!Nr(n)||n.indexOf("x")<=0)?e:NaN}function Jee(n){return!isNaN(eL(n))}function Wpe(){return Math.round(Math.random()*9)}function qpe(n,e){return e===0?n:qpe(e,n%e)}function gae(n,e){return n==null?e:e==null?n:n*e/qpe(n,e)}function bh(n){throw new Error(n)}function vae(n,e,t){return(e-n)*t+n}var $pe="series\0",Gpe="\0_ec_\0";function Bs(n){return n instanceof Array?n:n==null?[]:[n]}function nV(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,i=t.length;r<i;r++){var u=t[r];!n.emphasis[e].hasOwnProperty(u)&&n[e].hasOwnProperty(u)&&(n.emphasis[e][u]=n[e][u])}}}var yae=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function f5(n){return no(n)&&!sr(n)&&!(n instanceof Date)?n.value:n}function tLe(n){return no(n)&&!(n instanceof Array)}function Xpe(n,e,t){var r=t==="normalMerge",i=t==="replaceMerge",u=t==="replaceAll";n=n||[],e=(e||[]).slice();var l=to();Te(e,function(h,g){if(!no(h)){e[g]=null;return}});var f=nLe(n,l,t);return(r||i)&&rLe(f,n,l,e),r&&oLe(f,e),r||i?iLe(f,e,i):u&&aLe(f,e),uLe(f),f}function nLe(n,e,t){var r=[];if(t==="replaceAll")return r;for(var i=0;i<n.length;i++){var u=n[i];u&&u.id!=null&&e.set(u.id,i),r.push({existing:t==="replaceMerge"||tL(u)?null:u,newOption:null,keyInfo:null,brandNew:null})}return r}function rLe(n,e,t,r){Te(r,function(i,u){if(!(!i||i.id==null)){var l=IN(i.id),f=t.get(l);if(f!=null){var h=n[f];Ap(!h.newOption,'Duplicated option on id "'+l+'".'),h.newOption=i,h.existing=e[f],r[u]=null}}})}function oLe(n,e){Te(e,function(t,r){if(!(!t||t.name==null))for(var i=0;i<n.length;i++){var u=n[i].existing;if(!n[i].newOption&&u&&(u.id==null||t.id==null)&&!tL(t)&&!tL(u)&&Ype("name",u,t)){n[i].newOption=t,e[r]=null;return}}})}function iLe(n,e,t){Te(e,function(r){if(r){for(var i,u=0;(i=n[u])&&(i.newOption||tL(i.existing)||i.existing&&r.id!=null&&!Ype("id",r,i.existing));)u++;i?(i.newOption=r,i.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),u++}})}function aLe(n,e){Te(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function uLe(n){var e=to();Te(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),Te(n,function(t){var r=t.newOption;Ap(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),Te(n,function(t,r){var i=t.existing,u=t.newOption,l=t.keyInfo;if(no(u)){if(l.name=u.name!=null?IN(u.name):i?i.name:$pe+r,i)l.id=IN(i.id);else if(u.id!=null)l.id=IN(u.id);else{var f=0;do l.id="\0"+l.name+"\0"+f++;while(e.get(l.id))}e.set(l.id,t)}})}function Ype(n,e,t){var r=qf(e[n],null),i=qf(t[n],null);return r!=null&&i!=null&&r===i}function IN(n){return qf(n,"")}function qf(n,e){return n==null?e:Nr(n)?n:su(n)||$H(n)?n+"":e}function Qee(n){var e=n.name;return!!(e&&e.indexOf($pe))}function tL(n){return n&&n.id!=null&&IN(n.id).indexOf(Gpe)===0}function sLe(n){return Gpe+n}function lLe(n,e,t){Te(n,function(r){var i=r.newOption;no(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=cLe(e,i,r.existing,t))})}function cLe(n,e,t,r){var i=e.type?e.type:t?t.subType:r.determineSubType(n,e);return i}function fLe(n,e){var t={},r={};return i(n||[],t),i(e||[],r,t),[u(t),u(r)];function i(l,f,h){for(var g=0,y=l.length;g<y;g++){var b=qf(l[g].seriesId,null);if(b==null)return;for(var S=Bs(l[g].dataIndex),_=h&&h[b],k=0,A=S.length;k<A;k++){var R=S[k];_&&_[R]?_[R]=null:(f[b]||(f[b]={}))[R]=1}}}function u(l,f){var h=[];for(var g in l)if(l.hasOwnProperty(g)&&l[g]!=null)if(f)h.push(+g);else{var y=u(l[g],!0);y.length&&h.push({seriesId:g,dataIndex:y})}return h}}function _M(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return sr(e.dataIndex)?br(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return sr(e.name)?br(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function lu(){var n="__ec_inner_"+dLe++;return function(e){return e[n]||(e[n]={})}}var dLe=Wpe();function RN(n,e,t){var r=Zee(e,t),i=r.mainTypeSpecified,u=r.queryOptionMap,l=r.others,f=l,h=t?t.defaultMainType:null;return!i&&h&&u.set(h,{}),u.each(function(g,y){var b=NL(n,y,g,{useDefault:h===y,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});f[y+"Models"]=b.models,f[y+"Model"]=b.models[0]}),f}function Zee(n,e){var t;if(Nr(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var i=to(),u={},l=!1;return Te(t,function(f,h){if(h==="dataIndex"||h==="dataIndexInside"){u[h]=f;return}var g=h.match(/^(\w+)(Index|Id|Name)$/)||[],y=g[1],b=(g[2]||"").toLowerCase();if(!(!y||!b||e&&e.includeMainTypes&&Di(e.includeMainTypes,y)<0)){l=l||!!y;var S=i.get(y)||i.set(y,{});S[b]=f}}),{mainTypeSpecified:l,queryOptionMap:i,others:u}}var mc={useDefault:!0,enableAll:!1,enableNone:!1},hLe={useDefault:!1,enableAll:!0,enableNone:!0};function NL(n,e,t,r){r=r||mc;var i=t.index,u=t.id,l=t.name,f={models:null,specified:i!=null||u!=null||l!=null};if(!f.specified){var h=void 0;return f.models=r.useDefault&&(h=n.getComponent(e))?[h]:[],f}return i==="none"||i===!1?(Ap(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):(i==="all"&&(Ap(r.enableAll,'`"all"` is not a valid value on index option.'),i=u=l=null),f.models=n.queryComponents({mainType:e,index:i,id:u,name:l}),f)}function Kpe(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function pLe(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function mLe(n){return n==="auto"?Li.domSupported?"html":"richText":n||"html"}function gLe(n,e,t,r,i){var u=e==null||e==="auto";if(r==null)return r;if(su(r)){var l=vae(t||0,r,i);return el(l,u?Math.max(sy(t||0),sy(r)):e)}else{if(Nr(r))return i<1?t:r;for(var f=[],h=t,g=r,y=Math.max(h?h.length:0,g.length),b=0;b<y;++b){var S=n.getDimensionInfo(b);if(S&&S.type==="ordinal")f[b]=(i<1&&h?h:g)[b];else{var _=h&&h[b]?h[b]:0,k=g[b],l=vae(_,k,i);f[b]=el(l,u?Math.max(sy(_),sy(k)):e)}}return f}}var vLe=".",RT="___EC__COMPONENT__CONTAINER___",Jpe="___EC__EXTENDED_CLASS___";function ly(n){var e={main:"",sub:""};if(n){var t=n.split(vLe);e.main=t[0]||"",e.sub=t[1]||""}return e}function yLe(n){Ap(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function bLe(n){return!!(n&&n[Jpe])}function ete(n,e){n.$constructor=n,n.extend=function(t){var r=this,i;return xLe(r)?i=function(u){Tn(l,u);function l(){return u.apply(this,arguments)||this}return l}(r):(i=function(){(t.$constructor||r).apply(this,arguments)},Bee(i,this)),Gn(i.prototype,t),i[Jpe]=!0,i.extend=this.extend,i.superCall=SLe,i.superApply=CLe,i.superClass=r,i}}function xLe(n){return Eo(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function Qpe(n,e){n.extend=e.extend}var wLe=Math.round(Math.random()*10);function _Le(n){var e=["__\0is_clz",wLe++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function SLe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function CLe(n,e,t){return this.superClass.prototype[e].apply(n,t)}function QV(n){var e={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){yLe(i),r.prototype.type=i;var u=ly(i);if(!u.sub)e[u.main]=r;else if(u.sub!==RT){var l=t(u);l[u.sub]=r}}return r},n.getClass=function(r,i,u){var l=e[r];if(l&&l[RT]&&(l=i?l[i]:null),u&&!l)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return l},n.getClassesByMainType=function(r){var i=ly(r),u=[],l=e[i.main];return l&&l[RT]?Te(l,function(f,h){h!==RT&&u.push(f)}):u.push(l),u},n.hasClass=function(r){var i=ly(r);return!!e[i.main]},n.getAllClassMainTypes=function(){var r=[];return Te(e,function(i,u){r.push(u)}),r},n.hasSubTypes=function(r){var i=ly(r),u=e[i.main];return u&&u[RT]};function t(r){var i=e[r.main];return(!i||!i[RT])&&(i=e[r.main]={},i[RT]=!0),i}}function G3(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,i,u){for(var l={},f=0;f<n.length;f++){var h=n[f][1];if(!(i&&Di(i,h)>=0||u&&Di(u,h)<0)){var g=r.getShallow(h,e);g!=null&&(l[n[f][0]]=g)}}return l}}var TLe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],MLe=G3(TLe),kLe=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return MLe(this,e,t)},n}(),$Q=new RL(50);function DLe(n){if(typeof n=="string"){var e=$Q.get(n);return e&&e.image}else return n}function Zpe(n,e,t,r,i){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var u=$Q.get(n),l={hostEl:t,cb:r,cbPayload:i};return u?(e=u.image,!ZV(e)&&u.pending.push(l)):(e=Ib.loadImage(n,bae,bae),e.__zrImageSrc=n,$Q.put(n,e.__cachedImgObj={image:e,pending:[l]})),e}else return n;else return e}function bae(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function ZV(n){return n&&n.width&&n.height}var IK=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function eme(n,e,t,r,i){if(!e)return"";var u=(n+"").split(`
`);i=tme(e,t,r,i);for(var l=0,f=u.length;l<f;l++)u[l]=nme(u[l],i);return u.join(`
`)}function tme(n,e,t,r){r=r||{};var i=Gn({},r);i.font=e,t=Gi(t,"..."),i.maxIterations=Gi(r.maxIterations,2);var u=i.minChar=Gi(r.minChar,0);i.cnCharWidth=Dp("",e);var l=i.ascCharWidth=Dp("a",e);i.placeholder=Gi(r.placeholder,"");for(var f=n=Math.max(0,n-1),h=0;h<u&&f>=l;h++)f-=l;var g=Dp(t,e);return g>f&&(t="",g=0),f=n-g,i.ellipsis=t,i.ellipsisWidth=g,i.contentWidth=f,i.containerWidth=n,i}function nme(n,e){var t=e.containerWidth,r=e.font,i=e.contentWidth;if(!t)return"";var u=Dp(n,r);if(u<=t)return n;for(var l=0;;l++){if(u<=i||l>=e.maxIterations){n+=e.ellipsis;break}var f=l===0?ALe(n,i,e.ascCharWidth,e.cnCharWidth):u>0?Math.floor(n.length*i/u):0;n=n.substr(0,f),u=Dp(n,r)}return n===""&&(n=e.placeholder),n}function ALe(n,e,t,r){for(var i=0,u=0,l=n.length;u<l&&i<e;u++){var f=n.charCodeAt(u);i+=0<=f&&f<=127?t:r}return u}function ELe(n,e){n!=null&&(n+="");var t=e.overflow,r=e.padding,i=e.font,u=t==="truncate",l=$ee(i),f=Gi(e.lineHeight,l),h=!!e.backgroundColor,g=e.lineOverflow==="truncate",y=e.width,b;y!=null&&(t==="break"||t==="breakAll")?b=n?rme(n,e.font,y,t==="breakAll",0).lines:[]:b=n?n.split(`
`):[];var S=b.length*f,_=Gi(e.height,S);if(S>_&&g){var k=Math.floor(_/f);b=b.slice(0,k)}if(n&&u&&y!=null)for(var A=tme(y,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),R=0;R<b.length;R++)b[R]=nme(b[R],A);for(var I=_,z=0,R=0;R<b.length;R++)z=Math.max(Dp(b[R],i),z);y==null&&(y=z);var L=z;return r&&(I+=r[0]+r[2],L+=r[1]+r[3],y+=r[1]+r[3]),h&&(L=y),{lines:b,height:_,outerWidth:L,outerHeight:I,lineHeight:f,calculatedLineHeight:l,contentWidth:z,contentHeight:S,width:y}}var OLe=function(){function n(){}return n}(),xae=function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n}(),ILe=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return n}();function RLe(n,e){var t=new ILe;if(n!=null&&(n+=""),!n)return t;for(var r=e.width,i=e.height,u=e.overflow,l=(u==="break"||u==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:u==="breakAll"}:null,f=IK.lastIndex=0,h;(h=IK.exec(n))!=null;){var g=h.index;g>f&&RK(t,n.substring(f,g),e,l),RK(t,h[2],e,l,h[1]),f=IK.lastIndex}f<n.length&&RK(t,n.substring(f,n.length),e,l);var y=[],b=0,S=0,_=e.padding,k=u==="truncate",A=e.lineOverflow==="truncate";function R(tt,G,We){tt.width=G,tt.lineHeight=We,b+=We,S=Math.max(S,G)}e:for(var I=0;I<t.lines.length;I++){for(var z=t.lines[I],L=0,q=0,X=0;X<z.tokens.length;X++){var Y=z.tokens[X],ae=Y.styleName&&e.rich[Y.styleName]||{},te=Y.textPadding=ae.padding,ie=te?te[1]+te[3]:0,le=Y.font=ae.font||e.font;Y.contentHeight=$ee(le);var ce=Gi(ae.height,Y.contentHeight);if(Y.innerHeight=ce,te&&(ce+=te[0]+te[2]),Y.height=ce,Y.lineHeight=k3(ae.lineHeight,e.lineHeight,ce),Y.align=ae&&ae.align||e.align,Y.verticalAlign=ae&&ae.verticalAlign||"middle",A&&i!=null&&b+Y.lineHeight>i){X>0?(z.tokens=z.tokens.slice(0,X),R(z,q,L),t.lines=t.lines.slice(0,I+1)):t.lines=t.lines.slice(0,I);break e}var ne=ae.width,Q=ne==null||ne==="auto";if(typeof ne=="string"&&ne.charAt(ne.length-1)==="%")Y.percentWidth=ne,y.push(Y),Y.contentWidth=Dp(Y.text,le);else{if(Q){var Ce=ae.backgroundColor,ze=Ce&&Ce.image;ze&&(ze=DLe(ze),ZV(ze)&&(Y.width=Math.max(Y.width,ze.width*ce/ze.height)))}var ke=k&&r!=null?r-q:null;ke!=null&&ke<Y.width?!Q||ke<ie?(Y.text="",Y.width=Y.contentWidth=0):(Y.text=eme(Y.text,ke-ie,le,e.ellipsis,{minChar:e.truncateMinChar}),Y.width=Y.contentWidth=Dp(Y.text,le)):Y.contentWidth=Dp(Y.text,le)}Y.width+=ie,q+=Y.width,ae&&(L=Math.max(L,Y.lineHeight))}R(z,q,L)}t.outerWidth=t.width=Gi(r,S),t.outerHeight=t.height=Gi(i,b),t.contentHeight=b,t.contentWidth=S,_&&(t.outerWidth+=_[1]+_[3],t.outerHeight+=_[0]+_[2]);for(var I=0;I<y.length;I++){var Y=y[I],St=Y.percentWidth;Y.width=parseInt(St,10)/100*t.width}return t}function RK(n,e,t,r,i){var u=e==="",l=i&&t.rich[i]||{},f=n.lines,h=l.font||t.font,g=!1,y,b;if(r){var S=l.padding,_=S?S[1]+S[3]:0;if(l.width!=null&&l.width!=="auto"){var k=Dv(l.width,r.width)+_;f.length>0&&k+r.accumWidth>r.width&&(y=e.split(`
`),g=!0),r.accumWidth=k}else{var A=rme(e,h,r.width,r.breakAll,r.accumWidth);r.accumWidth=A.accumWidth+_,b=A.linesWidths,y=A.lines}}else y=e.split(`
`);for(var R=0;R<y.length;R++){var I=y[R],z=new OLe;if(z.styleName=i,z.text=I,z.isLineHolder=!I&&!u,typeof l.width=="number"?z.width=l.width:z.width=b?b[R]:Dp(I,h),!R&&!g){var L=(f[f.length-1]||(f[0]=new xae)).tokens,q=L.length;q===1&&L[0].isLineHolder?L[0]=z:(I||!q||u)&&L.push(z)}else f.push(new xae([z]))}}function PLe(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var NLe=Jm(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function LLe(n){return PLe(n)?!!NLe[n]:!0}function rme(n,e,t,r,i){for(var u=[],l=[],f="",h="",g=0,y=0,b=0;b<n.length;b++){var S=n.charAt(b);if(S===`
`){h&&(f+=h,y+=g),u.push(f),l.push(y),f="",h="",g=0,y=0;continue}var _=Dp(S,e),k=r?!1:!LLe(S);if(u.length?y+_>t:i+y+_>t){y?(f||h)&&(k?(f||(f=h,h="",g=0,y=g),u.push(f),l.push(y-g),h+=S,g+=_,f="",y=g):(h&&(f+=h,h="",g=0),u.push(f),l.push(y),f=S,y=_)):k?(u.push(h),l.push(g),h=S,g=_):(u.push(S),l.push(_));continue}y+=_,k?(h+=S,g+=_):(h&&(f+=h,h="",g=0),f+=S)}return!u.length&&!f&&(f=n,h="",g=0),h&&(f+=h),f&&(u.push(f),l.push(y)),u.length===1&&(y+=i),{accumWidth:y,lines:u,linesWidths:l}}var GQ="__zr_style_"+Math.round(Math.random()*10),hM={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},e9={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};hM[GQ]=!0;var wae=["z","z2","invisible"],BLe=["invisible"],zLe=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var r=ga(t),i=0;i<r.length;i++){var u=r[i];u==="style"?this.useStyle(t[u]):n.prototype.attrKV.call(this,u,t[u])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,i,u){var l=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&FLe(this,t,r)||l&&!l[0]&&!l[3])return!1;if(i&&this.__clipPaths){for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1}if(u&&this.parent)for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r),u=this.getBoundingRect();return u.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),u=this.style,l=u.shadowBlur||0,f=u.shadowOffsetX||0,h=u.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new vi(0,0,0,0)),r?vi.applyTransform(t,i,r):t.copy(i),(l||f||h)&&(t.width+=l*2+Math.abs(f),t.height+=l*2+Math.abs(h),t.x=Math.min(t.x,t.x+f-l),t.y=Math.min(t.y,t.y+h-l));var g=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-g),t.y=Math.floor(t.y-g),t.width=Math.ceil(t.width+1+g*2),t.height=Math.ceil(t.height+1+g*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new vi(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){t!=="style"?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return typeof t=="string"?this.style[t]=r:Gn(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=lN,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&lN)},e.prototype.styleUpdated=function(){this.__dirty&=~lN},e.prototype.createStyle=function(t){return OL(hM,t)},e.prototype.useStyle=function(t){t[GQ]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[GQ]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,wae)},e.prototype._applyStateObj=function(t,r,i,u,l,f){n.prototype._applyStateObj.call(this,t,r,i,u,l,f);var h=!(r&&u),g;if(r&&r.style?l?u?g=r.style:(g=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(g,r.style)):(g=this._mergeStyle(this.createStyle(),u?this.style:i.style),this._mergeStyle(g,r.style)):h&&(g=i.style),g)if(l){var y=this.style;if(this.style=this.createStyle(h?{}:y),h)for(var b=ga(y),S=0;S<b.length;S++){var _=b[S];_ in g&&(g[_]=g[_],this.style[_]=y[_])}for(var k=ga(g),S=0;S<k.length;S++){var _=k[S];this.style[_]=this.style[_]}this._transitionState(t,{style:g},f,this.getAnimationStyleProps())}else this.useStyle(g);for(var A=this.__inHover?BLe:wae,S=0;S<A.length;S++){var _=A[S];r&&r[_]!=null?this[_]=r[_]:h&&i[_]!=null&&(this[_]=i[_])}},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,u=0;u<t.length;u++){var l=t[u];l.style&&(i=i||{},this._mergeStyle(i,l.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(t,r){return Gn(t,r),t},e.prototype.getAnimationStyleProps=function(){return e9},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=Cp|lN}(),e}(Bpe),PK=new vi(0,0,0,0),NK=new vi(0,0,0,0);function FLe(n,e,t){return PK.copy(n.getBoundingRect()),n.transform&&PK.applyTransform(n.transform),NK.width=e,NK.height=t,!PK.intersect(NK)}const Lb=zLe;var Wm=Math.min,qm=Math.max,LK=Math.sin,BK=Math.cos,PT=Math.PI*2,mF=IM(),gF=IM(),vF=IM();function _ae(n,e,t,r,i,u){i[0]=Wm(n,t),i[1]=Wm(e,r),u[0]=qm(n,t),u[1]=qm(e,r)}var Sae=[],Cae=[];function HLe(n,e,t,r,i,u,l,f,h,g){var y=kpe,b=pc,S=y(n,t,i,l,Sae);h[0]=1/0,h[1]=1/0,g[0]=-1/0,g[1]=-1/0;for(var _=0;_<S;_++){var k=b(n,t,i,l,Sae[_]);h[0]=Wm(k,h[0]),g[0]=qm(k,g[0])}S=y(e,r,u,f,Cae);for(var _=0;_<S;_++){var A=b(e,r,u,f,Cae[_]);h[1]=Wm(A,h[1]),g[1]=qm(A,g[1])}h[0]=Wm(n,h[0]),g[0]=qm(n,g[0]),h[0]=Wm(l,h[0]),g[0]=qm(l,g[0]),h[1]=Wm(e,h[1]),g[1]=qm(e,g[1]),h[1]=Wm(f,h[1]),g[1]=qm(f,g[1])}function VLe(n,e,t,r,i,u,l,f){var h=Dpe,g=jf,y=qm(Wm(h(n,t,i),1),0),b=qm(Wm(h(e,r,u),1),0),S=g(n,t,i,y),_=g(e,r,u,b);l[0]=Wm(n,i,S),l[1]=Wm(e,u,_),f[0]=qm(n,i,S),f[1]=qm(e,u,_)}function jLe(n,e,t,r,i,u,l,f,h){var g=_b,y=Sb,b=Math.abs(i-u);if(b%PT<1e-4&&b>1e-4){f[0]=n-t,f[1]=e-r,h[0]=n+t,h[1]=e+r;return}if(mF[0]=BK(i)*t+n,mF[1]=LK(i)*r+e,gF[0]=BK(u)*t+n,gF[1]=LK(u)*r+e,g(f,mF,gF),y(h,mF,gF),i=i%PT,i<0&&(i=i+PT),u=u%PT,u<0&&(u=u+PT),i>u&&!l?u+=PT:i<u&&l&&(i+=PT),l){var S=u;u=i,i=S}for(var _=0;_<u;_+=Math.PI/2)_>i&&(vF[0]=BK(_)*t+n,vF[1]=LK(_)*r+e,g(f,vF,f),y(h,vF,h))}var Ka={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},NT=[],LT=[],Q0=[],v2=[],Z0=[],ey=[],zK=Math.min,FK=Math.max,BT=Math.cos,zT=Math.sin,mb=Math.abs,XQ=Math.PI,M2=XQ*2,HK=typeof Float32Array<"u",BP=[];function VK(n){var e=Math.round(n/XQ*1e8)/1e8;return e%2*XQ}function ULe(n,e){var t=VK(n[0]);t<0&&(t+=M2);var r=t-n[0],i=n[1];i+=r,!e&&i-t>=M2?i=t+M2:e&&t-i>=M2?i=t-M2:!e&&t>i?i=t+(M2-VK(t-i)):e&&t<i&&(i=t-(M2-VK(i-t))),n[0]=t,n[1]=i}var WLe=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){r=r||0,r>0&&(this._ux=mb(r/eV/e)||0,this._uy=mb(r/eV/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Ka.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=mb(e-this._xi),i=mb(t-this._yi),u=r>this._ux||i>this._uy;if(this.addData(Ka.L,e,t),this._ctx&&u&&this._ctx.lineTo(e,t),u)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var l=r*r+i*i;l>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=l)}return this},n.prototype.bezierCurveTo=function(e,t,r,i,u,l){return this._drawPendingPt(),this.addData(Ka.C,e,t,r,i,u,l),this._ctx&&this._ctx.bezierCurveTo(e,t,r,i,u,l),this._xi=u,this._yi=l,this},n.prototype.quadraticCurveTo=function(e,t,r,i){return this._drawPendingPt(),this.addData(Ka.Q,e,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(e,t,r,i,u,l){this._drawPendingPt(),BP[0]=i,BP[1]=u,ULe(BP,l),i=BP[0],u=BP[1];var f=u-i;return this.addData(Ka.A,e,t,r,r,i,f,0,l?0:1),this._ctx&&this._ctx.arc(e,t,r,i,u,l),this._xi=BT(u)*r+e,this._yi=zT(u)*r+t,this},n.prototype.arcTo=function(e,t,r,i,u){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,i,u),this},n.prototype.rect=function(e,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,i),this.addData(Ka.R,e,t,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Ka.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&HK&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,i=this._len,u=0;u<t;u++)r+=e[u].len();HK&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var u=0;u<t;u++)for(var l=e[u].data,f=0;f<l.length;f++)this.data[i++]=l[f];this._len=i},n.prototype.addData=function(e,t,r,i,u,l,f,h,g){if(this._saveData){var y=this.data;this._len+arguments.length>y.length&&(this._expandData(),y=this.data);for(var b=0;b<arguments.length;b++)y[this._len++]=arguments[b]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,HK&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){Q0[0]=Q0[1]=Z0[0]=Z0[1]=Number.MAX_VALUE,v2[0]=v2[1]=ey[0]=ey[1]=-Number.MAX_VALUE;var e=this.data,t=0,r=0,i=0,u=0,l;for(l=0;l<this._len;){var f=e[l++],h=l===1;switch(h&&(t=e[l],r=e[l+1],i=t,u=r),f){case Ka.M:t=i=e[l++],r=u=e[l++],Z0[0]=i,Z0[1]=u,ey[0]=i,ey[1]=u;break;case Ka.L:_ae(t,r,e[l],e[l+1],Z0,ey),t=e[l++],r=e[l++];break;case Ka.C:HLe(t,r,e[l++],e[l++],e[l++],e[l++],e[l],e[l+1],Z0,ey),t=e[l++],r=e[l++];break;case Ka.Q:VLe(t,r,e[l++],e[l++],e[l],e[l+1],Z0,ey),t=e[l++],r=e[l++];break;case Ka.A:var g=e[l++],y=e[l++],b=e[l++],S=e[l++],_=e[l++],k=e[l++]+_;l+=1;var A=!e[l++];h&&(i=BT(_)*b+g,u=zT(_)*S+y),jLe(g,y,b,S,_,k,A,Z0,ey),t=BT(k)*b+g,r=zT(k)*S+y;break;case Ka.R:i=t=e[l++],u=r=e[l++];var R=e[l++],I=e[l++];_ae(i,u,i+R,u+I,Z0,ey);break;case Ka.Z:t=i,r=u;break}_b(Q0,Q0,Z0),Sb(v2,v2,ey)}return l===0&&(Q0[0]=Q0[1]=v2[0]=v2[1]=0),new vi(Q0[0],Q0[1],v2[0]-Q0[0],v2[1]-Q0[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,i=this._uy,u=0,l=0,f=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var g=this._pathSegLen,y=0,b=0,S=0;S<t;){var _=e[S++],k=S===1;k&&(u=e[S],l=e[S+1],f=u,h=l);var A=-1;switch(_){case Ka.M:u=f=e[S++],l=h=e[S++];break;case Ka.L:{var R=e[S++],I=e[S++],z=R-u,L=I-l;(mb(z)>r||mb(L)>i||S===t-1)&&(A=Math.sqrt(z*z+L*L),u=R,l=I);break}case Ka.C:{var q=e[S++],X=e[S++],R=e[S++],I=e[S++],Y=e[S++],ae=e[S++];A=QPe(u,l,q,X,R,I,Y,ae,10),u=Y,l=ae;break}case Ka.Q:{var q=e[S++],X=e[S++],R=e[S++],I=e[S++];A=tNe(u,l,q,X,R,I,10),u=R,l=I;break}case Ka.A:var te=e[S++],ie=e[S++],le=e[S++],ce=e[S++],ne=e[S++],Q=e[S++],Ce=Q+ne;S+=1,e[S++],k&&(f=BT(ne)*le+te,h=zT(ne)*ce+ie),A=FK(le,ce)*zK(M2,Math.abs(Q)),u=BT(Ce)*le+te,l=zT(Ce)*ce+ie;break;case Ka.R:{f=u=e[S++],h=l=e[S++];var ze=e[S++],ke=e[S++];A=ze*2+ke*2;break}case Ka.Z:{var z=f-u,L=h-l;A=Math.sqrt(z*z+L*L),u=f,l=h;break}}A>=0&&(g[b++]=A,y+=A)}return this._pathLen=y,y},n.prototype.rebuildPath=function(e,t){var r=this.data,i=this._ux,u=this._uy,l=this._len,f,h,g,y,b,S,_=t<1,k,A,R=0,I=0,z,L=0,q,X;if(!(_&&(this._pathSegLen||this._calculateLength(),k=this._pathSegLen,A=this._pathLen,z=t*A,!z)))e:for(var Y=0;Y<l;){var ae=r[Y++],te=Y===1;switch(te&&(g=r[Y],y=r[Y+1],f=g,h=y),ae!==Ka.L&&L>0&&(e.lineTo(q,X),L=0),ae){case Ka.M:f=g=r[Y++],h=y=r[Y++],e.moveTo(g,y);break;case Ka.L:{b=r[Y++],S=r[Y++];var ie=mb(b-g),le=mb(S-y);if(ie>i||le>u){if(_){var ce=k[I++];if(R+ce>z){var ne=(z-R)/ce;e.lineTo(g*(1-ne)+b*ne,y*(1-ne)+S*ne);break e}R+=ce}e.lineTo(b,S),g=b,y=S,L=0}else{var Q=ie*ie+le*le;Q>L&&(q=b,X=S,L=Q)}break}case Ka.C:{var Ce=r[Y++],ze=r[Y++],ke=r[Y++],St=r[Y++],tt=r[Y++],G=r[Y++];if(_){var ce=k[I++];if(R+ce>z){var ne=(z-R)/ce;QH(g,Ce,ke,tt,ne,NT),QH(y,ze,St,G,ne,LT),e.bezierCurveTo(NT[1],LT[1],NT[2],LT[2],NT[3],LT[3]);break e}R+=ce}e.bezierCurveTo(Ce,ze,ke,St,tt,G),g=tt,y=G;break}case Ka.Q:{var Ce=r[Y++],ze=r[Y++],ke=r[Y++],St=r[Y++];if(_){var ce=k[I++];if(R+ce>z){var ne=(z-R)/ce;ZH(g,Ce,ke,ne,NT),ZH(y,ze,St,ne,LT),e.quadraticCurveTo(NT[1],LT[1],NT[2],LT[2]);break e}R+=ce}e.quadraticCurveTo(Ce,ze,ke,St),g=ke,y=St;break}case Ka.A:var We=r[Y++],Ge=r[Y++],pt=r[Y++],Ze=r[Y++],kt=r[Y++],Ot=r[Y++],Nt=r[Y++],fe=!r[Y++],Yt=pt>Ze?pt:Ze,Ye=mb(pt-Ze)>.001,je=kt+Ot,bt=!1;if(_){var ce=k[I++];R+ce>z&&(je=kt+Ot*(z-R)/ce,bt=!0),R+=ce}if(Ye&&e.ellipse?e.ellipse(We,Ge,pt,Ze,Nt,kt,je,fe):e.arc(We,Ge,Yt,kt,je,fe),bt)break e;te&&(f=BT(kt)*pt+We,h=zT(kt)*Ze+Ge),g=BT(je)*pt+We,y=zT(je)*Ze+Ge;break;case Ka.R:f=g=r[Y],h=y=r[Y+1],b=r[Y++],S=r[Y++];var qe=r[Y++],Je=r[Y++];if(_){var ce=k[I++];if(R+ce>z){var st=z-R;e.moveTo(b,S),e.lineTo(b+zK(st,qe),S),st-=qe,st>0&&e.lineTo(b+qe,S+zK(st,Je)),st-=Je,st>0&&e.lineTo(b+FK(qe-st,0),S+Je),st-=qe,st>0&&e.lineTo(b,S+FK(Je-st,0));break e}R+=ce}e.rect(b,S,qe,Je);break;case Ka.Z:if(_){var ce=k[I++];if(R+ce>z){var ne=(z-R)/ce;e.lineTo(g*(1-ne)+f*ne,y*(1-ne)+h*ne);break e}R+=ce}e.closePath(),g=f,y=h}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=Ka,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();const SM=WLe;function e3(n,e,t,r,i,u,l){if(i===0)return!1;var f=i,h=0,g=n;if(l>e+f&&l>r+f||l<e-f&&l<r-f||u>n+f&&u>t+f||u<n-f&&u<t-f)return!1;if(n!==t)h=(e-r)/(n-t),g=(n*r-t*e)/(n-t);else return Math.abs(u-n)<=f/2;var y=h*u-l+g,b=y*y/(h*h+1);return b<=f/2*f/2}function qLe(n,e,t,r,i,u,l,f,h,g,y){if(h===0)return!1;var b=h;if(y>e+b&&y>r+b&&y>u+b&&y>f+b||y<e-b&&y<r-b&&y<u-b&&y<f-b||g>n+b&&g>t+b&&g>i+b&&g>l+b||g<n-b&&g<t-b&&g<i-b&&g<l-b)return!1;var S=JPe(n,e,t,r,i,u,l,f,g,y,null);return S<=b/2}function $Le(n,e,t,r,i,u,l,f,h){if(l===0)return!1;var g=l;if(h>e+g&&h>r+g&&h>u+g||h<e-g&&h<r-g&&h<u-g||f>n+g&&f>t+g&&f>i+g||f<n-g&&f<t-g&&f<i-g)return!1;var y=eNe(n,e,t,r,i,u,f,h,null);return y<=g/2}var Tae=Math.PI*2;function yF(n){return n%=Tae,n<0&&(n+=Tae),n}var zP=Math.PI*2;function GLe(n,e,t,r,i,u,l,f,h){if(l===0)return!1;var g=l;f-=n,h-=e;var y=Math.sqrt(f*f+h*h);if(y-g>t||y+g<t)return!1;if(Math.abs(r-i)%zP<1e-4)return!0;if(u){var b=r;r=yF(i),i=yF(b)}else r=yF(r),i=yF(i);r>i&&(i+=zP);var S=Math.atan2(h,f);return S<0&&(S+=zP),S>=r&&S<=i||S+zP>=r&&S+zP<=i}function wb(n,e,t,r,i,u){if(u>e&&u>r||u<e&&u<r||r===e)return 0;var l=(u-e)/(r-e),f=r<e?1:-1;(l===1||l===0)&&(f=r<e?.5:-.5);var h=l*(t-n)+n;return h===i?1/0:h>i?f:0}var y2=SM.CMD,FT=Math.PI*2,XLe=1e-4;function YLe(n,e){return Math.abs(n-e)<XLe}var kd=[-1,-1,-1],Vm=[-1,-1];function KLe(){var n=Vm[0];Vm[0]=Vm[1],Vm[1]=n}function JLe(n,e,t,r,i,u,l,f,h,g){if(g>e&&g>r&&g>u&&g>f||g<e&&g<r&&g<u&&g<f)return 0;var y=JH(e,r,u,f,g,kd);if(y===0)return 0;for(var b=0,S=-1,_=void 0,k=void 0,A=0;A<y;A++){var R=kd[A],I=R===0||R===1?.5:1,z=pc(n,t,i,l,R);z<h||(S<0&&(S=kpe(e,r,u,f,Vm),Vm[1]<Vm[0]&&S>1&&KLe(),_=pc(e,r,u,f,Vm[0]),S>1&&(k=pc(e,r,u,f,Vm[1]))),S===2?R<Vm[0]?b+=_<e?I:-I:R<Vm[1]?b+=k<_?I:-I:b+=f<k?I:-I:R<Vm[0]?b+=_<e?I:-I:b+=f<_?I:-I)}return b}function QLe(n,e,t,r,i,u,l,f){if(f>e&&f>r&&f>u||f<e&&f<r&&f<u)return 0;var h=ZPe(e,r,u,f,kd);if(h===0)return 0;var g=Dpe(e,r,u);if(g>=0&&g<=1){for(var y=0,b=jf(e,r,u,g),S=0;S<h;S++){var _=kd[S]===0||kd[S]===1?.5:1,k=jf(n,t,i,kd[S]);k<l||(kd[S]<g?y+=b<e?_:-_:y+=u<b?_:-_)}return y}else{var _=kd[0]===0||kd[0]===1?.5:1,k=jf(n,t,i,kd[0]);return k<l?0:u<e?_:-_}}function ZLe(n,e,t,r,i,u,l,f){if(f-=e,f>t||f<-t)return 0;var h=Math.sqrt(t*t-f*f);kd[0]=-h,kd[1]=h;var g=Math.abs(r-i);if(g<1e-4)return 0;if(g>=FT-1e-4){r=0,i=FT;var y=u?1:-1;return l>=kd[0]+n&&l<=kd[1]+n?y:0}if(r>i){var b=r;r=i,i=b}r<0&&(r+=FT,i+=FT);for(var S=0,_=0;_<2;_++){var k=kd[_];if(k+n>l){var A=Math.atan2(f,k),y=u?1:-1;A<0&&(A=FT+A),(A>=r&&A<=i||A+FT>=r&&A+FT<=i)&&(A>Math.PI/2&&A<Math.PI*1.5&&(y=-y),S+=y)}}return S}function ome(n,e,t,r,i){for(var u=n.data,l=n.len(),f=0,h=0,g=0,y=0,b=0,S,_,k=0;k<l;){var A=u[k++],R=k===1;switch(A===y2.M&&k>1&&(t||(f+=wb(h,g,y,b,r,i))),R&&(h=u[k],g=u[k+1],y=h,b=g),A){case y2.M:y=u[k++],b=u[k++],h=y,g=b;break;case y2.L:if(t){if(e3(h,g,u[k],u[k+1],e,r,i))return!0}else f+=wb(h,g,u[k],u[k+1],r,i)||0;h=u[k++],g=u[k++];break;case y2.C:if(t){if(qLe(h,g,u[k++],u[k++],u[k++],u[k++],u[k],u[k+1],e,r,i))return!0}else f+=JLe(h,g,u[k++],u[k++],u[k++],u[k++],u[k],u[k+1],r,i)||0;h=u[k++],g=u[k++];break;case y2.Q:if(t){if($Le(h,g,u[k++],u[k++],u[k],u[k+1],e,r,i))return!0}else f+=QLe(h,g,u[k++],u[k++],u[k],u[k+1],r,i)||0;h=u[k++],g=u[k++];break;case y2.A:var I=u[k++],z=u[k++],L=u[k++],q=u[k++],X=u[k++],Y=u[k++];k+=1;var ae=!!(1-u[k++]);S=Math.cos(X)*L+I,_=Math.sin(X)*q+z,R?(y=S,b=_):f+=wb(h,g,S,_,r,i);var te=(r-I)*q/L+I;if(t){if(GLe(I,z,q,X,X+Y,ae,e,te,i))return!0}else f+=ZLe(I,z,q,X,X+Y,ae,te,i);h=Math.cos(X+Y)*L+I,g=Math.sin(X+Y)*q+z;break;case y2.R:y=h=u[k++],b=g=u[k++];var ie=u[k++],le=u[k++];if(S=y+ie,_=b+le,t){if(e3(y,b,S,b,e,r,i)||e3(S,b,S,_,e,r,i)||e3(S,_,y,_,e,r,i)||e3(y,_,y,b,e,r,i))return!0}else f+=wb(S,b,S,_,r,i),f+=wb(y,_,y,b,r,i);break;case y2.Z:if(t){if(e3(h,g,y,b,e,r,i))return!0}else f+=wb(h,g,y,b,r,i);h=y,g=b;break}}return!t&&!YLe(g,b)&&(f+=wb(h,g,y,b,r,i)||0),f!==0}function e6e(n,e,t){return ome(n,0,!1,e,t)}function t6e(n,e,t,r){return ome(n,e,!0,t,r)}var ime=Co({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},hM),n6e={style:Co({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},e9.style)},jK=gy.concat(["invisible","culling","z","z2","zlevel","parent"]),r6e=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(h){t.buildPath(h,t.shape)}),i.silent=!0;var u=i.style;for(var l in r)u[l]!==r[l]&&(u[l]=r[l]);u.fill=r.fill?r.decal:null,u.decal=null,u.shadowColor=null,r.strokeFirst&&(u.stroke=null);for(var f=0;f<jK.length;++f)i[jK[f]]=this[jK[f]];i.__dirty|=Cp}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=ga(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var u=0;u<r.length;u++){var l=r[u],f=t[l];l==="style"?this.style?Gn(this.style,f):this.useStyle(f):l==="shape"?Gn(this.shape,f):n.prototype.attrKV.call(this,l,f)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(Nr(t)){var r=QN(t,0);return r>.5?jQ:r>.2?INe:UQ}else if(t)return UQ}return jQ},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(Nr(r)){var i=this.__zr,u=!!(i&&i.isDarkMode()),l=QN(t,0)<VQ;if(u===l)return r}},e.prototype.buildPath=function(t,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~v3},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new SM(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var u=!1;this.path||(u=!0,this.createPathProxy());var l=this.path;(u||this.__dirty&v3)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),t=l.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){f.copy(t);var h=r.strokeNoScale?this.getLineScale():1,g=r.lineWidth;if(!this.hasFill()){var y=this.strokeContainThreshold;g=Math.max(g,y??4)}h>1e-10&&(f.width+=g/h,f.height+=g/h,f.x-=g/h/2,f.y-=g/h/2)}return f}return t},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),u=this.getBoundingRect(),l=this.style;if(t=i[0],r=i[1],u.contain(t,r)){var f=this.path;if(this.hasStroke()){var h=l.lineWidth,g=l.strokeNoScale?this.getLineScale():1;if(g>1e-10&&(this.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),t6e(f,h/g,t,r)))return!0}if(this.hasFill())return e6e(f,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=v3,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){t==="shape"?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=r:Gn(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&v3)},e.prototype.createStyle=function(t){return OL(ime,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=Gn({},this.shape))},e.prototype._applyStateObj=function(t,r,i,u,l,f){n.prototype._applyStateObj.call(this,t,r,i,u,l,f);var h=!(r&&u),g;if(r&&r.shape?l?u?g=r.shape:(g=Gn({},i.shape),Gn(g,r.shape)):(g=Gn({},u?this.shape:i.shape),Gn(g,r.shape)):h&&(g=i.shape),g)if(l){this.shape=Gn({},this.shape);for(var y={},b=ga(g),S=0;S<b.length;S++){var _=b[S];typeof g[_]=="object"?this.shape[_]=g[_]:y[_]=g[_]}this._transitionState(t,{shape:y},f)}else this.shape=g,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,u=0;u<t.length;u++){var l=t[u];l.shape&&(i=i||{},this._mergeStyle(i,l.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return n6e},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=function(u){Tn(l,u);function l(f){var h=u.call(this,f)||this;return t.init&&t.init.call(h,f),h}return l.prototype.getDefaultStyle=function(){return vo(t.style)},l.prototype.getDefaultShape=function(){return vo(t.shape)},l}(e);for(var i in t)typeof t[i]=="function"&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=Cp|lN|v3}(),e}(Lb);const Va=r6e;var o6e=Co({strokeFirst:!0,font:wM,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},ime),ame=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return r!=null&&r!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(t){return OL(o6e,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;r!=null?r+="":r="";var i=PL(r,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var u=t.lineWidth;i.x-=u/2,i.y-=u/2,i.width+=u,i.height+=u}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(Lb);ame.prototype.type="tspan";const rV=ame;var i6e=Co({x:0,y:0},hM),a6e={style:Co({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},e9.style)};function u6e(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var ume=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return OL(i6e,t)},e.prototype._getSize=function(t){var r=this.style,i=r[t];if(i!=null)return i;var u=u6e(r.image)?r.image:this.__image;if(!u)return 0;var l=t==="width"?"height":"width",f=r[l];return f==null?u[t]:u[t]/u[l]*f},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return a6e},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new vi(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Lb);ume.prototype.type="image";const Ip=ume;function s6e(n,e){var t=e.x,r=e.y,i=e.width,u=e.height,l=e.r,f,h,g,y;i<0&&(t=t+i,i=-i),u<0&&(r=r+u,u=-u),typeof l=="number"?f=h=g=y=l:l instanceof Array?l.length===1?f=h=g=y=l[0]:l.length===2?(f=g=l[0],h=y=l[1]):l.length===3?(f=l[0],h=y=l[1],g=l[2]):(f=l[0],h=l[1],g=l[2],y=l[3]):f=h=g=y=0;var b;f+h>i&&(b=f+h,f*=i/b,h*=i/b),g+y>i&&(b=g+y,g*=i/b,y*=i/b),h+g>u&&(b=h+g,h*=u/b,g*=u/b),f+y>u&&(b=f+y,f*=u/b,y*=u/b),n.moveTo(t+f,r),n.lineTo(t+i-h,r),h!==0&&n.arc(t+i-h,r+h,h,-Math.PI/2,0),n.lineTo(t+i,r+u-g),g!==0&&n.arc(t+i-g,r+u-g,g,0,Math.PI/2),n.lineTo(t+y,r+u),y!==0&&n.arc(t+y,r+u-y,y,Math.PI/2,Math.PI),n.lineTo(t,r+f),f!==0&&n.arc(t+f,r+f,f,Math.PI,Math.PI*1.5)}var _3=Math.round;function sme(n,e,t){if(e){var r=e.x1,i=e.x2,u=e.y1,l=e.y2;n.x1=r,n.x2=i,n.y1=u,n.y2=l;var f=t&&t.lineWidth;return f&&(_3(r*2)===_3(i*2)&&(n.x1=n.x2=oM(r,f,!0)),_3(u*2)===_3(l*2)&&(n.y1=n.y2=oM(u,f,!0))),n}}function lme(n,e,t){if(e){var r=e.x,i=e.y,u=e.width,l=e.height;n.x=r,n.y=i,n.width=u,n.height=l;var f=t&&t.lineWidth;return f&&(n.x=oM(r,f,!0),n.y=oM(i,f,!0),n.width=Math.max(oM(r+u,f,!1)-n.x,u===0?0:1),n.height=Math.max(oM(i+l,f,!1)-n.y,l===0?0:1)),n}}function oM(n,e,t){if(!e)return n;var r=_3(n*2);return(r+_3(e))%2===0?r/2:(r+(t?1:-1))/2}var l6e=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),c6e={},cme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new l6e},e.prototype.buildPath=function(t,r){var i,u,l,f;if(this.subPixelOptimize){var h=lme(c6e,r,this.style);i=h.x,u=h.y,l=h.width,f=h.height,h.r=r.r,r=h}else i=r.x,u=r.y,l=r.width,f=r.height;r.r?s6e(t,r):t.rect(i,u,l,f)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Va);cme.prototype.type="rect";const va=cme;var Mae={fill:"#000"},kae=2,f6e={style:Co({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},e9.style)},fme=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=Mae,r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,g6e(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new vi(0,0,0,0),r=this._children,i=[],u=null,l=0;l<r.length;l++){var f=r[l],h=f.getBoundingRect(),g=f.getLocalTransform(i);g?(t.copy(h),t.applyTransform(g),u=u||t.clone(),u.union(t)):(u=u||h.clone(),u.union(h))}this._rect=u||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Mae},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,u=t.rich||i&&{};return Gn(t,r),i&&u?(this._mergeRich(u,i),t.rich=u):u&&(t.rich=u),t},e.prototype._mergeRich=function(t,r){for(var i=ga(r),u=0;u<i.length;u++){var l=i[u];t[l]=t[l]||{},Gn(t[l],r[l])}},e.prototype.getAnimationStyleProps=function(){return f6e},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||wM,i=t.padding,u=Pae(t),l=ELe(u,t),f=UK(t),h=!!t.backgroundColor,g=l.outerHeight,y=l.outerWidth,b=l.contentWidth,S=l.lines,_=l.lineHeight,k=this._defaultStyle,A=t.x||0,R=t.y||0,I=t.align||k.align||"left",z=t.verticalAlign||k.verticalAlign||"top",L=A,q=y3(R,l.contentHeight,z);if(f||i){var X=fN(A,y,I),Y=y3(R,g,z);f&&this._renderBackground(t,t,X,Y,y,g)}q+=_/2,i&&(L=Rae(A,I,i),z==="top"?q+=i[0]:z==="bottom"&&(q-=i[2]));for(var ae=0,te=!1,ie=Iae("fill"in t?t.fill:(te=!0,k.fill)),le=Oae("stroke"in t?t.stroke:!h&&(!k.autoStroke||te)?(ae=kae,k.stroke):null),ce=t.textShadowBlur>0,ne=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),Q=l.calculatedLineHeight,Ce=0;Ce<S.length;Ce++){var ze=this._getOrCreateChild(rV),ke=ze.createStyle();ze.useStyle(ke),ke.text=S[Ce],ke.x=L,ke.y=q,I&&(ke.textAlign=I),ke.textBaseline="middle",ke.opacity=t.opacity,ke.strokeFirst=!0,ce&&(ke.shadowBlur=t.textShadowBlur||0,ke.shadowColor=t.textShadowColor||"transparent",ke.shadowOffsetX=t.textShadowOffsetX||0,ke.shadowOffsetY=t.textShadowOffsetY||0),ke.stroke=le,ke.fill=ie,le&&(ke.lineWidth=t.lineWidth||ae,ke.lineDash=t.lineDash,ke.lineDashOffset=t.lineDashOffset||0),ke.font=r,Aae(ke,t),q+=_,ne&&ze.setBoundingRect(new vi(fN(ke.x,t.width,ke.textAlign),y3(ke.y,Q,ke.textBaseline),b,Q))}},e.prototype._updateRichTexts=function(){var t=this.style,r=Pae(t),i=RLe(r,t),u=i.width,l=i.outerWidth,f=i.outerHeight,h=t.padding,g=t.x||0,y=t.y||0,b=this._defaultStyle,S=t.align||b.align,_=t.verticalAlign||b.verticalAlign,k=fN(g,l,S),A=y3(y,f,_),R=k,I=A;h&&(R+=h[3],I+=h[0]);var z=R+u;UK(t)&&this._renderBackground(t,t,k,A,l,f);for(var L=!!t.backgroundColor,q=0;q<i.lines.length;q++){for(var X=i.lines[q],Y=X.tokens,ae=Y.length,te=X.lineHeight,ie=X.width,le=0,ce=R,ne=z,Q=ae-1,Ce=void 0;le<ae&&(Ce=Y[le],!Ce.align||Ce.align==="left");)this._placeToken(Ce,t,te,I,ce,"left",L),ie-=Ce.width,ce+=Ce.width,le++;for(;Q>=0&&(Ce=Y[Q],Ce.align==="right");)this._placeToken(Ce,t,te,I,ne,"right",L),ie-=Ce.width,ne-=Ce.width,Q--;for(ce+=(u-(ce-R)-(z-ne)-ie)/2;le<=Q;)Ce=Y[le],this._placeToken(Ce,t,te,I,ce+Ce.width/2,"center",L),ce+=Ce.width,le++;I+=te}},e.prototype._placeToken=function(t,r,i,u,l,f,h){var g=r.rich[t.styleName]||{};g.text=t.text;var y=t.verticalAlign,b=u+i/2;y==="top"?b=u+t.height/2:y==="bottom"&&(b=u+i-t.height/2);var S=!t.isLineHolder&&UK(g);S&&this._renderBackground(g,r,f==="right"?l-t.width:f==="center"?l-t.width/2:l,b-t.height/2,t.width,t.height);var _=!!g.backgroundColor,k=t.textPadding;k&&(l=Rae(l,f,k),b-=t.height/2-k[0]-t.innerHeight/2);var A=this._getOrCreateChild(rV),R=A.createStyle();A.useStyle(R);var I=this._defaultStyle,z=!1,L=0,q=Iae("fill"in g?g.fill:"fill"in r?r.fill:(z=!0,I.fill)),X=Oae("stroke"in g?g.stroke:"stroke"in r?r.stroke:!_&&!h&&(!I.autoStroke||z)?(L=kae,I.stroke):null),Y=g.textShadowBlur>0||r.textShadowBlur>0;R.text=t.text,R.x=l,R.y=b,Y&&(R.shadowBlur=g.textShadowBlur||r.textShadowBlur||0,R.shadowColor=g.textShadowColor||r.textShadowColor||"transparent",R.shadowOffsetX=g.textShadowOffsetX||r.textShadowOffsetX||0,R.shadowOffsetY=g.textShadowOffsetY||r.textShadowOffsetY||0),R.textAlign=f,R.textBaseline="middle",R.font=t.font||wM,R.opacity=k3(g.opacity,r.opacity,1),Aae(R,g),X&&(R.lineWidth=k3(g.lineWidth,r.lineWidth,L),R.lineDash=Gi(g.lineDash,r.lineDash),R.lineDashOffset=r.lineDashOffset||0,R.stroke=X),q&&(R.fill=q);var ae=t.contentWidth,te=t.contentHeight;A.setBoundingRect(new vi(fN(R.x,ae,R.textAlign),y3(R.y,te,R.textBaseline),ae,te))},e.prototype._renderBackground=function(t,r,i,u,l,f){var h=t.backgroundColor,g=t.borderWidth,y=t.borderColor,b=h&&h.image,S=h&&!b,_=t.borderRadius,k=this,A,R;if(S||t.lineHeight||g&&y){A=this._getOrCreateChild(va),A.useStyle(A.createStyle()),A.style.fill=null;var I=A.shape;I.x=i,I.y=u,I.width=l,I.height=f,I.r=_,A.dirtyShape()}if(S){var z=A.style;z.fill=h||null,z.fillOpacity=Gi(t.fillOpacity,1)}else if(b){R=this._getOrCreateChild(Ip),R.onload=function(){k.dirtyStyle()};var L=R.style;L.image=h.image,L.x=i,L.y=u,L.width=l,L.height=f}if(g&&y){var z=A.style;z.lineWidth=g,z.stroke=y,z.strokeOpacity=Gi(t.strokeOpacity,1),z.lineDash=t.borderDash,z.lineDashOffset=t.borderDashOffset||0,A.strokeContainThreshold=0,A.hasFill()&&A.hasStroke()&&(z.strokeFirst=!0,z.lineWidth*=2)}var q=(A||R).style;q.shadowBlur=t.shadowBlur||0,q.shadowColor=t.shadowColor||"transparent",q.shadowOffsetX=t.shadowOffsetX||0,q.shadowOffsetY=t.shadowOffsetY||0,q.opacity=k3(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return m6e(t)&&(r=[t.fontStyle,t.fontWeight,p6e(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&Ym(r)||t.textFont||t.font},e}(Lb),d6e={left:!0,right:1,center:1},h6e={top:1,bottom:1,middle:1},Dae=["fontStyle","fontWeight","fontSize","fontFamily"];function p6e(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?Ree+"px":n+"px"}function Aae(n,e){for(var t=0;t<Dae.length;t++){var r=Dae[t],i=e[r];i!=null&&(n[r]=i)}}function m6e(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function g6e(n){return Eae(n),Te(n.rich,Eae),n}function Eae(n){if(n){n.font=fme.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||d6e[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||h6e[t]?t:"top";var r=n.padding;r&&(n.padding=zee(n.padding))}}function Oae(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function Iae(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function Rae(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function Pae(n){var e=n.text;return e!=null&&(e+=""),e}function UK(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const ya=fme;var Ai=lu(),v6e=function(n,e,t,r){if(r){var i=Ai(r);i.dataIndex=t,i.dataType=e,i.seriesIndex=n,r.type==="group"&&r.traverse(function(u){var l=Ai(u);l.seriesIndex=n,l.dataIndex=t,l.dataType=e})}},Nae=1,Lae={},dme=lu(),tte=lu(),nte=0,t9=1,n9=2,Zm=["emphasis","blur","select"],oV=["normal","emphasis","blur","select"],hme=10,y6e=9,pM="highlight",bH="downplay",PN="select",xH="unselect",NN="toggleSelect";function t3(n){return n!=null&&n!=="none"}var Bae=new RL(100);function zae(n){if(Nr(n)){var e=Bae.get(n);return e||(e=NQ(n,-.1),Bae.put(n,e)),e}else if(EL(n)){var t=Gn({},n);return t.colorStops=br(n.colorStops,function(r){return{offset:r.offset,color:NQ(r.color,-.1)}}),t}return n}function r9(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function pme(n){r9(n,"emphasis",n9)}function mme(n){n.hoverState===n9&&r9(n,"normal",nte)}function rte(n){r9(n,"blur",t9)}function gme(n){n.hoverState===t9&&r9(n,"normal",nte)}function b6e(n){n.selected=!0}function x6e(n){n.selected=!1}function Fae(n,e,t){e(n,t)}function Hb(n,e,t){Fae(n,e,t),n.isGroup&&n.traverse(function(r){Fae(r,e,t)})}function YQ(n,e){switch(e){case"emphasis":n.hoverState=n9;break;case"normal":n.hoverState=nte;break;case"blur":n.hoverState=t9;break;case"select":n.selected=!0}}function w6e(n,e,t,r){for(var i=n.style,u={},l=0;l<e.length;l++){var f=e[l],h=i[f];u[f]=h??(r&&r[f])}for(var l=0;l<n.animators.length;l++){var g=n.animators[l];g.__fromStateTransition&&g.__fromStateTransition.indexOf(t)<0&&g.targetName==="style"&&g.saveTo(u,e)}return u}function _6e(n,e,t,r){var i=t&&Di(t,"select")>=0,u=!1;if(n instanceof Va){var l=dme(n),f=i&&l.selectFill||l.normalFill,h=i&&l.selectStroke||l.normalStroke;if(t3(f)||t3(h)){r=r||{};var g=r.style||{};g.fill==="inherit"?(u=!0,r=Gn({},r),g=Gn({},g),g.fill=f):!t3(g.fill)&&t3(f)?(u=!0,r=Gn({},r),g=Gn({},g),g.fill=zae(f)):!t3(g.stroke)&&t3(h)&&(u||(r=Gn({},r),g=Gn({},g)),g.stroke=zae(h)),r.style=g}}if(r&&r.z2==null){u||(r=Gn({},r));var y=n.z2EmphasisLift;r.z2=n.z2+(y??hme)}return r}function S6e(n,e,t){if(t&&t.z2==null){t=Gn({},t);var r=n.z2SelectLift;t.z2=n.z2+(r??y6e)}return t}function C6e(n,e,t){var r=Di(n.currentStates,e)>=0,i=n.style.opacity,u=r?null:w6e(n,["opacity"],e,{opacity:1});t=t||{};var l=t.style||{};return l.opacity==null&&(t=Gn({},t),l=Gn({opacity:r?i:u.opacity*.1},l),t.style=l),t}function WK(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return _6e(this,n,e,t);if(n==="blur")return C6e(this,n,t);if(n==="select")return S6e(this,n,t)}return t}function ote(n){n.stateProxy=WK;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=WK),t&&(t.stateProxy=WK)}function Hae(n,e){!xme(n,e)&&!n.__highByOuter&&Hb(n,pme)}function Vae(n,e){!xme(n,e)&&!n.__highByOuter&&Hb(n,mme)}function X3(n,e){n.__highByOuter|=1<<(e||0),Hb(n,pme)}function Y3(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Hb(n,mme)}function T6e(n){Hb(n,rte)}function vme(n){Hb(n,gme)}function yme(n){Hb(n,b6e)}function bme(n){Hb(n,x6e)}function xme(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function wme(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(i,u){var l=tte(u),f=i==="series",h=f?n.getViewOfSeriesModel(u):n.getViewOfComponentModel(u);!f&&r.push(h),l.isBlured&&(h.group.traverse(function(g){gme(g)}),f&&t.push(u)),l.isBlured=!1}),Te(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function KQ(n,e,t,r){var i=r.getModel();t=t||"coordinateSystem";function u(g,y){for(var b=0;b<y.length;b++){var S=g.getItemGraphicEl(y[b]);S&&vme(S)}}if(n!=null&&!(!e||e==="none")){var l=i.getSeriesByIndex(n),f=l.coordinateSystem;f&&f.master&&(f=f.master);var h=[];i.eachSeries(function(g){var y=l===g,b=g.coordinateSystem;b&&b.master&&(b=b.master);var S=b&&f?b===f:y;if(!(t==="series"&&!y||t==="coordinateSystem"&&!S||e==="series"&&y)){var _=r.getViewOfSeriesModel(g);if(_.group.traverse(function(R){R.__highByOuter&&y&&e==="self"||rte(R)}),$f(e))u(g.getData(),e);else if(no(e))for(var k=ga(e),A=0;A<k.length;A++)u(g.getData(k[A]),e[k[A]]);h.push(g),tte(g).isBlured=!0}}),i.eachComponent(function(g,y){if(g!=="series"){var b=r.getViewOfComponentModel(y);b&&b.toggleBlurSeries&&b.toggleBlurSeries(h,!0,i)}})}}function JQ(n,e,t){if(!(n==null||e==null)){var r=t.getModel().getComponent(n,e);if(r){tte(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(u){rte(u)})}}}function M6e(n,e,t){var r=n.seriesIndex,i=n.getData(e.dataType);if(i){var u=_M(i,e);u=(sr(u)?u[0]:u)||0;var l=i.getItemGraphicEl(u);if(!l)for(var f=i.count(),h=0;!l&&h<f;)l=i.getItemGraphicEl(h++);if(l){var g=Ai(l);KQ(r,g.focus,g.blurScope,t)}else{var y=n.get(["emphasis","focus"]),b=n.get(["emphasis","blurScope"]);y!=null&&KQ(r,y,b,t)}}}function ite(n,e,t,r){var i={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return i;var u=r.getModel().getComponent(n,e);if(!u)return i;var l=r.getViewOfComponentModel(u);if(!l||!l.findHighDownDispatchers)return i;for(var f=l.findHighDownDispatchers(t),h,g=0;g<f.length;g++)if(Ai(f[g]).focus==="self"){h=!0;break}return{focusSelf:h,dispatchers:f}}function k6e(n,e,t){var r=Ai(n),i=ite(r.componentMainType,r.componentIndex,r.componentHighDownName,t),u=i.dispatchers,l=i.focusSelf;u?(l&&JQ(r.componentMainType,r.componentIndex,t),Te(u,function(f){return Hae(f,e)})):(KQ(r.seriesIndex,r.focus,r.blurScope,t),r.focus==="self"&&JQ(r.componentMainType,r.componentIndex,t),Hae(n,e))}function D6e(n,e,t){wme(t);var r=Ai(n),i=ite(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?Te(i,function(u){return Vae(u,e)}):Vae(n,e)}function A6e(n,e,t){if(ZQ(e)){var r=e.dataType,i=n.getData(r),u=_M(i,e);sr(u)||(u=[u]),n[e.type===NN?"toggleSelect":e.type===PN?"select":"unselect"](u,r)}}function jae(n){var e=n.getAllData();Te(e,function(t){var r=t.data,i=t.type;r.eachItemGraphicEl(function(u,l){n.isSelected(l,i)?yme(u):bme(u)})})}function E6e(n){var e=[];return n.eachSeries(function(t){var r=t.getAllData();Te(r,function(i){i.data;var u=i.type,l=t.getSelectedDataIndices();if(l.length>0){var f={dataIndex:l,seriesIndex:t.seriesIndex};u!=null&&(f.dataType=u),e.push(f)}})}),e}function $2(n,e,t){ate(n,!0),Hb(n,ote),I6e(n,e,t)}function O6e(n){ate(n,!1)}function J2(n,e,t,r){r?O6e(n):$2(n,e,t)}function I6e(n,e,t){var r=Ai(n);e!=null?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}var Uae=["emphasis","blur","select"],R6e={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function K3(n,e,t,r){t=t||"itemStyle";for(var i=0;i<Uae.length;i++){var u=Uae[i],l=e.getModel([u,t]),f=n.ensureState(u);f.style=r?r(l):l[R6e[t]]()}}function ate(n,e){var t=e===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function QQ(n){return!!(n&&n.__highDownDispatcher)}function P6e(n,e,t){var r=Ai(n);r.componentMainType=e.mainType,r.componentIndex=e.componentIndex,r.componentHighDownName=t}function N6e(n){var e=Lae[n];return e==null&&Nae<=32&&(e=Lae[n]=Nae++),e}function ZQ(n){var e=n.type;return e===PN||e===xH||e===NN}function Wae(n){var e=n.type;return e===pM||e===bH}function L6e(n){var e=dme(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var n3=SM.CMD,B6e=[[],[],[]],qae=Math.sqrt,z6e=Math.atan2;function F6e(n,e){if(e){var t=n.data,r=n.len(),i,u,l,f,h,g,y=n3.M,b=n3.C,S=n3.L,_=n3.R,k=n3.A,A=n3.Q;for(l=0,f=0;l<r;){switch(i=t[l++],f=l,u=0,i){case y:u=1;break;case S:u=1;break;case b:u=3;break;case A:u=2;break;case k:var R=e[4],I=e[5],z=qae(e[0]*e[0]+e[1]*e[1]),L=qae(e[2]*e[2]+e[3]*e[3]),q=z6e(-e[1]/L,e[0]/z);t[l]*=z,t[l++]+=R,t[l]*=L,t[l++]+=I,t[l++]*=z,t[l++]*=L,t[l++]+=q,t[l++]+=q,l+=2,f=l;break;case _:g[0]=t[l++],g[1]=t[l++],Ic(g,g,e),t[f++]=g[0],t[f++]=g[1],g[0]+=t[l++],g[1]+=t[l++],Ic(g,g,e),t[f++]=g[0],t[f++]=g[1]}for(h=0;h<u;h++){var X=B6e[h];X[0]=t[l++],X[1]=t[l++],Ic(X,X,e),t[f++]=X[0],t[f++]=X[1]}}n.increaseVersion()}}var qK=Math.sqrt,bF=Math.sin,xF=Math.cos,FP=Math.PI;function $ae(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function eZ(n,e){return(n[0]*e[0]+n[1]*e[1])/($ae(n)*$ae(e))}function Gae(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(eZ(n,e))}function Xae(n,e,t,r,i,u,l,f,h,g,y){var b=h*(FP/180),S=xF(b)*(n-t)/2+bF(b)*(e-r)/2,_=-1*bF(b)*(n-t)/2+xF(b)*(e-r)/2,k=S*S/(l*l)+_*_/(f*f);k>1&&(l*=qK(k),f*=qK(k));var A=(i===u?-1:1)*qK((l*l*(f*f)-l*l*(_*_)-f*f*(S*S))/(l*l*(_*_)+f*f*(S*S)))||0,R=A*l*_/f,I=A*-f*S/l,z=(n+t)/2+xF(b)*R-bF(b)*I,L=(e+r)/2+bF(b)*R+xF(b)*I,q=Gae([1,0],[(S-R)/l,(_-I)/f]),X=[(S-R)/l,(_-I)/f],Y=[(-1*S-R)/l,(-1*_-I)/f],ae=Gae(X,Y);if(eZ(X,Y)<=-1&&(ae=FP),eZ(X,Y)>=1&&(ae=0),ae<0){var te=Math.round(ae/FP*1e6)/1e6;ae=FP*2+te%2*FP}y.addData(g,z,L,l,f,q,ae,b,u)}var H6e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,V6e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function j6e(n){var e=new SM;if(!n)return e;var t=0,r=0,i=t,u=r,l,f=SM.CMD,h=n.match(H6e);if(!h)return e;for(var g=0;g<h.length;g++){for(var y=h[g],b=y.charAt(0),S=void 0,_=y.match(V6e)||[],k=_.length,A=0;A<k;A++)_[A]=parseFloat(_[A]);for(var R=0;R<k;){var I=void 0,z=void 0,L=void 0,q=void 0,X=void 0,Y=void 0,ae=void 0,te=t,ie=r,le=void 0,ce=void 0;switch(b){case"l":t+=_[R++],r+=_[R++],S=f.L,e.addData(S,t,r);break;case"L":t=_[R++],r=_[R++],S=f.L,e.addData(S,t,r);break;case"m":t+=_[R++],r+=_[R++],S=f.M,e.addData(S,t,r),i=t,u=r,b="l";break;case"M":t=_[R++],r=_[R++],S=f.M,e.addData(S,t,r),i=t,u=r,b="L";break;case"h":t+=_[R++],S=f.L,e.addData(S,t,r);break;case"H":t=_[R++],S=f.L,e.addData(S,t,r);break;case"v":r+=_[R++],S=f.L,e.addData(S,t,r);break;case"V":r=_[R++],S=f.L,e.addData(S,t,r);break;case"C":S=f.C,e.addData(S,_[R++],_[R++],_[R++],_[R++],_[R++],_[R++]),t=_[R-2],r=_[R-1];break;case"c":S=f.C,e.addData(S,_[R++]+t,_[R++]+r,_[R++]+t,_[R++]+r,_[R++]+t,_[R++]+r),t+=_[R-2],r+=_[R-1];break;case"S":I=t,z=r,le=e.len(),ce=e.data,l===f.C&&(I+=t-ce[le-4],z+=r-ce[le-3]),S=f.C,te=_[R++],ie=_[R++],t=_[R++],r=_[R++],e.addData(S,I,z,te,ie,t,r);break;case"s":I=t,z=r,le=e.len(),ce=e.data,l===f.C&&(I+=t-ce[le-4],z+=r-ce[le-3]),S=f.C,te=t+_[R++],ie=r+_[R++],t+=_[R++],r+=_[R++],e.addData(S,I,z,te,ie,t,r);break;case"Q":te=_[R++],ie=_[R++],t=_[R++],r=_[R++],S=f.Q,e.addData(S,te,ie,t,r);break;case"q":te=_[R++]+t,ie=_[R++]+r,t+=_[R++],r+=_[R++],S=f.Q,e.addData(S,te,ie,t,r);break;case"T":I=t,z=r,le=e.len(),ce=e.data,l===f.Q&&(I+=t-ce[le-4],z+=r-ce[le-3]),t=_[R++],r=_[R++],S=f.Q,e.addData(S,I,z,t,r);break;case"t":I=t,z=r,le=e.len(),ce=e.data,l===f.Q&&(I+=t-ce[le-4],z+=r-ce[le-3]),t+=_[R++],r+=_[R++],S=f.Q,e.addData(S,I,z,t,r);break;case"A":L=_[R++],q=_[R++],X=_[R++],Y=_[R++],ae=_[R++],te=t,ie=r,t=_[R++],r=_[R++],S=f.A,Xae(te,ie,t,r,Y,ae,L,q,X,S,e);break;case"a":L=_[R++],q=_[R++],X=_[R++],Y=_[R++],ae=_[R++],te=t,ie=r,t+=_[R++],r+=_[R++],S=f.A,Xae(te,ie,t,r,Y,ae,L,q,X,S,e);break}}(b==="z"||b==="Z")&&(S=f.Z,e.addData(S),t=i,r=u),l=S}return e.toStatic(),e}var _me=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(Va);function Sme(n){return n.setData!=null}function Cme(n,e){var t=j6e(n),r=Gn({},e);return r.buildPath=function(i){if(Sme(i)){i.setData(t.data);var u=i.getContext();u&&i.rebuildPath(u,1)}else{var u=i;t.rebuildPath(u,1)}},r.applyTransform=function(i){F6e(t,i),this.dirtyShape()},r}function Tme(n,e){return new _me(Cme(n,e))}function U6e(n,e){var t=Cme(n,e),r=function(i){Tn(u,i);function u(l){var f=i.call(this,l)||this;return f.applyTransform=t.applyTransform,f.buildPath=t.buildPath,f}return u}(_me);return r}function W6e(n,e){for(var t=[],r=n.length,i=0;i<r;i++){var u=n[i];t.push(u.getUpdatedPathProxy(!0))}var l=new Va(e);return l.createPathProxy(),l.buildPath=function(f){if(Sme(f)){f.appendPath(t);var h=f.getContext();h&&f.rebuildPath(h,1)}},l}var q6e=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),Mme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new q6e},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(Va);Mme.prototype.type="circle";const Av=Mme;var $6e=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),kme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new $6e},e.prototype.buildPath=function(t,r){var i=.5522848,u=r.cx,l=r.cy,f=r.rx,h=r.ry,g=f*i,y=h*i;t.moveTo(u-f,l),t.bezierCurveTo(u-f,l-y,u-g,l-h,u,l-h),t.bezierCurveTo(u+g,l-h,u+f,l-y,u+f,l),t.bezierCurveTo(u+f,l+y,u+g,l+h,u,l+h),t.bezierCurveTo(u-g,l+h,u-f,l+y,u-f,l),t.closePath()},e}(Va);kme.prototype.type="ellipse";const o9=kme;var Dme=Math.PI,$K=Dme*2,HT=Math.sin,r3=Math.cos,G6e=Math.acos,Hf=Math.atan2,Yae=Math.abs,LN=Math.sqrt,dN=Math.max,ty=Math.min,yv=1e-4;function X6e(n,e,t,r,i,u,l,f){var h=t-n,g=r-e,y=l-i,b=f-u,S=b*h-y*g;if(!(S*S<yv))return S=(y*(e-u)-b*(n-i))/S,[n+S*h,e+S*g]}function wF(n,e,t,r,i,u,l){var f=n-t,h=e-r,g=(l?u:-u)/LN(f*f+h*h),y=g*h,b=-g*f,S=n+y,_=e+b,k=t+y,A=r+b,R=(S+k)/2,I=(_+A)/2,z=k-S,L=A-_,q=z*z+L*L,X=i-u,Y=S*A-k*_,ae=(L<0?-1:1)*LN(dN(0,X*X*q-Y*Y)),te=(Y*L-z*ae)/q,ie=(-Y*z-L*ae)/q,le=(Y*L+z*ae)/q,ce=(-Y*z+L*ae)/q,ne=te-R,Q=ie-I,Ce=le-R,ze=ce-I;return ne*ne+Q*Q>Ce*Ce+ze*ze&&(te=le,ie=ce),{cx:te,cy:ie,x0:-y,y0:-b,x1:te*(i/X-1),y1:ie*(i/X-1)}}function Y6e(n){var e;if(sr(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function K6e(n,e){var t,r=dN(e.r,0),i=dN(e.r0||0,0),u=r>0,l=i>0;if(!(!u&&!l)){if(u||(r=i,i=0),i>r){var f=r;r=i,i=f}var h=e.startAngle,g=e.endAngle;if(!(isNaN(h)||isNaN(g))){var y=e.cx,b=e.cy,S=!!e.clockwise,_=Yae(g-h),k=_>$K&&_%$K;if(k>yv&&(_=k),!(r>yv))n.moveTo(y,b);else if(_>$K-yv)n.moveTo(y+r*r3(h),b+r*HT(h)),n.arc(y,b,r,h,g,!S),i>yv&&(n.moveTo(y+i*r3(g),b+i*HT(g)),n.arc(y,b,i,g,h,S));else{var A=void 0,R=void 0,I=void 0,z=void 0,L=void 0,q=void 0,X=void 0,Y=void 0,ae=void 0,te=void 0,ie=void 0,le=void 0,ce=void 0,ne=void 0,Q=void 0,Ce=void 0,ze=r*r3(h),ke=r*HT(h),St=i*r3(g),tt=i*HT(g),G=_>yv;if(G){var We=e.cornerRadius;We&&(t=Y6e(We),A=t[0],R=t[1],I=t[2],z=t[3]);var Ge=Yae(r-i)/2;if(L=ty(Ge,I),q=ty(Ge,z),X=ty(Ge,A),Y=ty(Ge,R),ie=ae=dN(L,q),le=te=dN(X,Y),(ae>yv||te>yv)&&(ce=r*r3(g),ne=r*HT(g),Q=i*r3(h),Ce=i*HT(h),_<Dme)){var pt=X6e(ze,ke,Q,Ce,ce,ne,St,tt);if(pt){var Ze=ze-pt[0],kt=ke-pt[1],Ot=ce-pt[0],Nt=ne-pt[1],fe=1/HT(G6e((Ze*Ot+kt*Nt)/(LN(Ze*Ze+kt*kt)*LN(Ot*Ot+Nt*Nt)))/2),Yt=LN(pt[0]*pt[0]+pt[1]*pt[1]);ie=ty(ae,(r-Yt)/(fe+1)),le=ty(te,(i-Yt)/(fe-1))}}}if(!G)n.moveTo(y+ze,b+ke);else if(ie>yv){var Ye=ty(I,ie),je=ty(z,ie),bt=wF(Q,Ce,ze,ke,r,Ye,S),qe=wF(ce,ne,St,tt,r,je,S);n.moveTo(y+bt.cx+bt.x0,b+bt.cy+bt.y0),ie<ae&&Ye===je?n.arc(y+bt.cx,b+bt.cy,ie,Hf(bt.y0,bt.x0),Hf(qe.y0,qe.x0),!S):(Ye>0&&n.arc(y+bt.cx,b+bt.cy,Ye,Hf(bt.y0,bt.x0),Hf(bt.y1,bt.x1),!S),n.arc(y,b,r,Hf(bt.cy+bt.y1,bt.cx+bt.x1),Hf(qe.cy+qe.y1,qe.cx+qe.x1),!S),je>0&&n.arc(y+qe.cx,b+qe.cy,je,Hf(qe.y1,qe.x1),Hf(qe.y0,qe.x0),!S))}else n.moveTo(y+ze,b+ke),n.arc(y,b,r,h,g,!S);if(!(i>yv)||!G)n.lineTo(y+St,b+tt);else if(le>yv){var Ye=ty(A,le),je=ty(R,le),bt=wF(St,tt,ce,ne,i,-je,S),qe=wF(ze,ke,Q,Ce,i,-Ye,S);n.lineTo(y+bt.cx+bt.x0,b+bt.cy+bt.y0),le<te&&Ye===je?n.arc(y+bt.cx,b+bt.cy,le,Hf(bt.y0,bt.x0),Hf(qe.y0,qe.x0),!S):(je>0&&n.arc(y+bt.cx,b+bt.cy,je,Hf(bt.y0,bt.x0),Hf(bt.y1,bt.x1),!S),n.arc(y,b,i,Hf(bt.cy+bt.y1,bt.cx+bt.x1),Hf(qe.cy+qe.y1,qe.cx+qe.x1),S),Ye>0&&n.arc(y+qe.cx,b+qe.cy,Ye,Hf(qe.y1,qe.x1),Hf(qe.y0,qe.x0),!S))}else n.lineTo(y+St,b+tt),n.arc(y,b,i,g,h,S)}n.closePath()}}}var J6e=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),Ame=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new J6e},e.prototype.buildPath=function(t,r){K6e(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Va);Ame.prototype.type="sector";const _y=Ame;var Q6e=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),Eme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new Q6e},e.prototype.buildPath=function(t,r){var i=r.cx,u=r.cy,l=Math.PI*2;t.moveTo(i+r.r,u),t.arc(i,u,r.r,0,l,!1),t.moveTo(i+r.r0,u),t.arc(i,u,r.r0,0,l,!0)},e}(Va);Eme.prototype.type="ring";const LL=Eme;function Z6e(n,e,t,r){var i=[],u=[],l=[],f=[],h,g,y,b;if(r){y=[1/0,1/0],b=[-1/0,-1/0];for(var S=0,_=n.length;S<_;S++)_b(y,y,n[S]),Sb(b,b,n[S]);_b(y,y,r[0]),Sb(b,b,r[1])}for(var S=0,_=n.length;S<_;S++){var k=n[S];if(t)h=n[S?S-1:_-1],g=n[(S+1)%_];else if(S===0||S===_-1){i.push(ppe(n[S]));continue}else h=n[S-1],g=n[S+1];mpe(u,g,h),cH(u,u,e);var A=XH(k,h),R=XH(k,g),I=A+R;I!==0&&(A/=I,R/=I),cH(l,u,-A),cH(f,u,R);var z=kQ([],k,l),L=kQ([],k,f);r&&(Sb(z,z,y),_b(z,z,b),Sb(L,L,y),_b(L,L,b)),i.push(z),i.push(L)}return t&&i.push(i.shift()),i}function Ome(n,e,t){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var u=Z6e(i,r,t,e.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var l=i.length,f=0;f<(t?l:l-1);f++){var h=u[f*2],g=u[f*2+1],y=i[(f+1)%l];n.bezierCurveTo(h[0],h[1],g[0],g[1],y[0],y[1])}}else{n.moveTo(i[0][0],i[0][1]);for(var f=1,b=i.length;f<b;f++)n.lineTo(i[f][0],i[f][1])}t&&n.closePath()}}var eBe=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),Ime=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new eBe},e.prototype.buildPath=function(t,r){Ome(t,r,!0)},e}(Va);Ime.prototype.type="polygon";const Sy=Ime;var tBe=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),Rme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new tBe},e.prototype.buildPath=function(t,r){Ome(t,r,!1)},e}(Va);Rme.prototype.type="polyline";const tg=Rme;var nBe={},rBe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),Pme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new rBe},e.prototype.buildPath=function(t,r){var i,u,l,f;if(this.subPixelOptimize){var h=sme(nBe,r,this.style);i=h.x1,u=h.y1,l=h.x2,f=h.y2}else i=r.x1,u=r.y1,l=r.x2,f=r.y2;var g=r.percent;g!==0&&(t.moveTo(i,u),g<1&&(l=i*(1-g)+l*g,f=u*(1-g)+f*g),t.lineTo(l,f))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e}(Va);Pme.prototype.type="line";const Od=Pme;var gh=[],oBe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function Kae(n,e,t){var r=n.cpx2,i=n.cpy2;return r!=null||i!=null?[(t?nae:pc)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?nae:pc)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?rae:jf)(n.x1,n.cpx1,n.x2,e),(t?rae:jf)(n.y1,n.cpy1,n.y2,e)]}var Nme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new oBe},e.prototype.buildPath=function(t,r){var i=r.x1,u=r.y1,l=r.x2,f=r.y2,h=r.cpx1,g=r.cpy1,y=r.cpx2,b=r.cpy2,S=r.percent;S!==0&&(t.moveTo(i,u),y==null||b==null?(S<1&&(ZH(i,h,l,S,gh),h=gh[1],l=gh[2],ZH(u,g,f,S,gh),g=gh[1],f=gh[2]),t.quadraticCurveTo(h,g,l,f)):(S<1&&(QH(i,h,y,l,S,gh),h=gh[1],y=gh[2],l=gh[3],QH(u,g,b,f,S,gh),g=gh[1],b=gh[2],f=gh[3]),t.bezierCurveTo(h,g,y,b,l,f)))},e.prototype.pointAt=function(t){return Kae(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=Kae(this.shape,t,!0);return gpe(r,r)},e}(Va);Nme.prototype.type="bezier-curve";const ute=Nme;var iBe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),Lme=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new iBe},e.prototype.buildPath=function(t,r){var i=r.cx,u=r.cy,l=Math.max(r.r,0),f=r.startAngle,h=r.endAngle,g=r.clockwise,y=Math.cos(f),b=Math.sin(f);t.moveTo(y*l+i,b*l+u),t.arc(i,u,l,f,h,!g)},e}(Va);Lme.prototype.type="arc";const i9=Lme;var aBe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var i=r.paths||[],u=0;u<i.length;u++)i[u].buildPath(t,i[u].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Va.prototype.getBoundingRect.call(this)},e}(Va);const ste=aBe;var uBe=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const Bme=uBe;var sBe=function(n){Tn(e,n);function e(t,r,i,u,l,f){var h=n.call(this,l)||this;return h.x=t??0,h.y=r??0,h.x2=i??1,h.y2=u??0,h.type="linear",h.global=f||!1,h}return e}(Bme);const BL=sBe;var lBe=function(n){Tn(e,n);function e(t,r,i,u,l){var f=n.call(this,u)||this;return f.x=t??.5,f.y=r??.5,f.r=i??.5,f.type="radial",f.global=l||!1,f}return e}(Bme);const lte=lBe;var VT=[0,0],jT=[0,0],_F=new di,SF=new di,cBe=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new di;for(var r=0;r<2;r++)this._axes[r]=new di;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,i=this._axes,u=e.x,l=e.y,f=u+e.width,h=l+e.height;if(r[0].set(u,l),r[1].set(f,l),r[2].set(f,h),r[3].set(u,h),t)for(var g=0;g<4;g++)r[g].transform(t);di.sub(i[0],r[1],r[0]),di.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var g=0;g<2;g++)this._origin[g]=i[g].dot(r[0])},n.prototype.intersect=function(e,t){var r=!0,i=!t;return _F.set(1/0,1/0),SF.set(0,0),!this._intersectCheckOneSide(this,e,_F,SF,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,_F,SF,i,-1)&&(r=!1,i)||i||di.copy(t,r?_F:SF),r},n.prototype._intersectCheckOneSide=function(e,t,r,i,u,l){for(var f=!0,h=0;h<2;h++){var g=this._axes[h];if(this._getProjMinMaxOnAxis(h,e._corners,VT),this._getProjMinMaxOnAxis(h,t._corners,jT),VT[1]<jT[0]||VT[0]>jT[1]){if(f=!1,u)return f;var y=Math.abs(jT[0]-VT[1]),b=Math.abs(VT[0]-jT[1]);Math.min(y,b)>i.len()&&(y<b?di.scale(i,g,-y*l):di.scale(i,g,b*l))}else if(r){var y=Math.abs(jT[0]-VT[1]),b=Math.abs(VT[0]-jT[1]);Math.min(y,b)<r.len()&&(y<b?di.scale(r,g,y*l):di.scale(r,g,-b*l))}}return f},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var i=this._axes[e],u=this._origin,l=t[0].dot(i)+u[e],f=l,h=l,g=1;g<t.length;g++){var y=t[g].dot(i)+u[e];f=Math.min(y,f),h=Math.max(y,h)}r[0]=f,r[1]=h},n}();const iV=cBe;var fBe=[],dBe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new vi(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],u=i.getBoundingRect().clone();i.needLocalTransform()&&u.applyTransform(i.getLocalTransform(fBe)),t.union(u)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),u=this.getBoundingRect();if(u.contain(i[0],i[1]))for(var l=0;l<this._displayables.length;l++){var f=this._displayables[l];if(f.contain(t,r))return!0}return!1},e}(Lb);const zme=dBe;var hBe=lu();function cte(n,e,t,r,i){var u;if(e&&e.ecModel){var l=e.ecModel.getUpdatePayload();u=l&&l.animation}var f=e&&e.isAnimationEnabled(),h=n==="update";if(f){var g=void 0,y=void 0,b=void 0;r?(g=Gi(r.duration,200),y=Gi(r.easing,"cubicOut"),b=0):(g=e.getShallow(h?"animationDurationUpdate":"animationDuration"),y=e.getShallow(h?"animationEasingUpdate":"animationEasing"),b=e.getShallow(h?"animationDelayUpdate":"animationDelay")),u&&(u.duration!=null&&(g=u.duration),u.easing!=null&&(y=u.easing),u.delay!=null&&(b=u.delay)),Eo(b)&&(b=b(t,i)),Eo(g)&&(g=g(t));var S={duration:g||0,delay:b,easing:y};return S}else return null}function fte(n,e,t,r,i,u,l){var f=!1,h;Eo(i)?(l=u,u=i,i=null):no(i)&&(u=i.cb,l=i.during,f=i.isFrom,h=i.removeOpt,i=i.dataIndex);var g=n==="leave";g||e.stopAnimation("leave");var y=cte(n,r,i,g?h||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(y&&y.duration>0){var b=y.duration,S=y.delay,_=y.easing,k={duration:b,delay:S||0,easing:_,done:u,force:!!u||!!l,setToFinal:!g,scope:n,during:l};f?e.animateFrom(t,k):e.animateTo(t,k)}else e.stopAnimation(),!f&&e.attr(t),l&&l(1),u&&u()}function tl(n,e,t,r,i,u){fte("update",n,e,t,r,i,u)}function Id(n,e,t,r,i,u){fte("enter",n,e,t,r,i,u)}function BN(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function nL(n,e,t,r,i,u){BN(n)||fte("leave",n,e,t,r,i,u)}function Jae(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),nL(n,{style:{opacity:0}},e,t,r)}function aV(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||Jae(i,e,t,r)}):Jae(n,e,t,r)}function rL(n){hBe(n).oldStyle=n.style}var uV=Math.max,sV=Math.min,tZ={};function Fme(n){return Va.extend(n)}var pBe=U6e;function Hme(n,e){return pBe(n,e)}function ng(n,e){tZ[n]=e}function dte(n){if(tZ.hasOwnProperty(n))return tZ[n]}function a9(n,e,t,r){var i=Tme(n,e);return t&&(r==="center"&&(t=Vme(t,i.getBoundingRect())),pte(i,t)),i}function hte(n,e,t){var r=new Ip({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var u={width:i.width,height:i.height};r.setStyle(Vme(e,u))}}});return r}function Vme(n,e){var t=e.width/e.height,r=n.height*t,i;r<=n.width?i=n.height:(r=n.width,i=r/t);var u=n.x+n.width/2,l=n.y+n.height/2;return{x:u-r/2,y:l-i/2,width:r,height:i}}var $m=W6e;function pte(n,e){if(n.applyTransform){var t=n.getBoundingRect(),r=t.calculateTransform(e);n.applyTransform(r)}}function oL(n,e){return sme(n,n,{lineWidth:e}),n}function mBe(n){return lme(n.shape,n.shape,n.style),n}var gBe=oM;function G2(n,e){for(var t=IL([]);n&&n!==e;)fy(t,n.getLocalTransform(),t),n=n.parent;return t}function Mv(n,e,t){return e&&!$f(e)&&(e=nM.getLocalTransform(e)),t&&(e=c5([],e)),Ic([],n,e)}function u9(n,e,t){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),u=[n==="left"?-r:n==="right"?r:0,n==="top"?-i:n==="bottom"?i:0];return u=Mv(u,e,t),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"}function Qae(n){return!n.isGroup}function vBe(n){return n.shape!=null}function s9(n,e,t){if(!n||!e)return;function r(l){var f={};return l.traverse(function(h){Qae(h)&&h.anid&&(f[h.anid]=h)}),f}function i(l){var f={x:l.x,y:l.y,rotation:l.rotation};return vBe(l)&&(f.shape=Gn({},l.shape)),f}var u=r(n);e.traverse(function(l){if(Qae(l)&&l.anid){var f=u[l.anid];if(f){var h=i(l);l.attr(i(f)),tl(l,h,t,Ai(l).dataIndex)}}})}function mte(n,e){return br(n,function(t){var r=t[0];r=uV(r,e.x),r=sV(r,e.x+e.width);var i=t[1];return i=uV(i,e.y),i=sV(i,e.y+e.height),[r,i]})}function jme(n,e){var t=uV(n.x,e.x),r=sV(n.x+n.width,e.x+e.width),i=uV(n.y,e.y),u=sV(n.y+n.height,e.y+e.height);if(r>=t&&u>=i)return{x:t,y:i,width:r-t,height:u-i}}function d5(n,e,t){var r=Gn({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(i.image=n.slice(8),Co(i,t),new Ip(r)):a9(n.replace("path://",""),r,t,"center")}function yBe(n,e,t,r,i){for(var u=0,l=i[i.length-1];u<i.length;u++){var f=i[u];if(Ume(n,e,t,r,f[0],f[1],l[0],l[1]))return!0;l=f}}function Ume(n,e,t,r,i,u,l,f){var h=t-n,g=r-e,y=l-i,b=f-u,S=GK(y,b,h,g);if(bBe(S))return!1;var _=n-i,k=e-u,A=GK(_,k,h,g)/S;if(A<0||A>1)return!1;var R=GK(_,k,y,b)/S;return!(R<0||R>1)}function GK(n,e,t,r){return n*r-t*e}function bBe(n){return n<=1e-6&&n>=-1e-6}function h5(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,i=Nr(e)?{formatter:e}:e,u=t.mainType,l=t.componentIndex,f={componentType:u,name:r,$vars:["name"]};f[u+"Index"]=l;var h=n.formatterParamsExtra;h&&Te(ga(h),function(y){Zo(f,y)||(f[y]=h[y],f.$vars.push(y))});var g=Ai(n.el);g.componentMainType=u,g.componentIndex=l,g.tooltipConfig={name:r,option:Co({content:r,formatterParams:f},i)}}function Zae(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function l9(n,e){if(n)if(sr(n))for(var t=0;t<n.length;t++)Zae(n[t],e);else Zae(n,e)}ng("circle",Av);ng("ellipse",o9);ng("sector",_y);ng("ring",LL);ng("polygon",Sy);ng("polyline",tg);ng("rect",va);ng("line",Od);ng("bezierCurve",ute);ng("arc",i9);const c9=Object.freeze(Object.defineProperty({__proto__:null,Arc:i9,BezierCurve:ute,BoundingRect:vi,Circle:Av,CompoundPath:ste,Ellipse:o9,Group:hi,Image:Ip,IncrementalDisplayable:zme,Line:Od,LinearGradient:BL,OrientedBoundingRect:iV,Path:Va,Point:di,Polygon:Sy,Polyline:tg,RadialGradient:lte,Rect:va,Ring:LL,Sector:_y,Text:ya,applyTransform:Mv,clipPointsByRect:mte,clipRectByRect:jme,createIcon:d5,extendPath:Hme,extendShape:Fme,getShapeClass:dte,getTransform:G2,groupTransition:s9,initProps:Id,isElementRemoved:BN,lineLineIntersect:Ume,linePolygonIntersect:yBe,makeImage:hte,makePath:a9,mergePath:$m,registerShape:ng,removeElement:nL,removeElementWithFadeOut:aV,resizePath:pte,setTooltipConfig:h5,subPixelOptimize:gBe,subPixelOptimizeLine:oL,subPixelOptimizeRect:mBe,transformDirection:u9,traverseElements:l9,updateProps:tl},Symbol.toStringTag,{value:"Module"}));var f9={};function xBe(n,e){for(var t=0;t<Zm.length;t++){var r=Zm[t],i=e[r],u=n.ensureState(r);u.style=u.style||{},u.style.text=i}var l=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(l,!0)}function eue(n,e,t){var r=n.labelFetcher,i=n.labelDataIndex,u=n.labelDimIndex,l=e.normal,f;r&&(f=r.getFormattedLabel(i,"normal",null,u,l&&l.get("formatter"),t!=null?{interpolatedValue:t}:null)),f==null&&(f=Eo(n.defaultText)?n.defaultText(i,n,t):n.defaultText);for(var h={normal:f},g=0;g<Zm.length;g++){var y=Zm[g],b=e[y];h[y]=Gi(r?r.getFormattedLabel(i,y,null,u,b&&b.get("formatter")):null,f)}return h}function Vb(n,e,t,r){t=t||f9;for(var i=n instanceof ya,u=!1,l=0;l<oV.length;l++){var f=e[oV[l]];if(f&&f.getShallow("show")){u=!0;break}}var h=i?n:n.getTextContent();if(u){i||(h||(h=new ya,n.setTextContent(h)),n.stateProxy&&(h.stateProxy=n.stateProxy));var g=eue(t,e),y=e.normal,b=!!y.getShallow("show"),S=wl(y,r&&r.normal,t,!1,!i);S.text=g.normal,i||n.setTextConfig(tue(y,t,!1));for(var l=0;l<Zm.length;l++){var _=Zm[l],f=e[_];if(f){var k=h.ensureState(_),A=!!Gi(f.getShallow("show"),b);if(A!==b&&(k.ignore=!A),k.style=wl(f,r&&r[_],t,!0,!i),k.style.text=g[_],!i){var R=n.ensureState(_);R.textConfig=tue(f,t,!0)}}}h.silent=!!y.getShallow("silent"),h.style.x!=null&&(S.x=h.style.x),h.style.y!=null&&(S.y=h.style.y),h.ignore=!b,h.useStyle(S),h.dirty(),t.enableTextSetter&&(d9(h).setLabelText=function(I){var z=eue(t,e,I);xBe(h,z)})}else h&&(h.ignore=!0);n.dirty()}function jb(n,e){e=e||"label";for(var t={normal:n.getModel(e)},r=0;r<Zm.length;r++){var i=Zm[r];t[i]=n.getModel([i,e])}return t}function wl(n,e,t,r,i){var u={};return wBe(u,n,t,r,i),e&&Gn(u,e),u}function tue(n,e,t){e=e||{};var r={},i,u=n.getShallow("rotate"),l=Gi(n.getShallow("distance"),t?null:5),f=n.getShallow("offset");return i=n.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),f!=null&&(r.offset=f),u!=null&&(u*=Math.PI/180,r.rotation=u),l!=null&&(r.distance=l),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",r}function wBe(n,e,t,r,i){t=t||f9;var u=e.ecModel,l=u&&u.option.textStyle,f=_Be(e),h;if(f){h={};for(var g in f)if(f.hasOwnProperty(g)){var y=e.getModel(["rich",g]);iue(h[g]={},y,l,t,r,i,!1,!0)}}h&&(n.rich=h);var b=e.get("overflow");b&&(n.overflow=b);var S=e.get("minMargin");S!=null&&(n.margin=S),iue(n,e,l,t,r,i,!0,!1)}function _Be(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||f9).rich;if(t){e=e||{};for(var r=ga(t),i=0;i<r.length;i++){var u=r[i];e[u]=1}}n=n.parentModel}return e}var nue=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],rue=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],oue=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function iue(n,e,t,r,i,u,l,f){t=!i&&t||f9;var h=r&&r.inheritColor,g=e.getShallow("color"),y=e.getShallow("textBorderColor"),b=Gi(e.getShallow("opacity"),t.opacity);(g==="inherit"||g==="auto")&&(h?g=h:g=null),(y==="inherit"||y==="auto")&&(h?y=h:y=null),u||(g=g||t.color,y=y||t.textBorderColor),g!=null&&(n.fill=g),y!=null&&(n.stroke=y);var S=Gi(e.getShallow("textBorderWidth"),t.textBorderWidth);S!=null&&(n.lineWidth=S);var _=Gi(e.getShallow("textBorderType"),t.textBorderType);_!=null&&(n.lineDash=_);var k=Gi(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);k!=null&&(n.lineDashOffset=k),!i&&b==null&&!f&&(b=r&&r.defaultOpacity),b!=null&&(n.opacity=b),!i&&!u&&n.fill==null&&r.inheritColor&&(n.fill=r.inheritColor);for(var A=0;A<nue.length;A++){var R=nue[A],I=Gi(e.getShallow(R),t[R]);I!=null&&(n[R]=I)}for(var A=0;A<rue.length;A++){var R=rue[A],I=e.getShallow(R);I!=null&&(n[R]=I)}if(n.verticalAlign==null){var z=e.getShallow("baseline");z!=null&&(n.verticalAlign=z)}if(!l||!r.disableBox){for(var A=0;A<oue.length;A++){var R=oue[A],I=e.getShallow(R);I!=null&&(n[R]=I)}var L=e.getShallow("borderType");L!=null&&(n.borderDash=L),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&h&&(n.backgroundColor=h),(n.borderColor==="auto"||n.borderColor==="inherit")&&h&&(n.borderColor=h)}}function SBe(n,e){var t=e&&e.getModel("textStyle");return Ym([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var d9=lu();function CBe(n,e,t,r){if(n){var i=d9(n);i.prevValue=i.value,i.value=t;var u=e.normal;i.valueAnimation=u.get("valueAnimation"),i.valueAnimation&&(i.precision=u.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}var TBe=["textStyle","color"],XK=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],YK=new ya,MBe=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(TBe):null)},n.prototype.getFont=function(){return SBe({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<XK.length;r++)t[XK[r]]=this.getShallow(XK[r]);return YK.useStyle(t),YK.update(),YK.getBoundingRect()},n}();const kBe=MBe;var Wme=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],DBe=G3(Wme),ABe=function(){function n(){}return n.prototype.getLineStyle=function(e){return DBe(this,e)},n}(),qme=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],EBe=G3(qme),OBe=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return EBe(this,e,t)},n}(),RM=function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){},n.prototype.mergeOption=function(e,t){Vo(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,i=r==null?r:r[e];if(i==null&&!t){var u=this.parentModel;u&&(i=u.getShallow(e))}return i},n.prototype.getModel=function(e,t){var r=e!=null,i=r?this.parsePath(e):null,u=r?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new n(u,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(vo(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Li.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n}();ete(RM);_Le(RM);cf(RM,ABe);cf(RM,OBe);cf(RM,kLe);cf(RM,kBe);const xs=RM;var IBe=Math.round(Math.random()*10);function p5(n){return[n||"",IBe++].join("_")}function RBe(n){var e={};n.registerSubTypeDefaulter=function(t,r){var i=ly(t);e[i.main]=r},n.determineSubType=function(t,r){var i=r.type;if(!i){var u=ly(t).main;n.hasSubTypes(t)&&e[u]&&(i=e[u](r))}return i}}function PBe(n,e){n.topologicalTravel=function(u,l,f,h){if(!u.length)return;var g=t(l),y=g.graph,b=g.noEntryList,S={};for(Te(u,function(z){S[z]=!0});b.length;){var _=b.pop(),k=y[_],A=!!S[_];A&&(f.call(h,_,k.originalDeps.slice()),delete S[_]),Te(k.successor,A?I:R)}Te(S,function(){var z="";throw new Error(z)});function R(z){y[z].entryCount--,y[z].entryCount===0&&b.push(z)}function I(z){S[z]=!0,R(z)}};function t(u){var l={},f=[];return Te(u,function(h){var g=r(l,h),y=g.originalDeps=e(h),b=i(y,u);g.entryCount=b.length,g.entryCount===0&&f.push(h),Te(b,function(S){Di(g.predecessor,S)<0&&g.predecessor.push(S);var _=r(l,S);Di(_.successor,S)<0&&_.successor.push(h)})}),{graph:l,noEntryList:f}}function r(u,l){return u[l]||(u[l]={predecessor:[],successor:[]}),u[l]}function i(u,l){var f=[];return Te(u,function(h){Di(l,h)>=0&&f.push(h)}),f}}function a_(n,e){return Vo(Vo({},n,!0),e,!0)}const NBe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},LBe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var lV="ZH",gte="EN",iL=gte,wH={},vte={},$me=Li.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return n.indexOf(lV)>-1?lV:iL}():iL;function yte(n,e){n=n.toUpperCase(),vte[n]=new xs(e),wH[n]=e}function BBe(n){if(Nr(n)){var e=wH[n.toUpperCase()]||{};return n===lV||n===gte?vo(e):Vo(vo(e),vo(wH[iL]),!1)}else return Vo(vo(n),vo(wH[iL]),!1)}function nZ(n){return vte[n]}function zBe(){return vte[iL]}yte(gte,NBe);yte(lV,LBe);var bte=1e3,xte=bte*60,zN=xte*60,Gm=zN*24,aue=Gm*365,hN={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},CF="{yyyy}-{MM}-{dd}",uue={year:"{yyyy}",month:"{yyyy}-{MM}",day:CF,hour:CF+" "+hN.hour,minute:CF+" "+hN.minute,second:CF+" "+hN.second,millisecond:hN.none},KK=["year","month","day","hour","minute","second","millisecond"],Gme=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Dd(n,e){return n+="","0000".substr(0,e-n.length)+n}function E3(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function FBe(n){return n===E3(n)}function HBe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function zL(n,e,t,r){var i=Ep(n),u=i[wte(t)](),l=i[O3(t)]()+1,f=Math.floor((l-1)/3)+1,h=i[h9(t)](),g=i["get"+(t?"UTC":"")+"Day"](),y=i[aL(t)](),b=(y-1)%12+1,S=i[p9(t)](),_=i[m9(t)](),k=i[g9(t)](),A=r instanceof xs?r:nZ(r||$me)||zBe(),R=A.getModel("time"),I=R.get("month"),z=R.get("monthAbbr"),L=R.get("dayOfWeek"),q=R.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,Dd(u%100+"",2)).replace(/{Q}/g,f+"").replace(/{MMMM}/g,I[l-1]).replace(/{MMM}/g,z[l-1]).replace(/{MM}/g,Dd(l,2)).replace(/{M}/g,l+"").replace(/{dd}/g,Dd(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,L[g]).replace(/{ee}/g,q[g]).replace(/{e}/g,g+"").replace(/{HH}/g,Dd(y,2)).replace(/{H}/g,y+"").replace(/{hh}/g,Dd(b+"",2)).replace(/{h}/g,b+"").replace(/{mm}/g,Dd(S,2)).replace(/{m}/g,S+"").replace(/{ss}/g,Dd(_,2)).replace(/{s}/g,_+"").replace(/{SSS}/g,Dd(k,3)).replace(/{S}/g,k+"")}function VBe(n,e,t,r,i){var u=null;if(Nr(t))u=t;else if(Eo(t))u=t(n.value,e,{level:n.level});else{var l=Gn({},hN);if(n.level>0)for(var f=0;f<KK.length;++f)l[KK[f]]="{primary|"+l[KK[f]]+"}";var h=t?t.inherit===!1?t:Co(t,l):l,g=Xme(n.value,i);if(h[g])u=h[g];else if(h.inherit){for(var y=Gme.indexOf(g),f=y-1;f>=0;--f)if(h[g]){u=h[g];break}u=u||l.none}if(sr(u)){var b=n.level==null?0:n.level>=0?n.level:u.length+n.level;b=Math.min(b,u.length-1),u=u[b]}}return zL(new Date(n.value),u,i,r)}function Xme(n,e){var t=Ep(n),r=t[O3(e)]()+1,i=t[h9(e)](),u=t[aL(e)](),l=t[p9(e)](),f=t[m9(e)](),h=t[g9(e)](),g=h===0,y=g&&f===0,b=y&&l===0,S=b&&u===0,_=S&&i===1,k=_&&r===1;return k?"year":_?"month":S?"day":b?"hour":y?"minute":g?"second":"millisecond"}function sue(n,e,t){var r=su(n)?Ep(n):n;switch(e=e||Xme(n,t),e){case"year":return r[wte(t)]();case"half-year":return r[O3(t)]()>=6?1:0;case"quarter":return Math.floor((r[O3(t)]()+1)/4);case"month":return r[O3(t)]();case"day":return r[h9(t)]();case"half-day":return r[aL(t)]()/24;case"hour":return r[aL(t)]();case"minute":return r[p9(t)]();case"second":return r[m9(t)]();case"millisecond":return r[g9(t)]()}}function wte(n){return n?"getUTCFullYear":"getFullYear"}function O3(n){return n?"getUTCMonth":"getMonth"}function h9(n){return n?"getUTCDate":"getDate"}function aL(n){return n?"getUTCHours":"getHours"}function p9(n){return n?"getUTCMinutes":"getMinutes"}function m9(n){return n?"getUTCSeconds":"getSeconds"}function g9(n){return n?"getUTCMilliseconds":"getMilliseconds"}function jBe(n){return n?"setUTCFullYear":"setFullYear"}function Yme(n){return n?"setUTCMonth":"setMonth"}function Kme(n){return n?"setUTCDate":"setDate"}function Jme(n){return n?"setUTCHours":"setHours"}function Qme(n){return n?"setUTCMinutes":"setMinutes"}function Zme(n){return n?"setUTCSeconds":"setSeconds"}function ege(n){return n?"setUTCMilliseconds":"setMilliseconds"}function UBe(n,e,t,r,i,u,l,f){var h=new ya({style:{text:n,font:e,align:t,verticalAlign:r,padding:i,rich:u,overflow:l?"truncate":null,lineHeight:f}});return h.getBoundingRect()}function _te(n){if(!Jee(n))return Nr(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Ste(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var m5=zee;function rZ(n,e,t){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(y){return y&&Ym(y)?y:"-"}function u(y){return!!(y!=null&&!isNaN(y)&&isFinite(y))}var l=e==="time",f=n instanceof Date;if(l||f){var h=l?Ep(n):n;if(isNaN(+h)){if(f)return"-"}else return zL(h,r,t)}if(e==="ordinal")return $H(n)?i(n):su(n)&&u(n)?n+"":"-";var g=eL(n);return u(g)?_te(g):$H(n)?i(n):typeof n=="boolean"?n+"":"-"}var lue=["a","b","c","d","e","f","g"],JK=function(n,e){return"{"+n+(e??"")+"}"};function Cte(n,e,t){sr(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],u=0;u<i.length;u++){var l=lue[u];n=n.replace(JK(l),JK(l,0))}for(var f=0;f<r;f++)for(var h=0;h<i.length;h++){var g=e[f][i[h]];n=n.replace(JK(lue[h],f),t?yh(g):g)}return n}function WBe(n,e,t){return Te(e,function(r,i){n=n.replace("{"+i+"}",t?yh(r):r)}),n}function tge(n,e){var t=Nr(n)?{color:n,extraCssText:e}:n||{},r=t.color,i=t.type;e=t.extraCssText;var u=t.renderMode||"html";if(!r)return"";if(u==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+yh(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+yh(r)+";"+(e||"")+'"></span>';var l=t.markerId||"markerX";return{renderMode:u,content:"{"+l+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function qBe(n,e,t){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var r=Ep(e),i=t?"getUTC":"get",u=r[i+"FullYear"](),l=r[i+"Month"]()+1,f=r[i+"Date"](),h=r[i+"Hours"](),g=r[i+"Minutes"](),y=r[i+"Seconds"](),b=r[i+"Milliseconds"]();return n=n.replace("MM",Dd(l,2)).replace("M",l).replace("yyyy",u).replace("yy",Dd(u%100+"",2)).replace("dd",Dd(f,2)).replace("d",f).replace("hh",Dd(h,2)).replace("h",h).replace("mm",Dd(g,2)).replace("m",g).replace("ss",Dd(y,2)).replace("s",y).replace("SSS",Dd(b,3)),n}function $Be(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function CM(n,e){return e=e||"transparent",Nr(n)?n:no(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function cue(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var _H=Te,nge=["left","right","top","bottom","width","height"],iM=[["width","left","right"],["height","top","bottom"]];function Tte(n,e,t,r,i){var u=0,l=0;r==null&&(r=1/0),i==null&&(i=1/0);var f=0;e.eachChild(function(h,g){var y=h.getBoundingRect(),b=e.childAt(g+1),S=b&&b.getBoundingRect(),_,k;if(n==="horizontal"){var A=y.width+(S?-S.x+y.x:0);_=u+A,_>r||h.newline?(u=0,_=A,l+=f+t,f=y.height):f=Math.max(f,y.height)}else{var R=y.height+(S?-S.y+y.y:0);k=l+R,k>i||h.newline?(u+=f+t,l=0,k=R,f=y.width):f=Math.max(f,y.width)}h.newline||(h.x=u,h.y=l,h.markRedraw(),n==="horizontal"?u=_+t:l=k+t)})}var mM=Tte;ji(Tte,"vertical");ji(Tte,"horizontal");function Rd(n,e,t){t=m5(t||0);var r=e.width,i=e.height,u=Xo(n.left,r),l=Xo(n.top,i),f=Xo(n.right,r),h=Xo(n.bottom,i),g=Xo(n.width,r),y=Xo(n.height,i),b=t[2]+t[0],S=t[1]+t[3],_=n.aspect;switch(isNaN(g)&&(g=r-f-S-u),isNaN(y)&&(y=i-h-b-l),_!=null&&(isNaN(g)&&isNaN(y)&&(_>r/i?g=r*.8:y=i*.8),isNaN(g)&&(g=_*y),isNaN(y)&&(y=g/_)),isNaN(u)&&(u=r-f-g-S),isNaN(l)&&(l=i-h-y-b),n.left||n.right){case"center":u=r/2-g/2-t[3];break;case"right":u=r-g-S;break}switch(n.top||n.bottom){case"middle":case"center":l=i/2-y/2-t[0];break;case"bottom":l=i-y-b;break}u=u||0,l=l||0,isNaN(g)&&(g=r-S-u-(f||0)),isNaN(y)&&(y=i-b-l-(h||0));var k=new vi(u+t[3],l+t[0],g,y);return k.margin=t,k}function Mte(n,e,t,r,i,u){var l=!i||!i.hv||i.hv[0],f=!i||!i.hv||i.hv[1],h=i&&i.boundingMode||"all";if(u=u||n,u.x=n.x,u.y=n.y,!l&&!f)return!1;var g;if(h==="raw")g=n.type==="group"?new vi(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(g=n.getBoundingRect(),n.needLocalTransform()){var y=n.getLocalTransform();g=g.clone(),g.applyTransform(y)}var b=Rd(Co({width:g.width,height:g.height},e),t,r),S=l?b.x-g.x:0,_=f?b.y-g.y:0;return h==="raw"?(u.x=S,u.y=_):(u.x+=S,u.y+=_),u===n&&n.markRedraw(),!0}function GBe(n,e){return n[iM[e][0]]!=null||n[iM[e][1]]!=null&&n[iM[e][2]]!=null}function uL(n){var e=n.layoutMode||n.constructor.layoutMode;return no(e)?e:e?{type:e}:null}function Q2(n,e,t){var r=t&&t.ignoreSize;!sr(r)&&(r=[r,r]);var i=l(iM[0],0),u=l(iM[1],1);g(iM[0],n,i),g(iM[1],n,u);function l(y,b){var S={},_=0,k={},A=0,R=2;if(_H(y,function(L){k[L]=n[L]}),_H(y,function(L){f(e,L)&&(S[L]=k[L]=e[L]),h(S,L)&&_++,h(k,L)&&A++}),r[b])return h(e,y[1])?k[y[2]]=null:h(e,y[2])&&(k[y[1]]=null),k;if(A===R||!_)return k;if(_>=R)return S;for(var I=0;I<y.length;I++){var z=y[I];if(!f(S,z)&&f(n,z)){S[z]=n[z];break}}return S}function f(y,b){return y.hasOwnProperty(b)}function h(y,b){return y[b]!=null&&y[b]!=="auto"}function g(y,b,S){_H(y,function(_){b[_]=S[_]})}}function g5(n){return rge({},n)}function rge(n,e){return e&&n&&_H(nge,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var XBe=lu(),v5=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,t,r,i)||this;return u.uid=p5("ec_cpt_model"),u}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=uL(this),u=i?g5(t):{},l=r.getTheme();Vo(t,l.get(this.mainType)),Vo(t,this.getDefaultOption()),i&&Q2(t,u,i)},e.prototype.mergeOption=function(t,r){Vo(this.option,t,!0);var i=uL(this);i&&Q2(this.option,t,i)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!bLe(t))return t.defaultOption;var r=XBe(this);if(!r.defaultOption){for(var i=[],u=t;u;){var l=u.prototype.defaultOption;l&&i.push(l),u=u.superClass}for(var f={},h=i.length-1;h>=0;h--)f=Vo(f,i[h],!0);r.defaultOption=f}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var i=t+"Index",u=t+"Id";return NL(this.ecModel,t,{index:this.get(i,!0),id:this.get(u,!0)},r)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(xs);Qpe(v5,xs);QV(v5);RBe(v5);PBe(v5,YBe);function YBe(n){var e=[];return Te(v5.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=br(e,function(t){return ly(t).main}),n!=="dataset"&&Di(e,"dataset")<=0&&e.unshift("dataset"),e}const Vi=v5;var oge="";typeof navigator<"u"&&(oge=navigator.platform||"");var o3="rgba(0, 0, 0, 0.2)";const KBe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:o3,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:o3,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:o3,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:o3,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:o3,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:o3,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:oge.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var ige=to(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),rg="original",kh="arrayRows",Ev="objectRows",Cy="keyedColumns",X2="typedArray",age="unknown",Ab="column",y5="row",nf={Must:1,Might:2,Not:3},uge=lu();function JBe(n){uge(n).datasetMap=to()}function QBe(n,e,t){var r={},i=kte(e);if(!i||!n)return r;var u=[],l=[],f=e.ecModel,h=uge(f).datasetMap,g=i.uid+"_"+t.seriesLayoutBy,y,b;n=n.slice(),Te(n,function(A,R){var I=no(A)?A:n[R]={name:A};I.type==="ordinal"&&y==null&&(y=R,b=k(I)),r[I.name]=[]});var S=h.get(g)||h.set(g,{categoryWayDim:b,valueWayDim:0});Te(n,function(A,R){var I=A.name,z=k(A);if(y==null){var L=S.valueWayDim;_(r[I],L,z),_(l,L,z),S.valueWayDim+=z}else if(y===R)_(r[I],0,z),_(u,0,z);else{var L=S.categoryWayDim;_(r[I],L,z),_(l,L,z),S.categoryWayDim+=z}});function _(A,R,I){for(var z=0;z<I;z++)A.push(R+z)}function k(A){var R=A.dimsDef;return R?R.length:1}return u.length&&(r.itemName=u),l.length&&(r.seriesName=l),r}function sge(n,e,t){var r={},i=kte(n);if(!i)return r;var u=e.sourceFormat,l=e.dimensionsDefine,f;(u===Ev||u===Cy)&&Te(l,function(y,b){(no(y)?y.name:y)==="name"&&(f=b)});var h=function(){for(var y={},b={},S=[],_=0,k=Math.min(5,t);_<k;_++){var A=cge(e.data,u,e.seriesLayoutBy,l,e.startIndex,_);S.push(A);var R=A===nf.Not;if(R&&y.v==null&&_!==f&&(y.v=_),(y.n==null||y.n===y.v||!R&&S[y.n]===nf.Not)&&(y.n=_),I(y)&&S[y.n]!==nf.Not)return y;R||(A===nf.Might&&b.v==null&&_!==f&&(b.v=_),(b.n==null||b.n===b.v)&&(b.n=_))}function I(z){return z.v!=null&&z.n!=null}return I(y)?y:I(b)?b:null}();if(h){r.value=[h.v];var g=f??h.n;r.itemName=[g],r.seriesName=[g]}return r}function kte(n){var e=n.get("data",!0);if(!e)return NL(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},mc).models[0]}function ZBe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:NL(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},mc).models}function lge(n,e){return cge(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function cge(n,e,t,r,i,u){var l,f=5;if(Mh(n))return nf.Not;var h,g;if(r){var y=r[u];no(y)?(h=y.name,g=y.type):Nr(y)&&(h=y)}if(g!=null)return g==="ordinal"?nf.Must:nf.Not;if(e===kh){var b=n;if(t===y5){for(var S=b[u],_=0;_<(S||[]).length&&_<f;_++)if((l=q(S[i+_]))!=null)return l}else for(var _=0;_<b.length&&_<f;_++){var k=b[i+_];if(k&&(l=q(k[u]))!=null)return l}}else if(e===Ev){var A=n;if(!h)return nf.Not;for(var _=0;_<A.length&&_<f;_++){var R=A[_];if(R&&(l=q(R[h]))!=null)return l}}else if(e===Cy){var I=n;if(!h)return nf.Not;var S=I[h];if(!S||Mh(S))return nf.Not;for(var _=0;_<S.length&&_<f;_++)if((l=q(S[_]))!=null)return l}else if(e===rg)for(var z=n,_=0;_<z.length&&_<f;_++){var R=z[_],L=f5(R);if(!sr(L))return nf.Not;if((l=q(L[u]))!=null)return l}function q(X){var Y=Nr(X);if(X!=null&&isFinite(X)&&X!=="")return Y?nf.Might:nf.Not;if(Y&&X!=="-")return nf.Must}return nf.Not}var oZ=to();function eze(n,e){Ap(oZ.get(n)==null&&e),oZ.set(n,e)}function tze(n,e,t){var r=oZ.get(e);if(!r)return t;var i=r(n);return i?t.concat(i):t}var fue=lu(),nze=lu(),Dte=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var i=Bs(this.get("color",!0)),u=this.get("colorLayer",!0);return fge(this,fue,i,u,e,t,r)},n.prototype.clearColorPalette=function(){oze(this,fue)},n}();function due(n,e,t,r){var i=Bs(n.get(["aria","decal","decals"]));return fge(n,nze,i,null,e,t,r)}function rze(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}function fge(n,e,t,r,i,u,l){u=u||n;var f=e(u),h=f.paletteIdx||0,g=f.paletteNameMap=f.paletteNameMap||{};if(g.hasOwnProperty(i))return g[i];var y=l==null||!r?t:rze(r,l);if(y=y||t,!(!y||!y.length)){var b=y[h];return i&&(g[i]=b),f.paletteIdx=(h+1)%y.length,b}}function oze(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var TF,HP,hue,pue="\0_ec_inner",ize=1,dge=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,i,u,l,f){u=u||{},this.option=null,this._theme=new xs(u),this._locale=new xs(l),this._optionManager=f},e.prototype.setOption=function(t,r,i){var u=vue(r);this._optionManager.setOption(t,i,u),this._resetOption(null,u)},e.prototype.resetOption=function(t,r){return this._resetOption(t,vue(r))},e.prototype._resetOption=function(t,r){var i=!1,u=this._optionManager;if(!t||t==="recreate"){var l=u.mountOption(t==="recreate");!this.option||t==="recreate"?hue(this,l):(this.restoreData(),this._mergeOption(l,r)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var f=u.getTimelineOption(this);f&&(i=!0,this._mergeOption(f,r))}if(!t||t==="recreate"||t==="media"){var h=u.getMediaOption(this);h.length&&Te(h,function(g){i=!0,this._mergeOption(g,r)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var i=this.option,u=this._componentsMap,l=this._componentsCount,f=[],h=to(),g=r&&r.replaceMergeMainTypeMap;JBe(this),Te(t,function(b,S){b!=null&&(Vi.hasClass(S)?S&&(f.push(S),h.set(S,!0)):i[S]=i[S]==null?vo(b):Vo(i[S],b,!0))}),g&&g.each(function(b,S){Vi.hasClass(S)&&!h.get(S)&&(f.push(S),h.set(S,!0))}),Vi.topologicalTravel(f,Vi.getAllClassMainTypes(),y,this);function y(b){var S=tze(this,b,Bs(t[b])),_=u.get(b),k=_?g&&g.get(b)?"replaceMerge":"normalMerge":"replaceAll",A=Xpe(_,S,k);lLe(A,b,Vi),i[b]=null,u.set(b,null),l.set(b,0);var R=[],I=[],z=0,L;Te(A,function(q,X){var Y=q.existing,ae=q.newOption;if(!ae)Y&&(Y.mergeOption({},this),Y.optionUpdated({},!1));else{var te=b==="series",ie=Vi.getClass(b,q.keyInfo.subType,!te);if(!ie)return;if(b==="tooltip"){if(L)return;L=!0}if(Y&&Y.constructor===ie)Y.name=q.keyInfo.name,Y.mergeOption(ae,this),Y.optionUpdated(ae,!1);else{var le=Gn({componentIndex:X},q.keyInfo);Y=new ie(ae,this,this,le),Gn(Y,le),q.brandNew&&(Y.__requireNewView=!0),Y.init(ae,this,this),Y.optionUpdated(null,!0)}}Y?(R.push(Y.option),I.push(Y),z++):(R.push(void 0),I.push(void 0))},this),i[b]=R,u.set(b,I),l.set(b,z),b==="series"&&TF(this)}this._seriesIndices||TF(this)},e.prototype.getOption=function(){var t=vo(this.option);return Te(t,function(r,i){if(Vi.hasClass(i)){for(var u=Bs(r),l=u.length,f=!1,h=l-1;h>=0;h--)u[h]&&!tL(u[h])?f=!0:(u[h]=null,!f&&l--);u.length=l,t[i]=u}}),delete t[pue],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var u=i[r||0];if(u)return u;if(r==null){for(var l=0;l<i.length;l++)if(i[l])return i[l]}}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var i=t.index,u=t.id,l=t.name,f=this._componentsMap.get(r);if(!f||!f.length)return[];var h;return i!=null?(h=[],Te(Bs(i),function(g){f[g]&&h.push(f[g])})):u!=null?h=mue("id",u,f):l!=null?h=mue("name",l,f):h=Ls(f,function(g){return!!g}),gue(h,t)},e.prototype.findComponents=function(t){var r=t.query,i=t.mainType,u=f(r),l=u?this.queryComponents(u):Ls(this._componentsMap.get(i),function(g){return!!g});return h(gue(l,t));function f(g){var y=i+"Index",b=i+"Id",S=i+"Name";return g&&(g[y]!=null||g[b]!=null||g[S]!=null)?{mainType:i,index:g[y],id:g[b],name:g[S]}:null}function h(g){return t.filter?Ls(g,t.filter):g}},e.prototype.eachComponent=function(t,r,i){var u=this._componentsMap;if(Eo(t)){var l=r,f=t;u.each(function(b,S){for(var _=0;b&&_<b.length;_++){var k=b[_];k&&f.call(l,S,k,k.componentIndex)}})}else for(var h=Nr(t)?u.get(t):no(t)?this.findComponents(t):null,g=0;h&&g<h.length;g++){var y=h[g];y&&r.call(i,y,y.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=qf(t,null);return Ls(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Ls(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return Ls(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){HP(this),Te(this._seriesIndices,function(i){var u=this._componentsMap.get("series")[i];t.call(r,u,i)},this)},e.prototype.eachRawSeries=function(t,r){Te(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,i){HP(this),Te(this._seriesIndices,function(u){var l=this._componentsMap.get("series")[u];l.subType===t&&r.call(i,l,u)},this)},e.prototype.eachRawSeriesByType=function(t,r,i){return Te(this.getSeriesByType(t),r,i)},e.prototype.isSeriesFiltered=function(t){return HP(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){HP(this);var i=[];Te(this._seriesIndices,function(u){var l=this._componentsMap.get("series")[u];t.call(r,l,u)&&i.push(u)},this),this._seriesIndices=i,this._seriesIndicesMap=to(i)},e.prototype.restoreData=function(t){TF(this);var r=this._componentsMap,i=[];r.each(function(u,l){Vi.hasClass(l)&&i.push(l)}),Vi.topologicalTravel(i,Vi.getAllClassMainTypes(),function(u){Te(r.get(u),function(l){l&&(u!=="series"||!aze(l,t))&&l.restoreData()})})},e.internalField=function(){TF=function(t){var r=t._seriesIndices=[];Te(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=to(r)},HP=function(t){},hue=function(t,r){t.option={},t.option[pue]=ize,t._componentsMap=to({series:[]}),t._componentsCount=to();var i=r.aria;no(i)&&i.enabled==null&&(i.enabled=!0),uze(r,t._theme.option),Vo(r,KBe,!1),t._mergeOption(r,null)}}(),e}(xs);function aze(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,i=e.seriesName;return t!=null&&n.componentIndex!==t||r!=null&&n.id!==r||i!=null&&n.name!==i}}function uze(n,e){var t=n.color&&!n.colorLayer;Te(e,function(r,i){i==="colorLayer"&&t||Vi.hasClass(i)||(typeof r=="object"?n[i]=n[i]?Vo(n[i],r,!1):vo(r):n[i]==null&&(n[i]=r))})}function mue(n,e,t){if(sr(e)){var r=to();return Te(e,function(u){if(u!=null){var l=qf(u,null);l!=null&&r.set(u,!0)}}),Ls(t,function(u){return u&&r.get(u[n])})}else{var i=qf(e,null);return Ls(t,function(u){return u&&i!=null&&u[n]===i})}}function gue(n,e){return e.hasOwnProperty("subType")?Ls(n,function(t){return t&&t.subType===e.subType}):n}function vue(n){var e=to();return n&&Te(Bs(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}cf(dge,Dte);const hge=dge;var sze=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],lze=function(){function n(e){Te(sze,function(t){this[t]=Ur(e[t],e)},this)}return n}();const pge=lze;var QK={},cze=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var r=[];Te(QK,function(i,u){var l=i.create(e,t);r=r.concat(l||[])}),this._coordinateSystems=r},n.prototype.update=function(e,t){Te(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){QK[e]=t},n.get=function(e){return QK[e]},n}();const v9=cze;var fze=/^(min|max)?(.+)$/,dze=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(Te(Bs(e.series),function(l){l&&l.data&&Mh(l.data)&&GH(l.data)}),Te(Bs(e.dataset),function(l){l&&l.source&&Mh(l.source)&&GH(l.source)})),e=vo(e);var i=this._optionBackup,u=hze(e,t,!i);this._newBaseOption=u.baseOption,i?(u.timelineOptions.length&&(i.timelineOptions=u.timelineOptions),u.mediaList.length&&(i.mediaList=u.mediaList),u.mediaDefault&&(i.mediaDefault=u.mediaDefault)):this._optionBackup=u},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],vo(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(t=vo(r[i.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,u=this._mediaDefault,l=[],f=[];if(!i.length&&!u)return f;for(var h=0,g=i.length;h<g;h++)pze(i[h].query,t,r)&&l.push(h);return!l.length&&u&&(l=[-1]),l.length&&!gze(l,this._currentMediaIndices)&&(f=br(l,function(y){return vo(y===-1?u.option:i[y].option)})),this._currentMediaIndices=l,f},n}();function hze(n,e,t){var r=[],i,u,l=n.baseOption,f=n.timeline,h=n.options,g=n.media,y=!!n.media,b=!!(h||f||l&&l.timeline);l?(u=l,u.timeline||(u.timeline=f)):((b||y)&&(n.options=n.media=null),u=n),y&&(sr(g)&&Te(g,function(_){_&&_.option&&(_.query?r.push(_):i||(i=_))})),S(u),Te(h,function(_){return S(_)}),Te(r,function(_){return S(_.option)});function S(_){Te(e,function(k){k(_,t)})}return{baseOption:u,timelineOptions:h||[],mediaDefault:i,mediaList:r}}function pze(n,e,t){var r={width:e,height:t,aspectratio:e/t},i=!0;return Te(n,function(u,l){var f=l.match(fze);if(!(!f||!f[1]||!f[2])){var h=f[1],g=f[2].toLowerCase();mze(r[g],u,h)||(i=!1)}}),i}function mze(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function gze(n,e){return n.join(",")===e.join(",")}const vze=dze;var gv=Te,sL=no,yue=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ZK(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=yue.length;t<r;t++){var i=yue[t],u=e.normal,l=e.emphasis;u&&u[i]&&(n[i]=n[i]||{},n[i].normal?Vo(n[i].normal,u[i]):n[i].normal=u[i],u[i]=null),l&&l[i]&&(n[i]=n[i]||{},n[i].emphasis?Vo(n[i].emphasis,l[i]):n[i].emphasis=l[i],l[i]=null)}}function Uf(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,i=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,Co(n[e],r)):n[e]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[e]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function pN(n){Uf(n,"itemStyle"),Uf(n,"lineStyle"),Uf(n,"areaStyle"),Uf(n,"label"),Uf(n,"labelLine"),Uf(n,"upperLabel"),Uf(n,"edgeLabel")}function bl(n,e){var t=sL(n)&&n[e],r=sL(t)&&t.textStyle;if(r)for(var i=0,u=yae.length;i<u;i++){var l=yae[i];r.hasOwnProperty(l)&&(t[l]=r[l])}}function Hm(n){n&&(pN(n),bl(n,"label"),n.emphasis&&bl(n.emphasis,"label"))}function yze(n){if(sL(n)){ZK(n),pN(n),bl(n,"label"),bl(n,"upperLabel"),bl(n,"edgeLabel"),n.emphasis&&(bl(n.emphasis,"label"),bl(n.emphasis,"upperLabel"),bl(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(ZK(e),Hm(e));var t=n.markLine;t&&(ZK(t),Hm(t));var r=n.markArea;r&&Hm(r);var i=n.data;if(n.type==="graph"){i=i||n.nodes;var u=n.links||n.edges;if(u&&!Mh(u))for(var l=0;l<u.length;l++)Hm(u[l]);Te(n.categories,function(g){pN(g)})}if(i&&!Mh(i))for(var l=0;l<i.length;l++)Hm(i[l]);if(e=n.markPoint,e&&e.data)for(var f=e.data,l=0;l<f.length;l++)Hm(f[l]);if(t=n.markLine,t&&t.data)for(var h=t.data,l=0;l<h.length;l++)sr(h[l])?(Hm(h[l][0]),Hm(h[l][1])):Hm(h[l]);n.type==="gauge"?(bl(n,"axisLabel"),bl(n,"title"),bl(n,"detail")):n.type==="treemap"?(Uf(n.breadcrumb,"itemStyle"),Te(n.levels,function(g){pN(g)})):n.type==="tree"&&pN(n.leaves)}}function gb(n){return sr(n)?n:n?[n]:[]}function bue(n){return(sr(n)?n[0]:n)||{}}function bze(n,e){gv(gb(n.series),function(r){sL(r)&&yze(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),gv(t,function(r){gv(gb(n[r]),function(i){i&&(bl(i,"axisLabel"),bl(i.axisPointer,"label"))})}),gv(gb(n.parallel),function(r){var i=r&&r.parallelAxisDefault;bl(i,"axisLabel"),bl(i&&i.axisPointer,"label")}),gv(gb(n.calendar),function(r){Uf(r,"itemStyle"),bl(r,"dayLabel"),bl(r,"monthLabel"),bl(r,"yearLabel")}),gv(gb(n.radar),function(r){bl(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),gv(gb(n.geo),function(r){sL(r)&&(Hm(r),gv(gb(r.regions),function(i){Hm(i)}))}),gv(gb(n.timeline),function(r){Hm(r),Uf(r,"label"),Uf(r,"itemStyle"),Uf(r,"controlStyle",!0);var i=r.data;sr(i)&&Te(i,function(u){no(u)&&(Uf(u,"label"),Uf(u,"itemStyle"))})}),gv(gb(n.toolbox),function(r){Uf(r,"iconStyle"),gv(r.feature,function(i){Uf(i,"iconStyle")})}),bl(bue(n.axisPointer),"label"),bl(bue(n.tooltip).axisPointer,"label")}function xze(n,e){for(var t=e.split(","),r=n,i=0;i<t.length&&(r=r&&r[t[i]],r!=null);i++);return r}function wze(n,e,t,r){for(var i=e.split(","),u=n,l,f=0;f<i.length-1;f++)l=i[f],u[l]==null&&(u[l]={}),u=u[l];(r||u[i[f]]==null)&&(u[i[f]]=t)}function xue(n){n&&Te(_ze,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var _ze=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Sze=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],eJ=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function VP(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<eJ.length;t++){var r=eJ[t][1],i=eJ[t][0];e[r]!=null&&(e[i]=e[r])}}function wue(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function _ue(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function Cze(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function mge(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&mge(n[t].children,e)}function gge(n,e){bze(n,e),n.series=Bs(n.series),Te(n.series,function(t){if(no(t)){var r=t.type;if(r==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(r==="pie"||r==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),wue(t.label);var i=t.data;if(i&&!Mh(i))for(var u=0;u<i.length;u++)wue(i[u]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(r==="gauge"){var l=xze(t,"pointer.color");l!=null&&wze(t,"itemStyle.color",l)}else if(r==="bar"){VP(t),VP(t.backgroundStyle),VP(t.emphasis);var i=t.data;if(i&&!Mh(i))for(var u=0;u<i.length;u++)typeof i[u]=="object"&&(VP(i[u]),VP(i[u]&&i[u].emphasis))}else if(r==="sunburst"){var f=t.highlightPolicy;f&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=f)),_ue(t),mge(t.data,_ue)}else r==="graph"||r==="sankey"?Cze(t):r==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Co(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),xue(t)}}),n.dataRange&&(n.visualMap=n.dataRange),Te(Sze,function(t){var r=n[t];r&&(sr(r)||(r=[r]),Te(r,function(i){xue(i)}))})}function Tze(n){var e=to();n.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]),u=t.getData(),l={stackResultDimension:u.getCalculationInfo("stackResultDimension"),stackedOverDimension:u.getCalculationInfo("stackedOverDimension"),stackedDimension:u.getCalculationInfo("stackedDimension"),stackedByDimension:u.getCalculationInfo("stackedByDimension"),isStackedByIndex:u.getCalculationInfo("isStackedByIndex"),data:u,seriesModel:t};if(!l.stackedDimension||!(l.isStackedByIndex||l.stackedByDimension))return;i.length&&u.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(l)}}),e.each(Mze)}function Mze(n){Te(n,function(e,t){var r=[],i=[NaN,NaN],u=[e.stackResultDimension,e.stackedOverDimension],l=e.data,f=e.isStackedByIndex,h=e.seriesModel.get("stackStrategy")||"samesign";l.modify(u,function(g,y,b){var S=l.get(e.stackedDimension,b);if(isNaN(S))return i;var _,k;f?k=l.getRawIndex(b):_=l.get(e.stackedByDimension,b);for(var A=NaN,R=t-1;R>=0;R--){var I=n[R];if(f||(k=I.data.rawIndexOf(I.stackedByDimension,_)),k>=0){var z=I.data.getByRawIndex(I.stackResultDimension,k);if(h==="all"||h==="positive"&&z>0||h==="negative"&&z<0||h==="samesign"&&S>=0&&z>0||h==="samesign"&&S<=0&&z<0){S=JNe(S,z),A=z;break}}}return r[0]=S,r[1]=A,r})})}var y9=function(){function n(e){this.data=e.data||(e.sourceFormat===Cy?{}:[]),this.sourceFormat=e.sourceFormat||age,this.seriesLayoutBy=e.seriesLayoutBy||Ab,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];i.type==null&&lge(this,r)===nf.Must&&(i.type="ordinal")}}return n}();function Ate(n){return n instanceof y9}function iZ(n,e,t){t=t||vge(n);var r=e.seriesLayoutBy,i=Dze(n,t,r,e.sourceHeader,e.dimensions),u=new y9({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:vo(e)});return u}function Ete(n){return new y9({data:n,sourceFormat:Mh(n)?X2:rg})}function kze(n){return new y9({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:vo(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function vge(n){var e=age;if(Mh(n))e=X2;else if(sr(n)){n.length===0&&(e=kh);for(var t=0,r=n.length;t<r;t++){var i=n[t];if(i!=null){if(sr(i)){e=kh;break}else if(no(i)){e=Ev;break}}}}else if(no(n)){for(var u in n)if(Zo(n,u)&&$f(n[u])){e=Cy;break}}return e}function Dze(n,e,t,r,i){var u,l;if(!n)return{dimensionsDefine:Sue(i),startIndex:l,dimensionsDetectedCount:u};if(e===kh){var f=n;r==="auto"||r==null?Cue(function(g){g!=null&&g!=="-"&&(Nr(g)?l==null&&(l=1):l=0)},t,f,10):l=su(r)?r:r?1:0,!i&&l===1&&(i=[],Cue(function(g,y){i[y]=g!=null?g+"":""},t,f,1/0)),u=i?i.length:t===y5?f.length:f[0]?f[0].length:null}else if(e===Ev)i||(i=Aze(n));else if(e===Cy)i||(i=[],Te(n,function(g,y){i.push(y)}));else if(e===rg){var h=f5(n[0]);u=sr(h)&&h.length||1}return{startIndex:l,dimensionsDefine:Sue(i),dimensionsDetectedCount:u}}function Aze(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return ga(t)}function Sue(n){if(n){var e=to();return br(n,function(t,r){t=no(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var u=e.get(i.name);return u?i.name+="-"+u.count++:e.set(i.name,{count:1}),i})}}function Cue(n,e,t,r){if(e===y5)for(var i=0;i<t.length&&i<r;i++)n(t[i]?t[i][0]:null,i);else for(var u=t[0]||[],i=0;i<u.length&&i<r;i++)n(u[i],i)}function yge(n){var e=n.sourceFormat;return e===Ev||e===Cy}var UT,WT,qT,Tue,Mue,bge=function(){function n(e,t){var r=Ate(e)?e:Ete(e);this._source=r;var i=this._data=r.data;r.sourceFormat===X2&&(this._offset=0,this._dimSize=t,this._data=i),Mue(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;Mue=function(l,f,h){var g=h.sourceFormat,y=h.seriesLayoutBy,b=h.startIndex,S=h.dimensionsDefine,_=Tue[Ote(g,y)];if(Gn(l,_),g===X2)l.getItem=t,l.count=i,l.fillStorage=r;else{var k=xge(g,y);l.getItem=Ur(k,null,f,b,S);var A=wge(g,y);l.count=Ur(A,null,f,b,S)}};var t=function(l,f){l=l-this._offset,f=f||[];for(var h=this._data,g=this._dimSize,y=g*l,b=0;b<g;b++)f[b]=h[y+b];return f},r=function(l,f,h,g){for(var y=this._data,b=this._dimSize,S=0;S<b;S++){for(var _=g[S],k=_[0]==null?1/0:_[0],A=_[1]==null?-1/0:_[1],R=f-l,I=h[S],z=0;z<R;z++){var L=y[z*b+S];I[l+z]=L,L<k&&(k=L),L>A&&(A=L)}_[0]=k,_[1]=A}},i=function(){return this._data?this._data.length/this._dimSize:0};Tue=(e={},e[kh+"_"+Ab]={pure:!0,appendData:u},e[kh+"_"+y5]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Ev]={pure:!0,appendData:u},e[Cy]={pure:!0,appendData:function(l){var f=this._data;Te(l,function(h,g){for(var y=f[g]||(f[g]=[]),b=0;b<(h||[]).length;b++)y.push(h[b])})}},e[rg]={appendData:u},e[X2]={persistent:!1,pure:!0,appendData:function(l){this._data=l},clean:function(){this._offset+=this.count(),this._data=null}},e);function u(l){for(var f=0;f<l.length;f++)this._data.push(l[f])}}(),n}(),kue=function(n,e,t,r){return n[r]},Eze=(UT={},UT[kh+"_"+Ab]=function(n,e,t,r){return n[r+e]},UT[kh+"_"+y5]=function(n,e,t,r,i){r+=e;for(var u=i||[],l=n,f=0;f<l.length;f++){var h=l[f];u[f]=h?h[r]:null}return u},UT[Ev]=kue,UT[Cy]=function(n,e,t,r,i){for(var u=i||[],l=0;l<t.length;l++){var f=t[l].name,h=n[f];u[l]=h?h[r]:null}return u},UT[rg]=kue,UT);function xge(n,e){var t=Eze[Ote(n,e)];return t}var Due=function(n,e,t){return n.length},Oze=(WT={},WT[kh+"_"+Ab]=function(n,e,t){return Math.max(0,n.length-e)},WT[kh+"_"+y5]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},WT[Ev]=Due,WT[Cy]=function(n,e,t){var r=t[0].name,i=n[r];return i?i.length:0},WT[rg]=Due,WT);function wge(n,e){var t=Oze[Ote(n,e)];return t}var tJ=function(n,e,t){return n[e]},Ize=(qT={},qT[kh]=tJ,qT[Ev]=function(n,e,t){return n[t]},qT[Cy]=tJ,qT[rg]=function(n,e,t){var r=f5(n);return r instanceof Array?r[e]:r},qT[X2]=tJ,qT);function _ge(n){var e=Ize[n];return e}function Ote(n,e){return n===kh?n+"_"+e:n}function J3(n,e,t){if(n){var r=n.getRawDataItem(e);if(r!=null){var i=n.getStore(),u=i.getSource().sourceFormat;if(t!=null){var l=n.getDimensionIndex(t),f=i.getDimensionProperty(l);return _ge(u)(r,l,f)}else{var h=r;return u===rg&&(h=f5(r)),h}}}}var Rze=/\{@(.+?)\}/g,Sge=function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),i=this.getRawValue(e,t),u=r.getRawIndex(e),l=r.getName(e),f=r.getRawDataItem(e),h=r.getItemVisual(e,"style"),g=h&&h[r.getItemVisual(e,"drawType")||"fill"],y=h&&h.stroke,b=this.mainType,S=b==="series",_=r.userOutput&&r.userOutput.get();return{componentType:b,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:S?this.subType:null,seriesIndex:this.seriesIndex,seriesId:S?this.id:null,seriesName:S?this.name:null,name:l,dataIndex:u,data:f,dataType:t,value:i,color:g,borderColor:y,dimensionNames:_?_.fullDimensions:null,encode:_?_.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,i,u,l){t=t||"normal";var f=this.getData(r),h=this.getDataParams(e,r);if(l&&(h.value=l.interpolatedValue),i!=null&&sr(h.value)&&(h.value=h.value[i]),!u){var g=f.getItemModel(e);u=g.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Eo(u))return h.status=t,h.dimensionIndex=i,u(h);if(Nr(u)){var y=Cte(u,h);return y.replace(Rze,function(b,S){var _=S.length,k=S;k.charAt(0)==="["&&k.charAt(_-1)==="]"&&(k=+k.slice(1,_-1));var A=J3(f,e,k);if(l&&sr(l.interpolatedValue)){var R=f.getDimensionIndex(k);R>=0&&(A=l.interpolatedValue[R])}return A!=null?A+"":""})}},n.prototype.getRawValue=function(e,t){return J3(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n}();function Aue(n){var e,t;return no(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function FN(n){return new Pze(n)}var Pze=function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var u;this._plan&&!r&&(u=this._plan(this.context));var l=y(this._modBy),f=this._modDataCount||0,h=y(e&&e.modBy),g=e&&e.modDataCount||0;(l!==h||f!==g)&&(u="reset");function y(z){return!(z>=1)&&(z=1),z}var b;(this._dirty||u==="reset")&&(this._dirty=!1,b=this._doReset(r)),this._modBy=h,this._modDataCount=g;var S=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var _=this._dueIndex,k=Math.min(S!=null?this._dueIndex+S:1/0,this._dueEnd);if(!r&&(b||_<k)){var A=this._progress;if(sr(A))for(var R=0;R<A.length;R++)this._doProgress(A[R],_,k,h,g);else this._doProgress(A,_,k,h,g)}this._dueIndex=k;var I=this._settedOutputEnd!=null?this._settedOutputEnd:k;this._outputDueEnd=I}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,i,u){Eue.reset(t,r,i,u),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:Eue.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,r;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(r=t.forceFirstProgress,t=t.progress),sr(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),Eue=function(){var n,e,t,r,i,u={reset:function(h,g,y,b){e=h,n=g,t=y,r=b,i=Math.ceil(r/t),u.next=t>1&&r>0?f:l}};return u;function l(){return e<n?e++:null}function f(){var h=e%i*t+Math.ceil(e/i),g=e>=n?null:h<r?h:e;return e++,g}}();function SH(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!su(n)&&n!=null&&n!=="-"&&(n=+Ep(n)),n==null||n===""?NaN:+n)}to({number:function(n){return parseFloat(n)},time:function(n){return+Ep(n)},trim:function(n){return Nr(n)?Ym(n):n}});var Nze=function(){function n(e,t){var r=e==="desc";this._resultLT=r?1:-1,t==null&&(t=r?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=su(e)?e:eL(e),i=su(t)?t:eL(t),u=isNaN(r),l=isNaN(i);if(u&&(r=this._incomparable),l&&(i=this._incomparable),u&&l){var f=Nr(e),h=Nr(t);f&&(r=h?e:0),h&&(i=f?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n}(),Lze=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return SH(e,t)},n}();function Bze(n,e){var t=new Lze,r=n.data,i=t.sourceFormat=n.sourceFormat,u=n.startIndex,l="";n.seriesLayoutBy!==Ab&&bh(l);var f=[],h={},g=n.dimensionsDefine;if(g)Te(g,function(A,R){var I=A.name,z={index:R,name:I,displayName:A.displayName};if(f.push(z),I!=null){var L="";Zo(h,I)&&bh(L),h[I]=z}});else for(var y=0;y<n.dimensionsDetectedCount;y++)f.push({index:y});var b=xge(i,Ab);e.__isBuiltIn&&(t.getRawDataItem=function(A){return b(r,u,f,A)},t.getRawData=Ur(zze,null,n)),t.cloneRawData=Ur(Fze,null,n);var S=wge(i,Ab);t.count=Ur(S,null,r,u,f);var _=_ge(i);t.retrieveValue=function(A,R){var I=b(r,u,f,A);return k(I,R)};var k=t.retrieveValueFromItem=function(A,R){if(A!=null){var I=f[R];if(I)return _(A,R,I.name)}};return t.getDimensionInfo=Ur(Hze,null,f,h),t.cloneAllDimensionInfo=Ur(Vze,null,f),t}function zze(n){var e=n.sourceFormat;if(!Ite(e)){var t="";bh(t)}return n.data}function Fze(n){var e=n.sourceFormat,t=n.data;if(!Ite(e)){var r="";bh(r)}if(e===kh){for(var i=[],u=0,l=t.length;u<l;u++)i.push(t[u].slice());return i}else if(e===Ev){for(var i=[],u=0,l=t.length;u<l;u++)i.push(Gn({},t[u]));return i}}function Hze(n,e,t){if(t!=null){if(su(t)||!isNaN(t)&&!Zo(e,t))return n[t];if(Zo(e,t))return e[t]}}function Vze(n){return vo(n)}var Cge=to();function jze(n){n=vo(n);var e=n.type,t="";e||bh(t);var r=e.split(":");r.length!==2&&bh(t);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),n.__isBuiltIn=i,Cge.set(e,n)}function Uze(n,e,t){var r=Bs(n),i=r.length,u="";i||bh(u);for(var l=0,f=i;l<f;l++){var h=r[l];e=Wze(h,e),l!==f-1&&(e.length=Math.max(e.length,1))}return e}function Wze(n,e,t,r){var i="";e.length||bh(i),no(n)||bh(i);var u=n.type,l=Cge.get(u);l||bh(i);var f=br(e,function(g){return Bze(g,l)}),h=Bs(l.transform({upstream:f[0],upstreamList:f,config:vo(n.config)}));return br(h,function(g,y){var b="";no(g)||bh(b),g.data||bh(b);var S=vge(g.data);Ite(S)||bh(b);var _,k=e[0];if(k&&y===0&&!g.dimensions){var A=k.startIndex;A&&(g.data=k.data.slice(0,A).concat(g.data)),_={seriesLayoutBy:Ab,sourceHeader:A,dimensions:k.metaRawOption.dimensions}}else _={seriesLayoutBy:Ab,sourceHeader:0,dimensions:g.dimensions};return iZ(g.data,_,null)})}function Ite(n){return n===kh||n===Ev}var b9="undefined",qze=typeof Uint32Array===b9?Array:Uint32Array,$ze=typeof Uint16Array===b9?Array:Uint16Array,Tge=typeof Int32Array===b9?Array:Int32Array,Oue=typeof Float64Array===b9?Array:Float64Array,Mge={float:Oue,int:Tge,ordinal:Array,number:Array,time:Oue},nJ;function jP(n){return n>65535?qze:$ze}function i3(){return[1/0,-1/0]}function Gze(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function Iue(n,e,t,r,i){var u=Mge[t||"float"];if(i){var l=n[e],f=l&&l.length;if(f!==r){for(var h=new u(r),g=0;g<f;g++)h[g]=l[g];n[e]=h}}else n[e]=new u(r)}var Xze=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=to()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),u=this.defaultDimValueGetter=nJ[i.sourceFormat];this._dimValueGetter=r||u,this._rawExtent=[],yge(i),this._dimensions=br(t,function(l){return{type:l.type,property:l.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,i=this._dimensions,u=r.get(e);if(u!=null){if(i[u].type===t)return u}else u=i.length;return i[u]={type:t},r.set(e,u),this._chunks[u]=new Mge[t||"float"](this._rawCount),this._rawExtent[u]=i3(),u},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],i=this._dimensions[e],u=this._rawExtent,l=i.ordinalOffset||0,f=r.length;l===0&&(u[e]=i3());for(var h=u[e],g=l;g<f;g++){var y=r[g]=t.parseAndCollect(r[g]);isNaN(y)||(h[0]=Math.min(y,h[0]),h[1]=Math.max(y,h[1]))}i.ordinalMeta=t,i.ordinalOffset=f,i.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],r=t.ordinalMeta;return r},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,i=this._dimensions,u=i.length,l=this._rawExtent,f=this.count(),h=f+Math.max(e.length,t||0),g=0;g<u;g++){var y=i[g];Iue(r,g,y.type,h,!0)}for(var b=[],S=f;S<h;S++)for(var _=S-f,k=0;k<u;k++){var y=i[k],A=nJ.arrayRows.call(this,e[_]||b,y.property,_,k);r[k][S]=A;var R=l[k];A<R[0]&&(R[0]=A),A>R[1]&&(R[1]=A)}return this._rawCount=this._count=h,{start:f,end:h}},n.prototype._initDataFromProvider=function(e,t,r){for(var i=this._provider,u=this._chunks,l=this._dimensions,f=l.length,h=this._rawExtent,g=br(l,function(z){return z.property}),y=0;y<f;y++){var b=l[y];h[y]||(h[y]=i3()),Iue(u,y,b.type,t,r)}if(i.fillStorage)i.fillStorage(e,t,u,h);else for(var S=[],_=e;_<t;_++){S=i.getItem(_,S);for(var k=0;k<f;k++){var A=u[k],R=this._dimValueGetter(S,g[k],_,k);A[_]=R;var I=h[k];R<I[0]&&(I[0]=R),R>I[1]&&(I[1]=R)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],i=[];if(t==null){t=e,e=[];for(var u=0;u<this._dimensions.length;u++)i.push(u)}else i=e;for(var u=0,l=i.length;u<l;u++)r.push(this.get(i[u],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],r=0;if(t)for(var i=0,u=this.count();i<u;i++){var l=this.get(e,i);isNaN(l)||(r+=l)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(u){isNaN(u)||t.push(u)});var r=t.sort(function(u,l){return u-l}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,u=this._count-1;i<=u;){var l=(i+u)/2|0;if(t[l]<e)i=l+1;else if(t[l]>e)u=l-1;else return l}return-1},n.prototype.indicesOfNearest=function(e,t,r){var i=this._chunks,u=i[e],l=[];if(!u)return l;r==null&&(r=1/0);for(var f=1/0,h=-1,g=0,y=0,b=this.count();y<b;y++){var S=this.getRawIndex(y),_=t-u[S],k=Math.abs(_);k<=r&&((k<f||k===f&&_>=0&&h<0)&&(f=k,h=_,g=0),_===h&&(l[g++]=y))}return l.length=g,l},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=t.constructor,i=this._count;if(r===Array){e=new r(i);for(var u=0;u<i;u++)e[u]=t[u]}else e=new r(t.buffer,0,i)}else{var r=jP(this._rawCount);e=new r(this.count());for(var u=0;u<e.length;u++)e[u]=u}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),u=jP(r._rawCount),l=new u(i),f=[],h=e.length,g=0,y=e[0],b=r._chunks,S=0;S<i;S++){var _=void 0,k=r.getRawIndex(S);if(h===0)_=t(S);else if(h===1){var A=b[y][k];_=t(A,S)}else{for(var R=0;R<h;R++)f[R]=b[e[R]][k];f[R]=S,_=t.apply(null,f)}_&&(l[g++]=k)}return g<i&&(r._indices=l),r._count=g,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var i=ga(e),u=i.length;if(!u)return this;var l=t.count(),f=jP(t._rawCount),h=new f(l),g=0,y=i[0],b=e[y][0],S=e[y][1],_=t._chunks,k=!1;if(!t._indices){var A=0;if(u===1){for(var R=_[i[0]],I=0;I<r;I++){var z=R[I];(z>=b&&z<=S||isNaN(z))&&(h[g++]=A),A++}k=!0}else if(u===2){for(var R=_[i[0]],L=_[i[1]],q=e[i[1]][0],X=e[i[1]][1],I=0;I<r;I++){var z=R[I],Y=L[I];(z>=b&&z<=S||isNaN(z))&&(Y>=q&&Y<=X||isNaN(Y))&&(h[g++]=A),A++}k=!0}}if(!k)if(u===1)for(var I=0;I<l;I++){var ae=t.getRawIndex(I),z=_[i[0]][ae];(z>=b&&z<=S||isNaN(z))&&(h[g++]=ae)}else for(var I=0;I<l;I++){for(var te=!0,ae=t.getRawIndex(I),ie=0;ie<u;ie++){var le=i[ie],z=_[le][ae];(z<e[le][0]||z>e[le][1])&&(te=!1)}te&&(h[g++]=t.getRawIndex(I))}return g<l&&(t._indices=h),t._count=g,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var i=e._chunks,u=[],l=t.length,f=e.count(),h=[],g=e._rawExtent,y=0;y<t.length;y++)g[t[y]]=i3();for(var b=0;b<f;b++){for(var S=e.getRawIndex(b),_=0;_<l;_++)h[_]=i[t[_]][S];h[l]=b;var k=r&&r.apply(null,h);if(k!=null){typeof k!="object"&&(u[0]=k,k=u);for(var y=0;y<k.length;y++){var A=t[y],R=k[y],I=g[A],z=i[A];z&&(z[S]=R),R<I[0]&&(I[0]=R),R>I[1]&&(I[1]=R)}}}},n.prototype.lttbDownSample=function(e,t){var r=this.clone([e],!0),i=r._chunks,u=i[e],l=this.count(),f=0,h=Math.floor(1/t),g=this.getRawIndex(0),y,b,S,_=new(jP(this._rawCount))(Math.min((Math.ceil(l/h)+2)*2,l));_[f++]=g;for(var k=1;k<l-1;k+=h){for(var A=Math.min(k+h,l-1),R=Math.min(k+h*2,l),I=(R+A)/2,z=0,L=A;L<R;L++){var q=this.getRawIndex(L),X=u[q];isNaN(X)||(z+=X)}z/=R-A;var Y=k,ae=Math.min(k+h,l),te=k-1,ie=u[g];y=-1,S=Y;for(var le=-1,ce=0,L=Y;L<ae;L++){var q=this.getRawIndex(L),X=u[q];if(isNaN(X)){ce++,le<0&&(le=q);continue}b=Math.abs((te-I)*(X-ie)-(te-L)*(z-ie)),b>y&&(y=b,S=q)}ce>0&&ce<ae-Y&&(_[f++]=Math.min(le,S),S=Math.max(le,S)),_[f++]=S,g=S}return _[f++]=this.getRawIndex(l-1),r._count=f,r._indices=_,r.getRawIndex=this._getRawIdx,r},n.prototype.downSample=function(e,t,r,i){for(var u=this.clone([e],!0),l=u._chunks,f=[],h=Math.floor(1/t),g=l[e],y=this.count(),b=u._rawExtent[e]=i3(),S=new(jP(this._rawCount))(Math.ceil(y/h)),_=0,k=0;k<y;k+=h){h>y-k&&(h=y-k,f.length=h);for(var A=0;A<h;A++){var R=this.getRawIndex(k+A);f[A]=g[R]}var I=r(f),z=this.getRawIndex(Math.min(k+i(f,I)||0,y-1));g[z]=I,I<b[0]&&(b[0]=I),I>b[1]&&(b[1]=I),S[_++]=z}return u._count=_,u._indices=S,u._updateGetRawIdx(),u},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,i=this._chunks,u=0,l=this.count();u<l;u++){var f=this.getRawIndex(u);switch(r){case 0:t(u);break;case 1:t(i[e[0]][f],u);break;case 2:t(i[e[0]][f],i[e[1]][f],u);break;default:for(var h=0,g=[];h<r;h++)g[h]=i[e[h]][f];g[h]=u,t.apply(null,g)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=i3();if(!t)return r;var i=this.count(),u=!this._indices,l;if(u)return this._rawExtent[e].slice();if(l=this._extent[e],l)return l.slice();l=r;for(var f=l[0],h=l[1],g=0;g<i;g++){var y=this.getRawIndex(g),b=t[y];b<f&&(f=b),b>h&&(h=b)}return l=[f,h],this._extent[e]=l,l},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,u=0;u<i.length;u++)r.push(i[u][t]);return r},n.prototype.clone=function(e,t){var r=new n,i=this._chunks,u=e&&Jm(e,function(f,h){return f[h]=!0,f},{});if(u)for(var l=0;l<i.length;l++)r._chunks[l]=u[l]?Gze(i[l]):i[l];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=vo(this._extent),e._rawExtent=vo(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,r,i,u){return SH(t[u],this._dimensions[u])}nJ={arrayRows:e,objectRows:function(t,r,i,u){return SH(t[r],this._dimensions[u])},keyedColumns:e,original:function(t,r,i,u){var l=t&&(t.value==null?t:t.value);return SH(l instanceof Array?l[u]:l,this._dimensions[u])},typedArray:function(t,r,i,u){return t[u]}}}(),n}();const aZ=Xze;var Yze=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length,i,u;if(MF(e)){var l=e,f=void 0,h=void 0,g=void 0;if(r){var y=t[0];y.prepareSource(),g=y.getSource(),f=g.data,h=g.sourceFormat,u=[y._getVersionSign()]}else f=l.get("data",!0),h=Mh(f)?X2:rg,u=[];var b=this._getSourceMetaRawOption()||{},S=g&&g.metaRawOption||{},_=Gi(b.seriesLayoutBy,S.seriesLayoutBy)||null,k=Gi(b.sourceHeader,S.sourceHeader),A=Gi(b.dimensions,S.dimensions),R=_!==S.seriesLayoutBy||!!k!=!!S.sourceHeader||A;i=R?[iZ(f,{seriesLayoutBy:_,sourceHeader:k,dimensions:A},h)]:[]}else{var I=e;if(r){var z=this._applyTransform(t);i=z.sourceList,u=z.upstreamSignList}else{var L=I.get("source",!0);i=[iZ(L,this._getSourceMetaRawOption(),null)],u=[]}}this._setLocalSource(i,u)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var u="";e.length!==1&&Rue(u)}var l,f=[],h=[];return Te(e,function(g){g.prepareSource();var y=g.getSource(i||0),b="";i!=null&&!y&&Rue(b),f.push(y),h.push(g._getVersionSign())}),r?l=Uze(r,f,{datasetIndex:t.componentIndex}):i!=null&&(l=[kze(f[0])]),{sourceList:l,upstreamSignList:h}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var i=0,u=this._storeList,l=u[i];l||(l=u[i]={});var f=l[r];if(!f){var h=this._getUpstreamSourceManagers()[0];MF(this._sourceHost)&&h?f=h._innerGetDataStore(e,t,r):(f=new aZ,f.initData(new bge(t,e.length),e)),l[r]=f}return f},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(MF(e)){var t=kte(e);return t?[t.getSourceManager()]:[]}else return br(ZBe(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,r,i;if(MF(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var u=e;t=u.get("seriesLayoutBy",!0),r=u.get("sourceHeader",!0),i=u.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},n}();function MF(n){return n.mainType==="series"}function Rue(n){throw new Error(n)}var kge="line-height:1";function Dge(n,e){var t=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",u=n.color||"#464646",l=n.fontSize||14,f=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+yh(r+"")+"px;color:"+yh(t)+";font-weight:"+yh(i+""),valueStyle:"font-size:"+yh(l+"")+"px;color:"+yh(u)+";font-weight:"+yh(f+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:l,fill:u,fontWeight:f}}}var Kze=[0,10,20,30],Jze=["",`
`,`

`,`


`];function vy(n,e){return e.type=n,e}function uZ(n){return n.type==="section"}function Age(n){return uZ(n)?Qze:Zze}function Ege(n){if(uZ(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return Te(n.blocks,function(i){var u=Ege(i);u>=e&&(e=u+ +(r&&(!u||uZ(i)&&!i.noHeader)))}),e}return 0}function Qze(n,e,t,r){var i=e.noHeader,u=e8e(Ege(e)),l=[],f=e.blocks||[];Ap(!f||sr(f)),f=f||[];var h=n.orderMode;if(e.sortBlocks&&h){f=f.slice();var g={valueAsc:"asc",valueDesc:"desc"};if(Zo(g,h)){var y=new Nze(g[h],null);f.sort(function(k,A){return y.evaluate(k.sortParam,A.sortParam)})}else h==="seriesDesc"&&f.reverse()}Te(f,function(k,A){var R=e.valueFormatter,I=Age(k)(R?Gn(Gn({},n),{valueFormatter:R}):n,k,A>0?u.html:0,r);I!=null&&l.push(I)});var b=n.renderMode==="richText"?l.join(u.richText):sZ(l.join(""),i?t:u.html);if(i)return b;var S=rZ(e.header,"ordinal",n.useUTC),_=Dge(r,n.renderMode).nameStyle;return n.renderMode==="richText"?Oge(n,S,_)+u.richText+b:sZ('<div style="'+_+";"+kge+';">'+yh(S)+"</div>"+b,t)}function Zze(n,e,t,r){var i=n.renderMode,u=e.noName,l=e.noValue,f=!e.markerType,h=e.name,g=n.useUTC,y=e.valueFormatter||n.valueFormatter||function(q){return q=sr(q)?q:[q],br(q,function(X,Y){return rZ(X,sr(_)?_[Y]:_,g)})};if(!(u&&l)){var b=f?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),S=u?"":rZ(h,"ordinal",g),_=e.valueType,k=l?[]:y(e.value),A=!f||!u,R=!f&&u,I=Dge(r,i),z=I.nameStyle,L=I.valueStyle;return i==="richText"?(f?"":b)+(u?"":Oge(n,S,z))+(l?"":r8e(n,k,A,R,L)):sZ((f?"":b)+(u?"":t8e(S,!f,z))+(l?"":n8e(k,A,R,L)),t)}}function Pue(n,e,t,r,i,u){if(n){var l=Age(n),f={useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter};return l(f,n,0,u)}}function e8e(n){return{html:Kze[n],richText:Jze[n]}}function sZ(n,e){var t='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+kge+';">'+n+t+"</div>"}function t8e(n,e,t){var r=e?"margin-left:2px":"";return'<span style="'+t+";"+r+'">'+yh(n)+"</span>"}function n8e(n,e,t,r){var i=t?"10px":"20px",u=e?"float:right;margin-left:"+i:"";return n=sr(n)?n:[n],'<span style="'+u+";"+r+'">'+br(n,function(l){return yh(l)}).join("&nbsp;&nbsp;")+"</span>"}function Oge(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function r8e(n,e,t,r,i){var u=[i],l=r?10:20;return t&&u.push({padding:[0,0,0,l],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(sr(e)?e.join("  "):e,u)}function Ige(n,e){var t=n.getData().getItemVisual(e,"style"),r=t[n.visualDrawType];return CM(r)}function Rge(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var rJ=function(){function n(){this.richTextStyles={},this._nextStyleNameId=Wpe()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var i=r==="richText"?this._generateStyleName():null,u=tge({color:t,type:e,renderMode:r,markerId:i});return Nr(u)?u:(this.richTextStyles[i]=u.style,u.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};sr(t)?Te(t,function(u){return Gn(r,u)}):Gn(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},n}();function o8e(n){var e=n.series,t=n.dataIndex,r=n.multipleSeries,i=e.getData(),u=i.mapDimensionsAll("defaultedTooltip"),l=u.length,f=e.getRawValue(t),h=sr(f),g=Ige(e,t),y,b,S,_;if(l>1||h&&!l){var k=i8e(f,e,t,u,g);y=k.inlineValues,b=k.inlineValueTypes,S=k.blocks,_=k.inlineValues[0]}else if(l){var A=i.getDimensionInfo(u[0]);_=y=J3(i,t,u[0]),b=A.type}else _=y=h?f[0]:f;var R=Qee(e),I=R&&e.name||"",z=i.getName(t),L=r?I:z;return vy("section",{header:I,noHeader:r||!R,sortParam:_,blocks:[vy("nameValue",{markerType:"item",markerColor:g,name:L,noName:!Ym(L),value:y,valueType:b})].concat(S||[])})}function i8e(n,e,t,r,i){var u=e.getData(),l=Jm(n,function(b,S,_){var k=u.getDimensionInfo(_);return b=b||k&&k.tooltip!==!1&&k.displayName!=null},!1),f=[],h=[],g=[];r.length?Te(r,function(b){y(J3(u,t,b),b)}):Te(n,y);function y(b,S){var _=u.getDimensionInfo(S);!_||_.otherDims.tooltip===!1||(l?g.push(vy("nameValue",{markerType:"subItem",markerColor:i,name:_.displayName,value:b,valueType:_.type})):(f.push(b),h.push(_.type)))}return{inlineValues:f,inlineValueTypes:h,blocks:g}}var b2=lu();function kF(n,e){return n.getName(e)||n.getId(e)}var a8e="__universalTransitionEnabled",x9=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=FN({count:s8e,reset:l8e}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var u=b2(this).sourceManager=new Yze(this);u.prepareSource();var l=this.getInitialData(t,i);Lue(l,this),this.dataTask.context.data=l,b2(this).dataBeforeProcessed=l,Nue(this),this._initSelectedMapFromData(l)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=uL(this),u=i?g5(t):{},l=this.subType;Vi.hasClass(l)&&(l+="Series"),Vo(t,r.getTheme().get(this.subType)),Vo(t,this.getDefaultOption()),nV(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&Q2(t,u,i)},e.prototype.mergeOption=function(t,r){t=Vo(this.option,t,!0),this.fillDataTextStyle(t.data);var i=uL(this);i&&Q2(this.option,t,i);var u=b2(this).sourceManager;u.dirty(),u.prepareSource();var l=this.getInitialData(t,r);Lue(l,this),this.dataTask.dirty(),this.dataTask.context.data=l,b2(this).dataBeforeProcessed=l,Nue(this),this._initSelectedMapFromData(l)},e.prototype.fillDataTextStyle=function(t){if(t&&!Mh(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&nV(t[i],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){var r=this.getRawData();r.appendData(t.data)},e.prototype.getData=function(t){var r=lZ(this);if(r){var i=r.context.data;return t==null?i:i.getLinkedData(t)}else return b2(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=lZ(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}b2(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return to(t)},e.prototype.getSourceManager=function(){return b2(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return b2(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,r,i){return o8e({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Li.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,i){var u=this.ecModel,l=Dte.prototype.getColorFromPalette.call(this,t,r,i);return l||(l=u.getColorFromPalette(t,r,i)),l},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var u=this.option.selectedMode,l=this.getData(r);if(u==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<t.length;f++){var h=t[f],g=kF(l,h);i[g]=!1,this._selectedDataIndicesMap[g]=-1}}},e.prototype.toggleSelect=function(t,r){for(var i=[],u=0;u<t.length;u++)i[0]=t[u],this.isSelected(t[u],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=ga(t),i=[],u=0;u<r.length;u++){var l=t[r[u]];l>=0&&i.push(l)}return i},e.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var u=this.getData(r);return(i==="all"||i[kF(u,t)])&&!u.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[a8e])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,r){var i,u,l=this.option,f=l.selectedMode,h=r.length;if(!(!f||!h)){if(f==="series")l.selectedMap="all";else if(f==="multiple"){no(l.selectedMap)||(l.selectedMap={});for(var g=l.selectedMap,y=0;y<h;y++){var b=r[y],S=kF(t,b);g[S]=!0,this._selectedDataIndicesMap[S]=t.getRawIndex(b)}}else if(f==="single"||f===!0){var _=r[h-1],S=kF(t,_);l.selectedMap=(i={},i[S]=!0,i),this._selectedDataIndicesMap=(u={},u[S]=t.getRawIndex(_),u)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var u=t.getRawDataItem(i);u&&u.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return Vi.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(Vi);cf(x9,Sge);cf(x9,Dte);Qpe(x9,Vi);function Nue(n){var e=n.name;Qee(n)||(n.name=u8e(n)||e)}function u8e(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return Te(t,function(i){var u=e.getDimensionInfo(i);u.displayName&&r.push(u.displayName)}),r.join(" ")}function s8e(n){return n.model.getRawData().count()}function l8e(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),c8e}function c8e(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Lue(n,e){Te(fpe(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,ji(f8e,e))})}function f8e(n,e){var t=lZ(n);return t&&t.setOutputEnd((e||this).count()),e}function lZ(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}const Dh=x9;var Rte=function(){function n(){this.group=new hi,this.uid=p5("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){},n.prototype.updateLayout=function(e,t,r,i){},n.prototype.updateVisual=function(e,t,r,i){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();ete(Rte);QV(Rte);const zs=Rte;function Pte(){var n=lu();return function(e){var t=n(e),r=e.pipelineContext,i=!!t.large,u=!!t.progressiveRender,l=t.large=!!(r&&r.large),f=t.progressiveRender=!!(r&&r.progressiveRender);return(i!==l||u!==f)&&"reset"}}var Pge=lu(),d8e=Pte(),Nte=function(){function n(){this.group=new hi,this.uid=p5("viewChart"),this.renderTask=FN({plan:h8e,reset:p8e}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.highlight=function(e,t,r,i){var u=e.getData(i&&i.dataType);u&&zue(u,i,"emphasis")},n.prototype.downplay=function(e,t,r,i){var u=e.getData(i&&i.dataType);u&&zue(u,i,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateLayout=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.eachRendered=function(e){l9(this.group,e)},n.markUpdateMethod=function(e,t){Pge(e).updateMethod=t},n.protoInitialize=function(){var e=n.prototype;e.type="chart"}(),n}();function Bue(n,e,t){n&&QQ(n)&&(e==="emphasis"?X3:Y3)(n,t)}function zue(n,e,t){var r=_M(n,e),i=e&&e.highlightKey!=null?N6e(e.highlightKey):null;r!=null?Te(Bs(r),function(u){Bue(n.getItemGraphicEl(u),t,i)}):n.eachItemGraphicEl(function(u){Bue(u,t,i)})}ete(Nte);QV(Nte);function h8e(n){return d8e(n.model)}function p8e(n){var e=n.model,t=n.ecModel,r=n.api,i=n.payload,u=e.pipelineContext.progressiveRender,l=n.view,f=i&&Pge(i).updateMethod,h=u?"incrementalPrepareRender":f&&l[f]?f:"render";return h!=="render"&&l[h](e,t,r,i),m8e[h]}var m8e={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const uf=Nte;var cV="\0__throttleOriginMethod",Fue="\0__throttleRate",Hue="\0__throttleType";function w9(n,e,t){var r,i=0,u=0,l=null,f,h,g,y;e=e||0;function b(){u=new Date().getTime(),l=null,n.apply(h,g||[])}var S=function(){for(var _=[],k=0;k<arguments.length;k++)_[k]=arguments[k];r=new Date().getTime(),h=this,g=_;var A=y||e,R=y||t;y=null,f=r-(R?i:u)-A,clearTimeout(l),R?l=setTimeout(b,A):f>=0?b():l=setTimeout(b,-f),i=r};return S.clear=function(){l&&(clearTimeout(l),l=null)},S.debounceNextCall=function(_){y=_},S}function FL(n,e,t,r){var i=n[e];if(i){var u=i[cV]||i,l=i[Hue],f=i[Fue];if(f!==t||l!==r){if(t==null||!r)return n[e]=u;i=n[e]=w9(u,t,r==="debounce"),i[cV]=u,i[Hue]=r,i[Fue]=t}return i}}function lL(n,e){var t=n[e];t&&t[cV]&&(t.clear&&t.clear(),n[e]=t[cV])}var Vue=lu(),jue={itemStyle:G3(qme,!0),lineStyle:G3(Wme,!0)},g8e={lineStyle:"stroke",itemStyle:"fill"};function Nge(n,e){var t=n.visualStyleMapper||jue[e];return t||(console.warn("Unknown style type '"+e+"'."),jue.itemStyle)}function Lge(n,e){var t=n.visualDrawType||g8e[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var v8e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),u=Nge(n,r),l=u(i),f=i.getShallow("decal");f&&(t.setVisual("decal",f),f.dirty=!0);var h=Lge(n,r),g=l[h],y=Eo(g)?g:null,b=l.fill==="auto"||l.stroke==="auto";if(!l[h]||y||b){var S=n.getColorFromPalette(n.name,null,e.getSeriesCount());l[h]||(l[h]=S,t.setVisual("colorFromPalette",!0)),l.fill=l.fill==="auto"||Eo(l.fill)?S:l.fill,l.stroke=l.stroke==="auto"||Eo(l.stroke)?S:l.stroke}if(t.setVisual("style",l),t.setVisual("drawType",h),!e.isSeriesFiltered(n)&&y)return t.setVisual("colorFromPalette",!1),{dataEach:function(_,k){var A=n.getDataParams(k),R=Gn({},l);R[h]=y(A),_.setItemVisual(k,"style",R)}}}},UP=new xs,y8e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=Nge(n,r),u=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(l,f){var h=l.getRawDataItem(f);if(h&&h[r]){UP.option=h[r];var g=i(UP),y=l.ensureUniqueItemVisual(f,"style");Gn(y,g),UP.option.decal&&(l.setItemVisual(f,"decal",UP.option.decal),UP.option.decal.dirty=!0),u in g&&l.setItemVisual(f,"colorFromPalette",!1)}}:null}}}},b8e={performRawSeries:!0,overallReset:function(n){var e=to();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,u=e.get(i);u||(u={},e.set(i,u)),Vue(t).scope=u}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var r=t.getRawData(),i={},u=t.getData(),l=Vue(t).scope,f=t.visualStyleAccessPath||"itemStyle",h=Lge(t,f);u.each(function(g){var y=u.getRawIndex(g);i[y]=g}),r.each(function(g){var y=i[g],b=u.getItemVisual(y,"colorFromPalette");if(b){var S=u.ensureUniqueItemVisual(y,"style"),_=r.getName(g)||g+"",k=r.count();S[h]=t.getColorFromPalette(_,l,k)}})}})}},DF=Math.PI;function x8e(n,e){e=e||{},Co(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new hi,r=new va({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var i=new ya({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),u=new va({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(u);var l;return e.showSpinner&&(l=new i9({shape:{startAngle:-DF/2,endAngle:-DF/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),l.animateShape(!0).when(1e3,{endAngle:DF*3/2}).start("circularInOut"),l.animateShape(!0).when(1e3,{startAngle:DF*3/2}).delay(300).start("circularInOut"),t.add(l)),t.resize=function(){var f=i.getBoundingRect().width,h=e.showSpinner?e.spinnerRadius:0,g=(n.getWidth()-h*2-(e.showSpinner&&f?10:0)-f)/2-(e.showSpinner&&f?0:5+f/2)+(e.showSpinner?0:f/2)+(f?0:h),y=n.getHeight()/2;e.showSpinner&&l.setShape({cx:g,cy:y}),u.setShape({x:g-h,y:y-h,width:h*2,height:h*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var w8e=function(){function n(e,t,r,i){this._stageTaskMap=to(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,u=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,l=u?r.step:null,f=i&&i.modDataCount,h=f!=null?Math.ceil(f/l):null;return{step:l,modBy:h,modDataCount:f}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),i=e.getData(),u=i.count(),l=r.progressiveEnabled&&t.incrementalPrepareRender&&u>=r.threshold,f=e.get("large")&&u>=e.get("largeThreshold"),h=e.get("progressiveChunkMode")==="mod"?u:null;e.pipelineContext=r.context={progressiveRender:l,modDataCount:h,large:f}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=to();e.eachSeries(function(i){var u=i.getProgressive(),l=i.uid;r.set(l,{id:l,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:u&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(u||700),count:0}),t._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;Te(this._allHandlers,function(i){var u=e.get(i.uid)||e.set(i.uid,{}),l="";Ap(!(i.reset&&i.overallReset),l),i.reset&&this._createSeriesStageTask(i,u,t,r),i.overallReset&&this._createOverallStageTask(i,u,t,r)},this)},n.prototype.prepareView=function(e,t,r,i){var u=e.renderTask,l=u.context;l.model=t,l.ecModel=r,l.api=i,u.__block=!e.incrementalPrepareRender,this._pipe(t,u)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,i){i=i||{};var u=!1,l=this;Te(e,function(h,g){if(!(i.visualType&&i.visualType!==h.visualType)){var y=l._stageTaskMap.get(h.uid),b=y.seriesTaskMap,S=y.overallTask;if(S){var _,k=S.agentStubMap;k.each(function(R){f(i,R)&&(R.dirty(),_=!0)}),_&&S.dirty(),l.updatePayload(S,r);var A=l.getPerformArgs(S,i.block);k.each(function(R){R.perform(A)}),S.perform(A)&&(u=!0)}else b&&b.each(function(R,I){f(i,R)&&R.dirty();var z=l.getPerformArgs(R,i.block);z.skip=!h.performRawSeries&&t.isSeriesFiltered(R.context.model),l.updatePayload(R,r),R.perform(z)&&(u=!0)})}});function f(h,g){return h.setDirty&&(!h.dirtyMap||h.dirtyMap.get(g.__pipeline.id))}this.unfinished=u||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,i){var u=this,l=t.seriesTaskMap,f=t.seriesTaskMap=to(),h=e.seriesType,g=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(y):h?r.eachRawSeriesByType(h,y):g&&g(r,i).each(y);function y(b){var S=b.uid,_=f.set(S,l&&l.get(S)||FN({plan:M8e,reset:k8e,count:A8e}));_.context={model:b,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:u},u._pipe(b,_)}},n.prototype._createOverallStageTask=function(e,t,r,i){var u=this,l=t.overallTask=t.overallTask||FN({reset:_8e});l.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:u};var f=l.agentStubMap,h=l.agentStubMap=to(),g=e.seriesType,y=e.getTargetSeries,b=!0,S=!1,_="";Ap(!e.createOnAllSeries,_),g?r.eachRawSeriesByType(g,k):y?y(r,i).each(k):(b=!1,Te(r.getSeries(),k));function k(A){var R=A.uid,I=h.set(R,f&&f.get(R)||(S=!0,FN({reset:S8e,onDirty:T8e})));I.context={model:A,overallProgress:b},I.agent=l,I.__block=b,u._pipe(A,I)}S&&l.dirty()},n.prototype._pipe=function(e,t){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},n.wrapStageHandler=function(e,t){return Eo(e)&&(e={overallReset:e,seriesType:E8e(e)}),e.uid=p5("stageHandler"),t&&(e.visualType=t),e},n}();function _8e(n){n.overallReset(n.ecModel,n.api,n.payload)}function S8e(n){return n.overallProgress&&C8e}function C8e(){this.agent.dirty(),this.getDownstream().dirty()}function T8e(){this.agent&&this.agent.dirty()}function M8e(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function k8e(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Bs(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?br(e,function(t,r){return Bge(r)}):D8e}var D8e=Bge(0);function Bge(n){return function(e,t){var r=t.data,i=t.resetDefines[n];if(i&&i.dataEach)for(var u=e.start;u<e.end;u++)i.dataEach(r,u);else i&&i.progress&&i.progress(e,r)}}function A8e(n){return n.data.count()}function E8e(n){fV=null;try{n(cL,zge)}catch{}return fV}var cL={},zge={},fV;Fge(cL,hge);Fge(zge,pge);cL.eachSeriesByType=cL.eachRawSeriesByType=function(n){fV=n};cL.eachComponent=function(n){n.mainType==="series"&&n.subType&&(fV=n.subType)};function Fge(n,e){for(var t in e.prototype)n[t]=af}const Hge=w8e;var Uue=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const O8e={color:Uue,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Uue]};var Td="#B9B8CE",Wue="#100C2A",AF=function(){return{axisLine:{lineStyle:{color:Td}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},que=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Vge={darkMode:!0,color:que,backgroundColor:Wue,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Td}},textStyle:{color:Td},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Td}},dataZoom:{borderColor:"#71708A",textStyle:{color:Td},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Td}},timeline:{lineStyle:{color:Td},label:{color:Td},controlStyle:{color:Td,borderColor:Td}},calendar:{itemStyle:{color:Wue},dayLabel:{color:Td},monthLabel:{color:Td},yearLabel:{color:Td}},timeAxis:AF(),logAxis:AF(),valueAxis:AF(),categoryAxis:AF(),line:{symbol:"circle"},graph:{color:que},gauge:{title:{color:Td},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Td},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Vge.categoryAxis.splitLine.show=!1;const I8e=Vge;var R8e=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},i={};if(Nr(e)){var u=ly(e);t.mainType=u.main||null,t.subType=u.sub||null}else{var l=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};Te(e,function(h,g){for(var y=!1,b=0;b<l.length;b++){var S=l[b],_=g.lastIndexOf(S);if(_>0&&_===g.length-S.length){var k=g.slice(0,_);k!=="data"&&(t.mainType=k,t[S.toLowerCase()]=h,y=!0)}}f.hasOwnProperty(g)&&(r[g]=h,y=!0),y||(i[g]=h)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,u=r.packedEvent,l=r.model,f=r.view;if(!l||!f)return!0;var h=t.cptQuery,g=t.dataQuery;return y(h,l,"mainType")&&y(h,l,"subType")&&y(h,l,"index","componentIndex")&&y(h,l,"name")&&y(h,l,"id")&&y(g,u,"name")&&y(g,u,"dataIndex")&&y(g,u,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(e,t.otherQuery,i,u));function y(b,S,_,k){return b[_]==null||S[k||_]===b[_]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),cZ=["symbol","symbolSize","symbolRotate","symbolOffset"],$ue=cZ.concat(["symbolKeepAspect"]),P8e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},i={},u=!1,l=0;l<cZ.length;l++){var f=cZ[l],h=n.get(f);Eo(h)?(u=!0,i[f]=h):r[f]=h}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(Gn({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),e.isSeriesFiltered(n))return;var g=ga(i);function y(b,S){for(var _=n.getRawValue(S),k=n.getDataParams(S),A=0;A<g.length;A++){var R=g[A];b.setItemVisual(S,R,i[R](_,k))}}return{dataEach:u?y:null}}},N8e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function r(i,u){for(var l=i.getItemModel(u),f=0;f<$ue.length;f++){var h=$ue[f],g=l.getShallow(h,!0);g!=null&&i.setItemVisual(u,h,g)}}return{dataEach:t.hasItemOption?r:null}}};function jge(n,e,t){switch(t){case"color":var r=n.getItemVisual(e,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function Uge(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function L8e(n,e,t,r){switch(t){case"color":var i=n.ensureUniqueItemVisual(e,"style");i[n.getVisual("drawType")]=r,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,r);break}}function Wge(n,e){function t(r,i){var u=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(l){u.push(l.seriesIndex)}),u}Te([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(i,u,l){i=Gn({},i),l.dispatchAction(Gn(i,{type:r[1],seriesIndex:t(u,i)}))})})}function a3(n,e,t,r,i){var u=n+e;t.isSilent(u)||r.eachComponent({mainType:"series",subType:"pie"},function(l){for(var f=l.seriesIndex,h=l.option.selectedMap,g=i.selected,y=0;y<g.length;y++)if(g[y].seriesIndex===f){var b=l.getData(),S=_M(b,i.fromActionPayload);t.trigger(u,{type:u,seriesId:l.id,name:sr(S)?b.getName(S[0]):b.getName(S),selected:Nr(h)?h:Gn({},h)})}})}function B8e(n,e,t){n.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(a3("map","selectchanged",e,i,r),a3("pie","selectchanged",e,i,r)):r.fromAction==="select"?(a3("map","selected",e,i,r),a3("pie","selected",e,i,r)):r.fromAction==="unselect"&&(a3("map","unselected",e,i,r),a3("pie","unselected",e,i,r))})}function aM(n,e,t){for(var r;n&&!(e(n)&&(r=n,t));)n=n.__hostTarget||n.parent;return r}var z8e=Math.round(Math.random()*9),F8e=typeof Object.defineProperty=="function",H8e=function(){function n(){this._id="__ec_inner_"+z8e++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return F8e?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const V8e=H8e;var j8e=Va.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,u=e.height/2;n.moveTo(t,r-u),n.lineTo(t+i,r+u),n.lineTo(t-i,r+u),n.closePath()}}),U8e=Va.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,u=e.height/2;n.moveTo(t,r-u),n.lineTo(t+i,r),n.lineTo(t,r+u),n.lineTo(t-i,r),n.closePath()}}),W8e=Va.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,i=e.width/5*3,u=Math.max(i,e.height),l=i/2,f=l*l/(u-l),h=r-u+l+f,g=Math.asin(f/l),y=Math.cos(g)*l,b=Math.sin(g),S=Math.cos(g),_=l*.6,k=l*.7;n.moveTo(t-y,h+f),n.arc(t,h,l,Math.PI-g,Math.PI*2+g),n.bezierCurveTo(t+y-b*_,h+f+S*_,t,r-k,t,r),n.bezierCurveTo(t,r-k,t-y+b*_,h+f+S*_,t-y,h+f),n.closePath()}}),q8e=Va.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.width,i=e.x,u=e.y,l=r/3*2;n.moveTo(i,u),n.lineTo(i+l,u+t),n.lineTo(i,u+t/4*3),n.lineTo(i-l,u+t),n.lineTo(i,u),n.closePath()}}),$8e={line:Od,rect:va,roundRect:va,square:va,circle:Av,diamond:U8e,pin:W8e,arrow:q8e,triangle:j8e},G8e={line:function(n,e,t,r,i){i.x1=n,i.y1=e+r/2,i.x2=n+t,i.y2=e+r/2},rect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r},roundRect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(n,e,t,r,i){var u=Math.min(t,r);i.x=n,i.y=e,i.width=u,i.height=u},circle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.r=Math.min(t,r)/2},diamond:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r},pin:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},arrow:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},triangle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r}},dV={};Te($8e,function(n,e){dV[e]=new n});var X8e=Va.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=tV(n,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=t.y+t.height*.4),r},buildPath:function(n,e,t){var r=e.symbolType;if(r!=="none"){var i=dV[r];i||(r="rect",i=dV[r]),G8e[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(n,i.shape,t)}}});function Y8e(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function sf(n,e,t,r,i,u,l){var f=n.indexOf("empty")===0;f&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var h;return n.indexOf("image://")===0?h=hte(n.slice(8),new vi(e,t,r,i),l?"center":"cover"):n.indexOf("path://")===0?h=a9(n.slice(7),{},new vi(e,t,r,i),l?"center":"cover"):h=new X8e({shape:{symbolType:n,x:e,y:t,width:r,height:i}}),h.__isEmptyBrush=f,h.setColor=Y8e,u&&h.setColor(u),h}function Lte(n){return sr(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function _9(n,e){if(n!=null)return sr(n)||(n=[n,n]),[Xo(n[0],e[0])||0,Xo(Gi(n[1],n[0]),e[1])||0]}function uM(n){return isFinite(n)}function K8e(n,e,t){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,u=e.y==null?0:e.y,l=e.y2==null?0:e.y2;e.global||(r=r*t.width+t.x,i=i*t.width+t.x,u=u*t.height+t.y,l=l*t.height+t.y),r=uM(r)?r:0,i=uM(i)?i:1,u=uM(u)?u:0,l=uM(l)?l:0;var f=n.createLinearGradient(r,u,i,l);return f}function J8e(n,e,t){var r=t.width,i=t.height,u=Math.min(r,i),l=e.x==null?.5:e.x,f=e.y==null?.5:e.y,h=e.r==null?.5:e.r;e.global||(l=l*r+t.x,f=f*i+t.y,h=h*u),l=uM(l)?l:.5,f=uM(f)?f:.5,h=h>=0&&uM(h)?h:.5;var g=n.createRadialGradient(l,f,0,l,f,h);return g}function fZ(n,e,t){for(var r=e.type==="radial"?J8e(n,e,t):K8e(n,e,t),i=e.colorStops,u=0;u<i.length;u++)r.addColorStop(i[u].offset,i[u].color);return r}function Q8e(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function EF(n){return parseInt(n,10)}function OF(n,e,t){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],u=["paddingLeft","paddingTop"][e],l=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var f=document.defaultView.getComputedStyle(n);return(n[i]||EF(f[r])||EF(n.style[r]))-(EF(f[u])||0)-(EF(f[l])||0)|0}function Z8e(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:su(n)?[n]:sr(n)?n:null}function qge(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&Z8e(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var i=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&i!==1&&(t=br(t,function(u){return u/i}),r/=i)}return[t,r]}var e7e=new SM(!0);function hV(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function Gue(n){return typeof n=="string"&&n!=="none"}function pV(n){var e=n.fill;return e!=null&&e!=="none"}function Xue(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function Yue(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function dZ(n,e,t){var r=Zpe(e.image,e.__image,t);if(ZV(r)){var i=n.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var u=new DOMMatrix;u.translateSelf(e.x||0,e.y||0),u.rotateSelf(0,0,(e.rotation||0)*dpe),u.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(u)}return i}}function t7e(n,e,t,r){var i,u=hV(t),l=pV(t),f=t.strokePercent,h=f<1,g=!e.path;(!e.silent||h)&&g&&e.createPathProxy();var y=e.path||e7e,b=e.__dirty;if(!r){var S=t.fill,_=t.stroke,k=l&&!!S.colorStops,A=u&&!!_.colorStops,R=l&&!!S.image,I=u&&!!_.image,z=void 0,L=void 0,q=void 0,X=void 0,Y=void 0;(k||A)&&(Y=e.getBoundingRect()),k&&(z=b?fZ(n,S,Y):e.__canvasFillGradient,e.__canvasFillGradient=z),A&&(L=b?fZ(n,_,Y):e.__canvasStrokeGradient,e.__canvasStrokeGradient=L),R&&(q=b||!e.__canvasFillPattern?dZ(n,S,e):e.__canvasFillPattern,e.__canvasFillPattern=q),I&&(X=b||!e.__canvasStrokePattern?dZ(n,_,e):e.__canvasStrokePattern,e.__canvasStrokePattern=q),k?n.fillStyle=z:R&&(q?n.fillStyle=q:l=!1),A?n.strokeStyle=L:I&&(X?n.strokeStyle=X:u=!1)}var ae=e.getGlobalScale();y.setScale(ae[0],ae[1],e.segmentIgnoreThreshold);var te,ie;n.setLineDash&&t.lineDash&&(i=qge(e),te=i[0],ie=i[1]);var le=!0;(g||b&v3)&&(y.setDPR(n.dpr),h?y.setContext(null):(y.setContext(n),le=!1),y.reset(),e.buildPath(y,e.shape,r),y.toStatic(),e.pathUpdated()),le&&y.rebuildPath(n,h?f:1),te&&(n.setLineDash(te),n.lineDashOffset=ie),r||(t.strokeFirst?(u&&Yue(n,t),l&&Xue(n,t)):(l&&Xue(n,t),u&&Yue(n,t))),te&&n.setLineDash([])}function n7e(n,e,t){var r=e.__image=Zpe(t.image,e.__image,e,e.onload);if(!(!r||!ZV(r))){var i=t.x||0,u=t.y||0,l=e.getWidth(),f=e.getHeight(),h=r.width/r.height;if(l==null&&f!=null?l=f*h:f==null&&l!=null?f=l/h:l==null&&f==null&&(l=r.width,f=r.height),t.sWidth&&t.sHeight){var g=t.sx||0,y=t.sy||0;n.drawImage(r,g,y,t.sWidth,t.sHeight,i,u,l,f)}else if(t.sx&&t.sy){var g=t.sx,y=t.sy,b=l-g,S=f-y;n.drawImage(r,g,y,b,S,i,u,l,f)}else n.drawImage(r,i,u,l,f)}}function r7e(n,e,t){var r,i=t.text;if(i!=null&&(i+=""),i){n.font=t.font||wM,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var u=void 0,l=void 0;n.setLineDash&&t.lineDash&&(r=qge(e),u=r[0],l=r[1]),u&&(n.setLineDash(u),n.lineDashOffset=l),t.strokeFirst?(hV(t)&&n.strokeText(i,t.x,t.y),pV(t)&&n.fillText(i,t.x,t.y)):(pV(t)&&n.fillText(i,t.x,t.y),hV(t)&&n.strokeText(i,t.x,t.y)),u&&n.setLineDash([])}}var Kue=["shadowBlur","shadowOffsetX","shadowOffsetY"],Jue=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function $ge(n,e,t,r,i){var u=!1;if(!r&&(t=t||{},e===t))return!1;if(r||e.opacity!==t.opacity){xh(n,i),u=!0;var l=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(l)?hM.opacity:l}(r||e.blend!==t.blend)&&(u||(xh(n,i),u=!0),n.globalCompositeOperation=e.blend||hM.blend);for(var f=0;f<Kue.length;f++){var h=Kue[f];(r||e[h]!==t[h])&&(u||(xh(n,i),u=!0),n[h]=n.dpr*(e[h]||0))}return(r||e.shadowColor!==t.shadowColor)&&(u||(xh(n,i),u=!0),n.shadowColor=e.shadowColor||hM.shadowColor),u}function Que(n,e,t,r,i){var u=fL(e,i.inHover),l=r?null:t&&fL(t,i.inHover)||{};if(u===l)return!1;var f=$ge(n,u,l,r,i);if((r||u.fill!==l.fill)&&(f||(xh(n,i),f=!0),Gue(u.fill)&&(n.fillStyle=u.fill)),(r||u.stroke!==l.stroke)&&(f||(xh(n,i),f=!0),Gue(u.stroke)&&(n.strokeStyle=u.stroke)),(r||u.opacity!==l.opacity)&&(f||(xh(n,i),f=!0),n.globalAlpha=u.opacity==null?1:u.opacity),e.hasStroke()){var h=u.lineWidth,g=h/(u.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==g&&(f||(xh(n,i),f=!0),n.lineWidth=g)}for(var y=0;y<Jue.length;y++){var b=Jue[y],S=b[0];(r||u[S]!==l[S])&&(f||(xh(n,i),f=!0),n[S]=u[S]||b[1])}return f}function o7e(n,e,t,r,i){return $ge(n,fL(e,i.inHover),t&&fL(t,i.inHover),r,i)}function Gge(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}function i7e(n,e,t){for(var r=!1,i=0;i<n.length;i++){var u=n[i];r=r||u.isZeroArea(),Gge(e,u),e.beginPath(),u.buildPath(e,u.shape),e.clip()}t.allClipped=r}function a7e(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var Zue=1,ese=2,tse=3,nse=4;function u7e(n){var e=pV(n),t=hV(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function xh(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function fL(n,e){return e&&n.__hoverStyle||n.style}function Bte(n,e){sM(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function sM(n,e,t,r){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~Cp,e.__isRendered=!1;return}var u=e.__clipPaths,l=t.prevElClipPaths,f=!1,h=!1;if((!l||Q8e(u,l))&&(l&&l.length&&(xh(n,t),n.restore(),h=f=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),u&&u.length&&(xh(n,t),n.save(),i7e(u,n,t),f=!0),t.prevElClipPaths=u),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var g=t.prevEl;g||(h=f=!0);var y=e instanceof Va&&e.autoBatch&&u7e(e.style);f||a7e(i,g.transform)?(xh(n,t),Gge(n,e)):y||xh(n,t);var b=fL(e,t.inHover);e instanceof Va?(t.lastDrawType!==Zue&&(h=!0,t.lastDrawType=Zue),Que(n,e,g,h,t),(!y||!t.batchFill&&!t.batchStroke)&&n.beginPath(),t7e(n,e,b,y),y&&(t.batchFill=b.fill||"",t.batchStroke=b.stroke||"")):e instanceof rV?(t.lastDrawType!==tse&&(h=!0,t.lastDrawType=tse),Que(n,e,g,h,t),r7e(n,e,b)):e instanceof Ip?(t.lastDrawType!==ese&&(h=!0,t.lastDrawType=ese),o7e(n,e,g,h,t),n7e(n,e,b)):e.getTemporalDisplayables&&(t.lastDrawType!==nse&&(h=!0,t.lastDrawType=nse),s7e(n,e,t)),y&&r&&xh(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function s7e(n,e,t){var r=e.getDisplayables(),i=e.getTemporalDisplayables();n.save();var u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},l,f;for(l=e.getCursor(),f=r.length;l<f;l++){var h=r[l];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),sM(n,h,u,l===f-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),u.prevEl=h}for(var g=0,y=i.length;g<y;g++){var h=i[g];h.beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),sM(n,h,u,g===y-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),u.prevEl=h}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var oJ=new V8e,rse=new RL(100),ose=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function mV(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";n.dirty&&oJ.delete(n);var u=oJ.get(n);if(u)return u;var l=Co(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});l.backgroundColor==="none"&&(l.backgroundColor=null);var f={repeat:"repeat"};return h(f),f.rotation=l.rotation,f.scaleX=f.scaleY=i?1:1/t,oJ.set(n,f),n.dirty=!1,f;function h(g){for(var y=[t],b=!0,S=0;S<ose.length;++S){var _=l[ose[S]];if(_!=null&&!sr(_)&&!Nr(_)&&!su(_)&&typeof _!="boolean"){b=!1;break}y.push(_)}var k;if(b){k=y.join(",")+(i?"-svg":"");var A=rse.get(k);A&&(i?g.svgElement=A:g.image=A)}var R=Yge(l.dashArrayX),I=l7e(l.dashArrayY),z=Xge(l.symbol),L=c7e(R),q=Kge(I),X=!i&&Ib.createCanvas(),Y=i&&{tag:"g",attrs:{},key:"dcl",children:[]},ae=ie(),te;X&&(X.width=ae.width*t,X.height=ae.height*t,te=X.getContext("2d")),le(),b&&rse.put(k,X||Y),g.image=X,g.svgElement=Y,g.svgWidth=ae.width,g.svgHeight=ae.height;function ie(){for(var ce=1,ne=0,Q=L.length;ne<Q;++ne)ce=gae(ce,L[ne]);for(var Ce=1,ne=0,Q=z.length;ne<Q;++ne)Ce=gae(Ce,z[ne].length);ce*=Ce;var ze=q*L.length*z.length;return{width:Math.max(1,Math.min(ce,l.maxTileWidth)),height:Math.max(1,Math.min(ze,l.maxTileHeight))}}function le(){te&&(te.clearRect(0,0,X.width,X.height),l.backgroundColor&&(te.fillStyle=l.backgroundColor,te.fillRect(0,0,X.width,X.height)));for(var ce=0,ne=0;ne<I.length;++ne)ce+=I[ne];if(ce<=0)return;for(var Q=-q,Ce=0,ze=0,ke=0;Q<ae.height;){if(Ce%2===0){for(var St=ze/2%z.length,tt=0,G=0,We=0;tt<ae.width*2;){for(var Ge=0,ne=0;ne<R[ke].length;++ne)Ge+=R[ke][ne];if(Ge<=0)break;if(G%2===0){var pt=(1-l.symbolSize)*.5,Ze=tt+R[ke][G]*pt,kt=Q+I[Ce]*pt,Ot=R[ke][G]*l.symbolSize,Nt=I[Ce]*l.symbolSize,fe=We/2%z[St].length;Yt(Ze,kt,Ot,Nt,z[St][fe])}tt+=R[ke][G],++We,++G,G===R[ke].length&&(G=0)}++ke,ke===R.length&&(ke=0)}Q+=I[Ce],++ze,++Ce,Ce===I.length&&(Ce=0)}function Yt(Ye,je,bt,qe,Je){var st=i?1:t,Ft=sf(Je,Ye*st,je*st,bt*st,qe*st,l.color,l.symbolKeepAspect);if(i){var Ct=r.painter.renderOneToVNode(Ft);Ct&&Y.children.push(Ct)}else Bte(te,Ft)}}}}function Xge(n){if(!n||n.length===0)return[["rect"]];if(Nr(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!Nr(n[t])){e=!1;break}if(e)return Xge([n]);for(var r=[],t=0;t<n.length;++t)Nr(n[t])?r.push([n[t]]):r.push(n[t]);return r}function Yge(n){if(!n||n.length===0)return[[0,0]];if(su(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,r=0;r<n.length;++r)if(!su(n[r])){t=!1;break}if(t)return Yge([n]);for(var i=[],r=0;r<n.length;++r)if(su(n[r])){var e=Math.ceil(n[r]);i.push([e,e])}else{var e=br(n[r],function(f){return Math.ceil(f)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function l7e(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(su(n)){var e=Math.ceil(n);return[e,e]}var t=br(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}function c7e(n){return br(n,function(e){return Kge(e)})}function Kge(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function f7e(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(l){var f=r.getItemVisual(l,"decal");if(f){var h=r.ensureUniqueItemVisual(l,"style");h.decal=mV(f,e)}});var i=r.getVisual("decal");if(i){var u=r.getVisual("style");u.decal=mV(i,e)}}})}var d7e=new eg;const xv=d7e;var Jge={};function h7e(n,e){Jge[n]=e}function Qge(n){return Jge[n]}var p7e="5.4.3",m7e={zrender:"5.4.4"},g7e=1,v7e=800,y7e=900,b7e=1e3,x7e=2e3,w7e=5e3,Zge=1e3,_7e=1100,zte=2e3,eve=3e3,S7e=4e3,S9=4500,C7e=4600,T7e=5e3,M7e=6e3,tve=7e3,nve={PROCESSOR:{FILTER:b7e,SERIES_FILTER:v7e,STATISTIC:w7e},VISUAL:{LAYOUT:Zge,PROGRESSIVE_LAYOUT:_7e,GLOBAL:zte,CHART:eve,POST_CHART_LAYOUT:C7e,COMPONENT:S7e,BRUSH:T7e,CHART_ITEM:S9,ARIA:M7e,DECAL:tve}},Vf="__flagInMainProcess",vh="__pendingUpdate",iJ="__needsUpdateStatus",ise=/^[a-zA-Z0-9_]+$/,aJ="__connectUpdateStatus",ase=0,k7e=1,D7e=2;function rve(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return ive(this,n,e)}}function ove(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ive(this,n,e)}}function ive(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),eg.prototype[e].apply(n,t)}var ave=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(eg),uve=ave.prototype;uve.on=ove("on");uve.off=ove("off");var u3,uJ,IF,x2,sJ,lJ,cJ,WP,qP,use,sse,fJ,lse,RF,cse,sve,Pm,fse,gV=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,new R8e)||this;u._chartsViews=[],u._chartsMap={},u._componentsViews=[],u._componentsMap={},u._pendingActions=[],i=i||{},Nr(r)&&(r=lve[r]),u._dom=t;var l="canvas",f="auto",h=!1,g=u._zr=WQ(t,{renderer:i.renderer||l,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Gi(i.useDirtyRect,h),useCoarsePointer:Gi(i.useCoarsePointer,f),pointerSize:i.pointerSize});u._ssr=i.ssr,u._throttledZrFlush=w9(Ur(g.flush,g),17),r=vo(r),r&&gge(r,!0),u._theme=r,u._locale=BBe(i.locale||$me),u._coordSysMgr=new v9;var y=u._api=cse(u);function b(S,_){return S.__prio-_.__prio}return dH(yV,b),dH(hZ,b),u._scheduler=new Hge(u,y,hZ,yV),u._messageCenter=new ave,u._initEvents(),u.resize=Ur(u.resize,u),g.animation.on("frame",u._onframe,u),use(g,u),sse(g,u),GH(u),u}return e.prototype._onframe=function(){if(!this._disposed){fse(this);var t=this._scheduler;if(this[vh]){var r=this[vh].silent;this[Vf]=!0;try{u3(this),x2.update.call(this,null,this[vh].updateParams)}catch(h){throw this[Vf]=!1,this[vh]=null,h}this._zr.flush(),this[Vf]=!1,this[vh]=null,WP.call(this,r),qP.call(this,r)}else if(t.unfinished){var i=g7e,u=this._model,l=this._api;t.unfinished=!1;do{var f=+new Date;t.performSeriesTasks(u),t.performDataProcessorTasks(u),lJ(this,u),t.performVisualTasks(u),RF(this,this._model,l,"remain",{}),i-=+new Date-f}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,i){if(!this[Vf]){if(this._disposed){this.id;return}var u,l,f;if(no(r)&&(i=r.lazyUpdate,u=r.silent,l=r.replaceMerge,f=r.transition,r=r.notMerge),this[Vf]=!0,!this._model||r){var h=new vze(this._api),g=this._theme,y=this._model=new hge;y.scheduler=this._scheduler,y.ssr=this._ssr,y.init(null,null,null,g,this._locale,h)}this._model.setOption(t,{replaceMerge:l},pZ);var b={seriesTransition:f,optionChanged:!0};if(i)this[vh]={silent:u,updateParams:b},this[Vf]=!1,this.getZr().wakeUp();else{try{u3(this),x2.update.call(this,null,b)}catch(S){throw this[vh]=null,this[Vf]=!1,S}this._ssr||this._zr.flush(),this[vh]=null,this[Vf]=!1,WP.call(this,u),qP.call(this,u)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Li.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Li.svgSupported){var t=this._zr,r=t.storage.getDisplayList();return Te(r,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var r=t.excludeComponents,i=this._model,u=[],l=this;Te(r,function(h){i.eachComponent({mainType:h},function(g){var y=l._componentsMap[g.__viewId];y.group.ignore||(u.push(y),y.group.ignore=!0)})});var f=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Te(u,function(h){h.group.ignore=!1}),f},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var r=t.type==="svg",i=this.group,u=Math.min,l=Math.max,f=1/0;if(bV[i]){var h=f,g=f,y=-f,b=-f,S=[],_=t&&t.pixelRatio||this.getDevicePixelRatio();Te(gM,function(L,q){if(L.group===i){var X=r?L.getZr().painter.getSvgDom().innerHTML:L.renderToCanvas(vo(t)),Y=L.getDom().getBoundingClientRect();h=u(Y.left,h),g=u(Y.top,g),y=l(Y.right,y),b=l(Y.bottom,b),S.push({dom:X,left:Y.left,top:Y.top})}}),h*=_,g*=_,y*=_,b*=_;var k=y-h,A=b-g,R=Ib.createCanvas(),I=WQ(R,{renderer:r?"svg":"canvas"});if(I.resize({width:k,height:A}),r){var z="";return Te(S,function(L){var q=L.left-h,X=L.top-g;z+='<g transform="translate('+q+","+X+')">'+L.dom+"</g>"}),I.painter.getSvgRoot().innerHTML=z,t.connectedBackgroundColor&&I.painter.setBackgroundColor(t.connectedBackgroundColor),I.refreshImmediately(),I.painter.toDataURL()}else return t.connectedBackgroundColor&&I.add(new va({shape:{x:0,y:0,width:k,height:A},style:{fill:t.connectedBackgroundColor}})),Te(S,function(L){var q=new Ip({style:{x:L.left*_-h,y:L.top*_-g,image:L.dom}});I.add(q)}),I.refreshImmediately(),R.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,r){return sJ(this,"convertToPixel",t,r)},e.prototype.convertFromPixel=function(t,r){return sJ(this,"convertFromPixel",t,r)},e.prototype.containPixel=function(t,r){if(this._disposed){this.id;return}var i=this._model,u,l=RN(i,t);return Te(l,function(f,h){h.indexOf("Models")>=0&&Te(f,function(g){var y=g.coordinateSystem;if(y&&y.containPoint)u=u||!!y.containPoint(r);else if(h==="seriesModels"){var b=this._chartsMap[g.__viewId];b&&b.containPoint&&(u=u||b.containPoint(r,g))}},this)},this),!!u},e.prototype.getVisual=function(t,r){var i=this._model,u=RN(i,t,{defaultMainType:"series"}),l=u.seriesModel,f=l.getData(),h=u.hasOwnProperty("dataIndexInside")?u.dataIndexInside:u.hasOwnProperty("dataIndex")?f.indexOfRawIndex(u.dataIndex):null;return h!=null?jge(f,h,r):Uge(f,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;Te(A7e,function(r){var i=function(u){var l=t.getModel(),f=u.target,h,g=r==="globalout";if(g?h={}:f&&aM(f,function(k){var A=Ai(k);if(A&&A.dataIndex!=null){var R=A.dataModel||l.getSeriesByIndex(A.seriesIndex);return h=R&&R.getDataParams(A.dataIndex,A.dataType,f)||{},!0}else if(A.eventData)return h=Gn({},A.eventData),!0},!0),h){var y=h.componentType,b=h.componentIndex;(y==="markLine"||y==="markPoint"||y==="markArea")&&(y="series",b=h.seriesIndex);var S=y&&b!=null&&l.getComponent(y,b),_=S&&t[S.mainType==="series"?"_chartsMap":"_componentsMap"][S.__viewId];h.event=u,h.type=r,t._$eventProcessor.eventInfo={targetEl:f,packedEvent:h,model:S,view:_},t.trigger(r,h)}};i.zrEventfulCallAtLast=!0,t._zr.on(r,i,t)}),Te(HN,function(r,i){t._messageCenter.on(i,function(u){this.trigger(i,u)},t)}),Te(["selectchanged"],function(r){t._messageCenter.on(r,function(i){this.trigger(r,i)},t)}),B8e(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&Kpe(this.getDom(),Hte,"");var r=this,i=r._api,u=r._model;Te(r._componentsViews,function(l){l.dispose(u,i)}),Te(r._chartsViews,function(l){l.dispose(u,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete gM[r.id]},e.prototype.resize=function(t){if(!this[Vf]){if(this._disposed){this.id;return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),u=t&&t.silent;this[vh]&&(u==null&&(u=this[vh].silent),i=!0,this[vh]=null),this[Vf]=!0;try{i&&u3(this),x2.update.call(this,{type:"resize",animation:Gn({duration:0},t&&t.animation)})}catch(l){throw this[Vf]=!1,l}this[Vf]=!1,WP.call(this,u),qP.call(this,u)}}},e.prototype.showLoading=function(t,r){if(this._disposed){this.id;return}if(no(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!mZ[t]){var i=mZ[t](this._api,r),u=this._zr;this._loadingFX=i,u.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var r=Gn({},t);return r.type=HN[t.type],r},e.prototype.dispatchAction=function(t,r){if(this._disposed){this.id;return}if(no(r)||(r={silent:!!r}),!!vV[t.type]&&this._model){if(this[Vf]){this._pendingActions.push(t);return}var i=r.silent;cJ.call(this,t,i);var u=r.flush;u?this._zr.flush():u!==!1&&Li.browser.weChat&&this._throttledZrFlush(),WP.call(this,i),qP.call(this,i)}},e.prototype.updateLabelLayout=function(){xv.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var r=t.seriesIndex,i=this.getModel(),u=i.getSeriesByIndex(r);u.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){u3=function(b){var S=b._scheduler;S.restorePipelines(b._model),S.prepareStageTasks(),uJ(b,!0),uJ(b,!1),S.plan()},uJ=function(b,S){for(var _=b._model,k=b._scheduler,A=S?b._componentsViews:b._chartsViews,R=S?b._componentsMap:b._chartsMap,I=b._zr,z=b._api,L=0;L<A.length;L++)A[L].__alive=!1;S?_.eachComponent(function(Y,ae){Y!=="series"&&q(ae)}):_.eachSeries(q);function q(Y){var ae=Y.__requireNewView;Y.__requireNewView=!1;var te="_ec_"+Y.id+"_"+Y.type,ie=!ae&&R[te];if(!ie){var le=ly(Y.type),ce=S?zs.getClass(le.main,le.sub):uf.getClass(le.sub);ie=new ce,ie.init(_,z),R[te]=ie,A.push(ie),I.add(ie.group)}Y.__viewId=ie.__id=te,ie.__alive=!0,ie.__model=Y,ie.group.__ecComponentInfo={mainType:Y.mainType,index:Y.componentIndex},!S&&k.prepareView(ie,Y,_,z)}for(var L=0;L<A.length;){var X=A[L];X.__alive?L++:(!S&&X.renderTask.dispose(),I.remove(X.group),X.dispose(_,z),A.splice(L,1),R[X.__id]===X&&delete R[X.__id],X.__id=X.group.__ecComponentInfo=null)}},IF=function(b,S,_,k,A){var R=b._model;if(R.setUpdatePayload(_),!k){Te([].concat(b._componentsViews).concat(b._chartsViews),X);return}var I={};I[k+"Id"]=_[k+"Id"],I[k+"Index"]=_[k+"Index"],I[k+"Name"]=_[k+"Name"];var z={mainType:k,query:I};A&&(z.subType=A);var L=_.excludeSeriesId,q;L!=null&&(q=to(),Te(Bs(L),function(Y){var ae=qf(Y,null);ae!=null&&q.set(ae,!0)})),R&&R.eachComponent(z,function(Y){var ae=q&&q.get(Y.id)!=null;if(!ae)if(Wae(_))if(Y instanceof Dh)_.type===pM&&!_.notBlur&&!Y.get(["emphasis","disabled"])&&M6e(Y,_,b._api);else{var te=ite(Y.mainType,Y.componentIndex,_.name,b._api),ie=te.focusSelf,le=te.dispatchers;_.type===pM&&ie&&!_.notBlur&&JQ(Y.mainType,Y.componentIndex,b._api),le&&Te(le,function(ce){_.type===pM?X3(ce):Y3(ce)})}else ZQ(_)&&Y instanceof Dh&&(A6e(Y,_,b._api),jae(Y),Pm(b))},b),R&&R.eachComponent(z,function(Y){var ae=q&&q.get(Y.id)!=null;ae||X(b[k==="series"?"_chartsMap":"_componentsMap"][Y.__viewId])},b);function X(Y){Y&&Y.__alive&&Y[S]&&Y[S](Y.__model,R,b._api,_)}},x2={prepareAndUpdate:function(b){u3(this),x2.update.call(this,b,{optionChanged:b.newOption!=null})},update:function(b,S){var _=this._model,k=this._api,A=this._zr,R=this._coordSysMgr,I=this._scheduler;if(_){_.setUpdatePayload(b),I.restoreData(_,b),I.performSeriesTasks(_),R.create(_,k),I.performDataProcessorTasks(_,b),lJ(this,_),R.update(_,k),t(_),I.performVisualTasks(_,b),fJ(this,_,k,b,S);var z=_.get("backgroundColor")||"transparent",L=_.get("darkMode");A.setBackgroundColor(z),L!=null&&L!=="auto"&&A.setDarkMode(L),xv.trigger("afterupdate",_,k)}},updateTransform:function(b){var S=this,_=this._model,k=this._api;if(_){_.setUpdatePayload(b);var A=[];_.eachComponent(function(I,z){if(I!=="series"){var L=S.getViewOfComponentModel(z);if(L&&L.__alive)if(L.updateTransform){var q=L.updateTransform(z,_,k,b);q&&q.update&&A.push(L)}else A.push(L)}});var R=to();_.eachSeries(function(I){var z=S._chartsMap[I.__viewId];if(z.updateTransform){var L=z.updateTransform(I,_,k,b);L&&L.update&&R.set(I.uid,1)}else R.set(I.uid,1)}),t(_),this._scheduler.performVisualTasks(_,b,{setDirty:!0,dirtyMap:R}),RF(this,_,k,b,{},R),xv.trigger("afterupdate",_,k)}},updateView:function(b){var S=this._model;S&&(S.setUpdatePayload(b),uf.markUpdateMethod(b,"updateView"),t(S),this._scheduler.performVisualTasks(S,b,{setDirty:!0}),fJ(this,S,this._api,b,{}),xv.trigger("afterupdate",S,this._api))},updateVisual:function(b){var S=this,_=this._model;_&&(_.setUpdatePayload(b),_.eachSeries(function(k){k.getData().clearAllVisual()}),uf.markUpdateMethod(b,"updateVisual"),t(_),this._scheduler.performVisualTasks(_,b,{visualType:"visual",setDirty:!0}),_.eachComponent(function(k,A){if(k!=="series"){var R=S.getViewOfComponentModel(A);R&&R.__alive&&R.updateVisual(A,_,S._api,b)}}),_.eachSeries(function(k){var A=S._chartsMap[k.__viewId];A.updateVisual(k,_,S._api,b)}),xv.trigger("afterupdate",_,this._api))},updateLayout:function(b){x2.update.call(this,b)}},sJ=function(b,S,_,k){if(b._disposed){b.id;return}for(var A=b._model,R=b._coordSysMgr.getCoordinateSystems(),I,z=RN(A,_),L=0;L<R.length;L++){var q=R[L];if(q[S]&&(I=q[S](A,z,k))!=null)return I}},lJ=function(b,S){var _=b._chartsMap,k=b._scheduler;S.eachSeries(function(A){k.updateStreamModes(A,_[A.__viewId])})},cJ=function(b,S){var _=this,k=this.getModel(),A=b.type,R=b.escapeConnect,I=vV[A],z=I.actionInfo,L=(z.update||"update").split(":"),q=L.pop(),X=L[0]!=null&&ly(L[0]);this[Vf]=!0;var Y=[b],ae=!1;b.batch&&(ae=!0,Y=br(b.batch,function(Ce){return Ce=Co(Gn({},Ce),b),Ce.batch=null,Ce}));var te=[],ie,le=ZQ(b),ce=Wae(b);if(ce&&wme(this._api),Te(Y,function(Ce){if(ie=I.action(Ce,_._model,_._api),ie=ie||Gn({},Ce),ie.type=z.event||ie.type,te.push(ie),ce){var ze=Zee(b),ke=ze.queryOptionMap,St=ze.mainTypeSpecified,tt=St?ke.keys()[0]:"series";IF(_,q,Ce,tt),Pm(_)}else le?(IF(_,q,Ce,"series"),Pm(_)):X&&IF(_,q,Ce,X.main,X.sub)}),q!=="none"&&!ce&&!le&&!X)try{this[vh]?(u3(this),x2.update.call(this,b),this[vh]=null):x2[q].call(this,b)}catch(Ce){throw this[Vf]=!1,Ce}if(ae?ie={type:z.event||A,escapeConnect:R,batch:te}:ie=te[0],this[Vf]=!1,!S){var ne=this._messageCenter;if(ne.trigger(ie.type,ie),le){var Q={type:"selectchanged",escapeConnect:R,selected:E6e(k),isFromClick:b.isFromClick||!1,fromAction:b.type,fromActionPayload:b};ne.trigger(Q.type,Q)}}},WP=function(b){for(var S=this._pendingActions;S.length;){var _=S.shift();cJ.call(this,_,b)}},qP=function(b){!b&&this.trigger("updated")},use=function(b,S){b.on("rendered",function(_){S.trigger("rendered",_),b.animation.isFinished()&&!S[vh]&&!S._scheduler.unfinished&&!S._pendingActions.length&&S.trigger("finished")})},sse=function(b,S){b.on("mouseover",function(_){var k=_.target,A=aM(k,QQ);A&&(k6e(A,_,S._api),Pm(S))}).on("mouseout",function(_){var k=_.target,A=aM(k,QQ);A&&(D6e(A,_,S._api),Pm(S))}).on("click",function(_){var k=_.target,A=aM(k,function(z){return Ai(z).dataIndex!=null},!0);if(A){var R=A.selected?"unselect":"select",I=Ai(A);S._api.dispatchAction({type:R,dataType:I.dataType,dataIndexInside:I.dataIndex,seriesIndex:I.seriesIndex,isFromClick:!0})}})};function t(b){b.clearColorPalette(),b.eachSeries(function(S){S.clearColorPalette()})}function r(b){var S=[],_=[],k=!1;if(b.eachComponent(function(z,L){var q=L.get("zlevel")||0,X=L.get("z")||0,Y=L.getZLevelKey();k=k||!!Y,(z==="series"?_:S).push({zlevel:q,z:X,idx:L.componentIndex,type:z,key:Y})}),k){var A=S.concat(_),R,I;dH(A,function(z,L){return z.zlevel===L.zlevel?z.z-L.z:z.zlevel-L.zlevel}),Te(A,function(z){var L=b.getComponent(z.type,z.idx),q=z.zlevel,X=z.key;R!=null&&(q=Math.max(R,q)),X?(q===R&&X!==I&&q++,I=X):I&&(q===R&&q++,I=""),R=q,L.setZLevel(q)})}}fJ=function(b,S,_,k,A){r(S),lse(b,S,_,k,A),Te(b._chartsViews,function(R){R.__alive=!1}),RF(b,S,_,k,A),Te(b._chartsViews,function(R){R.__alive||R.remove(S,_)})},lse=function(b,S,_,k,A,R){Te(R||b._componentsViews,function(I){var z=I.__model;g(z,I),I.render(z,S,_,k),f(z,I),y(z,I)})},RF=function(b,S,_,k,A,R){var I=b._scheduler;A=Gn(A||{},{updatedSeries:S.getSeries()}),xv.trigger("series:beforeupdate",S,_,A);var z=!1;S.eachSeries(function(L){var q=b._chartsMap[L.__viewId];q.__alive=!0;var X=q.renderTask;I.updatePayload(X,k),g(L,q),R&&R.get(L.uid)&&X.dirty(),X.perform(I.getPerformArgs(X))&&(z=!0),q.group.silent=!!L.get("silent"),l(L,q),jae(L)}),I.unfinished=z||I.unfinished,xv.trigger("series:layoutlabels",S,_,A),xv.trigger("series:transition",S,_,A),S.eachSeries(function(L){var q=b._chartsMap[L.__viewId];f(L,q),y(L,q)}),u(b,S),xv.trigger("series:afterupdate",S,_,A)},Pm=function(b){b[iJ]=!0,b.getZr().wakeUp()},fse=function(b){b[iJ]&&(b.getZr().storage.traverse(function(S){BN(S)||i(S)}),b[iJ]=!1)};function i(b){for(var S=[],_=b.currentStates,k=0;k<_.length;k++){var A=_[k];A==="emphasis"||A==="blur"||A==="select"||S.push(A)}b.selected&&b.states.select&&S.push("select"),b.hoverState===n9&&b.states.emphasis?S.push("emphasis"):b.hoverState===t9&&b.states.blur&&S.push("blur"),b.useStates(S)}function u(b,S){var _=b._zr,k=_.storage,A=0;k.traverse(function(R){R.isGroup||A++}),A>S.get("hoverLayerThreshold")&&!Li.node&&!Li.worker&&S.eachSeries(function(R){if(!R.preventUsingHoverLayer){var I=b._chartsMap[R.__viewId];I.__alive&&I.eachRendered(function(z){z.states.emphasis&&(z.states.emphasis.hoverLayer=!0)})}})}function l(b,S){var _=b.get("blendMode")||null;S.eachRendered(function(k){k.isGroup||(k.style.blend=_)})}function f(b,S){if(!b.preventAutoZ){var _=b.get("z")||0,k=b.get("zlevel")||0;S.eachRendered(function(A){return h(A,_,k,-1/0),!0})}}function h(b,S,_,k){var A=b.getTextContent(),R=b.getTextGuideLine(),I=b.isGroup;if(I)for(var z=b.childrenRef(),L=0;L<z.length;L++)k=Math.max(h(z[L],S,_,k),k);else b.z=S,b.zlevel=_,k=Math.max(b.z2,k);if(A&&(A.z=S,A.zlevel=_,isFinite(k)&&(A.z2=k+2)),R){var q=b.textGuideLineConfig;R.z=S,R.zlevel=_,isFinite(k)&&(R.z2=k+(q&&q.showAbove?1:-1))}return k}function g(b,S){S.eachRendered(function(_){if(!BN(_)){var k=_.getTextContent(),A=_.getTextGuideLine();_.stateTransition&&(_.stateTransition=null),k&&k.stateTransition&&(k.stateTransition=null),A&&A.stateTransition&&(A.stateTransition=null),_.hasState()?(_.prevStates=_.currentStates,_.clearStates()):_.prevStates&&(_.prevStates=null)}})}function y(b,S){var _=b.getModel("stateAnimation"),k=b.isAnimationEnabled(),A=_.get("duration"),R=A>0?{duration:A,delay:_.get("delay"),easing:_.get("easing")}:null;S.eachRendered(function(I){if(I.states&&I.states.emphasis){if(BN(I))return;if(I instanceof Va&&L6e(I),I.__dirty){var z=I.prevStates;z&&I.useStates(z)}if(k){I.stateTransition=R;var L=I.getTextContent(),q=I.getTextGuideLine();L&&(L.stateTransition=R),q&&(q.stateTransition=R)}I.__dirty&&i(I)}})}cse=function(b){return new(function(S){Tn(_,S);function _(){return S!==null&&S.apply(this,arguments)||this}return _.prototype.getCoordinateSystems=function(){return b._coordSysMgr.getCoordinateSystems()},_.prototype.getComponentByElement=function(k){for(;k;){var A=k.__ecComponentInfo;if(A!=null)return b._model.getComponent(A.mainType,A.index);k=k.parent}},_.prototype.enterEmphasis=function(k,A){X3(k,A),Pm(b)},_.prototype.leaveEmphasis=function(k,A){Y3(k,A),Pm(b)},_.prototype.enterBlur=function(k){T6e(k),Pm(b)},_.prototype.leaveBlur=function(k){vme(k),Pm(b)},_.prototype.enterSelect=function(k){yme(k),Pm(b)},_.prototype.leaveSelect=function(k){bme(k),Pm(b)},_.prototype.getModel=function(){return b.getModel()},_.prototype.getViewOfComponentModel=function(k){return b.getViewOfComponentModel(k)},_.prototype.getViewOfSeriesModel=function(k){return b.getViewOfSeriesModel(k)},_}(pge))(b)},sve=function(b){function S(_,k){for(var A=0;A<_.length;A++){var R=_[A];R[aJ]=k}}Te(HN,function(_,k){b._messageCenter.on(k,function(A){if(bV[b.group]&&b[aJ]!==ase){if(A&&A.escapeConnect)return;var R=b.makeActionFromEvent(A),I=[];Te(gM,function(z){z!==b&&z.group===b.group&&I.push(z)}),S(I,ase),Te(I,function(z){z[aJ]!==k7e&&z.dispatchAction(R)}),S(I,D7e)}})})}}(),e}(eg),Fte=gV.prototype;Fte.on=rve("on");Fte.off=rve("off");Fte.one=function(n,e,t){var r=this;function i(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];e&&e.apply&&e.apply(this,u),r.off(n,i)}this.on.call(this,n,i,t)};var A7e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var vV={},HN={},hZ=[],pZ=[],yV=[],lve={},mZ={},gM={},bV={},E7e=+new Date-0,O7e=+new Date-0,Hte="_echarts_instance_";function I7e(n,e,t){var r=!(t&&t.ssr);if(r){var i=Vte(n);if(i)return i}var u=new gV(n,e,t);return u.id="ec_"+E7e++,gM[u.id]=u,r&&Kpe(n,Hte,u.id),sve(u),xv.trigger("afterinit",u),u}function R7e(n){if(sr(n)){var e=n;n=null,Te(e,function(t){t.group!=null&&(n=t.group)}),n=n||"g_"+O7e++,Te(e,function(t){t.group=n})}return bV[n]=!0,n}function cve(n){bV[n]=!1}var P7e=cve;function N7e(n){Nr(n)?n=gM[n]:n instanceof gV||(n=Vte(n)),n instanceof gV&&!n.isDisposed()&&n.dispose()}function Vte(n){return gM[pLe(n,Hte)]}function L7e(n){return gM[n]}function jte(n,e){lve[n]=e}function Ute(n){Di(pZ,n)<0&&pZ.push(n)}function Wte(n,e){qte(hZ,n,e,x7e)}function fve(n){C9("afterinit",n)}function dve(n){C9("afterupdate",n)}function C9(n,e){xv.on(n,e)}function Ov(n,e,t){Eo(e)&&(t=e,e="");var r=no(n)?n.type:[n,n={event:e}][0];n.event=(n.event||r).toLowerCase(),e=n.event,!HN[e]&&(Ap(ise.test(r)&&ise.test(e)),vV[r]||(vV[r]={action:t,actionInfo:n}),HN[e]=r)}function hve(n,e){v9.register(n,e)}function B7e(n){var e=v9.get(n);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function pve(n,e){qte(yV,n,e,Zge,"layout")}function u_(n,e){qte(yV,n,e,eve,"visual")}var dse=[];function qte(n,e,t,r,i){if((Eo(e)||no(e))&&(t=e,e=r),!(Di(dse,t)>=0)){dse.push(t);var u=Hge.wrapStageHandler(t,i);u.__prio=e,u.__raw=t,n.push(u)}}function $te(n,e){mZ[n]=e}function z7e(n){npe({createCanvas:n})}function mve(n,e,t){var r=Qge("registerMap");r&&r(n,e,t)}function F7e(n){var e=Qge("getMap");return e&&e(n)}var gve=jze;u_(zte,v8e);u_(S9,y8e);u_(S9,b8e);u_(zte,P8e);u_(S9,N8e);u_(tve,f7e);Ute(gge);Wte(y7e,Tze);$te("default",x8e);Ov({type:pM,event:pM,update:pM},af);Ov({type:bH,event:bH,update:bH},af);Ov({type:PN,event:PN,update:PN},af);Ov({type:xH,event:xH,update:xH},af);Ov({type:NN,event:NN,update:NN},af);jte("light",O8e);jte("dark",I8e);var H7e={};function $P(n){return n==null?0:n.length||1}function hse(n){return n}var V7e=function(){function n(e,t,r,i,u,l){this._old=e,this._new=t,this._oldKeyGetter=r||hse,this._newKeyGetter=i||hse,this.context=u,this._diffModeMultiple=l==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),u=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,u,"_newKeyGetter");for(var l=0;l<e.length;l++){var f=i[l],h=r[f],g=$P(h);if(g>1){var y=h.shift();h.length===1&&(r[f]=h[0]),this._update&&this._update(y,l)}else g===1?(r[f]=null,this._update&&this._update(h,l)):this._remove&&this._remove(l)}this._performRestAdd(u,r)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},u=[],l=[];this._initIndexMap(e,r,u,"_oldKeyGetter"),this._initIndexMap(t,i,l,"_newKeyGetter");for(var f=0;f<u.length;f++){var h=u[f],g=r[h],y=i[h],b=$P(g),S=$P(y);if(b>1&&S===1)this._updateManyToOne&&this._updateManyToOne(y,g),i[h]=null;else if(b===1&&S>1)this._updateOneToMany&&this._updateOneToMany(y,g),i[h]=null;else if(b===1&&S===1)this._update&&this._update(y,g),i[h]=null;else if(b>1&&S>1)this._updateManyToMany&&this._updateManyToMany(y,g),i[h]=null;else if(b>1)for(var _=0;_<b;_++)this._remove&&this._remove(g[_]);else this._remove&&this._remove(g)}this._performRestAdd(l,i)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],u=t[i],l=$P(u);if(l>1)for(var f=0;f<l;f++)this._add&&this._add(u[f]);else l===1&&this._add&&this._add(u);t[i]=null}},n.prototype._initIndexMap=function(e,t,r,i){for(var u=this._diffModeMultiple,l=0;l<e.length;l++){var f="_ec_"+this[i](e[l],l);if(u||(r[l]=f),!!t){var h=t[f],g=$P(h);g===0?(t[f]=l,u&&r.push(f)):g===1?t[f]=[h,l]:h.push(l)}}},n}();const Gte=V7e;var j7e=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function U7e(n,e){var t={},r=t.encode={},i=to(),u=[],l=[],f={};Te(n.dimensions,function(S){var _=n.getDimensionInfo(S),k=_.coordDim;if(k){var A=_.coordDimIndex;dJ(r,k)[A]=S,_.isExtraCoord||(i.set(k,1),q7e(_.type)&&(u[0]=S),dJ(f,k)[A]=n.getDimensionIndex(_.name)),_.defaultTooltip&&l.push(S)}ige.each(function(R,I){var z=dJ(r,I),L=_.otherDims[I];L!=null&&L!==!1&&(z[L]=_.name)})});var h=[],g={};i.each(function(S,_){var k=r[_];g[_]=k[0],h=h.concat(k)}),t.dataDimsOnCoord=h,t.dataDimIndicesOnCoord=br(h,function(S){return n.getDimensionInfo(S).storeDimIndex}),t.encodeFirstDimNotExtra=g;var y=r.label;y&&y.length&&(u=y.slice());var b=r.tooltip;return b&&b.length?l=b.slice():l.length||(l=u.slice()),r.defaultedLabel=u,r.defaultedTooltip=l,t.userOutput=new j7e(f,e),t}function dJ(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function W7e(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function q7e(n){return!(n==="ordinal"||n==="time")}var $7e=function(){function n(e){this.otherDims={},e!=null&&Gn(this,e)}return n}();const CH=$7e;var G7e=lu(),X7e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},vve=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=xve(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Gi(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=yge(this.source),r=!wve(e),i="",u=[],l=0,f=0;l<e;l++){var h=void 0,g=void 0,y=void 0,b=this.dimensions[f];if(b&&b.storeDimIndex===l)h=t?b.name:null,g=b.type,y=b.ordinalMeta,f++;else{var S=this.getSourceDimension(l);S&&(h=t?S.name:null,g=S.type)}u.push({property:h,type:g,ordinalMeta:y}),t&&h!=null&&(!b||!b.isCalculationCoord)&&(i+=r?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),i+="$",i+=X7e[g]||"f",y&&(i+=y.uid),i+="$"}var _=this.source,k=[_.seriesLayoutBy,_.startIndex,i].join("$$");return{dimensions:u,hash:k}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,u=this.dimensions[r];if(u&&u.storeDimIndex===t)u.isCalculationCoord||(i=u.name),r++;else{var l=this.getSourceDimension(t);l&&(i=l.name)}e.push(i)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function yve(n){return n instanceof vve}function bve(n){for(var e=to(),t=0;t<(n||[]).length;t++){var r=n[t],i=no(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function xve(n){var e=G7e(n);return e.dimNameMap||(e.dimNameMap=bve(n.dimensionsDefine))}function wve(n){return n>30}var GP=no,w2=br,Y7e=typeof Int32Array>"u"?Array:Int32Array,K7e="e\0\0",pse=-1,J7e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Q7e=["_approximateExtent"],mse,PF,XP,YP,hJ,NF,pJ,Z7e=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;yve(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var u={},l=[],f={},h=!1,g={},y=0;y<r.length;y++){var b=r[y],S=Nr(b)?new CH({name:b}):b instanceof CH?b:new CH(b),_=S.name;S.type=S.type||"float",S.coordDim||(S.coordDim=_,S.coordDimIndex=0);var k=S.otherDims=S.otherDims||{};l.push(_),u[_]=S,g[_]!=null&&(h=!0),S.createInvertedIndices&&(f[_]=[]),k.itemName===0&&(this._nameDimIdx=y),k.itemId===0&&(this._idDimIdx=y),i&&(S.storeDimIndex=y)}if(this.dimensions=l,this._dimInfos=u,this._initGetDimensionInfo(h),this.hostModel=t,this._invertedIndicesMap=f,this._dimOmitted){var A=this._dimIdxToName=to();Te(l,function(R){A.set(u[R].storeDimIndex,R)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(su(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var i=this,u;if(e instanceof aZ&&(u=e),!u){var l=this.dimensions,f=Ate(e)||$f(e)?new bge(e,l.length):e;u=new aZ;var h=w2(l,function(g){return{type:i._dimInfos[g].type,property:g}});u.initData(f,h,r)}this._store=u,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,u.count()),this._dimSummary=U7e(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t.length),i=r.start,u=r.end,l=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var f=i;f<u;f++){var h=f-i;this._nameList[f]=t[h],l&&pJ(this,f)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==X2&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var u=this._nameList,l=this._idList,f=i.getSource().sourceFormat,h=f===rg;if(h&&!i.pure)for(var g=[],y=e;y<t;y++){var b=i.getItem(y,g);if(!this.hasItemOption&&tLe(b)&&(this.hasItemOption=!0),b){var S=b.name;u[y]==null&&S!=null&&(u[y]=qf(S,null));var _=b.id;l[y]==null&&_!=null&&(l[y]=qf(_,null))}}if(this._shouldMakeIdFromName())for(var y=e;y<t;y++)pJ(this,y);mse(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){GP(e)?Gn(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=XP(this,this._nameDimIdx,t)),r==null&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},n.prototype.getId=function(e){return PF(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,i=this._store;return sr(e)?i.getValues(w2(e,function(u){return r._getStoreDimIndex(u)}),t):i.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r[t];return i==null||isNaN(i)?pse:i},n.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},n.prototype.each=function(e,t,r){Eo(e)&&(r=t,t=e,e=[]);var i=r||this,u=w2(YP(e),this._getStoreDimIndex,this);this._store.each(u,i?Ur(t,i):t)},n.prototype.filterSelf=function(e,t,r){Eo(e)&&(r=t,t=e,e=[]);var i=r||this,u=w2(YP(e),this._getStoreDimIndex,this);return this._store=this._store.filter(u,i?Ur(t,i):t),this},n.prototype.selectRange=function(e){var t=this,r={},i=ga(e);return Te(i,function(u){var l=t._getStoreDimIndex(u);r[l]=e[u]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){Eo(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},n.prototype.map=function(e,t,r,i){var u=r||i||this,l=w2(YP(e),this._getStoreDimIndex,this),f=NF(this);return f._store=this._store.map(l,u?Ur(t,u):t),f},n.prototype.modify=function(e,t,r,i){var u=r||i||this,l=w2(YP(e),this._getStoreDimIndex,this);this._store.modify(l,u?Ur(t,u):t)},n.prototype.downSample=function(e,t,r,i){var u=NF(this);return u._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),u},n.prototype.lttbDownSample=function(e,t){var r=NF(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new xs(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new Gte(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return PF(e,r)},function(r){return PF(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},GP(e)?Gn(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var u=i[t];return u==null&&(u=this.getVisual(t),sr(u)?u=u.slice():GP(u)&&(u=Gn({},u)),i[t]=u),u},n.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,GP(t)?Gn(i,t):i[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){GP(e)?Gn(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?Gn(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;v6e(r,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){Te(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:w2(this.dimensions,this._getDimInfo,this),this.hostModel)),hJ(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];Eo(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(YV(arguments)))})},n.internalField=function(){mse=function(e){var t=e._invertedIndicesMap;Te(t,function(r,i){var u=e._dimInfos[i],l=u.ordinalMeta,f=e._store;if(l){r=t[i]=new Y7e(l.categories.length);for(var h=0;h<r.length;h++)r[h]=pse;for(var h=0;h<f.count();h++)r[f.get(u.storeDimIndex,h)]=h}})},XP=function(e,t,r){return qf(e._getCategory(t,r),null)},PF=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=XP(e,e._idDimIdx,t)),r==null&&(r=K7e+t),r},YP=function(e){return sr(e)||(e=e!=null?[e]:[]),e},NF=function(e){var t=new n(e._schema?e._schema:w2(e.dimensions,e._getDimInfo,e),e.hostModel);return hJ(t,e),t},hJ=function(e,t){Te(J7e.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,Te(Q7e,function(r){e[r]=vo(t[r])}),e._calculationInfo=Gn({},t._calculationInfo)},pJ=function(e,t){var r=e._nameList,i=e._idList,u=e._nameDimIdx,l=e._idDimIdx,f=r[t],h=i[t];if(f==null&&u!=null&&(r[t]=f=XP(e,u,t)),h==null&&l!=null&&(i[t]=h=XP(e,l,t)),h==null&&f!=null){var g=e._nameRepeatCount,y=g[f]=(g[f]||0)+1;h=f,y>1&&(h+="__ec__"+y),i[t]=h}}}(),n}();const T9=Z7e;function eFe(n,e){return Xte(n,e).dimensions}function Xte(n,e){Ate(n)||(n=Ete(n)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],i=to(),u=[],l=nFe(n,t,r,e.dimensionsCount),f=e.canOmitUnusedDimensions&&wve(l),h=r===n.dimensionsDefine,g=h?xve(n):bve(r),y=e.encodeDefine;!y&&e.encodeDefaulter&&(y=e.encodeDefaulter(n,l));for(var b=to(y),S=new Tge(l),_=0;_<S.length;_++)S[_]=-1;function k(ie){var le=S[ie];if(le<0){var ce=r[ie],ne=no(ce)?ce:{name:ce},Q=new CH,Ce=ne.name;Ce!=null&&g.get(Ce)!=null&&(Q.name=Q.displayName=Ce),ne.type!=null&&(Q.type=ne.type),ne.displayName!=null&&(Q.displayName=ne.displayName);var ze=u.length;return S[ie]=ze,Q.storeDimIndex=ie,u.push(Q),Q}return u[le]}if(!f)for(var _=0;_<l;_++)k(_);b.each(function(ie,le){var ce=Bs(ie).slice();if(ce.length===1&&!Nr(ce[0])&&ce[0]<0){b.set(le,!1);return}var ne=b.set(le,[]);Te(ce,function(Q,Ce){var ze=Nr(Q)?g.get(Q):Q;ze!=null&&ze<l&&(ne[Ce]=ze,R(k(ze),le,Ce))})});var A=0;Te(t,function(ie){var le,ce,ne,Q;if(Nr(ie))le=ie,Q={};else{Q=ie,le=Q.name;var Ce=Q.ordinalMeta;Q.ordinalMeta=null,Q=Gn({},Q),Q.ordinalMeta=Ce,ce=Q.dimsDef,ne=Q.otherDims,Q.name=Q.coordDim=Q.coordDimIndex=Q.dimsDef=Q.otherDims=null}var ze=b.get(le);if(ze!==!1){if(ze=Bs(ze),!ze.length)for(var ke=0;ke<(ce&&ce.length||1);ke++){for(;A<l&&k(A).coordDim!=null;)A++;A<l&&ze.push(A++)}Te(ze,function(St,tt){var G=k(St);if(h&&Q.type!=null&&(G.type=Q.type),R(Co(G,Q),le,tt),G.name==null&&ce){var We=ce[tt];!no(We)&&(We={name:We}),G.name=G.displayName=We.name,G.defaultTooltip=We.defaultTooltip}ne&&Co(G.otherDims,ne)})}});function R(ie,le,ce){ige.get(le)!=null?ie.otherDims[le]=ce:(ie.coordDim=le,ie.coordDimIndex=ce,i.set(le,!0))}var I=e.generateCoord,z=e.generateCoordCount,L=z!=null;z=I?z||1:0;var q=I||"value";function X(ie){ie.name==null&&(ie.name=ie.coordDim)}if(f)Te(u,function(ie){X(ie)}),u.sort(function(ie,le){return ie.storeDimIndex-le.storeDimIndex});else for(var Y=0;Y<l;Y++){var ae=k(Y),te=ae.coordDim;te==null&&(ae.coordDim=rFe(q,i,L),ae.coordDimIndex=0,(!I||z<=0)&&(ae.isExtraCoord=!0),z--),X(ae),ae.type==null&&(lge(n,Y)===nf.Must||ae.isExtraCoord&&(ae.otherDims.itemName!=null||ae.otherDims.seriesName!=null))&&(ae.type="ordinal")}return tFe(u),new vve({source:n,dimensions:u,fullDimensionCount:l,dimensionOmitted:f})}function tFe(n){for(var e=to(),t=0;t<n.length;t++){var r=n[t],i=r.name,u=e.get(i)||0;u>0&&(r.name=i+(u-1)),u++,e.set(i,u)}}function nFe(n,e,t,r){var i=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return Te(e,function(u){var l;no(u)&&(l=u.dimsDef)&&(i=Math.max(i,l.length))}),i}function rFe(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}var oFe=function(){function n(e){this.coordSysDims=[],this.axisMap=to(),this.categoryAxisMap=to(),this.coordSysName=e}return n}();function iFe(n){var e=n.get("coordinateSystem"),t=new oFe(e),r=aFe[e];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}var aFe={cartesian2d:function(n,e,t,r){var i=n.getReferringComponents("xAxis",mc).models[0],u=n.getReferringComponents("yAxis",mc).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",u),s3(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),s3(u)&&(r.set("y",u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,r){var i=n.getReferringComponents("singleAxis",mc).models[0];e.coordSysDims=["single"],t.set("single",i),s3(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(n,e,t,r){var i=n.getReferringComponents("polar",mc).models[0],u=i.findAxisModel("radiusAxis"),l=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",u),t.set("angle",l),s3(u)&&(r.set("radius",u),e.firstCategoryDimIndex=0),s3(l)&&(r.set("angle",l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,r){var i=n.ecModel,u=i.getComponent("parallel",n.get("parallelIndex")),l=e.coordSysDims=u.dimensions.slice();Te(u.parallelAxisIndex,function(f,h){var g=i.getComponent("parallelAxis",f),y=l[h];t.set(y,g),s3(g)&&(r.set(y,g),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=h))})}};function s3(n){return n.get("type")==="category"}function _ve(n,e,t){t=t||{};var r=t.byIndex,i=t.stackedCoordDimension,u,l,f;uFe(e)?u=e:(l=e.schema,u=l.dimensions,f=e.store);var h=!!(n&&n.get("stack")),g,y,b,S;if(Te(u,function(z,L){Nr(z)&&(u[L]=z={name:z}),h&&!z.isExtraCoord&&(!r&&!g&&z.ordinalMeta&&(g=z),!y&&z.type!=="ordinal"&&z.type!=="time"&&(!i||i===z.coordDim)&&(y=z))}),y&&!r&&!g&&(r=!0),y){b="__\0ecstackresult_"+n.id,S="__\0ecstackedover_"+n.id,g&&(g.createInvertedIndices=!0);var _=y.coordDim,k=y.type,A=0;Te(u,function(z){z.coordDim===_&&A++});var R={name:b,coordDim:_,coordDimIndex:A,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length},I={name:S,coordDim:S,coordDimIndex:A+1,type:k,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length+1};l?(f&&(R.storeDimIndex=f.ensureCalculationDimension(S,k),I.storeDimIndex=f.ensureCalculationDimension(b,k)),l.appendCalculationDimension(R),l.appendCalculationDimension(I)):(u.push(R),u.push(I))}return{stackedDimension:y&&y.name,stackedByDimension:g&&g.name,isStackedByIndex:r,stackedOverDimension:S,stackResultDimension:b}}function uFe(n){return!yve(n.schema)}function Z2(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function Sve(n,e){return Z2(n,e)?n.getCalculationInfo("stackResultDimension"):e}function sFe(n,e){var t=n.get("coordinateSystem"),r=v9.get(t),i;return e&&e.coordSysDims&&(i=br(e.coordSysDims,function(u){var l={name:u},f=e.axisMap.get(u);if(f){var h=f.get("type");l.type=W7e(h)}return l})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function lFe(n,e,t){var r,i;return t&&Te(n,function(u,l){var f=u.coordDim,h=t.categoryAxisMap.get(f);h&&(r==null&&(r=l),u.ordinalMeta=h.getOrdinalMeta(),e&&(u.createInvertedIndices=!0)),u.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(n[r].otherDims.itemName=0),r}function HL(n,e,t){t=t||{};var r=e.getSourceManager(),i,u=!1;n?(u=!0,i=Ete(n)):(i=r.getSource(),u=i.sourceFormat===rg);var l=iFe(e),f=sFe(e,l),h=t.useEncodeDefaulter,g=Eo(h)?h:h?ji(QBe,f,e):null,y={coordDimensions:f,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:g,canOmitUnusedDimensions:!u},b=Xte(i,y),S=lFe(b.dimensions,t.createInvertedIndices,l),_=u?null:r.getSharedDataStore(b),k=_ve(e,{schema:b,store:_}),A=new T9(b,e);A.setCalculationInfo(k);var R=S!=null&&cFe(i)?function(I,z,L,q){return q===S?L:this.defaultDimValueGetter(I,z,L,q)}:null;return A.hasItemOption=!1,A.initData(u?i:_,null,R),A}function cFe(n){if(n.sourceFormat===rg){var e=fFe(n.data||[]);return!sr(f5(e))}}function fFe(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}var Cve=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();QV(Cve);const Ub=Cve;var dFe=0,hFe=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++dFe}return n.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&br(r,pFe);return new n({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!Nr(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=to(this.categories))},n}();function pFe(n){return no(n)&&n.value!=null?n.value:n+""}const gZ=hFe;function vZ(n){return n.type==="interval"||n.type==="log"}function mFe(n,e,t,r){var i={},u=n[1]-n[0],l=i.interval=Kee(u/e,!0);t!=null&&l<t&&(l=i.interval=t),r!=null&&l>r&&(l=i.interval=r);var f=i.intervalPrecision=Tve(l),h=i.niceTickExtent=[el(Math.ceil(n[0]/l)*l,f),el(Math.floor(n[1]/l)*l,f)];return gFe(h,n),i}function mJ(n){var e=Math.pow(10,JV(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,el(t*e)}function Tve(n){return sy(n)+2}function gse(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function gFe(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),gse(n,0,e),gse(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function M9(n,e){return n>=e[0]&&n<=e[1]}function k9(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function D9(n,e){return n*(e[1]-e[0])+e[0]}var Mve=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new gZ({})),sr(i)&&(i=new gZ({categories:br(i,function(u){return no(u)?u.value:u})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:Nr(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),M9(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),k9(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(D9(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],u=this._ticksByOrdinalNumber=[],l=0,f=this._ordinalMeta.categories.length,h=Math.min(f,r.length);l<h;++l){var g=r[l];i[l]=g,u[g]=l}for(var y=0;l<f;++l){for(;u[y]!=null;)y++;i.push(y),u[y]=l}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Ub);Ub.registerClass(Mve);const Yte=Mve;var $T=el,kve=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return M9(t,this._extent)},e.prototype.normalize=function(t){return k9(t,this._extent)},e.prototype.scale=function(t){return D9(t,this._extent)},e.prototype.setExtent=function(t,r){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Tve(t)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,u=this._niceExtent,l=this._intervalPrecision,f=[];if(!r)return f;var h=1e4;i[0]<u[0]&&(t?f.push({value:$T(u[0]-r,l)}):f.push({value:i[0]}));for(var g=u[0];g<=u[1]&&(f.push({value:g}),g=$T(g+r,l),g!==f[f.length-1].value);)if(f.length>h)return[];var y=f.length?f[f.length-1].value:u[1];return i[1]>y&&(t?f.push({value:$T(y+r,l)}):f.push({value:i[1]})),f},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],u=this.getExtent(),l=1;l<r.length;l++){for(var f=r[l],h=r[l-1],g=0,y=[],b=f.value-h.value,S=b/t;g<t-1;){var _=$T(h.value+(g+1)*S);_>u[0]&&_<u[1]&&y.push(_),g++}i.push(y)}return i},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=sy(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var u=$T(t.value,i,!0);return _te(u)},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var u=this._extent,l=u[1]-u[0];if(isFinite(l)){l<0&&(l=-l,u.reverse());var f=mFe(u,t,r,i);this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var u=r[1]-r[0];isFinite(u)||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var l=this._interval;t.fixMin||(r[0]=$T(Math.floor(r[0]/l)*l)),t.fixMax||(r[1]=$T(Math.ceil(r[1]/l)*l))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e}(Ub);Ub.registerClass(kve);const e_=kve;var Dve=typeof Float32Array<"u",vFe=Dve?Float32Array:Array;function Cb(n){return sr(n)?Dve?new Float32Array(n):n:new vFe(n)}var yFe="__ec_stack_";function Kte(n){return n.get("stack")||yFe+n.seriesIndex}function Jte(n){return n.dim+n.index}function Ave(n,e){var t=[];return e.eachSeriesByType(n,function(r){Rve(r)&&t.push(r)}),t}function bFe(n){var e={};Te(n,function(h){var g=h.coordinateSystem,y=g.getBaseAxis();if(!(y.type!=="time"&&y.type!=="value"))for(var b=h.getData(),S=y.dim+"_"+y.index,_=b.getDimensionIndex(b.mapDimension(y.dim)),k=b.getStore(),A=0,R=k.count();A<R;++A){var I=k.get(_,A);e[S]?e[S].push(I):e[S]=[I]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(h,g){return h-g});for(var u=null,l=1;l<i.length;++l){var f=i[l]-i[l-1];f>0&&(u=u===null?f:Math.min(u,f))}t[r]=u}}return t}function Eve(n){var e=bFe(n),t=[];return Te(n,function(r){var i=r.coordinateSystem,u=i.getBaseAxis(),l=u.getExtent(),f;if(u.type==="category")f=u.getBandWidth();else if(u.type==="value"||u.type==="time"){var h=u.dim+"_"+u.index,g=e[h],y=Math.abs(l[1]-l[0]),b=u.scale.getExtent(),S=Math.abs(b[1]-b[0]);f=g?y/S*g:y}else{var _=r.getData();f=Math.abs(l[1]-l[0])/_.count()}var k=Xo(r.get("barWidth"),f),A=Xo(r.get("barMaxWidth"),f),R=Xo(r.get("barMinWidth")||(Pve(r)?.5:1),f),I=r.get("barGap"),z=r.get("barCategoryGap");t.push({bandWidth:f,barWidth:k,barMaxWidth:A,barMinWidth:R,barGap:I,barCategoryGap:z,axisKey:Jte(u),stackId:Kte(r)})}),xFe(t)}function xFe(n){var e={};Te(n,function(r,i){var u=r.axisKey,l=r.bandWidth,f=e[u]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},h=f.stacks;e[u]=f;var g=r.stackId;h[g]||f.autoWidthCount++,h[g]=h[g]||{width:0,maxWidth:0};var y=r.barWidth;y&&!h[g].width&&(h[g].width=y,y=Math.min(f.remainedWidth,y),f.remainedWidth-=y);var b=r.barMaxWidth;b&&(h[g].maxWidth=b);var S=r.barMinWidth;S&&(h[g].minWidth=S);var _=r.barGap;_!=null&&(f.gap=_);var k=r.barCategoryGap;k!=null&&(f.categoryGap=k)});var t={};return Te(e,function(r,i){t[i]={};var u=r.stacks,l=r.bandWidth,f=r.categoryGap;if(f==null){var h=ga(u).length;f=Math.max(35-h*4,15)+"%"}var g=Xo(f,l),y=Xo(r.gap,1),b=r.remainedWidth,S=r.autoWidthCount,_=(b-g)/(S+(S-1)*y);_=Math.max(_,0),Te(u,function(I){var z=I.maxWidth,L=I.minWidth;if(I.width){var q=I.width;z&&(q=Math.min(q,z)),L&&(q=Math.max(q,L)),I.width=q,b-=q+y*q,S--}else{var q=_;z&&z<q&&(q=Math.min(z,b)),L&&L>q&&(q=L),q!==_&&(I.width=q,b-=q+y*q,S--)}}),_=(b-g)/(S+(S-1)*y),_=Math.max(_,0);var k=0,A;Te(u,function(I,z){I.width||(I.width=_),A=I,k+=I.width*(1+y)}),A&&(k-=A.width*y);var R=-k/2;Te(u,function(I,z){t[i][z]=t[i][z]||{bandWidth:l,offset:R,width:I.width},R+=I.width*(1+y)})}),t}function wFe(n,e,t){if(n&&e){var r=n[Jte(e)];return r!=null&&t!=null?r[Kte(t)]:r}}function Ove(n,e){var t=Ave(n,e),r=Eve(t);Te(t,function(i){var u=i.getData(),l=i.coordinateSystem,f=l.getBaseAxis(),h=Kte(i),g=r[Jte(f)][h],y=g.offset,b=g.width;u.setLayout({bandWidth:g.bandWidth,offset:y,size:b})})}function Ive(n){return{seriesType:n,plan:Pte(),reset:function(e){if(Rve(e)){var t=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),u=r.getOtherAxis(i),l=t.getDimensionIndex(t.mapDimension(u.dim)),f=t.getDimensionIndex(t.mapDimension(i.dim)),h=e.get("showBackground",!0),g=t.mapDimension(u.dim),y=t.getCalculationInfo("stackResultDimension"),b=Z2(t,g)&&!!t.getCalculationInfo("stackedOnSeries"),S=u.isHorizontal(),_=_Fe(i,u),k=Pve(e),A=e.get("barMinHeight")||0,R=y&&t.getDimensionIndex(y),I=t.getLayout("size"),z=t.getLayout("offset");return{progress:function(L,q){for(var X=L.count,Y=k&&Cb(X*3),ae=k&&h&&Cb(X*3),te=k&&Cb(X),ie=r.master.getRect(),le=S?ie.width:ie.height,ce,ne=q.getStore(),Q=0;(ce=L.next())!=null;){var Ce=ne.get(b?R:l,ce),ze=ne.get(f,ce),ke=_,St=void 0;b&&(St=+Ce-ne.get(l,ce));var tt=void 0,G=void 0,We=void 0,Ge=void 0;if(S){var pt=r.dataToPoint([Ce,ze]);if(b){var Ze=r.dataToPoint([St,ze]);ke=Ze[0]}tt=ke,G=pt[1]+z,We=pt[0]-ke,Ge=I,Math.abs(We)<A&&(We=(We<0?-1:1)*A)}else{var pt=r.dataToPoint([ze,Ce]);if(b){var Ze=r.dataToPoint([ze,St]);ke=Ze[1]}tt=pt[0]+z,G=ke,We=I,Ge=pt[1]-ke,Math.abs(Ge)<A&&(Ge=(Ge<=0?-1:1)*A)}k?(Y[Q]=tt,Y[Q+1]=G,Y[Q+2]=S?We:Ge,ae&&(ae[Q]=S?ie.x:tt,ae[Q+1]=S?G:ie.y,ae[Q+2]=le),te[ce]=ce):q.setItemLayout(ce,{x:tt,y:G,width:We,height:Ge}),Q+=3}k&&q.setLayout({largePoints:Y,largeDataIndices:te,largeBackgroundPoints:ae,valueAxisHorizontal:S})}}}}}}function Rve(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function Pve(n){return n.pipelineContext&&n.pipelineContext.large}function _Fe(n,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var SFe=function(n,e,t,r){for(;t<r;){var i=t+r>>>1;n[i][1]<e?t=i+1:r=i}return t},Nve=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return zL(t.value,uue[HBe(E3(this._minLevelUnit))]||uue.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var u=this.getSetting("useUTC"),l=this.getSetting("locale");return VBe(t,r,i,l,u)},e.prototype.getTicks=function(){var t=this._interval,r=this._extent,i=[];if(!t)return i;i.push({value:r[0],level:0});var u=this.getSetting("useUTC"),l=EFe(this._minLevelUnit,this._approxInterval,u,r);return i=i.concat(l),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Gm,r[1]+=Gm),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-Gm}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){t=t||10;var u=this._extent,l=u[1]-u[0];this._approxInterval=l/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var f=LF.length,h=Math.min(SFe(LF,this._approxInterval,0,f),f-1);this._interval=LF[h][1],this._minLevelUnit=LF[Math.max(h-1,0)][0]},e.prototype.parse=function(t){return su(t)?t:+Ep(t)},e.prototype.contain=function(t){return M9(this.parse(t),this._extent)},e.prototype.normalize=function(t){return k9(this.parse(t),this._extent)},e.prototype.scale=function(t){return D9(t,this._extent)},e.type="time",e}(e_),LF=[["second",bte],["minute",xte],["hour",zN],["quarter-day",zN*6],["half-day",zN*12],["day",Gm*1.2],["half-week",Gm*3.5],["week",Gm*7],["month",Gm*31],["quarter",Gm*95],["half-year",aue/2],["year",aue]];function CFe(n,e,t,r){var i=Ep(e),u=Ep(t),l=function(k){return sue(i,k,r)===sue(u,k,r)},f=function(){return l("year")},h=function(){return f()&&l("month")},g=function(){return h()&&l("day")},y=function(){return g()&&l("hour")},b=function(){return y()&&l("minute")},S=function(){return b()&&l("second")},_=function(){return S()&&l("millisecond")};switch(n){case"year":return f();case"month":return h();case"day":return g();case"hour":return y();case"minute":return b();case"second":return S();case"millisecond":return _()}}function TFe(n,e){return n/=Gm,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function MFe(n){var e=30*Gm;return n/=e,n>6?6:n>3?3:n>2?2:1}function kFe(n){return n/=zN,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function vse(n,e){return n/=e?xte:bte,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function DFe(n){return Kee(n,!0)}function AFe(n,e,t){var r=new Date(n);switch(E3(e)){case"year":case"month":r[Yme(t)](0);case"day":r[Kme(t)](1);case"hour":r[Jme(t)](0);case"minute":r[Qme(t)](0);case"second":r[Zme(t)](0),r[ege(t)](0)}return r.getTime()}function EFe(n,e,t,r){var i=1e4,u=Gme,l=0;function f(le,ce,ne,Q,Ce,ze,ke){for(var St=new Date(ce),tt=ce,G=St[Q]();tt<ne&&tt<=r[1];)ke.push({value:tt}),G+=le,St[Ce](G),tt=St.getTime();ke.push({value:tt,notAdd:!0})}function h(le,ce,ne){var Q=[],Ce=!ce.length;if(!CFe(E3(le),r[0],r[1],t)){Ce&&(ce=[{value:AFe(new Date(r[0]),le,t)},{value:r[1]}]);for(var ze=0;ze<ce.length-1;ze++){var ke=ce[ze].value,St=ce[ze+1].value;if(ke!==St){var tt=void 0,G=void 0,We=void 0,Ge=!1;switch(le){case"year":tt=Math.max(1,Math.round(e/Gm/365)),G=wte(t),We=jBe(t);break;case"half-year":case"quarter":case"month":tt=MFe(e),G=O3(t),We=Yme(t);break;case"week":case"half-week":case"day":tt=TFe(e),G=h9(t),We=Kme(t),Ge=!0;break;case"half-day":case"quarter-day":case"hour":tt=kFe(e),G=aL(t),We=Jme(t);break;case"minute":tt=vse(e,!0),G=p9(t),We=Qme(t);break;case"second":tt=vse(e,!1),G=m9(t),We=Zme(t);break;case"millisecond":tt=DFe(e),G=g9(t),We=ege(t);break}f(tt,ke,St,G,We,Ge,Q),le==="year"&&ne.length>1&&ze===0&&ne.unshift({value:ne[0].value-tt})}}for(var ze=0;ze<Q.length;ze++)ne.push(Q[ze]);return Q}}for(var g=[],y=[],b=0,S=0,_=0;_<u.length&&l++<i;++_){var k=E3(u[_]);if(FBe(u[_])){h(u[_],g[g.length-1]||[],y);var A=u[_+1]?E3(u[_+1]):null;if(k!==A){if(y.length){S=b,y.sort(function(le,ce){return le.value-ce.value});for(var R=[],I=0;I<y.length;++I){var z=y[I].value;(I===0||y[I-1].value!==z)&&(R.push(y[I]),z>=r[0]&&z<=r[1]&&b++)}var L=(r[1]-r[0])/e;if(b>L*1.5&&S>L/1.5||(g.push(R),b>L||n===u[_]))break}y=[]}}}for(var q=Ls(br(g,function(ce){return Ls(ce,function(ne){return ne.value>=r[0]&&ne.value<=r[1]&&!ne.notAdd})}),function(ce){return ce.length>0}),X=[],Y=q.length-1,_=0;_<q.length;++_)for(var ae=q[_],te=0;te<ae.length;++te)X.push({value:ae[te].value,level:Y-_});X.sort(function(le,ce){return le.value-ce.value});for(var ie=[],_=0;_<X.length;++_)(_===0||X[_].value!==X[_-1].value)&&ie.push(X[_]);return ie}Ub.registerClass(Nve);const Lve=Nve;var yse=Ub.prototype,VN=e_.prototype,OFe=el,IFe=Math.floor,RFe=Math.ceil,BF=Math.pow,vv=Math.log,Qte=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new e_,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,i=this._extent,u=r.getExtent(),l=VN.getTicks.call(this,t);return br(l,function(f){var h=f.value,g=el(BF(this.base,h));return g=h===i[0]&&this._fixMin?zF(g,u[0]):g,g=h===i[1]&&this._fixMax?zF(g,u[1]):g,{value:g}},this)},e.prototype.setExtent=function(t,r){var i=vv(this.base);t=vv(Math.max(0,t))/i,r=vv(Math.max(0,r))/i,VN.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=yse.getExtent.call(this);r[0]=BF(t,r[0]),r[1]=BF(t,r[1]);var i=this._originalScale,u=i.getExtent();return this._fixMin&&(r[0]=zF(r[0],u[0])),this._fixMax&&(r[1]=zF(r[1],u[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=vv(t[0])/vv(r),t[1]=vv(t[1])/vv(r),yse.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var u=Upe(i),l=t/i*u;for(l<=.5&&(u*=10);!isNaN(u)&&Math.abs(u)<1&&Math.abs(u)>0;)u*=10;var f=[el(RFe(r[0]/u)*u),el(IFe(r[1]/u)*u)];this._interval=u,this._niceExtent=f}},e.prototype.calcNiceExtent=function(t){VN.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=vv(t)/vv(this.base),M9(t,this._extent)},e.prototype.normalize=function(t){return t=vv(t)/vv(this.base),k9(t,this._extent)},e.prototype.scale=function(t){return t=D9(t,this._extent),BF(this.base,t)},e.type="log",e}(Ub),Bve=Qte.prototype;Bve.getMinorTicks=VN.getMinorTicks;Bve.getLabel=VN.getLabel;function zF(n,e){return OFe(n,sy(e))}Ub.registerClass(Qte);const PFe=Qte;var NFe=function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var u=this._modelMinRaw=t.get("min",!0);Eo(u)?this._modelMinNum=FF(e,u({min:r[0],max:r[1]})):u!=="dataMin"&&(this._modelMinNum=FF(e,u));var l=this._modelMaxRaw=t.get("max",!0);if(Eo(l)?this._modelMaxNum=FF(e,l({min:r[0],max:r[1]})):l!=="dataMax"&&(this._modelMaxNum=FF(e,l)),i)this._axisDataLen=t.getCategories().length;else{var f=t.get("boundaryGap"),h=sr(f)?f:[f||0,f||0];typeof h[0]=="boolean"||typeof h[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Dv(h[0],1),Dv(h[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,u=this._boundaryGapInner,l=e?null:r-t||Math.abs(t),f=this._modelMinRaw==="dataMin"?t:this._modelMinNum,h=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,g=f!=null,y=h!=null;f==null&&(f=e?i?0:NaN:t-u[0]*l),h==null&&(h=e?i?i-1:NaN:r+u[1]*l),(f==null||!isFinite(f))&&(f=NaN),(h==null||!isFinite(h))&&(h=NaN);var b=KN(f)||KN(h)||e&&!i;this._needCrossZero&&(f>0&&h>0&&!g&&(f=0),f<0&&h<0&&!y&&(h=0));var S=this._determinedMin,_=this._determinedMax;return S!=null&&(f=S,g=!0),_!=null&&(h=_,y=!0),{min:f,max:h,minFixed:g,maxFixed:y,isBlank:b}},n.prototype.modifyDataMinMax=function(e,t){this[BFe[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var r=LFe[e];this[r]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),LFe={min:"_determinedMin",max:"_determinedMax"},BFe={min:"_dataMin",max:"_dataMax"};function zve(n,e,t){var r=n.rawExtentInfo;return r||(r=new NFe(n,e,t),n.rawExtentInfo=r,r)}function FF(n,e){return e==null?null:KN(e)?NaN:n.parse(e)}function Fve(n,e){var t=n.type,r=zve(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,u=r.max,l=e.ecModel;if(l&&t==="time"){var f=Ave("bar",l),h=!1;if(Te(f,function(b){h=h||b.getBaseAxis()===e.axis}),h){var g=Eve(f),y=zFe(i,u,e,g);i=y.min,u=y.max}}return{extent:[i,u],fixMin:r.minFixed,fixMax:r.maxFixed}}function zFe(n,e,t,r){var i=t.axis.getExtent(),u=i[1]-i[0],l=wFe(r,t.axis);if(l===void 0)return{min:n,max:e};var f=1/0;Te(l,function(_){f=Math.min(_.offset,f)});var h=-1/0;Te(l,function(_){h=Math.max(_.offset+_.width,h)}),f=Math.abs(f),h=Math.abs(h);var g=f+h,y=e-n,b=1-(f+h)/u,S=y/b-y;return e+=S*(h/g),n-=S*(f/g),{min:n,max:e}}function Q3(n,e){var t=e,r=Fve(n,t),i=r.extent,u=t.get("splitNumber");n instanceof PFe&&(n.base=t.get("logBase"));var l=n.type,f=t.get("interval"),h=l==="interval"||l==="time";n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:u,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:h?t.get("minInterval"):null,maxInterval:h?t.get("maxInterval"):null}),f!=null&&n.setInterval&&n.setInterval(f)}function A9(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new Yte({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Lve({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Ub.getClass(e)||e_)}}function FFe(n){var e=n.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function VL(n){var e=n.getLabelModel().get("formatter"),t=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(r){return function(i,u){return n.scale.getFormattedLabel(i,u,r)}}(e):Nr(e)?function(r){return function(i){var u=n.scale.getLabel(i),l=r.replace("{value}",u??"");return l}}(e):Eo(e)?function(r){return function(i,u){return t!=null&&(u=i.value-t),r(Zte(n,i),u,i.level!=null?{level:i.level}:null)}}(e):function(r){return n.scale.getLabel(r)}}function Zte(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function HFe(n){var e=n.model,t=n.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,i,u=t.getExtent();t instanceof Yte?i=t.count():(r=t.getTicks(),i=r.length);var l=n.getLabelModel(),f=VL(n),h,g=1;i>40&&(g=Math.ceil(i/40));for(var y=0;y<i;y+=g){var b=r?r[y]:{value:u[0]+y},S=f(b,y),_=l.getTextRect(S),k=VFe(_,l.get("rotate")||0);h?h.union(k):h=k}return h}}function VFe(n,e){var t=e*Math.PI/180,r=n.width,i=n.height,u=r*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),l=r*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),f=new vi(n.x,n.y,u,l);return f}function ene(n){var e=n.get("interval");return e??"auto"}function Hve(n){return n.type==="category"&&ene(n.getLabelModel())===0}function xV(n,e){var t={};return Te(n.mapDimensionsAll(e),function(r){t[Sve(n,r)]=!0}),ga(t)}function jFe(n,e,t){e&&Te(xV(e,t),function(r){var i=e.getApproximateExtent(r);i[0]<n[0]&&(n[0]=i[0]),i[1]>n[1]&&(n[1]=i[1])})}var jL=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n}();function UFe(n){return HL(null,n)}var WFe={isDimensionStacked:Z2,enableDataStack:_ve,getStackedDimension:Sve};function qFe(n,e){var t=e;e instanceof xs||(t=new xs(e));var r=A9(t);return r.setExtent(n[0],n[1]),Q3(r,t),r}function $Fe(n){cf(n,jL)}function GFe(n,e){return e=e||{},wl(n,null,null,e.state!=="normal")}const XFe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:eFe,createList:UFe,createScale:qFe,createSymbol:sf,createTextStyle:GFe,dataStack:WFe,enableHoverEmphasis:$2,getECData:Ai,getLayoutRect:Rd,mixinAxisModelCommonMethods:$Fe},Symbol.toStringTag,{value:"Module"}));var bse=[],YFe={registerPreprocessor:Ute,registerProcessor:Wte,registerPostInit:fve,registerPostUpdate:dve,registerUpdateLifecycle:C9,registerAction:Ov,registerCoordinateSystem:hve,registerLayout:pve,registerVisual:u_,registerTransform:gve,registerLoading:$te,registerMap:mve,registerImpl:h7e,PRIORITY:nve,ComponentModel:Vi,ComponentView:zs,SeriesModel:Dh,ChartView:uf,registerComponentModel:function(n){Vi.registerClass(n)},registerComponentView:function(n){zs.registerClass(n)},registerSeriesModel:function(n){Dh.registerClass(n)},registerChartView:function(n){uf.registerClass(n)},registerSubTypeDefaulter:function(n,e){Vi.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){Fpe(n,e)}};function Rc(n){if(sr(n)){Te(n,function(e){Rc(e)});return}Di(bse,n)>=0||(bse.push(n),Eo(n)&&(n={install:n}),n.install(YFe))}var KFe=1e-8;function xse(n,e){return Math.abs(n-e)<KFe}function wse(n,e,t){var r=0,i=n[0];if(!i)return!1;for(var u=1;u<n.length;u++){var l=n[u];r+=wb(i[0],i[1],l[0],l[1],e,t),i=l}var f=n[0];return(!xse(i[0],f[0])||!xse(i[1],f[1]))&&(r+=wb(i[0],i[1],f[0],f[1],e,t)),r!==0}var JFe=[];function gJ(n,e){for(var t=0;t<n.length;t++)Ic(n[t],n[t],e)}function _se(n,e,t,r){for(var i=0;i<n.length;i++){var u=n[i];r&&(u=r.project(u)),u&&isFinite(u[0])&&isFinite(u[1])&&(_b(e,e,u),Sb(t,t,u))}}function QFe(n){for(var e=0,t=0,r=0,i=n.length,u=n[i-1][0],l=n[i-1][1],f=0;f<i;f++){var h=n[f][0],g=n[f][1],y=u*g-h*l;e+=y,t+=(u+h)*y,r+=(l+g)*y,u=h,l=g}return e?[t/e/3,r/e/3,e]:[n[0][0]||0,n[0][1]||0]}var Vve=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),Sse=function(){function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return n}(),Cse=function(){function n(e){this.type="linestring",this.points=e}return n}(),jve=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,t)||this;return u.type="geoJSON",u.geometries=r,u._center=i&&[i[0],i[1]],u}return e.prototype.calcCenter=function(){for(var t=this.geometries,r,i=0,u=0;u<t.length;u++){var l=t[u],f=l.exterior,h=f&&f.length;h>i&&(r=l,i=h)}if(r)return QFe(r.exterior);var g=this.getBoundingRect();return[g.x+g.width/2,g.y+g.height/2]},e.prototype.getBoundingRect=function(t){var r=this._rect;if(r&&!t)return r;var i=[1/0,1/0],u=[-1/0,-1/0],l=this.geometries;return Te(l,function(f){f.type==="polygon"?_se(f.exterior,i,u,t):Te(f.points,function(h){_se(h,i,u,t)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(u[0])&&isFinite(u[1])||(i[0]=i[1]=u[0]=u[1]=0),r=new vi(i[0],i[1],u[0]-i[0],u[1]-i[1]),t||(this._rect=r),r},e.prototype.contain=function(t){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(t[0],t[1]))return!1;e:for(var u=0,l=i.length;u<l;u++){var f=i[u];if(f.type==="polygon"){var h=f.exterior,g=f.interiors;if(wse(h,t[0],t[1])){for(var y=0;y<(g?g.length:0);y++)if(wse(g[y],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,r,i,u){var l=this.getBoundingRect(),f=l.width/l.height;i?u||(u=i/f):i=f*u;for(var h=new vi(t,r,i,u),g=l.calculateTransform(h),y=this.geometries,b=0;b<y.length;b++){var S=y[b];S.type==="polygon"?(gJ(S.exterior,g),Te(S.interiors,function(_){gJ(_,g)})):Te(S.points,function(_){gJ(_,g)})}l=this._rect,l.copy(h),this._center=[l.x+l.width/2,l.y+l.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var r=new e(t,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},e}(Vve),ZFe=function(n){Tn(e,n);function e(t,r){var i=n.call(this,t)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,r=t.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],u=IL(JFe),l=t;l&&!l.isGeoSVGGraphicRoot;)fy(u,l.getLocalTransform(),u),l=l.parent;return c5(u,u),Ic(i,i,u),i},e}(Vve);function eHe(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;t==null&&(t=1024);var r=e.features;return Te(r,function(i){var u=i.geometry,l=u.encodeOffsets,f=u.coordinates;if(l)switch(u.type){case"LineString":u.coordinates=Uve(f,l,t);break;case"Polygon":vJ(f,l,t);break;case"MultiLineString":vJ(f,l,t);break;case"MultiPolygon":Te(f,function(h,g){return vJ(h,l[g],t)})}}),e.UTF8Encoding=!1,e}function vJ(n,e,t){for(var r=0;r<n.length;r++)n[r]=Uve(n[r],e[r],t)}function Uve(n,e,t){for(var r=[],i=e[0],u=e[1],l=0;l<n.length;l+=2){var f=n.charCodeAt(l)-64,h=n.charCodeAt(l+1)-64;f=f>>1^-(f&1),h=h>>1^-(h&1),f+=i,h+=u,i=f,u=h,r.push([f/t,h/t])}return r}function yZ(n,e){return n=eHe(n),br(Ls(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties,i=t.geometry,u=[];switch(i.type){case"Polygon":var l=i.coordinates;u.push(new Sse(l[0],l.slice(1)));break;case"MultiPolygon":Te(i.coordinates,function(h){h[0]&&u.push(new Sse(h[0],h.slice(1)))});break;case"LineString":u.push(new Cse([i.coordinates]));break;case"MultiLineString":u.push(new Cse(i.coordinates))}var f=new jve(r[e||"name"],u,r.cp);return f.properties=r,f})}const tHe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:QNe,asc:uy,getPercentWithPrecision:KNe,getPixelPrecision:Xee,getPrecision:sy,getPrecisionSafe:Vpe,isNumeric:Jee,isRadianAroundZero:ZN,linearMap:rs,nice:Kee,numericToNumber:eL,parseDate:Ep,quantile:eLe,quantity:Upe,quantityExponent:JV,reformIntervals:qQ,remRadian:Yee,round:el},Symbol.toStringTag,{value:"Module"})),nHe=Object.freeze(Object.defineProperty({__proto__:null,format:zL,parse:Ep},Symbol.toStringTag,{value:"Module"})),rHe=Object.freeze(Object.defineProperty({__proto__:null,Arc:i9,BezierCurve:ute,BoundingRect:vi,Circle:Av,CompoundPath:ste,Ellipse:o9,Group:hi,Image:Ip,IncrementalDisplayable:zme,Line:Od,LinearGradient:BL,Polygon:Sy,Polyline:tg,RadialGradient:lte,Rect:va,Ring:LL,Sector:_y,Text:ya,clipPointsByRect:mte,clipRectByRect:jme,createIcon:d5,extendPath:Hme,extendShape:Fme,getShapeClass:dte,getTransform:G2,initProps:Id,makeImage:hte,makePath:a9,mergePath:$m,registerShape:ng,resizePath:pte,updateProps:tl},Symbol.toStringTag,{value:"Module"})),oHe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:_te,capitalFirst:$Be,encodeHTML:yh,formatTime:qBe,formatTpl:Cte,getTextRect:UBe,getTooltipMarker:tge,normalizeCssArray:m5,toCamelCase:Ste,truncateText:eme},Symbol.toStringTag,{value:"Module"})),iHe=Object.freeze(Object.defineProperty({__proto__:null,bind:Ur,clone:vo,curry:ji,defaults:Co,each:Te,extend:Gn,filter:Ls,indexOf:Di,inherits:Bee,isArray:sr,isFunction:Eo,isObject:no,isString:Nr,map:br,merge:Vo,reduce:Jm},Symbol.toStringTag,{value:"Module"}));var dL=lu();function aHe(n){return n.type==="category"?sHe(n):cHe(n)}function uHe(n,e){return n.type==="category"?lHe(n,e):{ticks:br(n.scale.getTicks(),function(t){return t.value})}}function sHe(n){var e=n.getLabelModel(),t=Wve(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function Wve(n,e){var t=qve(n,"labels"),r=ene(e),i=$ve(t,r);if(i)return i;var u,l;return Eo(r)?u=Yve(n,r):(l=r==="auto"?fHe(n):r,u=Xve(n,l)),Gve(t,r,{labels:u,labelCategoryInterval:l})}function lHe(n,e){var t=qve(n,"ticks"),r=ene(e),i=$ve(t,r);if(i)return i;var u,l;if((!e.get("show")||n.scale.isBlank())&&(u=[]),Eo(r))u=Yve(n,r,!0);else if(r==="auto"){var f=Wve(n,n.getLabelModel());l=f.labelCategoryInterval,u=br(f.labels,function(h){return h.tickValue})}else l=r,u=Xve(n,l,!0);return Gve(t,r,{ticks:u,tickCategoryInterval:l})}function cHe(n){var e=n.scale.getTicks(),t=VL(n);return{labels:br(e,function(r,i){return{level:r.level,formattedLabel:t(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}function qve(n,e){return dL(n)[e]||(dL(n)[e]=[])}function $ve(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function Gve(n,e,t){return n.push({key:e,value:t}),t}function fHe(n){var e=dL(n).autoInterval;return e??(dL(n).autoInterval=n.calculateCategoryInterval())}function dHe(n){var e=hHe(n),t=VL(n),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=n.scale,u=i.getExtent(),l=i.count();if(u[1]-u[0]<1)return 0;var f=1;l>40&&(f=Math.max(1,Math.floor(l/40)));for(var h=u[0],g=n.dataToCoord(h+1)-n.dataToCoord(h),y=Math.abs(g*Math.cos(r)),b=Math.abs(g*Math.sin(r)),S=0,_=0;h<=u[1];h+=f){var k=0,A=0,R=PL(t({value:h}),e.font,"center","top");k=R.width*1.3,A=R.height*1.3,S=Math.max(S,k,7),_=Math.max(_,A,7)}var I=S/y,z=_/b;isNaN(I)&&(I=1/0),isNaN(z)&&(z=1/0);var L=Math.max(0,Math.floor(Math.min(I,z))),q=dL(n.model),X=n.getExtent(),Y=q.lastAutoInterval,ae=q.lastTickCount;return Y!=null&&ae!=null&&Math.abs(Y-L)<=1&&Math.abs(ae-l)<=1&&Y>L&&q.axisExtent0===X[0]&&q.axisExtent1===X[1]?L=Y:(q.lastTickCount=l,q.lastAutoInterval=L,q.axisExtent0=X[0],q.axisExtent1=X[1]),L}function hHe(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Xve(n,e,t){var r=VL(n),i=n.scale,u=i.getExtent(),l=n.getLabelModel(),f=[],h=Math.max((e||0)+1,1),g=u[0],y=i.count();g!==0&&h>1&&y/h>2&&(g=Math.round(Math.ceil(g/h)*h));var b=Hve(n),S=l.get("showMinLabel")||b,_=l.get("showMaxLabel")||b;S&&g!==u[0]&&A(u[0]);for(var k=g;k<=u[1];k+=h)A(k);_&&k-h!==u[1]&&A(u[1]);function A(R){var I={value:R};f.push(t?R:{formattedLabel:r(I),rawLabel:i.getLabel(I),tickValue:R})}return f}function Yve(n,e,t){var r=n.scale,i=VL(n),u=[];return Te(r.getTicks(),function(l){var f=r.getLabel(l),h=l.value;e(l.value,f)&&u.push(t?h:{formattedLabel:i(l),rawLabel:f,tickValue:h})}),u}var Tse=[0,1],pHe=function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return Xee(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),Mse(r,i.count())),rs(e,Tse,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),Mse(r,i.count()));var u=rs(e,r,Tse,t);return this.scale.scale(u)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=uHe(this,t),i=r.ticks,u=br(i,function(f){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(f):f),tickValue:f}},this),l=t.get("alignWithLabel");return mHe(this,u,l,e.clamp),u},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=br(r,function(u){return br(u,function(l){return{coord:this.dataToCoord(l),tickValue:l}},this)},this);return i},n.prototype.getViewLabels=function(){return aHe(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return dHe(this)},n}();function Mse(n,e){var t=n[1]-n[0],r=e,i=t/r/2;n[0]+=i,n[1]-=i}function mHe(n,e,t,r){var i=e.length;if(!n.onBand||t||!i)return;var u=n.getExtent(),l,f;if(i===1)e[0].coord=u[0],l=e[1]={coord:u[1]};else{var h=e[i-1].tickValue-e[0].tickValue,g=(e[i-1].coord-e[0].coord)/h;Te(e,function(_){_.coord-=g/2});var y=n.scale.getExtent();f=1+y[1]-e[i-1].tickValue,l={coord:e[i-1].coord+g*f},e.push(l)}var b=u[0]>u[1];S(e[0].coord,u[0])&&(r?e[0].coord=u[0]:e.shift()),r&&S(u[0],e[0].coord)&&e.unshift({coord:u[0]}),S(u[1],l.coord)&&(r?l.coord=u[1]:e.pop()),r&&S(l.coord,u[1])&&e.push({coord:u[1]});function S(_,k){return _=el(_),k=el(k),b?_>k:_<k}}const Iv=pHe;function gHe(n){var e=Vi.extend(n);return Vi.registerClass(e),e}function vHe(n){var e=zs.extend(n);return zs.registerClass(e),e}function yHe(n){var e=Dh.extend(n);return Dh.registerClass(e),e}function bHe(n){var e=uf.extend(n);return uf.registerClass(e),e}function Kve(n,e,t,r,i,u,l,f){var h=i-n,g=u-e,y=t-n,b=r-e,S=Math.sqrt(y*y+b*b);y/=S,b/=S;var _=h*y+g*b,k=_/S;f&&(k=Math.min(Math.max(k,0),1)),k*=S;var A=l[0]=n+k*y,R=l[1]=e+k*b;return Math.sqrt((A-i)*(A-i)+(R-u)*(R-u))}var z2=new di,Zs=new di,rf=new di,F2=new di,ay=new di,wV=[],Ad=new di;function xHe(n,e){if(e<=180&&e>0){e=e/180*Math.PI,z2.fromArray(n[0]),Zs.fromArray(n[1]),rf.fromArray(n[2]),di.sub(F2,z2,Zs),di.sub(ay,rf,Zs);var t=F2.len(),r=ay.len();if(!(t<.001||r<.001)){F2.scale(1/t),ay.scale(1/r);var i=F2.dot(ay),u=Math.cos(e);if(u<i){var l=Kve(Zs.x,Zs.y,rf.x,rf.y,z2.x,z2.y,wV,!1);Ad.fromArray(wV),Ad.scaleAndAdd(ay,l/Math.tan(Math.PI-e));var f=rf.x!==Zs.x?(Ad.x-Zs.x)/(rf.x-Zs.x):(Ad.y-Zs.y)/(rf.y-Zs.y);if(isNaN(f))return;f<0?di.copy(Ad,Zs):f>1&&di.copy(Ad,rf),Ad.toArray(n[1])}}}}function wHe(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,z2.fromArray(n[0]),Zs.fromArray(n[1]),rf.fromArray(n[2]),di.sub(F2,Zs,z2),di.sub(ay,rf,Zs);var r=F2.len(),i=ay.len();if(!(r<.001||i<.001)){F2.scale(1/r),ay.scale(1/i);var u=F2.dot(e),l=Math.cos(t);if(u<l){var f=Kve(Zs.x,Zs.y,rf.x,rf.y,z2.x,z2.y,wV,!1);Ad.fromArray(wV);var h=Math.PI/2,g=Math.acos(ay.dot(e)),y=h+g-t;if(y>=h)di.copy(Ad,rf);else{Ad.scaleAndAdd(ay,f/Math.tan(Math.PI/2-y));var b=rf.x!==Zs.x?(Ad.x-Zs.x)/(rf.x-Zs.x):(Ad.y-Zs.y)/(rf.y-Zs.y);if(isNaN(b))return;b<0?di.copy(Ad,Zs):b>1&&di.copy(Ad,rf)}Ad.toArray(n[1])}}}}function kse(n,e,t,r){var i=t==="normal",u=i?n:n.ensureState(t);u.ignore=e;var l=r.get("smooth");l&&l===!0&&(l=.3),u.shape=u.shape||{},l>0&&(u.shape.smooth=l);var f=r.getModel("lineStyle").getLineStyle();i?n.useStyle(f):u.style=f}function _He(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=YH(r[0],r[1]),u=YH(r[1],r[2]);if(!i||!u){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var l=Math.min(i,u)*t,f=fH([],r[1],r[0],l/i),h=fH([],r[1],r[2],l/u),g=fH([],f,h,.5);n.bezierCurveTo(f[0],f[1],f[0],f[1],g[0],g[1]),n.bezierCurveTo(h[0],h[1],h[0],h[1],r[2][0],r[2][1])}else for(var y=1;y<r.length;y++)n.lineTo(r[y][0],r[y][1])}function SHe(n,e,t){var r=n.getTextGuideLine(),i=n.getTextContent();if(!i){r&&n.removeTextGuideLine();return}for(var u=e.normal,l=u.get("show"),f=i.ignore,h=0;h<oV.length;h++){var g=oV[h],y=e[g],b=g==="normal";if(y){var S=y.get("show"),_=b?f:Gi(i.states[g]&&i.states[g].ignore,f);if(_||!Gi(S,l)){var k=b?r:r&&r.states[g];k&&(k.ignore=!0);continue}r||(r=new tg,n.setTextGuideLine(r),!b&&(f||!l)&&kse(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),kse(r,!1,g,y)}}if(r){Co(r.style,t),r.style.fill=null;var A=u.get("showAbove"),R=n.textGuideLineConfig=n.textGuideLineConfig||{};R.showAbove=A||!1,r.buildPath=_He}}function CHe(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},r=0;r<Zm.length;r++){var i=Zm[r];t[i]=n.getModel([i,e])}return t}function THe(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];if(!r.defaultAttr.ignore){var i=r.label,u=i.getComputedTransform(),l=i.getBoundingRect(),f=!u||u[1]<1e-5&&u[2]<1e-5,h=i.style.margin||0,g=l.clone();g.applyTransform(u),g.x-=h/2,g.y-=h/2,g.width+=h,g.height+=h;var y=f?new iV(l,u):null;e.push({label:i,labelLine:r.labelLine,rect:g,localRect:l,obb:y,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:f,transform:u})}}return e}function MHe(n,e,t,r,i,u){var l=n.length;if(l<2)return;n.sort(function(te,ie){return te.rect[e]-ie.rect[e]});for(var f=0,h,g=!1,y=0,b=0;b<l;b++){var S=n[b],_=S.rect;h=_[e]-f,h<0&&(_[e]-=h,S.label[e]-=h,g=!0);var k=Math.max(-h,0);y+=k,f=_[e]+_[t]}y>0&&u&&X(-y/l,0,l);var A=n[0],R=n[l-1],I,z;L(),I<0&&Y(-I,.8),z<0&&Y(z,.8),L(),q(I,z,1),q(z,I,-1),L(),I<0&&ae(-I),z<0&&ae(z);function L(){I=A.rect[e]-r,z=i-R.rect[e]-R.rect[t]}function q(te,ie,le){if(te<0){var ce=Math.min(ie,-te);if(ce>0){X(ce*le,0,l);var ne=ce+te;ne<0&&Y(-ne*le,1)}else Y(-te*le,1)}}function X(te,ie,le){te!==0&&(g=!0);for(var ce=ie;ce<le;ce++){var ne=n[ce],Q=ne.rect;Q[e]+=te,ne.label[e]+=te}}function Y(te,ie){for(var le=[],ce=0,ne=1;ne<l;ne++){var Q=n[ne-1].rect,Ce=Math.max(n[ne].rect[e]-Q[e]-Q[t],0);le.push(Ce),ce+=Ce}if(ce){var ze=Math.min(Math.abs(te)/ce,ie);if(te>0)for(var ne=0;ne<l-1;ne++){var ke=le[ne]*ze;X(ke,0,ne+1)}else for(var ne=l-1;ne>0;ne--){var ke=le[ne-1]*ze;X(-ke,ne,l)}}}function ae(te){var ie=te<0?-1:1;te=Math.abs(te);for(var le=Math.ceil(te/(l-1)),ce=0;ce<l-1;ce++)if(ie>0?X(le,0,ce+1):X(-le,l-ce-1,l),te-=le,te<=0)return}return g}function kHe(n,e,t,r){return MHe(n,"y","height",e,t,r)}function DHe(n){var e=[];n.sort(function(A,R){return R.priority-A.priority});var t=new vi(0,0,0,0);function r(A){if(!A.ignore){var R=A.ensureState("emphasis");R.ignore==null&&(R.ignore=!1)}A.ignore=!0}for(var i=0;i<n.length;i++){var u=n[i],l=u.axisAligned,f=u.localRect,h=u.transform,g=u.label,y=u.labelLine;t.copy(u.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var b=u.obb,S=!1,_=0;_<e.length;_++){var k=e[_];if(t.intersect(k.rect)){if(l&&k.axisAligned){S=!0;break}if(k.obb||(k.obb=new iV(k.localRect,k.transform)),b||(b=new iV(f,h)),b.intersect(k.obb)){S=!0;break}}}S?(r(g),y&&r(y)):(g.attr("ignore",u.defaultAttr.ignore),y&&y.attr("ignore",u.defaultAttr.labelGuideIgnore),e.push(u))}}const Dse=Object.freeze(Object.defineProperty({__proto__:null,Axis:Iv,ChartView:uf,ComponentModel:Vi,ComponentView:zs,List:T9,Model:xs,PRIORITY:nve,SeriesModel:Dh,color:hNe,connect:R7e,dataTool:H7e,dependencies:m7e,disConnect:P7e,disconnect:cve,dispose:N7e,env:Li,extendChartView:bHe,extendComponentModel:gHe,extendComponentView:vHe,extendSeriesModel:yHe,format:oHe,getCoordinateSystemDimensions:B7e,getInstanceByDom:Vte,getInstanceById:L7e,getMap:F7e,graphic:rHe,helper:XFe,init:I7e,innerDrawElementOnCanvas:Bte,matrix:BPe,number:tHe,parseGeoJSON:yZ,parseGeoJson:yZ,registerAction:Ov,registerCoordinateSystem:hve,registerLayout:pve,registerLoading:$te,registerLocale:yte,registerMap:mve,registerPostInit:fve,registerPostUpdate:dve,registerPreprocessor:Ute,registerProcessor:Wte,registerTheme:jte,registerTransform:gve,registerUpdateLifecycle:C9,registerVisual:u_,setCanvasCreator:z7e,setPlatformAPI:npe,throttle:w9,time:nHe,use:Rc,util:iHe,vector:xPe,version:p7e,zrUtil:fPe,zrender:XNe},Symbol.toStringTag,{value:"Module"}));var AHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return HL(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var r=new hi,i=sf("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);r.add(i),i.setStyle(t.lineStyle);var u=this.getData().getVisual("symbol"),l=this.getData().getVisual("symbolRotate"),f=u==="none"?"circle":u,h=t.itemHeight*.8,g=sf(f,(t.itemWidth-h)/2,(t.itemHeight-h)/2,h,h,t.itemStyle.fill);r.add(g),g.setStyle(t.itemStyle);var y=t.iconRotate==="inherit"?l:t.iconRotate||0;return g.rotation=y*Math.PI/180,g.setOrigin([t.itemWidth/2,t.itemHeight/2]),f.indexOf("empty")>-1&&(g.style.stroke=g.style.fill,g.style.fill="#fff",g.style.lineWidth=2),r},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Dh);const EHe=AHe;function E9(n,e){var t=n.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var i=J3(n,e,t[0]);return i!=null?i+"":null}else if(r){for(var u=[],l=0;l<t.length;l++)u.push(J3(n,e,t[l]));return u.join(" ")}}function Jve(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!sr(e))return e+"";for(var r=[],i=0;i<t.length;i++){var u=n.getDimensionIndex(t[i]);u>=0&&r.push(e[u])}return r.join(" ")}var OHe=function(n){Tn(e,n);function e(t,r,i,u){var l=n.call(this)||this;return l.updateData(t,r,i,u),l}return e.prototype._createSymbol=function(t,r,i,u,l){this.removeAll();var f=sf(t,-1,-1,2,2,null,l);f.attr({z2:100,culling:!0,scaleX:u[0]/2,scaleY:u[1]/2}),f.drift=IHe,this._symbolType=t,this.add(f)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){X3(this.childAt(0))},e.prototype.downplay=function(){Y3(this.childAt(0))},e.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},e.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},e.prototype.updateData=function(t,r,i,u){this.silent=!1;var l=t.getItemVisual(r,"symbol")||"circle",f=t.hostModel,h=e.getSymbolSize(t,r),g=l!==this._symbolType,y=u&&u.disableAnimation;if(g){var b=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(l,t,r,h,b)}else{var S=this.childAt(0);S.silent=!1;var _={scaleX:h[0]/2,scaleY:h[1]/2};y?S.attr(_):tl(S,_,f,r),rL(S)}if(this._updateCommon(t,r,h,i,u),g){var S=this.childAt(0);if(!y){var _={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:S.style.opacity}};S.scaleX=S.scaleY=0,S.style.opacity=0,Id(S,_,f,r)}}y&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,i,u,l){var f=this.childAt(0),h=t.hostModel,g,y,b,S,_,k,A,R,I;if(u&&(g=u.emphasisItemStyle,y=u.blurItemStyle,b=u.selectItemStyle,S=u.focus,_=u.blurScope,A=u.labelStatesModels,R=u.hoverScale,I=u.cursorStyle,k=u.emphasisDisabled),!u||t.hasItemOption){var z=u&&u.itemModel?u.itemModel:t.getItemModel(r),L=z.getModel("emphasis");g=L.getModel("itemStyle").getItemStyle(),b=z.getModel(["select","itemStyle"]).getItemStyle(),y=z.getModel(["blur","itemStyle"]).getItemStyle(),S=L.get("focus"),_=L.get("blurScope"),k=L.get("disabled"),A=jb(z),R=L.getShallow("scale"),I=z.getShallow("cursor")}var q=t.getItemVisual(r,"symbolRotate");f.attr("rotation",(q||0)*Math.PI/180||0);var X=_9(t.getItemVisual(r,"symbolOffset"),i);X&&(f.x=X[0],f.y=X[1]),I&&f.attr("cursor",I);var Y=t.getItemVisual(r,"style"),ae=Y.fill;if(f instanceof Ip){var te=f.style;f.useStyle(Gn({image:te.image,x:te.x,y:te.y,width:te.width,height:te.height},Y))}else f.__isEmptyBrush?f.useStyle(Gn({},Y)):f.useStyle(Y),f.style.decal=null,f.setColor(ae,l&&l.symbolInnerColor),f.style.strokeNoScale=!0;var ie=t.getItemVisual(r,"liftZ"),le=this._z2;ie!=null?le==null&&(this._z2=f.z2,f.z2+=ie):le!=null&&(f.z2=le,this._z2=null);var ce=l&&l.useNameLabel;Vb(f,A,{labelFetcher:h,labelDataIndex:r,defaultText:ne,inheritColor:ae,defaultOpacity:Y.opacity});function ne(ze){return ce?t.getName(ze):E9(t,ze)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var Q=f.ensureState("emphasis");Q.style=g,f.ensureState("select").style=b,f.ensureState("blur").style=y;var Ce=R==null||R===!0?Math.max(1.1,3/this._sizeY):isFinite(R)&&R>0?+R:1;Q.scaleX=this._sizeX*Ce,Q.scaleY=this._sizeY*Ce,this.setSymbolScale(1),J2(this,S,_,k)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,i){var u=this.childAt(0),l=Ai(this).dataIndex,f=i&&i.animation;if(this.silent=u.silent=!0,i&&i.fadeLabel){var h=u.getTextContent();h&&nL(h,{style:{opacity:0}},r,{dataIndex:l,removeOpt:f,cb:function(){u.removeTextContent()}})}else u.removeTextContent();nL(u,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:l,cb:t,removeOpt:f})},e.getSymbolSize=function(t,r){return Lte(t.getItemVisual(r,"symbolSize"))},e}(hi);function IHe(n,e){this.parent.drift(n,e)}const tne=OHe;function yJ(n,e,t,r){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function Ase(n){return n!=null&&!no(n)&&(n={isIgnore:n}),n||{}}function Ese(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:jb(e),cursorStyle:e.get("cursor")}}var RHe=function(){function n(e){this.group=new hi,this._SymbolCtor=e||tne}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=Ase(t);var r=this.group,i=e.hostModel,u=this._data,l=this._SymbolCtor,f=t.disableAnimation,h=Ese(e),g={disableAnimation:f},y=t.getSymbolPoint||function(b){return e.getItemLayout(b)};u||r.removeAll(),e.diff(u).add(function(b){var S=y(b);if(yJ(e,S,b,t)){var _=new l(e,b,h,g);_.setPosition(S),e.setItemGraphicEl(b,_),r.add(_)}}).update(function(b,S){var _=u.getItemGraphicEl(S),k=y(b);if(!yJ(e,k,b,t)){r.remove(_);return}var A=e.getItemVisual(b,"symbol")||"circle",R=_&&_.getSymbolType&&_.getSymbolType();if(!_||R&&R!==A)r.remove(_),_=new l(e,b,h,g),_.setPosition(k);else{_.updateData(e,b,h,g);var I={x:k[0],y:k[1]};f?_.attr(I):tl(_,I,i)}r.add(_),e.setItemGraphicEl(b,_)}).remove(function(b){var S=u.getItemGraphicEl(b);S&&S.fadeOut(function(){r.remove(S)},i)}).execute(),this._getSymbolPoint=y,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(r,i){var u=e._getSymbolPoint(i);r.setPosition(u),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=Ese(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,r){this._progressiveEls=[],r=Ase(r);function i(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var u=e.start;u<e.end;u++){var l=t.getItemLayout(u);if(yJ(t,l,u,r)){var f=new this._SymbolCtor(t,u,this._seriesScope);f.traverse(i),f.setPosition(l),this.group.add(f),t.setItemGraphicEl(u,f),this._progressiveEls.push(f)}}},n.prototype.eachRendered=function(e){l9(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,r=this._data;r&&e?r.eachItemGraphicEl(function(i){i.fadeOut(function(){t.remove(i)},r.hostModel)}):t.removeAll()},n}();const Qve=RHe;function Zve(n,e,t){var r=n.getBaseAxis(),i=n.getOtherAxis(r),u=PHe(i,t),l=r.dim,f=i.dim,h=e.mapDimension(f),g=e.mapDimension(l),y=f==="x"||f==="radius"?1:0,b=br(n.dimensions,function(k){return e.mapDimension(k)}),S=!1,_=e.getCalculationInfo("stackResultDimension");return Z2(e,b[0])&&(S=!0,b[0]=_),Z2(e,b[1])&&(S=!0,b[1]=_),{dataDimsForPoint:b,valueStart:u,valueAxisDim:f,baseAxisDim:l,stacked:!!S,valueDim:h,baseDim:g,baseDataOffset:y,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function PHe(n,e){var t=0,r=n.scale.getExtent();return e==="start"?t=r[0]:e==="end"?t=r[1]:su(e)&&!isNaN(e)?t=e:r[0]>0?t=r[0]:r[1]<0&&(t=r[1]),t}function e0e(n,e,t,r){var i=NaN;n.stacked&&(i=t.get(t.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=n.valueStart);var u=n.baseDataOffset,l=[];return l[u]=t.get(n.baseDim,r),l[1-u]=i,e.dataToPoint(l)}function NHe(n,e){var t=[];return e.diff(n).add(function(r){t.push({cmd:"+",idx:r})}).update(function(r,i){t.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){t.push({cmd:"-",idx:r})}).execute(),t}function LHe(n,e,t,r,i,u,l,f){for(var h=NHe(n,e),g=[],y=[],b=[],S=[],_=[],k=[],A=[],R=Zve(i,e,l),I=n.getLayout("points")||[],z=e.getLayout("points")||[],L=0;L<h.length;L++){var q=h[L],X=!0,Y=void 0,ae=void 0;switch(q.cmd){case"=":Y=q.idx*2,ae=q.idx1*2;var te=I[Y],ie=I[Y+1],le=z[ae],ce=z[ae+1];(isNaN(te)||isNaN(ie))&&(te=le,ie=ce),g.push(te,ie),y.push(le,ce),b.push(t[Y],t[Y+1]),S.push(r[ae],r[ae+1]),A.push(e.getRawIndex(q.idx1));break;case"+":var ne=q.idx,Q=R.dataDimsForPoint,Ce=i.dataToPoint([e.get(Q[0],ne),e.get(Q[1],ne)]);ae=ne*2,g.push(Ce[0],Ce[1]),y.push(z[ae],z[ae+1]);var ze=e0e(R,i,e,ne);b.push(ze[0],ze[1]),S.push(r[ae],r[ae+1]),A.push(e.getRawIndex(ne));break;case"-":X=!1}X&&(_.push(q),k.push(k.length))}k.sort(function(Ot,Nt){return A[Ot]-A[Nt]});for(var ke=g.length,St=Cb(ke),tt=Cb(ke),G=Cb(ke),We=Cb(ke),Ge=[],L=0;L<k.length;L++){var pt=k[L],Ze=L*2,kt=pt*2;St[Ze]=g[kt],St[Ze+1]=g[kt+1],tt[Ze]=y[kt],tt[Ze+1]=y[kt+1],G[Ze]=b[kt],G[Ze+1]=b[kt+1],We[Ze]=S[kt],We[Ze+1]=S[kt+1],Ge[L]=_[pt]}return{current:St,next:tt,stackedOnCurrent:G,stackedOnNext:We,status:Ge}}var _2=Math.min,S2=Math.max;function vM(n,e){return isNaN(n)||isNaN(e)}function bZ(n,e,t,r,i,u,l,f,h){for(var g,y,b,S,_,k,A=t,R=0;R<r;R++){var I=e[A*2],z=e[A*2+1];if(A>=i||A<0)break;if(vM(I,z)){if(h){A+=u;continue}break}if(A===t)n[u>0?"moveTo":"lineTo"](I,z),b=I,S=z;else{var L=I-g,q=z-y;if(L*L+q*q<.5){A+=u;continue}if(l>0){for(var X=A+u,Y=e[X*2],ae=e[X*2+1];Y===I&&ae===z&&R<r;)R++,X+=u,A+=u,Y=e[X*2],ae=e[X*2+1],I=e[A*2],z=e[A*2+1],L=I-g,q=z-y;var te=R+1;if(h)for(;vM(Y,ae)&&te<r;)te++,X+=u,Y=e[X*2],ae=e[X*2+1];var ie=.5,le=0,ce=0,ne=void 0,Q=void 0;if(te>=r||vM(Y,ae))_=I,k=z;else{le=Y-g,ce=ae-y;var Ce=I-g,ze=Y-I,ke=z-y,St=ae-z,tt=void 0,G=void 0;if(f==="x"){tt=Math.abs(Ce),G=Math.abs(ze);var We=le>0?1:-1;_=I-We*tt*l,k=z,ne=I+We*G*l,Q=z}else if(f==="y"){tt=Math.abs(ke),G=Math.abs(St);var Ge=ce>0?1:-1;_=I,k=z-Ge*tt*l,ne=I,Q=z+Ge*G*l}else tt=Math.sqrt(Ce*Ce+ke*ke),G=Math.sqrt(ze*ze+St*St),ie=G/(G+tt),_=I-le*l*(1-ie),k=z-ce*l*(1-ie),ne=I+le*l*ie,Q=z+ce*l*ie,ne=_2(ne,S2(Y,I)),Q=_2(Q,S2(ae,z)),ne=S2(ne,_2(Y,I)),Q=S2(Q,_2(ae,z)),le=ne-I,ce=Q-z,_=I-le*tt/G,k=z-ce*tt/G,_=_2(_,S2(g,I)),k=_2(k,S2(y,z)),_=S2(_,_2(g,I)),k=S2(k,_2(y,z)),le=I-_,ce=z-k,ne=I+le*G/tt,Q=z+ce*G/tt}n.bezierCurveTo(b,S,_,k,I,z),b=ne,S=Q}else n.lineTo(I,z)}g=I,y=z,A+=u}return R}var t0e=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),BHe=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polyline",r}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new t0e},e.prototype.buildPath=function(t,r){var i=r.points,u=0,l=i.length/2;if(r.connectNulls){for(;l>0&&vM(i[l*2-2],i[l*2-1]);l--);for(;u<l&&vM(i[u*2],i[u*2+1]);u++);}for(;u<l;)u+=bZ(t,i,u,l,l,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},e.prototype.getPointOn=function(t,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,u=i.data,l=SM.CMD,f,h,g=r==="x",y=[],b=0;b<u.length;){var S=u[b++],_=void 0,k=void 0,A=void 0,R=void 0,I=void 0,z=void 0,L=void 0;switch(S){case l.M:f=u[b++],h=u[b++];break;case l.L:if(_=u[b++],k=u[b++],L=g?(t-f)/(_-f):(t-h)/(k-h),L<=1&&L>=0){var q=g?(k-h)*L+h:(_-f)*L+f;return g?[t,q]:[q,t]}f=_,h=k;break;case l.C:_=u[b++],k=u[b++],A=u[b++],R=u[b++],I=u[b++],z=u[b++];var X=g?JH(f,_,A,I,t,y):JH(h,k,R,z,t,y);if(X>0)for(var Y=0;Y<X;Y++){var ae=y[Y];if(ae<=1&&ae>=0){var q=g?pc(h,k,R,z,ae):pc(f,_,A,I,ae);return g?[t,q]:[q,t]}}f=I,h=z;break}}},e}(Va),zHe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(t0e),FHe=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="ec-polygon",r}return e.prototype.getDefaultShape=function(){return new zHe},e.prototype.buildPath=function(t,r){var i=r.points,u=r.stackedOnPoints,l=0,f=i.length/2,h=r.smoothMonotone;if(r.connectNulls){for(;f>0&&vM(i[f*2-2],i[f*2-1]);f--);for(;l<f&&vM(i[l*2],i[l*2+1]);l++);}for(;l<f;){var g=bZ(t,i,l,f,f,1,r.smooth,h,r.connectNulls);bZ(t,u,l+g-1,g,f,-1,r.stackedOnSmooth,h,r.connectNulls),l+=g+1,t.closePath()}},e}(Va);function n0e(n,e,t,r,i){var u=n.getArea(),l=u.x,f=u.y,h=u.width,g=u.height,y=t.get(["lineStyle","width"])||2;l-=y/2,f-=y/2,h+=y,g+=y,l=Math.floor(l),h=Math.round(h);var b=new va({shape:{x:l,y:f,width:h,height:g}});if(e){var S=n.getBaseAxis(),_=S.isHorizontal(),k=S.inverse;_?(k&&(b.shape.x+=h),b.shape.width=0):(k||(b.shape.y+=g),b.shape.height=0);var A=Eo(i)?function(R){i(R,b)}:null;Id(b,{shape:{width:h,height:g,x:l,y:f}},t,null,r,A)}return b}function r0e(n,e,t){var r=n.getArea(),i=el(r.r0,1),u=el(r.r,1),l=new _y({shape:{cx:el(n.cx,1),cy:el(n.cy,1),r0:i,r:u,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var f=n.getBaseAxis().dim==="angle";f?l.shape.endAngle=r.startAngle:l.shape.r=i,Id(l,{shape:{endAngle:r.endAngle,r:u}},t)}return l}function HHe(n,e,t,r,i){if(n){if(n.type==="polar")return r0e(n,e,t);if(n.type==="cartesian2d")return n0e(n,e,t,r,i)}else return null;return null}function nne(n,e){return n.type===e}function Ose(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function Ise(n){for(var e=1/0,t=1/0,r=-1/0,i=-1/0,u=0;u<n.length;){var l=n[u++],f=n[u++];isNaN(l)||(e=Math.min(l,e),r=Math.max(l,r)),isNaN(f)||(t=Math.min(f,t),i=Math.max(f,i))}return[[e,t],[r,i]]}function Rse(n,e){var t=Ise(n),r=t[0],i=t[1],u=Ise(e),l=u[0],f=u[1];return Math.max(Math.abs(r[0]-l[0]),Math.abs(r[1]-l[1]),Math.abs(i[0]-f[0]),Math.abs(i[1]-f[1]))}function Pse(n){return su(n)?n:n?.5:0}function VHe(n,e,t){if(!t.valueDim)return[];for(var r=e.count(),i=Cb(r*2),u=0;u<r;u++){var l=e0e(t,n,e,u);i[u*2]=l[0],i[u*2+1]=l[1]}return i}function C2(n,e,t,r){var i=e.getBaseAxis(),u=i.dim==="x"||i.dim==="radius"?0:1,l=[],f=0,h=[],g=[],y=[],b=[];if(r){for(f=0;f<n.length;f+=2)!isNaN(n[f])&&!isNaN(n[f+1])&&b.push(n[f],n[f+1]);n=b}for(f=0;f<n.length-2;f+=2)switch(y[0]=n[f+2],y[1]=n[f+3],g[0]=n[f],g[1]=n[f+1],l.push(g[0],g[1]),t){case"end":h[u]=y[u],h[1-u]=g[1-u],l.push(h[0],h[1]);break;case"middle":var S=(g[u]+y[u])/2,_=[];h[u]=_[u]=S,h[1-u]=g[1-u],_[1-u]=y[1-u],l.push(h[0],h[1]),l.push(_[0],_[1]);break;default:h[u]=g[u],h[1-u]=y[1-u],l.push(h[0],h[1])}return l.push(n[f++],n[f++]),l}function jHe(n,e){var t=[],r=n.length,i,u;function l(y,b,S){var _=y.coord,k=(S-_)/(b.coord-_),A=Wee(k,[y.color,b.color]);return{coord:S,color:A}}for(var f=0;f<r;f++){var h=n[f],g=h.coord;if(g<0)i=h;else if(g>e){u?t.push(l(u,h,e)):i&&t.push(l(i,h,0),l(i,h,e));break}else i&&(t.push(l(i,h,0)),i=null),t.push(h),u=h}return t}function UHe(n,e,t){var r=n.getVisual("visualMeta");if(!(!r||!r.length||!n.count())){if(e.type!=="cartesian2d")return;for(var i,u,l=r.length-1;l>=0;l--){var f=n.getDimensionInfo(r[l].dimension);if(i=f&&f.coordDim,i==="x"||i==="y"){u=r[l];break}}if(!u)return;var h=e.getAxis(i),g=br(u.stops,function(L){return{coord:h.toGlobalCoord(h.dataToCoord(L.value)),color:L.color}}),y=g.length,b=u.outerColors.slice();y&&g[0].coord>g[y-1].coord&&(g.reverse(),b.reverse());var S=jHe(g,i==="x"?t.getWidth():t.getHeight()),_=S.length;if(!_&&y)return g[0].coord<0?b[1]?b[1]:g[y-1].color:b[0]?b[0]:g[0].color;var k=10,A=S[0].coord-k,R=S[_-1].coord+k,I=R-A;if(I<.001)return"transparent";Te(S,function(L){L.offset=(L.coord-A)/I}),S.push({offset:_?S[_-1].offset:.5,color:b[1]||"transparent"}),S.unshift({offset:_?S[0].offset:.5,color:b[0]||"transparent"});var z=new BL(0,0,0,0,S,!0);return z[i]=A,z[i+"2"]=R,z}}function WHe(n,e,t){var r=n.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var u=t.getAxesByScale("ordinal")[0];if(u&&!(i&&qHe(u,e))){var l=e.mapDimension(u.dim),f={};return Te(u.getViewLabels(),function(h){var g=u.scale.getRawOrdinalNumber(h.tickValue);f[g]=1}),function(h){return!f.hasOwnProperty(e.get(l,h))}}}}function qHe(n,e){var t=n.getExtent(),r=Math.abs(t[1]-t[0])/n.scale.count();isNaN(r)&&(r=0);for(var i=e.count(),u=Math.max(1,Math.round(i/5)),l=0;l<i;l+=u)if(tne.getSymbolSize(e,l)[n.isHorizontal()?1:0]*1.5>r)return!1;return!0}function $He(n,e){return isNaN(n)||isNaN(e)}function GHe(n){for(var e=n.length/2;e>0&&$He(n[e*2-2],n[e*2-1]);e--);return e-1}function Nse(n,e){return[n[e*2],n[e*2+1]]}function XHe(n,e,t){for(var r=n.length/2,i=t==="x"?0:1,u,l,f=0,h=-1,g=0;g<r;g++)if(l=n[g*2+i],!(isNaN(l)||isNaN(n[g*2+1-i]))){if(g===0){u=l;continue}if(u<=e&&l>=e||u>=e&&l<=e){h=g;break}f=g,u=l}return{range:[f,h],t:(e-u)/(l-u)}}function o0e(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<Zm.length;e++)if(n.get([Zm[e],"endLabel","show"]))return!0;return!1}function bJ(n,e,t,r){if(nne(e,"cartesian2d")){var i=r.getModel("endLabel"),u=i.get("valueAnimation"),l=r.getData(),f={lastFrameIndex:0},h=o0e(r)?function(_,k){n._endLabelOnDuring(_,k,l,f,u,i,e)}:null,g=e.getBaseAxis().isHorizontal(),y=n0e(e,t,r,function(){var _=n._endLabel;_&&t&&f.originalX!=null&&_.attr({x:f.originalX,y:f.originalY})},h);if(!r.get("clip",!0)){var b=y.shape,S=Math.max(b.width,b.height);g?(b.y-=S,b.height+=S*2):(b.x-=S,b.width+=S*2)}return h&&h(1,y),y}else return r0e(e,t,r)}function YHe(n,e){var t=e.getBaseAxis(),r=t.isHorizontal(),i=t.inverse,u=r?i?"right":"left":"center",l=r?"middle":i?"top":"bottom";return{normal:{align:n.get("align")||u,verticalAlign:n.get("verticalAlign")||l}}}var KHe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new hi,r=new Qve;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=t},e.prototype.render=function(t,r,i){var u=this,l=t.coordinateSystem,f=this.group,h=t.getData(),g=t.getModel("lineStyle"),y=t.getModel("areaStyle"),b=h.getLayout("points")||[],S=l.type==="polar",_=this._coordSys,k=this._symbolDraw,A=this._polyline,R=this._polygon,I=this._lineGroup,z=!r.ssr&&t.isAnimationEnabled(),L=!y.isEmpty(),q=y.get("origin"),X=Zve(l,h,q),Y=L&&VHe(l,h,X),ae=t.get("showSymbol"),te=t.get("connectNulls"),ie=ae&&!S&&WHe(t,h,l),le=this._data;le&&le.eachItemGraphicEl(function(Nt,fe){Nt.__temp&&(f.remove(Nt),le.setItemGraphicEl(fe,null))}),ae||k.remove(),f.add(I);var ce=S?!1:t.get("step"),ne;l&&l.getArea&&t.get("clip",!0)&&(ne=l.getArea(),ne.width!=null?(ne.x-=.1,ne.y-=.1,ne.width+=.2,ne.height+=.2):ne.r0&&(ne.r0-=.5,ne.r+=.5)),this._clipShapeForSymbol=ne;var Q=UHe(h,l,i)||h.getVisual("style")[h.getVisual("drawType")];if(!(A&&_.type===l.type&&ce===this._step))ae&&k.updateData(h,{isIgnore:ie,clipShape:ne,disableAnimation:!0,getSymbolPoint:function(Nt){return[b[Nt*2],b[Nt*2+1]]}}),z&&this._initSymbolLabelAnimation(h,l,ne),ce&&(b=C2(b,l,ce,te),Y&&(Y=C2(Y,l,ce,te))),A=this._newPolyline(b),L?R=this._newPolygon(b,Y):R&&(I.remove(R),R=this._polygon=null),S||this._initOrUpdateEndLabel(t,l,CM(Q)),I.setClipPath(bJ(this,l,!0,t));else{L&&!R?R=this._newPolygon(b,Y):R&&!L&&(I.remove(R),R=this._polygon=null),S||this._initOrUpdateEndLabel(t,l,CM(Q));var Ce=I.getClipPath();if(Ce){var ze=bJ(this,l,!1,t);Id(Ce,{shape:ze.shape},t)}else I.setClipPath(bJ(this,l,!0,t));ae&&k.updateData(h,{isIgnore:ie,clipShape:ne,disableAnimation:!0,getSymbolPoint:function(Nt){return[b[Nt*2],b[Nt*2+1]]}}),(!Ose(this._stackedOnPoints,Y)||!Ose(this._points,b))&&(z?this._doUpdateAnimation(h,Y,l,i,ce,q,te):(ce&&(b=C2(b,l,ce,te),Y&&(Y=C2(Y,l,ce,te))),A.setShape({points:b}),R&&R.setShape({points:b,stackedOnPoints:Y})))}var ke=t.getModel("emphasis"),St=ke.get("focus"),tt=ke.get("blurScope"),G=ke.get("disabled");if(A.useStyle(Co(g.getLineStyle(),{fill:"none",stroke:Q,lineJoin:"bevel"})),K3(A,t,"lineStyle"),A.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var We=A.getState("emphasis").style;We.lineWidth=+A.style.lineWidth+1}Ai(A).seriesIndex=t.seriesIndex,J2(A,St,tt,G);var Ge=Pse(t.get("smooth")),pt=t.get("smoothMonotone");if(A.setShape({smooth:Ge,smoothMonotone:pt,connectNulls:te}),R){var Ze=h.getCalculationInfo("stackedOnSeries"),kt=0;R.useStyle(Co(y.getAreaStyle(),{fill:Q,opacity:.7,lineJoin:"bevel",decal:h.getVisual("style").decal})),Ze&&(kt=Pse(Ze.get("smooth"))),R.setShape({smooth:Ge,stackedOnSmooth:kt,smoothMonotone:pt,connectNulls:te}),K3(R,t,"areaStyle"),Ai(R).seriesIndex=t.seriesIndex,J2(R,St,tt,G)}var Ot=function(Nt){u._changePolyState(Nt)};h.eachItemGraphicEl(function(Nt){Nt&&(Nt.onHoverStateChange=Ot)}),this._polyline.onHoverStateChange=Ot,this._data=h,this._coordSys=l,this._stackedOnPoints=Y,this._points=b,this._step=ce,this._valueOrigin=q,t.get("triggerLineEvent")&&(this.packEventData(t,A),R&&this.packEventData(t,R))},e.prototype.packEventData=function(t,r){Ai(r).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,r,i,u){var l=t.getData(),f=_M(l,u);if(this._changePolyState("emphasis"),!(f instanceof Array)&&f!=null&&f>=0){var h=l.getLayout("points"),g=l.getItemGraphicEl(f);if(!g){var y=h[f*2],b=h[f*2+1];if(isNaN(y)||isNaN(b)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(y,b))return;var S=t.get("zlevel")||0,_=t.get("z")||0;g=new tne(l,f),g.x=y,g.y=b,g.setZ(S,_);var k=g.getSymbolPath().getTextContent();k&&(k.zlevel=S,k.z=_,k.z2=this._polyline.z2+1),g.__temp=!0,l.setItemGraphicEl(f,g),g.stopSymbolAnimation(!0),this.group.add(g)}g.highlight()}else uf.prototype.highlight.call(this,t,r,i,u)},e.prototype.downplay=function(t,r,i,u){var l=t.getData(),f=_M(l,u);if(this._changePolyState("normal"),f!=null&&f>=0){var h=l.getItemGraphicEl(f);h&&(h.__temp?(l.setItemGraphicEl(f,null),this.group.remove(h)):h.downplay())}else uf.prototype.downplay.call(this,t,r,i,u)},e.prototype._changePolyState=function(t){var r=this._polygon;YQ(this._polyline,t),r&&YQ(r,t)},e.prototype._newPolyline=function(t){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new BHe({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},e.prototype._newPolygon=function(t,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new FHe({shape:{points:t,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},e.prototype._initSymbolLabelAnimation=function(t,r,i){var u,l,f=r.getBaseAxis(),h=f.inverse;r.type==="cartesian2d"?(u=f.isHorizontal(),l=!1):r.type==="polar"&&(u=f.dim==="angle",l=!0);var g=t.hostModel,y=g.get("animationDuration");Eo(y)&&(y=y(null));var b=g.get("animationDelay")||0,S=Eo(b)?b(null):b;t.eachItemGraphicEl(function(_,k){var A=_;if(A){var R=[_.x,_.y],I=void 0,z=void 0,L=void 0;if(i)if(l){var q=i,X=r.pointToCoord(R);u?(I=q.startAngle,z=q.endAngle,L=-X[1]/180*Math.PI):(I=q.r0,z=q.r,L=X[0])}else{var Y=i;u?(I=Y.x,z=Y.x+Y.width,L=_.x):(I=Y.y+Y.height,z=Y.y,L=_.y)}var ae=z===I?0:(L-I)/(z-I);h&&(ae=1-ae);var te=Eo(b)?b(k):y*ae+S,ie=A.getSymbolPath(),le=ie.getTextContent();A.attr({scaleX:0,scaleY:0}),A.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:te}),le&&le.animateFrom({style:{opacity:0}},{duration:300,delay:te}),ie.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,r,i){var u=t.getModel("endLabel");if(o0e(t)){var l=t.getData(),f=this._polyline,h=l.getLayout("points");if(!h){f.removeTextContent(),this._endLabel=null;return}var g=this._endLabel;g||(g=this._endLabel=new ya({z2:200}),g.ignoreClip=!0,f.setTextContent(this._endLabel),f.disableLabelAnimation=!0);var y=GHe(h);y>=0&&(Vb(f,jb(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:y,defaultText:function(b,S,_){return _!=null?Jve(l,_):E9(l,b)},enableTextSetter:!0},YHe(u,r)),f.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,r,i,u,l,f,h){var g=this._endLabel,y=this._polyline;if(g){t<1&&u.originalX==null&&(u.originalX=g.x,u.originalY=g.y);var b=i.getLayout("points"),S=i.hostModel,_=S.get("connectNulls"),k=f.get("precision"),A=f.get("distance")||0,R=h.getBaseAxis(),I=R.isHorizontal(),z=R.inverse,L=r.shape,q=z?I?L.x:L.y+L.height:I?L.x+L.width:L.y,X=(I?A:0)*(z?-1:1),Y=(I?0:-A)*(z?-1:1),ae=I?"x":"y",te=XHe(b,q,ae),ie=te.range,le=ie[1]-ie[0],ce=void 0;if(le>=1){if(le>1&&!_){var ne=Nse(b,ie[0]);g.attr({x:ne[0]+X,y:ne[1]+Y}),l&&(ce=S.getRawValue(ie[0]))}else{var ne=y.getPointOn(q,ae);ne&&g.attr({x:ne[0]+X,y:ne[1]+Y});var Q=S.getRawValue(ie[0]),Ce=S.getRawValue(ie[1]);l&&(ce=gLe(i,k,Q,Ce,te.t))}u.lastFrameIndex=ie[0]}else{var ze=t===1||u.lastFrameIndex>0?ie[0]:0,ne=Nse(b,ze);l&&(ce=S.getRawValue(ze)),g.attr({x:ne[0]+X,y:ne[1]+Y})}if(l){var ke=d9(g);typeof ke.setLabelText=="function"&&ke.setLabelText(ce)}}},e.prototype._doUpdateAnimation=function(t,r,i,u,l,f,h){var g=this._polyline,y=this._polygon,b=t.hostModel,S=LHe(this._data,t,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),_=S.current,k=S.stackedOnCurrent,A=S.next,R=S.stackedOnNext;if(l&&(_=C2(S.current,i,l,h),k=C2(S.stackedOnCurrent,i,l,h),A=C2(S.next,i,l,h),R=C2(S.stackedOnNext,i,l,h)),Rse(_,A)>3e3||y&&Rse(k,R)>3e3){g.stopAnimation(),g.setShape({points:A}),y&&(y.stopAnimation(),y.setShape({points:A,stackedOnPoints:R}));return}g.shape.__points=S.current,g.shape.points=_;var I={shape:{points:A}};S.current!==_&&(I.shape.__points=S.next),g.stopAnimation(),tl(g,I,b),y&&(y.setShape({points:_,stackedOnPoints:k}),y.stopAnimation(),tl(y,{shape:{stackedOnPoints:R}},b),g.shape.points!==y.shape.points&&(y.shape.points=g.shape.points));for(var z=[],L=S.status,q=0;q<L.length;q++){var X=L[q].cmd;if(X==="="){var Y=t.getItemGraphicEl(L[q].idx1);Y&&z.push({el:Y,ptIdx:q})}}g.animators&&g.animators.length&&g.animators[0].during(function(){y&&y.dirtyShape();for(var ae=g.shape.__points,te=0;te<z.length;te++){var ie=z[te].el,le=z[te].ptIdx*2;ie.x=ae[le],ie.y=ae[le+1],ie.markRedraw()}})},e.prototype.remove=function(t){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(u,l){u.__temp&&(r.remove(u),i.setItemGraphicEl(l,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(uf);const JHe=KHe;function rne(n,e){return{seriesType:n,plan:Pte(),reset:function(t){var r=t.getData(),i=t.coordinateSystem,u=t.pipelineContext,l=e||u.large;if(i){var f=br(i.dimensions,function(_){return r.mapDimension(_)}).slice(0,2),h=f.length,g=r.getCalculationInfo("stackResultDimension");Z2(r,f[0])&&(f[0]=g),Z2(r,f[1])&&(f[1]=g);var y=r.getStore(),b=r.getDimensionIndex(f[0]),S=r.getDimensionIndex(f[1]);return h&&{progress:function(_,k){for(var A=_.end-_.start,R=l&&Cb(A*h),I=[],z=[],L=_.start,q=0;L<_.end;L++){var X=void 0;if(h===1){var Y=y.get(b,L);X=i.dataToPoint(Y,null,z)}else I[0]=y.get(b,L),I[1]=y.get(S,L),X=i.dataToPoint(I,null,z);l?(R[q++]=X[0],R[q++]=X[1]):k.setItemLayout(L,X.slice())}l&&k.setLayout("points",R)}}}}}}var QHe={average:function(n){for(var e=0,t=0,r=0;r<n.length;r++)isNaN(n[r])||(e+=n[r],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},ZHe=function(n){return Math.round(n.length/2)};function i0e(n){return{seriesType:n,reset:function(e,t,r){var i=e.getData(),u=e.get("sampling"),l=e.coordinateSystem,f=i.count();if(f>10&&l.type==="cartesian2d"&&u){var h=l.getBaseAxis(),g=l.getOtherAxis(h),y=h.getExtent(),b=r.getDevicePixelRatio(),S=Math.abs(y[1]-y[0])*(b||1),_=Math.round(f/S);if(isFinite(_)&&_>1){u==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(g.dim),1/_));var k=void 0;Nr(u)?k=QHe[u]:Eo(u)&&(k=u),k&&e.setData(i.downSample(i.mapDimension(g.dim),1/_,k,ZHe))}}}}}function eVe(n){n.registerChartView(JHe),n.registerSeriesModel(EHe),n.registerLayout(rne("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),r=e.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,i0e("line"))}var a0e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return HL(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,r,i){var u=this.coordinateSystem;if(u&&u.clampData){var l=u.clampData(t),f=u.dataToPoint(l);if(i)Te(u.getAxes(),function(S,_){if(S.type==="category"&&r!=null){var k=S.getTicksCoords(),A=l[_],R=r[_]==="x1"||r[_]==="y1";if(R&&(A+=1),k.length<2)return;if(k.length===2){f[_]=S.toGlobalCoord(S.getExtent()[R?1:0]);return}for(var I=void 0,z=void 0,L=1,q=0;q<k.length;q++){var X=k[q].coord,Y=q===k.length-1?k[q-1].tickValue+L:k[q].tickValue;if(Y===A){z=X;break}else if(Y<A)I=X;else if(I!=null&&Y>A){z=(X+I)/2;break}q===1&&(L=Y-k[0].tickValue)}z==null&&(I?I&&(z=k[k.length-1].coord):z=k[0].coord),f[_]=S.toGlobalCoord(z)}});else{var h=this.getData(),g=h.getLayout("offset"),y=h.getLayout("size"),b=u.getBaseAxis().isHorizontal()?0:1;f[b]+=g+y/2}return f}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Dh);Dh.registerClass(a0e);const _V=a0e;var tVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return HL(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,i){return i.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=a_(_V.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(_V);const nVe=tVe;var rVe=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),oVe=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new rVe},e.prototype.buildPath=function(t,r){var i=r.cx,u=r.cy,l=Math.max(r.r0||0,0),f=Math.max(r.r,0),h=(f-l)*.5,g=l+h,y=r.startAngle,b=r.endAngle,S=r.clockwise,_=Math.PI*2,k=S?b-y<_:y-b<_;k||(y=b-(S?_:-_));var A=Math.cos(y),R=Math.sin(y),I=Math.cos(b),z=Math.sin(b);k?(t.moveTo(A*l+i,R*l+u),t.arc(A*g+i,R*g+u,h,-Math.PI+y,y,!S)):t.moveTo(A*f+i,R*f+u),t.arc(i,u,f,y,b,!S),t.arc(I*g+i,z*g+u,h,b-Math.PI*2,b-Math.PI,!S),l!==0&&t.arc(i,u,l,b,y,S)},e}(Va);const Lse=oVe;function iVe(n,e){e=e||{};var t=e.isRoundCap;return function(r,i,u){var l=i.position;if(!l||l instanceof Array)return tV(r,i,u);var f=n(l),h=i.distance!=null?i.distance:5,g=this.shape,y=g.cx,b=g.cy,S=g.r,_=g.r0,k=(S+_)/2,A=g.startAngle,R=g.endAngle,I=(A+R)/2,z=t?Math.abs(S-_)/2:0,L=Math.cos,q=Math.sin,X=y+S*L(A),Y=b+S*q(A),ae="left",te="top";switch(f){case"startArc":X=y+(_-h)*L(I),Y=b+(_-h)*q(I),ae="center",te="top";break;case"insideStartArc":X=y+(_+h)*L(I),Y=b+(_+h)*q(I),ae="center",te="bottom";break;case"startAngle":X=y+k*L(A)+HF(A,h+z,!1),Y=b+k*q(A)+VF(A,h+z,!1),ae="right",te="middle";break;case"insideStartAngle":X=y+k*L(A)+HF(A,-h+z,!1),Y=b+k*q(A)+VF(A,-h+z,!1),ae="left",te="middle";break;case"middle":X=y+k*L(I),Y=b+k*q(I),ae="center",te="middle";break;case"endArc":X=y+(S+h)*L(I),Y=b+(S+h)*q(I),ae="center",te="bottom";break;case"insideEndArc":X=y+(S-h)*L(I),Y=b+(S-h)*q(I),ae="center",te="top";break;case"endAngle":X=y+k*L(R)+HF(R,h+z,!0),Y=b+k*q(R)+VF(R,h+z,!0),ae="left",te="middle";break;case"insideEndAngle":X=y+k*L(R)+HF(R,-h+z,!0),Y=b+k*q(R)+VF(R,-h+z,!0),ae="right",te="middle";break;default:return tV(r,i,u)}return r=r||{},r.x=X,r.y=Y,r.align=ae,r.verticalAlign=te,r}}function aVe(n,e,t,r){if(su(r)){n.setTextConfig({rotation:r});return}else if(sr(e)){n.setTextConfig({rotation:0});return}var i=n.shape,u=i.clockwise?i.startAngle:i.endAngle,l=i.clockwise?i.endAngle:i.startAngle,f=(u+l)/2,h,g=t(e);switch(g){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":h=f;break;case"startAngle":case"insideStartAngle":h=u;break;case"endAngle":case"insideEndAngle":h=l;break;default:n.setTextConfig({rotation:0});return}var y=Math.PI*1.5-h;g==="middle"&&y>Math.PI/2&&y<Math.PI*1.5&&(y-=Math.PI),n.setTextConfig({rotation:y})}function HF(n,e,t){return e*Math.sin(n)*(t?-1:1)}function VF(n,e,t){return e*Math.cos(n)*(t?1:-1)}function mN(n,e,t){var r=n.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;sr(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:br(r,function(u){return Dv(u,i)})}}var xJ=Math.max,wJ=Math.min;function uVe(n,e){var t=n.getArea&&n.getArea();if(nne(n,"cartesian2d")){var r=n.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var sVe=function(n){Tn(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,i,u){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var l=t.get("coordinateSystem");(l==="cartesian2d"||l==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,i):this._renderNormal(t,r,i,u))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){l9(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,i,u){var l=this.group,f=t.getData(),h=this._data,g=t.coordinateSystem,y=g.getBaseAxis(),b;g.type==="cartesian2d"?b=y.isHorizontal():g.type==="polar"&&(b=y.dim==="angle");var S=t.isAnimationEnabled()?t:null,_=lVe(t,g);_&&this._enableRealtimeSort(_,f,i);var k=t.get("clip",!0)||_,A=uVe(g,f);l.removeClipPath();var R=t.get("roundCap",!0),I=t.get("showBackground",!0),z=t.getModel("backgroundStyle"),L=z.get("borderRadius")||0,q=[],X=this._backgroundEls,Y=u&&u.isInitSort,ae=u&&u.type==="changeAxisOrder";function te(ce){var ne=jF[g.type](f,ce),Q=gVe(g,b,ne);return Q.useStyle(z.getItemStyle()),g.type==="cartesian2d"?Q.setShape("r",L):Q.setShape("cornerRadius",L),q[ce]=Q,Q}f.diff(h).add(function(ce){var ne=f.getItemModel(ce),Q=jF[g.type](f,ce,ne);if(I&&te(ce),!(!f.hasValue(ce)||!Vse[g.type](Q))){var Ce=!1;k&&(Ce=Bse[g.type](A,Q));var ze=zse[g.type](t,f,ce,Q,b,S,y.model,!1,R);_&&(ze.forceLabelAnimation=!0),jse(ze,f,ce,ne,Q,t,b,g.type==="polar"),Y?ze.attr({shape:Q}):_?Fse(_,S,ze,Q,ce,b,!1,!1):Id(ze,{shape:Q},t,ce),f.setItemGraphicEl(ce,ze),l.add(ze),ze.ignore=Ce}}).update(function(ce,ne){var Q=f.getItemModel(ce),Ce=jF[g.type](f,ce,Q);if(I){var ze=void 0;X.length===0?ze=te(ne):(ze=X[ne],ze.useStyle(z.getItemStyle()),g.type==="cartesian2d"?ze.setShape("r",L):ze.setShape("cornerRadius",L),q[ce]=ze);var ke=jF[g.type](f,ce),St=s0e(b,ke,g);tl(ze,{shape:St},S,ce)}var tt=h.getItemGraphicEl(ne);if(!f.hasValue(ce)||!Vse[g.type](Ce)){l.remove(tt);return}var G=!1;if(k&&(G=Bse[g.type](A,Ce),G&&l.remove(tt)),tt?rL(tt):tt=zse[g.type](t,f,ce,Ce,b,S,y.model,!!tt,R),_&&(tt.forceLabelAnimation=!0),ae){var We=tt.getTextContent();if(We){var Ge=d9(We);Ge.prevValue!=null&&(Ge.prevValue=Ge.value)}}else jse(tt,f,ce,Q,Ce,t,b,g.type==="polar");Y?tt.attr({shape:Ce}):_?Fse(_,S,tt,Ce,ce,b,!0,ae):tl(tt,{shape:Ce},t,ce,null),f.setItemGraphicEl(ce,tt),tt.ignore=G,l.add(tt)}).remove(function(ce){var ne=h.getItemGraphicEl(ce);ne&&aV(ne,t,ce)}).execute();var ie=this._backgroundGroup||(this._backgroundGroup=new hi);ie.removeAll();for(var le=0;le<q.length;++le)ie.add(q[le]);l.add(ie),this._backgroundEls=q,this._data=f},e.prototype._renderLarge=function(t,r,i){this._clear(),Wse(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),Wse(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&HHe(t.coordinateSystem,!1,t),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,i){var u=this;if(r.count()){var l=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,i),this._isFirstFrame=!1;else{var f=function(h){var g=r.getItemGraphicEl(h),y=g&&g.shape;return y&&Math.abs(l.isHorizontal()?y.height:y.width)||0};this._onRendered=function(){u._updateSortWithinSameData(r,f,l,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,i){var u=[];return t.each(t.mapDimension(r.dim),function(l,f){var h=i(f);h=h??NaN,u.push({dataIndex:f,mappedValue:h,ordinalNumber:l})}),u.sort(function(l,f){return f.mappedValue-l.mappedValue}),{ordinalNumbers:br(u,function(l){return l.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,i){for(var u=i.scale,l=t.mapDimension(i.dim),f=Number.MAX_VALUE,h=0,g=u.getOrdinalMeta().categories.length;h<g;++h){var y=t.rawIndexOf(l,u.getRawOrdinalNumber(h)),b=y<0?Number.MIN_VALUE:r(t.indexOfRawIndex(y));if(b>f)return!0;f=b}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var i=r.scale,u=i.getExtent(),l=Math.max(0,u[0]),f=Math.min(u[1],i.getOrdinalMeta().categories.length-1);l<=f;++l)if(t.ordinalNumbers[l]!==i.getRawOrdinalNumber(l))return!0},e.prototype._updateSortWithinSameData=function(t,r,i,u){if(this._isOrderChangedWithinSameData(t,r,i)){var l=this._dataSort(t,i,r);this._isOrderDifferentInView(l,i)&&(this._removeOnRenderedListener(u),u.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:l}))}},e.prototype._dispatchInitSort=function(t,r,i){var u=r.baseAxis,l=this._dataSort(t,u,function(f){return t.get(t.mapDimension(r.otherAxis.dim),f)});i.dispatchAction({type:"changeAxisOrder",componentType:u.dim+"Axis",isInitSort:!0,axisId:u.index,sortInfo:l})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(u){aV(u,t,Ai(u).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(uf),Bse={cartesian2d:function(n,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=n.x+n.width,u=n.y+n.height,l=xJ(e.x,n.x),f=wJ(e.x+e.width,i),h=xJ(e.y,n.y),g=wJ(e.y+e.height,u),y=f<l,b=g<h;return e.x=y&&l>i?f:l,e.y=b&&h>u?g:h,e.width=y?0:f-l,e.height=b?0:g-h,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),y||b},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var i=wJ(e.r,n.r),u=xJ(e.r0,n.r0);e.r=i,e.r0=u;var l=i-u<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return l}},zse={cartesian2d:function(n,e,t,r,i,u,l,f,h){var g=new va({shape:Gn({},r),z2:1});if(g.__dataIndex=t,g.name="item",u){var y=g.shape,b=i?"height":"width";y[b]=0}return g},polar:function(n,e,t,r,i,u,l,f,h){var g=!i&&h?Lse:_y,y=new g({shape:r,z2:1});y.name="item";var b=u0e(i);if(y.calculateTextPosition=iVe(b,{isRoundCap:g===Lse}),u){var S=y.shape,_=i?"r":"endAngle",k={};S[_]=i?r.r0:r.startAngle,k[_]=r[_],(f?tl:Id)(y,{shape:k},u)}return y}};function lVe(n,e){var t=n.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function Fse(n,e,t,r,i,u,l,f){var h,g;u?(g={x:r.x,width:r.width},h={y:r.y,height:r.height}):(g={y:r.y,height:r.height},h={x:r.x,width:r.width}),f||(l?tl:Id)(t,{shape:h},e,i,null);var y=e?n.baseAxis.model:null;(l?tl:Id)(t,{shape:g},y,i)}function Hse(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var cVe=["x","y","width","height"],fVe=["cx","cy","r","startAngle","endAngle"],Vse={cartesian2d:function(n){return!Hse(n,cVe)},polar:function(n){return!Hse(n,fVe)}},jF={cartesian2d:function(n,e,t){var r=n.getItemLayout(e),i=t?hVe(t,r):0,u=r.width>0?1:-1,l=r.height>0?1:-1;return{x:r.x+u*i/2,y:r.y+l*i/2,width:r.width-u*i,height:r.height-l*i}},polar:function(n,e,t){var r=n.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function dVe(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function u0e(n){return function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(n)}function jse(n,e,t,r,i,u,l,f){var h=e.getItemVisual(t,"style");if(f){if(!u.get("roundCap")){var g=n.shape,y=mN(r.getModel("itemStyle"),g,!0);Gn(g,y),n.setShape(g)}}else{var b=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",b)}n.useStyle(h);var S=r.getShallow("cursor");S&&n.attr("cursor",S);var _=f?l?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":l?i.height>=0?"bottom":"top":i.width>=0?"right":"left",k=jb(r);Vb(n,k,{labelFetcher:u,labelDataIndex:t,defaultText:E9(u.getData(),t),inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:_});var A=n.getTextContent();if(f&&A){var R=r.get(["label","position"]);n.textConfig.inside=R==="middle"?!0:null,aVe(n,R==="outside"?_:R,u0e(l),r.get(["label","rotate"]))}CBe(A,k,u.getRawValue(t),function(z){return Jve(e,z)});var I=r.getModel(["emphasis"]);J2(n,I.get("focus"),I.get("blurScope"),I.get("disabled")),K3(n,r),dVe(i)&&(n.style.fill="none",n.style.stroke="none",Te(n.states,function(z){z.style&&(z.style.fill=z.style.stroke="none")}))}function hVe(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),u=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,u)}var pVe=function(){function n(){}return n}(),Use=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new pVe},e.prototype.buildPath=function(t,r){for(var i=r.points,u=this.baseDimIdx,l=1-this.baseDimIdx,f=[],h=[],g=this.barWidth,y=0;y<i.length;y+=3)h[u]=g,h[l]=i[y+2],f[u]=i[y+u],f[l]=i[y+l],t.rect(f[0],f[1],h[0],h[1])},e}(Va);function Wse(n,e,t,r){var i=n.getData(),u=i.getLayout("valueAxisHorizontal")?1:0,l=i.getLayout("largeDataIndices"),f=i.getLayout("size"),h=n.getModel("backgroundStyle"),g=i.getLayout("largeBackgroundPoints");if(g){var y=new Use({shape:{points:g},incremental:!!r,silent:!0,z2:0});y.baseDimIdx=u,y.largeDataIndices=l,y.barWidth=f,y.useStyle(h.getItemStyle()),e.add(y),t&&t.push(y)}var b=new Use({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});b.baseDimIdx=u,b.largeDataIndices=l,b.barWidth=f,e.add(b),b.useStyle(i.getVisual("style")),Ai(b).seriesIndex=n.seriesIndex,n.get("silent")||(b.on("mousedown",qse),b.on("mousemove",qse)),t&&t.push(b)}var qse=w9(function(n){var e=this,t=mVe(e,n.offsetX,n.offsetY);Ai(e).dataIndex=t>=0?t:null},30,!1);function mVe(n,e,t){for(var r=n.baseDimIdx,i=1-r,u=n.shape.points,l=n.largeDataIndices,f=[],h=[],g=n.barWidth,y=0,b=u.length/3;y<b;y++){var S=y*3;if(h[r]=g,h[i]=u[S+2],f[r]=u[S+r],f[i]=u[S+i],h[i]<0&&(f[i]+=h[i],h[i]=-h[i]),e>=f[0]&&e<=f[0]+h[0]&&t>=f[1]&&t<=f[1]+h[1])return l[y]}return-1}function s0e(n,e,t){if(nne(t,"cartesian2d")){var r=e,i=t.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}else{var i=t.getArea(),u=e;return{cx:i.cx,cy:i.cy,r0:n?i.r0:u.r0,r:n?i.r:u.r,startAngle:n?u.startAngle:0,endAngle:n?u.endAngle:Math.PI*2}}}function gVe(n,e,t){var r=n.type==="polar"?_y:va;return new r({shape:s0e(e,t,n),silent:!0,z2:0})}const vVe=sVe;function yVe(n){n.registerChartView(vVe),n.registerSeriesModel(nVe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,ji(Ove,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ive("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,i0e("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var UF=Math.PI*2,$se=Math.PI/180;function l0e(n,e){return Rd(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function c0e(n,e){var t=l0e(n,e),r=n.get("center"),i=n.get("radius");sr(i)||(i=[0,i]);var u=Xo(t.width,e.getWidth()),l=Xo(t.height,e.getHeight()),f=Math.min(u,l),h=Xo(i[0],f/2),g=Xo(i[1],f/2),y,b,S=n.coordinateSystem;if(S){var _=S.dataToPoint(r);y=_[0]||0,b=_[1]||0}else sr(r)||(r=[r,r]),y=Xo(r[0],u)+t.x,b=Xo(r[1],l)+t.y;return{cx:y,cy:b,r0:h,r:g}}function bVe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.getData(),u=i.mapDimension("value"),l=l0e(r,t),f=c0e(r,t),h=f.cx,g=f.cy,y=f.r,b=f.r0,S=-r.get("startAngle")*$se,_=r.get("minAngle")*$se,k=0;i.each(u,function(le){!isNaN(le)&&k++});var A=i.getSum(u),R=Math.PI/(A||k)*2,I=r.get("clockwise"),z=r.get("roseType"),L=r.get("stillShowZeroSum"),q=i.getDataExtent(u);q[0]=0;var X=UF,Y=0,ae=S,te=I?1:-1;if(i.setLayout({viewRect:l,r:y}),i.each(u,function(le,ce){var ne;if(isNaN(le)){i.setItemLayout(ce,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:I,cx:h,cy:g,r0:b,r:z?NaN:y});return}z!=="area"?ne=A===0&&L?R:le*R:ne=UF/k,ne<_?(ne=_,X-=_):Y+=le;var Q=ae+te*ne;i.setItemLayout(ce,{angle:ne,startAngle:ae,endAngle:Q,clockwise:I,cx:h,cy:g,r0:b,r:z?rs(le,q,[b,y]):y}),ae=Q}),X<UF&&k)if(X<=.001){var ie=UF/k;i.each(u,function(le,ce){if(!isNaN(le)){var ne=i.getItemLayout(ce);ne.angle=ie,ne.startAngle=S+te*ce*ie,ne.endAngle=S+te*(ce+1)*ie}})}else R=X/Y,ae=S,i.each(u,function(le,ce){if(!isNaN(le)){var ne=i.getItemLayout(ce),Q=ne.angle===_?_:le*R;ne.startAngle=ae,ne.endAngle=ae+te*Q,ae+=te*Q}})})}function f0e(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(u){for(var l=i.getName(u),f=0;f<r.length;f++)if(!r[f].isSelected(l))return!1;return!0})}}}}var xVe=Math.PI/180;function Gse(n,e,t,r,i,u,l,f,h,g){if(n.length<2)return;function y(A){for(var R=A.rB,I=R*R,z=0;z<A.list.length;z++){var L=A.list[z],q=Math.abs(L.label.y-t),X=r+L.len,Y=X*X,ae=Math.sqrt((1-Math.abs(q*q/I))*Y),te=e+(ae+L.len2)*i,ie=te-L.label.x,le=L.targetTextWidth-ie*i;d0e(L,le,!0),L.label.x=te}}function b(A){for(var R={list:[],maxY:0},I={list:[],maxY:0},z=0;z<A.length;z++)if(A[z].labelAlignTo==="none"){var L=A[z],q=L.label.y>t?I:R,X=Math.abs(L.label.y-t);if(X>=q.maxY){var Y=L.label.x-e-L.len2*i,ae=r+L.len,te=Math.abs(Y)<ae?Math.sqrt(X*X/(1-Y*Y/ae/ae)):ae;q.rB=te,q.maxY=X}q.list.push(L)}y(R),y(I)}for(var S=n.length,_=0;_<S;_++)if(n[_].position==="outer"&&n[_].labelAlignTo==="labelLine"){var k=n[_].label.x-g;n[_].linePoints[1][0]+=k,n[_].label.x=g}kHe(n,h,h+l)&&b(n)}function wVe(n,e,t,r,i,u,l,f){for(var h=[],g=[],y=Number.MAX_VALUE,b=-Number.MAX_VALUE,S=0;S<n.length;S++){var _=n[S].label;_J(n[S])||(_.x<e?(y=Math.min(y,_.x),h.push(n[S])):(b=Math.max(b,_.x),g.push(n[S])))}for(var S=0;S<n.length;S++){var k=n[S];if(!_J(k)&&k.linePoints){if(k.labelStyleWidth!=null)continue;var _=k.label,A=k.linePoints,R=void 0;k.labelAlignTo==="edge"?_.x<e?R=A[2][0]-k.labelDistance-l-k.edgeDistance:R=l+i-k.edgeDistance-A[2][0]-k.labelDistance:k.labelAlignTo==="labelLine"?_.x<e?R=y-l-k.bleedMargin:R=l+i-b-k.bleedMargin:_.x<e?R=_.x-l-k.bleedMargin:R=l+i-_.x-k.bleedMargin,k.targetTextWidth=R,d0e(k,R)}}Gse(g,e,t,r,1,i,u,l,f,b),Gse(h,e,t,r,-1,i,u,l,f,y);for(var S=0;S<n.length;S++){var k=n[S];if(!_J(k)&&k.linePoints){var _=k.label,A=k.linePoints,I=k.labelAlignTo==="edge",z=_.style.padding,L=z?z[1]+z[3]:0,q=_.style.backgroundColor?0:L,X=k.rect.width+q,Y=A[1][0]-A[2][0];I?_.x<e?A[2][0]=l+k.edgeDistance+X+k.labelDistance:A[2][0]=l+i-k.edgeDistance-X-k.labelDistance:(_.x<e?A[2][0]=_.x+k.labelDistance:A[2][0]=_.x-k.labelDistance,A[1][0]=A[2][0]+Y),A[1][1]=A[2][1]=_.y}}}function d0e(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var r=n.label,i=r.style,u=n.rect,l=i.backgroundColor,f=i.padding,h=f?f[1]+f[3]:0,g=i.overflow,y=u.width+(l?0:h);if(e<y||t){var b=u.height;if(g&&g.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-h);var S=r.getBoundingRect();r.setStyle("width",Math.ceil(S.width)),r.setStyle("backgroundColor",l)}else{var _=e-h,k=e<y?_:t?_>n.unconstrainedWidth?null:_:null;r.setStyle("width",k)}var A=r.getBoundingRect();u.width=A.width;var R=(r.style.margin||0)+2.1;u.height=A.height+R,u.y-=(u.height-b)/2}}}function _J(n){return n.position==="center"}function _Ve(n){var e=n.getData(),t=[],r,i,u=!1,l=(n.get("minShowLabelAngle")||0)*xVe,f=e.getLayout("viewRect"),h=e.getLayout("r"),g=f.width,y=f.x,b=f.y,S=f.height;function _(Y){Y.ignore=!0}function k(Y){if(!Y.ignore)return!0;for(var ae in Y.states)if(Y.states[ae].ignore===!1)return!0;return!1}e.each(function(Y){var ae=e.getItemGraphicEl(Y),te=ae.shape,ie=ae.getTextContent(),le=ae.getTextGuideLine(),ce=e.getItemModel(Y),ne=ce.getModel("label"),Q=ne.get("position")||ce.get(["emphasis","label","position"]),Ce=ne.get("distanceToLabelLine"),ze=ne.get("alignTo"),ke=Xo(ne.get("edgeDistance"),g),St=ne.get("bleedMargin"),tt=ce.getModel("labelLine"),G=tt.get("length");G=Xo(G,g);var We=tt.get("length2");if(We=Xo(We,g),Math.abs(te.endAngle-te.startAngle)<l){Te(ie.states,_),ie.ignore=!0,le&&(Te(le.states,_),le.ignore=!0);return}if(k(ie)){var Ge=(te.startAngle+te.endAngle)/2,pt=Math.cos(Ge),Ze=Math.sin(Ge),kt,Ot,Nt,fe;r=te.cx,i=te.cy;var Yt=Q==="inside"||Q==="inner";if(Q==="center")kt=te.cx,Ot=te.cy,fe="center";else{var Ye=(Yt?(te.r+te.r0)/2*pt:te.r*pt)+r,je=(Yt?(te.r+te.r0)/2*Ze:te.r*Ze)+i;if(kt=Ye+pt*3,Ot=je+Ze*3,!Yt){var bt=Ye+pt*(G+h-te.r),qe=je+Ze*(G+h-te.r),Je=bt+(pt<0?-1:1)*We,st=qe;ze==="edge"?kt=pt<0?y+ke:y+g-ke:kt=Je+(pt<0?-Ce:Ce),Ot=st,Nt=[[Ye,je],[bt,qe],[Je,st]]}fe=Yt?"center":ze==="edge"?pt>0?"right":"left":pt>0?"left":"right"}var Ft=Math.PI,Ct=0,Rt=ne.get("rotate");if(su(Rt))Ct=Rt*(Ft/180);else if(Q==="center")Ct=0;else if(Rt==="radial"||Rt===!0){var ur=pt<0?-Ge+Ft:-Ge;Ct=ur}else if(Rt==="tangential"&&Q!=="outside"&&Q!=="outer"){var Ke=Math.atan2(pt,Ze);Ke<0&&(Ke=Ft*2+Ke);var Bt=Ze>0;Bt&&(Ke=Ft+Ke),Ct=Ke-Ft}if(u=!!Ct,ie.x=kt,ie.y=Ot,ie.rotation=Ct,ie.setStyle({verticalAlign:"middle"}),Yt){ie.setStyle({align:fe});var Mn=ie.states.select;Mn&&(Mn.x+=ie.x,Mn.y+=ie.y)}else{var Zt=ie.getBoundingRect().clone();Zt.applyTransform(ie.getComputedTransform());var Qn=(ie.style.margin||0)+2.1;Zt.y-=Qn/2,Zt.height+=Qn,t.push({label:ie,labelLine:le,position:Q,len:G,len2:We,minTurnAngle:tt.get("minTurnAngle"),maxSurfaceAngle:tt.get("maxSurfaceAngle"),surfaceNormal:new di(pt,Ze),linePoints:Nt,textAlign:fe,labelDistance:Ce,labelAlignTo:ze,edgeDistance:ke,bleedMargin:St,rect:Zt,unconstrainedWidth:Zt.width,labelStyleWidth:ie.style.width})}ae.setTextConfig({inside:Yt})}}),!u&&n.get("avoidLabelOverlap")&&wVe(t,r,i,h,g,S,y,b);for(var A=0;A<t.length;A++){var R=t[A],I=R.label,z=R.labelLine,L=isNaN(I.x)||isNaN(I.y);if(I){I.setStyle({align:R.textAlign}),L&&(Te(I.states,_),I.ignore=!0);var q=I.states.select;q&&(q.x+=I.x,q.y+=I.y)}if(z){var X=R.linePoints;L||!X?(Te(z.states,_),z.ignore=!0):(xHe(X,R.minTurnAngle),wHe(X,R.surfaceNormal,R.maxSurfaceAngle),z.setShape({points:X}),I.__hostTarget.textGuideLineConfig={anchor:new di(X[0][0],X[0][1])})}}}var SVe=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this)||this;u.z2=2;var l=new ya;return u.setTextContent(l),u.updateData(t,r,i,!0),u}return e.prototype.updateData=function(t,r,i,u){var l=this,f=t.hostModel,h=t.getItemModel(r),g=h.getModel("emphasis"),y=t.getItemLayout(r),b=Gn(mN(h.getModel("itemStyle"),y,!0),y);if(isNaN(b.startAngle)){l.setShape(b);return}if(u){l.setShape(b);var S=f.getShallow("animationType");f.ecModel.ssr?(Id(l,{scaleX:0,scaleY:0},f,{dataIndex:r,isFrom:!0}),l.originX=b.cx,l.originY=b.cy):S==="scale"?(l.shape.r=y.r0,Id(l,{shape:{r:y.r}},f,r)):i!=null?(l.setShape({startAngle:i,endAngle:i}),Id(l,{shape:{startAngle:y.startAngle,endAngle:y.endAngle}},f,r)):(l.shape.endAngle=y.startAngle,tl(l,{shape:{endAngle:y.endAngle}},f,r))}else rL(l),tl(l,{shape:b},f,r);l.useStyle(t.getItemVisual(r,"style")),K3(l,h);var _=(y.startAngle+y.endAngle)/2,k=f.get("selectedOffset"),A=Math.cos(_)*k,R=Math.sin(_)*k,I=h.getShallow("cursor");I&&l.attr("cursor",I),this._updateLabel(f,t,r),l.ensureState("emphasis").shape=Gn({r:y.r+(g.get("scale")&&g.get("scaleSize")||0)},mN(g.getModel("itemStyle"),y)),Gn(l.ensureState("select"),{x:A,y:R,shape:mN(h.getModel(["select","itemStyle"]),y)}),Gn(l.ensureState("blur"),{shape:mN(h.getModel(["blur","itemStyle"]),y)});var z=l.getTextGuideLine(),L=l.getTextContent();z&&Gn(z.ensureState("select"),{x:A,y:R}),Gn(L.ensureState("select"),{x:A,y:R}),J2(this,g.get("focus"),g.get("blurScope"),g.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var u=this,l=r.getItemModel(i),f=l.getModel("labelLine"),h=r.getItemVisual(i,"style"),g=h&&h.fill,y=h&&h.opacity;Vb(u,jb(l),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:g,defaultOpacity:y,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var b=u.getTextContent();u.setTextConfig({position:null,rotation:null}),b.attr({z2:10});var S=t.get(["label","position"]);if(S!=="outside"&&S!=="outer")u.removeTextGuideLine();else{var _=this.getTextGuideLine();_||(_=new tg,this.setTextGuideLine(_)),SHe(this,CHe(l),{stroke:g,opacity:k3(f.get(["lineStyle","opacity"]),y,1)})}},e}(_y),CVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i,u){var l=t.getData(),f=this._data,h=this.group,g;if(!f&&l.count()>0){for(var y=l.getItemLayout(0),b=1;isNaN(y&&y.startAngle)&&b<l.count();++b)y=l.getItemLayout(b);y&&(g=y.startAngle)}if(this._emptyCircleSector&&h.remove(this._emptyCircleSector),l.count()===0&&t.get("showEmptyCircle")){var S=new _y({shape:c0e(t,i)});S.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=S,h.add(S)}l.diff(f).add(function(_){var k=new SVe(l,_,g);l.setItemGraphicEl(_,k),h.add(k)}).update(function(_,k){var A=f.getItemGraphicEl(k);A.updateData(l,_,g),A.off("click"),h.add(A),l.setItemGraphicEl(_,A)}).remove(function(_){var k=f.getItemGraphicEl(_);aV(k,t,_)}).execute(),_Ve(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=l)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var i=r.getData(),u=i.getItemLayout(0);if(u){var l=t[0]-u.cx,f=t[1]-u.cy,h=Math.sqrt(l*l+f*f);return h<=u.r&&h>=u.r0}},e.type="pie",e}(uf);const TVe=CVe;function one(n,e,t){e=sr(e)&&{coordDimensions:e}||Gn({encodeDefine:n.getEncode()},e);var r=n.getSource(),i=Xte(r,e).dimensions,u=new T9(i,n);return u.initData(r,t),u}var MVe=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},n}();const h0e=MVe;var kVe=lu(),DVe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new h0e(Ur(this.getData,this),Ur(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return one(this,{coordDimensions:["value"],encodeDefaulter:ji(sge,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),i=kVe(r),u=i.seats;if(!u){var l=[];r.each(r.mapDimension("value"),function(h){l.push(h)}),u=i.seats=jpe(l,r.hostModel.get("percentPrecision"))}var f=n.prototype.getDataParams.call(this,t);return f.percent=u[t]||0,f.$vars.push("percent"),f},e.prototype._defaultLabelLine=function(t){nV(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Dh);const AVe=DVe;function EVe(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(i){var u=r.mapDimension("value"),l=r.get(u,i);return!(su(l)&&!isNaN(l)&&l<0)})}}}function OVe(n){n.registerChartView(TVe),n.registerSeriesModel(AVe),Wge("pie",n.registerAction),n.registerLayout(ji(bVe,"pie")),n.registerProcessor(f0e("pie")),n.registerProcessor(EVe("pie"))}var IVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,r){return HL(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,r,i){return i.point(r.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Dh);const RVe=IVe;var p0e=4,PVe=function(){function n(){}return n}(),NVe=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r._off=0,r.hoverDataIdx=-1,r}return e.prototype.getDefaultShape=function(){return new PVe},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,r){var i=r.points,u=r.size,l=this.symbolProxy,f=l.shape,h=t.getContext?t.getContext():t,g=h&&u[0]<p0e,y=this.softClipShape,b;if(g){this._ctx=h;return}for(this._ctx=null,b=this._off;b<i.length;){var S=i[b++],_=i[b++];isNaN(S)||isNaN(_)||y&&!y.contain(S,_)||(f.x=S-u[0]/2,f.y=_-u[1]/2,f.width=u[0],f.height=u[1],l.buildPath(t,f,!0))}this.incremental&&(this._off=b,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,r=t.points,i=t.size,u=this._ctx,l=this.softClipShape,f;if(u){for(f=this._off;f<r.length;){var h=r[f++],g=r[f++];isNaN(h)||isNaN(g)||l&&!l.contain(h,g)||u.fillRect(h-i[0]/2,g-i[1]/2,i[0],i[1])}this.incremental&&(this._off=f,this.notClear=!0)}},e.prototype.findDataIndex=function(t,r){for(var i=this.shape,u=i.points,l=i.size,f=Math.max(l[0],4),h=Math.max(l[1],4),g=u.length/2-1;g>=0;g--){var y=g*2,b=u[y]-f/2,S=u[y+1]-h/2;if(t>=b&&r>=S&&t<=b+f&&r<=S+h)return g}return-1},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),u=this.getBoundingRect();if(t=i[0],r=i[1],u.contain(t,r)){var l=this.hoverDataIdx=this.findDataIndex(t,r);return l>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape,i=r.points,u=r.size,l=u[0],f=u[1],h=1/0,g=1/0,y=-1/0,b=-1/0,S=0;S<i.length;){var _=i[S++],k=i[S++];h=Math.min(_,h),y=Math.max(_,y),g=Math.min(k,g),b=Math.max(k,b)}t=this._rect=new vi(h-l/2,g-f/2,y-h+l,b-g+f)}return t},e}(Va),LVe=function(){function n(){this.group=new hi}return n.prototype.updateData=function(e,t){this._clear();var r=this._create();r.setShape({points:e.getLayout("points")}),this._setCommon(r,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,u=r.startIndex*4*2;t=new Float32Array(t.buffer,u,i)}r.setShape("points",t),r.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,r){var i=this._newAdded[0],u=t.getLayout("points"),l=i&&i.shape.points;if(l&&l.length<2e4){var f=l.length,h=new Float32Array(f+u.length);h.set(l),h.set(u,f),i.endIndex=e.end,i.setShape({points:h})}else{this._newAdded=[];var g=this._create();g.startIndex=e.start,g.endIndex=e.end,g.incremental=!0,g.setShape({points:u}),this._setCommon(g,t,r)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new NVe({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,r){var i=t.hostModel;r=r||{};var u=t.getVisual("symbolSize");e.setShape("size",u instanceof Array?u:[u,u]),e.softClipShape=r.clipShape||null,e.symbolProxy=sf(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var l=e.shape.size[0]<p0e;e.useStyle(i.getModel("itemStyle").getItemStyle(l?["color","shadowBlur","shadowColor"]:["color"]));var f=t.getVisual("style"),h=f&&f.fill;h&&e.setColor(h);var g=Ai(e);g.seriesIndex=i.seriesIndex,e.on("mousemove",function(y){g.dataIndex=null;var b=e.hoverDataIdx;b>=0&&(g.dataIndex=b+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const BVe=LVe;var zVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=t.getData(),l=this._updateSymbolDraw(u,t);l.updateData(u,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,r,i){var u=t.getData(),l=this._updateSymbolDraw(u,t);l.incrementalPrepareUpdate(u),this._finished=!1},e.prototype.incrementalRender=function(t,r,i){this._symbolDraw.incrementalUpdate(t,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=t.end===r.getData().count()},e.prototype.updateTransform=function(t,r,i){var u=t.getData();if(this.group.dirty(),!this._finished||u.count()>1e4)return{update:!0};var l=rne("").reset(t,r,i);l.progress&&l.progress({start:0,end:u.count(),count:u.count()},u),this._symbolDraw.updateLayout(u)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var r=t.coordinateSystem,i=r&&r.getArea&&r.getArea();return t.get("clip",!0)?i:null},e.prototype._updateSymbolDraw=function(t,r){var i=this._symbolDraw,u=r.pipelineContext,l=u.large;return(!i||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=l?new BVe:new Qve,this._isLargeDraw=l,this.group.removeAll()),this.group.add(i.group),i},e.prototype.remove=function(t,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(uf);const FVe=zVe;var HVe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Vi);const VVe=HVe;var xZ=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",mc).models[0]},e.type="cartesian2dAxis",e}(Vi);cf(xZ,jL);var m0e={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},jVe=Vo({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},m0e),ine=Vo({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},m0e),UVe=Vo({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},ine),WVe=Co({logBase:10},ine);const g0e={category:jVe,value:ine,time:UVe,log:WVe};var qVe={value:1,category:1,time:1,log:1};function hL(n,e,t,r){Te(qVe,function(i,u){var l=Vo(Vo({},g0e[u],!0),r,!0),f=function(h){Tn(g,h);function g(){var y=h!==null&&h.apply(this,arguments)||this;return y.type=e+"Axis."+u,y}return g.prototype.mergeDefaultAndTheme=function(y,b){var S=uL(this),_=S?g5(y):{},k=b.getTheme();Vo(y,k.get(u+"Axis")),Vo(y,this.getDefaultOption()),y.type=Xse(y),S&&Q2(y,_,S)},g.prototype.optionUpdated=function(){var y=this.option;y.type==="category"&&(this.__ordinalMeta=gZ.createByAxisModel(this))},g.prototype.getCategories=function(y){var b=this.option;if(b.type==="category")return y?b.data:this.__ordinalMeta.categories},g.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},g.type=e+"Axis."+u,g.defaultOption=l,g}(t);n.registerComponentModel(f)}),n.registerSubTypeDefaulter(e+"Axis",Xse)}function Xse(n){return n.type||(n.data?"category":"value")}var $Ve=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return br(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Ls(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}();const GVe=$Ve;var wZ=["x","y"];function Yse(n){return n.type==="interval"||n.type==="time"}var XVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=wZ,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!Yse(t)||!Yse(r))){var i=t.getExtent(),u=r.getExtent(),l=this.dataToPoint([i[0],u[0]]),f=this.dataToPoint([i[1],u[1]]),h=i[1]-i[0],g=u[1]-u[0];if(!(!h||!g)){var y=(f[0]-l[0])/h,b=(f[1]-l[1])/g,S=l[0]-i[0]*y,_=l[1]-u[0]*b,k=this._transform=[y,0,0,b,S,_];this._invTransform=c5([],k)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var i=this.dataToPoint(t),u=this.dataToPoint(r),l=this.getArea(),f=new vi(i[0],i[1],u[0]-i[0],u[1]-i[1]);return l.intersect(f)},e.prototype.dataToPoint=function(t,r,i){i=i||[];var u=t[0],l=t[1];if(this._transform&&u!=null&&isFinite(u)&&l!=null&&isFinite(l))return Ic(i,t,this._transform);var f=this.getAxis("x"),h=this.getAxis("y");return i[0]=f.toGlobalCoord(f.dataToCoord(u,r)),i[1]=h.toGlobalCoord(h.dataToCoord(l,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,u=this.getAxis("y").scale,l=i.getExtent(),f=u.getExtent(),h=i.parse(t[0]),g=u.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(l[0],l[1]),h),Math.max(l[0],l[1])),r[1]=Math.min(Math.max(Math.min(f[0],f[1]),g),Math.max(f[0],f[1])),r},e.prototype.pointToData=function(t,r){var i=[];if(this._invTransform)return Ic(i,t,this._invTransform);var u=this.getAxis("x"),l=this.getAxis("y");return i[0]=u.coordToData(u.toLocalCoord(t[0]),r),i[1]=l.coordToData(l.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),u=Math.min(r[0],r[1]),l=Math.max(t[0],t[1])-i,f=Math.max(r[0],r[1])-u;return new vi(i,u,l,f)},e}(GVe),YVe=function(n){Tn(e,n);function e(t,r,i,u,l){var f=n.call(this,t,r,i)||this;return f.index=0,f.type=u||"value",f.position=l||"bottom",f}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Iv);const KVe=YVe;function _Z(n,e,t){t=t||{};var r=n.coordinateSystem,i=e.axis,u={},l=i.getAxesOnZeroOf()[0],f=i.position,h=l?"onZero":f,g=i.dim,y=r.getRect(),b=[y.x,y.x+y.width,y.y,y.y+y.height],S={left:0,right:1,top:0,bottom:1,onZero:2},_=e.get("offset")||0,k=g==="x"?[b[2]-_,b[3]+_]:[b[0]-_,b[1]+_];if(l){var A=l.toGlobalCoord(l.dataToCoord(0));k[S.onZero]=Math.max(Math.min(A,k[1]),k[0])}u.position=[g==="y"?k[S[h]]:b[0],g==="x"?k[S[h]]:b[3]],u.rotation=Math.PI/2*(g==="x"?0:1);var R={top:-1,bottom:1,left:-1,right:1};u.labelDirection=u.tickDirection=u.nameDirection=R[f],u.labelOffset=l?k[S[f]]-k[S.onZero]:0,e.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),Rb(t.labelInside,e.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var I=e.get(["axisLabel","rotate"]);return u.labelRotate=h==="top"?-I:I,u.z2=1,u}function Kse(n){return n.get("coordinateSystem")==="cartesian2d"}function Jse(n){var e={xAxisModel:null,yAxisModel:null};return Te(e,function(t,r){var i=r.replace(/Model$/,""),u=n.getReferringComponents(i,mc).models[0];e[r]=u}),e}var SJ=Math.log;function v0e(n,e,t){var r=e_.prototype,i=r.getTicks.call(t),u=r.getTicks.call(t,!0),l=i.length-1,f=r.getInterval.call(t),h=Fve(n,e),g=h.extent,y=h.fixMin,b=h.fixMax;if(n.type==="log"){var S=SJ(n.base);g=[SJ(g[0])/S,SJ(g[1])/S]}n.setExtent(g[0],g[1]),n.calcNiceExtent({splitNumber:l,fixMin:y,fixMax:b});var _=r.getExtent.call(n);y&&(g[0]=_[0]),b&&(g[1]=_[1]);var k=r.getInterval.call(n),A=g[0],R=g[1];if(y&&b)k=(R-A)/l;else if(y)for(R=g[0]+k*l;R<g[1]&&isFinite(R)&&isFinite(g[1]);)k=mJ(k),R=g[0]+k*l;else if(b)for(A=g[1]-k*l;A>g[0]&&isFinite(A)&&isFinite(g[0]);)k=mJ(k),A=g[1]-k*l;else{var I=n.getTicks().length-1;I>l&&(k=mJ(k));var z=k*l;R=Math.ceil(g[1]/k)*k,A=el(R-z),A<0&&g[0]>=0?(A=0,R=el(z)):R>0&&g[1]<=0&&(R=0,A=-el(z))}var L=(i[0].value-u[0].value)/f,q=(i[l].value-u[l].value)/f;r.setExtent.call(n,A+k*L,R+k*q),r.setInterval.call(n,k),(L||q)&&r.setNiceExtent.call(n,A+k,R-k)}var JVe=function(){function n(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=wZ,this._initCartesian(e,t,r),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function i(l){var f,h=ga(l),g=h.length;if(g){for(var y=[],b=g-1;b>=0;b--){var S=+h[b],_=l[S],k=_.model,A=_.scale;vZ(A)&&k.get("alignTicks")&&k.get("interval")==null?y.push(_):(Q3(A,k),vZ(A)&&(f=_))}y.length&&(f||(f=y.pop(),Q3(f.scale,f.model)),Te(y,function(R){v0e(R.scale,R.model,f.scale)}))}}i(r.x),i(r.y);var u={};Te(r.x,function(l){Qse(r,"y",l,u)}),Te(r.y,function(l){Qse(r,"x",l,u)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,r){var i=e.getBoxLayoutParams(),u=!r&&e.get("containLabel"),l=Rd(i,{width:t.getWidth(),height:t.getHeight()});this._rect=l;var f=this._axesList;h(),u&&(Te(f,function(g){if(!g.model.get(["axisLabel","inside"])){var y=HFe(g);if(y){var b=g.isHorizontal()?"height":"width",S=g.model.get(["axisLabel","margin"]);l[b]-=y[b]+S,g.position==="top"?l.y+=y.height+S:g.position==="left"&&(l.x+=y.width+S)}}}),h()),Te(this._coordsList,function(g){g.calcAffineTransform()});function h(){Te(f,function(g){var y=g.isHorizontal(),b=y?[0,l.width]:[0,l.height],S=g.inverse?1:0;g.setExtent(b[S],b[1-S]),QVe(g,y?l.x:l.y)})}},n.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}no(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,u=this._coordsList;i<u.length;i++)if(u[i].getAxis("x").index===e||u[i].getAxis("y").index===t)return u[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",mc).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",mc).models[0],u=e.gridModel,l=this._coordsList,f,h;if(t)f=t.coordinateSystem,Di(l,f)<0&&(f=null);else if(r&&i)f=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)h=this.getAxis("x",r.componentIndex);else if(i)h=this.getAxis("y",i.componentIndex);else if(u){var g=u.coordinateSystem;g===this&&(f=this._coordsList[0])}return{cartesian:f,axis:h}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,r){var i=this,u=this,l={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},h={x:0,y:0};if(t.eachComponent("xAxis",g("x"),this),t.eachComponent("yAxis",g("y"),this),!h.x||!h.y){this._axesMap={},this._axesList=[];return}this._axesMap=f,Te(f.x,function(y,b){Te(f.y,function(S,_){var k="x"+b+"y"+_,A=new XVe(k);A.master=i,A.model=e,i._coordsMap[k]=A,i._coordsList.push(A),A.addAxis(y),A.addAxis(S)})});function g(y){return function(b,S){if(CJ(b,e)){var _=b.get("position");y==="x"?_!=="top"&&_!=="bottom"&&(_=l.bottom?"top":"bottom"):_!=="left"&&_!=="right"&&(_=l.left?"right":"left"),l[_]=!0;var k=new KVe(y,A9(b),[0,0],b.get("type"),_),A=k.type==="category";k.onBand=A&&b.get("boundaryGap"),k.inverse=b.get("inverse"),b.axis=k,k.model=b,k.grid=u,k.index=S,u._axesList.push(k),f[y][S]=k,h[y]++}}}},n.prototype._updateScale=function(e,t){Te(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var u=i.model.get("categorySortInfo");i.scale.setSortInfo(u)}}),e.eachSeries(function(i){if(Kse(i)){var u=Jse(i),l=u.xAxisModel,f=u.yAxisModel;if(!CJ(l,t)||!CJ(f,t))return;var h=this.getCartesian(l.componentIndex,f.componentIndex),g=i.getData(),y=h.getAxis("x"),b=h.getAxis("y");r(g,y),r(g,b)}},this);function r(i,u){Te(xV(i,u.dim),function(l){u.scale.unionExtentFromData(i,l)})}},n.prototype.getTooltipAxes=function(e){var t=[],r=[];return Te(this.getCartesians(),function(i){var u=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),l=i.getOtherAxis(u);Di(t,u)<0&&t.push(u),Di(r,l)<0&&r.push(l)}),{baseAxes:t,otherAxes:r}},n.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,u){var l=new n(i,e,t);l.name="grid_"+u,l.resize(i,t,!0),i.coordinateSystem=l,r.push(l)}),e.eachSeries(function(i){if(Kse(i)){var u=Jse(i),l=u.xAxisModel,f=u.yAxisModel,h=l.getCoordSysModel(),g=h.coordinateSystem;i.coordinateSystem=g.getCartesian(l.componentIndex,f.componentIndex)}}),r},n.dimensions=wZ,n}();function CJ(n,e){return n.getCoordSysModel()===e}function Qse(n,e,t,r){t.getAxesOnZeroOf=function(){return u?[u]:[]};var i=n[e],u,l=t.model,f=l.get(["axisLine","onZero"]),h=l.get(["axisLine","onZeroAxisIndex"]);if(!f)return;if(h!=null)Zse(i[h])&&(u=i[h]);else for(var g in i)if(i.hasOwnProperty(g)&&Zse(i[g])&&!r[y(i[g])]){u=i[g];break}u&&(r[y(u)]=!0);function y(b){return b.dim+"_"+b.index}}function Zse(n){return n&&n.type!=="category"&&n.type!=="time"&&FFe(n)}function QVe(n,e){var t=n.getExtent(),r=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(i){return i+e}:function(i){return r-i+e},n.toLocalCoord=n.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}const ZVe=JVe;var H2=Math.PI,yM=function(){function n(e,t){this.group=new hi,this.opt=t,this.axisModel=e,Co(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new hi({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(e){return!!ele[e]},n.prototype.add=function(e){ele[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,r){var i=Yee(t-e),u,l;return ZN(i)?(l=r>0?"top":"bottom",u="center"):ZN(i-H2)?(l=r>0?"bottom":"top",u="center"):(l="middle",i>0&&i<H2?u=r>0?"right":"left":u=r>0?"left":"right"),{rotation:i,textAlign:u,textVerticalAlign:l}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),ele={axisLine:function(n,e,t,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),!!i){var u=e.axis.getExtent(),l=r.transform,f=[u[0],0],h=[u[1],0],g=f[0]>h[0];l&&(Ic(f,f,l),Ic(h,h,l));var y=Gn({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),b=new Od({shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:y,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});oL(b.shape,b.style.lineWidth),b.anid="line",t.add(b);var S=e.get(["axisLine","symbol"]);if(S!=null){var _=e.get(["axisLine","symbolSize"]);Nr(S)&&(S=[S,S]),(Nr(_)||su(_))&&(_=[_,_]);var k=_9(e.get(["axisLine","symbolOffset"])||0,_),A=_[0],R=_[1];Te([{rotate:n.rotation+Math.PI/2,offset:k[0],r:0},{rotate:n.rotation-Math.PI/2,offset:k[1],r:Math.sqrt((f[0]-h[0])*(f[0]-h[0])+(f[1]-h[1])*(f[1]-h[1]))}],function(I,z){if(S[z]!=="none"&&S[z]!=null){var L=sf(S[z],-A/2,-R/2,A,R,y.stroke,!0),q=I.r+I.offset,X=g?h:f;L.attr({rotation:I.rotate,x:X[0]+q*Math.cos(n.rotation),y:X[1]-q*Math.sin(n.rotation),silent:!0,z2:11}),t.add(L)}})}}},axisTickLabel:function(n,e,t,r){var i=n9e(t,r,e,n),u=o9e(t,r,e,n);if(t9e(e,u,i),r9e(t,r,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])){var l=THe(br(u,function(f){return{label:f,priority:f.z2,defaultAttr:{ignore:f.ignore}}}));DHe(l)}},axisName:function(n,e,t,r){var i=Rb(n.axisName,e.get("name"));if(i){var u=e.get("nameLocation"),l=n.nameDirection,f=e.getModel("nameTextStyle"),h=e.get("nameGap")||0,g=e.axis.getExtent(),y=g[0]>g[1]?-1:1,b=[u==="start"?g[0]-y*h:u==="end"?g[1]+y*h:(g[0]+g[1])/2,nle(u)?n.labelOffset+l*h:0],S,_=e.get("nameRotate");_!=null&&(_=_*H2/180);var k;nle(u)?S=yM.innerTextLayout(n.rotation,_??n.rotation,l):(S=e9e(n.rotation,u,_||0,g),k=n.axisNameAvailableWidth,k!=null&&(k=Math.abs(k/Math.sin(S.rotation)),!isFinite(k)&&(k=null)));var A=f.getFont(),R=e.get("nameTruncate",!0)||{},I=R.ellipsis,z=Rb(n.nameTruncateMaxWidth,R.maxWidth,k),L=new ya({x:b[0],y:b[1],rotation:S.rotation,silent:yM.isLabelSilent(e),style:wl(f,{text:i,font:A,overflow:"truncate",width:z,ellipsis:I,fill:f.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:f.get("align")||S.textAlign,verticalAlign:f.get("verticalAlign")||S.textVerticalAlign}),z2:1});if(h5({el:L,componentModel:e,itemName:i}),L.__fullText=i,L.anid="name",e.get("triggerEvent")){var q=yM.makeAxisEventDataBase(e);q.targetType="axisName",q.name=i,Ai(L).eventData=q}r.add(L),L.updateTransform(),t.add(L),L.decomposeTransform()}}};function e9e(n,e,t,r){var i=Yee(t-n),u,l,f=r[0]>r[1],h=e==="start"&&!f||e!=="start"&&f;return ZN(i-H2/2)?(l=h?"bottom":"top",u="center"):ZN(i-H2*1.5)?(l=h?"top":"bottom",u="center"):(l="middle",i<H2*1.5&&i>H2/2?u=h?"left":"right":u=h?"right":"left"),{rotation:i,textAlign:u,textVerticalAlign:l}}function t9e(n,e,t){if(!Hve(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var u=e[0],l=e[1],f=e[e.length-1],h=e[e.length-2],g=t[0],y=t[1],b=t[t.length-1],S=t[t.length-2];r===!1?(Nm(u),Nm(g)):tle(u,l)&&(r?(Nm(l),Nm(y)):(Nm(u),Nm(g))),i===!1?(Nm(f),Nm(b)):tle(h,f)&&(i?(Nm(h),Nm(S)):(Nm(f),Nm(b)))}}function Nm(n){n&&(n.ignore=!0)}function tle(n,e){var t=n&&n.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var i=IL([]);return i_(i,i,-n.rotation),t.applyTransform(fy([],i,n.getLocalTransform())),r.applyTransform(fy([],i,e.getLocalTransform())),t.intersect(r)}}function nle(n){return n==="middle"||n==="center"}function y0e(n,e,t,r,i){for(var u=[],l=[],f=[],h=0;h<n.length;h++){var g=n[h].coord;l[0]=g,l[1]=0,f[0]=g,f[1]=t,e&&(Ic(l,l,e),Ic(f,f,e));var y=new Od({shape:{x1:l[0],y1:l[1],x2:f[0],y2:f[1]},style:r,z2:2,autoBatch:!0,silent:!0});oL(y.shape,y.style.lineWidth),y.anid=i+"_"+n[h].tickValue,u.push(y)}return u}function n9e(n,e,t,r){var i=t.axis,u=t.getModel("axisTick"),l=u.get("show");if(l==="auto"&&r.handleAutoShown&&(l=r.handleAutoShown("axisTick")),!(!l||i.scale.isBlank())){for(var f=u.getModel("lineStyle"),h=r.tickDirection*u.get("length"),g=i.getTicksCoords(),y=y0e(g,e.transform,h,Co(f.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),b=0;b<y.length;b++)n.add(y[b]);return y}}function r9e(n,e,t,r){var i=t.axis,u=t.getModel("minorTick");if(!(!u.get("show")||i.scale.isBlank())){var l=i.getMinorTicksCoords();if(l.length)for(var f=u.getModel("lineStyle"),h=r*u.get("length"),g=Co(f.getLineStyle(),Co(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),y=0;y<l.length;y++)for(var b=y0e(l[y],e.transform,h,g,"minorticks_"+y),S=0;S<b.length;S++)n.add(b[S])}}function o9e(n,e,t,r){var i=t.axis,u=Rb(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!u||i.scale.isBlank())){var l=t.getModel("axisLabel"),f=l.get("margin"),h=i.getViewLabels(),g=(Rb(r.labelRotate,l.get("rotate"))||0)*H2/180,y=yM.innerTextLayout(r.rotation,g,r.labelDirection),b=t.getCategories&&t.getCategories(!0),S=[],_=yM.isLabelSilent(t),k=t.get("triggerEvent");return Te(h,function(A,R){var I=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(A.tickValue):A.tickValue,z=A.formattedLabel,L=A.rawLabel,q=l;if(b&&b[I]){var X=b[I];no(X)&&X.textStyle&&(q=new xs(X.textStyle,l,t.ecModel))}var Y=q.getTextColor()||t.get(["axisLine","lineStyle","color"]),ae=i.dataToCoord(I),te=new ya({x:ae,y:r.labelOffset+r.labelDirection*f,rotation:y.rotation,silent:_,z2:10+(A.level||0),style:wl(q,{text:z,align:q.getShallow("align",!0)||y.textAlign,verticalAlign:q.getShallow("verticalAlign",!0)||q.getShallow("baseline",!0)||y.textVerticalAlign,fill:Eo(Y)?Y(i.type==="category"?L:i.type==="value"?I+"":I,R):Y})});if(te.anid="label_"+I,k){var ie=yM.makeAxisEventDataBase(t);ie.targetType="axisLabel",ie.value=L,ie.tickIndex=R,i.type==="category"&&(ie.dataIndex=I),Ai(te).eventData=ie}e.add(te),te.updateTransform(),S.push(te),n.add(te),te.decomposeTransform()}),S}}const t_=yM;function i9e(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return a9e(t,n,e),t.seriesInvolved&&s9e(t,n),t}function a9e(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),u=i.get("link",!0)||[],l=[];Te(t.getCoordinateSystems(),function(f){if(!f.axisPointerEnabled)return;var h=pL(f.model),g=n.coordSysAxesInfo[h]={};n.coordSysMap[h]=f;var y=f.model,b=y.getModel("tooltip",r);if(Te(f.getAxes(),ji(A,!1,null)),f.getTooltipAxes&&r&&b.get("show")){var S=b.get("trigger")==="axis",_=b.get(["axisPointer","type"])==="cross",k=f.getTooltipAxes(b.get(["axisPointer","axis"]));(S||_)&&Te(k.baseAxes,ji(A,_?"cross":!0,S)),_&&Te(k.otherAxes,ji(A,"cross",!1))}function A(R,I,z){var L=z.model.getModel("axisPointer",i),q=L.get("show");if(!(!q||q==="auto"&&!R&&!SZ(L))){I==null&&(I=L.get("triggerTooltip")),L=R?u9e(z,b,i,e,R,I):L;var X=L.get("snap"),Y=L.get("triggerEmphasis"),ae=pL(z.model),te=I||X||z.type==="category",ie=n.axesInfo[ae]={key:ae,axis:z,coordSys:f,axisPointerModel:L,triggerTooltip:I,triggerEmphasis:Y,involveSeries:te,snap:X,useHandle:SZ(L),seriesModels:[],linkGroup:null};g[ae]=ie,n.seriesInvolved=n.seriesInvolved||te;var le=l9e(u,z);if(le!=null){var ce=l[le]||(l[le]={axesInfo:{}});ce.axesInfo[ae]=ie,ce.mapper=u[le].mapper,ie.linkGroup=ce}}}})}function u9e(n,e,t,r,i,u){var l=e.getModel("axisPointer"),f=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],h={};Te(f,function(S){h[S]=vo(l.get(S))}),h.snap=n.type!=="category"&&!!u,l.get("type")==="cross"&&(h.type="line");var g=h.label||(h.label={});if(g.show==null&&(g.show=!1),i==="cross"){var y=l.get(["label","show"]);if(g.show=y??!0,!u){var b=h.lineStyle=l.get("crossStyle");b&&Co(g,b.textStyle)}}return n.model.getModel("axisPointer",new xs(h,t,r))}function s9e(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),u=t.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||u===!1||t.get(["axisPointer","show"],!0)===!1||Te(n.coordSysAxesInfo[pL(r.model)],function(l){var f=l.axis;r.getAxis(f.dim)===f&&(l.seriesModels.push(t),l.seriesDataCount==null&&(l.seriesDataCount=0),l.seriesDataCount+=t.getData().count())})})}function l9e(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var u=n[i]||{};if(TJ(u[r+"AxisId"],t.id)||TJ(u[r+"AxisIndex"],t.componentIndex)||TJ(u[r+"AxisName"],t.name))return i}}function TJ(n,e){return n==="all"||sr(n)&&Di(n,e)>=0||n===e}function c9e(n){var e=ane(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,u=t.get("status"),l=t.get("value");l!=null&&(l=r.parse(l));var f=SZ(t);u==null&&(i.status=f?"show":"hide");var h=r.getExtent().slice();h[0]>h[1]&&h.reverse(),(l==null||l>h[1])&&(l=h[1]),l<h[0]&&(l=h[0]),i.value=l,f&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function ane(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[pL(n)]}function f9e(n){var e=ane(n);return e&&e.axisPointerModel}function SZ(n){return!!n.get(["handle","show"])}function pL(n){return n.type+"||"+n.id}var rle={},d9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,u){this.axisPointerClass&&c9e(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,u){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var u=e.getAxisPointerClass(this.axisPointerClass);if(u){var l=f9e(t);l?(this._axisPointer||(this._axisPointer=new u)).render(t,l,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){rle[t]=r},e.getAxisPointerClass=function(t){return t&&rle[t]},e.type="axis",e}(zs);const UL=d9e;var CZ=lu();function h9e(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var u=t.getModel("splitArea"),l=u.getModel("areaStyle"),f=l.get("color"),h=r.coordinateSystem.getRect(),g=i.getTicksCoords({tickModel:u,clamp:!0});if(g.length){var y=f.length,b=CZ(n).splitAreaColors,S=to(),_=0;if(b)for(var k=0;k<g.length;k++){var A=b.get(g[k].tickValue);if(A!=null){_=(A+(y-1)*k)%y;break}}var R=i.toGlobalCoord(g[0].coord),I=l.getAreaStyle();f=sr(f)?f:[f];for(var k=1;k<g.length;k++){var z=i.toGlobalCoord(g[k].coord),L=void 0,q=void 0,X=void 0,Y=void 0;i.isHorizontal()?(L=R,q=h.y,X=z-L,Y=h.height,R=L+X):(L=h.x,q=R,X=h.width,Y=z-q,R=q+Y);var ae=g[k-1].tickValue;ae!=null&&S.set(ae,_),e.add(new va({anid:ae!=null?"area_"+ae:null,shape:{x:L,y:q,width:X,height:Y},style:Co({fill:f[_]},I),autoBatch:!0,silent:!0})),_=(_+1)%y}CZ(n).splitAreaColors=S}}}function p9e(n){CZ(n).splitAreaColors=null}var m9e=["axisLine","axisTickLabel","axisName"],g9e=["splitArea","splitLine","minorSplitLine"],b0e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,u){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new hi,this.group.add(this._axisGroup),!!t.get("show")){var f=t.getCoordSysModel(),h=_Z(f,t),g=new t_(t,Gn({handleAutoShown:function(b){for(var S=f.coordinateSystem.getCartesians(),_=0;_<S.length;_++)if(vZ(S[_].getOtherAxis(t.axis).scale))return!0;return!1}},h));Te(m9e,g.add,g),this._axisGroup.add(g.getGroup()),Te(g9e,function(b){t.get([b,"show"])&&v9e[b](this,this._axisGroup,t,f)},this);var y=u&&u.type==="changeAxisOrder"&&u.isInitSort;y||s9(l,this._axisGroup,t),n.prototype.render.call(this,t,r,i,u)}},e.prototype.remove=function(){p9e(this)},e.type="cartesianAxis",e}(UL),v9e={splitLine:function(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var u=t.getModel("splitLine"),l=u.getModel("lineStyle"),f=l.get("color");f=sr(f)?f:[f];for(var h=r.coordinateSystem.getRect(),g=i.isHorizontal(),y=0,b=i.getTicksCoords({tickModel:u}),S=[],_=[],k=l.getLineStyle(),A=0;A<b.length;A++){var R=i.toGlobalCoord(b[A].coord);g?(S[0]=R,S[1]=h.y,_[0]=R,_[1]=h.y+h.height):(S[0]=h.x,S[1]=R,_[0]=h.x+h.width,_[1]=R);var I=y++%f.length,z=b[A].tickValue,L=new Od({anid:z!=null?"line_"+b[A].tickValue:null,autoBatch:!0,shape:{x1:S[0],y1:S[1],x2:_[0],y2:_[1]},style:Co({stroke:f[I]},k),silent:!0});oL(L.shape,k.lineWidth),e.add(L)}}},minorSplitLine:function(n,e,t,r){var i=t.axis,u=t.getModel("minorSplitLine"),l=u.getModel("lineStyle"),f=r.coordinateSystem.getRect(),h=i.isHorizontal(),g=i.getMinorTicksCoords();if(g.length)for(var y=[],b=[],S=l.getLineStyle(),_=0;_<g.length;_++)for(var k=0;k<g[_].length;k++){var A=i.toGlobalCoord(g[_][k].coord);h?(y[0]=A,y[1]=f.y,b[0]=A,b[1]=f.y+f.height):(y[0]=f.x,y[1]=A,b[0]=f.x+f.width,b[1]=A);var R=new Od({anid:"minor_line_"+g[_][k].tickValue,autoBatch:!0,shape:{x1:y[0],y1:y[1],x2:b[0],y2:b[1]},style:S,silent:!0});oL(R.shape,S.lineWidth),e.add(R)}},splitArea:function(n,e,t,r){h9e(n,e,t,r)}},x0e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(b0e),y9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=x0e.type,t}return e.type="yAxis",e}(b0e),b9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new va({shape:t.coordinateSystem.getRect(),style:Co({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(zs),ole={offset:0};function w0e(n){n.registerComponentView(b9e),n.registerComponentModel(VVe),n.registerCoordinateSystem("cartesian2d",ZVe),hL(n,"x",xZ,ole),hL(n,"y",xZ,ole),n.registerComponentView(x0e),n.registerComponentView(y9e),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function x9e(n){Rc(w0e),n.registerSeriesModel(RVe),n.registerChartView(FVe),n.registerLayout(rne("scatter"))}function w9e(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),r=[],i=e.coordinateSystem;if(i){var u=i.getIndicatorAxes();Te(u,function(l,f){t.each(t.mapDimension(u[f].dim),function(h,g){r[g]=r[g]||[];var y=i.dataToPoint(h,f);r[g][f]=ile(y)?y:ale(i)})}),t.each(function(l){var f=ape(r[l],function(h){return ile(h)})||ale(i);r[l].push(f.slice()),t.setItemLayout(l,r[l])})}})}function ile(n){return!isNaN(n[0])&&!isNaN(n[1])}function ale(n){return[n.cx,n.cy]}function _9e(n){var e=n.polar;if(e){sr(e)||(e=[e]);var t=[];Te(e,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],sr(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):t.push(r)}),n.polar=t}Te(n.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var S9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=t.coordinateSystem,l=this.group,f=t.getData(),h=this._data;function g(S,_){var k=S.getItemVisual(_,"symbol")||"circle";if(k!=="none"){var A=Lte(S.getItemVisual(_,"symbolSize")),R=sf(k,-1,-1,2,2),I=S.getItemVisual(_,"symbolRotate")||0;return R.attr({style:{strokeNoScale:!0},z2:100,scaleX:A[0]/2,scaleY:A[1]/2,rotation:I*Math.PI/180||0}),R}}function y(S,_,k,A,R,I){k.removeAll();for(var z=0;z<_.length-1;z++){var L=g(A,R);L&&(L.__dimIdx=z,S[z]?(L.setPosition(S[z]),c9[I?"initProps":"updateProps"](L,{x:_[z][0],y:_[z][1]},t,R)):L.setPosition(_[z]),k.add(L))}}function b(S){return br(S,function(_){return[u.cx,u.cy]})}f.diff(h).add(function(S){var _=f.getItemLayout(S);if(_){var k=new Sy,A=new tg,R={shape:{points:_}};k.shape.points=b(_),A.shape.points=b(_),Id(k,R,t,S),Id(A,R,t,S);var I=new hi,z=new hi;I.add(A),I.add(k),I.add(z),y(A.shape.points,_,z,f,S,!0),f.setItemGraphicEl(S,I)}}).update(function(S,_){var k=h.getItemGraphicEl(_),A=k.childAt(0),R=k.childAt(1),I=k.childAt(2),z={shape:{points:f.getItemLayout(S)}};z.shape.points&&(y(A.shape.points,z.shape.points,I,f,S,!1),rL(R),rL(A),tl(A,z,t),tl(R,z,t),f.setItemGraphicEl(S,k))}).remove(function(S){l.remove(h.getItemGraphicEl(S))}).execute(),f.eachItemGraphicEl(function(S,_){var k=f.getItemModel(_),A=S.childAt(0),R=S.childAt(1),I=S.childAt(2),z=f.getItemVisual(_,"style"),L=z.fill;l.add(S),A.useStyle(Co(k.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:L})),K3(A,k,"lineStyle"),K3(R,k,"areaStyle");var q=k.getModel("areaStyle"),X=q.isEmpty()&&q.parentModel.isEmpty();R.ignore=X,Te(["emphasis","select","blur"],function(te){var ie=k.getModel([te,"areaStyle"]),le=ie.isEmpty()&&ie.parentModel.isEmpty();R.ensureState(te).ignore=le&&X}),R.useStyle(Co(q.getAreaStyle(),{fill:L,opacity:.7,decal:z.decal}));var Y=k.getModel("emphasis"),ae=Y.getModel("itemStyle").getItemStyle();I.eachChild(function(te){if(te instanceof Ip){var ie=te.style;te.useStyle(Gn({image:ie.image,x:ie.x,y:ie.y,width:ie.width,height:ie.height},z))}else te.useStyle(z),te.setColor(L),te.style.strokeNoScale=!0;var le=te.ensureState("emphasis");le.style=vo(ae);var ce=f.getStore().get(f.getDimensionIndex(te.__dimIdx),_);(ce==null||isNaN(ce))&&(ce=""),Vb(te,jb(k),{labelFetcher:f.hostModel,labelDataIndex:_,labelDimIndex:te.__dimIdx,defaultText:ce,inheritColor:L,defaultOpacity:z.opacity})}),J2(S,Y.get("focus"),Y.get("blurScope"),Y.get("disabled"))}),this._data=f},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(uf);const C9e=S9e;var T9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new h0e(Ur(this.getData,this),Ur(this.getRawData,this))},e.prototype.getInitialData=function(t,r){return one(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,r,i){var u=this.getData(),l=this.coordinateSystem,f=l.getIndicatorAxes(),h=this.getData().getName(t),g=h===""?this.name:h,y=Ige(this,t);return vy("section",{header:g,sortBlocks:!0,blocks:br(f,function(b){var S=u.get(u.mapDimension(b.dim),t);return vy("nameValue",{markerType:"subItem",markerColor:y,name:b.name,value:S,sortParam:S})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var r=this.getData(),i=this.coordinateSystem,u=r.getValues(br(i.dimensions,function(g){return r.mapDimension(g)}),t),l=0,f=u.length;l<f;l++)if(!isNaN(u[l])){var h=i.getIndicatorAxes();return i.coordToPoint(h[l].dataToCoord(u[l]),l)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Dh);const M9e=T9e;var KP=g0e.value;function WF(n,e){return Co({show:e},n)}var k9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),u=this.get("axisLine"),l=this.get("axisTick"),f=this.get("axisLabel"),h=this.get("axisName"),g=this.get(["axisName","show"]),y=this.get(["axisName","formatter"]),b=this.get("axisNameGap"),S=this.get("triggerEvent"),_=br(this.get("indicator")||[],function(k){k.max!=null&&k.max>0&&!k.min?k.min=0:k.min!=null&&k.min<0&&!k.max&&(k.max=0);var A=h;k.color!=null&&(A=Co({color:k.color},h));var R=Vo(vo(k),{boundaryGap:t,splitNumber:r,scale:i,axisLine:u,axisTick:l,axisLabel:f,name:k.text,showName:g,nameLocation:"end",nameGap:b,nameTextStyle:A,triggerEvent:S},!1);if(Nr(y)){var I=R.name;R.name=y.replace("{value}",I??"")}else Eo(y)&&(R.name=y(R.name,R));var z=new xs(R,null,this.ecModel);return cf(z,jL.prototype),z.mainType="radar",z.componentIndex=this.componentIndex,z},this);this._indicatorModels=_},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Vo({lineStyle:{color:"#bbb"}},KP.axisLine),axisLabel:WF(KP.axisLabel,!1),axisTick:WF(KP.axisTick,!1),splitLine:WF(KP.splitLine,!0),splitArea:WF(KP.splitArea,!0),indicator:[]},e}(Vi);const D9e=k9e;var A9e=["axisLine","axisTickLabel","axisName"],E9e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=this.group;u.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var r=t.coordinateSystem,i=r.getIndicatorAxes(),u=br(i,function(l){var f=l.model.get("showName")?l.name:"",h=new t_(l.model,{axisName:f,position:[r.cx,r.cy],rotation:l.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return h});Te(u,function(l){Te(A9e,l.add,l),this.group.add(l.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var r=t.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var u=t.get("shape"),l=t.getModel("splitLine"),f=t.getModel("splitArea"),h=l.getModel("lineStyle"),g=f.getModel("areaStyle"),y=l.get("show"),b=f.get("show"),S=h.get("color"),_=g.get("color"),k=sr(S)?S:[S],A=sr(_)?_:[_],R=[],I=[];function z(ze,ke,St){var tt=St%ke.length;return ze[tt]=ze[tt]||[],tt}if(u==="circle")for(var L=i[0].getTicksCoords(),q=r.cx,X=r.cy,Y=0;Y<L.length;Y++){if(y){var ae=z(R,k,Y);R[ae].push(new Av({shape:{cx:q,cy:X,r:L[Y].coord}}))}if(b&&Y<L.length-1){var ae=z(I,A,Y);I[ae].push(new LL({shape:{cx:q,cy:X,r0:L[Y].coord,r:L[Y+1].coord}}))}}else for(var te,ie=br(i,function(ke,St){var tt=ke.getTicksCoords();return te=te==null?tt.length-1:Math.min(tt.length-1,te),br(tt,function(G){return r.coordToPoint(G.coord,St)})}),le=[],Y=0;Y<=te;Y++){for(var ce=[],ne=0;ne<i.length;ne++)ce.push(ie[ne][Y]);if(ce[0]&&ce.push(ce[0].slice()),y){var ae=z(R,k,Y);R[ae].push(new tg({shape:{points:ce}}))}if(b&&le){var ae=z(I,A,Y-1);I[ae].push(new Sy({shape:{points:ce.concat(le)}}))}le=ce.slice().reverse()}var Q=h.getLineStyle(),Ce=g.getAreaStyle();Te(I,function(ze,ke){this.group.add($m(ze,{style:Co({stroke:"none",fill:A[ke%A.length]},Ce),silent:!0}))},this),Te(R,function(ze,ke){this.group.add($m(ze,{style:Co({fill:"none",stroke:k[ke%k.length]},Q),silent:!0}))},this)},e.type="radar",e}(zs);const O9e=E9e;var I9e=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,t,r,i)||this;return u.type="value",u.angle=0,u.name="",u}return e}(Iv);const R9e=I9e;var P9e=function(){function n(e,t,r){this.dimensions=[],this._model=e,this._indicatorAxes=br(e.getIndicatorModels(),function(i,u){var l="indicator_"+u,f=new R9e(l,new e_);return f.name=i.get("name"),f.model=i,i.axis=f,this.dimensions.push(l),f},this),this.resize(e,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var r=this._indicatorAxes[t];return this.coordToPoint(r.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var r=this._indicatorAxes[t],i=r.angle,u=this.cx+e*Math.cos(i),l=this.cy-e*Math.sin(i);return[u,l]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=Math.sqrt(t*t+r*r);t/=i,r/=i;for(var u=Math.atan2(-r,t),l=1/0,f,h=-1,g=0;g<this._indicatorAxes.length;g++){var y=this._indicatorAxes[g],b=Math.abs(u-y.angle);b<l&&(f=y,h=g,l=b)}return[h,+(f&&f.coordToData(i))]},n.prototype.resize=function(e,t){var r=e.get("center"),i=t.getWidth(),u=t.getHeight(),l=Math.min(i,u)/2;this.cx=Xo(r[0],i),this.cy=Xo(r[1],u),this.startAngle=e.get("startAngle")*Math.PI/180;var f=e.get("radius");(Nr(f)||su(f))&&(f=[0,f]),this.r0=Xo(f[0],l),this.r=Xo(f[1],l),Te(this._indicatorAxes,function(h,g){h.setExtent(this.r0,this.r);var y=this.startAngle+g*Math.PI*2/this._indicatorAxes.length;y=Math.atan2(Math.sin(y),Math.cos(y)),h.angle=y},this)},n.prototype.update=function(e,t){var r=this._indicatorAxes,i=this._model;Te(r,function(f){f.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(f,h){if(!(f.get("coordinateSystem")!=="radar"||e.getComponent("radar",f.get("radarIndex"))!==i)){var g=f.getData();Te(r,function(y){y.scale.unionExtentFromData(g,g.mapDimension(y.dim))})}},this);var u=i.get("splitNumber"),l=new e_;l.setExtent(0,u),l.setInterval(1),Te(r,function(f,h){v0e(f.scale,f.model,l)})},n.prototype.convertToPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var r=[];return e.eachComponent("radar",function(i){var u=new n(i,e,t);r.push(u),i.coordinateSystem=u}),e.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},n.dimensions=[],n}();const N9e=P9e;function _0e(n){n.registerCoordinateSystem("radar",N9e),n.registerComponentModel(D9e),n.registerComponentView(O9e),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(r){t.setItemVisual(r,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function L9e(n){Rc(_0e),n.registerChartView(C9e),n.registerSeriesModel(M9e),n.registerLayout(w9e),n.registerProcessor(f0e("radar")),n.registerPreprocessor(_9e)}var ule="\0_ec_interaction_mutex";function B9e(n,e,t){var r=une(n);r[e]=t}function z9e(n,e,t){var r=une(n),i=r[e];i===t&&(r[e]=null)}function sle(n,e){return!!une(n)[e]}function une(n){return n[ule]||(n[ule]={})}Ov({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},af);var F9e=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;r._zr=t;var i=Ur(r._mousedownHandler,r),u=Ur(r._mousemoveHandler,r),l=Ur(r._mouseupHandler,r),f=Ur(r._mousewheelHandler,r),h=Ur(r._pinchHandler,r);return r.enable=function(g,y){this.disable(),this._opt=Co(vo(y)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),g==null&&(g=!0),(g===!0||g==="move"||g==="pan")&&(t.on("mousedown",i),t.on("mousemove",u),t.on("mouseup",l)),(g===!0||g==="scale"||g==="zoom")&&(t.on("mousewheel",f),t.on("pinch",h))},r.disable=function(){t.off("mousedown",i),t.off("mousemove",u),t.off("mouseup",l),t.off("mousewheel",f),t.off("pinch",h)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!Xie(t)){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=t.offsetX,u=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,u)&&(this._x=i,this._y=u,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!TH("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||sle(this._zr,"globalPan"))){var r=t.offsetX,i=t.offsetY,u=this._x,l=this._y,f=r-u,h=i-l;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Pb(t.event),S0e(this,"pan","moveOnMouseMove",t,{dx:f,dy:h,oldX:u,oldY:l,newX:r,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){Xie(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var r=TH("zoomOnMouseWheel",t,this._opt),i=TH("moveOnMouseWheel",t,this._opt),u=t.wheelDelta,l=Math.abs(u),f=t.offsetX,h=t.offsetY;if(!(u===0||!r&&!i)){if(r){var g=l>3?1.4:l>1?1.2:1.1,y=u>0?g:1/g;MJ(this,"zoom","zoomOnMouseWheel",t,{scale:y,originX:f,originY:h,isAvailableBehavior:null})}if(i){var b=Math.abs(u),S=(u>0?1:-1)*(b>3?.4:b>1?.15:.05);MJ(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:S,originX:f,originY:h,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!sle(this._zr,"globalPan")){var r=t.pinchScale>1?1.1:.9090909090909091;MJ(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(eg);function MJ(n,e,t,r,i){n.pointerChecker&&n.pointerChecker(r,i.originX,i.originY)&&(Pb(r.event),S0e(n,e,t,r,i))}function S0e(n,e,t,r,i){i.isAvailableBehavior=Ur(TH,null,t,r),n.trigger(e,i)}function TH(n,e,t){var r=t[n];return!n||r&&(!Nr(r)||e.event[r+"Key"])}const C0e=F9e;function H9e(n,e,t){var r=n.target;r.x+=e,r.y+=t,r.dirty()}function V9e(n,e,t,r){var i=n.target,u=n.zoomLimit,l=n.zoom=n.zoom||1;if(l*=e,u){var f=u.min||0,h=u.max||1/0;l=Math.max(Math.min(h,l),f)}var g=l/n.zoom;n.zoom=l,i.x-=(t-i.x)*(g-1),i.y-=(r-i.y)*(g-1),i.scaleX*=g,i.scaleY*=g,i.dirty()}var j9e={axisPointer:1,tooltip:1,brush:1};function T0e(n,e,t){var r=e.getComponentByElement(n.topTarget),i=r&&r.coordinateSystem;return r&&r!==t&&!j9e.hasOwnProperty(r.mainType)&&i&&i.model!==t}function M0e(n){if(Nr(n)){var e=new DOMParser;n=e.parseFromString(n,"text/xml")}var t=n;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var kJ,SV={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},lle=ga(SV),CV={"alignment-baseline":"textBaseline","stop-color":"stopColor"},cle=ga(CV),U9e=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var r=M0e(e);this._defsUsePending=[];var i=new hi;this._root=i;var u=[],l=r.getAttribute("viewBox")||"",f=parseFloat(r.getAttribute("width")||t.width),h=parseFloat(r.getAttribute("height")||t.height);isNaN(f)&&(f=null),isNaN(h)&&(h=null),bp(r,i,null,!0,!1);for(var g=r.firstChild;g;)this._parseNode(g,i,u,null,!1,!1),g=g.nextSibling;$9e(this._defs,this._defsUsePending),this._defsUsePending=[];var y,b;if(l){var S=O9(l);S.length>=4&&(y={x:parseFloat(S[0]||0),y:parseFloat(S[1]||0),width:parseFloat(S[2]),height:parseFloat(S[3])})}if(y&&f!=null&&h!=null&&(b=D0e(y,{x:0,y:0,width:f,height:h}),!t.ignoreViewBox)){var _=i;i=new hi,i.add(_),_.scaleX=_.scaleY=b.scale,_.x=b.x,_.y=b.y}return!t.ignoreRootClip&&f!=null&&h!=null&&i.setClipPath(new va({shape:{x:0,y:0,width:f,height:h}})),{root:i,width:f,height:h,viewBoxRect:y,viewBoxTransform:b,named:u}},n.prototype._parseNode=function(e,t,r,i,u,l){var f=e.nodeName.toLowerCase(),h,g=i;if(f==="defs"&&(u=!0),f==="text"&&(l=!0),f==="defs"||f==="switch")h=t;else{if(!u){var y=kJ[f];if(y&&Zo(kJ,f)){h=y.call(this,e,t);var b=e.getAttribute("name");if(b){var S={name:b,namedFrom:null,svgNodeTagLower:f,el:h};r.push(S),f==="g"&&(g=S)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:f,el:h});t.add(h)}}var _=fle[f];if(_&&Zo(fle,f)){var k=_.call(this,e),A=e.getAttribute("id");A&&(this._defs[A]=k)}}if(h&&h.isGroup)for(var R=e.firstChild;R;)R.nodeType===1?this._parseNode(R,h,r,g,u,l):R.nodeType===3&&l&&this._parseText(R,h),R=R.nextSibling},n.prototype._parseText=function(e,t){var r=new rV({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Lm(t,r),bp(e,r,this._defsUsePending,!1,!1),W9e(r,t);var i=r.style,u=i.fontSize;u&&u<9&&(i.fontSize=9,r.scaleX*=u/9,r.scaleY*=u/9);var l=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=l;var f=r.getBoundingRect();return this._textX+=f.width,t.add(r),r},n.internalField=function(){kJ={g:function(e,t){var r=new hi;return Lm(t,r),bp(e,r,this._defsUsePending,!1,!1),r},rect:function(e,t){var r=new va;return Lm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(e,t){var r=new Av;return Lm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),r.silent=!0,r},line:function(e,t){var r=new Od;return Lm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(e,t){var r=new o9;return Lm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(e,t){var r=e.getAttribute("points"),i;r&&(i=ple(r));var u=new Sy({shape:{points:i||[]},silent:!0});return Lm(t,u),bp(e,u,this._defsUsePending,!1,!1),u},polyline:function(e,t){var r=e.getAttribute("points"),i;r&&(i=ple(r));var u=new tg({shape:{points:i||[]},silent:!0});return Lm(t,u),bp(e,u,this._defsUsePending,!1,!1),u},image:function(e,t){var r=new Ip;return Lm(t,r),bp(e,r,this._defsUsePending,!1,!1),r.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),r.silent=!0,r},text:function(e,t){var r=e.getAttribute("x")||"0",i=e.getAttribute("y")||"0",u=e.getAttribute("dx")||"0",l=e.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(u),this._textY=parseFloat(i)+parseFloat(l);var f=new hi;return Lm(t,f),bp(e,f,this._defsUsePending,!1,!0),f},tspan:function(e,t){var r=e.getAttribute("x"),i=e.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var u=e.getAttribute("dx")||"0",l=e.getAttribute("dy")||"0",f=new hi;return Lm(t,f),bp(e,f,this._defsUsePending,!1,!0),this._textX+=parseFloat(u),this._textY+=parseFloat(l),f},path:function(e,t){var r=e.getAttribute("d")||"",i=Tme(r);return Lm(t,i),bp(e,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),n}(),fle={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),i=parseInt(n.getAttribute("y2")||"0",10),u=new BL(e,t,r,i);return dle(n,u),hle(n,u),u},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),i=new lte(e,t,r);return dle(n,i),hle(n,i),i}};function dle(n,e){var t=n.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function hle(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var r=t.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var u={};k0e(t,u,u);var l=u.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:i,color:l})}t=t.nextSibling}}function Lm(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Co(e.__inheritedStyle,n.__inheritedStyle))}function ple(n){for(var e=O9(n),t=[],r=0;r<e.length;r+=2){var i=parseFloat(e[r]),u=parseFloat(e[r+1]);t.push([i,u])}return t}function bp(n,e,t,r,i){var u=e,l=u.__inheritedStyle=u.__inheritedStyle||{},f={};n.nodeType===1&&(Y9e(n,e),k0e(n,l,f),r||K9e(n,l,f)),u.style=u.style||{},l.fill!=null&&(u.style.fill=mle(u,"fill",l.fill,t)),l.stroke!=null&&(u.style.stroke=mle(u,"stroke",l.stroke,t)),Te(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){l[h]!=null&&(u.style[h]=parseFloat(l[h]))}),Te(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(h){l[h]!=null&&(u.style[h]=l[h])}),i&&(u.__selfStyle=f),l.lineDash&&(u.style.lineDash=br(O9(l.lineDash),function(h){return parseFloat(h)})),(l.visibility==="hidden"||l.visibility==="collapse")&&(u.invisible=!0),l.display==="none"&&(u.ignore=!0)}function W9e(n,e){var t=e.__selfStyle;if(t){var r=t.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),n.style.textBaseline=i}var u=e.__inheritedStyle;if(u){var l=u.textAlign,f=l;l&&(l==="middle"&&(f="center"),n.style.textAlign=f)}}var q9e=/^url\(\s*#(.*?)\)/;function mle(n,e,t,r){var i=t&&t.match(q9e);if(i){var u=Ym(i[1]);r.push([n,e,u]);return}return t==="none"&&(t=null),t}function $9e(n,e){for(var t=0;t<e.length;t++){var r=e[t];r[0].style[r[1]]=n[r[2]]}}var G9e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function O9(n){return n.match(G9e)||[]}var X9e=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DJ=Math.PI/180;function Y9e(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var r=[],i=null;t.replace(X9e,function(b,S,_){return r.push(S,_),""});for(var u=r.length-1;u>0;u-=2){var l=r[u],f=r[u-1],h=O9(l);switch(i=i||Qm(),f){case"translate":Nb(i,i,[parseFloat(h[0]),parseFloat(h[1]||"0")]);break;case"scale":Uee(i,i,[parseFloat(h[0]),parseFloat(h[1]||h[0])]);break;case"rotate":i_(i,i,-parseFloat(h[0])*DJ);break;case"skewX":var g=Math.tan(parseFloat(h[0])*DJ);fy(i,[1,0,g,1,0,0],i);break;case"skewY":var y=Math.tan(parseFloat(h[0])*DJ);fy(i,[1,y,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(h[0]),i[1]=parseFloat(h[1]),i[2]=parseFloat(h[2]),i[3]=parseFloat(h[3]),i[4]=parseFloat(h[4]),i[5]=parseFloat(h[5]);break}}e.setLocalTransform(i)}}var gle=/([^\s:;]+)\s*:\s*([^:;]+)/g;function k0e(n,e,t){var r=n.getAttribute("style");if(r){gle.lastIndex=0;for(var i;(i=gle.exec(r))!=null;){var u=i[1],l=Zo(SV,u)?SV[u]:null;l&&(e[l]=i[2]);var f=Zo(CV,u)?CV[u]:null;f&&(t[f]=i[2])}}}function K9e(n,e,t){for(var r=0;r<lle.length;r++){var i=lle[r],u=n.getAttribute(i);u!=null&&(e[SV[i]]=u)}for(var r=0;r<cle.length;r++){var i=cle[r],u=n.getAttribute(i);u!=null&&(t[CV[i]]=u)}}function D0e(n,e){var t=e.width/n.width,r=e.height/n.height,i=Math.min(t,r);return{scale:i,x:-(n.x+n.width/2)*i+(e.x+e.width/2),y:-(n.y+n.height/2)*i+(e.y+e.height/2)}}function J9e(n,e){var t=new U9e;return t.parse(n,e)}var Q9e=to(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Z9e=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=to(),this._freedGraphics=[],this._mapName=e,this._parsedXML=M0e(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=tje(e.named),r=t.regions,i=t.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,r;try{t=e&&J9e(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=t.root,Ap(r!=null)}catch(R){throw new Error(`Invalid svg format
`+R.message)}var i=new hi;i.add(r),i.isGeoSVGGraphicRoot=!0;var u=t.width,l=t.height,f=t.viewBoxRect,h=this._boundingRect;if(!h){var g=void 0,y=void 0,b=void 0,S=void 0;if(u!=null?(g=0,b=u):f&&(g=f.x,b=f.width),l!=null?(y=0,S=l):f&&(y=f.y,S=f.height),g==null||y==null){var _=r.getBoundingRect();g==null&&(g=_.x,b=_.width),y==null&&(y=_.y,S=_.height)}h=this._boundingRect=new vi(g,y,b,S)}if(f){var k=D0e(f,h);r.scaleX=r.scaleY=k.scale,r.x=k.x,r.y=k.y}i.setClipPath(new va({shape:h.plain()}));var A=[];return Te(t.named,function(R){Q9e.get(R.svgNodeTagLower)!=null&&(A.push(R),eje(R.el))}),{root:i,boundingRect:h,named:A}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,r),r)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,r=t.get(e);r&&(t.removeKey(e),this._freedGraphics.push(r))},n}();function eje(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}function tje(n){var e=[],t=to();return Te(n,function(r){if(r.namedFrom==null){var i=new ZFe(r.name,r.el);e.push(i),t.set(r.name,i)}}),{regions:e,regionsMap:t}}var TZ=[126,25],vle="",QT=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var GT=0;GT<QT.length;GT++)for(var l3=0;l3<QT[GT].length;l3++)QT[GT][l3][0]/=10.5,QT[GT][l3][1]/=-10.5/.75,QT[GT][l3][0]+=TZ[0],QT[GT][l3][1]+=TZ[1];function nje(n,e){if(n==="china"){for(var t=0;t<e.length;t++)if(e[t].name===vle)return;e.push(new jve(vle,br(QT,function(r){return{type:"polygon",exterior:r}}),TZ))}}var rje={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function oje(n,e){if(n==="china"){var t=rje[e.name];if(t){var r=e.getCenter();r[0]+=t[0]/10.5,r[1]+=-t[1]/(10.5/.75),e.setCenter(r)}}}var ije=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function aje(n,e){n==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:ije[0]})}var uje="name",sje=function(){function n(e,t,r){this.type="geoJSON",this._parsedMap=to(),this._mapName=e,this._specialAreas=r,this._geoJSON=cje(t)}return n.prototype.load=function(e,t){t=t||uje;var r=this._parsedMap.get(t);if(!r){var i=this._parseToRegions(t);r=this._parsedMap.set(t,{regions:i,boundingRect:lje(i)})}var u=to(),l=[];return Te(r.regions,function(f){var h=f.name;e&&Zo(e,h)&&(f=f.cloneShallow(h=e[h])),l.push(f),u.set(h,f)}),{regions:l,boundingRect:r.boundingRect||new vi(0,0,0,0),regionsMap:u}},n.prototype._parseToRegions=function(e){var t=this._mapName,r=this._geoJSON,i;try{i=r?yZ(r,e):[]}catch(u){throw new Error(`Invalid geoJson format
`+u.message)}return nje(t,i),Te(i,function(u){var l=u.name;oje(t,u),aje(t,u);var f=this._specialAreas&&this._specialAreas[l];f&&u.transformTo(f.left,f.top,f.width,f.height)},this),i},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function lje(n){for(var e,t=0;t<n.length;t++){var r=n[t].getBoundingRect();e=e||r.clone(),e.union(r)}return e}function cje(n){return Nr(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var JP=to();const Bb={registerMap:function(n,e,t){if(e.svg){var r=new Z9e(n,e.svg);JP.set(n,r)}else{var i=e.geoJson||e.geoJSON;i&&!e.features?t=e.specialAreas:i=e;var r=new sje(n,i,t);JP.set(n,r)}},getGeoResource:function(n){return JP.get(n)},getMapForUser:function(n){var e=JP.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(n,e,t){var r=JP.get(n);if(r)return r.load(e,t)}};var sne=["rect","circle","line","ellipse","polygon","polyline","path"],fje=to(sne),dje=to(sne.concat(["g"])),hje=to(sne.concat(["g"])),A0e=lu();function qF(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function yle(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var pje=function(){function n(e){var t=new hi;this.uid=p5("ec_map_draw"),this._controller=new C0e(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new hi),t.add(this._svgGroup=new hi)}return n.prototype.draw=function(e,t,r,i,u){var l=e.mainType==="geo",f=e.getData&&e.getData();l&&t.eachComponent({mainType:"series",subType:"map"},function(I){!f&&I.getHostGeoModel()===e&&(f=I.getData())});var h=e.coordinateSystem,g=this._regionsGroup,y=this.group,b=h.getTransformInfo(),S=b.raw,_=b.roam,k=!g.childAt(0)||u;k?(y.x=_.x,y.y=_.y,y.scaleX=_.scaleX,y.scaleY=_.scaleY,y.dirty()):tl(y,_,e);var A=f&&f.getVisual("visualMeta")&&f.getVisual("visualMeta").length>0,R={api:r,geo:h,mapOrGeoModel:e,data:f,isVisualEncodedByVisualMap:A,isGeo:l,transformInfoRaw:S};h.resourceType==="geoJSON"?this._buildGeoJSON(R):h.resourceType==="geoSVG"&&this._buildSVG(R),this._updateController(e,t,r),this._updateMapSelectHandler(e,g,r,i)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=to(),r=to(),i=this._regionsGroup,u=e.transformInfoRaw,l=e.mapOrGeoModel,f=e.data,h=e.geo.projection,g=h&&h.stream;function y(_,k){return k&&(_=k(_)),_&&[_[0]*u.scaleX+u.x,_[1]*u.scaleY+u.y]}function b(_){for(var k=[],A=!g&&h&&h.project,R=0;R<_.length;++R){var I=y(_[R],A);I&&k.push(I)}return k}function S(_){return{shape:{points:b(_)}}}i.removeAll(),Te(e.geo.regions,function(_){var k=_.name,A=t.get(k),R=r.get(k)||{},I=R.dataIdx,z=R.regionModel;A||(A=t.set(k,new hi),i.add(A),I=f?f.indexOfName(k):null,z=e.isGeo?l.getRegionModel(k):f?f.getItemModel(I):null,r.set(k,{dataIdx:I,regionModel:z}));var L=[],q=[];Te(_.geometries,function(ae){if(ae.type==="polygon"){var te=[ae.exterior].concat(ae.interiors||[]);g&&(te=Cle(te,g)),Te(te,function(le){L.push(new Sy(S(le)))})}else{var ie=ae.points;g&&(ie=Cle(ie,g,!0)),Te(ie,function(le){q.push(new tg(S(le)))})}});var X=y(_.getCenter(),h&&h.project);function Y(ae,te){if(ae.length){var ie=new ste({culling:!0,segmentIgnoreThreshold:1,shape:{paths:ae}});A.add(ie),ble(e,ie,I,z),xle(e,ie,k,z,l,I,X),te&&(yle(ie),Te(ie.states,yle))}}Y(L),Y(q,!0)}),t.each(function(_,k){var A=r.get(k),R=A.dataIdx,I=A.regionModel;wle(e,_,k,I,l,R),_le(e,_,k,I,l),Sle(e,_,k,I,l)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,r=e.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var i=this._svgDispatcherMap=to(),u=!1;Te(this._svgGraphicRecord.named,function(l){var f=l.name,h=e.mapOrGeoModel,g=e.data,y=l.svgNodeTagLower,b=l.el,S=g?g.indexOfName(f):null,_=h.getRegionModel(f);if(fje.get(y)!=null&&b instanceof Lb&&ble(e,b,S,_),b instanceof Lb&&(b.culling=!0),b.z2EmphasisLift=0,!l.namedFrom&&(hje.get(y)!=null&&xle(e,b,f,_,h,S,null),wle(e,b,f,_,h,S),_le(e,b,f,_,h),dje.get(y)!=null)){var k=Sle(e,b,f,_,h);k==="self"&&(u=!0);var A=i.get(f)||i.set(f,[]);A.push(b)}},this),this._enableBlurEntireSVG(u,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(u){if(!u.isGroup){ote(u);var l=u.ensureState("blur").style||{};l.opacity==null&&i!=null&&(l.opacity=i),u.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var r=t.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var u=i.get(e);return u?[u]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Bb.getGeoResource(e);if(t&&t.type==="geoSVG"){var r=t.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=Bb.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,r){var i=e.coordinateSystem,u=this._controller,l=this._controllerHost;l.zoomLimit=e.get("scaleLimit"),l.zoom=i.getZoom(),u.enable(e.get("roam")||!1);var f=e.mainType;function h(){var g={type:"geoRoam",componentType:f};return g[f+"Id"]=e.id,g}u.off("pan").on("pan",function(g){this._mouseDownFlag=!1,H9e(l,g.dx,g.dy),r.dispatchAction(Gn(h(),{dx:g.dx,dy:g.dy,animation:{duration:0}}))},this),u.off("zoom").on("zoom",function(g){this._mouseDownFlag=!1,V9e(l,g.scale,g.originX,g.originY),r.dispatchAction(Gn(h(),{zoom:g.scale,originX:g.originX,originY:g.originY,animation:{duration:0}}))},this),u.setPointerChecker(function(g,y,b){return i.containPoint([y,b])&&!T0e(g,r,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=A0e(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,r,i){var u=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){u._mouseDownFlag=!0}),t.on("click",function(l){u._mouseDownFlag&&(u._mouseDownFlag=!1)}))},n}();function ble(n,e,t,r){var i=r.getModel("itemStyle"),u=r.getModel(["emphasis","itemStyle"]),l=r.getModel(["blur","itemStyle"]),f=r.getModel(["select","itemStyle"]),h=qF(i),g=qF(u),y=qF(f),b=qF(l),S=n.data;if(S){var _=S.getItemVisual(t,"style"),k=S.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&_.fill&&(h.fill=_.fill),k&&(h.decal=mV(k,n.api))}e.setStyle(h),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=g,e.ensureState("select").style=y,e.ensureState("blur").style=b,ote(e)}function xle(n,e,t,r,i,u,l){var f=n.data,h=n.isGeo,g=f&&isNaN(f.get(f.mapDimension("value"),u)),y=f&&f.getItemLayout(u);if(h||g||y&&y.showLabel){var b=h?t:u,S=void 0;(!f||u>=0)&&(S=i);var _=l?{normal:{align:"center",verticalAlign:"middle"}}:null;Vb(e,jb(r),{labelFetcher:S,labelDataIndex:b,defaultText:t},_);var k=e.getTextContent();if(k&&(A0e(k).ignore=k.ignore,e.textConfig&&l)){var A=e.getBoundingRect().clone();e.textConfig.layoutRect=A,e.textConfig.position=[(l[0]-A.x)/A.width*100+"%",(l[1]-A.y)/A.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function wle(n,e,t,r,i,u){n.data?n.data.setItemGraphicEl(u,e):Ai(e).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:t,region:r&&r.option||{}}}function _le(n,e,t,r,i){n.data||h5({el:e,componentModel:i,itemName:t,itemTooltipOption:r.get("tooltip")})}function Sle(n,e,t,r,i){e.highDownSilentOnTouch=!!i.get("selectedMode");var u=r.getModel("emphasis"),l=u.get("focus");return J2(e,l,u.get("blurScope"),u.get("disabled")),n.isGeo&&P6e(e,i,t),l}function Cle(n,e,t){var r=[],i;function u(){i=[]}function l(){i.length&&(r.push(i),i=[])}var f=e({polygonStart:u,polygonEnd:l,lineStart:u,lineEnd:l,point:function(h,g){isFinite(h)&&isFinite(g)&&i.push([h,g])},sphere:function(){}});return!t&&f.polygonStart(),Te(n,function(h){f.lineStart();for(var g=0;g<h.length;g++)f.point(h[g][0],h[g][1]);f.lineEnd()}),!t&&f.polygonEnd(),r}const E0e=pje;var mje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,u){if(!(u&&u.type==="mapToggleSelect"&&u.from===this.uid)){var l=this.group;if(l.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&u&&u.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),u&&u.type==="geoRoam"&&u.componentType==="series"&&u.seriesId===t.id){var f=this._mapDraw;f&&l.add(f.group)}else if(t.needsDrawMap){var f=this._mapDraw||new E0e(i);l.add(f.group),f.draw(t,r,i,this,u),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(t,r,i)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,r,i){var u=t.originalData,l=this.group;u.each(u.mapDimension("value"),function(f,h){if(!isNaN(f)){var g=u.getItemLayout(h);if(!(!g||!g.point)){var y=g.point,b=g.offset,S=new Av({style:{fill:t.getData().getVisual("style").fill},shape:{cx:y[0]+b*9,cy:y[1],r:3},silent:!0,z2:8+(b?0:hme+1)});if(!b){var _=t.mainSeries.getData(),k=u.getName(h),A=_.indexOfName(k),R=u.getItemModel(h),I=R.getModel("label"),z=_.getItemGraphicEl(A);Vb(S,jb(R),{labelFetcher:{getFormattedLabel:function(L,q){return t.getFormattedLabel(A,q)}},defaultText:k}),S.disableLabelAnimation=!0,I.get("position")||S.setTextConfig({position:"bottom"}),z.onHoverStateChange=function(L){YQ(S,L)}}l.add(S)}}})},e.type="map",e}(uf);const gje=mje;var vje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),u=this.coordinateSystem,l=u.getRegion(i);return l&&u.dataToPoint(l.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var r=one(this,{coordDimensions:["value"],encodeDefaulter:ji(sge,this)}),i=to(),u=[],l=0,f=r.count();l<f;l++){var h=r.getName(l);i.set(h,!0)}var g=Bb.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return Te(g.regions,function(y){var b=y.name;i.get(b)||u.push(b)}),r.appendValues([],u),r},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var r=this.getData();return r.get(r.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var r=this.getData();return r.getItemModel(r.indexOfName(t))},e.prototype.formatTooltip=function(t,r,i){for(var u=this.getData(),l=this.getRawValue(t),f=u.getName(t),h=this.seriesGroup,g=[],y=0;y<h.length;y++){var b=h[y].originalData.indexOfName(f),S=u.mapDimension("value");isNaN(h[y].originalData.get(S,b))||g.push(h[y].name)}return vy("section",{header:g.join(", "),noHeader:!g.length,blocks:[vy("nameValue",{name:f,value:l})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var r=t.icon||"roundRect",i=sf(r,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Dh);const yje=vje;function bje(n,e){var t={};return Te(n,function(r){r.each(r.mapDimension("value"),function(i,u){var l="ec-"+r.getName(u);t[l]=t[l]||[],isNaN(i)||t[l].push(i)})}),n[0].map(n[0].mapDimension("value"),function(r,i){for(var u="ec-"+n[0].getName(i),l=0,f=1/0,h=-1/0,g=t[u].length,y=0;y<g;y++)f=Math.min(f,t[u][y]),h=Math.max(h,t[u][y]),l+=t[u][y];var b;return e==="min"?b=f:e==="max"?b=h:e==="average"?b=l/g:b=l,g===0?NaN:b})}function xje(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getHostGeoModel(),i=r?"o"+r.id:"i"+t.getMapType();(e[i]=e[i]||[]).push(t)}),Te(e,function(t,r){for(var i=bje(br(t,function(l){return l.getData()}),t[0].get("mapValueCalculation")),u=0;u<t.length;u++)t[u].originalData=t[u].getData();for(var u=0;u<t.length;u++)t[u].seriesGroup=t,t[u].needsDrawMap=u===0&&!t[u].getHostGeoModel(),t[u].setData(i.cloneShallow()),t[u].mainSeries=t[0]})}function wje(n){var e={};n.eachSeriesByType("map",function(t){var r=t.getMapType();if(!(t.getHostGeoModel()||e[r])){var i={};Te(t.seriesGroup,function(l){var f=l.coordinateSystem,h=l.originalData;l.get("showLegendSymbol")&&n.getComponent("legend")&&h.each(h.mapDimension("value"),function(g,y){var b=h.getName(y),S=f.getRegion(b);if(!(!S||isNaN(g))){var _=i[b]||0,k=f.dataToPoint(S.getCenter());i[b]=_+1,h.setItemLayout(y,{point:k,offset:_})}})});var u=t.getData();u.each(function(l){var f=u.getName(l),h=u.getItemLayout(l)||{};h.showLabel=!i[f],u.setItemLayout(l,h)}),e[r]=!0}})}var Tle=Ic,_je=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new nM,r._rawTransformable=new nM,r.name=t,r}return e.prototype.setBoundingRect=function(t,r,i,u){return this._rect=new vi(t,r,i,u),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,r,i,u){this._transformTo(t,r,i,u),this._viewRect=new vi(t,r,i,u)},e.prototype._transformTo=function(t,r,i,u){var l=this.getBoundingRect(),f=this._rawTransformable;f.transform=l.calculateTransform(new vi(t,r,i,u));var h=f.parent;f.parent=null,f.decomposeTransform(),f.parent=h,this._updateTransform()},e.prototype.setCenter=function(t,r){t&&(this._center=[Xo(t[0],r.getWidth()),Xo(t[1],r.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var r=this.zoomLimit;r&&(r.max!=null&&(t=Math.min(r.max,t)),r.min!=null&&(t=Math.max(r.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),r=t.x+t.width/2,i=t.y+t.height/2;return[r,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),u=this.getCenter(),l=this.getZoom();u=Ic([],u,t),i=Ic([],i,t),r.originX=u[0],r.originY=u[1],r.x=i[0]-u[0],r.y=i[1]-u[1],r.scaleX=r.scaleY=l,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,r=this._rawTransformable;r.parent=t,t.updateTransform(),r.updateTransform(),KV(this.transform||(this.transform=[]),r.transform||Qm()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],c5(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,r=this._roamTransformable,i=new nM;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,r,i){var u=r?this._rawTransform:this.transform;return i=i||[],u?Tle(i,t,u):hpe(i,t)},e.prototype.pointToData=function(t){var r=this.invTransform;return r?Tle([],t,r):[t[0],t[1]]},e.prototype.convertToPixel=function(t,r,i){var u=Mle(r);return u===this?u.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var u=Mle(r);return u===this?u.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(nM);function Mle(n){var e=n.seriesModel;return e?e.coordinateSystem:null}const O0e=_je;var Sje={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},I0e=["lng","lat"],R0e=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this,t)||this;u.dimensions=I0e,u.type="geo",u._nameCoordMap=to(),u.map=r;var l=i.projection,f=Bb.load(r,i.nameMap,i.nameProperty),h=Bb.getGeoResource(r);u.resourceType=h?h.type:null;var g=u.regions=f.regions,y=Sje[h.type];u._regionsMap=f.regionsMap,u.regions=f.regions,u.projection=l;var b;if(l)for(var S=0;S<g.length;S++){var _=g[S].getBoundingRect(l);b=b||_.clone(),b.union(_)}else b=f.boundingRect;return u.setBoundingRect(b.x,b.y,b.width,b.height),u.aspectScale=l?1:Gi(i.aspectScale,y.aspectScale),u._invertLongitute=l?!1:y.invertLongitute,u}return e.prototype._transformTo=function(t,r,i,u){var l=this.getBoundingRect(),f=this._invertLongitute;l=l.clone(),f&&(l.y=-l.y-l.height);var h=this._rawTransformable;h.transform=l.calculateTransform(new vi(t,r,i,u));var g=h.parent;h.parent=null,h.decomposeTransform(),h.parent=g,f&&(h.scaleY=-h.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var r=this.regions,i=0;i<r.length;i++){var u=r[i];if(u.type==="geoJSON"&&u.contain(t))return r[i]}},e.prototype.addGeoCoord=function(t,r){this._nameCoordMap.set(t,r)},e.prototype.getGeoCoord=function(t){var r=this._regionsMap.get(t);return this._nameCoordMap.get(t)||r&&r.getCenter()},e.prototype.dataToPoint=function(t,r,i){if(Nr(t)&&(t=this.getGeoCoord(t)),t){var u=this.projection;return u&&(t=u.project(t)),t&&this.projectedToPoint(t,r,i)}},e.prototype.pointToData=function(t){var r=this.projection;return r&&(t=r.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,r,i){return n.prototype.dataToPoint.call(this,t,r,i)},e.prototype.convertToPixel=function(t,r,i){var u=kle(r);return u===this?u.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var u=kle(r);return u===this?u.pointToData(i):null},e}(O0e);cf(R0e,O0e);function kle(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",mc).models[0]||{}).coordinateSystem:null}const Dle=R0e;function Ale(n,e){var t=n.get("boundingCoords");if(t!=null){var r=t[0],i=t[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var u=this.projection;if(u){var l=r[0],f=r[1],h=i[0],g=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var y=function(Y,ae,te,ie){for(var le=te-Y,ce=ie-ae,ne=0;ne<=100;ne++){var Q=ne/100,Ce=u.project([Y+le*Q,ae+ce*Q]);_b(r,r,Ce),Sb(i,i,Ce)}};y(l,f,h,f),y(h,f,h,g),y(h,g,l,g),y(l,g,h,f)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var b=this.getBoundingRect(),S=n.get("layoutCenter"),_=n.get("layoutSize"),k=e.getWidth(),A=e.getHeight(),R=b.width/b.height*this.aspectScale,I=!1,z,L;S&&_&&(z=[Xo(S[0],k),Xo(S[1],A)],L=Xo(_,Math.min(k,A)),!isNaN(z[0])&&!isNaN(z[1])&&!isNaN(L)&&(I=!0));var q;if(I)q={},R>1?(q.width=L,q.height=L/R):(q.height=L,q.width=L*R),q.y=z[1]-q.height/2,q.x=z[0]-q.width/2;else{var X=n.getBoxLayoutParams();X.aspect=R,q=Rd(X,{width:k,height:A})}this.setViewRect(q.x,q.y,q.width,q.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}function Cje(n,e){Te(e.get("geoCoord"),function(t,r){n.addGeoCoord(r,t)})}var Tje=function(){function n(){this.dimensions=I0e}return n.prototype.create=function(e,t){var r=[];function i(l){return{nameProperty:l.get("nameProperty"),aspectScale:l.get("aspectScale"),projection:l.get("projection")}}e.eachComponent("geo",function(l,f){var h=l.get("map"),g=new Dle(h+f,h,Gn({nameMap:l.get("nameMap")},i(l)));g.zoomLimit=l.get("scaleLimit"),r.push(g),l.coordinateSystem=g,g.model=l,g.resize=Ale,g.resize(l,t)}),e.eachSeries(function(l){var f=l.get("coordinateSystem");if(f==="geo"){var h=l.get("geoIndex")||0;l.coordinateSystem=r[h]}});var u={};return e.eachSeriesByType("map",function(l){if(!l.getHostGeoModel()){var f=l.getMapType();u[f]=u[f]||[],u[f].push(l)}}),Te(u,function(l,f){var h=br(l,function(y){return y.get("nameMap")}),g=new Dle(f,f,Gn({nameMap:ipe(h)},i(l[0])));g.zoomLimit=Rb.apply(null,br(l,function(y){return y.get("scaleLimit")})),r.push(g),g.resize=Ale,g.resize(l[0],t),Te(l,function(y){y.coordinateSystem=g,Cje(g,y)})}),r},n.prototype.getFilledRegions=function(e,t,r,i){for(var u=(e||[]).slice(),l=to(),f=0;f<u.length;f++)l.set(u[f].name,u[f]);var h=Bb.load(t,r,i);return Te(h.regions,function(g){var y=g.name;!l.get(y)&&u.push({name:y})}),u},n}(),Mje=new Tje;const P0e=Mje;var kje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){var u=Bb.getGeoResource(t.map);if(u&&u.type==="geoJSON"){var l=t.itemStyle=t.itemStyle||{};"color"in l||(l.color="#eee")}this.mergeDefaultAndTheme(t,i),nV(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,r=this.option;r.regions=P0e.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=Jm(r.regions||[],function(u,l){var f=l.name;return f&&(u.set(f,new xs(l,t,t.ecModel)),l.selected&&(i[f]=!0)),u},to()),r.selectedMap||(r.selectedMap=i)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new xs(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,r){var i=this.getRegionModel(t),u=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),l={name:t};if(Eo(u))return l.status=r,u(l);if(Nr(u))return u.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var u=r.selectedMap||(r.selectedMap={});u[t]=!0}},e.prototype.unSelect=function(t){var r=this.option.selectedMap;r&&(r[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var r=this.option.selectedMap;return!!(r&&r[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Vi);const Dje=kje;function Ele(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function Aje(n,e,t,r){var i=n.getZoom(),u=n.getCenter(),l=e.zoom,f=n.projectedToPoint?n.projectedToPoint(u):n.dataToPoint(u);if(e.dx!=null&&e.dy!=null&&(f[0]-=e.dx,f[1]-=e.dy,n.setCenter(Ele(n,f),r)),l!=null){if(t){var h=t.min||0,g=t.max||1/0;l=Math.max(Math.min(i*l,g),h)/i}n.scaleX*=l,n.scaleY*=l;var y=(e.originX-n.x)*(l-1),b=(e.originY-n.y)*(l-1);n.x-=y,n.y-=b,n.updateTransform(),n.setCenter(Ele(n,f),r),n.setZoom(l*i)}return{center:n.getCenter(),zoom:n.getZoom()}}var Eje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,r){this._api=r},e.prototype.render=function(t,r,i,u){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new E0e(i));var l=this._mapDraw;l.draw(t,r,i,this,u),l.group.on("click",this._handleRegionClick,this),l.group.silent=t.get("silent"),this.group.add(l.group),this.updateSelectStatus(t,r,i)},e.prototype._handleRegionClick=function(t){var r;aM(t.target,function(i){return(r=Ai(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},e.prototype.updateSelectStatus=function(t,r,i){var u=this;this._mapDraw.group.traverse(function(l){var f=Ai(l).eventData;if(f)return u._model.isSelected(f.name)?i.enterSelect(l):i.leaveSelect(l),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(zs);const Oje=Eje;function Ije(n,e,t){Bb.registerMap(n,e,t)}function Rje(n){n.registerCoordinateSystem("geo",P0e),n.registerComponentModel(Dje),n.registerComponentView(Oje),n.registerImpl("registerMap",Ije),n.registerImpl("getMap",function(t){return Bb.getMapForUser(t)});function e(t,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(i,u){var l={},f=[];return u.eachComponent({mainType:"geo",query:i},function(h){h[t](i.name);var g=h.coordinateSystem;Te(g.regions,function(b){l[b.name]=h.isSelected(b.name)||!1});var y=[];Te(l,function(b,S){l[S]&&y.push(S)}),f.push({geoIndex:h.componentIndex,name:y})}),{selected:l,allSelected:f,name:i.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,r,i){var u=t.componentType||"series";r.eachComponent({mainType:u,query:t},function(l){var f=l.coordinateSystem;if(f.type==="geo"){var h=Aje(f,t,l.get("scaleLimit"),i);l.setCenter&&l.setCenter(h.center),l.setZoom&&l.setZoom(h.zoom),u==="series"&&Te(l.seriesGroup,function(g){g.setCenter(h.center),g.setZoom(h.zoom)})}})})}function Pje(n){Rc(Rje),n.registerChartView(gje),n.registerSeriesModel(yje),n.registerLayout(wje),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,xje),Wge("map",n.registerAction)}var mL=Te,Nje=no,TV=-1,lne=function(){function n(e){var t=e.mappingMethod,r=e.type,i=this.option=vo(e);this.type=r,this.mappingMethod=t,this._normalizeData=zje[t];var u=n.visualHandlers[r];this.applyVisual=u.applyVisual,this.getColorMapper=u.getColorMapper,this._normalizedToVisual=u._normalizedToVisual[t],t==="piecewise"?(AJ(i),Lje(i)):t==="category"?i.categories?Bje(i):AJ(i,!0):(Ap(t!=="linear"||i.dataExtent),AJ(i))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return Ur(this._normalizeData,this)},n.listVisualTypes=function(){return ga(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,r){no(e)?Te(e,t,r):t.call(r,e)},n.mapVisual=function(e,t,r){var i,u=sr(e)?[]:no(e)?{}:(i=!0,null);return n.eachVisual(e,function(l,f){var h=t.call(r,l,f);i?u=h:u[f]=h}),u},n.retrieveVisuals=function(e){var t={},r;return e&&mL(n.visualHandlers,function(i,u){e.hasOwnProperty(u)&&(t[u]=e[u],r=!0)}),r?t:null},n.prepareVisualTypes=function(e){if(sr(e))e=e.slice();else if(Nje(e)){var t=[];mL(e,function(r,i){t.push(i)}),e=t}else return[];return e.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},n.findPieceIndex=function(e,t,r){for(var i,u=1/0,l=0,f=t.length;l<f;l++){var h=t[l].value;if(h!=null){if(h===e||Nr(h)&&h===e+"")return l;r&&S(h,l)}}for(var l=0,f=t.length;l<f;l++){var g=t[l],y=g.interval,b=g.close;if(y){if(y[0]===-1/0){if(GF(b[1],e,y[1]))return l}else if(y[1]===1/0){if(GF(b[0],y[0],e))return l}else if(GF(b[0],y[0],e)&&GF(b[1],e,y[1]))return l;r&&S(y[0],l),r&&S(y[1],l)}}if(r)return e===1/0?t.length-1:e===-1/0?0:i;function S(_,k){var A=Math.abs(_-e);A<u&&(u=A,i=k)}},n.visualHandlers={color:{applyVisual:QP("color"),getColorMapper:function(){var e=this.option;return Ur(e.mappingMethod==="category"?function(t,r){return!r&&(t=this._normalizeData(t)),gN.call(this,t)}:function(t,r,i){var u=!!i;return!r&&(t=this._normalizeData(t)),i=EN(t,e.parsedVisual,i),u?i:Tv(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Tv(EN(e,this.option.parsedVisual),"rgba")},category:gN,piecewise:function(e,t){var r=kZ.call(this,t);return r==null&&(r=Tv(EN(e,this.option.parsedVisual),"rgba")),r},fixed:ZT}},colorHue:$F(function(e,t){return pH(e,t)}),colorSaturation:$F(function(e,t){return pH(e,null,t)}),colorLightness:$F(function(e,t){return pH(e,null,null,t)}),colorAlpha:$F(function(e,t){return Ipe(e,t)}),decal:{applyVisual:QP("decal"),_normalizedToVisual:{linear:null,category:gN,piecewise:null,fixed:null}},opacity:{applyVisual:QP("opacity"),_normalizedToVisual:MZ([0,1])},liftZ:{applyVisual:QP("liftZ"),_normalizedToVisual:{linear:ZT,category:ZT,piecewise:ZT,fixed:ZT}},symbol:{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("symbol",i)},_normalizedToVisual:{linear:Ole,category:gN,piecewise:function(e,t){var r=kZ.call(this,t);return r==null&&(r=Ole.call(this,e)),r},fixed:ZT}},symbolSize:{applyVisual:QP("symbolSize"),_normalizedToVisual:MZ([0,1])}},n}();function Lje(n){var e=n.pieceList;n.hasSpecialVisual=!1,Te(e,function(t,r){t.originIndex=r,t.visual!=null&&(n.hasSpecialVisual=!0)})}function Bje(n){var e=n.categories,t=n.categoryMap={},r=n.visual;if(mL(e,function(l,f){t[l]=f}),!sr(r)){var i=[];no(r)?mL(r,function(l,f){var h=t[f];i[h??TV]=l}):i[TV]=r,r=N0e(n,i)}for(var u=e.length-1;u>=0;u--)r[u]==null&&(delete t[e[u]],e.pop())}function AJ(n,e){var t=n.visual,r=[];no(t)?mL(t,function(u){r.push(u)}):t!=null&&r.push(t);var i={color:1,symbol:1};!e&&r.length===1&&!i.hasOwnProperty(n.type)&&(r[1]=r[0]),N0e(n,r)}function $F(n){return{applyVisual:function(e,t,r){var i=this.mapValueToVisual(e);r("color",n(t("color"),i))},_normalizedToVisual:MZ([0,1])}}function Ole(n){var e=this.option.visual;return e[Math.round(rs(n,[0,1],[0,e.length-1],!0))]||{}}function QP(n){return function(e,t,r){r(n,this.mapValueToVisual(e))}}function gN(n){var e=this.option.visual;return e[this.option.loop&&n!==TV?n%e.length:n]}function ZT(){return this.option.visual[0]}function MZ(n){return{linear:function(e){return rs(e,n,this.option.visual,!0)},category:gN,piecewise:function(e,t){var r=kZ.call(this,t);return r==null&&(r=rs(e,n,this.option.visual,!0)),r},fixed:ZT}}function kZ(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var r=lne.findPieceIndex(n,t),i=t[r];if(i&&i.visual)return i.visual[this.type]}}function N0e(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=br(e,function(t){var r=wh(t);return r||[0,0,0,1]})),e}var zje={linear:function(n){return rs(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=lne.findPieceIndex(n,e,!0);if(t!=null)return rs(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??TV},fixed:af};function GF(n,e,t){return n?e<=t:e<t}const _h=lne;function Fje(n){Hje(n),Vje(n)}function Hje(n){if(!n.parallel){var e=!1;Te(n.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(n.parallel=[{}])}}function Vje(n){var e=Bs(n.parallelAxis);Te(e,function(t){if(no(t)){var r=t.parallelIndex||0,i=Bs(n.parallel)[r];i&&i.parallelAxisDefault&&Vo(t,i.parallelAxisDefault,!1)}})}var jje=5,Uje=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){this._model=t,this._api=i,this._handlers||(this._handlers={},Te(Wje,function(u,l){i.getZr().on(l,this._handlers[l]=Ur(u,this))},this)),FL(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,r){lL(this,"_throttledDispatchExpand"),Te(this._handlers,function(i,u){r.getZr().off(u,i)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(Gn({type:"parallelAxisExpand"},t))},e.type="parallel",e}(zs),Wje={mousedown:function(n){EJ(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(EJ(this,"click")&&e){var t=[n.offsetX,n.offsetY],r=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(r>jje)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!EJ(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=t.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function EJ(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}const qje=Uje;var $je=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var r=this.option;t&&Vo(r,t,!0),this._initDimensions()},e.prototype.contains=function(t,r){var i=t.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},e.prototype.setAxisExpand=function(t){Te(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){t.hasOwnProperty(r)&&(this.option[r]=t[r])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],r=this.parallelAxisIndex=[],i=Ls(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(u){return(u.get("parallelIndex")||0)===this.componentIndex},this);Te(i,function(u){t.push("dim"+u.get("dim")),r.push(u.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Vi);const Gje=$je;var Xje=function(n){Tn(e,n);function e(t,r,i,u,l){var f=n.call(this,t,r,i)||this;return f.type=u||"value",f.axisIndex=l,f}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(Iv);const Yje=Xje;function PM(n,e,t,r,i,u){n=n||0;var l=t[1]-t[0];if(i!=null&&(i=c3(i,[0,l])),u!=null&&(u=Math.max(u,i??0)),r==="all"){var f=Math.abs(e[1]-e[0]);f=c3(f,[0,l]),i=u=c3(f,[i,u]),r=0}e[0]=c3(e[0],t),e[1]=c3(e[1],t);var h=OJ(e,r);e[r]+=n;var g=i||0,y=t.slice();h.sign<0?y[0]+=g:y[1]-=g,e[r]=c3(e[r],y);var b;return b=OJ(e,r),i!=null&&(b.sign!==h.sign||b.span<i)&&(e[1-r]=e[r]+h.sign*i),b=OJ(e,r),u!=null&&b.span>u&&(e[1-r]=e[r]+b.sign*u),e}function OJ(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function c3(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var IJ=Te,L0e=Math.min,B0e=Math.max,Ile=Math.floor,Kje=Math.ceil,Rle=el,Jje=Math.PI,Qje=function(){function n(e,t,r){this.type="parallel",this._axesMap=to(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,r)}return n.prototype._init=function(e,t,r){var i=e.dimensions,u=e.parallelAxisIndex;IJ(i,function(l,f){var h=u[f],g=t.getComponent("parallelAxis",h),y=this._axesMap.set(l,new Yje(l,A9(g),[0,0],g.get("type"),h)),b=y.type==="category";y.onBand=b&&g.get("boundaryGap"),y.inverse=g.get("inverse"),g.axis=y,y.model=g,y.coordinateSystem=g.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),r=t.axisBase,i=t.layoutBase,u=t.pixelDimIndex,l=e[1-u],f=e[u];return l>=r&&l<=r+t.axisLength&&f>=i&&f<=i+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(r){if(e.contains(r,t)){var i=r.getData();IJ(this.dimensions,function(u){var l=this._axesMap.get(u);l.scale.unionExtentFromData(i,i.mapDimension(u)),Q3(l.scale,l.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=Rd(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,r=["x","y"],i=["width","height"],u=e.get("layout"),l=u==="horizontal"?0:1,f=t[i[l]],h=[0,f],g=this.dimensions.length,y=XF(e.get("axisExpandWidth"),h),b=XF(e.get("axisExpandCount")||0,[0,g]),S=e.get("axisExpandable")&&g>3&&g>b&&b>1&&y>0&&f>0,_=e.get("axisExpandWindow"),k;if(_)k=XF(_[1]-_[0],h),_[1]=_[0]+k;else{k=XF(y*(b-1),h);var A=e.get("axisExpandCenter")||Ile(g/2);_=[y*A-k/2],_[1]=_[0]+k}var R=(f-k)/(g-b);R<3&&(R=0);var I=[Ile(Rle(_[0]/y,1))+1,Kje(Rle(_[1]/y,1))-1],z=R/y*_[0];return{layout:u,pixelDimIndex:l,layoutBase:t[r[l]],layoutLength:f,axisBase:t[r[1-l]],axisLength:t[i[1-l]],axisExpandable:S,axisExpandWidth:y,axisCollapseWidth:R,axisExpandWindow:_,axisCount:g,winInnerIndices:I,axisExpandWindow0Pos:z}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),u=i.layout;t.each(function(l){var f=[0,i.axisLength],h=l.inverse?1:0;l.setExtent(f[h],f[1-h])}),IJ(r,function(l,f){var h=(i.axisExpandable?eUe:Zje)(f,i),g={horizontal:{x:h.position,y:i.axisLength},vertical:{x:0,y:h.position}},y={horizontal:Jje/2,vertical:0},b=[g[u].x+e.x,g[u].y+e.y],S=y[u],_=Qm();i_(_,_,S),Nb(_,_,b),this._axesLayout[l]={position:b,rotation:S,transform:_,axisNameAvailableWidth:h.axisNameAvailableWidth,axisLabelShow:h.axisLabelShow,nameTruncateMaxWidth:h.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,r,i){r==null&&(r=0),i==null&&(i=e.count());var u=this._axesMap,l=this.dimensions,f=[],h=[];Te(l,function(R){f.push(e.mapDimension(R)),h.push(u.get(R).model)});for(var g=this.hasAxisBrushed(),y=r;y<i;y++){var b=void 0;if(!g)b="normal";else{b="active";for(var S=e.getValues(f,y),_=0,k=l.length;_<k;_++){var A=h[_].getActiveState(S[_]);if(A==="inactive"){b="inactive";break}}}t(b,y)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,r=!1,i=0,u=e.length;i<u;i++)t.get(e[i]).model.getActiveState()!=="normal"&&(r=!0);return r},n.prototype.axisCoordToPoint=function(e,t){var r=this._axesLayout[t];return Mv([e,0],r.transform)},n.prototype.getAxisLayout=function(e){return vo(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),r=t.pixelDimIndex,i=t.axisExpandWindow.slice(),u=i[1]-i[0],l=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:i};var f=e[r]-t.layoutBase-t.axisExpandWindow0Pos,h,g="slide",y=t.axisCollapseWidth,b=this._model.get("axisExpandSlideTriggerArea"),S=b[0]!=null;if(y)S&&y&&f<u*b[0]?(g="jump",h=f-u*b[2]):S&&y&&f>u*(1-b[0])?(g="jump",h=f-u*(1-b[2])):(h=f-u*b[1])>=0&&(h=f-u*(1-b[1]))<=0&&(h=0),h*=t.axisExpandWidth/y,h?PM(h,i,l,"all"):g="none";else{var _=i[1]-i[0],k=l[1]*f/_;i=[B0e(0,k-_/2)],i[1]=L0e(l[1],i[0]+_),i[0]=i[1]-_}return{axisExpandWindow:i,behavior:g}},n}();function XF(n,e){return L0e(B0e(n,e[0]),e[1])}function Zje(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function eUe(n,e){var t=e.layoutLength,r=e.axisExpandWidth,i=e.axisCount,u=e.axisCollapseWidth,l=e.winInnerIndices,f,h=u,g=!1,y;return n<l[0]?(f=n*u,y=u):n<=l[1]?(f=e.axisExpandWindow0Pos+n*r-e.axisExpandWindow[0],h=r,g=!0):(f=t-(i-1-n)*u,y=u),{position:f,axisNameAvailableWidth:h,axisLabelShow:g,nameTruncateMaxWidth:y}}const tUe=Qje;function nUe(n,e){var t=[];return n.eachComponent("parallel",function(r,i){var u=new tUe(r,n,e);u.name="parallel_"+i,u.resize(r,e),r.coordinateSystem=u,u.model=r,t.push(u)}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",mc).models[0];r.coordinateSystem=i.coordinateSystem}}),t}var rUe={create:nUe};const oUe=rUe;var z0e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return G3([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var r=this.activeIntervals=vo(t);if(r)for(var i=r.length-1;i>=0;i--)uy(r[i])},e.prototype.getActiveState=function(t){var r=this.activeIntervals;if(!r.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var u=0,l=r.length;u<l;u++)if(r[u][0]<=t&&t<=r[u][1])return"active";return"inactive"},e}(Vi);cf(z0e,jL);const Ple=z0e;var TM=!0,gL=Math.min,Z3=Math.max,iUe=Math.pow,aUe=1e4,uUe=6,sUe=6,Nle="globalPan",lUe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},cUe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Lle={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},fUe=0,dUe=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=t,r.group=new hi,r._uid="brushController_"+fUe++,Te(bUe,function(i,u){this._handlers[u]=Ur(i,this)},r),r}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var r=this._zr;this._enableGlobalPan||B9e(r,Nle,this._uid),Te(this._handlers,function(i,u){r.on(u,i)}),this._brushType=t.brushType,this._brushOption=Vo(vo(Lle),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;z9e(t,Nle,this._uid),Te(this._handlers,function(r,i){t.off(i,r)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var r=this._panels={};Te(t,function(i){r[i.panelId]=vo(i)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=r.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=br(t,function(S){return Vo(vo(Lle),S,!0)});var r="\0-brush-index-",i=this._covers,u=this._covers=[],l=this,f=this._creatingCover;return new Gte(i,t,g,h).add(y).update(y).remove(b).execute(),this;function h(S,_){return(S.id!=null?S.id:r+_)+"-"+S.brushType}function g(S,_){return h(S.__brushOption,_)}function y(S,_){var k=t[S];if(_!=null&&i[_]===f)u[S]=i[_];else{var A=u[S]=_!=null?(i[_].__brushOption=k,i[_]):H0e(l,F0e(l,k));cne(l,A)}}function b(S){i[S]!==f&&l.group.remove(i[S])}},e.prototype.unmount=function(){return this.enableBrush(!1),DZ(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(eg);function F0e(n,e){var t=I9[e.brushType].createCover(n,e);return t.__brushOption=e,j0e(t,e),n.group.add(t),t}function H0e(n,e){var t=fne(e);return t.endCreating&&(t.endCreating(n,e),j0e(e,e.__brushOption)),e}function V0e(n,e){var t=e.__brushOption;fne(e).updateCoverShape(n,e,t.range,t)}function j0e(n,e){var t=e.z;t==null&&(t=aUe),n.traverse(function(r){r.z=t,r.z2=t})}function cne(n,e){fne(e).updateCommon(n,e),V0e(n,e)}function fne(n){return I9[n.__brushOption.brushType]}function dne(n,e,t){var r=n._panels;if(!r)return TM;var i,u=n._transform;return Te(r,function(l){l.isTargetByCursor(e,t,u)&&(i=l)}),i}function U0e(n,e){var t=n._panels;if(!t)return TM;var r=e.__brushOption.panelId;return r!=null?t[r]:TM}function DZ(n){var e=n._covers,t=e.length;return Te(e,function(r){n.group.remove(r)},n),e.length=0,!!t}function MM(n,e){var t=br(n._covers,function(r){var i=r.__brushOption,u=vo(i.range);return{brushType:i.brushType,panelId:i.panelId,range:u}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function hUe(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],r=e[0],i=t[0]-r[0],u=t[1]-r[1],l=iUe(i*i+u*u,.5);return l>uUe}function W0e(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function q0e(n,e,t,r){var i=new hi;return i.add(new va({name:"main",style:hne(t),silent:!0,draggable:!0,cursor:"move",drift:ji(Ble,n,e,i,["n","s","w","e"]),ondragend:ji(MM,e,{isEnd:!0})})),Te(r,function(u){i.add(new va({name:u.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:ji(Ble,n,e,i,u),ondragend:ji(MM,e,{isEnd:!0})}))}),i}function $0e(n,e,t,r){var i=r.brushStyle.lineWidth||0,u=Z3(i,sUe),l=t[0][0],f=t[1][0],h=l-i/2,g=f-i/2,y=t[0][1],b=t[1][1],S=y-u+i/2,_=b-u+i/2,k=y-l,A=b-f,R=k+i,I=A+i;vb(n,e,"main",l,f,k,A),r.transformable&&(vb(n,e,"w",h,g,u,I),vb(n,e,"e",S,g,u,I),vb(n,e,"n",h,g,R,u),vb(n,e,"s",h,_,R,u),vb(n,e,"nw",h,g,u,u),vb(n,e,"ne",S,g,u,u),vb(n,e,"sw",h,_,u,u),vb(n,e,"se",S,_,u,u))}function AZ(n,e){var t=e.__brushOption,r=t.transformable,i=e.childAt(0);i.useStyle(hne(t)),i.attr({silent:!r,cursor:r?"move":"default"}),Te([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(u){var l=e.childOfName(u.join("")),f=u.length===1?EZ(n,u[0]):mUe(n,u);l&&l.attr({silent:!r,invisible:!r,cursor:r?cUe[f]+"-resize":null})})}function vb(n,e,t,r,i,u,l){var f=e.childOfName(t);f&&f.setShape(vUe(pne(n,e,[[r,i],[r+u,i+l]])))}function hne(n){return Co({strokeNoScale:!0},n.brushStyle)}function G0e(n,e,t,r){var i=[gL(n,t),gL(e,r)],u=[Z3(n,t),Z3(e,r)];return[[i[0],u[0]],[i[1],u[1]]]}function pUe(n){return G2(n.group)}function EZ(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=u9(t[e],pUe(n));return r[i]}function mUe(n,e){var t=[EZ(n,e[0]),EZ(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function Ble(n,e,t,r,i,u){var l=t.__brushOption,f=n.toRectRange(l.range),h=X0e(e,i,u);Te(r,function(g){var y=lUe[g];f[y[0]][y[1]]+=h[y[0]]}),l.range=n.fromRectRange(G0e(f[0][0],f[1][0],f[0][1],f[1][1])),cne(e,t),MM(e,{isEnd:!1})}function gUe(n,e,t,r){var i=e.__brushOption.range,u=X0e(n,t,r);Te(i,function(l){l[0]+=u[0],l[1]+=u[1]}),cne(n,e),MM(n,{isEnd:!1})}function X0e(n,e,t){var r=n.group,i=r.transformCoordToLocal(e,t),u=r.transformCoordToLocal(0,0);return[i[0]-u[0],i[1]-u[1]]}function pne(n,e,t){var r=U0e(n,e);return r&&r!==TM?r.clipPath(t,n._transform):vo(t)}function vUe(n){var e=gL(n[0][0],n[1][0]),t=gL(n[0][1],n[1][1]),r=Z3(n[0][0],n[1][0]),i=Z3(n[0][1],n[1][1]);return{x:e,y:t,width:r-e,height:i-t}}function yUe(n,e,t){if(!(!n._brushType||xUe(n,e.offsetX,e.offsetY))){var r=n._zr,i=n._covers,u=dne(n,e,t);if(!n._dragging)for(var l=0;l<i.length;l++){var f=i[l].__brushOption;if(u&&(u===TM||f.panelId===u.panelId)&&I9[f.brushType].contain(i[l],t[0],t[1]))return}u&&r.setCursorStyle("crosshair")}}function OZ(n){var e=n.event;e.preventDefault&&e.preventDefault()}function IZ(n,e,t){return n.childOfName("main").contain(e,t)}function Y0e(n,e,t,r){var i=n._creatingCover,u=n._creatingPanel,l=n._brushOption,f;if(n._track.push(t.slice()),hUe(n)||i){if(u&&!i){l.brushMode==="single"&&DZ(n);var h=vo(l);h.brushType=zle(h.brushType,u),h.panelId=u===TM?null:u.panelId,i=n._creatingCover=F0e(n,h),n._covers.push(i)}if(i){var g=I9[zle(n._brushType,u)],y=i.__brushOption;y.range=g.getCreatingRange(pne(n,i,n._track)),r&&(H0e(n,i),g.updateCommon(n,i)),V0e(n,i),f={isEnd:r}}}else r&&l.brushMode==="single"&&l.removeOnClick&&dne(n,e,t)&&DZ(n)&&(f={isEnd:r,removeOnClick:!0});return f}function zle(n,e){return n==="auto"?e.defaultBrushType:n}var bUe={mousedown:function(n){if(this._dragging)Fle(this,n);else if(!n.target||!n.target.draggable){OZ(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=dne(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,r=this.group.transformCoordToLocal(e,t);if(yUe(this,n,r),this._dragging){OZ(n);var i=Y0e(this,n,r,!1);i&&MM(this,i)}},mouseup:function(n){Fle(this,n)}};function Fle(n,e){if(n._dragging){OZ(e);var t=e.offsetX,r=e.offsetY,i=n.group.transformCoordToLocal(t,r),u=Y0e(n,e,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,u&&MM(n,u)}}function xUe(n,e,t){var r=n._zr;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}var I9={lineX:Hle(0),lineY:Hle(1),rect:{createCover:function(n,e){function t(r){return r}return q0e({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=W0e(n);return G0e(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,r){$0e(n,e,t,r)},updateCommon:AZ,contain:IZ},polygon:{createCover:function(n,e){var t=new hi;return t.add(new tg({name:"main",style:hne(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Sy({name:"main",draggable:!0,drift:ji(gUe,n,e),ondragend:ji(MM,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,r){e.childAt(0).setShape({points:pne(n,e,t)})},updateCommon:AZ,contain:IZ}};function Hle(n){return{createCover:function(e,t){return q0e({toRectRange:function(r){var i=[r,[0,100]];return n&&i.reverse(),i},fromRectRange:function(r){return r[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=W0e(e),r=gL(t[0][n],t[1][n]),i=Z3(t[0][n],t[1][n]);return[r,i]},updateCoverShape:function(e,t,r,i){var u,l=U0e(e,t);if(l!==TM&&l.getLinearBrushOtherExtent)u=l.getLinearBrushOtherExtent(n);else{var f=e._zr;u=[0,[f.getWidth(),f.getHeight()][1-n]]}var h=[r,u];n&&h.reverse(),$0e(e,t,h,i)},updateCommon:AZ,contain:IZ}}const K0e=dUe;function J0e(n){return n=mne(n),function(e){return mte(e,n)}}function Q0e(n,e){return n=mne(n),function(t){var r=e??t,i=r?n.width:n.height,u=r?n.x:n.y;return[u,u+(i||0)]}}function Z0e(n,e,t){var r=mne(n);return function(i,u){return r.contain(u[0],u[1])&&!T0e(i,e,t)}}function mne(n){return vi.create(n)}var wUe=["axisLine","axisTickLabel","axisName"],_Ue=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){n.prototype.init.apply(this,arguments),(this._brushController=new K0e(r.getZr())).on("brush",Ur(this._onBrush,this))},e.prototype.render=function(t,r,i,u){if(!SUe(t,r,u)){this.axisModel=t,this.api=i,this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new hi,this.group.add(this._axisGroup),!!t.get("show")){var f=TUe(t,r),h=f.coordinateSystem,g=t.getAreaSelectStyle(),y=g.width,b=t.axis.dim,S=h.getAxisLayout(b),_=Gn({strokeContainThreshold:y},S),k=new t_(t,_);Te(wUe,k.add,k),this._axisGroup.add(k.getGroup()),this._refreshBrushController(_,g,t,f,y,i),s9(l,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,r,i,u,l,f){var h=i.axis.getExtent(),g=h[1]-h[0],y=Math.min(30,Math.abs(g)*.1),b=vi.create({x:h[0],y:-l/2,width:g,height:l});b.x-=y,b.width+=2*y,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:J0e(b),isTargetByCursor:Z0e(b,f,u),getLinearBrushOtherExtent:Q0e(b,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(CUe(i))},e.prototype._onBrush=function(t){var r=t.areas,i=this.axisModel,u=i.axis,l=br(r,function(f){return[u.coordToData(f.range[0],!0),u.coordToData(f.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:l})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(zs);function SUe(n,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}function CUe(n){var e=n.axis;return br(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function TUe(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}const MUe=_Ue;var kUe={type:"axisAreaSelect",event:"axisAreaSelected"};function DUe(n){n.registerAction(kUe,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(r){r.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(r){r.setAxisExpand(e)})})}var AUe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function EUe(n){n.registerComponentView(qje),n.registerComponentModel(Gje),n.registerCoordinateSystem("parallel",oUe),n.registerPreprocessor(Fje),n.registerComponentModel(Ple),n.registerComponentView(MUe),hL(n,"parallel",Ple,AUe),DUe(n)}var OUe=["itemStyle","borderWidth"],Vle=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],RJ=new Av,IUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=this.group,l=t.getData(),f=this._data,h=t.coordinateSystem,g=h.getBaseAxis(),y=g.isHorizontal(),b=h.master.getRect(),S={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:h,coordSysExtent:[[b.x,b.x+b.width],[b.y,b.y+b.height]],isHorizontal:y,valueDim:Vle[+y],categoryDim:Vle[1-+y]};return l.diff(f).add(function(_){if(l.hasValue(_)){var k=Ule(l,_),A=jle(l,_,k,S),R=Wle(l,S,A);l.setItemGraphicEl(_,R),u.add(R),$le(R,S,A)}}).update(function(_,k){var A=f.getItemGraphicEl(k);if(!l.hasValue(_)){u.remove(A);return}var R=Ule(l,_),I=jle(l,_,R,S),z=iye(l,I);A&&z!==A.__pictorialShapeStr&&(u.remove(A),l.setItemGraphicEl(_,null),A=null),A?FUe(A,S,I):A=Wle(l,S,I,!0),l.setItemGraphicEl(_,A),A.__pictorialSymbolMeta=I,u.add(A),$le(A,S,I)}).remove(function(_){var k=f.getItemGraphicEl(_);k&&qle(f,_,k.__pictorialSymbolMeta.animationModel,k)}).execute(),this._data=l,this.group},e.prototype.remove=function(t,r){var i=this.group,u=this._data;t.get("animation")?u&&u.eachItemGraphicEl(function(l){qle(u,Ai(l).dataIndex,t,l)}):i.removeAll()},e.type="pictorialBar",e}(uf);function jle(n,e,t,r){var i=n.getItemLayout(e),u=t.get("symbolRepeat"),l=t.get("symbolClip"),f=t.get("symbolPosition")||"start",h=t.get("symbolRotate"),g=(h||0)*Math.PI/180||0,y=t.get("symbolPatternSize")||2,b=t.isAnimationEnabled(),S={dataIndex:e,layout:i,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:l,symbolRepeat:u,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:y,rotation:g,animationModel:b?t:null,hoverScale:b&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};RUe(t,u,i,r,S),PUe(n,e,i,u,l,S.boundingLength,S.pxSign,y,r,S),NUe(t,S.symbolScale,g,r,S);var _=S.symbolSize,k=_9(t.get("symbolOffset"),_);return LUe(t,_,i,u,l,k,f,S.valueLineWidth,S.boundingLength,S.repeatCutLength,r,S),S}function RUe(n,e,t,r,i){var u=r.valueDim,l=n.get("symbolBoundingData"),f=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),h=f.toGlobalCoord(f.dataToCoord(0)),g=1-+(t[u.wh]<=0),y;if(sr(l)){var b=[PJ(f,l[0])-h,PJ(f,l[1])-h];b[1]<b[0]&&b.reverse(),y=b[g]}else l!=null?y=PJ(f,l)-h:e?y=r.coordSysExtent[u.index][g]-h:y=t[u.wh];i.boundingLength=y,e&&(i.repeatCutLength=t[u.wh]),i.pxSign=y>0?1:-1}function PJ(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function PUe(n,e,t,r,i,u,l,f,h,g){var y=h.valueDim,b=h.categoryDim,S=Math.abs(t[b.wh]),_=n.getItemVisual(e,"symbolSize"),k;sr(_)?k=_.slice():_==null?k=["100%","100%"]:k=[_,_],k[b.index]=Xo(k[b.index],S),k[y.index]=Xo(k[y.index],r?S:Math.abs(u)),g.symbolSize=k;var A=g.symbolScale=[k[0]/f,k[1]/f];A[y.index]*=(h.isHorizontal?-1:1)*l}function NUe(n,e,t,r,i){var u=n.get(OUe)||0;u&&(RJ.attr({scaleX:e[0],scaleY:e[1],rotation:t}),RJ.updateTransform(),u/=RJ.getLineScale(),u*=e[r.valueDim.index]),i.valueLineWidth=u||0}function LUe(n,e,t,r,i,u,l,f,h,g,y,b){var S=y.categoryDim,_=y.valueDim,k=b.pxSign,A=Math.max(e[_.index]+f,0),R=A;if(r){var I=Math.abs(h),z=Rb(n.get("symbolMargin"),"15%")+"",L=!1;z.lastIndexOf("!")===z.length-1&&(L=!0,z=z.slice(0,z.length-1));var q=Xo(z,e[_.index]),X=Math.max(A+q*2,0),Y=L?0:q*2,ae=Jee(r),te=ae?r:Gle((I+Y)/X),ie=I-te*A;q=ie/2/(L?te:Math.max(te-1,1)),X=A+q*2,Y=L?0:q*2,!ae&&r!=="fixed"&&(te=g?Gle((Math.abs(g)+Y)/X):0),R=te*X-Y,b.repeatTimes=te,b.symbolMargin=q}var le=k*(R/2),ce=b.pathPosition=[];ce[S.index]=t[S.wh]/2,ce[_.index]=l==="start"?le:l==="end"?h-le:h/2,u&&(ce[0]+=u[0],ce[1]+=u[1]);var ne=b.bundlePosition=[];ne[S.index]=t[S.xy],ne[_.index]=t[_.xy];var Q=b.barRectShape=Gn({},t);Q[_.wh]=k*Math.max(Math.abs(t[_.wh]),Math.abs(ce[_.index]+le)),Q[S.wh]=t[S.wh];var Ce=b.clipShape={};Ce[S.xy]=-t[S.xy],Ce[S.wh]=y.ecSize[S.wh],Ce[_.xy]=0,Ce[_.wh]=t[_.wh]}function eye(n){var e=n.symbolPatternSize,t=sf(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function tye(n,e,t,r){var i=n.__pictorialBundle,u=t.symbolSize,l=t.valueLineWidth,f=t.pathPosition,h=e.valueDim,g=t.repeatTimes||0,y=0,b=u[e.valueDim.index]+l+t.symbolMargin*2;for(gne(n,function(A){A.__pictorialAnimationIndex=y,A.__pictorialRepeatTimes=g,y<g?I3(A,null,k(y),t,r):I3(A,null,{scaleX:0,scaleY:0},t,r,function(){i.remove(A)}),y++});y<g;y++){var S=eye(t);S.__pictorialAnimationIndex=y,S.__pictorialRepeatTimes=g,i.add(S);var _=k(y);I3(S,{x:_.x,y:_.y,scaleX:0,scaleY:0},{scaleX:_.scaleX,scaleY:_.scaleY,rotation:_.rotation},t,r)}function k(A){var R=f.slice(),I=t.pxSign,z=A;return(t.symbolRepeatDirection==="start"?I>0:I<0)&&(z=g-1-A),R[h.index]=b*(z-g/2+.5)+f[h.index],{x:R[0],y:R[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function nye(n,e,t,r){var i=n.__pictorialBundle,u=n.__pictorialMainPath;u?I3(u,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,r):(u=n.__pictorialMainPath=eye(t),i.add(u),I3(u,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,r))}function rye(n,e,t){var r=Gn({},e.barRectShape),i=n.__pictorialBarRect;i?I3(i,null,{shape:r},e,t):(i=n.__pictorialBarRect=new va({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,n.add(i))}function oye(n,e,t,r){if(t.symbolClip){var i=n.__pictorialClipPath,u=Gn({},t.clipShape),l=e.valueDim,f=t.animationModel,h=t.dataIndex;if(i)tl(i,{shape:u},f,h);else{u[l.wh]=0,i=new va({shape:u}),n.__pictorialBundle.setClipPath(i),n.__pictorialClipPath=i;var g={};g[l.wh]=t.clipShape[l.wh],c9[r?"updateProps":"initProps"](i,{shape:g},f,h)}}}function Ule(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=BUe,t.isAnimationEnabled=zUe,t}function BUe(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function zUe(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Wle(n,e,t,r){var i=new hi,u=new hi;return i.add(u),i.__pictorialBundle=u,u.x=t.bundlePosition[0],u.y=t.bundlePosition[1],t.symbolRepeat?tye(i,e,t):nye(i,e,t),rye(i,t,r),oye(i,e,t,r),i.__pictorialShapeStr=iye(n,t),i.__pictorialSymbolMeta=t,i}function FUe(n,e,t){var r=t.animationModel,i=t.dataIndex,u=n.__pictorialBundle;tl(u,{x:t.bundlePosition[0],y:t.bundlePosition[1]},r,i),t.symbolRepeat?tye(n,e,t,!0):nye(n,e,t,!0),rye(n,t,!0),oye(n,e,t,!0)}function qle(n,e,t,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var u=[];gne(r,function(l){u.push(l)}),r.__pictorialMainPath&&u.push(r.__pictorialMainPath),r.__pictorialClipPath&&(t=null),Te(u,function(l){nL(l,{scaleX:0,scaleY:0},t,e,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(e,null)}function iye(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function gne(n,e,t){Te(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&e.call(t,r)})}function I3(n,e,t,r,i,u){e&&n.attr(e),r.symbolClip&&!i?t&&n.attr(t):t&&c9[i?"updateProps":"initProps"](n,t,r.animationModel,r.dataIndex,u)}function $le(n,e,t){var r=t.dataIndex,i=t.itemModel,u=i.getModel("emphasis"),l=u.getModel("itemStyle").getItemStyle(),f=i.getModel(["blur","itemStyle"]).getItemStyle(),h=i.getModel(["select","itemStyle"]).getItemStyle(),g=i.getShallow("cursor"),y=u.get("focus"),b=u.get("blurScope"),S=u.get("scale");gne(n,function(A){if(A instanceof Ip){var R=A.style;A.useStyle(Gn({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},t.style))}else A.useStyle(t.style);var I=A.ensureState("emphasis");I.style=l,S&&(I.scaleX=A.scaleX*1.1,I.scaleY=A.scaleY*1.1),A.ensureState("blur").style=f,A.ensureState("select").style=h,g&&(A.cursor=g),A.z2=t.z2});var _=e.valueDim.posDesc[+(t.boundingLength>0)],k=n.__pictorialBarRect;Vb(k,jb(i),{labelFetcher:e.seriesModel,labelDataIndex:r,defaultText:E9(e.seriesModel.getData(),r),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:_}),J2(n,y,b,u.get("disabled"))}function Gle(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}const HUe=IUe;var VUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=a_(_V.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(_V);const jUe=VUe;function UUe(n){n.registerChartView(HUe),n.registerSeriesModel(jUe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,ji(Ove,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Ive("pictorialBar"))}function WUe(n,e,t,r){return n&&(n.legacy||n.legacy!==!1&&!t&&!r&&e!=="tspan"&&(e==="text"||Zo(n,"text")))}function qUe(n,e,t){var r=n,i,u,l;if(e==="text")l=r;else{l={},Zo(r,"text")&&(l.text=r.text),Zo(r,"rich")&&(l.rich=r.rich),Zo(r,"textFill")&&(l.fill=r.textFill),Zo(r,"textStroke")&&(l.stroke=r.textStroke),Zo(r,"fontFamily")&&(l.fontFamily=r.fontFamily),Zo(r,"fontSize")&&(l.fontSize=r.fontSize),Zo(r,"fontStyle")&&(l.fontStyle=r.fontStyle),Zo(r,"fontWeight")&&(l.fontWeight=r.fontWeight),u={type:"text",style:l,silent:!0},i={};var f=Zo(r,"textPosition");t?i.position=f?r.textPosition:"inside":f&&(i.position=r.textPosition),Zo(r,"textPosition")&&(i.position=r.textPosition),Zo(r,"textOffset")&&(i.offset=r.textOffset),Zo(r,"textRotation")&&(i.rotation=r.textRotation),Zo(r,"textDistance")&&(i.distance=r.textDistance)}return Xle(l,n),Te(l.rich,function(h){Xle(h,h)}),{textConfig:i,textContent:u}}function Xle(n,e){e&&(e.font=e.textFont||e.font,Zo(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),Zo(e,"textAlign")&&(n.align=e.textAlign),Zo(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),Zo(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),Zo(e,"textWidth")&&(n.width=e.textWidth),Zo(e,"textHeight")&&(n.height=e.textHeight),Zo(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),Zo(e,"textPadding")&&(n.padding=e.textPadding),Zo(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),Zo(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),Zo(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),Zo(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),Zo(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),Zo(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),Zo(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}var aye={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Yle=ga(aye);Jm(gy,function(n,e){return n[e]=1,n},{});gy.join(", ");var MV=["","style","shape","extra"],e5=lu();function vne(n,e,t,r,i){var u=n+"Animation",l=cte(n,r,i)||{},f=e5(e).userDuring;return l.duration>0&&(l.during=f?Ur(JUe,{el:e,userDuring:f}):null,l.setToFinal=!0,l.scope=n),Gn(l,t[u]),l}function NJ(n,e,t,r){r=r||{};var i=r.dataIndex,u=r.isInit,l=r.clearStyle,f=t.isAnimationEnabled(),h=e5(n),g=e.style;h.userDuring=e.during;var y={},b={};if(ZUe(n,e,b),Jle("shape",e,b),Jle("extra",e,b),!u&&f&&(QUe(n,e,y),Kle("shape",n,e,y),Kle("extra",n,e,y),eWe(n,e,g,y)),b.style=g,GUe(n,b,l),YUe(n,e),f)if(u){var S={};Te(MV,function(k){var A=k?e[k]:e;A&&A.enterFrom&&(k&&(S[k]=S[k]||{}),Gn(k?S[k]:S,A.enterFrom))});var _=vne("enter",n,e,t,i);_.duration>0&&n.animateFrom(S,_)}else XUe(n,e,i||0,t,y);uye(n,e),g?n.dirty():n.markRedraw()}function uye(n,e){for(var t=e5(n).leaveToProps,r=0;r<MV.length;r++){var i=MV[r],u=i?e[i]:e;u&&u.leaveTo&&(t||(t=e5(n).leaveToProps={}),i&&(t[i]=t[i]||{}),Gn(i?t[i]:t,u.leaveTo))}}function $Ue(n,e,t,r){if(n){var i=n.parent,u=e5(n).leaveToProps;if(u){var l=vne("update",n,e,t,0);l.done=function(){i.remove(n),r&&r()},n.animateTo(u,l)}else i.remove(n),r&&r()}}function bM(n){return n==="all"}function GUe(n,e,t){var r=e.style;if(!n.isGroup&&r){if(t){n.useStyle({});for(var i=n.animators,u=0;u<i.length;u++){var l=i[u];l.targetName==="style"&&l.changeTarget(n.style)}}n.setStyle(r)}e&&(e.style=null,e&&n.attr(e),e.style=r)}function XUe(n,e,t,r,i){if(i){var u=vne("update",n,e,r,t);u.duration>0&&n.animateFrom(i,u)}}function YUe(n,e){Zo(e,"silent")&&(n.silent=e.silent),Zo(e,"ignore")&&(n.ignore=e.ignore),n instanceof Lb&&Zo(e,"invisible")&&(n.invisible=e.invisible),n instanceof Va&&Zo(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}var ny={},KUe={setTransform:function(n,e){return ny.el[n]=e,this},getTransform:function(n){return ny.el[n]},setShape:function(n,e){var t=ny.el,r=t.shape||(t.shape={});return r[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=ny.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=ny.el,r=t.style;return r&&(r[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=ny.el.style;if(e)return e[n]},setExtra:function(n,e){var t=ny.el.extra||(ny.el.extra={});return t[n]=e,this},getExtra:function(n){var e=ny.el.extra;if(e)return e[n]}};function JUe(){var n=this,e=n.el;if(e){var t=e5(e).userDuring,r=n.userDuring;if(t!==r){n.el=n.userDuring=null;return}ny.el=e,r(KUe)}}function Kle(n,e,t,r){var i=t[n];if(i){var u=e[n],l;if(u){var f=t.transition,h=i.transition;if(h)if(!l&&(l=r[n]={}),bM(h))Gn(l,u);else for(var g=Bs(h),y=0;y<g.length;y++){var b=g[y],S=u[b];l[b]=S}else if(bM(f)||Di(f,n)>=0){!l&&(l=r[n]={});for(var _=ga(u),y=0;y<_.length;y++){var b=_[y],S=u[b];tWe(i[b],S)&&(l[b]=S)}}}}}function Jle(n,e,t){var r=e[n];if(r)for(var i=t[n]={},u=ga(r),l=0;l<u.length;l++){var f=u[l];i[f]=ON(r[f])}}function QUe(n,e,t){for(var r=e.transition,i=bM(r)?gy:Bs(r||[]),u=0;u<i.length;u++){var l=i[u];if(!(l==="style"||l==="shape"||l==="extra")){var f=n[l];t[l]=f}}}function ZUe(n,e,t){for(var r=0;r<Yle.length;r++){var i=Yle[r],u=aye[i],l=e[i];l&&(t[u[0]]=l[0],t[u[1]]=l[1])}for(var r=0;r<gy.length;r++){var f=gy[r];e[f]!=null&&(t[f]=e[f])}}function eWe(n,e,t,r){if(t){var i=n.style,u;if(i){var l=t.transition,f=e.transition;if(l&&!bM(l)){var h=Bs(l);!u&&(u=r.style={});for(var g=0;g<h.length;g++){var y=h[g],b=i[y];u[y]=b}}else if(n.getAnimationStyleProps&&(bM(f)||bM(l)||Di(f,"style")>=0)){var S=n.getAnimationStyleProps(),_=S?S.style:null;if(_){!u&&(u=r.style={});for(var k=ga(t),g=0;g<k.length;g++){var y=k[g];if(_[y]){var b=i[y];u[y]=b}}}}}}}function tWe(n,e){return $f(n)?n!==e:n!=null&&isFinite(n)}var sye=lu(),nWe=["percent","easing","shape","style","extra"];function rWe(n){n.stopAnimation("keyframe"),n.attr(sye(n))}function RZ(n,e,t){if(!(!t.isAnimationEnabled()||!e)){if(sr(e)){Te(e,function(f){RZ(n,f,t)});return}var r=e.keyframes,i=e.duration;if(t&&i==null){var u=cte("enter",t,0);i=u&&u.duration}if(!(!r||!i)){var l=sye(n);Te(MV,function(f){if(!(f&&!n[f])){var h;r.sort(function(g,y){return g.percent-y.percent}),Te(r,function(g){var y=n.animators,b=f?g[f]:g;if(b){var S=ga(b);if(f||(S=Ls(S,function(A){return Di(nWe,A)<0})),!!S.length){h||(h=n.animate(f,e.loop,!0),h.scope="keyframe");for(var _=0;_<y.length;_++)y[_]!==h&&y[_].targetName===h.targetName&&y[_].stopTracks(S);f&&(l[f]=l[f]||{});var k=f?l[f]:l;Te(S,function(A){k[A]=((f?n[f]:n)||{})[A]}),h.whenWithKeys(i*g.percent,b,S,g.easing)}}}),h&&h.delay(e.delay||0).duration(i).start(e.easing)}})}}}var eM=lu(),Qle=vo,LJ=Ur,oWe=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var u=t.get("value"),l=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===u&&this._lastStatus===l)){this._lastValue=u,this._lastStatus=l;var f=this._group,h=this._handle;if(!l||l==="hide"){f&&f.hide(),h&&h.hide();return}f&&f.show(),h&&h.show();var g={};this.makeElOption(g,u,e,t,r);var y=g.graphicKey;y!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=y;var b=this._moveAnimation=this.determineAnimation(e,t);if(!f)f=this._group=new hi,this.createPointerEl(f,g,e,t),this.createLabelEl(f,g,e,t),r.getZr().add(f);else{var S=ji(Zle,t,b);this.updatePointerEl(f,g,S),this.updateLabelEl(f,g,S,t)}tce(f,t,!0),this._renderHandle(u)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,u=i.type==="category",l=t.get("snap");if(!l&&!u)return!1;if(r==="auto"||r==null){var f=this.animationThreshold;if(u&&i.getBandWidth()>f)return!0;if(l){var h=ane(e).seriesDataCount,g=i.getExtent();return Math.abs(g[0]-g[1])/h>f}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,i,u){},n.prototype.createPointerEl=function(e,t,r,i){var u=t.pointer;if(u){var l=eM(e).pointerEl=new c9[u.type](Qle(t.pointer));e.add(l)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var u=eM(e).labelEl=new ya(Qle(t.label));e.add(u),ece(u,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=eM(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var u=eM(e).labelEl;u&&(u.setStyle(t.label.style),r(u,{x:t.label.x,y:t.label.y}),ece(u,i))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,u=t.getModel("handle"),l=t.get("status");if(!u.get("show")||!l||l==="hide"){i&&r.remove(i),this._handle=null;return}var f;this._handle||(f=!0,i=this._handle=d5(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(g){Pb(g.event)},onmousedown:LJ(this._onHandleDragMove,this,0,0),drift:LJ(this._onHandleDragMove,this),ondragend:LJ(this._onHandleDragEnd,this)}),r.add(i)),tce(i,t,!1),i.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=u.get("size");sr(h)||(h=[h,h]),i.scaleX=h[0]/2,i.scaleY=h[1]/2,FL(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,f)}},n.prototype._moveHandleToValue=function(e,t){Zle(this._axisPointerModel,!t&&this._moveAnimation,this._handle,BJ(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(BJ(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(BJ(i)),eM(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),lL(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n}();function Zle(n,e,t,r){lye(eM(t).lastProp,r)||(eM(t).lastProp=r,e?tl(t,r,n):(t.stopAnimation(),t.attr(r)))}function lye(n,e){if(no(n)&&no(e)){var t=!0;return Te(e,function(r,i){t=t&&lye(n[i],r)}),!!t}else return n===e}function ece(n,e){n[e.get(["label","show"])?"show":"hide"]()}function BJ(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function tce(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(u){u.type!=="group"&&(r!=null&&(u.z=r),i!=null&&(u.zlevel=i),u.silent=t)})}const cye=oWe;function fye(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function dye(n,e,t,r,i){var u=t.get("value"),l=hye(u,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),f=t.getModel("label"),h=m5(f.get("padding")||0),g=f.getFont(),y=PL(l,g),b=i.position,S=y.width+h[1]+h[3],_=y.height+h[0]+h[2],k=i.align;k==="right"&&(b[0]-=S),k==="center"&&(b[0]-=S/2);var A=i.verticalAlign;A==="bottom"&&(b[1]-=_),A==="middle"&&(b[1]-=_/2),iWe(b,S,_,r);var R=f.get("backgroundColor");(!R||R==="auto")&&(R=e.get(["axisLine","lineStyle","color"])),n.label={x:b[0],y:b[1],style:wl(f,{text:l,font:g,fill:f.getTextColor(),padding:h,backgroundColor:R}),z2:10}}function iWe(n,e,t,r){var i=r.getWidth(),u=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,u)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function hye(n,e,t,r,i){n=e.scale.parse(n);var u=e.scale.getLabel({value:n},{precision:i.precision}),l=i.formatter;if(l){var f={value:Zte(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};Te(r,function(h){var g=t.getSeriesByIndex(h.seriesIndex),y=h.dataIndexInside,b=g&&g.getDataParams(y);b&&f.seriesData.push(b)}),Nr(l)?u=l.replace("{value}",u):Eo(l)&&(u=l(f))}return u}function pye(n,e,t){var r=Qm();return i_(r,r,t.rotation),Nb(r,r,t.position),Mv([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function aWe(n,e,t,r,i,u){var l=t_.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),dye(e,r,i,u,{position:pye(r.axis,n,t),align:l.textAlign,verticalAlign:l.textVerticalAlign})}function mye(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function uWe(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}function nce(n,e,t,r,i,u){return{cx:n,cy:e,r0:t,r,startAngle:i,endAngle:u,clockwise:!0}}var sWe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,u,l){var f=i.axis,h=f.grid,g=u.get("type"),y=rce(h,f).getOtherAxis(f).getGlobalExtent(),b=f.toGlobalCoord(f.dataToCoord(r,!0));if(g&&g!=="none"){var S=fye(u),_=lWe[g](f,b,y);_.style=S,t.graphicKey=_.type,t.pointer=_}var k=_Z(h.model,i);aWe(r,t,k,i,u,l)},e.prototype.getHandleTransform=function(t,r,i){var u=_Z(r.axis.grid.model,r,{labelInside:!1});u.labelMargin=i.get(["handle","margin"]);var l=pye(r.axis,t,u);return{x:l[0],y:l[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,u){var l=i.axis,f=l.grid,h=l.getGlobalExtent(!0),g=rce(f,l).getOtherAxis(l).getGlobalExtent(),y=l.dim==="x"?0:1,b=[t.x,t.y];b[y]+=r[y],b[y]=Math.min(h[1],b[y]),b[y]=Math.max(h[0],b[y]);var S=(g[1]+g[0])/2,_=[S,S];_[y]=b[y];var k=[{verticalAlign:"middle"},{align:"center"}];return{x:b[0],y:b[1],rotation:t.rotation,cursorPoint:_,tooltipOption:k[y]}},e}(cye);function rce(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var lWe={line:function(n,e,t){var r=mye([e,t[0]],[e,t[1]],oce(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:uWe([e-r/2,t[0]],[r,i],oce(n))}}};function oce(n){return n.dim==="x"?0:1}const cWe=sWe;var fWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Vi);const dWe=fWe;var Tb=lu(),hWe=Te;function gye(n,e,t){if(!Li.node){var r=e.getZr();Tb(r).records||(Tb(r).records={}),pWe(r,e);var i=Tb(r).records[n]||(Tb(r).records[n]={});i.handler=t}}function pWe(n,e){if(Tb(n).initialized)return;Tb(n).initialized=!0,t("click",ji(ice,"click")),t("mousemove",ji(ice,"mousemove")),t("globalout",gWe);function t(r,i){n.on(r,function(u){var l=vWe(e);hWe(Tb(n).records,function(f){f&&i(f,u,l.dispatchAction)}),mWe(l.pendings,e)})}}function mWe(n,e){var t=n.showTip.length,r=n.hideTip.length,i;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function gWe(n,e,t){n.handler("leave",null,t)}function ice(n,e,t,r){e.handler(n,t,r)}function vWe(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function PZ(n,e){if(!Li.node){var t=e.getZr(),r=(Tb(t).records||{})[n];r&&(Tb(t).records[n]=null)}}var yWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=r.getComponent("tooltip"),l=t.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";gye("axisPointer",i,function(f,h,g){l!=="none"&&(f==="leave"||l.indexOf(f)>=0)&&g({type:"updateAxisPointer",currTrigger:f,x:h&&h.offsetX,y:h&&h.offsetY})})},e.prototype.remove=function(t,r){PZ("axisPointer",r)},e.prototype.dispose=function(t,r){PZ("axisPointer",r)},e.type="axisPointer",e}(zs);const bWe=yWe;function vye(n,e){var t=[],r=n.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var u=i.getData(),l=_M(u,n);if(l==null||l<0||sr(l))return{point:[]};var f=u.getItemGraphicEl(l),h=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(l)||[];else if(h&&h.dataToPoint)if(n.isStacked){var g=h.getBaseAxis(),y=h.getOtherAxis(g),b=y.dim,S=g.dim,_=b==="x"||b==="radius"?1:0,k=u.mapDimension(S),A=[];A[_]=u.get(k,l),A[1-_]=u.get(u.getCalculationInfo("stackResultDimension"),l),t=h.dataToPoint(A)||[]}else t=h.dataToPoint(u.getValues(br(h.dimensions,function(I){return u.mapDimension(I)}),l))||[];else if(f){var R=f.getBoundingRect().clone();R.applyTransform(f.transform),t=[R.x+R.width/2,R.y+R.height/2]}return{point:t,el:f}}var ace=lu();function xWe(n,e,t){var r=n.currTrigger,i=[n.x,n.y],u=n,l=n.dispatchAction||Ur(t.dispatchAction,t),f=e.getComponent("axisPointer").coordSysAxesInfo;if(f){MH(i)&&(i=vye({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},e).point);var h=MH(i),g=u.axesInfo,y=f.axesInfo,b=r==="leave"||MH(i),S={},_={},k={list:[],map:{}},A={showPointer:ji(_We,_),showTooltip:ji(SWe,k)};Te(f.coordSysMap,function(I,z){var L=h||I.containPoint(i);Te(f.coordSysAxesInfo[z],function(q,X){var Y=q.axis,ae=kWe(g,q);if(!b&&L&&(!g||ae)){var te=ae&&ae.value;te==null&&!h&&(te=Y.pointToData(i)),te!=null&&uce(q,te,A,!1,S)}})});var R={};return Te(y,function(I,z){var L=I.linkGroup;L&&!_[z]&&Te(L.axesInfo,function(q,X){var Y=_[X];if(q!==I&&Y){var ae=Y.value;L.mapper&&(ae=I.axis.scale.parse(L.mapper(ae,sce(q),sce(I)))),R[I.key]=ae}})}),Te(R,function(I,z){uce(y[z],I,A,!0,S)}),CWe(_,y,S),TWe(k,i,n,l),MWe(y,l,t),S}}function uce(n,e,t,r,i){var u=n.axis;if(!(u.scale.isBlank()||!u.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var l=wWe(e,n),f=l.payloadBatch,h=l.snapToValue;f[0]&&i.seriesIndex==null&&Gn(i,f[0]),!r&&n.snap&&u.containData(h)&&h!=null&&(e=h),t.showPointer(n,e,f),t.showTooltip(n,l,h)}}function wWe(n,e){var t=e.axis,r=t.dim,i=n,u=[],l=Number.MAX_VALUE,f=-1;return Te(e.seriesModels,function(h,g){var y=h.getData().mapDimensionsAll(r),b,S;if(h.getAxisTooltipData){var _=h.getAxisTooltipData(y,n,t);S=_.dataIndices,b=_.nestestValue}else{if(S=h.getData().indicesOfNearest(y[0],n,t.type==="category"?.5:null),!S.length)return;b=h.getData().get(y[0],S[0])}if(!(b==null||!isFinite(b))){var k=n-b,A=Math.abs(k);A<=l&&((A<l||k>=0&&f<0)&&(l=A,f=k,i=b,u.length=0),Te(S,function(R){u.push({seriesIndex:h.seriesIndex,dataIndexInside:R,dataIndex:h.getData().getRawIndex(R)})}))}}),{payloadBatch:u,snapToValue:i}}function _We(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function SWe(n,e,t,r){var i=t.payloadBatch,u=e.axis,l=u.model,f=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var h=e.coordSys.model,g=pL(h),y=n.map[g];y||(y=n.map[g]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},n.list.push(y)),y.dataByAxis.push({axisDim:u.dim,axisIndex:l.componentIndex,axisType:l.type,axisId:l.id,value:r,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function CWe(n,e,t){var r=t.axesInfo=[];Te(e,function(i,u){var l=i.axisPointerModel.option,f=n[u];f?(!i.useHandle&&(l.status="show"),l.value=f.value,l.seriesDataIndices=(f.payloadBatch||[]).slice()):!i.useHandle&&(l.status="hide"),l.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:l.value})})}function TWe(n,e,t,r){if(MH(e)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function MWe(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",u=ace(r)[i]||{},l=ace(r)[i]={};Te(n,function(g,y){var b=g.axisPointerModel.option;b.status==="show"&&g.triggerEmphasis&&Te(b.seriesDataIndices,function(S){var _=S.seriesIndex+" | "+S.dataIndex;l[_]=S})});var f=[],h=[];Te(u,function(g,y){!l[y]&&h.push(g)}),Te(l,function(g,y){!u[y]&&f.push(g)}),h.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:h}),f.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}function kWe(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function sce(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function MH(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function yne(n){UL.registerAxisPointerClass("CartesianAxisPointer",cWe),n.registerComponentModel(dWe),n.registerComponentView(bWe),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!sr(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=i9e(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},xWe)}function DWe(n){Rc(w0e),Rc(yne)}var AWe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,u,l){var f=i.axis;f.dim==="angle"&&(this.animationThreshold=Math.PI/18);var h=f.polar,g=h.getOtherAxis(f),y=g.getExtent(),b=f.dataToCoord(r),S=u.get("type");if(S&&S!=="none"){var _=fye(u),k=OWe[S](f,h,b,y);k.style=_,t.graphicKey=k.type,t.pointer=k}var A=u.get(["label","margin"]),R=EWe(r,i,u,h,A);dye(t,i,u,l,R)},e}(cye);function EWe(n,e,t,r,i){var u=e.axis,l=u.dataToCoord(n),f=r.getAngleAxis().getExtent()[0];f=f/180*Math.PI;var h=r.getRadiusAxis().getExtent(),g,y,b;if(u.dim==="radius"){var S=Qm();i_(S,S,f),Nb(S,S,[r.cx,r.cy]),g=Mv([l,-i],S);var _=e.getModel("axisLabel").get("rotate")||0,k=t_.innerTextLayout(f,_*Math.PI/180,-1);y=k.textAlign,b=k.textVerticalAlign}else{var A=h[1];g=r.coordToPoint([A+i,l]);var R=r.cx,I=r.cy;y=Math.abs(g[0]-R)/A<.3?"center":g[0]>R?"left":"right",b=Math.abs(g[1]-I)/A<.3?"middle":g[1]>I?"top":"bottom"}return{position:g,align:y,verticalAlign:b}}var OWe={line:function(n,e,t,r){return n.dim==="angle"?{type:"Line",shape:mye(e.coordToPoint([r[0],t]),e.coordToPoint([r[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,r){var i=Math.max(1,n.getBandWidth()),u=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:nce(e.cx,e.cy,r[0],r[1],(-t-i/2)*u,(-t+i/2)*u)}:{type:"Sector",shape:nce(e.cx,e.cy,t-i/2,t+i/2,0,Math.PI*2)}}};const IWe=AWe;var RWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var r,i=this.ecModel;return i.eachComponent(t,function(u){u.getCoordSysModel()===this&&(r=u)},this),r},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Vi);const PWe=RWe;var bne=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",mc).models[0]},e.type="polarAxis",e}(Vi);cf(bne,jL);var NWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(bne),LWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(bne),xne=function(n){Tn(e,n);function e(t,r){return n.call(this,"radius",t,r)||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e}(Iv);xne.prototype.dataToRadius=Iv.prototype.dataToCoord;xne.prototype.radiusToData=Iv.prototype.coordToData;const BWe=xne;var zWe=lu(),wne=function(n){Tn(e,n);function e(t,r){return n.call(this,"angle",t,r||[0,360])||this}return e.prototype.pointToData=function(t,r){return this.polar.pointToData(t,r)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,r=t.getLabelModel(),i=t.scale,u=i.getExtent(),l=i.count();if(u[1]-u[0]<1)return 0;var f=u[0],h=t.dataToCoord(f+1)-t.dataToCoord(f),g=Math.abs(h),y=PL(f==null?"":f+"",r.getFont(),"center","top"),b=Math.max(y.height,7),S=b/g;isNaN(S)&&(S=1/0);var _=Math.max(0,Math.floor(S)),k=zWe(t.model),A=k.lastAutoInterval,R=k.lastTickCount;return A!=null&&R!=null&&Math.abs(A-_)<=1&&Math.abs(R-l)<=1&&A>_?_=A:(k.lastTickCount=l,k.lastAutoInterval=_),_},e}(Iv);wne.prototype.dataToAngle=Iv.prototype.dataToCoord;wne.prototype.angleToData=Iv.prototype.coordToData;const FWe=wne;var yye=["radius","angle"],HWe=function(){function n(e){this.dimensions=yye,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new BWe,this._angleAxis=new FWe,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===e&&t.push(r),i.scale.type===e&&t.push(i),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var r=this.pointToCoord(e);return[this._radiusAxis.radiusToData(r[0],t),this._angleAxis.angleToData(r[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,r=e[1]-this.cy,i=this.getAngleAxis(),u=i.getExtent(),l=Math.min(u[0],u[1]),f=Math.max(u[0],u[1]);i.inverse?l=f-360:f=l+360;var h=Math.sqrt(t*t+r*r);t/=h,r/=h;for(var g=Math.atan2(-r,t)/Math.PI*180,y=g<l?1:-1;g<l||g>f;)g+=y*360;return[h,g]},n.prototype.coordToPoint=function(e){var t=e[0],r=e[1]/180*Math.PI,i=Math.cos(r)*t+this.cx,u=-Math.sin(r)*t+this.cy;return[i,u]},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),r=t.getExtent().slice();r[0]>r[1]&&r.reverse();var i=e.getExtent(),u=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*u,endAngle:-i[1]*u,clockwise:e.inverse,contain:function(l,f){var h=l-this.cx,g=f-this.cy,y=h*h+g*g-1e-4,b=this.r,S=this.r0;return y<=b*b&&y>=S*S}}},n.prototype.convertToPixel=function(e,t,r){var i=lce(t);return i===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=lce(t);return i===this?this.pointToData(r):null},n}();function lce(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const VWe=HWe;function jWe(n,e,t){var r=e.get("center"),i=t.getWidth(),u=t.getHeight();n.cx=Xo(r[0],i),n.cy=Xo(r[1],u);var l=n.getRadiusAxis(),f=Math.min(i,u)/2,h=e.get("radius");h==null?h=[0,"100%"]:sr(h)||(h=[0,h]);var g=[Xo(h[0],f),Xo(h[1],f)];l.inverse?l.setExtent(g[1],g[0]):l.setExtent(g[0],g[1])}function UWe(n,e){var t=this,r=t.getAngleAxis(),i=t.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),n.eachSeries(function(f){if(f.coordinateSystem===t){var h=f.getData();Te(xV(h,"radius"),function(g){i.scale.unionExtentFromData(h,g)}),Te(xV(h,"angle"),function(g){r.scale.unionExtentFromData(h,g)})}}),Q3(r.scale,r.model),Q3(i.scale,i.model),r.type==="category"&&!r.onBand){var u=r.getExtent(),l=360/r.scale.count();r.inverse?u[1]+=l:u[1]-=l,r.setExtent(u[0],u[1])}}function WWe(n){return n.mainType==="angleAxis"}function cce(n,e){if(n.type=e.get("type"),n.scale=A9(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),WWe(e)){n.inverse=n.inverse!==e.get("clockwise");var t=e.get("startAngle");n.setExtent(t,t+(n.inverse?-360:360))}e.axis=n,n.model=e}var qWe={dimensions:yye,create:function(n,e){var t=[];return n.eachComponent("polar",function(r,i){var u=new VWe(i+"");u.update=UWe;var l=u.getRadiusAxis(),f=u.getAngleAxis(),h=r.findAxisModel("radiusAxis"),g=r.findAxisModel("angleAxis");cce(l,h),cce(f,g),jWe(u,r,e),t.push(u),r.coordinateSystem=u,u.model=r}),n.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",mc).models[0];r.coordinateSystem=i.coordinateSystem}}),t}};const $We=qWe;var GWe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function YF(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var r=n.coordToPoint([e[0],t]),i=n.coordToPoint([e[1],t]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function KF(n){var e=n.getRadiusAxis();return e.inverse?0:1}function fce(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var XWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=t.axis,u=i.polar,l=u.getRadiusAxis().getExtent(),f=i.getTicksCoords(),h=i.getMinorTicksCoords(),g=br(i.getViewLabels(),function(y){y=vo(y);var b=i.scale,S=b.type==="ordinal"?b.getRawOrdinalNumber(y.tickValue):y.tickValue;return y.coord=i.dataToCoord(S),y});fce(g),fce(f),Te(GWe,function(y){t.get([y,"show"])&&(!i.scale.isBlank()||y==="axisLine")&&YWe[y](this.group,t,u,f,h,l,g)},this)}},e.type="angleAxis",e}(UL),YWe={axisLine:function(n,e,t,r,i,u){var l=e.getModel(["axisLine","lineStyle"]),f=KF(t),h=f?0:1,g;u[h]===0?g=new Av({shape:{cx:t.cx,cy:t.cy,r:u[f]},style:l.getLineStyle(),z2:1,silent:!0}):g=new LL({shape:{cx:t.cx,cy:t.cy,r:u[f],r0:u[h]},style:l.getLineStyle(),z2:1,silent:!0}),g.style.fill=null,n.add(g)},axisTick:function(n,e,t,r,i,u){var l=e.getModel("axisTick"),f=(l.get("inside")?-1:1)*l.get("length"),h=u[KF(t)],g=br(r,function(y){return new Od({shape:YF(t,[h,h+f],y.coord)})});n.add($m(g,{style:Co(l.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,r,i,u){if(i.length){for(var l=e.getModel("axisTick"),f=e.getModel("minorTick"),h=(l.get("inside")?-1:1)*f.get("length"),g=u[KF(t)],y=[],b=0;b<i.length;b++)for(var S=0;S<i[b].length;S++)y.push(new Od({shape:YF(t,[g,g+h],i[b][S].coord)}));n.add($m(y,{style:Co(f.getModel("lineStyle").getLineStyle(),Co(l.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,r,i,u,l){var f=e.getCategories(!0),h=e.getModel("axisLabel"),g=h.get("margin"),y=e.get("triggerEvent");Te(l,function(b,S){var _=h,k=b.tickValue,A=u[KF(t)],R=t.coordToPoint([A+g,b.coord]),I=t.cx,z=t.cy,L=Math.abs(R[0]-I)/A<.3?"center":R[0]>I?"left":"right",q=Math.abs(R[1]-z)/A<.3?"middle":R[1]>z?"top":"bottom";if(f&&f[k]){var X=f[k];no(X)&&X.textStyle&&(_=new xs(X.textStyle,h,h.ecModel))}var Y=new ya({silent:t_.isLabelSilent(e),style:wl(_,{x:R[0],y:R[1],fill:_.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:b.formattedLabel,align:L,verticalAlign:q})});if(n.add(Y),y){var ae=t_.makeAxisEventDataBase(e);ae.targetType="axisLabel",ae.value=b.rawLabel,Ai(Y).eventData=ae}},this)},splitLine:function(n,e,t,r,i,u){var l=e.getModel("splitLine"),f=l.getModel("lineStyle"),h=f.get("color"),g=0;h=h instanceof Array?h:[h];for(var y=[],b=0;b<r.length;b++){var S=g++%h.length;y[S]=y[S]||[],y[S].push(new Od({shape:YF(t,u,r[b].coord)}))}for(var b=0;b<y.length;b++)n.add($m(y[b],{style:Co({stroke:h[b%h.length]},f.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,r,i,u){if(i.length){for(var l=e.getModel("minorSplitLine"),f=l.getModel("lineStyle"),h=[],g=0;g<i.length;g++)for(var y=0;y<i[g].length;y++)h.push(new Od({shape:YF(t,u,i[g][y].coord)}));n.add($m(h,{style:f.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,r,i,u){if(r.length){var l=e.getModel("splitArea"),f=l.getModel("areaStyle"),h=f.get("color"),g=0;h=h instanceof Array?h:[h];for(var y=[],b=Math.PI/180,S=-r[0].coord*b,_=Math.min(u[0],u[1]),k=Math.max(u[0],u[1]),A=e.get("clockwise"),R=1,I=r.length;R<=I;R++){var z=R===I?r[0].coord:r[R].coord,L=g++%h.length;y[L]=y[L]||[],y[L].push(new _y({shape:{cx:t.cx,cy:t.cy,r0:_,r:k,startAngle:S,endAngle:-z*b,clockwise:A},silent:!0})),S=-z*b}for(var R=0;R<y.length;R++)n.add($m(y[R],{style:Co({fill:h[R%h.length]},f.getAreaStyle()),silent:!0}))}}};const KWe=XWe;var JWe=["axisLine","axisTickLabel","axisName"],QWe=["splitLine","splitArea","minorSplitLine"],ZWe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,r){if(this.group.removeAll(),!!t.get("show")){var i=this._axisGroup,u=this._axisGroup=new hi;this.group.add(u);var l=t.axis,f=l.polar,h=f.getAngleAxis(),g=l.getTicksCoords(),y=l.getMinorTicksCoords(),b=h.getExtent()[0],S=l.getExtent(),_=tqe(f,t,b),k=new t_(t,_);Te(JWe,k.add,k),u.add(k.getGroup()),s9(i,u,t),Te(QWe,function(A){t.get([A,"show"])&&!l.scale.isBlank()&&eqe[A](this.group,t,f,b,S,g,y)},this)}},e.type="radiusAxis",e}(UL),eqe={splitLine:function(n,e,t,r,i,u){var l=e.getModel("splitLine"),f=l.getModel("lineStyle"),h=f.get("color"),g=0;h=h instanceof Array?h:[h];for(var y=[],b=0;b<u.length;b++){var S=g++%h.length;y[S]=y[S]||[],y[S].push(new Av({shape:{cx:t.cx,cy:t.cy,r:Math.max(u[b].coord,0)}}))}for(var b=0;b<y.length;b++)n.add($m(y[b],{style:Co({stroke:h[b%h.length],fill:null},f.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,r,i,u,l){if(l.length){for(var f=e.getModel("minorSplitLine"),h=f.getModel("lineStyle"),g=[],y=0;y<l.length;y++)for(var b=0;b<l[y].length;b++)g.push(new Av({shape:{cx:t.cx,cy:t.cy,r:l[y][b].coord}}));n.add($m(g,{style:Co({fill:null},h.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,r,i,u){if(u.length){var l=e.getModel("splitArea"),f=l.getModel("areaStyle"),h=f.get("color"),g=0;h=h instanceof Array?h:[h];for(var y=[],b=u[0].coord,S=1;S<u.length;S++){var _=g++%h.length;y[_]=y[_]||[],y[_].push(new _y({shape:{cx:t.cx,cy:t.cy,r0:b,r:u[S].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),b=u[S].coord}for(var S=0;S<y.length;S++)n.add($m(y[S],{style:Co({fill:h[S%h.length]},f.getAreaStyle()),silent:!0}))}}};function tqe(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}const nqe=ZWe;function bye(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function xye(n,e){return e.dim+n.model.componentIndex}function rqe(n,e,t){var r={},i=oqe(Ls(e.getSeriesByType(n),function(u){return!e.isSeriesFiltered(u)&&u.coordinateSystem&&u.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(u){if(u.coordinateSystem.type==="polar"){var l=u.getData(),f=u.coordinateSystem,h=f.getBaseAxis(),g=xye(f,h),y=bye(u),b=i[g][y],S=b.offset,_=b.width,k=f.getOtherAxis(h),A=u.coordinateSystem.cx,R=u.coordinateSystem.cy,I=u.get("barMinHeight")||0,z=u.get("barMinAngle")||0;r[y]=r[y]||[];for(var L=l.mapDimension(k.dim),q=l.mapDimension(h.dim),X=Z2(l,L),Y=h.dim!=="radius"||!u.get("roundCap",!0),ae=k.dataToCoord(0),te=0,ie=l.count();te<ie;te++){var le=l.get(L,te),ce=l.get(q,te),ne=le>=0?"p":"n",Q=ae;X&&(r[y][ce]||(r[y][ce]={p:ae,n:ae}),Q=r[y][ce][ne]);var Ce=void 0,ze=void 0,ke=void 0,St=void 0;if(k.dim==="radius"){var tt=k.dataToCoord(le)-ae,G=h.dataToCoord(ce);Math.abs(tt)<I&&(tt=(tt<0?-1:1)*I),Ce=Q,ze=Q+tt,ke=G-S,St=ke-_,X&&(r[y][ce][ne]=ze)}else{var We=k.dataToCoord(le,Y)-ae,Ge=h.dataToCoord(ce);Math.abs(We)<z&&(We=(We<0?-1:1)*z),Ce=Ge+S,ze=Ce+_,ke=Q,St=Q+We,X&&(r[y][ce][ne]=St)}l.setItemLayout(te,{cx:A,cy:R,r0:Ce,r:ze,startAngle:-ke*Math.PI/180,endAngle:-St*Math.PI/180,clockwise:ke>=St})}}})}function oqe(n){var e={};Te(n,function(r,i){var u=r.getData(),l=r.coordinateSystem,f=l.getBaseAxis(),h=xye(l,f),g=f.getExtent(),y=f.type==="category"?f.getBandWidth():Math.abs(g[1]-g[0])/u.count(),b=e[h]||{bandWidth:y,remainedWidth:y,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},S=b.stacks;e[h]=b;var _=bye(r);S[_]||b.autoWidthCount++,S[_]=S[_]||{width:0,maxWidth:0};var k=Xo(r.get("barWidth"),y),A=Xo(r.get("barMaxWidth"),y),R=r.get("barGap"),I=r.get("barCategoryGap");k&&!S[_].width&&(k=Math.min(b.remainedWidth,k),S[_].width=k,b.remainedWidth-=k),A&&(S[_].maxWidth=A),R!=null&&(b.gap=R),I!=null&&(b.categoryGap=I)});var t={};return Te(e,function(r,i){t[i]={};var u=r.stacks,l=r.bandWidth,f=Xo(r.categoryGap,l),h=Xo(r.gap,1),g=r.remainedWidth,y=r.autoWidthCount,b=(g-f)/(y+(y-1)*h);b=Math.max(b,0),Te(u,function(A,R){var I=A.maxWidth;I&&I<b&&(I=Math.min(I,g),A.width&&(I=Math.min(I,A.width)),g-=I,A.width=I,y--)}),b=(g-f)/(y+(y-1)*h),b=Math.max(b,0);var S=0,_;Te(u,function(A,R){A.width||(A.width=b),_=A,S+=A.width*(1+h)}),_&&(S-=_.width*h);var k=-S/2;Te(u,function(A,R){t[i][R]=t[i][R]||{offset:k,width:A.width},k+=A.width*(1+h)})}),t}var iqe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},aqe={splitNumber:5},uqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(zs);function sqe(n){Rc(yne),UL.registerAxisPointerClass("PolarAxisPointer",IWe),n.registerCoordinateSystem("polar",$We),n.registerComponentModel(PWe),n.registerComponentView(uqe),hL(n,"angle",NWe,iqe),hL(n,"radius",LWe,aqe),n.registerComponentView(KWe),n.registerComponentView(nqe),n.registerLayout(ji(rqe,"bar"))}var lqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r,i){var u=g5(t);n.prototype.init.apply(this,arguments),dce(t,u)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),dce(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Vi);function dce(n,e){var t=n.cellSize,r;sr(t)?r=t:r=n.cellSize=[t,t],r.length===1&&(r[1]=r[0]);var i=br([0,1],function(u){return GBe(e,u)&&(r[u]="auto"),r[u]!=null&&r[u]!=="auto"});Q2(n,e,{type:"box",ignoreSize:i})}const cqe=lqe;var fqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var u=this.group;u.removeAll();var l=t.coordinateSystem,f=l.getRangeInfo(),h=l.getOrient(),g=r.getLocaleModel();this._renderDayRect(t,f,u),this._renderLines(t,f,h,u),this._renderYearText(t,f,h,u),this._renderMonthText(t,g,h,u),this._renderWeekText(t,g,f,h,u)},e.prototype._renderDayRect=function(t,r,i){for(var u=t.coordinateSystem,l=t.getModel("itemStyle").getItemStyle(),f=u.getCellWidth(),h=u.getCellHeight(),g=r.start.time;g<=r.end.time;g=u.getNextNDay(g,1).time){var y=u.dataToRect([g],!1).tl,b=new va({shape:{x:y[0],y:y[1],width:f,height:h},cursor:"default",style:l});i.add(b)}},e.prototype._renderLines=function(t,r,i,u){var l=this,f=t.coordinateSystem,h=t.getModel(["splitLine","lineStyle"]).getLineStyle(),g=t.get(["splitLine","show"]),y=h.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var b=r.start,S=0;b.time<=r.end.time;S++){k(b.formatedDate),S===0&&(b=f.getDateInfo(r.start.y+"-"+r.start.m));var _=b.date;_.setMonth(_.getMonth()+1),b=f.getDateInfo(_)}k(f.getNextNDay(r.end.time,1).formatedDate);function k(A){l._firstDayOfMonth.push(f.getDateInfo(A)),l._firstDayPoints.push(f.dataToRect([A],!1).tl);var R=l._getLinePointsOfOneWeek(t,A,i);l._tlpoints.push(R[0]),l._blpoints.push(R[R.length-1]),g&&l._drawSplitline(R,h,u)}g&&this._drawSplitline(l._getEdgesPoints(l._tlpoints,y,i),h,u),g&&this._drawSplitline(l._getEdgesPoints(l._blpoints,y,i),h,u)},e.prototype._getEdgesPoints=function(t,r,i){var u=[t[0].slice(),t[t.length-1].slice()],l=i==="horizontal"?0:1;return u[0][l]=u[0][l]-r/2,u[1][l]=u[1][l]+r/2,u},e.prototype._drawSplitline=function(t,r,i){var u=new tg({z2:20,shape:{points:t},style:r});i.add(u)},e.prototype._getLinePointsOfOneWeek=function(t,r,i){for(var u=t.coordinateSystem,l=u.getDateInfo(r),f=[],h=0;h<7;h++){var g=u.getNextNDay(l.time,h),y=u.dataToRect([g.time],!1);f[2*g.day]=y.tl,f[2*g.day+1]=y[i==="horizontal"?"bl":"tr"]}return f},e.prototype._formatterLabel=function(t,r){return Nr(t)&&t?WBe(t,r):Eo(t)?t(r):r.nameMap},e.prototype._yearTextPositionControl=function(t,r,i,u,l){var f=r[0],h=r[1],g=["center","bottom"];u==="bottom"?(h+=l,g=["center","top"]):u==="left"?f-=l:u==="right"?(f+=l,g=["center","top"]):h-=l;var y=0;return(u==="left"||u==="right")&&(y=Math.PI/2),{rotation:y,x:f,y:h,style:{align:g[0],verticalAlign:g[1]}}},e.prototype._renderYearText=function(t,r,i,u){var l=t.getModel("yearLabel");if(l.get("show")){var f=l.get("margin"),h=l.get("position");h||(h=i!=="horizontal"?"top":"left");var g=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],y=(g[0][0]+g[1][0])/2,b=(g[0][1]+g[1][1])/2,S=i==="horizontal"?0:1,_={top:[y,g[S][1]],bottom:[y,g[1-S][1]],left:[g[1-S][0],b],right:[g[S][0],b]},k=r.start.y;+r.end.y>+r.start.y&&(k=k+"-"+r.end.y);var A=l.get("formatter"),R={start:r.start.y,end:r.end.y,nameMap:k},I=this._formatterLabel(A,R),z=new ya({z2:30,style:wl(l,{text:I})});z.attr(this._yearTextPositionControl(z,_[h],i,h,f)),u.add(z)}},e.prototype._monthTextPositionControl=function(t,r,i,u,l){var f="left",h="top",g=t[0],y=t[1];return i==="horizontal"?(y=y+l,r&&(f="center"),u==="start"&&(h="bottom")):(g=g+l,r&&(h="middle"),u==="start"&&(f="right")),{x:g,y,align:f,verticalAlign:h}},e.prototype._renderMonthText=function(t,r,i,u){var l=t.getModel("monthLabel");if(l.get("show")){var f=l.get("nameMap"),h=l.get("margin"),g=l.get("position"),y=l.get("align"),b=[this._tlpoints,this._blpoints];(!f||Nr(f))&&(f&&(r=nZ(f)||r),f=r.get(["time","monthAbbr"])||[]);var S=g==="start"?0:1,_=i==="horizontal"?0:1;h=g==="start"?-h:h;for(var k=y==="center",A=0;A<b[S].length-1;A++){var R=b[S][A].slice(),I=this._firstDayOfMonth[A];if(k){var z=this._firstDayPoints[A];R[_]=(z[_]+b[0][A+1][_])/2}var L=l.get("formatter"),q=f[+I.m-1],X={yyyy:I.y,yy:(I.y+"").slice(2),MM:I.m,M:+I.m,nameMap:q},Y=this._formatterLabel(L,X),ae=new ya({z2:30,style:Gn(wl(l,{text:Y}),this._monthTextPositionControl(R,k,i,g,h))});u.add(ae)}}},e.prototype._weekTextPositionControl=function(t,r,i,u,l){var f="center",h="middle",g=t[0],y=t[1],b=i==="start";return r==="horizontal"?(g=g+u+(b?1:-1)*l[0]/2,f=b?"right":"left"):(y=y+u+(b?1:-1)*l[1]/2,h=b?"bottom":"top"),{x:g,y,align:f,verticalAlign:h}},e.prototype._renderWeekText=function(t,r,i,u,l){var f=t.getModel("dayLabel");if(f.get("show")){var h=t.coordinateSystem,g=f.get("position"),y=f.get("nameMap"),b=f.get("margin"),S=h.getFirstDayOfWeek();if(!y||Nr(y)){y&&(r=nZ(y)||r);var _=r.get(["time","dayOfWeekShort"]);y=_||br(r.get(["time","dayOfWeekAbbr"]),function(X){return X[0]})}var k=h.getNextNDay(i.end.time,7-i.lweek).time,A=[h.getCellWidth(),h.getCellHeight()];b=Xo(b,Math.min(A[1],A[0])),g==="start"&&(k=h.getNextNDay(i.start.time,-(7+i.fweek)).time,b=-b);for(var R=0;R<7;R++){var I=h.getNextNDay(k,R),z=h.dataToRect([I.time],!1).center,L=R;L=Math.abs((R+S)%7);var q=new ya({z2:30,style:Gn(wl(f,{text:y[L]}),this._weekTextPositionControl(z,u,g,b,A))});l.add(q)}}},e.type="calendar",e}(zs);const dqe=fqe;var zJ=864e5,hqe=function(){function n(e,t,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){e=Ep(e);var t=e.getFullYear(),r=e.getMonth()+1,i=r<10?"0"+r:""+r,u=e.getDate(),l=u<10?"0"+u:""+u,f=e.getDay();return f=Math.abs((f+7-this.getFirstDayOfWeek())%7),{y:t+"",m:i,d:l,day:f,time:e.getTime(),formatedDate:t+"-"+i+"-"+l,date:e}},n.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],u=this._model.getCellSize().slice(),l=this._model.getBoxLayoutParams(),f=this._orient==="horizontal"?[r,7]:[7,r];Te([0,1],function(b){y(u,b)&&(l[i[b]]=u[b]*f[b])});var h={width:t.getWidth(),height:t.getHeight()},g=this._rect=Rd(l,h);Te([0,1],function(b){y(u,b)||(u[b]=g[i[b]]/f[b])});function y(b,S){return b[S]!=null&&b[S]!=="auto"}this._sw=u[0],this._sh=u[1]},n.prototype.dataToPoint=function(e,t){sr(e)&&(e=e[0]),t==null&&(t=!0);var r=this.getDateInfo(e),i=this._rangeInfo,u=r.formatedDate;if(t&&!(r.time>=i.start.time&&r.time<i.end.time+zJ))return[NaN,NaN];var l=r.day,f=this._getRangeInfo([i.start.time,u]).nthWeek;return this._orient==="vertical"?[this._rect.x+l*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var r=this.dataToPoint(e,t);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,r=Math.floor((e[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,t-1,i):this._getDateByWeeksAndDay(t,r-1,i)},n.prototype.convertToPixel=function(e,t,r){var i=hce(t);return i===this?i.dataToPoint(r):null},n.prototype.convertFromPixel=function(e,t,r){var i=hce(t);return i===this?i.pointToData(r):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(sr(e)&&e.length===1&&(e=e[0]),sr(e))t=e;else{var r=e.toString();if(/^\d{4}$/.test(r)&&(t=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),u=i.date;u.setMonth(u.getMonth()+1);var l=this.getNextNDay(u,-1);t=[i.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(t=[r,r])}if(!t)return e;var f=this._getRangeInfo(t);return f.start.time>f.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],r;t[0].time>t[1].time&&(r=!0,t.reverse());var i=Math.floor(t[1].time/zJ)-Math.floor(t[0].time/zJ)+1,u=new Date(t[0].time),l=u.getDate(),f=t[1].date.getDate();u.setDate(l+i-1);var h=u.getDate();if(h!==f)for(var g=u.getTime()-t[1].time>0?1:-1;(h=u.getDate())!==f&&(u.getTime()-t[1].time)*g>0;)i-=g,u.setDate(h-g);var y=Math.floor((i+t[0].day+6)/7),b=r?-y+1:y-1;return r&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:y,nthWeek:b,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,r){var i=this._getRangeInfo(r);if(e>i.weeks||e===0&&t<i.fweek||e===i.weeks&&t>i.lweek)return null;var u=(e-1)*7-i.fweek+t,l=new Date(i.start.time);return l.setDate(+i.start.d+u),this.getDateInfo(l)},n.create=function(e,t){var r=[];return e.eachComponent("calendar",function(i){var u=new n(i);r.push(u),i.coordinateSystem=u}),e.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},n.dimensions=["time","value"],n}();function hce(n){var e=n.calendarModel,t=n.seriesModel,r=e?e.coordinateSystem:t?t.coordinateSystem:null;return r}const pqe=hqe;function mqe(n){n.registerComponentModel(cqe),n.registerComponentView(dqe),n.registerCoordinateSystem("calendar",pqe)}function gqe(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var r=e.parentOption;r?e.parentId=r.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function pce(n,e){var t;return Te(e,function(r){n[r]!=null&&n[r]!=="auto"&&(t=!0)}),t}function vqe(n,e,t){var r=Gn({},t),i=n[e],u=t.$action||"merge";u==="merge"?i?(Vo(i,r,!0),Q2(i,r,{ignoreSize:!0}),rge(t,i),JF(t,i),JF(t,i,"shape"),JF(t,i,"style"),JF(t,i,"extra"),t.clipPath=i.clipPath):n[e]=r:u==="replace"?n[e]=r:u==="remove"&&i&&(n[e]=null)}var wye=["transition","enterFrom","leaveTo"],yqe=wye.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function JF(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),!(!n||!e))for(var r=t?wye:yqe,i=0;i<r.length;i++){var u=r[i];n[u]==null&&e[u]!=null&&(n[u]=e[u])}}function bqe(n,e){if(n&&(n.hv=e.hv=[pce(e,["left","right"]),pce(e,["top","bottom"])],n.type==="group")){var t=n,r=e;t.width==null&&(t.width=r.width=0),t.height==null&&(t.height=r.height=0)}}var xqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,r){var i=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,r),this.option.elements=i},e.prototype.optionUpdated=function(t,r){var i=this.option,u=(r?i:t).elements,l=i.elements=r?[]:i.elements,f=[];this._flatten(u,f,null);var h=Xpe(l,f,"normalMerge"),g=this._elOptionsToUpdate=[];Te(h,function(y,b){var S=y.newOption;S&&(g.push(S),gqe(y,S),vqe(l,b,S),bqe(l[b],S))},this),i.elements=Ls(l,function(y){return y&&delete y.$action,y!=null})},e.prototype._flatten=function(t,r,i){Te(t,function(u){if(u){i&&(u.parentOption=i),r.push(u);var l=u.children;l&&l.length&&this._flatten(l,r,u),delete u.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(Vi),mce={path:null,compoundPath:null,group:hi,image:Ip,text:ya},jm=lu(),wqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=to()},e.prototype.render=function(t,r,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,i)},e.prototype._updateElements=function(t){var r=t.useElOptionsToUpdate();if(r){var i=this._elMap,u=this.group,l=t.get("z"),f=t.get("zlevel");Te(r,function(h){var g=qf(h.id,null),y=g!=null?i.get(g):null,b=qf(h.parentId,null),S=b!=null?i.get(b):u,_=h.type,k=h.style;_==="text"&&k&&h.hv&&h.hv[1]&&(k.textVerticalAlign=k.textBaseline=k.verticalAlign=k.align=null);var A=h.textContent,R=h.textConfig;if(k&&WUe(k,_,!!R,!!A)){var I=qUe(k,_,!0);!R&&I.textConfig&&(R=h.textConfig=I.textConfig),!A&&I.textContent&&(A=I.textContent)}var z=_qe(h),L=h.$action||"merge",q=L==="merge",X=L==="replace";if(q){var Y=!y,ae=y;Y?ae=gce(g,S,h.type,i):(ae&&(jm(ae).isNew=!1),rWe(ae)),ae&&(NJ(ae,z,t,{isInit:Y}),vce(ae,h,l,f))}else if(X){kH(y,h,i,t);var te=gce(g,S,h.type,i);te&&(NJ(te,z,t,{isInit:!0}),vce(te,h,l,f))}else L==="remove"&&(uye(y,h),kH(y,h,i,t));var ie=i.get(g);if(ie&&A)if(q){var le=ie.getTextContent();le?le.attr(A):ie.setTextContent(new ya(A))}else X&&ie.setTextContent(new ya(A));if(ie){var ce=h.clipPath;if(ce){var ne=ce.type,Q=void 0,Y=!1;if(q){var Ce=ie.getClipPath();Y=!Ce||jm(Ce).type!==ne,Q=Y?NZ(ne):Ce}else X&&(Y=!0,Q=NZ(ne));ie.setClipPath(Q),NJ(Q,ce,t,{isInit:Y}),RZ(Q,ce.keyframeAnimation,t)}var ze=jm(ie);ie.setTextConfig(R),ze.option=h,Sqe(ie,t,h),h5({el:ie,componentModel:t,itemName:ie.name,itemTooltipOption:h.tooltip}),RZ(ie,h.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,r){for(var i=t.option.elements,u=this.group,l=this._elMap,f=r.getWidth(),h=r.getHeight(),g=["x","y"],y=0;y<i.length;y++){var b=i[y],S=qf(b.id,null),_=S!=null?l.get(S):null;if(!(!_||!_.isGroup)){var k=_.parent,A=k===u,R=jm(_),I=jm(k);R.width=Xo(R.option.width,A?f:I.width)||0,R.height=Xo(R.option.height,A?h:I.height)||0}}for(var y=i.length-1;y>=0;y--){var b=i[y],S=qf(b.id,null),_=S!=null?l.get(S):null;if(_){var k=_.parent,I=jm(k),z=k===u?{width:f,height:h}:{width:I.width,height:I.height},L={},q=Mte(_,b,z,null,{hv:b.hv,boundingMode:b.bounding},L);if(!jm(_).isNew&&q){for(var X=b.transition,Y={},ae=0;ae<g.length;ae++){var te=g[ae],ie=L[te];X&&(bM(X)||Di(X,te)>=0)?Y[te]=ie:_[te]=ie}tl(_,Y,t,0)}else _.attr(L)}}},e.prototype._clear=function(){var t=this,r=this._elMap;r.each(function(i){kH(i,jm(i).option,r,t._lastGraphicModel)}),this._elMap=to()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(zs);function NZ(n){var e=Zo(mce,n)?mce[n]:dte(n),t=new e({});return jm(t).type=n,t}function gce(n,e,t,r){var i=NZ(t);return e.add(i),r.set(n,i),jm(i).id=n,jm(i).isNew=!0,i}function kH(n,e,t,r){var i=n&&n.parent;i&&(n.type==="group"&&n.traverse(function(u){kH(u,e,t,r)}),$Ue(n,e,r),t.removeKey(jm(n).id))}function vce(n,e,t,r){n.isGroup||Te([["cursor",Lb.prototype.cursor],["zlevel",r||0],["z",t||0],["z2",0]],function(i){var u=i[0];Zo(e,u)?n[u]=Gi(e[u],i[1]):n[u]==null&&(n[u]=i[1])}),Te(ga(e),function(i){if(i.indexOf("on")===0){var u=e[i];n[i]=Eo(u)?u:null}}),Zo(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}function _qe(n){return n=Gn({},n),Te(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(nge),function(e){delete n[e]}),n}function Sqe(n,e,t){var r=Ai(n).eventData;!n.silent&&!n.ignore&&!r&&(r=Ai(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),r&&(r.info=t.info)}function Cqe(n){n.registerComponentModel(xqe),n.registerComponentView(wqe),n.registerPreprocessor(function(e){var t=e.graphic;sr(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var yce=["x","y","radius","angle","single"],Tqe=["cartesian2d","polar","singleAxis"];function Mqe(n){var e=n.get("coordinateSystem");return Di(Tqe,e)>=0}function V2(n){return n+"Axis"}function kqe(n,e){var t=to(),r=[],i=to();n.eachComponent({mainType:"dataZoom",query:e},function(y){i.get(y.uid)||f(y)});var u;do u=!1,n.eachComponent("dataZoom",l);while(u);function l(y){!i.get(y.uid)&&h(y)&&(f(y),u=!0)}function f(y){i.set(y.uid,!0),r.push(y),g(y)}function h(y){var b=!1;return y.eachTargetAxis(function(S,_){var k=t.get(S);k&&k[_]&&(b=!0)}),b}function g(y){y.eachTargetAxis(function(b,S){(t.get(b)||t.set(b,[]))[S]=!0})}return r}function _ye(n){var e=n.ecModel,t={infoList:[],infoMap:to()};return n.eachTargetAxis(function(r,i){var u=e.getComponent(V2(r),i);if(u){var l=u.getCoordSysModel();if(l){var f=l.uid,h=t.infoMap.get(f);h||(h={model:l,axisModels:[]},t.infoList.push(h),t.infoMap.set(f,h)),h.axisModels.push(u)}}}),t}var FJ=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),Dqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,r,i){var u=bce(t);this.settledOption=u,this.mergeDefaultAndTheme(t,i),this._doInit(u)},e.prototype.mergeOption=function(t){var r=bce(t);Vo(this.option,t,!0),Vo(this.settledOption,r,!0),this._doInit(r)},e.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var i=this.settledOption;Te([["start","startValue"],["end","endValue"]],function(u,l){this._rangePropMode[l]==="value"&&(r[u[0]]=i[u[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=to(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(u){u.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return Te(yce,function(i){var u=this.getReferringComponents(V2(i),hLe);if(u.specified){r=!0;var l=new FJ;Te(u.models,function(f){l.add(f.componentIndex)}),t.set(i,l)}},this),r},e.prototype._fillAutoTargetAxisByOrient=function(t,r){var i=this.ecModel,u=!0;if(u){var l=r==="vertical"?"y":"x",f=i.findComponents({mainType:l+"Axis"});h(f,l)}if(u){var f=i.findComponents({mainType:"singleAxis",filter:function(y){return y.get("orient",!0)===r}});h(f,"single")}function h(g,y){var b=g[0];if(b){var S=new FJ;if(S.add(b.componentIndex),t.set(y,S),u=!1,y==="x"||y==="y"){var _=b.getReferringComponents("grid",mc).models[0];_&&Te(g,function(k){b.componentIndex!==k.componentIndex&&_===k.getReferringComponents("grid",mc).models[0]&&S.add(k.componentIndex)})}}}u&&Te(yce,function(g){if(u){var y=i.findComponents({mainType:V2(g),filter:function(S){return S.get("type",!0)==="category"}});if(y[0]){var b=new FJ;b.add(y[0].componentIndex),t.set(g,b),u=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var r=this._rangePropMode,i=this.get("rangeMode");Te([["start","startValue"],["end","endValue"]],function(u,l){var f=t[u[0]]!=null,h=t[u[1]]!=null;f&&!h?r[l]="percent":!f&&h?r[l]="value":i?r[l]=i[l]:f&&(r[l]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,i){t==null&&(t=this.ecModel.getComponent(V2(r),i))},this),t},e.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(i,u){Te(i.indexList,function(l){t.call(r,u,l)})})},e.prototype.getAxisProxy=function(t,r){var i=this.getAxisModel(t,r);if(i)return i.__dzAxisProxy},e.prototype.getAxisModel=function(t,r){var i=this._targetAxisInfoMap.get(t);if(i&&i.indexMap[r])return this.ecModel.getComponent(V2(t),r)},e.prototype.setRawRange=function(t){var r=this.option,i=this.settledOption;Te([["start","startValue"],["end","endValue"]],function(u){(t[u[0]]!=null||t[u[1]]!=null)&&(r[u[0]]=i[u[0]]=t[u[0]],r[u[1]]=i[u[1]]=t[u[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var r=this.option;Te(["start","startValue","end","endValue"],function(i){r[i]=t[i]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,r){if(t==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(t,r).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),u=0;u<i.length;u++)for(var l=i[u],f=this._targetAxisInfoMap.get(l),h=0;h<f.indexList.length;h++){var g=this.getAxisProxy(l,f.indexList[h]);if(g.hostedBy(this))return g;r||(r=g)}return r},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Vi);function bce(n){var e={};return Te(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}const vL=Dqe;var Aqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(vL);const Eqe=Aqe;var Oqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,u){this.dataZoomModel=t,this.ecModel=r,this.api=i},e.type="dataZoom",e}(zs);const _ne=Oqe;var Iqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(_ne);const Rqe=Iqe;var b3=Te,xce=uy,Pqe=function(){function n(e,t,r,i){this._dimName=e,this._axisIndex=t,this.ecModel=i,this._dataZoomModel=r}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(Mqe(t)){var r=V2(this._dimName),i=t.getReferringComponents(r,mc).models[0];i&&this._axisIndex===i.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return vo(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,u=this._dataZoomModel.getRangePropMode(),l=[0,100],f=[],h=[],g;b3(["start","end"],function(S,_){var k=e[S],A=e[S+"Value"];u[_]==="percent"?(k==null&&(k=l[_]),A=i.parse(rs(k,l,t))):(g=!0,A=A==null?t[_]:i.parse(A),k=rs(A,t,l)),h[_]=A==null||isNaN(A)?t[_]:A,f[_]=k==null||isNaN(k)?l[_]:k}),xce(h),xce(f);var y=this._minMaxSpan;g?b(h,f,t,l,!1):b(f,h,l,t,!0);function b(S,_,k,A,R){var I=R?"Span":"ValueSpan";PM(0,S,k,"all",y["min"+I],y["max"+I]);for(var z=0;z<2;z++)_[z]=rs(S[z],k,A,!0),R&&(_[z]=i.parse(_[z]))}return{valueWindow:h,percentWindow:f}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=Nqe(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(e.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),u=e.get("filterMode"),l=this._valueWindow;if(u==="none")return;b3(i,function(h){var g=h.getData(),y=g.mapDimensionsAll(r);if(y.length){if(u==="weakFilter"){var b=g.getStore(),S=br(y,function(_){return g.getDimensionIndex(_)},g);g.filterSelf(function(_){for(var k,A,R,I=0;I<y.length;I++){var z=b.get(S[I],_),L=!isNaN(z),q=z<l[0],X=z>l[1];if(L&&!q&&!X)return!0;L&&(R=!0),q&&(k=!0),X&&(A=!0)}return R&&k&&A})}else b3(y,function(_){if(u==="empty")h.setData(g=g.map(_,function(A){return f(A)?A:NaN}));else{var k={};k[_]=l,g.selectRange(k)}});b3(y,function(_){g.setApproximateExtent(l,_)})}});function f(h){return h>=l[0]&&h<=l[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;b3(["min","max"],function(i){var u=t.get(i+"Span"),l=t.get(i+"ValueSpan");l!=null&&(l=this.getAxisModel().axis.scale.parse(l)),l!=null?u=rs(r[0]+l,r,[0,100],!0):u!=null&&(l=rs(u,[0,100],r,!0)-r[0]),e[i+"Span"]=u,e[i+"ValueSpan"]=l},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var i=Xee(r,[0,500]);i=Math.min(i,20);var u=e.axis.scale.rawExtentInfo;t[0]!==0&&u.setDeterminedMinMax("min",+r[0].toFixed(i)),t[1]!==100&&u.setDeterminedMinMax("max",+r[1].toFixed(i)),u.freeze()}},n}();function Nqe(n,e,t){var r=[1/0,-1/0];b3(t,function(l){jFe(r,l.getData(),e)});var i=n.getAxisModel(),u=zve(i.axis.scale,i,r).calculate();return[u.min,u.max]}const Lqe=Pqe;var Bqe={getTargetSeries:function(n){function e(i){n.eachComponent("dataZoom",function(u){u.eachTargetAxis(function(l,f){var h=n.getComponent(V2(l),f);i(l,f,h,u)})})}e(function(i,u,l,f){l.__dzAxisProxy=null});var t=[];e(function(i,u,l,f){l.__dzAxisProxy||(l.__dzAxisProxy=new Lqe(i,u,f,n),t.push(l.__dzAxisProxy))});var r=to();return Te(t,function(i){Te(i.getTargetSeriesModels(),function(u){r.set(u.uid,u)})}),r},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).reset(t)}),t.eachTargetAxis(function(r,i){t.getAxisProxy(r,i).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),u=r.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:u[0],endValue:u[1]})}})}};const zqe=Bqe;function Fqe(n){n.registerAction("dataZoom",function(e,t){var r=kqe(t,e);Te(r,function(i){i.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var wce=!1;function Sne(n){wce||(wce=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,zqe),Fqe(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Hqe(n){n.registerComponentModel(Eqe),n.registerComponentView(Rqe),Sne(n)}var _v=function(){function n(){}return n}(),Sye={};function ZP(n,e){Sye[n]=e}function Cye(n){return Sye[n]}var Vqe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;Te(this.option.feature,function(r,i){var u=Cye(i);u&&(u.getDefaultOption&&(u.defaultOption=u.getDefaultOption(t)),Vo(r,u.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Vi);const jqe=Vqe;function Uqe(n,e,t){var r=e.getBoxLayoutParams(),i=e.get("padding"),u={width:t.getWidth(),height:t.getHeight()},l=Rd(r,u,i);mM(e.get("orient"),n,e.get("itemGap"),l.width,l.height),Mte(n,r,u,i)}function Tye(n,e){var t=m5(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),n=new va({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),n}var Wqe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,u){var l=this.group;if(l.removeAll(),!t.get("show"))return;var f=+t.get("itemSize"),h=t.get("orient")==="vertical",g=t.get("feature")||{},y=this._features||(this._features={}),b=[];Te(g,function(k,A){b.push(A)}),new Gte(this._featureNames||[],b).add(S).update(S).remove(ji(S,null)).execute(),this._featureNames=b;function S(k,A){var R=b[k],I=b[A],z=g[R],L=new xs(z,t,t.ecModel),q;if(u&&u.newTitle!=null&&u.featureName===R&&(z.title=u.newTitle),R&&!I){if(qqe(R))q={onclick:L.option.onclick,featureName:R};else{var X=Cye(R);if(!X)return;q=new X}y[R]=q}else if(q=y[I],!q)return;q.uid=p5("toolbox-feature"),q.model=L,q.ecModel=r,q.api=i;var Y=q instanceof _v;if(!R&&I){Y&&q.dispose&&q.dispose(r,i);return}if(!L.get("show")||Y&&q.unusable){Y&&q.remove&&q.remove(r,i);return}_(L,q,R),L.setIconStatus=function(ae,te){var ie=this.option,le=this.iconPaths;ie.iconStatus=ie.iconStatus||{},ie.iconStatus[ae]=te,le[ae]&&(te==="emphasis"?X3:Y3)(le[ae])},q instanceof _v&&q.render&&q.render(L,r,i,u)}function _(k,A,R){var I=k.getModel("iconStyle"),z=k.getModel(["emphasis","iconStyle"]),L=A instanceof _v&&A.getIcons?A.getIcons():k.get("icon"),q=k.get("title")||{},X,Y;Nr(L)?(X={},X[R]=L):X=L,Nr(q)?(Y={},Y[R]=q):Y=q;var ae=k.iconPaths={};Te(X,function(te,ie){var le=d5(te,{},{x:-f/2,y:-f/2,width:f,height:f});le.setStyle(I.getItemStyle());var ce=le.ensureState("emphasis");ce.style=z.getItemStyle();var ne=new ya({style:{text:Y[ie],align:z.get("textAlign"),borderRadius:z.get("textBorderRadius"),padding:z.get("textPadding"),fill:null},ignore:!0});le.setTextContent(ne),h5({el:le,componentModel:t,itemName:ie,formatterParamsExtra:{title:Y[ie]}}),le.__title=Y[ie],le.on("mouseover",function(){var Q=z.getItemStyle(),Ce=h?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";ne.setStyle({fill:z.get("textFill")||Q.fill||Q.stroke||"#000",backgroundColor:z.get("textBackgroundColor")}),le.setTextConfig({position:z.get("textPosition")||Ce}),ne.ignore=!t.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){k.get(["iconStatus",ie])!=="emphasis"&&i.leaveEmphasis(this),ne.hide()}),(k.get(["iconStatus",ie])==="emphasis"?X3:Y3)(le),l.add(le),le.on("click",Ur(A.onclick,A,r,i,ie)),ae[ie]=le})}Uqe(l,t,i),l.add(Tye(l.getBoundingRect(),t)),h||l.eachChild(function(k){var A=k.__title,R=k.ensureState("emphasis"),I=R.textConfig||(R.textConfig={}),z=k.getTextContent(),L=z&&z.ensureState("emphasis");if(L&&!Eo(L)&&A){var q=L.style||(L.style={}),X=PL(A,ya.makeFont(q)),Y=k.x+l.x,ae=k.y+l.y+f,te=!1;ae+X.height>i.getHeight()&&(I.position="top",te=!0);var ie=te?-5-X.height:f+10;Y+X.width/2>i.getWidth()?(I.position=["100%",ie],q.align="right"):Y-X.width/2<0&&(I.position=[0,ie],q.align="left")}})},e.prototype.updateView=function(t,r,i,u){Te(this._features,function(l){l instanceof _v&&l.updateView&&l.updateView(l.model,r,i,u)})},e.prototype.remove=function(t,r){Te(this._features,function(i){i instanceof _v&&i.remove&&i.remove(t,r)}),this.group.removeAll()},e.prototype.dispose=function(t,r){Te(this._features,function(i){i instanceof _v&&i.dispose&&i.dispose(t,r)})},e.type="toolbox",e}(zs);function qqe(n){return n.indexOf("my")===0}const $qe=Wqe;var Gqe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){var i=this.model,u=i.get("name")||t.get("title.0.text")||"echarts",l=r.getZr().painter.getType()==="svg",f=l?"svg":i.get("type",!0)||"png",h=r.getConnectedDataURL({type:f,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),g=Li.browser;if(Eo(MouseEvent)&&(g.newEdge||!g.ie&&!g.edge)){var y=document.createElement("a");y.download=u+"."+f,y.target="_blank",y.href=h;var b=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});y.dispatchEvent(b)}else if(window.navigator.msSaveOrOpenBlob||l){var S=h.split(","),_=S[0].indexOf("base64")>-1,k=l?decodeURIComponent(S[1]):S[1];_&&(k=window.atob(k));var A=u+"."+f;if(window.navigator.msSaveOrOpenBlob){for(var R=k.length,I=new Uint8Array(R);R--;)I[R]=k.charCodeAt(R);var z=new Blob([I]);window.navigator.msSaveOrOpenBlob(z,A)}else{var L=document.createElement("iframe");document.body.appendChild(L);var q=L.contentWindow,X=q.document;X.open("image/svg+xml","replace"),X.write(k),X.close(),q.focus(),X.execCommand("SaveAs",!0,A),document.body.removeChild(L)}}else{var Y=i.get("lang"),ae='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(Y&&Y[0]||"")+'" /></body>',te=window.open();te.document.write(ae),te.document.title=u}},e.getDefaultOption=function(t){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},e}(_v);const Xqe=Gqe;var _ce="__ec_magicType_stack__",Yqe=[["line","bar"],["stack"]],Kqe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),i={};return Te(t.get("type"),function(u){r[u]&&(i[u]=r[u])}),i},e.getDefaultOption=function(t){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},e.prototype.onclick=function(t,r,i){var u=this.model,l=u.get(["seriesIndex",i]);if(Sce[i]){var f={series:[]},h=function(b){var S=b.subType,_=b.id,k=Sce[i](S,_,b,u);k&&(Co(k,b.option),f.series.push(k));var A=b.coordinateSystem;if(A&&A.type==="cartesian2d"&&(i==="line"||i==="bar")){var R=A.getAxesByScale("ordinal")[0];if(R){var I=R.dim,z=I+"Axis",L=b.getReferringComponents(z,mc).models[0],q=L.componentIndex;f[z]=f[z]||[];for(var X=0;X<=q;X++)f[z][q]=f[z][q]||{};f[z][q].boundaryGap=i==="bar"}}};Te(Yqe,function(b){Di(b,i)>=0&&Te(b,function(S){u.setIconStatus(S,"normal")})}),u.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:l==null?null:{seriesIndex:l}},h);var g,y=i;i==="stack"&&(g=Vo({stack:u.option.title.tiled,tiled:u.option.title.stack},u.option.title),u.get(["iconStatus",i])!=="emphasis"&&(y="tiled")),r.dispatchAction({type:"changeMagicType",currentType:y,newOption:f,newTitle:g,featureName:"magicType"})}},e}(_v),Sce={line:function(n,e,t,r){if(n==="bar")return Vo({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,e,t,r){if(n==="line")return Vo({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,e,t,r){var i=t.get("stack")===_ce;if(n==="line"||n==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),Vo({id:e,stack:i?"":_ce},r.get(["option","stack"])||{},!0)}};Ov({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});const Jqe=Kqe;var R9=new Array(60).join("-"),t5="	";function Qqe(n){var e={},t=[],r=[];return n.eachRawSeries(function(i){var u=i.coordinateSystem;if(u&&(u.type==="cartesian2d"||u.type==="polar")){var l=u.getBaseAxis();if(l.type==="category"){var f=l.dim+"_"+l.index;e[f]||(e[f]={categoryAxis:l,valueAxis:u.getOtherAxis(l),series:[]},r.push({axisDim:l.dim,axisIndex:l.index})),e[f].series.push(i)}else t.push(i)}else t.push(i)}),{seriesGroupByCategoryAxis:e,other:t,meta:r}}function Zqe(n){var e=[];return Te(n,function(t,r){var i=t.categoryAxis,u=t.valueAxis,l=u.dim,f=[" "].concat(br(t.series,function(_){return _.name})),h=[i.model.getCategories()];Te(t.series,function(_){var k=_.getRawData();h.push(_.getRawData().mapArray(k.mapDimension(l),function(A){return A}))});for(var g=[f.join(t5)],y=0;y<h[0].length;y++){for(var b=[],S=0;S<h.length;S++)b.push(h[S][y]);g.push(b.join(t5))}e.push(g.join(`
`))}),e.join(`

`+R9+`

`)}function e$e(n){return br(n,function(e){var t=e.getRawData(),r=[e.name],i=[];return t.each(t.dimensions,function(){for(var u=arguments.length,l=arguments[u-1],f=t.getName(l),h=0;h<u-1;h++)i[h]=arguments[h];r.push((f?f+t5:"")+i.join(t5))}),r.join(`
`)}).join(`

`+R9+`

`)}function t$e(n){var e=Qqe(n);return{value:Ls([Zqe(e.seriesGroupByCategoryAxis),e$e(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+R9+`

`),meta:e.meta}}function kV(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function n$e(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(t5)>=0)return!0}var LZ=new RegExp("["+t5+"]+","g");function r$e(n){for(var e=n.split(/\n+/g),t=kV(e.shift()).split(LZ),r=[],i=br(t,function(h){return{name:h,data:[]}}),u=0;u<e.length;u++){var l=kV(e[u]).split(LZ);r.push(l.shift());for(var f=0;f<l.length;f++)i[f]&&(i[f].data[u]=l[f])}return{series:i,categories:r}}function o$e(n){for(var e=n.split(/\n+/g),t=kV(e.shift()),r=[],i=0;i<e.length;i++){var u=kV(e[i]);if(u){var l=u.split(LZ),f="",h=void 0,g=!1;isNaN(l[0])?(g=!0,f=l[0],l=l.slice(1),r[i]={name:f,value:[]},h=r[i].value):h=r[i]=[];for(var y=0;y<l.length;y++)h.push(+l[y]);h.length===1&&(g?r[i].value=h[0]:r[i]=h[0])}}return{name:t,data:r}}function i$e(n,e){var t=n.split(new RegExp(`
*`+R9+`
*`,"g")),r={series:[]};return Te(t,function(i,u){if(n$e(i)){var l=r$e(i),f=e[u],h=f.axisDim+"Axis";f&&(r[h]=r[h]||[],r[h][f.axisIndex]={data:l.categories},r.series=r.series.concat(l.series))}else{var l=o$e(i);r.series.push(l)}}),r}var a$e=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),u=this.model;this._dom&&i.removeChild(this._dom);var l=document.createElement("div");l.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",l.style.backgroundColor=u.get("backgroundColor")||"#fff";var f=document.createElement("h4"),h=u.get("lang")||[];f.innerHTML=h[0]||u.get("title"),f.style.cssText="margin:10px 20px",f.style.color=u.get("textColor");var g=document.createElement("div"),y=document.createElement("textarea");g.style.cssText="overflow:auto";var b=u.get("optionToContent"),S=u.get("contentToOption"),_=t$e(t);if(Eo(b)){var k=b(r.getOption());Nr(k)?g.innerHTML=k:$3(k)&&g.appendChild(k)}else{y.readOnly=u.get("readOnly");var A=y.style;A.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",A.color=u.get("textColor"),A.borderColor=u.get("textareaBorderColor"),A.backgroundColor=u.get("textareaColor"),y.value=_.value,g.appendChild(y)}var R=_.meta,I=document.createElement("div");I.style.cssText="position:absolute;bottom:5px;left:0;right:0";var z="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",L=document.createElement("div"),q=document.createElement("div");z+=";background-color:"+u.get("buttonColor"),z+=";color:"+u.get("buttonTextColor");var X=this;function Y(){i.removeChild(l),X._dom=null}OQ(L,"click",Y),OQ(q,"click",function(){if(S==null&&b!=null||S!=null&&b==null){Y();return}var ae;try{Eo(S)?ae=S(g,r.getOption()):ae=i$e(y.value,R)}catch(te){throw Y(),new Error("Data view format error "+te)}ae&&r.dispatchAction({type:"changeDataView",newOption:ae}),Y()}),L.innerHTML=h[1],q.innerHTML=h[2],q.style.cssText=L.style.cssText=z,!u.get("readOnly")&&I.appendChild(q),I.appendChild(L),l.appendChild(f),l.appendChild(g),l.appendChild(I),g.style.height=i.clientHeight-80+"px",i.appendChild(l),this._dom=l},e.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,r){this.remove(t,r)},e.getDefaultOption=function(t){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},e}(_v);function u$e(n,e){return br(n,function(t,r){var i=e&&e[r];if(no(i)&&!sr(i)){var u=no(t)&&!sr(t);u||(t={value:t});var l=i.name!=null&&t.name==null;return t=Co(t,i),l&&delete t.name,t}else return t})}Ov({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];Te(n.newOption.series,function(r){var i=e.getSeriesByName(r.name)[0];if(!i)t.push(Gn({type:"scatter"},r));else{var u=i.get("data");t.push({name:r.name,data:u$e(r.data,u)})}}),e.mergeOption(Co({series:t},n.newOption))});const s$e=a$e;var Mye=Te,kye=lu();function l$e(n,e){var t=Cne(n);Mye(e,function(r,i){for(var u=t.length-1;u>=0;u--){var l=t[u];if(l[i])break}if(u<0){var f=n.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(f){var h=f.getPercentRange();t[0][i]={dataZoomId:i,start:h[0],end:h[1]}}}}),t.push(e)}function c$e(n){var e=Cne(n),t=e[e.length-1];e.length>1&&e.pop();var r={};return Mye(t,function(i,u){for(var l=e.length-1;l>=0;l--)if(i=e[l][u],i){r[u]=i;break}}),r}function f$e(n){kye(n).snapshots=null}function d$e(n){return Cne(n).length}function Cne(n){var e=kye(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var h$e=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,r){f$e(t),r.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return r},e}(_v);Ov({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});const p$e=h$e;var m$e=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],g$e=function(){function n(e,t,r){var i=this;this._targetInfoList=[];var u=Cce(t,e);Te(v$e,function(l,f){(!r||!r.include||Di(r.include,f)>=0)&&l(u,i._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(r,i,u){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var l=HJ[r.brushType](0,u,i);r.__rangeOffset={offset:Dce[r.brushType](l.values,r.range,[1,1]),xyMinMax:l.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,r){Te(e,function(i){var u=this.findTargetInfo(i,t);u&&u!==!0&&Te(u.coordSyses,function(l){var f=HJ[i.brushType](1,l,i.range,!0);r(i,f.values,l,t)})},this)},n.prototype.setInputRanges=function(e,t){Te(e,function(r){var i=this.findTargetInfo(r,t);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var u=HJ[r.brushType](0,i.coordSys,r.coordRange),l=r.__rangeOffset;r.range=l?Dce[r.brushType](u.values,l.offset,y$e(u.xyMinMax,l.xyMinMax)):u.values}},this)},n.prototype.makePanelOpts=function(e,t){return br(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:J0e(i),isTargetByCursor:Z0e(i,e,r.coordSysModel),getLinearBrushOtherExtent:Q0e(i)}})},n.prototype.controlSeries=function(e,t,r){var i=this.findTargetInfo(e,r);return i===!0||i&&Di(i.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var r=this._targetInfoList,i=Cce(t,e),u=0;u<r.length;u++){var l=r[u],f=e.panelId;if(f){if(l.panelId===f)return l}else for(var h=0;h<Tce.length;h++)if(Tce[h](i,l))return l}return!0},n}();function BZ(n){return n[0]>n[1]&&n.reverse(),n}function Cce(n,e){return RN(n,e,{includeMainTypes:m$e})}var v$e={grid:function(n,e){var t=n.xAxisModels,r=n.yAxisModels,i=n.gridModels,u=to(),l={},f={};!t&&!r&&!i||(Te(t,function(h){var g=h.axis.grid.model;u.set(g.id,g),l[g.id]=!0}),Te(r,function(h){var g=h.axis.grid.model;u.set(g.id,g),f[g.id]=!0}),Te(i,function(h){u.set(h.id,h),l[h.id]=!0,f[h.id]=!0}),u.each(function(h){var g=h.coordinateSystem,y=[];Te(g.getCartesians(),function(b,S){(Di(t,b.getAxis("x").model)>=0||Di(r,b.getAxis("y").model)>=0)&&y.push(b)}),e.push({panelId:"grid--"+h.id,gridModel:h,coordSysModel:h,coordSys:y[0],coordSyses:y,getPanelRect:Mce.grid,xAxisDeclared:l[h.id],yAxisDeclared:f[h.id]})}))},geo:function(n,e){Te(n.geoModels,function(t){var r=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:Mce.geo})})}},Tce=[function(n,e){var t=n.xAxisModel,r=n.yAxisModel,i=n.gridModel;return!i&&t&&(i=t.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],Mce={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(G2(n)),e}},HJ={lineX:ji(kce,0),lineY:ji(kce,1),rect:function(n,e,t,r){var i=n?e.pointToData([t[0][0],t[1][0]],r):e.dataToPoint([t[0][0],t[1][0]],r),u=n?e.pointToData([t[0][1],t[1][1]],r):e.dataToPoint([t[0][1],t[1][1]],r),l=[BZ([i[0],u[0]]),BZ([i[1],u[1]])];return{values:l,xyMinMax:l}},polygon:function(n,e,t,r){var i=[[1/0,-1/0],[1/0,-1/0]],u=br(t,function(l){var f=n?e.pointToData(l,r):e.dataToPoint(l,r);return i[0][0]=Math.min(i[0][0],f[0]),i[1][0]=Math.min(i[1][0],f[1]),i[0][1]=Math.max(i[0][1],f[0]),i[1][1]=Math.max(i[1][1],f[1]),f});return{values:u,xyMinMax:i}}};function kce(n,e,t,r){var i=t.getAxis(["x","y"][n]),u=BZ(br([0,1],function(f){return e?i.coordToData(i.toLocalCoord(r[f]),!0):i.toGlobalCoord(i.dataToCoord(r[f]))})),l=[];return l[n]=u,l[1-n]=[NaN,NaN],{values:u,xyMinMax:l}}var Dce={lineX:ji(Ace,0),lineY:ji(Ace,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return br(n,function(r,i){return[r[0]-t[0]*e[i][0],r[1]-t[1]*e[i][1]]})}};function Ace(n,e,t,r){return[e[0]-r[n]*t[0],e[1]-r[n]*t[1]]}function y$e(n,e){var t=Ece(n),r=Ece(e),i=[t[0]/r[0],t[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function Ece(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const Dye=g$e;var zZ=Te,b$e=sLe("toolbox-dataZoom_"),x$e=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,r,i,u){this._brushController||(this._brushController=new K0e(i.getZr()),this._brushController.on("brush",Ur(this._onBrush,this)).mount()),S$e(t,r,this,u,i),_$e(t,r)},e.prototype.onclick=function(t,r,i){w$e[i].call(this)},e.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var r=t.areas;if(!t.isEnd||!r.length)return;var i={},u=this.ecModel;this._brushController.updateCovers([]);var l=new Dye(Tne(this.model),u,{include:["grid"]});l.matchOutputRanges(r,u,function(g,y,b){if(b.type==="cartesian2d"){var S=g.brushType;S==="rect"?(f("x",b,y[0]),f("y",b,y[1])):f({lineX:"x",lineY:"y"}[S],b,y)}}),l$e(u,i),this._dispatchZoomAction(i);function f(g,y,b){var S=y.getAxis(g),_=S.model,k=h(g,_,u),A=k.findRepresentativeAxisProxy(_).getMinMaxSpan();(A.minValueSpan!=null||A.maxValueSpan!=null)&&(b=PM(0,b.slice(),S.scale.getExtent(),0,A.minValueSpan,A.maxValueSpan)),k&&(i[k.id]={dataZoomId:k.id,startValue:b[0],endValue:b[1]})}function h(g,y,b){var S;return b.eachComponent({mainType:"dataZoom",subType:"select"},function(_){var k=_.getAxisModel(g,y.componentIndex);k&&(S=_)}),S}},e.prototype._dispatchZoomAction=function(t){var r=[];zZ(t,function(i,u){r.push(vo(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},e.getDefaultOption=function(t){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},e}(_v),w$e={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(c$e(this.ecModel))}};function Tne(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function _$e(n,e){n.setIconStatus("back",d$e(e)>1?"emphasis":"normal")}function S$e(n,e,t,r,i){var u=t._isZoomActive;r&&r.type==="takeGlobalCursor"&&(u=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),t._isZoomActive=u,n.setIconStatus("zoom",u?"emphasis":"normal");var l=new Dye(Tne(n),e,{include:["grid"]}),f=l.makePanelOpts(i,function(h){return h.xAxisDeclared&&!h.yAxisDeclared?"lineX":!h.xAxisDeclared&&h.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(f).enableBrush(u&&f.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}eze("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var r=e.getModel(t),i=[],u=Tne(r),l=RN(n,u);zZ(l.xAxisModels,function(h){return f(h,"xAxis","xAxisIndex")}),zZ(l.yAxisModels,function(h){return f(h,"yAxis","yAxisIndex")});function f(h,g,y){var b=h.componentIndex,S={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:b$e+g+b};S[y]=b,i.push(S)}return i});const C$e=x$e;function T$e(n){n.registerComponentModel(jqe),n.registerComponentView($qe),ZP("saveAsImage",Xqe),ZP("magicType",Jqe),ZP("dataView",s$e),ZP("dataZoom",C$e),ZP("restore",p$e),Rc(Hqe)}var M$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Vi);const k$e=M$e;function Aye(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function Eye(n){if(Li.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var Oye=Eye(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),D$e=Eye(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Iye(n,e){if(!n)return e;e=Ste(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function A$e(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}var E$e=Iye(D$e,"transition"),Mne=Iye(Oye,"transform"),O$e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Li.transform3dSupported?"will-change:transform;":"");function I$e(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function R$e(n,e,t){if(!Nr(t)||t==="inside")return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");e=CM(e);var u=I$e(t),l=Math.max(Math.round(i)*1.5,6),f="",h=Mne+":",g;Di(["left","right"],u)>-1?(f+="top:50%",h+="translateY(-50%) rotate("+(g=u==="left"?-225:-45)+"deg)"):(f+="left:50%",h+="translateX(-50%) rotate("+(g=u==="top"?225:45)+"deg)");var y=g*Math.PI/180,b=l+i,S=b*Math.abs(Math.cos(y))+b*Math.abs(Math.sin(y)),_=Math.round(((S-Math.SQRT2*i)/2+Math.SQRT2*i-(S-b)/2)*100)/100;f+=";"+u+":-"+_+"px";var k=e+" solid "+i+"px;",A=["position:absolute;width:"+l+"px;height:"+l+"px;z-index:-1;",f+";"+h+";","border-bottom:"+k,"border-right:"+k,"background-color:"+r+";"];return'<div style="'+A.join("")+'"></div>'}function P$e(n,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+t,i="opacity"+r+",visibility"+r;return e||(r=" "+n+"s "+t,i+=Li.transformSupported?","+Mne+r:",left"+r+",top"+r),E$e+":"+i}function Oce(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Li.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var u=Li.transform3dSupported,l="translate"+(u?"3d":"")+"("+r+","+i+(u?",0":"")+")";return t?"top:0;left:0;"+Mne+":"+l+";":[["top",0],["left",0],[Oye,l]]}function N$e(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var i=n.get("textShadowColor"),u=n.get("textShadowBlur")||0,l=n.get("textShadowOffsetX")||0,f=n.get("textShadowOffsetY")||0;return i&&u&&e.push("text-shadow:"+l+"px "+f+"px "+u+"px "+i),Te(["decoration","align"],function(h){var g=n.get(h);g&&e.push("text-"+h+":"+g)}),e.join(";")}function L$e(n,e,t){var r=[],i=n.get("transitionDuration"),u=n.get("backgroundColor"),l=n.get("shadowBlur"),f=n.get("shadowColor"),h=n.get("shadowOffsetX"),g=n.get("shadowOffsetY"),y=n.getModel("textStyle"),b=Rge(n,"html"),S=h+"px "+g+"px "+l+"px "+f;return r.push("box-shadow:"+S),e&&i&&r.push(P$e(i,t)),u&&r.push("background-color:"+u),Te(["width","color","radius"],function(_){var k="border-"+_,A=Ste(k),R=n.get(A);R!=null&&r.push(k+":"+R+(_==="color"?"":"px"))}),r.push(N$e(y)),b!=null&&r.push("padding:"+m5(b).join("px ")+"px"),r.join(";")+";"}function Ice(n,e,t,r,i){var u=e&&e.painter;if(t){var l=u&&u.getViewportRoot();l&&TPe(n,l,document.body,r,i)}else{n[0]=r,n[1]=i;var f=u&&u.getViewportRootOffset();f&&(n[0]+=f.offsetLeft,n[1]+=f.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var B$e=function(){function n(e,t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Li.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var u=this._zr=t.getZr(),l=this._appendToBody=r&&r.appendToBody;Ice(this._styleCoord,u,l,t.getWidth()/2,t.getHeight()/2),l?document.body.appendChild(i):e.appendChild(i),this._container=e;var f=this;i.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},i.onmousemove=function(h){if(h=h||window.event,!f._enterable){var g=u.handler,y=u.painter.getViewportRoot();Fm(y,h,!0),g.dispatch("mousemove",h)}},i.onmouseleave=function(){f._inContent=!1,f._enterable&&f._show&&f.hideLater(f._hideDelay)}}return n.prototype.update=function(e){var t=this._container,r=A$e(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative");var u=e.get("alwaysShowContent");u&&this._moveIfResized(),this._alwaysShowContent=u,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,u=this._styleCoord;r.innerHTML?i.cssText=O$e+L$e(e,!this._firstShow,this._longHide)+Oce(u[0],u[1],!0)+("border-color:"+CM(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,u){var l=this.el;if(e==null){l.innerHTML="";return}var f="";if(Nr(u)&&r.get("trigger")==="item"&&!Aye(r)&&(f=R$e(r,i,u)),Nr(e))l.innerHTML=e+f;else if(e){l.innerHTML="",sr(e)||(e=[e]);for(var h=0;h<e.length;h++)$3(e[h])&&e[h].parentNode!==l&&l.appendChild(e[h]);if(f&&l.childNodes.length){var g=document.createElement("div");g.innerHTML=f,l.appendChild(g)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var r=this._styleCoord;if(Ice(r,this._zr,this._appendToBody,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,u=Oce(r[0],r[1]);Te(u,function(l){i[l[0]]=l[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Li.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ur(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const z$e=B$e;var F$e=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),Pce(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,u){var l=this;no(e)&&bh(""),this.el&&this._zr.remove(this.el);var f=r.getModel("textStyle");this.el=new ya({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:f.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Rge(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),Te(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(g){l.el.style[g]=r.get(g)}),Te(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(g){l.el.style[g]=f.get(g)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=Rce(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;Pce(i,this._zr,e,t),e=i[0],t=i[1];var u=r.style,l=k2(u.borderWidth||0),f=Rce(u);r.x=e+l+f.left,r.y=t+l+f.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Ur(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function k2(n){return Math.max(0,n)}function Rce(n){var e=k2(n.shadowBlur||0),t=k2(n.shadowOffsetX||0),r=k2(n.shadowOffsetY||0);return{left:k2(e-t),right:k2(e+t),top:k2(e-r),bottom:k2(e+r)}}function Pce(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const H$e=F$e;var V$e=new va({shape:{x:-1,y:-1,width:2,height:2}}),j$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(Li.node||!r.getDom())){var i=t.getComponent("tooltip"),u=this._renderMode=mLe(i.get("renderMode"));this._tooltipContent=u==="richText"?new H$e(r):new z$e(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,r,i){if(!(Li.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var u=this._tooltipContent;u.update(t),u.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?FL(this,"_updatePosition",50,"fixRate"):lL(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");gye("itemTooltip",this._api,Ur(function(i,u,l){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(u,l):i==="leave"&&this._hide(l))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,u=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&u!=="none"&&u!=="click"){var l=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&l.manuallyShowTip(t,r,i,{x:l._lastX,y:l._lastY,dataByCoordSys:l._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,u){if(!(u.from===this.uid||Li.node||!i.getDom())){var l=Nce(u,i);this._ticket="";var f=u.dataByCoordSys,h=$$e(u,r,i);if(h){var g=h.el.getBoundingRect().clone();g.applyTransform(h.el.transform),this._tryShow({offsetX:g.x+g.width/2,offsetY:g.y+g.height/2,target:h.el,position:u.position,positionDefault:"bottom"},l)}else if(u.tooltip&&u.x!=null&&u.y!=null){var y=V$e;y.x=u.x,y.y=u.y,y.update(),Ai(y).tooltipConfig={name:null,option:u.tooltip},this._tryShow({offsetX:u.x,offsetY:u.y,target:y},l)}else if(f)this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,dataByCoordSys:f,tooltipOption:u.tooltipOption},l);else if(u.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,u))return;var b=vye(u,r),S=b.point[0],_=b.point[1];S!=null&&_!=null&&this._tryShow({offsetX:S,offsetY:_,target:b.el,position:u.position,positionDefault:"bottom"},l)}else u.x!=null&&u.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:u.x,y:u.y}),this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,target:i.getZr().findHover(u.x,u.y).target},l))}},e.prototype.manuallyHideTip=function(t,r,i,u){var l=this._tooltipContent;this._tooltipModel&&l.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,u.from!==this.uid&&this._hide(Nce(u,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,u){var l=u.seriesIndex,f=u.dataIndex,h=r.getComponent("axisPointer").coordSysAxesInfo;if(!(l==null||f==null||h==null)){var g=r.getSeriesByIndex(l);if(g){var y=g.getData(),b=eN([y.getItemModel(f),g,(g.coordinateSystem||{}).model],this._tooltipModel);if(b.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:l,dataIndex:f,position:u.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,u=this._tooltipModel;if(u){this._lastX=t.offsetX,this._lastY=t.offsetY;var l=t.dataByCoordSys;if(l&&l.length)this._showAxisTooltip(l,t);else if(i){this._lastDataByCoordSys=null;var f,h;aM(i,function(g){if(Ai(g).dataIndex!=null)return f=g,!0;if(Ai(g).tooltipConfig!=null)return h=g,!0},!0),f?this._showSeriesItemTooltip(t,f,r):h?this._showComponentItemTooltip(t,h,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=Ur(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,u=this._tooltipModel,l=[r.offsetX,r.offsetY],f=eN([r.tooltipOption],u),h=this._renderMode,g=[],y=vy("section",{blocks:[],noHeader:!0}),b=[],S=new rJ;Te(t,function(z){Te(z.dataByAxis,function(L){var q=i.getComponent(L.axisDim+"Axis",L.axisIndex),X=L.value;if(!(!q||X==null)){var Y=hye(X,q.axis,i,L.seriesDataIndices,L.valueLabelOpt),ae=vy("section",{header:Y,noHeader:!Ym(Y),sortBlocks:!0,blocks:[]});y.blocks.push(ae),Te(L.seriesDataIndices,function(te){var ie=i.getSeriesByIndex(te.seriesIndex),le=te.dataIndexInside,ce=ie.getDataParams(le);if(!(ce.dataIndex<0)){ce.axisDim=L.axisDim,ce.axisIndex=L.axisIndex,ce.axisType=L.axisType,ce.axisId=L.axisId,ce.axisValue=Zte(q.axis,{value:X}),ce.axisValueLabel=Y,ce.marker=S.makeTooltipMarker("item",CM(ce.color),h);var ne=Aue(ie.formatTooltip(le,!0,null)),Q=ne.frag;if(Q){var Ce=eN([ie],u).get("valueFormatter");ae.blocks.push(Ce?Gn({valueFormatter:Ce},Q):Q)}ne.text&&b.push(ne.text),g.push(ce)}})}})}),y.blocks.reverse(),b.reverse();var _=r.position,k=f.get("order"),A=Pue(y,S,h,k,i.get("useUTC"),f.get("textStyle"));A&&b.unshift(A);var R=h==="richText"?`

`:"<br/>",I=b.join(R);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(t,g)?this._updatePosition(f,_,l[0],l[1],this._tooltipContent,g):this._showTooltipContent(f,I,g,Math.random()+"",l[0],l[1],_,null,S)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var u=this._ecModel,l=Ai(r),f=l.seriesIndex,h=u.getSeriesByIndex(f),g=l.dataModel||h,y=l.dataIndex,b=l.dataType,S=g.getData(b),_=this._renderMode,k=t.positionDefault,A=eN([S.getItemModel(y),g,h&&(h.coordinateSystem||{}).model],this._tooltipModel,k?{position:k}:null),R=A.get("trigger");if(!(R!=null&&R!=="item")){var I=g.getDataParams(y,b),z=new rJ;I.marker=z.makeTooltipMarker("item",CM(I.color),_);var L=Aue(g.formatTooltip(y,!1,b)),q=A.get("order"),X=A.get("valueFormatter"),Y=L.frag,ae=Y?Pue(X?Gn({valueFormatter:X},Y):Y,z,_,q,u.get("useUTC"),A.get("textStyle")):L.text,te="item_"+g.name+"_"+y;this._showOrMove(A,function(){this._showTooltipContent(A,ae,I,te,t.offsetX,t.offsetY,t.position,t.target,z)}),i({type:"showTip",dataIndexInside:y,dataIndex:S.getRawIndex(y),seriesIndex:f,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var u=Ai(r),l=u.tooltipConfig,f=l.option||{};if(Nr(f)){var h=f;f={content:h,formatter:h}}var g=[f],y=this._ecModel.getComponent(u.componentMainType,u.componentIndex);y&&g.push(y),g.push({formatter:f.content});var b=t.positionDefault,S=eN(g,this._tooltipModel,b?{position:b}:null),_=S.get("content"),k=Math.random()+"",A=new rJ;this._showOrMove(S,function(){var R=vo(S.get("formatterParams")||{});this._showTooltipContent(S,_,R,k,t.offsetX,t.offsetY,t.position,r,A)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,u,l,f,h,g,y){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var b=this._tooltipContent;b.setEnterable(t.get("enterable"));var S=t.get("formatter");h=h||t.get("position");var _=r,k=this._getNearestPoint([l,f],i,t.get("trigger"),t.get("borderColor")),A=k.color;if(S)if(Nr(S)){var R=t.ecModel.get("useUTC"),I=sr(i)?i[0]:i,z=I&&I.axisType&&I.axisType.indexOf("time")>=0;_=S,z&&(_=zL(I.axisValue,_,R)),_=Cte(_,i,!0)}else if(Eo(S)){var L=Ur(function(q,X){q===this._ticket&&(b.setContent(X,y,t,A,h),this._updatePosition(t,h,l,f,b,i,g))},this);this._ticket=u,_=S(i,u,L)}else _=S;b.setContent(_,y,t,A,h),b.show(t,A),this._updatePosition(t,h,l,f,b,i,g)}},e.prototype._getNearestPoint=function(t,r,i,u){if(i==="axis"||sr(r))return{color:u||(this._renderMode==="html"?"#fff":"none")};if(!sr(r))return{color:u||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,u,l,f,h){var g=this._api.getWidth(),y=this._api.getHeight();r=r||t.get("position");var b=l.getSize(),S=t.get("align"),_=t.get("verticalAlign"),k=h&&h.getBoundingRect().clone();if(h&&k.applyTransform(h.transform),Eo(r)&&(r=r([i,u],f,l.el,k,{viewSize:[g,y],contentSize:b.slice()})),sr(r))i=Xo(r[0],g),u=Xo(r[1],y);else if(no(r)){var A=r;A.width=b[0],A.height=b[1];var R=Rd(A,{width:g,height:y});i=R.x,u=R.y,S=null,_=null}else if(Nr(r)&&h){var I=q$e(r,k,b,t.get("borderWidth"));i=I[0],u=I[1]}else{var I=U$e(i,u,l,g,y,S?null:20,_?null:20);i=I[0],u=I[1]}if(S&&(i-=Lce(S)?b[0]/2:S==="right"?b[0]:0),_&&(u-=Lce(_)?b[1]/2:_==="bottom"?b[1]:0),Aye(t)){var I=W$e(i,u,l,g,y);i=I[0],u=I[1]}l.moveTo(i,u)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,u=this._cbParamsList,l=!!i&&i.length===t.length;return l&&Te(i,function(f,h){var g=f.dataByAxis||[],y=t[h]||{},b=y.dataByAxis||[];l=l&&g.length===b.length,l&&Te(g,function(S,_){var k=b[_]||{},A=S.seriesDataIndices||[],R=k.seriesDataIndices||[];l=l&&S.value===k.value&&S.axisType===k.axisType&&S.axisId===k.axisId&&A.length===R.length,l&&Te(A,function(I,z){var L=R[z];l=l&&I.seriesIndex===L.seriesIndex&&I.dataIndex===L.dataIndex}),u&&Te(S.seriesDataIndices,function(I){var z=I.seriesIndex,L=r[z],q=u[z];L&&q&&q.data!==L.data&&(l=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!l},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){Li.node||!r.getDom()||(lL(this,"_updatePosition"),this._tooltipContent.dispose(),PZ("itemTooltip",r))},e.type="tooltip",e}(zs);function eN(n,e,t){var r=e.ecModel,i;t?(i=new xs(t,r,r),i=new xs(e.option,i,r)):i=e;for(var u=n.length-1;u>=0;u--){var l=n[u];l&&(l instanceof xs&&(l=l.get("tooltip",!0)),Nr(l)&&(l={formatter:l}),l&&(i=new xs(l,i,r)))}return i}function Nce(n,e){return n.dispatchAction||Ur(e.dispatchAction,e)}function U$e(n,e,t,r,i,u,l){var f=t.getSize(),h=f[0],g=f[1];return u!=null&&(n+h+u+2>r?n-=h+u:n+=u),l!=null&&(e+g+l>i?e-=g+l:e+=l),[n,e]}function W$e(n,e,t,r,i){var u=t.getSize(),l=u[0],f=u[1];return n=Math.min(n+l,r)-l,e=Math.min(e+f,i)-f,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function q$e(n,e,t,r){var i=t[0],u=t[1],l=Math.ceil(Math.SQRT2*r)+8,f=0,h=0,g=e.width,y=e.height;switch(n){case"inside":f=e.x+g/2-i/2,h=e.y+y/2-u/2;break;case"top":f=e.x+g/2-i/2,h=e.y-u-l;break;case"bottom":f=e.x+g/2-i/2,h=e.y+y+l;break;case"left":f=e.x-i-l,h=e.y+y/2-u/2;break;case"right":f=e.x+g+l,h=e.y+y/2-u/2}return[f,h]}function Lce(n){return n==="center"||n==="middle"}function $$e(n,e,t){var r=Zee(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var u=NL(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),l=u.models[0];if(l){var f=t.getViewOfComponentModel(l),h;if(f.group.traverse(function(g){var y=Ai(g).tooltipConfig;if(y&&y.name===n.name)return h=g,!0}),h)return{componentMainType:i,componentIndex:l.componentIndex,el:h}}}}const G$e=j$e;function X$e(n){Rc(yne),n.registerComponentModel(k$e),n.registerComponentView(G$e),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},af),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},af)}var Bce=Te;function zce(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function Fce(n,e,t){var r={};return Bce(e,function(u){var l=r[u]=i();Bce(n[u],function(f,h){if(_h.isValidType(h)){var g={type:h,visual:f};t&&t(g,u),l[h]=new _h(g),h==="opacity"&&(g=vo(g),g.type="colorAlpha",l.__hidden.__alphaForOpacity=new _h(g))}})}),r;function i(){var u=function(){};u.prototype.__hidden=u.prototype;var l=new u;return l}}function Y$e(n,e,t){var r;Te(t,function(i){e.hasOwnProperty(i)&&zce(e[i])&&(r=!0)}),r&&Te(t,function(i){e.hasOwnProperty(i)&&zce(e[i])?n[i]=vo(e[i]):delete n[i]})}function K$e(n,e,t,r){var i={};return Te(n,function(u){var l=_h.prepareVisualTypes(e[u]);i[u]=l}),{progress:function(u,l){var f;r!=null&&(f=l.getDimensionIndex(r));function h(q){return jge(l,y,q)}function g(q,X){L8e(l,y,q,X)}for(var y,b=l.getStore();(y=u.next())!=null;){var S=l.getRawDataItem(y);if(!(S&&S.visualMap===!1))for(var _=r!=null?b.get(f,y):y,k=t(_),A=e[k],R=i[k],I=0,z=R.length;I<z;I++){var L=R[I];A[L]&&A[L].applyVisual(_,h,g)}}}}}var J$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Vi),Q$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var u=this.group,l=t.getModel("textStyle"),f=t.getModel("subtextStyle"),h=t.get("textAlign"),g=Gi(t.get("textBaseline"),t.get("textVerticalAlign")),y=new ya({style:wl(l,{text:t.get("text"),fill:l.getTextColor()},{disableBox:!0}),z2:10}),b=y.getBoundingRect(),S=t.get("subtext"),_=new ya({style:wl(f,{text:S,fill:f.getTextColor(),y:b.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),k=t.get("link"),A=t.get("sublink"),R=t.get("triggerEvent",!0);y.silent=!k&&!R,_.silent=!A&&!R,k&&y.on("click",function(){cue(k,"_"+t.get("target"))}),A&&_.on("click",function(){cue(A,"_"+t.get("subtarget"))}),Ai(y).eventData=Ai(_).eventData=R?{componentType:"title",componentIndex:t.componentIndex}:null,u.add(y),S&&u.add(_);var I=u.getBoundingRect(),z=t.getBoxLayoutParams();z.width=I.width,z.height=I.height;var L=Rd(z,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));h||(h=t.get("left")||t.get("right"),h==="middle"&&(h="center"),h==="right"?L.x+=L.width:h==="center"&&(L.x+=L.width/2)),g||(g=t.get("top")||t.get("bottom"),g==="center"&&(g="middle"),g==="bottom"?L.y+=L.height:g==="middle"&&(L.y+=L.height/2),g=g||"top"),u.x=L.x,u.y=L.y,u.markRedraw();var q={align:h,verticalAlign:g};y.setStyle(q),_.setStyle(q),I=u.getBoundingRect();var X=L.margin,Y=t.getItemStyle(["color","opacity"]);Y.fill=t.get("backgroundColor");var ae=new va({shape:{x:I.x-X[3],y:I.y-X[0],width:I.width+X[1]+X[3],height:I.height+X[0]+X[2],r:t.get("borderRadius")},style:Y,subPixelOptimize:!0,silent:!0});u.add(ae)}},e.type="title",e}(zs);function Z$e(n){n.registerComponentModel(J$e),n.registerComponentView(Q$e)}var eGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var r=this._data.count();this.option.loop?t=(t%r+r)%r:(t>=r&&(t=r-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,r=t.data||[],i=t.axisType,u=this._names=[],l;i==="category"?(l=[],Te(r,function(g,y){var b=qf(f5(g),""),S;no(g)?(S=vo(g),S.value=y):S=y,l.push(S),u.push(b)})):l=r;var f={category:"ordinal",time:"time",value:"number"}[i]||"number",h=this._data=new T9([{name:"value",type:f}],this);h.initData(l,u)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Vi);const Hce=eGe;var Rye=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=a_(Hce.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(Hce);cf(Rye,Sge.prototype);const tGe=Rye;var nGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}(zs);const rGe=nGe;var oGe=function(n){Tn(e,n);function e(t,r,i,u){var l=n.call(this,t,r,i)||this;return l.type=u||"value",l}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(Iv);const iGe=oGe;var VJ=Math.PI,Vce=lu(),aGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){this.api=r},e.prototype.render=function(t,r,i){if(this.model=t,this.api=i,this.ecModel=r,this.group.removeAll(),t.get("show",!0)){var u=this._layout(t,i),l=this._createGroup("_mainGroup"),f=this._createGroup("_labelGroup"),h=this._axis=this._createAxis(u,t);t.formatTooltip=function(g){var y=h.scale.getLabel({value:g});return vy("nameValue",{noName:!0,value:y})},Te(["AxisLine","AxisTick","Control","CurrentPointer"],function(g){this["_render"+g](u,l,h,t)},this),this._renderAxisLabel(u,f,h,t),this._position(u,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,r){var i=t.get(["label","position"]),u=t.get("orient"),l=sGe(t,r),f;i==null||i==="auto"?f=u==="horizontal"?l.y+l.height/2<r.getHeight()/2?"-":"+":l.x+l.width/2<r.getWidth()/2?"+":"-":Nr(i)?f={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][i]:f=i;var h={horizontal:"center",vertical:f>=0||f==="+"?"left":"right"},g={horizontal:f>=0||f==="+"?"top":"bottom",vertical:"middle"},y={horizontal:0,vertical:VJ/2},b=u==="vertical"?l.height:l.width,S=t.getModel("controlStyle"),_=S.get("show",!0),k=_?S.get("itemSize"):0,A=_?S.get("itemGap"):0,R=k+A,I=t.get(["label","rotate"])||0;I=I*VJ/180;var z,L,q,X=S.get("position",!0),Y=_&&S.get("showPlayBtn",!0),ae=_&&S.get("showPrevBtn",!0),te=_&&S.get("showNextBtn",!0),ie=0,le=b;X==="left"||X==="bottom"?(Y&&(z=[0,0],ie+=R),ae&&(L=[ie,0],ie+=R),te&&(q=[le-k,0],le-=R)):(Y&&(z=[le-k,0],le-=R),ae&&(L=[0,0],ie+=R),te&&(q=[le-k,0],le-=R));var ce=[ie,le];return t.get("inverse")&&ce.reverse(),{viewRect:l,mainLength:b,orient:u,rotation:y[u],labelRotation:I,labelPosOpt:f,labelAlign:t.get(["label","align"])||h[u],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||g[u],playPosition:z,prevBtnPosition:L,nextBtnPosition:q,axisExtent:ce,controlSize:k,controlGap:A}},e.prototype._position=function(t,r){var i=this._mainGroup,u=this._labelGroup,l=t.viewRect;if(t.orient==="vertical"){var f=Qm(),h=l.x,g=l.y+l.height;Nb(f,f,[-h,-g]),i_(f,f,-VJ/2),Nb(f,f,[h,g]),l=l.clone(),l.applyTransform(f)}var y=z(l),b=z(i.getBoundingRect()),S=z(u.getBoundingRect()),_=[i.x,i.y],k=[u.x,u.y];k[0]=_[0]=y[0][0];var A=t.labelPosOpt;if(A==null||Nr(A)){var R=A==="+"?0:1;L(_,b,y,1,R),L(k,S,y,1,1-R)}else{var R=A>=0?0:1;L(_,b,y,1,R),k[1]=_[1]+A}i.setPosition(_),u.setPosition(k),i.rotation=u.rotation=t.rotation,I(i),I(u);function I(q){q.originX=y[0][0]-q.x,q.originY=y[1][0]-q.y}function z(q){return[[q.x,q.x+q.width],[q.y,q.y+q.height]]}function L(q,X,Y,ae,te){q[ae]+=Y[ae][te]-X[ae][te]}},e.prototype._createAxis=function(t,r){var i=r.getData(),u=r.get("axisType"),l=uGe(r,u);l.getTicks=function(){return i.mapArray(["value"],function(g){return{value:g}})};var f=i.getDataExtent("value");l.setExtent(f[0],f[1]),l.calcNiceTicks();var h=new iGe("value",l,t.axisExtent,u);return h.model=r,h},e.prototype._createGroup=function(t){var r=this[t]=new hi;return this.group.add(r),r},e.prototype._renderAxisLine=function(t,r,i,u){var l=i.getExtent();if(u.get(["lineStyle","show"])){var f=new Od({shape:{x1:l[0],y1:0,x2:l[1],y2:0},style:Gn({lineCap:"round"},u.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(f);var h=this._progressLine=new Od({shape:{x1:l[0],x2:this._currentPointer?this._currentPointer.x:l[0],y1:0,y2:0},style:Co({lineCap:"round",lineWidth:f.style.lineWidth},u.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(h)}},e.prototype._renderAxisTick=function(t,r,i,u){var l=this,f=u.getData(),h=i.scale.getTicks();this._tickSymbols=[],Te(h,function(g){var y=i.dataToCoord(g.value),b=f.getItemModel(g.value),S=b.getModel("itemStyle"),_=b.getModel(["emphasis","itemStyle"]),k=b.getModel(["progress","itemStyle"]),A={x:y,y:0,onclick:Ur(l._changeTimeline,l,g.value)},R=jce(b,S,r,A);R.ensureState("emphasis").style=_.getItemStyle(),R.ensureState("progress").style=k.getItemStyle(),$2(R);var I=Ai(R);b.get("tooltip")?(I.dataIndex=g.value,I.dataModel=u):I.dataIndex=I.dataModel=null,l._tickSymbols.push(R)})},e.prototype._renderAxisLabel=function(t,r,i,u){var l=this,f=i.getLabelModel();if(f.get("show")){var h=u.getData(),g=i.getViewLabels();this._tickLabels=[],Te(g,function(y){var b=y.tickValue,S=h.getItemModel(b),_=S.getModel("label"),k=S.getModel(["emphasis","label"]),A=S.getModel(["progress","label"]),R=i.dataToCoord(y.tickValue),I=new ya({x:R,y:0,rotation:t.labelRotation-t.rotation,onclick:Ur(l._changeTimeline,l,b),silent:!1,style:wl(_,{text:y.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});I.ensureState("emphasis").style=wl(k),I.ensureState("progress").style=wl(A),r.add(I),$2(I),Vce(I).dataIndex=b,l._tickLabels.push(I)})}},e.prototype._renderControl=function(t,r,i,u){var l=t.controlSize,f=t.rotation,h=u.getModel("controlStyle").getItemStyle(),g=u.getModel(["emphasis","controlStyle"]).getItemStyle(),y=u.getPlayState(),b=u.get("inverse",!0);S(t.nextBtnPosition,"next",Ur(this._changeTimeline,this,b?"-":"+")),S(t.prevBtnPosition,"prev",Ur(this._changeTimeline,this,b?"+":"-")),S(t.playPosition,y?"stop":"play",Ur(this._handlePlayClick,this,!y),!0);function S(_,k,A,R){if(_){var I=Dv(Gi(u.get(["controlStyle",k+"BtnSize"]),l),l),z=[0,-I/2,I,I],L=lGe(u,k+"Icon",z,{x:_[0],y:_[1],originX:l/2,originY:0,rotation:R?-f:0,rectHover:!0,style:h,onclick:A});L.ensureState("emphasis").style=g,r.add(L),$2(L)}}},e.prototype._renderCurrentPointer=function(t,r,i,u){var l=u.getData(),f=u.getCurrentIndex(),h=l.getItemModel(f).getModel("checkpointStyle"),g=this,y={onCreate:function(b){b.draggable=!0,b.drift=Ur(g._handlePointerDrag,g),b.ondragend=Ur(g._handlePointerDragend,g),Uce(b,g._progressLine,f,i,u,!0)},onUpdate:function(b){Uce(b,g._progressLine,f,i,u)}};this._currentPointer=jce(h,h,this._mainGroup,{},this._currentPointer,y)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,r){var i=this._toAxisCoord(t)[0],u=this._axis,l=uy(u.getExtent().slice());i>l[1]&&(i=l[1]),i<l[0]&&(i=l[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var f=this._progressLine;f&&(f.shape.x2=i,f.dirty());var h=this._findNearestTick(i),g=this.model;(r||h!==g.getCurrentIndex()&&g.get("realtime"))&&this._changeTimeline(h)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=t.model;t._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var r=this._mainGroup.getLocalTransform();return Mv(t,r,!0)},e.prototype._findNearestTick=function(t){var r=this.model.getData(),i=1/0,u,l=this._axis;return r.each(["value"],function(f,h){var g=l.dataToCoord(f),y=Math.abs(g-t);y<i&&(i=y,u=h)}),u},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var r=this.model.getCurrentIndex();t==="+"?t=r+1:t==="-"&&(t=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var u=0;u<r.length;u++)r&&r[u]&&r[u].toggleState("progress",u<t);if(i)for(var u=0;u<i.length;u++)i&&i[u]&&i[u].toggleState("progress",Vce(i[u]).dataIndex<=t)},e.type="timeline.slider",e}(rGe);function uGe(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new Yte({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new Lve({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new e_}}function sGe(n,e){return Rd(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},n.get("padding"))}function lGe(n,e,t,r){var i=r.style,u=d5(n.get(["controlStyle",e]),r||{},new vi(t[0],t[1],t[2],t[3]));return i&&u.setStyle(i),u}function jce(n,e,t,r,i,u){var l=e.get("color");if(i)i.setColor(l),t.add(i),u&&u.onUpdate(i);else{var f=n.get("symbol");i=sf(f,-1,-1,2,2,l),i.setStyle("strokeNoScale",!0),t.add(i),u&&u.onCreate(i)}var h=e.getItemStyle(["color"]);i.setStyle(h),r=Vo({rectHover:!0,z2:100},r,!0);var g=Lte(n.get("symbolSize"));r.scaleX=g[0]/2,r.scaleY=g[1]/2;var y=_9(n.get("symbolOffset"),g);y&&(r.x=(r.x||0)+y[0],r.y=(r.y||0)+y[1]);var b=n.get("symbolRotate");return r.rotation=(b||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function Uce(n,e,t,r,i,u){if(!n.dragging){var l=i.getModel("checkpointStyle"),f=r.dataToCoord(i.getData().get("value",t));if(u||!l.get("animation",!0))n.attr({x:f,y:0}),e&&e.attr({shape:{x2:f}});else{var h={duration:l.get("animationDuration",!0),easing:l.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:f,y:0},h),e&&e.animateTo({shape:{x2:f}},h)}}}const cGe=aGe;function fGe(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,r){var i=t.getComponent("timeline");return i&&e.currentIndex!=null&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),Co({currentIndex:i.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var r=t.getComponent("timeline");r&&e.playState!=null&&r.setPlayState(e.playState)})}function dGe(n){var e=n&&n.timeline;sr(e)||(e=e?[e]:[]),Te(e,function(t){t&&hGe(t)})}function hGe(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),Wce(n),tM(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});tM(r,"position")||(r.position=n.controlPosition),r.position==="none"&&!tM(r,"show")&&(r.show=!1,delete r.position),delete n.controlPosition}Te(n.data||[],function(i){no(i)&&!sr(i)&&(!tM(i,"value")&&tM(i,"name")&&(i.value=i.name),Wce(i))})}function Wce(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),r=n.label||n.label||{},i=r.normal||(r.normal={}),u={normal:1,emphasis:1};Te(r,function(l,f){!u[f]&&!tM(i,f)&&(i[f]=l)}),t.label&&!tM(r,"emphasis")&&(r.emphasis=t.label,delete t.label)}function tM(n,e){return n.hasOwnProperty(e)}function pGe(n){n.registerComponentModel(tGe),n.registerComponentView(cGe),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),fGe(n),n.registerPreprocessor(dGe)}var mGe=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},gGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),sr(r)&&Te(r,function(u,l){Nr(u)&&(u={type:u}),r[l]=Vo(u,mGe(i,u.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var u=t[i].get("name");if(this.isSelected(u)){this.select(u),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(h){var g=h.name;i.push(g);var y;if(h.legendVisualProvider){var b=h.legendVisualProvider,S=b.getAllNames();t.isSeriesFiltered(h)||(i=i.concat(S)),S.length?r=r.concat(S):y=!0}else y=!0;y&&Qee(h)&&r.push(h.name)}),this._availableNames=i;var u=this.get("data")||r,l=to(),f=br(u,function(h){return(Nr(h)||su(h))&&(h={name:h}),l.get(h.name)?null:(l.set(h.name,!0),new xs(h,this,this.ecModel))},this);this._data=Ls(f,function(h){return!!h})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var u=this._data;Te(u,function(l){r[l.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;Te(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;Te(t,function(i){var u=i.get("name",!0);r.hasOwnProperty(u)||(r[u]=!0),r[u]=!r[u]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&Di(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Vi);const FZ=gGe;var f3=ji,HZ=Te,QF=hi,vGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new QF),this.group.add(this._selectorGroup=new QF),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var u=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var l=t.get("align"),f=t.get("orient");(!l||l==="auto")&&(l=t.get("left")==="right"&&f==="vertical"?"right":"left");var h=t.get("selector",!0),g=t.get("selectorPosition",!0);h&&(!g||g==="auto")&&(g=f==="horizontal"?"end":"start"),this.renderInner(l,t,r,i,h,f,g);var y=t.getBoxLayoutParams(),b={width:i.getWidth(),height:i.getHeight()},S=t.get("padding"),_=Rd(y,b,S),k=this.layoutInner(t,l,_,u,h,g),A=Rd(Co({width:k.width,height:k.height},y),b,S);this.group.x=A.x-k.x,this.group.y=A.y-k.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Tye(k,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,u,l,f,h){var g=this.getContentGroup(),y=to(),b=r.get("selectedMode"),S=[];i.eachRawSeries(function(_){!_.get("legendHoverLink")&&S.push(_.id)}),HZ(r.getData(),function(_,k){var A=_.get("name");if(!this.newlineDisabled&&(A===""||A===`
`)){var R=new QF;R.newline=!0,g.add(R);return}var I=i.getSeriesByName(A)[0];if(!y.get(A))if(I){var z=I.getData(),L=z.getVisual("legendLineStyle")||{},q=z.getVisual("legendIcon"),X=z.getVisual("style"),Y=this._createItem(I,A,k,_,r,t,L,X,q,b,u);Y.on("click",f3(qce,A,null,u,S)).on("mouseover",f3(VZ,I.name,null,u,S)).on("mouseout",f3(jZ,I.name,null,u,S)),y.set(A,!0)}else i.eachRawSeries(function(ae){if(!y.get(A)&&ae.legendVisualProvider){var te=ae.legendVisualProvider;if(!te.containName(A))return;var ie=te.indexOfName(A),le=te.getItemVisual(ie,"style"),ce=te.getItemVisual(ie,"legendIcon"),ne=wh(le.fill);ne&&ne[3]===0&&(ne[3]=.2,le=Gn(Gn({},le),{fill:Tv(ne,"rgba")}));var Q=this._createItem(ae,A,k,_,r,t,{},le,ce,b,u);Q.on("click",f3(qce,null,A,u,S)).on("mouseover",f3(VZ,null,A,u,S)).on("mouseout",f3(jZ,null,A,u,S)),y.set(A,!0)}},this)},this),l&&this._createSelector(l,r,u,f,h)},e.prototype._createSelector=function(t,r,i,u,l){var f=this.getSelectorGroup();HZ(t,function(h){var g=h.type,y=new ya({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:g==="all"?"legendAllSelect":"legendInverseSelect"})}});f.add(y);var b=r.getModel("selectorLabel"),S=r.getModel(["emphasis","selectorLabel"]);Vb(y,{normal:b,emphasis:S},{defaultText:h.title}),$2(y)})},e.prototype._createItem=function(t,r,i,u,l,f,h,g,y,b,S){var _=t.visualDrawType,k=l.get("itemWidth"),A=l.get("itemHeight"),R=l.isSelected(r),I=u.get("symbolRotate"),z=u.get("symbolKeepAspect"),L=u.get("icon");y=L||y||"roundRect";var q=yGe(y,u,h,g,_,R,S),X=new QF,Y=u.getModel("textStyle");if(Eo(t.getLegendIcon)&&(!L||L==="inherit"))X.add(t.getLegendIcon({itemWidth:k,itemHeight:A,icon:y,iconRotate:I,itemStyle:q.itemStyle,lineStyle:q.lineStyle,symbolKeepAspect:z}));else{var ae=L==="inherit"&&t.getData().getVisual("symbol")?I==="inherit"?t.getData().getVisual("symbolRotate"):I:0;X.add(bGe({itemWidth:k,itemHeight:A,icon:y,iconRotate:ae,itemStyle:q.itemStyle,lineStyle:q.lineStyle,symbolKeepAspect:z}))}var te=f==="left"?k+5:-5,ie=f,le=l.get("formatter"),ce=r;Nr(le)&&le?ce=le.replace("{name}",r??""):Eo(le)&&(ce=le(r));var ne=R?Y.getTextColor():u.get("inactiveColor");X.add(new ya({style:wl(Y,{text:ce,x:te,y:A/2,fill:ne,align:ie,verticalAlign:"middle"},{inheritColor:ne})}));var Q=new va({shape:X.getBoundingRect(),invisible:!0}),Ce=u.getModel("tooltip");return Ce.get("show")&&h5({el:Q,componentModel:l,itemName:r,itemTooltipOption:Ce.option}),X.add(Q),X.eachChild(function(ze){ze.silent=!0}),Q.silent=!b,this.getContentGroup().add(X),$2(X),X.__legendDataIndex=i,X},e.prototype.layoutInner=function(t,r,i,u,l,f){var h=this.getContentGroup(),g=this.getSelectorGroup();mM(t.get("orient"),h,t.get("itemGap"),i.width,i.height);var y=h.getBoundingRect(),b=[-y.x,-y.y];if(g.markRedraw(),h.markRedraw(),l){mM("horizontal",g,t.get("selectorItemGap",!0));var S=g.getBoundingRect(),_=[-S.x,-S.y],k=t.get("selectorButtonGap",!0),A=t.getOrient().index,R=A===0?"width":"height",I=A===0?"height":"width",z=A===0?"y":"x";f==="end"?_[A]+=y[R]+k:b[A]+=S[R]+k,_[1-A]+=y[I]/2-S[I]/2,g.x=_[0],g.y=_[1],h.x=b[0],h.y=b[1];var L={x:0,y:0};return L[R]=y[R]+k+S[R],L[I]=Math.max(y[I],S[I]),L[z]=Math.min(0,S[z]+_[1-A]),L}else return h.x=b[0],h.y=b[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(zs);function yGe(n,e,t,r,i,u,l){function f(R,I){R.lineWidth==="auto"&&(R.lineWidth=I.lineWidth>0?2:0),HZ(R,function(z,L){R[L]==="inherit"&&(R[L]=I[L])})}var h=e.getModel("itemStyle"),g=h.getItemStyle(),y=n.lastIndexOf("empty",0)===0?"fill":"stroke",b=h.getShallow("decal");g.decal=!b||b==="inherit"?r.decal:mV(b,l),g.fill==="inherit"&&(g.fill=r[i]),g.stroke==="inherit"&&(g.stroke=r[y]),g.opacity==="inherit"&&(g.opacity=(i==="fill"?r:t).opacity),f(g,r);var S=e.getModel("lineStyle"),_=S.getLineStyle();if(f(_,t),g.fill==="auto"&&(g.fill=r.fill),g.stroke==="auto"&&(g.stroke=r.fill),_.stroke==="auto"&&(_.stroke=r.fill),!u){var k=e.get("inactiveBorderWidth"),A=g[y];g.lineWidth=k==="auto"?r.lineWidth>0&&A?2:0:g.lineWidth,g.fill=e.get("inactiveColor"),g.stroke=e.get("inactiveBorderColor"),_.stroke=S.get("inactiveColor"),_.lineWidth=S.get("inactiveWidth")}return{itemStyle:g,lineStyle:_}}function bGe(n){var e=n.icon||"roundRect",t=sf(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function qce(n,e,t,r){jZ(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),VZ(n,e,t,r)}function Pye(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function VZ(n,e,t,r){Pye(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function jZ(n,e,t,r){Pye(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}const Nye=vGe;function xGe(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function tN(n,e,t){var r={},i=n==="toggleSelected",u;return t.eachComponent("legend",function(l){i&&u!=null?l[u?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?l[n]():(l[n](e.name),u=l.isSelected(e.name));var f=l.getData();Te(f,function(h){var g=h.get("name");if(!(g===`
`||g==="")){var y=l.isSelected(g);r.hasOwnProperty(g)?r[g]=r[g]&&y:r[g]=y}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function wGe(n){n.registerAction("legendToggleSelect","legendselectchanged",ji(tN,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",ji(tN,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",ji(tN,"inverseSelect")),n.registerAction("legendSelect","legendselected",ji(tN,"select")),n.registerAction("legendUnSelect","legendunselected",ji(tN,"unSelect"))}function Lye(n){n.registerComponentModel(FZ),n.registerComponentView(Nye),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,xGe),n.registerSubTypeDefaulter("legend",function(){return"plain"}),wGe(n)}var _Ge=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var u=g5(t);n.prototype.init.call(this,t,r,i),$ce(this,t,u)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),$ce(this,this.option,t)},e.type="legend.scroll",e.defaultOption=a_(FZ.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(FZ);function $ce(n,e,t){var r=n.getOrient(),i=[1,1];i[r.index]=0,Q2(e,t,{type:"box",ignoreSize:!!i})}const SGe=_Ge;var Gce=hi,jJ=["width","height"],UJ=["x","y"],CGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new Gce),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Gce)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,u,l,f,h){var g=this;n.prototype.renderInner.call(this,t,r,i,u,l,f,h);var y=this._controllerGroup,b=r.get("pageIconSize",!0),S=sr(b)?b:[b,b];k("pagePrev",0);var _=r.getModel("pageTextStyle");y.add(new ya({name:"pageText",style:{text:"xx/xx",fill:_.getTextColor(),font:_.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),k("pageNext",1);function k(A,R){var I=A+"DataIndex",z=d5(r.get("pageIcons",!0)[r.getOrient().name][R],{onclick:Ur(g._pageGo,g,I,r,u)},{x:-S[0]/2,y:-S[1]/2,width:S[0],height:S[1]});z.name=A,y.add(z)}},e.prototype.layoutInner=function(t,r,i,u,l,f){var h=this.getSelectorGroup(),g=t.getOrient().index,y=jJ[g],b=UJ[g],S=jJ[1-g],_=UJ[1-g];l&&mM("horizontal",h,t.get("selectorItemGap",!0));var k=t.get("selectorButtonGap",!0),A=h.getBoundingRect(),R=[-A.x,-A.y],I=vo(i);l&&(I[y]=i[y]-A[y]-k);var z=this._layoutContentAndController(t,u,I,g,y,S,_,b);if(l){if(f==="end")R[g]+=z[y]+k;else{var L=A[y]+k;R[g]-=L,z[b]-=L}z[y]+=A[y]+k,R[1-g]+=z[_]+z[S]/2-A[S]/2,z[S]=Math.max(z[S],A[S]),z[_]=Math.min(z[_],A[_]+R[1-g]),h.x=R[0],h.y=R[1],h.markRedraw()}return z},e.prototype._layoutContentAndController=function(t,r,i,u,l,f,h,g){var y=this.getContentGroup(),b=this._containerGroup,S=this._controllerGroup;mM(t.get("orient"),y,t.get("itemGap"),u?i.width:null,u?null:i.height),mM("horizontal",S,t.get("pageButtonItemGap",!0));var _=y.getBoundingRect(),k=S.getBoundingRect(),A=this._showController=_[l]>i[l],R=[-_.x,-_.y];r||(R[u]=y[g]);var I=[0,0],z=[-k.x,-k.y],L=Gi(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(A){var q=t.get("pageButtonPosition",!0);q==="end"?z[u]+=i[l]-k[l]:I[u]+=k[l]+L}z[1-u]+=_[f]/2-k[f]/2,y.setPosition(R),b.setPosition(I),S.setPosition(z);var X={x:0,y:0};if(X[l]=A?i[l]:_[l],X[f]=Math.max(_[f],k[f]),X[h]=Math.min(0,k[h]+z[1-u]),b.__rectSize=i[l],A){var Y={x:0,y:0};Y[l]=Math.max(i[l]-k[l]-L,0),Y[f]=X[f],b.setClipPath(new va({shape:Y})),b.__rectSize=Y[l]}else S.eachChild(function(te){te.attr({invisible:!0,silent:!0})});var ae=this._getPageInfo(t);return ae.pageIndex!=null&&tl(y,{x:ae.contentPosition[0],y:ae.contentPosition[1]},A?t:null),this._updatePageInfoView(t,ae),X},e.prototype._pageGo=function(t,r,i){var u=this._getPageInfo(r)[t];u!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;Te(["pagePrev","pageNext"],function(y){var b=y+"DataIndex",S=r[b]!=null,_=i.childOfName(y);_&&(_.setStyle("fill",S?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),_.cursor=S?"pointer":"default")});var u=i.childOfName("pageText"),l=t.get("pageFormatter"),f=r.pageIndex,h=f!=null?f+1:0,g=r.pageCount;u&&l&&u.setStyle("text",Nr(l)?l.replace("{current}",h==null?"":h+"").replace("{total}",g==null?"":g+""):l({current:h,total:g}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),u=this._containerGroup.__rectSize,l=t.getOrient().index,f=jJ[l],h=UJ[l],g=this._findTargetItemIndex(r),y=i.children(),b=y[g],S=y.length,_=S?1:0,k={contentPosition:[i.x,i.y],pageCount:_,pageIndex:_-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!b)return k;var A=q(b);k.contentPosition[l]=-A.s;for(var R=g+1,I=A,z=A,L=null;R<=S;++R)L=q(y[R]),(!L&&z.e>I.s+u||L&&!X(L,I.s))&&(z.i>I.i?I=z:I=L,I&&(k.pageNextDataIndex==null&&(k.pageNextDataIndex=I.i),++k.pageCount)),z=L;for(var R=g-1,I=A,z=A,L=null;R>=-1;--R)L=q(y[R]),(!L||!X(z,L.s))&&I.i<z.i&&(z=I,k.pagePrevDataIndex==null&&(k.pagePrevDataIndex=I.i),++k.pageCount,++k.pageIndex),I=L;return k;function q(Y){if(Y){var ae=Y.getBoundingRect(),te=ae[h]+Y[h];return{s:te,e:te+ae[f],i:Y.__legendDataIndex}}}function X(Y,ae){return Y.e>=ae&&Y.s<=ae+u}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),u;return i.eachChild(function(l,f){var h=l.__legendDataIndex;u==null&&h!=null&&(u=f),h===t&&(r=f)}),r??u},e.type="legend.scroll",e}(Nye);const TGe=CGe;function MGe(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function kGe(n){Rc(Lye),n.registerComponentModel(SGe),n.registerComponentView(TGe),MGe(n)}function DGe(n){Rc(Lye),Rc(kGe)}var AGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=a_(vL.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(vL);const EGe=AGe;var kne=lu();function OGe(n,e,t){kne(n).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(e.uid);i&&(i.getRange=t)})}function IGe(n,e){for(var t=kne(n).coordSysRecordMap,r=t.keys(),i=0;i<r.length;i++){var u=r[i],l=t.get(u),f=l.dataZoomInfoMap;if(f){var h=e.uid,g=f.get(h);g&&(f.removeKey(h),f.keys().length||Bye(t,l))}}}function Bye(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function RGe(n,e){var t={model:e,containsPoint:ji(NGe,e),dispatchAction:ji(PGe,n),dataZoomInfoMap:null,controller:null},r=t.controller=new C0e(n.getZr());return Te(["pan","zoom","scrollMove"],function(i){r.on(i,function(u){var l=[];t.dataZoomInfoMap.each(function(f){if(u.isAvailableBehavior(f.model.option)){var h=(f.getRange||{})[i],g=h&&h(f.dzReferCoordSysInfo,t.model.mainType,t.controller,u);!f.model.get("disabled",!0)&&g&&l.push({dataZoomId:f.model.id,start:g[0],end:g[1]})}}),l.length&&t.dispatchAction(l)})}),t}function PGe(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function NGe(n,e,t,r){return n.coordinateSystem.containPoint([t,r])}function LGe(n){var e,t="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return n.each(function(u){var l=u.model,f=l.get("disabled",!0)?!1:l.get("zoomLock",!0)?"move":!0;r[t+f]>r[t+e]&&(e=f),i=i&&l.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function BGe(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var r=kne(t),i=r.coordSysRecordMap||(r.coordSysRecordMap=to());i.each(function(u){u.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(u){var l=_ye(u);Te(l.infoList,function(f){var h=f.model.uid,g=i.get(h)||i.set(h,RGe(t,f.model)),y=g.dataZoomInfoMap||(g.dataZoomInfoMap=to());y.set(u.uid,{dzReferCoordSysInfo:f,model:u,getRange:null})})}),i.each(function(u){var l=u.controller,f,h=u.dataZoomInfoMap;if(h){var g=h.keys()[0];g!=null&&(f=h.get(g))}if(!f){Bye(i,u);return}var y=LGe(h);l.enable(y.controlType,y.opt),l.setPointerChecker(u.containsPoint),FL(u,"dispatchAction",f.model.get("throttle",!0),"fixRate")})})}var zGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,r,i){if(n.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),OGe(i,t,{pan:Ur(WJ.pan,this),zoom:Ur(WJ.zoom,this),scrollMove:Ur(WJ.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){IGe(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(_ne),WJ={zoom:function(n,e,t,r){var i=this.range,u=i.slice(),l=n.axisModels[0];if(l){var f=qJ[e](null,[r.originX,r.originY],l,t,n),h=(f.signal>0?f.pixelStart+f.pixelLength-f.pixel:f.pixel-f.pixelStart)/f.pixelLength*(u[1]-u[0])+u[0],g=Math.max(1/r.scale,0);u[0]=(u[0]-h)*g+h,u[1]=(u[1]-h)*g+h;var y=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(PM(0,u,[0,100],0,y.minSpan,y.maxSpan),this.range=u,i[0]!==u[0]||i[1]!==u[1])return u}},pan:Xce(function(n,e,t,r,i,u){var l=qJ[r]([u.oldX,u.oldY],[u.newX,u.newY],e,i,t);return l.signal*(n[1]-n[0])*l.pixel/l.pixelLength}),scrollMove:Xce(function(n,e,t,r,i,u){var l=qJ[r]([0,0],[u.scrollDelta,u.scrollDelta],e,i,t);return l.signal*(n[1]-n[0])*u.scrollDelta})};function Xce(n){return function(e,t,r,i){var u=this.range,l=u.slice(),f=e.axisModels[0];if(f){var h=n(l,f,e,t,r,i);if(PM(h,l,[0,100],"all"),this.range=l,u[0]!==l[0]||u[1]!==l[1])return l}}}var qJ={grid:function(n,e,t,r,i){var u=t.axis,l={},f=i.model.coordinateSystem.getRect();return n=n||[0,0],u.dim==="x"?(l.pixel=e[0]-n[0],l.pixelLength=f.width,l.pixelStart=f.x,l.signal=u.inverse?1:-1):(l.pixel=e[1]-n[1],l.pixelLength=f.height,l.pixelStart=f.y,l.signal=u.inverse?-1:1),l},polar:function(n,e,t,r,i){var u=t.axis,l={},f=i.model.coordinateSystem,h=f.getRadiusAxis().getExtent(),g=f.getAngleAxis().getExtent();return n=n?f.pointToCoord(n):[0,0],e=f.pointToCoord(e),t.mainType==="radiusAxis"?(l.pixel=e[0]-n[0],l.pixelLength=h[1]-h[0],l.pixelStart=h[0],l.signal=u.inverse?1:-1):(l.pixel=e[1]-n[1],l.pixelLength=g[1]-g[0],l.pixelStart=g[0],l.signal=u.inverse?-1:1),l},singleAxis:function(n,e,t,r,i){var u=t.axis,l=i.model.coordinateSystem.getRect(),f={};return n=n||[0,0],u.orient==="horizontal"?(f.pixel=e[0]-n[0],f.pixelLength=l.width,f.pixelStart=l.x,f.signal=u.inverse?1:-1):(f.pixel=e[1]-n[1],f.pixelLength=l.height,f.pixelStart=l.y,f.signal=u.inverse?-1:1),f}};const FGe=zGe;function HGe(n){Sne(n),n.registerComponentModel(EGe),n.registerComponentView(FGe),BGe(n)}var VGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=a_(vL.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(vL);const jGe=VGe;var nN=va,Yce=7,UGe=1,$J=30,WGe=7,rN="horizontal",Kce="vertical",qGe=5,$Ge=["line","bar","candlestick","scatter"],GGe={easing:"cubicOut",duration:100,delay:0},XGe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,r){this.api=r,this._onBrush=Ur(this._onBrush,this),this._onBrushEnd=Ur(this._onBrushEnd,this)},e.prototype.render=function(t,r,i,u){if(n.prototype.render.apply(this,arguments),FL(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!u||u.type!=="dataZoom"||u.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){lL(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new hi;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(r),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,r=this.api,i=t.get("brushSelect"),u=i?WGe:0,l=this._findCoordRect(),f={width:r.getWidth(),height:r.getHeight()},h=this._orient===rN?{right:f.width-l.x-l.width,top:f.height-$J-Yce-u,width:l.width,height:$J}:{right:Yce,top:l.y,width:$J,height:l.height},g=g5(t.option);Te(["right","top","width","height"],function(b){g[b]==="ph"&&(g[b]=h[b])});var y=Rd(g,f);this._location={x:y.x,y:y.y},this._size=[y.width,y.height],this._orient===Kce&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,r=this._location,i=this._orient,u=this.dataZoomModel.getFirstTargetAxisModel(),l=u&&u.get("inverse"),f=this._displayables.sliderGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(i===rN&&!l?{scaleY:h?1:-1,scaleX:1}:i===rN&&l?{scaleY:h?1:-1,scaleX:-1}:i===Kce&&!l?{scaleY:h?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:h?-1:1,scaleX:-1,rotation:Math.PI/2});var g=t.getBoundingRect([f]);t.x=r.x-g.x,t.y=r.y-g.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,u=t.get("brushSelect");i.add(new nN({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var l=new nN({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:Ur(this._onClickPanel,this)}),f=this.api.getZr();u?(l.on("mousedown",this._onBrushStart,this),l.cursor="crosshair",f.on("mousemove",this._onBrush),f.on("mouseup",this._onBrushEnd)):(f.off("mousemove",this._onBrush),f.off("mouseup",this._onBrushEnd)),i.add(l)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var r=this._size,i=this._shadowSize||[],u=t.series,l=u.getRawData(),f=u.getShadowDim&&u.getShadowDim(),h=f&&l.getDimensionInfo(f)?u.getShadowDim():t.otherDim;if(h==null)return;var g=this._shadowPolygonPts,y=this._shadowPolylinePts;if(l!==this._shadowData||h!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var b=l.getDataExtent(h),S=(b[1]-b[0])*.3;b=[b[0]-S,b[1]+S];var _=[0,r[1]],k=[0,r[0]],A=[[r[0],0],[0,0]],R=[],I=k[1]/(l.count()-1),z=0,L=Math.round(l.count()/r[0]),q;l.each([h],function(ie,le){if(L>0&&le%L){z+=I;return}var ce=ie==null||isNaN(ie)||ie==="",ne=ce?0:rs(ie,b,_,!0);ce&&!q&&le?(A.push([A[A.length-1][0],0]),R.push([R[R.length-1][0],0])):!ce&&q&&(A.push([z,0]),R.push([z,0])),A.push([z,ne]),R.push([z,ne]),z+=I,q=ce}),g=this._shadowPolygonPts=A,y=this._shadowPolylinePts=R}this._shadowData=l,this._shadowDim=h,this._shadowSize=[r[0],r[1]];var X=this.dataZoomModel;function Y(ie){var le=X.getModel(ie?"selectedDataBackground":"dataBackground"),ce=new hi,ne=new Sy({shape:{points:g},segmentIgnoreThreshold:1,style:le.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Q=new tg({shape:{points:y},segmentIgnoreThreshold:1,style:le.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return ce.add(ne),ce.add(Q),ce}for(var ae=0;ae<3;ae++){var te=Y(ae===1);this._displayables.sliderGroup.add(te),this._displayables.dataShadowSegs.push(te)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,r=t.get("showDataShadow");if(r!==!1){var i,u=this.ecModel;return t.eachTargetAxis(function(l,f){var h=t.getAxisProxy(l,f).getTargetSeriesModels();Te(h,function(g){if(!i&&!(r!==!0&&Di($Ge,g.get("type"))<0)){var y=u.getComponent(V2(l),f).axis,b=YGe(l),S,_=g.coordinateSystem;b!=null&&_.getOtherAxis&&(S=_.getOtherAxis(y).inverse),b=g.getData().mapDimension(b),i={thisAxis:y,series:g,thisDim:l,otherDim:b,otherAxisInverse:S}}},this)},this),i}},e.prototype._renderHandle=function(){var t=this.group,r=this._displayables,i=r.handles=[null,null],u=r.handleLabels=[null,null],l=this._displayables.sliderGroup,f=this._size,h=this.dataZoomModel,g=this.api,y=h.get("borderRadius")||0,b=h.get("brushSelect"),S=r.filler=new nN({silent:b,style:{fill:h.get("fillerColor")},textConfig:{position:"inside"}});l.add(S),l.add(new nN({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:f[0],height:f[1],r:y},style:{stroke:h.get("dataBackgroundColor")||h.get("borderColor"),lineWidth:UGe,fill:"rgba(0,0,0,0)"}})),Te([0,1],function(L){var q=h.get("handleIcon");!dV[q]&&q.indexOf("path://")<0&&q.indexOf("image://")<0&&(q="path://"+q);var X=sf(q,-1,0,2,2,null,!0);X.attr({cursor:Jce(this._orient),draggable:!0,drift:Ur(this._onDragMove,this,L),ondragend:Ur(this._onDragEnd,this),onmouseover:Ur(this._showDataInfo,this,!0),onmouseout:Ur(this._showDataInfo,this,!1),z2:5});var Y=X.getBoundingRect(),ae=h.get("handleSize");this._handleHeight=Xo(ae,this._size[1]),this._handleWidth=Y.width/Y.height*this._handleHeight,X.setStyle(h.getModel("handleStyle").getItemStyle()),X.style.strokeNoScale=!0,X.rectHover=!0,X.ensureState("emphasis").style=h.getModel(["emphasis","handleStyle"]).getItemStyle(),$2(X);var te=h.get("handleColor");te!=null&&(X.style.fill=te),l.add(i[L]=X);var ie=h.getModel("textStyle");t.add(u[L]=new ya({silent:!0,invisible:!0,style:wl(ie,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:ie.getTextColor(),font:ie.getFont()}),z2:10}))},this);var _=S;if(b){var k=Xo(h.get("moveHandleSize"),f[1]),A=r.moveHandle=new va({style:h.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:f[1]-.5,height:k}}),R=k*.8,I=r.moveHandleIcon=sf(h.get("moveHandleIcon"),-R/2,-R/2,R,R,"#fff",!0);I.silent=!0,I.y=f[1]+k/2-.5,A.ensureState("emphasis").style=h.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var z=Math.min(f[1]/2,Math.max(k,10));_=r.moveZone=new va({invisible:!0,shape:{y:f[1]-z,height:k+z}}),_.on("mouseover",function(){g.enterEmphasis(A)}).on("mouseout",function(){g.leaveEmphasis(A)}),l.add(A),l.add(I),l.add(_)}_.attr({draggable:!0,cursor:Jce(this._orient),drift:Ur(this._onDragMove,this,"all"),ondragstart:Ur(this._showDataInfo,this,!0),ondragend:Ur(this._onDragEnd,this),onmouseover:Ur(this._showDataInfo,this,!0),onmouseout:Ur(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[rs(t[0],[0,100],r,!0),rs(t[1],[0,100],r,!0)]},e.prototype._updateInterval=function(t,r){var i=this.dataZoomModel,u=this._handleEnds,l=this._getViewExtent(),f=i.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];PM(r,u,l,i.get("zoomLock")?"all":t,f.minSpan!=null?rs(f.minSpan,h,l,!0):null,f.maxSpan!=null?rs(f.maxSpan,h,l,!0):null);var g=this._range,y=this._range=uy([rs(u[0],l,h,!0),rs(u[1],l,h,!0)]);return!g||g[0]!==y[0]||g[1]!==y[1]},e.prototype._updateView=function(t){var r=this._displayables,i=this._handleEnds,u=uy(i.slice()),l=this._size;Te([0,1],function(_){var k=r.handles[_],A=this._handleHeight;k.attr({scaleX:A/2,scaleY:A/2,x:i[_]+(_?-1:1),y:l[1]/2-A/2})},this),r.filler.setShape({x:u[0],y:0,width:u[1]-u[0],height:l[1]});var f={x:u[0],width:u[1]-u[0]};r.moveHandle&&(r.moveHandle.setShape(f),r.moveZone.setShape(f),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",f.x+f.width/2));for(var h=r.dataShadowSegs,g=[0,u[0],u[1],l[0]],y=0;y<h.length;y++){var b=h[y],S=b.getClipPath();S||(S=new va,b.setClipPath(S)),S.setShape({x:g[y],y:0,width:g[y+1]-g[y],height:l[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var r=this.dataZoomModel,i=this._displayables,u=i.handleLabels,l=this._orient,f=["",""];if(r.get("showDetail")){var h=r.findRepresentativeAxisProxy();if(h){var g=h.getAxisModel().axis,y=this._range,b=t?h.calculateDataWindow({start:y[0],end:y[1]}).valueWindow:h.getDataValueWindow();f=[this._formatLabel(b[0],g),this._formatLabel(b[1],g)]}}var S=uy(this._handleEnds.slice());_.call(this,0),_.call(this,1);function _(k){var A=G2(i.handles[k].parent,this.group),R=u9(k===0?"right":"left",A),I=this._handleWidth/2+qGe,z=Mv([S[k]+(k===0?-I:I),this._size[1]/2],A);u[k].setStyle({x:z[0],y:z[1],verticalAlign:l===rN?"middle":R,align:l===rN?R:"center",text:f[k]})}},e.prototype._formatLabel=function(t,r){var i=this.dataZoomModel,u=i.get("labelFormatter"),l=i.get("labelPrecision");(l==null||l==="auto")&&(l=r.getPixelPrecision());var f=t==null||isNaN(t)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(l,20));return Eo(u)?u(t,f):Nr(u)?u.replace("{value}",f):f},e.prototype._showDataInfo=function(t){t=this._dragging||t;var r=this._displayables,i=r.handleLabels;i[0].attr("invisible",!t),i[1].attr("invisible",!t),r.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},e.prototype._onDragMove=function(t,r,i,u){this._dragging=!0,Pb(u.event);var l=this._displayables.sliderGroup.getLocalTransform(),f=Mv([r,i],l,!0),h=this._updateInterval(t,f[0]),g=this.dataZoomModel.get("realtime");this._updateView(!g),h&&g&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var u=this._handleEnds,l=(u[0]+u[1])/2,f=this._updateInterval("all",i[0]-l);this._updateView(),f&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var r=t.offsetX,i=t.offsetY;this._brushStart=new di(r,i),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,u=+new Date;if(!(u-this._brushStartTime<200&&Math.abs(i.width)<5)){var l=this._getViewExtent(),f=[0,100];this._range=uy([rs(i.x,l,f,!0),rs(i.x+i.width,l,f,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Pb(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,r){var i=this._displayables,u=this.dataZoomModel,l=i.brushRect;l||(l=i.brushRect=new nN({silent:!0,style:u.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(l)),l.attr("ignore",!1);var f=this._brushStart,h=this._displayables.sliderGroup,g=h.transformCoordToLocal(t,r),y=h.transformCoordToLocal(f.x,f.y),b=this._size;g[0]=Math.max(Math.min(b[0],g[0]),0),l.setShape({x:y[0],y:0,width:g[0]-y[0],height:b[1]})},e.prototype._dispatchZoomAction=function(t){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?GGe:null,start:r[0],end:r[1]})},e.prototype._findCoordRect=function(){var t,r=_ye(this.dataZoomModel).infoList;if(!t&&r.length){var i=r[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var u=this.api.getWidth(),l=this.api.getHeight();t={x:u*.2,y:l*.2,width:u*.6,height:l*.6}}return t},e.type="dataZoom.slider",e}(_ne);function YGe(n){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[n]}function Jce(n){return n==="vertical"?"ns-resize":"ew-resize"}const KGe=XGe;function JGe(n){n.registerComponentModel(jGe),n.registerComponentView(KGe),Sne(n)}function QGe(n){Rc(HGe),Rc(JGe)}var ZGe={get:function(n,e,t){var r=vo((eXe[n]||{})[e]);return t&&sr(r)?r[r.length-1]:r}},eXe={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const zye=ZGe;var Qce=_h.mapVisual,tXe=_h.eachVisual,nXe=sr,Zce=Te,rXe=uy,oXe=rs,iXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.optionUpdated=function(t,r){var i=this.option;!r&&Y$e(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var r=this.stateList;t=Ur(t,this),this.controllerVisuals=Fce(this.option.controller,r,t),this.targetVisuals=Fce(this.option.target,r,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,r=[];return t==null||t==="all"?this.ecModel.eachSeries(function(i,u){r.push(u)}):r=Bs(t),r},e.prototype.eachTargetSeries=function(t,r){Te(this.getTargetSeriesIndices(),function(i){var u=this.ecModel.getSeriesByIndex(i);u&&t.call(r,u)},this)},e.prototype.isTargetSeries=function(t){var r=!1;return this.eachTargetSeries(function(i){i===t&&(r=!0)}),r},e.prototype.formatValueText=function(t,r,i){var u=this.option,l=u.precision,f=this.dataBound,h=u.formatter,g;i=i||["<",">"],sr(t)&&(t=t.slice(),g=!0);var y=r?t:g?[b(t[0]),b(t[1])]:b(t);if(Nr(h))return h.replace("{value}",g?y[0]:y).replace("{value2}",g?y[1]:y);if(Eo(h))return g?h(t[0],t[1]):h(t);if(g)return t[0]===f[0]?i[0]+" "+y[1]:t[1]===f[1]?i[1]+" "+y[0]:y[0]+" - "+y[1];return y;function b(S){return S===f[0]?"min":S===f[1]?"max":(+S).toFixed(Math.min(l,20))}},e.prototype.resetExtent=function(){var t=this.option,r=rXe([t.min,t.max]);this._dataExtent=r},e.prototype.getDataDimensionIndex=function(t){var r=this.option.dimension;if(r!=null)return t.getDimensionIndex(r);for(var i=t.dimensions,u=i.length-1;u>=0;u--){var l=i[u],f=t.getDimensionInfo(l);if(!f.isCalculationCoord)return f.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},u=r.target||(r.target={}),l=r.controller||(r.controller={});Vo(u,i),Vo(l,i);var f=this.isCategory();h.call(this,u),h.call(this,l),g.call(this,u,"inRange","outOfRange"),y.call(this,l);function h(b){nXe(r.color)&&!b.inRange&&(b.inRange={color:r.color.slice().reverse()}),b.inRange=b.inRange||{color:t.get("gradientColor")}}function g(b,S,_){var k=b[S],A=b[_];k&&!A&&(A=b[_]={},Zce(k,function(R,I){if(_h.isValidType(I)){var z=zye.get(I,"inactive",f);z!=null&&(A[I]=z,I==="color"&&!A.hasOwnProperty("opacity")&&!A.hasOwnProperty("colorAlpha")&&(A.opacity=[0,0]))}}))}function y(b){var S=(b.inRange||{}).symbol||(b.outOfRange||{}).symbol,_=(b.inRange||{}).symbolSize||(b.outOfRange||{}).symbolSize,k=this.get("inactiveColor"),A=this.getItemSymbol(),R=A||"roundRect";Zce(this.stateList,function(I){var z=this.itemSize,L=b[I];L||(L=b[I]={color:f?k:[k]}),L.symbol==null&&(L.symbol=S&&vo(S)||(f?R:[R])),L.symbolSize==null&&(L.symbolSize=_&&vo(_)||(f?z[0]:[z[0],z[0]])),L.symbol=Qce(L.symbol,function(Y){return Y==="none"?R:Y});var q=L.symbolSize;if(q!=null){var X=-1/0;tXe(q,function(Y){Y>X&&(X=Y)}),L.symbolSize=Qce(q,function(Y){return oXe(Y,[0,X],[0,z[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Vi);const DV=iXe;var efe=[20,140],aXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=efe[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=efe[1])},e.prototype._resetRange=function(){var t=this.getExtent(),r=this.option.range;!r||r.auto?(t.auto=1,this.option.range=t):sr(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],t[0]),r[1]=Math.min(r[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),Te(this.stateList,function(t){var r=this.option.controller[t].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),r=uy((this.get("range")||[]).slice());return r[0]>t[1]&&(r[0]=t[1]),r[1]>t[1]&&(r[1]=t[1]),r[0]<t[0]&&(r[0]=t[0]),r[1]<t[0]&&(r[1]=t[0]),r},e.prototype.getValueState=function(t){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=t)&&(r[1]>=i[1]||t<=r[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[];return this.eachTargetSeries(function(i){var u=[],l=i.getData();l.each(this.getDataDimensionIndex(l),function(f,h){t[0]<=f&&f<=t[1]&&u.push(h)},this),r.push({seriesId:i.id,dataIndex:u})},this),r},e.prototype.getVisualMeta=function(t){var r=tfe(this,"outOfRange",this.getExtent()),i=tfe(this,"inRange",this.option.range.slice()),u=[];function l(_,k){u.push({value:_,color:t(_,k)})}for(var f=0,h=0,g=i.length,y=r.length;h<y&&(!i.length||r[h]<=i[0]);h++)r[h]<i[f]&&l(r[h],"outOfRange");for(var b=1;f<g;f++,b=0)b&&u.length&&l(i[f],"outOfRange"),l(i[f],"inRange");for(var b=1;h<y;h++)(!i.length||i[i.length-1]<r[h])&&(b&&(u.length&&l(u[u.length-1].value,"outOfRange"),b=0),l(r[h],"outOfRange"));var S=u.length;return{stops:u,outerColors:[S?u[0].color:"transparent",S?u[S-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=a_(DV.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(DV);function tfe(n,e,t){if(t[0]===t[1])return t.slice();for(var r=200,i=(t[1]-t[0])/r,u=t[0],l=[],f=0;f<=r&&u<t[1];f++)l.push(u),u+=i;return l.push(t[1]),l}const uXe=aXe;var sXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,r){this.ecModel=t,this.api=r},e.prototype.render=function(t,r,i,u){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,r,i,u)},e.prototype.renderBackground=function(t){var r=this.visualMapModel,i=m5(r.get("padding")||0),u=t.getBoundingRect();t.add(new va({z2:-1,silent:!0,shape:{x:u.x-i[3],y:u.y-i[0],width:u.width+i[3]+i[1],height:u.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,r,i){i=i||{};var u=i.forceState,l=this.visualMapModel,f={};if(r==="color"){var h=l.get("contentColor");f.color=h}function g(_){return f[_]}function y(_,k){f[_]=k}var b=l.controllerVisuals[u||l.getValueState(t)],S=_h.prepareVisualTypes(b);return Te(S,function(_){var k=b[_];i.convertOpacityToAlpha&&_==="opacity"&&(_="colorAlpha",k=b.__alphaForOpacity),_h.dependsOn(_,r)&&k&&k.applyVisual(t,g,y)}),f[r]},e.prototype.positionGroup=function(t){var r=this.visualMapModel,i=this.api;Mte(t,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},e.prototype.doRender=function(t,r,i,u){},e.type="visualMap",e}(zs);const Fye=sXe;var nfe=[["left","right","width"],["top","bottom","height"]];function Hye(n,e,t){var r=n.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var u={width:e.getWidth(),height:e.getHeight()},l=r.orient==="horizontal"?1:0,f=nfe[l],h=[0,null,10],g={},y=0;y<3;y++)g[nfe[1-l][y]]=h[y],g[f[y]]=y===2?t[0]:r[f[y]];var b=[["x","width",3],["y","height",0]][l],S=Rd(g,u,r.padding);return f[(S.margin[b[2]]||0)+S[b[0]]+S[b[1]]*.5<u[b[1]]*.5?0:1]}function DH(n,e){return Te(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var ry=rs,lXe=Te,rfe=Math.min,GJ=Math.max,cXe=12,fXe=6,dXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.doRender=function(t,r,i,u){this._api=i,(!u||u.type!=="selectDataRange"||u.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,r=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(r);var i=t.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},e.prototype._renderEndsText=function(t,r,i){if(r){var u=r[1-i];u=u!=null?u+"":"";var l=this.visualMapModel,f=l.get("textGap"),h=l.itemSize,g=this._shapes.mainGroup,y=this._applyTransform([h[0]/2,i===0?-f:h[1]+f],g),b=this._applyTransform(i===0?"bottom":"top",g),S=this._orient,_=this.visualMapModel.textStyleModel;this.group.add(new ya({style:wl(_,{x:y[0],y:y[1],verticalAlign:S==="horizontal"?"middle":b,align:S==="horizontal"?b:"center",text:u})}))}},e.prototype._renderBar=function(t){var r=this.visualMapModel,i=this._shapes,u=r.itemSize,l=this._orient,f=this._useHandle,h=Hye(r,this.api,u),g=i.mainGroup=this._createBarGroup(h),y=new hi;g.add(y),y.add(i.outOfRange=ofe()),y.add(i.inRange=ofe(null,f?afe(this._orient):null,Ur(this._dragHandle,this,"all",!1),Ur(this._dragHandle,this,"all",!0))),y.setClipPath(new va({shape:{x:0,y:0,width:u[0],height:u[1],r:3}}));var b=r.textStyleModel.getTextRect(""),S=GJ(b.width,b.height);f&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,g,0,u,S,l),this._createHandle(r,g,1,u,S,l)),this._createIndicator(r,g,u,S,l),t.add(g)},e.prototype._createHandle=function(t,r,i,u,l,f){var h=Ur(this._dragHandle,this,i,!1),g=Ur(this._dragHandle,this,i,!0),y=Dv(t.get("handleSize"),u[0]),b=sf(t.get("handleIcon"),-y/2,-y/2,y,y,null,!0),S=afe(this._orient);b.attr({cursor:S,draggable:!0,drift:h,ondragend:g,onmousemove:function(I){Pb(I.event)}}),b.x=u[0]/2,b.useStyle(t.getModel("handleStyle").getItemStyle()),b.setStyle({strokeNoScale:!0,strokeFirst:!0}),b.style.lineWidth*=2,b.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),ate(b,!0),r.add(b);var _=this.visualMapModel.textStyleModel,k=new ya({cursor:S,draggable:!0,drift:h,onmousemove:function(I){Pb(I.event)},ondragend:g,style:wl(_,{x:0,y:0,text:""})});k.ensureState("blur").style={opacity:.1},k.stateTransition={duration:200},this.group.add(k);var A=[y,0],R=this._shapes;R.handleThumbs[i]=b,R.handleLabelPoints[i]=A,R.handleLabels[i]=k},e.prototype._createIndicator=function(t,r,i,u,l){var f=Dv(t.get("indicatorSize"),i[0]),h=sf(t.get("indicatorIcon"),-f/2,-f/2,f,f,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var g=t.getModel("indicatorStyle").getItemStyle();if(h instanceof Ip){var y=h.style;h.useStyle(Gn({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},g))}else h.useStyle(g);r.add(h);var b=this.visualMapModel.textStyleModel,S=new ya({silent:!0,invisible:!0,style:wl(b,{x:0,y:0,text:""})});this.group.add(S);var _=[(l==="horizontal"?u/2:fXe)+i[0]/2,0],k=this._shapes;k.indicator=h,k.indicatorLabel=S,k.indicatorLabelPoint=_,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,r,i,u){if(this._useHandle){if(this._dragging=!r,!r){var l=this._applyTransform([i,u],this._shapes.mainGroup,!0);this._updateInterval(t,l[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():ife(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,r=this._dataInterval=t.getSelected(),i=t.getExtent(),u=[0,t.itemSize[1]];this._handleEnds=[ry(r[0],i,u,!0),ry(r[1],i,u,!0)]},e.prototype._updateInterval=function(t,r){r=r||0;var i=this.visualMapModel,u=this._handleEnds,l=[0,i.itemSize[1]];PM(r,u,l,t,0);var f=i.getExtent();this._dataInterval=[ry(u[0],l,f,!0),ry(u[1],l,f,!0)]},e.prototype._updateView=function(t){var r=this.visualMapModel,i=r.getExtent(),u=this._shapes,l=[0,r.itemSize[1]],f=t?l:this._handleEnds,h=this._createBarVisual(this._dataInterval,i,f,"inRange"),g=this._createBarVisual(i,i,l,"outOfRange");u.inRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),u.outOfRange.setStyle({fill:g.barColor}).setShape("points",g.barPoints),this._updateHandle(f,h)},e.prototype._createBarVisual=function(t,r,i,u){var l={forceState:u,convertOpacityToAlpha:!0},f=this._makeColorGradient(t,l),h=[this.getControllerVisual(t[0],"symbolSize",l),this.getControllerVisual(t[1],"symbolSize",l)],g=this._createBarPoints(i,h);return{barColor:new BL(0,0,0,1,f),barPoints:g,handlesColor:[f[0].color,f[f.length-1].color]}},e.prototype._makeColorGradient=function(t,r){var i=100,u=[],l=(t[1]-t[0])/i;u.push({color:this.getControllerVisual(t[0],"color",r),offset:0});for(var f=1;f<i;f++){var h=t[0]+l*f;if(h>t[1])break;u.push({color:this.getControllerVisual(h,"color",r),offset:f/i})}return u.push({color:this.getControllerVisual(t[1],"color",r),offset:1}),u},e.prototype._createBarPoints=function(t,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-r[1],t[1]]]},e.prototype._createBarGroup=function(t){var r=this._orient,i=this.visualMapModel.get("inverse");return new hi(r==="horizontal"&&!i?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,r){if(this._useHandle){var i=this._shapes,u=this.visualMapModel,l=i.handleThumbs,f=i.handleLabels,h=u.itemSize,g=u.getExtent();lXe([0,1],function(y){var b=l[y];b.setStyle("fill",r.handlesColor[y]),b.y=t[y];var S=ry(t[y],[0,h[1]],g,!0),_=this.getControllerVisual(S,"symbolSize");b.scaleX=b.scaleY=_/h[0],b.x=h[0]-_/2;var k=Mv(i.handleLabelPoints[y],G2(b,this.group));f[y].setStyle({x:k[0],y:k[1],text:u.formatValueText(this._dataInterval[y]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,r,i,u){var l=this.visualMapModel,f=l.getExtent(),h=l.itemSize,g=[0,h[1]],y=this._shapes,b=y.indicator;if(b){b.attr("invisible",!1);var S={convertOpacityToAlpha:!0},_=this.getControllerVisual(t,"color",S),k=this.getControllerVisual(t,"symbolSize"),A=ry(t,f,g,!0),R=h[0]-k/2,I={x:b.x,y:b.y};b.y=A,b.x=R;var z=Mv(y.indicatorLabelPoint,G2(b,this.group)),L=y.indicatorLabel;L.attr("invisible",!1);var q=this._applyTransform("left",y.mainGroup),X=this._orient,Y=X==="horizontal";L.setStyle({text:(i||"")+l.formatValueText(r),verticalAlign:Y?q:"middle",align:Y?"center":q});var ae={x:R,y:A,style:{fill:_}},te={style:{x:z[0],y:z[1]}};if(l.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var ie={duration:100,easing:"cubicInOut",additive:!0};b.x=I.x,b.y=I.y,b.animateTo(ae,ie),L.animateTo(te,ie)}else b.attr(ae),L.attr(te);this._firstShowIndicator=!1;var le=this._shapes.handleLabels;if(le)for(var ce=0;ce<le.length;ce++)this._api.enterBlur(le[ce])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(r){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,u=t._applyTransform([r.offsetX,r.offsetY],t._shapes.mainGroup,!0,!0);u[1]=rfe(GJ(0,u[1]),i[1]),t._doHoverLinkToSeries(u[1],0<=u[0]&&u[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,r){var i=this.visualMapModel,u=i.itemSize;if(i.option.hoverLink){var l=[0,u[1]],f=i.getExtent();t=rfe(GJ(l[0],t),l[1]);var h=hXe(i,f,l),g=[t-h,t+h],y=ry(t,l,f,!0),b=[ry(g[0],l,f,!0),ry(g[1],l,f,!0)];g[0]<l[0]&&(b[0]=-1/0),g[1]>l[1]&&(b[1]=1/0),r&&(b[0]===-1/0?this._showIndicator(y,b[1],"< ",h):b[1]===1/0?this._showIndicator(y,b[0],"> ",h):this._showIndicator(y,y," ",h));var S=this._hoverLinkDataIndices,_=[];(r||ife(i))&&(_=this._hoverLinkDataIndices=i.findTargetDataIndices(b));var k=fLe(S,_);this._dispatchHighDown("downplay",DH(k[0],i)),this._dispatchHighDown("highlight",DH(k[1],i))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var r;if(aM(t.target,function(h){var g=Ai(h);if(g.dataIndex!=null)return r=g,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),u=this.visualMapModel;if(u.isTargetSeries(i)){var l=i.getData(r.dataType),f=l.getStore().get(u.getDataDimensionIndex(l),r.dataIndex);isNaN(f)||this._showIndicator(f,f)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this._api.leaveBlur(r[i])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",DH(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,r,i,u){var l=G2(r,u?null:this.group);return sr(t)?Mv(t,l,i):u9(t,l,i)},e.prototype._dispatchHighDown=function(t,r){r&&r.length&&this.api.dispatchAction({type:t,batch:r})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(Fye);function ofe(n,e,t,r){return new Sy({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(i){Pb(i.event)},ondragend:r})}function hXe(n,e,t){var r=cXe/2,i=n.get("hoverLinkDataSize");return i&&(r=ry(i,e,t,!0)/2),r}function ife(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function afe(n){return n==="vertical"?"ns-resize":"ew-resize"}const pXe=dXe;var mXe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},gXe=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},vXe=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(r){var i=n.pipelineContext;!r.isTargetSeries(n)||i&&i.large||t.push(K$e(r.stateList,r.targetVisuals,Ur(r.getValueState,r),r.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),r=[];e.eachComponent("visualMap",function(i){if(i.isTargetSeries(n)){var u=i.getVisualMeta(Ur(yXe,null,n,i))||{stops:[],outerColors:[]},l=i.getDataDimensionIndex(t);l>=0&&(u.dimension=l,r.push(u))}}),n.getData().setVisual("visualMeta",r)}}];function yXe(n,e,t,r){for(var i=e.targetVisuals[r],u=_h.prepareVisualTypes(i),l={color:Uge(n.getData(),"color")},f=0,h=u.length;f<h;f++){var g=u[f],y=i[g==="opacity"?"__alphaForOpacity":g];y&&y.applyVisual(t,b,S)}return l.color;function b(_){return l[_]}function S(_,k){l[_]=k}}var ufe=Te;function bXe(n){var e=n&&n.visualMap;sr(e)||(e=e?[e]:[]),ufe(e,function(t){if(t){d3(t,"splitList")&&!d3(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var r=t.pieces;r&&sr(r)&&ufe(r,function(i){no(i)&&(d3(i,"start")&&!d3(i,"min")&&(i.min=i.start),d3(i,"end")&&!d3(i,"max")&&(i.max=i.end))})}})}function d3(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var sfe=!1;function Vye(n){sfe||(sfe=!0,n.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),n.registerAction(mXe,gXe),Te(vXe,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(bXe))}function xXe(n){n.registerComponentModel(uXe),n.registerComponentView(pXe),Vye(n)}var wXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],_Xe[this._mode].call(this,this._pieceList),this._resetSelected(t,r);var u=this.option.categories;this.resetVisual(function(l,f){i==="categories"?(l.mappingMethod="category",l.categories=vo(u)):(l.dataExtent=this.getExtent(),l.mappingMethod="piecewise",l.pieceList=br(this._pieceList,function(h){return h=vo(h),f!=="inRange"&&(h.visual=null),h}))})},e.prototype.completeVisualOption=function(){var t=this.option,r={},i=_h.listVisualTypes(),u=this.isCategory();Te(t.pieces,function(f){Te(i,function(h){f.hasOwnProperty(h)&&(r[h]=1)})}),Te(r,function(f,h){var g=!1;Te(this.stateList,function(y){g=g||l(t,y,h)||l(t.target,y,h)},this),!g&&Te(this.stateList,function(y){(t[y]||(t[y]={}))[h]=zye.get(h,y==="inRange"?"active":"inactive",u)})},this);function l(f,h,g){return f&&f[h]&&f[h].hasOwnProperty(g)}n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,r){var i=this.option,u=this._pieceList,l=(r?i:t).selected||{};if(i.selected=l,Te(u,function(h,g){var y=this.getSelectedMapKey(h);l.hasOwnProperty(y)||(l[y]=!0)},this),i.selectedMode==="single"){var f=!1;Te(u,function(h,g){var y=this.getSelectedMapKey(h);l[y]&&(f?l[y]=!1:f=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=vo(t)},e.prototype.getValueState=function(t){var r=_h.findPieceIndex(t,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var r=[],i=this._pieceList;return this.eachTargetSeries(function(u){var l=[],f=u.getData();f.each(this.getDataDimensionIndex(f),function(h,g){var y=_h.findPieceIndex(h,i);y===t&&l.push(g)},this),r.push({seriesId:u.id,dataIndex:l})},this),r},e.prototype.getRepresentValue=function(t){var r;if(this.isCategory())r=t.value;else if(t.value!=null)r=t.value;else{var i=t.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var r=[],i=["",""],u=this;function l(y,b){var S=u.getRepresentValue({interval:y});b||(b=u.getValueState(S));var _=t(S,b);y[0]===-1/0?i[0]=_:y[1]===1/0?i[1]=_:r.push({value:y[0],color:_},{value:y[1],color:_})}var f=this._pieceList.slice();if(!f.length)f.push({interval:[-1/0,1/0]});else{var h=f[0].interval[0];h!==-1/0&&f.unshift({interval:[-1/0,h]}),h=f[f.length-1].interval[1],h!==1/0&&f.push({interval:[h,1/0]})}var g=-1/0;return Te(f,function(y){var b=y.interval;b&&(b[0]>g&&l([g,b[0]],"outOfRange"),l(b.slice()),g=b[1])},this),{stops:r,outerColors:i}},e.type="visualMap.piecewise",e.defaultOption=a_(DV.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(DV),_Xe={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),r=this.getExtent(),i=e.splitNumber;i=Math.max(parseInt(i,10),1),e.splitNumber=i;for(var u=(r[1]-r[0])/i;+u.toFixed(t)!==u&&t<5;)t++;e.precision=t,u=+u.toFixed(t),e.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var l=0,f=r[0];l<i;f+=u,l++){var h=l===i-1?r[1]:f+u;n.push({interval:[f,h],close:[1,1]})}e.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),qQ(n),Te(n,function(g,y){g.index=y,g.text=this.formatValueText(g.interval)},this)},categories:function(n){var e=this.option;Te(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),lfe(e,n)},pieces:function(n){var e=this.option;Te(e.pieces,function(t,r){no(t)||(t={value:t});var i={text:"",index:r};if(t.label!=null&&(i.text=t.label),t.hasOwnProperty("value")){var u=i.value=t.value;i.interval=[u,u],i.close=[1,1]}else{for(var l=i.interval=[],f=i.close=[0,0],h=[1,0,1],g=[-1/0,1/0],y=[],b=0;b<2;b++){for(var S=[["gte","gt","min"],["lte","lt","max"]][b],_=0;_<3&&l[b]==null;_++)l[b]=t[S[_]],f[b]=h[_],y[b]=_===2;l[b]==null&&(l[b]=g[b])}y[0]&&l[1]===1/0&&(f[0]=0),y[1]&&l[0]===-1/0&&(f[1]=0),l[0]===l[1]&&f[0]&&f[1]&&(i.value=l[0])}i.visual=_h.retrieveVisuals(t),n.push(i)},this),lfe(e,n),qQ(n),Te(n,function(t){var r=t.close,i=[["<",""][r[1]],[">",""][r[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,i)},this)}};function lfe(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}const SXe=wXe;var CXe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var r=this.visualMapModel,i=r.get("textGap"),u=r.textStyleModel,l=u.getFont(),f=u.getTextColor(),h=this._getItemAlign(),g=r.itemSize,y=this._getViewData(),b=y.endsText,S=Rb(r.get("showLabel",!0),!b);b&&this._renderEndsText(t,b[0],g,S,h),Te(y.viewPieceList,function(_){var k=_.piece,A=new hi;A.onclick=Ur(this._onItemClick,this,k),this._enableHoverLink(A,_.indexInModelPieceList);var R=r.getRepresentValue(k);if(this._createItemSymbol(A,R,[0,0,g[0],g[1]]),S){var I=this.visualMapModel.getValueState(R);A.add(new ya({style:{x:h==="right"?-i:g[0]+i,y:g[1]/2,text:k.text,verticalAlign:"middle",align:h,font:l,fill:f,opacity:I==="outOfRange"?.5:1}}))}t.add(A)},this),b&&this._renderEndsText(t,b[1],g,S,h),mM(r.get("orient"),t,r.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,r){var i=this;t.on("mouseover",function(){return u("highlight")}).on("mouseout",function(){return u("downplay")});var u=function(l){var f=i.visualMapModel;f.option.hoverLink&&i.api.dispatchAction({type:l,batch:DH(f.findTargetDataIndices(r),f)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,r=t.option;if(r.orient==="vertical")return Hye(t,this.api,t.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},e.prototype._renderEndsText=function(t,r,i,u,l){if(r){var f=new hi,h=this.visualMapModel.textStyleModel;f.add(new ya({style:wl(h,{x:u?l==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:u?l:"center",text:r})})),t.add(f)}},e.prototype._getViewData=function(){var t=this.visualMapModel,r=br(t.getPieceList(),function(f,h){return{piece:f,indexInModelPieceList:h}}),i=t.get("text"),u=t.get("orient"),l=t.get("inverse");return(u==="horizontal"?l:!l)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},e.prototype._createItemSymbol=function(t,r,i){t.add(sf(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},e.prototype._onItemClick=function(t){var r=this.visualMapModel,i=r.option,u=i.selectedMode;if(u){var l=vo(i.selected),f=r.getSelectedMapKey(t);u==="single"||u===!0?(l[f]=!0,Te(l,function(h,g){l[g]=g===f})):l[f]=!l[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})}},e.type="visualMap.piecewise",e}(Fye);const TXe=CXe;function MXe(n){n.registerComponentModel(SXe),n.registerComponentView(TXe),Vye(n)}function kXe(n){Rc(xXe),Rc(MXe)}var DXe={label:{enabled:!0},decal:{show:!1}},cfe=lu(),AXe={};function EXe(n,e){var t=n.getModel("aria");if(!t.get("enabled"))return;var r=vo(DXe);Vo(r.label,n.getLocaleModel().get("aria"),!1),Vo(t.option,r,!1),i(),u();function i(){var g=t.getModel("decal"),y=g.get("show");if(y){var b=to();n.eachSeries(function(S){if(!S.isColorBySeries()){var _=b.get(S.type);_||(_={},b.set(S.type,_)),cfe(S).scope=_}}),n.eachRawSeries(function(S){if(n.isSeriesFiltered(S))return;if(Eo(S.enableAriaDecal)){S.enableAriaDecal();return}var _=S.getData();if(S.isColorBySeries()){var k=due(S.ecModel,S.name,AXe,n.getSeriesCount()),A=_.getVisual("decal");_.setVisual("decal",q(A,k))}else{var R=S.getRawData(),I={},z=cfe(S).scope;_.each(function(X){var Y=_.getRawIndex(X);I[Y]=X});var L=R.count();R.each(function(X){var Y=I[X],ae=R.getName(X)||X+"",te=due(S.ecModel,ae,z,L),ie=_.getItemVisual(Y,"decal");_.setItemVisual(Y,"decal",q(ie,te))})}function q(X,Y){var ae=X?Gn(Gn({},Y),X):Y;return ae.dirty=!0,ae}})}}function u(){var g=n.getLocaleModel().get("aria"),y=t.getModel("label");if(y.option=Co(y.option,g),!!y.get("enabled")){var b=e.getZr().dom;if(y.get("description")){b.setAttribute("aria-label",y.get("description"));return}var S=n.getSeriesCount(),_=y.get(["data","maxCount"])||10,k=y.get(["series","maxCount"])||10,A=Math.min(S,k),R;if(!(S<1)){var I=f();if(I){var z=y.get(["general","withTitle"]);R=l(z,{title:I})}else R=y.get(["general","withoutTitle"]);var L=[],q=S>1?y.get(["series","multiple","prefix"]):y.get(["series","single","prefix"]);R+=l(q,{seriesCount:S}),n.eachSeries(function(te,ie){if(ie<A){var le=void 0,ce=te.get("name"),ne=ce?"withName":"withoutName";le=S>1?y.get(["series","multiple",ne]):y.get(["series","single",ne]),le=l(le,{seriesId:te.seriesIndex,seriesName:te.get("name"),seriesType:h(te.subType)});var Q=te.getData();if(Q.count()>_){var Ce=y.get(["data","partialData"]);le+=l(Ce,{displayCnt:_})}else le+=y.get(["data","allData"]);for(var ze=y.get(["data","separator","middle"]),ke=y.get(["data","separator","end"]),St=[],tt=0;tt<Q.count();tt++)if(tt<_){var G=Q.getName(tt),We=Q.getValues(tt),Ge=y.get(["data",G?"withName":"withoutName"]);St.push(l(Ge,{name:G,value:We.join(ze)}))}le+=St.join(ze)+ke,L.push(le)}});var X=y.getModel(["series","multiple","separator"]),Y=X.get("middle"),ae=X.get("end");R+=L.join(Y)+ae,b.setAttribute("aria-label",R)}}}function l(g,y){if(!Nr(g))return g;var b=g;return Te(y,function(S,_){b=b.replace(new RegExp("\\{\\s*"+_+"\\s*\\}","g"),S)}),b}function f(){var g=n.get("title");return g&&g.length&&(g=g[0]),g&&g.text}function h(g){return n.getLocaleModel().get(["series","typeNames"])[g]||""}}function OXe(n){if(!(!n||!n.aria)){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},Te(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function IXe(n){n.registerPreprocessor(OXe),n.registerVisual(n.PRIORITY.VISUAL.ARIA,EXe)}function ffe(n,e,t){var r=Ib.createCanvas(),i=e.getWidth(),u=e.getHeight(),l=r.style;return l&&(l.position="absolute",l.left="0",l.top="0",l.width=i+"px",l.height=u+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*t,r.height=u*t,r}var RXe=function(n){Tn(e,n);function e(t,r,i){var u=n.call(this)||this;u.motionBlur=!1,u.lastFrameAlpha=.7,u.dpr=1,u.virtual=!1,u.config={},u.incremental=!1,u.zlevel=0,u.maxRepaintRectCount=5,u.__dirty=!0,u.__firstTimePaint=!0,u.__used=!1,u.__drawIndex=0,u.__startIndex=0,u.__endIndex=0,u.__prevStartIndex=null,u.__prevEndIndex=null;var l;i=i||eV,typeof t=="string"?l=ffe(t,r,i):no(t)&&(l=t,t=l.id),u.id=t,u.dom=l;var f=l.style;return f&&(Fee(l),l.onselectstart=function(){return!1},f.padding="0",f.margin="0",f.borderWidth="0"),u.painter=r,u.dpr=i,u}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=ffe("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,u){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var l=[],f=this.maxRepaintRectCount,h=!1,g=new vi(0,0,0,0);function y(z){if(!(!z.isFinite()||z.isZero()))if(l.length===0){var L=new vi(0,0,0,0);L.copy(z),l.push(L)}else{for(var q=!1,X=1/0,Y=0,ae=0;ae<l.length;++ae){var te=l[ae];if(te.intersect(z)){var ie=new vi(0,0,0,0);ie.copy(te),ie.union(z),l[ae]=ie,q=!0;break}else if(h){g.copy(z),g.union(te);var le=z.width*z.height,ce=te.width*te.height,ne=g.width*g.height,Q=ne-le-ce;Q<X&&(X=Q,Y=ae)}}if(h&&(l[Y].union(z),q=!0),!q){var L=new vi(0,0,0,0);L.copy(z),l.push(L)}h||(h=l.length>=f)}}for(var b=this.__startIndex;b<this.__endIndex;++b){var S=t[b];if(S){var _=S.shouldBePainted(i,u,!0,!0),k=S.__isRendered&&(S.__dirty&Cp||!_)?S.getPrevPaintRect():null;k&&y(k);var A=_&&(S.__dirty&Cp||!S.__isRendered)?S.getPaintRect():null;A&&y(A)}}for(var b=this.__prevStartIndex;b<this.__prevEndIndex;++b){var S=r[b],_=S.shouldBePainted(i,u,!0,!0);if(S&&(!_||!S.__zr)&&S.__isRendered){var k=S.getPrevPaintRect();k&&y(k)}}var R;do{R=!1;for(var b=0;b<l.length;){if(l[b].isZero()){l.splice(b,1);continue}for(var I=b+1;I<l.length;)l[b].intersect(l[I])?(R=!0,l[b].union(l[I]),l.splice(I,1)):I++;b++}}while(R);return this._paintRects=l,l},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,u=this.dom,l=u.style,f=this.domBack;l&&(l.width=t+"px",l.height=r+"px"),u.width=t*i,u.height=r*i,f&&(f.width=t*i,f.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var u=this.dom,l=this.ctx,f=u.width,h=u.height;r=r||this.clearColor;var g=this.motionBlur&&!t,y=this.lastFrameAlpha,b=this.dpr,S=this;g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(u,0,0,f/b,h/b));var _=this.domBack;function k(A,R,I,z){if(l.clearRect(A,R,I,z),r&&r!=="transparent"){var L=void 0;if(EL(r)){var q=r.global||r.__width===I&&r.__height===z;L=q&&r.__canvasGradient||fZ(l,r,{x:0,y:0,width:I,height:z}),r.__canvasGradient=L,r.__width=I,r.__height=z}else upe(r)&&(r.scaleX=r.scaleX||b,r.scaleY=r.scaleY||b,L=dZ(l,r,{dirty:function(){S.setUnpainted(),S.__painter.refresh()}}));l.save(),l.fillStyle=L||r,l.fillRect(A,R,I,z),l.restore()}g&&(l.save(),l.globalAlpha=y,l.drawImage(_,A,R,I,z),l.restore())}!i||g?k(0,0,f,h):i.length&&Te(i,function(A){k(A.x*b,A.y*b,A.width*b,A.height*b)})},e}(eg);const XJ=RXe;var dfe=1e5,XT=314159,ZF=.01,PXe=.001;function NXe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function LXe(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var BXe=function(){function n(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var u=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=Gn({},r||{}),this.dpr=r.devicePixelRatio||eV,this._singleCanvas=u,this.root=e;var l=e.style;l&&(Fee(e),e.innerHTML=""),this.storage=t;var f=this._zlevelList;this._prevDisplayList=[];var h=this._layers;if(u){var g=e,y=g.width,b=g.height;r.width!=null&&(y=r.width),r.height!=null&&(b=r.height),this.dpr=r.devicePixelRatio||1,g.width=y*this.dpr,g.height=b*this.dpr,this._width=y,this._height=b;var S=new XJ(g,this,this.dpr);S.__builtin__=!0,S.initContext(),h[XT]=S,S.zlevel=XT,f.push(XT),this._domRoot=e}else{this._width=OF(e,0,r),this._height=OF(e,1,r);var _=this._domRoot=LXe(this._width,this._height);e.appendChild(_)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var u=0;u<i.length;u++){var l=i[u],f=this._layers[l];if(!f.__builtin__&&f.refresh){var h=u===0?this._backgroundColor:null;f.refresh(h)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},u,l=0;l<t;l++){var f=e[l];f.__inHover&&(r||(r=this._hoverlayer=this.getLayer(dfe)),u||(u=r.ctx,u.save()),sM(u,f,i,l===t-1))}u&&u.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(dfe)},n.prototype.paintOne=function(e,t){Bte(e,t)},n.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var u=this._doPaintList(e,t,r),l=u.finished,f=u.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),f&&this._paintHoverList(e),l)this.eachLayer(function(g){g.afterBrush&&g.afterBrush()});else{var h=this;IQ(function(){h._paintList(e,t,r,i)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(XT).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var i=this,u=[],l=this._opts.useDirtyRect,f=0;f<this._zlevelList.length;f++){var h=this._zlevelList[f],g=this._layers[h];g.__builtin__&&g!==this._hoverlayer&&(g.__dirty||r)&&u.push(g)}for(var y=!0,b=!1,S=function(A){var R=u[A],I=R.ctx,z=l&&R.createRepaintRects(e,t,_._width,_._height),L=r?R.__startIndex:R.__drawIndex,q=!r&&R.incremental&&Date.now,X=q&&Date.now(),Y=R.zlevel===_._zlevelList[0]?_._backgroundColor:null;if(R.__startIndex===R.__endIndex)R.clear(!1,Y,z);else if(L===R.__startIndex){var ae=e[L];(!ae.incremental||!ae.notClear||r)&&R.clear(!1,Y,z)}L===-1&&(console.error("For some unknown reason. drawIndex is -1"),L=R.__startIndex);var te,ie=function(Q){var Ce={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(te=L;te<R.__endIndex;te++){var ze=e[te];if(ze.__inHover&&(b=!0),i._doPaintEl(ze,R,l,Q,Ce,te===R.__endIndex-1),q){var ke=Date.now()-X;if(ke>15)break}}Ce.prevElClipPaths&&I.restore()};if(z)if(z.length===0)te=R.__endIndex;else for(var le=_.dpr,ce=0;ce<z.length;++ce){var ne=z[ce];I.save(),I.beginPath(),I.rect(ne.x*le,ne.y*le,ne.width*le,ne.height*le),I.clip(),ie(ne),I.restore()}else I.save(),ie(),I.restore();R.__drawIndex=te,R.__drawIndex<R.__endIndex&&(y=!1)},_=this,k=0;k<u.length;k++)S(k);return Li.wxa&&Te(this._layers,function(A){A&&A.ctx&&A.ctx.draw&&A.ctx.draw()}),{finished:y,needsRefreshHover:b}},n.prototype._doPaintEl=function(e,t,r,i,u,l){var f=t.ctx;if(r){var h=e.getPaintRect();(!i||h&&h.intersect(i))&&(sM(f,e,u,l),e.setPrevPaintRect(h))}else sM(f,e,u,l)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=XT);var r=this._layers[e];return r||(r=new XJ("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?Vo(r,this._layerConfig[e],!0):this._layerConfig[e-ZF]&&Vo(r,this._layerConfig[e-ZF],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,u=i.length,l=this._domRoot,f=null,h=-1;if(!r[e]&&NXe(t)){if(u>0&&e>i[0]){for(h=0;h<u-1&&!(i[h]<e&&i[h+1]>e);h++);f=r[i[h]]}if(i.splice(h+1,0,e),r[e]=t,!t.virtual)if(f){var g=f.dom;g.nextSibling?l.insertBefore(t.dom,g.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var u=r[i];e.call(t,this._layers[u],u)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var u=r[i],l=this._layers[u];l.__builtin__&&e.call(t,l,u)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var u=r[i],l=this._layers[u];l.__builtin__||e.call(t,l,u)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(b,S){b.__dirty=b.__used=!1});function t(b){u&&(u.__endIndex!==b&&(u.__dirty=!0),u.__endIndex=b)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var u=null,l=0,f,h;for(h=0;h<e.length;h++){var i=e[h],g=i.zlevel,y=void 0;f!==g&&(f=g,l=0),i.incremental?(y=this.getLayer(g+PXe,this._needsManuallyCompositing),y.incremental=!0,l=1):y=this.getLayer(g+(l>0?ZF:0),this._needsManuallyCompositing),y.__builtin__||XV("ZLevel "+g+" has been used by unkown layer "+y.id),y!==u&&(y.__used=!0,y.__startIndex!==h&&(y.__dirty=!0),y.__startIndex=h,y.incremental?y.__drawIndex=-1:y.__drawIndex=h,t(h),u=y),i.__dirty&Cp&&!i.__inHover&&(y.__dirty=!0,y.incremental&&y.__drawIndex<0&&(y.__drawIndex=h))}t(h),this.eachBuiltinLayer(function(b,S){!b.__used&&b.getElementCount()>0&&(b.__dirty=!0,b.__startIndex=b.__endIndex=b.__drawIndex=0),b.__dirty&&b.__drawIndex<0&&(b.__drawIndex=b.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,Te(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?Vo(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var u=this._zlevelList[i];if(u===e||u===e+ZF){var l=this._layers[u];Vo(l,r[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(Di(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,u=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=OF(u,0,i),t=OF(u,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var l in this._layers)this._layers.hasOwnProperty(l)&&this._layers[l].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(XT).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[XT].dom;var t=new XJ("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,u=t.dom.height;this.eachLayer(function(b){b.__builtin__?r.drawImage(b.dom,0,0,i,u):b.renderToCanvas&&(r.save(),b.renderToCanvas(r),r.restore())})}else for(var l={inHover:!1,viewWidth:this._width,viewHeight:this._height},f=this.storage.getDisplayList(!0),h=0,g=f.length;h<g;h++){var y=f[h];sM(r,y,l,h===g-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const zXe=BXe;function FXe(n){n.registerPainter("canvas",zXe)}Rc([DGe,Z$e,X$e,DWe,sqe,IXe,EUe,yVe,eVe,OVe,Pje,L9e,FXe,UUe,_0e,T$e,QGe,kXe,pGe,mqe,Cqe,x9e]);function HXe(n,e,t="default"){Y2(n)||(n=Ao(n));let r=null;const i=a3e(y,200),u=Ao({});let l=null;const f=No(()=>({backgroundColor:"transparent",...u.value}));function h(S=t){const _=io(n);_&&(r=Dse.init(_,S),e==null||e(r),l=GN(window,"resize",i))}function g(S,_=!0){u.value=S,!(!r&&(h(),!r))&&(_&&(r==null||r.clear()),r==null||r.setOption(io(f)))}function y(){r==null||r.resize({animation:{duration:50,easing:"quadraticIn"}})}c3e(()=>{r&&(l==null||l(),r.dispose(),r=null)});function b(){return r}return{setOptions:g,resize:y,echarts:Dse,getInstance:b}}const VXe=ja({name:"EchartsRenderer",__name:"echarts",props:{style:{default:()=>({height:"400px"})},options:{default:()=>({})},events:{default:()=>({})}},setup(n){const e=n,t=Ao(null),{setOptions:r}=HXe(t,i=>{Object.keys(e.events).forEach(u=>{i==null||i.on(u,e.events[u])})});return r5(()=>{r(e.options)}),uu(()=>e.options,()=>{r(e.options)},{deep:!0,flush:"post"}),(i,u)=>(Fr(),la("div",{ref_key:"chartRef",ref:t,style:n5(i.style)},null,4))}}),jXe=lf(VXe),UXe={...gSe,fields:{type:Vl(Array),default:()=>[]},inline:{type:Boolean,default:!1},model:{type:Vl(Object),default:()=>({})},labelWidth:{type:Vl([String,Number])},enableEffect:{type:Boolean,default:!1}},lM={REGISTER:"register",SUBMIT:"submit",RESET:"reset",EFFECT:"effect"},WXe={[lM.REGISTER]:n=>!0,[lM.SUBMIT]:n=>!0,[lM.RESET]:n=>!0,[lM.EFFECT]:n=>!!n};function qXe(n){const{fields:e,isWatch:t=!0}=n,r=Th({}),i=24,u=Ao(0),l=Ao(0),f=Th({isAdvanced:!0,hideAdvanceBtn:!1,span:5});t&&uu([e,()=>f.isAdvanced],()=>{y()},{immediate:!0,deep:!0});const h=No(()=>(console.log("lastRowSpaceSpan.value",u.value),console.log("advanceState.span",f.span),{span:f.span>u.value?i:f.span,offset:f.span>u.value?0:u.value-f.span}));function g(){f.isAdvanced=!f.isAdvanced}function y(){u.value=0;let b=0,S=0;if(f.isAdvanced||(S+=f.span,b+=f.span),l.value++,e.value.forEach(_=>{var k;const A=((k=_.col)==null?void 0:k.span)||i;S+=A;const R=i-S;R<=0&&(l.value++,S=A);const I=!f.isAdvanced&&(b>24||R+A<A);r[_.key]=!I,b+=A}),u.value=i-S,!f.isAdvanced){const _=e.value.filter(A=>r[A.key]).map(A=>{var R;return{span:((R=A.col)==null?void 0:R.span)||i}});let k=0;_.forEach(({span:A})=>{k+=A}),k>=i?u.value=0:u.value=i-k}l.value<=1?f.hideAdvanceBtn=!0:f.hideAdvanceBtn=!1}return{fieldsIsCollapsedMap:r,toggleCollapse:g,updateCollapce:y,advanceState:f,advancedSpanColAttrs:h}}const $Xe=n=>{const{props:e,emits:t}=n,{inline:r}=e,i=No(()=>e.fields.filter(q=>(X=>{const{show:Y=!0,key:ae}=X;return Mb(Y)?Y(l[ae],{...l}):Y})(q))),u=Ao(null),l=Th({}),{fieldsIsCollapsedMap:f,toggleCollapse:h,advanceState:g,advancedSpanColAttrs:y,updateCollapce:b}=qXe({fields:i,isWatch:r,model:l});uu([l,i],()=>{b()}),e.enableEffect&&uu(l,()=>{t("effect",R3(l))}),uu(()=>e.model,()=>{I()});const S=(q,X)=>{l[q]=X},_=q=>l[q],k=q=>{var X;(X=u.value)==null||X.validate(Y=>{Y&&(q==null||q(R3(l)))})},A=q=>{var X;(X=u.value)==null||X.resetFields(),R(),q==null||q()},R=(...q)=>{var X;(X=u.value)==null||X.clearValidate(...q)};function I(q){const X=Object.assign(e.model,q||{});Object.keys(X).forEach(Y=>{l[Y]=X[Y]})}const z=q=>{u.value=q,t(lM.REGISTER,L)},L={forceUpdateModel:I,resetFields:A,clearValidate:R,validate:k,setFieldValue:S,getFieldValue:_,validateField:()=>{},scrollToField:()=>{}};return{setFieldValue:S,getFieldValue:_,formSchemaes:i,formExposeMethods:L,advanceState:No(()=>g),formModel:l,setFormRef:z,resetFields:A,validate:k,fieldsIsCollapsedMap:f,toggleCollapse:h,advancedSpanColAttrs:y}},jye=Symbol("formContenxt");function GXe(n){return dee(n,jye,{native:!0})}function Uye(){return hee(jye)}const XXe={style:{"margin-right":"5px"}},YXe=ja({__name:"toggle-arrow",props:{expand:{type:Boolean,default:!1},expandText:{default:""},unExpandText:{default:""}},emits:{click:()=>!0},setup(n,{emit:e}){const t=e,r=()=>{t("click")};return(i,u)=>(Fr(),la("span",{class:"toggle",onClick:r},[Oa("span",XXe,Ch(i.expand?i.expandText:i.unExpandText),1),Do(io(HSe),{class:bL(["toggle-arrow ",i.expand?"":"active"])},{default:go(()=>[Do(io(FSe))]),_:1},8,["class"])]))}}),KXe=Gf(YXe,[["__scopeId","data-v-f5543914"]]),JXe={class:"form-action"},QXe=ja({__name:"form-action",props:{collapsed:{type:Boolean},hiddenCollapseButton:{type:Boolean}},setup(n){const{submit:e,reset:t,toggleCollapse:r}=Uye();return(i,u)=>{const l=ra("el-button"),f=ra("el-space");return Fr(),la("div",JXe,[Do(f,null,{default:go(()=>[Do(l,{type:"primary",onClick:io(e)},{default:go(()=>[Wf("")]),_:1},8,["onClick"]),Do(l,{onClick:io(t)},{default:go(()=>[Wf("")]),_:1},8,["onClick"]),i.hiddenCollapseButton?Au("",!0):(Fr(),Ei(KXe,{key:0,expand:i.collapsed,onClick:io(r)},null,8,["expand","onClick"]))]),_:1})])}}}),ZXe=Gf(QXe,[["__scopeId","data-v-8814dd9b"]]),eYe={class:"pro-form-item__label"},tYe=ja({__name:"form-item",props:{label:{},el:{},tip:{},fill:{type:Boolean},required:{type:Boolean},requiredMessage:{},show:{type:[Boolean,Function]},disabled:{type:[Boolean,Function]},attrs:{default:()=>({})},events:{default:()=>({})},rules:{},col:{},labelWidth:{},size:{},prop:{}},setup(n){const e=n,t=Uye(),r=No(()=>{const{attrs:l={},label:f,disabled:h}=e;return{placeholder:f,...l,disabled:l.disabled!==void 0||l.disabled!==null?XZ(h)?h==null?void 0:h(t==null?void 0:t.getFieldValue(e.prop),t.formModel):h:l.disabled}}),i=No(()=>{const{required:l,requiredMessage:f}=e,h=[];if(l&&h.push({required:l,message:f||""}),e.rules&&h.push(...e.rules),l!==void 0){const g=h.map((y,b)=>[y,b]).filter(([y])=>Object.keys(y).includes("required"));if(g.length>0)for(const[y,b]of g)y.required!==l&&(h[b]={...y,required:l});else h.push({required:l})}return h}),u=No(()=>i.value.some(l=>l.required));return(l,f)=>(Fr(),Ei(io(Sfe),{prop:String(l.prop),required:u.value,rules:i.value},aSe({default:go(()=>[xl(l.$slots,"default",{},()=>{var h;return[io(t)?(Fr(),Ei(n_(l.el),Ed({key:0,"model-value":(h=io(t))==null?void 0:h.getFieldValue(l.prop),style:{width:l.fill?"100%":""}},r.value,{"onUpdate:modelValue":f[0]||(f[0]=g=>{var y;return(y=io(t))==null?void 0:y.setFieldValue(l.prop,g)})},uSe(l.events||{})),null,16,["model-value","style"])):Au("",!0)]},!0)]),_:2},[l.label?{name:"label",fn:go(()=>[Oa("span",eYe,[Oa("span",null,Ch(l.label),1),l.tip?(Fr(),Ei(io(zde),{key:0,class:"pro-form-item__tip",text:l.tip},null,8,["text"])):Au("",!0)])]),key:"0"}:void 0]),1032,["prop","required","rules"]))}}),Wye=Gf(tYe,[["__scopeId","data-v-3d3f49d2"]]),nYe=ja({name:"ProForm",__name:"base-form",props:UXe,emits:WXe,setup(n,{expose:e,emit:t}){const r=n,i=t,{formSchemaes:u,advanceState:l,formModel:f,setFormRef:h,validate:g,resetFields:y,toggleCollapse:b,formExposeMethods:S,fieldsIsCollapsedMap:_,advancedSpanColAttrs:k,getFieldValue:A,setFieldValue:R}=$Xe({props:r,emits:i});return GXe({formModel:f,submit:()=>{g(()=>{i(lM.SUBMIT,f)})},reset:()=>{y(()=>{i(lM.RESET,f)})},toggleCollapse:b,getFieldValue:A,setFieldValue:R}),e(S),(I,z)=>{const L=ra("el-col"),q=ra("el-row");return Fr(),Ei(io(_fe),Ed({...I.$attrs},{ref:X=>io(h)(X),model:io(f),"label-width":I.labelWidth,"label-position":I.labelPosition,disabled:I.disabled,"inline-message":I.inlineMessage,"label-suffix":I.labelSuffix,"require-asterisk-position":I.requireAsteriskPosition,"hide-required-asterisk":I.hideRequiredAsterisk,"scroll-into-view-options":I.scrollIntoViewOptions,"scroll-to-error":I.scrollToError,"show-message":I.showMessage,size:I.size,"status-icon":I.statusIcon,"validate-on-rule-change":I.validateOnRuleChange,onSubmit:z[0]||(z[0]=nSe(()=>{},["prevent"]))}),{default:go(()=>[Do(q,{gutter:20},{default:go(()=>[(Fr(!0),la(kp,null,j2(io(u),X=>UZ((Fr(),Ei(L,K2(Ed({key:X.key},X.col)),{default:go(()=>[xl(I.$slots,X.key,{field:X},()=>[Do(Wye,Ed(X,{prop:X.key}),null,16,["prop"])])]),_:2},1040)),[[tSe,I.inline?io(_)[X.key]:!0]])),128)),xl(I.$slots,"default"),I.inline?(Fr(),Ei(L,K2(Ed({key:0},io(k))),{default:go(()=>[Do(ZXe,{collapsed:io(l).isAdvanced,"hidden-collapse-button":io(l).hideAdvanceBtn},null,8,["collapsed","hidden-collapse-button"])]),_:1},16)):Au("",!0)]),_:3})]),_:3},16,["model","label-width","label-position","disabled","inline-message","label-suffix","require-asterisk-position","hide-required-asterisk","scroll-into-view-options","scroll-to-error","show-message","size","status-icon","validate-on-rule-change"])}}}),rYe=lf(nYe,{FormItem:Wye}),oYe=ja({name:"ProSelect",__name:"pro-select",props:{modelValue:{},options:{default:()=>[]},size:{},multiple:{type:Boolean},clearable:{type:Boolean,default:!0},remote:{type:Boolean},onChange:{},group:{type:Boolean,default:!1},fields:{default:()=>({})},filterable:{type:Boolean,default:!1},paramns:{default:()=>({})},request:{},remoteMethod:{}},emits:["update:model-value","change"],setup(n,{emit:e}){const t={label:"label",value:"value",options:"options"},r=n,i=e,u=Ao([]),l=Ao(!1),f=Ao(),h=u3e((..._)=>{S(..._)},50);uu(()=>r.options,()=>{u.value=r.options},{immediate:!0}),uu(()=>r.multiple,()=>{f.value=new Date().getTime(),i("update:model-value",void 0)}),r.paramns&&r.request&&uu(()=>r.paramns,()=>{h()},{immediate:!0});const g=No(()=>Object.assign({},t,r.fields)),y=(..._)=>{i("update:model-value",_[0]),i("change",..._)},b=_=>{_&&h({_keyworkd:_})};function S(_={}){console.log("query"),r.request&&Mb(r.request)&&(l.value=!0,r.request({...r.paramns,..._}).then(k=>{u.value=k}).catch(()=>{u.value=[]}).finally(()=>{l.value=!1}))}return(_,k)=>{const A=ra("el-option"),R=ra("el-option-group");return Fr(),Ei(io(vSe),Ed(_.$attrs,{key:f.value,"model-value":_.modelValue,clearable:_.clearable,filterable:_.filterable,remote:_.remote,"remote-method":b,multiple:_.multiple,loading:l.value,onChange:y}),{default:go(()=>[_.group?(Fr(!0),la(kp,{key:0},j2(u.value,I=>(Fr(),Ei(R,{key:I[g.value.value],label:I.label||""},{default:go(()=>[(Fr(!0),la(kp,null,j2(I.options,z=>(Fr(),Ei(A,{key:z[g.value.value],label:z[g.value.label],value:z[g.value.value],disabled:z.disabled},{default:go(()=>[xl(_.$slots,"default",K2(jN(z)))]),_:2},1032,["label","value","disabled"]))),128))]),_:2},1032,["label"]))),128)):(Fr(!0),la(kp,{key:1},j2(u.value,I=>(Fr(),Ei(A,{key:I[g.value.value],label:I[g.value.label],value:I[g.value.value],disabled:I.disabled},{default:go(()=>[xl(_.$slots,"default",K2(jN(I)))]),_:2},1032,["label","value","disabled"]))),128))]),_:3},16,["model-value","clearable","filterable","remote","multiple","loading"])}}}),iYe=lf(oYe),aYe=ja({name:"ProCheckboxGroup",__name:"pro-checkbox-group",props:{modelValue:{},options:{default:()=>[]},size:{},tag:{default:"checkbox"},onChange:{}},emits:["update:model-value","change"],setup(n,{emit:e}){const t={"checkbox-button":bSe,checkbox:xSe},r=e,i=(...u)=>{r("update:model-value",u[0]),r("change",...u)};return(u,l)=>{const f=ra("el-checkbox-group");return Fr(),Ei(f,Ed(u.$attrs,{"model-value":u.modelValue,onChange:i}),{default:go(()=>[(Fr(!0),la(kp,null,j2(u.options,h=>(Fr(),Ei(n_(t[u.tag]),{key:h.value,label:h.value,disabled:h.disabled},{default:go(()=>[xl(u.$slots,"default",K2(jN(h)),()=>[Wf(Ch(h.label),1)])]),_:2},1032,["label","disabled"]))),128))]),_:3},16,["model-value"])}}}),uYe=lf(aYe),sYe=ja({name:"ProRadioGroup",__name:"pro-radio-group",props:{modelValue:{},options:{default:()=>[]},size:{},tag:{default:"radio"}},emits:["update:model-value","change"],setup(n,{emit:e}){const t={"radio-button":wSe,radio:_Se},r=e,i=(...u)=>{r("update:model-value",u[0]),r("change",...u)};return(u,l)=>{const f=ra("el-radio-group");return Fr(),Ei(f,Ed(u.$attrs,{"model-value":u.modelValue,onChange:i}),{default:go(()=>[(Fr(!0),la(kp,null,j2(u.options,h=>(Fr(),Ei(n_(t[u.tag]),{key:h.value,label:h.value,disabled:h.disabled},{default:go(()=>[xl(u.$slots,"default",K2(jN(h)),()=>[Wf(Ch(h.label),1)])]),_:2},1032,["label","disabled"]))),128))]),_:3},16,["model-value"])}}}),lYe=lf(sYe),cYe=ja({name:"ProConfigProvider",__name:"pro-config-provider",props:{proTable:{}},setup(n){return vN(Nde,sSe(n)),(e,t)=>xl(e.$slots,"default")}}),fYe=lf(cYe),dYe={class:"el-upload__tip"},hYe=ja({name:"ProUpload",__name:"upload",props:{limit:{default:1/0},listType:{default:"text"},multiple:{type:Boolean},drag:{type:Boolean},showFileList:{type:Boolean},accept:{},onExceed:{},onSuccess:{},autoUpload:{type:Boolean,default:!0},httpRequest:{},disabled:{type:Boolean},modelValue:{default:()=>[]},size:{default:1024*1024*20}},emits:["change","update:model-value"],setup(n,{emit:e}){const t=n,r=e,i=Th({visible:!1,src:""}),u=Ao([]);uu(()=>t.modelValue,k=>{u.value=k},{immediate:!0}),uu(()=>i.visible,k=>{k?document.body.classList.add("uplode-viewer--hidden"):document.body.classList.remove("uplode-viewer--hidden")});const l=()=>{const k=[];return t.accept&&k.push(t.accept),t.size&&k.push(` ${QSe(t.size)}`),k.join(",")},f=k=>t.httpRequest?t.httpRequest(k):Promise.reject("upload error"),h=(k,A)=>{r("change",k,A),r("update:model-value",A)},g=k=>{var A;if(!k.raw)return;const R=new Blob([k.raw],{type:(A=k.raw)==null?void 0:A.type});i.src=URL.createObjectURL(R),i.visible=!0},y=(k,A,R)=>{if(t.onSuccess){t.onSuccess(k,A,R);return}},b=(k,A)=>{var R;if(t.onExceed){(R=t.onExceed)==null||R.call(t,k,A);return}},S=()=>{i.visible=!1},_=()=>!(t.limit&&u.value.length<t.limit);return(k,A)=>{const R=ra("el-button");return Fr(),la(kp,null,[Do(io(CSe),Ed({"file-list":u.value,"onUpdate:fileList":A[0]||(A[0]=I=>u.value=I),"on-success":y,"http-request":f,"on-preview":g,"on-exceed":b,multiple:k.multiple,limit:k.limit,"list-type":k.listType,drag:k.drag,class:["upload",_()?"hide-trigger":""],"auto-upload":k.autoUpload,accept:k.accept},k.$attrs,{onChange:h}),{file:go(({file:I})=>[xl(k.$slots,"file",{file:I},void 0,!0)]),tip:go(()=>[xl(k.$slots,"tip",{},()=>[Oa("div",dYe,Ch(l()),1)],!0)]),default:go(()=>[_()?Au("",!0):xl(k.$slots,"default",{key:0},()=>[Do(R,{icon:io(SSe),type:"primary"},{default:go(()=>[Wf("")]),_:1},8,["icon"])],!0)]),_:3},16,["file-list","multiple","limit","list-type","drag","class","auto-upload","accept"]),i.visible?(Fr(),Ei(io(TSe),{key:0,"url-list":[i.src],onClose:S},null,8,["url-list"])):Au("",!0)],64)}}}),pYe=Gf(hYe,[["__scopeId","data-v-ddf96e64"]]),mYe=lf(pYe),LYe=Object.freeze(Object.defineProperty({__proto__:null,Density:_de,DragSortTable:B5e,EchartsRenderer:jXe,EditableProTable:j5e,FadeTransition:LEe,IframePage:JSe,LANGS:iQ,OUTPUT_FORMAT:Tde,PageCard:pEe,PageWrapper:vEe,ProCheckboxGroup:uYe,ProConfigProvider:fYe,ProForm:rYe,ProIcon:OEe,ProRadioGroup:lYe,ProSelect:iYe,ProTable:Hde,ProTinymce:HEe,THEME_MODE:PH,TOOLBAR:Cde,Tree:bEe,Upload:mYe,tinymceProps:Mde,useProForm:$Re,useProTable:gee},Symbol.toStringTag,{value:"Module"}));export{j4e as A,CYe as B,EYe as C,PYe as D,IYe as E,gee as F,TYe as G,iK as H,ede as I,hRe as J,bYe as K,mYe as L,$Re as M,SYe as N,xYe as O,rYe as P,N3 as Q,wYe as R,B5e as S,KOe as T,K7 as U,JSe as V,yYe as W,Hde as X,LYe as Y,j5e as _,NYe as a,DYe as b,OEe as c,$he as d,OYe as e,RYe as f,M3 as g,See as h,jRe as i,tpe as j,vhe as k,HXe as l,MYe as m,Gf as n,gQ as o,LEe as p,pEe as q,lf as r,HEe as s,hee as t,Zfe as u,vEe as v,bEe as w,AYe as x,kYe as y,_Ye as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/basic-layout-820bddc8.kTO8HHaG.js","assets/chunks/framework.e2dboEyh.js","assets/app.kf9R8BQv.js","assets/chunks/theme.2Uqr2FmO.js","assets/chunks/index-48b9cfd2.4SW-li6G.js","assets/chunks/echarts-ba3bf82b.mhuS0dLM.js","assets/chunks/pro-table-page-5a2cad46.GVBRESGT.js","assets/chunks/pro-table-edit-8539cb97.GHmtP9An.js","assets/chunks/editable-pro-table-dff34c25.YK0V06PE.js","assets/chunks/drag-sort-table-013e5f3f.CeBDehbK.js","assets/chunks/rich-editor-6d792732.m0WrZLgG.js","assets/chunks/pro-form-06f52e45.dCd79q_k.js","assets/chunks/pro-form-ref-bc1cba42.p8NKKOFz.js","assets/chunks/dynamic-c0ae62b2.a8z3LJoj.js","assets/chunks/modal-form-f24c12df.z7Y30wTH.js","assets/chunks/drawer-form-bfa8cb51.r2RwrQCz.js","assets/chunks/steps-form-fabb545b.3G3aJMI5.js","assets/chunks/Upload-b484ad42.XPwK_jie.js","assets/chunks/anchor-demo-67e570da.IibJgcNQ.js","assets/chunks/segmented-c59cb5ed.QHCacM_I.js","assets/chunks/context-menu-a250dee8.TeFMLdJ-.js","assets/chunks/tree-select-95e45bc0.HtuVmOJy.js","assets/chunks/tree-9e6f444f.ifpoezG9.js","assets/chunks/error-404-0057fae5.f0H56Alt.js","assets/chunks/error-403-824918e4.yzOC6uA2.js","assets/chunks/watermark-8eee907d.yAwByBfK.js","assets/chunks/qrcode-427b57fa.a8VqjhDC.js","assets/chunks/tab-page-04c7a929.dFLVYJNt.js","assets/chunks/use-tabs-2ebe9945.6ZYRebq9.js","assets/chunks/detail-af8cbfff.qN8kbvxp.js","assets/chunks/image-viwer-6784e2c1.qJogc6la.js","assets/chunks/message-6ebbed22.whxvVUgo.js","assets/chunks/encrypt-aa65d009.pf9vFp3N.js","assets/chunks/print-6fdaa8d1.JrvDtvMH.js","assets/chunks/html2canvas.esm-1a1724a1.715FhcXw.js","assets/chunks/excel-6e39550e.CLrYUjQs.js","assets/chunks/index-01749916.Y2VMmbv_.js","assets/chunks/mutiple-header-f04dafa9.-ExmYl7W.js","assets/chunks/import-4fe3fa6a.P9vZVXAN.js","assets/chunks/html-to-docx-30ce8939.DQzaMUp8.js","assets/chunks/index-1bc4de67.W6DM0pGT.js","assets/chunks/template-9e055fb9.4oADivRI.js","assets/chunks/WelcomeTo-b1d10aca.sXeD3P3v.js","assets/chunks/modal-097d6a05.7mtr3C7Q.js","assets/chunks/iframe-c8bc97df.3ecr5y0a.js","assets/chunks/DayJs-ca03e34d.fZsAD6Ps.js","assets/chunks/CanvsToPdf-4ffbe8aa.9NfwNAxG.js","assets/chunks/menu-0dd363c6.5-brt4ka.js","assets/chunks/login-180bced7.MPrr65In.js","assets/chunks/redirect-482d4fa8.vvqUk4yY.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
