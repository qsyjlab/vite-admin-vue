import{d as w,h as N,y as he,g as H,m as e,D as _,aH as Oe,o as d,c as g,k as f,I as s,w as m,at as fe,av as j,aD as pe,F as G,b,e as I,aj as we,J as He,M as te,r as D,az as U,b5 as Re,O as A,t as Y,j as Le,a as K,E as ae,ag as Ue,A as Se,n as ue,ak as Fe,p as ve,q as ge}from"./framework.e2dboEyh.js";import{n as B,x as X,D as J,h as y,o as F,k as Ee,C as Ne,a as Ie,p as be,T as Ze,b as Ye,A as _e,c as q,y as qe,m as Ge,t as je,d as Ke,e as le,E as Pe,H as ce,f as ze,g as Je,i as $e,j as De}from"./index.ghQPKumy.js";import{J as Xe,K as Qe,A as et,C as ee,r as tt,q as at,v as de,x as nt,L as lt,M as ot}from"../app.kf9R8BQv.js";import{m as it}from"./index-48b9cfd2.4SW-li6G.js";import"./theme.2Uqr2FmO.js";function st(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}const xe=$e,{getColorString:ut}=De;function dt(u,o,a){const i=xe(u),n=i.hue(),l=i.saturationv(),h=i.value(),t=2,r=100,c=9,v=100,x=30;function p(z,k){let T;return n>=60&&n<=240?T=z?n-t*k:n+t*k:T=z?n+t*k:n-t*k,T<0?T+=360:T>=360&&(T-=360),Math.round(T)}function S(z,k){let T;return z?T=l<=c?l:l-(l-c)/5*k:T=l+(r-l)/4*k,T}function P(z,k){return z?h+(v-h)/5*k:h<=x?h:h-(h-x)/4*k}const M=o<6,V=M?6-o:o-6,E=o===6?i:xe({h:p(M,V),s:S(M,V),v:P(M,V)});return ut(E,a)}var Ae=dt;const re=$e,rt=Ae,{getColorString:ct}=De;function mt(u,o,a){const i=re(rt(u,10-o+1)),n=re(u),l=n.hue(),h=n.saturationv(),t=re({h:n.hue(),s:v(6),v:n.value()}).saturationv(),r=Math.ceil((t-9)/4),c=Math.ceil((100-t)/5);function v(p){if(p<6)return t+(6-p)*c;if(p===6){if(l>=0&&l<50)return h-15;if(l>=50&&l<191)return h-20;if(l>=191&&l<=360)return h-15}return t-r*(p-6)}const x=re({h:i.hue(),s:v(o),v:i.value()});return ct(x,a)}var ft=mt;const ke=Ae,Ce=ft;function pt(u,o={}){const{dark:a,list:i,index:n=6,format:l="hex"}=o;if(i){const h=[],t=a?Ce:ke;for(let r=1;r<=10;r++)h.push(t(u,r,l));return h}return a?Ce(u,n,l):ke(u,n,l)}var ht=pt;const vt=ht;var Te=vt;const gt=u=>{const o=document.documentElement.style;return{setElementCssVar:(a,i)=>{let n=[];i==="light"?n=Te(a,{index:10,list:!0,dark:!1}):(n=Te(a,{index:10,list:!0,dark:!0}),n.unshift(a)),o.setProperty("--el-color-primary",n[0]);for(let l=1;l<=9;l++)o.setProperty(`--el-color-primary-light-${l}`,n[l])},removeElementCssVar:()=>{o.removeProperty("--el-color-primary");for(let a=1;a<=9;a++)o.removeProperty(`--el-color-primary-light-${a}`)}}},$={LAYOUT_MODE:"layoutMode",COLLAPSED:"collapsed",MENU_WIDTH:"asideWidth",LAYOUT_THEME:"theme",HEADER_HEIGHT:"headerHeight",THEME_COLOR:"themeColor",TAB_BAR_HEIGHT:"tabBarHeight",SPLIT_MENU:"splitMenu"};function Ve(){const u=J(),{setElementCssVar:o,removeElementCssVar:a}=gt(),{layoutConfig:i}=X(u),n=qe({storageKey:"LAYOUT_THEME",storage:localStorage}),l=Ge(n);function h(r,c){switch(r){case $.SPLIT_MENU:return{splitMenu:c};case $.COLLAPSED:return{collapsed:c};case $.MENU_WIDTH:return{asideWidth:c};case $.HEADER_HEIGHT:return{headerHeight:c};case $.LAYOUT_MODE:return c!==y.TopMix?{splitMenu:void 0,layoutMode:c}:{layoutMode:c};case $.THEME_COLOR:return o(c),{themeColor:c};case $.LAYOUT_THEME:return c==="dark"&&!n.value?(l(),a(),i.value.themeColor&&o(i.value.themeColor)):c==="light"&&n.value&&(l(),i.value.themeColor&&o(i.value.themeColor)),{theme:c};case $.TAB_BAR_HEIGHT:return{tabBarHeight:c};default:return null}}const t=(r,c)=>{const v=h(r,c);v&&u.setLayoutConfig(v)};return{initLayout:r=>{u.setLayoutConfig(r);const c=r.themeColor||i.value.themeColor;c&&t($.THEME_COLOR,c);const v=r.theme||i.value.theme;t($.LAYOUT_THEME,v)},layoutConfig:i,setLayoutConfig:t}}function _t(){const{replace:u,currentRoute:o}=le();function a(){const{query:i,params:n={},fullPath:l,name:h}=e(o);if(h===ce)return Promise.resolve(!1);const t={...n};return h&&Object.keys(n).length>0?(t._origin_params=JSON.stringify(n??{}),t._redirect_type="name",t.path=String(h)):(t._redirect_type="path",t.path=l),u({name:ce,params:t,query:i}).then(()=>Promise.resolve(!0))}return{reload:a}}const yt={};function bt(u,o){return d(),g("div",te({class:"layout-container"},u.$attrs),[D(u.$slots,"default")],16)}const xt=B(yt,[["render",bt]]),kt=w({__name:"layout-header",props:{fixed:{type:Boolean,default:!0},zIndex:{default:1001},minWidth:{default:1200},height:{default:56},paddingLeft:{default:200},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(u){const o=u,a=H(()=>{const{fixed:i,zIndex:n,height:l,paddingLeft:h,transitionDuration:t,transitionTimingFunction:r}=o;return`position: ${i?"fixed":"static"};z-index: ${n};height: ${l}px;padding-left: ${h}px;transition-duration: ${t}ms;transition-timing-function: ${r};box-sizing: border-box;`});return(i,n)=>(d(),g("div",{class:"layout-header",style:A(a.value)},[D(i.$slots,"default")],4))}}),Ct=w({__name:"layout-tabs",props:{fixed:{type:Boolean,default:!0},top:{default:56},zIndex:{default:999},minWidth:{default:0},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(u){const o=u,a=H(()=>{const{fixed:i,top:n,zIndex:l,minWidth:h,height:t,paddingLeft:r,transitionDuration:c,transitionTimingFunction:v}=o;return`position: ${i?"fixed":"static"};top: ${n}px;z-index: ${l};min-width: ${h}px;height: ${t}px;padding-left: ${r}px;transition-duration: ${c}ms;transition-timing-function: ${v};box-sizing: border-box;`});return(i,n)=>(d(),g("div",{class:"layout-tab",style:A(a.value)},[D(i.$slots,"default")],4))}}),Tt=w({__name:"layout-sidebar",props:{zIndex:{default:1002},width:{default:200},paddingTop:{default:0},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(u){const o=u,a=H(()=>{const{zIndex:i,width:n,paddingTop:l,transitionDuration:h,transitionTimingFunction:t}=o;return{zIndex:i,transitionTimingFunction:t,transitionDuration:`${h}ms`,width:`${n}px`,paddingTop:`${l}px`}});return(i,n)=>(d(),g("div",{class:"layout-sidebar",style:A(a.value)},[D(i.$slots,"default")],4))}}),Mt=w({__name:"layout-main",props:{paddingTop:{default:0},paddingBottom:{default:0},paddingLeft:{default:200},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(u){const o=u,a=H(()=>{const{paddingTop:i,paddingBottom:n,paddingLeft:l,transitionDuration:h,transitionTimingFunction:t}=o;return`padding-top: ${i}px;padding-bottom: ${n}px;padding-left: ${l}px;transition-duration: ${h}ms;transition-timing-function: ${t};`});return(i,n)=>(d(),g("div",{class:"layout-main",style:A(a.value)},[D(i.$slots,"default")],4))}}),wt=w({__name:"layout-footer",props:{fixed:{type:Boolean,default:!0},zIndex:{default:999},minWidth:{default:1200},height:{default:56},paddingLeft:{default:0},transitionDuration:{default:200},transitionTimingFunction:{default:"ease-in-out"}},setup(u){const o=u,a=H(()=>{const{zIndex:i,height:n,paddingLeft:l,transitionDuration:h,transitionTimingFunction:t}=o;return` z-index: ${i};;height: ${n}px;padding-left: ${l}px;transition-duration: ${h}ms;transition-timing-function: ${t};box-sizing: border-box;`});return(i,n)=>(d(),g("div",{class:"layout-footer",style:A(a.value)},[D(i.$slots,"default")],4))}}),Ht=w({__name:"layout",props:{asideWidth:{default:220},asidePaddingTop:{default:0},headerHeight:{default:48},headerPaddingLeft:{},headerZIndex:{default:1001},tabHeight:{default:32},footerHeight:{},config:{default:()=>({header:!0,tab:!0,aside:!0,main:!0,footer:!0})}},setup(u){const o=u,a=H(()=>({width:o.asideWidth,paddingTop:o.asidePaddingTop})),i=H(()=>({paddingLeft:o.headerPaddingLeft,height:o.headerHeight,zIndex:o.headerZIndex})),n=H(()=>({top:o.config.header?o.headerHeight:0,paddingLeft:o.asideWidth,height:o.tabHeight})),l=H(()=>{let t=0;return o.config.header&&(t+=o.headerHeight),o.config.tab&&(t+=o.tabHeight),{paddingLeft:o.asideWidth,paddingTop:t}}),h=H(()=>({paddingLeft:o.asideWidth,height:o.footerHeight}));return(t,r)=>(d(),b(e(xt),null,{default:m(()=>[t.config.aside?(d(),b(e(Tt),j(te({key:0},a.value)),{default:m(()=>[D(t.$slots,"aside")]),_:3},16)):I("",!0),t.config.header?(d(),b(e(kt),j(te({key:1},i.value)),{default:m(()=>[D(t.$slots,"header")]),_:3},16)):I("",!0),t.config.tab?(d(),b(e(Ct),j(te({key:2},n.value)),{default:m(()=>[D(t.$slots,"tabs")]),_:3},16)):I("",!0),t.config.main?(d(),b(e(Mt),j(te({key:3},l.value)),{default:m(()=>[D(t.$slots,"default")]),_:3},16)):I("",!0),t.config.footer?(d(),b(e(wt),j(te({key:4},h.value)),{default:m(()=>[D(t.$slots,"footer")]),_:3},16)):I("",!0)]),_:3}))}}),Lt=u=>{const o=F.keepAliveCachePolicy!=="never";return w({name:u,setup(){const a=Ne(),i=Ie();return()=>U(Ze,{},{default:n=>{if(o){const l=F.keepAliveCachePolicy==="normal"?a.getAliveCache:i.getKeepAliveCache;return U(be,{},()=>U(Re,{include:l},U(n.Component,{key:n.route.fullPath})))}return U(be,{},U(n.Component,{key:n.route.fullPath}))}})}})},St=Symbol();function Et(){return je(St)}function Be(){const u=Et();return{...u,isMobile:H(()=>e(u.isMobile))}}const It={class:"breadcrumb-item"},Pt={key:0,class:"icon"},zt={class:"title"},$t=w({__name:"breadcrumb",setup(u){const o=N([]),a=ze((i,n,l)=>{i.name!==ce&&(o.value=l.filter(h=>h.meta.hideInBreadcrumb!==!0))});return Se(()=>{a()}),(i,n)=>{const l=_("el-breadcrumb-item"),h=_("el-breadcrumb");return d(),b(h,{separator:"/"},{default:m(()=>[(d(!0),g(G,null,ae(o.value,t=>(d(),b(l,{key:t.path,to:{name:t.name}},{default:m(()=>{var r;return[f("div",It,[e(F).defaultLayoutSetting.showBreadCrumbIcon?(d(),g("div",Pt,[s(e(q),{icon:t.meta.icon,size:18},null,8,["icon"])])):I("",!0),f("div",zt,Y((r=t==null?void 0:t.meta)==null?void 0:r.title),1)])]}),_:2},1032,["to"]))),128))]),_:1})}}}),Dt=B($t,[["__scopeId","data-v-ce7ef8bb"]]),At=w({__name:"user-menu",setup(u){const{loginOutSystem:o,userInfo:a}=Ke(),i=le(),n=()=>{o(),i.push({name:"Login"})};return(l,h)=>{const t=_("el-avatar"),r=_("el-space"),c=_("el-button"),v=_("el-dropdown-item"),x=_("el-dropdown-menu"),p=_("el-dropdown");return d(),b(p,{style:{height:"100%"}},{dropdown:m(()=>[s(x,null,{default:m(()=>[s(v,null,{default:m(()=>[K("个人首页")]),_:1}),s(v,{onClick:n},{default:m(()=>[K("退出登录")]),_:1})]),_:1})]),default:m(()=>[s(c,{type:"primary",text:""},{default:m(()=>[s(r,null,{default:m(()=>[s(t,{size:32,src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"})]),_:1}),f("span",null,Y(e(a).userName),1)]),_:1})]),_:1})}}}),Vt={key:0,class:"icon"},Bt={class:"ellipsis"},Wt={key:0,class:"icon"},Ot={class:"ellipsis"},Rt={key:0,class:"icon"},Ut={class:"ellipsis"},Ft={name:"MenuItem"},Nt=w({...Ft,props:{item:{}},setup(u){const o=a=>{var i,n;return!((i=a.meta)!=null&&i.hideChildrenInMenu)&&!!((n=a.children)!=null&&n.length)};return(a,i)=>{const n=_("el-menu-item"),l=_("menu-item",!0),h=_("el-sub-menu");return o(a.item)?(d(),b(h,{key:1,index:a.item.name},{title:m(()=>{var t,r,c,v;return[(t=a.item.meta)!=null&&t.icon?(d(),g("div",Wt,[s(e(q),{size:18,icon:(r=a.item.meta)==null?void 0:r.icon},null,8,["icon"])])):I("",!0),f("span",Ot,Y((v=(c=a.item)==null?void 0:c.meta)==null?void 0:v.title),1)]}),default:m(()=>[(d(!0),g(G,null,ae(a.item.children,t=>{var r;return d(),g(G,{key:t.name},[(r=t.children)!=null&&r.length?(d(),b(l,{key:1,item:t},null,8,["item"])):(d(),b(n,{key:0,index:t.name,route:{name:t.name}},{title:m(()=>{var c;return[f("span",Ut,Y((c=t==null?void 0:t.meta)==null?void 0:c.title),1)]}),default:m(()=>{var c,v;return[(c=t.meta)!=null&&c.icon?(d(),g("div",Rt,[s(e(q),{size:18,icon:(v=t.meta)==null?void 0:v.icon},null,8,["icon"])])):I("",!0)]}),_:2},1032,["index","route"]))],64)}),128))]),_:1},8,["index"])):(d(),b(n,{key:0,index:a.item.name,route:{name:a.item.name}},{title:m(()=>{var t,r;return[f("span",Bt,Y((r=(t=a.item)==null?void 0:t.meta)==null?void 0:r.title),1)]}),default:m(()=>{var t,r;return[(t=a.item.meta)!=null&&t.icon?(d(),g("div",Vt,[s(e(q),{size:18,icon:(r=a.item.meta)==null?void 0:r.icon},null,8,["icon"])])):I("",!0)]}),_:1},8,["index","route"]))}}}),Zt=B(Nt,[["__scopeId","data-v-d74561c6"]]),ye=w({__name:"menu",props:{collapsed:{type:Boolean,default:!1},menus:{default:()=>[]},menuType:{default:"side"},isSplit:{type:Boolean,default:!1}},setup(u){const o=u,{currentRoute:a}=le(),i=H(()=>{var n;const l=e(a);return o.isSplit&&o.menuType==="top"?(n=l.matched[0])==null?void 0:n.name:l.meta.currentActiveMenu||String(l.name)});return(n,l)=>{const h=_("el-menu");return d(),b(h,{collapse:n.collapsed,"default-active":i.value,"collapse-transition":!1,router:""},{default:m(()=>[(d(!0),g(G,null,ae(n.menus,t=>(d(),b(Zt,{key:t.name,item:t},null,8,["item"]))),128))]),_:1},8,["collapse","default-active"])}}}),Yt=["src"],ne=w({__name:"logo",props:{logoWidth:{default:78},showTitle:{type:Boolean,default:!0},height:{default:48},width:{default:220},transitionDuration:{default:300},transitionTimingFunction:{default:"ease-in-out"}},setup(u){const o=u,a=H(()=>{const{width:n,height:l}=o;return{width:`${n}px`,height:`${l}px`}}),i=H(()=>({width:`${o.logoWidth}px`}));return(n,l)=>(d(),g("div",{class:"basic-layout-logo",style:A(a.value)},[f("div",{class:"basic-layout-logo__img",style:A(i.value)},[f("img",{src:e(F).logo,alt:"/"},null,8,Yt)],4),f("div",{class:"basic-layout-logo__title",style:A({display:n.showTitle?"block":"none"})},Y(e(Ee).projectTitle),5)],4))}}),qt=w({__name:"notification",setup(u){const o=N("1");return(a,i)=>{const n=_("el-badge"),l=_("el-tab-pane"),h=_("el-tabs"),t=_("el-popover");return d(),g("div",null,[s(t,{placement:"bottom",width:300,trigger:"click","show-arrow":!1},{reference:m(()=>[s(n,{"is-dot":""},{default:m(()=>[D(a.$slots,"default")]),_:3})]),default:m(()=>[s(h,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r)},{default:m(()=>[s(l,{label:"通知",name:"1"}),s(l,{label:"消息",name:"2"}),s(l,{label:"代办",name:"3"})]),_:1},8,["modelValue"])]),_:3})])}}}),Gt={class:"basic-layout-header__wrapper"},jt={class:"basic-layout-header__left"},Kt={key:1,class:"horizontal-menu"},Jt={class:"basic-layout-header__right"},Xt=w({__name:"basic-header",setup(u){const o=J(),{toggleSettingDrawer:a}=o,{isFullscreen:i,toggle:n}=Ye(),{layoutConfig:l}=X(J()),{getMenus:h}=_e(),{setLayoutConfig:t}=Ve(),{isMobile:r,projectConfig:c}=Be();Le(()=>{i.value=st()});const v=()=>{t("theme",l.value.theme==="light"?"dark":"light")},x=H(()=>{const p=h();return l.value.splitMenu&&l.value.layoutMode===y.TopMix?p.map(S=>({...S,children:[]})):p});return(p,S)=>{const P=_("el-button"),M=_("el-tooltip"),V=_("el-space");return d(),g("div",Gt,[f("div",jt,[D(p.$slots,"logo",{},()=>[e(l).layoutMode===e(y).Top?(d(),b(e(ne),{key:0})):I("",!0)]),e(c).defaultLayoutSetting.showBreadCrumb&&!e(r)&&[e(y).Side,e(y).SideMix].includes(e(l).layoutMode)?(d(),b(e(Dt),{key:0,style:{"padding-left":"15px"}})):I("",!0),[e(y).Top].includes(e(l).layoutMode)||e(y).TopMix===e(l).layoutMode&&e(l).splitMenu?(d(),g("div",Kt,[s(e(ye),{menus:x.value,mode:"horizontal","menu-type":"top","is-split":e(l).splitMenu},null,8,["menus","is-split"])])):I("",!0)]),f("div",Jt,[s(V,null,{default:m(()=>[s(M,{effect:"dark",content:"消息通知",placement:"bottom"},{default:m(()=>[s(qt,null,{default:m(()=>[s(P,{icon:e(Xe),circle:""},null,8,["icon"])]),_:1})]),_:1}),s(M,{effect:"dark",content:e(i)?"退出全屏":"全屏",placement:"bottom"},{default:m(()=>[s(P,{icon:e(Qe),circle:"",onClick:e(n)},null,8,["icon","onClick"])]),_:1},8,["content"]),s(M,{effect:"dark",content:e(l).theme==="light"?"切换为暗黑模式":"切换为亮色模式",placement:"bottom"},{default:m(()=>[s(P,{circle:"",onClick:v},{default:m(()=>[e(l).theme==="light"?(d(),b(e(q),{key:0,icon:"svg.sun",size:14})):(d(),b(e(q),{key:1,icon:"svg.moon",size:14}))]),_:1})]),_:1},8,["content"]),e(c).defaultLayoutSetting.showSettingButton?(d(),b(M,{key:0,effect:"dark",content:"页面配置",placement:"bottom"},{default:m(()=>[s(P,{icon:e(et),circle:"",onClick:e(a)},null,8,["icon","onClick"])]),_:1})):I("",!0),s(e(At))]),_:1})])])}}}),Qt={},ea=u=>(ve("data-v-4dae3501"),u=u(),ge(),u),ta={className:"drawer-icon drawer-icon-left-side-mix"},aa=ea(()=>f("div",{className:"drawer-icon-left-side-mix__side"},null,-1)),na=[aa];function la(u,o){return d(),g("div",ta,na)}const oa=B(Qt,[["render",la],["__scopeId","data-v-4dae3501"]]),ia={},sa={className:"drawer-icon drawer-icon-top"};function ua(u,o){return d(),g("div",sa)}const da=B(ia,[["render",ua],["__scopeId","data-v-da6c245b"]]),ra={},ca={className:"drawer-icon drawer-icon-side-top"};function ma(u,o){return d(),g("div",ca)}const fa=B(ra,[["render",ma],["__scopeId","data-v-3c84d965"]]),pa={},ha={className:"drawer-icon drawer-icon-side"};function va(u,o){return d(),g("div",ha)}const ga=B(pa,[["render",va],["__scopeId","data-v-b53998a0"]]),_a={},ya={viewBox:"64 64 896 896",focusable:"false","data-icon":"check",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},ba=f("path",{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"},null,-1),xa=[ba];function ka(u,o){return d(),g("svg",ya,xa)}const Ca=B(_a,[["render",ka]]),Ta={style:{display:"flex",alignItems:"center",flexWrap:"wrap",cursor:"pointer"}},Ma=["onClick"],wa={style:{position:"relative"}},Ha={key:0,style:{fontSize:"20px",position:"absolute",right:0,bottom:"-4%",color:"#1677ff",zIndex:1,cursor:"pointer"}},La=w({__name:"check-button-group",props:{defaultValue:{},options:{}},emits:["change"],setup(u,{emit:o}){const a=o,i=N(u.defaultValue),n=l=>{i.value=l,a("change",l)};return(l,h)=>{const t=_("el-tooltip");return d(),g("div",Ta,[(d(!0),g(G,null,ae(l.options,(r,c)=>(d(),g("div",{key:c,style:{marginRight:"30px",fontSize:"30px"},onClick:v=>n(r.value)},[s(t,{effect:"dark",content:r.title,style:{position:"relative"}},{default:m(()=>[f("div",wa,[r.value==i.value?(d(),g("div",Ha,[s(e(Ca))])):I("",!0),(d(),b(He(r.icon)))])]),_:2},1032,["content"])],8,Ma))),128))])}}}),Q=u=>(ve("data-v-bf391da4"),u=u(),ge(),u),Sa={class:"setting-body"},Ea=Q(()=>f("div",{class:"setting-title"},"系统布局配置",-1)),Ia={class:"setting-item"},Pa=Q(()=>f("div",{class:"setting-item__label"},"主题色",-1)),za={class:"setting-item__content"},$a={class:"setting-item is-vertical"},Da=Q(()=>f("div",{class:"setting-item__label"},"导航模式",-1)),Aa={class:"setting-item__content"},Va={class:"setting-item"},Ba=Q(()=>f("div",{class:"setting-item__label"},"折叠菜单",-1)),Wa={class:"setting-item__content"},Oa={class:"setting-item"},Ra=Q(()=>f("div",{class:"setting-item__label"},"是否分割菜单",-1)),Ua={class:"setting-item__content"},Fa={class:"setting-item"},Na=Q(()=>f("div",{class:"setting-item__label"},"菜单展开宽度",-1)),Za={class:"setting-item__content"},Ya={class:"setting-item"},qa=Q(()=>f("div",{class:"setting-item__label"},"头部高度",-1)),Ga={class:"setting-item__content"},ja={class:"setting-item"},Ka=Q(()=>f("div",{class:"setting-item__label"},"tab bar高度",-1)),Ja={class:"setting-item__content"},Xa=w({__name:"setting-draver",setup(u){const o=J(),{layoutConfig:a,setLayoutConfig:i}=Ve(),{isOpenSettig:n}=X(o),l=[{title:"侧边栏布局",value:y.Side,icon:ga},{title:"顶部菜单布局",value:y.Top,icon:da},{title:"顶部混合菜单",value:y.TopMix,icon:fa},{title:"左侧菜单混合",value:y.SideMix,icon:oa}];return(h,t)=>{const r=_("el-color-picker"),c=_("el-switch"),v=_("el-input-number"),x=_("el-drawer");return d(),b(x,{modelValue:e(n),"onUpdate:modelValue":t[13]||(t[13]=p=>Ue(n)?n.value=p:null),"with-header":!1,direction:"rtl",size:"370px"},{default:m(()=>[f("div",Sa,[Ea,f("div",Ia,[Pa,f("div",za,[s(r,{modelValue:e(a).themeColor,"onUpdate:modelValue":t[0]||(t[0]=p=>e(a).themeColor=p),onChange:t[1]||(t[1]=p=>e(i)(e($).THEME_COLOR,p))},null,8,["modelValue"])])]),f("div",$a,[Da,f("div",Aa,[s(La,{"default-value":e(a).layoutMode,options:l,onChange:t[2]||(t[2]=p=>e(i)(e($).LAYOUT_MODE,p))},null,8,["default-value"])])]),f("div",Va,[Ba,f("div",Wa,[s(c,{modelValue:e(a).collapsed,"onUpdate:modelValue":t[3]||(t[3]=p=>e(a).collapsed=p),onChange:t[4]||(t[4]=p=>e(i)(e($).COLLAPSED,p))},null,8,["modelValue"])])]),f("div",Oa,[Ra,f("div",Ua,[s(c,{modelValue:e(a).splitMenu,"onUpdate:modelValue":t[5]||(t[5]=p=>e(a).splitMenu=p),disabled:e(y).TopMix!==e(a).layoutMode,onChange:t[6]||(t[6]=p=>e(i)(e($).SPLIT_MENU,p))},null,8,["modelValue","disabled"])])]),f("div",Fa,[Na,f("div",Za,[s(v,{modelValue:e(a).asideWidth,"onUpdate:modelValue":t[7]||(t[7]=p=>e(a).asideWidth=p),onChange:t[8]||(t[8]=p=>e(i)(e($).MENU_WIDTH,p))},null,8,["modelValue"])])]),f("div",Ya,[qa,f("div",Ga,[s(v,{modelValue:e(a).headerHeight,"onUpdate:modelValue":t[9]||(t[9]=p=>e(a).headerHeight=p),onChange:t[10]||(t[10]=p=>e(i)(e($).HEADER_HEIGHT,p))},null,8,["modelValue"])])]),f("div",ja,[Ka,f("div",Ja,[s(v,{modelValue:e(a).tabBarHeight,"onUpdate:modelValue":t[11]||(t[11]=p=>e(a).tabBarHeight=p),onChange:t[12]||(t[12]=p=>e(i)(e($).TAB_BAR_HEIGHT,p))},null,8,["modelValue"])])])])]),_:1},8,["modelValue"])}}}),Qa=B(Xa,[["__scopeId","data-v-bf391da4"]]),en={class:"basic-layout-footer__wrapper"},tn={class:"basic-layout-footer__content"},an=w({__name:"footer",setup(u){return(o,a)=>(d(),g("div",en,[f("div",tn,[D(o.$slots,"default",{},()=>[K(" Copyright 2021 - "+Y(new Date().getFullYear())+" by 青衫依旧 ",1)])])]))}}),nn={class:"basic-layout-tabs__wrapper"},ln={class:"tabs-bar-container"},on={class:"tab-scroll"},sn=["onContextmenu"],un={key:0,class:"icon"},dn={class:"tabs-bar__operate"},rn={class:"operate-btn"},cn=w({__name:"tab-page",props:{fontSize:{default:14}},setup(u){const o=N(),a=Ie(),{reload:i}=_t(),{getTabPages:n,getCurrentActivityTabPage:l}=X(a),{isAffixTab:h,addTabPage:t,goTabPage:r,removeTabPage:c,removeAllTabPage:v,removeOhterTabPages:x,removeLeftAllTabPages:p,removeRightAllTabPages:S}=a,P=Pe(),M=N(""),V=N([]),E=C=>{var L,Z;const me=C==="operate"?(L=l.value)==null?void 0:L.fullPath:M.value,oe=n.value.findIndex(O=>O.fullPath===me),R=C==="operate"?!0:((Z=l.value)==null?void 0:Z.fullPath)===M.value,ie=n.value.filter(O=>h(O)).length,se=ie===n.value.length;return[{title:"重新加载",command:"reload",onClick:i,disabled:!R,icon:"ep.refresh"},{title:"关闭其他",command:"closeOtherstabs",icon:"ep.close",onClick:()=>{x()},disabled:se||!R},{title:"关闭左侧",command:"closeLefttabs",onClick:()=>{p()},disabled:!R||oe<=ie,icon:()=>U(ee,{size:12,style:{transform:"rotate(-90deg)"}},()=>U(de))},{title:"关闭右侧",command:"closeRighttabs",onClick:S,disabled:!R||oe===n.value.length-1,icon:()=>U(ee,{size:12,style:{transform:"rotate(90deg)"}},()=>U(de))},{title:"关闭全部",command:"closeAlltabs",onClick:v,disabled:se,icon:"ep.circle-close"}]};Le(()=>{k(),he(()=>P,C=>{if(C.name===ce)return;const L=C.matched.find(Z=>Z.name===C.name);t({name:C.name,fullPath:C.fullPath,query:C.query,params:C.params,meta:(L==null?void 0:L.meta)||{}})},{deep:!0,immediate:!0})});function z(C,L){C.preventDefault(),M.value=L,o.value.show(C)}function k(){function C(){return Je.getRoutes().filter(L=>L.meta.affixTab)}V.value=[],C().forEach(L=>{t({name:L.name,fullPath:L.path,query:{},params:{},meta:L.meta}),V.value.push(L.path)})}const T=C=>{if(!C.index)return;const L=n.value[Number(C.index)];r(L)},W=C=>{const L=n.value.findIndex(Z=>Z.fullPath===C);c(L)};return(C,L)=>{var Z;const me=_("el-tab-pane"),oe=_("el-tabs"),R=_("el-dropdown-item"),ie=_("el-dropdown-menu"),se=_("el-dropdown");return d(),g("div",nn,[f("div",ln,[f("div",on,[s(oe,{"model-value":(Z=e(l))==null?void 0:Z.fullPath,type:"card",class:"tabs-content",onTabClick:T,onTabRemove:W},{default:m(()=>[(d(!0),g(G,null,ae(e(n),O=>(d(),b(me,{key:O.fullPath,name:O.fullPath,closable:!V.value.includes(O.fullPath)},{label:m(()=>[f("div",{class:"tab-item",onContextmenu:We=>z(We,O.fullPath)},[O.meta.icon?(d(),g("span",un,[s(e(q),{icon:O.meta.icon,size:C.fontSize},null,8,["icon","size"])])):I("",!0),f("span",{style:A({fontSize:`${C.fontSize}px`})},Y(O.meta.title),5)],40,sn)]),_:2},1032,["name","closable"]))),128))]),_:1},8,["model-value"])]),s(e(it),{ref_key:"contextRef",ref:o,menus:E("contextmenu"),"item-height":25,"font-size":12,style:{width:"80px","font-size":"12px"}},null,8,["menus"]),f("div",dn,[s(se,{style:{height:"100%"}},{dropdown:m(()=>[s(ie,{class:"tabs-more"},{default:m(()=>[s(R,{command:"reload",onClick:e(i)},{default:m(()=>[s(e(ee),null,{default:m(()=>[s(e(tt))]),_:1}),K(" 重新加载 ")]),_:1},8,["onClick"]),s(R,{command:"closeOtherstabs",onClick:e(x)},{default:m(()=>[s(e(ee),null,{default:m(()=>[s(e(at))]),_:1}),K(" 关闭其他 ")]),_:1},8,["onClick"]),s(R,{command:"closeLefttabs",onClick:e(p)},{default:m(()=>[s(e(ee),{style:A({transform:"rotate(-90deg)"})},{default:m(()=>[s(e(de))]),_:1},8,["style"]),K(" 关闭左侧 ")]),_:1},8,["onClick"]),s(R,{command:"closeRighttabs",onClick:e(S)},{default:m(()=>[s(e(ee),{style:A({transform:"rotate(90deg)"})},{default:m(()=>[s(e(de))]),_:1},8,["style"]),K(" 关闭右侧 ")]),_:1},8,["onClick"]),s(R,{command:"closeAlltabs",onClick:e(v)},{default:m(()=>[s(e(ee),null,{default:m(()=>[s(e(nt))]),_:1}),K(" 关闭全部 ")]),_:1},8,["onClick"])]),_:1})]),default:m(()=>[f("span",rn,[s(e(q),{icon:"ep.arrow-down",size:16})])]),_:1})])])])}}}),mn=B(cn,[["__scopeId","data-v-3d62d94e"]]),fn=u=>(ve("data-v-a8495fcd"),u=u(),ge(),u),pn={class:"basic-layout-aside__wrapper"},hn={class:"basic-layout-aside__menus"},vn={class:"trigger"},gn=fn(()=>f("div",null,null,-1)),_n=w({__name:"sidebar",props:{collapsed:{type:Boolean,default:!1}},setup(u){const o=u,{currentRoute:a}=le(),{getMenus:i}=_e(),n=J(),{layoutConfig:l}=X(n),h=H(()=>({height:`calc(100% - ${l.value.headerHeight}px  - 40px)`})),t=H(()=>{var r;const c=i();if(l.value.splitMenu&&l.value.layoutMode===y.TopMix){const v=a.value.matched;return((r=c.find(x=>x.name===v[0].name))==null?void 0:r.children)||[]}return c});return(r,c)=>{const v=_("el-scrollbar"),x=_("el-icon"),p=_("el-button");return d(),g("div",pn,[D(r.$slots,"logo",{},void 0,!0),f("div",{style:A(h.value)},[s(v,null,{default:m(()=>[f("div",hn,[s(e(ye),{collapsed:o.collapsed,menus:t.value},null,8,["collapsed","menus"])])]),_:1})],4),D(r.$slots,"trigger",{},()=>[f("div",vn,[s(p,{text:"",bg:"",onClick:c[0]||(c[0]=S=>e(n).setLayoutConfig({collapsed:!e(l).collapsed}))},{default:m(()=>[s(x,{size:14},{default:m(()=>[e(l).collapsed?(d(),b(e(lt),{key:1})):(d(),b(e(ot),{key:0}))]),_:1})]),_:1})])],!0),gn])}}}),Me=B(_n,[["__scopeId","data-v-a8495fcd"]]),yn={},bn={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",className:"iconify iconify--ri",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},xn=f("path",{fill:"currentColor",d:"M18 3v2h-1v6l2 3v2h-6v7h-2v-7H5v-2l2-3V5H6V3z"},null,-1),kn=[xn];function Cn(u,o){return d(),g("svg",bn,kn)}const Tn=B(yn,[["render",Cn]]),Mn={class:"basic-layout-mix-menu-module",style:{width:"90px"}},wn=["onClick"],Hn={class:"basic-layout-mix-menu-module__line"},Ln={class:"basic-layout-mix-menu-children__content"},Sn=w({__name:"menu",props:{menuWidth:{},headerHeight:{}},setup(u){const o=J(),{setMixMenuFixed:a,setMixMenuLayoutConfig:i}=o,{mixMenuLayoutConfig:n}=X(o),{getMenus:l}=_e(),h=Pe(),t=le(),r=N(h.name),c=N(!1),v=N([]),x=H(()=>l()),p=ze((E,z,k)=>{const T=k[0];r.value=T.name,v.value=P(),v.value.length===0&&(c.value=!1)});Se(()=>{p()}),he([c],()=>{i({showChildren:c.value})});const S=E=>{if(E.name){if(c.value=!1,r.value=E.name,v.value=P(),v.value.length===0){c.value=!1,t.push({name:E.name,query:{}});return}c.value=!0}};function P(){const E=x.value.find(T=>T.name===r.value);if(!E)return[];const{children:z=[],meta:k}=E;return k!=null&&k.hideChildrenInMenu&&z!=null&&z.length&&(z==null?void 0:z.length)<=1?[]:z}const M=()=>{const{fixedMenu:E}=e(n);E&&c.value||(c.value=!1)},V=()=>{a(!e(n).fixedMenu)};return(E,z)=>(d(),g("div",{class:"basic-layout-mix-menu",tabindex:-1,onBlur:M},[f("div",Mn,[(d(!0),g(G,null,ae(x.value,(k,T)=>{var W,C;return d(),g("div",{key:T,class:ue(["basic-layout-mix-menu-module__item",k.name===r.value?"is-active":""]),onClick:L=>S(k)},[f("div",{class:ue([k.name===r.value?"is-active":"","basic-layout-mix-menu-module__icon"])},[s(e(q),{icon:(W=k.meta)==null?void 0:W.icon,size:20},null,8,["icon"])],2),f("div",{class:ue([k.name===r.value?"is-active":"","basic-layout-mix-menu-module__label"])},Y((C=k.meta)==null?void 0:C.title),3),we(f("div",Hn,null,512),[[Fe,k.name===r.value]])],10,wn)}),128))]),f("div",{class:ue(["basic-layout-mix-menu-children",c.value?"is-show":""]),style:A({width:c.value?`${E.menuWidth}px`:"0px"})},[f("div",Ln,[f("div",{class:"basic-layout-mix-menu-children-header",style:A({height:E.headerHeight+"px"})},[f("div",{class:"basic-layout-mix-menu-children-header-icon",style:A({color:"rgba(0, 0, 0, 0.35)"}),onClick:V},[s(Tn)],4)],4),s(e(ye),{menus:v.value},null,8,["menus"])])],6)],32))}}),En=B(Sn,[["__scopeId","data-v-e887b90d"]]),In={class:"mix-sidebar basic-layout-aside__wrapper"},Pn=w({__name:"mix-sidebar",setup(u){const{layoutConfig:o}=X(J());return(a,i)=>(d(),g("div",In,[s(ne,{"show-title":!1,"logo-width":90,height:e(o).headerHeight},null,8,["height"]),s(En,{"header-height":e(o).headerHeight,"menu-width":e(o).asideWidth},null,8,["header-height","menu-width"])]))}}),zn={class:"page-container"},$n={key:0,class:"mobile-menu"},Dn={class:"basic-layout-main__wrapper"},An=w({__name:"basic-layout",setup(u){const o=Lt("BasicLayout"),{layoutConfig:a,mixMenuLayoutConfig:i}=X(J()),{isMobile:n}=Be(),l=N(!1);he(n,()=>{a.value.layoutMode&&![y.Top].includes(a.value.layoutMode)&&(l.value=n.value)},{immediate:!0});const h=()=>{l.value=!l.value},t=H(()=>({fontSize:12})),r=H(()=>{const{layoutMode:v,asideWidth:x=220,collapsed:p,headerHeight:S,tabBarHeight:P,footerHeight:M}=e(a),V=78,E=90,{fixedMenu:z,showChildren:k}=e(i),{showTagPage:T}=F.defaultLayoutSetting;return{[y.Side]:()=>{const W=n.value?0:p?V:x;return{footerHeight:M,headerHeight:S,tabHeight:T?P:0,asideWidth:W,headerPaddingLeft:W,headerZIndex:1001}},[y.TopMix]:()=>{const W=n.value?0:p?V:x;return{footerHeight:M,headerHeight:S,tabHeight:T?P:0,asideWidth:W,asidePaddingTop:S,headerZIndex:1003,headerPaddingLeft:0}},[y.Top]:()=>({footerHeight:M,tabHeight:T?P:0,asideWidth:0,headerPaddingLeft:0}),[y.SideMix]:()=>{const W=n.value?0:z&&k?E+x:E;return{footerHeight:M,headerHeight:S,tabHeight:T?P:0,asideWidth:W,headerPaddingLeft:W}}}[v||y.Side]()}),c=H(()=>{const{layoutMode:v,asideWidth:x,collapsed:p,headerHeight:S}=e(a);return{[y.Side]:()=>({height:S,width:x,showTitle:!p}),[y.SideMix]:()=>({}),[y.TopMix]:()=>({}),[y.Top]:()=>({})}[v||y.Side]()});return(v,x)=>{const p=_("el-drawer"),S=_("el-backtop"),P=Oe("watermark");return d(),g(G,null,[f("div",zn,[s(e(Ht),te(r.value,{config:{footer:e(F).defaultLayoutSetting.showFooter,header:e(F).defaultLayoutSetting.showHeader,tab:e(F).defaultLayoutSetting.showTagPage,aside:!!r.value.asideWidth,main:!0}}),{aside:m(()=>[e(n)?(d(),g("div",$n,[s(p,{modelValue:l.value,"onUpdate:modelValue":x[0]||(x[0]=M=>l.value=M),direction:"ltr","with-header":!1,size:e(a).asideWidth||250},{default:m(()=>[s(e(Me),{collapsed:e(a).collapsed},fe({_:2},[e(y).Side===e(a).layoutMode?{name:"logo",fn:m(()=>[s(e(ne),j(pe(c.value)),null,16)]),key:"0"}:void 0]),1032,["collapsed"])]),_:1},8,["modelValue","size"])])):(d(),g(G,{key:1},[e(a).layoutMode&&![e(y).Top,e(y).SideMix].includes(e(a).layoutMode)?(d(),b(e(Me),{key:0,collapsed:e(a).collapsed},fe({_:2},[e(y).Side===e(a).layoutMode?{name:"logo",fn:m(()=>[s(e(ne),j(pe(c.value)),null,16)]),key:"0"}:void 0]),1032,["collapsed"])):I("",!0),e(a).layoutMode&&[e(y).SideMix].includes(e(a).layoutMode)?(d(),b(e(Pn),{key:1})):I("",!0)],64))]),header:m(()=>[s(e(Xt),{onMobileDrawer:h},fe({_:2},[e(y).TopMix===e(a).layoutMode?{name:"logo",fn:m(()=>[s(e(ne),{width:e(a).asideWidth},null,8,["width"])]),key:"0"}:void 0]),1024)]),tabs:m(()=>[s(e(mn),j(pe(t.value)),null,16)]),footer:m(()=>[s(e(an))]),default:m(()=>[we((d(),g("div",Dn,[(d(),b(He(e(o))))])),[[P,{content:e(Ee).projectTitle}]])]),_:1},16,["config"])]),e(F).defaultLayoutSetting.showBackTop?(d(),b(S,{key:0})):I("",!0),e(F).defaultLayoutSetting.showSettingButton?(d(),b(e(Qa),{key:1})):I("",!0)],64)}}}),Un=B(An,[["__scopeId","data-v-daa4cc69"]]);export{Un as default};
