import{p as f,z as m}from"./index.mdm6ka2m.js";import{d as u,D as n,o as d,b as h,w as l,I as c,m as v,h as w,j as b,y,c as z,k as _}from"./framework.kGBdJdCt.js";import"../app.4OzQX80d.js";import"./theme.IDZC-AZR.js";function k(r,t,e){return new Promise((a,o)=>{m(r,t,{...e||{}},s=>{s&&o(s),a(r)})})}function i(r,t){const{size:e=30,crossOrigin:a}=t||{};if(t!=null&&t.src){const o=new Image;o.src=(t==null?void 0:t.src)||"",o.width=e,o.height=e,a&&o.setAttribute("crossOrigin",a||"anonymous"),o.onload=()=>{const s=r.getContext("2d"),p=(r.width-e)/2,g=(r.height-e)/2;s==null||s.drawImage(o,p,g,e,e)}}}const q={class:"qrcode"},x=u({__name:"qrcode",props:{version:{},errorLevel:{},margin:{},scale:{},text:{},type:{default:"canvas"},size:{default:160},logo:{}},setup(r){const t=w(),e=r;b(()=>{a()}),y(()=>e,()=>{a()},{deep:!0});function a(){t.value&&k(t.value,e.text,{width:e.size,version:e.version,errorCorrectionLevel:e.errorLevel,margin:e.margin,scale:e.scale}).then(o=>{e.logo&&(typeof e.logo=="string"?i(o,{src:e.logo}):i(o,e.logo))})}return(o,s)=>(d(),z("div",q,[_("canvas",{ref_key:"qrcodeRef",ref:t},null,512)]))}}),C=f(x),E=u({__name:"qrcode",setup(r){return(t,e)=>{const a=n("page-card"),o=n("page-wrapper");return d(),h(o,null,{default:l(()=>[c(a,{header:t.$route.meta.title},{default:l(()=>[c(v(C),{text:"https://qsyjlab.club/",logo:{src:"https://api.qsyjlab.club/file/uploads/cover/20220526/628edee1a79a4.jpg",size:60},size:300},null,8,["logo"])]),_:1},8,["header"])]),_:1})}}});export{E as default};
