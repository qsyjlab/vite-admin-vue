import{q as L,s as O}from"./index.CC100n1M.js";import I from"./html2canvas.esm-9trwILPj.CqhLGQXw.js";import{d as M,h as P,E,aJ as N,o as x,b as H,w as C,J as T,a as B,ak as _,c as k,m as v,F as z,G as U,t as R,q as D,s as J}from"./framework.D6RCW7MT.js";import"./theme.Dz7g7Wkx.js";var A={exports:{}};(function(w,j){(function(y,s){w.exports=s()})(window,function(){return function(y){var s={};function t(r){if(s[r])return s[r].exports;var a=s[r]={i:r,l:!1,exports:{}};return y[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=y,t.c=s,t.d=function(r,a,p){t.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:p})},t.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},t.t=function(r,a){if(a&1&&(r=t(r)),a&8||a&4&&typeof r=="object"&&r&&r.__esModule)return r;var p=Object.create(null);if(t.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:r}),a&2&&typeof r!="string")for(var i in r)t.d(p,i,(function(d){return r[d]}).bind(null,i));return p},t.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(a,"a",a),a},t.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},t.p="",t(t.s=0)}({"./src/index.js":function(y,s,t){t.r(s),t("./src/sass/index.scss");var r=t("./src/js/init.js"),a=r.default.init;typeof window<"u"&&(window.printJS=a),s.default=a},"./src/js/browser.js":function(y,s,t){t.r(s);var r={isFirefox:function(){return typeof InstallTrigger<"u"},isIE:function(){return navigator.userAgent.indexOf("MSIE")!==-1||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window;return!!a.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||navigator.userAgent.toLowerCase().indexOf("safari")!==-1},isIOSChrome:function(){return navigator.userAgent.toLowerCase().indexOf("crios")!==-1}};s.default=r},"./src/js/functions.js":function(y,s,t){t.r(s),t.d(s,"addWrapper",function(){return i}),t.d(s,"capitalizePrint",function(){return d}),t.d(s,"collectStyles",function(){return o}),t.d(s,"addHeader",function(){return u}),t.d(s,"cleanUp",function(){return f}),t.d(s,"isRawHTML",function(){return n});var r=t("./src/js/modal.js"),a=t("./src/js/browser.js");function p(l){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(c){return typeof c}:p=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},p(l)}function i(l,c){var b="font-family:"+c.font+" !important; font-size: "+c.font_size+" !important; width:100%;";return'<div style="'+b+'">'+l+"</div>"}function d(l){return l.charAt(0).toUpperCase()+l.slice(1)}function o(l,c){for(var b=document.defaultView||window,m="",h=b.getComputedStyle(l,""),g=0;g<h.length;g++)(c.targetStyles.indexOf("*")!==-1||c.targetStyle.indexOf(h[g])!==-1||e(c.targetStyles,h[g]))&&h.getPropertyValue(h[g])&&(m+=h[g]+":"+h.getPropertyValue(h[g])+";");return m+="max-width: "+c.maxWidth+"px !important; font-size: "+c.font_size+" !important;",m}function e(l,c){for(var b=0;b<l.length;b++)if(p(c)==="object"&&c.indexOf(l[b])!==-1)return!0;return!1}function u(l,c){var b=document.createElement("div");if(n(c.header))b.innerHTML=c.header;else{var m=document.createElement("h1"),h=document.createTextNode(c.header);m.appendChild(h),m.setAttribute("style",c.headerStyle),b.appendChild(m)}l.insertBefore(b,l.childNodes[0])}function f(l){l.showModal&&r.default.close(),l.onLoadingEnd&&l.onLoadingEnd(),(l.showModal||l.onLoadingStart)&&window.URL.revokeObjectURL(l.printable);var c="mouseover";(a.default.isChrome()||a.default.isFirefox())&&(c="focus");var b=function m(){window.removeEventListener(c,m),l.onPrintDialogClose();var h=document.getElementById(l.frameId);h&&h.remove()};window.addEventListener(c,b)}function n(l){var c=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return c.test(l)}},"./src/js/html.js":function(y,s,t){t.r(s);var r=t("./src/js/functions.js"),a=t("./src/js/print.js");function p(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(e){return typeof e}:p=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(o)}s.default={print:function(o,e){var u=d(o.printable)?o.printable:document.getElementById(o.printable);if(!u){window.console.error("Invalid HTML element id: "+o.printable);return}o.printableElement=i(u,o),o.header&&Object(r.addHeader)(o.printableElement,o),a.default.send(o,e)}};function i(o,e){for(var u=o.cloneNode(),f=Array.prototype.slice.call(o.childNodes),n=0;n<f.length;n++)if(e.ignoreElements.indexOf(f[n].id)===-1){var l=i(f[n],e);u.appendChild(l)}switch(e.scanStyles&&o.nodeType===1&&u.setAttribute("style",Object(r.collectStyles)(o,e)),o.tagName){case"SELECT":u.value=o.value;break;case"CANVAS":u.getContext("2d").drawImage(o,0,0);break}return u}function d(o){return p(o)==="object"&&o&&(o instanceof HTMLElement||o.nodeType===1)}},"./src/js/image.js":function(y,s,t){t.r(s);var r=t("./src/js/functions.js"),a=t("./src/js/print.js"),p=t("./src/js/browser.js");s.default={print:function(i,d){i.printable.constructor!==Array&&(i.printable=[i.printable]),i.printableElement=document.createElement("div"),i.printable.forEach(function(o){var e=document.createElement("img");if(e.setAttribute("style",i.imageStyle),e.src=o,p.default.isFirefox()){var u=e.src;e.src=u}var f=document.createElement("div");f.appendChild(e),i.printableElement.appendChild(f)}),i.header&&Object(r.addHeader)(i.printableElement,i),a.default.send(i,d)}}},"./src/js/init.js":function(y,s,t){t.r(s);var r=t("./src/js/browser.js"),a=t("./src/js/modal.js"),p=t("./src/js/pdf.js"),i=t("./src/js/html.js"),d=t("./src/js/raw-html.js"),o=t("./src/js/image.js"),e=t("./src/js/json.js");function u(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(l){return typeof l}:u=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},u(n)}var f=["pdf","html","image","json","raw-html"];s.default={init:function(){var n={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(g){throw g},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},l=arguments[0];if(l===void 0)throw new Error("printJS expects at least 1 attribute.");switch(u(l)){case"string":n.printable=encodeURI(l),n.fallbackPrintable=n.printable,n.type=arguments[1]||n.type;break;case"object":n.printable=l.printable,n.fallbackPrintable=typeof l.fallbackPrintable<"u"?l.fallbackPrintable:n.printable,n.fallbackPrintable=n.base64?"data:application/pdf;base64,".concat(n.fallbackPrintable):n.fallbackPrintable;for(var c in n)c==="printable"||c==="fallbackPrintable"||(n[c]=typeof l[c]<"u"?l[c]:n[c]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+u(l))}if(!n.printable)throw new Error("Missing printable information.");if(!n.type||typeof n.type!="string"||f.indexOf(n.type.toLowerCase())===-1)throw new Error("Invalid print type. Available types are: pdf, html, image and json.");n.showModal&&a.default.show(n),n.onLoadingStart&&n.onLoadingStart();var b=document.getElementById(n.frameId);b&&b.parentNode.removeChild(b);var m=document.createElement("iframe");switch(r.default.isFirefox()?m.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):m.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),m.setAttribute("id",n.frameId),n.type!=="pdf"&&(m.srcdoc="<html><head><title>"+n.documentTitle+"</title>",n.css&&(Array.isArray(n.css)||(n.css=[n.css]),n.css.forEach(function(g){m.srcdoc+='<link rel="stylesheet" href="'+g+'">'})),m.srcdoc+="</head><body></body></html>"),n.type){case"pdf":if(r.default.isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var h=window.open(n.fallbackPrintable,"_blank");h.focus(),n.onIncompatibleBrowser()}catch(g){n.onError(g)}finally{n.showModal&&a.default.close(),n.onLoadingEnd&&n.onLoadingEnd()}else p.default.print(n,m);break;case"image":o.default.print(n,m);break;case"html":i.default.print(n,m);break;case"raw-html":d.default.print(n,m);break;case"json":e.default.print(n,m);break}}}},"./src/js/json.js":function(y,s,t){t.r(s);var r=t("./src/js/functions.js"),a=t("./src/js/print.js");function p(d){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(o){return typeof o}:p=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},p(d)}s.default={print:function(d,o){if(p(d.printable)!=="object")throw new Error("Invalid javascript data object (JSON).");if(typeof d.repeatTableHeader!="boolean")throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!d.properties||!Array.isArray(d.properties))throw new Error("Invalid properties array for your JSON data.");d.properties=d.properties.map(function(e){return{field:p(e)==="object"?e.field:e,displayName:p(e)==="object"?e.displayName:e,columnSize:p(e)==="object"&&e.columnSize?e.columnSize+";":100/d.properties.length+"%;"}}),d.printableElement=document.createElement("div"),d.header&&Object(r.addHeader)(d.printableElement,d),d.printableElement.innerHTML+=i(d),a.default.send(d,o)}};function i(d){var o=d.printable,e=d.properties,u='<table style="border-collapse: collapse; width: 100%;">';d.repeatTableHeader&&(u+="<thead>"),u+="<tr>";for(var f=0;f<e.length;f++)u+='<th style="width:'+e[f].columnSize+";"+d.gridHeaderStyle+'">'+Object(r.capitalizePrint)(e[f].displayName)+"</th>";u+="</tr>",d.repeatTableHeader&&(u+="</thead>"),u+="<tbody>";for(var n=0;n<o.length;n++){u+="<tr>";for(var l=0;l<e.length;l++){var c=o[n],b=e[l].field.split(".");if(b.length>1)for(var m=0;m<b.length;m++)c=c[b[m]];else c=c[e[l].field];u+='<td style="width:'+e[l].columnSize+d.gridStyle+'">'+c+"</td>"}u+="</tr>"}return u+="</tbody></table>",u}},"./src/js/modal.js":function(y,s,t){t.r(s);var r={show:function(a){var p="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",i=document.createElement("div");i.setAttribute("style",p),i.setAttribute("id","printJS-Modal");var d=document.createElement("div");d.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var o=document.createElement("div");o.setAttribute("class","printClose"),o.setAttribute("id","printClose"),d.appendChild(o);var e=document.createElement("span");e.setAttribute("class","printSpinner"),d.appendChild(e);var u=document.createTextNode(a.modalMessage);d.appendChild(u),i.appendChild(d),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("printClose").addEventListener("click",function(){r.close()})},close:function(){var a=document.getElementById("printJS-Modal");a&&a.parentNode.removeChild(a)}};s.default=r},"./src/js/pdf.js":function(y,s,t){t.r(s);var r=t("./src/js/print.js"),a=t("./src/js/functions.js");s.default={print:function(i,d){if(i.base64){var o=Uint8Array.from(atob(i.printable),function(u){return u.charCodeAt(0)});p(i,d,o);return}i.printable=/^(blob|http|\/\/)/i.test(i.printable)?i.printable:window.location.origin+(i.printable.charAt(0)!=="/"?"/"+i.printable:i.printable);var e=new window.XMLHttpRequest;e.responseType="arraybuffer",e.addEventListener("error",function(){Object(a.cleanUp)(i),i.onError(e.statusText,e)}),e.addEventListener("load",function(){if([200,201].indexOf(e.status)===-1){Object(a.cleanUp)(i),i.onError(e.statusText,e);return}p(i,d,e.response)}),e.open("GET",i.printable,!0),e.send()}};function p(i,d,o){var e=new window.Blob([o],{type:"application/pdf"});e=window.URL.createObjectURL(e),d.setAttribute("src",e),r.default.send(i,d)}},"./src/js/print.js":function(y,s,t){t.r(s);var r=t("./src/js/browser.js"),a=t("./src/js/functions.js"),p={send:function(e,u){document.getElementsByTagName("body")[0].appendChild(u);var f=document.getElementById(e.frameId);f.onload=function(){if(e.type==="pdf"){r.default.isFirefox()?setTimeout(function(){return i(f,e)},1e3):i(f,e);return}var n=f.contentWindow||f.contentDocument;if(n.document&&(n=n.document),n.body.appendChild(e.printableElement),e.type!=="pdf"&&e.style){var l=document.createElement("style");l.innerHTML=e.style,n.head.appendChild(l)}var c=n.getElementsByTagName("img");c.length>0?d(Array.from(c)).then(function(){return i(f,e)}):i(f,e)}}};function i(e,u){try{if(e.focus(),r.default.isEdge()||r.default.isIE())try{e.contentWindow.document.execCommand("print",!1,null)}catch{e.contentWindow.print()}else e.contentWindow.print()}catch(f){u.onError(f)}finally{r.default.isFirefox()&&(e.style.visibility="hidden",e.style.left="-1px"),Object(a.cleanUp)(u)}}function d(e){var u=e.map(function(f){if(f.src&&f.src!==window.location.href)return o(f)});return Promise.all(u)}function o(e){return new Promise(function(u){var f=function n(){!e||typeof e.naturalWidth>"u"||e.naturalWidth===0||!e.complete?setTimeout(n,500):u()};f()})}s.default=p},"./src/js/raw-html.js":function(y,s,t){t.r(s);var r=t("./src/js/print.js");s.default={print:function(a,p){a.printableElement=document.createElement("div"),a.printableElement.setAttribute("style","width:100%"),a.printableElement.innerHTML=a.printable,r.default.send(a,p)}}},"./src/sass/index.scss":function(y,s,t){},0:function(y,s,t){y.exports=t("./src/index.js")}}).default})})(A);var F=A.exports;const W=O(F),S=w=>(D("data-v-64b62efe"),w=w(),J(),w),V=S(()=>v("td",null,"姓名",-1)),q=S(()=>v("td",null,"年龄",-1)),G=S(()=>v("td",null,"职位",-1)),Z=S(()=>v("td",null,"其他",-1)),Q=M({__name:"print",setup(w){const j=P(),y=()=>{j.value&&I(j.value).then(s=>{const t=new Image;t.src=s.toDataURL(),t.onload=()=>{W({printable:t.src,type:"image",header:"",documentTitle:"xxx表格",style:"@media print { @page {size: auto; margin: 0; } body{margin:0 5px}}"})}})};return(s,t)=>{const r=E("el-button"),a=E("page-card"),p=E("page-wrapper"),i=N("watermark");return x(),H(p,null,{default:C(()=>[T(a,{header:s.$route.meta.title},{default:C(()=>[T(r,{type:"primary",onClick:y},{default:C(()=>[B(" 打印")]),_:1}),_((x(),k("div",{ref_key:"tableRef",ref:j,style:{position:"relative"}},[v("table",null,[(x(),k(z,null,U(200,(d,o)=>v("tr",{key:o},[v("td",null,"序号列- "+R(o),1),V,q,G,Z])),64))])])),[[i,{content:"表格打印的水印",font:{color:"red"},style:{position:"fixed"}}]])]),_:1},8,["header"])]),_:1})}}}),ee=L(Q,[["__scopeId","data-v-64b62efe"]]);export{ee as default};
